---
title: aaaUse SSH kluczy z systemem Windows dla maszyn wirtualnych systemu Linux | Dokumentacja firmy Microsoft
description: "Dowiedz się, jak klucze toogenerate i używanie SSH na maszynie wirtualnej Windows komputera tooconnect tooa systemu Linux na platformie Azure."
services: virtual-machines-linux
documentationcenter: 
author: dlepow
manager: timlt
editor: 
tags: azure-service-management,azure-resource-manager
ms.assetid: 2cacda3b-7949-4036-bd5d-837e8b09a9c8
ms.service: virtual-machines-linux
ms.workload: infrastructure-services
ms.tgt_pltfrm: vm-linux
ms.devlang: na
ms.topic: article
ms.date: 03/08/2017
ms.author: danlep
ms.openlocfilehash: 6c44217332538857cc2ca2e85de4b476aa71251c
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="how-toouse-ssh-keys-with-windows-on-azure"></a><span data-ttu-id="c41d5-103">Jak klucze tooUse SSH z usługą Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="c41d5-103">How tooUse SSH keys with Windows on Azure</span></span>
> [!div class="op_single_selector"]
> * [<span data-ttu-id="c41d5-104">Windows</span><span class="sxs-lookup"><span data-stu-id="c41d5-104">Windows</span></span>](ssh-from-windows.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)
> * [<span data-ttu-id="c41d5-105">Linux/Mac</span><span class="sxs-lookup"><span data-stu-id="c41d5-105">Linux/Mac</span></span>](mac-create-ssh-keys.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)
>
>

<span data-ttu-id="c41d5-106">Po podłączeniu tooLinux maszynach wirtualnych (VM) na platformie Azure, należy użyć [kryptografii klucza publicznego](https://wikipedia.org/wiki/Public-key_cryptography) tooprovide bezpieczniejsze toolog sposób w tooyour maszyny Wirtualnej systemu Linux.</span><span class="sxs-lookup"><span data-stu-id="c41d5-106">When you connect tooLinux virtual machines (VMs) in Azure, you should use [public-key cryptography](https://wikipedia.org/wiki/Public-key_cryptography) tooprovide a more secure way toolog in tooyour Linux VM.</span></span> <span data-ttu-id="c41d5-107">Ten proces obejmuje wymianę kluczy publicznych i prywatnych przy użyciu hello bezpiecznej powłoki (SSH) polecenia tooauthenticate samodzielnie zamiast nazwy użytkownika i hasła.</span><span class="sxs-lookup"><span data-stu-id="c41d5-107">This process involves a public and private key exchange using hello secure shell (SSH) command tooauthenticate yourself rather than a username and password.</span></span> <span data-ttu-id="c41d5-108">Hasła są narażone toobrute-siłową, szczególnie w przypadku maszyn wirtualnych połączonych z Internetem, takich jak serwery sieci web.</span><span class="sxs-lookup"><span data-stu-id="c41d5-108">Passwords are vulnerable toobrute-force attacks, especially on Internet-facing VMs such as web servers.</span></span> <span data-ttu-id="c41d5-109">Ten artykuł zawiera omówienie kluczy SSH i jak toogenerate hello odpowiednich kluczy na komputerze z systemem Windows.</span><span class="sxs-lookup"><span data-stu-id="c41d5-109">This article provides an overview of SSH keys and how toogenerate hello appropriate keys on a Windows computer.</span></span>

## <a name="overview-of-ssh-and-keys"></a><span data-ttu-id="c41d5-110">Omówienie protokołu SSH oraz kluczy</span><span class="sxs-lookup"><span data-stu-id="c41d5-110">Overview of SSH and keys</span></span>
<span data-ttu-id="c41d5-111">Możesz bezpiecznie zalogować tooyour maszyny Wirtualnej systemu Linux przy użyciu kluczy publicznych i prywatnych:</span><span class="sxs-lookup"><span data-stu-id="c41d5-111">You can securely log in tooyour Linux VM by using public and private keys:</span></span>

* <span data-ttu-id="c41d5-112">Witaj **klucz publiczny** znajduje się w sieci maszyny Wirtualnej systemu Linux lub innych usług, że chcesz toouse kryptografii klucza publicznego.</span><span class="sxs-lookup"><span data-stu-id="c41d5-112">hello **public key** is placed on your Linux VM, or any other service that you wish toouse with public-key cryptography.</span></span>
* <span data-ttu-id="c41d5-113">Witaj **klucza prywatnego** jest wykonywanych obecny tooyour maszyny Wirtualnej systemu Linux podczas logowania, tooverify Twoją tożsamość.</span><span class="sxs-lookup"><span data-stu-id="c41d5-113">hello **private key** is what you present tooyour Linux VM when you log in, tooverify your identity.</span></span> <span data-ttu-id="c41d5-114">Klucz prywatny należy chronić.</span><span class="sxs-lookup"><span data-stu-id="c41d5-114">Protect this private key.</span></span> <span data-ttu-id="c41d5-115">Nie należy go udostępniać.</span><span class="sxs-lookup"><span data-stu-id="c41d5-115">Do not share it.</span></span>

<span data-ttu-id="c41d5-116">Te klucze publiczne i prywatne mogą być używane na wiele maszyn wirtualnych i usług.</span><span class="sxs-lookup"><span data-stu-id="c41d5-116">These public and private keys can be used on multiple VMs and services.</span></span> <span data-ttu-id="c41d5-117">Nie trzeba pary kluczy dla każdej maszyny Wirtualnej lub usługi, które chcesz tooaccess.</span><span class="sxs-lookup"><span data-stu-id="c41d5-117">You do not need a pair of keys for each VM or service you wish tooaccess.</span></span> <span data-ttu-id="c41d5-118">Aby uzyskać bardziej szczegółowe informacje, zobacz [kryptografii klucza publicznego](https://wikipedia.org/wiki/Public-key_cryptography).</span><span class="sxs-lookup"><span data-stu-id="c41d5-118">For a more detailed overview, see [public-key cryptography](https://wikipedia.org/wiki/Public-key_cryptography).</span></span>

<span data-ttu-id="c41d5-119">SSH jest protokołem zaszyfrowanego połączenia, który umożliwia bezpiecznego logowania za pośrednictwem niezabezpieczonego połączenia.</span><span class="sxs-lookup"><span data-stu-id="c41d5-119">SSH is an encrypted connection protocol that allows secure logins over unsecured connections.</span></span> <span data-ttu-id="c41d5-120">Jest hello domyślnego połączenia protokołu dla maszyn wirtualnych systemu Linux hostowanych w systemie Azure.</span><span class="sxs-lookup"><span data-stu-id="c41d5-120">It is hello default connection protocol for Linux VMs hosted in Azure.</span></span> <span data-ttu-id="c41d5-121">SSH sam zapewnia połączenie szyfrowane, jednak nadal za pomocą hasła przy użyciu połączeń SSH pozostawia hello wirtualna narażone toobrute-force ataków lub zgadywania haseł.</span><span class="sxs-lookup"><span data-stu-id="c41d5-121">Although SSH itself provides an encrypted connection, using passwords with SSH connections still leaves hello VM vulnerable toobrute-force attacks or guessing of passwords.</span></span> <span data-ttu-id="c41d5-122">Większe bezpieczeństwo i preferowaną metody tooa łączącego maszyny Wirtualnej przy użyciu protokołu SSH jest przy użyciu tych kluczy publicznych i prywatnych, znanej także jako kluczy SSH.</span><span class="sxs-lookup"><span data-stu-id="c41d5-122">A more secure and preferred method of connecting tooa VM using SSH is by using these public and private keys, also known as SSH keys.</span></span>

<span data-ttu-id="c41d5-123">Jeśli nie chcesz, aby toouse kluczy SSH, nadal można rejestrować w tooyour maszyn wirtualnych systemu Linux przy użyciu hasła.</span><span class="sxs-lookup"><span data-stu-id="c41d5-123">If you do not wish toouse SSH keys, you can still log in tooyour Linux VMs using a password.</span></span> <span data-ttu-id="c41d5-124">Jeśli maszyna wirtualna nie jest narażonych toohello Internetu, przy użyciu hasła może być wystarczające.</span><span class="sxs-lookup"><span data-stu-id="c41d5-124">If your VM is not exposed toohello Internet, using passwords may be sufficient.</span></span> <span data-ttu-id="c41d5-125">Można jednak nadal konieczne toomanage hasła dla każdej maszyny Wirtualnej systemu Linux i obsługa zasad haseł w dobrej kondycji i rozwiązań, takich jak minimalna długość hasła i ich regularne aktualizowanie.</span><span class="sxs-lookup"><span data-stu-id="c41d5-125">However, you still need toomanage your passwords for each Linux VM and maintain healthy password policies and practices, such as minimum password length and regularly updating them.</span></span> <span data-ttu-id="c41d5-126">używanie kluczy SSH Hello zmniejsza się złożoność hello zarządzania poszczególnych poświadczeń między wieloma maszynami wirtualnymi.</span><span class="sxs-lookup"><span data-stu-id="c41d5-126">hello use of SSH keys reduces hello complexity of managing individual credentials across multiple VMs.</span></span>

## <a name="windows-packages-and-ssh-clients"></a><span data-ttu-id="c41d5-127">Pakiety systemu Windows i klientów SSH</span><span class="sxs-lookup"><span data-stu-id="c41d5-127">Windows packages and SSH clients</span></span>
<span data-ttu-id="c41d5-128">Połącz tooand zarządzać maszyn wirtualnych systemu Linux w programie Azure przy użyciu **klienta SSH**.</span><span class="sxs-lookup"><span data-stu-id="c41d5-128">You connect tooand manage Linux VMs in Azure using an **SSH client**.</span></span> <span data-ttu-id="c41d5-129">Komputery z systemem Windows nie zazwyczaj jest zainstalowany klient SSH.</span><span class="sxs-lookup"><span data-stu-id="c41d5-129">Windows computers do not typically have an SSH client installed.</span></span> <span data-ttu-id="c41d5-130">Hello systemu Windows 10 Anniversary aktualizacji dodawania Bash dla systemu Windows oraz hello najnowszą aktualizację twórców 10 systemu Windows zapewnia dodatkowe aktualizacje.</span><span class="sxs-lookup"><span data-stu-id="c41d5-130">hello Windows 10 Anniversary Update added Bash for Windows, and hello latest Windows 10 Creators Update provides additional updates.</span></span> <span data-ttu-id="c41d5-131">Podsystem ten systemu Windows dla systemu Linux pozwala toorun i dostęp do narzędzi takich jak klient SSH natywnie w powłoki Bash.</span><span class="sxs-lookup"><span data-stu-id="c41d5-131">This Windows Subsystem for Linux allows you toorun and access utilities such as an SSH client natively within a Bash shell.</span></span> <span data-ttu-id="c41d5-132">Można następnie wykonasz którąkolwiek z hello Linux docs, takich jak [parowaniem toogenerate klucza SSH dla systemu Linux](mac-create-ssh-keys.md).</span><span class="sxs-lookup"><span data-stu-id="c41d5-132">You can then follow any of hello Linux docs, such as [How toogenerate SSH key pairs for Linux](mac-create-ssh-keys.md).</span></span> <span data-ttu-id="c41d5-133">Bash systemu Windows jest nadal w fazie projektowania i jest uznawany za wydania beta.</span><span class="sxs-lookup"><span data-stu-id="c41d5-133">Bash for Windows is still under development, and is considered a beta release.</span></span> <span data-ttu-id="c41d5-134">Aby uzyskać więcej informacji na temat Bash systemu Windows, zobacz [Bash na Ubuntu w systemie Windows](https://msdn.microsoft.com/commandline/wsl/about).</span><span class="sxs-lookup"><span data-stu-id="c41d5-134">For more information about Bash for Windows, see [Bash on Ubuntu on Windows](https://msdn.microsoft.com/commandline/wsl/about).</span></span>

<span data-ttu-id="c41d5-135">W razie potrzeby toouse coś innego niż Bash dla systemu Windows, typowe Windows SSH klienci które można zainstalować znajdują się w następujących pakietów hello:</span><span class="sxs-lookup"><span data-stu-id="c41d5-135">If you wish toouse something other than Bash for Windows, common Windows SSH clients you can install are included in hello following packages:</span></span>

* [<span data-ttu-id="c41d5-136">Git dla systemu Windows</span><span class="sxs-lookup"><span data-stu-id="c41d5-136">Git For Windows</span></span>](https://git-for-windows.github.io/)
* [<span data-ttu-id="c41d5-137">programu puTTY</span><span class="sxs-lookup"><span data-stu-id="c41d5-137">puTTY</span></span>](http://www.chiark.greenend.org.uk/~sgtatham/putty/)
* [<span data-ttu-id="c41d5-138">MobaXterm</span><span class="sxs-lookup"><span data-stu-id="c41d5-138">MobaXterm</span></span>](http://mobaxterm.mobatek.net/)
* [<span data-ttu-id="c41d5-139">Programów Cygwin</span><span class="sxs-lookup"><span data-stu-id="c41d5-139">Cygwin</span></span>](https://cygwin.com/)


## <a name="which-key-files-do-you-need-toocreate"></a><span data-ttu-id="c41d5-140">Które klucza pliki potrzebujesz toocreate?</span><span class="sxs-lookup"><span data-stu-id="c41d5-140">Which key files do you need toocreate?</span></span>
<span data-ttu-id="c41d5-141">Platforma Azure wymaga co najmniej 2048-bitowego, **ssh-rsa** sformatowany klucze publiczne i prywatne.</span><span class="sxs-lookup"><span data-stu-id="c41d5-141">Azure requires at least 2048-bit, **ssh-rsa** formatted public and private keys.</span></span> <span data-ttu-id="c41d5-142">Jeśli zarządzasz zasobów platformy Azure przy użyciu klasycznego modelu wdrożenia hello, należy również toogenerate PEM (`.pem` pliku).</span><span class="sxs-lookup"><span data-stu-id="c41d5-142">If you are managing Azure resources using hello Classic deployment model, you also need toogenerate a PEM (`.pem` file).</span></span>

<span data-ttu-id="c41d5-143">Poniżej przedstawiono scenariusze wdrażania hello i hello typów plików, których można używać w każdym:</span><span class="sxs-lookup"><span data-stu-id="c41d5-143">Here are hello deployment scenarios, and hello types of files you use in each:</span></span>

1. <span data-ttu-id="c41d5-144">**SSH-rsa** klucze są wymagane dla każdego wdrożenia przy użyciu hello [portalu Azure](https://portal.azure.com)i wdrożenia usługi Resource Manager przy użyciu hello [interfejsu wiersza polecenia Azure](../../cli-install-nodejs.md).</span><span class="sxs-lookup"><span data-stu-id="c41d5-144">**ssh-rsa** keys are required for any deployment using hello [Azure portal](https://portal.azure.com), and Resource Manager deployments using hello [Azure CLI](../../cli-install-nodejs.md).</span></span>
   * <span data-ttu-id="c41d5-145">Klucze te są zazwyczaj potrzebne wszystkie większości użytkowników.</span><span class="sxs-lookup"><span data-stu-id="c41d5-145">These keys are usually all most people need.</span></span>
2. <span data-ttu-id="c41d5-146">A `.pem` pliku jest wymagana toocreate maszyn wirtualnych przy użyciu wdrożenia klasycznego hello.</span><span class="sxs-lookup"><span data-stu-id="c41d5-146">A `.pem` file is required toocreate VMs using hello Classic deployment.</span></span> <span data-ttu-id="c41d5-147">Klucze te mogą wykorzystywać w przypadku wdrożeń Classic hello [portalu Azure](https://portal.azure.com) lub [interfejsu wiersza polecenia Azure](../../cli-install-nodejs.md).</span><span class="sxs-lookup"><span data-stu-id="c41d5-147">These keys are supported in Classic deployments when using hello [Azure portal](https://portal.azure.com) or [Azure CLI](../../cli-install-nodejs.md).</span></span>
   * <span data-ttu-id="c41d5-148">Wystarczy toocreate tych dodatkowych kluczy i certyfikatów zarządzania zasoby utworzone za pomocą hello klasycznego modelu wdrożenia.</span><span class="sxs-lookup"><span data-stu-id="c41d5-148">You only need toocreate these additional keys and certificates if you are managing resources created using hello Classic deployment model.</span></span>

## <a name="install-git-for-windows"></a><span data-ttu-id="c41d5-149">Zainstaluj usługę Git dla systemu Windows</span><span class="sxs-lookup"><span data-stu-id="c41d5-149">Install Git for Windows</span></span>
<span data-ttu-id="c41d5-150">Witaj poprzedniej sekcji wymienionych kilka pakietów, które zawierają hello `openssl` narzędzia dla systemu Windows.</span><span class="sxs-lookup"><span data-stu-id="c41d5-150">hello preceding section listed several packages that include hello `openssl` tool for Windows.</span></span> <span data-ttu-id="c41d5-151">To narzędzie jest toocreate wymagane klucze publiczne i prywatne.</span><span class="sxs-lookup"><span data-stu-id="c41d5-151">This tool is needed toocreate public and private keys.</span></span> <span data-ttu-id="c41d5-152">Witaj, jak następujące przykłady szczegółów tooinstall i użyj **Git dla systemu Windows**, ale można wybrać niezależnie od tego pakietu preferowane.</span><span class="sxs-lookup"><span data-stu-id="c41d5-152">hello following examples detail how tooinstall and use **Git for Windows**, though you can choose whichever package you prefer.</span></span> <span data-ttu-id="c41d5-153">**Git dla systemu Windows** zapewnia dostęp toosome dodatkowe oprogramowanie open source ([OSS](https://en.wikipedia.org/wiki/Open-source_software)) narzędzi, które mogą być przydatne podczas pracy z maszyn wirtualnych systemu Linux.</span><span class="sxs-lookup"><span data-stu-id="c41d5-153">**Git for Windows** gives you access toosome additional open-source software ([OSS](https://en.wikipedia.org/wiki/Open-source_software)) tools and utilities that may be useful as you work with Linux VMs.</span></span>

1. <span data-ttu-id="c41d5-154">Pobierz i zainstaluj **Git dla systemu Windows** z następującej lokalizacji hello: [https://git-for-windows.github.io/](https://git-for-windows.github.io/).</span><span class="sxs-lookup"><span data-stu-id="c41d5-154">Download and install **Git for Windows** from hello following location: [https://git-for-windows.github.io/](https://git-for-windows.github.io/).</span></span>
2. <span data-ttu-id="c41d5-155">Zaakceptuj opcje domyślne hello podczas hello procesu instalacji, chyba że jest wymagana toochange je.</span><span class="sxs-lookup"><span data-stu-id="c41d5-155">Accept hello default options during hello install process unless you specifically need toochange them.</span></span>
3. <span data-ttu-id="c41d5-156">Uruchom **Git Bash** z hello **Start Menu** > **Git** > **Git Bash**.</span><span class="sxs-lookup"><span data-stu-id="c41d5-156">Run **Git Bash** from hello **Start Menu** > **Git** > **Git Bash**.</span></span> <span data-ttu-id="c41d5-157">konsoli Hello wygląda podobnie toohello poniższy przykład:</span><span class="sxs-lookup"><span data-stu-id="c41d5-157">hello console looks similar toohello following example:</span></span>

    ![Git dla Bash systemu Windows shell](./media/ssh-from-windows/git-bash-window.png)

## <a name="create-a-private-key"></a><span data-ttu-id="c41d5-159">Utwórz klucz prywatny</span><span class="sxs-lookup"><span data-stu-id="c41d5-159">Create a private key</span></span>
1. <span data-ttu-id="c41d5-160">W Twojej **Git Bash** okna, użyj `openssl.exe` toocreate klucza prywatnego.</span><span class="sxs-lookup"><span data-stu-id="c41d5-160">In your **Git Bash** window, use `openssl.exe` toocreate a private key.</span></span> <span data-ttu-id="c41d5-161">Witaj poniższym przykładzie jest tworzony klucz o nazwie `myPrivateKey` i certyfikat o nazwie `myCert.pem`:</span><span class="sxs-lookup"><span data-stu-id="c41d5-161">hello following example creates a key named `myPrivateKey` and certificate named `myCert.pem`:</span></span>

    ```bash
    openssl.exe req -x509 -nodes -days 365 -newkey rsa:2048 \
        -keyout myPrivateKey.key -out myCert.pem
    ```

    <span data-ttu-id="c41d5-162">Witaj dane wyjściowe wyglądają toohello podobnie poniższy przykład:</span><span class="sxs-lookup"><span data-stu-id="c41d5-162">hello output looks similar toohello following example:</span></span>

    ```bash
    Generating a 2048 bit RSA private key
    .......................................+++
    .......................+++
    writing new private key too'myPrivateKey.key'
    -----
    You are about toobe asked tooenter information that will be incorporated
    into your certificate request.
    What you are about tooenter is what is called a Distinguished Name or a DN.
    There are quite a few fields but you can leave some blank
    For some fields there will be a default value,
    If you enter '.', hello field will be left blank.
    -----
    Country Name (2 letter code) [AU]:
    ```

   <span data-ttu-id="c41d5-163">Jeśli bash zgłasza błąd, spróbuj otworzyć nowy **Git Bash** okno z podwyższonym poziomem uprawnień.</span><span class="sxs-lookup"><span data-stu-id="c41d5-163">If bash reports an error, try opening a new **Git Bash** window with elevated privileges.</span></span> <span data-ttu-id="c41d5-164">Następnie uruchom ponownie hello `openssl` polecenia.</span><span class="sxs-lookup"><span data-stu-id="c41d5-164">Then, rerun hello `openssl` command.</span></span>

2. <span data-ttu-id="c41d5-165">Witaj odpowiedzi monituje o podanie nazwy kraju, lokalizację, nazwę organizacji, itp.</span><span class="sxs-lookup"><span data-stu-id="c41d5-165">Answer hello prompts for country name, location, organization name, etc.</span></span>
3. <span data-ttu-id="c41d5-166">Twoje nowy klucz prywatny i certyfikat są tworzone w bieżącym katalogu roboczym.</span><span class="sxs-lookup"><span data-stu-id="c41d5-166">Your new private key and certificate are created in your current working directory.</span></span> <span data-ttu-id="c41d5-167">Ze względów bezpieczeństwa należy ustawić uprawnienia hello na klucz prywatny, aby tylko można do niego dostęp:</span><span class="sxs-lookup"><span data-stu-id="c41d5-167">As a security measure, you should set hello permissions on your private key so that only you can access it:</span></span>

    ```bash
    chmod 0600 myPrivateKey.key
    ```

4. <span data-ttu-id="c41d5-168">Witaj [następnej sekcji](#create-a-private-key-for-putty) szczegółów przy użyciu PuTTYgen tooboth wyświetlanie i Użyj klucza publicznego hello i tworzenie klucza prywatnego określone dla przy użyciu programu PuTTY tooSSH tooLinux maszyn wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="c41d5-168">hello [next section](#create-a-private-key-for-putty) details using PuTTYgen tooboth view and use hello public key, and create a private key specific for using PuTTY tooSSH tooLinux VMs.</span></span> <span data-ttu-id="c41d5-169">Witaj następujące polecenie generuje plik klucza publicznego o nazwie `myPublicKey.key` od razu pomocne:</span><span class="sxs-lookup"><span data-stu-id="c41d5-169">hello following command generates a public key file named `myPublicKey.key` that you can use right away:</span></span>

    ```bash
    openssl.exe rsa -pubout -in myPrivateKey.key -out myPublicKey.key
    ```

5. <span data-ttu-id="c41d5-170">Również toomanage Classic zasobów, należy przekonwertować hello `myCert.pem` zbyt`myCert.cer` (algorytmem DER X509 certyfikatu).</span><span class="sxs-lookup"><span data-stu-id="c41d5-170">If you also need toomanage Classic resources, convert hello `myCert.pem` too`myCert.cer` (DER encoded X509 certificate).</span></span> <span data-ttu-id="c41d5-171">Wykonaj ten krok opcjonalny, tylko wtedy, gdy potrzebujesz toospecifically zarządzanie zasobami Classic starszej.</span><span class="sxs-lookup"><span data-stu-id="c41d5-171">Perform this optional step only if you need toospecifically manage older Classic resources.</span></span>

    <span data-ttu-id="c41d5-172">Konwertuj hello certyfikatu przy użyciu hello następujące polecenie:</span><span class="sxs-lookup"><span data-stu-id="c41d5-172">Convert hello certificate using hello following command:</span></span>

    ```bash
    openssl.exe  x509 -outform der -in myCert.pem -out myCert.cer
    ```

## <a name="create-a-private-key-for-putty"></a><span data-ttu-id="c41d5-173">Utwórz klucz prywatny dla programu PuTTY</span><span class="sxs-lookup"><span data-stu-id="c41d5-173">Create a private key for PuTTY</span></span>
<span data-ttu-id="c41d5-174">PuTTY jest typowe klient SSH dla systemu Windows.</span><span class="sxs-lookup"><span data-stu-id="c41d5-174">PuTTY is a common SSH client for Windows.</span></span> <span data-ttu-id="c41d5-175">Możesz są wolne toouse klienta SSH, który chcesz.</span><span class="sxs-lookup"><span data-stu-id="c41d5-175">You are free toouse any SSH client that you wish.</span></span> <span data-ttu-id="c41d5-176">toouse PuTTY należy toocreate dodatkowy typ klucza - prywatnego klucza PuTTY (PPK).</span><span class="sxs-lookup"><span data-stu-id="c41d5-176">toouse PuTTY, you need toocreate an additional type of key - a PuTTY Private Key (PPK).</span></span> <span data-ttu-id="c41d5-177">Jeśli nie chcesz, aby toouse programu PuTTY, Pomiń tę sekcję.</span><span class="sxs-lookup"><span data-stu-id="c41d5-177">If you do not wish toouse PuTTY, skip this section.</span></span>

<span data-ttu-id="c41d5-178">Witaj poniższy przykład tworzy dodatkowe klucz prywatny specjalnie z myślą o PuTTY toouse:</span><span class="sxs-lookup"><span data-stu-id="c41d5-178">hello following example creates this additional private key specifically for PuTTY toouse:</span></span>

1. <span data-ttu-id="c41d5-179">Użyj **Git Bash** tooconvert Twojego prywatnego klucza do prywatnego klucza RSA zrozumiałe PuTTYgen.</span><span class="sxs-lookup"><span data-stu-id="c41d5-179">Use **Git Bash** tooconvert your private key into an RSA private key that PuTTYgen can understand.</span></span> <span data-ttu-id="c41d5-180">Witaj poniższym przykładzie jest tworzony klucz o nazwie `myPrivateKey_rsa` z hello istniejący klucz o nazwie `myPrivateKey`:</span><span class="sxs-lookup"><span data-stu-id="c41d5-180">hello following example creates a key named `myPrivateKey_rsa` from hello existing key named `myPrivateKey`:</span></span>

    ```bash
    openssl rsa -in ./myPrivateKey.key -out myPrivateKey_rsa
    ```

    <span data-ttu-id="c41d5-181">Ze względów bezpieczeństwa należy ustawić uprawnienia hello na klucz prywatny, aby tylko można do niego dostęp:</span><span class="sxs-lookup"><span data-stu-id="c41d5-181">As a security measure, you should set hello permissions on your private key so that only you can access it:</span></span>

    ```bash
    chmod 0600 myPrivateKey_rsa
    ```
2. <span data-ttu-id="c41d5-182">Pobierz i uruchom PuTTYgen z następującej lokalizacji hello: [http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html](http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html)</span><span class="sxs-lookup"><span data-stu-id="c41d5-182">Download and run PuTTYgen from hello following location: [http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html](http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html)</span></span>
3. <span data-ttu-id="c41d5-183">Kliknij hello menu: **pliku** > **klucza prywatnego obciążenia**</span><span class="sxs-lookup"><span data-stu-id="c41d5-183">Click hello menu: **File** > **Load Private Key**</span></span>
4. <span data-ttu-id="c41d5-184">Zlokalizuj klucz prywatny (`myPrivateKey_rsa` hello poprzedniego przykładu).</span><span class="sxs-lookup"><span data-stu-id="c41d5-184">Locate your private key (`myPrivateKey_rsa` in hello previous example).</span></span> <span data-ttu-id="c41d5-185">Witaj domyślnego katalogu podczas uruchamiania **Git Bash** jest `C:\Users\%username%`.</span><span class="sxs-lookup"><span data-stu-id="c41d5-185">hello default directory when you start **Git Bash** is `C:\Users\%username%`.</span></span> <span data-ttu-id="c41d5-186">Zmień hello pliku filtru tooshow **wszystkie pliki (\*.\*)** :</span><span class="sxs-lookup"><span data-stu-id="c41d5-186">Change hello file filter tooshow **All Files (\*.\*)**:</span></span>

    ![Ładowanie hello istniejącego klucza prywatnego do PuTTYgen](./media/ssh-from-windows/load-private-key.png)
5. <span data-ttu-id="c41d5-188">Kliknij przycisk **Otwórz**.</span><span class="sxs-lookup"><span data-stu-id="c41d5-188">Click **Open**.</span></span> <span data-ttu-id="c41d5-189">Wiersz wskazuje, że ten klucz hello został pomyślnie zaimportowany:</span><span class="sxs-lookup"><span data-stu-id="c41d5-189">A prompt indicates that hello key has been successfully imported:</span></span>

    ![Pomyślnie zaimportowano klucza tooPuTTYgen](./media/ssh-from-windows/successfully-imported-key.png)
6. <span data-ttu-id="c41d5-191">Kliknij przycisk **OK** tooclose hello wiersza.</span><span class="sxs-lookup"><span data-stu-id="c41d5-191">Click **OK** tooclose hello prompt.</span></span>
7. <span data-ttu-id="c41d5-192">klucz publiczny Hello jest wyświetlany u góry hello hello **PuTTYgen** okna.</span><span class="sxs-lookup"><span data-stu-id="c41d5-192">hello public key is displayed at hello top of hello **PuTTYgen** window.</span></span> <span data-ttu-id="c41d5-193">Skopiuj i wklej ten klucz publiczny do hello portalu Azure lub usługi Azure Resource Manager szablonu podczas tworzenia maszyny Wirtualnej systemu Linux.</span><span class="sxs-lookup"><span data-stu-id="c41d5-193">You copy and paste this public key into hello Azure portal or Azure Resource Manager template when you create a Linux VM.</span></span> <span data-ttu-id="c41d5-194">Możesz również kliknąć **Zapisz klucz publiczny** toosave komputera tooyour kopiowania:</span><span class="sxs-lookup"><span data-stu-id="c41d5-194">You can also click **Save public key** toosave a copy tooyour computer:</span></span>

    ![Zapisz PuTTY pliku klucza publicznego](./media/ssh-from-windows/save-public-key.png)

    <span data-ttu-id="c41d5-196">Witaj poniższy przykład przedstawia sposób czy skopiuj i wklej ten klucz publiczny do hello portalu Azure, podczas tworzenia maszyny Wirtualnej systemu Linux.</span><span class="sxs-lookup"><span data-stu-id="c41d5-196">hello following example shows how you would copy and paste this public key into hello Azure portal when you create a Linux VM.</span></span> <span data-ttu-id="c41d5-197">klucz publiczny Hello następnie jest zwykle przechowywany w `~/.ssh/authorized_keys` na nowej maszynie Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="c41d5-197">hello public key is typically then stored in `~/.ssh/authorized_keys` on your new VM.</span></span>

    ![Klucz publiczny używany podczas tworzenia maszyny Wirtualnej w portalu Azure hello](./media/ssh-from-windows/use-public-key-azure-portal.png)
8. <span data-ttu-id="c41d5-199">W **PuTTYgen**, kliknij przycisk **zapisać klucz prywatny**:</span><span class="sxs-lookup"><span data-stu-id="c41d5-199">Back in **PuTTYgen**, Click **Save private Key**:</span></span>

    ![Zapisz plik klucza prywatnego PuTTY](./media/ssh-from-windows/save-ppk-file.png)

   > [!WARNING]
   > <span data-ttu-id="c41d5-201">Monit z pytaniem, jeśli chcesz toocontinue bez wprowadzania hasła dla klucza.</span><span class="sxs-lookup"><span data-stu-id="c41d5-201">A prompt asks if you wish toocontinue without entering a passphrase for your key.</span></span> <span data-ttu-id="c41d5-202">Hasło jest takie jak hasło klucza prywatnego tooyour dołączone.</span><span class="sxs-lookup"><span data-stu-id="c41d5-202">A passphrase is like a password attached tooyour private key.</span></span> <span data-ttu-id="c41d5-203">Nawet wtedy, gdy ktoś zostały tooobtain klucz prywatny one nadal nie będzie możliwe tooauthenticate przy użyciu tylko hello klucza.</span><span class="sxs-lookup"><span data-stu-id="c41d5-203">Even if someone were tooobtain your private key, they still would not be able tooauthenticate using just hello key.</span></span> <span data-ttu-id="c41d5-204">Czy muszą hello hasło.</span><span class="sxs-lookup"><span data-stu-id="c41d5-204">They would also need hello passphrase.</span></span> <span data-ttu-id="c41d5-205">Bez hasła Jeśli ktoś uzyskuje klucz prywatny one można zalogować się w tooany maszyny Wirtualnej lub usługi użyje tego klucza.</span><span class="sxs-lookup"><span data-stu-id="c41d5-205">Without a passphrase, if someone obtains your private key, they can log in tooany VM or service that uses that key.</span></span> <span data-ttu-id="c41d5-206">Zaleca się Utwórz hasło.</span><span class="sxs-lookup"><span data-stu-id="c41d5-206">We recommend you create a passphrase.</span></span> <span data-ttu-id="c41d5-207">Jednak Jeśli zapomnisz hasło hello, nie ma żadnych toorecover sposób go.</span><span class="sxs-lookup"><span data-stu-id="c41d5-207">However, if you forget hello passphrase, there is no way toorecover it.</span></span>
   >
   >

    <span data-ttu-id="c41d5-208">Tooenter hasło, kliknij przycisk **nr**, wprowadź hasło w oknie głównym PuTTYgen hello, a następnie kliknij przycisk **Zapisz klucz prywatny** ponownie.</span><span class="sxs-lookup"><span data-stu-id="c41d5-208">If you wish tooenter a passphrase, click **No**, enter a passphrase in hello main PuTTYgen window, and then click **Save private key** again.</span></span> <span data-ttu-id="c41d5-209">W przeciwnym razie kliknij przycisk **tak** toocontinue bez podawania hello opcjonalne hasło.</span><span class="sxs-lookup"><span data-stu-id="c41d5-209">Otherwise, click **Yes** toocontinue without providing hello optional passphrase.</span></span>
9. <span data-ttu-id="c41d5-210">Wprowadź plik PPK toosave nazwy i lokalizacji.</span><span class="sxs-lookup"><span data-stu-id="c41d5-210">Enter a name and location toosave your PPK file.</span></span>

## <a name="use-putty-toossh-tooa-linux-machine"></a><span data-ttu-id="c41d5-211">Użyj programu Putty tooSSH tooa maszyny systemu Linux</span><span class="sxs-lookup"><span data-stu-id="c41d5-211">Use Putty tooSSH tooa Linux Machine</span></span>
<span data-ttu-id="c41d5-212">Ponownie PuTTY jest typowe klient SSH dla systemu Windows.</span><span class="sxs-lookup"><span data-stu-id="c41d5-212">Again, PuTTY is a common SSH client for Windows.</span></span> <span data-ttu-id="c41d5-213">Możesz są wolne toouse klienta SSH, który chcesz.</span><span class="sxs-lookup"><span data-stu-id="c41d5-213">You are free toouse any SSH client that you wish.</span></span> <span data-ttu-id="c41d5-214">Witaj, jak następujące kroki, szczegóły toouse Twojego prywatnego klucza tooauthenticate z maszyny Wirtualnej platformy Azure przy użyciu protokołu SSH.</span><span class="sxs-lookup"><span data-stu-id="c41d5-214">hello following steps detail how toouse your private key tooauthenticate with your Azure VM using SSH.</span></span> <span data-ttu-id="c41d5-215">Witaj kroki są podobne w innym klientom klucza SSH pod względem konieczności tooload Twojego hello tooauthenticate klucza prywatnego połączenia SSH.</span><span class="sxs-lookup"><span data-stu-id="c41d5-215">hello steps are similar in other SSH key clients in terms of needing tooload your private key tooauthenticate hello SSH connection.</span></span>

1. <span data-ttu-id="c41d5-216">Pobierz i uruchom program putty z hello następujących lokalizacji: [http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html](http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html)</span><span class="sxs-lookup"><span data-stu-id="c41d5-216">Download and run putty from hello following location: [http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html](http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html)</span></span>
2. <span data-ttu-id="c41d5-217">Wypełnij hello nazwę hosta lub adres IP maszyny Wirtualnej z hello portalu Azure:</span><span class="sxs-lookup"><span data-stu-id="c41d5-217">Fill in hello host name or IP address of your VM from hello Azure portal:</span></span>

    ![Otwórz nowe połączenie programu PuTTY](./media/ssh-from-windows/putty-new-connection.png)
3. <span data-ttu-id="c41d5-219">Przed wybraniem **Otwórz**, kliknij przycisk **połączenia** > **SSH** > **uwierzytelniania** kartę. Przeglądaj tooand wybierz klucz prywatny:</span><span class="sxs-lookup"><span data-stu-id="c41d5-219">Before selecting **Open**, click **Connection** > **SSH** > **Auth** tab. Browse tooand select your private key:</span></span>

    ![Wybierz klucza prywatnego PuTTY dla uwierzytelniania](./media/ssh-from-windows/putty-auth-dialog.png)
4. <span data-ttu-id="c41d5-221">Kliknij przycisk **Otwórz** maszyny wirtualnej tooyour tooconnect</span><span class="sxs-lookup"><span data-stu-id="c41d5-221">Click **Open** tooconnect tooyour virtual machine</span></span>

## <a name="next-steps"></a><span data-ttu-id="c41d5-222">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="c41d5-222">Next steps</span></span>
<span data-ttu-id="c41d5-223">Można również generować klucze publiczne i prywatne hello [przy użyciu OS X i Linux](mac-create-ssh-keys.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="c41d5-223">You can also generate hello public and private keys [using OS X and Linux](mac-create-ssh-keys.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span>

<span data-ttu-id="c41d5-224">Aby uzyskać więcej informacji na temat Bash systemu Windows i hello korzyści narzędzia OSS gotowe na komputerze z systemem Windows, temacie [Bash na Ubuntu w systemie Windows](https://msdn.microsoft.com/commandline/wsl/about).</span><span class="sxs-lookup"><span data-stu-id="c41d5-224">For more information about Bash for Windows and hello benefits of having OSS tools readily available on your Windows computer, see [Bash on Ubuntu on Windows](https://msdn.microsoft.com/commandline/wsl/about).</span></span>

<span data-ttu-id="c41d5-225">Jeśli masz problem przy użyciu protokołu SSH tooconnect tooyour maszyn wirtualnych systemu Linux, zobacz [Rozwiązywanie problemów z SSH połączeń tooan maszyny Wirtualnej systemu Linux Azure](troubleshoot-ssh-connection.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="c41d5-225">If you have trouble using SSH tooconnect tooyour Linux VMs, see [Troubleshoot SSH connections tooan Azure Linux VM](troubleshoot-ssh-connection.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span>
