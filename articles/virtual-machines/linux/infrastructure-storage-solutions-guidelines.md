---
title: "aaaStorage rozwiązań dla maszyn wirtualnych systemu Linux na platformie Azure | Dokumentacja firmy Microsoft"
description: "Więcej informacji na temat hello klucza projekt i implementację wskazówki dotyczące wdrażania rozwiązania magazynu w usług infrastruktury platformy Azure."
documentationcenter: 
services: virtual-machines-linux
author: iainfoulds
manager: timlt
editor: 
tags: azure-resource-manager
ms.assetid: 3c368f07-189b-4520-bbe2-f4080253bbf2
ms.service: virtual-machines-linux
ms.workload: infrastructure-services
ms.tgt_pltfrm: vm-linux
ms.devlang: na
ms.topic: article
ms.date: 06/26/2017
ms.author: iainfou
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: d270c4786d7b55b18b011aa345063b6816a80876
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="azure-storage-infrastructure-guidelines-for-linux-vms"></a><span data-ttu-id="e4fb5-103">Wskazówki dotyczące infrastruktury magazynu Azure dla maszyn wirtualnych systemu Linux</span><span class="sxs-lookup"><span data-stu-id="e4fb5-103">Azure storage infrastructure guidelines for Linux VMs</span></span>

[!INCLUDE [virtual-machines-linux-infrastructure-guidelines-intro](../../../includes/virtual-machines-linux-infrastructure-guidelines-intro.md)]

<span data-ttu-id="e4fb5-104">Ten artykuł koncentruje się na potrzeby magazynu i zagadnienia dotyczące projektowania dla osiągnięcia wydajność optymalne maszyny wirtualnej (VM).</span><span class="sxs-lookup"><span data-stu-id="e4fb5-104">This article focuses on understanding storage needs and design considerations for achieving optimum virtual machine (VM) performance.</span></span>

## <a name="implementation-guidelines-for-storage"></a><span data-ttu-id="e4fb5-105">Implementacja — wskazówki dla magazynu</span><span class="sxs-lookup"><span data-stu-id="e4fb5-105">Implementation guidelines for storage</span></span>
<span data-ttu-id="e4fb5-106">Decyzje:</span><span class="sxs-lookup"><span data-stu-id="e4fb5-106">Decisions:</span></span>

* <span data-ttu-id="e4fb5-107">Czy będą toouse Azure dysków zarządzane lub niezarządzane dysków?</span><span class="sxs-lookup"><span data-stu-id="e4fb5-107">Are you going toouse Azure Managed Disks or unmanaged disks?</span></span>
* <span data-ttu-id="e4fb5-108">Potrzebujesz toouse standardowa lub Premium magazynu dla obciążenia?</span><span class="sxs-lookup"><span data-stu-id="e4fb5-108">Do you need toouse Standard or Premium storage for your workload?</span></span>
* <span data-ttu-id="e4fb5-109">Potrzebujesz dysków toocreate Rozkładanie dysku większych niż 4TB?</span><span class="sxs-lookup"><span data-stu-id="e4fb5-109">Do you need disk striping toocreate disks larger than 4TB?</span></span>
* <span data-ttu-id="e4fb5-110">Potrzebujesz dysku rozkładanie tooachieve optymalną wydajność We/Wy dla obciążenia?</span><span class="sxs-lookup"><span data-stu-id="e4fb5-110">Do you need disk striping tooachieve optimal I/O performance for your workload?</span></span>
* <span data-ttu-id="e4fb5-111">Jaki zestaw kont magazynu potrzebujesz toohost infrastruktury i obciążenia IT?</span><span class="sxs-lookup"><span data-stu-id="e4fb5-111">What set of storage accounts do you need toohost your IT workload or infrastructure?</span></span>

<span data-ttu-id="e4fb5-112">Zadania:</span><span class="sxs-lookup"><span data-stu-id="e4fb5-112">Tasks:</span></span>

* <span data-ttu-id="e4fb5-113">Przegląd wymagań operacji We/Wy aplikacji hello wdrażania oraz Zaplanuj hello odpowiedniej liczby i typ konta magazynu.</span><span class="sxs-lookup"><span data-stu-id="e4fb5-113">Review I/O demands of hello applications you are deploying and plan hello appropriate number and type of storage accounts.</span></span>
* <span data-ttu-id="e4fb5-114">Utwórz zestaw hello kont magazynu, zgodnie z konwencją nazewnictwa.</span><span class="sxs-lookup"><span data-stu-id="e4fb5-114">Create hello set of storage accounts using your naming convention.</span></span> <span data-ttu-id="e4fb5-115">Można użyć hello Azure CLI lub hello portalu.</span><span class="sxs-lookup"><span data-stu-id="e4fb5-115">You can use hello Azure CLI or hello portal.</span></span>

## <a name="storage"></a><span data-ttu-id="e4fb5-116">Magazyn</span><span class="sxs-lookup"><span data-stu-id="e4fb5-116">Storage</span></span>
<span data-ttu-id="e4fb5-117">Usługa Azure Storage jest kluczowym elementem wdrażania i zarządzania nimi w maszynach wirtualnych (VM) i aplikacji.</span><span class="sxs-lookup"><span data-stu-id="e4fb5-117">Azure Storage is a key part of deploying and managing virtual machines (VMs) and applications.</span></span> <span data-ttu-id="e4fb5-118">Usługa Azure Storage udostępnia usługi do przechowywania plików danych, danych bez struktury i komunikaty, a jest również częścią hello infrastruktury obsługi maszyn wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="e4fb5-118">Azure Storage provides services for storing file data, unstructured data, and messages, and it is also part of hello infrastructure supporting VMs.</span></span>

<span data-ttu-id="e4fb5-119">[Azure dysków zarządzanych](../../storage/storage-managed-disks-overview.md) obsługuje magazynu dla Ciebie w tle hello.</span><span class="sxs-lookup"><span data-stu-id="e4fb5-119">[Azure Managed Disks](../../storage/storage-managed-disks-overview.md) handles storage for you behind hello scenes.</span></span> <span data-ttu-id="e4fb5-120">W przypadku niezarządzanych dysków tworzenia kont magazynu toohold hello dysków (pliki VHD) na maszynach wirtualnych platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="e4fb5-120">With unmanaged disks, you create storage accounts toohold hello disks (VHD files) for your Azure VMs.</span></span> <span data-ttu-id="e4fb5-121">Podczas skalowania w, należy się upewnić, że utworzona dodatkowych kont magazynu, więc nie przekraczają hello limitu IOPS dla magazynu za pomocą dowolnego z dysków.</span><span class="sxs-lookup"><span data-stu-id="e4fb5-121">When scaling up, you must make sure you created additional storage accounts so you don’t exceed hello IOPS limit for storage with any of your disks.</span></span> <span data-ttu-id="e4fb5-122">W przypadku zarządzanych dysków obsługi magazynu nie jest już ograniczeniem limity konta magazynu hello (takie jak IOPS 20 000 / konta).</span><span class="sxs-lookup"><span data-stu-id="e4fb5-122">With Managed Disks handling storage, you are no longer limited by hello storage account limits (such as 20,000 IOPS / account).</span></span> <span data-ttu-id="e4fb5-123">Możesz również już toocopy kont magazynu toomultiple niestandardowych obrazów (pliki VHD).</span><span class="sxs-lookup"><span data-stu-id="e4fb5-123">You also no longer have toocopy your custom images (VHD files) toomultiple storage accounts.</span></span> <span data-ttu-id="e4fb5-124">Można nimi zarządzać w centralnej lokalizacji — jedno konto magazynu na region platformy Azure — i używać ich toocreate setki maszyn wirtualnych w ramach subskrypcji.</span><span class="sxs-lookup"><span data-stu-id="e4fb5-124">You can manage them in a central location – one storage account per Azure region – and use them toocreate hundreds of VMs in a subscription.</span></span> <span data-ttu-id="e4fb5-125">Firma Microsoft zaleca się, że używasz dysków zarządzanych w przypadku nowych wdrożeń.</span><span class="sxs-lookup"><span data-stu-id="e4fb5-125">We recommend you use Managed Disks for new deployments.</span></span>

<span data-ttu-id="e4fb5-126">Istnieją dwa typy kont magazynu do obsługi maszyn wirtualnych:</span><span class="sxs-lookup"><span data-stu-id="e4fb5-126">There are two types of storage accounts available for supporting VMs:</span></span>

* <span data-ttu-id="e4fb5-127">Nadaj kont magazynu w warstwie standardowa, możesz uzyskać dostępu do magazynu tooblob (używanych do przechowywania dysków maszyny Wirtualnej platformy Azure), tabela magazynów, magazyn kolejek i magazyn plików.</span><span class="sxs-lookup"><span data-stu-id="e4fb5-127">Standard storage accounts give you access tooblob storage (used for storing Azure VM disks), table storage, queue storage, and file storage.</span></span>
* <span data-ttu-id="e4fb5-128">[Magazyn w warstwie Premium](../../storage/storage-premium-storage.md) kont dostarczania obsługę dysków o wysokiej wydajności i małych opóźnieniach intensywnych obciążeń we/wy, takich jak bazy danych MongoDB podzielonej klastra.</span><span class="sxs-lookup"><span data-stu-id="e4fb5-128">[Premium storage](../../storage/storage-premium-storage.md) accounts deliver high-performance, low-latency disk support for I/O intensive workloads, such as MongoDB Sharded cluster.</span></span> <span data-ttu-id="e4fb5-129">Magazyn w warstwie Premium obecnie obsługuje wyłącznie dyski maszyny Wirtualnej platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="e4fb5-129">Premium storage currently supports Azure VM disks only.</span></span>

<span data-ttu-id="e4fb5-130">Platforma Azure tworzy maszyny wirtualne z dysku systemu operacyjnego, dysku tymczasowym i zero lub więcej dysków z danymi opcjonalne.</span><span class="sxs-lookup"><span data-stu-id="e4fb5-130">Azure creates VMs with an operating system disk, a temporary disk, and zero or more optional data disks.</span></span> <span data-ttu-id="e4fb5-131">Hello dysku systemu operacyjnego i dysków z danymi są stronicowe Azure, natomiast dysku tymczasowym hello są przechowywane lokalnie w węźle hello, w którym mieszka hello maszyny.</span><span class="sxs-lookup"><span data-stu-id="e4fb5-131">hello operating system disk and data disks are Azure page blobs, whereas hello temporary disk is stored locally on hello node where hello machine lives.</span></span> <span data-ttu-id="e4fb5-132">Zachowaj ostrożność podczas projektowania aplikacji tooonly używania tego dysku tymczasowym nietrwałe danych jako powitalne możliwość migracji maszyn wirtualnych między hostami podczas obsługi zdarzenia.</span><span class="sxs-lookup"><span data-stu-id="e4fb5-132">Take care when designing applications tooonly use this temporary disk for non-persistent data as hello VM may be migrated between hosts during a maintenance event.</span></span> <span data-ttu-id="e4fb5-133">Dane przechowywane na dysku tymczasowym hello mogłyby zostać utracone.</span><span class="sxs-lookup"><span data-stu-id="e4fb5-133">Any data stored on hello temporary disk would be lost.</span></span>

<span data-ttu-id="e4fb5-134">Trwałości i wysokiej dostępności jest zapewniana przez hello podstawowej usługi Azure Storage środowiska tooensure czy danych pozostaje chroniona przed nieplanowana konserwacja lub sprzętu.</span><span class="sxs-lookup"><span data-stu-id="e4fb5-134">Durability and high availability is provided by hello underlying Azure Storage environment tooensure that your data remains protected against unplanned maintenance or hardware failures.</span></span> <span data-ttu-id="e4fb5-135">Podczas projektowania środowiska usługi Azure Storage, można wybrać tooreplicate magazynu maszyny Wirtualnej:</span><span class="sxs-lookup"><span data-stu-id="e4fb5-135">As you design your Azure Storage environment, you can choose tooreplicate VM storage:</span></span>

* <span data-ttu-id="e4fb5-136">lokalnie w danym centrum danych Azure</span><span class="sxs-lookup"><span data-stu-id="e4fb5-136">locally within a given Azure datacenter</span></span>
* <span data-ttu-id="e4fb5-137">w centrach danych platformy Azure w danym regionie</span><span class="sxs-lookup"><span data-stu-id="e4fb5-137">across Azure datacenters within a given region</span></span>
* <span data-ttu-id="e4fb5-138">w centrach danych platformy Azure w różnych regionach.</span><span class="sxs-lookup"><span data-stu-id="e4fb5-138">across Azure datacenters across different regions.</span></span>

<span data-ttu-id="e4fb5-139">Możesz przeczytać [więcej informacji na temat opcji replikacji hello wysokiej dostępności](../../storage/storage-introduction.md#replication-for-durability-and-high-availability).</span><span class="sxs-lookup"><span data-stu-id="e4fb5-139">You can read [more about hello replication options for high availability](../../storage/storage-introduction.md#replication-for-durability-and-high-availability).</span></span>

<span data-ttu-id="e4fb5-140">Dysków systemu operacyjnego i dysków z danymi mieć maksymalnie rozmiar równy 4TB.</span><span class="sxs-lookup"><span data-stu-id="e4fb5-140">Operating system disks and data disks have a maximum size of 4TB.</span></span> <span data-ttu-id="e4fb5-141">Możesz użyć Menedżera woluminu logicznego (LVM) toosurpass ten limit wg Grupując dane dysków toopresent logicznej woluminów większych niż 1023GB tooyour maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="e4fb5-141">You can use Logical Volume Manager (LVM) toosurpass this limit by pooling together data disks toopresent logical volumes larger than 1023GB tooyour VM.</span></span>

<span data-ttu-id="e4fb5-142">Istnieje kilka ograniczeń skalowalności przy projektowaniu wdrożeń usługi Azure Storage — Aby uzyskać więcej informacji, zobacz [limity subskrypcji i usługi Microsoft Azure, przydziały i ograniczenia](../../azure-subscription-service-limits.md#storage-limits).</span><span class="sxs-lookup"><span data-stu-id="e4fb5-142">There are some scalability limits when designing your Azure Storage deployments - for more information, see [Microsoft Azure subscription and service limits, quotas, and constraints](../../azure-subscription-service-limits.md#storage-limits).</span></span> <span data-ttu-id="e4fb5-143">Zobacz też [elementy docelowe skalowalności i wydajności magazynu Azure](../../storage/storage-scalability-targets.md).</span><span class="sxs-lookup"><span data-stu-id="e4fb5-143">Also see [Azure storage scalability and performance targets](../../storage/storage-scalability-targets.md).</span></span>

<span data-ttu-id="e4fb5-144">Do przechowywania aplikacji można przechowywać danych obiektów niestrukturalnych, takich jak dokumenty, obrazy, kopie zapasowe, dane konfiguracji, dzienniki itp.</span><span class="sxs-lookup"><span data-stu-id="e4fb5-144">For application storage, you can store unstructured object data such as documents, images, backups, configuration data, logs, etc.</span></span> <span data-ttu-id="e4fb5-145">przy użyciu magazynu obiektów blob.</span><span class="sxs-lookup"><span data-stu-id="e4fb5-145">using blob storage.</span></span> <span data-ttu-id="e4fb5-146">Zamiast aplikacji zapisywania tooa toohello dysku wirtualnego maszyny Wirtualnej aplikacja hello może zapisywać bezpośrednio tooAzure magazynu obiektów blob.</span><span class="sxs-lookup"><span data-stu-id="e4fb5-146">Rather than your application writing tooa virtual disk attached toohello VM, hello application can write directly tooAzure blob storage.</span></span> <span data-ttu-id="e4fb5-147">Magazyn obiektów blob są także możliwość hello [hot i cool warstw magazynowania](../../storage/storage-blob-storage-tiers.md) w zależności od dostępności potrzeby i ograniczenia kosztów.</span><span class="sxs-lookup"><span data-stu-id="e4fb5-147">Blob storage also provides hello option of [hot and cool storage tiers](../../storage/storage-blob-storage-tiers.md) depending on your availability needs and cost constraints.</span></span>

## <a name="striped-disks"></a><span data-ttu-id="e4fb5-148">Rozłożone dysków</span><span class="sxs-lookup"><span data-stu-id="e4fb5-148">Striped disks</span></span>
<span data-ttu-id="e4fb5-149">Oprócz pozwala toocreate dysków większych niż 1023 GB w wielu przypadkach, przy użyciu rozkładanie dysków danych zwiększa wydajność dzięki wielu obiektów blob magazynu hello tooback jednego woluminu.</span><span class="sxs-lookup"><span data-stu-id="e4fb5-149">Besides allowing you toocreate disks larger than 1023 GB, in many instances, using striping for data disks enhances performance by allowing multiple blobs tooback hello storage for a single volume.</span></span> <span data-ttu-id="e4fb5-150">Rozkładanie, toowrite wymagane hello We/Wy i odczytu danych z jednego dysku logicznego będzie kontynuowana równolegle.</span><span class="sxs-lookup"><span data-stu-id="e4fb5-150">With striping, hello I/O required toowrite and read data from a single logical disk proceeds in parallel.</span></span>

<span data-ttu-id="e4fb5-151">Azure nakłada limity hello liczba dysków danych oraz dostępnej przepustowości, w zależności od rozmiaru maszyny Wirtualnej hello.</span><span class="sxs-lookup"><span data-stu-id="e4fb5-151">Azure imposes limits on hello number of data disks and amount of bandwidth available, depending on hello VM size.</span></span> <span data-ttu-id="e4fb5-152">Aby uzyskać więcej informacji, zobacz [rozmiary maszyn wirtualnych](sizes.md)</span><span class="sxs-lookup"><span data-stu-id="e4fb5-152">For details, see [Sizes for virtual machines](sizes.md)</span></span>

<span data-ttu-id="e4fb5-153">Jeśli używasz rozkładanie dysków danych Azure, należy wziąć pod uwagę następujące wytyczne hello:</span><span class="sxs-lookup"><span data-stu-id="e4fb5-153">If you are using disk striping for Azure data disks, consider hello following guidelines:</span></span>

* <span data-ttu-id="e4fb5-154">Dołącz hello dyski danych maksymalny dozwolony dla hello rozmiar maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="e4fb5-154">Attach hello maximum data disks allowed for hello VM size.</span></span>
* <span data-ttu-id="e4fb5-155">Użyj LVM.</span><span class="sxs-lookup"><span data-stu-id="e4fb5-155">Use LVM.</span></span>
* <span data-ttu-id="e4fb5-156">Unikaj używania opcji buforowania dysku danych Azure (zasad buforowania = None).</span><span class="sxs-lookup"><span data-stu-id="e4fb5-156">Avoid using Azure data disk caching options (caching policy = None).</span></span>

<span data-ttu-id="e4fb5-157">Aby uzyskać więcej informacji, zobacz [Konfigurowanie LVM na maszynie Wirtualnej systemu Linux](configure-lvm.md).</span><span class="sxs-lookup"><span data-stu-id="e4fb5-157">For more information, see [Configuring LVM on a Linux VM](configure-lvm.md).</span></span>

## <a name="multiple-storage-accounts"></a><span data-ttu-id="e4fb5-158">Wiele kont magazynu</span><span class="sxs-lookup"><span data-stu-id="e4fb5-158">Multiple storage accounts</span></span>
<span data-ttu-id="e4fb5-159">Ta sekcja nie ma zastosowania zbyt[dysków zarządzanych Azure](../../storage/storage-managed-disks-overview.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json), ponieważ nie zostanie utworzony oddzielny magazyn kont.</span><span class="sxs-lookup"><span data-stu-id="e4fb5-159">This section does not apply too[Azure Managed Disks](../../storage/storage-managed-disks-overview.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json), as you do not create separate storage accounts.</span></span> 

<span data-ttu-id="e4fb5-160">Podczas projektowania środowiska usługi Azure Storage dla dysków niezarządzane, można użyć wielu kont magazynu jako hello liczbę maszyn wirtualnych wdrożeniem wzrostu.</span><span class="sxs-lookup"><span data-stu-id="e4fb5-160">When designing your Azure Storage environment for unmanaged disks, you can use multiple storage accounts as hello number of VMs you deploy increases.</span></span> <span data-ttu-id="e4fb5-161">To rozwiązanie pomaga w rozłożeniu limit hello we/wy na powitania podstawowej usługi Azure Storage infrastruktury toomaintain optymalnej wydajności dla maszyn wirtualnych i aplikacji.</span><span class="sxs-lookup"><span data-stu-id="e4fb5-161">This approach helps distribute out hello I/O across hello underlying Azure Storage infrastructure toomaintain optimum performance for your VMs and applications.</span></span> <span data-ttu-id="e4fb5-162">Podczas projektowania aplikacji hello, które wdrażasz należy wziąć pod uwagę wymagania dotyczące operacji We/Wy hello każda maszyna wirtualna ma i Saldo limit tych maszyn wirtualnych, wielu kont magazynu Azure.</span><span class="sxs-lookup"><span data-stu-id="e4fb5-162">As you design hello applications that you are deploying, consider hello I/O requirements each VM has and balance out those VMs across Azure Storage accounts.</span></span> <span data-ttu-id="e4fb5-163">Spróbuj tooavoid wszystkie hello wysokiej we/wy wymagających maszyn wirtualnych na kontach magazynu toojust co najmniej dwa grupowania.</span><span class="sxs-lookup"><span data-stu-id="e4fb5-163">Try tooavoid grouping all hello high I/O demanding VMs in toojust one or two storage accounts.</span></span>

<span data-ttu-id="e4fb5-164">Aby uzyskać więcej informacji na temat możliwości hello we/wy hello inne opcje usługi Azure Storage, a niektóre zalecane maksymalne wartości, zobacz [elementy docelowe skalowalności i wydajności magazynu Azure](../../storage/storage-scalability-targets.md).</span><span class="sxs-lookup"><span data-stu-id="e4fb5-164">For more information about hello I/O capabilities of hello different Azure Storage options and some recommend maximums, see [Azure storage scalability and performance targets](../../storage/storage-scalability-targets.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="e4fb5-165">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="e4fb5-165">Next steps</span></span>
[!INCLUDE [virtual-machines-linux-infrastructure-guidelines-next-steps](../../../includes/virtual-machines-linux-infrastructure-guidelines-next-steps.md)]

