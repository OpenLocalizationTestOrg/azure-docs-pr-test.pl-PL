---
title: Ustawia aaaAvailability dla maszyn wirtualnych systemu Linux na platformie Azure | Dokumentacja firmy Microsoft
description: "Więcej informacji na temat hello klucza projekt i implementację wskazówki dotyczące wdrażania zestawów dostępności w usługach infrastruktury platformy Azure."
documentationcenter: 
services: virtual-machines-linux
author: iainfoulds
manager: timlt
editor: 
tags: azure-resource-manager
ms.assetid: 24f1d91c-8cc0-4251-bb67-ac4c4c37e8cd
ms.service: virtual-machines-linux
ms.workload: infrastructure-services
ms.tgt_pltfrm: vm-linux
ms.devlang: na
ms.topic: article
ms.date: 06/26/2017
ms.author: iainfou
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: 78e4da5c8fd9eb186cafacb46454444b73a9439c
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="azure-availability-sets-guidelines-for-linux-vms"></a><span data-ttu-id="09b95-103">Zestawy Azure dostępności dla maszyn wirtualnych systemu Linux — wskazówki</span><span class="sxs-lookup"><span data-stu-id="09b95-103">Azure availability sets guidelines for Linux VMs</span></span>

[!INCLUDE [virtual-machines-linux-infrastructure-guidelines-intro](../../../includes/virtual-machines-linux-infrastructure-guidelines-intro.md)]

<span data-ttu-id="09b95-104">Ten artykuł skupia się na powitania opis wymaganych czynności związane z planowaniem dla zestawy dostępności tooensure aplikacji, pozostaje dostępne podczas planowanego lub nieplanowanego zdarzenia.</span><span class="sxs-lookup"><span data-stu-id="09b95-104">This article focuses on understanding hello required planning steps for availability sets tooensure your applications remains accessible during planned or unplanned events.</span></span>

## <a name="implementation-guidelines-for-availability-sets"></a><span data-ttu-id="09b95-105">Implementacja — wskazówki zestawów dostępności</span><span class="sxs-lookup"><span data-stu-id="09b95-105">Implementation guidelines for availability sets</span></span>
<span data-ttu-id="09b95-106">Decyzje:</span><span class="sxs-lookup"><span data-stu-id="09b95-106">Decisions:</span></span>

* <span data-ttu-id="09b95-107">Jak wiele zestawów dostępności potrzebujesz w hello różnych ról i warstw w infrastrukturze aplikacji?</span><span class="sxs-lookup"><span data-stu-id="09b95-107">How many availability sets do you need for hello various roles and tiers in your application infrastructure?</span></span>

<span data-ttu-id="09b95-108">Zadania:</span><span class="sxs-lookup"><span data-stu-id="09b95-108">Tasks:</span></span>

* <span data-ttu-id="09b95-109">Zdefiniuj hello liczbę maszyn wirtualnych w poszczególnych warstwach aplikacji, które są wymagane.</span><span class="sxs-lookup"><span data-stu-id="09b95-109">Define hello number of VMs in each application tier you require.</span></span>
* <span data-ttu-id="09b95-110">Stwierdzić, czy wymagane tooadjust hello liczbę błędów lub aktualizacji toobe domen używane dla aplikacji.</span><span class="sxs-lookup"><span data-stu-id="09b95-110">Determine if you need tooadjust hello number of fault or update domains toobe used for your application.</span></span>
* <span data-ttu-id="09b95-111">Zdefiniuj hello wymagane zestawy dostępności przy użyciu konwencji nazewnictwa i co maszyny wirtualne znajdują się w nich.</span><span class="sxs-lookup"><span data-stu-id="09b95-111">Define hello required availability sets using your naming convention and what VMs reside in them.</span></span> <span data-ttu-id="09b95-112">Maszyna wirtualna tylko może znajdować się w zestawie dostępności.</span><span class="sxs-lookup"><span data-stu-id="09b95-112">A VM can only reside in one availability set.</span></span> 

## <a name="availability-sets"></a><span data-ttu-id="09b95-113">Zestawy dostępności</span><span class="sxs-lookup"><span data-stu-id="09b95-113">Availability sets</span></span>
<span data-ttu-id="09b95-114">Na platformie Azure maszynach wirtualnych (VM) można umieścić w logiczne grupowanie tooa o nazwie zestawu dostępności.</span><span class="sxs-lookup"><span data-stu-id="09b95-114">In Azure, virtual machines (VMs) can be placed in tooa logical grouping called an availability set.</span></span> <span data-ttu-id="09b95-115">Po utworzeniu maszyn wirtualnych w zbiorze dostępności hello platformy Azure rozdziela umieszczania hello tych maszyn wirtualnych między hello podstawowej infrastruktury.</span><span class="sxs-lookup"><span data-stu-id="09b95-115">When you create VMs within an availability set, hello Azure platform distributes hello placement of those VMs across hello underlying infrastructure.</span></span> <span data-ttu-id="09b95-116">Powinno być toohello zdarzeń planowanych konserwacji platformy Azure lub używany sprzęt / infrastruktury błędów, użyj hello zestawów dostępności zapewnia, że co najmniej jedna maszyna wirtualna jest uruchomiona.</span><span class="sxs-lookup"><span data-stu-id="09b95-116">Should there be a planned maintenance event toohello Azure platform or an underlying hardware / infrastructure fault, hello use of availability sets ensures that at least one VM remains running.</span></span>

<span data-ttu-id="09b95-117">Najlepszym rozwiązaniem aplikacje nie powinien znajdować się na jednej maszynie Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="09b95-117">As a best practice, applications should not reside on a single VM.</span></span> <span data-ttu-id="09b95-118">Zestaw dostępności zawierający jednej maszyny Wirtualnej nie uzyskują żadnej ochrony przed planowanego lub nieplanowanego zdarzenia w hello platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="09b95-118">An availability set that contains a single VM doesn't gain any protection from planned or unplanned events within hello Azure platform.</span></span> <span data-ttu-id="09b95-119">Witaj [umowy SLA platformy Azure](https://azure.microsoft.com/support/legal/sla/virtual-machines) wymaga co najmniej dwóch maszyn wirtualnych w ramach dostępność zestawu tooallow hello dystrybucji maszyn wirtualnych na powitania podstawowej infrastruktury.</span><span class="sxs-lookup"><span data-stu-id="09b95-119">hello [Azure SLA](https://azure.microsoft.com/support/legal/sla/virtual-machines) requires two or more VMs within an availability set tooallow hello distribution of VMs across hello underlying infrastructure.</span></span> <span data-ttu-id="09b95-120">Jeśli używasz [Azure Premium Storage](../../storage/storage-premium-storage.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json), hello umowy SLA platformy Azure stosuje tooa pojedynczy maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="09b95-120">If you are using [Azure Premium Storage](../../storage/storage-premium-storage.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json), hello Azure SLA applies tooa single VM.</span></span>

<span data-ttu-id="09b95-121">Witaj podstawowej infrastruktury na platformie Azure jest podzielony na toomultiple sprzętu klastrów.</span><span class="sxs-lookup"><span data-stu-id="09b95-121">hello underlying infrastructure in Azure is divided in toomultiple hardware clusters.</span></span> <span data-ttu-id="09b95-122">Każdy klaster sprzętu może obsługiwać rozmiary zakres maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="09b95-122">Each hardware cluster can support a range of VM sizes.</span></span> <span data-ttu-id="09b95-123">Zestaw dostępności może być hostowana w klastrze pojedynczego sprzętu w dowolnym momencie w czasie.</span><span class="sxs-lookup"><span data-stu-id="09b95-123">An availability set can only be hosted on a single hardware cluster at any point in time.</span></span> <span data-ttu-id="09b95-124">W związku z tym hello rozmiary zakres maszyny Wirtualnej, które może istnieć w zestawie dostępności pojedynczego jest toohello ograniczony zakres maszyny Wirtualnej rozmiary obsługiwane przez hello sprzętu klastra.</span><span class="sxs-lookup"><span data-stu-id="09b95-124">Therefore, hello range of VM sizes that can exist in a single availability set is limited toohello range of VM sizes supported by hello hardware cluster.</span></span> <span data-ttu-id="09b95-125">Hello sprzętu klastra dla zestawu dostępności hello jest wybrany, gdy hello pierwszym wdrożeniu maszyny Wirtualnej w zestawie dostępności hello lub uruchamianie hello pierwsza maszyna wirtualna w zestawie dostępności, gdzie wszystkie maszyny wirtualne są obecnie w stanie zatrzymana alokację hello.</span><span class="sxs-lookup"><span data-stu-id="09b95-125">hello hardware cluster for hello availability set is selected when hello first VM in hello availability set is deployed or when starting hello first VM in an availability set where all VMs are currently in hello stopped-deallocated state.</span></span> <span data-ttu-id="09b95-126">Hello następujące polecenia interfejsu wiersza polecenia może być toodetermine używane hello zakres maszyny Wirtualnej rozmiarów dostępnych dla zestawu dostępności: "az rozmiarów maszyn wirtualnych listy---lokalizacji \<ciąg\>"</span><span class="sxs-lookup"><span data-stu-id="09b95-126">hello following CLI command can be used toodetermine hello range of VM sizes available for an availability set: “az vm list-sizes --location \<string\>”</span></span>

<span data-ttu-id="09b95-127">Każdy klaster sprzętu jest podzielony na domeny aktualizacji toomultiple i domen błędów.</span><span class="sxs-lookup"><span data-stu-id="09b95-127">Each hardware cluster is divided in toomultiple update domains and fault domains.</span></span> <span data-ttu-id="09b95-128">Te domeny są definiowane przez hosty z jakiego Udostępnianie wspólnych cyklu aktualizacji lub udziału podobne fizycznej infrastruktury, takich jak power i sieci.</span><span class="sxs-lookup"><span data-stu-id="09b95-128">These domains are defined by what hosts share a common update cycle, or share similar physical infrastructure such as power and networking.</span></span> <span data-ttu-id="09b95-129">Azure automatycznie dystrybuuje maszyn wirtualnych w zestawie między domenami toomaintain dostępności i odporności na uszkodzenia dostępności.</span><span class="sxs-lookup"><span data-stu-id="09b95-129">Azure automatically distributes your VMs within an availability set across domains toomaintain availability and fault tolerance.</span></span> <span data-ttu-id="09b95-130">W zależności od rozmiaru hello aplikacji i hello liczbę maszyn wirtualnych w zestawie dostępności, można dostosować hello liczby domen mają toouse.</span><span class="sxs-lookup"><span data-stu-id="09b95-130">Depending on hello size of your application and hello number of VMs within an availability set, you can adjust hello number of domains you wish toouse.</span></span> <span data-ttu-id="09b95-131">Możesz przeczytać dodatkowe informacje [zarządzania, dostępność i stosowania aktualizacji i odporność domen](manage-availability.md).</span><span class="sxs-lookup"><span data-stu-id="09b95-131">You can read more about [managing availability and use of update and fault domains](manage-availability.md).</span></span>

<span data-ttu-id="09b95-132">Podczas projektowania infrastruktury aplikacji należy zaplanować toouse warstwy aplikacji hello.</span><span class="sxs-lookup"><span data-stu-id="09b95-132">When designing your application infrastructure, plan out hello application tiers toouse.</span></span> <span data-ttu-id="09b95-133">Grupy maszyn wirtualnych, które pełnią hello sam cel w zestawach tooavailability, takich jak zbiór dostępności dla maszyn wirtualnych frontonu systemem nginx lub Apache.</span><span class="sxs-lookup"><span data-stu-id="09b95-133">Group VMs that serve hello same purpose in tooavailability sets, such as an availability set for your front-end VMs running nginx or Apache.</span></span> <span data-ttu-id="09b95-134">Utwórz oddzielne zbiór dostępności dla maszyn wirtualnych zaplecza uruchomiony bazy danych MongoDB lub MySQL.</span><span class="sxs-lookup"><span data-stu-id="09b95-134">Create a separate availability set for your back-end VMs running MongoDB or MySQL.</span></span> <span data-ttu-id="09b95-135">Celem Hello jest tooensure każdego składnika aplikacji jest chroniony przez zestaw dostępności, a co najmniej raz wystąpienia zawsze pozostaje uruchomiona.</span><span class="sxs-lookup"><span data-stu-id="09b95-135">hello goal is tooensure that each component of your application is protected by an availability set and at least once instance always remains running.</span></span>

<span data-ttu-id="09b95-136">Moduły równoważenia obciążenia mogą zostać użyte przed każdym toowork warstwy aplikacji obok zestawu dostępności i upewnij się, że ruch zawsze może być kierowany tooa uruchomione wystąpienie.</span><span class="sxs-lookup"><span data-stu-id="09b95-136">Load balancers can be utilized in front of each application tier toowork alongside an availability set and ensure traffic can always be routed tooa running instance.</span></span> <span data-ttu-id="09b95-137">Bez modułu równoważenia obciążenia maszyny wirtualne mogą nadal działać w całej zdarzeń planowanych lub nieplanowanych konserwacji, ale użytkownikowi końcowemu może nie być tooresolve mogli je, jeśli hello podstawowej maszyny Wirtualnej jest niedostępne.</span><span class="sxs-lookup"><span data-stu-id="09b95-137">Without a load balancer, your VMs may continue running throughout planned and unplanned maintenance events, but your end user may not be able tooresolve them if hello primary VM is unavailable.</span></span>

<span data-ttu-id="09b95-138">Utwórz projekt swojej aplikacji w celu zapewnienia wysokiej dostępności w warstwie magazynu.</span><span class="sxs-lookup"><span data-stu-id="09b95-138">Design your application for high availability at storage layer.</span></span> <span data-ttu-id="09b95-139">Witaj najlepszym rozwiązaniem jest zbyt[dysków zarządzanych maszyn wirtualnych w zestawie dostępności](manage-availability.md#use-managed-disks-for-vms-in-an-availability-set).</span><span class="sxs-lookup"><span data-stu-id="09b95-139">hello best practice is too[use Managed Disks for VMs in an Availability Set](manage-availability.md#use-managed-disks-for-vms-in-an-availability-set).</span></span> <span data-ttu-id="09b95-140">Jeśli obecnie używasz niezarządzane dysków, zdecydowanie zalecamy zbyt[przekonwertować maszyny wirtualne w zestawie dostępności dysków zarządzanych toouse](convert-unmanaged-to-managed-disks.md#convert-vms-in-an-availability-set).</span><span class="sxs-lookup"><span data-stu-id="09b95-140">If you are currently using unmanaged disks, we highly recommend you too[convert VMs in Availability Set toouse Managed Disks](convert-unmanaged-to-managed-disks.md#convert-vms-in-an-availability-set).</span></span>

## <a name="next-steps"></a><span data-ttu-id="09b95-141">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="09b95-141">Next steps</span></span>
[!INCLUDE [virtual-machines-linux-infrastructure-guidelines-next-steps](../../../includes/virtual-machines-linux-infrastructure-guidelines-next-steps.md)]

