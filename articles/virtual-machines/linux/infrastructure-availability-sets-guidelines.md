---
title: "Zestawy dostępności dla maszyn wirtualnych systemu Linux na platformie Azure | Dokumentacja firmy Microsoft"
description: "Więcej informacji na temat klucza projekt i implementację wskazówki dotyczące wdrażania zestawów dostępności w usługach infrastruktury platformy Azure."
documentationcenter: 
services: virtual-machines-linux
author: iainfoulds
manager: timlt
editor: 
tags: azure-resource-manager
ms.assetid: 24f1d91c-8cc0-4251-bb67-ac4c4c37e8cd
ms.service: virtual-machines-linux
ms.workload: infrastructure-services
ms.tgt_pltfrm: vm-linux
ms.devlang: na
ms.topic: article
ms.date: 06/26/2017
ms.author: iainfou
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: c5fad478a8fbbdeef2fe72f0b8f2ebe32852bbc5
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 07/11/2017
---
# <a name="azure-availability-sets-guidelines-for-linux-vms"></a><span data-ttu-id="b00db-103">Zestawy Azure dostępności dla maszyn wirtualnych systemu Linux — wskazówki</span><span class="sxs-lookup"><span data-stu-id="b00db-103">Azure availability sets guidelines for Linux VMs</span></span>

[!INCLUDE [virtual-machines-linux-infrastructure-guidelines-intro](../../../includes/virtual-machines-linux-infrastructure-guidelines-intro.md)]

<span data-ttu-id="b00db-104">Ten artykuł koncentruje się na kroki planowania wymagane dla zestawów dostępności upewnić się, Twoje aplikacje pozostaje dostępna podczas planowanego lub nieplanowanego zdarzenia.</span><span class="sxs-lookup"><span data-stu-id="b00db-104">This article focuses on understanding the required planning steps for availability sets to ensure your applications remains accessible during planned or unplanned events.</span></span>

## <a name="implementation-guidelines-for-availability-sets"></a><span data-ttu-id="b00db-105">Implementacja — wskazówki zestawów dostępności</span><span class="sxs-lookup"><span data-stu-id="b00db-105">Implementation guidelines for availability sets</span></span>
<span data-ttu-id="b00db-106">Decyzje:</span><span class="sxs-lookup"><span data-stu-id="b00db-106">Decisions:</span></span>

* <span data-ttu-id="b00db-107">Jak wiele zestawów dostępności potrzebujesz dla różnych ról i warstw w infrastrukturze aplikacji?</span><span class="sxs-lookup"><span data-stu-id="b00db-107">How many availability sets do you need for the various roles and tiers in your application infrastructure?</span></span>

<span data-ttu-id="b00db-108">Zadania:</span><span class="sxs-lookup"><span data-stu-id="b00db-108">Tasks:</span></span>

* <span data-ttu-id="b00db-109">Zdefiniuj liczbę maszyn wirtualnych w poszczególnych warstwach aplikacji, które są wymagane.</span><span class="sxs-lookup"><span data-stu-id="b00db-109">Define the number of VMs in each application tier you require.</span></span>
* <span data-ttu-id="b00db-110">Określ, czy należy Dostosuj liczbę błędów lub zaktualizuj domeny do użycia dla aplikacji.</span><span class="sxs-lookup"><span data-stu-id="b00db-110">Determine if you need to adjust the number of fault or update domains to be used for your application.</span></span>
* <span data-ttu-id="b00db-111">Definiowanie zestawów dostępności wymagane przy użyciu konwencji nazewnictwa i co maszyny wirtualne znajdują się w nich.</span><span class="sxs-lookup"><span data-stu-id="b00db-111">Define the required availability sets using your naming convention and what VMs reside in them.</span></span> <span data-ttu-id="b00db-112">Maszyna wirtualna tylko może znajdować się w zestawie dostępności.</span><span class="sxs-lookup"><span data-stu-id="b00db-112">A VM can only reside in one availability set.</span></span> 

## <a name="availability-sets"></a><span data-ttu-id="b00db-113">Zestawy dostępności</span><span class="sxs-lookup"><span data-stu-id="b00db-113">Availability sets</span></span>
<span data-ttu-id="b00db-114">Na platformie Azure maszynach wirtualnych (VM) można umieścić w na grupę logiczną o nazwie zestawu dostępności.</span><span class="sxs-lookup"><span data-stu-id="b00db-114">In Azure, virtual machines (VMs) can be placed in to a logical grouping called an availability set.</span></span> <span data-ttu-id="b00db-115">Po utworzeniu maszyn wirtualnych w zbiorze dostępności platformy Azure dystrybuuje rozmieszczenie tych maszyn wirtualnych w ramach podstawowej infrastruktury.</span><span class="sxs-lookup"><span data-stu-id="b00db-115">When you create VMs within an availability set, the Azure platform distributes the placement of those VMs across the underlying infrastructure.</span></span> <span data-ttu-id="b00db-116">Powinno być zdarzeniem zaplanowanej konserwacji do platformy Azure lub używany sprzęt / odporność infrastruktury, korzystanie z zestawów dostępności zapewnia, że co najmniej jedna maszyna wirtualna jest uruchomiona.</span><span class="sxs-lookup"><span data-stu-id="b00db-116">Should there be a planned maintenance event to the Azure platform or an underlying hardware / infrastructure fault, the use of availability sets ensures that at least one VM remains running.</span></span>

<span data-ttu-id="b00db-117">Najlepszym rozwiązaniem aplikacje nie powinien znajdować się na jednej maszynie Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="b00db-117">As a best practice, applications should not reside on a single VM.</span></span> <span data-ttu-id="b00db-118">Zestaw dostępności zawierający jednej maszyny Wirtualnej nie uzyskują żadnej ochrony przed planowanego lub nieplanowanego zdarzenia w ramach platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="b00db-118">An availability set that contains a single VM doesn't gain any protection from planned or unplanned events within the Azure platform.</span></span> <span data-ttu-id="b00db-119">[Umowy SLA platformy Azure](https://azure.microsoft.com/support/legal/sla/virtual-machines) wymaga co najmniej dwóch maszyn wirtualnych w ramach zestawu umożliwiają dystrybucję maszyn wirtualnych w infrastrukturze podstawowej dostępności.</span><span class="sxs-lookup"><span data-stu-id="b00db-119">The [Azure SLA](https://azure.microsoft.com/support/legal/sla/virtual-machines) requires two or more VMs within an availability set to allow the distribution of VMs across the underlying infrastructure.</span></span> <span data-ttu-id="b00db-120">Jeśli używasz [Azure Premium Storage](../../storage/storage-premium-storage.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json), umowy SLA platformy Azure ma zastosowanie do jednej maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="b00db-120">If you are using [Azure Premium Storage](../../storage/storage-premium-storage.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json), the Azure SLA applies to a single VM.</span></span>

<span data-ttu-id="b00db-121">Podstawowej infrastruktury na platformie Azure jest podzielony na wiele klastrów sprzętu.</span><span class="sxs-lookup"><span data-stu-id="b00db-121">The underlying infrastructure in Azure is divided in to multiple hardware clusters.</span></span> <span data-ttu-id="b00db-122">Każdy klaster sprzętu może obsługiwać rozmiary zakres maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="b00db-122">Each hardware cluster can support a range of VM sizes.</span></span> <span data-ttu-id="b00db-123">Zestaw dostępności może być hostowana w klastrze pojedynczego sprzętu w dowolnym momencie w czasie.</span><span class="sxs-lookup"><span data-stu-id="b00db-123">An availability set can only be hosted on a single hardware cluster at any point in time.</span></span> <span data-ttu-id="b00db-124">W związku z tym rozmiarów zakresu z maszyn wirtualnych, które może istnieć w zestawie dostępności pojedynczego jest ograniczona do rozmiarów zakres maszyny Wirtualnej obsługuje sprzętu klastra.</span><span class="sxs-lookup"><span data-stu-id="b00db-124">Therefore, the range of VM sizes that can exist in a single availability set is limited to the range of VM sizes supported by the hardware cluster.</span></span> <span data-ttu-id="b00db-125">Klaster sprzętu dla zestawu dostępności jest zaznaczona, po wdrożeniu pierwszej maszyny Wirtualnej w zestawie dostępności lub podczas uruchamiania pierwsza maszyna wirtualna w zestawie dostępności, którym wszystkich maszyn wirtualnych są obecnie w stanie zatrzymana alokację.</span><span class="sxs-lookup"><span data-stu-id="b00db-125">The hardware cluster for the availability set is selected when the first VM in the availability set is deployed or when starting the first VM in an availability set where all VMs are currently in the stopped-deallocated state.</span></span> <span data-ttu-id="b00db-126">Następujące polecenia interfejsu wiersza polecenia może służyć do określenia zestawu dostępności dostępnych rozmiarów zakres maszyny Wirtualnej: "az rozmiarów maszyn wirtualnych listy---lokalizacji \<ciąg\>"</span><span class="sxs-lookup"><span data-stu-id="b00db-126">The following CLI command can be used to determine the range of VM sizes available for an availability set: “az vm list-sizes --location \<string\>”</span></span>

<span data-ttu-id="b00db-127">Każdy klaster sprzętu jest podzielony na wiele domen aktualizacji i domen błędów.</span><span class="sxs-lookup"><span data-stu-id="b00db-127">Each hardware cluster is divided in to multiple update domains and fault domains.</span></span> <span data-ttu-id="b00db-128">Te domeny są definiowane przez hosty z jakiego Udostępnianie wspólnych cyklu aktualizacji lub udziału podobne fizycznej infrastruktury, takich jak power i sieci.</span><span class="sxs-lookup"><span data-stu-id="b00db-128">These domains are defined by what hosts share a common update cycle, or share similar physical infrastructure such as power and networking.</span></span> <span data-ttu-id="b00db-129">Azure automatycznie dystrybuuje maszyn wirtualnych w ramach zestawu między domenami, aby zachować dostępność i odporność na uszkodzenia dostępności.</span><span class="sxs-lookup"><span data-stu-id="b00db-129">Azure automatically distributes your VMs within an availability set across domains to maintain availability and fault tolerance.</span></span> <span data-ttu-id="b00db-130">W zależności od rozmiaru aplikacji, a liczba maszyn wirtualnych w zestawie dostępności można dostosować liczby domen, którego chcesz użyć.</span><span class="sxs-lookup"><span data-stu-id="b00db-130">Depending on the size of your application and the number of VMs within an availability set, you can adjust the number of domains you wish to use.</span></span> <span data-ttu-id="b00db-131">Możesz przeczytać dodatkowe informacje [zarządzania, dostępność i stosowania aktualizacji i odporność domen](manage-availability.md).</span><span class="sxs-lookup"><span data-stu-id="b00db-131">You can read more about [managing availability and use of update and fault domains](manage-availability.md).</span></span>

<span data-ttu-id="b00db-132">Podczas projektowania infrastruktury aplikacji należy zaplanować warstwy aplikacji do użycia.</span><span class="sxs-lookup"><span data-stu-id="b00db-132">When designing your application infrastructure, plan out the application tiers to use.</span></span> <span data-ttu-id="b00db-133">Ustawia grupy maszyn wirtualnych, które służą tych samych celów w dostępności, takich jak zbiór dostępności dla maszyn wirtualnych frontonu systemem nginx lub Apache.</span><span class="sxs-lookup"><span data-stu-id="b00db-133">Group VMs that serve the same purpose in to availability sets, such as an availability set for your front-end VMs running nginx or Apache.</span></span> <span data-ttu-id="b00db-134">Utwórz oddzielne zbiór dostępności dla maszyn wirtualnych zaplecza uruchomiony bazy danych MongoDB lub MySQL.</span><span class="sxs-lookup"><span data-stu-id="b00db-134">Create a separate availability set for your back-end VMs running MongoDB or MySQL.</span></span> <span data-ttu-id="b00db-135">Celem jest zapewnienie każdego składnika aplikacji jest chroniony przez zestaw dostępności i co najmniej raz wystąpienia zawsze pozostaje uruchomiona.</span><span class="sxs-lookup"><span data-stu-id="b00db-135">The goal is to ensure that each component of your application is protected by an availability set and at least once instance always remains running.</span></span>

<span data-ttu-id="b00db-136">Na początku każdej warstwy aplikacji do pracy obok zestawu dostępności i upewnij się, że ruch zawsze mogą być kierowane do uruchomionego wystąpienia mogą zostać użyte usługi równoważenia obciążenia.</span><span class="sxs-lookup"><span data-stu-id="b00db-136">Load balancers can be utilized in front of each application tier to work alongside an availability set and ensure traffic can always be routed to a running instance.</span></span> <span data-ttu-id="b00db-137">Bez modułu równoważenia obciążenia maszyny wirtualne mogą nadal działać w całej zdarzeń planowanych lub nieplanowanych konserwacji, ale użytkownikowi końcowemu może nie móc rozwiązać je, jeśli podstawowej maszyny Wirtualnej jest niedostępny.</span><span class="sxs-lookup"><span data-stu-id="b00db-137">Without a load balancer, your VMs may continue running throughout planned and unplanned maintenance events, but your end user may not be able to resolve them if the primary VM is unavailable.</span></span>

<span data-ttu-id="b00db-138">Utwórz projekt swojej aplikacji w celu zapewnienia wysokiej dostępności w warstwie magazynu.</span><span class="sxs-lookup"><span data-stu-id="b00db-138">Design your application for high availability at storage layer.</span></span> <span data-ttu-id="b00db-139">Najlepszym rozwiązaniem jest [dysków zarządzanych maszyn wirtualnych w zestawie dostępności](manage-availability.md#use-managed-disks-for-vms-in-an-availability-set).</span><span class="sxs-lookup"><span data-stu-id="b00db-139">The best practice is to [use Managed Disks for VMs in an Availability Set](manage-availability.md#use-managed-disks-for-vms-in-an-availability-set).</span></span> <span data-ttu-id="b00db-140">Jeśli obecnie używasz niezarządzane dysków, zdecydowanie zaleca się [przekonwertować maszyny wirtualne w zestawie dostępności do zarządzanych dysków](convert-unmanaged-to-managed-disks.md#convert-vms-in-an-availability-set).</span><span class="sxs-lookup"><span data-stu-id="b00db-140">If you are currently using unmanaged disks, we highly recommend you to [convert VMs in Availability Set to use Managed Disks](convert-unmanaged-to-managed-disks.md#convert-vms-in-an-availability-set).</span></span>

## <a name="next-steps"></a><span data-ttu-id="b00db-141">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="b00db-141">Next steps</span></span>
[!INCLUDE [virtual-machines-linux-infrastructure-guidelines-next-steps](../../../includes/virtual-machines-linux-infrastructure-guidelines-next-steps.md)]

