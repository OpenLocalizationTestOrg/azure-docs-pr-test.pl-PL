---
title: "aaaTroubleshoot wdrożenia maszyny Wirtualnej systemu Linux — Classic | Dokumentacja firmy Microsoft"
description: "Klasycznym Rozwiązywanie problemów dotyczących wdrożenia podczas tworzenia nowej maszyny wirtualnej systemu Linux na platformie Azure"
services: virtual-machines-linux
documentationcenter: 
author: JiangChen79
manager: felixwu
editor: 
tags: top-support-issue
ms.assetid: c8a963fa-6b2a-4c7a-a1f4-7793adb02b19
ms.service: virtual-machines-linux
ms.workload: na
ms.tgt_pltfrm: vm-linux
ms.devlang: na
ms.topic: article
ms.date: 09/06/2016
ms.author: cjiang
ms.openlocfilehash: a642bfd9a543cd6d2104b03fe04193d9352ccae1
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="troubleshoot-classic-deployment-issues-with-creating-a-new-linux-virtual-machine-in-azure"></a><span data-ttu-id="7d03c-103">Rozwiązywanie problemów wdrożenie klasyczne z Tworzenie nowej maszyny wirtualnej systemu Linux na platformie Azure</span><span class="sxs-lookup"><span data-stu-id="7d03c-103">Troubleshoot classic deployment issues with creating a new Linux virtual machine in Azure</span></span>
[!INCLUDE [virtual-machines-troubleshoot-deployment-new-vm-selectors](../../../../includes/virtual-machines-linux-troubleshoot-deployment-new-vm-selectors-include.md)]

[!INCLUDE [virtual-machines-troubleshoot-deployment-new-vm-opening](../../../../includes/virtual-machines-troubleshoot-deployment-new-vm-opening-include.md)]

> [!IMPORTANT] 
> <span data-ttu-id="7d03c-104">Platforma Azure ma dwa różne modele wdrażania do tworzenia i pracy z zasobami: [Resource Manager i Model Klasyczny](../../../resource-manager-deployment-model.md).</span><span class="sxs-lookup"><span data-stu-id="7d03c-104">Azure has two different deployment models for creating and working with resources: [Resource Manager and Classic](../../../resource-manager-deployment-model.md).</span></span> <span data-ttu-id="7d03c-105">W tym artykule omówiono przy użyciu klasycznego modelu wdrożenia hello.</span><span class="sxs-lookup"><span data-stu-id="7d03c-105">This article covers using hello Classic deployment model.</span></span> <span data-ttu-id="7d03c-106">Firma Microsoft zaleca, aby większości nowych wdrożeń korzystać hello modelu Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="7d03c-106">Microsoft recommends that most new deployments use hello Resource Manager model.</span></span> <span data-ttu-id="7d03c-107">Wersja usługi Resource Manager hello w tym artykule, dla [tutaj](../troubleshoot-deployment-new-vm.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="7d03c-107">For hello Resource Manager version of this article, see [here](../troubleshoot-deployment-new-vm.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span>

[!INCLUDE [support-disclaimer](../../../../includes/support-disclaimer.md)]

## <a name="collect-audit-logs"></a><span data-ttu-id="7d03c-108">Dzienniki inspekcji zbieranie</span><span class="sxs-lookup"><span data-stu-id="7d03c-108">Collect audit logs</span></span>
<span data-ttu-id="7d03c-109">Rozwiązywanie problemów, toostart hello zbierania danych inspekcji rejestruje błąd hello tooidentify skojarzone z hello problem.</span><span class="sxs-lookup"><span data-stu-id="7d03c-109">toostart troubleshooting, collect hello audit logs tooidentify hello error associated with hello issue.</span></span>

<span data-ttu-id="7d03c-110">W portalu Azure hello, kliknij przycisk **Przeglądaj** > **maszyn wirtualnych** > *maszyny wirtualnej systemu Windows*  >   **Ustawienia** > **dzienniki inspekcji**.</span><span class="sxs-lookup"><span data-stu-id="7d03c-110">In hello Azure portal, click **Browse** > **Virtual machines** > *your Windows virtual machine* > **Settings** > **Audit logs**.</span></span>

[!INCLUDE [virtual-machines-troubleshoot-deployment-new-vm-issue1](../../../../includes/virtual-machines-troubleshoot-deployment-new-vm-issue1-include.md)]

[!INCLUDE [virtual-machines-linux-troubleshoot-deployment-new-vm-table](../../../../includes/virtual-machines-linux-troubleshoot-deployment-new-vm-table.md)]

<span data-ttu-id="7d03c-111">**/ Y:** Jeśli hello systemu operacyjnego Linux uogólniony i jest przekazany lub przechwycone z hello uogólniony ustawienie, wówczas nie będzie żadnych błędów.</span><span class="sxs-lookup"><span data-stu-id="7d03c-111">**Y:** If hello OS is Linux generalized, and it is uploaded and/or captured with hello generalized setting, then there won’t be any errors.</span></span> <span data-ttu-id="7d03c-112">Podobnie jeśli jest hello systemu operacyjnego Linux specjalizowany i jest przekazany lub przechwycić przy hello specjalizowany ustawienie, nie będzie błędów, a następnie.</span><span class="sxs-lookup"><span data-stu-id="7d03c-112">Similarly, if hello OS is Linux specialized, and it is uploaded and/or captured with hello specialized setting, then there won’t be any errors.</span></span>

<span data-ttu-id="7d03c-113">**Przekazywanie błędów:**</span><span class="sxs-lookup"><span data-stu-id="7d03c-113">**Upload Errors:**</span></span>

<span data-ttu-id="7d03c-114">**N<sup>1</sup>:** Jeśli hello systemu operacyjnego Linux uogólniony, a jest przekazywany jako wyspecjalizowane, otrzymasz inicjowania obsługi administracyjnej błąd upływu limitu czasu ponieważ hello maszyny Wirtualnej jest zablokowany na powitania inicjowania obsługi administracyjnej etapu.</span><span class="sxs-lookup"><span data-stu-id="7d03c-114">**N<sup>1</sup>:** If hello OS is Linux generalized, and it is uploaded as specialized, you will get a provisioning timeout error because hello VM is stuck at hello provisioning stage.</span></span>

<span data-ttu-id="7d03c-115">**N<sup>2</sup>:** w przypadku hello systemu operacyjnego Linux specjalizowany, a przesłaniem jako uogólniony, otrzymasz błędem błąd inicjowania obsługi administracyjnej, ponieważ hello nowej maszyny Wirtualnej został uruchomiony z hello oryginalną nazwę komputera, nazwę użytkownika i hasło.</span><span class="sxs-lookup"><span data-stu-id="7d03c-115">**N<sup>2</sup>:** If hello OS is Linux specialized, and it is uploaded as generalized, you will get a provisioning failure error because hello new VM is running with hello original computer name, username and password.</span></span>

<span data-ttu-id="7d03c-116">**Rozwiązanie:**</span><span class="sxs-lookup"><span data-stu-id="7d03c-116">**Resolution:**</span></span>

<span data-ttu-id="7d03c-117">tooresolve obu tych błędów, Przekaż hello oryginalny dysk VHD, dostępnych na lokalnym, z hello takie same jak ustawienie hello systemu operacyjnego (uogólniony/specjalizowany).</span><span class="sxs-lookup"><span data-stu-id="7d03c-117">tooresolve both these errors, upload hello original VHD, available on-prem, with hello same setting as that for hello OS (generalized/specialized).</span></span> <span data-ttu-id="7d03c-118">tooupload jako uogólniony, pamiętaj toorun-anulowanie zastrzeżenia najpierw.</span><span class="sxs-lookup"><span data-stu-id="7d03c-118">tooupload as generalized, remember toorun -deprovision first.</span></span> <span data-ttu-id="7d03c-119">Zobacz [tworzenie i przekazywanie wirtualnego dysku twardego tego hello zawiera System operacyjny Linux](create-upload-vhd.md) Aby uzyskać więcej informacji.</span><span class="sxs-lookup"><span data-stu-id="7d03c-119">See [Create and Upload a Virtual Hard Disk that Contains hello Linux Operating System](create-upload-vhd.md) for more information.</span></span>

<span data-ttu-id="7d03c-120">**Zapisz błędy:**</span><span class="sxs-lookup"><span data-stu-id="7d03c-120">**Capture Errors:**</span></span>

<span data-ttu-id="7d03c-121">**N<sup>3</sup>:** Jeśli hello systemu operacyjnego Linux uogólniony, a jest przechwytywany jako wyspecjalizowane, otrzymasz inicjowania obsługi administracyjnej błąd upływu limitu czasu, ponieważ oryginalne hello maszyny Wirtualnej nie jest używany jako jest oznaczony jako uogólniony.</span><span class="sxs-lookup"><span data-stu-id="7d03c-121">**N<sup>3</sup>:** If hello OS is Linux generalized, and it is captured as specialized, you will get a provisioning timeout error because hello original VM is not usable as it is marked as generalized.</span></span>

<span data-ttu-id="7d03c-122">**N<sup>4</sup>:** w przypadku hello systemu operacyjnego Linux specjalizowany i jest przechwytywany jako uogólniony, otrzymasz błędem błąd inicjowania obsługi administracyjnej, ponieważ hello nowej maszyny Wirtualnej został uruchomiony z hello oryginalną nazwę komputera, nazwę użytkownika i hasło.</span><span class="sxs-lookup"><span data-stu-id="7d03c-122">**N<sup>4</sup>:** If hello OS is Linux specialized, and it is captured as generalized, you will get a provisioning failure error because hello new VM is running with hello original computer name, username and password.</span></span> <span data-ttu-id="7d03c-123">Ponadto oryginalne hello maszyny Wirtualnej nie jest używany, ponieważ jest on oznaczony jako specjalne.</span><span class="sxs-lookup"><span data-stu-id="7d03c-123">Also, hello original VM is not usable because it is marked as specialized.</span></span>

<span data-ttu-id="7d03c-124">**Rozwiązanie:**</span><span class="sxs-lookup"><span data-stu-id="7d03c-124">**Resolution:**</span></span>

<span data-ttu-id="7d03c-125">tooresolve obu tych błędów, Usuń hello bieżącego obrazu z portalu hello i [je ponownie przechwycić z hello bieżącego wirtualne dyski twarde](capture-image.md) z hello sam, jak ustawienie hello systemu operacyjnego (uogólniony/specjalizowany).</span><span class="sxs-lookup"><span data-stu-id="7d03c-125">tooresolve both these errors, delete hello current image from hello portal, and [recapture it from hello current VHDs](capture-image.md) with hello same setting as that for hello OS (generalized/specialized).</span></span>

## <a name="issue-custom-gallery-marketplace-image-allocation-failure"></a><span data-ttu-id="7d03c-126">Problem: Niestandardowy / galerii / obrazu z witryny marketplace; Błąd alokacji</span><span class="sxs-lookup"><span data-stu-id="7d03c-126">Issue: Custom/ gallery/ marketplace image; allocation failure</span></span>
<span data-ttu-id="7d03c-127">Ten błąd pojawia się w sytuacji gdy hello nowe żądanie maszyny Wirtualnej są wysyłane tooa klastra, który nie ma wolnego miejsca tooaccommodate hello żądania, albo nie obsługuje żądanej rozmiar maszyny Wirtualnej hello.</span><span class="sxs-lookup"><span data-stu-id="7d03c-127">This error arises in situations when hello new VM request is sent tooa cluster that either does not have available free space tooaccommodate hello request, or cannot support hello VM size being requested.</span></span> <span data-ttu-id="7d03c-128">Nie jest możliwe toomix innej serii maszyn wirtualnych w hello sama usługa w chmurze.</span><span class="sxs-lookup"><span data-stu-id="7d03c-128">It is not possible toomix different series of VMs in hello same cloud service.</span></span> <span data-ttu-id="7d03c-129">Więc jeśli chcesz toocreate nowej maszyny Wirtualnej o innym rozmiarze niż to, co może obsługiwać usługi w chmurze, hello obliczeń żądanie zakończy się niepowodzeniem.</span><span class="sxs-lookup"><span data-stu-id="7d03c-129">So if you want toocreate a new VM of a different size than what your cloud service can support, hello compute request will fail.</span></span>

<span data-ttu-id="7d03c-130">W zależności od ograniczeń hello hello usługi w chmurze Użyj toocreate hello nowej maszyny Wirtualnej, może wystąpić błąd spowodowane jedną z dwóch sytuacji.</span><span class="sxs-lookup"><span data-stu-id="7d03c-130">Depending on hello constraints of hello cloud service you use toocreate hello new VM, you might encounter an error caused by one of two situations.</span></span>

<span data-ttu-id="7d03c-131">**Przyczyna 1:** usługa w chmurze hello jest przypięty tooa określonego klastra lub jest połączony tooan grupy koligacji i dlatego przypiętych tooa określonego klastra zgodnie z projektem.</span><span class="sxs-lookup"><span data-stu-id="7d03c-131">**Cause 1:** hello cloud service is pinned tooa specific cluster, or it is linked tooan affinity group, and hence pinned tooa specific cluster by design.</span></span> <span data-ttu-id="7d03c-132">Dlatego żądania nowych zasobów obliczeniowych w tej grupie koligacji są sprawdzane w hello sam klastra, gdzie hostowane są hello istniejących zasobów.</span><span class="sxs-lookup"><span data-stu-id="7d03c-132">So new compute resource requests in that affinity group are tried in hello same cluster where hello existing resources are hosted.</span></span> <span data-ttu-id="7d03c-133">Jednak hello tego samego klastra może nie hello Obsługa żądany rozmiar maszyny Wirtualnej lub ma za mało dostępnego miejsca, powodując błąd alokacji.</span><span class="sxs-lookup"><span data-stu-id="7d03c-133">However, hello same cluster may either not support hello requested VM size or have insufficient available space, resulting in an allocation error.</span></span> <span data-ttu-id="7d03c-134">Jest to możliwe, czy nowe zasoby hello są tworzone przez nową usługę w chmurze albo przez istniejącą usługę w chmurze.</span><span class="sxs-lookup"><span data-stu-id="7d03c-134">This is true whether hello new resources are created through a new cloud service or through an existing cloud service.</span></span>

<span data-ttu-id="7d03c-135">**Rozwiązanie 1:**</span><span class="sxs-lookup"><span data-stu-id="7d03c-135">**Resolution 1:**</span></span>

* <span data-ttu-id="7d03c-136">Utwórz nową usługę w chmurze i powiązać ją z obszarem lub sieci wirtualnej na podstawie regionu.</span><span class="sxs-lookup"><span data-stu-id="7d03c-136">Create a new cloud service and associate it with either a region or a region-based virtual network.</span></span>
* <span data-ttu-id="7d03c-137">Utwórz nową maszynę Wirtualną w hello nową usługę w chmurze.</span><span class="sxs-lookup"><span data-stu-id="7d03c-137">Create a new VM in hello new cloud service.</span></span>
  <span data-ttu-id="7d03c-138">Jeśli wystąpi błąd podczas próby toocreate nową usługę w chmurze, spróbuj ponownie później lub zmienić regionu hello hello usłudze w chmurze.</span><span class="sxs-lookup"><span data-stu-id="7d03c-138">If you get an error when trying toocreate a new cloud service, either retry at a later time or change hello region for hello cloud service.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="7d03c-139">Jeśli zostały próby toocreate nową maszynę Wirtualną w istniejącej usługi w chmurze, ale nie i ma toocreate nową usługę chmury dla nowej maszyny Wirtualnej, można wybrać tooconsolidate wszystkich maszyn wirtualnych w hello sama usługa w chmurze.</span><span class="sxs-lookup"><span data-stu-id="7d03c-139">If you were trying toocreate a new VM in an existing cloud service but couldn’t, and had toocreate a new cloud service for your new VM, you can choose tooconsolidate all your VMs in hello same cloud service.</span></span> <span data-ttu-id="7d03c-140">toodo tak, Usuń maszyny wirtualne hello hello istniejących w usłudze w chmurze i ponownie je przechwycić z ich dysków w hello nową usługę w chmurze.</span><span class="sxs-lookup"><span data-stu-id="7d03c-140">toodo so, delete hello VMs in hello existing cloud service, and recapture them from their disks in hello new cloud service.</span></span> <span data-ttu-id="7d03c-141">Jest jednak ważne tooremember hello nową usługę w chmurze że nowej nazwy i adresu VIP, dlatego należy tooupdate tych opcji dla wszystkich zależności hello, które obecnie korzystanie z tej informacji hello istniejącą usługę w chmurze.</span><span class="sxs-lookup"><span data-stu-id="7d03c-141">However, it is important tooremember that hello new cloud service will have a new name and VIP, so you will need tooupdate these for all hello dependencies that currently use this information for hello existing cloud service.</span></span>
> 
> 

<span data-ttu-id="7d03c-142">**Przyczyny 2:** usługa w chmurze hello jest skojarzona z siecią wirtualną, która jest tooan połączonej grupy koligacji, dlatego jest przypięty tooa określonego klastra zgodnie z projektem.</span><span class="sxs-lookup"><span data-stu-id="7d03c-142">**Cause 2:** hello cloud service is associated with a virtual network that is linked tooan affinity group, so it is pinned tooa specific cluster by design.</span></span> <span data-ttu-id="7d03c-143">Wszystkie nowe żądania zasobów obliczeniowych w tej grupie koligacji, w związku z tym są sprawdzane w hello sam klastra, gdzie hostowane są hello istniejących zasobów.</span><span class="sxs-lookup"><span data-stu-id="7d03c-143">All new compute resource requests in that affinity group are therefore tried in hello same cluster where hello existing resources are hosted.</span></span> <span data-ttu-id="7d03c-144">Jednak hello tego samego klastra może nie hello Obsługa żądany rozmiar maszyny Wirtualnej lub ma za mało dostępnego miejsca, powodując błąd alokacji.</span><span class="sxs-lookup"><span data-stu-id="7d03c-144">However, hello same cluster may either not support hello requested VM size or have insufficient available space, resulting in an allocation error.</span></span> <span data-ttu-id="7d03c-145">Jest to możliwe, czy nowe zasoby hello są tworzone przez nową usługę w chmurze albo przez istniejącą usługę w chmurze.</span><span class="sxs-lookup"><span data-stu-id="7d03c-145">This is true whether hello new resources are created through a new cloud service or through an existing cloud service.</span></span>

<span data-ttu-id="7d03c-146">**Rozdzielczość 2:**</span><span class="sxs-lookup"><span data-stu-id="7d03c-146">**Resolution 2:**</span></span>

* <span data-ttu-id="7d03c-147">Tworzenie nowego regionalnej sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="7d03c-147">Create a new regional virtual network.</span></span>
* <span data-ttu-id="7d03c-148">Tworzenie nowej maszyny Wirtualnej w nowej sieci wirtualnej hello hello.</span><span class="sxs-lookup"><span data-stu-id="7d03c-148">Create hello new VM in hello new virtual network.</span></span>
* <span data-ttu-id="7d03c-149">[Połączenie z istniejącą siecią wirtualną](https://azure.microsoft.com/blog/vnet-to-vnet-connecting-virtual-networks-in-azure-across-different-regions/) toohello nowej sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="7d03c-149">[Connect your existing virtual network](https://azure.microsoft.com/blog/vnet-to-vnet-connecting-virtual-networks-in-azure-across-different-regions/) toohello new virtual network.</span></span> <span data-ttu-id="7d03c-150">Zobacz więcej informacji [regionalnych sieci wirtualnych](https://azure.microsoft.com/blog/2014/05/14/regional-virtual-networks/).</span><span class="sxs-lookup"><span data-stu-id="7d03c-150">See more about [regional virtual networks](https://azure.microsoft.com/blog/2014/05/14/regional-virtual-networks/).</span></span> <span data-ttu-id="7d03c-151">Można też [migracji sieci wirtualnej na podstawie grupy koligacji tooa regionalnej sieci wirtualnej](https://azure.microsoft.com/blog/2014/11/26/migrating-existing-services-to-regional-scope/), a następnie utwórz hello nowej maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="7d03c-151">Alternatively, you can [migrate your affinity-group-based virtual network tooa regional virtual network](https://azure.microsoft.com/blog/2014/11/26/migrating-existing-services-to-regional-scope/), and then create hello new VM.</span></span>

## <a name="next-steps"></a><span data-ttu-id="7d03c-152">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="7d03c-152">Next steps</span></span>
<span data-ttu-id="7d03c-153">Jeśli wystąpią problemy podczas uruchamiania zatrzymanej maszyny Wirtualnej systemu Linux lub zmień rozmiar istniejącej maszyny Wirtualnej systemu Linux na platformie Azure, zobacz [klasycznego Rozwiązywanie problemów dotyczących wdrożenia z ponownym uruchomieniem lub zmiana rozmiaru istniejącej maszyny wirtualnej systemu Linux na platformie Azure](restart-resize-error-troubleshooting.md).</span><span class="sxs-lookup"><span data-stu-id="7d03c-153">If you encounter issues when you start a stopped Linux VM or resize an existing Linux VM in Azure, see [Troubleshoot classic deployment issues with restarting or resizing an existing Linux Virtual Machine in Azure](restart-resize-error-troubleshooting.md).</span></span>

