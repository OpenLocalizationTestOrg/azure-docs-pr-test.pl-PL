---
title: "aaaDetailed SSH dotyczące rozwiązywania problemów w maszynie Wirtualnej platformy Azure | Dokumentacja firmy Microsoft"
description: "Szczegółowe kroki rozwiązywania problemów dotyczących problemów łączenie tooan maszyny wirtualnej platformy Azure SSH"
keywords: "SSH połączenia zostało odrzucone, ssh błędu, platforma azure ssh, połączenia SSH nie powiodło się"
services: virtual-machines-linux
documentationcenter: 
author: iainfoulds
manager: timlt
editor: 
tags: top-support-issue,azure-service-management,azure-resource-manager
ms.assetid: b8e8be5f-e8a6-489d-9922-9df8de32e839
ms.service: virtual-machines-linux
ms.workload: infrastructure-services
ms.tgt_pltfrm: vm-linux
ms.devlang: na
ms.topic: support-article
ms.date: 07/06/2017
ms.author: iainfou
ms.openlocfilehash: 3f711e53a8251f8c06dbb589a258222566a4ae1e
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="detailed-ssh-troubleshooting-steps-for-issues-connecting-tooa-linux-vm-in-azure"></a><span data-ttu-id="4d887-104">SSH szczegółowe kroki rozwiązywania problemów dotyczących problemów łączenie tooa maszyny Wirtualnej systemu Linux na platformie Azure</span><span class="sxs-lookup"><span data-stu-id="4d887-104">Detailed SSH troubleshooting steps for issues connecting tooa Linux VM in Azure</span></span>
<span data-ttu-id="4d887-105">Istnieje wiele możliwych przyczyn tego powitania klienta SSH mogą nie być możliwe tooreach hello SSH usługi na powitania maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="4d887-105">There are many possible reasons that hello SSH client might not be able tooreach hello SSH service on hello VM.</span></span> <span data-ttu-id="4d887-106">Jeśli wykonano za pomocą hello więcej [SSH ogólne kroki rozwiązywania problemów](troubleshoot-ssh-connection.md), należy toofurther rozwiązać problem z połączeniem hello.</span><span class="sxs-lookup"><span data-stu-id="4d887-106">If you have followed through hello more [general SSH troubleshooting steps](troubleshoot-ssh-connection.md), you need toofurther troubleshoot hello connection issue.</span></span> <span data-ttu-id="4d887-107">W tym artykule przedstawiono szczegółowe toodetermine kroki rozwiązywania problemów w przypadku, gdy kończy się niepowodzeniem hello połączenia SSH i w jaki sposób tooresolve go.</span><span class="sxs-lookup"><span data-stu-id="4d887-107">This article guides you through detailed troubleshooting steps toodetermine where hello SSH connection is failing and how tooresolve it.</span></span>

## <a name="take-preliminary-steps"></a><span data-ttu-id="4d887-108">Czynności wstępne</span><span class="sxs-lookup"><span data-stu-id="4d887-108">Take preliminary steps</span></span>
<span data-ttu-id="4d887-109">Witaj poniższym diagramie przedstawiono składniki hello, które nie są związane.</span><span class="sxs-lookup"><span data-stu-id="4d887-109">hello following diagram shows hello components that are involved.</span></span>

![Diagram pokazujący składniki usługi SSH](./media/detailed-troubleshoot-ssh-connection/ssh-tshoot1.png)

<span data-ttu-id="4d887-111">Witaj Poniższe etapy ułatwiają odizolowania hello źródła błędu hello i ustalić rozwiązania lub obejścia.</span><span class="sxs-lookup"><span data-stu-id="4d887-111">hello following steps help you isolate hello source of hello failure and figure out solutions or workarounds.</span></span>

1. <span data-ttu-id="4d887-112">Sprawdź stan hello hello maszyny Wirtualnej w portalu hello.</span><span class="sxs-lookup"><span data-stu-id="4d887-112">Check hello status of hello VM in hello portal.</span></span>
   <span data-ttu-id="4d887-113">W hello [portalu Azure](https://portal.azure.com), wybierz pozycję **maszyn wirtualnych** > *nazwę maszyny Wirtualnej*.</span><span class="sxs-lookup"><span data-stu-id="4d887-113">In hello [Azure portal](https://portal.azure.com), select **Virtual machines** > *VM name*.</span></span>

   <span data-ttu-id="4d887-114">Witaj stan okienka hello maszyny Wirtualnej powinny być widoczne **systemem**.</span><span class="sxs-lookup"><span data-stu-id="4d887-114">hello status pane for hello VM should show **Running**.</span></span> <span data-ttu-id="4d887-115">Przewiń w dół tooshow ostatniej aktywności dla zasobów obliczeniowych, magazynu i zasobów sieciowych.</span><span class="sxs-lookup"><span data-stu-id="4d887-115">Scroll down tooshow recent activity for compute, storage, and network resources.</span></span>

2. <span data-ttu-id="4d887-116">Wybierz **ustawienia** tooexamine punkty końcowe, adresy IP, grup zabezpieczeń sieci i innych ustawień.</span><span class="sxs-lookup"><span data-stu-id="4d887-116">Select **Settings** tooexamine endpoints, IP addresses, network security groups, and other settings.</span></span>

   <span data-ttu-id="4d887-117">Witaj maszyny Wirtualnej powinny mieć punkt końcowy zdefiniowany dla ruchu protokołu SSH, który można wyświetlić w **punkty końcowe** lub  **[sieciowej grupy zabezpieczeń](../../virtual-network/virtual-networks-nsg.md)**.</span><span class="sxs-lookup"><span data-stu-id="4d887-117">hello VM should have an endpoint defined for SSH traffic that you can view in **Endpoints** or **[Network security group](../../virtual-network/virtual-networks-nsg.md)**.</span></span> <span data-ttu-id="4d887-118">Punkty końcowe na maszynach wirtualnych, które zostały utworzone za pomocą Menedżera zasobów są przechowywane w grupie zabezpieczeń sieci.</span><span class="sxs-lookup"><span data-stu-id="4d887-118">Endpoints in VMs that were created by using Resource Manager are stored in a network security group.</span></span> <span data-ttu-id="4d887-119">Sprawdź także, że hello zasady zostały zastosowane toohello sieciowej grupy zabezpieczeń i że jest przywoływany w hello podsieci.</span><span class="sxs-lookup"><span data-stu-id="4d887-119">Also, verify that hello rules have been applied toohello network security group and that they're referenced in hello subnet.</span></span>

<span data-ttu-id="4d887-120">tooverify łączność z siecią, sprawdź punkty końcowe skonfigurowane hello i zobacz, jeżeli można osiągnąć hello maszyny Wirtualnej za pomocą innego protokołu, na przykład HTTP lub innej usługi.</span><span class="sxs-lookup"><span data-stu-id="4d887-120">tooverify network connectivity, check hello configured endpoints and see if you can reach hello VM through another protocol, such as HTTP or another service.</span></span>

<span data-ttu-id="4d887-121">Po wykonaniu tych kroków spróbuj ponownie połączenia SSH hello.</span><span class="sxs-lookup"><span data-stu-id="4d887-121">After these steps, try hello SSH connection again.</span></span>

## <a name="find-hello-source-of-hello-issue"></a><span data-ttu-id="4d887-122">Znajdź źródło hello hello wydania</span><span class="sxs-lookup"><span data-stu-id="4d887-122">Find hello source of hello issue</span></span>
<span data-ttu-id="4d887-123">Klient SSH Hello na tym komputerze może zakończyć się niepowodzeniem usługi SSH hello tooreach na powitania maszyny Wirtualnej Azure tooissues lub błędy konfiguracji hello następujące obszary:</span><span class="sxs-lookup"><span data-stu-id="4d887-123">hello SSH client on your computer might fail tooreach hello SSH service on hello Azure VM due tooissues or misconfigurations in hello following areas:</span></span>

* [<span data-ttu-id="4d887-124">Komputer kliencki SSH</span><span class="sxs-lookup"><span data-stu-id="4d887-124">SSH client computer</span></span>](#source-1-ssh-client-computer)
* [<span data-ttu-id="4d887-125">Urządzenie brzegowe organizacji</span><span class="sxs-lookup"><span data-stu-id="4d887-125">Organization edge device</span></span>](#source-2-organization-edge-device)
* [<span data-ttu-id="4d887-126">Punkt końcowy usługi w chmurze i uzyskiwać dostęp do listy kontroli (ACL)</span><span class="sxs-lookup"><span data-stu-id="4d887-126">Cloud service endpoint and access control list (ACL)</span></span>](#source-3-cloud-service-endpoint-and-acl)
* [<span data-ttu-id="4d887-127">Sieciowe grupy zabezpieczeń</span><span class="sxs-lookup"><span data-stu-id="4d887-127">Network security groups</span></span>](#source-4-network-security-groups)
* [<span data-ttu-id="4d887-128">Maszyna wirtualna Azure opartej na systemie Linux</span><span class="sxs-lookup"><span data-stu-id="4d887-128">Linux-based Azure VM</span></span>](#source-5-linux-based-azure-virtual-machine)

## <a name="source-1-ssh-client-computer"></a><span data-ttu-id="4d887-129">Źródło 1: SSH komputera klienckiego</span><span class="sxs-lookup"><span data-stu-id="4d887-129">Source 1: SSH client computer</span></span>
<span data-ttu-id="4d887-130">tooeliminate komputera jako źródło hello awarii hello, sprawdź, czy go SSH połączeń tooanother lokalnie, komputer oparty na systemie Linux.</span><span class="sxs-lookup"><span data-stu-id="4d887-130">tooeliminate your computer as hello source of hello failure, verify that it can make SSH connections tooanother on-premises, Linux-based computer.</span></span>

![Diagram, który prezentuje składniki komputera klienta SSH](./media/detailed-troubleshoot-ssh-connection/ssh-tshoot2.png)

<span data-ttu-id="4d887-132">Jeśli hello połączenia nie powiedzie się, sprawdź hello następujące problemy na komputerze:</span><span class="sxs-lookup"><span data-stu-id="4d887-132">If hello connection fails, check for hello following issues on your computer:</span></span>

* <span data-ttu-id="4d887-133">Ustawienie zapory lokalnej, która blokuje ruch SSH ruchu przychodzącego lub wychodzącego (TCP 22)</span><span class="sxs-lookup"><span data-stu-id="4d887-133">A local firewall setting that is blocking inbound or outbound SSH traffic (TCP 22)</span></span>
* <span data-ttu-id="4d887-134">Lokalnie zainstalowane oprogramowanie serwera proxy klienta, który uniemożliwia połączeń SSH</span><span class="sxs-lookup"><span data-stu-id="4d887-134">Locally installed client proxy software that is preventing SSH connections</span></span>
* <span data-ttu-id="4d887-135">Zainstalowanego lokalnie pakietu oprogramowania, który uniemożliwia połączeń SSH do monitorowania sieci</span><span class="sxs-lookup"><span data-stu-id="4d887-135">Locally installed network monitoring software that is preventing SSH connections</span></span>
* <span data-ttu-id="4d887-136">Inne rodzaje oprogramowania zabezpieczającego, które monitorowania ruchu lub Zezwalaj/nie zezwalaj na określone typy ruchu</span><span class="sxs-lookup"><span data-stu-id="4d887-136">Other types of security software that either monitor traffic or allow/disallow specific types of traffic</span></span>

<span data-ttu-id="4d887-137">Jeśli zastosować jedną z tych warunków, tymczasowo wyłączyć hello oprogramowania i spróbuj SSH połączenia tooan lokalnego komputera toofind limit przyczyny hello połączenia hello jest blokowana na tym komputerze.</span><span class="sxs-lookup"><span data-stu-id="4d887-137">If one of these conditions apply, temporarily disable hello software and try an SSH connection tooan on-premises computer toofind out hello reason hello connection is being blocked on your computer.</span></span> <span data-ttu-id="4d887-138">Następnie skontaktowanie się z administratorem toocorrect hello oprogramowania ustawienia tooallow SSH połączenia sieciowe.</span><span class="sxs-lookup"><span data-stu-id="4d887-138">Then work with your network administrator toocorrect hello software settings tooallow SSH connections.</span></span>

<span data-ttu-id="4d887-139">Jeśli korzystasz z uwierzytelniania certyfikatów, sprawdź ma folderu .ssh toohello tych uprawnień w katalogu macierzystego:</span><span class="sxs-lookup"><span data-stu-id="4d887-139">If you are using certificate authentication, verify that you have these permissions toohello .ssh folder in your home directory:</span></span>

* <span data-ttu-id="4d887-140">Chmod 700 ~/.ssh</span><span class="sxs-lookup"><span data-stu-id="4d887-140">Chmod 700 ~/.ssh</span></span>
* <span data-ttu-id="4d887-141">Chmod 644 ~/.ssh/\*.pub</span><span class="sxs-lookup"><span data-stu-id="4d887-141">Chmod 644 ~/.ssh/\*.pub</span></span>
* <span data-ttu-id="4d887-142">Chmod 600 ~/.ssh/id_rsa (lub innych plików, które zostały zapisane w ich kluczy prywatnych)</span><span class="sxs-lookup"><span data-stu-id="4d887-142">Chmod 600 ~/.ssh/id_rsa (or any other files that have your private keys stored in them)</span></span>
* <span data-ttu-id="4d887-143">Chmod 644 ~/.ssh/known_hosts (zawiera hosty, że nawiązano połączenie toovia SSH)</span><span class="sxs-lookup"><span data-stu-id="4d887-143">Chmod 644 ~/.ssh/known_hosts (contains hosts that you’ve connected toovia SSH)</span></span>

## <a name="source-2-organization-edge-device"></a><span data-ttu-id="4d887-144">Źródło 2: Urządzenie brzegowe organizacji</span><span class="sxs-lookup"><span data-stu-id="4d887-144">Source 2: Organization edge device</span></span>
<span data-ttu-id="4d887-145">tooeliminate urządzenia krawędzi organizacji jako źródło hello hello awarii, sprawdź, czy komputerze, który jest podłączony bezpośrednio toohello Internet ułatwia tooyour połączenia SSH maszyny Wirtualnej platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="4d887-145">tooeliminate your organization edge device as hello source of hello failure, verify that a computer that's directly connected toohello Internet can make SSH connections tooyour Azure VM.</span></span> <span data-ttu-id="4d887-146">Jeśli uzyskują dostęp do hello maszyny Wirtualnej za pośrednictwem sieci VPN lokacja lokacja lub połączenia Azure ExpressRoute, Pomiń zbyt[źródła 4: sieciowej grupy zabezpieczeń](#nsg).</span><span class="sxs-lookup"><span data-stu-id="4d887-146">If you are accessing hello VM over a site-to-site VPN or an Azure ExpressRoute connection, skip too[Source 4: Network security groups](#nsg).</span></span>

![Diagram, który prezentuje urządzenie brzegowe organizacji](./media/detailed-troubleshoot-ssh-connection/ssh-tshoot3.png)

<span data-ttu-id="4d887-148">Jeśli nie masz komputera, który jest bezpośrednio połączony toohello Internet, Utwórz nową maszynę Wirtualną Azure w jego własnej usługi chmury lub grupy zasobów i używać go.</span><span class="sxs-lookup"><span data-stu-id="4d887-148">If you don't have a computer that is directly connected toohello Internet, create a new Azure VM in its own resource group or cloud service and use it.</span></span> <span data-ttu-id="4d887-149">Aby uzyskać więcej informacji, zobacz [Utwórz maszynę wirtualną z systemem Linux na platformie Azure](quick-create-cli.md).</span><span class="sxs-lookup"><span data-stu-id="4d887-149">For more information, see [Create a virtual machine running Linux in Azure](quick-create-cli.md).</span></span> <span data-ttu-id="4d887-150">Po zakończeniu testowania, należy usunąć hello zasobów grupy lub maszyny Wirtualnej i w chmurze usługi.</span><span class="sxs-lookup"><span data-stu-id="4d887-150">Delete hello resource group or VM and cloud service when you're done with your testing.</span></span>

<span data-ttu-id="4d887-151">Jeśli tworzysz połączenie SSH z komputerem, który jest bezpośrednio połączony toohello Internet, sprawdź urządzenie brzegowe organizacji dla:</span><span class="sxs-lookup"><span data-stu-id="4d887-151">If you can create an SSH connection with a computer that's directly connected toohello Internet, check your organization edge device for:</span></span>

* <span data-ttu-id="4d887-152">Wewnętrzny zapory, która blokuje ruch SSH hello Internet</span><span class="sxs-lookup"><span data-stu-id="4d887-152">An internal firewall that's blocking SSH traffic with hello Internet</span></span>
* <span data-ttu-id="4d887-153">Serwer proxy, który uniemożliwia połączeń SSH</span><span class="sxs-lookup"><span data-stu-id="4d887-153">A proxy server that's preventing SSH connections</span></span>
* <span data-ttu-id="4d887-154">Włamań lub oprogramowanie na urządzeniach w sieci krawędzi, która uniemożliwia połączeń SSH do monitorowania sieci</span><span class="sxs-lookup"><span data-stu-id="4d887-154">Intrusion detection or network monitoring software running on devices in your edge network that's preventing SSH connections</span></span>

<span data-ttu-id="4d887-155">Współpraca z ustawień sieci administrator toocorrect hello organizacji krawędzi urządzenia tooallow SSH ruchu z hello Internet.</span><span class="sxs-lookup"><span data-stu-id="4d887-155">Work with your network administrator toocorrect hello settings of your organization edge devices tooallow SSH traffic with hello Internet.</span></span>

## <a name="source-3-cloud-service-endpoint-and-acl"></a><span data-ttu-id="4d887-156">Źródło 3: Punkt końcowy usługi w chmurze i listy ACL</span><span class="sxs-lookup"><span data-stu-id="4d887-156">Source 3: Cloud service endpoint and ACL</span></span>
> [!NOTE]
> <span data-ttu-id="4d887-157">To źródło dotyczy tylko tooVMs, które zostały utworzone przy użyciu hello klasycznego modelu wdrażania.</span><span class="sxs-lookup"><span data-stu-id="4d887-157">This source applies only tooVMs that were created by using hello classic deployment model.</span></span> <span data-ttu-id="4d887-158">Dla maszyn wirtualnych, które zostały utworzone za pomocą Menedżera zasobów, Pomiń zbyt[źródła 4: sieciowej grupy zabezpieczeń](#nsg).</span><span class="sxs-lookup"><span data-stu-id="4d887-158">For VMs that were created by using Resource Manager, skip too[source 4: Network security groups](#nsg).</span></span>

<span data-ttu-id="4d887-159">końcowy usługi w chmurze hello tooeliminate i listy ACL jako źródło hello hello awarii, sprawdź, inną maszynę Wirtualną platformy Azure, w hello sama sieć wirtualną można wprowadzać tooyour połączenia SSH maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="4d887-159">tooeliminate hello cloud service endpoint and ACL as hello source of hello failure, verify that another Azure VM in hello same virtual network can make SSH connections tooyour VM.</span></span>

![Diagram, który prezentuje punktu końcowego usługi w chmurze i listy kontroli dostępu](./media/detailed-troubleshoot-ssh-connection/ssh-tshoot4.png)

<span data-ttu-id="4d887-161">Jeśli nie masz inną maszynę Wirtualną w hello tej samej sieci wirtualnej, można łatwo utworzyć.</span><span class="sxs-lookup"><span data-stu-id="4d887-161">If you don't have another VM in hello same virtual network, you can easily create one.</span></span> <span data-ttu-id="4d887-162">Aby uzyskać więcej informacji, zobacz [Utwórz Maszynę wirtualną systemu Linux na platformie Azure przy użyciu interfejsu wiersza polecenia hello](quick-create-cli.md).</span><span class="sxs-lookup"><span data-stu-id="4d887-162">For more information, see [Create a Linux VM on Azure using hello CLI](quick-create-cli.md).</span></span> <span data-ttu-id="4d887-163">Usuń hello dodatkowe maszyny Wirtualnej, gdy po zakończeniu testowania.</span><span class="sxs-lookup"><span data-stu-id="4d887-163">Delete hello extra VM when you are done with your testing.</span></span>

<span data-ttu-id="4d887-164">W przypadku utworzenia połączenia SSH z maszyną Wirtualną w hello sam wirtualnych sieci, należy sprawdzić hello następujące obszary:</span><span class="sxs-lookup"><span data-stu-id="4d887-164">If you can create an SSH connection with a VM in hello same virtual network, check hello following areas:</span></span>

* <span data-ttu-id="4d887-165">**Konfiguracja punktu końcowego Hello transmisji SSH na docelowej hello maszyny Wirtualnej.**</span><span class="sxs-lookup"><span data-stu-id="4d887-165">**hello endpoint configuration for SSH traffic on hello target VM.**</span></span> <span data-ttu-id="4d887-166">port prywatny TCP Hello hello punktu końcowego powinna odpowiadać hello port TCP, na które hello SSH nasłuchuje usługa na powitania maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="4d887-166">hello private TCP port of hello endpoint should match hello TCP port on which hello SSH service on hello VM is listening.</span></span> <span data-ttu-id="4d887-167">(hello domyślny port to 22).</span><span class="sxs-lookup"><span data-stu-id="4d887-167">(hello default port is 22).</span></span> <span data-ttu-id="4d887-168">Sprawdź numer portu SSH TCP hello w hello portalu Azure, wybierając **maszyn wirtualnych** > *nazwę maszyny Wirtualnej* > **ustawienia**  >  **Punkty końcowe**.</span><span class="sxs-lookup"><span data-stu-id="4d887-168">Verify hello SSH TCP port number in hello Azure portal by selecting **Virtual machines** > *VM name* > **Settings** > **Endpoints**.</span></span>
* <span data-ttu-id="4d887-169">**Witaj listy ACL dla punktu końcowego ruchu SSH hello na powitania docelowej maszyny wirtualnej.**</span><span class="sxs-lookup"><span data-stu-id="4d887-169">**hello ACL for hello SSH traffic endpoint on hello target virtual machine.**</span></span> <span data-ttu-id="4d887-170">Listy ACL umożliwia toospecify dozwolony lub niedozwolony ruch przychodzący z hello Internetu, na podstawie jego adresu IP źródłowego.</span><span class="sxs-lookup"><span data-stu-id="4d887-170">An ACL enables you toospecify allowed or denied incoming traffic from hello Internet, based on its source IP address.</span></span> <span data-ttu-id="4d887-171">Nieprawidłowo skonfigurowane listy kontroli dostępu można zapobiec toohello ruchu przychodzącego SSH punktu końcowego.</span><span class="sxs-lookup"><span data-stu-id="4d887-171">Misconfigured ACLs can prevent incoming SSH traffic toohello endpoint.</span></span> <span data-ttu-id="4d887-172">Sprawdź tooensure z listy kontroli dostępu, jaki ruch przychodzący z hello publicznych adresów IP z serwera proxy lub na innym serwerze krawędzi jest dozwolony.</span><span class="sxs-lookup"><span data-stu-id="4d887-172">Check your ACLs tooensure that incoming traffic from hello public IP addresses of your proxy or other edge server is allowed.</span></span> <span data-ttu-id="4d887-173">Aby uzyskać więcej informacji, zobacz [list (kontroli dostępu ACL) o dostęp do sieci kontroli](../../virtual-network/virtual-networks-acl.md).</span><span class="sxs-lookup"><span data-stu-id="4d887-173">For more information, see [About network access control lists (ACLs)](../../virtual-network/virtual-networks-acl.md).</span></span>

<span data-ttu-id="4d887-174">punkt końcowy hello tooeliminate jako źródło problemu hello usunąć bieżący punkt końcowy hello, utworzyć inny punkt końcowy i określ nazwę SSH hello (port TCP 22 numeru portu publicznego i prywatnego hello).</span><span class="sxs-lookup"><span data-stu-id="4d887-174">tooeliminate hello endpoint as a source of hello problem, remove hello current endpoint, create another endpoint, and specify hello SSH name (TCP port 22 for hello public and private port number).</span></span> <span data-ttu-id="4d887-175">Aby uzyskać więcej informacji, zobacz [Konfigurowanie punktów końcowych na maszynie wirtualnej na platformie Azure](../windows/classic/setup-endpoints.md?toc=%2fazure%2fvirtual-machines%2fwindows%2fclassic%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="4d887-175">For more information, see [Set up endpoints on a virtual machine in Azure](../windows/classic/setup-endpoints.md?toc=%2fazure%2fvirtual-machines%2fwindows%2fclassic%2ftoc.json).</span></span>

<a id="nsg"></a>

## <a name="source-4-network-security-groups"></a><span data-ttu-id="4d887-176">Źródła 4: Grupy zabezpieczeń sieci</span><span class="sxs-lookup"><span data-stu-id="4d887-176">Source 4: Network security groups</span></span>
<span data-ttu-id="4d887-177">Grupy zabezpieczeń sieci Włącz toohave większą kontrolę nad dozwolonego ruchu przychodzącego i wychodzącego.</span><span class="sxs-lookup"><span data-stu-id="4d887-177">Network security groups enable you toohave more granular control of allowed inbound and outbound traffic.</span></span> <span data-ttu-id="4d887-178">Można utworzyć reguły, które obejmują podsieci oraz usług w sieci wirtualnej platformy Azure w chmurze.</span><span class="sxs-lookup"><span data-stu-id="4d887-178">You can create rules that span subnets and cloud services in an Azure virtual network.</span></span> <span data-ttu-id="4d887-179">Sprawdź Twojej sieci zabezpieczeń grupy reguł tooensure tego tooand ruchu SSH z hello jest dozwolone przez Internet.</span><span class="sxs-lookup"><span data-stu-id="4d887-179">Check your network security group rules tooensure that SSH traffic tooand from hello Internet is allowed.</span></span>
<span data-ttu-id="4d887-180">Aby uzyskać więcej informacji, zobacz [dotyczące grup zabezpieczeń sieci](../../virtual-network/virtual-networks-nsg.md).</span><span class="sxs-lookup"><span data-stu-id="4d887-180">For more information, see [About network security groups](../../virtual-network/virtual-networks-nsg.md).</span></span>

<span data-ttu-id="4d887-181">Umożliwia także weryfikowanie IP toovalidate hello NSG konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="4d887-181">You can also use IP Verify toovalidate hello NSG configuration.</span></span> <span data-ttu-id="4d887-182">Aby uzyskać więcej informacji, zobacz [omówienie monitorowania sieci platformy Azure](https://docs.microsoft.com/en-us/azure/network-watcher/network-watcher-monitoring-overview).</span><span class="sxs-lookup"><span data-stu-id="4d887-182">For more information, see [Azure network monitoring overview](https://docs.microsoft.com/en-us/azure/network-watcher/network-watcher-monitoring-overview).</span></span> 

## <a name="source-5-linux-based-azure-virtual-machine"></a><span data-ttu-id="4d887-183">Źródło 5: Opartych na systemie Linux maszyny wirtualnej platformy Azure</span><span class="sxs-lookup"><span data-stu-id="4d887-183">Source 5: Linux-based Azure virtual machine</span></span>
<span data-ttu-id="4d887-184">Źródło ostatniej Hello o potencjalnych problemach jest hello Azure samej maszyny wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="4d887-184">hello last source of possible problems is hello Azure virtual machine itself.</span></span>

![Diagram, który prezentuje opartych na systemie Linux maszyny wirtualnej platformy Azure](./media/detailed-troubleshoot-ssh-connection/ssh-tshoot5.png)

<span data-ttu-id="4d887-186">Jeśli jeszcze tego nie zrobiono tego wcześniej, wykonaj instrukcje hello [tooreset hasła lub SSH dla maszyn wirtualnych z systemem Linux](classic/reset-access.md?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="4d887-186">If you haven't done so already, follow hello instructions [tooreset a password or SSH for Linux-based virtual machines](classic/reset-access.md?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json).</span></span>

<span data-ttu-id="4d887-187">Spróbuj ponownie nawiązać połączenie z komputera.</span><span class="sxs-lookup"><span data-stu-id="4d887-187">Try connecting from your computer again.</span></span> <span data-ttu-id="4d887-188">Jeśli nadal nie, hello należą hello możliwe problemy:</span><span class="sxs-lookup"><span data-stu-id="4d887-188">If it still fails, hello following are some of hello possible issues:</span></span>

* <span data-ttu-id="4d887-189">Witaj usługi SSH nie jest uruchomiona na powitania docelowej maszyny wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="4d887-189">hello SSH service is not running on hello target virtual machine.</span></span>
* <span data-ttu-id="4d887-190">Witaj usługi SSH nie nasłuchuje na porcie TCP 22.</span><span class="sxs-lookup"><span data-stu-id="4d887-190">hello SSH service is not listening on TCP port 22.</span></span> <span data-ttu-id="4d887-191">tootest, zainstaluj klienta programu telnet komputera lokalnego i uruchom "telnet *cloudServiceName*. cloudapp.net 22".</span><span class="sxs-lookup"><span data-stu-id="4d887-191">tootest, install a telnet client on your local computer and run "telnet *cloudServiceName*.cloudapp.net 22".</span></span> <span data-ttu-id="4d887-192">Ten krok określa umożliwia punkt końcowy SSH toohello komunikacji przychodzących i wychodzących, jeśli hello maszyny wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="4d887-192">This step determines if hello virtual machine allows inbound and outbound communication toohello SSH endpoint.</span></span>
* <span data-ttu-id="4d887-193">Zapora lokalnego Hello na powitania docelowej maszyny wirtualnej ma reguł, które uniemożliwiają przychodzącego i wychodzącego ruchu SSH.</span><span class="sxs-lookup"><span data-stu-id="4d887-193">hello local firewall on hello target virtual machine has rules that are preventing inbound or outbound SSH traffic.</span></span>
* <span data-ttu-id="4d887-194">Włamań lub oprogramowania, które działa na powitania maszyny wirtualnej platformy Azure do monitorowania sieci uniemożliwia nawiązanie połączenia SSH.</span><span class="sxs-lookup"><span data-stu-id="4d887-194">Intrusion detection or network monitoring software that's running on hello Azure virtual machine is preventing SSH connections.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="4d887-195">Dodatkowe zasoby</span><span class="sxs-lookup"><span data-stu-id="4d887-195">Additional resources</span></span>
<span data-ttu-id="4d887-196">Aby uzyskać więcej informacji dotyczących rozwiązywania problemów z dostęp do aplikacji, zobacz [Rozwiązywanie problemów dotyczących dostępu tooan aplikacja była uruchomiona na maszynie wirtualnej platformy Azure](troubleshoot-app-connection.md)</span><span class="sxs-lookup"><span data-stu-id="4d887-196">For more information about troubleshooting application access, see [Troubleshoot access tooan application running on an Azure virtual machine](troubleshoot-app-connection.md)</span></span>
