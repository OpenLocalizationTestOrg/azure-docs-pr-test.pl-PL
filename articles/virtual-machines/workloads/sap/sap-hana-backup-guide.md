---
title: Przewodnik aaaBackup SAP HANA na maszynach wirtualnych platformy Azure | Dokumentacja firmy Microsoft
description: "Podręcznik tworzenia kopii zapasowej programu SAP HANA udostępnia dwie główne możliwości tworzenia kopii zapasowej dla SAP HANA na maszynach wirtualnych Azure"
services: virtual-machines-linux
documentationcenter: 
author: hermanndms
manager: timlt
editor: 
ms.service: virtual-machines-linux
ms.devlang: NA
ms.topic: article
ums.tgt_pltfrm: vm-linux
ms.workload: infrastructure-services
ms.date: 3/13/2017
ms.author: rclaus
ms.openlocfilehash: e651091bb5da2698ec8bf80cad405bfce5b192cf
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="backup-guide-for-sap-hana-on-azure-virtual-machines"></a><span data-ttu-id="7d11d-103">Przewodnik po wykonywaniu kopii zapasowych dla oprogramowania SAP HANA w usłudze Azure Virtual Machines</span><span class="sxs-lookup"><span data-stu-id="7d11d-103">Backup guide for SAP HANA on Azure Virtual Machines</span></span>

## <a name="getting-started"></a><span data-ttu-id="7d11d-104">Wprowadzenie</span><span class="sxs-lookup"><span data-stu-id="7d11d-104">Getting Started</span></span>

<span data-ttu-id="7d11d-105">Witaj przewodniku kopia zapasowa dla SAP HANA uruchomionych na maszynach wirtualnych Azure tylko opisano tematy specyficzne dla platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="7d11d-105">hello backup guide for SAP HANA running on Azure virtual Machines will only describe Azure-specific topics.</span></span> <span data-ttu-id="7d11d-106">Ogólne SAP HANA kopii zapasowej elementów pokrewnych, zapoznaj się z dokumentacją SAP HANA hello (zobacz _dokumentacji kopii zapasowej SAP HANA_ dalszej części tego artykułu).</span><span class="sxs-lookup"><span data-stu-id="7d11d-106">For general SAP HANA backup related items, check hello SAP HANA documentation (see _SAP HANA backup documentation_ later in this article).</span></span>

<span data-ttu-id="7d11d-107">Witaj ten artykuł koncentruje się na dwie główne kopii zapasowej możliwości SAP HANA na maszynach wirtualnych Azure:</span><span class="sxs-lookup"><span data-stu-id="7d11d-107">hello focus of this article is on two major backup possibilities for SAP HANA on Azure virtual machines:</span></span>

- <span data-ttu-id="7d11d-108">System plików kopii zapasowej toohello HANA w maszynie wirtualnej systemu Linux platformy Azure (zobacz [SAP HANA kopia zapasowa Azure na poziomie plików](sap-hana-backup-file-level.md))</span><span class="sxs-lookup"><span data-stu-id="7d11d-108">HANA backup toohello file system in an Azure Linux Virtual Machine (see [SAP HANA Azure Backup on file level](sap-hana-backup-file-level.md))</span></span>
- <span data-ttu-id="7d11d-109">HANA kopii zapasowej na podstawie migawki magazynu ręcznie przy użyciu funkcji migawki obiektu blob magazynu Azure hello lub usługa Kopia zapasowa Azure (zobacz [SAP HANA kopii zapasowych oparte na magazynu migawek](sap-hana-backup-storage-snapshots.md))</span><span class="sxs-lookup"><span data-stu-id="7d11d-109">HANA backup based on storage snapshots using hello Azure storage blob snapshot feature manually or Azure Backup Service (see [SAP HANA backup based on storage snapshots](sap-hana-backup-storage-snapshots.md))</span></span>

<span data-ttu-id="7d11d-110">SAP HANA oferuje kopii zapasowej interfejsu API, który umożliwia toointegrate narzędzia tworzenia kopii zapasowych innych firm bezpośrednio z programu SAP HANA.</span><span class="sxs-lookup"><span data-stu-id="7d11d-110">SAP HANA offers a backup API, which allows third-party backup tools toointegrate directly with SAP HANA.</span></span> <span data-ttu-id="7d11d-111">(To nie jest w zakresie hello tego przewodnika.) Nie ma żadnych bezpośrednia integracja SAP HANA z prawej dostępna teraz oparta na ten interfejs API usługi Azure Backup.</span><span class="sxs-lookup"><span data-stu-id="7d11d-111">(That is not within hello scope of this guide.) There is no direct integration of SAP HANA with Azure Backup service available right now based on this API.</span></span>

<span data-ttu-id="7d11d-112">SAP HANA jest oficjalnie obsługiwana dla typu maszyny Wirtualnej Azure GS5 jako pojedyncze wystąpienie z obciążeniami tooOLAP dodatkowe ograniczenia (zobacz [Znajdź certyfikowane platform IaaS](https://global.sap.com/community/ebook/2014-09-02-hana-hardware/enEN/iaas.html) w witrynie sieci Web hello SAP).</span><span class="sxs-lookup"><span data-stu-id="7d11d-112">SAP HANA is officially supported on Azure VM type GS5 as single instance with an additional restriction tooOLAP workloads (see [Find Certified IaaS Platforms](https://global.sap.com/community/ebook/2014-09-02-hana-hardware/enEN/iaas.html) on hello SAP website).</span></span> <span data-ttu-id="7d11d-113">Ten artykuł zostanie zaktualizowany po nowych ofert dla SAP HANA na platformie Azure staną się dostępne.</span><span class="sxs-lookup"><span data-stu-id="7d11d-113">This article will be updated as new offerings for SAP HANA on Azure become available.</span></span>

<span data-ttu-id="7d11d-114">Brak dostępnej również SAP HANA hybrydowego na platformie Azure, w którym SAP HANA działa niezwirtualizowanych na serwerach fizycznych.</span><span class="sxs-lookup"><span data-stu-id="7d11d-114">There is also an SAP HANA hybrid solution available on Azure, where SAP HANA runs non-virtualized on physical servers.</span></span> <span data-ttu-id="7d11d-115">Jednak w tym przewodniku kopia zapasowa SAP HANA Azure dotyczą czystego środowiska platformy Azure, gdzie SAP HANA działa w maszynie Wirtualnej platformy Azure, nie SAP HANA systemem &quot;dużych wystąpień.&quot; Zobacz [omówienie SAP HANA (duże wystąpień) i architektury na platformie Azure](hana-overview-architecture.md) Aby uzyskać więcej informacji o tym rozwiązaniu kopii zapasowej na &quot;dużych wystąpień&quot; oparty na pamięci masowej migawki.</span><span class="sxs-lookup"><span data-stu-id="7d11d-115">However, this SAP HANA Azure backup guide covers a pure Azure environment where SAP HANA runs in an Azure VM, not SAP HANA running on &quot;large instances.&quot; See [SAP HANA (large instances) overview and architecture on Azure](hana-overview-architecture.md) for more information about this backup solution on &quot;large instances&quot; based on storage snapshots.</span></span>

<span data-ttu-id="7d11d-116">Ogólne informacje o produktach SAP obsługiwane na platformie Azure można znaleźć w [1928533 Uwaga SAP](https://launchpad.support.sap.com/#/notes/1928533).</span><span class="sxs-lookup"><span data-stu-id="7d11d-116">General information about SAP products supported on Azure can be found in [SAP Note 1928533](https://launchpad.support.sap.com/#/notes/1928533).</span></span>

<span data-ttu-id="7d11d-117">Witaj poniższe rysunki trzy Przypisz omówienie hello SAP HANA opcje tworzenia kopii zapasowej za pomocą natywnej funkcji Azure obecnie i również wyświetlane trzy możliwe scenariusze tworzenia kopii zapasowej przyszłych.</span><span class="sxs-lookup"><span data-stu-id="7d11d-117">hello following three figures give an overview of hello SAP HANA backup options using native Azure capabilities currently, and also show three potential future backup scenarios.</span></span> <span data-ttu-id="7d11d-118">Witaj innych pokrewnych artykułach [SAP HANA kopia zapasowa Azure na poziomie plików](sap-hana-backup-file-level.md) i [SAP HANA kopii zapasowych oparte na magazynu migawek](sap-hana-backup-storage-snapshots.md) opisano te opcje bardziej szczegółowo, uwzględniając rozmiaru i wydajności dla SAP HANA kopie zapasowe, które są multi terabajtów.</span><span class="sxs-lookup"><span data-stu-id="7d11d-118">hello related articles [SAP HANA Azure Backup on file level](sap-hana-backup-file-level.md) and [SAP HANA backup based on storage snapshots](sap-hana-backup-storage-snapshots.md) describe these options in more detail, including size and performance considerations for SAP HANA backups that are multi-terabytes in size.</span></span>

![Na poniższym rysunku przedstawiono dwie możliwości zapisywania hello bieżący stan maszyny Wirtualnej](media/sap-hana-backup-guide/image001.png)

<span data-ttu-id="7d11d-120">Na poniższym rysunku pokazano hello możliwość zapisywania hello bieżący stan maszyny Wirtualnej, za pośrednictwem usługi Azure Backup lub ręcznego migawek dysków maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="7d11d-120">This figure shows hello possibility of saving hello current VM state, either via Azure Backup service or manual snapshot of VM disks.</span></span> <span data-ttu-id="7d11d-121">Z tą metodą, co &#39; nie ma tworzenia kopii zapasowych toomanage SAP HANA.</span><span class="sxs-lookup"><span data-stu-id="7d11d-121">With this approach, one doesn&#39;t have toomanage SAP HANA backups.</span></span> <span data-ttu-id="7d11d-122">Żądanie hello scenariusza migawki dysku hello jest spójności systemu plików i stan dysku spójnych z aplikacją.</span><span class="sxs-lookup"><span data-stu-id="7d11d-122">hello challenge of hello disk snapshot scenario is file system consistency, and an application-consistent disk state.</span></span> <span data-ttu-id="7d11d-123">temat spójności Hello została szczegółowo opisana w sekcji hello _spójność danych SAP HANA podejmując magazynu migawek_ dalszej części tego artykułu.</span><span class="sxs-lookup"><span data-stu-id="7d11d-123">hello consistency topic is discussed in hello section _SAP HANA data consistency when taking storage snapshots_ later in this article.</span></span> <span data-ttu-id="7d11d-124">Ograniczenia usługi Kopia zapasowa Azure i możliwości związanych z kopii zapasowych HANA tooSAP również zostały omówione w dalszej części tego artykułu.</span><span class="sxs-lookup"><span data-stu-id="7d11d-124">Capabilities and restrictions of Azure Backup service related tooSAP HANA backups are also discussed later in this article.</span></span>

![Poniższy rysunek przedstawia opcje pobierania SAP HANA plików kopii zapasowej wewnątrz hello maszyny Wirtualnej](media/sap-hana-backup-guide/image002.png)

<span data-ttu-id="7d11d-126">Na poniższym rysunku pokazano opcje kopii zapasowej pliku SAP HANA wewnątrz hello maszyny Wirtualnej, a następnie zapisanie jej pliki kopii zapasowej HANA innym else przy użyciu różnych narzędzi.</span><span class="sxs-lookup"><span data-stu-id="7d11d-126">This figure shows options for taking an SAP HANA file backup inside hello VM, and then storing it HANA backup files somewhere else using different tools.</span></span> <span data-ttu-id="7d11d-127">Utworzenie kopii zapasowej HANA wymaga więcej czasu niż rozwiązanie tworzenia kopii zapasowej migawki, ale ma zalety dotyczące integralności i spójność.</span><span class="sxs-lookup"><span data-stu-id="7d11d-127">Taking a HANA backup requires more time than a snapshot-based backup solution, but it has advantages regarding integrity and consistency.</span></span> <span data-ttu-id="7d11d-128">Bardziej szczegółowe informacje znajdują się w dalszej części tego artykułu.</span><span class="sxs-lookup"><span data-stu-id="7d11d-128">More details are provided later in this article.</span></span>

![Na poniższym rysunku pokazano potencjalnych przyszłych SAP HANA kopii zapasowej scenariusza](media/sap-hana-backup-guide/image003.png)

<span data-ttu-id="7d11d-130">Na poniższym rysunku przedstawiono potencjalne przyszłych scenariusz tworzenia kopii zapasowej SAP HANA.</span><span class="sxs-lookup"><span data-stu-id="7d11d-130">This figure shows a potential future SAP HANA backup scenario.</span></span> <span data-ttu-id="7d11d-131">SAP HANA dozwolone wykonywania kopii zapasowych z replikacji dodatkowej, czy dodać dodatkowe opcje strategii tworzenia kopii zapasowych.</span><span class="sxs-lookup"><span data-stu-id="7d11d-131">If SAP HANA allowed taking backups from a replication secondary, it would add additional options for backup strategies.</span></span> <span data-ttu-id="7d11d-132">Obecnie nie jest możliwe zgodnie z tooa post w hello SAP HANA Wiki:</span><span class="sxs-lookup"><span data-stu-id="7d11d-132">Currently it isn't possible according tooa post in hello SAP HANA Wiki:</span></span>

<span data-ttu-id="7d11d-133">_&quot;Jest to możliwe tootake wykonywanie kopii zapasowych na stronie dodatkowej hello?_</span><span class="sxs-lookup"><span data-stu-id="7d11d-133">_&quot;Is it possible tootake backups on hello secondary side?_</span></span>

<span data-ttu-id="7d11d-134">_Nie, obecnie można tylko pobierają dane i kopii zapasowych na głównej stronie powitania dziennika. Jeśli włączono tworzenie kopii zapasowej dziennika automatyczne po stronie dodatkowej toohello przejęcia, kopie zapasowe dziennika hello automatycznie zostanie zapisany istnieje.&quot;_</span><span class="sxs-lookup"><span data-stu-id="7d11d-134">_No, currently you can only take data and log backups on hello primary side. If automatic log backup is enabled, after takeover toohello secondary side, hello log backups will automatically be written there.&quot;_</span></span>

## <a name="sap-resources-for-hana-backup"></a><span data-ttu-id="7d11d-135">Zasoby SAP HANA kopii zapasowej</span><span class="sxs-lookup"><span data-stu-id="7d11d-135">SAP resources for HANA backup</span></span>

### <a name="sap-hana-backup-documentation"></a><span data-ttu-id="7d11d-136">SAP HANA dokumentacji kopii zapasowej</span><span class="sxs-lookup"><span data-stu-id="7d11d-136">SAP HANA backup documentation</span></span>

- [<span data-ttu-id="7d11d-137">Wprowadzenie tooSAP HANA administracji</span><span class="sxs-lookup"><span data-stu-id="7d11d-137">Introduction tooSAP HANA Administration</span></span>](https://help.sap.com/viewer/6b94445c94ae495c83a19646e7c3fd56/2.0.00/en-US)
- [<span data-ttu-id="7d11d-138">Planowanie z kopią zapasową i strategii odzyskiwania</span><span class="sxs-lookup"><span data-stu-id="7d11d-138">Planning Your Backup and Recovery Strategy</span></span>](https://help.sap.com/saphelp_hanaplatform/helpdata/en/ef/085cd5949c40b788bba8fd3c65743e/content.htm)
- [<span data-ttu-id="7d11d-139">Planowanie kopii zapasowej HANA przy użyciu ABAP DBACOCKPIT</span><span class="sxs-lookup"><span data-stu-id="7d11d-139">Schedule HANA Backup using ABAP DBACOCKPIT</span></span>](http://www.hanatutorials.com/p/schedule-hana-backup-using-abap.html)
- [<span data-ttu-id="7d11d-140">Harmonogram kopii zapasowych danych (SAP HANA Panelu sterowania)</span><span class="sxs-lookup"><span data-stu-id="7d11d-140">Schedule Data Backups (SAP HANA Cockpit)</span></span>](http://help.sap.com/saphelp_hanaplatform/helpdata/en/6d/385fa14ef64a6bab2c97a3d3e40292/frameset.htm)
- <span data-ttu-id="7d11d-141">Często zadawane pytania dotyczące SAP HANA kopii zapasowej w [1642148 Uwaga SAP](https://launchpad.support.sap.com/#/notes/1642148)</span><span class="sxs-lookup"><span data-stu-id="7d11d-141">FAQ about SAP HANA backup in [SAP Note 1642148](https://launchpad.support.sap.com/#/notes/1642148)</span></span>
- <span data-ttu-id="7d11d-142">Często zadawane pytania dotyczące migawek magazynu i bazy danych SAP HANA w [2039883 Uwaga SAP](https://launchpad.support.sap.com/#/notes/2039883)</span><span class="sxs-lookup"><span data-stu-id="7d11d-142">FAQ about SAP HANA database and storage snapshots in [SAP Note 2039883](https://launchpad.support.sap.com/#/notes/2039883)</span></span>
- <span data-ttu-id="7d11d-143">Systemy plików nieodpowiednie sieci kopii zapasowych i odzyskiwania w [1820529 Uwaga SAP](https://launchpad.support.sap.com/#/notes/1820529)</span><span class="sxs-lookup"><span data-stu-id="7d11d-143">Unsuitable network file systems for backup and recovery in [SAP Note 1820529](https://launchpad.support.sap.com/#/notes/1820529)</span></span>

### <a name="why-sap-hana-backup"></a><span data-ttu-id="7d11d-144">Dlaczego SAP HANA kopii zapasowej?</span><span class="sxs-lookup"><span data-stu-id="7d11d-144">Why SAP HANA backup?</span></span>

<span data-ttu-id="7d11d-145">Magazyn Azure oferuje dostępność i niezawodność fabrycznej hello (zobacz [tooMicrosoft wprowadzenie usługi Azure Storage](../../../storage/common/storage-introduction.md) Aby uzyskać więcej informacji na temat usługi Azure storage).</span><span class="sxs-lookup"><span data-stu-id="7d11d-145">Azure storage offers availability and reliability out of hello box (see [Introduction tooMicrosoft Azure Storage](../../../storage/common/storage-introduction.md) for more information about Azure storage).</span></span>

<span data-ttu-id="7d11d-146">Witaj minimum dla &quot;kopii zapasowej&quot; jest toorely na powitania umowy SLA platformy Azure, hello porządkowania SAP HANA danych i plików dziennika na serwerze SAP HANA dołączonych toohello Azure wirtualne dyski twarde maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="7d11d-146">hello minimum for &quot;backup&quot; is toorely on hello Azure SLAs, keeping hello SAP HANA data and log files on Azure VHDs attached toohello SAP HANA server VM.</span></span> <span data-ttu-id="7d11d-147">Ta metoda obejmuje błędy maszyny Wirtualnej, ale nie potencjalne szkody toohello SAP HANA danych i pliki dziennika lub błędów logicznych, takich jak usuwanie danych lub plików przypadkowo.</span><span class="sxs-lookup"><span data-stu-id="7d11d-147">This approach covers VM failures, but not potential damage toohello SAP HANA data and log files, or logical errors like deleting data or files by accident.</span></span> <span data-ttu-id="7d11d-148">Kopie zapasowe są również wymagane dla zgodności lub z przyczyn prawnych.</span><span class="sxs-lookup"><span data-stu-id="7d11d-148">Backups are also required for compliance or legal reasons.</span></span> <span data-ttu-id="7d11d-149">Innymi słowy zawsze konieczne jest kopii zapasowych SAP HANA.</span><span class="sxs-lookup"><span data-stu-id="7d11d-149">In short, there is always a need for SAP HANA backups.</span></span>

### <a name="how-tooverify-correctness-of-sap-hana-backup"></a><span data-ttu-id="7d11d-150">Jak poprawności tooverify SAP HANA kopii zapasowej</span><span class="sxs-lookup"><span data-stu-id="7d11d-150">How tooverify correctness of SAP HANA backup</span></span>
<span data-ttu-id="7d11d-151">Podczas korzystania z magazynu migawek, zalecane jest uruchomienie przywracania testu w innym systemie.</span><span class="sxs-lookup"><span data-stu-id="7d11d-151">When using storage snapshots, running a test restore on a different system is recommended.</span></span> <span data-ttu-id="7d11d-152">Metoda ta umożliwia tooensure sposób, że kopia zapasowa jest prawidłowe i wewnętrznych procesów pracy i przywracania kopii zapasowej zgodnie z oczekiwaniami.</span><span class="sxs-lookup"><span data-stu-id="7d11d-152">This approach provides a way tooensure that a backup is correct, and internal processes for backup and restore work as expected.</span></span> <span data-ttu-id="7d11d-153">Jest to znaczny próg wykluczający lokalnych, podając tymczasowo zasoby niezbędne do tego celu jest znacznie łatwiejsze tooaccomplish w chmurze hello.</span><span class="sxs-lookup"><span data-stu-id="7d11d-153">While this is a significant hurdle on-premises, it is much easier tooaccomplish in hello cloud by providing necessary resources temporarily for this purpose.</span></span>

<span data-ttu-id="7d11d-154">Zachowaj pamiętać, że ten proste przywracanie i sprawdzania, czy działa HANA i uruchomiona jest niewystarczająca.</span><span class="sxs-lookup"><span data-stu-id="7d11d-154">Keep in mind that doing a simple restore and checking if HANA is up and running is not sufficient.</span></span> <span data-ttu-id="7d11d-155">Najlepiej co powinno być ono uruchomione toobe Sprawdzanie spójności tabeli się, że jest poprawnie hello przywrócić bazy danych.</span><span class="sxs-lookup"><span data-stu-id="7d11d-155">Ideally, one should run a table consistency check toobe sure that hello restored database is fine.</span></span> <span data-ttu-id="7d11d-156">SAP HANA oferuje kilka rodzajów sprawdzenie spójności z opisem w temacie [1977584 Uwaga SAP](https://launchpad.support.sap.com/#/notes/1977584).</span><span class="sxs-lookup"><span data-stu-id="7d11d-156">SAP HANA offers several kinds of consistency checks described in [SAP Note 1977584](https://launchpad.support.sap.com/#/notes/1977584).</span></span>

<span data-ttu-id="7d11d-157">Informacje o sprawdzanie spójności tabeli hello można znaleźć w witrynie sieci Web hello SAP w [tabeli i sprawdzania spójności katalogu](http://help.sap.com/saphelp_hanaplatform/helpdata/en/25/84ec2e324d44529edc8221956359ea/content.htm#loio9357bf52c7324bee9567dca417ad9f8b).</span><span class="sxs-lookup"><span data-stu-id="7d11d-157">Information about hello table consistency check can also be found on hello SAP website at [Table and Catalog Consistency Checks](http://help.sap.com/saphelp_hanaplatform/helpdata/en/25/84ec2e324d44529edc8221956359ea/content.htm#loio9357bf52c7324bee9567dca417ad9f8b).</span></span>

<span data-ttu-id="7d11d-158">Standardowy plik kopii zapasowych przywracania testu nie jest konieczne.</span><span class="sxs-lookup"><span data-stu-id="7d11d-158">For standard file backups, a test restore is not necessary.</span></span> <span data-ttu-id="7d11d-159">Istnieją dwa narzędzia SAP HANA, które pomagają toocheck, których kopia zapasowa może służyć do przywracania: hdbbackupdiag i hdbbackupcheck.</span><span class="sxs-lookup"><span data-stu-id="7d11d-159">There are two SAP HANA tools that help toocheck which backup can be used for restore: hdbbackupdiag and hdbbackupcheck.</span></span> <span data-ttu-id="7d11d-160">Zobacz [ręcznie sprawdzanie, czy odzyskiwanie jest możliwe](https://help.sap.com/saphelp_hanaplatform/helpdata/en/77/522ef1e3cb4d799bab33e0aeb9c93b/content.htm) uzyskać więcej informacji o tych narzędzi.</span><span class="sxs-lookup"><span data-stu-id="7d11d-160">See [Manually Checking Whether a Recovery is Possible](https://help.sap.com/saphelp_hanaplatform/helpdata/en/77/522ef1e3cb4d799bab33e0aeb9c93b/content.htm) for more information about these tools.</span></span>

### <a name="pros-and-cons-of-hana-backup-versus-storage-snapshot"></a><span data-ttu-id="7d11d-161">Zalet i wad HANA tworzenia kopii zapasowej i pamięci masowej migawki</span><span class="sxs-lookup"><span data-stu-id="7d11d-161">Pros and cons of HANA backup versus storage snapshot</span></span>

<span data-ttu-id="7d11d-162">SAP &#39; t podać preferencji tooeither HANA tworzenia kopii zapasowej i przechowywania migawki.</span><span class="sxs-lookup"><span data-stu-id="7d11d-162">SAP doesn&#39;t give preference tooeither HANA backup versus storage snapshot.</span></span> <span data-ttu-id="7d11d-163">Wyświetlane ich zalet i wad, są tak jedną można określić, które toouse w zależności od sytuacji hello i technologii dostępnej pamięci (zobacz [planowania Your kopii zapasowej i odzyskiwania strategii](https://help.sap.com/saphelp_hanaplatform/helpdata/en/ef/085cd5949c40b788bba8fd3c65743e/content.htm)).</span><span class="sxs-lookup"><span data-stu-id="7d11d-163">It lists their pros and cons, so one can determine which toouse depending on hello situation and available storage technology (see [Planning Your Backup and Recovery Strategy](https://help.sap.com/saphelp_hanaplatform/helpdata/en/ef/085cd5949c40b788bba8fd3c65743e/content.htm)).</span></span>

<span data-ttu-id="7d11d-164">Na platformie Azure, należy pamiętać o hello fakt, że hello funkcja migawki obiektu blob systemu Azure &#39; t zagwarantowania spójności systemu plików (zobacz [migawki obiektu blob korzystanie z programu PowerShell](https://blogs.msdn.microsoft.com/cie/2016/05/17/using-blob-snapshots-with-powershell/)).</span><span class="sxs-lookup"><span data-stu-id="7d11d-164">On Azure, be aware of hello fact that hello Azure blob snapshot feature doesn&#39;t guarantee file system consistency (see [Using blob snapshots with PowerShell](https://blogs.msdn.microsoft.com/cie/2016/05/17/using-blob-snapshots-with-powershell/)).</span></span> <span data-ttu-id="7d11d-165">Witaj w następnej sekcji _spójność danych SAP HANA podejmując magazynu migawek_, omówiono pewne kwestie dotyczące tej funkcji.</span><span class="sxs-lookup"><span data-stu-id="7d11d-165">hello next section, _SAP HANA data consistency when taking storage snapshots_, discusses some considerations regarding this feature.</span></span>

<span data-ttu-id="7d11d-166">Ponadto jedna ma toounderstand hello rozliczeń efekty podczas pracy często z migawki obiektu blob, zgodnie z opisem w tym artykule: [zrozumienia sposobu migawki Naliczanie opłat](/rest/api/storageservices/understanding-how-snapshots-accrue-charges)— go nie jest &#39; t tak oczywiste jako za pomocą platformy Azure dyski wirtualne.</span><span class="sxs-lookup"><span data-stu-id="7d11d-166">In addition, one has toounderstand hello billing implications when working frequently with blob snapshots as described in this article: [Understanding How Snapshots Accrue Charges](/rest/api/storageservices/understanding-how-snapshots-accrue-charges)—it isn&#39;t as obvious as using Azure virtual disks.</span></span>

### <a name="sap-hana-data-consistency-when-taking-storage-snapshots"></a><span data-ttu-id="7d11d-167">Spójność danych SAP HANA podejmując pamięci masowej migawki</span><span class="sxs-lookup"><span data-stu-id="7d11d-167">SAP HANA data consistency when taking storage snapshots</span></span>

<span data-ttu-id="7d11d-168">Zgodność aplikacji i systemu plików jest złożonych problemów podczas wykonywania migawki magazynu.</span><span class="sxs-lookup"><span data-stu-id="7d11d-168">File system and application consistency is a complex issue when taking storage snapshots.</span></span> <span data-ttu-id="7d11d-169">Hello Najprostszym sposobem tooavoid problemów może być tooshut dół SAP HANA lub może nawet hello całej maszyny wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="7d11d-169">hello easiest way tooavoid problems would be tooshut down SAP HANA, or maybe even hello whole virtual machine.</span></span> <span data-ttu-id="7d11d-170">Zamknięcie systemu może być doable pokaz lub prototypu lub nawet programistycznej, ale nie jest opcją systemu produkcji.</span><span class="sxs-lookup"><span data-stu-id="7d11d-170">A shutdown might be doable with a demo or prototype, or even a development system, but it is not an option for a production system.</span></span>

<span data-ttu-id="7d11d-171">Na platformie Azure co ma tookeep pamiętać, że hello funkcja migawki obiektu blob systemu Azure &#39; t zagwarantowania spójności systemu plików.</span><span class="sxs-lookup"><span data-stu-id="7d11d-171">On Azure, one has tookeep in mind that hello Azure blob snapshot feature doesn&#39;t guarantee file system consistency.</span></span> <span data-ttu-id="7d11d-172">Współpracuje jednak za pomocą hello SAP HANA migawki funkcji, dopóki dotyczy tylko jednego dysku wirtualnego.</span><span class="sxs-lookup"><span data-stu-id="7d11d-172">It works fine however by using hello SAP HANA snapshot feature, as long as there is only a single virtual disk involved.</span></span> <span data-ttu-id="7d11d-173">Ale nawet w przypadku jednego dysku, dodatkowe elementy toobe zaznaczone.</span><span class="sxs-lookup"><span data-stu-id="7d11d-173">But even with a single disk, additional items have toobe checked.</span></span> <span data-ttu-id="7d11d-174">[SAP 2039883 Uwaga](https://launchpad.support.sap.com/#/notes/2039883) zawiera ważne informacje dotyczące kopii zapasowych SAP HANA za pomocą magazynu migawek.</span><span class="sxs-lookup"><span data-stu-id="7d11d-174">[SAP Note 2039883](https://launchpad.support.sap.com/#/notes/2039883) has important information about SAP HANA backups via storage snapshots.</span></span> <span data-ttu-id="7d11d-175">Na przykład informacje o, przy użyciu systemu plików XFS hello, jest konieczne toorun **xfs\_freeze** przed rozpoczęciem magazynu migawek spójności tooguarantee (zobacz [xfs\_freeze(8) - man systemu Linux Strona](https://linux.die.net/man/8/xfs_freeze) szczegółowe informacje na temat **xfs\_Zablokuj**).</span><span class="sxs-lookup"><span data-stu-id="7d11d-175">For example, it mentions that, with hello XFS file system, it is necessary toorun **xfs\_freeze** before starting a storage snapshot tooguarantee consistency (see [xfs\_freeze(8) - Linux man page](https://linux.die.net/man/8/xfs_freeze) for details on **xfs\_freeze**).</span></span>

<span data-ttu-id="7d11d-176">temat Hello spójności staje się nawet trudniejsze w przypadku, gdy system pojedynczy plik obejmuje wiele dysków/woluminów.</span><span class="sxs-lookup"><span data-stu-id="7d11d-176">hello topic of consistency becomes even more challenging in a case where a single file system spans multiple disks/volumes.</span></span> <span data-ttu-id="7d11d-177">Na przykład za pomocą mdadm lub LVM i stosowanie.</span><span class="sxs-lookup"><span data-stu-id="7d11d-177">For example, by using mdadm or LVM and striping.</span></span> <span data-ttu-id="7d11d-178">Witaj Uwaga SAP wymienione powyżej stany:</span><span class="sxs-lookup"><span data-stu-id="7d11d-178">hello SAP Note mentioned above states:</span></span>

<span data-ttu-id="7d11d-179">_&quot;Jednak należy pamiętać, że system przechowywania hello ma spójności tooguarantee We/Wy podczas tworzenia migawki magazynu dla każdego woluminu danych SAP HANA, tj. musi ona mieć niepodzielną operację tworzenia migawek woluminu specyficznych dla usług danych SAP HANA.&quot;_</span><span class="sxs-lookup"><span data-stu-id="7d11d-179">_&quot;But keep in mind that hello storage system has tooguarantee I/O consistency while creating a storage snapshot per SAP HANA data volume, i.e. snapshotting of an SAP HANA service-specific data volume must be an atomic operation.&quot;_</span></span>

<span data-ttu-id="7d11d-180">Zakładając, że jest system plików XFS obejmującej cztery dyski wirtualne platformy Azure, hello poniższe kroki zawierają migawki spójne, która reprezentuje obszar danych HANA hello:</span><span class="sxs-lookup"><span data-stu-id="7d11d-180">Assuming there is an XFS file system spanning four Azure virtual disks, hello following steps provide a consistent snapshot that represents hello HANA data area:</span></span>

- <span data-ttu-id="7d11d-181">Przygotowanie HANA migawki</span><span class="sxs-lookup"><span data-stu-id="7d11d-181">HANA snapshot prepare</span></span>
- <span data-ttu-id="7d11d-182">Zablokuj hello systemu plików (na przykład użyć **xfs\_Zablokuj**)</span><span class="sxs-lookup"><span data-stu-id="7d11d-182">Freeze hello file system (for example, use **xfs\_freeze**)</span></span>
- <span data-ttu-id="7d11d-183">Utwórz wszystkie migawki obiektu blob konieczne na platformie Azure</span><span class="sxs-lookup"><span data-stu-id="7d11d-183">Create all necessary blob snapshots on Azure</span></span>
- <span data-ttu-id="7d11d-184">Odblokuj hello systemu plików</span><span class="sxs-lookup"><span data-stu-id="7d11d-184">Unfreeze hello file system</span></span>
- <span data-ttu-id="7d11d-185">Potwierdź hello HANA migawki</span><span class="sxs-lookup"><span data-stu-id="7d11d-185">Confirm hello HANA snapshot</span></span>

<span data-ttu-id="7d11d-186">Zalecane jest procedurą hello toouse powyżej w wszystkich przypadków toobe po stronie bezpieczne hello, niezależnie od tego, który system plików.</span><span class="sxs-lookup"><span data-stu-id="7d11d-186">Recommendation is toouse hello procedure above in all cases toobe on hello safe side, no matter which file system.</span></span> <span data-ttu-id="7d11d-187">Lub, jeśli jest to jeden dysk lub rozkładanie za pośrednictwem mdadm lub LVM na wielu dyskach.</span><span class="sxs-lookup"><span data-stu-id="7d11d-187">Or if it is a single disk or striping, via mdadm or LVM across multiple disks.</span></span>

<span data-ttu-id="7d11d-188">Jest ważne tooconfirm hello HANA migawka.</span><span class="sxs-lookup"><span data-stu-id="7d11d-188">It is important tooconfirm hello HANA snapshot.</span></span> <span data-ttu-id="7d11d-189">Z powodu toohello &quot;kopii przy zapisie,&quot; SAP HANA nie mogą wymagać dodatkowego miejsca na dysku w tym trybie przygotowania migawki.</span><span class="sxs-lookup"><span data-stu-id="7d11d-189">Due toohello &quot;Copy-on-Write,&quot; SAP HANA might not require additional disk space while in this snapshot-prepare mode.</span></span> <span data-ttu-id="7d11d-190">&#39; s również nie jest możliwe toostart nowych kopii zapasowych do momentu hello SAP HANA migawki został potwierdzony.</span><span class="sxs-lookup"><span data-stu-id="7d11d-190">It&#39;s also not possible toostart new backups until hello SAP HANA snapshot is confirmed.</span></span>

<span data-ttu-id="7d11d-191">Usługa Kopia zapasowa Azure korzysta z maszyny Wirtualnej Azure rozszerzenia tootake nad spójności systemu plików hello.</span><span class="sxs-lookup"><span data-stu-id="7d11d-191">Azure Backup service uses Azure VM extensions tootake care of hello file system consistency.</span></span> <span data-ttu-id="7d11d-192">Te rozszerzenia maszyny Wirtualnej nie są dostępne do użycia autonomicznego.</span><span class="sxs-lookup"><span data-stu-id="7d11d-192">These VM extensions are not available for standalone usage.</span></span> <span data-ttu-id="7d11d-193">Jeden z nich ma nadal toomanage spójności SAP HANA.</span><span class="sxs-lookup"><span data-stu-id="7d11d-193">One still has toomanage SAP HANA consistency.</span></span> <span data-ttu-id="7d11d-194">Zobacz artykuł pokrewne hello [SAP HANA Azure Backup na poziomie plików](sap-hana-backup-file-level.md) Aby uzyskać więcej informacji.</span><span class="sxs-lookup"><span data-stu-id="7d11d-194">See hello related article [SAP HANA Azure Backup on file level](sap-hana-backup-file-level.md) for more information.</span></span>

### <a name="sap-hana-backup-scheduling-strategy"></a><span data-ttu-id="7d11d-195">SAP HANA strategii harmonogramu wykonywania kopii zapasowych</span><span class="sxs-lookup"><span data-stu-id="7d11d-195">SAP HANA backup scheduling strategy</span></span>

<span data-ttu-id="7d11d-196">Artykuł SAP HANA Hello [planowania Your kopii zapasowej i odzyskiwania strategii](https://help.sap.com/saphelp_hanaplatform/helpdata/en/ef/085cd5949c40b788bba8fd3c65743e/content.htm) stanów a basic Planowanie kopii zapasowych toodo:</span><span class="sxs-lookup"><span data-stu-id="7d11d-196">hello SAP HANA article [Planning Your Backup and Recovery Strategy](https://help.sap.com/saphelp_hanaplatform/helpdata/en/ef/085cd5949c40b788bba8fd3c65743e/content.htm) states a basic plan toodo backups:</span></span>

- <span data-ttu-id="7d11d-197">Magazynu migawek (dziennie)</span><span class="sxs-lookup"><span data-stu-id="7d11d-197">Storage snapshot (daily)</span></span>
- <span data-ttu-id="7d11d-198">Kopia zapasowa pełnych danych przy użyciu formatu pliku lub bacint (raz w tygodniu)</span><span class="sxs-lookup"><span data-stu-id="7d11d-198">Complete data backup using file or bacint format (once a week)</span></span>
- <span data-ttu-id="7d11d-199">Kopie zapasowe dziennika automatyczne</span><span class="sxs-lookup"><span data-stu-id="7d11d-199">Automatic log backups</span></span>

<span data-ttu-id="7d11d-200">Opcjonalnie co można przejść całkowicie bez migawek magazynu; mogły one zostać zastąpione przez kopie zapasowe delta HANA, na przykład przyrostowa lub różnicowej kopii zapasowych (zobacz [różnicowe kopie zapasowe](https://help.sap.com/saphelp_hanaplatform/helpdata/en/c3/bb7e33bb571014a03eeabba4e37541/content.htm)).</span><span class="sxs-lookup"><span data-stu-id="7d11d-200">Optionally, one could go completely without storage snapshots; they could be replaced by HANA delta backups, like incremental or differential backups (see [Delta Backups](https://help.sap.com/saphelp_hanaplatform/helpdata/en/c3/bb7e33bb571014a03eeabba4e37541/content.htm)).</span></span>

<span data-ttu-id="7d11d-201">Przewodnik administracji HANA Hello zawiera przykładową listę.</span><span class="sxs-lookup"><span data-stu-id="7d11d-201">hello HANA Administration guide provides an example list.</span></span> <span data-ttu-id="7d11d-202">Sugeruje jedną odzyskać SAP HANA tooa określonego punktu w czasie przy użyciu powitania po sekwencji kopii zapasowych:</span><span class="sxs-lookup"><span data-stu-id="7d11d-202">It suggests that one recover SAP HANA tooa specific point in time using hello following sequence of backups:</span></span>

1. <span data-ttu-id="7d11d-203">Pełne kopie zapasowe</span><span class="sxs-lookup"><span data-stu-id="7d11d-203">Full data backup</span></span>
2. <span data-ttu-id="7d11d-204">Różnicowej kopii zapasowej</span><span class="sxs-lookup"><span data-stu-id="7d11d-204">Differential backup</span></span>
3. <span data-ttu-id="7d11d-205">Przyrostowa kopia zapasowa 1</span><span class="sxs-lookup"><span data-stu-id="7d11d-205">Incremental backup 1</span></span>
4. <span data-ttu-id="7d11d-206">Przyrostowa kopia zapasowa 2</span><span class="sxs-lookup"><span data-stu-id="7d11d-206">Incremental backup 2</span></span>
5. <span data-ttu-id="7d11d-207">Kopie zapasowe dziennika</span><span class="sxs-lookup"><span data-stu-id="7d11d-207">Log backups</span></span>

<span data-ttu-id="7d11d-208">Dotyczące dokładnego harmonogram jako toowhen i jak często określonego typu kopii zapasowej powinno się zdarzyć, nie jest możliwe toogive ogólne wytyczne — jest zbyt właściwe dla klienta i zależy od liczby zmian danych występują w systemie hello.</span><span class="sxs-lookup"><span data-stu-id="7d11d-208">Regarding an exact schedule as toowhen and how often a specific backup type should happen, it is not possible toogive a general guideline—it is too customer-specific, and depends on how many data changes occur in hello system.</span></span> <span data-ttu-id="7d11d-209">Jeden podstawowe zalecenie stronie SAP, które są widoczne jako ogólne wskazówki, jest jeden HANA pełnej toomake w kopii zapasowej raz w tygodniu.</span><span class="sxs-lookup"><span data-stu-id="7d11d-209">One basic recommendation from SAP side, which can be seen as general guidance, is toomake one full HANA backup once a week.</span></span>
<span data-ttu-id="7d11d-210">Dotyczące kopii zapasowych dziennika, zobacz dokumentację SAP HANA hello [kopie zapasowe dziennika](https://help.sap.com/saphelp_hanaplatform/helpdata/en/c3/bb7e33bb571014a03eeabba4e37541/content.htm).</span><span class="sxs-lookup"><span data-stu-id="7d11d-210">Regarding log backups, see hello SAP HANA documentation [Log Backups](https://help.sap.com/saphelp_hanaplatform/helpdata/en/c3/bb7e33bb571014a03eeabba4e37541/content.htm).</span></span>

<span data-ttu-id="7d11d-211">SAP zaleca, wykonanie niektórych celów hello tookeep katalogu kopii zapasowej z rośnie nieograniczonej (zobacz [Housekeeping katalogu kopii zapasowej i przechowywania kopii zapasowych](http://help.sap.com/saphelp_hanaplatform/helpdata/en/ca/c903c28b0e4301b39814ef41dbf568/content.htm)).</span><span class="sxs-lookup"><span data-stu-id="7d11d-211">SAP also recommends doing some housekeeping of hello backup catalog tookeep it from growing infinitely (see [Housekeeping for Backup Catalog and Backup Storage](http://help.sap.com/saphelp_hanaplatform/helpdata/en/ca/c903c28b0e4301b39814ef41dbf568/content.htm)).</span></span>

### <a name="sap-hana-configuration-files"></a><span data-ttu-id="7d11d-212">Pliki konfiguracji SAP HANA</span><span class="sxs-lookup"><span data-stu-id="7d11d-212">SAP HANA configuration files</span></span>

<span data-ttu-id="7d11d-213">Jak wspomniano w hello — często zadawane pytania w [1642148 Uwaga SAP](https://launchpad.support.sap.com/#/notes/1642148), pliki konfiguracji SAP HANA hello nie są częścią standardowej HANA kopii zapasowej.</span><span class="sxs-lookup"><span data-stu-id="7d11d-213">As stated in hello FAQ in [SAP Note 1642148](https://launchpad.support.sap.com/#/notes/1642148), hello SAP HANA configuration files are not part of a standard HANA backup.</span></span> <span data-ttu-id="7d11d-214">Nie są one niezbędne toorestore systemu.</span><span class="sxs-lookup"><span data-stu-id="7d11d-214">They are not essential toorestore a system.</span></span> <span data-ttu-id="7d11d-215">Hello HANA konfiguracji można zmienić ręcznie po przywróceniu hello.</span><span class="sxs-lookup"><span data-stu-id="7d11d-215">hello HANA configuration could be changed manually after hello restore.</span></span> <span data-ttu-id="7d11d-216">W przypadku, gdy jeden chcieliby tooget hello tej samej konfiguracji niestandardowej w procesie przywracania hello jest konieczne tooback się pliki konfiguracji HANA hello oddzielnie.</span><span class="sxs-lookup"><span data-stu-id="7d11d-216">In case one would like tooget hello same custom configuration during hello restore process, it is necessary tooback up hello HANA configuration files separately.</span></span>

<span data-ttu-id="7d11d-217">Gdy standardowe HANA kopie zapasowe będą tooa dedykowanego HANA pliku kopii zapasowej systemu, co można również skopiować toohello pliki konfiguracji hello sam kopii zapasowej systemu plików, a następnie skopiuj wszystkie miejscem docelowym magazynu ostatnim razem toohello, takich jak cool magazynu obiektów blob.</span><span class="sxs-lookup"><span data-stu-id="7d11d-217">If standard HANA backups are going tooa dedicated HANA backup file system, one could also copy hello configuration files toohello same backup filesystem, and then copy everything together toohello final storage destination like cool blob storage.</span></span>

### <a name="sap-hana-cockpit"></a><span data-ttu-id="7d11d-218">SAP HANA w Panelu sterowania</span><span class="sxs-lookup"><span data-stu-id="7d11d-218">SAP HANA Cockpit</span></span>

<span data-ttu-id="7d11d-219">SAP HANA w Panelu sterowania oferuje możliwość hello monitorowanie i zarządzanie SAP HANA za pośrednictwem przeglądarki.</span><span class="sxs-lookup"><span data-stu-id="7d11d-219">SAP HANA Cockpit offers hello possibility of monitoring and managing SAP HANA via a browser.</span></span> <span data-ttu-id="7d11d-220">Umożliwia również obsługę kopii zapasowych SAP HANA i dlatego mogą być używane jako alternatywne tooSAP HANA Studio i ABAP DBACOCKPIT (zobacz [SAP HANA w Panelu sterowania](https://help.sap.com/saphelp_hanaplatform/helpdata/en/73/c37822444344f3973e0e976b77958e/content.htm) Aby uzyskać więcej informacji).</span><span class="sxs-lookup"><span data-stu-id="7d11d-220">It also allows handling of SAP HANA backups, and therefore can be used as an alternative tooSAP HANA Studio and ABAP DBACOCKPIT (see [SAP HANA Cockpit](https://help.sap.com/saphelp_hanaplatform/helpdata/en/73/c37822444344f3973e0e976b77958e/content.htm) for more information).</span></span>

![Na poniższym rysunku pokazano hello ekranu administracyjnego bazy danych SAP HANA Panelu sterowania](media/sap-hana-backup-guide/image004.png)

<span data-ttu-id="7d11d-222">Ten rysunek przedstawia hello ekranu administracyjnego bazy danych SAP HANA Panelu sterowania, a hello Kafelek tworzenia kopii zapasowej na powitania po lewej.</span><span class="sxs-lookup"><span data-stu-id="7d11d-222">This figure shows hello SAP HANA Cockpit Database Administration Screen, and hello backup tile on hello left.</span></span> <span data-ttu-id="7d11d-223">Oglądanie kafelka kopii zapasowej hello wymaga odpowiednich uprawnień użytkowników dla konta logowania.</span><span class="sxs-lookup"><span data-stu-id="7d11d-223">Seeing hello backup tile requires appropriate user permissions for login account.</span></span>

![Kopie zapasowe mogą być monitorowane w Panelu sterowania programu SAP HANA, gdy są one uruchomione](media/sap-hana-backup-guide/image005.png)

<span data-ttu-id="7d11d-225">Kopie zapasowe mogą być monitorowane w Panelu sterowania programu SAP HANA, gdy są uruchomione, a po zakończeniu wszystkich szczegółów tworzenia kopii zapasowej hello są dostępne.</span><span class="sxs-lookup"><span data-stu-id="7d11d-225">Backups can be monitored in SAP HANA Cockpit while they are ongoing and, once it is finished, all hello backup details are available.</span></span>

![Przykład za pomocą przeglądarki Firefox na SLES 12 maszyny Wirtualnej platformy Azure przy użyciu pulpitu Gnome](media/sap-hana-backup-guide/image006.png)

<span data-ttu-id="7d11d-227">wprowadzono Hello poprzednich zrzutach ekranu z maszyny Wirtualnej systemu Windows Azure.</span><span class="sxs-lookup"><span data-stu-id="7d11d-227">hello previous screenshots were made from an Azure Windows VM.</span></span> <span data-ttu-id="7d11d-228">Ten zestaw jest na przykład za pomocą przeglądarki Firefox na SLES 12 maszyny Wirtualnej platformy Azure przy użyciu Gnome pulpitu.</span><span class="sxs-lookup"><span data-stu-id="7d11d-228">This one is an example using Firefox on an Azure SLES 12 VM with Gnome desktop.</span></span> <span data-ttu-id="7d11d-229">Pokazuje harmonogramy tworzenia kopii zapasowej SAP HANA toodefine opcji hello w Panelu sterowania programu SAP HANA.</span><span class="sxs-lookup"><span data-stu-id="7d11d-229">It shows hello option toodefine SAP HANA backup schedules in SAP HANA Cockpit.</span></span> <span data-ttu-id="7d11d-230">Zgodnie z jedną można również sprawdzić, sugeruje daty/godziny jako prefiksu hello plików kopii zapasowej.</span><span class="sxs-lookup"><span data-stu-id="7d11d-230">As one can also see, it suggests date/time as a prefix for hello backup files.</span></span> <span data-ttu-id="7d11d-231">W systemie SAP HANA Studio prefiks domyślne hello jest &quot;COMPLETE\_danych\_kopii zapasowej&quot; podczas wykonywania kopii zapasowej całego pliku.</span><span class="sxs-lookup"><span data-stu-id="7d11d-231">In SAP HANA Studio, hello default prefix is &quot;COMPLETE\_DATA\_BACKUP&quot; when doing a full file backup.</span></span> <span data-ttu-id="7d11d-232">Zaleca się użycie unikatowy prefiks.</span><span class="sxs-lookup"><span data-stu-id="7d11d-232">Using a unique prefix is recommended.</span></span>

### <a name="sap-hana-backup-encryption"></a><span data-ttu-id="7d11d-233">SAP HANA szyfrowania kopii zapasowych</span><span class="sxs-lookup"><span data-stu-id="7d11d-233">SAP HANA backup encryption</span></span>

<span data-ttu-id="7d11d-234">SAP HANA oferuje szyfrowania danych i dziennika.</span><span class="sxs-lookup"><span data-stu-id="7d11d-234">SAP HANA offers encryption of data and log.</span></span> <span data-ttu-id="7d11d-235">Jeśli nie są zaszyfrowane SAP HANA danych i dziennika, następnie hello kopii zapasowych również nie są szyfrowane.</span><span class="sxs-lookup"><span data-stu-id="7d11d-235">If SAP HANA data and log are not encrypted, then hello backups are also not encrypted.</span></span> <span data-ttu-id="7d11d-236">Jest zapasowej toouse klienta toohello jakiegoś rozwiązań innych firm tooencrypt hello SAP HANA tworzenia kopii zapasowych.</span><span class="sxs-lookup"><span data-stu-id="7d11d-236">It is up toohello customer toouse some form of third-party solution tooencrypt hello SAP HANA backups.</span></span> <span data-ttu-id="7d11d-237">Zobacz [danych i szyfrowania woluminu dziennika](https://help.sap.com/saphelp_hanaplatform/helpdata/en/dc/01f36fbb5710148b668201a6e95cf2/content.htm) toofind więcej informacji na temat szyfrowania SAP HANA.</span><span class="sxs-lookup"><span data-stu-id="7d11d-237">See [Data and Log Volume Encryption](https://help.sap.com/saphelp_hanaplatform/helpdata/en/dc/01f36fbb5710148b668201a6e95cf2/content.htm) toofind out more about SAP HANA encryption.</span></span>

<span data-ttu-id="7d11d-238">W systemie Microsoft Azure klient może wykorzystać hello tooencrypt funkcji szyfrowania maszyn wirtualnych IaaS.</span><span class="sxs-lookup"><span data-stu-id="7d11d-238">On Microsoft Azure, a customer could use hello IaaS VM encryption feature tooencrypt.</span></span> <span data-ttu-id="7d11d-239">Na przykład jeden można użyć danych dedykowanych dysków dołączonych toohello maszyny Wirtualnej, które są używane toostore SAP HANA kopii zapasowych, a następnie kopie tych dysków.</span><span class="sxs-lookup"><span data-stu-id="7d11d-239">For example, one could use dedicated data disks attached toohello VM, which are used toostore SAP HANA backups, then make copies of these disks.</span></span>

<span data-ttu-id="7d11d-240">Usługa Kopia zapasowa Azure może obsługiwać maszyny wirtualne/dyskach zaszyfrowanych (zobacz [jak tooback zapasowej i przywracania szyfrowane maszyn wirtualnych w usłudze Kopia zapasowa Azure](../../../backup/backup-azure-vms-encryption.md)).</span><span class="sxs-lookup"><span data-stu-id="7d11d-240">Azure Backup service can handle encrypted VMs/disks (see [How tooback up and restore encrypted virtual machines with Azure Backup](../../../backup/backup-azure-vms-encryption.md)).</span></span>

<span data-ttu-id="7d11d-241">Inną opcją czy hello toomaintain SAP HANA wirtualna i jej dyski bez szyfrowania i przechowywania plików kopii zapasowych SAP HANA hello na koncie magazynu, dla którego włączono szyfrowania (zobacz [szyfrowanie usługi Magazyn Azure dla danych magazynowanych](../../../storage/common/storage-service-encryption.md)) .</span><span class="sxs-lookup"><span data-stu-id="7d11d-241">Another option would be toomaintain hello SAP HANA VM and its disks without encryption, and store hello SAP HANA backup files in a storage account for which encryption was enabled (see [Azure Storage Service Encryption for Data at Rest](../../../storage/common/storage-service-encryption.md)).</span></span>

## <a name="test-setup"></a><span data-ttu-id="7d11d-242">Ustawienia testu</span><span class="sxs-lookup"><span data-stu-id="7d11d-242">Test setup</span></span>

### <a name="test-virtual-machine-on-azure"></a><span data-ttu-id="7d11d-243">Testowej maszyny wirtualnej na platformie Azure</span><span class="sxs-lookup"><span data-stu-id="7d11d-243">Test Virtual Machine on Azure</span></span>

<span data-ttu-id="7d11d-244">Instalacja SAP HANA w maszynie Wirtualnej platformy Azure GS5 została użyta dla hello następujące testy wykonywania kopii zapasowej i przywracania.</span><span class="sxs-lookup"><span data-stu-id="7d11d-244">An SAP HANA installation in an Azure GS5 VM was used for hello following backup/restore tests.</span></span>

![Na poniższym rysunku pokazano część hello Azure omówienie portalu hello HANA testowej maszyny Wirtualnej](media/sap-hana-backup-guide/image007.png)

<span data-ttu-id="7d11d-246">Na poniższym rysunku pokazano część hello Azure omówienie portalu hello HANA testowej maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="7d11d-246">This figure shows part of hello Azure portal overview for hello HANA test VM.</span></span>

### <a name="test-backup-size"></a><span data-ttu-id="7d11d-247">Rozmiar kopii zapasowej testu</span><span class="sxs-lookup"><span data-stu-id="7d11d-247">Test backup size</span></span>

![Tę wartość została pobrana z kopii zapasowej konsoli hello w HANA Studio i przedstawia rozmiar pliku kopii zapasowej hello 229 GB dla serwera indeksu HANA hello](media/sap-hana-backup-guide/image008.png)

<span data-ttu-id="7d11d-249">Fikcyjny tabeli został wypełniony tooget danych rozmiar kopii zapasowej danych ogólnych, ponad 200 GB tooderive realistyczne danych dotyczących wydajności.</span><span class="sxs-lookup"><span data-stu-id="7d11d-249">A dummy table was filled up with data tooget a total data backup size of over 200 GB tooderive realistic performance data.</span></span> <span data-ttu-id="7d11d-250">Rysunek Hello została pobrana z kopii zapasowej konsoli hello w HANA Studio i przedstawia rozmiar pliku kopii zapasowej hello 229 GB dla serwera indeksu HANA hello.</span><span class="sxs-lookup"><span data-stu-id="7d11d-250">hello figure was taken from hello backup console in HANA Studio and shows hello backup file size of 229 GB for hello HANA index server.</span></span> <span data-ttu-id="7d11d-251">Dla testów hello hello domyślnego tworzenia kopii zapasowej prefiksu "COMPLETE_DATA_BACKUP" w SAP HANA Studio została użyta.</span><span class="sxs-lookup"><span data-stu-id="7d11d-251">For hello tests, hello default backup prefix "COMPLETE_DATA_BACKUP" in SAP HANA Studio was used.</span></span> <span data-ttu-id="7d11d-252">W systemach rzeczywistej produkcji lepszym rozwiązaniem prefiks powinien być zdefiniowany.</span><span class="sxs-lookup"><span data-stu-id="7d11d-252">In real production systems, a more useful prefix should be defined.</span></span> <span data-ttu-id="7d11d-253">Panel sterowania programu SAP HANA sugeruje daty/godziny.</span><span class="sxs-lookup"><span data-stu-id="7d11d-253">SAP HANA Cockpit suggests date/time.</span></span>

### <a name="test-tool-toocopy-files-directly-tooazure-storage"></a><span data-ttu-id="7d11d-254">Toocopy narzędzie Test bezpośrednio pliki tooAzure magazynu</span><span class="sxs-lookup"><span data-stu-id="7d11d-254">Test tool toocopy files directly tooAzure storage</span></span>

<span data-ttu-id="7d11d-255">pliki kopii zapasowej SAP HANA tootransfer bezpośrednio tooAzure magazynu obiektów blob lub udziały plików platformy Azure, hello blobxfer narzędzie użyto ponieważ obsługuje ona zarówno elementy docelowe i można łatwo zintegrować skryptów automatyzacji powodu tooits interfejsu wiersza polecenia.</span><span class="sxs-lookup"><span data-stu-id="7d11d-255">tootransfer SAP HANA backup files directly tooAzure blob storage, or Azure file shares, hello blobxfer tool was used because it supports both targets and it can be easily integrated into automation scripts due tooits command-line interface.</span></span> <span data-ttu-id="7d11d-256">Narzędzie blobxfer Hello jest dostępne na [GitHub](https://github.com/Azure/blobxfer).</span><span class="sxs-lookup"><span data-stu-id="7d11d-256">hello blobxfer tool is available on [GitHub](https://github.com/Azure/blobxfer).</span></span>

### <a name="test-backup-size-estimation"></a><span data-ttu-id="7d11d-257">Szacowanie rozmiaru kopii zapasowej testu</span><span class="sxs-lookup"><span data-stu-id="7d11d-257">Test backup size estimation</span></span>

<span data-ttu-id="7d11d-258">Jest ważne tooestimate hello rozmiar kopii zapasowej programu SAP HANA.</span><span class="sxs-lookup"><span data-stu-id="7d11d-258">It is important tooestimate hello backup size of SAP HANA.</span></span> <span data-ttu-id="7d11d-259">Ta Szacowana pomaga tooimprove wydajności, definiując hello rozmiar maksymalny pliku kopii zapasowej dla liczby plików kopii zapasowej z powodu tooparallelism podczas kopiowania plików.</span><span class="sxs-lookup"><span data-stu-id="7d11d-259">This estimate helps tooimprove performance by defining hello max backup file size for a number of backup files, due tooparallelism during a file copy.</span></span> <span data-ttu-id="7d11d-260">(Te szczegóły opisano szczegółowo w dalszej części tego artykułu). Co należy również postanowić, czy toodo pełnej kopii zapasowej lub różnicowej kopii zapasowej (przyrostowe lub różnicowa).</span><span class="sxs-lookup"><span data-stu-id="7d11d-260">(Those details are explained later in this article.) One must also decide whether toodo a full backup or a delta backup (incremental or differential).</span></span>

<span data-ttu-id="7d11d-261">Na szczęście istnieje prostej instrukcji SQL szacowany rozmiar hello pliki kopii zapasowej hello: **wybierz \* z M\_kopii zapasowej\_rozmiar\_uzyskać szacunkowe wartości** (zobacz [ Szacowana hello miejsca potrzebne w hello systemu plików dla kopii zapasowej danych](https://help.sap.com/saphelp_hanaplatform/helpdata/en/7d/46337b7a9c4c708d965b65bc0f343c/content.htm)).</span><span class="sxs-lookup"><span data-stu-id="7d11d-261">Fortunately, there is a simple SQL statement that estimates hello size of hello backup files: **select \* from M\_BACKUP\_SIZE\_ESTIMATIONS** (see [Estimate hello Space Needed in hello File System for a Data Backup](https://help.sap.com/saphelp_hanaplatform/helpdata/en/7d/46337b7a9c4c708d965b65bc0f343c/content.htm)).</span></span>

![dane wyjściowe Hello tej instrukcji SQL odpowiada prawie dokładnie hello rzeczywisty rozmiar hello pełne dane z kopii zapasowej na dysku](media/sap-hana-backup-guide/image009.png)

<span data-ttu-id="7d11d-263">Dla systemu testowego hello hello dane wyjściowe w instrukcji SQL zgodne prawie dokładnie hello rzeczywisty rozmiar hello pełne dane z kopii zapasowej na dysku.</span><span class="sxs-lookup"><span data-stu-id="7d11d-263">For hello test system, hello output of this SQL statement matches almost exactly hello real size of hello full data backup on disk.</span></span>

### <a name="test-hana-backup-file-size"></a><span data-ttu-id="7d11d-264">Rozmiar pliku kopii zapasowej HANA testu</span><span class="sxs-lookup"><span data-stu-id="7d11d-264">Test HANA backup file size</span></span>

![Konsola kopii zapasowej HANA Studio Hello pozwala jeden toorestrict hello maksymalny rozmiar plików HANA kopii zapasowej](media/sap-hana-backup-guide/image010.png)

<span data-ttu-id="7d11d-266">Konsola kopii zapasowej HANA Studio Hello pozwala jeden toorestrict hello maksymalny rozmiar plików HANA kopii zapasowej.</span><span class="sxs-lookup"><span data-stu-id="7d11d-266">hello HANA Studio backup console allows one toorestrict hello max file size of HANA backup files.</span></span> <span data-ttu-id="7d11d-267">W środowisku próbki hello tej funkcji umożliwia możliwe tooget pliki kopii zapasowej na mniejsze wielu zamiast jeden plik kopii zapasowej 230 GB.</span><span class="sxs-lookup"><span data-stu-id="7d11d-267">In hello sample environment, that feature makes it possible tooget multiple smaller backup files instead of one 230-GB backup file.</span></span> <span data-ttu-id="7d11d-268">Pliki mają mniejszy rozmiar, ma znaczący wpływ na wydajność (zobacz artykuł pokrewne hello [SAP HANA Azure Backup na poziomie plików](sap-hana-backup-file-level.md)).</span><span class="sxs-lookup"><span data-stu-id="7d11d-268">Smaller file size has a significant impact on performance (see hello related article [SAP HANA Azure Backup on file level](sap-hana-backup-file-level.md)).</span></span>

## <a name="summary"></a><span data-ttu-id="7d11d-269">Podsumowanie</span><span class="sxs-lookup"><span data-stu-id="7d11d-269">Summary</span></span>

<span data-ttu-id="7d11d-270">Na podstawie hello wyników testu hello następujące tabele Pokaż zalet i wad tooback rozwiązań zapasowych uruchomionych na maszynach wirtualnych Azure bazy danych SAP HANA.</span><span class="sxs-lookup"><span data-stu-id="7d11d-270">Based on hello test results hello following tables show pros and cons of solutions tooback up an SAP HANA database running on Azure virtual machines.</span></span>

<span data-ttu-id="7d11d-271">**Utwórz kopię zapasową systemu plików toohello SAP HANA i skopiuj pliki kopii zapasowej później toohello miejsce docelowe kopii zapasowej końcowego**</span><span class="sxs-lookup"><span data-stu-id="7d11d-271">**Back up SAP HANA toohello file system and copy backup files afterwards toohello final backup destination**</span></span>

|<span data-ttu-id="7d11d-272">Rozwiązanie</span><span class="sxs-lookup"><span data-stu-id="7d11d-272">Solution</span></span>                                           |<span data-ttu-id="7d11d-273">Specjaliści</span><span class="sxs-lookup"><span data-stu-id="7d11d-273">Pros</span></span>                                 |<span data-ttu-id="7d11d-274">Wady</span><span class="sxs-lookup"><span data-stu-id="7d11d-274">Cons</span></span>                                  |
|---------------------------------------------------|-------------------------------------|--------------------------------------|
|<span data-ttu-id="7d11d-275">Zachowaj kopie zapasowe HANA dysków maszyny Wirtualnej</span><span class="sxs-lookup"><span data-stu-id="7d11d-275">Keep HANA backups on VM disks</span></span>                      |<span data-ttu-id="7d11d-276">Nie działań na dodatkowe Zarządzanie</span><span class="sxs-lookup"><span data-stu-id="7d11d-276">No additional management efforts</span></span>     |<span data-ttu-id="7d11d-277">Eats miejsca na dysku lokalnym maszyny Wirtualnej</span><span class="sxs-lookup"><span data-stu-id="7d11d-277">Eats up local VM disk space</span></span>           |
|<span data-ttu-id="7d11d-278">Blobxfer narzędzia toocopy pliki kopii zapasowej tooblob magazynu</span><span class="sxs-lookup"><span data-stu-id="7d11d-278">Blobxfer tool toocopy backup files tooblob storage</span></span> |<span data-ttu-id="7d11d-279">Równoległość toocopy wielu plików, wybór toouse chłodnych obiektu blob magazynu</span><span class="sxs-lookup"><span data-stu-id="7d11d-279">Parallelism toocopy multiple files, choice toouse cool blob storage</span></span> | <span data-ttu-id="7d11d-280">Konserwacja dodatkowe narzędzia i skrypty niestandardowe</span><span class="sxs-lookup"><span data-stu-id="7d11d-280">Additional tool maintenance and custom scripting</span></span> | 
|<span data-ttu-id="7d11d-281">Kopiowanie obiektów blob za pośrednictwem programu Powershell lub interfejsu wiersza polecenia</span><span class="sxs-lookup"><span data-stu-id="7d11d-281">Blob copy via Powershell or CLI</span></span>                    |<span data-ttu-id="7d11d-282">Dodatkowe narzędzia niezbędne, można osiągnąć za pomocą programu Azure Powershell lub interfejsu wiersza polecenia</span><span class="sxs-lookup"><span data-stu-id="7d11d-282">No additional tool necessary, can be accomplished via Azure Powershell or CLI</span></span> |<span data-ttu-id="7d11d-283">ręczny proces, klient ma tootake nad wykonywania skryptów i zarządzania skopiowane obiekty BLOB do odtworzenia</span><span class="sxs-lookup"><span data-stu-id="7d11d-283">manual process, customer has tootake care of scripting and management of copied blobs for restore</span></span>|
|<span data-ttu-id="7d11d-284">Skopiuj tooNFS udziału</span><span class="sxs-lookup"><span data-stu-id="7d11d-284">Copy tooNFS share</span></span>                                  |<span data-ttu-id="7d11d-285">Przetwarzanie końcowe kopii zapasowej plików na innych maszyn wirtualnych bez wpływu na serwerze HANA hello</span><span class="sxs-lookup"><span data-stu-id="7d11d-285">Post-processing of backup files on other VM without impact on hello HANA server</span></span>|<span data-ttu-id="7d11d-286">Powolne proces kopiowania</span><span class="sxs-lookup"><span data-stu-id="7d11d-286">Slow copy process</span></span>|
|<span data-ttu-id="7d11d-287">Blobxfer kopiowania tooAzure usługi plików</span><span class="sxs-lookup"><span data-stu-id="7d11d-287">Blobxfer copy tooAzure File Service</span></span>                |<span data-ttu-id="7d11d-288">Nie będzie jeść miejsca na dyskach lokalnych maszyn wirtualnych</span><span class="sxs-lookup"><span data-stu-id="7d11d-288">Doesn't eat up space on local VM disks</span></span>|<span data-ttu-id="7d11d-289">Nie bezpośrednio zapisać pomocy technicznej przez HANA kopii zapasowej, ograniczenie rozmiaru udziału plików dla 5 TB</span><span class="sxs-lookup"><span data-stu-id="7d11d-289">No direct write support by HANA backup, size restriction of file share currently at 5 TB</span></span>|
|<span data-ttu-id="7d11d-290">Agent usługi Kopia zapasowa Azure</span><span class="sxs-lookup"><span data-stu-id="7d11d-290">Azure Backup Agent</span></span>                                 | <span data-ttu-id="7d11d-291">Byłoby preferowaną rozwiązania</span><span class="sxs-lookup"><span data-stu-id="7d11d-291">Would be preferred solution</span></span>         | <span data-ttu-id="7d11d-292">Obecnie nie jest dostępna w systemie Linux</span><span class="sxs-lookup"><span data-stu-id="7d11d-292">Currently not available on Linux</span></span>    |



<span data-ttu-id="7d11d-293">**Kopia zapasowa SAP HANA oparty na pamięci masowej migawki**</span><span class="sxs-lookup"><span data-stu-id="7d11d-293">**Backup SAP HANA based on storage snapshots**</span></span>

|<span data-ttu-id="7d11d-294">Rozwiązanie</span><span class="sxs-lookup"><span data-stu-id="7d11d-294">Solution</span></span>                                           |<span data-ttu-id="7d11d-295">Specjaliści</span><span class="sxs-lookup"><span data-stu-id="7d11d-295">Pros</span></span>                                 |<span data-ttu-id="7d11d-296">Wady</span><span class="sxs-lookup"><span data-stu-id="7d11d-296">Cons</span></span>                                  |
|---------------------------------------------------|-------------------------------------|--------------------------------------|
|<span data-ttu-id="7d11d-297">Usługa Kopia zapasowa Azure</span><span class="sxs-lookup"><span data-stu-id="7d11d-297">Azure Backup Service</span></span>                               | <span data-ttu-id="7d11d-298">Zezwala na podstawie kopii zapasowej maszyny Wirtualnej na migawki obiektu blob</span><span class="sxs-lookup"><span data-stu-id="7d11d-298">Allows VM backup based on blob snapshots</span></span> | <span data-ttu-id="7d11d-299">Używając nie przywracania na poziomie plików, wymaga hello Tworzenie nowej maszyny Wirtualnej dla procesu przywracania hello, który następnie pociąga za sobą konieczność hello klucza licencji SAP HANA</span><span class="sxs-lookup"><span data-stu-id="7d11d-299">When not using file level restore, it requires hello creation of a new VM for hello restore process, which then implies hello need of a new SAP HANA license key</span></span>|
|<span data-ttu-id="7d11d-300">Migawki obiektu blob ręcznie</span><span class="sxs-lookup"><span data-stu-id="7d11d-300">Manual blob snapshots</span></span>                              | <span data-ttu-id="7d11d-301">Elastyczność toocreate i Przywróć określone dysków maszyny Wirtualnej bez zmieniania hello Unikatowy identyfikator maszyny Wirtualnej</span><span class="sxs-lookup"><span data-stu-id="7d11d-301">Flexibility toocreate and restore specific VM disks without changing hello unique VM ID</span></span>|<span data-ttu-id="7d11d-302">Wszystkie czynności ręcznych, którego toobe programach powitania klienta</span><span class="sxs-lookup"><span data-stu-id="7d11d-302">All manual work, which has toobe done by hello customer</span></span>|

## <a name="next-steps"></a><span data-ttu-id="7d11d-303">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="7d11d-303">Next steps</span></span>
* <span data-ttu-id="7d11d-304">[SAP HANA kopia zapasowa Azure na poziomie plików](sap-hana-backup-file-level.md) opisuje hello opartych na plikach opcję tworzenia kopii zapasowej.</span><span class="sxs-lookup"><span data-stu-id="7d11d-304">[SAP HANA Azure Backup on file level](sap-hana-backup-file-level.md) describes hello file-based backup option.</span></span>
* <span data-ttu-id="7d11d-305">[Kopia zapasowa SAP HANA oparte na magazynu migawek](sap-hana-backup-storage-snapshots.md) opisuje hello magazynu związanych z migawką opcję tworzenia kopii zapasowej.</span><span class="sxs-lookup"><span data-stu-id="7d11d-305">[SAP HANA backup based on storage snapshots](sap-hana-backup-storage-snapshots.md) describes hello storage snapshot-based backup option.</span></span>
* <span data-ttu-id="7d11d-306">toolearn jak tooestablish wysokiej dostępności i planu odzyskiwania po awarii programu SAP HANA na platformie Azure (wystąpienia duże), zobacz [SAP HANA (duże wystąpień) wysokiej dostępności i odzyskiwania po awarii na platformie Azure](hana-overview-high-availability-disaster-recovery.md).</span><span class="sxs-lookup"><span data-stu-id="7d11d-306">toolearn how tooestablish high availability and plan for disaster recovery of SAP HANA on Azure (large instances), see [SAP HANA (large instances) high availability and disaster recovery on Azure](hana-overview-high-availability-disaster-recovery.md).</span></span>
