---
title: "Jak używać PerfInsights na platformie Microsoft Azure | Dokumentacja firmy Microsoft"
description: "Uzyskuje informacje o sposobie używania PerfInsights do rozwiązywania problemów z wydajnością maszyny Wirtualnej systemu Windows."
services: virtual-machines-windows'
documentationcenter: 
author: genlin
manager: cshepard
editor: na
tags: 
ms.service: virtual-machines-windows
ms.workload: infrastructure-services
ms.tgt_pltfrm: vm-windows
ms.devlang: na
ms.topic: article
ms.date: 07/18/2017
ms.author: genli
ms.openlocfilehash: f22bd42302b96118dba0d4e5e387c6798a0b8777
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 08/18/2017
---
# <a name="how-to-use-perfinsights"></a><span data-ttu-id="19fc4-103">Jak używać PerfInsights</span><span class="sxs-lookup"><span data-stu-id="19fc4-103">How to use PerfInsights</span></span> 

<span data-ttu-id="19fc4-104">[PerfInsights](http://aka.ms/perfinsightsdownload) jest automatyczne skrypt, który gromadzi informacje przydatne informacje diagnostyczne, działa obciążenia We/Wy obciążenia i zapewnia raport analizy, aby ułatwić rozwiązywanie problemów z wydajnością maszyny Wirtualnej systemu Windows w systemie Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="19fc4-104">[PerfInsights](http://aka.ms/perfinsightsdownload) is an automated script that collects useful diagnostic information, runs I/O stress loads, and provides an analysis report to help troubleshoot Windows VM performance problems in Microsoft Azure.</span></span> 

<span data-ttu-id="19fc4-105">Firma Microsoft zaleca uruchomienie tego skryptu przed otwarciem biletu pomocy technicznej w firmie Microsoft problemy z wydajnością maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="19fc4-105">We recommend that you run this script before you open a Support ticket with Microsoft for VM performance issues.</span></span>

## <a name="supported-troubleshooting-scenarios"></a><span data-ttu-id="19fc4-106">Obsługiwane scenariusze rozwiązywania problemów</span><span class="sxs-lookup"><span data-stu-id="19fc4-106">Supported troubleshooting scenarios</span></span>

<span data-ttu-id="19fc4-107">PerfInsights można zbierać i analizować kilka rodzajów informacji, które są zgrupowane w scenariuszach unikatowy.</span><span class="sxs-lookup"><span data-stu-id="19fc4-107">PerfInsights can collect and analyze several kinds of information that are grouped into unique scenarios.</span></span>

### <a name="collect-disk-configuration"></a><span data-ttu-id="19fc4-108">Zbierz dane o konfiguracji dysku</span><span class="sxs-lookup"><span data-stu-id="19fc4-108">Collect disk configuration</span></span> 

<span data-ttu-id="19fc4-109">W tym scenariuszu zbiera konfiguracji dysków oraz inne ważne informacje, w tym następujące elementy:</span><span class="sxs-lookup"><span data-stu-id="19fc4-109">This scenario collects the disk configuration and other important information, including the following items:</span></span>

-   <span data-ttu-id="19fc4-110">Dzienniki zdarzeń</span><span class="sxs-lookup"><span data-stu-id="19fc4-110">Event logs</span></span>

-   <span data-ttu-id="19fc4-111">Stan sieci dla wszystkich połączeń przychodzących i wychodzących</span><span class="sxs-lookup"><span data-stu-id="19fc4-111">Network status for all incoming and outgoing connections</span></span>

-   <span data-ttu-id="19fc4-112">Ustawienia konfiguracji sieci i zapory</span><span class="sxs-lookup"><span data-stu-id="19fc4-112">Network and firewall configuration settings</span></span>

-   <span data-ttu-id="19fc4-113">Listy zadań dla wszystkich aplikacji, które są aktualnie uruchomione w systemie</span><span class="sxs-lookup"><span data-stu-id="19fc4-113">Task list for all applications that are currently running on the system</span></span>

-   <span data-ttu-id="19fc4-114">Informacje o pliku utworzonego przez msinfo32 dla maszyny wirtualnej (VM)</span><span class="sxs-lookup"><span data-stu-id="19fc4-114">Information file created by msinfo32 for the virtual machine (VM)</span></span>

-   <span data-ttu-id="19fc4-115">Ustawienia konfiguracji bazy danych programu Microsoft SQL Server (Jeśli maszyna wirtualna została zidentyfikowana jako serwer, na którym działa program SQL Server)</span><span class="sxs-lookup"><span data-stu-id="19fc4-115">Microsoft SQL Server database configuration settings (if the VM is identified as a server that is running SQL Server)</span></span>

-   <span data-ttu-id="19fc4-116">Liczniki niezawodności magazynu</span><span class="sxs-lookup"><span data-stu-id="19fc4-116">Storage reliability counters</span></span>

-   <span data-ttu-id="19fc4-117">Ważne poprawki systemu Windows</span><span class="sxs-lookup"><span data-stu-id="19fc4-117">Important Windows hotfixes</span></span>

-   <span data-ttu-id="19fc4-118">Sterowniki filtrów zainstalowany</span><span class="sxs-lookup"><span data-stu-id="19fc4-118">Installed filter drivers</span></span>

<span data-ttu-id="19fc4-119">To jest pasywny zbiór informacje, które nie powinny mieć wpływ na system.</span><span class="sxs-lookup"><span data-stu-id="19fc4-119">This is a passive collection of information that shouldn't affect the system.</span></span> 

>[!Note]
><span data-ttu-id="19fc4-120">Ten scenariusz jest automatycznie uwzględnione w każdym z poniższych scenariuszy.</span><span class="sxs-lookup"><span data-stu-id="19fc4-120">This scenario is automatically included in each of the following scenarios.</span></span>

### <a name="benchmarkstorage-performance-test"></a><span data-ttu-id="19fc4-121">Test wydajności testu porównawczego/magazynu</span><span class="sxs-lookup"><span data-stu-id="19fc4-121">Benchmark/Storage Performance Test</span></span>

<span data-ttu-id="19fc4-122">W tym scenariuszu uruchamia [diskspd](https://github.com/Microsoft/diskspd) testu (IOPS i MB/s) dla wszystkich dysków dołączonych do maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="19fc4-122">This scenario runs the [diskspd](https://github.com/Microsoft/diskspd) benchmark test (IOPS and MBPS) for all drives that are attached to the VM.</span></span> 

> [!Note]
> <span data-ttu-id="19fc4-123">W tym scenariuszu może mieć wpływ na system i nie powinny być uruchamiane na komputerze produkcyjnym.</span><span class="sxs-lookup"><span data-stu-id="19fc4-123">This scenario can affect the system and shouldn’t be run on a live production system.</span></span> <span data-ttu-id="19fc4-124">W razie potrzeby uruchom ten scenariusz, w oknie obsługi dedykowanych Aby uniknąć problemów.</span><span class="sxs-lookup"><span data-stu-id="19fc4-124">If necessary, run this scenario in a dedicated maintenance window to avoid any problems.</span></span> <span data-ttu-id="19fc4-125">Większe obciążenie jest spowodowane testu śledzenia lub testu porównawczego może niekorzystnie wpłynąć na wydajność maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="19fc4-125">An increased workload that is caused by a trace or benchmark test could adversely affect the performance of your VM.</span></span>
>

### <a name="general-vm-slow-analysis"></a><span data-ttu-id="19fc4-126">Analiza ogólne wolno maszyny Wirtualnej</span><span class="sxs-lookup"><span data-stu-id="19fc4-126">General VM Slow analysis</span></span> 

<span data-ttu-id="19fc4-127">W tym scenariuszu uruchamia [licznika wydajności](https://msdn.microsoft.com/library/windows/desktop/aa373083(v=vs.85).aspx) śledzenia przy użyciu liczniki, które są określone w pliku Generalcounters.txt.</span><span class="sxs-lookup"><span data-stu-id="19fc4-127">This scenario runs a [performance counter](https://msdn.microsoft.com/library/windows/desktop/aa373083(v=vs.85).aspx) trace by using the counters that are specified in the Generalcounters.txt file.</span></span> <span data-ttu-id="19fc4-128">Jeśli maszyna wirtualna została zidentyfikowana jako serwer, na którym działa program SQL Server, uruchamia śledzenia licznika wydajności przy użyciu liczników, które znajdują się w pliku Sqlcounters.txt.</span><span class="sxs-lookup"><span data-stu-id="19fc4-128">If the VM is identified as a server that is running SQL Server, it runs a performance counter trace by using the counters that are found in the Sqlcounters.txt file.</span></span> <span data-ttu-id="19fc4-129">Zawiera również dane diagnostyczne wydajności.</span><span class="sxs-lookup"><span data-stu-id="19fc4-129">It also includes Performance Diagnostics data.</span></span>

### <a name="vm-slow-analysis-and-benchmark"></a><span data-ttu-id="19fc4-130">Analiza powoli maszyny Wirtualnej i wzorzec</span><span class="sxs-lookup"><span data-stu-id="19fc4-130">VM Slow analysis and benchmark</span></span>

<span data-ttu-id="19fc4-131">W tym scenariuszu uruchamia [licznika wydajności](https://msdn.microsoft.com/library/windows/desktop/aa373083(v=vs.85).aspx) śledzenia, w którym następuje [diskspd](https://github.com/Microsoft/diskspd) testu.</span><span class="sxs-lookup"><span data-stu-id="19fc4-131">This scenario runs a [performance counter](https://msdn.microsoft.com/library/windows/desktop/aa373083(v=vs.85).aspx) trace that is followed by a [diskspd](https://github.com/Microsoft/diskspd) benchmark test.</span></span> 

> [!Note]
> <span data-ttu-id="19fc4-132">W tym scenariuszu może mieć wpływ na system i nie powinny być uruchamiane na komputerze produkcyjnym.</span><span class="sxs-lookup"><span data-stu-id="19fc4-132">This scenario can affect the system and shouldn’t be run on a live production system.</span></span> <span data-ttu-id="19fc4-133">W razie potrzeby uruchom ten scenariusz, w oknie obsługi dedykowanych Aby uniknąć problemów.</span><span class="sxs-lookup"><span data-stu-id="19fc4-133">If necessary, run this scenario in a dedicated maintenance window to avoid any problems.</span></span> <span data-ttu-id="19fc4-134">Większe obciążenie jest spowodowane testu śledzenia lub testu porównawczego może niekorzystnie wpłynąć na wydajność maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="19fc4-134">An increased workload that is caused by a trace or benchmark test could adversely affect the performance of your VM.</span></span>
>

### <a name="azure-files-analysis"></a><span data-ttu-id="19fc4-135">Azure analizy plików</span><span class="sxs-lookup"><span data-stu-id="19fc4-135">Azure Files analysis</span></span> 

<span data-ttu-id="19fc4-136">W tym scenariuszu uruchamia przechwytywania licznika wydajności specjalne wraz z śledzenia ścieżek połączeń sieciowych.</span><span class="sxs-lookup"><span data-stu-id="19fc4-136">This scenario runs a special performance counter capture together with a network trace.</span></span> <span data-ttu-id="19fc4-137">Przechwytywanie obejmuje wszystkie liczniki "Udziały SMB klienta".</span><span class="sxs-lookup"><span data-stu-id="19fc4-137">The capture includes all the "SMB Client Shares" counters.</span></span> <span data-ttu-id="19fc4-138">Poniżej przedstawiono niektóre kluczowe klienta udziału liczniki wydajności protokołu SMB należących do przechwytywania:</span><span class="sxs-lookup"><span data-stu-id="19fc4-138">The following are some key SMB client share performance counters that are part of the capture:</span></span>

| <span data-ttu-id="19fc4-139">**Typ**</span><span class="sxs-lookup"><span data-stu-id="19fc4-139">**Type**</span></span>     | <span data-ttu-id="19fc4-140">**Licznik udziałów klienta protokołu SMB**</span><span class="sxs-lookup"><span data-stu-id="19fc4-140">**SMB client shares counter**</span></span> |
|--------------|-------------------------------|
| <span data-ttu-id="19fc4-141">Operacje wejścia/wyjścia</span><span class="sxs-lookup"><span data-stu-id="19fc4-141">IOPS</span></span>         | <span data-ttu-id="19fc4-142">Dane żądania/s</span><span class="sxs-lookup"><span data-stu-id="19fc4-142">Data Requests/sec</span></span>             |
|              | <span data-ttu-id="19fc4-143">Liczba żądań odczytu/s</span><span class="sxs-lookup"><span data-stu-id="19fc4-143">Read Requests/sec</span></span>             |
|              | <span data-ttu-id="19fc4-144">Zapisu żądania/s</span><span class="sxs-lookup"><span data-stu-id="19fc4-144">Write Requests/sec</span></span>            |
| <span data-ttu-id="19fc4-145">Opóźnienie</span><span class="sxs-lookup"><span data-stu-id="19fc4-145">Latency</span></span>      | <span data-ttu-id="19fc4-146">Średnia liczba żądań danych/s</span><span class="sxs-lookup"><span data-stu-id="19fc4-146">Avg. sec/Data Request</span></span>         |
|              | <span data-ttu-id="19fc4-147">Średni czas odczytu s</span><span class="sxs-lookup"><span data-stu-id="19fc4-147">Avg. sec/Read</span></span>                 |
|              | <span data-ttu-id="19fc4-148">Średni czas zapisu s</span><span class="sxs-lookup"><span data-stu-id="19fc4-148">Avg. sec/Write</span></span>                |
| <span data-ttu-id="19fc4-149">Rozmiar operacji We/Wy</span><span class="sxs-lookup"><span data-stu-id="19fc4-149">IO Size</span></span>      | <span data-ttu-id="19fc4-150">Średni Bajty/danych żądania</span><span class="sxs-lookup"><span data-stu-id="19fc4-150">Avg. Bytes/Data Request</span></span>       |
|              | <span data-ttu-id="19fc4-151">Średni Bajty odczytu</span><span class="sxs-lookup"><span data-stu-id="19fc4-151">Avg. Bytes/Read</span></span>               |
|              | <span data-ttu-id="19fc4-152">Średni Bajty/zapisu</span><span class="sxs-lookup"><span data-stu-id="19fc4-152">Avg. Bytes/Write</span></span>              |
| <span data-ttu-id="19fc4-153">Przepływność</span><span class="sxs-lookup"><span data-stu-id="19fc4-153">Throughput</span></span>   | <span data-ttu-id="19fc4-154">Dane bajty/s</span><span class="sxs-lookup"><span data-stu-id="19fc4-154">Data Bytes/sec</span></span>                |
|              | <span data-ttu-id="19fc4-155">Odczytu dysku/s</span><span class="sxs-lookup"><span data-stu-id="19fc4-155">Read Bytes/sec</span></span>                |
|              | <span data-ttu-id="19fc4-156">Bajty zapisane/s</span><span class="sxs-lookup"><span data-stu-id="19fc4-156">Write Bytes/sec</span></span>               |
| <span data-ttu-id="19fc4-157">Długość kolejki</span><span class="sxs-lookup"><span data-stu-id="19fc4-157">Queue Length</span></span> | <span data-ttu-id="19fc4-158">Średni Długość kolejki odczytu</span><span class="sxs-lookup"><span data-stu-id="19fc4-158">Avg. Read Queue Length</span></span>        |
|              | <span data-ttu-id="19fc4-159">Średni Długość kolejki zapisu</span><span class="sxs-lookup"><span data-stu-id="19fc4-159">Avg. Write Queue Length</span></span>       |
|              | <span data-ttu-id="19fc4-160">Średni Długość kolejki danych</span><span class="sxs-lookup"><span data-stu-id="19fc4-160">Avg. Data Queue Length</span></span>        |

### <a name="custom-configuration"></a><span data-ttu-id="19fc4-161">Konfiguracja niestandardowa</span><span class="sxs-lookup"><span data-stu-id="19fc4-161">Custom configuration</span></span> 

<span data-ttu-id="19fc4-162">Podczas wykonywania niestandardowej konfiguracji używasz wszystkie ślady (Diagnostyka wydajności, dane licznika wydajności, program xperf, sieci, storport) równolegle, zależności, jak wiele różnych dane śledzenia są wybrane.</span><span class="sxs-lookup"><span data-stu-id="19fc4-162">When you run a custom configuration, you are running all traces (performance diagnostics, performance counter, xperf, network, storport) in parallel, depending how many different traces are selected.</span></span> <span data-ttu-id="19fc4-163">Po zakończeniu śledzenie narzędzie jest uruchamiane testu narzędzia diskspd, jeśli jest zaznaczone.</span><span class="sxs-lookup"><span data-stu-id="19fc4-163">After tracing is completed, the tool runs the diskspd benchmark, if it is selected.</span></span> 

> [!Note]
> <span data-ttu-id="19fc4-164">W tym scenariuszu może mieć wpływ na system i nie powinny być uruchamiane na komputerze produkcyjnym.</span><span class="sxs-lookup"><span data-stu-id="19fc4-164">This scenario can affect the system and shouldn’t be run on a live production system.</span></span> <span data-ttu-id="19fc4-165">W razie potrzeby uruchom ten scenariusz, w oknie obsługi dedykowanych Aby uniknąć problemów.</span><span class="sxs-lookup"><span data-stu-id="19fc4-165">If necessary, run this scenario in a dedicated maintenance window to avoid any problems.</span></span> <span data-ttu-id="19fc4-166">Większe obciążenie jest spowodowane testu śledzenia lub testu porównawczego może niekorzystnie wpłynąć na wydajność maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="19fc4-166">An increased workload that is caused by a trace or benchmark test could adversely affect the performance of your VM.</span></span>
>

## <a name="what-kind-of-information-is-collected-by-the-script"></a><span data-ttu-id="19fc4-167">Jakie informacje są zbierane przez skrypt?</span><span class="sxs-lookup"><span data-stu-id="19fc4-167">What kind of information is collected by the script?</span></span>

<span data-ttu-id="19fc4-168">Informacje dotyczące maszyny Wirtualnej systemu Windows, dyski lub magazynu konfiguracji do puli, liczniki wydajności, dzienników i różne dane śledzenia są zbierane w zależności od scenariusza wydajności używanego:</span><span class="sxs-lookup"><span data-stu-id="19fc4-168">Information about Windows VM, disks or storage pools configuration, performance counters, logs and various traces are collected depending on the performance scenario used:</span></span>

|<span data-ttu-id="19fc4-169">Zebrane dane</span><span class="sxs-lookup"><span data-stu-id="19fc4-169">Data collected</span></span>                              |  |  | <span data-ttu-id="19fc4-170">Scenariusze wydajności</span><span class="sxs-lookup"><span data-stu-id="19fc4-170">Performance Scenarios</span></span> |  |  | |
|----------------------------------|----------------------------|------------------------------------|--------------------------|--------------------------------|----------------------|----------------------|
|                              | <span data-ttu-id="19fc4-171">Zbieraj konfiguracja dysków</span><span class="sxs-lookup"><span data-stu-id="19fc4-171">Collect disk Configuration</span></span> | <span data-ttu-id="19fc4-172">Test wydajności testu porównawczego i magazynowania</span><span class="sxs-lookup"><span data-stu-id="19fc4-172">Benchmark/Storage Performance test</span></span> | <span data-ttu-id="19fc4-173">Analiza ogólne wolno maszyny Wirtualnej</span><span class="sxs-lookup"><span data-stu-id="19fc4-173">General VM Slow analysis</span></span> | <span data-ttu-id="19fc4-174">Analiza powoli maszyny Wirtualnej i wzorzec</span><span class="sxs-lookup"><span data-stu-id="19fc4-174">VM Slow analysis and benchmark</span></span> | <span data-ttu-id="19fc4-175">Azure analizy plików</span><span class="sxs-lookup"><span data-stu-id="19fc4-175">Azure Files analysis</span></span> | <span data-ttu-id="19fc4-176">Konfiguracja niestandardowa</span><span class="sxs-lookup"><span data-stu-id="19fc4-176">Custom configuration</span></span> |
| <span data-ttu-id="19fc4-177">Informacje z dzienników zdarzeń</span><span class="sxs-lookup"><span data-stu-id="19fc4-177">Information from Event logs</span></span>      | <span data-ttu-id="19fc4-178">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-178">Yes</span></span>                        | <span data-ttu-id="19fc4-179">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-179">Yes</span></span>                                | <span data-ttu-id="19fc4-180">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-180">Yes</span></span>                      | <span data-ttu-id="19fc4-181">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-181">Yes</span></span>                            | <span data-ttu-id="19fc4-182">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-182">Yes</span></span>                  | <span data-ttu-id="19fc4-183">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-183">Yes</span></span>                  |
| <span data-ttu-id="19fc4-184">Informacje o systemie</span><span class="sxs-lookup"><span data-stu-id="19fc4-184">System information</span></span>               | <span data-ttu-id="19fc4-185">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-185">Yes</span></span>                        | <span data-ttu-id="19fc4-186">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-186">Yes</span></span>                                | <span data-ttu-id="19fc4-187">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-187">Yes</span></span>                      | <span data-ttu-id="19fc4-188">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-188">Yes</span></span>                            | <span data-ttu-id="19fc4-189">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-189">Yes</span></span>                  | <span data-ttu-id="19fc4-190">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-190">Yes</span></span>                  |
| <span data-ttu-id="19fc4-191">Mapa woluminu</span><span class="sxs-lookup"><span data-stu-id="19fc4-191">Volume Map</span></span>                       | <span data-ttu-id="19fc4-192">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-192">Yes</span></span>                        | <span data-ttu-id="19fc4-193">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-193">Yes</span></span>                                | <span data-ttu-id="19fc4-194">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-194">Yes</span></span>                      | <span data-ttu-id="19fc4-195">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-195">Yes</span></span>                            | <span data-ttu-id="19fc4-196">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-196">Yes</span></span>                  | <span data-ttu-id="19fc4-197">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-197">Yes</span></span>                  |
| <span data-ttu-id="19fc4-198">Mapy dysku</span><span class="sxs-lookup"><span data-stu-id="19fc4-198">Disk Map</span></span>                         | <span data-ttu-id="19fc4-199">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-199">Yes</span></span>                        | <span data-ttu-id="19fc4-200">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-200">Yes</span></span>                                | <span data-ttu-id="19fc4-201">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-201">Yes</span></span>                      | <span data-ttu-id="19fc4-202">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-202">Yes</span></span>                            | <span data-ttu-id="19fc4-203">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-203">Yes</span></span>                  | <span data-ttu-id="19fc4-204">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-204">Yes</span></span>                  |
| <span data-ttu-id="19fc4-205">Uruchomione zadania</span><span class="sxs-lookup"><span data-stu-id="19fc4-205">Running Tasks</span></span>                    | <span data-ttu-id="19fc4-206">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-206">Yes</span></span>                        | <span data-ttu-id="19fc4-207">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-207">Yes</span></span>                                | <span data-ttu-id="19fc4-208">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-208">Yes</span></span>                      | <span data-ttu-id="19fc4-209">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-209">Yes</span></span>                            | <span data-ttu-id="19fc4-210">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-210">Yes</span></span>                  | <span data-ttu-id="19fc4-211">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-211">Yes</span></span>                  |
| <span data-ttu-id="19fc4-212">Liczniki niezawodności magazynu</span><span class="sxs-lookup"><span data-stu-id="19fc4-212">Storage Reliability Counters</span></span>     | <span data-ttu-id="19fc4-213">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-213">Yes</span></span>                        | <span data-ttu-id="19fc4-214">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-214">Yes</span></span>                                | <span data-ttu-id="19fc4-215">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-215">Yes</span></span>                      | <span data-ttu-id="19fc4-216">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-216">Yes</span></span>                            | <span data-ttu-id="19fc4-217">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-217">Yes</span></span>                  | <span data-ttu-id="19fc4-218">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-218">Yes</span></span>                  |
| <span data-ttu-id="19fc4-219">Informacje o magazynu</span><span class="sxs-lookup"><span data-stu-id="19fc4-219">Storage information</span></span>              | <span data-ttu-id="19fc4-220">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-220">Yes</span></span>                        | <span data-ttu-id="19fc4-221">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-221">Yes</span></span>                                | <span data-ttu-id="19fc4-222">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-222">Yes</span></span>                      | <span data-ttu-id="19fc4-223">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-223">Yes</span></span>                            | <span data-ttu-id="19fc4-224">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-224">Yes</span></span>                  | <span data-ttu-id="19fc4-225">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-225">Yes</span></span>                  |
| <span data-ttu-id="19fc4-226">Dane wyjściowe fsutil</span><span class="sxs-lookup"><span data-stu-id="19fc4-226">Fsutil output</span></span>                    | <span data-ttu-id="19fc4-227">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-227">Yes</span></span>                        | <span data-ttu-id="19fc4-228">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-228">Yes</span></span>                                | <span data-ttu-id="19fc4-229">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-229">Yes</span></span>                      | <span data-ttu-id="19fc4-230">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-230">Yes</span></span>                            | <span data-ttu-id="19fc4-231">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-231">Yes</span></span>                  | <span data-ttu-id="19fc4-232">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-232">Yes</span></span>                  |
| <span data-ttu-id="19fc4-233">Informacje dotyczące sterownik filtru</span><span class="sxs-lookup"><span data-stu-id="19fc4-233">Filter Driver info</span></span>               | <span data-ttu-id="19fc4-234">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-234">Yes</span></span>                        | <span data-ttu-id="19fc4-235">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-235">Yes</span></span>                                | <span data-ttu-id="19fc4-236">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-236">Yes</span></span>                      | <span data-ttu-id="19fc4-237">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-237">Yes</span></span>                            | <span data-ttu-id="19fc4-238">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-238">Yes</span></span>                  | <span data-ttu-id="19fc4-239">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-239">Yes</span></span>                  |
| <span data-ttu-id="19fc4-240">Dane wyjściowe polecenia netstat</span><span class="sxs-lookup"><span data-stu-id="19fc4-240">Netstat output</span></span>                   | <span data-ttu-id="19fc4-241">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-241">Yes</span></span>                        | <span data-ttu-id="19fc4-242">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-242">Yes</span></span>                                | <span data-ttu-id="19fc4-243">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-243">Yes</span></span>                      | <span data-ttu-id="19fc4-244">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-244">Yes</span></span>                            | <span data-ttu-id="19fc4-245">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-245">Yes</span></span>                  | <span data-ttu-id="19fc4-246">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-246">Yes</span></span>                  |
| <span data-ttu-id="19fc4-247">Konfiguracja sieci</span><span class="sxs-lookup"><span data-stu-id="19fc4-247">Network configuration</span></span>            | <span data-ttu-id="19fc4-248">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-248">Yes</span></span>                        | <span data-ttu-id="19fc4-249">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-249">Yes</span></span>                                | <span data-ttu-id="19fc4-250">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-250">Yes</span></span>                      | <span data-ttu-id="19fc4-251">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-251">Yes</span></span>                            | <span data-ttu-id="19fc4-252">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-252">Yes</span></span>                  | <span data-ttu-id="19fc4-253">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-253">Yes</span></span>                  |
| <span data-ttu-id="19fc4-254">Konfiguracja zapory</span><span class="sxs-lookup"><span data-stu-id="19fc4-254">Firewall configuration</span></span>           | <span data-ttu-id="19fc4-255">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-255">Yes</span></span>                        | <span data-ttu-id="19fc4-256">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-256">Yes</span></span>                                | <span data-ttu-id="19fc4-257">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-257">Yes</span></span>                      | <span data-ttu-id="19fc4-258">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-258">Yes</span></span>                            | <span data-ttu-id="19fc4-259">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-259">Yes</span></span>                  | <span data-ttu-id="19fc4-260">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-260">Yes</span></span>                  |
| <span data-ttu-id="19fc4-261">Konfiguracja programu SQL Server</span><span class="sxs-lookup"><span data-stu-id="19fc4-261">SQL Server configuration</span></span>         | <span data-ttu-id="19fc4-262">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-262">Yes</span></span>                        | <span data-ttu-id="19fc4-263">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-263">Yes</span></span>                                | <span data-ttu-id="19fc4-264">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-264">Yes</span></span>                      | <span data-ttu-id="19fc4-265">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-265">Yes</span></span>                            | <span data-ttu-id="19fc4-266">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-266">Yes</span></span>                  | <span data-ttu-id="19fc4-267">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-267">Yes</span></span>                  |
| <span data-ttu-id="19fc4-268">Dane wydajności diagnostyki śledzenia *</span><span class="sxs-lookup"><span data-stu-id="19fc4-268">Performance Diagnostics Traces *</span></span> |                            |                                    | <span data-ttu-id="19fc4-269">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-269">Yes</span></span>                      |                                |                      | <span data-ttu-id="19fc4-270">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-270">Yes</span></span>                  |
| <span data-ttu-id="19fc4-271">Licznik wydajności śledzenia **</span><span class="sxs-lookup"><span data-stu-id="19fc4-271">Performance counter Trace **</span></span>     |                            |                                    |                          |                                |                      | <span data-ttu-id="19fc4-272">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-272">Yes</span></span>                  |
| <span data-ttu-id="19fc4-273">Licznik SMB śledzenia **</span><span class="sxs-lookup"><span data-stu-id="19fc4-273">SMB counter Trace **</span></span>             |                            |                                    |                          |                                | <span data-ttu-id="19fc4-274">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-274">Yes</span></span>                  |                      |
| <span data-ttu-id="19fc4-275">SQL Server licznika śledzenia **</span><span class="sxs-lookup"><span data-stu-id="19fc4-275">SQL Server counter Trace **</span></span>      |                            |                                    |                          |                                |                      | <span data-ttu-id="19fc4-276">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-276">Yes</span></span>                  |
| <span data-ttu-id="19fc4-277">Program XPerf śledzenia</span><span class="sxs-lookup"><span data-stu-id="19fc4-277">XPerf Trace</span></span>                      |                            |                                    |                          |                                |                      | <span data-ttu-id="19fc4-278">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-278">Yes</span></span>                  |
| <span data-ttu-id="19fc4-279">StorPort śledzenia</span><span class="sxs-lookup"><span data-stu-id="19fc4-279">StorPort Trace</span></span>                   |                            |                                    |                          |                                |                      | <span data-ttu-id="19fc4-280">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-280">Yes</span></span>                  |
| <span data-ttu-id="19fc4-281">Śledzenie sieci</span><span class="sxs-lookup"><span data-stu-id="19fc4-281">Network Trace</span></span>                    |                            |                                    |                          |                                | <span data-ttu-id="19fc4-282">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-282">Yes</span></span>                  | <span data-ttu-id="19fc4-283">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-283">Yes</span></span>                  |
| <span data-ttu-id="19fc4-284">Śledzenia testu narzędzia Diskspd ***</span><span class="sxs-lookup"><span data-stu-id="19fc4-284">Diskspd Benchmark trace ***</span></span>      |                            | <span data-ttu-id="19fc4-285">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-285">Yes</span></span>                                |                          | <span data-ttu-id="19fc4-286">Tak</span><span class="sxs-lookup"><span data-stu-id="19fc4-286">Yes</span></span>                            |                      |                      |
|       |                            |                         |                                                   |                      |                      |

### <a name="performance-diagnostics-trace-"></a><span data-ttu-id="19fc4-287">Wydajności diagnostyki śledzenia (*)</span><span class="sxs-lookup"><span data-stu-id="19fc4-287">Performance Diagnostics trace (*)</span></span>

<span data-ttu-id="19fc4-288">Działa to aparat oparty na regułach w tle do zbierania danych i diagnozowanie problemów z wydajnością stałe.</span><span class="sxs-lookup"><span data-stu-id="19fc4-288">Runs a rule-based engine in the background to collect data and diagnose ongoing performance issues.</span></span> <span data-ttu-id="19fc4-289">Obecnie obsługiwane są następujące reguły:</span><span class="sxs-lookup"><span data-stu-id="19fc4-289">The following rules are currently supported:</span></span>

- <span data-ttu-id="19fc4-290">Reguła HighCpuUsage: wykrywa wysokiej okresów użycia Procesora i przedstawia najwięcej użycia procesora CPU podczas tych okresów.</span><span class="sxs-lookup"><span data-stu-id="19fc4-290">HighCpuUsage rule: Detects high CPU usage periods and shows the top CPU usage consumers during those periods.</span></span>
- <span data-ttu-id="19fc4-291">Reguła HighDiskUsage: wykrywa okresów użycia dysku na dyskach fizycznych i przedstawia top dysku konsumentów użycia tych okresach.</span><span class="sxs-lookup"><span data-stu-id="19fc4-291">HighDiskUsage rule: Detects high disk usage periods on physical disks and shows the top disk usage consumers during those periods.</span></span>
- <span data-ttu-id="19fc4-292">Reguła HighResolutionDiskMetric: Pokazuje IOPS, przepływności i metryki opóźnienia we/wy na 50 milisekund dla każdego dysku fizycznego.</span><span class="sxs-lookup"><span data-stu-id="19fc4-292">HighResolutionDiskMetric rule: Shows IOPS, throughput and IO latency metrics per 50 milliseconds for each physical disk.</span></span> <span data-ttu-id="19fc4-293">Ułatwia szybkie identyfikowanie dysku ograniczania okresów.</span><span class="sxs-lookup"><span data-stu-id="19fc4-293">It helps to quickly identify disk throttling periods.</span></span>
- <span data-ttu-id="19fc4-294">Reguła HighMemoryUsage: wykrywa okresów użycia pamięci wysokiej i przedstawia top pamięci konsumentów użycia tych okresach.</span><span class="sxs-lookup"><span data-stu-id="19fc4-294">HighMemoryUsage rule: Detects high memory usage periods, and shows the top memory usage consumers during those periods.</span></span>

> [!NOTE] 
> <span data-ttu-id="19fc4-295">Obecnie są obsługiwane wersje systemu Windows, które obejmują programu .NET Framework 3.5 lub nowszy.</span><span class="sxs-lookup"><span data-stu-id="19fc4-295">Currently, Windows versions that include the .NET Framework 3.5 or later versions are supported.</span></span>

### <a name="performance-counter-trace-"></a><span data-ttu-id="19fc4-296">Śledzenia licznik wydajności (*)</span><span class="sxs-lookup"><span data-stu-id="19fc4-296">Performance Counter trace (**)</span></span>

<span data-ttu-id="19fc4-297">Zbiera następujące liczniki wydajności:</span><span class="sxs-lookup"><span data-stu-id="19fc4-297">Collects the following Performance Counters:</span></span>

- <span data-ttu-id="19fc4-298">\Process, \Processor, \Memory, \Thread, \PhysicalDisk, \LogicalDisk</span><span class="sxs-lookup"><span data-stu-id="19fc4-298">\Process, \Processor, \Memory, \Thread, \PhysicalDisk, \LogicalDisk</span></span>
- <span data-ttu-id="19fc4-299">\Server\Pool stron, \Cache\Lazy zapisu opróżnienia/s, \Cache\Dirty niestronicowanej, błędy, błędy \Server\Pool stronicowanej</span><span class="sxs-lookup"><span data-stu-id="19fc4-299">\Cache\Dirty Pages, \Cache\Lazy Write Flushes/sec, \Server\Pool Nonpaged, Failures, \Server\Pool Paged Failures</span></span>
- <span data-ttu-id="19fc4-300">Wybrane liczniki w obszarze \Network interfejsu, \IPv4\Datagrams, \IPv6\Datagrams, \TCPv4\Segments, \TCPv6\Segments, \Network karty, \WFPv4\Packets, \WFPv6\Packets, \UDPv4\Datagrams, \UDPv6\Datagrams, \TCPv4\Connection, \TCPv6\Connection, \ Sieci Winsock \Microsoft QoS Policy\Packets, \Per procesora interfejsu karty działań w sieci, podstawowego dostawcy</span><span class="sxs-lookup"><span data-stu-id="19fc4-300">Selected counters under \Network Interface, \IPv4\Datagrams, \IPv6\Datagrams, \TCPv4\Segments, \TCPv6\Segments,  \Network Adapter, \WFPv4\Packets, \WFPv6\Packets, \UDPv4\Datagrams, \UDPv6\Datagrams, \TCPv4\Connection, \TCPv6\Connection, \Network QoS Policy\Packets, \Per Processor Network Interface Card Activity, \Microsoft Winsock BSP</span></span>

#### <a name="for-sql-server-instances"></a><span data-ttu-id="19fc4-301">Dla wystąpienia programu SQL Server</span><span class="sxs-lookup"><span data-stu-id="19fc4-301">For SQL Server instances</span></span>
- <span data-ttu-id="19fc4-302">Menedżer serwera: bufor \SQL, Statystyka puli \SQLServer:Resource, \SQLServer:SQL Statistics\\</span><span class="sxs-lookup"><span data-stu-id="19fc4-302">\SQL Server:Buffer Manager, \SQLServer:Resource Pool Stats, \SQLServer:SQL Statistics\\</span></span>
- <span data-ttu-id="19fc4-303">\SQLServer:Locks, \SQLServer:General, statystyki</span><span class="sxs-lookup"><span data-stu-id="19fc4-303">\SQLServer:Locks, \SQLServer:General, Statistics</span></span>
- <span data-ttu-id="19fc4-304">Metody \SQLServer:Access</span><span class="sxs-lookup"><span data-stu-id="19fc4-304">\SQLServer:Access Methods</span></span>

#### <a name="for-azure-files"></a><span data-ttu-id="19fc4-305">W przypadku plików platformy Azure</span><span class="sxs-lookup"><span data-stu-id="19fc4-305">For Azure Files</span></span>
<span data-ttu-id="19fc4-306">Udziały klient \SMB</span><span class="sxs-lookup"><span data-stu-id="19fc4-306">\SMB Client Shares</span></span>

### <a name="diskspd-benchmark-trace-"></a><span data-ttu-id="19fc4-307">Testu narzędzia Diskspd śledzenia (*)</span><span class="sxs-lookup"><span data-stu-id="19fc4-307">Diskspd Benchmark trace (***)</span></span>
<span data-ttu-id="19fc4-308">Testy obciążenia We/Wy Diskspd [dysk systemu operacyjnego (zapis) oraz dyski puli (odczyt/zapis)]</span><span class="sxs-lookup"><span data-stu-id="19fc4-308">Diskspd IO workload tests [OS Disk (write) and pool drives (read/write)]</span></span>

## <a name="run-the-perfinsights-on-your-vm"></a><span data-ttu-id="19fc4-309">Uruchom PerfInsights na maszynie Wirtualnej</span><span class="sxs-lookup"><span data-stu-id="19fc4-309">Run the PerfInsights on your VM</span></span>

### <a name="what-do-i-have-to-know-before-i-run-the-script"></a><span data-ttu-id="19fc4-310">Co trzeba wiedzieć przed rozpoczęciem I Uruchom skrypt?</span><span class="sxs-lookup"><span data-stu-id="19fc4-310">What do I have to know before I run the script?</span></span> 

<span data-ttu-id="19fc4-311">**Wymagania dotyczące skryptu**</span><span class="sxs-lookup"><span data-stu-id="19fc4-311">**Script requirements**</span></span>

1.  <span data-ttu-id="19fc4-312">Ten skrypt należy uruchomić na maszynie Wirtualnej, która ma problem z wydajnością.</span><span class="sxs-lookup"><span data-stu-id="19fc4-312">This script must be run on the VM that has the performance issue.</span></span> 

2.  <span data-ttu-id="19fc4-313">Obsługiwane są następujące systemy operacyjne: Windows Server 2008 R2, 2012, 2012 R2, 2016; Windows 8.1 i Windows 10.</span><span class="sxs-lookup"><span data-stu-id="19fc4-313">The following OSes are supported: Windows Server 2008 R2, 2012, 2012 R2, 2016; Windows 8.1 and Windows 10.</span></span>

<span data-ttu-id="19fc4-314">**Możliwe problemy podczas uruchamiania skryptu na maszynach wirtualnych w środowisku produkcyjnym:**</span><span class="sxs-lookup"><span data-stu-id="19fc4-314">**Possible issues when you run the script on production VMs:**</span></span>

1.  <span data-ttu-id="19fc4-315">Skrypt może niekorzystnie wpłynąć na wydajność maszyny Wirtualnej, gdy jest używany razem z scenariusza "Testu" lub "Custom", który jest skonfigurowany przy użyciu narzędzia XPerf lub narzędzia DiskSpd.</span><span class="sxs-lookup"><span data-stu-id="19fc4-315">The script might adversely affect the performance of the VM when it is used together with the "Benchmark" or "Custom" scenario that is configured by using XPerf or DiskSpd.</span></span> <span data-ttu-id="19fc4-316">Uruchom skrypt w środowisku produkcyjnym, należy zachować ostrożność.</span><span class="sxs-lookup"><span data-stu-id="19fc4-316">Be careful when you run the script in a production environment.</span></span>

2.  <span data-ttu-id="19fc4-317">Użycie skryptów oraz scenariusz "Testu" lub "Custom", który jest skonfigurowany przy użyciu narzędzia DiskSpd, upewnij się, że nie inne operacje w tle zakłóca obciążenia We/Wy na dyskach przetestowane.</span><span class="sxs-lookup"><span data-stu-id="19fc4-317">When you use the script together with the "Benchmark" or "Custom" scenario that is configured by using DiskSpd, make sure that no other background activity interferes with the I/O workload on the tested disks.</span></span>

3.  <span data-ttu-id="19fc4-318">Domyślnie skrypt używa dysku tymczasowego magazynu do zbierania danych.</span><span class="sxs-lookup"><span data-stu-id="19fc4-318">By default, the script uses the temporary storage drive to collect data.</span></span> <span data-ttu-id="19fc4-319">Jeśli śledzenie pozostaje włączona przez dłuższy czas, ilość zbieranych danych może być istotne.</span><span class="sxs-lookup"><span data-stu-id="19fc4-319">If tracing stays enabled for a longer time, the amount of data that is collected might be relevant.</span></span> <span data-ttu-id="19fc4-320">Może to zmniejszyć dostępność miejsca na dysku tymczasowym, w związku z tym wpływających na dowolnej aplikacji, która opiera się na tym dysku.</span><span class="sxs-lookup"><span data-stu-id="19fc4-320">This can reduce the availability of space on the temporary disk, therefore affecting any application that relies on this drive.</span></span>

### <a name="how-do-i-run-perfinsights"></a><span data-ttu-id="19fc4-321">Jak uruchomić PerfInsights?</span><span class="sxs-lookup"><span data-stu-id="19fc4-321">How do I run PerfInsights?</span></span> 

<span data-ttu-id="19fc4-322">Aby uruchomić skrypt, wykonaj następujące kroki:</span><span class="sxs-lookup"><span data-stu-id="19fc4-322">To run the script, follow these steps:</span></span>

1. <span data-ttu-id="19fc4-323">Pobierz [PerfInsights.zip](http://aka.ms/perfinsightsdownload).</span><span class="sxs-lookup"><span data-stu-id="19fc4-323">Download [PerfInsights.zip](http://aka.ms/perfinsightsdownload).</span></span>

2. <span data-ttu-id="19fc4-324">Odblokować plik PerfInsights.zip.</span><span class="sxs-lookup"><span data-stu-id="19fc4-324">Unblock the PerfInsights.zip file.</span></span> <span data-ttu-id="19fc4-325">Aby to zrobić, kliknij prawym przyciskiem myszy plik PerfInsights.zip, wybierz **właściwości**.</span><span class="sxs-lookup"><span data-stu-id="19fc4-325">To do this, right-click the PerfInsights.zip file, select **Properties**.</span></span> <span data-ttu-id="19fc4-326">W **ogólne** wybierz opcję **Odblokuj** , a następnie wybierz **OK**.</span><span class="sxs-lookup"><span data-stu-id="19fc4-326">In the **General** tab, select **Unblock** and then select **OK**.</span></span> <span data-ttu-id="19fc4-327">Będzie to upewnij się, że skrypt jest uruchamiany bez dodatkowych zabezpieczeń monity.</span><span class="sxs-lookup"><span data-stu-id="19fc4-327">This will make sure that the script runs without any additional security prompts.</span></span>  

    ![Odblokować plik zip](media/how-to-use-perfInsights/unlock-file.png)

3.  <span data-ttu-id="19fc4-329">Rozwiń skompresowany plik PerfInsights.zip do stacji tymczasowe (domyślnie zwykle dysku D).</span><span class="sxs-lookup"><span data-stu-id="19fc4-329">Expand the compressed PerfInsights.zip file into your temporary drive (by default, usually the D drive).</span></span> <span data-ttu-id="19fc4-330">Skompresowany plik powinien zawierać następujące pliki i foldery:</span><span class="sxs-lookup"><span data-stu-id="19fc4-330">The compressed file should contain the following files and folders:</span></span>

    ![pliki z folderu zip](media/how-to-use-perfInsights/file-folder.png)

4.  <span data-ttu-id="19fc4-332">Otwórz program Windows PowerShell jako administrator, a następnie uruchom skrypt PerfInsights.ps1.</span><span class="sxs-lookup"><span data-stu-id="19fc4-332">Open Windows PowerShell as an administrator, and then run the PerfInsights.ps1 script.</span></span>

    ```
    cd <the path of PerfInsights folder >
    Powershell.exe -ExecutionPolicy UnRestricted -NoProfile -File .\\PerfInsights.ps1
    ```

    <span data-ttu-id="19fc4-333">Może być konieczne do wprowadź "y", jeśli zostanie wyświetlona prośba o potwierdzenie, że chcesz zmienić zasady wykonywania.</span><span class="sxs-lookup"><span data-stu-id="19fc4-333">You might have to enter "y" to if you are asked to confirm that you want to change the execution policy.</span></span>

    <span data-ttu-id="19fc4-334">W oknie dialogowym zastrzeżenie podano opcję, aby udostępnić informacje diagnostyczne Support firmy Microsoft.</span><span class="sxs-lookup"><span data-stu-id="19fc4-334">In the Disclaimer dialog box, you are given the option to share diagnostic information with Microsoft Support.</span></span> <span data-ttu-id="19fc4-335">Również musi wyrazić zgodę na umowę licencyjną, aby kontynuować.</span><span class="sxs-lookup"><span data-stu-id="19fc4-335">You must also consent to the license agreement to continue.</span></span> <span data-ttu-id="19fc4-336">Wybierz odpowiednie opcje, a następnie kliknij przycisk **Uruchom skrypt**.</span><span class="sxs-lookup"><span data-stu-id="19fc4-336">Make your selections, and then click **Run Script**.</span></span>

    ![Pole zrzeczenie odpowiedzialności](media/how-to-use-perfInsights/disclaimer.png)

5.  <span data-ttu-id="19fc4-338">Przedstawia liczbę przypadków, jeśli jest dostępne po uruchomieniu skryptu (jest to naszych statystyki).</span><span class="sxs-lookup"><span data-stu-id="19fc4-338">Submit the case number, if it is available, when you run the script (This is for our statistics).</span></span> <span data-ttu-id="19fc4-339">Następnie kliknij przycisk **OK**.</span><span class="sxs-lookup"><span data-stu-id="19fc4-339">Then, click **OK**.</span></span>
    
    ![Wprowadź identyfikator pomocy technicznej](media/how-to-use-perfInsights/enter-support-number.png)

6.  <span data-ttu-id="19fc4-341">Wybierz dysk magazynu tymczasowego.</span><span class="sxs-lookup"><span data-stu-id="19fc4-341">Select your temporary storage drive.</span></span> <span data-ttu-id="19fc4-342">Skrypt może wykryć automatycznie literę dysku.</span><span class="sxs-lookup"><span data-stu-id="19fc4-342">The Script can auto-detect the drive letter of the drive.</span></span> <span data-ttu-id="19fc4-343">Ewentualnych problemów na tym etapie może być monit o wybranie dysku (dysk domyślny jest D).</span><span class="sxs-lookup"><span data-stu-id="19fc4-343">If any problems occur in this stage, you might be prompted to select the drive (the default drive is D).</span></span> <span data-ttu-id="19fc4-344">Wygenerowane dzienniki są przechowywane w tym miejscu w dzienniku\_folder kolekcji.</span><span class="sxs-lookup"><span data-stu-id="19fc4-344">Generated logs are stored here in the log\_collection folder.</span></span> <span data-ttu-id="19fc4-345">Po wprowadzeniu lub zaakceptować literę dysku, kliknij przycisk **OK**.</span><span class="sxs-lookup"><span data-stu-id="19fc4-345">After you enter or accept the drive letter, click **OK**.</span></span>

    ![Wprowadź dysku](media/how-to-use-perfInsights/enter-drive.png)

7.  <span data-ttu-id="19fc4-347">Wybierz scenariusza rozwiązywania problemów z podaną listą.</span><span class="sxs-lookup"><span data-stu-id="19fc4-347">Select a troubleshooting scenario from the provided list.</span></span>

       ![Wybierz scenariusze pomocy technicznej](media/how-to-use-perfInsights/select-scenarios.png)

8.  <span data-ttu-id="19fc4-349">Można również uruchomić PerfInsights bez interfejsu użytkownika.</span><span class="sxs-lookup"><span data-stu-id="19fc4-349">You can also run PerfInsights without UI.</span></span>

    <span data-ttu-id="19fc4-350">Następujące polecenie uruchamia "analizy głównej maszyny Wirtualnej wolno" Rozwiązywanie problemów z scenariusz bez monitowania interfejsu użytkownika lub przechwycenia danych dla 30 sekund.</span><span class="sxs-lookup"><span data-stu-id="19fc4-350">The following command runs the "General VM Slow analysis" troubleshooting scenario without a UI prompt or capture data for 30 seconds.</span></span> <span data-ttu-id="19fc4-351">Monituje użytkownika o zgodę na te same zastrzeżenie i umowy licencyjnej, które są wymienione w kroku 4.</span><span class="sxs-lookup"><span data-stu-id="19fc4-351">It prompts you to consent to the same disclaimer and EULA that  are mentioned in step 4.</span></span>

        powershell.exe -ExecutionPolicy UnRestricted -NoProfile -Command ".\\PerfInsights.ps1 -NoGui -Scenario vmslow -TracingDuration 30"

    <span data-ttu-id="19fc4-352">Jeśli chcesz PerfInsights do uruchamiania w trybie dyskretnym, użyj **- AcceptDisclaimerAndShareDiagnostics** parametru.</span><span class="sxs-lookup"><span data-stu-id="19fc4-352">If you want PerfInsights to run in silent mode, use the **-AcceptDisclaimerAndShareDiagnostics** parameter.</span></span> <span data-ttu-id="19fc4-353">Na przykład następujące polecenie:</span><span class="sxs-lookup"><span data-stu-id="19fc4-353">For example, use the following command:</span></span>

        powershell.exe -ExecutionPolicy UnRestricted -NoProfile -Command ".\\PerfInsights.ps1 -NoGui -Scenario vmslow -TracingDuration 30 -AcceptDisclaimerAndShareDiagnostics"

### <a name="how-do-i-troubleshoot-issues-while-running-the-script"></a><span data-ttu-id="19fc4-354">Jak rozwiązywać problemy podczas uruchamiania skryptu?</span><span class="sxs-lookup"><span data-stu-id="19fc4-354">How do I troubleshoot issues while running the script?</span></span>

<span data-ttu-id="19fc4-355">Jeśli skrypt zakończy się nieprawidłowo, możesz wyczyścić niespójna, uruchamiając skrypt razem z przełącznikiem oczyszczania, w następujący sposób:</span><span class="sxs-lookup"><span data-stu-id="19fc4-355">If the script terminates abnormally, you can clean up an inconsistent state by running the script together with the -Cleanup switch, as follows:</span></span>

    powershell.exe -ExecutionPolicy UnRestricted -NoProfile -Command ".\\PerfInsights.ps1 -Cleanup"

<span data-ttu-id="19fc4-356">Ewentualnych problemów podczas automatycznego wykrywania tymczasowej stacji może być monit o wybranie dysku (dysk domyślny jest D).</span><span class="sxs-lookup"><span data-stu-id="19fc4-356">If any problems occur during the automatic detection of the temporary drive, you might be prompted to select the drive (the default drive is D).</span></span>

![Wprowadź dysku](media/how-to-use-perfInsights/enter-drive.png)

<span data-ttu-id="19fc4-358">Skrypt odinstalowuje narzędzia i usuwa folderów tymczasowych.</span><span class="sxs-lookup"><span data-stu-id="19fc4-358">The script uninstalls the utility tools and removes temporary folders.</span></span>

### <a name="troubleshooting-other-script-issues"></a><span data-ttu-id="19fc4-359">Rozwiązywanie problemów z innych problemów skryptu</span><span class="sxs-lookup"><span data-stu-id="19fc4-359">Troubleshooting other script issues</span></span> 

<span data-ttu-id="19fc4-360">Ewentualnych problemów podczas wykonywania skryptu, naciśnij klawisze Ctrl + C, aby przerwać wykonywanie skryptu.</span><span class="sxs-lookup"><span data-stu-id="19fc4-360">If any problems occur when you run the script, press Ctrl+C to interrupt the script execution.</span></span> <span data-ttu-id="19fc4-361">Aby usunąć obiekty tymczasowe, zobacz sekcję "Oczyszczanie po zakończeniu nietypowe".</span><span class="sxs-lookup"><span data-stu-id="19fc4-361">To remove temporary objects, see the "Clean up after abnormal termination" section.</span></span>

<span data-ttu-id="19fc4-362">Jeśli nadal występują błędu skryptu nawet mimo kilku prób, zaleca się uruchomić skrypt w "tryb debugowania" za pomocą "-Debug" opcja parametru podczas uruchamiania.</span><span class="sxs-lookup"><span data-stu-id="19fc4-362">If you continue to experience script failure even after several attempts, we recommend that you run the script in "debug mode" by using the "-Debug" parameter option on startup.</span></span>

<span data-ttu-id="19fc4-363">Po awarii, skopiuj pełne dane wyjściowe z konsoli programu PowerShell i wysyłają je do agenta Microsoft Support, który jest dla instytucji ułatwić rozwiązanie problemu.</span><span class="sxs-lookup"><span data-stu-id="19fc4-363">After the failure occurs, copy the full output of the PowerShell console, and send it to the Microsoft Support agent who is assisting you to help troubleshoot the problem.</span></span>

### <a name="how-do-i-run-the-script-in-custom-configuration-mode"></a><span data-ttu-id="19fc4-364">Jak uruchomić skrypt w trybie niestandardowej konfiguracji?</span><span class="sxs-lookup"><span data-stu-id="19fc4-364">How do I run the script in custom configuration mode?</span></span>

<span data-ttu-id="19fc4-365">Wybierając **niestandardowy** konfiguracji, można włączyć kilka śladów równoległe (Użyj Shift, aby wyborem wielokrotnym):</span><span class="sxs-lookup"><span data-stu-id="19fc4-365">By selecting the **Custom** configuration, you can enable several traces in parallel (use Shift to multi-select):</span></span>

![Wybierz scenariuszy](media/how-to-use-perfInsights/select-scenario.png)

<span data-ttu-id="19fc4-367">Po wybraniu Diagnostyka wydajności, śledzenia licznika wydajności, śledzenia programu XPerf, śledzenia sieci lub scenariuszy Storport śledzenia, postępuj zgodnie z instrukcjami wyświetlanymi w oknach dialogowych, a następnie spróbuj do odtworzenia problemu spadek wydajności, po uruchomieniu śledzenia.</span><span class="sxs-lookup"><span data-stu-id="19fc4-367">When you select the Performance Diagnostics, Performance Counter Trace, XPerf Trace, Network Trace, or Storport Trace scenarios, follow the instructions in the dialog boxes, and try to reproduce the slow performance issue after you start the traces.</span></span>

<span data-ttu-id="19fc4-368">Poniższe okno dialogowe umożliwia uruchamianie śledzenia:</span><span class="sxs-lookup"><span data-stu-id="19fc4-368">The following dialog box lets you start a trace:</span></span>

![Rozpocznij śledzenie](media/how-to-use-perfInsights/start-trace-message.png)

<span data-ttu-id="19fc4-370">Aby zatrzymać śledzenia, masz o potwierdzenie polecenia w oknie dialogowym drugiego.</span><span class="sxs-lookup"><span data-stu-id="19fc4-370">To stop the traces, you have to confirm the command in a second dialog box.</span></span>

<span data-ttu-id="19fc4-371">![Zatrzymaj śledzenie](media/how-to-use-perfInsights/stop-trace-message.png)
![Zatrzymaj śledzenie](media/how-to-use-perfInsights/ok-trace-message.png)</span><span class="sxs-lookup"><span data-stu-id="19fc4-371">![stop-trace](media/how-to-use-perfInsights/stop-trace-message.png)
![stop-trace](media/how-to-use-perfInsights/ok-trace-message.png)</span></span>

<span data-ttu-id="19fc4-372">Po ukończeniu operacji lub dane śledzenia w D: jest utworzony nowy plik\\dziennika\_kolekcji (lub dysku tymczasowym) o nazwie **CollectedData\_RRRR MM-dd\_hh\_mm\_ss.zip.**</span><span class="sxs-lookup"><span data-stu-id="19fc4-372">When the traces or operations are completed, a new file is generated in D:\\log\_collection (or the temporary drive) that is named **CollectedData\_yyyy-MM-dd\_hh\_mm\_ss.zip.**</span></span> <span data-ttu-id="19fc4-373">Możesz wysłać ten plik do agenta programu obsługi dla analizy.</span><span class="sxs-lookup"><span data-stu-id="19fc4-373">You can send this file to the Support agent for analysis.</span></span>

## <a name="review-the-diagnostics-report-created-by-perfinsights"></a><span data-ttu-id="19fc4-374">Przejrzyj raport diagnostyczny utworzone przez PerfInsights</span><span class="sxs-lookup"><span data-stu-id="19fc4-374">Review the diagnostics report created by PerfInsights</span></span>

<span data-ttu-id="19fc4-375">W ramach **CollectedData\_RRRR MM-dd\_hh\_mm\_pliku ss.zip** generowany przez PerfInsights, można znaleźć raport HTML ze szczegółami ustalenia PerfInsights.</span><span class="sxs-lookup"><span data-stu-id="19fc4-375">Within the **CollectedData\_yyyy-MM-dd\_hh\_mm\_ss.zip file,** that is generated by PerfInsights, you can find an HTML report that details the findings of PerfInsights.</span></span> <span data-ttu-id="19fc4-376">Aby wyświetlić raport, rozwiń węzeł **CollectedData\_RRRR MM-dd\_hh\_mm\_ss.zip** pliku, a następnie otwórz **PerfInsights Report.html** plik.</span><span class="sxs-lookup"><span data-stu-id="19fc4-376">To review the report, expand the **CollectedData\_yyyy-MM-dd\_hh\_mm\_ss.zip** file, and then open the **PerfInsights Report.html** file.</span></span>

<span data-ttu-id="19fc4-377">Wybierz **ustalenia** kartę.</span><span class="sxs-lookup"><span data-stu-id="19fc4-377">Select the **Findings** tab.</span></span>

![Znajdź kartę](media/how-to-use-perfInsights/findingtab.png)

<span data-ttu-id="19fc4-379">**Uwagi**</span><span class="sxs-lookup"><span data-stu-id="19fc4-379">**Notes**</span></span>

-   <span data-ttu-id="19fc4-380">Wiadomości na czerwono znane problemy konfiguracji, które mogą powodować problemy z wydajnością.</span><span class="sxs-lookup"><span data-stu-id="19fc4-380">Messages in red are known configuration issues that may cause performance issues.</span></span>

-   <span data-ttu-id="19fc4-381">Komunikaty w żółty są ostrzeżenia, które reprezentują-optymalne konfiguracje, które nie muszą powodować problemy z wydajnością.</span><span class="sxs-lookup"><span data-stu-id="19fc4-381">Messages in yellow are warnings that represent non-optimal configurations that do not necessarily cause performance issues.</span></span>

-   <span data-ttu-id="19fc4-382">Wiadomości na niebiesko są tylko szczegółowych instrukcji.</span><span class="sxs-lookup"><span data-stu-id="19fc4-382">Messages in blue are informative statements only.</span></span>

<span data-ttu-id="19fc4-383">Przejrzyj łącza HTTP dla wszystkich komunikatów o błędach na czerwono uzyskać bardziej szczegółowe informacje o wynikach i ich wpływu na wydajność lub najlepszych rozwiązań dotyczących konfiguracji zoptymalizowana pod kątem wydajności.</span><span class="sxs-lookup"><span data-stu-id="19fc4-383">Review the HTTP links for all error messages in red to get more detailed information about the findings and how they can affect the performance or best practices for performance-optimized configurations.</span></span>

### <a name="disk-configuration-tab"></a><span data-ttu-id="19fc4-384">Karta Konfiguracja dysku</span><span class="sxs-lookup"><span data-stu-id="19fc4-384">Disk Configuration Tab</span></span>

<span data-ttu-id="19fc4-385">**Omówienie** sekcja wyświetla różne widoki konfiguracji magazynu, w tym informacje z narzędzia Diskpart i miejsca do magazynowania</span><span class="sxs-lookup"><span data-stu-id="19fc4-385">The **Overview** section displays different views of the storage configuration, including information from Diskpart and Storage Spaces</span></span>

<span data-ttu-id="19fc4-386">**DiskMap** i **VolumeMap** sekcjach opisano na podwójną perspektywy jak logicznej woluminów i dysków fizycznych są ze sobą powiązane.</span><span class="sxs-lookup"><span data-stu-id="19fc4-386">The **DiskMap** and **VolumeMap** sections describe on a dual perspective how logical volumes and physical disks are related to each other.</span></span>

<span data-ttu-id="19fc4-387">W perspektywie dysk fizyczny (DiskMap) w tabeli przedstawiono wszystkie woluminy logiczne, które są uruchomione na dysku.</span><span class="sxs-lookup"><span data-stu-id="19fc4-387">In the PhysicalDisk perspective (DiskMap), the table shows all logical volumes that are running on the disk.</span></span> <span data-ttu-id="19fc4-388">W poniższym przykładzie PhysicalDrive2 uruchamia 2 logicznej woluminy tworzone na wielu partycjach (J i H):</span><span class="sxs-lookup"><span data-stu-id="19fc4-388">In the following example, PhysicalDrive2 runs 2 Logical Volumes created on multiple partitions (J and H):</span></span>

![Karta dane](media/how-to-use-perfInsights/disktab.png)

<span data-ttu-id="19fc4-390">W perspektywie woluminu (*VolumeMap*), w tabelach przedstawiono wszystkie dyski fizyczne w obszarze każdego woluminu logicznego.</span><span class="sxs-lookup"><span data-stu-id="19fc4-390">In the Volume perspective (*VolumeMap*), the tables show all the physical disks under each logical volume.</span></span> <span data-ttu-id="19fc4-391">Zwróć uwagę, że dla dysków dynamicznych/RAID, mogą zostać uruchomione logicznej woluminu na wiele dysków fizycznych.</span><span class="sxs-lookup"><span data-stu-id="19fc4-391">Notice that for RAID/Dynamic disks, you might run a logical volume upon multiple physical disks.</span></span> <span data-ttu-id="19fc4-392">W poniższym przykładzie *C:\\instalacji* jest punkt_instalacji, skonfigurowany jako *SpannedDisk* na PhysicalDisks \#2 i \#3:</span><span class="sxs-lookup"><span data-stu-id="19fc4-392">In the following sample *C:\\mount* is a mountpoint configured as *SpannedDisk* on PhysicalDisks \#2 and \#3:</span></span>

![Karta woluminu](media/how-to-use-perfInsights/volumetab.png)

### <a name="sql-server-tab"></a><span data-ttu-id="19fc4-394">Karta programu SQL Server</span><span class="sxs-lookup"><span data-stu-id="19fc4-394">SQL Server tab</span></span>

<span data-ttu-id="19fc4-395">Jeśli element docelowy maszyny Wirtualnej obsługuje wszystkie wystąpienia programu SQL Server, zobaczysz dodatkowe karty w raporcie o nazwie **programu SQL Server**:</span><span class="sxs-lookup"><span data-stu-id="19fc4-395">If the target VM hosts any SQL Server instances, you will see an additional tab in the report that is named **SQL Server**:</span></span>

![Karta SQL](media/how-to-use-perfInsights/sqltab.png)

<span data-ttu-id="19fc4-397">Ta sekcja zawiera "Przegląd" i sub dodatkowe karty dla wszystkich wystąpień programu SQL Server obsługiwanych na maszynie Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="19fc4-397">This section contains an "Overview" and additional sub tabs for each of the SQL Server instances hosted on the VM.</span></span>

<span data-ttu-id="19fc4-398">W sekcji "Przegląd" zawiera przydatne tabelę, która znajduje się podsumowanie wszystkich dysków fizycznych (dysków systemowych i danych) z systemem, które zawierają pliki danych i pliki dziennika transakcji.</span><span class="sxs-lookup"><span data-stu-id="19fc4-398">The "Overview" section contains a helpful table that summarizes all the physical disks (system and data disks) that are running and that contain a mixture of data files and transaction log files.</span></span>

<span data-ttu-id="19fc4-399">W poniższym przykładzie *PhysicalDrive0* (uruchomionego dysk C) jest wyświetlany, ponieważ zarówno *modeldev* i *modellog* pliki znajdują się na dysku C, a ich różne typy (takich jak plik danych i dziennika transakcji, odpowiednio):</span><span class="sxs-lookup"><span data-stu-id="19fc4-399">In the following example, *PhysicalDrive0* (running the C drive) is displayed because both the *modeldev* and *modellog* files are located on the C drive, and they are of different types (such as Data File and Transaction Log, respectively):</span></span>

![LogInfo](media/how-to-use-perfInsights/loginfo.png)

<span data-ttu-id="19fc4-401">Karty danego wystąpienia programu SQL Server zawierają ogólne sekcja, która zawiera podstawowe informacje o wybranym wystąpieniu i dodatkowe sekcje zaawansowane informacje, w tym ustawienia, konfiguracje i opcje użytkownika.</span><span class="sxs-lookup"><span data-stu-id="19fc4-401">The SQL Server instance-specific tabs contain a general section that displays basic information about the selected instance and additional sections for advanced information, including Settings, Configurations, and User Options.</span></span>

## <a name="references-to-the-external-tools-used"></a><span data-ttu-id="19fc4-402">Odwołania do zewnętrznego narzędzia używane</span><span class="sxs-lookup"><span data-stu-id="19fc4-402">References to the external tools used</span></span>

### <a name="diskspd"></a><span data-ttu-id="19fc4-403">Narzędzia Diskspd</span><span class="sxs-lookup"><span data-stu-id="19fc4-403">Diskspd</span></span>

<span data-ttu-id="19fc4-404">DISKSPD jest magazynu obciążenia generator wydajności testu narzędziem zespołów engineering systemu Windows i Windows Server i infrastrukturą serwera chmury.</span><span class="sxs-lookup"><span data-stu-id="19fc4-404">DISKSPD is a storage load generator and performance test tool from the Windows and Windows Server and Cloud Server Infrastructure engineering teams.</span></span> <span data-ttu-id="19fc4-405">Aby uzyskać więcej informacji, zobacz [Diskspd](https://github.com/Microsoft/diskspd).</span><span class="sxs-lookup"><span data-stu-id="19fc4-405">For more information, see [Diskspd](https://github.com/Microsoft/diskspd).</span></span>

### <a name="xperf"></a><span data-ttu-id="19fc4-406">Program XPerf</span><span class="sxs-lookup"><span data-stu-id="19fc4-406">XPerf</span></span>

<span data-ttu-id="19fc4-407">Program XPerf jest narzędziem wiersza polecenia do przechwytywania danych śledzenia w zestawie narzędzi wydajności systemu Windows.</span><span class="sxs-lookup"><span data-stu-id="19fc4-407">Xperf is a command-line tool to capture traces from the Windows Performance Tools Kit.</span></span>

<span data-ttu-id="19fc4-408">Aby uzyskać więcej informacji, zobacz [Toolkit wydajności systemu Windows — program Xperf](https://blogs.msdn.microsoft.com/ntdebugging/2008/04/03/windows-performance-toolkit-xperf/).</span><span class="sxs-lookup"><span data-stu-id="19fc4-408">For more information, see [Windows Performance Toolkit – Xperf](https://blogs.msdn.microsoft.com/ntdebugging/2008/04/03/windows-performance-toolkit-xperf/).</span></span>

## <a name="next-steps"></a><span data-ttu-id="19fc4-409">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="19fc4-409">Next Steps</span></span>

### <a name="upload-diagnostics-logs-and-reports-to-microsoft-support-for-further-review"></a><span data-ttu-id="19fc4-410">Przekazywanie dzienników diagnostyki i raporty do firmy Microsoft Support do dalszej analizy</span><span class="sxs-lookup"><span data-stu-id="19fc4-410">Upload diagnostics logs and reports to Microsoft Support for further review</span></span>

<span data-ttu-id="19fc4-411">Podczas pracy z personelu Support firmy Microsoft, mogą być wymagane do przesyłania danych wyjściowych, który jest generowany przez PerfInsights, aby ułatwić proces rozwiązywania problemów.</span><span class="sxs-lookup"><span data-stu-id="19fc4-411">When you work with the Microsoft Support staff, you may be requested to transmit the output that is generated by PerfInsights to assist the troubleshooting process.</span></span>

<span data-ttu-id="19fc4-412">Agent pomocy technicznej utworzy DTM obszaru roboczego dla Ciebie, a otrzymasz wiadomość e-mail zawierającą łącze do [DTM portal (https://filetransfer.support.microsoft.com/EFTClient/Account/Login.htm) oraz identyfikator unikatowy użytkownika i hasła.</span><span class="sxs-lookup"><span data-stu-id="19fc4-412">The Support agent will create a DTM workspace for you, and you will receive an email message that includes a link to the [DTM portal (https://filetransfer.support.microsoft.com/EFTClient/Account/Login.htm) and a unique user ID and password.</span></span>

<span data-ttu-id="19fc4-413">Ta wiadomość zostanie wysłana z **usługi diagnostyki automatycznego CTS** (ctsadiag@microsoft.com).</span><span class="sxs-lookup"><span data-stu-id="19fc4-413">This message will be sent from **CTS Automated Diagnostics Services** (ctsadiag@microsoft.com).</span></span>

![Przykładowy komunikat](media/how-to-use-perfInsights/supportemail.png)

<span data-ttu-id="19fc4-415">Aby dodatkowo zwiększyć bezpieczeństwo trzeba będzie zmienić hasło przy pierwszym użyciu.</span><span class="sxs-lookup"><span data-stu-id="19fc4-415">For additional security, you will be required to change your password on first use.</span></span>

<span data-ttu-id="19fc4-416">Po zalogowaniu się do DTM znajdują się okno dialogowe, aby przekazać **CollectedData\_RRRR MM-dd\_hh\_mm\_ss.zip** pliku, który został zebrany przez PerfInsights.</span><span class="sxs-lookup"><span data-stu-id="19fc4-416">After you log in to DTM, you will find a dialog box to upload the **CollectedData\_yyyy-MM-dd\_hh\_mm\_ss.zip** file that was collected by PerfInsights.</span></span>
