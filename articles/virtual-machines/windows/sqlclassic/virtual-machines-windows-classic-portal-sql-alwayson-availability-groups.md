---
title: "aaaConfigure zawsze włączone grupy dostępności w maszynach wirtualnych platformy Azure (klasyczne) | Dokumentacja firmy Microsoft"
description: "Utwórz zawsze włączonej grupy dostępności o maszynach wirtualnych platformy Azure. Ten samouczek używa głównie hello interfejsu użytkownika i narzędzia zamiast skryptów."
services: virtual-machines-windows
documentationcenter: na
author: MikeRayMSFT
manager: jhubbard
editor: 
tags: azure-service-management
ms.assetid: 8d48a3d2-79f8-4ab0-9327-2f30ee0b2ff1
ms.service: virtual-machines-sql
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: vm-windows-sql-server
ms.workload: iaas-sql-server
ms.date: 03/17/2017
ms.author: mikeray
ms.openlocfilehash: f428ad994a55378c281c959f4696fdcaf50632b1
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="configure-always-on-availability-group-in-azure-virtual-machines-classic"></a><span data-ttu-id="0a0ac-104">Konfigurowanie zawsze włączonej grupy dostępności w maszynach wirtualnych platformy Azure (klasyczne)</span><span class="sxs-lookup"><span data-stu-id="0a0ac-104">Configure Always On availability group in Azure Virtual Machines (classic)</span></span>
> [!div class="op_single_selector"]
> * [<span data-ttu-id="0a0ac-105">Klasycznym: interfejsu użytkownika</span><span class="sxs-lookup"><span data-stu-id="0a0ac-105">Classic: UI</span></span>](../classic/portal-sql-alwayson-availability-groups.md)
> * <span data-ttu-id="0a0ac-106">[Klasycznym: środowiska PowerShell](../classic/ps-sql-alwayson-availability-groups.md)
</span><span class="sxs-lookup"><span data-stu-id="0a0ac-106">[Classic: PowerShell](../classic/ps-sql-alwayson-availability-groups.md)
</span></span><br/>

<span data-ttu-id="0a0ac-107">Przed rozpoczęciem należy wziąć pod uwagę może teraz ukończyć tego zadania w modelu usługi Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-107">Before you begin, consider that you can now complete this task in Azure Resource Manager model.</span></span> <span data-ttu-id="0a0ac-108">Firma Microsoft zaleca modelu usługi Azure Resource Manager dla nowych wdrożeń.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-108">We recommend Azure Resource Manager model for new deployments.</span></span> <span data-ttu-id="0a0ac-109">Zobacz [programu SQL Server zawsze włączonych grup dostępności na maszynach wirtualnych Azure](../sql/virtual-machines-windows-portal-sql-availability-group-overview.md).</span><span class="sxs-lookup"><span data-stu-id="0a0ac-109">See [SQL Server Always On availability groups on Azure virtual machines](../sql/virtual-machines-windows-portal-sql-availability-group-overview.md).</span></span>

> [!IMPORTANT] 
> <span data-ttu-id="0a0ac-110">Firma Microsoft zaleca, aby większości nowych wdrożeń korzystać hello modelu Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-110">Microsoft recommends that most new deployments use hello Resource Manager model.</span></span> <span data-ttu-id="0a0ac-111">Platforma Azure ma dwa inne wdrożenie toocreate modeli i pracy z zasobami: [Resource Manager i Model Klasyczny](../../../azure-resource-manager/resource-manager-deployment-model.md).</span><span class="sxs-lookup"><span data-stu-id="0a0ac-111">Azure has two different deployment models toocreate and work with resources: [Resource Manager and classic](../../../azure-resource-manager/resource-manager-deployment-model.md).</span></span> <span data-ttu-id="0a0ac-112">W tym artykule opisano, jak toouse hello klasycznego modelu wdrażania.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-112">This article explains how toouse hello classic deployment model.</span></span> 

<span data-ttu-id="0a0ac-113">Zobacz to zadanie z modelem usługi Azure Resource Manager hello toocomplete [programu SQL Server zawsze włączonych grup dostępności na maszynach wirtualnych Azure](../sql/virtual-machines-windows-portal-sql-availability-group-overview.md).</span><span class="sxs-lookup"><span data-stu-id="0a0ac-113">toocomplete this task with hello Azure Resource Manager model, see [SQL Server Always On availability groups on Azure virtual machines](../sql/virtual-machines-windows-portal-sql-availability-group-overview.md).</span></span>

<span data-ttu-id="0a0ac-114">W tym samouczku end-to-end przedstawiono, jak grup dostępności tooimplement przy użyciu programu SQL Server zawsze na uruchomione na maszynach wirtualnych platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-114">This end-to-end tutorial shows you how tooimplement availability groups by using SQL Server Always On running on Azure Virtual Machines.</span></span>

<span data-ttu-id="0a0ac-115">Końcem hello samouczka hello rozwiązania programu SQL Server zawsze na platformie Azure będzie składać się z hello następujące elementy:</span><span class="sxs-lookup"><span data-stu-id="0a0ac-115">At hello end of hello tutorial, your SQL Server Always On solution in Azure will consist of hello following elements:</span></span>

* <span data-ttu-id="0a0ac-116">Sieć wirtualna, która zawiera wiele podsieci i frontonu i podsieci wewnętrznej bazy danych</span><span class="sxs-lookup"><span data-stu-id="0a0ac-116">A virtual network that contains multiple subnets and includes a frontend and a backend subnet</span></span>
* <span data-ttu-id="0a0ac-117">Kontroler domeny z domeny usługi Active Directory (Azure AD)</span><span class="sxs-lookup"><span data-stu-id="0a0ac-117">A domain controller with an Active Directory (Azure AD) domain</span></span>
* <span data-ttu-id="0a0ac-118">Dwie maszyny wirtualne, uruchom program SQL Server, które są wdrożone toohello podsieci wewnętrznej bazy danych i domeny toohello dołączonego do usługi Azure AD</span><span class="sxs-lookup"><span data-stu-id="0a0ac-118">Two virtual machines that run SQL Server and are deployed toohello backend subnet and joined toohello Azure AD domain</span></span>
* <span data-ttu-id="0a0ac-119">Klaster trybu failover węzła trzech modelu kworum Większość węzłów hello</span><span class="sxs-lookup"><span data-stu-id="0a0ac-119">A three-node failover cluster with hello Node Majority quorum model</span></span>
* <span data-ttu-id="0a0ac-120">Grupy dostępności, która ma dwa zatwierdzania synchronicznego repliki bazy danych dostępności</span><span class="sxs-lookup"><span data-stu-id="0a0ac-120">An availability group that has two synchronous-commit replicas of an availability database</span></span>

<span data-ttu-id="0a0ac-121">Witaj następującej ilustracji jest graficzną reprezentację hello rozwiązania.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-121">hello following illustration is a graphical representation of hello solution.</span></span>

![Architektura laboratorium testowego dla grup dostępności w systemie Azure](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC791912.png)

<span data-ttu-id="0a0ac-123">Należy pamiętać, że jest jedną z możliwych konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-123">Note that this is one possible configuration.</span></span> <span data-ttu-id="0a0ac-124">Na przykład można zminimalizować hello liczbę maszyn wirtualnych do grupy dostępności dwie repliki.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-124">For example, you can minimize hello number of virtual machines for a two-replica availability group.</span></span> <span data-ttu-id="0a0ac-125">Ta konfiguracja ogranicza godziny obliczeń na platformie Azure przy użyciu kontrolera domeny hello jako monitor udziału plików hello kworum w klastrze z dwoma węzłami.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-125">This configuration saves on compute hours in Azure by using hello domain controller as hello quorum file share witness in a two-node cluster.</span></span> <span data-ttu-id="0a0ac-126">Ta metoda zmniejsza liczbę maszyn wirtualnych hello przez jeden z opisami hello konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-126">This method reduces hello virtual machine count by one from hello illustrated configuration.</span></span>

<span data-ttu-id="0a0ac-127">Ten samouczek zakłada hello następujące czynności:</span><span class="sxs-lookup"><span data-stu-id="0a0ac-127">This tutorial assumes hello following:</span></span>

* <span data-ttu-id="0a0ac-128">Masz już konto platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-128">You already have an Azure account.</span></span>
* <span data-ttu-id="0a0ac-129">Wiesz już, jak toouse hello graficznego interfejsu użytkownika w tooprovision galerii maszyny wirtualnej hello klasyczne maszyny wirtualnej z programem SQL Server.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-129">You already know how toouse hello GUI in hello virtual machine gallery tooprovision a classic virtual machine that runs SQL Server.</span></span>
* <span data-ttu-id="0a0ac-130">Masz już pełny opis zawsze włączonych grup dostępności.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-130">You already have a solid understanding of Always On availability groups.</span></span> <span data-ttu-id="0a0ac-131">Aby uzyskać więcej informacji, zobacz [zawsze włączonych grup dostępności (SQL Server)](https://msdn.microsoft.com/library/hh510230.aspx).</span><span class="sxs-lookup"><span data-stu-id="0a0ac-131">For more information, see [Always On Availability Groups (SQL Server)](https://msdn.microsoft.com/library/hh510230.aspx).</span></span>

> [!NOTE]
> <span data-ttu-id="0a0ac-132">Jeśli interesuje Cię przy użyciu zawsze włączonych grup dostępności z programu SharePoint, zobacz też [konfigurowania programu SQL Server 2012 grup dostępności Always On programu SharePoint 2013](https://technet.microsoft.com/library/jj715261.aspx).</span><span class="sxs-lookup"><span data-stu-id="0a0ac-132">If you are interested in using Always On availability groups with SharePoint, also see [Configure SQL Server 2012 Always On Availability Groups for SharePoint 2013](https://technet.microsoft.com/library/jj715261.aspx).</span></span>
> 
> 

## <a name="create-hello-virtual-network-and-domain-controller-server"></a><span data-ttu-id="0a0ac-133">Tworzenie sieci wirtualnej hello i serwer kontrolera domeny</span><span class="sxs-lookup"><span data-stu-id="0a0ac-133">Create hello virtual network and domain controller server</span></span>
<span data-ttu-id="0a0ac-134">Rozpocznij nowe konto wersji próbnej platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-134">You begin with a new Azure trial account.</span></span> <span data-ttu-id="0a0ac-135">Po skonfigurowaniu konta, należy na ekranie macierzystego hello hello klasycznego portalu Azure.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-135">After you set up your account, you should be on hello home screen of hello Azure classic portal.</span></span>

1. <span data-ttu-id="0a0ac-136">Kliknij przycisk hello **nowy** przycisk w hello lewym rogu hello u dołu strony hello, jak pokazano w hello następującego zrzutu ekranu.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-136">Click hello **New** button at hello left corner of hello bottom of hello page, as shown in hello following screenshot.</span></span>
   
    ![Kliknij przycisk Nowa, w portalu hello](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC665511.gif)
2. <span data-ttu-id="0a0ac-138">Kliknij przycisk **usług sieciowych** > **sieci wirtualnej** > **Utwórz niestandardowy**, jak pokazano w hello następującego zrzutu ekranu.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-138">Click **Network Services** > **Virtual Network** > **Custom Create**, as shown in hello following screenshot.</span></span>
   
    ![Utwórz sieć wirtualną](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC665512.gif)
3. <span data-ttu-id="0a0ac-140">W hello **Utwórz sieć WIRTUALNĄ** okna dialogowego Utwórz nową sieć wirtualną przechodzenie między stronami hello i przy użyciu ustawień hello w hello w poniższej tabeli.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-140">In hello **CREATE A VIRTUAL NETWORK** dialog box, create a new virtual network by stepping through hello pages and using hello settings in hello following table.</span></span> 
   
   | <span data-ttu-id="0a0ac-141">Strona</span><span class="sxs-lookup"><span data-stu-id="0a0ac-141">Page</span></span> | <span data-ttu-id="0a0ac-142">Ustawienia</span><span class="sxs-lookup"><span data-stu-id="0a0ac-142">Settings</span></span> |
   | --- | --- |
   | <span data-ttu-id="0a0ac-143">Szczegóły sieci wirtualnej</span><span class="sxs-lookup"><span data-stu-id="0a0ac-143">Virtual Network Details</span></span> |<span data-ttu-id="0a0ac-144">**Nazwa = ContosoNET**</span><span class="sxs-lookup"><span data-stu-id="0a0ac-144">**NAME = ContosoNET**</span></span><br/><span data-ttu-id="0a0ac-145">**REGION = zachodnie stany USA**</span><span class="sxs-lookup"><span data-stu-id="0a0ac-145">**REGION = West US**</span></span> |
   | <span data-ttu-id="0a0ac-146">Serwery DNS i połączenie z siecią VPN</span><span class="sxs-lookup"><span data-stu-id="0a0ac-146">DNS Servers and VPN Connectivity</span></span> |<span data-ttu-id="0a0ac-147">Brak</span><span class="sxs-lookup"><span data-stu-id="0a0ac-147">None</span></span> |
   | <span data-ttu-id="0a0ac-148">Przestrzeniami adresów sieci wirtualnej</span><span class="sxs-lookup"><span data-stu-id="0a0ac-148">Virtual Network Address Spaces</span></span> |<span data-ttu-id="0a0ac-149">Ustawienia zostały pokazane powitania po zrzut ekranu:</span><span class="sxs-lookup"><span data-stu-id="0a0ac-149">Settings are shown in hello following screenshot:</span></span> ![Utwórz sieć wirtualną](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC784620.png) |
4. <span data-ttu-id="0a0ac-151">Utwórz maszynę wirtualną hello, który będzie używany jako hello kontrolera domeny (DC).</span><span class="sxs-lookup"><span data-stu-id="0a0ac-151">Create hello virtual machine that you will use as hello domain controller (DC).</span></span> <span data-ttu-id="0a0ac-152">Kliknij przycisk **nowy** > **obliczeniowe** > **maszyny wirtualnej** > **z galerii**, jak pokazano w Witaj, wykonując zrzut ekranu.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-152">Click **New** > **Compute** > **Virtual Machine** > **From Gallery**, as shown in hello following screenshot.</span></span>
   
    ![Tworzenie maszyny wirtualnej](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC784621.png)
5. <span data-ttu-id="0a0ac-154">W hello **Utwórz MASZYNĘ WIRTUALNĄ A** okna dialogowego Skonfiguruj nową maszynę wirtualną przechodzenie między stronami hello i przy użyciu ustawień hello w hello w poniższej tabeli.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-154">In hello **CREATE A VIRTUAL MACHINE** dialog box, configure a new virtual machine by stepping through hello pages and using hello settings in hello following table.</span></span> 
   
   | <span data-ttu-id="0a0ac-155">Strona</span><span class="sxs-lookup"><span data-stu-id="0a0ac-155">Page</span></span> | <span data-ttu-id="0a0ac-156">Ustawienia</span><span class="sxs-lookup"><span data-stu-id="0a0ac-156">Settings</span></span> |
   | --- | --- |
   | <span data-ttu-id="0a0ac-157">Wybierz system operacyjny maszyny wirtualnej hello</span><span class="sxs-lookup"><span data-stu-id="0a0ac-157">Select hello virtual machine operating system</span></span> |<span data-ttu-id="0a0ac-158">Windows Server 2012 R2 Datacenter</span><span class="sxs-lookup"><span data-stu-id="0a0ac-158">Windows Server 2012 R2 Datacenter</span></span> |
   | <span data-ttu-id="0a0ac-159">Konfiguracja maszyny wirtualnej</span><span class="sxs-lookup"><span data-stu-id="0a0ac-159">Virtual machine configuration</span></span> |<span data-ttu-id="0a0ac-160">**Data wydania wersji** = (Najnowsza wersja)</span><span class="sxs-lookup"><span data-stu-id="0a0ac-160">**VERSION RELEASE DATE** = (latest)</span></span><br/><span data-ttu-id="0a0ac-161">**Nazwa maszyny WIRTUALNEJ** = ContosoDC</span><span class="sxs-lookup"><span data-stu-id="0a0ac-161">**VIRTUAL MACHINE NAME** = ContosoDC</span></span><br/><span data-ttu-id="0a0ac-162">**WARSTWA** = STANDARD</span><span class="sxs-lookup"><span data-stu-id="0a0ac-162">**TIER** = STANDARD</span></span><br/><span data-ttu-id="0a0ac-163">**ROZMIAR** = A2 (2 rdzenie)</span><span class="sxs-lookup"><span data-stu-id="0a0ac-163">**SIZE** = A2 (2 cores)</span></span><br/><span data-ttu-id="0a0ac-164">**NOWĄ nazwę użytkownika** = AzureAdmin</span><span class="sxs-lookup"><span data-stu-id="0a0ac-164">**NEW USER NAME** = AzureAdmin</span></span><br/><span data-ttu-id="0a0ac-165">**NOWE hasło** = Contoso! 000</span><span class="sxs-lookup"><span data-stu-id="0a0ac-165">**NEW PASSWORD** = Contoso!000</span></span><br/><span data-ttu-id="0a0ac-166">**POTWIERDŹ** = Contoso! 000</span><span class="sxs-lookup"><span data-stu-id="0a0ac-166">**CONFIRM** = Contoso!000</span></span> |
   | <span data-ttu-id="0a0ac-167">Konfiguracja maszyny wirtualnej</span><span class="sxs-lookup"><span data-stu-id="0a0ac-167">Virtual machine configuration</span></span> |<span data-ttu-id="0a0ac-168">**USŁUGI w CHMURZE** = Tworzenie nowej usługi w chmurze</span><span class="sxs-lookup"><span data-stu-id="0a0ac-168">**CLOUD SERVICE** = Create a new cloud service</span></span><br/><span data-ttu-id="0a0ac-169">**Nazwa DNS usługi w CHMURZE** = nazwa usługi w chmurze unikatowy</span><span class="sxs-lookup"><span data-stu-id="0a0ac-169">**CLOUD SERVICE DNS NAME** = A unique cloud service name</span></span><br/><span data-ttu-id="0a0ac-170">**Nazwa DNS** unikatową nazwę = (przykład: ContosoDC123)</span><span class="sxs-lookup"><span data-stu-id="0a0ac-170">**DNS NAME** = A unique name (ex: ContosoDC123)</span></span><br/><span data-ttu-id="0a0ac-171">**REGION/grupy KOLIGACJI i WIRTUALNEJ sieci** = ContosoNET</span><span class="sxs-lookup"><span data-stu-id="0a0ac-171">**REGION/AFFINITY GROUP/VIRTUAL NETWORK** = ContosoNET</span></span><br/><span data-ttu-id="0a0ac-172">**PODSIECI sieci WIRTUALNEJ** = Back(10.10.2.0/24)</span><span class="sxs-lookup"><span data-stu-id="0a0ac-172">**VIRTUAL NETWORK SUBNETS** = Back(10.10.2.0/24)</span></span><br/><span data-ttu-id="0a0ac-173">**Konto MAGAZYNU** = Użyj konta usługi storage automatycznie generowanych</span><span class="sxs-lookup"><span data-stu-id="0a0ac-173">**STORAGE ACCOUNT** = Use an automatically generated storage account</span></span><br/><span data-ttu-id="0a0ac-174">**ZESTAW dostępności** = (Brak)</span><span class="sxs-lookup"><span data-stu-id="0a0ac-174">**AVAILABILITY SET** = (None)</span></span> |
   | <span data-ttu-id="0a0ac-175">Opcje maszyny wirtualnej</span><span class="sxs-lookup"><span data-stu-id="0a0ac-175">Virtual machine options</span></span> |<span data-ttu-id="0a0ac-176">Użyj wartości domyślnych</span><span class="sxs-lookup"><span data-stu-id="0a0ac-176">Use defaults</span></span> |

<span data-ttu-id="0a0ac-177">Po skonfigurowaniu hello nowej maszyny wirtualnej, poczekaj na powitania maszyny wirtualnej toobe provsioned.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-177">After you configure hello new virtual machine, wait for hello virtual machine toobe provsioned.</span></span> <span data-ttu-id="0a0ac-178">Ten proces trwa niektórych toofinish czasu.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-178">This process takes some time toofinish.</span></span> <span data-ttu-id="0a0ac-179">Jeśli klikniesz przycisk hello **maszyny wirtualnej** kartę w hello Azure classic portalu, można wyświetlić na ContosoDC stanów następuje z **uruchamianie (inicjowania obsługi administracyjnej)** za**zatrzymane**, **Uruchamianie**, **uruchomiona (inicjowania obsługi administracyjnej)**, a na końcu **systemem**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-179">If you click hello **Virtual Machine** tab in hello Azure classic portal, you can see ContosoDC cycling states from **Starting (Provisioning)** too**Stopped**, **Starting**, **Running (Provisioning)**, and finally **Running**.</span></span>

<span data-ttu-id="0a0ac-180">Serwer kontrolera domeny Hello pomyślnie jest teraz udostępniony.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-180">hello DC server is now successfully provisioned.</span></span> <span data-ttu-id="0a0ac-181">Następnie skonfiguruj domeny usługi Active Directory hello na tym serwerze kontrolera domeny.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-181">Next, you will configure hello Active Directory domain on this DC server.</span></span>

## <a name="configure-hello-domain-controller"></a><span data-ttu-id="0a0ac-182">Konfiguracja kontrolera domeny hello</span><span class="sxs-lookup"><span data-stu-id="0a0ac-182">Configure hello domain controller</span></span>
<span data-ttu-id="0a0ac-183">W hello następujące kroki możesz skonfigurować hello ContosoDC maszyny jako kontroler domeny corp.contoso.com.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-183">In hello following steps, you configure hello ContosoDC machine as a domain controller for corp.contoso.com.</span></span>

1. <span data-ttu-id="0a0ac-184">W portalu hello wybierz hello **ContosoDC** maszyny.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-184">In hello portal, select hello **ContosoDC** machine.</span></span> <span data-ttu-id="0a0ac-185">Na powitania **pulpitu nawigacyjnego** , kliknij pozycję **Connect** tooopen pulpitu zdalnego (RDP) plików do dostępu do pulpitu zdalnego.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-185">On hello **Dashboard** tab, click **Connect** tooopen a remote desktop (RDP) file for remote desktop access.</span></span>
   
    ![Połącz tooVritual maszyny](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC784622.png)
2. <span data-ttu-id="0a0ac-187">Zaloguj się przy użyciu konta administratora skonfigurowane (**\AzureAdmin**) i hasło (**Contoso! 000**).</span><span class="sxs-lookup"><span data-stu-id="0a0ac-187">Sign in with your configured administrator account (**\AzureAdmin**) and password (**Contoso!000**).</span></span>
3. <span data-ttu-id="0a0ac-188">Domyślnie program hello **Menedżera serwera** powinien zostać wyświetlony pulpit nawigacyjny.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-188">By default, hello **Server Manager** dashboard should be displayed.</span></span>
4. <span data-ttu-id="0a0ac-189">Kliknij przycisk hello **Dodaj role i funkcje** łącze na powitania pulpitu nawigacyjnego.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-189">Click hello **Add roles and features** link on hello dashboard.</span></span>
   
    ![W Eksploratorze serwera Dodawanie ról](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC784623.png)
5. <span data-ttu-id="0a0ac-191">Kliknij przycisk **dalej** do momentu uzyskania toohello **ról serwera** sekcji.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-191">Click **Next** until you get toohello **Server Roles** section.</span></span>
6. <span data-ttu-id="0a0ac-192">Wybierz hello **usług domenowych w usłudze Active Directory** i **serwera DNS** ról.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-192">Select hello **Active Directory Domain Services** and **DNS Server** roles.</span></span> <span data-ttu-id="0a0ac-193">Po wyświetleniu monitu, Dodaj więcej funkcji, które wymagają tych ról.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-193">When prompted, add more features that these roles require.</span></span>
   
   > [!NOTE]
   > <span data-ttu-id="0a0ac-194">Zostanie wyświetlone ostrzeżenie, że nie istnieje żaden adres IP weryfikacji.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-194">You will get a validation warning that there is no static IP address.</span></span> <span data-ttu-id="0a0ac-195">Jeśli testujesz hello konfiguracji, kliknij przycisk **Kontynuuj**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-195">If you are testing hello configuration, click **Continue**.</span></span> <span data-ttu-id="0a0ac-196">W scenariuszach produkcji [Użyj programu PowerShell tooset hello statycznego adresu IP maszyny kontrolera domeny hello](../../../virtual-network/virtual-networks-reserved-private-ip.md).</span><span class="sxs-lookup"><span data-stu-id="0a0ac-196">For production scenarios [use PowerShell tooset hello static IP address of hello domain controller machine](../../../virtual-network/virtual-networks-reserved-private-ip.md).</span></span>
   > 
   > 
   
    ![Dodawanie ról okna dialogowego](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC784624.png)
7. <span data-ttu-id="0a0ac-198">Kliknij przycisk **dalej** aż hello **potwierdzenie** sekcji.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-198">Click **Next** until you reach hello **Confirmation** section.</span></span> <span data-ttu-id="0a0ac-199">Wybierz hello **ponowne uruchomienie serwera docelowego hello automatycznie w razie potrzeby** pole wyboru.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-199">Select hello **Restart hello destination server automatically if required** check box.</span></span>
8. <span data-ttu-id="0a0ac-200">Kliknij pozycję **Zainstaluj**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-200">Click **Install**.</span></span>
9. <span data-ttu-id="0a0ac-201">Po zainstalowaniu funkcji hello powrócić toohello **Menedżera serwera** pulpitu nawigacyjnego.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-201">After hello features are installed, return toohello **Server Manager** dashboard.</span></span>
10. <span data-ttu-id="0a0ac-202">Wybierz nowe hello **usług AD DS** opcji w okienku po lewej stronie powitania.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-202">Select hello new **AD DS** option on hello left pane.</span></span>
11. <span data-ttu-id="0a0ac-203">Kliknij przycisk hello **więcej** łącze na powitania żółty pasek ostrzeżenie.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-203">Click hello **More** link on hello yellow warning bar.</span></span>
    
     ![Usługi AD DS okno dialogowe na maszynie wirtualnej serwera DNS](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC784625.png)
12. <span data-ttu-id="0a0ac-205">W hello **akcji** kolumny hello **wszystkie szczegóły zadania serwera** okno dialogowe, kliknij przycisk **podwyższania poziomu kontrolera domeny tego serwera tooa**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-205">In hello **Action** column of hello **All Server Task Details** dialog box, click **Promote this server tooa domain controller**.</span></span>
13. <span data-ttu-id="0a0ac-206">W hello **Kreator konfiguracji usług domenowych Active Directory**, użyj hello następujące wartości:</span><span class="sxs-lookup"><span data-stu-id="0a0ac-206">In hello **Active Directory Domain Services Configuration Wizard**, use hello following values:</span></span>
    
    | <span data-ttu-id="0a0ac-207">Strona</span><span class="sxs-lookup"><span data-stu-id="0a0ac-207">Page</span></span> | <span data-ttu-id="0a0ac-208">Ustawienie</span><span class="sxs-lookup"><span data-stu-id="0a0ac-208">Setting</span></span> |
    | --- | --- |
    | <span data-ttu-id="0a0ac-209">Konfiguracja wdrażania</span><span class="sxs-lookup"><span data-stu-id="0a0ac-209">Deployment Configuration</span></span> |<span data-ttu-id="0a0ac-210">**Dodaj nowy las** = wybrane</span><span class="sxs-lookup"><span data-stu-id="0a0ac-210">**Add a new forest** = Selected</span></span><br/><span data-ttu-id="0a0ac-211">**Nazwa domeny głównej** = corp.contoso.com</span><span class="sxs-lookup"><span data-stu-id="0a0ac-211">**Root domain name** = corp.contoso.com</span></span> |
    | <span data-ttu-id="0a0ac-212">Opcje kontrolera domeny</span><span class="sxs-lookup"><span data-stu-id="0a0ac-212">Domain Controller Options</span></span> |<span data-ttu-id="0a0ac-213">**Hasło** = Contoso! 000</span><span class="sxs-lookup"><span data-stu-id="0a0ac-213">**Password** = Contoso!000</span></span><br/><span data-ttu-id="0a0ac-214">**Potwierdź hasło** = Contoso! 000</span><span class="sxs-lookup"><span data-stu-id="0a0ac-214">**Confirm Password** = Contoso!000</span></span> |
14. <span data-ttu-id="0a0ac-215">Kliknij przycisk **dalej** toogo za pośrednictwem hello innych stron w Kreatorze hello.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-215">Click **Next** toogo through hello other pages in hello wizard.</span></span> <span data-ttu-id="0a0ac-216">Na powitania **Sprawdzanie wymagań wstępnych** upewnij się, że jest wyświetlany po wiadomość hello: **sprawdzanie wszystkich wymagań wstępnych zakończyło się pomyślnie**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-216">On hello **Prerequisites Check** page, verify that you see hello following message: **All prerequisite checks passed successfully**.</span></span> <span data-ttu-id="0a0ac-217">Należy pamiętać, należy przejrzeć wszystkie odpowiednie komunikaty ostrzegawcze, że jest możliwe toocontinue hello instalacji.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-217">Note that you should review all applicable warning messages, but it is possible toocontinue with hello installation.</span></span>
15. <span data-ttu-id="0a0ac-218">Kliknij pozycję **Zainstaluj**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-218">Click **Install**.</span></span> <span data-ttu-id="0a0ac-219">Witaj **ContosoDC** maszyny wirtualnej zostanie automatycznie ponownie uruchomiony.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-219">hello **ContosoDC** virtual machine will automatically reboot.</span></span>

## <a name="configure-domain-accounts"></a><span data-ttu-id="0a0ac-220">Konfigurowanie kont domeny</span><span class="sxs-lookup"><span data-stu-id="0a0ac-220">Configure domain accounts</span></span>
<span data-ttu-id="0a0ac-221">Następne kroki Hello skonfiguruj hello kont usługi Active Directory do późniejszego użycia.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-221">hello next steps configure hello Active Directory accounts for later use.</span></span>

1. <span data-ttu-id="0a0ac-222">Zaloguj się ponownie toohello **ContosoDC** maszyny.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-222">Sign back in toohello **ContosoDC** machine.</span></span>
2. <span data-ttu-id="0a0ac-223">W **Menedżera serwera**, kliknij przycisk **narzędzia** > **Centrum administracyjne usługi Active Directory**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-223">In **Server Manager**, click **Tools** > **Active Directory Administrative Center**.</span></span>
   
    ![Centrum administracyjne usługi Active Directory](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC784626.png)
3. <span data-ttu-id="0a0ac-225">W hello **Centrum administracyjne usługi Active Directory**, wybierz pozycję **corp (lokalna)** w okienku po lewej stronie powitania.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-225">In hello **Active Directory Administrative Center**, select **corp (local)** in hello left pane.</span></span>
4. <span data-ttu-id="0a0ac-226">Na powitania prawo **zadania** okienku, kliknij przycisk **nowy** > **użytkownika**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-226">On hello right **Tasks** pane, click **New** > **User**.</span></span> <span data-ttu-id="0a0ac-227">Użyj hello następujące ustawienia:</span><span class="sxs-lookup"><span data-stu-id="0a0ac-227">Use hello following settings:</span></span>
   
   | <span data-ttu-id="0a0ac-228">Ustawienie</span><span class="sxs-lookup"><span data-stu-id="0a0ac-228">Setting</span></span> | <span data-ttu-id="0a0ac-229">Wartość</span><span class="sxs-lookup"><span data-stu-id="0a0ac-229">Value</span></span> |
   | --- | --- |
   | <span data-ttu-id="0a0ac-230">**Imię**</span><span class="sxs-lookup"><span data-stu-id="0a0ac-230">**First Name**</span></span> |<span data-ttu-id="0a0ac-231">Instalowanie</span><span class="sxs-lookup"><span data-stu-id="0a0ac-231">Install</span></span> |
   | <span data-ttu-id="0a0ac-232">**SamAccountName użytkownika**</span><span class="sxs-lookup"><span data-stu-id="0a0ac-232">**User SamAccountName**</span></span> |<span data-ttu-id="0a0ac-233">Instalowanie</span><span class="sxs-lookup"><span data-stu-id="0a0ac-233">Install</span></span> |
   | <span data-ttu-id="0a0ac-234">**Hasło**</span><span class="sxs-lookup"><span data-stu-id="0a0ac-234">**Password**</span></span> |<span data-ttu-id="0a0ac-235">Contoso! 000</span><span class="sxs-lookup"><span data-stu-id="0a0ac-235">Contoso!000</span></span> |
   | <span data-ttu-id="0a0ac-236">**Potwierdź hasło**</span><span class="sxs-lookup"><span data-stu-id="0a0ac-236">**Confirm password**</span></span> |<span data-ttu-id="0a0ac-237">Contoso! 000</span><span class="sxs-lookup"><span data-stu-id="0a0ac-237">Contoso!000</span></span> |
   | <span data-ttu-id="0a0ac-238">**Inne opcje haseł**</span><span class="sxs-lookup"><span data-stu-id="0a0ac-238">**Other password options**</span></span> |<span data-ttu-id="0a0ac-239">Wybrano</span><span class="sxs-lookup"><span data-stu-id="0a0ac-239">Selected</span></span> |
   | <span data-ttu-id="0a0ac-240">**Hasło nigdy nie wygasa**</span><span class="sxs-lookup"><span data-stu-id="0a0ac-240">**Password never expires**</span></span> |<span data-ttu-id="0a0ac-241">Zaznaczone</span><span class="sxs-lookup"><span data-stu-id="0a0ac-241">Checked</span></span> |
5. <span data-ttu-id="0a0ac-242">Kliknij przycisk **OK** toocreate hello **zainstalować** użytkownika.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-242">Click **OK** toocreate hello **Install** user.</span></span> <span data-ttu-id="0a0ac-243">To konto będzie używane tooconfigure hello trybu failover klastra i hello grupy dostępności.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-243">This account will be used tooconfigure hello failover cluster and hello availability group.</span></span>
6. <span data-ttu-id="0a0ac-244">Tworzenie dwóch dodatkowych użytkowników, **CORP\SQLSvc1** i **CORP\SQLSvc2**, z hello te same czynności.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-244">Create two additional users, **CORP\SQLSvc1** and **CORP\SQLSvc2**, with hello same steps.</span></span> <span data-ttu-id="0a0ac-245">Te konta będą używane dla hello wystąpień programu SQL Server.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-245">These accounts will be used for hello SQL Server instances.</span></span> <span data-ttu-id="0a0ac-246">Następnie należy toogive **CORP\Install** hello klaster pracy awaryjnej systemu Windows tooconfigure niezbędne uprawnienia.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-246">Next, you need toogive **CORP\Install** hello necessary permissions tooconfigure Windows failover clustering.</span></span>
7. <span data-ttu-id="0a0ac-247">W hello **Centrum administracyjne usługi Active Directory**, kliknij przycisk **corp (lokalna)** w okienku po lewej stronie powitania.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-247">In hello **Active Directory Administrative Center**, click **corp (local)** in hello left pane.</span></span> <span data-ttu-id="0a0ac-248">W hello **zadania** okienku, kliknij przycisk **właściwości**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-248">In hello **Tasks** pane, click **Properties**.</span></span>
   
    ![Właściwości użytkownika CORP](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC784627.png)
8. <span data-ttu-id="0a0ac-250">Wybierz **rozszerzenia**, a następnie kliknij przycisk hello **zaawansowane** przycisk na powitania **zabezpieczeń** kartę.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-250">Select **Extensions**, and then click hello **Advanced** button on hello **Security** tab.</span></span>
9. <span data-ttu-id="0a0ac-251">W hello **Zaawansowane ustawienia zabezpieczeń dla corp** okno dialogowe, kliknij przycisk **Dodaj**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-251">In hello **Advanced Security Settings for corp** dialog box, click **Add**.</span></span>
10. <span data-ttu-id="0a0ac-252">Kliknij przycisk **Wybierz podmiot zabezpieczeń**, wyszukaj **CORP\Install**, a następnie kliknij przycisk **OK**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-252">Click **Select a principal**, search for **CORP\Install**, and then click **OK**.</span></span>
11. <span data-ttu-id="0a0ac-253">Wybierz hello **odczytywanie wszystkich właściwości** i **Tworzenie obiektów komputerów** uprawnienia.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-253">Select hello **Read all properties** and **Create Computer objects** permissions.</span></span>
    
     ![Uprawnienia użytkownika Corp](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC784628.png)
12. <span data-ttu-id="0a0ac-255">Kliknij przycisk **OK**, a następnie kliknij przycisk **OK** ponownie.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-255">Click **OK**, and then click **OK** again.</span></span> <span data-ttu-id="0a0ac-256">Zamknij hello corp okna właściwości.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-256">Close hello corp properties window.</span></span>

<span data-ttu-id="0a0ac-257">Teraz, gdy skonfigurowano usługi Active Directory i obiektów użytkowników hello utworzysz trzech maszyn wirtualnych programu SQL Server i dołącz je toothis domeny.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-257">Now that you configured Active Directory and hello user objects, you will create three SQL Server virtual machines and join them toothis domain.</span></span>

## <a name="create-hello-sql-server-virtual-machines"></a><span data-ttu-id="0a0ac-258">Tworzenie hello maszyn wirtualnych programu SQL Server</span><span class="sxs-lookup"><span data-stu-id="0a0ac-258">Create hello SQL Server virtual machines</span></span>
<span data-ttu-id="0a0ac-259">Utwórz trzy maszyny wirtualne.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-259">Create three virtual machines.</span></span> <span data-ttu-id="0a0ac-260">Jeden jest węzłem klastra i są dwa dla programu SQL Server.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-260">One is for a cluster node and two are for SQL Server.</span></span> <span data-ttu-id="0a0ac-261">toocreate hello maszyn wirtualnych, przejdź z powrotem toohello klasycznego portalu Azure, kliknij przycisk **nowy** > **obliczeniowe** > **maszyny wirtualnej**  >  **z galerii**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-261">toocreate each of hello virtual machines, go back toohello Azure classic portal, click **New** > **Compute** > **Virtual Machine** > **From Gallery**.</span></span> <span data-ttu-id="0a0ac-262">Następnie za pomocą szablonów hello w powitania po tworzenia maszyn wirtualnych na powitania toohelp tabeli.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-262">Then, use hello templates in hello following table toohelp you create hello virtual machines.</span></span>

| <span data-ttu-id="0a0ac-263">Strona</span><span class="sxs-lookup"><span data-stu-id="0a0ac-263">Page</span></span> | <span data-ttu-id="0a0ac-264">VM1</span><span class="sxs-lookup"><span data-stu-id="0a0ac-264">VM1</span></span> | <span data-ttu-id="0a0ac-265">MASZYNY VM2</span><span class="sxs-lookup"><span data-stu-id="0a0ac-265">VM2</span></span> | <span data-ttu-id="0a0ac-266">VM3</span><span class="sxs-lookup"><span data-stu-id="0a0ac-266">VM3</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="0a0ac-267">Wybierz system operacyjny maszyny wirtualnej hello</span><span class="sxs-lookup"><span data-stu-id="0a0ac-267">Select hello virtual machine operating system</span></span> |<span data-ttu-id="0a0ac-268">**Windows Server 2012 R2 Datacenter**</span><span class="sxs-lookup"><span data-stu-id="0a0ac-268">**Windows Server 2012 R2 Datacenter**</span></span> |<span data-ttu-id="0a0ac-269">**SQL Server 2014 Enterprise RTM**</span><span class="sxs-lookup"><span data-stu-id="0a0ac-269">**SQL Server 2014 RTM Enterprise**</span></span> |<span data-ttu-id="0a0ac-270">**SQL Server 2014 Enterprise RTM**</span><span class="sxs-lookup"><span data-stu-id="0a0ac-270">**SQL Server 2014 RTM Enterprise**</span></span> |
| <span data-ttu-id="0a0ac-271">Konfiguracja maszyny wirtualnej</span><span class="sxs-lookup"><span data-stu-id="0a0ac-271">Virtual machine configuration</span></span> |<span data-ttu-id="0a0ac-272">**Data wydania wersji** = (Najnowsza wersja)</span><span class="sxs-lookup"><span data-stu-id="0a0ac-272">**VERSION RELEASE DATE** = (latest)</span></span><br/><span data-ttu-id="0a0ac-273">**Nazwa maszyny WIRTUALNEJ** = ContosoWSFCNode</span><span class="sxs-lookup"><span data-stu-id="0a0ac-273">**VIRTUAL MACHINE NAME** = ContosoWSFCNode</span></span><br/><span data-ttu-id="0a0ac-274">**WARSTWA** = STANDARD</span><span class="sxs-lookup"><span data-stu-id="0a0ac-274">**TIER** = STANDARD</span></span><br/><span data-ttu-id="0a0ac-275">**ROZMIAR** = A2 (2 rdzenie)</span><span class="sxs-lookup"><span data-stu-id="0a0ac-275">**SIZE** = A2 (2 cores)</span></span><br/><span data-ttu-id="0a0ac-276">**NOWĄ nazwę użytkownika** = AzureAdmin</span><span class="sxs-lookup"><span data-stu-id="0a0ac-276">**NEW USER NAME** = AzureAdmin</span></span><br/><span data-ttu-id="0a0ac-277">**NOWE hasło** = Contoso! 000</span><span class="sxs-lookup"><span data-stu-id="0a0ac-277">**NEW PASSWORD** = Contoso!000</span></span><br/><span data-ttu-id="0a0ac-278">**POTWIERDŹ** = Contoso! 000</span><span class="sxs-lookup"><span data-stu-id="0a0ac-278">**CONFIRM** = Contoso!000</span></span> |<span data-ttu-id="0a0ac-279">**Data wydania wersji** = (Najnowsza wersja)</span><span class="sxs-lookup"><span data-stu-id="0a0ac-279">**VERSION RELEASE DATE** = (latest)</span></span><br/><span data-ttu-id="0a0ac-280">**Nazwa maszyny WIRTUALNEJ** = ContosoSQL1</span><span class="sxs-lookup"><span data-stu-id="0a0ac-280">**VIRTUAL MACHINE NAME** = ContosoSQL1</span></span><br/><span data-ttu-id="0a0ac-281">**WARSTWA** = STANDARD</span><span class="sxs-lookup"><span data-stu-id="0a0ac-281">**TIER** = STANDARD</span></span><br/><span data-ttu-id="0a0ac-282">**ROZMIAR** = A3 (4 rdzenie)</span><span class="sxs-lookup"><span data-stu-id="0a0ac-282">**SIZE** = A3 (4 cores)</span></span><br/><span data-ttu-id="0a0ac-283">**NOWĄ nazwę użytkownika** = AzureAdmin</span><span class="sxs-lookup"><span data-stu-id="0a0ac-283">**NEW USER NAME** = AzureAdmin</span></span><br/><span data-ttu-id="0a0ac-284">**NOWE hasło** = Contoso! 000</span><span class="sxs-lookup"><span data-stu-id="0a0ac-284">**NEW PASSWORD** = Contoso!000</span></span><br/><span data-ttu-id="0a0ac-285">**POTWIERDŹ** = Contoso! 000</span><span class="sxs-lookup"><span data-stu-id="0a0ac-285">**CONFIRM** = Contoso!000</span></span> |<span data-ttu-id="0a0ac-286">**Data wydania wersji** = (Najnowsza wersja)</span><span class="sxs-lookup"><span data-stu-id="0a0ac-286">**VERSION RELEASE DATE** = (latest)</span></span><br/><span data-ttu-id="0a0ac-287">**Nazwa maszyny WIRTUALNEJ** = ContosoSQL2</span><span class="sxs-lookup"><span data-stu-id="0a0ac-287">**VIRTUAL MACHINE NAME** = ContosoSQL2</span></span><br/><span data-ttu-id="0a0ac-288">**WARSTWA** = STANDARD</span><span class="sxs-lookup"><span data-stu-id="0a0ac-288">**TIER** = STANDARD</span></span><br/><span data-ttu-id="0a0ac-289">**ROZMIAR** = A3 (4 rdzenie)</span><span class="sxs-lookup"><span data-stu-id="0a0ac-289">**SIZE** = A3 (4 cores)</span></span><br/><span data-ttu-id="0a0ac-290">**NOWĄ nazwę użytkownika** = AzureAdmin</span><span class="sxs-lookup"><span data-stu-id="0a0ac-290">**NEW USER NAME** = AzureAdmin</span></span><br/><span data-ttu-id="0a0ac-291">**NOWE hasło** = Contoso! 000</span><span class="sxs-lookup"><span data-stu-id="0a0ac-291">**NEW PASSWORD** = Contoso!000</span></span><br/><span data-ttu-id="0a0ac-292">**POTWIERDŹ** = Contoso! 000</span><span class="sxs-lookup"><span data-stu-id="0a0ac-292">**CONFIRM** = Contoso!000</span></span> |
| <span data-ttu-id="0a0ac-293">Konfiguracja maszyny wirtualnej</span><span class="sxs-lookup"><span data-stu-id="0a0ac-293">Virtual machine configuration</span></span> |<span data-ttu-id="0a0ac-294">**USŁUGI w CHMURZE** = nazwa DNS usługi utworzonej wcześniej unikatowe chmury (przykład: ContosoDC123)</span><span class="sxs-lookup"><span data-stu-id="0a0ac-294">**CLOUD SERVICE** = Previously Created Unique Cloud Service DNS Name (ex: ContosoDC123)</span></span><br/><span data-ttu-id="0a0ac-295">**REGION/grupy KOLIGACJI i WIRTUALNEJ sieci** = ContosoNET</span><span class="sxs-lookup"><span data-stu-id="0a0ac-295">**REGION/AFFINITY GROUP/VIRTUAL NETWORK** = ContosoNET</span></span><br/><span data-ttu-id="0a0ac-296">**PODSIECI sieci WIRTUALNEJ** = Back(10.10.2.0/24)</span><span class="sxs-lookup"><span data-stu-id="0a0ac-296">**VIRTUAL NETWORK SUBNETS** = Back(10.10.2.0/24)</span></span><br/><span data-ttu-id="0a0ac-297">**Konto MAGAZYNU** = Użyj konta usługi storage automatycznie generowanych</span><span class="sxs-lookup"><span data-stu-id="0a0ac-297">**STORAGE ACCOUNT** = Use an automatically generated storage account</span></span><br/><span data-ttu-id="0a0ac-298">**ZESTAWU dostępności** = Tworzenie dostępności ustawić</span><span class="sxs-lookup"><span data-stu-id="0a0ac-298">**AVAILABILITY SET** = Create an availability set</span></span><br/><span data-ttu-id="0a0ac-299">**NAZWA ZBIORU DOSTĘPNOŚCI** = SQLHADR</span><span class="sxs-lookup"><span data-stu-id="0a0ac-299">**AVAILABILITY SET NAME** = SQLHADR</span></span> |<span data-ttu-id="0a0ac-300">**USŁUGI w CHMURZE** = nazwa DNS usługi utworzonej wcześniej unikatowe chmury (przykład: ContosoDC123)</span><span class="sxs-lookup"><span data-stu-id="0a0ac-300">**CLOUD SERVICE** = Previously Created Unique Cloud Service DNS Name (ex: ContosoDC123)</span></span><br/><span data-ttu-id="0a0ac-301">**REGION/grupy KOLIGACJI i WIRTUALNEJ sieci** = ContosoNET</span><span class="sxs-lookup"><span data-stu-id="0a0ac-301">**REGION/AFFINITY GROUP/VIRTUAL NETWORK** = ContosoNET</span></span><br/><span data-ttu-id="0a0ac-302">**PODSIECI sieci WIRTUALNEJ** = Back(10.10.2.0/24)</span><span class="sxs-lookup"><span data-stu-id="0a0ac-302">**VIRTUAL NETWORK SUBNETS** = Back(10.10.2.0/24)</span></span><br/><span data-ttu-id="0a0ac-303">**Konto MAGAZYNU** = Użyj konta usługi storage automatycznie generowanych</span><span class="sxs-lookup"><span data-stu-id="0a0ac-303">**STORAGE ACCOUNT** = Use an automatically generated storage account</span></span><br/><span data-ttu-id="0a0ac-304">**ZESTAWU dostępności** = SQLHADR (można również skonfigurować dostępność hello ustawić po utworzeniu maszyny hello.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-304">**AVAILABILITY SET** = SQLHADR (You can also configure hello availability set after hello machine has been created.</span></span> <span data-ttu-id="0a0ac-305">Wszystkie trzy maszyny powinien być przypisany zestaw dostępności SQLHADR toohello.)</span><span class="sxs-lookup"><span data-stu-id="0a0ac-305">All three machines should be assigned toohello SQLHADR availability set.)</span></span> |<span data-ttu-id="0a0ac-306">**USŁUGI w CHMURZE** = nazwa DNS usługi utworzonej wcześniej unikatowe chmury (przykład: ContosoDC123)</span><span class="sxs-lookup"><span data-stu-id="0a0ac-306">**CLOUD SERVICE** = Previously Created Unique Cloud Service DNS Name (ex: ContosoDC123)</span></span><br/><span data-ttu-id="0a0ac-307">**REGION/grupy KOLIGACJI i WIRTUALNEJ sieci** = ContosoNET</span><span class="sxs-lookup"><span data-stu-id="0a0ac-307">**REGION/AFFINITY GROUP/VIRTUAL NETWORK** = ContosoNET</span></span><br/><span data-ttu-id="0a0ac-308">**PODSIECI sieci WIRTUALNEJ** = Back(10.10.2.0/24)</span><span class="sxs-lookup"><span data-stu-id="0a0ac-308">**VIRTUAL NETWORK SUBNETS** = Back(10.10.2.0/24)</span></span><br/><span data-ttu-id="0a0ac-309">**Konto MAGAZYNU** = Użyj konta usługi storage automatycznie generowanych</span><span class="sxs-lookup"><span data-stu-id="0a0ac-309">**STORAGE ACCOUNT** = Use an automatically generated storage account</span></span><br/><span data-ttu-id="0a0ac-310">**ZESTAWU dostępności** = SQLHADR (można również skonfigurować dostępność hello ustawić po utworzeniu maszyny hello.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-310">**AVAILABILITY SET** = SQLHADR (You can also configure hello availability set after hello machine has been created.</span></span> <span data-ttu-id="0a0ac-311">Wszystkie trzy maszyny powinien być przypisany zestaw dostępności SQLHADR toohello.)</span><span class="sxs-lookup"><span data-stu-id="0a0ac-311">All three machines should be assigned toohello SQLHADR availability set.)</span></span> |
| <span data-ttu-id="0a0ac-312">Opcje maszyny wirtualnej</span><span class="sxs-lookup"><span data-stu-id="0a0ac-312">Virtual machine options</span></span> |<span data-ttu-id="0a0ac-313">Użyj wartości domyślnych</span><span class="sxs-lookup"><span data-stu-id="0a0ac-313">Use defaults</span></span> |<span data-ttu-id="0a0ac-314">Użyj wartości domyślnych</span><span class="sxs-lookup"><span data-stu-id="0a0ac-314">Use defaults</span></span> |<span data-ttu-id="0a0ac-315">Użyj wartości domyślnych</span><span class="sxs-lookup"><span data-stu-id="0a0ac-315">Use defaults</span></span> |

<br/>

> [!NOTE]
> <span data-ttu-id="0a0ac-316">Witaj poprzedniej konfiguracji sugeruje maszyn wirtualnych w warstwie standardowa, ponieważ maszyny warstwy BASIC nie obsługuje punktów końcowych z równoważeniem obciążenia.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-316">hello previous configuration suggests STANDARD tier virtual machines, because BASIC tier machines do not support load-balanced endpoints.</span></span> <span data-ttu-id="0a0ac-317">Należy punktów końcowych z równoważeniem obciążenia nowsze toocreate odbiornik grupy dostępności.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-317">You need load-balanced endpoints later toocreate an availability group listener.</span></span> <span data-ttu-id="0a0ac-318">Ponadto hello rozmiary sugerowanych w tym miejscu są przeznaczone dla testowania grup dostępności w maszynach wirtualnych platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-318">Also, hello machine sizes that are suggested here are meant for testing availability groups in Azure Virtual Machines.</span></span> <span data-ttu-id="0a0ac-319">Witaj najlepszą wydajność obciążeń produkcyjnych, zobacz hello zalecenia dotyczące programu SQL Server rozmiary i konfiguracji [wydajności najlepsze rozwiązania dotyczące programu SQL Server w usłudze Azure Virtual Machines](../sql/virtual-machines-windows-sql-performance.md).</span><span class="sxs-lookup"><span data-stu-id="0a0ac-319">For hello best performance on production workloads, see hello recommendations for SQL Server machine sizes and configuration in [Performance best practices for SQL Server in Azure Virtual Machines](../sql/virtual-machines-windows-sql-performance.md).</span></span>
> 
> 

<span data-ttu-id="0a0ac-320">Po hello trzy maszyny wirtualne są w pełni zaaprowizowanym, należy toojoin je toohello **corp.contoso.com** domeny i przyznać CORP\Install maszyny toohello prawa administracyjne.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-320">After hello three virtual machines are fully provisioned, you need toojoin them toohello **corp.contoso.com** domain and grant CORP\Install administrative rights toohello machines.</span></span> <span data-ttu-id="0a0ac-321">toodo tego hello Użyj następujące kroki dla każdego hello trzech maszyn wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-321">toodo this, use hello following steps for each of hello three virtual machines.</span></span>

1. <span data-ttu-id="0a0ac-322">Najpierw zmień adres serwera DNS hello preferowany.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-322">First, change hello preferred DNS server address.</span></span> <span data-ttu-id="0a0ac-323">Pobieranie katalogu lokalnego tooyour plik RDP każdej maszyny wirtualnej zaznaczając maszyny wirtualnej hello hello na liście i klikając hello **Connect** przycisku.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-323">Download each virtual machine's RDP file tooyour local directory by selecting hello virtual machine in hello list and clicking hello **Connect** button.</span></span> <span data-ttu-id="0a0ac-324">tooselect maszynę wirtualną, kliknij w dowolnym ale hello pierwszej komórki w wierszu hello, jak pokazano w powitania po zrzut ekranu.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-324">tooselect a virtual machine, click anywhere but hello first cell in hello row, as shown in hello following screenshot.</span></span>
   
    ![Pobierz plik RDP hello](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC664953.jpg)
2. <span data-ttu-id="0a0ac-326">Otwórz hello RDP pliku, którego pobrano i logowania toohello maszyny wirtualnej przy użyciu konta administratora skonfigurowane (**BUILTIN\AzureAdmin**) i hasło (**Contoso! 000**).</span><span class="sxs-lookup"><span data-stu-id="0a0ac-326">Open hello RDP file that you downloaded, and sign in toohello virtual machine by using your configured administrator account (**BUILTIN\AzureAdmin**) and password (**Contoso!000**).</span></span>
3. <span data-ttu-id="0a0ac-327">Po zalogowaniu, powinien zostać wyświetlony hello **Menedżera serwera** pulpitu nawigacyjnego.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-327">After you sign in, you should see hello **Server Manager** dashboard.</span></span> <span data-ttu-id="0a0ac-328">Kliknij przycisk **lokalnego serwera** w okienku po lewej stronie powitania.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-328">Click **Local Server** in hello left pane.</span></span>
4. <span data-ttu-id="0a0ac-329">Kliknij przycisk hello **adres IPv4 przypisany przez serwer DHCP IPv6 włączone** łącza.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-329">Click hello **IPv4 address assigned by DHCP, IPv6 enabled** link.</span></span>
5. <span data-ttu-id="0a0ac-330">W hello **połączenia sieciowe** okna dialogowego kliknij ikonę sieci hello.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-330">In hello **Network Connections** dialog box, click hello network icon.</span></span>
   
    ![Serwer DNS preferowanych maszyny wirtualnej hello zmiany](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC784629.png)
6. <span data-ttu-id="0a0ac-332">Na pasku poleceń powitania kliknij **zmiany ustawień hello tego połączenia**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-332">On hello command bar, click **Change hello settings of this connection**.</span></span> <span data-ttu-id="0a0ac-333">(W zależności od wielkości hello okna, konieczne może być tooclick hello Podwójna strzałka w prawo toosee tego polecenia).</span><span class="sxs-lookup"><span data-stu-id="0a0ac-333">(Depending on hello size of your window, you might have tooclick hello double right arrow toosee this command).</span></span>
7. <span data-ttu-id="0a0ac-334">Wybierz **protokół internetowy w wersji 4 (TCP/IPv4)**, a następnie kliknij przycisk **właściwości**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-334">Select **Internet Protocol Version 4 (TCP/IPv4)**, and then click **Properties**.</span></span>
8. <span data-ttu-id="0a0ac-335">Wybierz **hello Użyj następujących adresów serwerów DNS** , a następnie określ **10.10.2.4** w **preferowany serwer DNS**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-335">Select **Use hello following DNS server addresses** and then specify **10.10.2.4** in **Preferred DNS server**.</span></span>
9. <span data-ttu-id="0a0ac-336">Witaj **10.10.2.4** adres jest adresem hello, który jest przypisany tooa maszyny wirtualnej w hello 10.10.2.0/24 podsieci w sieci wirtualnej platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-336">hello **10.10.2.4** address is hello address that's assigned tooa virtual machine in hello 10.10.2.0/24 subnet in an Azure virtual network.</span></span> <span data-ttu-id="0a0ac-337">Czy maszyna wirtualna jest **ContosoDC**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-337">That virtual machine is **ContosoDC**.</span></span> <span data-ttu-id="0a0ac-338">tooverify **ContosoDC**na adres IP, użyj **nslookup contosodc** w oknie wiersza polecenia hello, jak pokazano w hello następującego zrzutu ekranu.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-338">tooverify **ContosoDC**'s IP address, use **nslookup contosodc** in hello command prompt window, as shown in hello following screenshot.</span></span>
   
    ![Użyj adresu IP toofind NSLOOKUP dla kontrolera domeny](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC664954.jpg)
10. <span data-ttu-id="0a0ac-340">Kliknij przycisk **OK** > **Zamknij** toocommit hello zmiany.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-340">Click **OK** > **Close** toocommit hello changes.</span></span> <span data-ttu-id="0a0ac-341">Teraz można dołączyć maszyny wirtualnej hello zbyt**corp.contoso.com**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-341">You can now join hello virtual machine too**corp.contoso.com**.</span></span>
11. <span data-ttu-id="0a0ac-342">Po powrocie do hello **lokalnego serwera** okna, kliknij hello **grupy roboczej** łącza.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-342">Back in hello **Local Server** window, click hello **WORKGROUP** link.</span></span>
12. <span data-ttu-id="0a0ac-343">W hello **nazwy komputera** kliknij **zmiany**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-343">In hello **Computer Name** section, click **Change**.</span></span>
13. <span data-ttu-id="0a0ac-344">Wybierz hello **domeny** pole wyboru, typ **corp.contoso.com** w hello pola tekstowego, a następnie kliknij przycisk **OK**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-344">Select hello **Domain** check box, type **corp.contoso.com** in hello text box, and then click **OK**.</span></span>
14. <span data-ttu-id="0a0ac-345">W hello **zabezpieczenia systemu Windows** oknie dialogowym Określ hello poświadczenia dla konta administratora domeny domyślnej hello (**CORP\AzureAdmin**) i hasło hello (**Contoso! 000**).</span><span class="sxs-lookup"><span data-stu-id="0a0ac-345">In hello **Windows Security** dialog box, specify hello credentials for hello default domain administrator account (**CORP\AzureAdmin**) and hello password (**Contoso!000**).</span></span>
15. <span data-ttu-id="0a0ac-346">Po wyświetleniu komunikatu "domeny corp.contoso.com toohello powitalnej" hello, kliknij przycisk **OK**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-346">When you see hello "Welcome toohello corp.contoso.com domain" message, click **OK**.</span></span>
16. <span data-ttu-id="0a0ac-347">Kliknij przycisk **Zamknij** > **Uruchom ponownie teraz** w oknie dialogowym hello.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-347">Click **Close** > **Restart Now** in hello dialog box.</span></span>

### <a name="add-hello-corpinstall-user-as-an-administrator-on-each-virtual-machine"></a><span data-ttu-id="0a0ac-348">Dodaj użytkownika Corp\Install hello jako administrator na każdej maszynie wirtualnej</span><span class="sxs-lookup"><span data-stu-id="0a0ac-348">Add hello Corp\Install user as an administrator on each virtual machine</span></span>
1. <span data-ttu-id="0a0ac-349">Poczekaj na ponowne uruchomienie maszyny wirtualnej hello, a następnie otwórz hello RDP plików ponownie toosign toohello maszyny wirtualnej przy użyciu hello **BUILTIN\AzureAdmin** konta.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-349">Wait until hello virtual machine restarts, and then open hello RDP file again toosign in toohello virtual machine by using hello **BUILTIN\AzureAdmin** account.</span></span>
2. <span data-ttu-id="0a0ac-350">W **Menedżera serwera** kliknij **narzędzia** > **Zarządzanie komputerem**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-350">In **Server Manager** click **Tools** > **Computer Management**.</span></span>
   
    ![Zarządzanie komputerem](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC784630.png)
3. <span data-ttu-id="0a0ac-352">W hello **Zarządzanie komputerem** okna dialogowego rozwiń **lokalnych użytkowników i grup**, a następnie kliknij przycisk **grup**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-352">In hello **Computer Management** dialog box, expand **Local Users and Groups**, and then click **Groups**.</span></span>
4. <span data-ttu-id="0a0ac-353">Kliknij dwukrotnie hello **Administratorzy** grupy.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-353">Double-click hello **Administrators** group.</span></span>
5. <span data-ttu-id="0a0ac-354">W hello **właściwości Administratorzy** okna dialogowego kliknij hello **Dodaj** przycisku.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-354">In hello **Administrators Properties** dialog box, click hello **Add** button.</span></span>
6. <span data-ttu-id="0a0ac-355">Wprowadź nazwę użytkownika hello **CORP\Install**, a następnie kliknij przycisk **OK**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-355">Enter hello user **CORP\Install**, and then click **OK**.</span></span> <span data-ttu-id="0a0ac-356">Po wyświetleniu monitu o poświadczenia, użyj hello **AzureAdmin** konto z hello **Contoso! 000** hasła.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-356">When prompted for credentials, use hello **AzureAdmin** account with hello **Contoso!000** password.</span></span>
7. <span data-ttu-id="0a0ac-357">Kliknij przycisk **OK** tooclose hello **właściwości administratora** okno dialogowe.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-357">Click **OK** tooclose hello **Administrator Properties** dialog box.</span></span>

### <a name="add-hello-failover-clustering-feature-tooeach-virtual-machine"></a><span data-ttu-id="0a0ac-358">Dodaj hello klaster pracy awaryjnej, funkcji i maszynę wirtualną tooeach</span><span class="sxs-lookup"><span data-stu-id="0a0ac-358">Add hello Failover Clustering feature tooeach virtual machine</span></span>
1. <span data-ttu-id="0a0ac-359">W hello **Menedżera serwera** pulpitu nawigacyjnego, kliknij przycisk **Dodaj role i funkcje**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-359">In hello **Server Manager** dashboard, click **Add roles and features**.</span></span>
2. <span data-ttu-id="0a0ac-360">W hello **Kreatora dodawania ról i funkcji**, kliknij przycisk **dalej** do momentu uzyskania toohello **funkcje** strony.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-360">In hello **Add Roles and Features Wizard**, click **Next** until you get toohello **Features** page.</span></span>
3. <span data-ttu-id="0a0ac-361">Wybierz **klaster pracy awaryjnej**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-361">Select **Failover Clustering**.</span></span> <span data-ttu-id="0a0ac-362">Po wyświetleniu monitu, Dodaj inne funkcje zależne.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-362">When prompted, add other dependent features.</span></span>
   
    ![Dodaj funkcję Klaster pracy awaryjnej toovirtual maszyny](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC784631.png)
4. <span data-ttu-id="0a0ac-364">Kliknij przycisk **dalej**, a następnie kliknij przycisk **zainstalować** na powitania **potwierdzenie** strony.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-364">Click **Next**, and then click **Install** on hello **Confirmation** page.</span></span>
5. <span data-ttu-id="0a0ac-365">Gdy hello **klaster pracy awaryjnej** instalacja funkcji została zakończona, kliknij przycisk **Zamknij**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-365">When hello **Failover Clustering** feature installation is finished, click **Close**.</span></span>
6. <span data-ttu-id="0a0ac-366">Wyloguj hello maszyny wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-366">Sign out of hello virtual machine.</span></span>
7. <span data-ttu-id="0a0ac-367">Powtórz kroki hello w tej sekcji, dla wszystkich trzech serwerów: **ContosoWSFCNode**, **ContosoSQL1**, i **ContosoSQL2**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-367">Repeat hello steps in this section for all three servers: **ContosoWSFCNode**, **ContosoSQL1**, and **ContosoSQL2**.</span></span>

<span data-ttu-id="0a0ac-368">Witaj przydzielania maszyny wirtualnej programu SQL Server i uruchomiona, ale każda ma hello domyślne opcje dla programu SQL Server.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-368">hello SQL Server virtual machines are now provisioned and running, but each has hello default options for SQL Server.</span></span>

## <a name="create-hello-failover-cluster"></a><span data-ttu-id="0a0ac-369">Tworzenie klastra pracy awaryjnej hello</span><span class="sxs-lookup"><span data-stu-id="0a0ac-369">Create hello failover cluster</span></span>
<span data-ttu-id="0a0ac-370">W tej sekcji utworzysz hello klastra trybu failover, który będzie obsługiwał hello grupy dostępności, która zostanie utworzona później.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-370">In this section, you create hello failover cluster that will host hello availability group that you will create later.</span></span> <span data-ttu-id="0a0ac-371">W razie należy przeprowadzić powitania po tooeach hello trzech maszyn wirtualnych, które będą używane w klastrze pracy awaryjnej hello:</span><span class="sxs-lookup"><span data-stu-id="0a0ac-371">By now, you should have done hello following tooeach of hello three virtual machines that you will use in hello failover cluster:</span></span>

* <span data-ttu-id="0a0ac-372">Pełni hello maszyny wirtualnej platformy Azure</span><span class="sxs-lookup"><span data-stu-id="0a0ac-372">Fully provisioned hello virtual machine in Azure</span></span>
* <span data-ttu-id="0a0ac-373">Przyłączony do domeny toohello maszyny wirtualnej hello</span><span class="sxs-lookup"><span data-stu-id="0a0ac-373">Joined hello virtual machine toohello domain</span></span>
* <span data-ttu-id="0a0ac-374">Dodaje **CORP\Install** toohello lokalnej grupy administratorów</span><span class="sxs-lookup"><span data-stu-id="0a0ac-374">Added **CORP\Install** toohello local Administrators group</span></span>
* <span data-ttu-id="0a0ac-375">Dodano hello funkcji klastra pracy awaryjnej</span><span class="sxs-lookup"><span data-stu-id="0a0ac-375">Added hello failover clustering feature</span></span>

<span data-ttu-id="0a0ac-376">Wszystkie są wymagania wstępne na każdej maszynie wirtualnej zanim można było przyłączyć ją toohello klastra pracy awaryjnej.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-376">All these are prerequisites on each virtual machine before you can join it toohello failover cluster.</span></span>

<span data-ttu-id="0a0ac-377">Ponadto należy pamiętać, że hello sieci wirtualnej platformy Azure nie zachowują się w hello sam sposób jak sieci lokalnej.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-377">Also, note that hello Azure virtual network does not behave in hello same way as an on-premises network.</span></span> <span data-ttu-id="0a0ac-378">Należy toocreate hello klastra w hello w następującej kolejności:</span><span class="sxs-lookup"><span data-stu-id="0a0ac-378">You need toocreate hello cluster in hello following order:</span></span>

1. <span data-ttu-id="0a0ac-379">Utwórz w jednym węźle klastra z jednym węzłem (**ContosoSQL1**).</span><span class="sxs-lookup"><span data-stu-id="0a0ac-379">Create a single-node cluster on one node (**ContosoSQL1**).</span></span>
2. <span data-ttu-id="0a0ac-380">Modyfikowanie tooan adres IP klastra hello nieużywany adres IP (**10.10.2.101**).</span><span class="sxs-lookup"><span data-stu-id="0a0ac-380">Modify hello cluster IP address tooan unused IP address (**10.10.2.101**).</span></span>
3. <span data-ttu-id="0a0ac-381">Przełącz hello online nazwy klastra.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-381">Bring hello cluster name online.</span></span>
4. <span data-ttu-id="0a0ac-382">Dodaj hello innych węzłów (**ContosoSQL2** i **ContosoWSFCNode**).</span><span class="sxs-lookup"><span data-stu-id="0a0ac-382">Add hello other nodes (**ContosoSQL2** and **ContosoWSFCNode**).</span></span>

<span data-ttu-id="0a0ac-383">Użyj hello następujące kroki toocomplete hello zadań, które pełnej konfiguracji hello klastra.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-383">Use hello following steps toocomplete hello tasks that fully configure hello cluster.</span></span>

1. <span data-ttu-id="0a0ac-384">Witaj Otwórz plik RDP dla **ContosoSQL1**i zaloguj się przy użyciu konta domeny hello **CORP\Install**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-384">Open hello RDP file for **ContosoSQL1**, and sign in by using hello domain account **CORP\Install**.</span></span>
2. <span data-ttu-id="0a0ac-385">W hello **Menedżera serwera** pulpitu nawigacyjnego, kliknij przycisk **narzędzia** > **Menedżera klastra trybu Failover**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-385">In hello **Server Manager** dashboard, click **Tools** > **Failover Cluster Manager**.</span></span>
3. <span data-ttu-id="0a0ac-386">W okienku po lewej stronie powitania kliknij prawym przyciskiem myszy **Menedżera klastra trybu Failover**, a następnie kliknij przycisk **utworzyć klaster**, jak pokazano w hello następującego zrzutu ekranu.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-386">In hello left pane, right-click **Failover Cluster Manager**, and then click **Create a Cluster**, as shown in hello following screenshot.</span></span>
   
    ![Tworzenie klastra](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC784632.png)
4. <span data-ttu-id="0a0ac-388">W hello Kreatora tworzenia klastra, tworzenie klastra z jednym węzłem przechodzenie między stronami hello i przy użyciu ustawień hello w hello w poniższej tabeli:</span><span class="sxs-lookup"><span data-stu-id="0a0ac-388">In hello Create Cluster Wizard, create a one-node cluster by stepping through hello pages and using hello settings in hello following table:</span></span>
   
   | <span data-ttu-id="0a0ac-389">Strona</span><span class="sxs-lookup"><span data-stu-id="0a0ac-389">Page</span></span> | <span data-ttu-id="0a0ac-390">Ustawienia</span><span class="sxs-lookup"><span data-stu-id="0a0ac-390">Settings</span></span> |
   | --- | --- |
   | <span data-ttu-id="0a0ac-391">Przed rozpoczęciem</span><span class="sxs-lookup"><span data-stu-id="0a0ac-391">Before You Begin</span></span> |<span data-ttu-id="0a0ac-392">Użyj wartości domyślnych</span><span class="sxs-lookup"><span data-stu-id="0a0ac-392">Use defaults</span></span> |
   | <span data-ttu-id="0a0ac-393">Wybierz serwery</span><span class="sxs-lookup"><span data-stu-id="0a0ac-393">Select Servers</span></span> |<span data-ttu-id="0a0ac-394">Typ **ContosoSQL1** w **wprowadź nazwę serwera** i kliknij przycisk **Dodaj**</span><span class="sxs-lookup"><span data-stu-id="0a0ac-394">Type **ContosoSQL1** in **Enter server name** and click **Add**</span></span> |
   | <span data-ttu-id="0a0ac-395">Ostrzeżenie dotyczące sprawdzania poprawności</span><span class="sxs-lookup"><span data-stu-id="0a0ac-395">Validation Warning</span></span> |<span data-ttu-id="0a0ac-396">Wybierz **testów nr nie jest wymagana obsługa firmy Microsoft dla tego klastra, a w związku z tym nie ma toorun hello weryfikacji. Po kliknięciu przycisku dalej kontynuować tworzenie klastra hello**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-396">Select **No. I do not require support from Microsoft for this cluster, and therefore do not want toorun hello validation tests. When I click Next, continue creating hello cluster**.</span></span> |
   | <span data-ttu-id="0a0ac-397">Punkt dostępu do hello administrowanie klastra</span><span class="sxs-lookup"><span data-stu-id="0a0ac-397">Access Point for Administering hello Cluster</span></span> |<span data-ttu-id="0a0ac-398">Typ **klaster_1** w **nazwa klastra**</span><span class="sxs-lookup"><span data-stu-id="0a0ac-398">Type **Cluster1** in **Cluster Name**</span></span> |
   | <span data-ttu-id="0a0ac-399">Potwierdzenie</span><span class="sxs-lookup"><span data-stu-id="0a0ac-399">Confirmation</span></span> |<span data-ttu-id="0a0ac-400">Użyj wartości domyślnych, chyba że w przypadku korzystania z funkcji miejsca do magazynowania.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-400">Use defaults unless you are using Storage Spaces.</span></span> <span data-ttu-id="0a0ac-401">Zobacz ostrzeżenie hello poniżej tej tabeli.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-401">See hello warning following this table.</span></span> |
   
   > [!WARNING]
   > <span data-ttu-id="0a0ac-402">Jeśli używasz [miejsca do magazynowania](https://technet.microsoft.com/library/hh831739), który grupuje wiele dysków w pule magazynu, należy wyczyścić hello **Dodaj wszystkie odpowiednie magazyny toohello klaster** pole wyboru na powitania **potwierdzenia** strony.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-402">If you are using [Storage Spaces](https://technet.microsoft.com/library/hh831739), which groups multiple disks into storage pools, you must clear hello **Add all eligible storage toohello cluster** check box on hello **Confirmation** page.</span></span> <span data-ttu-id="0a0ac-403">Jeśli ta opcja nie zostanie wyczyszczone, hello wirtualnych dysków będzie można odłączyć podczas hello procesu klastrowania.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-403">If you do not clear this option, hello virtual disks will be detached during hello clustering process.</span></span> <span data-ttu-id="0a0ac-404">W związku z tym również nie pojawią się w Menedżerze dysków lub w Eksploratorze dopóki hello miejsca do magazynowania nie zostaną usunięte z klastra hello i ponownie nałożona za pomocą programu PowerShell.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-404">As a result, they will also not appear in Disk Manager or Explorer until hello storage spaces are removed from hello cluster and reattached by using PowerShell.</span></span>
   > 
   > 
5. <span data-ttu-id="0a0ac-405">W okienku po lewej stronie powitania rozwiń **Menedżera klastra trybu Failover**, a następnie kliknij przycisk **Cluster1.corp.contoso.com**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-405">In hello left pane, expand **Failover Cluster Manager**, and then click **Cluster1.corp.contoso.com**.</span></span>
6. <span data-ttu-id="0a0ac-406">W środkowym okienku hello przewiń w dół toohello **zasoby podstawowe klastra** sekcji, a następnie rozwiń węzeł hello **Name: Clutser1** szczegóły.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-406">In hello center pane, scroll down toohello **Cluster Core Resources** section, and expand hello **Name: Clutser1** details.</span></span> <span data-ttu-id="0a0ac-407">Powinny być widoczne oba hello **nazwa** i hello **adres IP** zasobów w hello **** stanu.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-407">You should see both hello **Name** and hello **IP Address** resources in hello **Failed** state.</span></span> <span data-ttu-id="0a0ac-408">Hello zasobu adresu IP nie może być przełączony w tryb online przypisane klastra hello hello sam adres IP hello komputerze, który jest zduplikowany adres.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-408">hello IP address resource cannot be brought online because hello cluster is assigned hello same IP address as hello machine itself, which is a duplicate address.</span></span>
7. <span data-ttu-id="0a0ac-409">Kliknij prawym przyciskiem myszy hello nie powiodło się **adres IP** zasobów, a następnie kliknij przycisk **właściwości**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-409">Right-click hello failed **IP Address** resource, and then click **Properties**.</span></span>
   
    ![Właściwości klastra](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC784633.png)
8. <span data-ttu-id="0a0ac-411">Wybierz **statyczny adres IP**, określ **10.10.2.101** w hello **adres** polu tekstowym, a następnie kliknij przycisk **OK**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-411">Select **Static IP Address**, specify **10.10.2.101** in hello **Address** text box, and then click **OK**.</span></span>
9. <span data-ttu-id="0a0ac-412">W hello **zasoby podstawowe klastra** sekcji, kliknij prawym przyciskiem myszy **Name: Klaster1**, a następnie kliknij przycisk **przejdź do trybu Online**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-412">In hello **Cluster Core Resources** section, right-click **Name: Cluster1**, and then click **Bring Online**.</span></span> <span data-ttu-id="0a0ac-413">Zaczekaj, aż oba zasoby są w trybie online.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-413">Wait until both resources are online.</span></span> <span data-ttu-id="0a0ac-414">Zasób Nazwa klastra hello przejściu do trybu online, serwerem kontrolera hello zostaje zaktualizowany przy użyciu nowego konta komputerów usługi Active Directory.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-414">When hello cluster name resource comes online, hello DC server is updated with a new Active Directory computer account.</span></span> <span data-ttu-id="0a0ac-415">To konto usługi Active Directory będzie używana później grupy dostępności hello toorun klastrowanej usługi.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-415">This Active Directory account will be used toorun hello availability group clustered service later.</span></span>
10. <span data-ttu-id="0a0ac-416">Dodaj hello pozostałych węzłów klastra toohello.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-416">Add hello remaining nodes toohello cluster.</span></span> <span data-ttu-id="0a0ac-417">W drzewie przeglądarki hello, kliknij prawym przyciskiem myszy **Cluster1.corp.contoso.com**, a następnie kliknij przycisk **Dodaj węzeł**, jak pokazano w hello następującego zrzutu ekranu.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-417">In hello browser tree, right-click **Cluster1.corp.contoso.com**, and then click **Add Node**, as shown in hello following screenshot.</span></span>
    
     ![Dodawanie węzła klastra toohello](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC784634.png)
11. <span data-ttu-id="0a0ac-419">W hello **Kreatora dodawania węzłów**, kliknij przycisk **dalej** na powitania **Wybieranie serwerów** Dodaj **ContosoSQL2** i **ContosoWSFCNode**  toohello listy, wpisując nazwę serwera hello **wprowadź nazwę serwera** , a następnie klikając polecenie **Dodaj**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-419">In hello **Add Node Wizard**, click **Next** on hello **Select Servers** page, add **ContosoSQL2** and **ContosoWSFCNode** toohello list by typing hello server name in **Enter server name** and then clicking **Add**.</span></span> <span data-ttu-id="0a0ac-420">Gdy wszystko będzie gotowe, kliknij przycisk **dalej**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-420">When you are done, click **Next**.</span></span>
12. <span data-ttu-id="0a0ac-421">Na powitania **ostrzeżenie dotyczące sprawdzania poprawności** kliknij przycisk **nr**, mimo że w środowisku produkcyjnym, należy wykonać testy weryfikacyjne hello.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-421">On hello **Validation Warning** page, click **No**, although in a production scenario, you should perform hello validation tests.</span></span> <span data-ttu-id="0a0ac-422">Następnie kliknij przycisk **Dalej**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-422">Then, click **Next**.</span></span>
13. <span data-ttu-id="0a0ac-423">Na powitania **potwierdzenie** kliknij przycisk **dalej** tooadd hello węzłów.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-423">On hello **Confirmation** page, click **Next** tooadd hello nodes.</span></span>
    
    > [!WARNING]
    > <span data-ttu-id="0a0ac-424">Jeśli używasz [miejsca do magazynowania](https://technet.microsoft.com/library/hh831739), który grupuje wiele dysków w pule magazynu, należy wyczyścić hello **Dodaj wszystkie odpowiednie magazyny toohello klaster** pole wyboru.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-424">If you are using [Storage Spaces](https://technet.microsoft.com/library/hh831739), which groups multiple disks into storage pools, you must clear hello **Add all eligible storage toohello cluster** check box.</span></span> <span data-ttu-id="0a0ac-425">Jeśli ta opcja nie zostanie wyczyszczone, hello wirtualnych dysków będzie można odłączyć podczas hello procesu klastrowania.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-425">If you do not clear this option, hello virtual disks will be detached during hello clustering process.</span></span> <span data-ttu-id="0a0ac-426">W związku z tym również nie pojawi się w Menedżerze dysków lub w Eksploratorze dopóki hello miejsca do magazynowania są usuwane z klastra i ponownie nałożona przy użyciu programu PowerShell.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-426">As a result, they will also not appear in Disk Manager or Explorer until hello storage spaces are removed from cluster and reattached using PowerShell.</span></span>
    > 
    > 
14. <span data-ttu-id="0a0ac-427">Po dodaniu klastra toohello hello węzłów, kliknij przycisk **Zakończ**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-427">After hello nodes are added toohello cluster, click **Finish**.</span></span> <span data-ttu-id="0a0ac-428">Menedżer klastra trybu failover powinna zostać wyświetlona, czy klaster ma trzy węzły i wyświetlić je w hello **węzłów** kontenera.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-428">Failover Cluster Manager should now show that your cluster has three nodes and list them in hello **Nodes** container.</span></span>
15. <span data-ttu-id="0a0ac-429">Wyloguj hello sesji usług pulpitu zdalnego.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-429">Sign out of hello remote desktop session.</span></span>

## <a name="prepare-hello-sql-server-instances-for-availability-groups"></a><span data-ttu-id="0a0ac-430">Przygotowanie hello wystąpień programu SQL Server do grupy dostępności</span><span class="sxs-lookup"><span data-stu-id="0a0ac-430">Prepare hello SQL Server instances for availability groups</span></span>
<span data-ttu-id="0a0ac-431">W tej sekcji będziesz wykonywać hello na obu **ContosoSQL1** i **contosoSQL2**:</span><span class="sxs-lookup"><span data-stu-id="0a0ac-431">In this section, you will do hello following on both **ContosoSQL1** and **contosoSQL2**:</span></span>

* <span data-ttu-id="0a0ac-432">Dodaj dane logowania dla **NT AUTHORITY\System** niezbędne uprawnienia ustawienie toohello domyślnego wystąpienia programu SQL Server.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-432">Add a login for **NT AUTHORITY\System** with necessary permissions set toohello default SQL Server instance.</span></span>
* <span data-ttu-id="0a0ac-433">Dodaj **CORP\Install** jako wystąpienie programu SQL Server domyślne toohello roli sysadmin.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-433">Add **CORP\Install** as a sysadmin role toohello default SQL Server instance.</span></span>
* <span data-ttu-id="0a0ac-434">Otwórz zaporę Windows hello dla dostępu zdalnego programu SQL Server.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-434">Open hello firewall for remote access of SQL Server.</span></span>
* <span data-ttu-id="0a0ac-435">Włącz hello zawsze włączone grupy funkcji dostępności.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-435">Enable hello Always On availability groups feature.</span></span>
* <span data-ttu-id="0a0ac-436">Zmienianie konta usługi programu SQL Server hello zbyt**CORP\SQLSvc1** i **CORP\SQLSvc2**odpowiednio.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-436">Change hello SQL Server service account too**CORP\SQLSvc1** and **CORP\SQLSvc2**, respectively.</span></span>

<span data-ttu-id="0a0ac-437">Te akcje można wykonać w dowolnej kolejności.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-437">These actions can be performed in any order.</span></span> <span data-ttu-id="0a0ac-438">Niemniej jednak hello następujące kroki przeprowadzi je w kolejności.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-438">Nevertheless, hello following steps will walk through them in order.</span></span> <span data-ttu-id="0a0ac-439">Wykonaj kroki hello zarówno **ContosoSQL1** i **ContosoSQL2**:</span><span class="sxs-lookup"><span data-stu-id="0a0ac-439">Follow hello steps for both **ContosoSQL1** and **ContosoSQL2**:</span></span>

1. <span data-ttu-id="0a0ac-440">Jeśli nie nastąpiło wylogowanie hello sesji usług pulpitu zdalnego dla maszyny wirtualnej hello, należy to zrobić teraz.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-440">If you have not signed out of hello remote desktop session for hello virtual machine, do so now.</span></span>
2. <span data-ttu-id="0a0ac-441">Pliki otwarte hello RDP **ContosoSQL1** i **ContosoSQL2**i zaloguj się jako **BUILTIN\AzureAdmin**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-441">Open hello RDP files for **ContosoSQL1** and **ContosoSQL2**, and sign in as **BUILTIN\AzureAdmin**.</span></span>
3. <span data-ttu-id="0a0ac-442">Dodaj **NT AUTHORITY\System** toohello logowania programu SQL Server z niezbędne uprawnienia.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-442">Add **NT AUTHORITY\System** toohello SQL Server logins with necessary permissions.</span></span> <span data-ttu-id="0a0ac-443">Otwórz program **SQL Server Management Studio**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-443">Open **SQL Server Management Studio**.</span></span>
4. <span data-ttu-id="0a0ac-444">Kliknij przycisk **Connect** programu tooconnect toohello domyślnego wystąpienia programu SQL Server.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-444">Click **Connect** tooconnect toohello default SQL Server instance.</span></span>
5. <span data-ttu-id="0a0ac-445">W **Eksplorator obiektów**, rozwiń węzeł **zabezpieczeń**, a następnie rozwiń węzeł **logowania**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-445">In **Object Explorer**, expand **Security**, and then expand **Logins**.</span></span>
6. <span data-ttu-id="0a0ac-446">Kliknij prawym przyciskiem myszy hello **NT AUTHORITY\System** logowania, a następnie kliknij przycisk **właściwości**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-446">Right-click hello **NT AUTHORITY\System** login, and then click **Properties**.</span></span>
7. <span data-ttu-id="0a0ac-447">Na powitania **zabezpieczanych obiektów** stronie powitania serwera lokalnego, wybierz pozycję **Grant** dla hello następujących uprawnień, a następnie kliknij przycisk **OK**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-447">On hello **Securables** page, for hello local server, select **Grant** for hello following permissions, and then click **OK**.</span></span>
   
   * <span data-ttu-id="0a0ac-448">Instrukcja ALTER żadnej grupy dostępności</span><span class="sxs-lookup"><span data-stu-id="0a0ac-448">Alter any availability group</span></span>
   * <span data-ttu-id="0a0ac-449">Połączenia SQL</span><span class="sxs-lookup"><span data-stu-id="0a0ac-449">Connect SQL</span></span>
   * <span data-ttu-id="0a0ac-450">Widok stanu serwera</span><span class="sxs-lookup"><span data-stu-id="0a0ac-450">View server state</span></span>
8. <span data-ttu-id="0a0ac-451">Dodaj **CORP\Install** jako **sysadmin** wystąpienia programu SQL Server domyślne toohello roli.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-451">Add **CORP\Install** as a **sysadmin** role toohello default SQL Server instance.</span></span> <span data-ttu-id="0a0ac-452">W **Eksplorator obiektów**, kliknij prawym przyciskiem myszy **logowania**, a następnie kliknij przycisk **nowe dane logowania**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-452">In **Object Explorer**, right-click **Logins**, and then click **New Login**.</span></span>
9. <span data-ttu-id="0a0ac-453">Typ **CORP\Install** w **nazwa logowania**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-453">Type **CORP\Install** in **Login name**.</span></span>
10. <span data-ttu-id="0a0ac-454">Na powitania **ról serwera** wybierz pozycję **sysadmin**, a następnie kliknij przycisk **OK**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-454">On hello **Server Roles** page, select **sysadmin**, and then click **OK**.</span></span> <span data-ttu-id="0a0ac-455">Po utworzeniu hello logowania, można to sprawdzić rozwijając **logowania** w **Eksplorator obiektów**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-455">After you create hello login, you can see it by expanding **Logins** in **Object Explorer**.</span></span>
11. <span data-ttu-id="0a0ac-456">reguły zapory dla programu SQL Server na powitania toocreate **Start** ekranu, otwórz **Zapora systemu Windows z zabezpieczeniami zaawansowanymi**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-456">toocreate a firewall rule for SQL Server, on hello **Start** screen, open **Windows Firewall with Advanced Security**.</span></span>
12. <span data-ttu-id="0a0ac-457">Wybierz w okienku po lewej stronie powitania **reguły ruchu przychodzącego**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-457">In hello left pane, select **Inbound Rules**.</span></span> <span data-ttu-id="0a0ac-458">W okienku po prawej stronie powitania, kliknij przycisk **nową regułę**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-458">In hello right pane, click **New Rule**.</span></span>
13. <span data-ttu-id="0a0ac-459">Na powitania **typ reguły** kliknij przycisk **Program** > **dalej**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-459">On hello **Rule Type** page, click **Program** > **Next**.</span></span>
14. <span data-ttu-id="0a0ac-460">Na powitania **Program** wybierz pozycję **ta ścieżka programu**, typ **%ProgramFiles%\Microsoft SQL Server\MSSQL12. MSSQLSERVER\MSSQL\Binn\sqlservr.exe** w hello pola tekstowego, a następnie kliknij przycisk **dalej**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-460">On hello **Program** page, select **This program path**, type **%ProgramFiles%\Microsoft SQL Server\MSSQL12.MSSQLSERVER\MSSQL\Binn\sqlservr.exe** in hello text box, and then click **Next**.</span></span> <span data-ttu-id="0a0ac-461">Jeśli po te kierunkach, ale przy użyciu programu SQL Server 2012, katalog programu SQL Server hello jest **MSSQL11. MSSQLSERVER**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-461">If you are following these directions but using SQL Server 2012, hello SQL Server directory is **MSSQL11.MSSQLSERVER**.</span></span>
15. <span data-ttu-id="0a0ac-462">Na powitania **akcji** Zachowaj **przyłączenia hello** zaznaczone, a następnie kliknij przycisk **dalej**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-462">On hello **Action** page, keep **Allow hello connection** selected, and then click **Next**.</span></span>
16. <span data-ttu-id="0a0ac-463">Na powitania **profilu** zaakceptować ustawienia domyślne hello, a następnie kliknij pozycję **dalej**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-463">On hello **Profile** page, accept hello default settings, and then click **Next**.</span></span>
17. <span data-ttu-id="0a0ac-464">Na powitania **nazwa** Określ nazwę reguły, takie jak **programu SQL Server (reguły programu)**, w hello **nazwa** tekstu, a następnie kliknij przycisk **Zakończ**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-464">On hello **Name** page, specify a rule name, such as **SQL Server (Program Rule)**, in hello **Name** text box, then click **Finish**.</span></span>
18. <span data-ttu-id="0a0ac-465">Witaj tooenable **zawsze włączonych grup dostępności** funkcji na powitania **Start** ekranu, otwórz **SQL Server Configuration Manager**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-465">tooenable hello **Always On Availability Groups** feature, on hello **Start** screen, open **SQL Server Configuration Manager**.</span></span>
19. <span data-ttu-id="0a0ac-466">W drzewie przeglądarki hello, kliknij przycisk **usług SQL Server**, kliknij prawym przyciskiem myszy hello **programu SQL Server (MSSQLSERVER)** usługi, a następnie kliknij przycisk **właściwości**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-466">In hello browser tree, click **SQL Server Services**, right-click hello **SQL Server (MSSQLSERVER)** service, and then click **Properties**.</span></span>
20. <span data-ttu-id="0a0ac-467">Kliknij przycisk hello **zawsze na wysoką dostępność** wybierz opcję **Włącz zawsze włączone grupy dostępności**, jak pokazano w hello następujący zrzut ekranu, a następnie kliknij przycisk **Zastosuj**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-467">Click hello **Always On High Availability** tab, select **Enable Always On Availability Groups**, as shown in hello following screenshot, and then click **Apply**.</span></span> <span data-ttu-id="0a0ac-468">Kliknij przycisk **OK** w hello — okno dialogowe, a nie zamykaj hello **właściwości** jeszcze — okno dialogowe.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-468">Click **OK** in hello dialog box, and do not close hello **Properties** dialog box yet.</span></span> <span data-ttu-id="0a0ac-469">Po zmianie konta usługi hello zostanie uruchomiony ponownie hello usługi SQL Server.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-469">You will restart hello SQL Server service after you change hello service account.</span></span>
    
     ![Włącz zawsze na grupy dostępności](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC665520.gif)
21. <span data-ttu-id="0a0ac-471">toochange hello konto usługi programu SQL Server, kliknij przycisk hello **logowanie** , wpisz **CORP\SQLSvc1** (dla **ContosoSQL1**) lub **CORP\SQLSvc2** () Aby uzyskać **ContosoSQL2**) w **nazwa konta**, wprowadź i Potwierdź hasło hello, a następnie kliknij **OK**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-471">toochange hello SQL Server service account, click hello **Log On** tab, type **CORP\SQLSvc1** (for **ContosoSQL1**) or **CORP\SQLSvc2** (for **ContosoSQL2**) in **Account Name**, fill in and confirm hello password, and then click **OK**.</span></span>
22. <span data-ttu-id="0a0ac-472">Okno dialogowe hello, który zostanie otwarty, kliknij przycisk **tak** toorestart hello usługi SQL Server.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-472">In hello dialog box that opens, click **Yes** toorestart hello SQL Server service.</span></span> <span data-ttu-id="0a0ac-473">Po ponownym uruchomieniu hello usługi SQL Server, zmiany wprowadzone w hello **właściwości** obowiązują okno dialogowe.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-473">After hello SQL Server service restarts, changes that you made in hello **Properties** dialog box are effective.</span></span>
23. <span data-ttu-id="0a0ac-474">Wyloguj hello maszyn wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-474">Sign out of hello virtual machines.</span></span>

## <a name="create-hello-availability-group"></a><span data-ttu-id="0a0ac-475">Utwórz grupę dostępności hello</span><span class="sxs-lookup"><span data-stu-id="0a0ac-475">Create hello availability group</span></span>
<span data-ttu-id="0a0ac-476">Wszystko jest teraz gotowy tooconfigure grupy dostępności.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-476">You are now ready tooconfigure an availability group.</span></span> <span data-ttu-id="0a0ac-477">Poniżej znajdują się zarys będzie wykonywać:</span><span class="sxs-lookup"><span data-stu-id="0a0ac-477">Below is an outline of what you will do:</span></span>

* <span data-ttu-id="0a0ac-478">Utwórz nową bazę danych (**MyDB1**) na **ContosoSQL1**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-478">Create a new database (**MyDB1**) on **ContosoSQL1**.</span></span>
* <span data-ttu-id="0a0ac-479">Przełączyć pełnej kopii zapasowej i kopii zapasowej dziennika transakcji bazy danych hello.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-479">Take both a full backup and a transaction log backup of hello database.</span></span>
* <span data-ttu-id="0a0ac-480">Przywróć hello pełne i kopii zapasowych dziennika zbyt**ContosoSQL2** z hello **NORECOVERY** opcji.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-480">Restore hello full and log backups too**ContosoSQL2** with hello **NORECOVERY** option.</span></span>
* <span data-ttu-id="0a0ac-481">Utwórz grupę dostępności hello (**AG1**) z zatwierdzanie synchroniczne, automatycznej pracy awaryjnej i do odczytu replikach pomocniczych.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-481">Create hello availability group (**AG1**) with synchronous commit, automatic failover, and readable secondary replicas.</span></span>

### <a name="create-hello-mydb1-database-on-contososql1"></a><span data-ttu-id="0a0ac-482">Utwórz bazę danych MyDB1 hello ContosoSQL1</span><span class="sxs-lookup"><span data-stu-id="0a0ac-482">Create hello MyDB1 database on ContosoSQL1</span></span>
1. <span data-ttu-id="0a0ac-483">Jeśli użytkownik ma już niepodpisana poza hello sesji pulpitu zdalnego dla **ContosoSQL1** i **ContosoSQL2**, zrób to teraz.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-483">If you have not already signed out of hello remote desktop sessions for **ContosoSQL1** and **ContosoSQL2**, do so now.</span></span>
2. <span data-ttu-id="0a0ac-484">Witaj Otwórz plik RDP dla **ContosoSQL1**i zaloguj się jako **CORP\Install**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-484">Open hello RDP file for **ContosoSQL1**, and sign in as **CORP\Install**.</span></span>
3. <span data-ttu-id="0a0ac-485">W **Eksploratora plików**w obszarze **C:\\**, Utwórz katalog o nazwie **kopii zapasowej**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-485">In **File Explorer**, under **C:\\**, create a directory named **backup**.</span></span> <span data-ttu-id="0a0ac-486">Będzie zużywać tooback tego katalogu i przywracania bazy danych.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-486">You will use this directory tooback up and restore your database.</span></span>
4. <span data-ttu-id="0a0ac-487">Kliknij prawym przyciskiem myszy nowy katalog hello, wskaż zbyt**udostępniać**, a następnie kliknij przycisk **określone osoby**, jak pokazano w hello następującego zrzutu ekranu.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-487">Right-click hello new directory, point too**Share with**, and then click **Specific people**, as shown in hello following screenshot.</span></span>
   
    ![Tworzenie folderu kopii zapasowej](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC665521.gif)
5. <span data-ttu-id="0a0ac-489">Dodaj **CORP\SQLSvc1**, a następnie nadaj hello **odczytu/zapisu** uprawnienia.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-489">Add **CORP\SQLSvc1**, and then give it hello **Read/Write** permission.</span></span> <span data-ttu-id="0a0ac-490">Dodaj **CORP\SQLSvc2**i nadaj mu po hello **odczytu** uprawnienia, jak pokazano w hello następujący zrzut ekranu, a następnie kliknij przycisk **udziału**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-490">Add **CORP\SQLSvc2**, and then give it hello **Read** permission, as shown in hello following screenshot, and then click **Share**.</span></span> <span data-ttu-id="0a0ac-491">Po zakończeniu procesu udostępniania plików powitania kliknij **gotowe**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-491">After hello file-sharing process is finished, click **Done**.</span></span>
   
    ![Udzielanie uprawnień dla folderu kopii zapasowej](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC665522.gif)
6. <span data-ttu-id="0a0ac-493">toocreate hello bazy danych z hello **Start** menu, otwórz **programu SQL Server Management Studio**, a następnie kliknij przycisk **Connect** programu tooconnect toohello domyślnego wystąpienia programu SQL Server.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-493">toocreate hello database, from hello **Start** menu, open **SQL Server Management Studio**, and then click **Connect** tooconnect toohello default SQL Server instance.</span></span>
7. <span data-ttu-id="0a0ac-494">W **Eksplorator obiektów**, kliknij prawym przyciskiem myszy **baz danych**, a następnie kliknij przycisk **nową bazę danych**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-494">In **Object Explorer**, right-click **Databases**, and then click **New Database**.</span></span>
8. <span data-ttu-id="0a0ac-495">W **Nazwa bazy danych**, typ **MyDB1**, a następnie kliknij przycisk **OK**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-495">In **Database name**, type **MyDB1**, and then click **OK**.</span></span>

### <a name="make-a-full-backup-of-mydb1-and-restore-it-on-contososql2"></a><span data-ttu-id="0a0ac-496">Utwórz kopię zapasową MyDB1 pełne i przywróć ją na ContosoSQL2</span><span class="sxs-lookup"><span data-stu-id="0a0ac-496">Make a full backup of MyDB1 and restore it on ContosoSQL2</span></span>
1. <span data-ttu-id="0a0ac-497">toomake hello pełną kopię zapasową bazy danych w **Eksplorator obiektów**, rozwiń węzeł **baz danych**, kliknij prawym przyciskiem myszy **MyDB1**, punktu zbyt**zadania**, i następnie kliknij przycisk **kopię zapasową**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-497">toomake a full backup of hello database, in **Object Explorer**, expand **Databases**, right-click **MyDB1**, point too**Tasks**, and then click **Back Up**.</span></span>
2. <span data-ttu-id="0a0ac-498">W hello **źródła** sekcji, Zachowaj **typ kopii zapasowej** ustawić także**pełne**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-498">In hello **Source** section, keep **Backup type** set too**Full**.</span></span> <span data-ttu-id="0a0ac-499">W hello **docelowego** kliknij **Usuń** tooremove hello domyślna ścieżka do pliku dla pliku kopii zapasowej hello.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-499">In hello **Destination** section, click **Remove** tooremove hello default file path for hello backup file.</span></span>
3. <span data-ttu-id="0a0ac-500">W hello **docelowego** kliknij **Dodaj**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-500">In hello **Destination** section, click **Add**.</span></span>
4. <span data-ttu-id="0a0ac-501">W hello **nazwę pliku** polu tekstowym  **\\ContosoSQL1\backup\MyDB1.bak**, kliknij przycisk **OK**, a następnie kliknij przycisk **OK** ponownie tooback hello bazy danych.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-501">In hello **File name** text box, type **\\ContosoSQL1\backup\MyDB1.bak**, click **OK**, and then click **OK** again tooback up hello database.</span></span> <span data-ttu-id="0a0ac-502">Po zakończeniu operacji tworzenia kopii zapasowej hello, kliknij przycisk **OK** ponownie tooclose powitalne okno dialogowe.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-502">When hello backup operation finishes, click **OK** again tooclose hello dialog box.</span></span>
5. <span data-ttu-id="0a0ac-503">toomake transakcji dziennika kopii zapasowej bazy danych hello, **Eksplorator obiektów**, rozwiń węzeł **baz danych**, kliknij prawym przyciskiem myszy **MyDB1**, punktu zbyt**zadania**, a następnie kliknij przycisk **kopię zapasową**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-503">toomake a transaction log backup of hello database, in **Object Explorer**, expand **Databases**, right-click **MyDB1**, point too**Tasks**, and then click **Back Up**.</span></span>
6. <span data-ttu-id="0a0ac-504">W **typ kopii zapasowej**, wybierz pozycję **dziennika transakcji**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-504">In **Backup type**, select **Transaction Log**.</span></span> <span data-ttu-id="0a0ac-505">Zachowaj hello **docelowego** toohello zestaw ścieżki, co określony wcześniej plik, a następnie kliknij przycisk **OK**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-505">Keep hello **Destination** file path set toohello one you specified earlier, and then click **OK**.</span></span> <span data-ttu-id="0a0ac-506">Po zakończeniu operacji tworzenia kopii zapasowej hello, kliknij przycisk **OK** ponownie.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-506">After hello backup operation finishes, click **OK** again.</span></span>
7. <span data-ttu-id="0a0ac-507">hello toorestore pełne i dziennika transakcji, kopie zapasowe **ContosoSQL2**, otwórz plik hello RDP **ContosoSQL2**i zaloguj się jako **CORP\Install**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-507">toorestore hello full and transaction log backups on **ContosoSQL2**, open hello RDP file for **ContosoSQL2**, and sign in as **CORP\Install**.</span></span> <span data-ttu-id="0a0ac-508">Pozostaw hello sesji usług pulpitu zdalnego dla **ContosoSQL1** otworzyć.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-508">Leave hello remote desktop session for **ContosoSQL1** open.</span></span>
8. <span data-ttu-id="0a0ac-509">Z hello **Start** menu, otwórz **programu SQL Server Management Studio**, a następnie kliknij przycisk **Connect** programu tooconnect toohello domyślnego wystąpienia programu SQL Server.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-509">From hello **Start** menu, open **SQL Server Management Studio**, and then click **Connect** tooconnect toohello default SQL Server instance.</span></span>
9. <span data-ttu-id="0a0ac-510">W **Eksplorator obiektów**, kliknij prawym przyciskiem myszy **baz danych**, a następnie kliknij przycisk **Restore Database**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-510">In **Object Explorer**, right-click **Databases**, and then click **Restore Database**.</span></span>
10. <span data-ttu-id="0a0ac-511">W hello **źródła** zaznacz **urządzenia**i kliknij przycisk wielokropka hello **...**</span><span class="sxs-lookup"><span data-stu-id="0a0ac-511">In hello **Source** section, select **Device**, and click hello ellipsis **…**</span></span> <span data-ttu-id="0a0ac-512">Dodaj...</span><span class="sxs-lookup"><span data-stu-id="0a0ac-512">button.</span></span>
11. <span data-ttu-id="0a0ac-513">W **wybierz urządzenia kopii zapasowej**, kliknij przycisk **Dodaj**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-513">In **Select backup devices**, click **Add**.</span></span>
12. <span data-ttu-id="0a0ac-514">W **lokalizacja pliku kopii zapasowej**, typ  **\\ContosoSQL1\backup**, kliknij przycisk **Odśwież**, wybierz pozycję **MyDB1.bak**, kliknij przycisk **OK**, a następnie kliknij przycisk **OK** ponownie.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-514">In **Backup file location**, type **\\ContosoSQL1\backup**, click **Refresh**, select **MyDB1.bak**, click **OK**, and then click **OK** again.</span></span> <span data-ttu-id="0a0ac-515">Powinien zostać wyświetlony hello pełnej kopii zapasowej i kopii zapasowej dziennika hello w hello **toorestore zestawy kopii zapasowych** okienka.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-515">You should now see hello full backup and hello log backup in hello **Backup sets toorestore** pane.</span></span>
13. <span data-ttu-id="0a0ac-516">Przejdź toohello **opcje** wybierz pozycję **PRZYWRÓCIĆ WITH NORECOVERY** w **stan odzyskiwania**, a następnie kliknij przycisk **OK** toorestore hello w bazie danych.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-516">Go toohello **Options** page, select **RESTORE WITH NORECOVERY** in **Recovery state**, and then click **OK** toorestore hello database.</span></span> <span data-ttu-id="0a0ac-517">Po hello przywrócić zakończenie operacji, kliknij przycisk **OK**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-517">After hello restore operation finishes, click **OK**.</span></span>

### <a name="create-hello-availability-group"></a><span data-ttu-id="0a0ac-518">Utwórz grupę dostępności hello</span><span class="sxs-lookup"><span data-stu-id="0a0ac-518">Create hello availability group</span></span>
1. <span data-ttu-id="0a0ac-519">Przejdź kopii toohello sesji usług pulpitu zdalnego dla **ContosoSQL1**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-519">Go back toohello remote desktop session for **ContosoSQL1**.</span></span> <span data-ttu-id="0a0ac-520">W **Eksplorator obiektów** w programu SQL Server Management Studio, kliknij prawym przyciskiem myszy **zawsze na wysoką dostępność**, a następnie kliknij przycisk **Kreatora nowej grupy dostępności**, jak pokazano w hello Poniższy zrzut ekranu.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-520">In **Object Explorer** in SQL Server Management Studio, right-click **Always On High Availability**, and then click **New Availability Group Wizard**, as shown in hello following screenshot.</span></span>
   
    ![Uruchom Kreatora nowej grupy dostępności](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC665523.gif)
2. <span data-ttu-id="0a0ac-522">Na powitania **wprowadzenie** kliknij przycisk **dalej**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-522">On hello **Introduction** page, click **Next**.</span></span> <span data-ttu-id="0a0ac-523">Na powitania **Określ nazwę grupy dostępności** wpisz **AG1** w **Nazwa grupy dostępności**, następnie kliknij przycisk **dalej** ponownie.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-523">On hello **Specify Availability Group Name** page, type **AG1** in **Availability group name**, then click **Next** again.</span></span>
   
    ![Kreatora nowej grupy dostępności, nazwa grupy dostępności Określ](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC665524.gif)
3. <span data-ttu-id="0a0ac-525">Na powitania **wybierz baz danych** wybierz **MyDB1**, a następnie kliknij przycisk **dalej**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-525">On hello **Select Databases** page, select **MyDB1**, and then click **Next**.</span></span> <span data-ttu-id="0a0ac-526">Hello bazy danych spełnia wymagania wstępne powitania dla grupy dostępności, ponieważ co najmniej jedną pełną kopię zapasową wykonano na powitania zamierzone repliki podstawowej.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-526">hello database meets hello prerequisites for an availability group because you have taken at least one full backup on hello intended primary replica.</span></span>
   
    ![Kreatora nowej grupy Availabilty, wybierz opcję baz danych](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC665525.gif)
4. <span data-ttu-id="0a0ac-528">na powitania **Określanie replik** kliknij przycisk **dodać repliki**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-528">on hello **Specify Replicas** page, click **Add Replica**.</span></span>
   
    ![Kreatora nowej grupy Availabilty, określ repliki](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC665526.gif)
5. <span data-ttu-id="0a0ac-530">W hello **połączyć tooServer** okno dialogowe, typ **ContosoSQL2** w **nazwy serwera**, a następnie kliknij przycisk **Connect**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-530">In hello **Connect tooServer** dialog box, type **ContosoSQL2** in **Server name**, and then click **Connect**.</span></span>
   
    ![Kreatora nowej grupy Availabilty, Connect tooserver](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC665527.gif)
6. <span data-ttu-id="0a0ac-532">Wróć na powitania **Określanie replik** strony, powinien zostać wyświetlony **ContosoSQL2** na liście **replik dostępności**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-532">Back on hello **Specify Replicas** page, you should now see **ContosoSQL2** listed in **Available Replicas**.</span></span> <span data-ttu-id="0a0ac-533">Konfigurowanie replik hello, jak pokazano w hello następującego zrzutu ekranu.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-533">Configure hello replicas as shown in hello following screenshot.</span></span> <span data-ttu-id="0a0ac-534">Gdy skończysz, kliknij przycisk **dalej**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-534">When you are finished, click **Next**.</span></span>
   
    ![Kreatora nowej grupy Availabilty, określ repliki (Zakończ)](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC665528.gif)
7. <span data-ttu-id="0a0ac-536">Na powitania **Wybierz początkową synchronizację danych** wybierz **tylko Dołącz**, a następnie kliknij przycisk **dalej**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-536">On hello **Select Initial Data Synchronization** page, select **Join only**, and then click **Next**.</span></span> <span data-ttu-id="0a0ac-537">Już wykonanego synchronizacji danych ręcznie wprowadzone hello transakcji i pełne kopie zapasowe na **ContosoSQL1** i przywrócić je na **ContosoSQL2**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-537">You already performed data synchronization manually when you made hello full and transaction backups on **ContosoSQL1** and restored them on **ContosoSQL2**.</span></span> <span data-ttu-id="0a0ac-538">Można wybrać nie tooperform hello operacji tworzenia kopii zapasowej i przywracania bazy danych i zamiast tego wybrać **pełne** toolet powitania w Kreatorze nowej grupy dostępności przeprowadzenia synchronizacji danych należy.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-538">You can choose not tooperform hello backup and restore operations on your database and instead select **Full** toolet hello New Availability Group Wizard perform data synchronization for you.</span></span> <span data-ttu-id="0a0ac-539">Jednak zaleca się tę opcję dla bardzo dużych baz danych, które znajdują się w niektóre przedsiębiorstwa.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-539">However, we do not recommend this option for very large databases that are found in some enterprises.</span></span>
   
    ![Kreator nowej grupy Availabilty, wybierz początkową synchronizację danych](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC665529.gif)
8. <span data-ttu-id="0a0ac-541">Na powitania **weryfikacji** kliknij przycisk **dalej**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-541">On hello **Validation** page, click **Next**.</span></span> <span data-ttu-id="0a0ac-542">Ta strona powinna wyglądać podobnie toohello następującego zrzutu ekranu.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-542">This page should look similar toohello following screenshot.</span></span> <span data-ttu-id="0a0ac-543">Brak ostrzeżenia dla konfiguracji odbiornika hello ponieważ odbiornik grupy dostępności nie zostały skonfigurowane.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-543">There is a warning for hello listener configuration because you have not configured an availability group listener.</span></span> <span data-ttu-id="0a0ac-544">Można zignorować to ostrzeżenie, ponieważ w tym samouczku nie konfiguruje odbiornik.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-544">You can ignore this warning, because this tutorial does not configure a listener.</span></span> <span data-ttu-id="0a0ac-545">odbiornik hello tooconfigure po ukończeniu tego samouczka, zobacz [skonfigurować odbiornik ILB dla zawsze włączonych grup dostępności na platformie Azure](../classic/ps-sql-int-listener.md).</span><span class="sxs-lookup"><span data-stu-id="0a0ac-545">tooconfigure hello listener after you complete this tutorial, see [Configure an ILB listener for Always On Availability Groups in Azure](../classic/ps-sql-int-listener.md).</span></span>
   
    ![Availabilty Kreatora nowej grupy sprawdzania poprawności](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC665530.gif)
9. <span data-ttu-id="0a0ac-547">Na powitania **Podsumowanie** kliknij przycisk **Zakończ**, a następnie zaczekaj, aż Kreator hello konfiguruje hello nowej grupy dostępności.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-547">On hello **Summary** page, click **Finish**, and then wait while hello wizard configures hello new availability group.</span></span> <span data-ttu-id="0a0ac-548">Na powitania **postępu** strony, możesz kliknąć **szczegółowe** tooview hello szczegółowe postępu.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-548">On hello **Progress** page, you can click **More details** tooview hello detailed progress.</span></span> <span data-ttu-id="0a0ac-549">Po zakończeniu pracy Kreatora hello, sprawdź hello **wyniki** tooverify strony tej grupy dostępności hello została pomyślnie utworzona, jak pokazano w hello następującego zrzutu ekranu, a następnie kliknij **Zamknij** tooexit hello Kreator.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-549">After hello wizard finishes, inspect hello **Results** page tooverify that hello availability group is successfully created, as shown in hello following screenshot, and then click **Close** tooexit hello wizard.</span></span>
   
    ![Availabilty Kreatora nowej grupy wyników](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC665531.gif)
10. <span data-ttu-id="0a0ac-551">W **Eksplorator obiektów**, rozwiń węzeł **zawsze na wysoką dostępność**, a następnie rozwiń węzeł **grup dostępności**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-551">In **Object Explorer**, expand **Always On High Availability**, and then expand **Availability Groups**.</span></span> <span data-ttu-id="0a0ac-552">Powinna zostać wyświetlona hello nowej grupy dostępności w tym kontenerze.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-552">You should now see hello new availability group in this container.</span></span> <span data-ttu-id="0a0ac-553">Kliknij prawym przyciskiem myszy **AG1 (podstawowe)**, a następnie kliknij przycisk **Pokaż pulpit nawigacyjny**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-553">Right-click **AG1 (Primary)**, and then click **Show Dashboard**.</span></span>
    
     ![Pokaż grupy dostępności pulpitu nawigacyjnego](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC665532.gif)
11. <span data-ttu-id="0a0ac-555">Twoje **zawsze na pulpicie nawigacyjnym** powinien wyglądać podobnie toohello jeden w hello po zrzut ekranu.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-555">Your **Always On Dashboard** should look similar toohello one in hello following screenshot.</span></span> <span data-ttu-id="0a0ac-556">Widać hello replik, tryb pracy awaryjnej hello każdej repliki i hello stan synchronizacji.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-556">You can see hello replicas, hello failover mode of each replica, and hello synchronization state.</span></span>
    
     ![Pulpit nawigacyjny grupy dostępności](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC665533.gif)
12. <span data-ttu-id="0a0ac-558">Zwraca zbyt**Menedżera serwera**, kliknij przycisk **narzędzia**, a następnie otwórz **Menedżera klastra trybu Failover**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-558">Return too**Server Manager**, click **Tools**, and then open **Failover Cluster Manager**.</span></span>
13. <span data-ttu-id="0a0ac-559">Rozwiń węzeł **Cluster1.corp.contoso.com**, a następnie rozwiń węzeł **usługi i aplikacje**.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-559">Expand **Cluster1.corp.contoso.com**, and then expand **Services and applications**.</span></span> <span data-ttu-id="0a0ac-560">Wybierz **ról** i należy pamiętać, że hello **AG1** rola grupy dostępności została utworzona.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-560">Select **Roles** and note that hello **AG1** availability group role has been created.</span></span> <span data-ttu-id="0a0ac-561">Należy pamiętać, że AG1 nie ma adresu IP przez bazę danych, która klienci mogą łączyć się toohello grupy dostępności, ponieważ nie może skonfigurować odbiornik.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-561">Note that AG1 does not have an IP address by which database clients can connect toohello availability group, because you did not configure a listener.</span></span> <span data-ttu-id="0a0ac-562">Możesz połączyć bezpośrednio toohello węzła podstawowego dla operacji odczytu i zapisu oraz hello węzła pomocniczego dla zapytań tylko do odczytu.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-562">You can connect directly toohello primary node for read-write operations and hello secondary node for read-only queries.</span></span>
    
     ![W Menedżerze klastra trybu Failover grupy dostępności](./media/virtual-machines-windows-classic-portal-sql-alwayson-availability-groups/IC665534.gif)

> [!WARNING]
> <span data-ttu-id="0a0ac-564">Nie próbuj toofail za pośrednictwem grupy dostępności hello z hello Menedżera klastra trybu Failover.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-564">Do not try toofail over hello availability group from hello Failover Cluster Manager.</span></span> <span data-ttu-id="0a0ac-565">Należy wykonać wszystkie operacje trybu failover z poziomu **zawsze na pulpicie nawigacyjnym** w programie SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-565">All failover operations should be performed from within **Always On Dashboard** in SQL Server Management Studio.</span></span> <span data-ttu-id="0a0ac-566">Aby uzyskać więcej informacji, zobacz [ograniczenia dotyczące Using hello Menedżera klastra trybu Failover z grupami dostępności](https://msdn.microsoft.com/library/ff929171.aspx).</span><span class="sxs-lookup"><span data-stu-id="0a0ac-566">For more information, see [Restrictions on Using hello Failover Cluster Manager with Availability Groups](https://msdn.microsoft.com/library/ff929171.aspx).</span></span>
> 
> 

## <a name="next-steps"></a><span data-ttu-id="0a0ac-567">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="0a0ac-567">Next steps</span></span>
<span data-ttu-id="0a0ac-568">Możesz teraz pomyślnie wdrożono programu SQL Server AlwaysOn przez utworzenie grupy dostępności na platformie Azure.</span><span class="sxs-lookup"><span data-stu-id="0a0ac-568">You have now successfully implemented SQL Server Always On by creating an availability group in Azure.</span></span> <span data-ttu-id="0a0ac-569">tooconfigure odbiornika dla tej grupy dostępności, zobacz [skonfigurować odbiornik ILB dla zawsze włączonych grup dostępności na platformie Azure](../classic/ps-sql-int-listener.md).</span><span class="sxs-lookup"><span data-stu-id="0a0ac-569">tooconfigure a listener for this availability group, see [Configure an ILB listener for Always On availability groups in Azure](../classic/ps-sql-int-listener.md).</span></span>

<span data-ttu-id="0a0ac-570">Aby uzyskać inne informacje o korzystaniu z programu SQL Server na platformie Azure, zobacz [programu SQL Server na maszynach wirtualnych Azure](../sql/virtual-machines-windows-sql-server-iaas-overview.md).</span><span class="sxs-lookup"><span data-stu-id="0a0ac-570">For other information about using SQL Server in Azure, see [SQL Server on Azure Virtual Machines](../sql/virtual-machines-windows-sql-server-iaas-overview.md).</span></span>

