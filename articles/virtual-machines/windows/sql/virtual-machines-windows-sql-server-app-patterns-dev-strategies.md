---
title: "aaaSQL wzorców aplikacji serwera na maszynach wirtualnych | Dokumentacja firmy Microsoft"
description: "W tym artykule omówiono wzorce aplikacji dla programu SQL Server na maszynach wirtualnych Azure. Zapewnia rozwiązanie architektów i deweloperów podstawę dla aplikacji dobrej architektury i projektu."
services: virtual-machines-windows
documentationcenter: na
author: ninarn
manager: jhubbard
editor: 
tags: azure-service-management,azure-resource-manager
ms.assetid: 41863c8d-f3a3-4584-ad86-b95094365e05
ms.service: virtual-machines-sql
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: vm-windows-sql-server
ms.workload: iaas-sql-server
ms.date: 05/31/2017
ms.author: ninarn
ms.openlocfilehash: e18597598fdf9fe534ed07331d6f531d4dca0601
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="application-patterns-and-development-strategies-for-sql-server-in-azure-virtual-machines"></a>Wzorce aplikacji i strategie programowania dla programu SQL Server w usłudze Azure Virtual Machines
[!INCLUDE [learn-about-deployment-models](../../../../includes/learn-about-deployment-models-both-include.md)]

## <a name="summary"></a>Podsumowanie:
Określanie, które wzorzec aplikacji lub toouse wzorce dla aplikacji na serwerze SQL na platformie Azure środowisko jest decyzji projektowych ważne i wymaga pełny opis programu SQL Server i każdego składnika infrastruktury Azure współdziałania . Z programem SQL Server w usługach infrastruktury platformy Azure można łatwo migracji, obsługa i monitorowanie istniejący program SQL Server aplikacji utworzony na systemu Windows Server toovirtual maszynach na platformie Azure.

Witaj celem tego artykułu jest tooprovide architekci rozwiązań i deweloperzy a foundation dla architektury dobrej aplikacji i projekt, który może wykonać podczas migracji istniejącej tooAzure aplikacji jako również jako tworzenie nowej aplikacji na platformie Azure.

Dla każdego wzorca aplikacji można znaleźć lokalnej scenariuszu jego rozwiązanie odpowiednich włączoną obsługę chmury i hello powiązanych zaleceń technicznych. Ponadto hello omówiono strategii rozwoju specyficzne dla platformy Azure, dzięki czemu można projektować aplikacje poprawnie. Z powodu toohello wiele możliwości zastosowania wzorców, zalecane jest, że dla architektów i deweloperów należy wybrać hello wzorzec najbardziej odpowiedni dla aplikacji i użytkowników.

**Współautorzy techniczne:** Artur Luis Vargas śledzi, Madhan Arumugam Ramakrishnan

**Recenzenci techniczni:** szlifierki Corey, Drew McDaniel, Narayan Annamalai, Nir Mashkowski Sanjay Mishra, Coriani Silvano, Stefan Schackow Hickey Timowi, Wieman Timowi, Xin Jin

## <a name="introduction"></a>Wprowadzenie
Możesz utworzyć wiele typów aplikacji wielowarstwowych oddzielając składniki hello warstw innej aplikacji hello na różnych komputerach, a także jak składniki. Na przykład możesz umieścić powitania klienta aplikacji i składników na jednym komputerze, warstwa sieci web i składników warstwy dostępu do danych w innym komputerze i warstwy bazy danych zaplecza w innej maszynie reguły biznesowej. Tego rodzaju struktury pomaga wyizolować każdej warstwy od siebie. Jeśli zmienisz, skąd pochodzą dane, nie musi toochange powitania klienta lub aplikacji sieci web, ale tylko hello składników warstwy dostępu do danych.

Typowe *n warstwowa* aplikacja zawiera warstwy prezentacji hello, hello warstwy biznesowej i warstwy danych hello:

| Warstwa | Opis |
| --- | --- |
| **Prezentacji** |Witaj *warstwy prezentacji* (warstwa sieci web frontonu warstwy) jest warstwy hello, w którym użytkownicy korzystają z aplikacji. |
| **Biznesowa** |Witaj *warstwy biznesowej* (warstwy środkowej) to warstwa hello tego hello prezentacji warstwy i hello danych warstwy Użyj toocommunicate ze sobą i zawiera hello podstawowych funkcji hello systemu. |
| **Dane** |Witaj *warstwy danych* jest zasadniczo powitania serwera, która przechowuje dane aplikacji (na przykład serwer działa program SQL Server). |

Warstwy aplikacji opisano hello logiczne grupowanie hello funkcje i składniki aplikacji; natomiast warstw opisano hello fizycznych dystrybucji hello funkcji i składników na oddzielnych serwerach fizycznych, komputery, sieci lub w lokalizacjach zdalnych. Witaj warstwy aplikacji może znajdować się na powitania sam komputera fizycznego (hello tej samej warstwie) lub mogą być dystrybuowane za pośrednictwem różnych komputerach (n warstwowa) i hello składniki w każdej warstwie komunikują się ze składnikami w innych warstw za pomocą dobrze zdefiniowanych interfejsów. Można potraktować warstwy termin hello jako odniesienia toophysical dystrybucji wzorców, takich jak dwuwarstwowa i trójwarstwowa, n warstwowa. A **2-warstwowy wzorzec aplikacji** zawiera dwie warstwy aplikacji: serwer aplikacji i serwer bazy danych. Witaj bezpośrednia komunikacja odbywa się między serwerem aplikacji hello i hello bazy danych. Serwer aplikacji Hello zawiera składniki zarówno warstwa sieci web, jak i warstwy biznesowej. W **3-warstwowy wzorzec aplikacji**, istnieją trzy warstwy aplikacji: serwer sieci web, serwera aplikacji, który zawiera warstwy logiki biznesowej hello i/lub składników dostępu do danych warstwy biznesowej i powitania serwera bazy danych. Witaj komunikacji między serwerem sieci web hello i powitania serwera bazy danych odbywa się za pośrednictwem serwera aplikacji hello. Aby uzyskać szczegółowe informacje na warstwy i warstwy aplikacji, zobacz [Przewodniku dotyczącym architektury aplikacji Microsoft](https://msdn.microsoft.com/library/ff650706.aspx).

Przed rozpoczęciem odczytu w tym artykule, powinien mieć wiedzy na powitania podstawowe pojęcia programu SQL Server i usługi Azure. Aby uzyskać informacje, zobacz [programu SQL Server — książki Online](https://msdn.microsoft.com/library/bb545450.aspx), [programu SQL Server w usłudze Azure Virtual Machines](virtual-machines-windows-sql-server-iaas-overview.md) i [witryny Azure.com](https://azure.microsoft.com/).

W tym artykule opisano kilka wzorców aplikacji, które mogą być odpowiednie dla Twojej proste aplikacje, a także aplikacje przedsiębiorstwa skomplikowanej hello. Przed przedstawiająca szczegółowo każdy wzorzec, zaleca się, że należy zapoznać się z usługami magazynu dostępnych danych hello na platformie Azure, takich jak [usługi Azure Storage](../../../storage/common/storage-introduction.md), [bazy danych SQL Azure](../../../sql-database/sql-database-technical-overview.md), i [ Program SQL Server w maszynie wirtualnej platformy Azure](virtual-machines-windows-sql-server-iaas-overview.md). toomake hello najlepsze decyzje projektowe dotyczące aplikacji, a także zrozumienie, kiedy toouse magazynu danych, które wyraźnie usługi.

### <a name="choose-sql-server-in-an-azure-virtual-machine-when"></a>Wybierz program SQL Server w maszynie wirtualnej platformy Azure, gdy:
* Należy sterowania w programie SQL Server i Windows. Na przykład może to obejmować hello wersja programu SQL Server, specjalne poprawek, konfigurację wydajności itd.
* Należy pełnej zgodności z lokalnej instalacji programu SQL Server i ma toomove istniejące aplikacje tooAzure jako — jest.
* Ma tooleverage możliwości hello hello środowiska platformy Azure, ale baza danych SQL Azure nie obsługuje wszystkich funkcji hello wymagane przez aplikację. Mogą one obejmować hello w następujących obszarach:
  
  * **Rozmiar bazy danych**: W czasie hello ten artykuł został zaktualizowany, baza danych SQL obsługuje bazę danych zapasowej too1 TB danych. Jeśli aplikacja wymaga więcej niż 1 TB danych i nie chcesz, aby tooimplement dzielenia na fragmenty niestandardowych rozwiązań, zaleca się użycie programu SQL Server w maszynie wirtualnej platformy Azure. Aby hello najnowsze informacje, zobacz [skalowanie limit bazami danych SQL Azure](https://msdn.microsoft.com/library/azure/dn495641.aspx) i [warstwach usług bazy danych SQL Azure i poziomy wydajności](../../../sql-database/sql-database-service-tiers.md).
  * **Zgodność HIPAA**: opieki zdrowotnej klientów i niezależni dostawcy oprogramowania (ISV) mogą wybierać [programu SQL Server w usłudze Azure Virtual Machines](virtual-machines-windows-sql-server-iaas-overview.md) zamiast [bazy danych SQL Azure](../../../sql-database/sql-database-technical-overview.md) ponieważ programu SQL Server w maszynie wirtualnej platformy Azure jest objęty przez umowy skojarzyć firm HIPAA (BAA). Aby uzyskać informacje na temat zgodności, zobacz [Microsoft Azure Trust Center: zgodności](https://azure.microsoft.com/support/trust-center/compliance/).
  * **Funkcje na poziomie wystąpienia**: W tej chwili baza danych SQL nie obsługuje funkcji, które na żywo poza hello bazy danych (np. serwerów połączonych agenta zadania, FileStream Service Broker, itp.). Aby uzyskać więcej informacji, zobacz [wskazówki bazy danych SQL Azure i ograniczenia](https://msdn.microsoft.com/library/azure/ff394102.aspx).

## <a name="1-tier-simple-single-virtual-machine"></a>warstwy 1 (proste): jednej maszyny wirtualnej
W tym wzorcu aplikacji wdrażanie aplikacji programu SQL Server i tooa bazy danych autonomicznej maszyny wirtualnej na platformie Azure. Witaj tej samej maszyny wirtualnej zawiera klienta/sieci web aplikacji, składników biznesowych, Warstwa dostępu do danych i powitania serwera bazy danych. Hello prezentacji, służbowego i kod dostępu do danych są logicznie rozdzielone, ale fizycznie znajdują się w jednym serwerze. Większość klientów rozpoczynać się od tego wzorca aplikacji, a następnie skalować w poziomie przez dodanie więcej system web ról lub maszyn wirtualnych tootheir.

Ten wzorzec aplikacji jest przydatna, gdy:

* Czy platforma hello odpowiedzi wymagania aplikacji lub nie mają tooperform tooevaluate platformy tooAzure proste migracji.
* Ma tookeep hello wszystkie warstwy aplikacji hostowanej w hello sam wirtualnej maszyny w hello sam tooreduce hello opóźnienia między warstwami centrum danych Azure.
* Mają tooquickly Zainicjuj obsługę programowania i testowania środowisk, w krótkich okresach czasu.
* Testy obciążenia tooperform dla różnych poziomów obciążeń, ale w tym samym czasie, nie mają tooown i obsługa wielu fizycznych maszyny cały czas hello powitalne mają.

Hello poniższym diagramie przedstawiono prosty lokalnymi scenariusza i jak można wdrożyć rozwiązanie chmury włączone w jednej maszyny wirtualnej na platformie Azure.

![1-warstwowy wzorzec aplikacji](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728008.png)

Wdrażanie warstwa biznesowa hello (logika biznesowa i składniki dostępu do danych) na powitania tej samej warstwie fizycznej warstwą prezentacji hello można zmaksymalizować wydajność aplikacji, chyba że należy użyć oddzielnych warstwy powodu tooscalability lub zabezpieczeń.

Ponieważ jest to bardzo powszechne toostart wzorca z, może się okazać hello poniższego artykułu na migracji przydatna do przenoszenia tooyour Twojego danych maszyny Wirtualnej programu SQL Server: [Migrowanie tooSQL bazy danych serwera na maszynie Wirtualnej platformy Azure](virtual-machines-windows-migrate-sql.md).

## <a name="3-tier-simple-multiple-virtual-machines"></a>warstwy 3 (proste): wiele maszyn wirtualnych
W tym wzorcu aplikacji wdrożysz aplikację 3-warstwowej na platformie Azure przez umieszczenie każdej warstwy aplikacji w innej maszyny wirtualnej. Zapewnia elastyczne środowisko do łatwego skalowania w górę i skalowania w poziomie scenariuszy. Jednej maszyny wirtualnej zawiera aplikację klienta/sieci web, hello innego hostuje składniki biznesowych i hello inny serwer bazy danych hello jednego hosta.

Ten wzorzec aplikacji jest przydatna, gdy:

* Ma tooperform migracji bazy danych złożonych aplikacji tooAzure maszyn wirtualnych.
* Ma toobe warstw innej aplikacji hostowanej w różnych regionach. Na przykład może być udostępnione baz danych, które regiony toomultiple wdrożonych na potrzeby raportowania.
* Chcesz toomove aplikacji przedsiębiorstwa z lokalnymi zwirtualizowanych platform tooAzure maszyn wirtualnych. Szczegółowe omówienie w aplikacjach dla przedsiębiorstw, zobacz [co to jest aplikacja przedsiębiorstwa](https://msdn.microsoft.com/library/aa267045.aspx).
* Mają tooquickly Zainicjuj obsługę programowania i testowania środowisk, w krótkich okresach czasu.
* Testy obciążenia tooperform dla różnych poziomów obciążeń, ale w tym samym czasie, nie mają tooown i obsługa wielu fizycznych maszyny cały czas hello powitalne mają.

Witaj poniższym diagramie pokazano, jak można umieścić prostą aplikację 3-warstwowej na platformie Azure, umieszczając każdej warstwy aplikacji w innej maszyny wirtualnej.

![3-warstwowy wzorzec aplikacji](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728009.png)

W tym wzorcu aplikacji istnieje tylko jedna maszyna wirtualna (VM) w ramach poszczególnych warstw. Jeśli masz wiele maszyn wirtualnych na platformie Azure, zaleca się konfigurowanie sieci wirtualnej. [Sieć wirtualna platformy Azure](../../../virtual-network/virtual-networks-overview.md) tworzy granicę zaufanego i pozwala również toocommunicate maszyn wirtualnych między sobą za pośrednictwem hello prywatnego adresu IP. Ponadto zawsze upewnij się, że wszystkie połączenia z Internetem tylko Przejdź toohello warstwy prezentacji. Podczas tego wzorca aplikacji, zarządzanie hello sieciowej grupy zabezpieczeń reguły toocontrol dostęp. Aby uzyskać więcej informacji, zobacz [Zezwalaj dostępu zewnętrznego tooyour maszynę Wirtualną przy użyciu hello portalu Azure](../nsg-quickstart-portal.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).

Na diagramie hello protokołów internetowych można TCP, UDP, HTTP lub HTTPS.

> [!NOTE]
> Konfigurowanie sieci wirtualnej platformy Azure jest bezpłatne. Jednak są naliczane dla bramy sieci VPN hello łączącego tooon lokalnych. Opłata jest oparta na powitania ilość czasu, że połączenie jest udostępnione i dostępne.
> 
> 

## <a name="2-tier-and-3-tier-with-presentation-tier-scale-out"></a>warstwy 2 i 3-warstwowej z skalowalne warstwy prezentacji
W tym wzorcu aplikacji możesz wdrożyć warstwy 2 lub 3-warstwowej bazy danych aplikacji tooAzure maszyn wirtualnych przez umieszczenie każdej warstwy aplikacji w innej maszyny wirtualnej. Ponadto można skalować w poziomie warstwy prezentacji hello powodu tooincreased objętości przychodzących żądań klientów.

Ten wzorzec aplikacji jest przydatna, gdy:

* Chcesz toomove aplikacji przedsiębiorstwa z lokalnymi zwirtualizowanych platform tooAzure maszyn wirtualnych.
* Ma tooscale limit warstwy prezentacji hello powodu tooincreased objętości przychodzących żądań klientów.
* Mają tooquickly Zainicjuj obsługę programowania i testowania środowisk, w krótkich okresach czasu.
* Testy obciążenia tooperform dla różnych poziomów obciążeń, ale w tym samym czasie, nie mają tooown i obsługa wielu fizycznych maszyny cały czas hello powitalne mają.
* Ma tooown środowisku infrastruktury, w którym można skalować w górę i w dół na żądanie.

Witaj poniższym diagramie pokazano, jak można umieścić w warstwach aplikacji hello w wielu maszyn wirtualnych na platformie Azure przez skalowania warstwy prezentacji hello powodu tooincreased objętości przychodzących żądań klientów. Jak pokazano na diagramie hello, usługi równoważenia obciążenia Azure jest odpowiedzialny za Dystrybucja ruchu między wieloma maszynami wirtualnymi, a także określenie tooconnect serwera sieci web, które do. O wiele wystąpień serwerów sieci web hello za modułem równoważenia obciążenia zapewnia wysoką dostępność hello hello warstwy prezentacji.

![Wzorzec aplikacji - skalowania warstwy prezentacji w poziomie](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728010.png)

### <a name="best-practices-for-2-tier-3-tier-or-n-tier-patterns-that-have-multiple-vms-in-one-tier"></a>Najlepsze rozwiązania dotyczące warstwy 2, 3-warstwy lub n warstwowa wzorców, które mają wiele maszyn wirtualnych w jedną warstwę
Zaleca się umieszczenie hello maszyn wirtualnych, które należy toohello same warstwy w hello sama usługa w chmurze i w hello tego samego hello zestawu dostępności. Na przykład umieścić zestaw serwerów sieci web w **CloudService1** i **AvailabilitySet1** i zestaw serwerów baz danych w **CloudService2** i **AvailabilitySet2**. Zestawem dostępności w Azure umożliwia węzłów wysokiej dostępności hello tooplace do błędów oddzielnych domen i domen uaktualnienia.

tooleverage wielu wystąpień maszyny Wirtualnej z warstwy, należy tooconfigure Azure usługi równoważenia obciążenia między warstwami aplikacji. tooconfigure moduł równoważenia obciążenia w poszczególnych warstwach tworzone oddzielnie punkt końcowy z równoważeniem obciążenia na maszynach wirtualnych każdej warstwy. Dla określonej warstwy, należy najpierw utworzyć maszyn wirtualnych w hello sama usługa w chmurze. Dzięki temu, że hello sam adres publiczny wirtualnego adresu IP. Następnie można utworzyć punktu końcowego na jednym hello maszyn wirtualnych w danej warstwie. Następnie przypisz hello tego samego punktu końcowego toohello innych maszyn wirtualnych w tej warstwie do równoważenia obciążenia. Przez utworzenie zestawu z równoważeniem obciążenia, dystrybucji ruchu między wieloma maszynami wirtualnymi, a także umożliwić hello toodetermine moduł równoważenia obciążenia które tooconnect węzła, gdy węzeł maszyny Wirtualnej wewnętrznej bazy danych nie powiodło się. Na przykład mających wiele wystąpień serwerów sieci web hello za modułem równoważenia obciążenia zapewnia wysoką dostępność hello hello warstwy prezentacji.

Najlepszym rozwiązaniem zawsze upewnij się, że wszystkie połączenia z Internetem jest wykonywany toohello warstwy prezentacji. Warstwa prezentacji Hello uzyskuje dostęp do warstwy biznesowej hello, a następnie warstwy biznesowej hello uzyskuje dostęp do hello warstwy danych. Aby uzyskać więcej informacji dotyczących sposobu tooallow uzyskać dostępu do warstwy prezentacji toohello, zobacz [Zezwalaj dostępu zewnętrznego tooyour maszynę Wirtualną przy użyciu hello portalu Azure](../nsg-quickstart-portal.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).

Należy pamiętać, że hello modułu równoważenia obciążenia w Azure działa podobne równoważenia tooload w środowisku lokalnym. Aby uzyskać więcej informacji, zobacz [równoważenia obciążenia dla usług infrastruktury platformy Azure](../tutorial-load-balancer.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).

Ponadto zalecane jest skonfigurowanie sieci prywatnej dla maszyn wirtualnych przy użyciu sieci wirtualnej platformy Azure. Dzięki temu są toocommunicate między sobą za pośrednictwem hello prywatnego adresu IP. Aby uzyskać więcej informacji, zobacz [sieci wirtualnej Azure](../../../virtual-network/virtual-networks-overview.md).

## <a name="2-tier-and-3-tier-with-business-tier-scale-out"></a>warstwy 2 i 3-warstwowej z skalowalne warstwy biznesowej
W tym wzorcu aplikacji możesz wdrożyć warstwy 2 lub 3-warstwowej bazy danych aplikacji tooAzure maszyn wirtualnych przez umieszczenie każdej warstwy aplikacji w innej maszyny wirtualnej. Ponadto można toodistribute hello aplikacji serwera składników toomultiple maszyn wirtualnych ze względu na złożoność toohello aplikacji.

Ten wzorzec aplikacji jest przydatna, gdy:

* Chcesz toomove aplikacji przedsiębiorstwa z lokalnymi zwirtualizowanych platform tooAzure maszyn wirtualnych.
* Ma toodistribute hello aplikacji serwera składników toomultiple maszyn wirtualnych ze względu na złożoność toohello aplikacji.
* Ma toomove firm logiki duże lokalnymi LOB (— biznesowych) aplikacji tooAzure maszyn wirtualnych. Aplikacje LOB to zbiór komputera krytyczne aplikacje, które są niezbędne toorunning przedsiębiorstwa, takich jak ewidencjonowania aktywności, kadr (HR), Lista płac, zarządzania łańcuchem dostaw i aplikacji do planowania zasobów.
* Mają tooquickly Zainicjuj obsługę programowania i testowania środowisk, w krótkich okresach czasu.
* Testy obciążenia tooperform dla różnych poziomów obciążeń, ale w tym samym czasie, nie mają tooown i obsługa wielu fizycznych maszyny cały czas hello powitalne mają.
* Ma tooown środowisku infrastruktury, w którym można skalować w górę i w dół na żądanie.

powitania po diagram przedstawia scenariusz lokalnymi i jego rozwiązanie chmury włączone. W tym scenariuszu umieszczeniu warstwy aplikacji hello w wielu maszyn wirtualnych na platformie Azure przez skalowania warstwy biznesowej hello, który zawiera warstwy logiki biznesowej hello i składniki dostępu do danych. Jak pokazano na diagramie hello, usługi równoważenia obciążenia Azure jest odpowiedzialny za Dystrybucja ruchu między wieloma maszynami wirtualnymi, a także określenie tooconnect serwera sieci web, które do. O wiele wystąpień serwerów aplikacji hello za modułem równoważenia obciążenia zapewnia wysoką dostępność warstwy biznesowej hello hello. Aby uzyskać więcej informacji, zobacz [najlepsze rozwiązania dla warstwy 2, 3 warstwy lub n warstwowa aplikacja wzorców, które mają wiele maszyn wirtualnych w jedną warstwę](#best-practices-for-2-tier-3-tier-or-n-tier-patterns-that-have-multiple-vms-in-one-tier).

![Wzorzec aplikacji z skalowania warstwy biznesowej w poziomie](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728011.png)

## <a name="2-tier-and-3-tier-with-presentation-and-business-tiers-scale-out-and-hadr"></a>warstwy 2 i 3-warstwowej z prezentacji i skalowalne warstwy biznesowej oraz funkcji HADR
W tym wzorcu aplikacji wdrażanie warstwy 2 lub 3-warstwowej bazy danych aplikacji tooAzure maszyn wirtualnych przez dystrybucję warstwy prezentacji hello (serwer sieci web) i hello maszyny wirtualne toomultiple składników (serwera aplikacji) warstwy biznesowej. Ponadto wdrożenie rozwiązania w zakresie odzyskiwania wysokiej dostępności i odzyskiwaniem po awarii dla baz danych w maszynach wirtualnych platformy Azure.

Ten wzorzec aplikacji jest przydatna, gdy:

* Zaimplementowanie programu SQL Server wysokiej dostępności i odzyskiwaniem po awarii możliwości odzyskiwania mają toomove aplikacji przedsiębiorstwa z tooAzure lokalnymi zwirtualizowanych platform.
* Ma tooscale limit hello warstwą prezentacji a warstwą biznesową hello tooincreased ilość przychodzące żądania klientów i złożoność hello aplikacji.
* Mają tooquickly Zainicjuj obsługę programowania i testowania środowisk, w krótkich okresach czasu.
* Testy obciążenia tooperform dla różnych poziomów obciążeń, ale w tym samym czasie, nie mają tooown i obsługa wielu fizycznych maszyny cały czas hello powitalne mają.
* Ma tooown środowisku infrastruktury, w którym można skalować w górę i w dół na żądanie.

powitania po diagram przedstawia scenariusz lokalnymi i jego rozwiązanie chmury włączone. W tym scenariuszu można skalować w poziomie hello warstwą prezentacji a hello składników warstwy biznesowej w wielu maszyn wirtualnych na platformie Azure. Ponadto wdrożenie wysokiej dostępności i odzyskiwaniem po awarii technik odzyskiwania (HADR) dla baz danych programu SQL Server na platformie Azure.

Uruchamianie wielu kopii aplikacji w różnych maszyn wirtualnych upewnij się, czy Równoważenie obciążenia żądań w nich. Jeśli masz wiele maszyn wirtualnych należy toomake się, że wszystkie maszyny wirtualne są dostępne i działa w jednym punkcie w czasie. Jeśli konfigurujesz równoważenia obciążenia, moduł równoważenia obciążenia Azure śledzi hello kondycji maszyn wirtualnych i poprawnie kieruje przychodzące wywołania toohello działa maszyna wirtualna węzłów w prawidłowym stanie. Aby uzyskać informacje na temat tooset się równoważenia obciążenia hello maszyn wirtualnych, zobacz [równoważenia obciążenia dla usług infrastruktury platformy Azure](../tutorial-load-balancer.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json). O wiele wystąpień serwerów sieci web i aplikacji za modułem równoważenia obciążenia zapewnia wysoką dostępność hello hello warstwy prezentacji i biznesowych.

![Skalowalny w poziomie i wysoka dostępność.](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728012.png)

### <a name="best-practices-for-application-patterns-requiring-sql-hadr"></a>Najlepsze rozwiązania dotyczące wzorców aplikacji wymagających SQL HADR
Po skonfigurowaniu wysokiej dostępności programu SQL Server i rozwiązania w zakresie odzyskiwania po awarii w maszynach wirtualnych platformy Azure, trwa konfigurowanie sieci wirtualnej dla maszyn wirtualnych przy użyciu [sieci wirtualnej Azure](../../../virtual-network/virtual-networks-overview.md) jest obowiązkowe.  Maszyny wirtualne sieci wirtualnej mają stabilna prywatnego adresu IP nawet po przestoje usługi, w związku z tym można uniknąć hello aktualizacji czasu wymaganego do rozpoznawania nazw DNS. Ponadto sieci wirtualnej hello pozwala tooextend lokalnej sieci tooAzure i tworzy granicę zaufanego. Na przykład jeśli aplikacja ma ograniczenia domeny firmy (takich jak uwierzytelnianie systemu Windows, usługi Active Directory) Konfigurowanie [sieci wirtualnej Azure](../../../virtual-network/virtual-networks-overview.md) jest konieczne.

Większość klientów, którzy korzystają z kodu produkcyjnego na platformie Azure, są utrzymywanie podstawowych i pomocniczych replik w systemie Azure.

Aby uzyskać szczegółowe informacje i samouczki o wysokiej dostępności i technik odzyskiwania po awarii, zobacz [wysokiej dostępności i odzyskiwania po awarii dla programu SQL Server w usłudze Azure Virtual Machines](virtual-machines-windows-sql-high-availability-dr.md).

## <a name="2-tier-and-3-tier-using-azure-vms-and-cloud-services"></a>warstwy 2 i 3-warstwowej przy użyciu maszyn wirtualnych platformy Azure i usługi w chmurze
W tym wzorcu aplikacji wdrożeniem tooAzure warstwy 2 lub 3-warstwowych aplikacji za pomocą obu [usługi w chmurze Azure](../../../cloud-services/cloud-services-choose-me.md#tellmecs) (role sieć web i proces roboczy - platforma jako usługa (PaaS)) i [maszyny wirtualne Azure](../overview.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) () Infrastruktura jako usługa (IaaS)). Przy użyciu [usługi w chmurze Azure](https://azure.microsoft.com/documentation/services/cloud-services/) dla warstwy biznesowym/warstwy prezentacji hello i programu SQL Server w [maszyny wirtualne Azure](../overview.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) danych hello warstwa jest przydatne w przypadku większości aplikacji działających na platformie Azure. Hello przyczyną jest to, czy po wystąpieniu obliczeniowe uruchomione na usługi w chmurze zapewnia łatwe zarządzanie, wdrażania, monitorowania i skalowalnego w poziomie.

Z usługami w chmurze Azure obsługuje hello infrastruktury dla Ciebie, wykonuje rutynowej konserwacji poprawek hello systemów operacyjnych i prób toorecover przed awariami sprzętu i usługi. Jeśli aplikacja wymaga skalowalnego w poziomie, automatycznej i ręcznej opcje skalowania w poziomie są dostępne dla projektu usługi w chmurze, zwiększ lub Zmniejsz liczbę hello wystąpień lub maszyn wirtualnych, które są używane przez aplikację. Ponadto można toodeploy Visual Studio lokalnie projekt usługi chmury tooa aplikacji na platformie Azure.

Podsumowując Jeśli nie chcesz, aby dla warstwy prezentacji/biznesowej hello tooown wiele zadań administracyjnych i aplikacji nie wymaga żadnej złożonych konfiguracji oprogramowania lub hello systemu operacyjnego, użyj usługi w chmurze Azure. Jeśli baza danych SQL Azure nie obsługuje wszystkich funkcji hello, którego szukasz, użyj programu SQL Server w maszynie wirtualnej platformy Azure dla hello warstwy danych. Uruchamianie aplikacji na usług Azure Cloud Services i przechowywania danych w usłudze Azure Virtual Machines łączy hello zalety obu usług. Szczegółowe porównanie, zobacz sekcję hello w tym temacie na [Porównanie strategii rozwoju na platformie Azure](#comparing-web-development-strategies-in-azure).

W tym wzorcu aplikacji hello Warstwa prezentacji zawiera roli sieci web, która jest składnikiem usługi w chmurze jest uruchomiony w środowisku Azure wykonywania hello i jest dostosowany do programowania aplikacji sieci web, ponieważ obsługiwana przez usługi IIS i platformy ASP.NET. Witaj warstwy biznesowej lub wewnętrznej bazy danych obejmuje rolę procesu roboczego, który jest składnikiem usługi w chmurze jest uruchomiony w środowisku Azure wykonywania hello i przydaje się do rozwoju ogólnych i może wykonywać przetwarzania w tle dla roli sieci web. Hello warstwy bazy danych znajduje się na maszynie wirtualnej programu SQL Server na platformie Azure. Hello komunikacji między warstwą prezentacji hello i warstwy bazy danych hello odbywa się bezpośrednio lub za pośrednictwem warstwy biznesowej hello — składniki roli procesu roboczego.

Ten wzorzec aplikacji jest przydatna, gdy:

* Zaimplementowanie programu SQL Server wysokiej dostępności i odzyskiwaniem po awarii możliwości odzyskiwania mają toomove aplikacji przedsiębiorstwa z tooAzure lokalnymi zwirtualizowanych platform.
* Ma tooown środowisku infrastruktury, w którym można skalować w górę i w dół na żądanie.
* Baza danych SQL Azure nie obsługuje wszystkie funkcje hello wymaga aplikacji lub bazy danych.
* Testy obciążenia tooperform dla różnych poziomów obciążeń, ale w tym samym czasie, nie mają tooown i obsługa wielu fizycznych maszyny cały czas hello powitalne mają.

powitania po diagram przedstawia scenariusz lokalnymi i jego rozwiązanie chmury włączone. W tym scenariuszu należy umieścić hello warstwy prezentacji w role sieci web, hello warstwy biznesowej w roli proces roboczy, ale hello warstwy danych w maszynach wirtualnych platformy Azure. Uruchamianie wielu kopii hello warstwy prezentacji w różnych rolach zapewnia tooload równoważenie żądań między nimi. Połączenie usługi w chmurze Azure z usługi Azure Virtual Machines zaleca się skonfigurowanie [sieci wirtualnej Azure](../../../virtual-network/virtual-networks-overview.md) również. Z [sieci wirtualnej Azure](../../../virtual-network/virtual-networks-overview.md), może mieć stabilny i chmury hello trwałe prywatnych adresów IP w ramach hello takie same w chmurze usługi w. Po zdefiniowaniu sieci wirtualnej dla maszyn wirtualnych i usług w chmurze, można uruchomić, komunikować się ze sobą za pośrednictwem hello prywatnego adresu IP. Ponadto o maszyn wirtualnych i Azure web/proces roboczy w hello sam [sieci wirtualnej Azure](../../../virtual-network/virtual-networks-overview.md) zapewnia małe opóźnienia i bardziej bezpieczne połączenie. Aby uzyskać więcej informacji, zobacz [co to jest usługa w chmurze](../../../cloud-services/cloud-services-choose-me.md).

Jak pokazano na diagramie hello, usługi równoważenia obciążenia Azure polega na rozłożeniu ruchu sieciowego między wiele maszyn wirtualnych i decyduje również o którym serwer sieci web lub serwera aplikacji tooconnect do. O wiele wystąpień serwerów sieci web i aplikacji hello za modułem równoważenia obciążenia zapewnia wysoką dostępność hello warstwą prezentacji a warstwą biznesową hello hello. Aby uzyskać więcej informacji, zobacz [najlepszych rozwiązań dla aplikacji wzorce wymagające HADR SQL](#best-practices-for-application-patterns-requiring-sql-hadr).

![Wzorce aplikacji z usługami w chmurze](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728013.png)

Innego podejścia tooimplement tego wzorca aplikacji jest toouse rolę skonsolidowanych sieci web, która zawiera warstwę prezentacji i składników warstwy biznesowej, jak pokazano poniżej hello diagramu. Ten wzorzec aplikacji jest przydatne w przypadku aplikacji wymagających stanowych projektu. Ponieważ Azure zawiera węzły obliczeniowe bezstanowych role sieci web i proces roboczy, zaleca się stosowanie logiki stanu sesji toostore przy użyciu jednej z następujących technologii hello: [buforowanie Azure](https://azure.microsoft.com/documentation/services/redis-cache/), [Azure Table Storage](../../../cosmos-db/table-storage-how-to-use-dotnet.md) lub [baza danych Azure SQL](../../../sql-database/sql-database-technical-overview.md).

![Wzorce aplikacji z usługami w chmurze](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728014.png)

## <a name="pattern-with-azure-vms-azure-sql-database-and-azure-app-service-web-apps"></a>Wzorzec maszyny wirtualne platformy Azure, baza danych Azure SQL i usługa Azure App Service (aplikacje sieci Web)
podstawowym celem tego wzorca aplikacji Hello jest tooshow należy jak toocombine infrastruktury platformy Azure jako składniki usługi (IaaS), z platformy Azure składniki platformy jako usługa (PaaS) w rozwiązaniu. Ten wzorzec koncentruje się na bazie danych SQL Azure do przechowywania danych relacyjnych. Nie obejmuje program SQL Server w maszynie wirtualnej platformy Azure, który jest częścią hello infrastruktury platformy Azure jako oferty usługi.

W tym wzorcu aplikacji wdrażanie tooAzure aplikacji bazy danych przez umieszczenie hello prezentacji i hello warstwy biznesowej w tej samej maszyny wirtualnej i uzyskiwania dostępu do bazy danych na serwerach usługi Azure SQL Database (baza danych SQL). Warstwa prezentacji hello można wdrożyć przy użyciu tradycyjnych sieci web usług IIS na podstawie rozwiązań. Lub scalonej prezentacji i warstwy biznesowej można wdrożyć przy użyciu [Azure Web Apps](https://azure.microsoft.com/documentation/services/app-service/web/).

Ten wzorzec aplikacji jest przydatna, gdy:

* Masz już istniejącego serwera bazy danych SQL skonfigurowany w usłudze Azure i mają tootest aplikacji szybko.
* Ma tootest hello możliwości środowiska platformy Azure.
* Mają tooquickly Zainicjuj obsługę programowania i testowania środowisk, w krótkich okresach czasu.
* Składniki dostępu logikę i dane biznesowe mogą być niezależne w obrębie aplikacji sieci web.

powitania po diagram przedstawia scenariusz lokalnymi i jego rozwiązanie chmury włączone. W tym scenariuszu umieszczeniu warstwy aplikacji hello w jednej maszyny wirtualnej platformy Azure i dostępu do danych w bazie danych SQL Azure.

![Wzorzec mieszanych aplikacji](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728015.png)

Jeśli wybierzesz tooimplement połączone sieci web i aplikacji w warstwie za pomocą aplikacji sieci Web platformy Azure, zaleca się zachować warstwy aplikacji lub warstwy środkowej hello jako biblioteki dołączanej (dynamicznie dll) w kontekście hello aplikacji sieci web.

Ponadto, przejrzyj hello zaleceniami podanymi w hello [Porównanie strategii rozwoju sieci web na platformie Azure](#comparing-web-development-strategies-in-azure) sekcji na końcu tego artykułu toolearn więcej informacji na temat programowania techniki hello.

## <a name="n-tier-hybrid-application-pattern"></a>N-warstwowa hybrydowych aplikacji wzorca
N warstwowa hybrydowych aplikacji wzorzec służy do wdrożenia aplikacji w wielu warstw dystrybuowane między lokalną i platformą Azure. W związku z tym utworzyć systemu hybrydowe elastyczne i wielokrotnego użytku, które można zmodyfikować lub Dodaj określonej warstwy bez zmieniania hello innej warstwy. tooextend toohello z sieci firmowej w chmurze, możesz użyć [sieci wirtualnej Azure](../../../virtual-network/virtual-networks-overview.md) usługi.

Ten wzorzec aplikacji hybrydowych jest przydatna, gdy:

* Ma toobuild aplikacji, które działają częściowo w chmurze hello i częściowo lokalnie.
* Ma toomigrate niektóre lub wszystkie elementy istniejącej chmurze toohello aplikacji lokalnych.
* Ma toomove aplikacji przedsiębiorstwa z lokalnymi zwirtualizowanych tooAzure platformy.
* Ma tooown środowisku infrastruktury, w którym można skalować w górę i w dół na żądanie.
* Mają tooquickly Zainicjuj obsługę programowania i testowania środowisk, w krótkich okresach czasu.
* Ma zapasowych tootake ekonomiczne rozwiązanie dla aplikacji baz danych przedsiębiorstwa.

powitania po diagram przedstawia wzorzec aplikacji hybrydowych n warstwowa obejmujący lokalną i platformą Azure. Jak pokazano na diagramie hello, lokalnymi infrastruktura obejmuje [usług domenowych w usłudze Active Directory](https://technet.microsoft.com/library/hh831484.aspx) domeny kontrolera toosupport uwierzytelniania i autoryzacji użytkowników. Należy zauważyć, że ten diagram hello przedstawiono scenariusz, gdzie niektórych części hello warstwy danych na żywo w lokalnym centrum danych, podczas gdy niektórych części hello warstwy danych na żywo na platformie Azure. W zależności od potrzeb aplikacji można zaimplementować kilka scenariuszy hybrydowych. Na przykład może przechowywać hello warstwą prezentacji a warstwą biznesową hello w lokalnym środowisku, ale hello warstwy danych na platformie Azure.

![N-warstwowy wzorzec aplikacji](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728016.png)

Na platformie Azure, można użyć usługi Active Directory jako autonomiczny katalog chmury dla danej organizacji lub można również zintegrować istniejącej lokalnej usługi Active Directory z [usługi Azure Active Directory](https://azure.microsoft.com/documentation/services/active-directory/). Jak w diagramie hello składników warstwy biznesowej hello mogą uzyskiwać dostęp do toomultiple źródeł danych, takie jak zbyt[programu SQL Server na platformie Azure](virtual-machines-windows-sql-server-iaas-overview.md) za pomocą adresu IP wewnętrznego prywatnej tooon lokalnego programu SQL Server za pośrednictwem [sieci wirtualnej Azure](../../../virtual-network/virtual-networks-overview.md), lub zbyt[bazy danych SQL](../../../sql-database/sql-database-technical-overview.md) przy użyciu technologii dostawcy danych .NET Framework hello. Na tym diagramie baza danych SQL Azure jest usługą magazynu opcjonalnymi danymi.

We wzorcu aplikacji hybrydowych n warstwowa można zaimplementować hello następującego przepływu pracy w określonej kolejności hello:

1. Określenie aplikacji bazy danych przedsiębiorstwa, które należy przenieść w górę toocloud przy użyciu hello toobe [zestaw narzędzi planowania (MAP) i Microsoft Assessment](http://microsoft.com/map). Hello Toolkit mapy zbiera dane spisu i wydajności z komputerów, które zamierzasz do wirtualizacji i zawiera zalecenia dotyczące pojemności i planowania oceny.
2. Plan zasobów hello i konfigurację potrzebne w hello platformy Azure, takich jak konta magazynu i maszyn wirtualnych.
3. Skonfiguruj połączenie sieciowe między hello firmową siecią lokalną i [sieci wirtualnej Azure](../../../virtual-network/virtual-networks-overview.md). tooset hello połączenie między hello sieci firmowej lokalne i maszyny wirtualnej na platformie Azure, użyj jednej z następujących dwóch metod hello:
   
   1. Nawiąż połączenie między lokalną i platformą Azure za pośrednictwem publicznego punktów końcowych na maszynie wirtualnej na platformie Azure. Ta metoda zapewnia łatwą konfigurację i pozwala toouse uwierzytelniania programu SQL Server na maszynie wirtualnej. Ponadto należy skonfigurować Twojej sieci zabezpieczeń grupy reguł toocontrol ruchu publicznego toohello maszyny Wirtualnej. Aby uzyskać więcej informacji, zobacz [Zezwalaj dostępu zewnętrznego tooyour maszynę Wirtualną przy użyciu hello portalu Azure](../nsg-quickstart-portal.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).
   2. Nawiąż połączenie między lokalną i platformą Azure za pośrednictwem tunelu sieci VPN Azure wirtualnego prywatnych. Ta metoda umożliwia maszynie wirtualnej tooa zasad domeny tooextend na platformie Azure. Ponadto można skonfigurować reguły zapory i uwierzytelniania systemu Windows na maszynie wirtualnej. Obecnie usługa Azure obsługuje bezpieczne połączenie sieci VPN lokacja lokacja i połączeń sieci VPN punkt lokacja:
      
      * Bezpieczne połączenie lokacja lokacja z może nawiązać połączenie sieciowe między siecią lokalną a sieci wirtualnej na platformie Azure. Zaleca się podłączania tooAzure środowiska użytkownika lokalnego danych Centrum.
      * Bezpieczne połączenie punkt lokacja z można ustanowić połączenie sieciowe między sieci wirtualnej platformy Azure i poszczególne komputery z uruchomionym w dowolnym miejscu. Zaleca się przede wszystkim do celów programowania i testowania.
      
      Aby uzyskać informacje na temat tooSQL tooconnect Server na platformie Azure, zobacz [połączyć tooa maszyny wirtualnej programu SQL Server na platformie Azure](virtual-machines-windows-sql-connect.md).
4. Skonfiguruj zaplanowane zadania i alerty, które wykonują kopie zapasowe danych lokalnych w dysku maszyny wirtualnej na platformie Azure. Aby uzyskać więcej informacji, zobacz [programu SQL Server z kopii zapasowej i przywracania usługi magazynu obiektów Blob Azure](https://msdn.microsoft.com/library/jj919148.aspx) i [kopii zapasowej i przywracania dla programu SQL Server w usłudze Azure Virtual Machines](virtual-machines-windows-sql-backup-recovery.md).
5. W zależności od potrzeb aplikacji można zaimplementować hello następujące trzy typowe scenariusze:
   
   1. Serwera sieci web, serwera aplikacji i danych wielkość liter można zachować na serwerze bazy danych na platformie Azure w przechowywać hello poufnych danych w sieci lokalnej.
   2. Można zachować na serwerze sieci web i serwera aplikacji lokalnych należy powitania serwera bazy danych na maszynie wirtualnej na platformie Azure.
   3. Można zachować z serwera bazy danych, serwer sieci web i serwera aplikacji lokalnej przechowywać hello repliki bazy danych w maszynach wirtualnych platformy Azure. To ustawienie umożliwia hello lokalnych serwerów sieci web lub raportowania tooaccess aplikacji hello replik bazy danych na platformie Azure. W związku z tym można osiągnąć toolower hello obciążenia w lokalnej bazie danych. Firma Microsoft zaleca, aby zaimplementować ten scenariusz ciężki odczytu obciążeń i rozwoju celów. Informacje dotyczące tworzenia replik bazy danych na platformie Azure, zobacz temat zawsze włączonych grup dostępności w [wysokiej dostępności i odzyskiwania po awarii dla programu SQL Server w usłudze Azure Virtual Machines](virtual-machines-windows-sql-high-availability-dr.md).

## <a name="comparing-web-development-strategies-in-azure"></a>Porównanie strategii rozwoju sieci web na platformie Azure
tooimplement i wdrażania wielowarstwowa aplikacja programu SQL Server na platformie Azure, można użyć jednej z następujących dwóch metod programowania hello:

* Skonfiguruj serwer tradycyjnych sieci web (IIS - Internet Information Services) w bazach danych platformy Azure i dostępu w programie SQL Server w maszynach wirtualnych platformy Azure.
* Wdrożenie i wdrożyć tooAzure usługi chmury. Następnie upewnij się, że dostęp baz danych w programie SQL Server na maszynach wirtualnych Azure to usługa w chmurze. Usługi w chmurze może zawierać wielu ról sieć web i proces roboczy.

Witaj w poniższej tabeli przedstawiono porównanie rozwoju tradycyjnej sieci web z usług Azure Cloud Services i aplikacji sieci Web platformy Azure z tooSQL względem serwera w maszynach wirtualnych platformy Azure. Tabela Hello zawiera aplikacje sieci Web Azure jest możliwe toouse programu SQL Server w maszynie Wirtualnej platformy Azure jako źródła danych dla aplikacji sieci Web platformy Azure za pośrednictwem jego publiczny wirtualny adres IP lub nazwę DNS.

|  | Projektowanie witryn sieci web tradycyjnych w maszynach wirtualnych platformy Azure | Usługi w chmurze na platformie Azure | Hosting w aplikacjach sieci Web platformy Azure w sieci Web |
| --- | --- | --- | --- |
| **Migracja aplikacji z lokalnymi** |Istniejące aplikacje jako — jest. |Aplikacje muszą role sieci web i proces roboczy. |Istniejące aplikacje jako — ale nadaje się do aplikacji sieci web niezależna i usługi sieci web, które wymagają szybkiej skalowalności. |
| **Projektowanie i wdrażanie** |Program Visual Studio, programu WebMatrix, programu Visual Web Developer, WebDeploy, FTP, TFS, Menedżer usług IIS, programu PowerShell. |Program Visual Studio, zestaw Azure SDK, TFS, programu PowerShell. Każda usługa chmury ma dwa toowhich środowiskach, które można wdrożyć pakiet usługi, a konfiguracja: tymczasową i produkcyjną. Można wdrożyć toohello usługi chmury, tootest środowiska przemieszczania go przed podwyższeniem tooproduction. |Program Visual Studio, programu WebMatrix, programu Visual Web Developer, FTP, GIT, BitBucket, CodePlex, DropBox, GitHub, Mercurial, TFS, sieci Web wdrażanie, programu PowerShell. |
| **Administracja i instalacji** |Jest odpowiedzialny za zadań administracyjnych w aplikacji hello, dane, reguły zapory, sieci wirtualnej i systemu operacyjnego. |Jest odpowiedzialny za zadań administracyjnych w aplikacji hello, dane, reguły zapory i sieci wirtualnej. |Jest odpowiedzialny za zadań administracyjnych w aplikacji hello i tylko dane. |
| **Wysoka dostępność i odzyskiwanie po awarii (HADR)** |Zaleca się umieszczania maszyn wirtualnych w hello dostępności tej samej ustawić i w hello sama usługa w chmurze. Przechowywanie maszyn wirtualnych w hello sam zestaw dostępności umożliwia Azure tooplace hello węzłów wysokiej dostępności do błędów oddzielnych domen i domen uaktualnienia. Podobnie przechowywanie maszyn wirtualnych w hello umożliwia tej samej chmurze usługi równoważenia obciążenia i maszyny wirtualne mogą komunikować się bezpośrednio ze sobą za pośrednictwem sieci lokalne powitania w obrębie centrum danych platformy Azure.<br/><br/>Jest odpowiedzialny za wdrażanie wysokiej dostępności i odzyskiwaniem po awarii rozwiązanie odzyskiwania dla programu SQL Server w maszynach wirtualnych platformy Azure tooavoid żadnych przestojów. Dla obsługiwanych technologii HADR, zobacz [wysokiej dostępności i odzyskiwania po awarii dla programu SQL Server w usłudze Azure Virtual Machines](virtual-machines-windows-sql-high-availability-dr.md).<br/><br/>Jest odpowiedzialny za tworzenie kopii zapasowej własnych danych i aplikacji.<br/><br/>Azure można przenieść maszyny wirtualne, gdy wystąpi awaria maszyny hosta hello w centrum danych hello powodu toohardware problemy. Ponadto może być planowanych przestojów maszyny Wirtualnej podczas aktualizacji oprogramowania i zabezpieczeń komputera-hosta, hello aktualizacji. Dlatego zaleca się zachować co najmniej dwóch maszyn wirtualnych w każdej warstwy tooensure hello ciągłej dostępności aplikacji. Azure nie ma umowy SLA dla jednej maszyny wirtualnej. Aby uzyskać więcej informacji, zobacz [wskazówki techniczne Azure odporności](../../../resiliency/resiliency-technical-guidance.md). |Azure zarządza hello błędy wynikające z hello bazowy oprogramowania sprzętu lub systemu operacyjnego. Zaleca się, że implementuje wiele wystąpień w sieci web lub procesu roboczego roli tooensure hello wysoką dostępność aplikacji. Aby uzyskać informacje, zobacz [usługi w chmurze, maszyny wirtualne i wirtualne umową dotyczącą poziomu usług sieciowych](http://www.microsoft.com/download/details.aspx?id=38427) i [odzyskiwania po awarii i wysoką dostępność aplikacji Azure](../../../resiliency/resiliency-disaster-recovery-high-availability-azure-applications.md)<br/><br/>Jest odpowiedzialny za tworzenie kopii zapasowej własnych danych i aplikacji.<br/><br/>W przypadku baz danych znajdującej się w bazie danych programu SQL Server w maszynie Wirtualnej platformy Azure jest odpowiedzialny za wdrażanie wysokiej dostępności i awaryjnego odzyskiwania rozwiązania tooavoid żadnych przestojów. Dla obsługiwanych HDAR technologii Zobacz wysokiej dostępności i odzyskiwania po awarii dla programu SQL Server w maszynach wirtualnych platformy Azure.<br/><br/>**Funkcja dublowania baz danych serwera SQL**: Użyj z usługami w chmurze Azure (role sieć web/proces roboczy). Maszyn wirtualnych programu SQL Server i projektu usługi w chmurze mogą być w hello tej samej sieci wirtualnej platformy Azure. Jeśli maszyna wirtualna programu SQL Server nie znajduje się w tej samej sieci wirtualnej hello należy toocreate Alias serwera SQL tooroute komunikacji toohello wystąpienia programu SQL Server. Ponadto nazwa aliasu hello musi odpowiadać nazwie SQL Server hello. |Wysoka dostępność jest odziedziczone role procesu roboczego platformy Azure, magazyn obiektów blob platformy Azure i bazy danych SQL Azure. Na przykład magazyn Azure przechowuje trzy repliki wszystkich obiektów blob, tabel i kolejki danych. W dowolnym momencie, baza danych SQL Azure śledzi trzy repliki danych systemem — jedna replika podstawowa i dwóch replik pomocniczych. Aby uzyskać więcej informacji, zobacz [usługi Azure Storage](https://azure.microsoft.com/documentation/services/storage/) i [bazy danych SQL Azure](../../../sql-database/sql-database-technical-overview.md).<br/><br/>Korzystając z programu SQL Server w maszynie Wirtualnej platformy Azure jako źródła danych dla aplikacji sieci Web platformy Azure, należy pamiętać, aplikacje sieci Web Azure nie obsługuje sieci wirtualnej platformy Azure. Innymi słowy wszystkie połączenia z aplikacji sieci Web Azure tooSQL maszyn wirtualnych serwera w systemie Azure musi przechodzić przez publicznych punktów końcowych maszyn wirtualnych. Może to spowodować, że niektóre ograniczenia wysokiej dostępności i scenariuszy odzyskiwania po awarii. Na przykład aplikacja kliencka hello Azure aplikacji sieci Web łączące tooSQL maszyny Wirtualnej serwera z dublowania bazy danych nie będzie możliwe tooconnect toohello nowym serwerem podstawowym jako dublowania bazy danych wymaga skonfigurowania sieci wirtualnej Azure między maszynami wirtualnymi hosta programu SQL Server w Azure. W związku z tym przy użyciu **dublowania bazy danych serwera SQL** z aplikacjami sieci Web Azure nie jest obsługiwany obecnie.<br/><br/>**Grup dostępności AlwaysOn programu SQL Server**: można skonfigurować zawsze włączonych grup dostępności, podczas korzystania z aplikacji sieci Web platformy Azure z maszyn wirtualnych serwera SQL na platformie Azure. Jednak tooconfigure odbiornika grupy dostępności AlwaysOn tooroute hello komunikacji toohello replice podstawowej za pośrednictwem publicznego punktów końcowych z równoważeniem obciążenia. |
| **Łączność między lokalizacjami** |Można użyć lokalnego tooon tooconnect sieci wirtualnej platformy Azure. |Można użyć lokalnego tooon tooconnect sieci wirtualnej platformy Azure. |Sieć wirtualna platformy Azure jest obsługiwana. Aby uzyskać więcej informacji, zobacz [integracji sieci wirtualnej aplikacji sieci Web](https://azure.microsoft.com/blog/2014/09/15/azure-websites-virtual-network-integration/). |
| **Skalowalność** |Skalowanie w pionie, należy zwiększyć rozmiary maszyn wirtualnych hello lub dodanie większej liczby dysków. Aby uzyskać więcej informacji na temat rozmiarów maszyn wirtualnych, zobacz [rozmiarów maszyn wirtualnych na platformie Azure](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).<br/><br/>**Dla serwera bazy danych**: skalowalnego w poziomie jest dostępny za pośrednictwem techniki partycjonowania bazy danych i grup dostępności AlwaysOn programu SQL Server.<br/><br/>W przypadku odczytu złożonych zadań, można użyć [zawsze włączonych grup dostępności](https://msdn.microsoft.com/library/hh510230.aspx) na wielu węzłach dodatkowej, a także replikacji programu SQL Server.<br/><br/>W przypadku obciążeń duże zapisu można zaimplementować poziome partycjonowania danych między wieloma serwerami fizycznymi tooprovide aplikacji skalowalnych w poziomie.<br/><br/>Ponadto można wdrożyć skalowanie w poziomie przy użyciu [programu SQL Server z routingiem zależnych danych](https://technet.microsoft.com/library/cc966448.aspx). Z danych zależnych routingu (DDR), należy hello tooimplement partycjonowania mechanizmu w aplikacji klienckiej hello, zwykle w warstwie warstwy biznesowej hello, bazy danych hello tooroute żądań toomultiple węzłów programu SQL Server. Warstwa biznesowa Hello zawiera mapowania danych hello toohow jest podzielona na partycje i węzeł, który zawiera dane hello.<br/><br/>Można skalować aplikacji, które są uruchomione maszyny wirtualne. Aby uzyskać więcej informacji, zobacz [jak tooScale aplikacji](../../../cloud-services/cloud-services-how-to-scale.md).<br/><br/>**Ważna Uwaga**: hello **skalowania automatycznego** funkcji na platformie Azure pozwala tooautomatically zwiększyć lub zmniejszyć hello maszyn wirtualnych, które są używane przez aplikację. Ta funkcja gwarantuje, że środowisko użytkownika końcowego hello nie wpływa negatywnie wpłynąć podczas okresów szczytowego, i maszyny wirtualne są zamknięte, gdy Żądanie hello jest niskie. Zaleca się, że nie zostały ustawione hello opcji automatycznego skalowania dla usługi w chmurze czy obejmuje on maszyn wirtualnych programu SQL Server. Witaj przyczyna to tej funkcji skalowania automatycznego hello umożliwia tooturn Azure na maszynie wirtualnej, kiedy hello użycie procesora CPU w tej maszyny Wirtualnej jest wyższy niż niektórych próg i tooturn wyłączyć maszynę wirtualną hello użycie procesora CPU systemowi niższe niż. Funkcja automatycznego skalowania Hello jest przydatne w przypadku aplikacji bezstanowych, takich jak serwery sieci web, w której żadnej maszyny Wirtualnej można zarządzać hello obciążenia bez żadnych odwołań tooany poprzedniego stanu. Jednak funkcja automatycznego skalowania hello nie jest przydatne w przypadku aplikacji stanowych, takich jak SQL Server, gdzie tylko jedno wystąpienie umożliwia pisanie toohello bazy danych. |Skalowanie w pionie jest dostępna za pomocą wielu ról sieć web i proces roboczy. Aby uzyskać więcej informacji na temat rozmiarów maszyn wirtualnych dla ról sieci web i proces roboczy, zobacz [skonfigurować rozmiary dla usług w chmurze](../../../cloud-services/cloud-services-sizes-specs.md).<br/><br/>Korzystając z **usługi w chmurze**, można zdefiniować wiele ról toodistribute przetwarzania i również osiągnięcia elastyczne skalowanie aplikacji. Każda usługa chmury zawiera jeden lub więcej ról sieć web i/lub rolę procesu roboczego, każdy z plików aplikacji i konfiguracji. Możesz można skalować w górę usługi w chmurze, zwiększając hello liczby wystąpień roli (maszyny wirtualne), wdrożyć dla roli i w dół usługi w chmurze dzięki skróceniu hello liczby wystąpień roli. Aby uzyskać szczegółowe informacje, zobacz [modeli wykonywania Azure](../../../cloud-services/cloud-services-choose-me.md).<br/><br/>Skalowalny w poziomie jest dostępny za pośrednictwem obsługi wbudowaną wysoką dostępność Azure za pomocą [usługi w chmurze, maszyny wirtualne i wirtualne umową dotyczącą poziomu usług sieci](http://www.microsoft.com/download/details.aspx?id=38427) i moduł równoważenia obciążenia.<br/><br/>Dla aplikacji wielowarstwowych zaleca się połączyć z serwera toodatabase aplikacji sieci web/proces roboczy ról maszyn wirtualnych za pośrednictwem sieci wirtualnej platformy Azure. Ponadto Azure udostępnia równoważenie obciążenia dla maszyn wirtualnych w hello sama usługa w chmurze, rozłożenie ich żądań użytkowników. Maszyny wirtualne, połączone w ten sposób mogą komunikować się bezpośrednio ze sobą za pośrednictwem sieci lokalne powitania w obrębie centrum danych platformy Azure.<br/><br/>Możesz skonfigurować **skalowania automatycznego** na powitania portalu Azure, a także hello uruchomień. Aby uzyskać więcej informacji, zobacz [jak tooconfigure automatyczne skalowanie usługi w chmurze w portalu hello](../../../cloud-services/cloud-services-how-to-scale-portal.md). |**Skalowanie w górę i w dół**: użytkownik może Powiększ/zmniejsz hello rozmiar wystąpienia hello (VM) zarezerwowana dla witryny sieci web.<br/><br/>Skalowanie w poziomie: witryny sieci web można dodać więcej zastrzeżone wystąpień (VM).<br/><br/>Możesz skonfigurować **skalowania automatycznego** na powitania portalu, a także hello uruchomień. Aby uzyskać więcej informacji, zobacz [jak tooScale aplikacje sieci Web](../../../app-service-web/web-sites-scale.md). |

Aby uzyskać więcej informacji o wyborze między tych metod programowania, zobacz [Azure Web Apps, usługi w chmurze i maszyn wirtualnych: gdy toouse którego](../../../app-service-web/choose-web-site-cloud-service-vm.md).

## <a name="next-steps"></a>Następne kroki
Aby uzyskać więcej informacji na temat uruchamiania programu SQL Server na maszynach wirtualnych Azure, zobacz [programu SQL Server na omówienia maszyn wirtualnych Azure](virtual-machines-windows-sql-server-iaas-overview.md).

