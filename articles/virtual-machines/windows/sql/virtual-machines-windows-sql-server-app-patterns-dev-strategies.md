---
title: Wzorce aplikacji serwera SQL na maszynach wirtualnych | Dokumentacja firmy Microsoft
description: "W tym artykule omówiono wzorce aplikacji dla programu SQL Server na maszynach wirtualnych Azure. Zapewnia rozwiązanie architektów i deweloperów podstawę dla aplikacji dobrej architektury i projektu."
services: virtual-machines-windows
documentationcenter: na
author: ninarn
manager: jhubbard
editor: 
tags: azure-service-management,azure-resource-manager
ms.assetid: 41863c8d-f3a3-4584-ad86-b95094365e05
ms.service: virtual-machines-sql
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: vm-windows-sql-server
ms.workload: iaas-sql-server
ms.date: 05/31/2017
ms.author: ninarn
ms.openlocfilehash: a716de21e21148a082f49f0f416b14ca0eaa8192
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 08/29/2017
---
# <a name="application-patterns-and-development-strategies-for-sql-server-in-azure-virtual-machines"></a><span data-ttu-id="b3cd9-104">Wzorce aplikacji i strategie programowania dla programu SQL Server w usłudze Azure Virtual Machines</span><span class="sxs-lookup"><span data-stu-id="b3cd9-104">Application Patterns and Development Strategies for SQL Server in Azure Virtual Machines</span></span>
[!INCLUDE [learn-about-deployment-models](../../../../includes/learn-about-deployment-models-both-include.md)]

## <a name="summary"></a><span data-ttu-id="b3cd9-105">Podsumowanie:</span><span class="sxs-lookup"><span data-stu-id="b3cd9-105">Summary:</span></span>
<span data-ttu-id="b3cd9-106">Określanie, które wzorzec aplikacji lub wzorce do użycia dla aplikacji na serwerze SQL na platformie Azure środowisko jest decyzji projektowych ważne i wymaga pełny opis programu SQL Server i każdego składnika infrastruktury Azure współdziałania.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-106">Determining which application pattern or patterns to use for your SQL-Server-based applications in Azure environment is an important design decision and it requires a solid understanding of how SQL Server and each infrastructure component of Azure work together.</span></span> <span data-ttu-id="b3cd9-107">Z programem SQL Server w usługach infrastruktury platformy Azure można łatwo migracji, obsługa i monitorowanie istniejących aplikacji SQL Server wbudowane — w systemie Windows Server na maszynach wirtualnych platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-107">With SQL Server in Azure Infrastructure Services, you can easily migrate, maintain, and monitor your existing SQL Server applications built-on Windows Server to virtual machines in Azure.</span></span>

<span data-ttu-id="b3cd9-108">Celem tego artykułu jest zapewnienie rozwiązań dla architektów i deweloperów podstawę dla architektury dobrej aplikacji i projekt, który może wykonać podczas migrowania istniejących aplikacji do platformy Azure, a także tworzenie nowej aplikacji na platformie Azure.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-108">The goal of this article is to provide solution architects and developers a foundation for good application architecture and design, which they can follow when migrating existing applications to Azure as well as developing new applications in Azure.</span></span>

<span data-ttu-id="b3cd9-109">Dla każdego wzorca aplikacji można znaleźć scenariusz lokalnymi, rozwiązanie do odpowiednich włączoną obsługę chmury i powiązane zaleceń technicznych.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-109">For each application pattern, you will find an on-premises scenario, its respective cloud-enabled solution, and the related technical recommendations.</span></span> <span data-ttu-id="b3cd9-110">Ponadto, w tym artykule omówiono strategii rozwoju specyficzne dla platformy Azure, dzięki czemu można projektować aplikacje poprawnie.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-110">In addition, the article discusses Azure-specific development strategies so that you can design your applications correctly.</span></span> <span data-ttu-id="b3cd9-111">Z powodu wielu wzorców możliwości zastosowania zaleca się, że architektów i deweloperów należy wybrać wzorcu najbardziej odpowiedni dla aplikacji i użytkowników.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-111">Due to the many possible application patterns, it’s recommended that architects and developers should choose the most appropriate pattern for their applications and users.</span></span>

<span data-ttu-id="b3cd9-112">**Współautorzy techniczne:** Artur Luis Vargas śledzi, Madhan Arumugam Ramakrishnan</span><span class="sxs-lookup"><span data-stu-id="b3cd9-112">**Technical Contributors:** Luis Carlos Vargas Herring, Madhan Arumugam Ramakrishnan</span></span>

<span data-ttu-id="b3cd9-113">**Recenzenci techniczni:** szlifierki Corey, Drew McDaniel, Narayan Annamalai, Nir Mashkowski Sanjay Mishra, Coriani Silvano, Stefan Schackow Hickey Timowi, Wieman Timowi, Xin Jin</span><span class="sxs-lookup"><span data-stu-id="b3cd9-113">**Technical Reviewers:** Corey Sanders, Drew McDaniel, Narayan Annamalai, Nir Mashkowski, Sanjay Mishra, Silvano Coriani, Stefan Schackow, Tim Hickey, Tim Wieman, Xin Jin</span></span>

## <a name="introduction"></a><span data-ttu-id="b3cd9-114">Wprowadzenie</span><span class="sxs-lookup"><span data-stu-id="b3cd9-114">Introduction</span></span>
<span data-ttu-id="b3cd9-115">Możesz utworzyć wiele typów aplikacji wielowarstwowych oddzielając składniki warstwy aplikacji różne na różnych komputerach, a także jak składniki.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-115">You can develop many types of n-tier applications by separating the components of the different application layers on different machines as well as in separate components.</span></span> <span data-ttu-id="b3cd9-116">Na przykład możesz umieścić aplikacji klienckiej i składników na jednym komputerze, warstwa sieci web i składników warstwy dostępu do danych w innym komputerze i warstwy bazy danych zaplecza w innej maszynie reguły biznesowej.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-116">For example, you can place the client application and business rules components in one machine, front-end web tier and data access tier components in another machine, and a back-end database tier in another machine.</span></span> <span data-ttu-id="b3cd9-117">Tego rodzaju struktury pomaga wyizolować każdej warstwy od siebie.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-117">This kind of structuring helps isolate each tier from each other.</span></span> <span data-ttu-id="b3cd9-118">Jeśli zmienisz, skąd pochodzą dane, nie trzeba zmieniać klienta lub aplikacji sieci web, ale tylko składniki warstwy dostępu do danych.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-118">If you change where data comes from, you don’t need to change the client or web application but only the data access tier components.</span></span>

<span data-ttu-id="b3cd9-119">Typowe *n warstwowa* aplikacja zawiera warstwę prezentacji, warstwą biznesową a warstwą danych:</span><span class="sxs-lookup"><span data-stu-id="b3cd9-119">A typical *n-tier* application includes the presentation tier, the business tier, and the data tier:</span></span>

| <span data-ttu-id="b3cd9-120">Warstwa</span><span class="sxs-lookup"><span data-stu-id="b3cd9-120">Tier</span></span> | <span data-ttu-id="b3cd9-121">Opis</span><span class="sxs-lookup"><span data-stu-id="b3cd9-121">Description</span></span> |
| --- | --- |
| <span data-ttu-id="b3cd9-122">**Prezentacji**</span><span class="sxs-lookup"><span data-stu-id="b3cd9-122">**Presentation**</span></span> |<span data-ttu-id="b3cd9-123">*Warstwy prezentacji* (warstwa sieci web frontonu warstwy) jest warstwie, w którym użytkownicy korzystają z aplikacji.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-123">The *presentation tier* (web tier, front-end tier) is the layer in which users interact with an application.</span></span> |
| <span data-ttu-id="b3cd9-124">**Biznesowa**</span><span class="sxs-lookup"><span data-stu-id="b3cd9-124">**Business**</span></span> |<span data-ttu-id="b3cd9-125">*Warstwy biznesowej* (warstwy środkowej) jest warstwie warstwy prezentacji i warstwą danych używają do komunikowania się ze sobą i zawiera podstawowe funkcje systemu.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-125">The *business tier* (middle tier) is the layer that the presentation tier and the data tier use to communicate with each other and includes the core functionality of the system.</span></span> |
| <span data-ttu-id="b3cd9-126">**Dane**</span><span class="sxs-lookup"><span data-stu-id="b3cd9-126">**Data**</span></span> |<span data-ttu-id="b3cd9-127">*Warstwy danych* jest zasadniczo serwera, która przechowuje dane aplikacji (na przykład serwer działa program SQL Server).</span><span class="sxs-lookup"><span data-stu-id="b3cd9-127">The *data tier* is basically the server that stores an application's data (for example, a server running SQL Server).</span></span> |

<span data-ttu-id="b3cd9-128">Logiczne grupowanie funkcje i składniki aplikacji; opisano warstwy aplikacji natomiast warstw opisano fizycznych dystrybucji funkcje i składniki na osobnych serwerach fizycznych, komputery, sieci lub w lokalizacjach zdalnych.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-128">Application layers describe the logical groupings of the functionality and components in an application; whereas tiers describe the physical distribution of the functionality and components on separate physical servers, computers, networks, or remote locations.</span></span> <span data-ttu-id="b3cd9-129">Warstwy aplikacji może znajdować się na tym samym komputerze fizycznym (tej samej warstwie) lub mogą być dystrybuowane za pośrednictwem różnych komputerach (n warstwowa) i składniki w każdej warstwie komunikują się ze składnikami w innych warstw za pomocą dobrze zdefiniowanych interfejsów.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-129">The layers of an application may reside on the same physical computer (the same tier) or may be distributed over separate computers (n-tier), and the components in each layer communicate with components in other layers through well-defined interfaces.</span></span> <span data-ttu-id="b3cd9-130">Można potraktować jako odnoszące się do fizycznego dystrybucji wzorców, takich jak dwuwarstwowa i trójwarstwowa, n warstwowa warstwy terminu.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-130">You can think of the term tier as referring to physical distribution patterns such as two-tier, three-tier, and n-tier.</span></span> <span data-ttu-id="b3cd9-131">A **2-warstwowy wzorzec aplikacji** zawiera dwie warstwy aplikacji: serwer aplikacji i serwer bazy danych.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-131">A **2-tier application pattern** contains two application tiers: application server and database server.</span></span> <span data-ttu-id="b3cd9-132">Bezpośrednia komunikacja odbywa się między serwerem aplikacji i serwer bazy danych.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-132">The direct communication happens between the application server and the database server.</span></span> <span data-ttu-id="b3cd9-133">Serwer aplikacji zawiera składniki zarówno warstwa sieci web, jak i warstwy biznesowej.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-133">The application server contains both web-tier and business-tier components.</span></span> <span data-ttu-id="b3cd9-134">W **3-warstwowy wzorzec aplikacji**, istnieją trzy warstwy aplikacji: serwera sieci web, serwera aplikacji, która zawiera warstwy logiki biznesowej i/lub składników dostępu do danych warstwy biznesowej i serwer bazy danych.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-134">In **3-tier application pattern**, there are three application tiers: web server, application server, which contains the business logic tier and/or business tier data access components, and the database server.</span></span> <span data-ttu-id="b3cd9-135">Komunikacja między serwerem sieci web a serwerem bazy danych odbywa się za pośrednictwem serwera aplikacji.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-135">The communication between the web server and the database server happens over the application server.</span></span> <span data-ttu-id="b3cd9-136">Aby uzyskać szczegółowe informacje na warstwy i warstwy aplikacji, zobacz [Przewodniku dotyczącym architektury aplikacji Microsoft](https://msdn.microsoft.com/library/ff650706.aspx).</span><span class="sxs-lookup"><span data-stu-id="b3cd9-136">For detailed information on application layers and tiers, see [Microsoft Application Architecture Guide](https://msdn.microsoft.com/library/ff650706.aspx).</span></span>

<span data-ttu-id="b3cd9-137">Przed rozpoczęciem odczytu w tym artykule, powinien mieć wiedzy na podstawowe pojęcia programu SQL Server i usługi Azure.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-137">Before you start reading this article, you should have knowledge on the fundamental concepts of SQL Server and Azure.</span></span> <span data-ttu-id="b3cd9-138">Aby uzyskać informacje, zobacz [programu SQL Server — książki Online](https://msdn.microsoft.com/library/bb545450.aspx), [programu SQL Server w usłudze Azure Virtual Machines](virtual-machines-windows-sql-server-iaas-overview.md) i [witryny Azure.com](https://azure.microsoft.com/).</span><span class="sxs-lookup"><span data-stu-id="b3cd9-138">For information, see [SQL Server Books Online](https://msdn.microsoft.com/library/bb545450.aspx), [SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-server-iaas-overview.md) and [Azure.com](https://azure.microsoft.com/).</span></span>

<span data-ttu-id="b3cd9-139">W tym artykule opisano kilka wzorców aplikacji, które mogą być odpowiednie dla prostego aplikacji, a także aplikacje skomplikowanej przedsiębiorstwa.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-139">This article describes several application patterns that can be suitable for your simple applications as well as the highly complex enterprise applications.</span></span> <span data-ttu-id="b3cd9-140">Przed przedstawiająca szczegółowo każdy wzorzec, zaleca się, że należy zapoznać się z usługami magazynu danych na platformie Azure, takich jak [usługi Azure Storage](../../../storage/common/storage-introduction.md), [bazy danych SQL Azure](../../../sql-database/sql-database-technical-overview.md), i [programu SQL Server w maszynie wirtualnej platformy Azure](virtual-machines-windows-sql-server-iaas-overview.md).</span><span class="sxs-lookup"><span data-stu-id="b3cd9-140">Before detailing each pattern, we recommend that you should familiarize yourself with the available data storage services in Azure, such as [Azure Storage](../../../storage/common/storage-introduction.md), [Azure SQL Database](../../../sql-database/sql-database-technical-overview.md), and [SQL Server in an Azure Virtual Machine](virtual-machines-windows-sql-server-iaas-overview.md).</span></span> <span data-ttu-id="b3cd9-141">Aby najlepszych decyzji projektowych dla aplikacji, zrozumienie, kiedy należy użyć wyraźnie które usługa Magazyn danych.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-141">To make the best design decisions for your applications, understand when to use which data storage service clearly.</span></span>

### <a name="choose-sql-server-in-an-azure-virtual-machine-when"></a><span data-ttu-id="b3cd9-142">Wybierz program SQL Server w maszynie wirtualnej platformy Azure, gdy:</span><span class="sxs-lookup"><span data-stu-id="b3cd9-142">Choose SQL Server in an Azure Virtual Machine, when:</span></span>
* <span data-ttu-id="b3cd9-143">Należy sterowania w programie SQL Server i Windows.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-143">You need control on SQL Server and Windows.</span></span> <span data-ttu-id="b3cd9-144">Na przykład może to obejmować wersja programu SQL Server, specjalne poprawek, konfigurację wydajności itd.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-144">For example, this might include the SQL Server version, special hotfixes, performance configuration, etc.</span></span>
* <span data-ttu-id="b3cd9-145">Należy pełnej zgodności z programu SQL Server — lokalnie i chcesz przenieść istniejące aplikacje na platformie Azure jako — jest.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-145">You need a full compatibility with SQL Server on-premises and want to move existing applications to Azure as-is.</span></span>
* <span data-ttu-id="b3cd9-146">Aby skorzystać z możliwości środowiska platformy Azure, ale baza danych SQL Azure nie obsługuje wszystkie funkcje wymagane przez aplikację.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-146">You want to leverage the capabilities of the Azure environment but Azure SQL Database does not support all the features that your application requires.</span></span> <span data-ttu-id="b3cd9-147">Może to obejmować następujące obszary:</span><span class="sxs-lookup"><span data-stu-id="b3cd9-147">This could include the following areas:</span></span>
  
  * <span data-ttu-id="b3cd9-148">**Rozmiar bazy danych**: W czasie, w tym artykule został zaktualizowany, baza danych SQL obsługuje bazę danych do 1 TB.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-148">**Database size**: At the time this article was updated, SQL Database supports a database of up to 1 TB of data.</span></span> <span data-ttu-id="b3cd9-149">Jeśli aplikacja wymaga więcej niż 1 TB danych i nie chcesz wdrażać rozwiązania niestandardowe dzielenia na fragmenty, zalecane jest użycie programu SQL Server w maszynie wirtualnej platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-149">If your application requires more than 1 TB of data and you don’t want to implement custom sharding solutions, it’s recommended that you use SQL Server in an Azure Virtual Machine.</span></span> <span data-ttu-id="b3cd9-150">Aby uzyskać najnowsze informacje, zobacz [skalowanie limit bazami danych SQL Azure](https://msdn.microsoft.com/library/azure/dn495641.aspx) i [warstwach usług bazy danych SQL Azure i poziomy wydajności](../../../sql-database/sql-database-service-tiers.md).</span><span class="sxs-lookup"><span data-stu-id="b3cd9-150">For the latest information, see [Scaling Out Azure SQL Databases](https://msdn.microsoft.com/library/azure/dn495641.aspx) and [Azure SQL Database Service Tiers and Performance Levels](../../../sql-database/sql-database-service-tiers.md).</span></span>
  * <span data-ttu-id="b3cd9-151">**Zgodność HIPAA**: opieki zdrowotnej klientów i niezależni dostawcy oprogramowania (ISV) mogą wybierać [programu SQL Server w usłudze Azure Virtual Machines](virtual-machines-windows-sql-server-iaas-overview.md) zamiast [bazy danych SQL Azure](../../../sql-database/sql-database-technical-overview.md) ponieważ programu SQL Server w maszynie wirtualnej platformy Azure jest objęty przez umowy skojarzyć firm HIPAA (BAA).</span><span class="sxs-lookup"><span data-stu-id="b3cd9-151">**HIPAA compliance**: Healthcare customers and Independent Software Vendors (ISVs) might choose [SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-server-iaas-overview.md) instead of [Azure SQL Database](../../../sql-database/sql-database-technical-overview.md) because SQL Server in an Azure Virtual Machine is covered by HIPAA Business Associate Agreement (BAA).</span></span> <span data-ttu-id="b3cd9-152">Aby uzyskać informacje na temat zgodności, zobacz [Microsoft Azure Trust Center: zgodności](https://azure.microsoft.com/support/trust-center/compliance/).</span><span class="sxs-lookup"><span data-stu-id="b3cd9-152">For information on compliance, see [Microsoft Azure Trust Center: Compliance](https://azure.microsoft.com/support/trust-center/compliance/).</span></span>
  * <span data-ttu-id="b3cd9-153">**Funkcje na poziomie wystąpienia**: W tej chwili baza danych SQL nie obsługuje funkcji, które na żywo poza bazą danych (np. serwerów połączonych agenta zadania, FileStream Service Broker, itp.).</span><span class="sxs-lookup"><span data-stu-id="b3cd9-153">**Instance-level features**: At this time, SQL Database doesn’t support features that live outside of the database (such as Linked Servers, Agent jobs, FileStream, Service Broker, etc.).</span></span> <span data-ttu-id="b3cd9-154">Aby uzyskać więcej informacji, zobacz [wskazówki bazy danych SQL Azure i ograniczenia](https://msdn.microsoft.com/library/azure/ff394102.aspx).</span><span class="sxs-lookup"><span data-stu-id="b3cd9-154">For more information, see [Azure SQL Database Guidelines and Limitations](https://msdn.microsoft.com/library/azure/ff394102.aspx).</span></span>

## <a name="1-tier-simple-single-virtual-machine"></a><span data-ttu-id="b3cd9-155">warstwy 1 (proste): jednej maszyny wirtualnej</span><span class="sxs-lookup"><span data-stu-id="b3cd9-155">1-tier (simple): single virtual machine</span></span>
<span data-ttu-id="b3cd9-156">W tym wzorcu aplikacji można wdrożyć aplikacji SQL Server i bazy danych do autonomicznej maszyny wirtualnej na platformie Azure.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-156">In this application pattern, you deploy your SQL Server application and database to a standalone virtual machine in Azure.</span></span> <span data-ttu-id="b3cd9-157">Tej samej maszyny wirtualnej zawiera aplikacji sieci web/klienta, składników biznesowych Warstwa dostępu do danych i serwer bazy danych.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-157">The same virtual machine contains your client/web application, business components, data access layer, and the database server.</span></span> <span data-ttu-id="b3cd9-158">Prezentacji, służbowego i kod dostępu do danych są logicznie rozdzielone, ale fizycznie znajdują się w jednym serwerze.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-158">The presentation, business, and data access code are logically separated but are physically located in a single-server machine.</span></span> <span data-ttu-id="b3cd9-159">Większość klientów rozpoczynać się od tego wzorca aplikacji, a następnie skalować w poziomie przez dodanie więcej ról sieć web lub maszyny wirtualne do systemu.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-159">Most customers start with this application pattern and then, they scale out by adding more web roles or virtual machines to their system.</span></span>

<span data-ttu-id="b3cd9-160">Ten wzorzec aplikacji jest przydatna, gdy:</span><span class="sxs-lookup"><span data-stu-id="b3cd9-160">This application pattern is useful when:</span></span>

* <span data-ttu-id="b3cd9-161">Chcesz przeprowadzić migrację prostego do platformy Azure do oceny, czy platforma odpowiedzi wymagania aplikacji lub nie.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-161">You want to perform a simple migration to Azure platform to evaluate whether the platform answers your application’s requirements or not.</span></span>
* <span data-ttu-id="b3cd9-162">Chcesz zachować wszystkie warstwy aplikacji hostowanej w tej samej maszyny wirtualnej w tym samym centrum danych Azure w celu zmniejszenia opóźnienia między warstwami.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-162">You want to keep all the application tiers hosted in the same virtual machine in the same Azure data center to reduce the latency between tiers.</span></span>
* <span data-ttu-id="b3cd9-163">Chcesz szybko udostępnić programowanie i testowanie środowisk w krótkich okresach czasu.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-163">You want to quickly provision development and test environments for short periods of time.</span></span>
* <span data-ttu-id="b3cd9-164">Chcesz wykonać testowanie pod kątem różnych poziomów obciążeń akcent, ale w tym samym czasie nie ma własny i obsługa wielu komputerów fizycznych przez cały czas.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-164">You want to perform stress testing for varying workload levels but at the same time you do not want to own and maintain many physical machines all the time.</span></span>

<span data-ttu-id="b3cd9-165">Poniższy diagram przedstawia prostą lokalnymi scenariusza i jak można wdrożyć rozwiązanie chmury włączone w jednej maszyny wirtualnej na platformie Azure.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-165">The following diagram demonstrates a simple on-premises scenario and how you can deploy its cloud enabled solution in a single virtual machine in Azure.</span></span>

![1-warstwowy wzorzec aplikacji](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728008.png)

<span data-ttu-id="b3cd9-167">Wdrażanie warstwie business (logika biznesowa i składniki dostępu do danych) w tej samej warstwie fizycznej jako Warstwa prezentacji można zmaksymalizować wydajność aplikacji, chyba, że należy użyć oddzielnych warstwy ze względu na problemy skalowalności ani zabezpieczeń.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-167">Deploying the business layer (business logic and data access components) on the same physical tier as the presentation layer can maximize application performance, unless you must use a separate tier due to scalability or security concerns.</span></span>

<span data-ttu-id="b3cd9-168">Ponieważ jest to bardzo typowy wzorzec zacząć, może być przydatne artykule migracji do przenoszenia danych do maszyny Wirtualnej programu SQL Server: [Migrowanie bazy danych do programu SQL Server na maszynie Wirtualnej platformy Azure](virtual-machines-windows-migrate-sql.md).</span><span class="sxs-lookup"><span data-stu-id="b3cd9-168">Since this is a very common pattern to start with, you might find the following article on migration useful for moving your data to your SQL Server VM: [Migrating a Database to SQL Server on an Azure VM](virtual-machines-windows-migrate-sql.md).</span></span>

## <a name="3-tier-simple-multiple-virtual-machines"></a><span data-ttu-id="b3cd9-169">warstwy 3 (proste): wiele maszyn wirtualnych</span><span class="sxs-lookup"><span data-stu-id="b3cd9-169">3-tier (simple): multiple virtual machines</span></span>
<span data-ttu-id="b3cd9-170">W tym wzorcu aplikacji wdrożysz aplikację 3-warstwowej na platformie Azure przez umieszczenie każdej warstwy aplikacji w innej maszyny wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-170">In this application pattern, you deploy a 3-tier application in Azure by placing each application tier in a different virtual machine.</span></span> <span data-ttu-id="b3cd9-171">Zapewnia elastyczne środowisko do łatwego skalowania w górę i skalowania w poziomie scenariuszy.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-171">This provides a flexible environment for an easy scale-up and scale-out scenarios.</span></span> <span data-ttu-id="b3cd9-172">Po jednej maszyny wirtualnej zawiera aplikację klienta/sieci web, innego hostuje składniki firm, a drugi obsługuje serwer bazy danych.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-172">When one virtual machine contains your client/web application, the other one hosts your business components, and the other one hosts the database server.</span></span>

<span data-ttu-id="b3cd9-173">Ten wzorzec aplikacji jest przydatna, gdy:</span><span class="sxs-lookup"><span data-stu-id="b3cd9-173">This application pattern is useful when:</span></span>

* <span data-ttu-id="b3cd9-174">Chcesz przeprowadzić migrację aplikacji złożonych baz danych na maszynach wirtualnych platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-174">You want to perform a migration of complex database applications to Azure Virtual Machines.</span></span>
* <span data-ttu-id="b3cd9-175">Ma warstwy z innej aplikacji ma być obsługiwana w różnych regionach.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-175">You want different application tiers to be hosted in different regions.</span></span> <span data-ttu-id="b3cd9-176">Na przykład może być udostępnione baz danych, które są wdrażane w wielu regionach, dla celów raportowania.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-176">For example, you might have shared databases that are deployed to multiple regions for reporting purposes.</span></span>
* <span data-ttu-id="b3cd9-177">Chcesz przenieść aplikacji przedsiębiorstwa z lokalnymi zwirtualizowanych platform na maszynach wirtualnych platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-177">You want to move enterprise applications from on-premises virtualized platforms to Azure Virtual Machines.</span></span> <span data-ttu-id="b3cd9-178">Szczegółowe omówienie w aplikacjach dla przedsiębiorstw, zobacz [co to jest aplikacja przedsiębiorstwa](https://msdn.microsoft.com/library/aa267045.aspx).</span><span class="sxs-lookup"><span data-stu-id="b3cd9-178">For a detailed discussion on enterprise applications, see [What is an Enterprise Application](https://msdn.microsoft.com/library/aa267045.aspx).</span></span>
* <span data-ttu-id="b3cd9-179">Chcesz szybko udostępnić programowanie i testowanie środowisk w krótkich okresach czasu.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-179">You want to quickly provision development and test environments for short periods of time.</span></span>
* <span data-ttu-id="b3cd9-180">Chcesz wykonać testowanie pod kątem różnych poziomów obciążeń akcent, ale w tym samym czasie nie ma własny i obsługa wielu komputerów fizycznych przez cały czas.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-180">You want to perform stress testing for varying workload levels but at the same time you do not want to own and maintain many physical machines all the time.</span></span>

<span data-ttu-id="b3cd9-181">Poniższym diagramie przedstawiono, jak można umieścić prostą aplikację 3-warstwowej na platformie Azure, umieszczając każdej warstwy aplikacji w innej maszyny wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-181">The following diagram demonstrates how you can place a simple 3-tier application in Azure by placing each application tier in a different virtual machine.</span></span>

![3-warstwowy wzorzec aplikacji](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728009.png)

<span data-ttu-id="b3cd9-183">W tym wzorcu aplikacji istnieje tylko jedna maszyna wirtualna (VM) w ramach poszczególnych warstw.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-183">In this application pattern, there is only one virtual machine (VM) in each tier.</span></span> <span data-ttu-id="b3cd9-184">Jeśli masz wiele maszyn wirtualnych na platformie Azure, zaleca się konfigurowanie sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-184">If you have multiple VMs in Azure, we recommend that you set up a virtual network.</span></span> <span data-ttu-id="b3cd9-185">[Sieć wirtualna platformy Azure](../../../virtual-network/virtual-networks-overview.md) tworzy granicę zaufanego i pozwala również maszyn wirtualnych do komunikacji między sobą za pośrednictwem prywatnego adresu IP.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-185">[Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md) creates a trusted security boundary and also allows VMs to communicate among themselves over the private IP address.</span></span> <span data-ttu-id="b3cd9-186">Ponadto zawsze upewnij się, że wszystkie połączenia z Internetem tylko przejdź do warstwy prezentacji.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-186">In addition, always make sure that all Internet connections only go to the presentation tier.</span></span> <span data-ttu-id="b3cd9-187">Podczas tego wzorca aplikacji, zarządzanie reguły grupy zabezpieczeń sieci w celu kontroli dostępu.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-187">When following this application pattern, manage the network security group rules to control access.</span></span> <span data-ttu-id="b3cd9-188">Aby uzyskać więcej informacji, zobacz [dostęp do zewnętrznych sieci maszyny Wirtualnej przy użyciu portalu Azure](../nsg-quickstart-portal.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="b3cd9-188">For more information, see [Allow external access to your VM using the Azure portal](../nsg-quickstart-portal.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

<span data-ttu-id="b3cd9-189">Na diagramie protokołów internetowych można TCP, UDP, HTTP lub HTTPS.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-189">In the diagram, Internet Protocols can be TCP, UDP, HTTP, or HTTPS.</span></span>

> [!NOTE]
> <span data-ttu-id="b3cd9-190">Konfigurowanie sieci wirtualnej platformy Azure jest bezpłatne.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-190">Setting up a virtual network in Azure is free of charge.</span></span> <span data-ttu-id="b3cd9-191">Jednak są naliczane dla bramy sieci VPN, który łączy się z lokalnym.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-191">However, you are charged for the VPN gateway that connects to on-premises.</span></span> <span data-ttu-id="b3cd9-192">Opłata jest oparta na czas, który połączenie jest udostępnione i dostępny.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-192">This charge is based on the amount of time that connection is provisioned and available.</span></span>
> 
> 

## <a name="2-tier-and-3-tier-with-presentation-tier-scale-out"></a><span data-ttu-id="b3cd9-193">warstwy 2 i 3-warstwowej z skalowalne warstwy prezentacji</span><span class="sxs-lookup"><span data-stu-id="b3cd9-193">2-tier and 3-tier with presentation tier scale-out</span></span>
<span data-ttu-id="b3cd9-194">W tym wzorcu aplikacji wdrożeniem aplikacji warstwy 2 lub 3-warstwowej bazy danych na maszynach wirtualnych platformy Azure przez umieszczenie każdej warstwy aplikacji w innej maszyny wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-194">In this application pattern, you deploy 2-tier or 3-tier database application to Azure Virtual Machines by placing each application tier in a different virtual machine.</span></span> <span data-ttu-id="b3cd9-195">Ponadto można skalować w poziomie warstwy prezentacji z powodu zwiększenie wielkości przychodzące żądania klientów.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-195">In addition, you scale out the presentation tier due to increased volume of incoming client requests.</span></span>

<span data-ttu-id="b3cd9-196">Ten wzorzec aplikacji jest przydatna, gdy:</span><span class="sxs-lookup"><span data-stu-id="b3cd9-196">This application pattern is useful when:</span></span>

* <span data-ttu-id="b3cd9-197">Chcesz przenieść aplikacji przedsiębiorstwa z lokalnymi zwirtualizowanych platform na maszynach wirtualnych platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-197">You want to move enterprise applications from on-premises virtualized platforms to Azure Virtual Machines.</span></span>
* <span data-ttu-id="b3cd9-198">Chcesz skalowania warstwy prezentacji z powodu zwiększenie wielkości przychodzące żądania klientów.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-198">You want to scale out the presentation tier due to increased volume of incoming client requests.</span></span>
* <span data-ttu-id="b3cd9-199">Chcesz szybko udostępnić programowanie i testowanie środowisk w krótkich okresach czasu.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-199">You want to quickly provision development and test environments for short periods of time.</span></span>
* <span data-ttu-id="b3cd9-200">Chcesz wykonać testowanie pod kątem różnych poziomów obciążeń akcent, ale w tym samym czasie nie ma własny i obsługa wielu komputerów fizycznych przez cały czas.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-200">You want to perform stress testing for varying workload levels but at the same time you do not want to own and maintain many physical machines all the time.</span></span>
* <span data-ttu-id="b3cd9-201">Ma zostać właścicielem środowisku infrastruktury, w którym można skalować w górę i w dół na żądanie.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-201">You want to own an infrastructure environment that can scale up and down on demand.</span></span>

<span data-ttu-id="b3cd9-202">Poniższy diagram ilustruje sposób można umieścić w warstwach aplikacji w wielu maszyn wirtualnych na platformie Azure przez skalowania warstwy prezentacji z powodu zwiększenie wielkości przychodzące żądania klientów.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-202">The following diagram demonstrates how you can place the application tiers in multiple virtual machines in Azure by scaling out the presentation tier due to increased volume of incoming client requests.</span></span> <span data-ttu-id="b3cd9-203">Jak pokazano na diagramie, usługi równoważenia obciążenia Azure jest odpowiedzialny za Dystrybucja ruchu między wieloma maszynami wirtualnymi, a także określenie których serwer sieci web, aby nawiązać połączenie.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-203">As seen in the diagram, Azure Load Balancer is responsible for distributing traffic across multiple virtual machines and also determining which web server to connect to.</span></span> <span data-ttu-id="b3cd9-204">O wiele wystąpień serwerów sieci web za modułem równoważenia obciążenia zapewnia wysoką dostępność warstwy prezentacji.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-204">Having multiple instances of the web servers behind a load balancer ensures the high availability of the presentation tier.</span></span>

![Wzorzec aplikacji - skalowania warstwy prezentacji w poziomie](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728010.png)

### <a name="best-practices-for-2-tier-3-tier-or-n-tier-patterns-that-have-multiple-vms-in-one-tier"></a><span data-ttu-id="b3cd9-206">Najlepsze rozwiązania dotyczące warstwy 2, 3-warstwy lub n warstwowa wzorców, które mają wiele maszyn wirtualnych w jedną warstwę</span><span class="sxs-lookup"><span data-stu-id="b3cd9-206">Best practices for 2-tier, 3-tier, or n-tier patterns that have multiple VMs in one tier</span></span>
<span data-ttu-id="b3cd9-207">Zaleca się umieszczenie maszyny wirtualne, które należą do tej samej warstwie, w tej samej usłudze w chmurze i tego samego dostępności ustawić.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-207">It’s recommended that you place the virtual machines that belong to the same tier in the same cloud service and in the same the availability set.</span></span> <span data-ttu-id="b3cd9-208">Na przykład umieścić zestaw serwerów sieci web w **CloudService1** i **AvailabilitySet1** i zestaw serwerów baz danych w **CloudService2** i **AvailabilitySet2**.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-208">For example, place a set of web servers in **CloudService1** and **AvailabilitySet1** and a set of database servers in **CloudService2** and **AvailabilitySet2**.</span></span> <span data-ttu-id="b3cd9-209">Zestawem dostępności w Azure pozwala na umieszczenie węzłów wysokiej dostępności w domenach awarii oddzielne i uaktualnienia domen.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-209">An availability set in Azure enables you to place the high availability nodes into separate fault domains and upgrade domains.</span></span>

<span data-ttu-id="b3cd9-210">Aby korzystać z wielu wystąpień maszyny Wirtualnej z warstwy, należy skonfigurować usługi równoważenia obciążenia Azure między warstwami aplikacji.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-210">To leverage multiple VM instances of a tier, you need to configure Azure Load Balancer between application tiers.</span></span> <span data-ttu-id="b3cd9-211">Aby skonfigurować moduł równoważenia obciążenia w ramach poszczególnych warstw, należy utworzyć punkt końcowy równoważeniem obciążenia na maszynach wirtualnych każda warstwa oddzielnie.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-211">To configure Load Balancer in each tier, create a load-balanced endpoint on each tier’s VMs separately.</span></span> <span data-ttu-id="b3cd9-212">Dla określonej warstwy należy najpierw utworzyć maszyny wirtualne w tej samej usłudze w chmurze.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-212">For a specific tier, first create VMs in the same cloud service.</span></span> <span data-ttu-id="b3cd9-213">Dzięki temu mają tego samego publiczny wirtualny adres IP.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-213">This ensures that they have the same public Virtual IP address.</span></span> <span data-ttu-id="b3cd9-214">Następnie można utworzyć punktu końcowego na jednym z maszyn wirtualnych w danej warstwie.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-214">Next, create an endpoint on one of the virtual machines on that tier.</span></span> <span data-ttu-id="b3cd9-215">Następnie można przypisać tego samego punktu końcowego dla innych maszyn wirtualnych w tej warstwie do równoważenia obciążenia.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-215">Then, assign the same endpoint to the other virtual machines on that tier for load balancing.</span></span> <span data-ttu-id="b3cd9-216">Tworząc zestaw o zrównoważonym obciążeniu — Dystrybuuj ruch między wieloma maszynami wirtualnymi, a także umożliwić moduł równoważenia obciążenia określić, który węzeł nawiązanie po awarii węzła wirtualna wewnętrznej bazy danych.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-216">By creating a load-balanced set, you distribute traffic across multiple virtual machines and also allow the Load Balancer to determine which node to connect when a backend VM node fails.</span></span> <span data-ttu-id="b3cd9-217">Na przykład mających wiele wystąpień serwerów sieci web za modułem równoważenia obciążenia zapewnia wysoką dostępność warstwy prezentacji.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-217">For example, having multiple instances of the web servers behind a load balancer ensures the high availability of the presentation tier.</span></span>

<span data-ttu-id="b3cd9-218">Najlepszym rozwiązaniem zawsze upewnij się, że wszystkie połączenia z Internetem przejdź najpierw do warstwy prezentacji.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-218">As a best practice, always make sure that all internet connections first go to the presentation tier.</span></span> <span data-ttu-id="b3cd9-219">Warstwa prezentacji uzyskuje dostęp do warstwy biznesowej, a następnie warstwy biznesowej uzyskuje dostęp do warstwy danych.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-219">The presentation layer accesses the business tier, and then the business tier accesses the data tier.</span></span> <span data-ttu-id="b3cd9-220">Aby uzyskać więcej informacji na temat zezwolić na dostęp do warstwy prezentacji, zobacz [dostęp do zewnętrznych sieci maszyny Wirtualnej przy użyciu portalu Azure](../nsg-quickstart-portal.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="b3cd9-220">For more information on how to allow access to the presentation layer, see [Allow external access to your VM using the Azure portal](../nsg-quickstart-portal.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

<span data-ttu-id="b3cd9-221">Należy pamiętać, że moduł równoważenia obciążenia w Azure działa podobnie do usług w środowisku lokalnym.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-221">Note that the Load Balancer in Azure works similar to load balancers in an on-premises environment.</span></span> <span data-ttu-id="b3cd9-222">Aby uzyskać więcej informacji, zobacz [równoważenia obciążenia dla usług infrastruktury platformy Azure](../tutorial-load-balancer.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="b3cd9-222">For more information, see [Load balancing for Azure infrastructure services](../tutorial-load-balancer.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

<span data-ttu-id="b3cd9-223">Ponadto zalecane jest skonfigurowanie sieci prywatnej dla maszyn wirtualnych przy użyciu sieci wirtualnej platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-223">In addition, we recommend that you set up a private network for your virtual machines by using Azure Virtual Network.</span></span> <span data-ttu-id="b3cd9-224">Umożliwia im to komunikują się ze sobą za pośrednictwem prywatnego adresu IP.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-224">This allows them to communicate among themselves over the private IP address.</span></span> <span data-ttu-id="b3cd9-225">Aby uzyskać więcej informacji, zobacz [sieci wirtualnej Azure](../../../virtual-network/virtual-networks-overview.md).</span><span class="sxs-lookup"><span data-stu-id="b3cd9-225">For more information, see [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md).</span></span>

## <a name="2-tier-and-3-tier-with-business-tier-scale-out"></a><span data-ttu-id="b3cd9-226">warstwy 2 i 3-warstwowej z skalowalne warstwy biznesowej</span><span class="sxs-lookup"><span data-stu-id="b3cd9-226">2-tier and 3-tier with business tier scale-out</span></span>
<span data-ttu-id="b3cd9-227">W tym wzorcu aplikacji wdrożeniem aplikacji warstwy 2 lub 3-warstwowej bazy danych na maszynach wirtualnych platformy Azure przez umieszczenie każdej warstwy aplikacji w innej maszyny wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-227">In this application pattern, you deploy 2-tier or 3-tier database application to Azure Virtual Machines by placing each application tier in a different virtual machine.</span></span> <span data-ttu-id="b3cd9-228">Ponadto można rozpowszechniać składniki serwera aplikacji do wielu maszyn wirtualnych z powodu złożoności aplikacji.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-228">In addition, you might want to distribute the application server components to multiple virtual machines due to the complexity of your application.</span></span>

<span data-ttu-id="b3cd9-229">Ten wzorzec aplikacji jest przydatna, gdy:</span><span class="sxs-lookup"><span data-stu-id="b3cd9-229">This application pattern is useful when:</span></span>

* <span data-ttu-id="b3cd9-230">Chcesz przenieść aplikacji przedsiębiorstwa z lokalnymi zwirtualizowanych platform na maszynach wirtualnych platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-230">You want to move enterprise applications from on-premises virtualized platforms to Azure Virtual Machines.</span></span>
* <span data-ttu-id="b3cd9-231">Chcesz dystrybuować składniki serwera aplikacji do wielu maszyn wirtualnych z powodu złożoności aplikacji.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-231">You want to distribute the application server components to multiple virtual machines due to the complexity of your application.</span></span>
* <span data-ttu-id="b3cd9-232">Chcesz przenieść ciężki logiki biznesowej lokalnej aplikacji biznesowych (— biznesowych) na maszynach wirtualnych platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-232">You want to move business logic heavy on-premises LOB (line-of-business) applications to Azure Virtual Machines.</span></span> <span data-ttu-id="b3cd9-233">Aplikacje LOB są zestawem aplikacji krytyczne komputera, które są niezbędne do uruchomienia przedsiębiorstwa, takich jak ewidencjonowania aktywności, kadr (HR), Lista płac, zarządzania łańcuchem dostaw i aplikacji do planowania zasobów.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-233">LOB applications are a set of critical computer applications that are vital to running an enterprise, such as accounting, human resources (HR), payroll, supply chain management, and resource planning applications.</span></span>
* <span data-ttu-id="b3cd9-234">Chcesz szybko udostępnić programowanie i testowanie środowisk w krótkich okresach czasu.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-234">You want to quickly provision development and test environments for short periods of time.</span></span>
* <span data-ttu-id="b3cd9-235">Chcesz wykonać testowanie pod kątem różnych poziomów obciążeń akcent, ale w tym samym czasie nie ma własny i obsługa wielu komputerów fizycznych przez cały czas.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-235">You want to perform stress testing for varying workload levels but at the same time you do not want to own and maintain many physical machines all the time.</span></span>
* <span data-ttu-id="b3cd9-236">Ma zostać właścicielem środowisku infrastruktury, w którym można skalować w górę i w dół na żądanie.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-236">You want to own an infrastructure environment that can scale up and down on demand.</span></span>

<span data-ttu-id="b3cd9-237">Poniższy diagram przedstawia scenariusz lokalnymi i jego rozwiązanie chmury włączone.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-237">The following diagram demonstrates an on-premises scenario and its cloud enabled solution.</span></span> <span data-ttu-id="b3cd9-238">W tym scenariuszu umieszczeniu warstwy aplikacji w wielu maszyn wirtualnych na platformie Azure przez skalowania warstwy biznesowej, które zawiera składniki dostępu do danych i warstwy logiki biznesowej.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-238">In this scenario, you place the application tiers in multiple virtual machines in Azure by scaling out the business tier, which contains the business logic tier and data access components.</span></span> <span data-ttu-id="b3cd9-239">Jak pokazano na diagramie, usługi równoważenia obciążenia Azure jest odpowiedzialny za Dystrybucja ruchu między wieloma maszynami wirtualnymi, a także określenie których serwer sieci web, aby nawiązać połączenie.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-239">As seen in the diagram, Azure Load Balancer is responsible for distributing traffic across multiple virtual machines and also determining which web server to connect to.</span></span> <span data-ttu-id="b3cd9-240">O wiele wystąpień serwerów aplikacji za modułem równoważenia obciążenia zapewnia wysoką dostępność warstwy biznesowej.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-240">Having multiple instances of the application servers behind a load balancer ensures the high availability of the business tier.</span></span> <span data-ttu-id="b3cd9-241">Aby uzyskać więcej informacji, zobacz [najlepsze rozwiązania dla warstwy 2, 3 warstwy lub n warstwowa aplikacja wzorców, które mają wiele maszyn wirtualnych w jedną warstwę](#best-practices-for-2-tier-3-tier-or-n-tier-patterns-that-have-multiple-vms-in-one-tier).</span><span class="sxs-lookup"><span data-stu-id="b3cd9-241">For more information, see [Best practices for 2-tier, 3-tier, or n-tier application patterns that have multiple virtual machines in one tier](#best-practices-for-2-tier-3-tier-or-n-tier-patterns-that-have-multiple-vms-in-one-tier).</span></span>

![Wzorzec aplikacji z skalowania warstwy biznesowej w poziomie](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728011.png)

## <a name="2-tier-and-3-tier-with-presentation-and-business-tiers-scale-out-and-hadr"></a><span data-ttu-id="b3cd9-243">warstwy 2 i 3-warstwowej z prezentacji i skalowalne warstwy biznesowej oraz funkcji HADR</span><span class="sxs-lookup"><span data-stu-id="b3cd9-243">2-tier and 3-tier with presentation and business tiers scale-out and HADR</span></span>
<span data-ttu-id="b3cd9-244">W tym wzorcu aplikacji wdrożeniem aplikacji warstwy 2 lub 3-warstwowej bazy danych na maszynach wirtualnych platformy Azure przez dystrybucję warstwy prezentacji (serwer sieci web) i składniki (serwera aplikacji) warstwy biznesowej do wielu maszyn wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-244">In this application pattern, you deploy 2-tier or 3-tier database application to Azure Virtual Machines by distributing the presentation tier (web server) and the business tier (application server) components to multiple virtual machines.</span></span> <span data-ttu-id="b3cd9-245">Ponadto wdrożenie rozwiązania w zakresie odzyskiwania wysokiej dostępności i odzyskiwaniem po awarii dla baz danych w maszynach wirtualnych platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-245">In addition, you implement high-availability and disaster recovery solutions for your databases in Azure virtual machines.</span></span>

<span data-ttu-id="b3cd9-246">Ten wzorzec aplikacji jest przydatna, gdy:</span><span class="sxs-lookup"><span data-stu-id="b3cd9-246">This application pattern is useful when:</span></span>

* <span data-ttu-id="b3cd9-247">Chcesz przenieść aplikacji przedsiębiorstwa z zwirtualizowanych platform lokalnej na platformie Azure dzięki implementacji wysokiej dostępności programu SQL Server i funkcji odzyskiwania po awarii.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-247">You want to move enterprise applications from virtualized platforms on-premises to Azure by implementing SQL Server high availability and disaster recovery capabilities.</span></span>
* <span data-ttu-id="b3cd9-248">Chcesz skalować w poziomie warstwą prezentacji a warstwą biznesową ze względu na zwiększenie wielkości przychodzące żądania klientów i złożoność aplikacji.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-248">You want to scale out the presentation tier and the business tier due to increased volume of incoming client requests and the complexity of your application.</span></span>
* <span data-ttu-id="b3cd9-249">Chcesz szybko udostępnić programowanie i testowanie środowisk w krótkich okresach czasu.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-249">You want to quickly provision development and test environments for short periods of time.</span></span>
* <span data-ttu-id="b3cd9-250">Chcesz wykonać testowanie pod kątem różnych poziomów obciążeń akcent, ale w tym samym czasie nie ma własny i obsługa wielu komputerów fizycznych przez cały czas.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-250">You want to perform stress testing for varying workload levels but at the same time you do not want to own and maintain many physical machines all the time.</span></span>
* <span data-ttu-id="b3cd9-251">Ma zostać właścicielem środowisku infrastruktury, w którym można skalować w górę i w dół na żądanie.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-251">You want to own an infrastructure environment that can scale up and down on demand.</span></span>

<span data-ttu-id="b3cd9-252">Poniższy diagram przedstawia scenariusz lokalnymi i jego rozwiązanie chmury włączone.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-252">The following diagram demonstrates an on-premises scenario and its cloud enabled solution.</span></span> <span data-ttu-id="b3cd9-253">W tym scenariuszu skalowanie w poziomie z warstwą prezentacji a składników warstwy biznesowej w wielu maszyn wirtualnych na platformie Azure.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-253">In this scenario, you scale out the presentation tier and the business tier components in multiple virtual machines in Azure.</span></span> <span data-ttu-id="b3cd9-254">Ponadto wdrożenie wysokiej dostępności i odzyskiwaniem po awarii technik odzyskiwania (HADR) dla baz danych programu SQL Server na platformie Azure.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-254">In addition, you implement high availability and disaster recovery (HADR) techniques for SQL Server databases in Azure.</span></span>

<span data-ttu-id="b3cd9-255">Uruchamianie wielu kopii aplikacji w różnych maszyn wirtualnych upewnij się, czy Równoważenie obciążenia żądań w nich.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-255">Running multiple copies of an application in different VMs make sure that you are load balancing requests across them.</span></span> <span data-ttu-id="b3cd9-256">Jeśli masz wiele maszyn wirtualnych, należy upewnić się, że wszystkie maszyny wirtualne są dostępne i działa w jednym punkcie w czasie.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-256">When you have multiple virtual machines, you need to make sure that all your VMs are accessible and running at one point in time.</span></span> <span data-ttu-id="b3cd9-257">Jeśli konfigurujesz równoważenia obciążenia, moduł równoważenia obciążenia Azure śledzi kondycję maszyn wirtualnych i kieruje przychodzące wywołania do dobrej kondycji węzłów maszyna wirtualna działa poprawnie.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-257">If you configure load balancing, Azure Load Balancer tracks the health of VMs and directs incoming calls to the healthy functioning VM nodes properly.</span></span> <span data-ttu-id="b3cd9-258">Aby uzyskać informacje na temat sposobu konfigurowania równoważenia obciążenia maszyn wirtualnych, zobacz [równoważenia obciążenia dla usług infrastruktury platformy Azure](../tutorial-load-balancer.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="b3cd9-258">For information on how to set up load balancing of the virtual machines, see [Load balancing for Azure infrastructure services](../tutorial-load-balancer.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span> <span data-ttu-id="b3cd9-259">O wiele wystąpień serwerów sieci web i aplikacji za modułem równoważenia obciążenia zapewnia wysoką dostępność warstwy prezentacji i biznesowych.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-259">Having multiple instances of web and application servers behind a load balancer ensures the high availability of the presentation and business tiers.</span></span>

![Skalowalny w poziomie i wysoka dostępność.](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728012.png)

### <a name="best-practices-for-application-patterns-requiring-sql-hadr"></a><span data-ttu-id="b3cd9-261">Najlepsze rozwiązania dotyczące wzorców aplikacji wymagających SQL HADR</span><span class="sxs-lookup"><span data-stu-id="b3cd9-261">Best practices for application patterns requiring SQL HADR</span></span>
<span data-ttu-id="b3cd9-262">Po skonfigurowaniu wysokiej dostępności programu SQL Server i rozwiązania w zakresie odzyskiwania po awarii w maszynach wirtualnych platformy Azure, trwa konfigurowanie sieci wirtualnej dla maszyn wirtualnych przy użyciu [sieci wirtualnej Azure](../../../virtual-network/virtual-networks-overview.md) jest obowiązkowe.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-262">When you set up SQL Server high availability and disaster recovery solutions in Azure Virtual Machines, setting up a virtual network for your virtual machines using [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md) is mandatory.</span></span>  <span data-ttu-id="b3cd9-263">Maszyny wirtualne sieci wirtualnej mają stabilna prywatnego adresu IP nawet po przestoje usługi, w związku z tym można uniknąć aktualizacji czas rozpoznawania nazw DNS.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-263">Virtual machines within a Virtual Network will have a stable private IP address even after a service downtime, thus you can avoid the update time required for DNS name resolution.</span></span> <span data-ttu-id="b3cd9-264">Ponadto sieci wirtualnej umożliwia rozszerzenie sieci lokalnej na platformie Azure i tworzy granicę zaufanego.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-264">In addition, the virtual network allows you to extend your on-premises network to Azure and creates a trusted security boundary.</span></span> <span data-ttu-id="b3cd9-265">Na przykład jeśli aplikacja ma ograniczenia domeny firmy (takich jak uwierzytelnianie systemu Windows, usługi Active Directory) Konfigurowanie [sieci wirtualnej Azure](../../../virtual-network/virtual-networks-overview.md) jest konieczne.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-265">For example, if your application has corporate domain restrictions (such as, Windows authentication, Active Directory), setting up [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md) is necessary.</span></span>

<span data-ttu-id="b3cd9-266">Większość klientów, którzy korzystają z kodu produkcyjnego na platformie Azure, są utrzymywanie podstawowych i pomocniczych replik w systemie Azure.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-266">Most of customers, who are running production code on Azure, are keeping both primary and secondary replicas in Azure.</span></span>

<span data-ttu-id="b3cd9-267">Aby uzyskać szczegółowe informacje i samouczki o wysokiej dostępności i technik odzyskiwania po awarii, zobacz [wysokiej dostępności i odzyskiwania po awarii dla programu SQL Server w usłudze Azure Virtual Machines](virtual-machines-windows-sql-high-availability-dr.md).</span><span class="sxs-lookup"><span data-stu-id="b3cd9-267">For comprehensive information and tutorials on high availability and disaster recovery techniques, see [High Availability and Disaster Recovery for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-high-availability-dr.md).</span></span>

## <a name="2-tier-and-3-tier-using-azure-vms-and-cloud-services"></a><span data-ttu-id="b3cd9-268">warstwy 2 i 3-warstwowej przy użyciu maszyn wirtualnych platformy Azure i usługi w chmurze</span><span class="sxs-lookup"><span data-stu-id="b3cd9-268">2-tier and 3-tier using Azure VMs and Cloud Services</span></span>
<span data-ttu-id="b3cd9-269">W tym wzorcu aplikacji wdrożeniem warstwy 2 lub 3-warstwowych aplikacji na platformie Azure za pomocą obu [usługi w chmurze Azure](../../../cloud-services/cloud-services-choose-me.md#tellmecs) (role sieć web i proces roboczy - platforma jako usługa (PaaS)) i [maszyny wirtualne Azure](../overview.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) (infrastruktura jako usługa (IaaS)).</span><span class="sxs-lookup"><span data-stu-id="b3cd9-269">In this application pattern, you deploy 2-tier or 3-tier application to Azure by using both [Azure Cloud Services](../../../cloud-services/cloud-services-choose-me.md#tellmecs) (web and worker roles - Platform as a Service (PaaS)) and [Azure Virtual Machines](../overview.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) (Infrastructure as a Service (IaaS)).</span></span> <span data-ttu-id="b3cd9-270">Przy użyciu [usługi w chmurze Azure](https://azure.microsoft.com/documentation/services/cloud-services/) dla warstwy biznesowym/warstwy prezentacji i programu SQL Server w [maszyny wirtualne Azure](../overview.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) danych warstwa jest przydatne w przypadku większości aplikacji działających na platformie Azure.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-270">Using [Azure Cloud Services](https://azure.microsoft.com/documentation/services/cloud-services/) for the presentation tier/business tier and SQL Server in [Azure Virtual Machines](../overview.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) for the data tier is beneficial for most applications running on Azure.</span></span> <span data-ttu-id="b3cd9-271">Przyczyną jest to, że o wystąpienia obliczeniowe uruchomione na usługi w chmurze zapewnia łatwe zarządzanie, wdrażania, monitorowania i skalowalnego w poziomie.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-271">The reason is that having a compute instance running on Cloud Services provides an easy management, deployment, monitoring, and scale-out.</span></span>

<span data-ttu-id="b3cd9-272">Z usługami w chmurze Azure obsługuje infrastrukturę dla Ciebie, wykonuje konserwacja poprawek systemów operacyjnych i próbuje odzyskać przed awariami sprzętu i usługi.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-272">With Cloud Services, Azure maintains the infrastructure for you, performs routine maintenance, patches the operating systems, and attempts to recover from service and hardware failures.</span></span> <span data-ttu-id="b3cd9-273">Jeśli aplikacja wymaga skalowalnego w poziomie, automatycznej i ręcznej opcje skalowania w poziomie są dostępne dla projektu usługi w chmurze, zwiększ lub Zmniejsz liczbę wystąpień lub maszyn wirtualnych, które są używane przez aplikację.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-273">When your application needs scale-out, automatic, and manual scale-out options are available for your cloud service project by increasing or decreasing the number of instances or virtual machines that are used by your application.</span></span> <span data-ttu-id="b3cd9-274">Ponadto można użyć lokalnego programu Visual Studio do wdrażania aplikacji do projektu usługi w chmurze na platformie Azure.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-274">In addition, you can use on-premises Visual Studio to deploy your application to a cloud service project in Azure.</span></span>

<span data-ttu-id="b3cd9-275">Podsumowując, jeśli nie chcesz właścicielem szeroką gamę zadań administracyjnych dla prezentacji/firm warstwy i aplikacja nie wymaga żadnej złożonych konfiguracji lub aktualizacji systemu operacyjnego, użyj usługi w chmurze Azure.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-275">In summary, if you don’t want to own extensive administrative tasks for the presentation/business tier and your application does not require any complex configuration of software or the operating system, use Azure Cloud Services.</span></span> <span data-ttu-id="b3cd9-276">Jeśli baza danych SQL Azure nie obsługuje wszystkich funkcji, których szukasz, użyj programu SQL Server w maszynie wirtualnej platformy Azure w warstwie danych.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-276">If Azure SQL Database does not support all the features you are looking for, use SQL Server in an Azure Virtual Machine for the data tier.</span></span> <span data-ttu-id="b3cd9-277">Uruchamianie aplikacji na usług Azure Cloud Services i przechowywania danych w usłudze Azure Virtual Machines łączy zalety obu usług.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-277">Running an application on Azure Cloud Services and storing data in Azure Virtual Machines combines the benefits of both services.</span></span> <span data-ttu-id="b3cd9-278">Szczegółowe porównanie, zobacz sekcję w tym temacie na [Porównanie strategii rozwoju na platformie Azure](#comparing-web-development-strategies-in-azure).</span><span class="sxs-lookup"><span data-stu-id="b3cd9-278">For a detailed comparison, see the section in this topic on [Comparing development strategies in Azure](#comparing-web-development-strategies-in-azure).</span></span>

<span data-ttu-id="b3cd9-279">W tym wzorcu aplikacji Warstwa prezentacji zawiera roli sieci web, która działa składnika usługi w chmurze w środowisku Azure wykonywania i jest dostosowany do programowania aplikacji sieci web, ponieważ obsługiwana przez usługi IIS i platformy ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-279">In this application pattern, the presentation tier includes a web role, which is a Cloud Services component running in the Azure execution environment and it is customized for web application programming as supported by IIS and ASP.NET.</span></span> <span data-ttu-id="b3cd9-280">Warstwa biznesowa lub wewnętrznej bazy danych obejmuje rolę procesu roboczego, który jest uruchomiony składnik usługi w chmurze w środowisku Azure wykonywania i przydaje się do rozwoju ogólnych i może wykonywać przetwarzania w tle dla roli sieci web.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-280">The business or backend tier includes a worker role, which is a Cloud Services component running in the Azure execution environment and it is useful for generalized development, and may perform background processing for a web role.</span></span> <span data-ttu-id="b3cd9-281">Warstwy bazy danych znajduje się na maszynie wirtualnej programu SQL Server na platformie Azure.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-281">The database tier resides in a SQL Server virtual machine in Azure.</span></span> <span data-ttu-id="b3cd9-282">Komunikacja między warstwą prezentacji a warstwą bazy danych odbywa się bezpośrednio lub za pośrednictwem warstwy biznesowej — składniki roli procesu roboczego.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-282">The communication between the presentation tier and the database tier happens directly or over the business tier – worker role components.</span></span>

<span data-ttu-id="b3cd9-283">Ten wzorzec aplikacji jest przydatna, gdy:</span><span class="sxs-lookup"><span data-stu-id="b3cd9-283">This application pattern is useful when:</span></span>

* <span data-ttu-id="b3cd9-284">Chcesz przenieść aplikacji przedsiębiorstwa z zwirtualizowanych platform lokalnej na platformie Azure dzięki implementacji wysokiej dostępności programu SQL Server i funkcji odzyskiwania po awarii.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-284">You want to move enterprise applications from virtualized platforms on-premises to Azure by implementing SQL Server high availability and disaster recovery capabilities.</span></span>
* <span data-ttu-id="b3cd9-285">Ma zostać właścicielem środowisku infrastruktury, w którym można skalować w górę i w dół na żądanie.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-285">You want to own an infrastructure environment that can scale up and down on demand.</span></span>
* <span data-ttu-id="b3cd9-286">Baza danych SQL Azure nie obsługuje wszystkich funkcji potrzebnych aplikacji lub bazy danych.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-286">Azure SQL Database does not support all the features that your application or database needs.</span></span>
* <span data-ttu-id="b3cd9-287">Chcesz wykonać testowanie pod kątem różnych poziomów obciążeń akcent, ale w tym samym czasie nie ma własny i obsługa wielu komputerów fizycznych przez cały czas.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-287">You want to perform stress testing for varying workload levels but at the same time you do not want to own and maintain many physical machines all the time.</span></span>

<span data-ttu-id="b3cd9-288">Poniższy diagram przedstawia scenariusz lokalnymi i jego rozwiązanie chmury włączone.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-288">The following diagram demonstrates an on-premises scenario and its cloud enabled solution.</span></span> <span data-ttu-id="b3cd9-289">W tym scenariuszu umieszczeniu warstwy prezentacji w role sieci web, warstwy biznesowej w roli proces roboczy, ale warstwy danych w maszynach wirtualnych platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-289">In this scenario, you place the presentation tier in web roles, the business tier in worker roles but the data tier in virtual machines in Azure.</span></span> <span data-ttu-id="b3cd9-290">Uruchamianie wielu kopii warstwy prezentacji w różnych rolach zapewnia celu zrównoważenia obciążenia żądaniami między nimi.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-290">Running multiple copies of the presentation tier in different web roles ensures to load balance requests across them.</span></span> <span data-ttu-id="b3cd9-291">Połączenie usługi w chmurze Azure z usługi Azure Virtual Machines zaleca się skonfigurowanie [sieci wirtualnej Azure](../../../virtual-network/virtual-networks-overview.md) również.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-291">When you combine Azure Cloud Services with Azure Virtual Machines, we recommend that you set up [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md) as well.</span></span> <span data-ttu-id="b3cd9-292">Z [sieci wirtualnej Azure](../../../virtual-network/virtual-networks-overview.md), możesz może mieć stabilny i trwałe prywatnych adresów IP, w tym samym chmury usługi w chmurze.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-292">With [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md), you can have stable and persistent private IP addresses within the same cloud service in the cloud.</span></span> <span data-ttu-id="b3cd9-293">Po zdefiniowaniu sieci wirtualnej dla maszyn wirtualnych i usług w chmurze, można uruchomić, komunikować się ze sobą za pośrednictwem prywatnego adresu IP.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-293">Once you define a virtual network for your virtual machines and cloud services, they can start communicating among themselves over the private IP address.</span></span> <span data-ttu-id="b3cd9-294">Ponadto posiadanie maszyn wirtualnych i Azure web/procesów roboczych w tej samej [sieci wirtualnej Azure](../../../virtual-network/virtual-networks-overview.md) zapewnia małe opóźnienia i bardziej bezpieczne połączenie.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-294">In addition, having virtual machines and Azure web/worker roles in the same [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md) provides low latency and more secure connectivity.</span></span> <span data-ttu-id="b3cd9-295">Aby uzyskać więcej informacji, zobacz [co to jest usługa w chmurze](../../../cloud-services/cloud-services-choose-me.md).</span><span class="sxs-lookup"><span data-stu-id="b3cd9-295">For more information, see [What is a cloud service](../../../cloud-services/cloud-services-choose-me.md).</span></span>

<span data-ttu-id="b3cd9-296">Jak pokazano na diagramie, usługi równoważenia obciążenia Azure polega na rozłożeniu ruchu sieciowego między wiele maszyn wirtualnych i decyduje również o którym serwer sieci web lub serwera aplikacji, aby nawiązać połączenie.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-296">As seen in the diagram, Azure Load Balancer distributes traffic across multiple virtual machines and also determines which web server or application server to connect to.</span></span> <span data-ttu-id="b3cd9-297">O wiele wystąpień serwerów sieci web i aplikacji za modułem równoważenia obciążenia zapewnia wysoką dostępność warstwą prezentacji a warstwą biznesową.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-297">Having multiple instances of the web and application servers behind a load balancer ensures the high availability of the presentation tier and the business tier.</span></span> <span data-ttu-id="b3cd9-298">Aby uzyskać więcej informacji, zobacz [najlepszych rozwiązań dla aplikacji wzorce wymagające HADR SQL](#best-practices-for-application-patterns-requiring-sql-hadr).</span><span class="sxs-lookup"><span data-stu-id="b3cd9-298">For more information, see [Best practices for application patterns requiring SQL HADR](#best-practices-for-application-patterns-requiring-sql-hadr).</span></span>

![Wzorce aplikacji z usługami w chmurze](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728013.png)

<span data-ttu-id="b3cd9-300">Innym rozwiązaniem do zaimplementowania wzorca tej aplikacji jest aby użyć roli skonsolidowanych sieci web, która zawiera warstwę prezentacji i składników warstwy biznesowej, jak pokazano na poniższym diagramie.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-300">Another approach to implement this application pattern is to use a consolidated web role that contains both presentation tier and business tier components as shown in the following diagram.</span></span> <span data-ttu-id="b3cd9-301">Ten wzorzec aplikacji jest przydatne w przypadku aplikacji wymagających stanowych projektu.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-301">This application pattern is useful for applications that require stateful design.</span></span> <span data-ttu-id="b3cd9-302">Ponieważ Azure zawiera węzły obliczeniowe bezstanowych role sieci web i proces roboczy, zaleca się stosowanie logiki do przechowywania stanu sesji przy użyciu jednej z następujących technologii: [buforowanie Azure](https://azure.microsoft.com/documentation/services/redis-cache/), [Azure Table Storage](../../../cosmos-db/table-storage-how-to-use-dotnet.md) lub [bazy danych SQL Azure](../../../sql-database/sql-database-technical-overview.md).</span><span class="sxs-lookup"><span data-stu-id="b3cd9-302">Since Azure provides stateless compute nodes on web and worker roles, we recommend that you implement a logic to store session state using one of the following technologies: [Azure Caching](https://azure.microsoft.com/documentation/services/redis-cache/), [Azure Table Storage](../../../cosmos-db/table-storage-how-to-use-dotnet.md) or [Azure SQL Database](../../../sql-database/sql-database-technical-overview.md).</span></span>

![Wzorce aplikacji z usługami w chmurze](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728014.png)

## <a name="pattern-with-azure-vms-azure-sql-database-and-azure-app-service-web-apps"></a><span data-ttu-id="b3cd9-304">Wzorzec maszyny wirtualne platformy Azure, baza danych Azure SQL i usługa Azure App Service (aplikacje sieci Web)</span><span class="sxs-lookup"><span data-stu-id="b3cd9-304">Pattern with Azure VMs, Azure SQL Database, and Azure App Service (Web Apps)</span></span>
<span data-ttu-id="b3cd9-305">Podstawowym celem tego wzorca aplikacji jest jak połączyć infrastruktury platformy Azure jako składniki usługi (IaaS), z platformy Azure składniki platformy jako usługa (PaaS) w rozwiązaniu.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-305">The primary goal of this application pattern is to show you how to combine Azure infrastructure as a service (IaaS) components with Azure platform-as-a-service components (PaaS) in your solution.</span></span> <span data-ttu-id="b3cd9-306">Ten wzorzec koncentruje się na bazie danych SQL Azure do przechowywania danych relacyjnych.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-306">This pattern is focused on Azure SQL Database for relational data storage.</span></span> <span data-ttu-id="b3cd9-307">Nie obejmuje program SQL Server w maszynie wirtualnej platformy Azure, który jest częścią infrastruktury platformy Azure jako oferty usługi.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-307">It does not include SQL Server in an Azure virtual machine, which is part of the Azure infrastructure as a service offering.</span></span>

<span data-ttu-id="b3cd9-308">W tym wzorcu aplikacji wdrożysz aplikację bazy danych na platformie Azure przez umieszczenie warstwy prezentacji i biznesowych w tej samej maszyny wirtualnej i uzyskiwania dostępu do bazy danych na serwerach usługi Azure SQL Database (baza danych SQL).</span><span class="sxs-lookup"><span data-stu-id="b3cd9-308">In this application pattern, you deploy a database application to Azure by placing the presentation and business tiers in the same virtual machine and accessing a database in Azure SQL Database (SQL Database) servers.</span></span> <span data-ttu-id="b3cd9-309">Warstwa prezentacji można wdrożyć przy użyciu tradycyjnych sieci web usług IIS na podstawie rozwiązań.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-309">You can implement the presentation tier by using traditional IIS-based web solutions.</span></span> <span data-ttu-id="b3cd9-310">Lub scalonej prezentacji i warstwy biznesowej można wdrożyć przy użyciu [Azure Web Apps](https://azure.microsoft.com/documentation/services/app-service/web/).</span><span class="sxs-lookup"><span data-stu-id="b3cd9-310">Or, you can implement a combined presentation and business tier by using [Azure Web Apps](https://azure.microsoft.com/documentation/services/app-service/web/).</span></span>

<span data-ttu-id="b3cd9-311">Ten wzorzec aplikacji jest przydatna, gdy:</span><span class="sxs-lookup"><span data-stu-id="b3cd9-311">This application pattern is useful when:</span></span>

* <span data-ttu-id="b3cd9-312">Masz już istniejącego serwera bazy danych SQL skonfigurowany w usłudze Azure i chcesz szybko przetestować aplikację.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-312">You already have an existing SQL Database server configured in Azure and you want to test your application quickly.</span></span>
* <span data-ttu-id="b3cd9-313">Chcesz przetestować możliwości środowiska platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-313">You want to test the capabilities of Azure environment.</span></span>
* <span data-ttu-id="b3cd9-314">Chcesz szybko udostępnić programowanie i testowanie środowisk w krótkich okresach czasu.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-314">You want to quickly provision development and test environments for short periods of time.</span></span>
* <span data-ttu-id="b3cd9-315">Składniki dostępu logikę i dane biznesowe mogą być niezależne w obrębie aplikacji sieci web.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-315">Your business logic and data access components can be self-contained within a web application.</span></span>

<span data-ttu-id="b3cd9-316">Poniższy diagram przedstawia scenariusz lokalnymi i jego rozwiązanie chmury włączone.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-316">The following diagram demonstrates an on-premises scenario and its cloud enabled solution.</span></span> <span data-ttu-id="b3cd9-317">W tym scenariuszu umieszczeniu warstwy aplikacji w jednej maszyny wirtualnej platformy Azure i dostępu do danych w bazie danych SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-317">In this scenario, you place the application tiers in a single virtual machine in Azure and access data in Azure SQL Database.</span></span>

![Wzorzec mieszanych aplikacji](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728015.png)

<span data-ttu-id="b3cd9-319">Jeśli wybierzesz opcję wdrażania połączone sieci web i warstwy aplikacji za pomocą aplikacji sieci Web platformy Azure, zaleca się zachować warstwy aplikacji lub warstwy środkowej jako biblioteki dołączanej (dynamicznie dll) w kontekście aplikacji sieci web.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-319">If you choose to implement a combined web and application tier by using Azure Web Apps, we recommend that you keep the middle-tier or application tier as dynamic-link libraries (DLLs) in the context of a web application.</span></span>

<span data-ttu-id="b3cd9-320">Ponadto, zapoznaj się z zaleceniami podanymi w [Porównanie strategii rozwoju sieci web na platformie Azure](#comparing-web-development-strategies-in-azure) sekcji na końcu tego artykułu, aby dowiedzieć się więcej na temat technik programowania.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-320">In addition, review the recommendations given in the [Comparing web development strategies in Azure](#comparing-web-development-strategies-in-azure) section at the end of this article to learn more about programming techniques.</span></span>

## <a name="n-tier-hybrid-application-pattern"></a><span data-ttu-id="b3cd9-321">N-warstwowa hybrydowych aplikacji wzorca</span><span class="sxs-lookup"><span data-stu-id="b3cd9-321">N-tier hybrid application pattern</span></span>
<span data-ttu-id="b3cd9-322">N warstwowa hybrydowych aplikacji wzorzec służy do wdrożenia aplikacji w wielu warstw dystrybuowane między lokalną i platformą Azure.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-322">In n-tier hybrid application pattern, you implement your application in multiple tiers distributed between on-premises and Azure.</span></span> <span data-ttu-id="b3cd9-323">W związku z tym utworzyć systemu hybrydowe elastyczne i wielokrotnego użytku, które można zmodyfikować lub dodać określonej warstwy bez zmiany innych warstw.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-323">Therefore, you create a flexible and reusable hybrid system, which you can modify or add a specific tier without changing the other tiers.</span></span> <span data-ttu-id="b3cd9-324">Aby rozszerzyć sieci firmowej do chmury, należy użyć [sieci wirtualnej Azure](../../../virtual-network/virtual-networks-overview.md) usługi.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-324">To extend your corporate network to the cloud, you use [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md) service.</span></span>

<span data-ttu-id="b3cd9-325">Ten wzorzec aplikacji hybrydowych jest przydatna, gdy:</span><span class="sxs-lookup"><span data-stu-id="b3cd9-325">This hybrid application pattern is useful when:</span></span>

* <span data-ttu-id="b3cd9-326">Chcesz tworzyć aplikacje, które działają częściowo w chmurze i częściowo lokalnie.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-326">You want to build applications that run partly in the cloud and partly on-premises.</span></span>
* <span data-ttu-id="b3cd9-327">Użytkownik chce migrować niektóre lub wszystkie elementy istniejącej aplikacji lokalnych do chmury.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-327">You want to migrate some or all elements of an existing on-premises application to the cloud.</span></span>
* <span data-ttu-id="b3cd9-328">Chcesz przenieść aplikacje przedsiębiorstwa z lokalnymi zwirtualizowanych platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-328">You want to move enterprise applications from on-premises virtualized platforms to Azure.</span></span>
* <span data-ttu-id="b3cd9-329">Ma zostać właścicielem środowisku infrastruktury, w którym można skalować w górę i w dół na żądanie.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-329">You want to own an infrastructure environment that can scale up and down on demand.</span></span>
* <span data-ttu-id="b3cd9-330">Chcesz szybko udostępnić programowanie i testowanie środowisk w krótkich okresach czasu.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-330">You want to quickly provision development and test environments for short periods of time.</span></span>
* <span data-ttu-id="b3cd9-331">Ma to ekonomiczne rozwiązanie, aby korzystać z kopii zapasowych dla aplikacji baz danych przedsiębiorstwa.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-331">You want a cost effective way to take backups for enterprise database applications.</span></span>

<span data-ttu-id="b3cd9-332">Poniższy diagram ilustruje wzorzec aplikacji hybrydowych n warstwowa obejmujący lokalną i platformą Azure.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-332">The following diagram demonstrates an n-tier hybrid application pattern that spans across on-premises and Azure.</span></span> <span data-ttu-id="b3cd9-333">Jak pokazano na diagramie, lokalnymi infrastruktura obejmuje [usług domenowych w usłudze Active Directory](https://technet.microsoft.com/library/hh831484.aspx) kontrolera domeny w celu obsługi uwierzytelniania i autoryzacji użytkowników.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-333">As shown in the diagram, on-premises infrastructure includes [Active Directory Domain Services](https://technet.microsoft.com/library/hh831484.aspx) domain controller to support user authentication and authorization.</span></span> <span data-ttu-id="b3cd9-334">Należy pamiętać, że diagram przedstawia scenariusza, w którym niektórych części warstwy danych na żywo w lokalnym centrum danych należy niektórych części warstwy danych na żywo na platformie Azure.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-334">Note that the diagram demonstrates a scenario, where some parts of the data tier live in an on-premises data center whereas some parts of the data tier live in Azure.</span></span> <span data-ttu-id="b3cd9-335">W zależności od potrzeb aplikacji można zaimplementować kilka scenariuszy hybrydowych.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-335">Depending on your application’s needs, you can implement several other hybrid scenarios.</span></span> <span data-ttu-id="b3cd9-336">Na przykład w środowisku lokalnym, ale warstwy danych na platformie Azure mogą przechowywać warstwą prezentacji a warstwą biznesową.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-336">For example, you might keep the presentation tier and the business tier in an on-premises environment but the data tier in Azure.</span></span>

![N-warstwowy wzorzec aplikacji](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728016.png)

<span data-ttu-id="b3cd9-338">Na platformie Azure, można użyć usługi Active Directory jako autonomiczny katalog chmury dla danej organizacji lub można również zintegrować istniejącej lokalnej usługi Active Directory z [usługi Azure Active Directory](https://azure.microsoft.com/documentation/services/active-directory/).</span><span class="sxs-lookup"><span data-stu-id="b3cd9-338">In Azure, you can use Active Directory as a standalone cloud directory for your organization, or you can also integrate existing on-premises Active Directory with [Azure Active Directory](https://azure.microsoft.com/documentation/services/active-directory/).</span></span> <span data-ttu-id="b3cd9-339">Jak pokazano na diagramie, składników warstwy biznesowej możesz uzyskać dostępu do wielu źródeł danych, takich jak do [programu SQL Server na platformie Azure](virtual-machines-windows-sql-server-iaas-overview.md) za pośrednictwem prywatnego wewnętrznego adresu IP, do lokalnego programu SQL Server za pośrednictwem [sieci wirtualnej Azure](../../../virtual-network/virtual-networks-overview.md), lub do [bazy danych SQL](../../../sql-database/sql-database-technical-overview.md) przy użyciu technologii dostawcy danych .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-339">As seen in the diagram, the business tier components can access to multiple data sources, such as to [SQL Server in Azure](virtual-machines-windows-sql-server-iaas-overview.md) via a private internal IP address, to on-premises SQL Server via [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md), or to [SQL Database](../../../sql-database/sql-database-technical-overview.md) using the .NET Framework data provider technologies.</span></span> <span data-ttu-id="b3cd9-340">Na tym diagramie baza danych SQL Azure jest usługą magazynu opcjonalnymi danymi.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-340">In this diagram, Azure SQL Database is an optional data storage service.</span></span>

<span data-ttu-id="b3cd9-341">We wzorcu aplikacji hybrydowych n warstwowa można zaimplementować poniższy przepływ pracy w określonej kolejności.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-341">In n-tier hybrid application pattern, you can implement the following workflow in the order specified:</span></span>

1. <span data-ttu-id="b3cd9-342">Zidentyfikować aplikacje baz danych przedsiębiorstwa, które należy przenieść do chmury przy użyciu [zestaw narzędzi planowania (MAP) i Microsoft Assessment](http://microsoft.com/map).</span><span class="sxs-lookup"><span data-stu-id="b3cd9-342">Identify enterprise database applications that need to be moved up to cloud by using the [Microsoft Assessment and Planning (MAP) Toolkit](http://microsoft.com/map).</span></span> <span data-ttu-id="b3cd9-343">Zestaw narzędzi do mapy zbiera dane spisu i wydajności z komputerów, które zamierzasz do wirtualizacji i zawiera zalecenia dotyczące pojemności i planowania oceny.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-343">The MAP Toolkit gathers inventory and performance data from computers you are considering for virtualization and provides recommendations on capacity and assessment planning.</span></span>
2. <span data-ttu-id="b3cd9-344">Plan zasobów i konfiguracji potrzebne do platformy Azure, takich jak konta magazynu i maszyn wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-344">Plan the resources and configuration needed in the Azure platform, such as storage accounts and virtual machines.</span></span>
3. <span data-ttu-id="b3cd9-345">Skonfiguruj połączenie sieciowe między siecią firmową lokalną i [sieci wirtualnej Azure](../../../virtual-network/virtual-networks-overview.md).</span><span class="sxs-lookup"><span data-stu-id="b3cd9-345">Set up network connectivity between the corporate network on-premises and [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md).</span></span> <span data-ttu-id="b3cd9-346">Aby skonfigurować połączenie między siecią firmową lokalną i maszynę wirtualną na platformie Azure, użyj jednej z następujących dwóch metod:</span><span class="sxs-lookup"><span data-stu-id="b3cd9-346">To set up the connection between the corporate network on-premises and a virtual machine in Azure, use one of the following two methods:</span></span>
   
   1. <span data-ttu-id="b3cd9-347">Nawiąż połączenie między lokalną i platformą Azure za pośrednictwem publicznego punktów końcowych na maszynie wirtualnej na platformie Azure.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-347">Establish a connection between on-premises and Azure via public end points on a virtual machine in Azure.</span></span> <span data-ttu-id="b3cd9-348">Ta metoda zapewnia łatwą konfigurację i pozwala na użycie uwierzytelniania programu SQL Server na maszynie wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-348">This method provides an easy setup and enables you to use SQL Server authentication in your virtual machine.</span></span> <span data-ttu-id="b3cd9-349">Ponadto Konfigurowanie reguł sieciowej grupy zabezpieczeń do kontroli ruchu publicznego do maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-349">In addition, set up your network security group rules to control public traffic to the VM.</span></span> <span data-ttu-id="b3cd9-350">Aby uzyskać więcej informacji, zobacz [dostęp do zewnętrznych sieci maszyny Wirtualnej przy użyciu portalu Azure](../nsg-quickstart-portal.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="b3cd9-350">For more information, see [Allow external access to your VM using the Azure portal](../nsg-quickstart-portal.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>
   2. <span data-ttu-id="b3cd9-351">Nawiąż połączenie między lokalną i platformą Azure za pośrednictwem tunelu sieci VPN Azure wirtualnego prywatnych.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-351">Establish a connection between on-premises and Azure via Azure Virtual Private network (VPN) tunnel.</span></span> <span data-ttu-id="b3cd9-352">Ta metoda umożliwia rozszerzenie zasad domeny do maszyny wirtualnej na platformie Azure.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-352">This method allows you to extend domain policies to a virtual machine in Azure.</span></span> <span data-ttu-id="b3cd9-353">Ponadto można skonfigurować reguły zapory i uwierzytelniania systemu Windows na maszynie wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-353">In addition, you can set up firewall rules and use Windows authentication in your virtual machine.</span></span> <span data-ttu-id="b3cd9-354">Obecnie usługa Azure obsługuje bezpieczne połączenie sieci VPN lokacja lokacja i połączeń sieci VPN punkt lokacja:</span><span class="sxs-lookup"><span data-stu-id="b3cd9-354">Currently, Azure supports secure site-to-site VPN and point-to-site VPN connections:</span></span>
      
      * <span data-ttu-id="b3cd9-355">Bezpieczne połączenie lokacja lokacja z może nawiązać połączenie sieciowe między siecią lokalną a sieci wirtualnej na platformie Azure.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-355">With secure site-to-site connection, you can establish network connectivity between your on-premises network and your virtual network in Azure.</span></span> <span data-ttu-id="b3cd9-356">Zaleca się podłączania centrum danych w lokalnym środowisku Azure.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-356">It is recommended for connecting your on-premises data center environment to Azure.</span></span>
      * <span data-ttu-id="b3cd9-357">Bezpieczne połączenie punkt lokacja z można ustanowić połączenie sieciowe między sieci wirtualnej platformy Azure i poszczególne komputery z uruchomionym w dowolnym miejscu.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-357">With secure point-to-site connection, you can establish network connectivity between your virtual network in Azure and your individual computers running anywhere.</span></span> <span data-ttu-id="b3cd9-358">Zaleca się przede wszystkim do celów programowania i testowania.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-358">It is mostly recommended for development and test purposes.</span></span>
      
      <span data-ttu-id="b3cd9-359">Aby uzyskać informacje na temat nawiązywania połączenia z programem SQL Server na platformie Azure, zobacz [Connect do programu SQL Server maszynę wirtualną na platformie Azure](virtual-machines-windows-sql-connect.md).</span><span class="sxs-lookup"><span data-stu-id="b3cd9-359">For information on how to connect to SQL Server in Azure, see [Connect to a SQL Server Virtual Machine on Azure](virtual-machines-windows-sql-connect.md).</span></span>
4. <span data-ttu-id="b3cd9-360">Skonfiguruj zaplanowane zadania i alerty, które wykonują kopie zapasowe danych lokalnych w dysku maszyny wirtualnej na platformie Azure.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-360">Set up scheduled jobs and alerts that back up on-premises data in a virtual machine disk in Azure.</span></span> <span data-ttu-id="b3cd9-361">Aby uzyskać więcej informacji, zobacz [programu SQL Server z kopii zapasowej i przywracania usługi magazynu obiektów Blob Azure](https://msdn.microsoft.com/library/jj919148.aspx) i [kopii zapasowej i przywracania dla programu SQL Server w usłudze Azure Virtual Machines](virtual-machines-windows-sql-backup-recovery.md).</span><span class="sxs-lookup"><span data-stu-id="b3cd9-361">For more information, see [SQL Server Backup and Restore with Azure Blob Storage Service](https://msdn.microsoft.com/library/jj919148.aspx) and [Backup and Restore for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-backup-recovery.md).</span></span>
5. <span data-ttu-id="b3cd9-362">W zależności od potrzeb aplikacji można zaimplementować jedną z trzech następujących scenariuszy:</span><span class="sxs-lookup"><span data-stu-id="b3cd9-362">Depending on your application’s needs, you can implement one of the following three common scenarios:</span></span>
   
   1. <span data-ttu-id="b3cd9-363">Serwera sieci web, serwera aplikacji i danych nie liter na serwerze bazy danych na platformie Azure można zachować przechowywać poufnych danych w sieci lokalnej.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-363">You can keep your web server, application server, and insensitive data in a database server in Azure whereas you keep the sensitive data on-premises.</span></span>
   2. <span data-ttu-id="b3cd9-364">Można zachować na serwerze sieci web i serwera aplikacji lokalnych podczas gdy serwer bazy danych na maszynie wirtualnej na platformie Azure.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-364">You can keep your web server and application server on-premises whereas the database server in a virtual machine in Azure.</span></span>
   3. <span data-ttu-id="b3cd9-365">Możesz zachować z serwera bazy danych, serwer sieci web i serwera aplikacji lokalnej repliki bazy danych można przechowywać w maszynach wirtualnych platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-365">You can keep your database server, web server, and application server on-premises whereas you keep the database replicas in virtual machines in Azure.</span></span> <span data-ttu-id="b3cd9-366">To ustawienie umożliwia lokalnych serwerów sieci web lub aplikacji raportowania można uzyskać dostępu do replik bazy danych na platformie Azure.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-366">This setting allows the on-premises web servers or reporting applications to access the database replicas in Azure.</span></span> <span data-ttu-id="b3cd9-367">W związku z tym można uzyskać, aby zmniejszyć obciążenie w lokalnej bazie danych.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-367">Therefore, you can achieve to lower the workload in an on-premises database.</span></span> <span data-ttu-id="b3cd9-368">Firma Microsoft zaleca, aby zaimplementować ten scenariusz ciężki odczytu obciążeń i rozwoju celów.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-368">We recommend that you implement this scenario for heavy read workloads and developmental purposes.</span></span> <span data-ttu-id="b3cd9-369">Informacje dotyczące tworzenia replik bazy danych na platformie Azure, zobacz temat zawsze włączonych grup dostępności w [wysokiej dostępności i odzyskiwania po awarii dla programu SQL Server w usłudze Azure Virtual Machines](virtual-machines-windows-sql-high-availability-dr.md).</span><span class="sxs-lookup"><span data-stu-id="b3cd9-369">For information on creating database replicas in Azure, see AlwaysOn Availability Groups at [High Availability and Disaster Recovery for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-high-availability-dr.md).</span></span>

## <a name="comparing-web-development-strategies-in-azure"></a><span data-ttu-id="b3cd9-370">Porównanie strategii rozwoju sieci web na platformie Azure</span><span class="sxs-lookup"><span data-stu-id="b3cd9-370">Comparing web development strategies in Azure</span></span>
<span data-ttu-id="b3cd9-371">Aby zaimplementować i wdrożyć wielowarstwową aplikacji opartej na programie SQL Server na platformie Azure, można użyć jednej z następujących dwóch metod programowania:</span><span class="sxs-lookup"><span data-stu-id="b3cd9-371">To implement and deploy a multi-tier SQL Server-based application in Azure, you can use one of the following two programming methods:</span></span>

* <span data-ttu-id="b3cd9-372">Skonfiguruj serwer tradycyjnych sieci web (IIS - Internet Information Services) w bazach danych platformy Azure i dostępu w programie SQL Server w maszynach wirtualnych platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-372">Set up a traditional web server (IIS - Internet Information Services) in Azure and access databases in SQL Server in Azure Virtual Machines.</span></span>
* <span data-ttu-id="b3cd9-373">Wdrożenie i wdrażanie usługi w chmurze na platformie Azure.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-373">Implement and deploy a cloud service to Azure.</span></span> <span data-ttu-id="b3cd9-374">Następnie upewnij się, że dostęp baz danych w programie SQL Server na maszynach wirtualnych Azure to usługa w chmurze.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-374">Then, make sure that this cloud service can access databases in SQL Server in Azure Virtual machines.</span></span> <span data-ttu-id="b3cd9-375">Usługi w chmurze może zawierać wielu ról sieć web i proces roboczy.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-375">A cloud service can include multiple web and worker roles.</span></span>

<span data-ttu-id="b3cd9-376">W poniższej tabeli przedstawiono porównanie projektowanie tradycyjnych witryn sieci web z usług Azure Cloud Services i aplikacji sieci Web platformy Azure w odniesieniu do programu SQL Server w maszynach wirtualnych platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-376">The following table provides a comparison of traditional web development with Azure Cloud Services and Azure Web Apps with respect to SQL Server in Azure Virtual Machines.</span></span> <span data-ttu-id="b3cd9-377">Tabela zawiera Azure Web Apps, jak można używać programu SQL Server w maszynie Wirtualnej platformy Azure jako źródła danych dla aplikacji sieci Web platformy Azure za pośrednictwem jego publiczny wirtualny adres IP lub nazwa DNS.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-377">The table includes Azure Web Apps as it is possible to use SQL Server in Azure VM as a data source for Azure Web Apps via its public virtual IP address or DNS name.</span></span>

|  | <span data-ttu-id="b3cd9-378">Projektowanie witryn sieci web tradycyjnych w maszynach wirtualnych platformy Azure</span><span class="sxs-lookup"><span data-stu-id="b3cd9-378">Traditional web development in Azure Virtual Machines</span></span> | <span data-ttu-id="b3cd9-379">Usługi w chmurze na platformie Azure</span><span class="sxs-lookup"><span data-stu-id="b3cd9-379">Cloud Services in Azure</span></span> | <span data-ttu-id="b3cd9-380">Hosting w aplikacjach sieci Web platformy Azure w sieci Web</span><span class="sxs-lookup"><span data-stu-id="b3cd9-380">Web Hosting with Azure Web Apps</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="b3cd9-381">**Migracja aplikacji z lokalnymi**</span><span class="sxs-lookup"><span data-stu-id="b3cd9-381">**Application Migration from on-premises**</span></span> |<span data-ttu-id="b3cd9-382">Istniejące aplikacje jako — jest.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-382">Existing applications as-is.</span></span> |<span data-ttu-id="b3cd9-383">Aplikacje muszą role sieci web i proces roboczy.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-383">Applications need web and worker roles.</span></span> |<span data-ttu-id="b3cd9-384">Istniejące aplikacje jako — ale nadaje się do aplikacji sieci web niezależna i usługi sieci web, które wymagają szybkiej skalowalności.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-384">Existing applications as-is but suited for self-contained web applications and web services that require quick scalability.</span></span> |
| <span data-ttu-id="b3cd9-385">**Projektowanie i wdrażanie**</span><span class="sxs-lookup"><span data-stu-id="b3cd9-385">**Development and Deployment**</span></span> |<span data-ttu-id="b3cd9-386">Program Visual Studio, programu WebMatrix, programu Visual Web Developer, WebDeploy, FTP, TFS, Menedżer usług IIS, programu PowerShell.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-386">Visual Studio, WebMatrix, Visual Web Developer, WebDeploy, FTP, TFS, IIS Manager, PowerShell.</span></span> |<span data-ttu-id="b3cd9-387">Program Visual Studio, zestaw Azure SDK, TFS, programu PowerShell.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-387">Visual Studio, Azure SDK, TFS, PowerShell.</span></span> <span data-ttu-id="b3cd9-388">Każda usługa chmury ma dwóch środowisk, w których można wdrożyć pakiet usługi, a konfiguracja: tymczasową i produkcyjną.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-388">Each cloud service has two environments to which you can deploy your service package and configuration: staging and production.</span></span> <span data-ttu-id="b3cd9-389">Usługi w chmurze można wdrożyć do środowiska pomostowego, aby ją przetestować przed Podwyższ go do produkcji.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-389">You can deploy a cloud service to the staging environment to test it before you promote it to production.</span></span> |<span data-ttu-id="b3cd9-390">Program Visual Studio, programu WebMatrix, programu Visual Web Developer, FTP, GIT, BitBucket, CodePlex, DropBox, GitHub, Mercurial, TFS, sieci Web wdrażanie, programu PowerShell.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-390">Visual Studio, WebMatrix, Visual Web Developer, FTP, GIT, BitBucket, CodePlex, DropBox, GitHub, Mercurial, TFS, Web Deploy, PowerShell.</span></span> |
| <span data-ttu-id="b3cd9-391">**Administracja i instalacji**</span><span class="sxs-lookup"><span data-stu-id="b3cd9-391">**Administration and Setup**</span></span> |<span data-ttu-id="b3cd9-392">Jest odpowiedzialny za zadań administracyjnych w aplikacji, dane, reguły zapory, sieci wirtualnej i systemu operacyjnego.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-392">You are responsible for administrative tasks on the application, data, firewall rules, virtual network, and operating system.</span></span> |<span data-ttu-id="b3cd9-393">Jest odpowiedzialny za zadań administracyjnych w aplikacji, dane, reguły zapory i sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-393">You are responsible for administrative tasks on the application, data, firewall rules, and virtual network.</span></span> |<span data-ttu-id="b3cd9-394">Jest odpowiedzialny za zadań administracyjnych w aplikacji i tylko dane.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-394">You are responsible for administrative tasks on the application and data only.</span></span> |
| <span data-ttu-id="b3cd9-395">**Wysoka dostępność i odzyskiwanie po awarii (HADR)**</span><span class="sxs-lookup"><span data-stu-id="b3cd9-395">**High Availability and Disaster Recovery (HADR)**</span></span> |<span data-ttu-id="b3cd9-396">Firma Microsoft zaleca umieszczania maszyn wirtualnych w tym samym zestawie dostępności i w tej samej usłudze w chmurze.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-396">We recommend that you place virtual machines in the same availability set and in the same cloud service.</span></span> <span data-ttu-id="b3cd9-397">Przechowywanie maszyn wirtualnych w tym samym zestawu dostępności umożliwia Azure umieszczenie węzłów wysokiej dostępności w domenach awarii oddzielne i uaktualniania domen.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-397">Keeping your VMs in the same availability set allows Azure to place the high availability nodes into separate fault domains and upgrade domains.</span></span> <span data-ttu-id="b3cd9-398">Podobnie umożliwia przechowywanie maszyn wirtualnych w tej samej usłudze w chmurze, równoważenia obciążenia i maszyny wirtualne mogą komunikować się bezpośrednio ze sobą za pośrednictwem sieci lokalnej w obrębie centrum danych platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-398">Similarly, keeping your VMs in the same cloud service enables load balancing and VMs can communicate directly with one another over the local network within an Azure data center.</span></span><br/><br/><span data-ttu-id="b3cd9-399">Jest odpowiedzialny za wdrażanie wysokiej dostępności i rozwiązanie odzyskiwania po awarii dla programu SQL Server w maszynach wirtualnych platformy Azure w celu uniknięcia żadnych przestojów.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-399">You are responsible for implementing a high availability and disaster recovery solution for SQL Server in Azure Virtual Machines to avoid any downtime.</span></span> <span data-ttu-id="b3cd9-400">Dla obsługiwanych technologii HADR, zobacz [wysokiej dostępności i odzyskiwania po awarii dla programu SQL Server w usłudze Azure Virtual Machines](virtual-machines-windows-sql-high-availability-dr.md).</span><span class="sxs-lookup"><span data-stu-id="b3cd9-400">For supported HADR technologies, see [High Availability and Disaster Recovery for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-high-availability-dr.md).</span></span><br/><br/><span data-ttu-id="b3cd9-401">Jest odpowiedzialny za tworzenie kopii zapasowej własnych danych i aplikacji.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-401">You are responsible for backing up your own data and application.</span></span><br/><br/><span data-ttu-id="b3cd9-402">Azure można przenosić maszyn wirtualnych, gdy komputer hosta w centrum danych kończy się niepowodzeniem z powodu problemów sprzętowych.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-402">Azure can move your virtual machines if the host machine in the data center fails due to hardware issues.</span></span> <span data-ttu-id="b3cd9-403">Ponadto może być planowanych przestojów maszyny Wirtualnej podczas aktualizacji oprogramowania i zabezpieczeń komputera hosta aktualizacji.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-403">In addition, there could be planned downtime of your VM when the host machine is updated for security or software updates.</span></span> <span data-ttu-id="b3cd9-404">Dlatego zaleca się zachowanie przez co najmniej dwie maszyny wirtualne w poszczególnych warstwach aplikacji dla zapewnienia ciągłej dostępności.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-404">Therefore, we recommend that you maintain at least two VMs in each application tier to ensure the continuous availability.</span></span> <span data-ttu-id="b3cd9-405">Azure nie ma umowy SLA dla jednej maszyny wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-405">Azure does not provide SLA for a single virtual machine.</span></span> <span data-ttu-id="b3cd9-406">Aby uzyskać więcej informacji, zobacz [wskazówki techniczne Azure odporności](../../../resiliency/resiliency-technical-guidance.md).</span><span class="sxs-lookup"><span data-stu-id="b3cd9-406">For more information, see [Azure resiliency technical guidance](../../../resiliency/resiliency-technical-guidance.md).</span></span> |<span data-ttu-id="b3cd9-407">Azure zarządza się błędów wynikających z podstawowej oprogramowania sprzętu lub systemu operacyjnego.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-407">Azure manages the failures resulting from the underlying hardware or operating system software.</span></span> <span data-ttu-id="b3cd9-408">Firma Microsoft zaleca, aby zaimplementować wiele wystąpień roli sieci web lub procesu roboczego, aby zapewnić wysoką dostępność aplikacji.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-408">We recommend that you implement multiple instances of a web or worker role to ensure the high availability of your application.</span></span> <span data-ttu-id="b3cd9-409">Aby uzyskać informacje, zobacz [usługi w chmurze, maszyny wirtualne i wirtualne umową dotyczącą poziomu usług sieciowych](http://www.microsoft.com/download/details.aspx?id=38427) i [odzyskiwania po awarii i wysoką dostępność aplikacji Azure](../../../resiliency/resiliency-disaster-recovery-high-availability-azure-applications.md)</span><span class="sxs-lookup"><span data-stu-id="b3cd9-409">For information, see [Cloud Services, Virtual Machines, and Virtual Network Service Level Agreement](http://www.microsoft.com/download/details.aspx?id=38427) and [Disaster recovery and high availability for Azure applications](../../../resiliency/resiliency-disaster-recovery-high-availability-azure-applications.md)</span></span><br/><br/><span data-ttu-id="b3cd9-410">Jest odpowiedzialny za tworzenie kopii zapasowej własnych danych i aplikacji.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-410">You are responsible for backing up your own data and application.</span></span><br/><br/><span data-ttu-id="b3cd9-411">W przypadku baz danych znajdującej się w bazie danych programu SQL Server w maszynie Wirtualnej platformy Azure jest odpowiedzialny za wdrażanie wysokiej dostępności i odzyskiwaniem po awarii rozwiązanie odzyskiwania w celu uniknięcia żadnych przestojów.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-411">For databases residing in a SQL Server database in an Azure VM, you are responsible for implementing a high availability and disaster recovery solution to avoid any downtime.</span></span> <span data-ttu-id="b3cd9-412">Dla obsługiwanych HDAR technologii Zobacz wysokiej dostępności i odzyskiwania po awarii dla programu SQL Server w maszynach wirtualnych platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-412">For supported HDAR technologies, see High Availability and Disaster Recovery for SQL Server in Azure Virtual Machines.</span></span><br/><br/><span data-ttu-id="b3cd9-413">**Funkcja dublowania baz danych serwera SQL**: Użyj z usługami w chmurze Azure (role sieć web/proces roboczy).</span><span class="sxs-lookup"><span data-stu-id="b3cd9-413">**SQL Server Database Mirroring**: Use with Azure Cloud Services (web/worker roles).</span></span> <span data-ttu-id="b3cd9-414">Maszyny wirtualne programu SQL Server i projektu usługi w chmurze mogą być w tej samej sieci wirtualnej platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-414">SQL Server VMs and a cloud service project can be in the same Azure Virtual Network.</span></span> <span data-ttu-id="b3cd9-415">Maszyna wirtualna programu SQL Server nie znajduje się w tej samej sieci wirtualnej, należy utworzyć Alias serwera SQL na potrzeby kierowania komunikacji z wystąpieniem programu SQL Server.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-415">If SQL Server VM is not in the same Virtual Network, you need to create a SQL Server Alias to route communication to the instance of SQL Server.</span></span> <span data-ttu-id="b3cd9-416">Ponadto nazwa aliasu musi odpowiadać nazwie programu SQL Server.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-416">In addition, the alias name must match the SQL Server name.</span></span> |<span data-ttu-id="b3cd9-417">Wysoka dostępność jest odziedziczone role procesu roboczego platformy Azure, magazyn obiektów blob platformy Azure i bazy danych SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-417">High Availability is inherited from Azure worker roles, Azure blob storage, and Azure SQL Database.</span></span> <span data-ttu-id="b3cd9-418">Na przykład magazyn Azure przechowuje trzy repliki wszystkich obiektów blob, tabel i kolejki danych.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-418">For example, Azure Storage maintains three replicas of all blob, table, and queue data.</span></span> <span data-ttu-id="b3cd9-419">W dowolnym momencie, baza danych SQL Azure śledzi trzy repliki danych systemem — jedna replika podstawowa i dwóch replik pomocniczych.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-419">At any one time, Azure SQL Database keeps three replicas of data running—one primary replica and two secondary replicas.</span></span> <span data-ttu-id="b3cd9-420">Aby uzyskać więcej informacji, zobacz [usługi Azure Storage](https://azure.microsoft.com/documentation/services/storage/) i [bazy danych SQL Azure](../../../sql-database/sql-database-technical-overview.md).</span><span class="sxs-lookup"><span data-stu-id="b3cd9-420">For more information, see [Azure Storage](https://azure.microsoft.com/documentation/services/storage/) and [Azure SQL Database](../../../sql-database/sql-database-technical-overview.md).</span></span><br/><br/><span data-ttu-id="b3cd9-421">Korzystając z programu SQL Server w maszynie Wirtualnej platformy Azure jako źródła danych dla aplikacji sieci Web platformy Azure, należy pamiętać, aplikacje sieci Web Azure nie obsługuje sieci wirtualnej platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-421">When using SQL Server in Azure VM as a data source for Azure Web Apps, keep in mind that Azure Web Apps does not support Azure Virtual Network.</span></span> <span data-ttu-id="b3cd9-422">Innymi słowy wszystkie połączenia z aplikacji sieci Web platformy Azure na maszynach wirtualnych serwera SQL na platformie Azure musi przechodzić przez publicznych punktów końcowych maszyn wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-422">In other words, all connections from Azure Web Apps to SQL Server VMs in Azure must go through public end points of virtual machines.</span></span> <span data-ttu-id="b3cd9-423">Może to spowodować, że niektóre ograniczenia wysokiej dostępności i scenariuszy odzyskiwania po awarii.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-423">This might cause some limitations for high availability and disaster recovery scenarios.</span></span> <span data-ttu-id="b3cd9-424">Na przykład aplikacja kliencka aplikacji sieci Web Azure połączenia dla maszyny Wirtualnej programu SQL Server z dublowania bazy danych nie będzie można nawiązać połączenia z nowym serwerem podstawowym jako dublowania bazy danych wymaga skonfigurowania sieci wirtualnej Azure między maszynami wirtualnymi hosta programu SQL Server na platformie Azure.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-424">For example, the client application on Azure Web Apps connecting to SQL Server VM with database mirroring would not be able to connect to the new primary server as database mirroring requires that you set up Azure Virtual Network between SQL Server host VMs in Azure.</span></span> <span data-ttu-id="b3cd9-425">W związku z tym przy użyciu **dublowania bazy danych serwera SQL** z aplikacjami sieci Web Azure nie jest obsługiwany obecnie.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-425">Therefore, using **SQL Server Database Mirroring** with Azure Web Apps is not supported currently.</span></span><br/><br/><span data-ttu-id="b3cd9-426">**Grup dostępności AlwaysOn programu SQL Server**: można skonfigurować zawsze włączonych grup dostępności, podczas korzystania z aplikacji sieci Web platformy Azure z maszyn wirtualnych serwera SQL na platformie Azure.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-426">**SQL Server AlwaysOn Availability Groups**: You can set up AlwaysOn Availability Groups when using Azure Web Apps with SQL Server VMs in Azure.</span></span> <span data-ttu-id="b3cd9-427">Jednak należy skonfigurować odbiornik grupy dostępności AlwaysOn przekierowujący komunikacji do repliki podstawowej za pośrednictwem publicznego punktów końcowych z równoważeniem obciążenia.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-427">But you need to configure AlwaysOn Availability Group Listener to route the communication to the primary replica via public load-balanced endpoints.</span></span> |
| <span data-ttu-id="b3cd9-428">**Łączność między lokalizacjami**</span><span class="sxs-lookup"><span data-stu-id="b3cd9-428">**cross-premises Connectivity**</span></span> |<span data-ttu-id="b3cd9-429">Sieci wirtualnej platformy Azure można użyć do nawiązania połączenia lokalnego.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-429">You can use Azure Virtual Network to connect to on-premises.</span></span> |<span data-ttu-id="b3cd9-430">Sieci wirtualnej platformy Azure można użyć do nawiązania połączenia lokalnego.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-430">You can use Azure Virtual Network to connect to on-premises.</span></span> |<span data-ttu-id="b3cd9-431">Sieć wirtualna platformy Azure jest obsługiwana.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-431">Azure Virtual Network is supported.</span></span> <span data-ttu-id="b3cd9-432">Aby uzyskać więcej informacji, zobacz [integracji sieci wirtualnej aplikacji sieci Web](https://azure.microsoft.com/blog/2014/09/15/azure-websites-virtual-network-integration/).</span><span class="sxs-lookup"><span data-stu-id="b3cd9-432">For more information, see [Web Apps Virtual Network Integration](https://azure.microsoft.com/blog/2014/09/15/azure-websites-virtual-network-integration/).</span></span> |
| <span data-ttu-id="b3cd9-433">**Skalowalność**</span><span class="sxs-lookup"><span data-stu-id="b3cd9-433">**Scalability**</span></span> |<span data-ttu-id="b3cd9-434">Skalowanie w pionie, należy zwiększyć rozmiary maszyn wirtualnych lub dodanie większej liczby dysków.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-434">Scale-up is available by increasing the virtual machine sizes or adding more disks.</span></span> <span data-ttu-id="b3cd9-435">Aby uzyskać więcej informacji na temat rozmiarów maszyn wirtualnych, zobacz [rozmiarów maszyn wirtualnych na platformie Azure](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="b3cd9-435">For more information about virtual machine sizes, see [Virtual Machine Sizes for Azure](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span><br/><br/><span data-ttu-id="b3cd9-436">**Dla serwera bazy danych**: skalowalnego w poziomie jest dostępny za pośrednictwem techniki partycjonowania bazy danych i grup dostępności AlwaysOn programu SQL Server.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-436">**For Database Server**: Scale-out is available via database partitioning techniques and SQL Server AlwaysOn Availability groups.</span></span><br/><br/><span data-ttu-id="b3cd9-437">W przypadku odczytu złożonych zadań, można użyć [zawsze włączonych grup dostępności](https://msdn.microsoft.com/library/hh510230.aspx) na wielu węzłach dodatkowej, a także replikacji programu SQL Server.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-437">For heavy read workloads, you can use [AlwaysOn Availability Groups](https://msdn.microsoft.com/library/hh510230.aspx) on multiple secondary nodes as well as SQL Server Replication.</span></span><br/><br/><span data-ttu-id="b3cd9-438">W przypadku obciążeń duże zapisu można zaimplementować poziome partycjonowania danych między wieloma serwerami fizycznymi, aby zapewnić skalowalnych w poziomie aplikacji.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-438">For heavy write workloads, you can implement horizontal partitioning data across multiple physical servers to provide application scale-out.</span></span><br/><br/><span data-ttu-id="b3cd9-439">Ponadto można wdrożyć skalowanie w poziomie przy użyciu [programu SQL Server z routingiem zależnych danych](https://technet.microsoft.com/library/cc966448.aspx).</span><span class="sxs-lookup"><span data-stu-id="b3cd9-439">In addition, you can implement a scale-out by using [SQL Server with Data Dependent Routing](https://technet.microsoft.com/library/cc966448.aspx).</span></span> <span data-ttu-id="b3cd9-440">Z danych zależnych routingu (DDR), musisz zaimplementować mechanizm partycjonowania w aplikacji klienta, zwykle w warstwie business warstwy kierować żądań bazy danych do wielu węzłów programu SQL Server.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-440">With Data Dependent Routing (DDR), you need to implement the partitioning mechanism in the client application, typically in the business tier layer, to route the database requests to multiple SQL Server nodes.</span></span> <span data-ttu-id="b3cd9-441">Warstwa biznesowa zawiera mapowania, jak dane są podzielone na partycje i węzeł, który zawiera dane.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-441">The business tier contains mappings to how the data is partitioned and which node contains the data.</span></span><br/><br/><span data-ttu-id="b3cd9-442">Można skalować aplikacji, które są uruchomione maszyny wirtualne.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-442">You can scale applications that are running virtual machines.</span></span> <span data-ttu-id="b3cd9-443">Aby uzyskać więcej informacji, zobacz [jak skalować aplikację](../../../cloud-services/cloud-services-how-to-scale.md).</span><span class="sxs-lookup"><span data-stu-id="b3cd9-443">For more information, see [How to Scale an Application](../../../cloud-services/cloud-services-how-to-scale.md).</span></span><br/><br/><span data-ttu-id="b3cd9-444">**Ważna Uwaga**: **skalowania automatycznego** funkcji na platformie Azure umożliwia automatyczne zwiększanie lub zmniejszanie maszyn wirtualnych, które są używane przez aplikację.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-444">**Important Note**: The **AutoScale** feature in Azure allows you to automatically increase or decrease the Virtual Machines that are used by your application.</span></span> <span data-ttu-id="b3cd9-445">Ta funkcja gwarantuje, że środowisko użytkownika końcowego nie wpływa negatywnie podczas okresów szczytowego, i maszyny wirtualne są zamknięte, jeśli żądanie jest niska.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-445">This feature guarantees that the end-user experience is not affected negatively during peak periods, and VMs are shut down when the demand is low.</span></span> <span data-ttu-id="b3cd9-446">Zaleca się, że ustawiona opcja automatycznego skalowania dla usługi w chmurze, jeśli zawiera on maszyn wirtualnych programu SQL Server.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-446">It’s recommended that you do not set the AutoScale option for your cloud service if it includes SQL Server VMs.</span></span> <span data-ttu-id="b3cd9-447">Przyczyną jest to, że funkcja automatycznego skalowania pozwala Azure, aby włączyć na maszynie wirtualnej, gdy użycie procesora CPU w tej maszyny Wirtualnej jest większy niż próg niektórych i wyłączyć maszynę wirtualną, gdy użycie procesora CPU niższe niż.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-447">The reason is that the AutoScale feature lets Azure to turn on a virtual machine when the CPU usage in that VM is higher than some threshold, and to turn off a virtual machine when the CPU usage goes lower than it.</span></span> <span data-ttu-id="b3cd9-448">Funkcja skalowania automatycznego jest przydatne w przypadku aplikacji bezstanowych, takich jak serwery sieci web, w której żadnej maszyny Wirtualnej można zarządzać obciążenia bez żadnych odwołań do dowolnego poprzedniego stanu.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-448">The AutoScale feature is useful for stateless applications, such as web servers, where any VM can manage the workload without any references to any previous state.</span></span> <span data-ttu-id="b3cd9-449">Jednak funkcja automatycznego skalowania nie jest przydatne w przypadku aplikacji stanowych, takich jak SQL Server, gdzie tylko jedno wystąpienie umożliwia zapisywanie w bazie danych.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-449">However, the AutoScale feature is not useful for stateful applications, such as SQL Server, where only one instance allows writing to the database.</span></span> |<span data-ttu-id="b3cd9-450">Skalowanie w pionie jest dostępna za pomocą wielu ról sieć web i proces roboczy.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-450">Scale-up is available by using multiple web and worker roles.</span></span> <span data-ttu-id="b3cd9-451">Aby uzyskać więcej informacji na temat rozmiarów maszyn wirtualnych dla ról sieci web i proces roboczy, zobacz [skonfigurować rozmiary dla usług w chmurze](../../../cloud-services/cloud-services-sizes-specs.md).</span><span class="sxs-lookup"><span data-stu-id="b3cd9-451">For more information about virtual machine sizes for web roles and worker roles, see [Configure Sizes for Cloud Services](../../../cloud-services/cloud-services-sizes-specs.md).</span></span><br/><br/><span data-ttu-id="b3cd9-452">Korzystając z **usługi w chmurze**, można zdefiniować wiele ról do dystrybucji przetwarzania, a także osiągnięcia elastyczne skalowanie aplikacji.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-452">When using **Cloud Services**, you can define multiple roles to distribute processing and also achieve flexible scaling of your application.</span></span> <span data-ttu-id="b3cd9-453">Każda usługa chmury zawiera jeden lub więcej ról sieć web i/lub rolę procesu roboczego, każdy z plików aplikacji i konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-453">Each cloud service includes one or more web roles and/or worker roles, each with its own application files and configuration.</span></span> <span data-ttu-id="b3cd9-454">Można skalować w górę usługi w chmurze przez odpowiednie zwiększenie liczby wystąpień roli (maszyny wirtualne), wdrożyć dla roli i dół usługi w chmurze, zmniejszając liczbę wystąpień roli.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-454">You can scale-up a cloud service by increasing the number of role instances (virtual machines) deployed for a role and scale-down a cloud service by decreasing the number of role instances.</span></span> <span data-ttu-id="b3cd9-455">Aby uzyskać szczegółowe informacje, zobacz [modeli wykonywania Azure](../../../cloud-services/cloud-services-choose-me.md).</span><span class="sxs-lookup"><span data-stu-id="b3cd9-455">For detailed information, see [Azure Execution Models](../../../cloud-services/cloud-services-choose-me.md).</span></span><br/><br/><span data-ttu-id="b3cd9-456">Skalowalny w poziomie jest dostępny za pośrednictwem obsługi wbudowaną wysoką dostępność Azure za pomocą [usługi w chmurze, maszyny wirtualne i wirtualne umową dotyczącą poziomu usług sieci](http://www.microsoft.com/download/details.aspx?id=38427) i moduł równoważenia obciążenia.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-456">Scale-out is available via built-in Azure high availability support through [Cloud Services, Virtual Machines, and Virtual Network Service Level Agreement](http://www.microsoft.com/download/details.aspx?id=38427) and Load Balancer.</span></span><br/><br/><span data-ttu-id="b3cd9-457">Dla aplikacji wielowarstwowych zaleca się połączyć z aplikacji role sieć web/proces roboczy w bazie danych serwera maszyn wirtualnych za pośrednictwem sieci wirtualnej platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-457">For a multi-tier application, we recommend that you connect web/worker roles application to database server VMs via Azure Virtual Network.</span></span> <span data-ttu-id="b3cd9-458">Ponadto platforma Azure udostępnia równoważenie obciążenia dla maszyn wirtualnych w tej samej usłudze w chmurze rozłożenie ich żądań użytkowników.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-458">In addition, Azure provides load balancing for VMs in the same cloud service, spreading user requests across them.</span></span> <span data-ttu-id="b3cd9-459">Maszyny wirtualne, połączone w ten sposób mogą komunikować się bezpośrednio ze sobą za pośrednictwem sieci lokalnej w obrębie centrum danych platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-459">Virtual machines connected in this way can communicate directly with one another over the local network within an Azure data center.</span></span><br/><br/><span data-ttu-id="b3cd9-460">Możesz skonfigurować **skalowania automatycznego** w portalu Azure, a także razy harmonogramu.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-460">You can set up **AutoScale** on the Azure portal as well as the schedule times.</span></span> <span data-ttu-id="b3cd9-461">Aby uzyskać więcej informacji, zobacz [jak skonfigurować automatyczne skalowanie usługi w chmurze w portalu](../../../cloud-services/cloud-services-how-to-scale-portal.md).</span><span class="sxs-lookup"><span data-stu-id="b3cd9-461">For more information, see [How to configure auto scaling for a Cloud Service in the portal](../../../cloud-services/cloud-services-how-to-scale-portal.md).</span></span> |<span data-ttu-id="b3cd9-462">**Skalowanie w górę i w dół**: użytkownik może zwiększenie/zmniejszenie rozmiaru wystąpienia (VM) zarezerwowana dla witryny sieci web.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-462">**Scale up and down**: You can increase/decrease the size of the instance (VM) reserved for your web site.</span></span><br/><br/><span data-ttu-id="b3cd9-463">Skalowanie w poziomie: witryny sieci web można dodać więcej zastrzeżone wystąpień (VM).</span><span class="sxs-lookup"><span data-stu-id="b3cd9-463">Scale out: You can add more reserved instances (VMs) for your web site.</span></span><br/><br/><span data-ttu-id="b3cd9-464">Możesz skonfigurować **skalowania automatycznego** w portalu, a także razy harmonogramu.</span><span class="sxs-lookup"><span data-stu-id="b3cd9-464">You can set up **AutoScale** on the portal as well as the schedule times.</span></span> <span data-ttu-id="b3cd9-465">Aby uzyskać więcej informacji, zobacz [jak aplikacje sieci Web skali](../../../app-service-web/web-sites-scale.md).</span><span class="sxs-lookup"><span data-stu-id="b3cd9-465">For more information, see [How to Scale Web Apps](../../../app-service-web/web-sites-scale.md).</span></span> |

<span data-ttu-id="b3cd9-466">Aby uzyskać więcej informacji o wyborze między tych metod programowania, zobacz [Azure Web Apps, usługi w chmurze i maszyn wirtualnych: kiedy należy używać](../../../app-service-web/choose-web-site-cloud-service-vm.md).</span><span class="sxs-lookup"><span data-stu-id="b3cd9-466">For more information on choosing between these programming methods, see [Azure Web Apps, Cloud Services, and VMs: When to use which](../../../app-service-web/choose-web-site-cloud-service-vm.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="b3cd9-467">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="b3cd9-467">Next Steps</span></span>
<span data-ttu-id="b3cd9-468">Aby uzyskać więcej informacji na temat uruchamiania programu SQL Server na maszynach wirtualnych Azure, zobacz [programu SQL Server na omówienia maszyn wirtualnych Azure](virtual-machines-windows-sql-server-iaas-overview.md).</span><span class="sxs-lookup"><span data-stu-id="b3cd9-468">For more information on running SQL Server in Azure Virtual machines, see [SQL Server on Azure Virtual Machines Overview](virtual-machines-windows-sql-server-iaas-overview.md).</span></span>

