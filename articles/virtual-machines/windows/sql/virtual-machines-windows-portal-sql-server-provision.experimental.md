---
title: Aprowizowanie maszyny wirtualnej programu SQL Server | Microsoft Docs
description: "Utwórz maszynę wirtualną programu SQL Server i połącz się z nią na platformie Azure przy użyciu portalu. W tym samouczku wykorzystano tryb usługi Resource Manager."
services: virtual-machines-windows
documentationcenter: na
author: rothja
editor: 
manager: jhubbard
tags: azure-resource-manager
ms.assetid: 1aff691f-a40a-4de2-b6a0-def1384e086e
ms.service: virtual-machines-sql
ms.devlang: na
ms.topic: hero-article
ms.tgt_pltfrm: vm-windows-sql-server
ms.workload: infrastructure-services
ms.date: 04/03/2017
ms.author: jroth
experimental_id: a641df96-f27d-40
ms.openlocfilehash: c51908058bb785cb33da21de76ba3c956b6b9f1f
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 07/11/2017
---
# <a name="provision-a-sql-server-virtual-machine-in-the-azure-portal"></a><span data-ttu-id="888ec-104">Aprowizowanie maszyny wirtualnej programu SQL Server w Portalu Azure</span><span class="sxs-lookup"><span data-stu-id="888ec-104">Provision a SQL Server virtual machine in the Azure Portal</span></span>
> [!div class="op_single_selector"]
> * [<span data-ttu-id="888ec-105">Portal</span><span class="sxs-lookup"><span data-stu-id="888ec-105">Portal</span></span>](virtual-machines-windows-portal-sql-server-provision.md)
> * [<span data-ttu-id="888ec-106">PowerShell</span><span class="sxs-lookup"><span data-stu-id="888ec-106">PowerShell</span></span>](virtual-machines-windows-ps-sql-create.md)
> 
> 

<span data-ttu-id="888ec-107">Ten kompleksowy samouczek pokazuje, jak używać Portalu Azure do aprowizowania maszyny wirtualnej programu SQL Server.</span><span class="sxs-lookup"><span data-stu-id="888ec-107">This end-to-end tutorial shows you how to use the Azure Portal to provision a virtual machine running SQL Server.</span></span>

<span data-ttu-id="888ec-108">Kilka obrazów w galerii maszyn wirtualnych Azure zawiera program Microsoft SQL Server.</span><span class="sxs-lookup"><span data-stu-id="888ec-108">The Azure virtual machine (VM) gallery includes several images that contain Microsoft SQL Server.</span></span> <span data-ttu-id="888ec-109">Za pomocą kilku kliknięć możesz wybrać jeden z obrazów maszyn wirtualnych SQL z galerii i aprowizować go w środowisku Azure.</span><span class="sxs-lookup"><span data-stu-id="888ec-109">With a few clicks, you can select one of the SQL VM images from the gallery and provision it in your Azure environment.</span></span>

<span data-ttu-id="888ec-110">W tym samouczku zostaną wykonane następujące czynności:</span><span class="sxs-lookup"><span data-stu-id="888ec-110">In this tutorial, you will:</span></span>

* [<span data-ttu-id="888ec-111">Wybieranie obrazu maszyny wirtualnej SQL z galerii</span><span class="sxs-lookup"><span data-stu-id="888ec-111">Select a SQL VM image from the gallery</span></span>](#select-a-sql-vm-image-from-the-gallery)
* [<span data-ttu-id="888ec-112">Konfigurowanie i tworzenie maszyny wirtualnej</span><span class="sxs-lookup"><span data-stu-id="888ec-112">Configure and create the VM</span></span>](#configure-the-vm)
* [<span data-ttu-id="888ec-113">Otwieranie maszyny wirtualnej przy użyciu pulpitu zdalnego</span><span class="sxs-lookup"><span data-stu-id="888ec-113">Open the VM with Remote Desktop</span></span>](#open-the-vm-with-remote-desktop)
* [<span data-ttu-id="888ec-114">Zdalne ustanawianie połączenia z programem SQL Server</span><span class="sxs-lookup"><span data-stu-id="888ec-114">Connect to SQL Server remotely</span></span>](#connect-to-sql-server-remotely)

## <a name="select-a-sql-vm-image-from-the-gallery"></a><span data-ttu-id="888ec-115">Wybieranie obrazu maszyny wirtualnej SQL z galerii</span><span class="sxs-lookup"><span data-stu-id="888ec-115">Select a SQL VM image from the gallery</span></span>
1. <span data-ttu-id="888ec-116">Zaloguj się w witrynie [Azure Portal](https://portal.azure.com) przy użyciu swojego konta.</span><span class="sxs-lookup"><span data-stu-id="888ec-116">Log in to the [Azure portal](https://portal.azure.com) using your account.</span></span>

   > [!NOTE]
   > <span data-ttu-id="888ec-117">Jeśli nie masz konta platformy Azure, odwiedź stronę [bezpłatnej wersji próbnej platformy Azure](https://azure.microsoft.com/pricing/free-trial/).</span><span class="sxs-lookup"><span data-stu-id="888ec-117">If you do not have an Azure account, visit [Azure free trial](https://azure.microsoft.com/pricing/free-trial/).</span></span>

2. <span data-ttu-id="888ec-118">W witrynie Azure Portal kliknij pozycję **Nowe**.</span><span class="sxs-lookup"><span data-stu-id="888ec-118">On the Azure portal, click **New**.</span></span> <span data-ttu-id="888ec-119">Portal otworzy blok **Nowe**.</span><span class="sxs-lookup"><span data-stu-id="888ec-119">The portal opens the **New** blade.</span></span> <span data-ttu-id="888ec-120">Zasoby maszyny wirtualnej z programem SQL Server znajdują się w grupie **Obliczeniowe** witryny Marketplace.</span><span class="sxs-lookup"><span data-stu-id="888ec-120">The SQL Server VM resources are in the **Compute** group of the Marketplace.</span></span>
3. <span data-ttu-id="888ec-121">W bloku **Nowy** kliknij grupę **Obliczeniowe**, a następnie kliknij pozycję **Zobacz wszystko**.</span><span class="sxs-lookup"><span data-stu-id="888ec-121">In the **New** blade, click **Compute** and then click **See all**.</span></span>
4. <span data-ttu-id="888ec-122">W polu tekstowym **Filtr** wpisz SQL Server i naciśnij klawisz ENTER.</span><span class="sxs-lookup"><span data-stu-id="888ec-122">In the **Filter** text box type SQL Server, and press the ENTER key.</span></span>

   ![Blok Azure Virtual Machines](./media/virtual-machines-windows-portal-sql-server-provision/azure-compute-blade2.png)

5. <span data-ttu-id="888ec-124">Przejrzyj dostępne obrazy programu SQL Server.</span><span class="sxs-lookup"><span data-stu-id="888ec-124">Review the available SQL Server images.</span></span> <span data-ttu-id="888ec-125">Każdy obraz identyfikuje wersję programu SQL Server i system operacyjny.</span><span class="sxs-lookup"><span data-stu-id="888ec-125">Each image identifies a SQL Server version and an operating system.</span></span> 
6. <span data-ttu-id="888ec-126">Wybierz obraz dla programu SQL Server 2016 SP1 Developer w systemie Windows Server 2016.</span><span class="sxs-lookup"><span data-stu-id="888ec-126">Select the image for SQL Server 2016 SP1 Developer on Windows Server 2016.</span></span>

   > [!TIP]
   > <span data-ttu-id="888ec-127">W tym samouczku jest używana wersja Developer — w pełni funkcjonalna wersja programu SQL Server, bezpłatna w przypadku zastosowań obejmujących tworzenie i testowanie.</span><span class="sxs-lookup"><span data-stu-id="888ec-127">The Developer edition is used in this tutorial because it is a full-featured edition of SQL Server that is free for development testing purposes.</span></span> <span data-ttu-id="888ec-128">Opłaty dotyczą tylko kosztów obsługi maszyny wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="888ec-128">You pay only for the cost of running the VM.</span></span>

   > [!NOTE]
   > <span data-ttu-id="888ec-129">W przypadku obrazów maszyn wirtualnych SQL koszty licencji programu SQL Server zostały uwzględnione w cenie za minutę dla tworzonej maszyny wirtualnej (z wyjątkiem wersji Developer i Express).</span><span class="sxs-lookup"><span data-stu-id="888ec-129">SQL VM images include the licensing costs for SQL Server into the per-minute pricing of the VM you create (except for the Developer and Express editions).</span></span> <span data-ttu-id="888ec-130">Z programu SQL Server Developer można korzystać bezpłatnie w środowiskach tworzenia i testowania (nie produkcyjnych). Z programu SQL Express można korzystać bezpłatnie na potrzeby obsługi małych obciążeń (mniej niż 1 GB pamięci i mniej niż 10 GB magazynu).</span><span class="sxs-lookup"><span data-stu-id="888ec-130">SQL Server Developer is free for development/testing (not production) and SQL Express is free for lightweight workloads (less than 1 GB memory, less than 10-GB storage).</span></span>
   > <span data-ttu-id="888ec-131">Drugą opcją jest używanie własnej licencji (BYOL, bring your own license) i płatność tylko za maszynę wirtualną.</span><span class="sxs-lookup"><span data-stu-id="888ec-131">There is another option to bring-your-own-license (BYOL) and pay only for the VM.</span></span> <span data-ttu-id="888ec-132">Nazwy tych obrazów mają prefiks {BYOL}.</span><span class="sxs-lookup"><span data-stu-id="888ec-132">Those image names are prefixed with {BYOL}.</span></span> <span data-ttu-id="888ec-133">Aby uzyskać więcej informacji na temat tych opcji, zobacz [Pricing guidance for SQL Server Azure VMs](virtual-machines-windows-sql-server-pricing-guidance.md) (Wskazówki dotyczące cen maszyn wirtualnych platformy Azure z programem SQL Server).</span><span class="sxs-lookup"><span data-stu-id="888ec-133">For more information on these options, see [Pricing guidance for SQL Server Azure VMs](virtual-machines-windows-sql-server-pricing-guidance.md).</span></span>

7. <span data-ttu-id="888ec-134">W obszarze **Wybierz model wdrożenia** sprawdź, czy pozycja **Resource Manager** została zaznaczona.</span><span class="sxs-lookup"><span data-stu-id="888ec-134">Under **Select a deployment model**, verify that **Resource Manager** is selected.</span></span> <span data-ttu-id="888ec-135">Wdrażanie przy użyciu usługi Resource Manager jest zalecanym modelem wdrożenia dla nowych maszyn wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="888ec-135">Resource Manager is the recommended deployment model for new virtual machines.</span></span> <span data-ttu-id="888ec-136">Kliknij przycisk **Utwórz**.</span><span class="sxs-lookup"><span data-stu-id="888ec-136">Click **Create**.</span></span>

    ![Tworzenie maszyny wirtualnej SQL przy użyciu usługi Resource Manager](./media/virtual-machines-windows-portal-sql-server-provision/azure-compute-sql-deployment-model.png)

## <a name="configure-the-vm"></a><span data-ttu-id="888ec-138">Konfigurowanie maszyny wirtualnej</span><span class="sxs-lookup"><span data-stu-id="888ec-138">Configure the VM</span></span>
<span data-ttu-id="888ec-139">Do konfigurowania maszyny wirtualnej programu SQL Server służy pięć bloków.</span><span class="sxs-lookup"><span data-stu-id="888ec-139">There are five blades for configuring a SQL Server virtual machine.</span></span>

| <span data-ttu-id="888ec-140">Krok</span><span class="sxs-lookup"><span data-stu-id="888ec-140">Step</span></span> | <span data-ttu-id="888ec-141">Opis</span><span class="sxs-lookup"><span data-stu-id="888ec-141">Description</span></span> |
| --- | --- |
| <span data-ttu-id="888ec-142">**Podstawy**</span><span class="sxs-lookup"><span data-stu-id="888ec-142">**Basics**</span></span> |[<span data-ttu-id="888ec-143">Konfigurowanie ustawień podstawowych</span><span class="sxs-lookup"><span data-stu-id="888ec-143">Configure basic settings</span></span>](#1-configure-basic-settings) |
| <span data-ttu-id="888ec-144">**Rozmiar**</span><span class="sxs-lookup"><span data-stu-id="888ec-144">**Size**</span></span> |[<span data-ttu-id="888ec-145">Wybieranie rozmiaru maszyny wirtualnej</span><span class="sxs-lookup"><span data-stu-id="888ec-145">Choose virtual machine size</span></span>](#2-choose-virtual-machine-size) |
| <span data-ttu-id="888ec-146">**Ustawienia**</span><span class="sxs-lookup"><span data-stu-id="888ec-146">**Settings**</span></span> |[<span data-ttu-id="888ec-147">Konfigurowanie funkcji opcjonalnych</span><span class="sxs-lookup"><span data-stu-id="888ec-147">Configure optional features</span></span>](#3-configure-optional-features) |
| <span data-ttu-id="888ec-148">**Ustawienia programu SQL Server**</span><span class="sxs-lookup"><span data-stu-id="888ec-148">**SQL Server settings**</span></span> |[<span data-ttu-id="888ec-149">Konfigurowanie ustawień programu SQL Server</span><span class="sxs-lookup"><span data-stu-id="888ec-149">Configure SQL server settings</span></span>](#4-configure-sql-server-settings) |
| <span data-ttu-id="888ec-150">**Podsumowanie**</span><span class="sxs-lookup"><span data-stu-id="888ec-150">**Summary**</span></span> |[<span data-ttu-id="888ec-151">Przeglądanie podsumowania</span><span class="sxs-lookup"><span data-stu-id="888ec-151">Review the summary</span></span>](#5-review-the-summary) |

## <a name="1-configure-basic-settings"></a><span data-ttu-id="888ec-152">1. Konfigurowanie ustawień podstawowych</span><span class="sxs-lookup"><span data-stu-id="888ec-152">1. Configure basic settings</span></span>
<span data-ttu-id="888ec-153">W bloku **Podstawowe** podaj następujące informacje:</span><span class="sxs-lookup"><span data-stu-id="888ec-153">On the **Basics** blade, provide the following information:</span></span>

* <span data-ttu-id="888ec-154">Wprowadź unikatową nazwę maszyny wirtualnej w polu **Nazwa**.</span><span class="sxs-lookup"><span data-stu-id="888ec-154">Enter a unique virtual machine **Name**.</span></span>
* <span data-ttu-id="888ec-155">Określ nazwę użytkownika dla konta lokalnego administratora maszyny wirtualnej w polu **Nazwa użytkownika**.</span><span class="sxs-lookup"><span data-stu-id="888ec-155">Specify a **User name** for the local administrator account on the VM.</span></span> <span data-ttu-id="888ec-156">To konto jest także dodawane do stałej roli serwera programu SQL Server **sysadmin**.</span><span class="sxs-lookup"><span data-stu-id="888ec-156">This account is also added to the SQL Server **sysadmin** fixed server role.</span></span>
* <span data-ttu-id="888ec-157">Podaj silne hasło w polu **Hasło**.</span><span class="sxs-lookup"><span data-stu-id="888ec-157">Provide a strong **Password**.</span></span>
* <span data-ttu-id="888ec-158">Jeśli masz wiele subskrypcji, sprawdź, czy subskrypcja jest poprawna dla nowej maszyny wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="888ec-158">If you have multiple subscriptions, verify that the subscription is correct for the new VM.</span></span>
* <span data-ttu-id="888ec-159">W polu **Grupa zasobów** wpisz nazwę nowej grupy zasobów.</span><span class="sxs-lookup"><span data-stu-id="888ec-159">In the **Resource group** box, type a name for a new resource group.</span></span> <span data-ttu-id="888ec-160">Inna możliwość to użycie istniejącej grupy zasobów i kliknięcie pozycji **Użyj istniejącej**.</span><span class="sxs-lookup"><span data-stu-id="888ec-160">Alternatively, to use an existing resource group click **Use existing**.</span></span> <span data-ttu-id="888ec-161">Grupa zasobów to kolekcja powiązanych zasobów platformy Azure (maszyny wirtualne, konta magazynu, sieci wirtualne itp.).</span><span class="sxs-lookup"><span data-stu-id="888ec-161">A resource group is a collection of related resources in Azure (virtual machines, storage accounts, virtual networks, etc.).</span></span>
  
  > [!NOTE]
  > <span data-ttu-id="888ec-162">Nowa grupa zasobów jest przydatna, jeśli tylko testujesz lub poznajesz wdrożenia programu SQL Server na platformie Azure.</span><span class="sxs-lookup"><span data-stu-id="888ec-162">Using a new resource group is helpful if you are just testing or learning about SQL Server deployments in Azure.</span></span> <span data-ttu-id="888ec-163">Po zakończeniu testu usuń grupę zasobów, aby automatycznie usunąć maszynę wirtualną i wszystkie skojarzone z nią zasoby.</span><span class="sxs-lookup"><span data-stu-id="888ec-163">After you finish with your test, delete the resource group to automatically delete the VM and all resources associated with that resource group.</span></span> <span data-ttu-id="888ec-164">Aby uzyskać więcej informacji na temat grup zasobów, zobacz [Omówienie usługi Azure Resource Manager](../../../azure-resource-manager/resource-group-overview.md).</span><span class="sxs-lookup"><span data-stu-id="888ec-164">For more information about resource groups, see [Azure Resource Manager Overview](../../../azure-resource-manager/resource-group-overview.md).</span></span>
  > 
  > 
* <span data-ttu-id="888ec-165">Wybierz ustawienie **Lokalizacja** dla tego wdrożenia.</span><span class="sxs-lookup"><span data-stu-id="888ec-165">Select a **Location** for this deployment.</span></span>
* <span data-ttu-id="888ec-166">Kliknij pozycję **OK**, aby zapisać ustawienia.</span><span class="sxs-lookup"><span data-stu-id="888ec-166">Click **OK** to save the settings.</span></span>
  
    ![Blok podstawowych ustawień SQL](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-basic.png)

## <a name="2-choose-virtual-machine-size"></a><span data-ttu-id="888ec-168">2. Wybieranie rozmiaru maszyny wirtualnej</span><span class="sxs-lookup"><span data-stu-id="888ec-168">2. Choose virtual machine size</span></span>
<span data-ttu-id="888ec-169">W kroku **Rozmiar** wybierz rozmiar maszyny wirtualnej w bloku **Wybierz rozmiar**.</span><span class="sxs-lookup"><span data-stu-id="888ec-169">On the **Size** step, choose a virtual machine size in the **Choose a size** blade.</span></span> <span data-ttu-id="888ec-170">W tym bloku początkowo wyświetlane są rozmiary maszyn zalecane zgodnie z wybranym obrazem.</span><span class="sxs-lookup"><span data-stu-id="888ec-170">The blade initially displays recommended machine sizes based on the image you selected.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="888ec-171">Szacowany koszt miesięczny wyświetlany w bloku **Wybieranie rozmiaru** nie uwzględnia kosztów licencjonowania programu SQL Server.</span><span class="sxs-lookup"><span data-stu-id="888ec-171">The estimated monthly cost displayed on the **Choose a size** blade does not include SQL Server licensing costs.</span></span> <span data-ttu-id="888ec-172">Ten szacowany koszt miesięczny jest kosztem samej maszyny wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="888ec-172">This estimated monthly cost is the cost of the VM alone.</span></span> <span data-ttu-id="888ec-173">W przypadku wersji Express i Developer programu SQL Server jest to szacowany łączny koszt.</span><span class="sxs-lookup"><span data-stu-id="888ec-173">For the Express and Developer editions of SQL Server, this is the total estimated cost.</span></span> <span data-ttu-id="888ec-174">W przypadku innych wersji zobacz [cennik maszyn wirtualnych z systemem Windows](https://azure.microsoft.com/pricing/details/virtual-machines/windows/) i wybierz docelową wersję programu SQL Server.</span><span class="sxs-lookup"><span data-stu-id="888ec-174">For other editions, see the [Windows Virtual Machines pricing page](https://azure.microsoft.com/pricing/details/virtual-machines/windows/) and select your target edition of SQL Server.</span></span> <span data-ttu-id="888ec-175">Zobacz również [Pricing guidance for SQL Server Azure VMs](virtual-machines-windows-sql-server-pricing-guidance.md) (Wskazówki dotyczące cen maszyn wirtualnych platformy Azure z programem SQL Server).</span><span class="sxs-lookup"><span data-stu-id="888ec-175">Also see the [Pricing guidance for SQL Server Azure VMs](virtual-machines-windows-sql-server-pricing-guidance.md).</span></span>

![Opcje rozmiaru maszyny wirtualnej SQL](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-vm-choose-a-size.png)

<span data-ttu-id="888ec-177">W przypadku obciążeń produkcyjnych zalecane jest wybranie rozmiaru maszyny wirtualnej, która obsługuje [usługę Premium Storage](../../../storage/storage-premium-storage.md).</span><span class="sxs-lookup"><span data-stu-id="888ec-177">For production workloads, we recommend selecting a virtual machine size that supports [Premium Storage](../../../storage/storage-premium-storage.md).</span></span> <span data-ttu-id="888ec-178">Jeśli nie potrzebujesz tego poziomu wydajności, użyj przycisku **Wyświetl wszystkie**, który umożliwia wyświetlenie wszystkich opcji rozmiaru maszyny.</span><span class="sxs-lookup"><span data-stu-id="888ec-178">If you do not require that level of performance, use the **View all** button, which shows all machine size options.</span></span> <span data-ttu-id="888ec-179">Na przykład możesz użyć mniejszego rozmiaru maszyny dla wdrożenia lub środowiska testowego.</span><span class="sxs-lookup"><span data-stu-id="888ec-179">For example, you might use a smaller machine size for a development or test environment.</span></span>

> [!NOTE]
> <span data-ttu-id="888ec-180">Aby uzyskać więcej informacji na temat rozmiarów maszyny wirtualnej, zobacz artykuł [Sizes for virtual machines](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) (Rozmiary maszyn wirtualnych).</span><span class="sxs-lookup"><span data-stu-id="888ec-180">For more information about virtual machine sizes, [Sizes for virtual machines](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span> <span data-ttu-id="888ec-181">Aby zapoznać się z zagadnieniami związanymi z rozmiarami maszyn wirtualnych programu SQL Server, zobacz [Performance best practices for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-performance.md) (Najlepsze rozwiązania umożliwiające zwiększenie wydajności programu SQL Server w usłudze Azure Virtual Machines).</span><span class="sxs-lookup"><span data-stu-id="888ec-181">For considerations about SQL Server VM sizes, see [Performance best practices for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-performance.md).</span></span>

<span data-ttu-id="888ec-182">Wybierz rozmiar maszyny wirtualnej, a następnie kliknij pozycję **Wybierz**.</span><span class="sxs-lookup"><span data-stu-id="888ec-182">Choose your machine size, and then click **Select**.</span></span>

## <a name="3-configure-optional-features"></a><span data-ttu-id="888ec-183">3. Konfigurowanie funkcji opcjonalnych</span><span class="sxs-lookup"><span data-stu-id="888ec-183">3. Configure optional features</span></span>
<span data-ttu-id="888ec-184">W bloku **Ustawienia** skonfiguruj usługę Azure Storage, sieć i monitorowanie dla maszyny wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="888ec-184">On the **Settings** blade, configure Azure storage, networking, and monitoring for the virtual machine.</span></span>

* <span data-ttu-id="888ec-185">W obszarze **Usługa Storage** określ wartość **Typ dysku** jako standardowy lub Premium (SSD).</span><span class="sxs-lookup"><span data-stu-id="888ec-185">Under **Storage**, specify a **Disk type** of either Standard or Premium (SSD).</span></span> <span data-ttu-id="888ec-186">Magazyn w warstwie Premium jest zalecany w przypadku obciążeń produkcyjnych.</span><span class="sxs-lookup"><span data-stu-id="888ec-186">Premium storage is recommended for production workloads.</span></span>

> [!NOTE]
> <span data-ttu-id="888ec-187">Wybranie opcji Premium (SSD) dla rozmiaru maszyny, która nie obsługuje usługi Premium Storage, powoduje automatyczną zmianę rozmiaru maszyny.</span><span class="sxs-lookup"><span data-stu-id="888ec-187">If you select Premium (SSD) for a machine size that does not support Premium Storage, your machine size changes automatically.</span></span>  
> 
> 

* <span data-ttu-id="888ec-188">W obszarze **Konto usługi Storage** możesz zaakceptować nazwę konta automatycznie aprowizowanego magazynu.</span><span class="sxs-lookup"><span data-stu-id="888ec-188">Under **Storage account**, you can accept the automatically provisioned storage account name.</span></span> <span data-ttu-id="888ec-189">Możesz również kliknąć pozycję **Konto usługi Storage**, aby wybrać istniejące konto i skonfigurować typ konta magazynu.</span><span class="sxs-lookup"><span data-stu-id="888ec-189">You can also click on **Storage account** to choose an existing account and configure the storage account type.</span></span> <span data-ttu-id="888ec-190">Domyślnie platforma Azure tworzy nowe konto magazynu z magazynem lokalnie nadmiarowym.</span><span class="sxs-lookup"><span data-stu-id="888ec-190">By default, Azure creates a new storage account with locally redundant storage.</span></span> <span data-ttu-id="888ec-191">Aby uzyskać więcej informacji na temat opcji magazynu, zobacz [Replikacja usługi Azure Storage](../../../storage/storage-redundancy.md).</span><span class="sxs-lookup"><span data-stu-id="888ec-191">For more information about storage options, see [Azure Storage replication](../../../storage/storage-redundancy.md).</span></span>
* <span data-ttu-id="888ec-192">W obszarze **Sieć** możesz zaakceptować automatycznie wypełnione wartości.</span><span class="sxs-lookup"><span data-stu-id="888ec-192">Under **Network**, you can accept the automatically populated values.</span></span> <span data-ttu-id="888ec-193">Możesz również kliknąć poszczególne funkcje, aby ręcznie skonfigurować ustawienia **Sieć wirtualna**, **Podsieć**, **Publiczny adres IP** i **Sieciowa grupa zabezpieczeń**.</span><span class="sxs-lookup"><span data-stu-id="888ec-193">You can also click on each feature to manually configure the **Virtual network**, **Subnet**, **Public IP address**, and **Network Security Group**.</span></span> <span data-ttu-id="888ec-194">Na potrzeby tego samouczka zachowaj wartości domyślne.</span><span class="sxs-lookup"><span data-stu-id="888ec-194">For the purposes of this tutorial, keep the default values.</span></span>
* <span data-ttu-id="888ec-195">Platforma Azure domyślnie umożliwia **monitorowanie** za pomocą tego samego konta magazynu wyznaczonego dla maszyny wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="888ec-195">Azure enables **Monitoring** by default with the same storage account designated for the VM.</span></span> <span data-ttu-id="888ec-196">Możesz zmienić te ustawienia tutaj.</span><span class="sxs-lookup"><span data-stu-id="888ec-196">You can change these settings here.</span></span>
* <span data-ttu-id="888ec-197">W obszarze **Zestaw dostępności** określ zestaw dostępności.</span><span class="sxs-lookup"><span data-stu-id="888ec-197">Under **Availability set**, specify an availability set.</span></span> <span data-ttu-id="888ec-198">Na potrzeby tego samouczka możesz wybrać pozycję **Brak**.</span><span class="sxs-lookup"><span data-stu-id="888ec-198">For the purposes of this tutorial, you can select **none**.</span></span> <span data-ttu-id="888ec-199">Jeśli planujesz konfigurowanie zawsze włączonych grup dostępności SQL, skonfiguruj dostępność, aby zapobiec ponownemu utworzeniu maszyny wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="888ec-199">If you plan to set up SQL AlwaysOn Availability Groups, configure the availability to avoid recreating the virtual machine.</span></span>  <span data-ttu-id="888ec-200">Aby uzyskać więcej informacji, zobacz [Manage the Availability of Virtual Machines](../manage-availability.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) (Zarządzanie dostępnością usługi Virtual Machines).</span><span class="sxs-lookup"><span data-stu-id="888ec-200">For more information, see [Manage the Availability of Virtual Machines](../manage-availability.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

<span data-ttu-id="888ec-201">Po zakończeniu konfigurowania tych ustawień kliknij pozycję **OK**.</span><span class="sxs-lookup"><span data-stu-id="888ec-201">When you are done configuring these settings, click **OK**.</span></span>

## <a name="4-configure-sql-server-settings"></a><span data-ttu-id="888ec-202">4. Konfigurowanie ustawień programu SQL Server</span><span class="sxs-lookup"><span data-stu-id="888ec-202">4. Configure SQL server settings</span></span>
<span data-ttu-id="888ec-203">W bloku **Ustawienia programu SQL Server** skonfiguruj określone ustawienia i optymalizacje dla programu SQL Server.</span><span class="sxs-lookup"><span data-stu-id="888ec-203">On the **SQL Server settings** blade, configure specific settings and optimizations for SQL Server.</span></span> <span data-ttu-id="888ec-204">Możesz skonfigurować dla programu SQL Server poniższe ustawienia.</span><span class="sxs-lookup"><span data-stu-id="888ec-204">The settings that you can configure for SQL Server include the following settings.</span></span>

| <span data-ttu-id="888ec-205">Ustawienie</span><span class="sxs-lookup"><span data-stu-id="888ec-205">Setting</span></span> |
| --- |
| [<span data-ttu-id="888ec-206">Łączność</span><span class="sxs-lookup"><span data-stu-id="888ec-206">Connectivity</span></span>](#connectivity) |
| [<span data-ttu-id="888ec-207">Uwierzytelnianie</span><span class="sxs-lookup"><span data-stu-id="888ec-207">Authentication</span></span>](#authentication) |
| [<span data-ttu-id="888ec-208">Konfiguracja usługi Storage</span><span class="sxs-lookup"><span data-stu-id="888ec-208">Storage configuration</span></span>](#storage-configuration) |
| [<span data-ttu-id="888ec-209">Automatyczne stosowanie poprawek</span><span class="sxs-lookup"><span data-stu-id="888ec-209">Automated Patching</span></span>](#automated-patching) |
| [<span data-ttu-id="888ec-210">Automatyczne kopie zapasowe</span><span class="sxs-lookup"><span data-stu-id="888ec-210">Automated Backup</span></span>](#automated-backup) |
| [<span data-ttu-id="888ec-211">Integracja z usługą Azure Key Vault</span><span class="sxs-lookup"><span data-stu-id="888ec-211">Azure Key Vault Integration</span></span>](#azure-key-vault-integration) |
| [<span data-ttu-id="888ec-212">Usługi języka R</span><span class="sxs-lookup"><span data-stu-id="888ec-212">R Services</span></span>](#r-services) |

### <a name="connectivity"></a><span data-ttu-id="888ec-213">Łączność</span><span class="sxs-lookup"><span data-stu-id="888ec-213">Connectivity</span></span>
<span data-ttu-id="888ec-214">W obszarze **Łączność z serwerem SQL** określ żądany typ dostępu do wystąpienia programu SQL Server na tej maszynie wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="888ec-214">Under **SQL connectivity**, specify the type of access you want to the SQL Server instance on this VM.</span></span> <span data-ttu-id="888ec-215">Na potrzeby tego samouczka wybierz pozycję **Publiczne (Internet)**, aby zezwolić na połączenia z programem SQL Server z komputerów lub usług w Internecie.</span><span class="sxs-lookup"><span data-stu-id="888ec-215">For the purposes of this tutorial, select **Public (internet)** to allow connections to SQL Server from machines or services on the internet.</span></span> <span data-ttu-id="888ec-216">Jeśli ta opcja zostanie wybrana, platforma Azure automatycznie skonfiguruje zaporę i sieciową grupę zabezpieczeń do zezwalania na ruch przez port 1433.</span><span class="sxs-lookup"><span data-stu-id="888ec-216">With this option selected, Azure automatically configures the firewall and the network security group to allow traffic on port 1433.</span></span>  

![Opcje łączności z serwerem SQL](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-arm-connectivity-alt.png)

<span data-ttu-id="888ec-218">Aby ustanowić połączenie z programem SQL Server za pośrednictwem Internetu, musisz również włączyć funkcję Uwierzytelnianie programu SQL Server opisaną w następnej sekcji.</span><span class="sxs-lookup"><span data-stu-id="888ec-218">To connect to SQL Server via the internet, you also must enable SQL Server Authentication, which is described in the next section.</span></span>

> [!NOTE]
> <span data-ttu-id="888ec-219">Można dodać więcej ograniczeń komunikacji sieciowej z maszyną wirtualną programu SQL Server.</span><span class="sxs-lookup"><span data-stu-id="888ec-219">It is possible to add more restrictions for the network communications to your SQL Server VM.</span></span> <span data-ttu-id="888ec-220">Możesz dodać więcej ograniczeń, edytując sieciową grupę zabezpieczeń po utworzeniu maszyny wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="888ec-220">You can add more restrictions by editing the Network Security Group after the VM is created.</span></span> <span data-ttu-id="888ec-221">Aby uzyskać więcej informacji, zobacz [What is a Network Security Group (NSG)?](../../../virtual-network/virtual-networks-nsg.md) (Co to jest sieciowa grupa zabezpieczeń?).</span><span class="sxs-lookup"><span data-stu-id="888ec-221">For more information, see [What is a Network Security Group (NSG)?](../../../virtual-network/virtual-networks-nsg.md)</span></span>
> 
> 

<span data-ttu-id="888ec-222">Jeśli nie chcesz zezwolić na połączenia z aparatem bazy danych za pośrednictwem Internetu, wybierz jedną z następujących opcji:</span><span class="sxs-lookup"><span data-stu-id="888ec-222">If you would prefer to not enable connections to the Database Engine via the internet, choose one of the following options:</span></span>

* <span data-ttu-id="888ec-223">**Lokalne (tylko wewnątrz maszyny wirtualnej)**, aby zezwolić na połączenia z programem SQL Server tylko z maszyny wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="888ec-223">**Local (inside VM only)** to allow connections to SQL Server only from within the VM.</span></span>
* <span data-ttu-id="888ec-224">**Prywatne (wewnątrz usługi Virtual Network)**, aby zezwolić na połączenia z programem SQL Server tylko z maszyn wirtualnych lub usług w tej samej sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="888ec-224">**Private (within Virtual Network)** to allow connections to SQL Server from machines or services in the same virtual network.</span></span>

> [!NOTE]
> <span data-ttu-id="888ec-225">W obrazach maszyn wirtualnych programu SQL Server w wersji Express protokół TCP/IP nie jest domyślnie włączony.</span><span class="sxs-lookup"><span data-stu-id="888ec-225">The virtual machine image for SQL Server Express edition does not automatically enable the TCP/IP protocol.</span></span> <span data-ttu-id="888ec-226">Ta zasada obowiązuje nawet dla opcji łączności publicznej i prywatnej.</span><span class="sxs-lookup"><span data-stu-id="888ec-226">This is true even for the Public and  Private connectivity options.</span></span> <span data-ttu-id="888ec-227">W przypadku wersji Express należy [ręcznie włączyć protokół TCP/IP](#configure-sql-server-to-listen-on-the-tcp-protocol) po utworzeniu maszyny wirtualnej przy użyciu Menedżera konfiguracji programu SQL Server.</span><span class="sxs-lookup"><span data-stu-id="888ec-227">For Express edition, you must use SQL Server Configuration Manager to [manually enable the TCP/IP protocol](#configure-sql-server-to-listen-on-the-tcp-protocol) after creating the VM.</span></span>
> 
> 

<span data-ttu-id="888ec-228">Ogólnie rzecz biorąc, można ulepszyć zabezpieczenia, wybierając łączność z najbardziej restrykcyjnymi ograniczeniami akceptowanymi w danym scenariuszu.</span><span class="sxs-lookup"><span data-stu-id="888ec-228">In general, improve security by choosing the most restrictive connectivity that your scenario allows.</span></span> <span data-ttu-id="888ec-229">Jednak wszystkie opcje można zabezpieczyć przy użyciu reguł sieciowej grupy zabezpieczeń i uwierzytelniania SQL/Windows.</span><span class="sxs-lookup"><span data-stu-id="888ec-229">But all the options are securable through Network Security Group rules and SQL/Windows Authentication.</span></span>

<span data-ttu-id="888ec-230">Domyślnie wybierane jest ustawienie **Port** 1433.</span><span class="sxs-lookup"><span data-stu-id="888ec-230">**Port** defaults to 1433.</span></span> <span data-ttu-id="888ec-231">Możesz określić inny numer portu.</span><span class="sxs-lookup"><span data-stu-id="888ec-231">You can specify a different port number.</span></span>
<span data-ttu-id="888ec-232">Aby uzyskać więcej informacji, zobacz [Connect to a SQL Server Virtual Machine (Resource Manager) | Microsoft Azure](virtual-machines-windows-sql-connect.md) (Ustanawianie połączenia z maszyną wirtualną programu SQL Server (usługa Resource Manager) | Microsoft Azure).</span><span class="sxs-lookup"><span data-stu-id="888ec-232">For more information, see [Connect to a SQL Server Virtual Machine (Resource Manager) | Microsoft Azure](virtual-machines-windows-sql-connect.md).</span></span>

### <a name="authentication"></a><span data-ttu-id="888ec-233">Uwierzytelnianie</span><span class="sxs-lookup"><span data-stu-id="888ec-233">Authentication</span></span>
<span data-ttu-id="888ec-234">Jeśli wymagasz uwierzytelniania programu SQL Server, kliknij pozycję **Włącz** w obszarze **Uwierzytelnianie SQL**.</span><span class="sxs-lookup"><span data-stu-id="888ec-234">If you require SQL Server Authentication, click **Enable** under **SQL authentication**.</span></span>

![Uwierzytelnianie programu SQL Server](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-arm-authentication.png)

> [!NOTE]
> <span data-ttu-id="888ec-236">Jeśli planujesz dostęp do programu SQL Server za pośrednictwem Internetu (tzn. opcji łączności publicznej), musisz w tym miejscu włączyć uwierzytelnianie SQL.</span><span class="sxs-lookup"><span data-stu-id="888ec-236">If you plan to access SQL Server over the internet (that is, the Public connectivity option), you must enable SQL authentication here.</span></span> <span data-ttu-id="888ec-237">Publiczny dostęp do programu SQL Server wymaga użycia uwierzytelniania SQL.</span><span class="sxs-lookup"><span data-stu-id="888ec-237">Public access to the SQL Server requires the use of SQL Authentication.</span></span>
> 
> 

<span data-ttu-id="888ec-238">Jeśli włączasz opcję uwierzytelniania programu SQL Server, podaj informacje w polach **Nazwa logowania** i **Hasło**.</span><span class="sxs-lookup"><span data-stu-id="888ec-238">If you enable SQL Server Authentication, specify a **Login name** and **Password**.</span></span> <span data-ttu-id="888ec-239">Ta nazwa użytkownika jest skonfigurowana jako identyfikator logowania uwierzytelniania programu SQL Server i członek stałej roli serwera **sysadmin**.</span><span class="sxs-lookup"><span data-stu-id="888ec-239">This user name is configured as a SQL Server Authentication login and member of the **sysadmin** fixed server role.</span></span> <span data-ttu-id="888ec-240">Aby uzyskać więcej informacji na temat trybów uwierzytelniana, zobacz artykuł [Choose an Authentication Mode](http://msdn.microsoft.com/library/ms144284.aspx) (Wybieranie trybu uwierzytelniania).</span><span class="sxs-lookup"><span data-stu-id="888ec-240">For more information about Authentication Modes, see [Choose an Authentication Mode](http://msdn.microsoft.com/library/ms144284.aspx).</span></span>

<span data-ttu-id="888ec-241">Jeśli nie włączysz opcji uwierzytelniania programu SQL Server, możesz użyć konta administratora lokalnego na maszynie wirtualnej do ustanawiania połączeń z wystąpieniem programu SQL Server.</span><span class="sxs-lookup"><span data-stu-id="888ec-241">If you do not enable SQL Server Authentication, then you can use the local Administrator account on the VM to connect to the SQL Server instance.</span></span>

### <a name="storage-configuration"></a><span data-ttu-id="888ec-242">Konfiguracja usługi Storage</span><span class="sxs-lookup"><span data-stu-id="888ec-242">Storage configuration</span></span>
<span data-ttu-id="888ec-243">Kliknij pozycję **Konfiguracja usługi Storage**, aby określić wymagania dotyczące magazynu.</span><span class="sxs-lookup"><span data-stu-id="888ec-243">Click **Storage configuration** to specify the storage requirements.</span></span>

![Konfiguracja usługi SQL Storage](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-arm-storage.png)

> [!NOTE]
> <span data-ttu-id="888ec-245">Ta opcja jest niedostępna po wybraniu magazynu standardowego.</span><span class="sxs-lookup"><span data-stu-id="888ec-245">If you select Standard storage, this option is not available.</span></span> <span data-ttu-id="888ec-246">Automatyczna optymalizacja magazynu jest dostępna tylko dla usługi Premium Storage.</span><span class="sxs-lookup"><span data-stu-id="888ec-246">Automatic storage optimization is available only for Premium Storage.</span></span>
> 
> 

<span data-ttu-id="888ec-247">Możesz określić wymagania dotyczące na przykład liczby operacji wejścia/wyjścia na sekundę (IOPs), przepustowości w MB/s i całkowitego rozmiaru magazynu.</span><span class="sxs-lookup"><span data-stu-id="888ec-247">You can specify requirements as input/output operations per second (IOPs), throughput in MB/s, and total storage size.</span></span> <span data-ttu-id="888ec-248">Skonfiguruj te wartości przy użyciu suwaków.</span><span class="sxs-lookup"><span data-stu-id="888ec-248">Configure these values by using the sliding scales.</span></span> <span data-ttu-id="888ec-249">Portal automatycznie oblicza liczbę dysków na podstawie tych wymagań.</span><span class="sxs-lookup"><span data-stu-id="888ec-249">The portal automatically calculates the number of disks based on these requirements.</span></span>

<span data-ttu-id="888ec-250">Domyślnie platforma Azure optymalizuje magazyn dla 5000 IOPs, 200 MB i 1 TB miejsca do magazynowania.</span><span class="sxs-lookup"><span data-stu-id="888ec-250">By default, Azure optimizes the storage for 5000 IOPs, 200 MBs, and 1 TB of storage space.</span></span> <span data-ttu-id="888ec-251">Możesz zmienić te ustawienia magazynu zależnie od obciążenia.</span><span class="sxs-lookup"><span data-stu-id="888ec-251">You can change these storage settings based on workload.</span></span> <span data-ttu-id="888ec-252">W obszarze **Usługa Storage zoptymalizowana dla** wybierz jedną z następujących opcji:</span><span class="sxs-lookup"><span data-stu-id="888ec-252">Under **Storage optimized for**, select one of the following options:</span></span>

* <span data-ttu-id="888ec-253">**Ogólne** to ustawienie domyślne obsługujące większość obciążeń.</span><span class="sxs-lookup"><span data-stu-id="888ec-253">**General** is the default setting and supports most workloads.</span></span>
* <span data-ttu-id="888ec-254">**Przetwarzanie transakcyjne** optymalizuje magazyn dla tradycyjnych obciążeń baz danych OLTP.</span><span class="sxs-lookup"><span data-stu-id="888ec-254">**Transactional** processing optimizes the storage for traditional database OLTP workloads.</span></span>
* <span data-ttu-id="888ec-255">**Magazynowanie danych** optymalizuje magazyn dla tradycyjnych obciążeń związanych z analizą i raportami.</span><span class="sxs-lookup"><span data-stu-id="888ec-255">**Data warehousing** optimizes the storage for analytic and reporting workloads.</span></span>

> [!NOTE]
> <span data-ttu-id="888ec-256">Górne limity na suwakach są zależne od wybranego rozmiaru maszyny wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="888ec-256">The upper limits on the sliders vary depending on your selected virtual machine size.</span></span>
> 
> 

### <a name="automated-patching"></a><span data-ttu-id="888ec-257">Automatyczne stosowanie poprawek</span><span class="sxs-lookup"><span data-stu-id="888ec-257">Automated patching</span></span>
<span data-ttu-id="888ec-258">Opcja **Automatyczne stosowanie poprawek** jest domyślnie włączona.</span><span class="sxs-lookup"><span data-stu-id="888ec-258">**Automated patching** is enabled by default.</span></span> <span data-ttu-id="888ec-259">Automatyczne stosowanie poprawek umożliwia platformie Azure automatyczne stosowanie poprawek programu SQL Server i systemu operacyjnego.</span><span class="sxs-lookup"><span data-stu-id="888ec-259">Automated patching allows Azure to automatically patch SQL Server and the operating system.</span></span> <span data-ttu-id="888ec-260">Określ dzień tygodnia, godzinę i czas trwania okna obsługi.</span><span class="sxs-lookup"><span data-stu-id="888ec-260">Specify a day of the week, time, and duration for a maintenance window.</span></span> <span data-ttu-id="888ec-261">Platforma Azure stosuje poprawki w tym oknie obsługi.</span><span class="sxs-lookup"><span data-stu-id="888ec-261">Azure performs patching in this maintenance window.</span></span> <span data-ttu-id="888ec-262">Harmonogram okna obsługi korzysta z ustawień regionalnych godziny maszyny wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="888ec-262">The maintenance window schedule uses the VM locale for time.</span></span> <span data-ttu-id="888ec-263">Jeśli nie chcesz, aby platforma Azure automatycznie stosowała poprawki programu SQL Server i systemu operacyjnego, kliknij pozycję **Wyłącz**.</span><span class="sxs-lookup"><span data-stu-id="888ec-263">If you do not want Azure to automatically patch SQL Server and the operating system, click **Disable**.</span></span>  

![Automatyczne stosowanie poprawek SQL](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-arm-patching.png)

<span data-ttu-id="888ec-265">Aby uzyskać więcej informacji, zobacz [Automated Patching for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-automated-patching.md) (Automatyczne stosowanie poprawek programu SQL Server w usłudze Azure Virtual Machines).</span><span class="sxs-lookup"><span data-stu-id="888ec-265">For more information, see [Automated Patching for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-automated-patching.md).</span></span>

### <a name="automated-backup"></a><span data-ttu-id="888ec-266">Automatyczne kopie zapasowe</span><span class="sxs-lookup"><span data-stu-id="888ec-266">Automated backup</span></span>
<span data-ttu-id="888ec-267">Automatyczną obsługę kopii zapasowych baz danych możesz włączyć dla wszystkich baz danych w obszarze **Automatyczne tworzenie kopii zapasowych**.</span><span class="sxs-lookup"><span data-stu-id="888ec-267">Enable automatic database backups for all databases under **Automated backup**.</span></span> <span data-ttu-id="888ec-268">Opcja Automatyczne kopie zapasowe jest domyślnie wyłączona.</span><span class="sxs-lookup"><span data-stu-id="888ec-268">Automated backup is disabled by default.</span></span>

<span data-ttu-id="888ec-269">Po włączeniu automatycznej obsługi kopii zapasowych SQL możesz skonfigurować poniższe ustawienia:</span><span class="sxs-lookup"><span data-stu-id="888ec-269">When you enable SQL automated backup, you can configure the following settings:</span></span>

* <span data-ttu-id="888ec-270">Okres przechowywania (dni) kopii zapasowych</span><span class="sxs-lookup"><span data-stu-id="888ec-270">Retention period (days) for backups</span></span>
* <span data-ttu-id="888ec-271">Konto usługi Storage używane dla kopii zapasowych</span><span class="sxs-lookup"><span data-stu-id="888ec-271">Storage account to use for backups</span></span>
* <span data-ttu-id="888ec-272">Opcja szyfrowania i hasło dla kopii zapasowych</span><span class="sxs-lookup"><span data-stu-id="888ec-272">Encryption option and password for backups</span></span>
* <span data-ttu-id="888ec-273">Bazy danych systemu tworzenia kopii zapasowych</span><span class="sxs-lookup"><span data-stu-id="888ec-273">Backup system databases</span></span>
* <span data-ttu-id="888ec-274">Konfigurowanie harmonogramu tworzenia kopii zapasowych</span><span class="sxs-lookup"><span data-stu-id="888ec-274">Configure backup schedule</span></span>

<span data-ttu-id="888ec-275">Aby szyfrować kopie zapasowe, kliknij pozycję **Włącz**.</span><span class="sxs-lookup"><span data-stu-id="888ec-275">To encrypt the backup, click **Enable**.</span></span> <span data-ttu-id="888ec-276">Następnie określ ustawienie **Hasło**.</span><span class="sxs-lookup"><span data-stu-id="888ec-276">Then specify the **Password**.</span></span> <span data-ttu-id="888ec-277">Platforma Azure tworzy certyfikat do szyfrowania kopii zapasowych i używa określonego hasła do ochrony tego certyfikatu.</span><span class="sxs-lookup"><span data-stu-id="888ec-277">Azure creates a certificate to encrypt the backups and uses the specified password to protect that certificate.</span></span>

![Automatyczna usługa Backup SQL](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-arm-autobackup2.png)

 <span data-ttu-id="888ec-279">Aby uzyskać więcej informacji, zobacz [Automated Backup for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-automated-backup.md) (Automatyczne tworzenie kopii zapasowych dla programu SQL Server w usłudze Azure Virtual Machines).</span><span class="sxs-lookup"><span data-stu-id="888ec-279">For more information, see [Automated Backup for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-automated-backup.md).</span></span>

### <a name="azure-key-vault-integration"></a><span data-ttu-id="888ec-280">Integracja magazynu kluczy Azure</span><span class="sxs-lookup"><span data-stu-id="888ec-280">Azure Key Vault integration</span></span>
<span data-ttu-id="888ec-281">Aby przechowywać klucze tajne zabezpieczeń do szyfrowania na platformie Azure, kliknij pozycję **Integracja usługi Azure Key Vault**, a następnie kliknij pozycję **Włącz**.</span><span class="sxs-lookup"><span data-stu-id="888ec-281">To store security secrets in Azure for encryption, click **Azure key vault integration** and click **Enable**.</span></span>

![Integracja magazynu kluczy Usług SQL Azure](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-arm-akv.png)

<span data-ttu-id="888ec-283">Poniższa tabela zawiera listę parametrów wymaganych do skonfigurowania integracji magazynu kluczy Azure.</span><span class="sxs-lookup"><span data-stu-id="888ec-283">The following table lists the parameters required to configure Azure Key Vault Integration.</span></span>

| <span data-ttu-id="888ec-284">PARAMETR</span><span class="sxs-lookup"><span data-stu-id="888ec-284">PARAMETER</span></span> | <span data-ttu-id="888ec-285">OPIS</span><span class="sxs-lookup"><span data-stu-id="888ec-285">DESCRIPTION</span></span> | <span data-ttu-id="888ec-286">PRZYKŁAD</span><span class="sxs-lookup"><span data-stu-id="888ec-286">EXAMPLE</span></span> |
| --- | --- | --- |
| <span data-ttu-id="888ec-287">**Adres URL magazynu kluczy**</span><span class="sxs-lookup"><span data-stu-id="888ec-287">**Key Vault URL**</span></span> |<span data-ttu-id="888ec-288">Lokalizacja magazynu kluczy.</span><span class="sxs-lookup"><span data-stu-id="888ec-288">The location of the key vault.</span></span> |<span data-ttu-id="888ec-289">https://contosokeyvault.vault.azure.net/</span><span class="sxs-lookup"><span data-stu-id="888ec-289">https://contosokeyvault.vault.azure.net/</span></span> |
| <span data-ttu-id="888ec-290">**Nazwa główna**</span><span class="sxs-lookup"><span data-stu-id="888ec-290">**Principal name**</span></span> |<span data-ttu-id="888ec-291">Nazwa główna usługi Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="888ec-291">Azure Active Directory service principal name.</span></span> <span data-ttu-id="888ec-292">Ta nazwa jest również nazywana identyfikatorem klienta.</span><span class="sxs-lookup"><span data-stu-id="888ec-292">This name is also referred to as the Client ID.</span></span> |<span data-ttu-id="888ec-293">fde2b411-33d5-4e11-af04eb07b669ccf2</span><span class="sxs-lookup"><span data-stu-id="888ec-293">fde2b411-33d5-4e11-af04eb07b669ccf2</span></span> |
| <span data-ttu-id="888ec-294">**Główny klucz tajny**</span><span class="sxs-lookup"><span data-stu-id="888ec-294">**Principal secret**</span></span> |<span data-ttu-id="888ec-295">Główny klucz tajny usługi Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="888ec-295">Azure Active Directory service principal secret.</span></span> <span data-ttu-id="888ec-296">Ten klucz tajny jest również nazywany kluczem tajnym klienta.</span><span class="sxs-lookup"><span data-stu-id="888ec-296">This secret is also referred to as the Client Secret.</span></span> |<span data-ttu-id="888ec-297">9VTJSQwzlFepD8XODnzy8n2V01Jd8dAjwm/azF1XDKM=</span><span class="sxs-lookup"><span data-stu-id="888ec-297">9VTJSQwzlFepD8XODnzy8n2V01Jd8dAjwm/azF1XDKM=</span></span> |
| <span data-ttu-id="888ec-298">**Nazwa poświadczenia**</span><span class="sxs-lookup"><span data-stu-id="888ec-298">**Credential name**</span></span> |<span data-ttu-id="888ec-299">**Nazwa poświadczenia**: integracja usługi Azure Key Vault powoduje utworzenie poświadczenia w programie SQL Server, co umożliwia maszynie wirtualnej dostęp do magazynu kluczy.</span><span class="sxs-lookup"><span data-stu-id="888ec-299">**Credential name**: AKV Integration creates a credential within SQL Server, allowing the VM to have access to the key vault.</span></span> <span data-ttu-id="888ec-300">Wybierz nazwę tego poświadczenia.</span><span class="sxs-lookup"><span data-stu-id="888ec-300">Choose a name for this credential.</span></span> |<span data-ttu-id="888ec-301">moje_poświadczenie_1</span><span class="sxs-lookup"><span data-stu-id="888ec-301">mycred1</span></span> |

<span data-ttu-id="888ec-302">Aby uzyskać więcej informacji, zobacz [Configure Azure Key Vault Integration for SQL Server on Azure VMs](virtual-machines-windows-ps-sql-keyvault.md) (Konfigurowanie integracji usługi Azure Key Vault dla programu SQL Server na maszynach wirtualnych Azure).</span><span class="sxs-lookup"><span data-stu-id="888ec-302">For more information, see [Configure Azure Key Vault Integration for SQL Server on Azure VMs](virtual-machines-windows-ps-sql-keyvault.md).</span></span>

<span data-ttu-id="888ec-303">Po zakończeniu konfigurowania tych ustawień programu SQL Server kliknij pozycję **OK**.</span><span class="sxs-lookup"><span data-stu-id="888ec-303">When you are finished configuring SQL Server settings, click **OK**.</span></span>

### <a name="r-services"></a><span data-ttu-id="888ec-304">Usługi języka R</span><span class="sxs-lookup"><span data-stu-id="888ec-304">R services</span></span>
<span data-ttu-id="888ec-305">Można włączyć [usługi języka R programu SQL Server](https://msdn.microsoft.com/library/mt604845.aspx).</span><span class="sxs-lookup"><span data-stu-id="888ec-305">You can enable [SQL Server R Services](https://msdn.microsoft.com/library/mt604845.aspx).</span></span> <span data-ttu-id="888ec-306">Usługi języka R programu SQL Server umożliwiają korzystanie z zaawansowanych funkcji analizy za pomocą programu SQL Server 2016.</span><span class="sxs-lookup"><span data-stu-id="888ec-306">SQL Server R Services enables you to use advanced analytics with SQL Server 2016.</span></span> <span data-ttu-id="888ec-307">Kliknij pozycję **Włącz** w bloku **Ustawienia programu SQL Server**.</span><span class="sxs-lookup"><span data-stu-id="888ec-307">Click **Enable** on the **SQL Server Settings** blade.</span></span>

![Włączanie usług języka R programu SQL Server](./media/virtual-machines-windows-portal-sql-server-provision/azure-vm-sql-server-r-services.png)


## <a name="5-review-the-summary"></a><span data-ttu-id="888ec-309">5. Przeglądanie podsumowania</span><span class="sxs-lookup"><span data-stu-id="888ec-309">5. Review the summary</span></span>
<span data-ttu-id="888ec-310">W bloku **Podsumowanie** przejrzyj podsumowanie i kliknij pozycję **OK**, aby utworzyć wystąpienie programu SQL Server, grupę zasobów i zasoby określone dla tej maszyny wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="888ec-310">On the **Summary** blade, review the summary and click **OK** to create SQL Server, resource group, and resources specified for this VM.</span></span>

<span data-ttu-id="888ec-311">Możesz monitorować wdrożenie z Portalu Azure.</span><span class="sxs-lookup"><span data-stu-id="888ec-311">You can monitor the deployment from the azure portal.</span></span> <span data-ttu-id="888ec-312">Przycisk **Powiadomienia** w górnej części ekranu służy do wyświetlania podstawowych informacji dotyczących stanu wdrożenia.</span><span class="sxs-lookup"><span data-stu-id="888ec-312">The **Notifications** button at the top of the screen shows basic status of the deployment.</span></span>

> [!NOTE]
> <span data-ttu-id="888ec-313">Aby podać przykład czasu wymaganego do przeprowadzenia wdrożenia, wdrożono maszynę wirtualną SQL dla regionu Wschodnie stany USA z ustawieniami domyślnymi.</span><span class="sxs-lookup"><span data-stu-id="888ec-313">To provide you with an idea on deployment times, I deployed a SQL VM to the East US region with default settings.</span></span> <span data-ttu-id="888ec-314">Przeprowadzenie tego wdrożenia testowego trwało łącznie 26 minut.</span><span class="sxs-lookup"><span data-stu-id="888ec-314">This test deployment took a total of 26 minutes to complete.</span></span> <span data-ttu-id="888ec-315">Wdrażanie może jednak trwać krócej lub dłużej zależnie od regionu i wybranych ustawień.</span><span class="sxs-lookup"><span data-stu-id="888ec-315">But you might experience a faster or slower deployment time based on your region and selected settings.</span></span>
> 
> 

## <a name="open-the-vm-with-remote-desktop"></a><span data-ttu-id="888ec-316">Otwieranie maszyny wirtualnej przy użyciu pulpitu zdalnego</span><span class="sxs-lookup"><span data-stu-id="888ec-316">Open the VM with Remote Desktop</span></span>
<span data-ttu-id="888ec-317">Wykonaj następujące kroki, aby ustanowić połączenie z maszyną wirtualną przy użyciu pulpitu zdalnego:</span><span class="sxs-lookup"><span data-stu-id="888ec-317">Use the following steps to connect to the virtual machine with Remote Desktop:</span></span>

1. <span data-ttu-id="888ec-318">Po utworzeniu maszyny wirtualnej Azure ikona maszyny wirtualnej pojawi się na pulpicie nawigacyjnym platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="888ec-318">After the Azure VM is built, the icon for the VM appears on your Azure dashboard.</span></span> <span data-ttu-id="888ec-319">Możesz również znaleźć ją, przeglądając istniejące maszyny wirtualne.</span><span class="sxs-lookup"><span data-stu-id="888ec-319">You can also find it by browsing your existing virtual machines.</span></span> <span data-ttu-id="888ec-320">Kliknij maszynę wirtualną SQL.</span><span class="sxs-lookup"><span data-stu-id="888ec-320">Click on your new SQL virtual machine.</span></span> <span data-ttu-id="888ec-321">W bloku **Maszyna wirtualna** zostaną wyświetlone szczegóły maszyny wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="888ec-321">A **Virtual machine** blade displays your virtual machine details.</span></span>
2. <span data-ttu-id="888ec-322">W górnej części bloku **Maszyna wirtualna** kliknij pozycję **Połącz**.</span><span class="sxs-lookup"><span data-stu-id="888ec-322">At the top of the **Virtual machine** blade, click **Connect**.</span></span>
3. <span data-ttu-id="888ec-323">Przeglądarka pobierze plik RDP dla maszyny wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="888ec-323">The browser downloads an RDP file for the VM.</span></span> <span data-ttu-id="888ec-324">Otwórz plik RDP.</span><span class="sxs-lookup"><span data-stu-id="888ec-324">Open the RDP file.</span></span>
    <span data-ttu-id="888ec-325">![Pulpit zdalny dla maszyny wirtualnej SQL](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-vm-remote-desktop.png)</span><span class="sxs-lookup"><span data-stu-id="888ec-325">![Remote Desktop to SQL VM](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-vm-remote-desktop.png)</span></span>
4. <span data-ttu-id="888ec-326">Funkcja Podłączanie pulpitu zdalnego powiadomi, że nie można zidentyfikować wydawcy tego połączenia zdalnego.</span><span class="sxs-lookup"><span data-stu-id="888ec-326">The Remote Desktop Connection notifies you that the publisher of this remote connection cannot be identified.</span></span> <span data-ttu-id="888ec-327">Kliknij pozycję **Połącz**, aby kontynuować.</span><span class="sxs-lookup"><span data-stu-id="888ec-327">Click **Connect** to continue.</span></span>
5. <span data-ttu-id="888ec-328">W oknie dialogowym **Zabezpieczenia systemu Windows** kliknij pozycję **Użyj innego konta**.</span><span class="sxs-lookup"><span data-stu-id="888ec-328">In the **Windows Security** dialog, click **Use another account**.</span></span>
6. <span data-ttu-id="888ec-329">W polu **Nazwa użytkownika** wpisz **\<nazwę użytkownika>**, gdzie <user name> jest nazwą użytkownika określoną podczas konfigurowania maszyny wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="888ec-329">For **User name** type **\<user name>**, where <user name> is the user name that you specified when you configured the VM.</span></span> <span data-ttu-id="888ec-330">Przed nazwą musisz dodać początkowy ukośnik odwrotny.</span><span class="sxs-lookup"><span data-stu-id="888ec-330">You have to add an initial backslash before the name.</span></span>
7. <span data-ttu-id="888ec-331">W polu **Hasło** wpisz hasło uprzednio skonfigurowane dla tej maszyny wirtualnej, a następnie kliknij pozycję **OK**, aby ustanowić połączenie.</span><span class="sxs-lookup"><span data-stu-id="888ec-331">Type the **Password** that you previously configured for this VM, and then click **OK** to connect.</span></span>
8. <span data-ttu-id="888ec-332">Jeśli w kolejnym oknie dialogowym **Podłączanie pulpitu zdalnego** zostanie wyświetlony monit o potwierdzenie zamiaru połączenia, kliknij pozycję **Tak**.</span><span class="sxs-lookup"><span data-stu-id="888ec-332">If another **Remote Desktop Connection** dialog asks you whether to connect, click **Yes**.</span></span>

<span data-ttu-id="888ec-333">Po ustanowieniu połączenia z maszyną wirtualną programu SQL Server możesz uruchomić narzędzie SQL Server Management Studio i ustanowić połączenie przy użyciu uwierzytelniania systemu Windows i poświadczeń administratora lokalnego.</span><span class="sxs-lookup"><span data-stu-id="888ec-333">After you connect to the SQL Server virtual machine, you can launch SQL Server Management Studio and connect with Windows Authentication using your local administrator credentials.</span></span> <span data-ttu-id="888ec-334">Jeśli opcja Uwierzytelnianie programu SQL Server została włączona, możesz też ustanowić połączenie przy użyciu uwierzytelniania SQL oraz identyfikatora logowania i hasła skonfigurowanego podczas aprowizowania.</span><span class="sxs-lookup"><span data-stu-id="888ec-334">If you enabled SQL Server Authentication, you can also connect with SQL Authentication using the SQL login and password you configured during provisioning.</span></span>

<span data-ttu-id="888ec-335">Korzystając z dostępu do maszyny, możesz bezpośrednio zmienić ustawienia maszyny i programu SQL Server, w zależności od wymagań.</span><span class="sxs-lookup"><span data-stu-id="888ec-335">Access to the machine enables you to directly change machine and SQL Server settings based on your requirements.</span></span> <span data-ttu-id="888ec-336">Na przykład możesz skonfigurować ustawienia zapory lub zmienić ustawienia konfiguracji programu SQL Server.</span><span class="sxs-lookup"><span data-stu-id="888ec-336">For example, you could configure the firewall settings or change SQL Server configuration settings.</span></span>

## <a name="connect-to-sql-server-remotely"></a><span data-ttu-id="888ec-337">Zdalne ustanawianie połączenia z programem SQL Server</span><span class="sxs-lookup"><span data-stu-id="888ec-337">Connect to SQL Server remotely</span></span>
<span data-ttu-id="888ec-338">W tym samouczku wybrano opcję dostępu **Publiczne** dla maszyny wirtualnej i opcję **Uwierzytelnianie programu SQL Server**.</span><span class="sxs-lookup"><span data-stu-id="888ec-338">In this tutorial, we selected **Public** access for the virtual machine and **SQL Server Authentication**.</span></span> <span data-ttu-id="888ec-339">Te ustawienia powodują automatyczne skonfigurowanie maszyny wirtualnej do zezwalania na połączenia z programem SQL Server z dowolnego klienta za pośrednictwem Internetu (zakładając, że ma on poprawny identyfikator logowania SQL).</span><span class="sxs-lookup"><span data-stu-id="888ec-339">These settings automatically configured the virtual machine to allow SQL Server connections from any client over the internet (assuming they have the correct SQL login).</span></span>

> [!NOTE]
> <span data-ttu-id="888ec-340">Jeśli nie wybrano opcji Publiczne podczas aprowizowania, uzyskanie dostępu do wystąpienia programu SQL Server za pośrednictwem Internetu wymaga wykonania dodatkowych kroków.</span><span class="sxs-lookup"><span data-stu-id="888ec-340">If you did not select Public during provisioning, then extra steps are required to access your SQL Server instance over the internet.</span></span> <span data-ttu-id="888ec-341">Aby uzyskać więcej informacji, zobacz [Connect to a SQL Server Virtual Machine](virtual-machines-windows-sql-connect.md) (Nawiązywanie połączenia z maszyną wirtualną programu SQL Server).</span><span class="sxs-lookup"><span data-stu-id="888ec-341">For more information, see  [Connect to a SQL Server Virtual Machine](virtual-machines-windows-sql-connect.md).</span></span>
> 
> 

<span data-ttu-id="888ec-342">Poniższe sekcje pokazują, jak nawiązać połączenie z wystąpieniem programu SQL Server na maszynie wirtualnej z innego komputera za pośrednictwem Internetu.</span><span class="sxs-lookup"><span data-stu-id="888ec-342">The following sections show how to connect to your SQL Server instance on your VM from a different computer over the internet.</span></span>

> [!INCLUDE [Connect to SQL Server in a VM Resource Manager](../../../../includes/virtual-machines-sql-server-connection-steps-resource-manager.md)]
> 
> 

## <a name="next-steps"></a><span data-ttu-id="888ec-343">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="888ec-343">Next Steps</span></span>
<span data-ttu-id="888ec-344">Aby uzyskać inne informacje na temat użycia programu SQL Server na platformie Azure, zobacz [SQL Server on Azure Virtual Machines](virtual-machines-windows-sql-server-iaas-overview.md) (Program SQL Server w usłudze Azure Virtual Machines) i [Frequently Asked Questions](virtual-machines-windows-sql-server-iaas-faq.md) (Często zadawane pytania).</span><span class="sxs-lookup"><span data-stu-id="888ec-344">For other information about using SQL Server in Azure, see [SQL Server on Azure Virtual Machines](virtual-machines-windows-sql-server-iaas-overview.md) and the [Frequently Asked Questions](virtual-machines-windows-sql-server-iaas-faq.md).</span></span>

<span data-ttu-id="888ec-345">Obejrzyj film poglądowy dotyczący programu SQL Server w usłudze Azure Virtual Machines: [Azure VM is the best platform for SQL Server 2016](https://channel9.msdn.com/Events/DataDriven/SQLServer2016/Azure-VM-is-the-best-platform-for-SQL-Server-2016) (Maszyna wirtualna Azure jest najlepszą platformą dla programu SQL Server 2016).</span><span class="sxs-lookup"><span data-stu-id="888ec-345">For a video overview of SQL Server on Azure Virtual Machines, watch [Azure VM is the best platform for SQL Server 2016](https://channel9.msdn.com/Events/DataDriven/SQLServer2016/Azure-VM-is-the-best-platform-for-SQL-Server-2016).</span></span>

<span data-ttu-id="888ec-346">[Zbadaj ścieżkę szkoleniową](https://azure.microsoft.com/documentation/learning-paths/sql-azure-vm/) dla programu SQL Server na maszynach wirtualnych Azure.</span><span class="sxs-lookup"><span data-stu-id="888ec-346">[Explore the Learning Path](https://azure.microsoft.com/documentation/learning-paths/sql-azure-vm/) for SQL Server on Azure virtual machines.</span></span>

