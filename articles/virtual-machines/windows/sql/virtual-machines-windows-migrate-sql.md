---
title: aaaMigrate tooSQL bazy danych serwera SQL Server na maszynie Wirtualnej | Dokumentacja firmy Microsoft
description: "Więcej informacji na temat sposobu toomigrate użytkownika lokalnego bazy danych tooSQL serwera w maszynie wirtualnej platformy Azure."
services: virtual-machines-windows
documentationcenter: 
author: sabotta
manager: jhubbard
editor: 
tags: azure-service-management
ms.assetid: 00fd08c6-98fa-4d62-a3b8-ca20aa5246b1
ms.service: virtual-machines-sql
ms.workload: iaas-sql-server
ms.tgt_pltfrm: vm-windows-sql-server
ms.devlang: na
ms.topic: article
ms.date: 07/17/2017
ms.author: carlasab
ms.openlocfilehash: 9c7aba30304ea40796412d2ddc885f6d4a58be2a
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="migrate-a-sql-server-database-toosql-server-in-an-azure-vm"></a><span data-ttu-id="1626f-103">Migrowanie tooSQL bazy danych serwera SQL Server w maszynie Wirtualnej platformy Azure</span><span class="sxs-lookup"><span data-stu-id="1626f-103">Migrate a SQL Server database tooSQL Server in an Azure VM</span></span>

<span data-ttu-id="1626f-104">Istnieje kilka metod toomigrate tooSQL bazy danych użytkowników programu SQL Server lokalnego serwera w maszynie Wirtualnej platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="1626f-104">There are a number of methods toomigrate an on-premises SQL Server user database tooSQL Server in an Azure VM.</span></span> <span data-ttu-id="1626f-105">W tym artykule krótko będzie omówienia różnych metod i zaleca hello najlepszej metody dla różnych scenariuszy.</span><span class="sxs-lookup"><span data-stu-id="1626f-105">This article will briefly discuss various methods and recommend hello best method for various scenarios.</span></span>

[!INCLUDE [learn-about-deployment-models](../../../../includes/learn-about-deployment-models-both-include.md)]

## <a name="what-are-hello-primary-migration-methods"></a><span data-ttu-id="1626f-106">Jakie są metody głównej migracji hello?</span><span class="sxs-lookup"><span data-stu-id="1626f-106">What are hello primary migration methods?</span></span>
<span data-ttu-id="1626f-107">dostępne są następujące metody głównej migracji Hello:</span><span class="sxs-lookup"><span data-stu-id="1626f-107">hello primary migration methods are:</span></span>

* <span data-ttu-id="1626f-108">Wykonaj kopię zapasową lokalnych przy użyciu kompresji i ręcznie Kopiuj plik kopii zapasowej hello na powitania maszyny wirtualnej platformy Azure</span><span class="sxs-lookup"><span data-stu-id="1626f-108">Perform on-premises backup using compression and manually copy hello backup file into hello Azure virtual machine</span></span>
* <span data-ttu-id="1626f-109">Wykonywania tooURL kopii zapasowej i przywracania do maszyny wirtualnej platformy Azure z adresu URL hello hello</span><span class="sxs-lookup"><span data-stu-id="1626f-109">Perform a backup tooURL and restore into hello Azure virtual machine from hello URL</span></span>
* <span data-ttu-id="1626f-110">Odłączyć, a następnie skopiuj hello danych i dziennika pliki tooAzure magazynu obiektów blob i następnie dołącz tooSQL serwera w maszynie Wirtualnej platformy Azure z adresu URL</span><span class="sxs-lookup"><span data-stu-id="1626f-110">Detach and then copy hello data and log files tooAzure blob storage and then attach tooSQL Server in Azure VM from URL</span></span>
* <span data-ttu-id="1626f-111">Konwertowanie fizycznej lokalnego komputera wirtualnego dysku twardego tooHyper-V, Przekaż tooAzure magazynu obiektów Blob, a następnie wdrożenie jako nowej maszyny Wirtualnej za pomocą przekazać wirtualnego dysku twardego</span><span class="sxs-lookup"><span data-stu-id="1626f-111">Convert on-premises physical machine tooHyper-V VHD, upload tooAzure Blob storage, and then deploy as new VM using uploaded VHD</span></span>
* <span data-ttu-id="1626f-112">Wyślij dysk twardy za pomocą usługi Import/Eksport systemu Windows</span><span class="sxs-lookup"><span data-stu-id="1626f-112">Ship hard drive using Windows Import/Export Service</span></span>
* <span data-ttu-id="1626f-113">Jeśli masz wdrożenie AlwaysOn lokalnie, należy użyć hello [Kreatora dodawania repliki Azure](../classic/sql-onprem-availability.md) toocreate repliki w Azure, a następnie trybu failover, wskazując wystąpienie bazy danych platformy Azure toohello użytkowników</span><span class="sxs-lookup"><span data-stu-id="1626f-113">If you have an AlwaysOn deployment on-premises, use hello [Add Azure Replica Wizard](../classic/sql-onprem-availability.md) toocreate a replica in Azure and then failover, pointing users toohello Azure database instance</span></span>
* <span data-ttu-id="1626f-114">Użyj programu SQL Server [replikacji transakcyjnej](https://msdn.microsoft.com/library/ms151176.aspx) wystąpienia jako subskrybent tooconfigure hello Azure SQL Server, a następnie wyłącz replikacji wskazujące wystąpienie bazy danych platformy Azure toohello użytkowników</span><span class="sxs-lookup"><span data-stu-id="1626f-114">Use SQL Server [transactional replication](https://msdn.microsoft.com/library/ms151176.aspx) tooconfigure hello Azure SQL Server instance as a subscriber and then disable replication, pointing users toohello Azure database instance</span></span>

> [!TIP]
> <span data-ttu-id="1626f-115">Umożliwia także tych samym techniki toomove baz danych między maszynami wirtualnymi serwera SQL na platformie Azure.</span><span class="sxs-lookup"><span data-stu-id="1626f-115">You can also use these same techniques toomove databases between SQL Server VMs in Azure.</span></span> <span data-ttu-id="1626f-116">Na przykład jest nie tooupgrade sposób obsługiwane galerii obrazu maszyny Wirtualnej programu SQL Server z jednego tooanother wersji/wydania.</span><span class="sxs-lookup"><span data-stu-id="1626f-116">For example, there is no supported way tooupgrade a SQL Server gallery-image VM from one version/edition tooanother.</span></span> <span data-ttu-id="1626f-117">W takim przypadku należy utworzyć nową maszynę Wirtualną programu SQL Server z hello nowej wersji/wydania i następnie użyj jednej z metod migracji hello w tym artykule toomove baz danych.</span><span class="sxs-lookup"><span data-stu-id="1626f-117">In this case, you should create a new SQL Server VM with hello new version/edition, and then use one of hello migration techniques in this article toomove your databases.</span></span> 

## <a name="choosing-your-migration-method"></a><span data-ttu-id="1626f-118">Wybieranie metody migracji</span><span class="sxs-lookup"><span data-stu-id="1626f-118">Choosing your migration method</span></span>
<span data-ttu-id="1626f-119">Dla danych optymalną wydajność transferu migracja hello pliki bazy danych do hello Azure maszyny Wirtualnej przy użyciu skompresowany plik kopii zapasowej.</span><span class="sxs-lookup"><span data-stu-id="1626f-119">For optimum data transfer performance, migrate hello database files into hello Azure VM using a compressed backup file.</span></span>

<span data-ttu-id="1626f-120">toominimize czas przestoju w trakcie procesu migracji bazy danych hello, użyć opcji zawsze włączone hello lub hello opcji replikacji transakcyjnej.</span><span class="sxs-lookup"><span data-stu-id="1626f-120">toominimize downtime during hello database migration process, use either hello AlwaysOn option or hello transactional replication option.</span></span>

<span data-ttu-id="1626f-121">Jeśli nie jest możliwe toouse hello powyżej metod, ręcznej migracji bazy danych.</span><span class="sxs-lookup"><span data-stu-id="1626f-121">If it is not possible toouse hello above methods, manually migrate your database.</span></span> <span data-ttu-id="1626f-122">Za pomocą tej metody, będzie zwykle zaczyna się od kopii zapasowej bazy danych, a następnie kopii zapasowej bazy danych hello na platformie Azure i następnie wykonaj operację przywracania bazy danych.</span><span class="sxs-lookup"><span data-stu-id="1626f-122">Using this method, you will generally start with a database backup followed by a copy of hello database backup into Azure and then perform a database restore.</span></span> <span data-ttu-id="1626f-123">Można również skopiować pliki bazy danych hello, samodzielnie na platformie Azure, a następnie dołącz je.</span><span class="sxs-lookup"><span data-stu-id="1626f-123">You can also copy hello database files themselves into Azure and then attach them.</span></span> <span data-ttu-id="1626f-124">Istnieje kilka metod, które można wykonać ten ręczny proces migracji bazy danych do maszyny Wirtualnej platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="1626f-124">There are several methods by which you can accomplish this manual process of migrating a database into an Azure VM.</span></span>

> [!NOTE]
> <span data-ttu-id="1626f-125">Po uaktualnieniu tooSQL Server 2014 lub SQL Server 2016 ze starszych wersji programu SQL Server, należy rozważyć, czy zmiany są potrzebne.</span><span class="sxs-lookup"><span data-stu-id="1626f-125">When you upgrade tooSQL Server 2014 or SQL Server 2016 from older versions of SQL Server, you should consider whether changes are needed.</span></span> <span data-ttu-id="1626f-126">Zaleca się zajęcie się wszystkie zależności w funkcji nie są obsługiwane przez hello nowej wersji programu SQL Server w ramach migracji projektu.</span><span class="sxs-lookup"><span data-stu-id="1626f-126">We recommend that you address all dependencies on features not supported by hello new version of SQL Server as part of your migration project.</span></span> <span data-ttu-id="1626f-127">Aby uzyskać więcej informacji na powitania obsługiwane wersje i scenariuszy, zobacz [uaktualnienia tooSQL serwera](https://msdn.microsoft.com/library/bb677622.aspx).</span><span class="sxs-lookup"><span data-stu-id="1626f-127">For more information on hello supported editions and scenarios, see [Upgrade tooSQL Server](https://msdn.microsoft.com/library/bb677622.aspx).</span></span>

<span data-ttu-id="1626f-128">Hello w poniższej tabeli wymieniono każdej z metod migracji głównej hello i omówiono, gdy użycie hello każdej metody jest najbardziej odpowiednia.</span><span class="sxs-lookup"><span data-stu-id="1626f-128">hello following table lists each of hello primary migration methods and discusses when hello use of each method is most appropriate.</span></span>

| <span data-ttu-id="1626f-129">Metoda</span><span class="sxs-lookup"><span data-stu-id="1626f-129">Method</span></span> | <span data-ttu-id="1626f-130">Wersja bazy danych źródła</span><span class="sxs-lookup"><span data-stu-id="1626f-130">Source database version</span></span> | <span data-ttu-id="1626f-131">Docelowej wersji bazy danych</span><span class="sxs-lookup"><span data-stu-id="1626f-131">Destination database version</span></span> | <span data-ttu-id="1626f-132">Ograniczenia rozmiaru kopii zapasowej bazy danych źródła</span><span class="sxs-lookup"><span data-stu-id="1626f-132">Source database backup size constraint</span></span> | <span data-ttu-id="1626f-133">Uwagi</span><span class="sxs-lookup"><span data-stu-id="1626f-133">Notes</span></span> |
| --- | --- | --- | --- | --- |
| [<span data-ttu-id="1626f-134">Wykonaj kopię zapasową lokalnych przy użyciu kompresji i ręcznie Kopiuj plik kopii zapasowej hello na powitania maszyny wirtualnej platformy Azure</span><span class="sxs-lookup"><span data-stu-id="1626f-134">Perform on-premises backup using compression and manually copy hello backup file into hello Azure virtual machine</span></span>](#backup-and-restore) |<span data-ttu-id="1626f-135">SQL Server 2005 lub nowszy</span><span class="sxs-lookup"><span data-stu-id="1626f-135">SQL Server 2005 or greater</span></span> |<span data-ttu-id="1626f-136">SQL Server 2005 lub nowszy</span><span class="sxs-lookup"><span data-stu-id="1626f-136">SQL Server 2005 or greater</span></span> |[<span data-ttu-id="1626f-137">Limit magazynu maszyny Wirtualnej platformy Azure</span><span class="sxs-lookup"><span data-stu-id="1626f-137">Azure VM storage limit</span></span>](https://azure.microsoft.com/documentation/articles/azure-subscription-service-limits/) | <span data-ttu-id="1626f-138">Jest to bardzo proste i dobrze przetestowane technika przenoszenia baz danych na komputerach.</span><span class="sxs-lookup"><span data-stu-id="1626f-138">This is a very simple and well-tested technique for moving databases across machines.</span></span> |
| [<span data-ttu-id="1626f-139">Wykonywania tooURL kopii zapasowej i przywracania do maszyny wirtualnej platformy Azure z adresu URL hello hello</span><span class="sxs-lookup"><span data-stu-id="1626f-139">Perform a backup tooURL and restore into hello Azure virtual machine from hello URL</span></span>](#backup-to-url-and-restore) |<span data-ttu-id="1626f-140">SQL Server 2012 z dodatkiem SP1 CU2 lub nowszej</span><span class="sxs-lookup"><span data-stu-id="1626f-140">SQL Server 2012 SP1 CU2 or greater</span></span> |<span data-ttu-id="1626f-141">SQL Server 2012 z dodatkiem SP1 CU2 lub nowszej</span><span class="sxs-lookup"><span data-stu-id="1626f-141">SQL Server 2012 SP1 CU2 or greater</span></span> |<span data-ttu-id="1626f-142">< 12,8 TB dla programu SQL Server 2016, w przeciwnym razie < 1 TB</span><span class="sxs-lookup"><span data-stu-id="1626f-142">< 12.8 TB for SQL Server 2016, otherwise < 1 TB</span></span> | <span data-ttu-id="1626f-143">Ta metoda jest po prostu inną sposób toomove hello pliku kopii zapasowej toohello maszyny Wirtualnej za pomocą usługi Azure storage.</span><span class="sxs-lookup"><span data-stu-id="1626f-143">This method is just another way toomove hello backup file toohello VM using Azure storage.</span></span> |
| [<span data-ttu-id="1626f-144">Odłączyć, a następnie skopiuj hello danych i dziennika pliki tooAzure magazynu obiektów blob i następnie dołącz tooSQL serwera na maszynie wirtualnej platformy Azure z adresu URL</span><span class="sxs-lookup"><span data-stu-id="1626f-144">Detach and then copy hello data and log files tooAzure blob storage and then attach tooSQL Server in Azure virtual machine from URL</span></span>](#detach-and-attach-from-url) |<span data-ttu-id="1626f-145">SQL Server 2005 lub nowszy</span><span class="sxs-lookup"><span data-stu-id="1626f-145">SQL Server 2005 or greater</span></span> |<span data-ttu-id="1626f-146">SQL Server 2014 lub nowszy</span><span class="sxs-lookup"><span data-stu-id="1626f-146">SQL Server 2014 or greater</span></span> |[<span data-ttu-id="1626f-147">Limit magazynu maszyny Wirtualnej platformy Azure</span><span class="sxs-lookup"><span data-stu-id="1626f-147">Azure VM storage limit</span></span>](https://azure.microsoft.com/documentation/articles/azure-subscription-service-limits/) |<span data-ttu-id="1626f-148">Ta metoda ma zbyt[przechowywania tych plików przy użyciu usługi magazynu obiektów Blob platformy Azure hello](https://msdn.microsoft.com/library/dn385720.aspx) i dołącz je tooSQL serwera w maszynie Wirtualnej platformy Azure, szczególnie w przypadku bardzo dużych baz danych</span><span class="sxs-lookup"><span data-stu-id="1626f-148">Use this method when you plan too[store these files using hello Azure Blob storage service](https://msdn.microsoft.com/library/dn385720.aspx) and attach them tooSQL Server running in an Azure VM, particularly with very large databases</span></span> |
| [<span data-ttu-id="1626f-149">Konwertuj na lokalne maszyny wirtualne dyski twarde tooHyper-V, Przekaż tooAzure magazynu obiektów Blob, a następnie wdrożyć maszynę wirtualną przy użyciu przekazywanego wirtualnego dysku twardego</span><span class="sxs-lookup"><span data-stu-id="1626f-149">Convert on-premises machine tooHyper-V VHDs, upload tooAzure Blob storage, and then deploy a new virtual machine using uploaded VHD</span></span>](#convert-to-vm-and-upload-to-url-and-deploy-as-new-vm) |<span data-ttu-id="1626f-150">SQL Server 2005 lub nowszy</span><span class="sxs-lookup"><span data-stu-id="1626f-150">SQL Server 2005 or greater</span></span> |<span data-ttu-id="1626f-151">SQL Server 2005 lub nowszy</span><span class="sxs-lookup"><span data-stu-id="1626f-151">SQL Server 2005 or greater</span></span> |[<span data-ttu-id="1626f-152">Limit magazynu maszyny Wirtualnej platformy Azure</span><span class="sxs-lookup"><span data-stu-id="1626f-152">Azure VM storage limit</span></span>](https://azure.microsoft.com/documentation/articles/azure-subscription-service-limits/) |<span data-ttu-id="1626f-153">Używany, gdy [dostarczają licencję programu SQL Server](../../../sql-database/sql-database-paas-vs-sql-server-iaas.md), podczas migracji bazy danych, które zostanie uruchomione na starszej wersji programu SQL Server lub podczas migrowania systemu i baz danych użytkowników jednocześnie w ramach migracji bazy danych jest zależny od innych hello bazy danych użytkownika i/lub systemowych bazach danych.</span><span class="sxs-lookup"><span data-stu-id="1626f-153">Use when [bringing your own SQL Server license](../../../sql-database/sql-database-paas-vs-sql-server-iaas.md), when migrating a database that you will run on an older version of SQL Server, or when migrating system and user databases together as part of hello migration of database dependent on other user databases and/or system databases.</span></span> |
| [<span data-ttu-id="1626f-154">Wyślij dysk twardy za pomocą usługi Import/Eksport systemu Windows</span><span class="sxs-lookup"><span data-stu-id="1626f-154">Ship hard drive using Windows Import/Export Service</span></span>](#ship-hard-drive) |<span data-ttu-id="1626f-155">SQL Server 2005 lub nowszy</span><span class="sxs-lookup"><span data-stu-id="1626f-155">SQL Server 2005 or greater</span></span> |<span data-ttu-id="1626f-156">SQL Server 2005 lub nowszy</span><span class="sxs-lookup"><span data-stu-id="1626f-156">SQL Server 2005 or greater</span></span> |[<span data-ttu-id="1626f-157">Limit magazynu maszyny Wirtualnej platformy Azure</span><span class="sxs-lookup"><span data-stu-id="1626f-157">Azure VM storage limit</span></span>](https://azure.microsoft.com/documentation/articles/azure-subscription-service-limits/) |<span data-ttu-id="1626f-158">Użyj hello [usługi Import/Eksport Windows](../../../storage/common/storage-import-export-service.md) gdy Metoda ręcznego kopiowania jest zbyt wolno, takie jak w przypadku bardzo dużych baz danych</span><span class="sxs-lookup"><span data-stu-id="1626f-158">Use hello [Windows Import/Export Service](../../../storage/common/storage-import-export-service.md) when manual copy method is too slow, such as with very large databases</span></span> |
| [<span data-ttu-id="1626f-159">Użyj hello Kreatora dodawania repliki Azure</span><span class="sxs-lookup"><span data-stu-id="1626f-159">Use hello Add Azure Replica Wizard</span></span>](../classic/sql-onprem-availability.md) |<span data-ttu-id="1626f-160">SQL Server 2012 lub nowszy</span><span class="sxs-lookup"><span data-stu-id="1626f-160">SQL Server 2012 or greater</span></span> |<span data-ttu-id="1626f-161">SQL Server 2012 lub nowszy</span><span class="sxs-lookup"><span data-stu-id="1626f-161">SQL Server 2012 or greater</span></span> |[<span data-ttu-id="1626f-162">Limit magazynu maszyny Wirtualnej platformy Azure</span><span class="sxs-lookup"><span data-stu-id="1626f-162">Azure VM storage limit</span></span>](https://azure.microsoft.com/documentation/articles/azure-subscription-service-limits/) |<span data-ttu-id="1626f-163">Minimalizuje przestojów, używania wdrożenie lokalnymi (AlwaysOn)</span><span class="sxs-lookup"><span data-stu-id="1626f-163">Minimizes downtime, use when you have an AlwaysOn on-premises deployment</span></span> |
| [<span data-ttu-id="1626f-164">Użyj Replikacja transakcyjna programu SQL Server</span><span class="sxs-lookup"><span data-stu-id="1626f-164">Use SQL Server transactional replication</span></span>](https://msdn.microsoft.com/library/ms151176.aspx) |<span data-ttu-id="1626f-165">SQL Server 2005 lub nowszy</span><span class="sxs-lookup"><span data-stu-id="1626f-165">SQL Server 2005 or greater</span></span> |<span data-ttu-id="1626f-166">SQL Server 2005 lub nowszy</span><span class="sxs-lookup"><span data-stu-id="1626f-166">SQL Server 2005 or greater</span></span> |[<span data-ttu-id="1626f-167">Limit magazynu maszyny Wirtualnej platformy Azure</span><span class="sxs-lookup"><span data-stu-id="1626f-167">Azure VM storage limit</span></span>](https://azure.microsoft.com/documentation/articles/azure-subscription-service-limits/) |<span data-ttu-id="1626f-168">Opcja używana podczas należy przestoju toominimize i nie ma lokalnego wdrożenia (AlwaysOn)</span><span class="sxs-lookup"><span data-stu-id="1626f-168">Use when you need toominimize downtime and do not have an AlwaysOn on-premises deployment</span></span> |

## <a name="backup-and-restore"></a><span data-ttu-id="1626f-169">Tworzenie kopii zapasowej i przywracanie</span><span class="sxs-lookup"><span data-stu-id="1626f-169">Backup and restore</span></span>
<span data-ttu-id="1626f-170">Utwórz kopię zapasową bazy danych za pomocą kompresji skopiuj hello toohello kopii zapasowej maszyny Wirtualnej, a następnie przywróć hello bazy danych.</span><span class="sxs-lookup"><span data-stu-id="1626f-170">Back up your database with compression, copy hello backup toohello VM, and then restore hello database.</span></span> <span data-ttu-id="1626f-171">Jeśli w pliku kopii zapasowej jest większy niż 1 TB, musi paskowych ponieważ hello maksymalny rozmiar dysku maszyny Wirtualnej wynosi 1 TB.</span><span class="sxs-lookup"><span data-stu-id="1626f-171">If your backup file is larger than 1 TB, you must stripe it because hello maximum size of a VM disk is 1 TB.</span></span> <span data-ttu-id="1626f-172">Użyj hello następujące ogólne kroki toomigrate bazy danych użytkownika za pomocą tej metody ręczne:</span><span class="sxs-lookup"><span data-stu-id="1626f-172">Use hello following general steps toomigrate a user database using this manual method:</span></span>

1. <span data-ttu-id="1626f-173">Wykonaj lokalizacji lokalnej kopii zapasowej tooan pełnej bazy danych.</span><span class="sxs-lookup"><span data-stu-id="1626f-173">Perform a full database backup tooan on-premises location.</span></span>
2. <span data-ttu-id="1626f-174">Utwórz lub Przekaż hello wersji programu SQL Server na potrzeby maszyny wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="1626f-174">Create or upload a virtual machine with hello version of SQL Server desired.</span></span>
3. <span data-ttu-id="1626f-175">Konfiguracja połączenia, w zależności od wymagań.</span><span class="sxs-lookup"><span data-stu-id="1626f-175">Setup connectivity based on your requirements.</span></span> <span data-ttu-id="1626f-176">Zobacz [połączyć tooa maszyny wirtualnej programu SQL Server na platformie Azure (Resource Manager)](virtual-machines-windows-sql-connect.md).</span><span class="sxs-lookup"><span data-stu-id="1626f-176">See [Connect tooa SQL Server Virtual Machine on Azure (Resource Manager)](virtual-machines-windows-sql-connect.md).</span></span>
4. <span data-ttu-id="1626f-177">Skopiuj tooyour Twoje pliki kopii zapasowej maszyny Wirtualnej za pomocą zdalnego pulpitu, Eksploratora Windows i hello polecenia kopiowania w wierszu polecenia.</span><span class="sxs-lookup"><span data-stu-id="1626f-177">Copy your backup file(s) tooyour VM using remote desktop, Windows Explorer or hello copy command from a command prompt.</span></span>

## <a name="backup-toourl-and-restore"></a><span data-ttu-id="1626f-178">TooURL kopii zapasowej i przywracania</span><span class="sxs-lookup"><span data-stu-id="1626f-178">Backup tooURL and restore</span></span>
<span data-ttu-id="1626f-179">Zamiast tworzenia kopii zapasowej pliku lokalnego tooa, możesz użyć hello [tooURL kopii zapasowej](https://msdn.microsoft.com/library/dn435916.aspx) , a następnie Przywróć z adresu URL toohello maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="1626f-179">Instead of backing up tooa local file, you can use hello [backup tooURL](https://msdn.microsoft.com/library/dn435916.aspx) and then restore from URL toohello VM.</span></span> <span data-ttu-id="1626f-180">Z programem SQL Server 2016 rozłożone zestawy kopii zapasowych są obsługiwane, są zalecane w przypadku wydajności i wymagane limity rozmiaru hello tooexceed dla obiekt blob.</span><span class="sxs-lookup"><span data-stu-id="1626f-180">With SQL Server 2016, striped backup sets are supported, are recommended for performance, and required tooexceed hello size limits per blob.</span></span> <span data-ttu-id="1626f-181">W przypadku bardzo dużych baz danych hello Użyj hello [usługi Import/Eksport Windows](../../../storage/common/storage-import-export-service.md) jest zalecane.</span><span class="sxs-lookup"><span data-stu-id="1626f-181">For very large databases, hello use of hello [Windows Import/Export Service](../../../storage/common/storage-import-export-service.md) is recommended.</span></span>

## <a name="detach-and-attach-from-url"></a><span data-ttu-id="1626f-182">Odłącz i Dołącz z adresu URL</span><span class="sxs-lookup"><span data-stu-id="1626f-182">Detach and attach from URL</span></span>
<span data-ttu-id="1626f-183">Odłącz plików dziennika i bazy danych, a następnie przesyła je za[magazynu obiektów Blob Azure](https://msdn.microsoft.com/library/dn385720.aspx).</span><span class="sxs-lookup"><span data-stu-id="1626f-183">Detach your database and log files and transfer them too[Azure Blob storage](https://msdn.microsoft.com/library/dn385720.aspx).</span></span> <span data-ttu-id="1626f-184">Następnie dołącz hello bazy danych z adresu URL hello na maszynie Wirtualnej platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="1626f-184">Then attach hello database from hello URL on your Azure VM.</span></span> <span data-ttu-id="1626f-185">Użyj, jeśli chcesz hello fizyczna baza danych plików tooreside w magazynie obiektów Blob.</span><span class="sxs-lookup"><span data-stu-id="1626f-185">Use this if you want hello physical database files tooreside in Blob storage.</span></span> <span data-ttu-id="1626f-186">Może to być przydatne w przypadku bardzo dużych baz danych.</span><span class="sxs-lookup"><span data-stu-id="1626f-186">This might be useful for very large databases.</span></span> <span data-ttu-id="1626f-187">Użyj hello następujące ogólne kroki toomigrate bazy danych użytkownika za pomocą tej metody ręczne:</span><span class="sxs-lookup"><span data-stu-id="1626f-187">Use hello following general steps toomigrate a user database using this manual method:</span></span>

1. <span data-ttu-id="1626f-188">Odłączyć hello pliki bazy danych z hello lokalnego wystąpienia bazy danych.</span><span class="sxs-lookup"><span data-stu-id="1626f-188">Detach hello database files from hello on-premises database instance.</span></span>
2. <span data-ttu-id="1626f-189">Skopiuj pliki bazy danych hello odłączyć do magazynu obiektów blob platformy Azure przy użyciu hello [wiersza polecenia azcopy](../../../storage/common/storage-use-azcopy.md).</span><span class="sxs-lookup"><span data-stu-id="1626f-189">Copy hello detached database files into Azure blob storage using hello [AZCopy command-line utility](../../../storage/common/storage-use-azcopy.md).</span></span>
3. <span data-ttu-id="1626f-190">Dołącz pliki bazy danych hello z wystąpienia programu SQL Server toohello hello Azure adres URL w hello maszyny Wirtualnej platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="1626f-190">Attach hello database files from hello Azure URL toohello SQL Server instance in hello Azure VM.</span></span>

## <a name="convert-toovm-and-upload-toourl-and-deploy-as-new-vm"></a><span data-ttu-id="1626f-191">Konwertuj tooVM i przekazać tooURL i wdrożyć jako nową maszynę Wirtualną</span><span class="sxs-lookup"><span data-stu-id="1626f-191">Convert tooVM and upload tooURL and deploy as new VM</span></span>
<span data-ttu-id="1626f-192">Użyj tego toomigrate — metoda wszystkie bazy danych systemu i użytkownika w maszynie wirtualnej tooAzure wystąpienia lokalnego programu SQL Server.</span><span class="sxs-lookup"><span data-stu-id="1626f-192">Use this method toomigrate all system and user databases in an on-premises SQL Server instance tooAzure virtual machine.</span></span> <span data-ttu-id="1626f-193">Użyj hello następujące ogólne kroki toomigrate całego wystąpienia programu SQL Server za pomocą tej metody ręcznego:</span><span class="sxs-lookup"><span data-stu-id="1626f-193">Use hello following general steps toomigrate an entire SQL Server instance using this manual method:</span></span>

1. <span data-ttu-id="1626f-194">Konwertowanie fizycznej lub wirtualnej maszyny wirtualne dyski twarde tooHyper-V przy użyciu [Microsoft Virtual Machine Converter](https://technet.microsoft.com/library/dn874008(v=ws.11).aspx).</span><span class="sxs-lookup"><span data-stu-id="1626f-194">Convert physical or virtual machines tooHyper-V VHDs by using [Microsoft Virtual Machine Converter](https://technet.microsoft.com/library/dn874008(v=ws.11).aspx).</span></span>
2. <span data-ttu-id="1626f-195">Przekaż tooAzure pliki VHD magazynu przy użyciu hello [polecenia cmdlet Add-AzureVHD](https://msdn.microsoft.com/library/windowsazure/dn495173.aspx).</span><span class="sxs-lookup"><span data-stu-id="1626f-195">Upload VHD files tooAzure Storage by using hello [Add-AzureVHD cmdlet](https://msdn.microsoft.com/library/windowsazure/dn495173.aspx).</span></span>
3. <span data-ttu-id="1626f-196">Wdrażanie nowej maszyny wirtualnej za pomocą hello przekazać wirtualnego dysku twardego.</span><span class="sxs-lookup"><span data-stu-id="1626f-196">Deploy a new virtual machine by using hello uploaded VHD.</span></span>

> [!NOTE]
> <span data-ttu-id="1626f-197">toomigrate całej aplikacji, należy rozważyć użycie [usługi Azure Site Recovery](../../../site-recovery/site-recovery-overview.md)].</span><span class="sxs-lookup"><span data-stu-id="1626f-197">toomigrate an entire application, consider using [Azure Site Recovery](../../../site-recovery/site-recovery-overview.md)].</span></span>

## <a name="ship-hard-drive"></a><span data-ttu-id="1626f-198">Wyślij dysk twardy</span><span class="sxs-lookup"><span data-stu-id="1626f-198">Ship hard drive</span></span>
<span data-ttu-id="1626f-199">Użyj hello [usługi Import/Eksport Windows metody](../../../storage/common/storage-import-export-service.md) tootransfer dużych ilości tooAzure danych pliku magazynu obiektów Blob w sytuacjach, gdy przekazywania przez sieć hello jest zbyt duży i nie jest możliwe.</span><span class="sxs-lookup"><span data-stu-id="1626f-199">Use hello [Windows Import/Export Service method](../../../storage/common/storage-import-export-service.md) tootransfer large amounts of file data tooAzure Blob storage in situations where uploading over hello network is prohibitively expensive or not feasible.</span></span> <span data-ttu-id="1626f-200">Z tą usługą wysyła jeden lub więcej dyski twarde zawierające ten tooan danych Azure centrach danych, w którym dane zostaną przekazane tooyour konta magazynu.</span><span class="sxs-lookup"><span data-stu-id="1626f-200">With this service, you send one or more hard drives containing that data tooan Azure data center, where your data will be uploaded tooyour storage account.</span></span>

## <a name="next-steps"></a><span data-ttu-id="1626f-201">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="1626f-201">Next Steps</span></span>
<span data-ttu-id="1626f-202">Aby uzyskać więcej informacji na temat uruchamiania programu SQL Server na maszynach wirtualnych platformy Azure, zobacz [programu SQL Server na maszynach wirtualnych platformy Azure — omówienie](virtual-machines-windows-sql-server-iaas-overview.md).</span><span class="sxs-lookup"><span data-stu-id="1626f-202">For more information about running SQL Server on Azure Virtual Machines, see [SQL Server on Azure Virtual Machines overview](virtual-machines-windows-sql-server-iaas-overview.md).</span></span>

<span data-ttu-id="1626f-203">Aby uzyskać instrukcje dotyczące tworzenia maszyny wirtualnej Azure SQL Server z przechwyconego obrazu, zobacz [porady i sztuczki w klonowania maszyn wirtualnych Azure SQL z przechwyconych obrazów](https://blogs.msdn.microsoft.com/psssql/2016/07/06/tips-tricks-on-cloning-azure-sql-virtual-machines-from-captured-images/) na blogu CSS programu SQL Server inżynierów hello.</span><span class="sxs-lookup"><span data-stu-id="1626f-203">For instructions on creating an Azure SQL Server Virtual Machine from a captured image, see [Tips & Tricks on ‘cloning’ Azure SQL virtual machines from captured images](https://blogs.msdn.microsoft.com/psssql/2016/07/06/tips-tricks-on-cloning-azure-sql-virtual-machines-from-captured-images/) on hello CSS SQL Server Engineers blog.</span></span>

