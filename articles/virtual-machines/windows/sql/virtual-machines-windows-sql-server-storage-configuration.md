---
title: Konfiguracja aaaStorage dla maszyn wirtualnych programu SQL Server | Dokumentacja firmy Microsoft
description: "W tym temacie opisano, jak Azure konfiguruje magazynu dla maszyn wirtualnych programu SQL Server podczas inicjowania obsługi administracyjnej (modelu wdrażania usługi Resource Manager). Wyjaśniono również, jak skonfigurować magazyn dla istniejących maszyn wirtualnych serwera SQL."
services: virtual-machines-windows
documentationcenter: na
author: ninarn
manager: jhubbard
tags: azure-resource-manager
ms.assetid: 169fc765-3269-48fa-83f1-9fe3e4e40947
ms.service: virtual-machines-sql
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: vm-windows-sql-server
ms.workload: iaas-sql-server
ms.date: 01/31/2017
ms.author: ninarn
ms.openlocfilehash: b50dbd698828780cfc044fa0966e8f4e2f3bb6c6
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="storage-configuration-for-sql-server-vms"></a><span data-ttu-id="74bba-104">Konfigurację magazynu dla maszyn wirtualnych programu SQL Server</span><span class="sxs-lookup"><span data-stu-id="74bba-104">Storage configuration for SQL Server VMs</span></span>
<span data-ttu-id="74bba-105">Po skonfigurowaniu obraz maszyny wirtualnej programu SQL Server na platformie Azure hello portalu pomaga tooautomate konfigurację magazynu.</span><span class="sxs-lookup"><span data-stu-id="74bba-105">When you configure a SQL Server virtual machine image in Azure, hello Portal helps tooautomate your storage configuration.</span></span> <span data-ttu-id="74bba-106">Dotyczy to również dołączanie toohello magazynu maszyny Wirtualnej, udostępniania tego tooSQL dostępny magazyn serwera i jego konfigurowania toooptimize dla wymagania dotyczące wydajności.</span><span class="sxs-lookup"><span data-stu-id="74bba-106">This includes attaching storage toohello VM, making that storage accessible tooSQL Server, and configuring it toooptimize for your specific performance requirements.</span></span>

<span data-ttu-id="74bba-107">W tym temacie wyjaśniono, jak Azure konfiguruje magazynu dla maszyn wirtualnych programu SQL Server podczas inicjowania obsługi administracyjnej oraz dla istniejących maszyn wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="74bba-107">This topic explains how Azure configures storage for your SQL Server VMs both during provisioning and for existing VMs.</span></span> <span data-ttu-id="74bba-108">Ta konfiguracja jest oparta na powitania [najlepsze rozwiązania w zakresie wydajności](virtual-machines-windows-sql-performance.md) dla maszyn wirtualnych platformy Azure, programem SQL Server.</span><span class="sxs-lookup"><span data-stu-id="74bba-108">This configuration is based on hello [performance best practices](virtual-machines-windows-sql-performance.md) for Azure VMs running SQL Server.</span></span>

[!INCLUDE [learn-about-deployment-models](../../../../includes/learn-about-deployment-models-rm-include.md)]

## <a name="prerequisites"></a><span data-ttu-id="74bba-109">Wymagania wstępne</span><span class="sxs-lookup"><span data-stu-id="74bba-109">Prerequisites</span></span>
<span data-ttu-id="74bba-110">toouse hello automatycznego ustawienia konfiguracji magazynu, Twoja maszyna wirtualna wymaga hello następujące cechy:</span><span class="sxs-lookup"><span data-stu-id="74bba-110">toouse hello automated storage configuration settings, your virtual machine requires hello following characteristics:</span></span>

* <span data-ttu-id="74bba-111">Z udostępnionym [obraz w galerii programu SQL Server](virtual-machines-windows-sql-server-iaas-overview.md#option-1-create-a-sql-vm-with-per-minute-licensing).</span><span class="sxs-lookup"><span data-stu-id="74bba-111">Provisioned with a [SQL Server gallery image](virtual-machines-windows-sql-server-iaas-overview.md#option-1-create-a-sql-vm-with-per-minute-licensing).</span></span>
* <span data-ttu-id="74bba-112">Używa hello [modelu wdrażania usługi Resource Manager](../../../azure-resource-manager/resource-manager-deployment-model.md).</span><span class="sxs-lookup"><span data-stu-id="74bba-112">Uses hello [Resource Manager deployment model](../../../azure-resource-manager/resource-manager-deployment-model.md).</span></span>
* <span data-ttu-id="74bba-113">Używa [magazyn w warstwie Premium](../../../storage/common/storage-premium-storage.md).</span><span class="sxs-lookup"><span data-stu-id="74bba-113">Uses [Premium Storage](../../../storage/common/storage-premium-storage.md).</span></span>

## <a name="new-vms"></a><span data-ttu-id="74bba-114">Nowe maszyny wirtualne</span><span class="sxs-lookup"><span data-stu-id="74bba-114">New VMs</span></span>
<span data-ttu-id="74bba-115">Witaj poniższych sekcjach opisano sposób tooconfigure magazynu dla maszyn wirtualnych programu SQL Server.</span><span class="sxs-lookup"><span data-stu-id="74bba-115">hello following sections describe how tooconfigure storage for new SQL Server virtual machines.</span></span>

### <a name="azure-portal"></a><span data-ttu-id="74bba-116">Azure Portal</span><span class="sxs-lookup"><span data-stu-id="74bba-116">Azure Portal</span></span>
<span data-ttu-id="74bba-117">Podczas inicjowania obsługi maszyny Wirtualnej platformy Azure przy użyciu obrazu galerii programu SQL Server, można wybrać tooautomatically Konfigurowanie hello magazynu dla nowej maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="74bba-117">When provisioning an Azure VM using a SQL Server gallery image, you can choose tooautomatically configure hello storage for your new VM.</span></span> <span data-ttu-id="74bba-118">Należy określić rozmiar magazynu hello, ograniczeń wydajności i typ obciążenia pracą.</span><span class="sxs-lookup"><span data-stu-id="74bba-118">You specify hello storage size, performance limits, and workload type.</span></span> <span data-ttu-id="74bba-119">Witaj Poniższy zrzut ekranu przedstawia blok konfiguracji magazynu hello używane podczas maszyny Wirtualnej SQL inicjowania obsługi administracyjnej.</span><span class="sxs-lookup"><span data-stu-id="74bba-119">hello following screenshot shows hello Storage configuration blade used during SQL VM provisioning.</span></span>

![Konfiguracja magazynu maszyny Wirtualnej programu SQL Server podczas inicjowania obsługi](./media/virtual-machines-windows-sql-storage-configuration/sql-vm-storage-configuration-provisioning.png)

<span data-ttu-id="74bba-121">W oparciu o wybrane opcje, Azure wykonuje hello następujących zadań konfiguracji magazynu po utworzeniu hello maszyny Wirtualnej:</span><span class="sxs-lookup"><span data-stu-id="74bba-121">Based on your choices, Azure performs hello following storage configuration tasks after creating hello VM:</span></span>

* <span data-ttu-id="74bba-122">Tworzy i dołącza maszynę wirtualną toohello dysków premium magazynu danych.</span><span class="sxs-lookup"><span data-stu-id="74bba-122">Creates and attaches premium storage data disks toohello virtual machine.</span></span>
* <span data-ttu-id="74bba-123">Konfiguruje hello danych dysków toobe dostępny tooSQL serwera.</span><span class="sxs-lookup"><span data-stu-id="74bba-123">Configures hello data disks toobe accessible tooSQL Server.</span></span>
* <span data-ttu-id="74bba-124">Konfiguruje hello dyski danych do magazynu puli hello określone wymagania rozmiaru i wydajności (IOPS i przepływność).</span><span class="sxs-lookup"><span data-stu-id="74bba-124">Configures hello data disks into a storage pool based on hello specified size and performance (IOPS and throughput) requirements.</span></span>
* <span data-ttu-id="74bba-125">Kojarzy hello puli magazynu o nowy dysk na maszynie wirtualnej hello.</span><span class="sxs-lookup"><span data-stu-id="74bba-125">Associates hello storage pool with a new drive on hello virtual machine.</span></span>
* <span data-ttu-id="74bba-126">Optymalizuje ten nowy dysk, na podstawie Twojej typu określonego obciążenia (magazynowanie danych, przetwarzanie transakcji, lub ogólne).</span><span class="sxs-lookup"><span data-stu-id="74bba-126">Optimizes this new drive based on your specified workload type (Data warehousing, Transactional processing, or General).</span></span>

<span data-ttu-id="74bba-127">Aby uzyskać więcej szczegółowych informacji dotyczących sposobu Azure umożliwia skonfigurowanie ustawień magazynu, zobacz hello [sekcji konfiguracji magazynu](#storage-configuration).</span><span class="sxs-lookup"><span data-stu-id="74bba-127">For further details on how Azure configures storage settings, see hello [Storage configuration section](#storage-configuration).</span></span> <span data-ttu-id="74bba-128">Pełny przewodnik toocreate maszyna wirtualna serwera SQL w hello portalu Azure, zobacz temat [hello inicjowania obsługi administracyjnej samouczek](virtual-machines-windows-portal-sql-server-provision.md).</span><span class="sxs-lookup"><span data-stu-id="74bba-128">For a full walkthrough of how toocreate a SQL Server VM in hello Azure Portal, see [hello provisioning tutorial](virtual-machines-windows-portal-sql-server-provision.md).</span></span>

### <a name="resource-manage-templates"></a><span data-ttu-id="74bba-129">Szablony Zarządzaj zasobów</span><span class="sxs-lookup"><span data-stu-id="74bba-129">Resource Manage templates</span></span>
<span data-ttu-id="74bba-130">Jeśli używasz hello następujące szablony Menedżera zasobów dwóch dysków danych w warstwie premium są dołączone domyślnie z nie konfiguracji puli magazynu.</span><span class="sxs-lookup"><span data-stu-id="74bba-130">If you use hello following Resource Manager templates, two premium data disks are attached by default, with no storage pool configuration.</span></span> <span data-ttu-id="74bba-131">Można jednak dostosować te szablony toochange hello liczba dysków danych — warstwa premium, które są dołączone toohello maszyny wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="74bba-131">However, you can customize these templates toochange hello number of premium data disks that are attached toohello virtual machine.</span></span>

* [<span data-ttu-id="74bba-132">Tworzenie maszyny Wirtualnej z automatycznego tworzenia kopii zapasowej</span><span class="sxs-lookup"><span data-stu-id="74bba-132">Create VM with Automated Backup</span></span>](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vm-sql-full-autobackup)
* [<span data-ttu-id="74bba-133">Tworzenie maszyny Wirtualnej z automatyczne stosowanie poprawek</span><span class="sxs-lookup"><span data-stu-id="74bba-133">Create VM with Automated Patching</span></span>](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vm-sql-full-autopatching)
* [<span data-ttu-id="74bba-134">Tworzenie maszyny Wirtualnej z Integracja</span><span class="sxs-lookup"><span data-stu-id="74bba-134">Create VM with AKV Integration</span></span>](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vm-sql-full-keyvault)

## <a name="existing-vms"></a><span data-ttu-id="74bba-135">Istniejące maszyny wirtualne</span><span class="sxs-lookup"><span data-stu-id="74bba-135">Existing VMs</span></span>
<span data-ttu-id="74bba-136">Dla istniejących maszyn wirtualnych serwera SQL można zmodyfikować niektórych ustawień magazynu hello portalu Azure.</span><span class="sxs-lookup"><span data-stu-id="74bba-136">For existing SQL Server VMs, you can modify some storage settings in hello Azure portal.</span></span> <span data-ttu-id="74bba-137">Wybierz maszyny Wirtualnej, przejdź do obszaru Ustawienia toohello, a następnie wybierz konfiguracji serwera SQL.</span><span class="sxs-lookup"><span data-stu-id="74bba-137">Select your VM, go toohello Settings area, and then select SQL Server Configuration.</span></span> <span data-ttu-id="74bba-138">Blok konfiguracji serwera SQL Hello pokazuje hello bieżące użycie magazynu maszyny wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="74bba-138">hello SQL Server Configuration blade shows hello current storage usage of your VM.</span></span> <span data-ttu-id="74bba-139">Wszystkie dyski, które istnieją na maszynie Wirtualnej są wyświetlane na tym wykresie.</span><span class="sxs-lookup"><span data-stu-id="74bba-139">All drives that exist on your VM are displayed in this chart.</span></span> <span data-ttu-id="74bba-140">Dla każdego dysku miejsca do magazynowania hello jest wyświetlany w cztery sekcje:</span><span class="sxs-lookup"><span data-stu-id="74bba-140">For each drive, hello storage space displays in four sections:</span></span>

* <span data-ttu-id="74bba-141">Danych SQL</span><span class="sxs-lookup"><span data-stu-id="74bba-141">SQL data</span></span>
* <span data-ttu-id="74bba-142">Dziennika SQL</span><span class="sxs-lookup"><span data-stu-id="74bba-142">SQL log</span></span>
* <span data-ttu-id="74bba-143">Inne (z systemem innym niż SQL magazynu)</span><span class="sxs-lookup"><span data-stu-id="74bba-143">Other (non-SQL storage)</span></span>
* <span data-ttu-id="74bba-144">Dostępna</span><span class="sxs-lookup"><span data-stu-id="74bba-144">Available</span></span>

![Konfigurowanie magazynu dla istniejącego programu SQL Server maszyny Wirtualnej](./media/virtual-machines-windows-sql-storage-configuration/sql-vm-storage-configuration-existing.png)

<span data-ttu-id="74bba-146">tooconfigure hello tooadd magazynu nowego dysku lub Rozszerz istniejący dysk, kliknij przycisk łącza edycji hello powyżej hello wykresu.</span><span class="sxs-lookup"><span data-stu-id="74bba-146">tooconfigure hello storage tooadd a new drive or extend an existing drive, click hello Edit link above hello chart.</span></span>

<span data-ttu-id="74bba-147">Opcje konfiguracji Hello widoczne jest różny w zależności od tego, czy używasz tej funkcji przed.</span><span class="sxs-lookup"><span data-stu-id="74bba-147">hello configuration options that you see varies depending on whether you have used this feature before.</span></span> <span data-ttu-id="74bba-148">Korzystając z powitania po raz pierwszy, można określić wymagania dotyczące magazynowania dla nowego dysku.</span><span class="sxs-lookup"><span data-stu-id="74bba-148">When using for hello first time, you can specify your storage requirements for a new drive.</span></span> <span data-ttu-id="74bba-149">Jeśli poprzednio korzystano tej funkcji toocreate dysku, można wybrać tooextend magazynu tego dysku.</span><span class="sxs-lookup"><span data-stu-id="74bba-149">If you previously used this feature toocreate a drive, you can choose tooextend that drive’s storage.</span></span>

### <a name="use-for-hello-first-time"></a><span data-ttu-id="74bba-150">Na użytek powitania po raz pierwszy</span><span class="sxs-lookup"><span data-stu-id="74bba-150">Use for hello first time</span></span>
<span data-ttu-id="74bba-151">Jeśli jest używany po raz pierwszy za pomocą tej funkcji, można określić hello limity rozmiaru i wydajności magazynu dla nowego dysku.</span><span class="sxs-lookup"><span data-stu-id="74bba-151">If it is your first time using this feature, you can specify hello storage size and performance limits for a new drive.</span></span> <span data-ttu-id="74bba-152">To środowisko jest podobne toowhat, dostępne w inicjowania obsługi administracyjnej czasu.</span><span class="sxs-lookup"><span data-stu-id="74bba-152">This experience is similar toowhat you would see at provisioning time.</span></span> <span data-ttu-id="74bba-153">Witaj podstawowa różnica polega na tym, nie są dozwolone toospecify hello obciążenia typu.</span><span class="sxs-lookup"><span data-stu-id="74bba-153">hello main difference is that you are not permitted toospecify hello workload type.</span></span> <span data-ttu-id="74bba-154">Tego ograniczenia zapobiega zakłócania wszystkie istniejące konfiguracje programu SQL Server na maszynie wirtualnej hello.</span><span class="sxs-lookup"><span data-stu-id="74bba-154">This restriction prevents disrupting any existing SQL Server configurations on hello virtual machine.</span></span>

![Konfigurowanie programu SQL Server magazynu suwaki](./media/virtual-machines-windows-sql-storage-configuration/sql-vm-storage-usage-sliders.png)

<span data-ttu-id="74bba-156">Platforma Azure tworzy nowy dysk, na podstawie specyfikacji użytkownika.</span><span class="sxs-lookup"><span data-stu-id="74bba-156">Azure creates a new drive based on your specifications.</span></span> <span data-ttu-id="74bba-157">W tym scenariuszu Azure wykonuje hello następujących zadań konfiguracji magazynu:</span><span class="sxs-lookup"><span data-stu-id="74bba-157">In this scenario, Azure performs hello following storage configuration tasks:</span></span>

* <span data-ttu-id="74bba-158">Tworzy i dołącza maszynę wirtualną toohello dysków premium magazynu danych.</span><span class="sxs-lookup"><span data-stu-id="74bba-158">Creates and attaches premium storage data disks toohello virtual machine.</span></span>
* <span data-ttu-id="74bba-159">Konfiguruje hello danych dysków toobe dostępny tooSQL serwera.</span><span class="sxs-lookup"><span data-stu-id="74bba-159">Configures hello data disks toobe accessible tooSQL Server.</span></span>
* <span data-ttu-id="74bba-160">Konfiguruje hello dyski danych do magazynu puli hello określone wymagania rozmiaru i wydajności (IOPS i przepływność).</span><span class="sxs-lookup"><span data-stu-id="74bba-160">Configures hello data disks into a storage pool based on hello specified size and performance (IOPS and throughput) requirements.</span></span>
* <span data-ttu-id="74bba-161">Kojarzy hello puli magazynu o nowy dysk na maszynie wirtualnej hello.</span><span class="sxs-lookup"><span data-stu-id="74bba-161">Associates hello storage pool with a new drive on hello virtual machine.</span></span>

<span data-ttu-id="74bba-162">Aby uzyskać więcej szczegółowych informacji dotyczących sposobu Azure umożliwia skonfigurowanie ustawień magazynu, zobacz hello [sekcji konfiguracji magazynu](#storage-configuration).</span><span class="sxs-lookup"><span data-stu-id="74bba-162">For further details on how Azure configures storage settings, see hello [Storage configuration section](#storage-configuration).</span></span>

### <a name="add-a-new-drive"></a><span data-ttu-id="74bba-163">Dodaj nowy dysk</span><span class="sxs-lookup"><span data-stu-id="74bba-163">Add a new drive</span></span>
<span data-ttu-id="74bba-164">Jeśli został już skonfigurowany magazyn na maszyną Wirtualną programu SQL Server, rozszerzanie magazynu powoduje wyświetlenie dwóch nowych opcji.</span><span class="sxs-lookup"><span data-stu-id="74bba-164">If you have already configured storage on your SQL Server VM, expanding storage brings up two new options.</span></span> <span data-ttu-id="74bba-165">Pierwsza opcja Hello jest tooadd nowego dysku, co może zwiększyć poziom wydajności hello maszyny wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="74bba-165">hello first option is tooadd a new drive, which can increase hello performance level of your VM.</span></span>

![Dodaj nowy tooa dysku maszyny Wirtualnej SQL](./media/virtual-machines-windows-sql-storage-configuration/sql-vm-storage-configuration-add-new-drive.png)

<span data-ttu-id="74bba-167">Jednak po dodaniu dysku hello, należy wykonać niektóre wzrost wydajności hello tooachieve bardzo ręcznej konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="74bba-167">However, after adding hello drive, you must perform some extra manual configuration tooachieve hello performance increase.</span></span>

### <a name="extend-hello-drive"></a><span data-ttu-id="74bba-168">Rozszerz dysk hello</span><span class="sxs-lookup"><span data-stu-id="74bba-168">Extend hello drive</span></span>
<span data-ttu-id="74bba-169">Witaj innych możliwości rozszerzania magazynu jest tooextend hello istniejącego dysku.</span><span class="sxs-lookup"><span data-stu-id="74bba-169">hello other option for expanding storage is tooextend hello existing drive.</span></span> <span data-ttu-id="74bba-170">Ta opcja zwiększa hello dostępny magazyn na dysku, ale nie zwiększa wydajność.</span><span class="sxs-lookup"><span data-stu-id="74bba-170">This option increases hello available storage for your drive, but it does not increase performance.</span></span> <span data-ttu-id="74bba-171">Używając puli magazynu nie można zmienić hello liczba kolumn, po utworzeniu puli magazynu hello.</span><span class="sxs-lookup"><span data-stu-id="74bba-171">With storage pools, you cannot alter hello number of columns after hello storage pool is created.</span></span> <span data-ttu-id="74bba-172">Witaj liczbę kolumn określa hello liczbę równoległych zapisy, które mogą być rozkładane na dyskach danych hello.</span><span class="sxs-lookup"><span data-stu-id="74bba-172">hello number of columns determines hello number of parallel writes, which can be striped across hello data disks.</span></span> <span data-ttu-id="74bba-173">W związku z tym wszystkie dyski dodane danych nie może zwiększyć wydajność.</span><span class="sxs-lookup"><span data-stu-id="74bba-173">Therefore, any added data disks cannot increase performance.</span></span> <span data-ttu-id="74bba-174">Użytkownik tylko podać więcej pamięci masowej dla danych hello zapisywana.</span><span class="sxs-lookup"><span data-stu-id="74bba-174">They can only provide more storage for hello data being written.</span></span> <span data-ttu-id="74bba-175">To ograniczenie również oznacza, że, podczas rozszerzania dysku hello, hello liczbę kolumn określa hello minimalna liczba dysków z danymi, które można dodać.</span><span class="sxs-lookup"><span data-stu-id="74bba-175">This limitation also means that, when extending hello drive, hello number of columns determines hello minimum number of data disks that you can add.</span></span> <span data-ttu-id="74bba-176">Dlatego po utworzeniu puli magazynów z dysków z danymi cztery hello liczba kolumn jest również cztery.</span><span class="sxs-lookup"><span data-stu-id="74bba-176">So if you create a storage pool with four data disks, hello number of columns is also four.</span></span> <span data-ttu-id="74bba-177">Zawsze, gdy rozszerzenie hello magazynu, należy dodać dysków z danymi co najmniej cztery.</span><span class="sxs-lookup"><span data-stu-id="74bba-177">Any time you extend hello storage, you must add at least four data disks.</span></span>

![Rozszerz dysk maszyny wirtualnej SQL](./media/virtual-machines-windows-sql-storage-configuration/sql-vm-storage-extend-a-drive.png)

## <a name="storage-configuration"></a><span data-ttu-id="74bba-179">Konfiguracja usługi Storage</span><span class="sxs-lookup"><span data-stu-id="74bba-179">Storage configuration</span></span>
<span data-ttu-id="74bba-180">Ta sekcja zawiera odwołanie do zmian konfiguracji magazynu hello Azure automatycznie wykonuje podczas obsługi maszyny Wirtualnej SQL i konfiguracji w hello portalu Azure.</span><span class="sxs-lookup"><span data-stu-id="74bba-180">This section provides a reference for hello storage configuration changes that Azure automatically performs during SQL VM provisioning or configuration in hello Azure Portal.</span></span>

* <span data-ttu-id="74bba-181">Jeśli wybrano mniej niż dwóch tabel magazynu dla maszyny Wirtualnej, Azure nie powoduje utworzenia puli magazynu.</span><span class="sxs-lookup"><span data-stu-id="74bba-181">If you have selected fewer than two TBs of storage for your VM, Azure does not create a storage pool.</span></span>
* <span data-ttu-id="74bba-182">Jeśli wybrano co najmniej dwóch tabel magazynu dla maszyny Wirtualnej, Azure konfiguruje pulę magazynu.</span><span class="sxs-lookup"><span data-stu-id="74bba-182">If you have selected at least two TBs of storage for your VM, Azure configures a storage pool.</span></span> <span data-ttu-id="74bba-183">Witaj w następnej sekcji tego tematu zawiera szczegóły hello hello w konfiguracji puli magazynu.</span><span class="sxs-lookup"><span data-stu-id="74bba-183">hello next section of this topic provides hello details of hello storage pool configuration.</span></span>
* <span data-ttu-id="74bba-184">Automatyczne magazynu konfiguracji zawsze używa [magazyn w warstwie premium](../../../storage/common/storage-premium-storage.md) P30 dysków z danymi.</span><span class="sxs-lookup"><span data-stu-id="74bba-184">Automatic storage configuration always uses [premium storage](../../../storage/common/storage-premium-storage.md) P30 data disks.</span></span> <span data-ttu-id="74bba-185">W rezultacie 1:1 mapowania między wybranej liczby terabajty i hello liczba dysków danych dołączone tooyour maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="74bba-185">Consequently, there is a 1:1 mapping between your selected number of Terabytes and hello number of data disks attached tooyour VM.</span></span>

<span data-ttu-id="74bba-186">Aby uzyskać informacje o cenach, zobacz hello [cennik Storage](https://azure.microsoft.com/pricing/details/storage) strony na powitania **Magazyn dyskowy** kartę.</span><span class="sxs-lookup"><span data-stu-id="74bba-186">For pricing information, see hello [Storage pricing](https://azure.microsoft.com/pricing/details/storage) page on hello **Disk Storage** tab.</span></span>

### <a name="creation-of-hello-storage-pool"></a><span data-ttu-id="74bba-187">Tworzenie puli magazynu hello</span><span class="sxs-lookup"><span data-stu-id="74bba-187">Creation of hello storage pool</span></span>
<span data-ttu-id="74bba-188">Platforma Azure korzysta powitania po puli magazynów hello toocreate ustawień na maszynach wirtualnych serwera SQL.</span><span class="sxs-lookup"><span data-stu-id="74bba-188">Azure uses hello following settings toocreate hello storage pool on SQL Server VMs.</span></span>

| <span data-ttu-id="74bba-189">Ustawienie</span><span class="sxs-lookup"><span data-stu-id="74bba-189">Setting</span></span> | <span data-ttu-id="74bba-190">Wartość</span><span class="sxs-lookup"><span data-stu-id="74bba-190">Value</span></span> |
| --- | --- |
| <span data-ttu-id="74bba-191">Rozmiar usługi STRIPE</span><span class="sxs-lookup"><span data-stu-id="74bba-191">Stripe size</span></span> |<span data-ttu-id="74bba-192">256 KB (magazynowanie danych); 64 KB (transakcyjnej)</span><span class="sxs-lookup"><span data-stu-id="74bba-192">256 KB (Data warehousing); 64 KB (Transactional)</span></span> |
| <span data-ttu-id="74bba-193">Rozmiary dysków</span><span class="sxs-lookup"><span data-stu-id="74bba-193">Disk sizes</span></span> |<span data-ttu-id="74bba-194">1 TB</span><span class="sxs-lookup"><span data-stu-id="74bba-194">1 TB each</span></span> |
| <span data-ttu-id="74bba-195">Pamięć podręczna</span><span class="sxs-lookup"><span data-stu-id="74bba-195">Cache</span></span> |<span data-ttu-id="74bba-196">Odczyt</span><span class="sxs-lookup"><span data-stu-id="74bba-196">Read</span></span> |
| <span data-ttu-id="74bba-197">Rozmiar alokacji</span><span class="sxs-lookup"><span data-stu-id="74bba-197">Allocation size</span></span> |<span data-ttu-id="74bba-198">Rozmiar jednostki alokacji systemu plików NTFS 64 KB</span><span class="sxs-lookup"><span data-stu-id="74bba-198">64 KB NTFS allocation unit size</span></span> |
| <span data-ttu-id="74bba-199">Inicjowanie błyskawicznych plików</span><span class="sxs-lookup"><span data-stu-id="74bba-199">Instant file initialization</span></span> |<span data-ttu-id="74bba-200">Enabled (Włączony)</span><span class="sxs-lookup"><span data-stu-id="74bba-200">Enabled</span></span> |
| <span data-ttu-id="74bba-201">Blokowanie stron w pamięci</span><span class="sxs-lookup"><span data-stu-id="74bba-201">Lock pages in memory</span></span> |<span data-ttu-id="74bba-202">Enabled (Włączony)</span><span class="sxs-lookup"><span data-stu-id="74bba-202">Enabled</span></span> |
| <span data-ttu-id="74bba-203">Odzyskiwanie</span><span class="sxs-lookup"><span data-stu-id="74bba-203">Recovery</span></span> |<span data-ttu-id="74bba-204">Odzyskiwania prostego (Brak odporności)</span><span class="sxs-lookup"><span data-stu-id="74bba-204">Simple recovery (no resiliency)</span></span> |
| <span data-ttu-id="74bba-205">Liczba kolumn</span><span class="sxs-lookup"><span data-stu-id="74bba-205">Number of columns</span></span> |<span data-ttu-id="74bba-206">Liczba dysków danych<sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="74bba-206">Number of data disks<sup>1</sup></span></span> |
| <span data-ttu-id="74bba-207">Lokalizacja bazy danych TempDB</span><span class="sxs-lookup"><span data-stu-id="74bba-207">TempDB location</span></span> |<span data-ttu-id="74bba-208">Przechowywane na dyskach danych<sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="74bba-208">Stored on data disks<sup>2</sup></span></span> |

<span data-ttu-id="74bba-209"><sup>1</sup> po utworzeniu puli magazynu hello, nie można zmienić hello liczba kolumn w puli magazynu hello.</span><span class="sxs-lookup"><span data-stu-id="74bba-209"><sup>1</sup> After hello storage pool is created, you cannot alter hello number of columns in hello storage pool.</span></span>

<span data-ttu-id="74bba-210"><sup>2</sup> to ustawienie dotyczy tylko pierwszego dysku toohello utworzonych za pomocą funkcji konfiguracji hello magazynu.</span><span class="sxs-lookup"><span data-stu-id="74bba-210"><sup>2</sup> This setting only applies toohello first drive you create using hello storage configuration feature.</span></span>

## <a name="workload-optimization-settings"></a><span data-ttu-id="74bba-211">Ustawienia optymalizacji obciążenia</span><span class="sxs-lookup"><span data-stu-id="74bba-211">Workload optimization settings</span></span>
<span data-ttu-id="74bba-212">Witaj poniższej tabeli opisano hello trzy obciążenia typu dostępne opcje oraz ich odpowiednich optymalizacje:</span><span class="sxs-lookup"><span data-stu-id="74bba-212">hello following table describes hello three workload type options available and their corresponding optimizations:</span></span>

| <span data-ttu-id="74bba-213">Typ obciążenia</span><span class="sxs-lookup"><span data-stu-id="74bba-213">Workload type</span></span> | <span data-ttu-id="74bba-214">Opis</span><span class="sxs-lookup"><span data-stu-id="74bba-214">Description</span></span> | <span data-ttu-id="74bba-215">Optymalizacje</span><span class="sxs-lookup"><span data-stu-id="74bba-215">Optimizations</span></span> |
| --- | --- | --- |
| <span data-ttu-id="74bba-216">**Ogólne**</span><span class="sxs-lookup"><span data-stu-id="74bba-216">**General**</span></span> |<span data-ttu-id="74bba-217">Ustawienie domyślne obsługujące większość obciążeń</span><span class="sxs-lookup"><span data-stu-id="74bba-217">Default setting that supports most workloads</span></span> |<span data-ttu-id="74bba-218">Brak</span><span class="sxs-lookup"><span data-stu-id="74bba-218">None</span></span> |
| <span data-ttu-id="74bba-219">**Przetwarzania transakcyjnego**</span><span class="sxs-lookup"><span data-stu-id="74bba-219">**Transactional processing**</span></span> |<span data-ttu-id="74bba-220">Optymalizuje hello magazynowania dla obciążeń OLTP tradycyjne bazy danych</span><span class="sxs-lookup"><span data-stu-id="74bba-220">Optimizes hello storage for traditional database OLTP workloads</span></span> |<span data-ttu-id="74bba-221">Flaga śledzenia 1117</span><span class="sxs-lookup"><span data-stu-id="74bba-221">Trace Flag 1117</span></span><br/><span data-ttu-id="74bba-222">Flaga śledzenia 1118</span><span class="sxs-lookup"><span data-stu-id="74bba-222">Trace Flag 1118</span></span> |
| <span data-ttu-id="74bba-223">**Magazynowania danych**</span><span class="sxs-lookup"><span data-stu-id="74bba-223">**Data warehousing**</span></span> |<span data-ttu-id="74bba-224">Optymalizuje magazyn hello analizą i raportami obciążeń</span><span class="sxs-lookup"><span data-stu-id="74bba-224">Optimizes hello storage for analytic and reporting workloads</span></span> |<span data-ttu-id="74bba-225">Flaga śledzenia 610</span><span class="sxs-lookup"><span data-stu-id="74bba-225">Trace Flag 610</span></span><br/><span data-ttu-id="74bba-226">Flaga śledzenia 1117</span><span class="sxs-lookup"><span data-stu-id="74bba-226">Trace Flag 1117</span></span> |

> [!NOTE]
> <span data-ttu-id="74bba-227">Typ obciążenia hello można określić tylko podczas obsługi administracyjnej maszyny wirtualnej SQL, wybierz je w kroku konfiguracji magazynu hello.</span><span class="sxs-lookup"><span data-stu-id="74bba-227">You can only specify hello workload type when you provision a SQL virtual machine by selecting it in hello storage configuration step.</span></span>
>
>

## <a name="next-steps"></a><span data-ttu-id="74bba-228">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="74bba-228">Next steps</span></span>
<span data-ttu-id="74bba-229">Dla innych tematach dotyczących toorunning programu SQL Server na maszynach wirtualnych Azure, zobacz [programu SQL Server na maszynach wirtualnych Azure](virtual-machines-windows-sql-server-iaas-overview.md).</span><span class="sxs-lookup"><span data-stu-id="74bba-229">For other topics related toorunning SQL Server in Azure VMs, see [SQL Server on Azure Virtual Machines](virtual-machines-windows-sql-server-iaas-overview.md).</span></span>
