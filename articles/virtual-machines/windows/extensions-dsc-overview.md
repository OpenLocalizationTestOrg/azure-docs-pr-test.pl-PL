---
title: "aaaDesired stanu konfiguracji dla platformy Azure — omówienie | Dokumentacja firmy Microsoft"
description: "Omówienie używania hello Microsoft Azure rozszerzenia obsługi dla konfiguracji żądanego stanu programu PowerShell. W tym wymagania wstępne, architektura, polecenia cmdlet."
services: virtual-machines-windows
documentationcenter: 
author: zjalexander
manager: timlt
editor: 
tags: azure-service-management,azure-resource-manager
keywords: 
ms.assetid: bbacbc93-1e7b-4611-a3ec-e3320641f9ba
ms.service: virtual-machines-windows
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: vm-windows
ms.workload: na
ms.date: 01/09/2017
ms.author: zachal
ms.openlocfilehash: b0337a2f1124f35e5e40c1478bd7530427e59d44
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="introduction-toohello-azure-desired-state-configuration-extension-handler"></a><span data-ttu-id="7d883-104">Wprowadzenie toohello Azure konfiguracji żądanego stanu rozszerzenia obsługi</span><span class="sxs-lookup"><span data-stu-id="7d883-104">Introduction toohello Azure Desired State Configuration extension handler</span></span>
[!INCLUDE [learn-about-deployment-models](../../../includes/learn-about-deployment-models-both-include.md)]

<span data-ttu-id="7d883-105">Witaj Agent maszyny Wirtualnej i skojarzonych rozszerzeń są częścią hello usługi infrastruktury platformy Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="7d883-105">hello Azure VM Agent and associated Extensions are part of hello Microsoft Azure Infrastructure Services.</span></span> <span data-ttu-id="7d883-106">Rozszerzenia maszyny Wirtualnej są składniki oprogramowania, które rozszerzyć funkcjonalność maszyny Wirtualnej hello i uproszczenia różne operacje zarządzania maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="7d883-106">VM Extensions are software components that extend hello VM functionality and simplify various VM management operations.</span></span> <span data-ttu-id="7d883-107">Na przykład hello rozszerzenia VMAccess może być tooreset używane hasło administratora lub hello niestandardowego skryptu rozszerzenia mogą być używane tooexecute skrypt na powitania maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="7d883-107">For example, hello VMAccess extension can be used tooreset an administrator's password, or hello Custom Script extension can be used tooexecute a script on hello VM.</span></span>

<span data-ttu-id="7d883-108">W tym artykule przedstawiono hello rozszerzenia konfiguracji żądanego stanu środowiska PowerShell (DSC) dla maszyn wirtualnych Azure w ramach hello zestawu SDK usługi Azure PowerShell.</span><span class="sxs-lookup"><span data-stu-id="7d883-108">This article introduces hello PowerShell Desired State Configuration (DSC) Extension for Azure VMs as part of hello Azure PowerShell SDK.</span></span> <span data-ttu-id="7d883-109">Można użyć nowego polecenia cmdlet tooupload i zastosowanie konfiguracji DSC środowiska PowerShell na maszynie Wirtualnej platformy Azure, włączyć hello rozszerzenia DSC środowiska PowerShell.</span><span class="sxs-lookup"><span data-stu-id="7d883-109">You can use new cmdlets tooupload and apply a PowerShell DSC configuration on an Azure VM enabled with hello PowerShell DSC extension.</span></span> <span data-ttu-id="7d883-110">wywołań rozszerzenia DSC środowiska PowerShell Hello hello tooenact DSC środowiska PowerShell otrzymała konfiguracji DSC na powitania maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="7d883-110">hello PowerShell DSC extension calls into PowerShell DSC tooenact hello received DSC configuration on hello VM.</span></span> <span data-ttu-id="7d883-111">Ta funkcja jest również dostępny za pośrednictwem hello portalu Azure.</span><span class="sxs-lookup"><span data-stu-id="7d883-111">This functionality is also available through hello Azure portal.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="7d883-112">Wymagania wstępne</span><span class="sxs-lookup"><span data-stu-id="7d883-112">Prerequisites</span></span>
<span data-ttu-id="7d883-113">**Komputer lokalny** toointeract z hello rozszerzenia maszyny Wirtualnej platformy Azure, należy toouse albo hello portalu Azure lub hello zestawu SDK usługi Azure PowerShell.</span><span class="sxs-lookup"><span data-stu-id="7d883-113">**Local machine** toointeract with hello Azure VM extension, you need toouse either hello Azure portal or hello Azure PowerShell SDK.</span></span> 

<span data-ttu-id="7d883-114">**Agent gościa** hello maszyny Wirtualnej platformy Azure, skonfigurowaną przy konfiguracji hello DSC musi toobe systemu operacyjnego obsługującego albo Windows Management Framework (WMF) 4.0 lub 5.0.</span><span class="sxs-lookup"><span data-stu-id="7d883-114">**Guest Agent** hello Azure VM that is configured by hello DSC configuration needs toobe an OS that supports either Windows Management Framework (WMF) 4.0 or 5.0.</span></span> <span data-ttu-id="7d883-115">Witaj pełną listę obsługiwanych wersji systemu operacyjnego znajduje się w temacie hello [Historia wersji rozszerzenia DSC](https://blogs.msdn.microsoft.com/powershell/2014/11/20/release-history-for-the-azure-dsc-extension/).</span><span class="sxs-lookup"><span data-stu-id="7d883-115">hello full list of supported OS versions can be found at hello [DSC Extension Version History](https://blogs.msdn.microsoft.com/powershell/2014/11/20/release-history-for-the-azure-dsc-extension/).</span></span>

## <a name="terms-and-concepts"></a><span data-ttu-id="7d883-116">Definicje terminów i pojęć</span><span class="sxs-lookup"><span data-stu-id="7d883-116">Terms and concepts</span></span>
<span data-ttu-id="7d883-117">W tym przewodniku zakłada się znajomość hello następujące pojęcia:</span><span class="sxs-lookup"><span data-stu-id="7d883-117">This guide presumes familiarity with hello following concepts:</span></span>

<span data-ttu-id="7d883-118">Konfiguracja — dokumentacja konfiguracji DSC.</span><span class="sxs-lookup"><span data-stu-id="7d883-118">Configuration - A DSC configuration document.</span></span> 

<span data-ttu-id="7d883-119">Węzeł - obiektu docelowego dla konfiguracji DSC.</span><span class="sxs-lookup"><span data-stu-id="7d883-119">Node - A target for a DSC configuration.</span></span> <span data-ttu-id="7d883-120">W tym dokumencie "węzła" zawsze dotyczy tooan maszyny Wirtualnej platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="7d883-120">In this document, "node" always refers tooan Azure VM.</span></span>

<span data-ttu-id="7d883-121">Dane konfiguracji — psd1 pliku zawierającego dane środowiska konfiguracji</span><span class="sxs-lookup"><span data-stu-id="7d883-121">Configuration Data - A .psd1 file containing environmental data for a configuration</span></span>

## <a name="architectural-overview"></a><span data-ttu-id="7d883-122">Omówienie architektury</span><span class="sxs-lookup"><span data-stu-id="7d883-122">Architectural overview</span></span>
<span data-ttu-id="7d883-123">Hello rozszerzenia usługi Konfiguracja DSC Azure używa toodeliver framework agenta maszyny Wirtualnej Azure hello, wprowadza i raport o konfiguracji DSC uruchomionych na maszynach wirtualnych platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="7d883-123">hello Azure DSC extension uses hello Azure VM Agent framework toodeliver, enact, and report on DSC configurations running on Azure VMs.</span></span> <span data-ttu-id="7d883-124">Witaj rozszerzenia DSC oczekuje, że plik zip zawiera co najmniej jeden dokument konfiguracji, a zestaw parametrów dostarczane za pośrednictwem hello zestawu SDK usługi Azure PowerShell lub hello portalu Azure.</span><span class="sxs-lookup"><span data-stu-id="7d883-124">hello DSC extension expects a .zip file containing at least a configuration document, and a set of parameters provided either through hello Azure PowerShell SDK or through hello Azure portal.</span></span>

<span data-ttu-id="7d883-125">Rozszerzenie hello jest wywoływana dla powitania po raz pierwszy, jest uruchamiany proces instalacji.</span><span class="sxs-lookup"><span data-stu-id="7d883-125">When hello extension is called for hello first time, it runs an installation process.</span></span> <span data-ttu-id="7d883-126">Ten proces instaluje wersję hello Windows Management Framework (WMF) przy użyciu następującego logiki hello:</span><span class="sxs-lookup"><span data-stu-id="7d883-126">This process installs a version of hello Windows Management Framework (WMF) using hello following logic:</span></span>

1. <span data-ttu-id="7d883-127">Witaj system operacyjny maszyny Wirtualnej platformy Azure w przypadku systemu Windows Server 2016, nie podjęto żadnej akcji.</span><span class="sxs-lookup"><span data-stu-id="7d883-127">If hello Azure VM OS is Windows Server 2016, no action is taken.</span></span> <span data-ttu-id="7d883-128">Windows Server 2016 już hello najnowszą wersję programu PowerShell jest zainstalowane.</span><span class="sxs-lookup"><span data-stu-id="7d883-128">Windows Server 2016 already has hello latest version of PowerShell installed.</span></span>
2. <span data-ttu-id="7d883-129">Jeśli hello `wmfVersion` właściwość zostanie określony, ta wersja hello WMF jest zainstalowane, chyba że nie jest zgodny z systemem operacyjnym hello maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="7d883-129">If hello `wmfVersion` property is specified, that version of hello WMF is installed unless it is incompatible with hello VM's OS.</span></span>
3. <span data-ttu-id="7d883-130">Jeśli nie `wmfVersion` określona właściwość, hello najnowszych dotyczy hello WMF jest zainstalowana wersja.</span><span class="sxs-lookup"><span data-stu-id="7d883-130">If no `wmfVersion` property is specified, hello latest applicable version of hello WMF is installed.</span></span>

<span data-ttu-id="7d883-131">Instalacja hello WMF wymaga ponownego uruchomienia komputera.</span><span class="sxs-lookup"><span data-stu-id="7d883-131">Installation of hello WMF requires a reboot.</span></span> <span data-ttu-id="7d883-132">Po ponownym uruchomieniu, rozszerzenia hello pobiera hello pliku zip określonego w hello `modulesUrl` właściwości.</span><span class="sxs-lookup"><span data-stu-id="7d883-132">After reboot, hello extension downloads hello .zip file specified in hello `modulesUrl` property.</span></span> <span data-ttu-id="7d883-133">Jeśli ta lokalizacja znajduje się w magazynie obiektów blob platformy Azure, można określić tokenu sygnatury dostępu Współdzielonego w hello `sasToken` tooaccess właściwości hello pliku.</span><span class="sxs-lookup"><span data-stu-id="7d883-133">If this location is in Azure blob storage, a SAS token can be specified in hello `sasToken` property tooaccess hello file.</span></span> <span data-ttu-id="7d883-134">Po pobraniu hello zip i rozpakowane, hello konfiguracji funkcji zdefiniowanej w `configurationFunction` uruchomieniu pliku MOF hello toogenerate.</span><span class="sxs-lookup"><span data-stu-id="7d883-134">After hello .zip is downloaded and unpacked, hello configuration function defined in `configurationFunction` is run toogenerate hello MOF file.</span></span> <span data-ttu-id="7d883-135">następnie uruchamia rozszerzenia Hello `Start-DscConfiguration -Force` w pliku MOF hello wygenerowany.</span><span class="sxs-lookup"><span data-stu-id="7d883-135">hello extension then runs `Start-DscConfiguration -Force` on hello generated MOF file.</span></span> <span data-ttu-id="7d883-136">rozszerzenie Hello przechwytuje dane wyjściowe i zapisuje go ponownie limit toohello Azure stan kanału.</span><span class="sxs-lookup"><span data-stu-id="7d883-136">hello extension captures output and writes it back out toohello Azure Status Channel.</span></span> <span data-ttu-id="7d883-137">Z tego punktu na powitania DSC LCM obsługuje monitorowanie i korekty normalnie.</span><span class="sxs-lookup"><span data-stu-id="7d883-137">From this point on, hello DSC LCM handles monitoring and correction as normal.</span></span> 

## <a name="powershell-cmdlets"></a><span data-ttu-id="7d883-138">Polecenia cmdlet programu PowerShell</span><span class="sxs-lookup"><span data-stu-id="7d883-138">PowerShell cmdlets</span></span>
<span data-ttu-id="7d883-139">Polecenia cmdlet programu PowerShell można używać z usługą Azure Resource Manager lub hello wdrażania klasycznego modelu toopackage, publikowanie i monitorować wdrożenia rozszerzenia usługi Konfiguracja DSC.</span><span class="sxs-lookup"><span data-stu-id="7d883-139">PowerShell cmdlets can be used with Azure Resource Manager or hello classic deployment model toopackage, publish, and monitor DSC extension deployments.</span></span> <span data-ttu-id="7d883-140">Hello są następujące polecenia cmdlet na liście modułów wdrożenie klasyczne hello, ale można zastąpić "Azure" "AzureRm" toouse hello Azure Resource Manager modelu.</span><span class="sxs-lookup"><span data-stu-id="7d883-140">hello following cmdlets listed are hello classic deployment modules, but "Azure" can be replaced with "AzureRm" toouse hello Azure Resource Manager model.</span></span> <span data-ttu-id="7d883-141">Na przykład `Publish-AzureVMDscConfiguration` używa hello klasycznego modelu wdrażania, gdzie `Publish-AzureRmVMDscConfiguration` używa usługi Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="7d883-141">For example,  `Publish-AzureVMDscConfiguration` uses hello classic deployment model, where `Publish-AzureRmVMDscConfiguration` uses Azure Resource Manager.</span></span> 

<span data-ttu-id="7d883-142">`Publish-AzureVMDscConfiguration`przyjmuje w pliku konfiguracji, szuka zasoby zależne DSC i tworzy plik zip zawierający hello konfiguracji i DSC zasoby potrzebne tooenact hello.</span><span class="sxs-lookup"><span data-stu-id="7d883-142">`Publish-AzureVMDscConfiguration` takes in a configuration file, scans it for dependent DSC resources, and creates a .zip file containing hello configuration and DSC resources needed tooenact hello configuration.</span></span> <span data-ttu-id="7d883-143">Można również utworzyć pakiet hello lokalnie za pomocą hello `-ConfigurationArchivePath` parametru.</span><span class="sxs-lookup"><span data-stu-id="7d883-143">It can also create hello package locally using hello `-ConfigurationArchivePath` parameter.</span></span> <span data-ttu-id="7d883-144">W przeciwnym razie publikuje magazynu obiektów blob tooAzure pliku zip hello i zabezpiecza go z tokenem sygnatury dostępu Współdzielonego.</span><span class="sxs-lookup"><span data-stu-id="7d883-144">Otherwise, it publishes hello .zip file tooAzure blob storage and secures it with a SAS token.</span></span>

<span data-ttu-id="7d883-145">plik zip Hello utworzone przez to polecenie cmdlet ma skryptu konfiguracji ps1 hello w głównym hello hello archiwum folder.</span><span class="sxs-lookup"><span data-stu-id="7d883-145">hello .zip file created by this cmdlet has hello .ps1 configuration script at hello root of hello archive folder.</span></span> <span data-ttu-id="7d883-146">Zasoby mają folder modułu hello umieszczony w folderze archiwum hello.</span><span class="sxs-lookup"><span data-stu-id="7d883-146">Resources have hello module folder placed in hello archive folder.</span></span> 

<span data-ttu-id="7d883-147">`Set-AzureVMDscExtension`injects hello ustawienia wymagane przez rozszerzenia DSC środowiska PowerShell hello do obiektu konfiguracji maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="7d883-147">`Set-AzureVMDscExtension` injects hello settings needed by hello PowerShell DSC extension into a VM configuration object.</span></span> <span data-ttu-id="7d883-148">W hello klasycznego modelu wdrażania, hello wirtualna zmiany muszą być zastosowane tooan maszyny Wirtualnej platformy Azure z `Update-AzureVM`.</span><span class="sxs-lookup"><span data-stu-id="7d883-148">In hello classic deployment model, hello VM changes must be applied tooan Azure VM with `Update-AzureVM`.</span></span> 

<span data-ttu-id="7d883-149">`Get-AzureVMDscExtension`pobiera stan rozszerzenia usługi Konfiguracja DSC hello określonej maszyny wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="7d883-149">`Get-AzureVMDscExtension` retrieves hello DSC extension status of a particular VM.</span></span> 

<span data-ttu-id="7d883-150">`Get-AzureVMDscExtensionStatus`pobiera stan hello konfiguracji DSC hello wdrożonych przez hello DSC rozszerzenia obsługi.</span><span class="sxs-lookup"><span data-stu-id="7d883-150">`Get-AzureVMDscExtensionStatus` retrieves hello status of hello DSC configuration enacted by hello DSC extension handler.</span></span> <span data-ttu-id="7d883-151">Akcję tę można wykonać na jednej maszyny Wirtualnej lub grupy maszyn wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="7d883-151">This action can be performed on a single VM, or group of VMs.</span></span>

<span data-ttu-id="7d883-152">`Remove-AzureVMDscExtension`Usuwa hello rozszerzenia obsługi z danej maszyny wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="7d883-152">`Remove-AzureVMDscExtension` removes hello extension handler from a given virtual machine.</span></span> <span data-ttu-id="7d883-153">To polecenie cmdlet jest **nie** Usuń konfigurację hello, odinstaluj hello WMF lub zmień ustawienia hello zastosowane na maszynie wirtualnej hello.</span><span class="sxs-lookup"><span data-stu-id="7d883-153">This cmdlet does **not** remove hello configuration, uninstall hello WMF, or change hello applied settings on hello virtual machine.</span></span> <span data-ttu-id="7d883-154">Powoduje usunięcie tylko hello rozszerzenia obsługi.</span><span class="sxs-lookup"><span data-stu-id="7d883-154">It only removes hello extension handler.</span></span> 

<span data-ttu-id="7d883-155">**Podstawowe różnice w poleceniach cmdlet ASM i usługi Azure Resource Manager**</span><span class="sxs-lookup"><span data-stu-id="7d883-155">**Key differences in ASM and Azure Resource Manager cmdlets**</span></span>

* <span data-ttu-id="7d883-156">Polecenia cmdlet Menedżera zasobów systemu Azure są synchroniczne.</span><span class="sxs-lookup"><span data-stu-id="7d883-156">Azure Resource Manager cmdlets are synchronous.</span></span> <span data-ttu-id="7d883-157">Polecenia cmdlet funkcji ASM są asynchroniczne.</span><span class="sxs-lookup"><span data-stu-id="7d883-157">ASM cmdlets are asynchronous.</span></span>
* <span data-ttu-id="7d883-158">ResourceGroupName, VMName ArchiveStorageAccountName, wersji i lokalizacji są wszystkie wymagane parametry usługi Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="7d883-158">ResourceGroupName, VMName, ArchiveStorageAccountName, Version, and Location are all required parameters in Azure Resource Manager.</span></span>
* <span data-ttu-id="7d883-159">ArchiveResourceGroupName jest nowy parametr opcjonalny dla usługi Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="7d883-159">ArchiveResourceGroupName is a new optional parameter for Azure Resource Manager.</span></span> <span data-ttu-id="7d883-160">Można określić tego parametru, jeśli konta magazynu należy tooa innej grupie zasobów niż hello co gdzie jest tworzona maszyna wirtualna hello.</span><span class="sxs-lookup"><span data-stu-id="7d883-160">You can specify this parameter when your storage account belongs tooa different resource group than hello one where hello virtual machine is created.</span></span>
* <span data-ttu-id="7d883-161">ConfigurationArchive jest nazywany ArchiveBlobName usługi Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="7d883-161">ConfigurationArchive is called ArchiveBlobName in Azure Resource Manager</span></span>
* <span data-ttu-id="7d883-162">Właściwość ContainerName jest nazywany ArchiveContainerName usługi Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="7d883-162">ContainerName is called ArchiveContainerName in Azure Resource Manager</span></span>
* <span data-ttu-id="7d883-163">StorageEndpointSuffix jest nazywany ArchiveStorageEndpointSuffix usługi Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="7d883-163">StorageEndpointSuffix is called ArchiveStorageEndpointSuffix in Azure Resource Manager</span></span>
* <span data-ttu-id="7d883-164">Dodano Hello AutoUpdate przełącznika tooAzure tooenable Resource Manager automatycznego aktualizowania hello rozszerzenia obsługi toohello najnowszej wersji jako i jest dostępny.</span><span class="sxs-lookup"><span data-stu-id="7d883-164">hello AutoUpdate switch has been added tooAzure Resource Manager tooenable automatic updating of hello extension handler toohello latest version as and when it is available.</span></span> <span data-ttu-id="7d883-165">Należy zauważyć, że ten parametr ma hello potencjalne toocause jest uruchamiany ponownie na powitania maszyny Wirtualnej, jeśli nowa wersja hello wydania WMF.</span><span class="sxs-lookup"><span data-stu-id="7d883-165">Note this parameter has hello potential toocause reboots on hello VM when a new version of hello WMF is released.</span></span> 

## <a name="azure-portal-functionality"></a><span data-ttu-id="7d883-166">Funkcje portalu Azure</span><span class="sxs-lookup"><span data-stu-id="7d883-166">Azure portal functionality</span></span>
<span data-ttu-id="7d883-167">Przeglądaj tooa maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="7d883-167">Browse tooa VM.</span></span> <span data-ttu-id="7d883-168">W obszarze Ustawienia -> Ogólne kliknij polecenie "Rozszerzenia".</span><span class="sxs-lookup"><span data-stu-id="7d883-168">Under Settings -> General click "Extensions."</span></span> <span data-ttu-id="7d883-169">Utworzono nowe okienko.</span><span class="sxs-lookup"><span data-stu-id="7d883-169">A new pane is created.</span></span> <span data-ttu-id="7d883-170">Kliknij przycisk "Dodaj" i wybierz DSC środowiska PowerShell.</span><span class="sxs-lookup"><span data-stu-id="7d883-170">Click "Add" and select PowerShell DSC.</span></span>

<span data-ttu-id="7d883-171">Hello portal wymaga danych wejściowych.</span><span class="sxs-lookup"><span data-stu-id="7d883-171">hello portal needs input.</span></span>
<span data-ttu-id="7d883-172">**Moduły konfiguracji lub skryptu**: to pole jest obowiązkowe.</span><span class="sxs-lookup"><span data-stu-id="7d883-172">**Configuration Modules or Script**: This field is mandatory.</span></span> <span data-ttu-id="7d883-173">Wymaga pliku .ps1, zawierający skrypt konfiguracji lub pliku zip o ps1 skrypt konfiguracji w głównym hello i wszystkimi zasobami zależnymi w folderach modułu w ramach hello zip.</span><span class="sxs-lookup"><span data-stu-id="7d883-173">Requires a .ps1 file containing a configuration script, or a .zip file with a .ps1 configuration script at hello root, and all dependent resources in module folders within hello .zip.</span></span> <span data-ttu-id="7d883-174">Można tworzyć z hello `Publish-AzureVMDscConfiguration -ConfigurationArchivePath` objęte hello zestawu SDK usługi Azure PowerShell polecenia cmdlet.</span><span class="sxs-lookup"><span data-stu-id="7d883-174">It can be created with hello `Publish-AzureVMDscConfiguration -ConfigurationArchivePath` cmdlet included in hello Azure PowerShell SDK.</span></span> <span data-ttu-id="7d883-175">plik zip Hello jest przekazywany do usługi magazynu obiektów blob użytkownika zabezpieczone przez tokenu sygnatury dostępu Współdzielonego.</span><span class="sxs-lookup"><span data-stu-id="7d883-175">hello .zip file is uploaded into your user blob storage secured by a SAS token.</span></span> 

<span data-ttu-id="7d883-176">**Plik PSD1 danych konfiguracji**: to pole jest opcjonalne.</span><span class="sxs-lookup"><span data-stu-id="7d883-176">**Configuration Data PSD1 File**: This field is optional.</span></span> <span data-ttu-id="7d883-177">Jeśli konfiguracja wymaga plik danych konfiguracji w psd1, użyj tego pola tooselect go i przekazać go tooyour magazynu obiektów blob użytkownika, gdy jest zabezpieczony przez tokenu sygnatury dostępu Współdzielonego.</span><span class="sxs-lookup"><span data-stu-id="7d883-177">If your configuration requires a configuration data file in .psd1, use this field tooselect it and upload it tooyour user blob storage, where it is secured by a SAS token.</span></span> 

<span data-ttu-id="7d883-178">**Kwalifikowanej nazwy konfiguracji**: ps1 pliki mogą mieć wiele funkcji konfiguracyjnych.</span><span class="sxs-lookup"><span data-stu-id="7d883-178">**Module-Qualified Name of Configuration**: .ps1 files can have multiple configuration functions.</span></span> <span data-ttu-id="7d883-179">Wprowadź nazwę hello skryptu ps1 konfiguracji hello następuje "\' i nazwę hello hello konfiguracji funkcji.</span><span class="sxs-lookup"><span data-stu-id="7d883-179">Enter hello name of hello configuration .ps1 script followed by a  '\' and hello name of hello configuration function.</span></span> <span data-ttu-id="7d883-180">Na przykład jeśli ps1 skrypt ma nazwę hello "configuration.ps1", a konfiguracja hello jest "IisInstall", możesz wprowadzić:`configuration.ps1\IisInstall`</span><span class="sxs-lookup"><span data-stu-id="7d883-180">For example, if your .ps1 script has hello name "configuration.ps1", and hello configuration is "IisInstall", you would enter: `configuration.ps1\IisInstall`</span></span>

<span data-ttu-id="7d883-181">**Argumenty konfiguracji**: Jeśli funkcja Konfiguracja hello przyjmuje argumenty, wprowadź je tutaj w formacie hello `argumentName1=value1,argumentName2=value2`.</span><span class="sxs-lookup"><span data-stu-id="7d883-181">**Configuration Arguments**: If hello configuration function takes arguments, enter them in here in hello format `argumentName1=value1,argumentName2=value2`.</span></span> <span data-ttu-id="7d883-182">Należy zauważyć, że ten format jest innym formacie niż sposób konfiguracji argumenty są akceptowane za pomocą poleceń cmdlet programu PowerShell lub Menedżera zasobów szablonów.</span><span class="sxs-lookup"><span data-stu-id="7d883-182">Note this format is a different format than how configuration arguments are accepted through PowerShell cmdlets or Resource Manager templates.</span></span> 

## <a name="getting-started"></a><span data-ttu-id="7d883-183">Wprowadzenie</span><span class="sxs-lookup"><span data-stu-id="7d883-183">Getting started</span></span>
<span data-ttu-id="7d883-184">Witaj rozszerzenia usługi Konfiguracja DSC Azure przyjmuje w dokumentach konfiguracji DSC i enacts ich na maszynach wirtualnych Azure.</span><span class="sxs-lookup"><span data-stu-id="7d883-184">hello Azure DSC extension takes in DSC configuration documents and enacts them on Azure VMs.</span></span> <span data-ttu-id="7d883-185">Prosty przykład konfiguracji jest zgodny.</span><span class="sxs-lookup"><span data-stu-id="7d883-185">A simple example of a configuration follows.</span></span> <span data-ttu-id="7d883-186">Zapisz go lokalnie jako "IisInstall.ps1":</span><span class="sxs-lookup"><span data-stu-id="7d883-186">Save it locally as "IisInstall.ps1":</span></span>

```powershell
configuration IISInstall 
{ 
    node "localhost"
    { 
        WindowsFeature IIS 
        { 
            Ensure = "Present" 
            Name = "Web-Server"                       
        } 
    } 
}
```

<span data-ttu-id="7d883-187">Witaj, wykonując kroki miejscu hello IisInstall.ps1 skryptu na hello określonej maszyny Wirtualnej, wykonywania hello konfiguracji i wysyłać raporty o stanie.</span><span class="sxs-lookup"><span data-stu-id="7d883-187">hello following steps place hello IisInstall.ps1 script on hello specified VM, execute hello configuration, and report back on status.</span></span>
###<a name="classic-model"></a><span data-ttu-id="7d883-188">Modelu klasycznego</span><span class="sxs-lookup"><span data-stu-id="7d883-188">Classic model</span></span>
```powershell
#Azure PowerShell cmdlets are required
Import-Module Azure

#Use an existing Azure Virtual Machine, 'DscDemo1'
$demoVM = Get-AzureVM DscDemo1

#Publish hello configuration script into user storage.
Publish-AzureVMDscConfiguration -ConfigurationPath ".\IisInstall.ps1" -StorageContext $storageContext -Verbose -Force

#Set hello VM toorun hello DSC configuration
Set-AzureVMDscExtension -VM $demoVM -ConfigurationArchive "IisInstall.ps1.zip" -StorageContext $storageContext -ConfigurationName "IisInstall" -Verbose

#Update hello configuration of an Azure Virtual Machine
$demoVM | Update-AzureVM -Verbose

#check on status
Get-AzureVMDscExtensionStatus -VM $demovm -Verbose
```
###<a name="azure-resource-manager-model"></a><span data-ttu-id="7d883-189">Model usługi Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="7d883-189">Azure Resource Manager model</span></span>

```powershell
$resourceGroup = "dscVmDemo"
$location = "westus"
$vmName = "myVM"
$storageName = "demostorage"
#Publish hello configuration script into user storage
Publish-AzureRmVMDscConfiguration -ConfigurationPath .\iisInstall.ps1 -ResourceGroupName $resourceGroup -StorageAccountName $storageName -force
#Set hello VM toorun hello DSC configuration
Set-AzureRmVmDscExtension -Version 2.21 -ResourceGroupName $resourceGroup -VMName $vmName -ArchiveStorageAccountName $storageName -ArchiveBlobName iisInstall.ps1.zip -AutoUpdate:$true -ConfigurationName "IISInstall"

```

## <a name="logging"></a><span data-ttu-id="7d883-190">Rejestrowanie</span><span class="sxs-lookup"><span data-stu-id="7d883-190">Logging</span></span>
<span data-ttu-id="7d883-191">Dzienniki są umieszczane w:</span><span class="sxs-lookup"><span data-stu-id="7d883-191">Logs are placed in:</span></span>

<span data-ttu-id="7d883-192">C:\WindowsAzure\Logs\Plugins\Microsoft.PowerShell.DSC\[numer wersji]</span><span class="sxs-lookup"><span data-stu-id="7d883-192">C:\WindowsAzure\Logs\Plugins\Microsoft.Powershell.DSC\[Version Number]</span></span>

## <a name="next-steps"></a><span data-ttu-id="7d883-193">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="7d883-193">Next steps</span></span>
<span data-ttu-id="7d883-194">Aby uzyskać więcej informacji o konfiguracji DSC środowiska PowerShell [odwiedź Centrum dokumentacji programu PowerShell hello](https://msdn.microsoft.com/powershell/dsc/overview).</span><span class="sxs-lookup"><span data-stu-id="7d883-194">For more information about PowerShell DSC, [visit hello PowerShell documentation center](https://msdn.microsoft.com/powershell/dsc/overview).</span></span> 

<span data-ttu-id="7d883-195">Sprawdź hello [szablonu usługi Azure Resource Manager dla rozszerzenia hello DSC](extensions-dsc-template.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="7d883-195">Examine hello [Azure Resource Manager template for hello DSC extension](extensions-dsc-template.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span> 

<span data-ttu-id="7d883-196">dodatkowe funkcje toofind można zarządzać w usłudze Konfiguracja DSC środowiska PowerShell, [Przejrzyj galerię programu PowerShell hello](https://www.powershellgallery.com/packages?q=DscResource&x=0&y=0) więcej zasobów usługi Konfiguracja DSC.</span><span class="sxs-lookup"><span data-stu-id="7d883-196">toofind additional functionality you can manage with PowerShell DSC, [browse hello PowerShell gallery](https://www.powershellgallery.com/packages?q=DscResource&x=0&y=0) for more DSC resources.</span></span>

<span data-ttu-id="7d883-197">Aby uzyskać szczegółowe informacje na przekazywanie parametrów poufnych do konfiguracji, zobacz [Zarządzanie poświadczeń bezpiecznie z hello DSC rozszerzenia obsługi](extensions-dsc-credentials.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="7d883-197">For details on passing sensitive parameters into configurations, see [Manage credentials securely with hello DSC extension handler](extensions-dsc-credentials.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

