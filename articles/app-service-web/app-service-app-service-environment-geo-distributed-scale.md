---
title: "Rozproszona geograficznie skala przy użyciu środowisk usługi App Service"
description: "Dowiedz się, jak skalować w poziomie aplikacji z Menedżera ruchu i środowiska usługi App Service przy użyciu dystrybucji geo."
services: app-service
documentationcenter: 
author: stefsch
manager: erikre
editor: 
ms.assetid: c1b05ca8-3703-4d87-a9ae-819d741787fb
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 09/07/2016
ms.author: stefsch
ms.openlocfilehash: 505301b2650c9b8bafdad352055f30e55148ab0c
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 07/11/2017
---
# <a name="geo-distributed-scale-with-app-service-environments"></a><span data-ttu-id="c0968-103">Rozproszona geograficznie skala przy użyciu środowisk usługi App Service</span><span class="sxs-lookup"><span data-stu-id="c0968-103">Geo Distributed Scale with App Service Environments</span></span>
## <a name="overview"></a><span data-ttu-id="c0968-104">Omówienie</span><span class="sxs-lookup"><span data-stu-id="c0968-104">Overview</span></span>
<span data-ttu-id="c0968-105">Scenariusze aplikacji, które wymagają bardzo dużej skali, może być dłuższa niż pojemność zasobów obliczeniowych dostępne dla pojedynczego wdrożenia aplikacji.</span><span class="sxs-lookup"><span data-stu-id="c0968-105">Application scenarios which require very high scale can exceed the compute resource capacity available to a single deployment of an app.</span></span>  <span data-ttu-id="c0968-106">Głosowanie aplikacji, sportowych i zdarzenia programu Rozrywka są wszystkie przykładowe scenariusze, które wymagają bardzo dużej skali.</span><span class="sxs-lookup"><span data-stu-id="c0968-106">Voting applications, sporting events, and televised entertainment events are all examples of scenarios that require extremely high scale.</span></span> <span data-ttu-id="c0968-107">Wymagania dotyczące wysokiej skali można spełnić przez poziomie skalowania aplikacji z wieloma wdrożeniami aplikacji została wprowadzona w pojedynczym regionie, a także w regionach, do obsługi obciążenia extreme wymagania.</span><span class="sxs-lookup"><span data-stu-id="c0968-107">High scale requirements can be met by horizontally scaling out apps, with multiple app deployments being made within a single region, as well as across regions, to handle extreme load requirements.</span></span>

<span data-ttu-id="c0968-108">Środowiska usługi aplikacji jest idealną platformą dla poziomych skalowania w poziomie.</span><span class="sxs-lookup"><span data-stu-id="c0968-108">App Service Environments are an ideal platform for horizontal scale out.</span></span>  <span data-ttu-id="c0968-109">Raz środowiska usługi aplikacji konfiguracji została wybrana obsługujące współczynnika żądań znane, deweloperzy można wdrożyć dodatkowe środowiska usługi App Service w sposób "krajarki plik cookie" do osiągnięcia obciążenie żądaną godzinami szczytu.</span><span class="sxs-lookup"><span data-stu-id="c0968-109">Once an App Service Environment configuration has been selected that can support a known request rate, developers can deploy additional App Service Environments in "cookie cutter" fashion to attain a desired peak load capacity.</span></span>

<span data-ttu-id="c0968-110">Załóżmy na przykład aplikacji uruchomionej na konfiguracji środowiska usługi aplikacji był testowany do obsługi żądań 20 KB na sekundę (RPS).</span><span class="sxs-lookup"><span data-stu-id="c0968-110">For example suppose an app running on an App Service Environment configuration has been tested to handle 20K requests per second (RPS).</span></span>  <span data-ttu-id="c0968-111">Jeśli pojemność obciążenia szczytowego żądaną 100 KB RPS, następnie pięć (5) środowiska usługi App Service można tworzyć i skonfigurowany tak, aby upewnić się, że aplikacja może obsługiwać maksymalne obciążenie planowane.</span><span class="sxs-lookup"><span data-stu-id="c0968-111">If the desired peak load capacity is 100K RPS, then five (5) App Service Environments can be created and configured to ensure the application can handle the maximum projected load.</span></span>

<span data-ttu-id="c0968-112">Ponieważ klienci zwykle uzyskują dostęp do aplikacji przy użyciu domeny niestandardowe (lub niestandardowych), deweloperzy muszą rozdystrybuować żądań aplikacji we wszystkich wystąpień środowiska usługi aplikacji.</span><span class="sxs-lookup"><span data-stu-id="c0968-112">Since customers typically access apps using a custom (or vanity) domain, developers need a way to distribute app requests across all of the App Service Environment instances.</span></span>  <span data-ttu-id="c0968-113">Doskonałym sposobem, w tym celu jest do rozwiązania przy użyciu domeny niestandardowej [profilu Menedżera ruchu Azure][AzureTrafficManagerProfile].</span><span class="sxs-lookup"><span data-stu-id="c0968-113">A great way to accomplish this is to resolve the custom domain using an [Azure Traffic Manager profile][AzureTrafficManagerProfile].</span></span>  <span data-ttu-id="c0968-114">Profilu usługi Traffic Manager można skonfigurować tak, aby wskazywały na wszystkich poszczególnych środowisk usługi aplikacji.</span><span class="sxs-lookup"><span data-stu-id="c0968-114">The Traffic Manager profile can be configured to point at all of the individual App Service Environments.</span></span>  <span data-ttu-id="c0968-115">Menedżer ruchu obsługiwać automatycznie dystrybucji klienci we wszystkich środowiska usługi aplikacji, które są oparte na ustawienia w profilu usługi Traffic Manager równoważenia obciążenia.</span><span class="sxs-lookup"><span data-stu-id="c0968-115">Traffic Manager will automatically handle distributing customers across all of the App Service Environments based on the load balancing settings in the Traffic Manager profile.</span></span>  <span data-ttu-id="c0968-116">Ta metoda działa niezależnie od tego, czy wszystkie środowiska usługi aplikacji są wdrożone w pojedynczym regionie Azure, lub wdrażanych na całym świecie, w wielu regionach platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="c0968-116">This approach works regardless of whether all of the App Service Environments are deployed in a single Azure region, or deployed worldwide across multiple Azure regions.</span></span>

<span data-ttu-id="c0968-117">Ponadto ponieważ klientom dostęp do aplikacji za pośrednictwem domeny niestandardowych, klienci są bez "świadomości" liczby środowiska usługi App Service uruchomiona aplikacja.</span><span class="sxs-lookup"><span data-stu-id="c0968-117">Furthermore, since customers access apps through the vanity domain, customers are unaware of the number of App Service Environments running an app.</span></span>  <span data-ttu-id="c0968-118">W związku z tym deweloperzy mogą szybko i łatwo dodawania i usuwania, oparte na obciążenie sieci obserwowanych środowiska usługi App Service.</span><span class="sxs-lookup"><span data-stu-id="c0968-118">As a result developers can quickly and easily add, and remove, App Service Environments based on observed traffic load.</span></span>

<span data-ttu-id="c0968-119">Poniższy diagram koncepcyjny przedstawia aplikacji, skalowanie w poziomie między trzy środowiska usługi App Service w pojedynczym regionie.</span><span class="sxs-lookup"><span data-stu-id="c0968-119">The conceptual diagram below depicts an app horizontally scaled out across three App Service Environments within a single region.</span></span>

![Architektura koncepcyjna][ConceptualArchitecture] 

<span data-ttu-id="c0968-121">W pozostałej części tego tematu przeprowadzi Cię przez etapy Konfigurowanie topologii rozproszonej dla przykładowej aplikacji przy użyciu wielu środowiska usługi App Service.</span><span class="sxs-lookup"><span data-stu-id="c0968-121">The remainder of this topic walks through the steps involved with setting up a distributed topology for the sample app using multiple App Service Environments.</span></span>

## <a name="planning-the-topology"></a><span data-ttu-id="c0968-122">Planowanie topologii</span><span class="sxs-lookup"><span data-stu-id="c0968-122">Planning the Topology</span></span>
<span data-ttu-id="c0968-123">Przed rozpoczęciem budowania limit rozmiaru aplikacji rozproszonej, pomaga ma kilka części informacji wcześniejsze.</span><span class="sxs-lookup"><span data-stu-id="c0968-123">Before building out a distributed app footprint, it helps to have a few pieces information ahead of time.</span></span>

* <span data-ttu-id="c0968-124">**Domeny niestandardowej dla aplikacji:** co to jest nazwa domeny niestandardowej, którego użytkownicy będą używać dostęp do tej aplikacji?</span><span class="sxs-lookup"><span data-stu-id="c0968-124">**Custom domain for the app:**  What is the custom domain name that customers will use to access the app?</span></span>  <span data-ttu-id="c0968-125">Przykładowa aplikacja niestandardowa nazwa domeny jest *www.scalableasedemo.com*</span><span class="sxs-lookup"><span data-stu-id="c0968-125">For the sample app the custom domain name is *www.scalableasedemo.com*</span></span>
* <span data-ttu-id="c0968-126">**Domeny usługi Traffic Manager:** nazwą domeny należy wybrać podczas tworzenia [profilu Menedżera ruchu Azure][AzureTrafficManagerProfile].</span><span class="sxs-lookup"><span data-stu-id="c0968-126">**Traffic Manager domain:**  A domain name needs to be chosen when creating an [Azure Traffic Manager profile][AzureTrafficManagerProfile].</span></span>  <span data-ttu-id="c0968-127">Ta nazwa zostanie połączona z *trafficmanager.net* sufiks zarejestrować wpis domeny, który jest zarządzany przez Menedżera ruchu.</span><span class="sxs-lookup"><span data-stu-id="c0968-127">This name will be combined with the *trafficmanager.net* suffix to register a domain entry that is managed by Traffic Manager.</span></span>  <span data-ttu-id="c0968-128">Przykładowa aplikacja jest wybrana nazwa *skalowalne pokaz ase*.</span><span class="sxs-lookup"><span data-stu-id="c0968-128">For the sample app, the name chosen is *scalable-ase-demo*.</span></span>  <span data-ttu-id="c0968-129">W związku z tym nazwa domeny pełnego, który jest zarządzany przez Menedżera ruchu jest *skalowalne demo.trafficmanager.net ase*.</span><span class="sxs-lookup"><span data-stu-id="c0968-129">As a result the full domain name that is managed by Traffic Manager is *scalable-ase-demo.trafficmanager.net*.</span></span>
* <span data-ttu-id="c0968-130">**Strategia skalowanie rozmiaru aplikacji:** będą zużycie aplikacji być rozproszone na wielu środowiska usługi App Service w pojedynczym regionie?</span><span class="sxs-lookup"><span data-stu-id="c0968-130">**Strategy for scaling the app footprint:**  Will the application footprint be distributed across multiple App Service Environments in a single region?</span></span>  <span data-ttu-id="c0968-131">Wiele regionów?</span><span class="sxs-lookup"><span data-stu-id="c0968-131">Multiple regions?</span></span>  <span data-ttu-id="c0968-132">Mieszane i dopasowywać w obu przypadkach efekt?</span><span class="sxs-lookup"><span data-stu-id="c0968-132">A mix-and-match of both approaches?</span></span>  <span data-ttu-id="c0968-133">Decyzja powinny być oparte na oczekiwań, z których pochodzą ruchu klientów, a także jak można skalować reszty aplikacji obsługujących infrastruktura wewnętrzna.</span><span class="sxs-lookup"><span data-stu-id="c0968-133">The decision should be based on expectations of where customer traffic will originate, as well as how well the rest of an app's supporting back-end infrastructure can scale.</span></span>  <span data-ttu-id="c0968-134">Na przykład przy użyciu aplikacji bezstanowych 100% aplikacji może być ogromną skalę skalowany przy użyciu kombinacji wielu środowiska usługi App Service dla regionu Azure, pomnożona przez wdrożone w różnych regionach platformy Azure środowiska usługi App Service.</span><span class="sxs-lookup"><span data-stu-id="c0968-134">For example, with a 100% stateless application, an app can be massively scaled using a combination of multiple App Service Environments per Azure region,  multiplied by App Service Environments deployed across multiple Azure regions.</span></span>  <span data-ttu-id="c0968-135">Z 15 + publicznego regiony platformy Azure dostępna do wyboru klienci mogą tworzyć naprawdę wpływu na całym świecie hiperskali aplikacji.</span><span class="sxs-lookup"><span data-stu-id="c0968-135">With 15+ public Azure regions available to choose from, customers can truly build a world-wide hyper-scale application footprint.</span></span>  <span data-ttu-id="c0968-136">Dla przykładowej aplikacji używane w tym artykule trzy środowiska usługi aplikacji zostały utworzone w pojedynczym regionie Azure (południowo-środkowe stany).</span><span class="sxs-lookup"><span data-stu-id="c0968-136">For the sample app used for this article, three App Service Environments were created in a single Azure region (South Central US).</span></span>
* <span data-ttu-id="c0968-137">**Konwencja nazewnictwa dla środowiska usługi App Service:** każdego środowiska usługi aplikacji wymaga unikatowej nazwy.</span><span class="sxs-lookup"><span data-stu-id="c0968-137">**Naming convention for the App Service Environments:**  Each App Service Environment requires a unique name.</span></span>  <span data-ttu-id="c0968-138">Poza jednego lub dwóch środowiska usługi App Service jest pomocne konwencji nazewnictwa, aby ułatwić identyfikację każdego środowiska usługi aplikacji.</span><span class="sxs-lookup"><span data-stu-id="c0968-138">Beyond one or two App Service Environments it is helpful to have a naming convention to help identify each App Service Environment.</span></span>  <span data-ttu-id="c0968-139">Dla przykładowej aplikacji użyto prostych konwencji nazewnictwa.</span><span class="sxs-lookup"><span data-stu-id="c0968-139">For the sample app a simple naming convention was used.</span></span>  <span data-ttu-id="c0968-140">Nazwy trzy środowiska usługi aplikacji są *fe1ase*, *fe2ase*, i *fe3ase*.</span><span class="sxs-lookup"><span data-stu-id="c0968-140">The names of the three App Service Environments are *fe1ase*, *fe2ase*, and *fe3ase*.</span></span>
* <span data-ttu-id="c0968-141">**Konwencja nazewnictwa dla aplikacji:** ponieważ wiele wystąpień aplikacji zostanie wdrożony, nazwę jest wymagane dla każdego wystąpienia wdrożonej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="c0968-141">**Naming convention for the apps:**  Since multiple instances of the app will be deployed, a name is needed for each instance of the deployed app.</span></span>  <span data-ttu-id="c0968-142">Jedną mało znanego, ale bardzo wygodny funkcji środowiska usługi App Service jest, że taką samą nazwę aplikacji mogą być używane w wielu środowiskach usługi aplikacji.</span><span class="sxs-lookup"><span data-stu-id="c0968-142">One little-known but very convenient feature of App Service Environments is that the same app name can be used across multiple App Service Environments.</span></span>  <span data-ttu-id="c0968-143">Ponieważ każde środowisko usługi aplikacji ma sufiks domeny unikatowy, deweloperzy mogą być ponownie użyć dokładnej nazwy aplikacji w każdym środowisku.</span><span class="sxs-lookup"><span data-stu-id="c0968-143">Since each App Service Environment has a unique domain suffix, developers can choose to re-use the exact same app name in each environment.</span></span>  <span data-ttu-id="c0968-144">Na przykład deweloper może mieć następujące nazwy aplikacji: *myapp.foo1.p.azurewebsites.net*, *myapp.foo2.p.azurewebsites.net*, *myapp.foo3.p.azurewebsites.net*itp.  Dla przykładowej aplikacji jednak każde wystąpienie aplikacji również ma unikatową nazwę.</span><span class="sxs-lookup"><span data-stu-id="c0968-144">For example a developer could have apps named as follows:  *myapp.foo1.p.azurewebsites.net*, *myapp.foo2.p.azurewebsites.net*, *myapp.foo3.p.azurewebsites.net*, etc.  For the sample app though each app instance also has a unique name.</span></span>  <span data-ttu-id="c0968-145">Nazwy wystąpienia aplikacji, używane są *webfrontend1*, *webfrontend2*, i *webfrontend3*.</span><span class="sxs-lookup"><span data-stu-id="c0968-145">The app instance names used are *webfrontend1*, *webfrontend2*, and *webfrontend3*.</span></span>

## <a name="setting-up-the-traffic-manager-profile"></a><span data-ttu-id="c0968-146">Konfigurowanie profilu Menedżera ruchu</span><span class="sxs-lookup"><span data-stu-id="c0968-146">Setting up the Traffic Manager Profile</span></span>
<span data-ttu-id="c0968-147">Po wielu wystąpień aplikacji są wdrażane na wielu środowiska usługi App Service, wystąpień poszczególnych aplikacji może być zarejestrowany z usługą Traffic Manager.</span><span class="sxs-lookup"><span data-stu-id="c0968-147">Once multiple instances of an app are deployed on multiple App Service Environments, the  individual app instances can be registered with Traffic Manager.</span></span>  <span data-ttu-id="c0968-148">Przykładowa aplikacja usługi Traffic Manager profilu na potrzeby dla *skalowalne demo.trafficmanager.net ase* która może kierować klientów do żadnego z następujących wystąpień wdrożonej aplikacji:</span><span class="sxs-lookup"><span data-stu-id="c0968-148">For the sample app a Traffic Manager profile is needed for *scalable-ase-demo.trafficmanager.net* that can route customers to any of the following deployed app instances:</span></span>

* <span data-ttu-id="c0968-149">**webfrontend1.fe1ase.p.azurewebsites.NET:** wystąpienia przykładowej aplikacji wdrożonych na pierwszym środowiska usługi aplikacji.</span><span class="sxs-lookup"><span data-stu-id="c0968-149">**webfrontend1.fe1ase.p.azurewebsites.net:**  An instance of the sample app deployed on the first App Service Environment.</span></span>
* <span data-ttu-id="c0968-150">**webfrontend2.fe2ase.p.azurewebsites.NET:** wystąpienia przykładowej aplikacji wdrożonych na drugi środowiska usługi aplikacji.</span><span class="sxs-lookup"><span data-stu-id="c0968-150">**webfrontend2.fe2ase.p.azurewebsites.net:**  An instance of the sample app deployed on the second App Service Environment.</span></span>
* <span data-ttu-id="c0968-151">**webfrontend3.fe3ase.p.azurewebsites.NET:** wystąpienia przykładowej aplikacji wdrożonych na trzeci środowiska usługi aplikacji.</span><span class="sxs-lookup"><span data-stu-id="c0968-151">**webfrontend3.fe3ase.p.azurewebsites.net:**  An instance of the sample app deployed on the third App Service Environment.</span></span>

<span data-ttu-id="c0968-152">Najprostszym sposobem, aby zarejestrować wiele usłudze Azure App Service punktów końcowych, wszystkich uruchomionych w **tego samego** region platformy Azure, to przy użyciu programu Powershell [pomocy technicznej usługi Azure Resource Manager Traffic Manager] [ ARMTrafficManager].</span><span class="sxs-lookup"><span data-stu-id="c0968-152">The easiest way to register multiple Azure App Service endpoints, all running in the **same** Azure region, is with the Powershell [Azure Resource Manager Traffic Manager support][ARMTrafficManager].</span></span>  

<span data-ttu-id="c0968-153">Pierwszym krokiem jest ut worzyć profil Menedżera ruchu Azure.</span><span class="sxs-lookup"><span data-stu-id="c0968-153">The first step is to create an Azure Traffic Manager profile.</span></span>  <span data-ttu-id="c0968-154">Poniższy kod przedstawia sposób profil został utworzony dla przykładowej aplikacji:</span><span class="sxs-lookup"><span data-stu-id="c0968-154">The code below shows how the profile was created for the sample app:</span></span>

    $profile = New-AzureTrafficManagerProfile –Name scalableasedemo -ResourceGroupName yourRGNameHere -TrafficRoutingMethod Weighted -RelativeDnsName scalable-ase-demo -Ttl 30 -MonitorProtocol HTTP -MonitorPort 80 -MonitorPath "/"

<span data-ttu-id="c0968-155">Powiadomienie jak *RelativeDnsName* ustawiono parametr *skalowalne pokaz ase*.</span><span class="sxs-lookup"><span data-stu-id="c0968-155">Notice how the *RelativeDnsName* parameter was set to *scalable-ase-demo*.</span></span>  <span data-ttu-id="c0968-156">Jest to jak nazwa domeny *skalowalne demo.trafficmanager.net ase* skojarzonego z profilem Menedżera ruchu.</span><span class="sxs-lookup"><span data-stu-id="c0968-156">This is how the domain name *scalable-ase-demo.trafficmanager.net* is created and associated with a Traffic Manager profile.</span></span>

<span data-ttu-id="c0968-157">*TrafficRoutingMethod* parametru definiuje zasady Menedżera ruchu użyje do określenia sposobu rozkładu obciążenia klienta we wszystkich dostępnych punktów końcowych równoważenia obciążenia.</span><span class="sxs-lookup"><span data-stu-id="c0968-157">The *TrafficRoutingMethod* parameter defines the load balancing policy Traffic Manager will use to determine how to spread customer load across all of the available endpoints.</span></span>  <span data-ttu-id="c0968-158">W tym przykładzie *ważone* wybrano metodę.</span><span class="sxs-lookup"><span data-stu-id="c0968-158">In this example the *Weighted* method was chosen.</span></span>  <span data-ttu-id="c0968-159">Spowoduje to żądania klientów są rozkładane wszystkie punkty końcowe zarejestrowanej aplikacji oparte na względnych wag skojarzone z każdym punkcie końcowym.</span><span class="sxs-lookup"><span data-stu-id="c0968-159">This will result in customer requests being spread across all of the registered application endpoints based on the relative weights associated with each endpoint.</span></span> 

<span data-ttu-id="c0968-160">Z profilem utworzone każde wystąpienie aplikacji jest dodawana do profilu jako natywny punktu końcowego platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="c0968-160">With the profile created, each app instance is added to the profile as a native Azure endpoint.</span></span>  <span data-ttu-id="c0968-161">Poniższy kod pobiera odwołanie do każdej aplikacji sieci web frontonu, a następnie dodanie każdej aplikacji jako punktu końcowego Menedżera ruchu poprzez *element TargetResourceId* parametru.</span><span class="sxs-lookup"><span data-stu-id="c0968-161">The code below fetches a reference to each front end web app, and then adds each app as a Traffic Manager endpoint by way of the *TargetResourceId* parameter.</span></span>

    $webapp1 = Get-AzureRMWebApp -Name webfrontend1
    Add-AzureTrafficManagerEndpointConfig –EndpointName webfrontend1 –TrafficManagerProfile $profile –Type AzureEndpoints -TargetResourceId $webapp1.Id –EndpointStatus Enabled –Weight 10

    $webapp2 = Get-AzureRMWebApp -Name webfrontend2
    Add-AzureTrafficManagerEndpointConfig –EndpointName webfrontend2 –TrafficManagerProfile $profile –Type AzureEndpoints -TargetResourceId $webapp2.Id –EndpointStatus Enabled –Weight 10

    $webapp3 = Get-AzureRMWebApp -Name webfrontend3
    Add-AzureTrafficManagerEndpointConfig –EndpointName webfrontend3 –TrafficManagerProfile $profile –Type AzureEndpoints -TargetResourceId $webapp3.Id –EndpointStatus Enabled –Weight 10

    Set-AzureTrafficManagerProfile –TrafficManagerProfile $profile

<span data-ttu-id="c0968-162">Zwróć uwagę, jak istnieje jedno wywołanie *AzureTrafficManagerEndpointConfig Dodaj* dla każdego wystąpienia poszczególnych aplikacji.</span><span class="sxs-lookup"><span data-stu-id="c0968-162">Notice how there is one call to *Add-AzureTrafficManagerEndpointConfig* for each individual app instance.</span></span>  <span data-ttu-id="c0968-163">*Element TargetResourceId* parametr w każdej polecenia programu Powershell odwołuje się do jednego z trzech wystąpień wdrożonej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="c0968-163">The *TargetResourceId* parameter in each Powershell command references one of the three deployed app instances.</span></span>  <span data-ttu-id="c0968-164">Profil Menedżera ruchu zostaną rozkładu obciążenia we wszystkich trzech punktów końcowych w zarejestrowany w profilu.</span><span class="sxs-lookup"><span data-stu-id="c0968-164">The Traffic Manager profile will spread load across all three endpoints registered in the profile.</span></span>

<span data-ttu-id="c0968-165">Wszystkie trzy punkty końcowe używać tej samej wartości (10) dla *wagi* parametru.</span><span class="sxs-lookup"><span data-stu-id="c0968-165">All of the three endpoints use the same value (10) for the *Weight* parameter.</span></span>  <span data-ttu-id="c0968-166">W efekcie żądania klientów rozmieszczania Menedżer ruchu we wszystkich wystąpieniach aplikacji trzy równomierne.</span><span class="sxs-lookup"><span data-stu-id="c0968-166">This results in Traffic Manager spreading customer requests across all three app instances relatively evenly.</span></span> 

## <a name="pointing-the-apps-custom-domain-at-the-traffic-manager-domain"></a><span data-ttu-id="c0968-167">Wskazuje domeny niestandardowej aplikacji na domeny usługi Traffic Manager</span><span class="sxs-lookup"><span data-stu-id="c0968-167">Pointing the App's Custom Domain at the Traffic Manager Domain</span></span>
<span data-ttu-id="c0968-168">Ostatnim krokiem niezbędne jest punkt domeny niestandardowej aplikacji na domeny usługi Traffic Manager.</span><span class="sxs-lookup"><span data-stu-id="c0968-168">The final step necessary is to point the custom domain of the app at the Traffic Manager domain.</span></span>  <span data-ttu-id="c0968-169">Przykładowa aplikacja oznacza to wskazanie *www.scalableasedemo.com* w *skalowalne demo.trafficmanager.net ase*.</span><span class="sxs-lookup"><span data-stu-id="c0968-169">For the sample app this means pointing *www.scalableasedemo.com* at *scalable-ase-demo.trafficmanager.net*.</span></span>  <span data-ttu-id="c0968-170">Ten krok musi być przeprowadzona za rejestratora domen, która zarządza domeny niestandardowej.</span><span class="sxs-lookup"><span data-stu-id="c0968-170">This step needs to be completed with the domain registrar that manages the custom domain.</span></span>  

<span data-ttu-id="c0968-171">Rekord CNAME przy użyciu narzędzia do zarządzania rejestratora domen, rejestruje potrzeb ma zostać utworzony, który wskazuje domeny niestandardowej domeny usługi Traffic Manager.</span><span class="sxs-lookup"><span data-stu-id="c0968-171">Using your registrar's domain management tools, a CNAME records needs to be created which points the custom domain at the Traffic Manager domain.</span></span>  <span data-ttu-id="c0968-172">Na ilustracji poniżej przedstawiono przykład konfiguracji tego CNAME wygląda następująco:</span><span class="sxs-lookup"><span data-stu-id="c0968-172">The picture below shows an example of what this CNAME configuration looks like:</span></span>

![CNAME dla domeny niestandardowej][CNAMEforCustomDomain] 

<span data-ttu-id="c0968-174">Mimo że nie omówione w tym temacie, należy pamiętać, że każde wystąpienie poszczególnych aplikacji musi mieć domeny niestandardowej również zarejestrowany z nim.</span><span class="sxs-lookup"><span data-stu-id="c0968-174">Although not covered in this topic, remember that each individual app instance needs to have the custom domain registered with it as well.</span></span>  <span data-ttu-id="c0968-175">W przeciwnym razie żądania ułatwia do wystąpienia aplikacji, a aplikacja nie ma domeny niestandardowej zarejestrowany z aplikacją, żądanie zakończy się niepowodzeniem.</span><span class="sxs-lookup"><span data-stu-id="c0968-175">Otherwise if a request makes it to an app instance, and the application does not have the custom domain registered with the app, the request will fail.</span></span>  

<span data-ttu-id="c0968-176">W tym przykładzie domena niestandardowa jest *www.scalableasedemo.com*, i każdego wystąpienia aplikacji ma domeny niestandardowej skojarzonych z nim.</span><span class="sxs-lookup"><span data-stu-id="c0968-176">In this example the custom domain is *www.scalableasedemo.com*, and each application instance has the custom domain associated with it.</span></span>

![Domena niestandardowa][CustomDomain] 

<span data-ttu-id="c0968-178">Dla drużyn z rejestrowania domeny niestandardowej z aplikacjami Azure App Service, zobacz następujący artykuł w [rejestracji domen niestandardowych][RegisterCustomDomain].</span><span class="sxs-lookup"><span data-stu-id="c0968-178">For a recap of of registering a custom domain with Azure App Service apps, see the following article on [registering custom domains][RegisterCustomDomain].</span></span>

## <a name="trying-out-the-distributed-topology"></a><span data-ttu-id="c0968-179">Testuje topologii rozproszonej</span><span class="sxs-lookup"><span data-stu-id="c0968-179">Trying out the Distributed Topology</span></span>
<span data-ttu-id="c0968-180">Wynik końcowy Menedżera ruchu i DNS konfiguracji jest, która zażąda *www.scalableasedemo.com* będą przepływać do następującej:</span><span class="sxs-lookup"><span data-stu-id="c0968-180">The end result of the Traffic Manager and DNS configuration is that requests for *www.scalableasedemo.com* will flow through the following sequence:</span></span>

1. <span data-ttu-id="c0968-181">Przeglądarki lub urządzenia spowoduje wyszukiwania DNS *www.scalableasedemo.com*</span><span class="sxs-lookup"><span data-stu-id="c0968-181">A browser or device will make a DNS lookup for *www.scalableasedemo.com*</span></span>
2. <span data-ttu-id="c0968-182">Wyszukiwanie DNS, aby zostać przekierowane do usługi Azure Traffic Manager powoduje, że wpis CNAME u rejestratora domen.</span><span class="sxs-lookup"><span data-stu-id="c0968-182">The CNAME entry at the domain registrar causes the DNS lookup to be redirected to Azure Traffic Manager.</span></span>
3. <span data-ttu-id="c0968-183">Wyszukiwania DNS jest przewidzieć *skalowalne demo.trafficmanager.net ase* na jednym z serwerów DNS Menedżera ruchu Azure.</span><span class="sxs-lookup"><span data-stu-id="c0968-183">A DNS lookup is made for *scalable-ase-demo.trafficmanager.net* against one of the Azure Traffic Manager DNS servers.</span></span>
4. <span data-ttu-id="c0968-184">Oparte na zasadach równoważenia obciążenia ( *TrafficRoutingMethod* parametru użytego wcześniej podczas tworzenia profilu usługi Traffic Manager), Menedżera ruchu zostaną wybierz jedną z skonfigurowanych punktów końcowych i zwraca nazwę FQDN tego punktu końcowego przeglądarki lub urządzenia.</span><span class="sxs-lookup"><span data-stu-id="c0968-184">Based on the load balancing policy (the *TrafficRoutingMethod* parameter used earlier when creating the Traffic Manager profile), Traffic Manager will select one of the configured endpoints and return the FQDN of that endpoint to the browser or device.</span></span>
5. <span data-ttu-id="c0968-185">Ponieważ nazwy FQDN punktu końcowego jest adres Url wystąpienia aplikacji uruchomionych na środowisku usługi aplikacji, przeglądarki lub urządzenie zapyta, serwer DNS Azure firmy Microsoft, aby rozpoznać nazwę FQDN jako adres IP.</span><span class="sxs-lookup"><span data-stu-id="c0968-185">Since the FQDN of the endpoint is the Url of an app instance running on an App Service Environment, the browser or device will ask a Microsoft Azure DNS server to resolve the FQDN to an IP address.</span></span> 
6. <span data-ttu-id="c0968-186">Przeglądarki lub urządzenie będzie wysyłać żądania HTTP/S do adresu IP.</span><span class="sxs-lookup"><span data-stu-id="c0968-186">The browser or device will send the HTTP/S request to the IP address.</span></span>  
7. <span data-ttu-id="c0968-187">Żądanie pojawią się w jednym z wystąpień aplikacji uruchomionych na jeden z tych środowisk usługi aplikacji.</span><span class="sxs-lookup"><span data-stu-id="c0968-187">The request will arrive at one of the app instances running on one of the App Service Environments.</span></span>

<span data-ttu-id="c0968-188">Obraz konsoli poniżej przedstawia wyszukiwania DNS dla domeny niestandardowej przykładowej aplikacji, rozwiązania do wystąpienia aplikacji uruchomionych na jeden z trzech środowiska usługi aplikacji przykładowej (w tym przypadku drugi trzy środowiska usługi aplikacji):</span><span class="sxs-lookup"><span data-stu-id="c0968-188">The console picture below shows a DNS lookup for the sample app's custom domain successfully resolving to an app instance running on one of the three sample App Service Environments (in this case the second of the three App Service Environments):</span></span>

![Wyszukiwania DNS][DNSLookup] 

## <a name="additional-links-and-information"></a><span data-ttu-id="c0968-190">Linki do dodatkowych i informacji</span><span class="sxs-lookup"><span data-stu-id="c0968-190">Additional Links and Information</span></span>
<span data-ttu-id="c0968-191">Wszystkie artykuły i w jaki sposób — do użytkownika dla środowiska usługi aplikacji są dostępne w [Plik README dla środowiska usługi aplikacji](../app-service/app-service-app-service-environments-readme.md).</span><span class="sxs-lookup"><span data-stu-id="c0968-191">All articles and How-To's for App Service Environments are available in the [README for Application Service Environments](../app-service/app-service-app-service-environments-readme.md).</span></span>

<span data-ttu-id="c0968-192">Dokumentacja programu Powershell [pomocy technicznej usługi Azure Resource Manager Traffic Manager][ARMTrafficManager].</span><span class="sxs-lookup"><span data-stu-id="c0968-192">Documentation on the Powershell [Azure Resource Manager Traffic Manager support][ARMTrafficManager].</span></span>  

[!INCLUDE [app-service-web-whats-changed](../../includes/app-service-web-whats-changed.md)]

[!INCLUDE [app-service-web-try-app-service](../../includes/app-service-web-try-app-service.md)]

<!-- LINKS -->
[AzureTrafficManagerProfile]: ../traffic-manager/traffic-manager-manage-profiles.md
[ARMTrafficManager]: ../traffic-manager/traffic-manager-powershell-arm.md
[RegisterCustomDomain]: app-service-web-tutorial-custom-domain.md


<!-- IMAGES -->
[ConceptualArchitecture]: ./media/app-service-app-service-environment-geo-distributed-scale/ConceptualArchitecture-1.png
[CNAMEforCustomDomain]:  ./media/app-service-app-service-environment-geo-distributed-scale/CNAMECustomDomain-1.png
[DNSLookup]:  ./media/app-service-app-service-environment-geo-distributed-scale/DNSLookup-1.png
[CustomDomain]:  ./media/app-service-app-service-environment-geo-distributed-scale/CustomDomain-1.png 
