---
title: "aaaBest rozwiązań i w podręczniku rozwiązywania problemów z węzła aplikacje aplikacji sieci Web Azure"
description: "Dowiedz się hello najlepszych rozwiązań i kroki rozwiązywania problemów z węzła aplikacje na platformie Azure aplikacje sieci Web."
services: app-service\web
documentationcenter: nodejs
author: ranjithr
manager: wadeh
editor: 
ms.assetid: 387ea217-7910-4468-8987-9a1022a99bef
ms.service: app-service-web
ms.workload: web
ms.tgt_pltfrm: na
ms.devlang: nodejs
ms.topic: article
ms.date: 06/06/2016
ms.author: ranjithr
ms.openlocfilehash: 975898142a224f14df1091a46d16e9074d9e2831
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="best-practices-and-troubleshooting-guide-for-node-applications-on-azure-web-apps"></a><span data-ttu-id="ac831-103">Najlepsze rozwiązania i w podręczniku rozwiązywania problemów z węzła aplikacje aplikacji sieci Web Azure</span><span class="sxs-lookup"><span data-stu-id="ac831-103">Best practices and troubleshooting guide for node applications on Azure Web Apps</span></span>
[!INCLUDE [tabs](../../includes/app-service-web-get-started-nav-tabs.md)]

<span data-ttu-id="ac831-104">W tym artykule dowiesz się hello najlepszych rozwiązań i kroki rozwiązywania problemów z [węzła aplikacje](app-service-web-get-started-nodejs.md) systemem Azure Webapps (z [iisnode](https://github.com/azure/iisnode)).</span><span class="sxs-lookup"><span data-stu-id="ac831-104">In this article, you will learn hello best practices and troubleshooting steps for [node applications](app-service-web-get-started-nodejs.md) running on Azure Webapps (with [iisnode](https://github.com/azure/iisnode)).</span></span>

> [!WARNING]
> <span data-ttu-id="ac831-105">Przy użyciu kroków w swojej witrynie produkcji, należy zachować ostrożność.</span><span class="sxs-lookup"><span data-stu-id="ac831-105">Use caution when using troubleshooting steps on your production site.</span></span> <span data-ttu-id="ac831-106">Zalecane jest tootroubleshoot aplikacji na nieprodukcyjnych na przykład skonfigurować Twoje miejsce wystawiania i gdy problemu hello wymiany Twoje miejsce wystawiania z Twojego miejsca produkcji.</span><span class="sxs-lookup"><span data-stu-id="ac831-106">Recommendation is tootroubleshoot your app on a non-production setup for example your staging slot and when hello issue is fixed, swap your staging slot with your production slot.</span></span>
> 
> 

## <a name="iisnode-configuration"></a><span data-ttu-id="ac831-107">Konfiguracja programu IISNODE</span><span class="sxs-lookup"><span data-stu-id="ac831-107">IISNODE configuration</span></span>
<span data-ttu-id="ac831-108">To [pliku schematu](https://github.com/Azure/iisnode/blob/master/src/config/iisnode_schema_x64.xml) zawiera wszystkie ustawienia hello, które można skonfigurować dla programu iisnode.</span><span class="sxs-lookup"><span data-stu-id="ac831-108">This [schema file](https://github.com/Azure/iisnode/blob/master/src/config/iisnode_schema_x64.xml) shows all hello settings that can be configured for iisnode.</span></span> <span data-ttu-id="ac831-109">Niektóre ustawienia hello, które będą przydatne w przypadku aplikacji są:</span><span class="sxs-lookup"><span data-stu-id="ac831-109">Some of hello settings that will be useful for your application are:</span></span>

* <span data-ttu-id="ac831-110">nodeProcessCountPerApplication</span><span class="sxs-lookup"><span data-stu-id="ac831-110">nodeProcessCountPerApplication</span></span>
  
    <span data-ttu-id="ac831-111">To ustawienie określa hello liczbę procesów węzła, które będą uruchamiane na aplikacji usług IIS.</span><span class="sxs-lookup"><span data-stu-id="ac831-111">This setting controls hello number of node processes that are launched per IIS application.</span></span> <span data-ttu-id="ac831-112">Wartość domyślna to 1.</span><span class="sxs-lookup"><span data-stu-id="ac831-112">Default value is 1.</span></span> <span data-ttu-id="ac831-113">Przez ustawienie to too0 można uruchomić dowolną liczbę node.exe jako liczba rdzeni sieci maszyn wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="ac831-113">You can launch as many node.exe’s as your VM core count by setting this too0.</span></span> <span data-ttu-id="ac831-114">Zalecana wartość to 0 dla większości aplikacji, więc można korzystać ze wszystkich rdzeni hello na tym komputerze.</span><span class="sxs-lookup"><span data-stu-id="ac831-114">Recommended value is 0 for most application so you can utilize all of hello cores on your machine.</span></span> <span data-ttu-id="ac831-115">Node.exe jest pojedynczym wątku, co node.exe będą korzystać z maksymalnie 1 rdzeni i tooget maksymalną wydajność poza węzeł aplikacji warto tooutilize wszystkich rdzeni.</span><span class="sxs-lookup"><span data-stu-id="ac831-115">Node.exe is single threaded so one node.exe will consume a maximum of 1 core and tooget maximum performance out of your node application you would want tooutilize all cores.</span></span>
* <span data-ttu-id="ac831-116">nodeProcessCommandLine</span><span class="sxs-lookup"><span data-stu-id="ac831-116">nodeProcessCommandLine</span></span>
  
    <span data-ttu-id="ac831-117">To ustawienie określa hello ścieżki toohello node.exe.</span><span class="sxs-lookup"><span data-stu-id="ac831-117">This setting controls hello path toohello node.exe.</span></span> <span data-ttu-id="ac831-118">Można ustawić tej wartości toopoint tooyour node.exe wersji.</span><span class="sxs-lookup"><span data-stu-id="ac831-118">You can set this value toopoint tooyour node.exe version.</span></span>
* <span data-ttu-id="ac831-119">maxConcurrentRequestsPerProcess</span><span class="sxs-lookup"><span data-stu-id="ac831-119">maxConcurrentRequestsPerProcess</span></span>
  
    <span data-ttu-id="ac831-120">To ustawienie określa maksymalną liczbę równoczesnych żądań wysłanych przez program iisnode tooeach node.exe hello.</span><span class="sxs-lookup"><span data-stu-id="ac831-120">This setting controls hello maximum number of concurrent requests sent by iisnode tooeach node.exe.</span></span> <span data-ttu-id="ac831-121">Na używanie azure hello wartość domyślna to jest bez ograniczeń czasowych.</span><span class="sxs-lookup"><span data-stu-id="ac831-121">On azure webapps, hello default value for this is Infinite.</span></span> <span data-ttu-id="ac831-122">Nie trzeba tooworry o tym ustawieniu.</span><span class="sxs-lookup"><span data-stu-id="ac831-122">You will not have tooworry about this setting.</span></span> <span data-ttu-id="ac831-123">Poza azure webapps hello wartość domyślna to 1024.</span><span class="sxs-lookup"><span data-stu-id="ac831-123">Outside azure webapps, hello default value is 1024.</span></span> <span data-ttu-id="ac831-124">Możesz tooconfigure, który pobiera to w zależności od tego, ile żądań aplikacji i tempa aplikacji przetwarzania każdego żądania.</span><span class="sxs-lookup"><span data-stu-id="ac831-124">You might want tooconfigure this depending on how many requests your application gets and how fast your application processes each request.</span></span>
* <span data-ttu-id="ac831-125">maxNamedPipeConnectionRetry</span><span class="sxs-lookup"><span data-stu-id="ac831-125">maxNamedPipeConnectionRetry</span></span>
  
    <span data-ttu-id="ac831-126">To ustawienie określa maksymalną liczbę razy iisnode ponowi próbę połączenia wprowadzania na powitania o nazwie potoku toosend hello żądanie za pośrednictwem toonode.exe hello.</span><span class="sxs-lookup"><span data-stu-id="ac831-126">This setting controls hello maximum number of times iisnode will retry making connection on hello named pipe toosend hello request over toonode.exe.</span></span> <span data-ttu-id="ac831-127">To ustawienie w połączeniu z namedPipeConnectionRetryDelay określa hello łącznego limitu czasu każdego żądania w ramach programu iisnode.</span><span class="sxs-lookup"><span data-stu-id="ac831-127">This setting in combination with namedPipeConnectionRetryDelay determines hello total timeout of each request within iisnode.</span></span> <span data-ttu-id="ac831-128">Wartość domyślna to 200 na używanie usługi Azure.</span><span class="sxs-lookup"><span data-stu-id="ac831-128">Default value is 200 on Azure Webapps.</span></span> <span data-ttu-id="ac831-129">Całkowity limit czasu w sekundach = (maxNamedPipeConnectionRetry \* namedPipeConnectionRetryDelay) / 1000</span><span class="sxs-lookup"><span data-stu-id="ac831-129">Total Timeout in seconds = (maxNamedPipeConnectionRetry \* namedPipeConnectionRetryDelay) / 1000</span></span>
* <span data-ttu-id="ac831-130">namedPipeConnectionRetryDelay</span><span class="sxs-lookup"><span data-stu-id="ac831-130">namedPipeConnectionRetryDelay</span></span>
  
    <span data-ttu-id="ac831-131">Ustawienie formanty hello ilość czasu (w ms) iisnode będzie oczekiwał na między każdego toonode.exe żądania toosend ponów próbę za pośrednictwem hello nazwany potok.</span><span class="sxs-lookup"><span data-stu-id="ac831-131">This setting controls hello amount of time (in ms) iisnode will wait for between each retry toosend request toonode.exe over hello named pipe.</span></span> <span data-ttu-id="ac831-132">Wartość domyślna to 250ms.</span><span class="sxs-lookup"><span data-stu-id="ac831-132">Default value is 250ms.</span></span>
    <span data-ttu-id="ac831-133">Całkowity limit czasu w sekundach = (maxNamedPipeConnectionRetry \* namedPipeConnectionRetryDelay) / 1000</span><span class="sxs-lookup"><span data-stu-id="ac831-133">Total Timeout in seconds = (maxNamedPipeConnectionRetry \* namedPipeConnectionRetryDelay) / 1000</span></span>
  
    <span data-ttu-id="ac831-134">Domyślnie hello łącznego limitu czasu w iisnode na używanie azure to 200 \* 250ms = 50 sekund.</span><span class="sxs-lookup"><span data-stu-id="ac831-134">By default hello total timeout in iisnode on azure webapps is 200 \* 250ms = 50 seconds.</span></span>
* <span data-ttu-id="ac831-135">logDirectory</span><span class="sxs-lookup"><span data-stu-id="ac831-135">logDirectory</span></span>
  
    <span data-ttu-id="ac831-136">To ustawienie określa, gdzie iisnode będzie rejestrować stdout/stderr katalogu hello.</span><span class="sxs-lookup"><span data-stu-id="ac831-136">This setting controls hello directory where iisnode will log stdout/stderr.</span></span> <span data-ttu-id="ac831-137">Wartość domyślna to iisnode, który jest katalogiem głównym skryptu względną toohello (gdzie występuje server.js głównego katalogu)</span><span class="sxs-lookup"><span data-stu-id="ac831-137">Default value is iisnode which is relative toohello main script directory (directory where main server.js is present)</span></span>
* <span data-ttu-id="ac831-138">debuggerExtensionDll</span><span class="sxs-lookup"><span data-stu-id="ac831-138">debuggerExtensionDll</span></span>
  
    <span data-ttu-id="ac831-139">To ustawienie określa, jakie wersji narzędzia node-inspector iisnode będzie używany podczas debugowania aplikacji węzła.</span><span class="sxs-lookup"><span data-stu-id="ac831-139">This setting controls what version of node-inspector iisnode will use when debugging your node application.</span></span> <span data-ttu-id="ac831-140">Obecnie iisnode inspektora 0.7.3.dll i iisnode inspector.dll są hello 2 tylko prawidłowe wartości dla tego ustawienia.</span><span class="sxs-lookup"><span data-stu-id="ac831-140">Currently iisnode-inspector-0.7.3.dll and iisnode-inspector.dll are hello only 2 valid values for this setting.</span></span> <span data-ttu-id="ac831-141">Wartość domyślna to iisnode inspektora 0.7.3.dll.</span><span class="sxs-lookup"><span data-stu-id="ac831-141">Default value is iisnode-inspector-0.7.3.dll.</span></span> <span data-ttu-id="ac831-142">wersja programu iisnode inspektora 0.7.3.dll używa 0.7.3-node-inspector i używa protokołu websocket, więc należy tooenable websocket w Twojej aplikacji sieci Web azure toouse tej wersji.</span><span class="sxs-lookup"><span data-stu-id="ac831-142">iisnode-inspector-0.7.3.dll version uses node-inspector-0.7.3 and uses websockets, so you will need tooenable websockets on your azure webapp toouse this version.</span></span> <span data-ttu-id="ac831-143">Zobacz <http://www.ranjithr.com/?p=98> uzyskać więcej informacji dotyczących sposobu tooconfigure iisnode toouse hello nowe narzędzia node-inspector.</span><span class="sxs-lookup"><span data-stu-id="ac831-143">See <http://www.ranjithr.com/?p=98> for more details on how tooconfigure iisnode toouse hello new node-inspector.</span></span>
* <span data-ttu-id="ac831-144">flushResponse</span><span class="sxs-lookup"><span data-stu-id="ac831-144">flushResponse</span></span>
  
    <span data-ttu-id="ac831-145">Witaj domyślne zachowanie usług IIS nie buforuje dane odpowiedzi na górę too4MB przed opróżnianie, lub do końca hello hello odpowiedzi, zależnie od zostanie osiągnięty jako pierwszy.</span><span class="sxs-lookup"><span data-stu-id="ac831-145">hello default behavior of IIS is that it buffers response data up too4MB before flushing, or until hello end of hello response, whichever comes first.</span></span> <span data-ttu-id="ac831-146">iisnode oferuje ustawienie toooverride to zachowanie konfiguracji: tooflush fragment treści jednostki hello odpowiedź tak szybko, jak program iisnode odbiera on z node.exe należy tooset hello iisnode/@flushResponse atrybutu w pliku web.config too'true ":</span><span class="sxs-lookup"><span data-stu-id="ac831-146">iisnode offers a configuration setting toooverride this behavior: tooflush a fragment of hello response entity body as soon as iisnode receives it from node.exe, you need tooset hello iisnode/@flushResponse attribute in web.config too'true':</span></span>
  
    ```
    <configuration>    
        <system.webServer>    
            <!-- ... -->    
            <iisnode flushResponse="true" />    
        </system.webServer>    
    </configuration>
    ```
  
    <span data-ttu-id="ac831-147">Włączanie opróżnianie każdego fragmentu treść jednostki odpowiedzi hello zwiększa wydajność ograniczającą przepływności hello hello systemu % ~ 5 (począwszy od v0.1.13), dlatego najlepszym tooscope tego tooendpoints tylko ustawienie, które wymagają odpowiedzi przesyłania strumieniowego (np. przy użyciu hello <location> elementu w pliku web.config hello)</span><span class="sxs-lookup"><span data-stu-id="ac831-147">Enabling flushing of every fragment of hello response entity body adds performance overhead that reduces hello throughput of hello system by ~5% (as of v0.1.13), so it is best tooscope this setting only tooendpoints that require response streaming (e.g. using hello <location> element in hello web.config)</span></span>
  
    <span data-ttu-id="ac831-148">W toothis dodanie do przesyłania strumieniowego aplikacji, konieczne będzie tooalso responseBufferLimit zestawu z programu iisnode too0 programu obsługi.</span><span class="sxs-lookup"><span data-stu-id="ac831-148">In addition toothis, for streaming applications, you will need tooalso set responseBufferLimit of your iisnode handler too0.</span></span>
  
    ```
    <handlers>    
        <add name="iisnode" path="app.js" verb="\*" modules="iisnode" responseBufferLimit="0"/>    
    </handlers>
    ```
* <span data-ttu-id="ac831-149">watchedFiles</span><span class="sxs-lookup"><span data-stu-id="ac831-149">watchedFiles</span></span>
  
    <span data-ttu-id="ac831-150">Jest to rozdzielana średnikami lista plików, które będą monitorowane zmian.</span><span class="sxs-lookup"><span data-stu-id="ac831-150">This is a semi-colon separated list of files that will be watched for changes.</span></span> <span data-ttu-id="ac831-151">Zmienianie pliku tooa powoduje, że toorecycle aplikacji hello.</span><span class="sxs-lookup"><span data-stu-id="ac831-151">A change tooa file causes hello application toorecycle.</span></span> <span data-ttu-id="ac831-152">Każdy wpis składa się z nazwy katalogu opcjonalne i nazwy wymaganego pliku, która są katalog toohello względny, w którym znajduje się punkt wejścia aplikacji głównej hello.</span><span class="sxs-lookup"><span data-stu-id="ac831-152">Each entry consists of an optional directory name plus required file name which are relative toohello directory where hello main application entry point is located.</span></span> <span data-ttu-id="ac831-153">Symbole wieloznaczne są dozwolone w tylko część nazwy pliku hello.</span><span class="sxs-lookup"><span data-stu-id="ac831-153">Wild cards are allowed in hello file name portion only.</span></span> <span data-ttu-id="ac831-154">Wartość domyślna to "\*. js;web.config"</span><span class="sxs-lookup"><span data-stu-id="ac831-154">Default value is “\*.js;web.config”</span></span>
* <span data-ttu-id="ac831-155">recycleSignalEnabled</span><span class="sxs-lookup"><span data-stu-id="ac831-155">recycleSignalEnabled</span></span>
  
    <span data-ttu-id="ac831-156">Wartość domyślna to false.</span><span class="sxs-lookup"><span data-stu-id="ac831-156">Default value is false.</span></span> <span data-ttu-id="ac831-157">U możliwia aplikacji węzła można połączyć tooa nazwany potok (zmienną środowiskową IISNODE\_kontroli\_POTOKU) i wysłać wiadomość "odtworzenia".</span><span class="sxs-lookup"><span data-stu-id="ac831-157">If enabled, your node application can connect tooa named pipe (environment variable IISNODE\_CONTROL\_PIPE) and send a “recycle” message.</span></span> <span data-ttu-id="ac831-158">Spowoduje to hello w3wp toorecycle bezpiecznie zamknąć.</span><span class="sxs-lookup"><span data-stu-id="ac831-158">This will cause hello w3wp toorecycle gracefully.</span></span>
* <span data-ttu-id="ac831-159">idlePageOutTimePeriod</span><span class="sxs-lookup"><span data-stu-id="ac831-159">idlePageOutTimePeriod</span></span>
  
    <span data-ttu-id="ac831-160">Wartość domyślna to 0, co oznacza, że ta funkcja jest wyłączona.</span><span class="sxs-lookup"><span data-stu-id="ac831-160">Default value is 0 which means this feature is disabled.</span></span> <span data-ttu-id="ac831-161">Gdy zestaw toosome wartość większą niż 0, iisnode będzie strony się jego podrzędny przetwarza co milisekund "idlePageOutTimePeriod".</span><span class="sxs-lookup"><span data-stu-id="ac831-161">When set toosome value greater than 0, iisnode will page out all its child processes every ‘idlePageOutTimePeriod’ milliseconds.</span></span> <span data-ttu-id="ac831-162">toounderstand co strony limit oznacza, zobacz toothis [dokumentacji](https://msdn.microsoft.com/library/windows/desktop/ms682606.aspx).</span><span class="sxs-lookup"><span data-stu-id="ac831-162">toounderstand what page out means, please refer toothis [documentation](https://msdn.microsoft.com/library/windows/desktop/ms682606.aspx).</span></span> <span data-ttu-id="ac831-163">To ustawienie będzie przydatna dla aplikacji, które zużywają dużej ilości pamięci i mają toodisk pamięci toopageout czasami toofree pamięć RAM niektórych.</span><span class="sxs-lookup"><span data-stu-id="ac831-163">This setting will be useful for applications that consume a lot of memory and want toopageout memory toodisk occasionally toofree up some RAM.</span></span>

> [!WARNING]
> <span data-ttu-id="ac831-164">Należy zachować ostrożność podczas włączania hello następujące ustawienia konfiguracji w przypadku aplikacji produkcyjnej.</span><span class="sxs-lookup"><span data-stu-id="ac831-164">Use caution when enabling hello following configuration settings on production applications.</span></span> <span data-ttu-id="ac831-165">Zalecane jest toonot Włącz aplikacji produkcyjnych na żywo.</span><span class="sxs-lookup"><span data-stu-id="ac831-165">Recommendation is toonot enable them on live production applications.</span></span>
> 
> 

* <span data-ttu-id="ac831-166">debugHeaderEnabled</span><span class="sxs-lookup"><span data-stu-id="ac831-166">debugHeaderEnabled</span></span>
  
    <span data-ttu-id="ac831-167">Witaj wartość domyślna to false.</span><span class="sxs-lookup"><span data-stu-id="ac831-167">hello default value is false.</span></span> <span data-ttu-id="ac831-168">Jeśli wartość tootrue, iisnode doda odpowiedzi nagłówka debugowania programu iisnode tooevery HTTP odpowiedzi HTTP wysyła wartość nagłówka debugowania programu iisnode hello jest adresem URL.</span><span class="sxs-lookup"><span data-stu-id="ac831-168">If set tootrue, iisnode will add an HTTP response header iisnode-debug tooevery HTTP response it sends hello iisnode-debug header value is a URL.</span></span> <span data-ttu-id="ac831-169">Poszczególne informacje diagnostyczne dotyczące można zgromadzone analizując hello fragmentu adresu URL, ale otwierając hello adresu URL w przeglądarce hello uzyskuje się znacznie lepsze wizualizacje.</span><span class="sxs-lookup"><span data-stu-id="ac831-169">Individual pieces of diagnostic information can be gleaned by looking at hello URL fragment, but a much better visualization is achieved by opening hello URL in hello browser.</span></span>
* <span data-ttu-id="ac831-170">loggingEnabled</span><span class="sxs-lookup"><span data-stu-id="ac831-170">loggingEnabled</span></span>
  
    <span data-ttu-id="ac831-171">To ustawienie określa rejestrowanie hello stdout i stderr przez program iisnode.</span><span class="sxs-lookup"><span data-stu-id="ac831-171">This setting controls hello logging of stdout and stderr by iisnode.</span></span> <span data-ttu-id="ac831-172">Iisnode będzie przechwytywać stdout/stderr z procesów węzła, który jest uruchamiany i zapisu katalogu toohello określona w ustawieniu "logDirectory" hello.</span><span class="sxs-lookup"><span data-stu-id="ac831-172">Iisnode will capture stdout/stderr from node processes it launches and write toohello directory specified in hello ‘logDirectory’ setting.</span></span> <span data-ttu-id="ac831-173">Po to jest włączona, aplikacja będzie zapisywania toohello dzienniki w systemie plików, a następnie w zależności od ilości hello rejestrowania programach aplikacji hello, może być wpływ na wydajność.</span><span class="sxs-lookup"><span data-stu-id="ac831-173">Once this is enable, your application will be writing logs toohello file system and depending on hello amount of logging done by hello application, there could be performance implications.</span></span>
* <span data-ttu-id="ac831-174">devErrorsEnabled</span><span class="sxs-lookup"><span data-stu-id="ac831-174">devErrorsEnabled</span></span>
  
    <span data-ttu-id="ac831-175">Wartość domyślna to false.</span><span class="sxs-lookup"><span data-stu-id="ac831-175">Default value is false.</span></span> <span data-ttu-id="ac831-176">Po ustawieniu tootrue, iisnode wyświetli kod stanu hello HTTP i kod błędu Win32 w przeglądarce.</span><span class="sxs-lookup"><span data-stu-id="ac831-176">When set tootrue, iisnode will display hello HTTP status code and Win32 error code on your browser.</span></span> <span data-ttu-id="ac831-177">Kod win32 Hello będzie pomocnych w debugowaniu niektóre rodzaje problemów.</span><span class="sxs-lookup"><span data-stu-id="ac831-177">hello win32 code will be helpful in debugging certain types of issues.</span></span>
* <span data-ttu-id="ac831-178">debuggingEnabled (nie należy włączać w witrynie produkcyjnym)</span><span class="sxs-lookup"><span data-stu-id="ac831-178">debuggingEnabled (do not enable on live production site)</span></span>
  
    <span data-ttu-id="ac831-179">To ustawienie określa funkcja debugowania.</span><span class="sxs-lookup"><span data-stu-id="ac831-179">This setting controls debugging feature.</span></span> <span data-ttu-id="ac831-180">Program Iisnode jest zintegrowany z narzędzia node-inspector.</span><span class="sxs-lookup"><span data-stu-id="ac831-180">Iisnode is integrated with node-inspector.</span></span> <span data-ttu-id="ac831-181">Po włączeniu tego ustawienia, należy włączyć debugowanie aplikacji węzła.</span><span class="sxs-lookup"><span data-stu-id="ac831-181">By enabling this setting, you enable debugging of your node application.</span></span> <span data-ttu-id="ac831-182">Po włączeniu tego ustawienia program iisnode będzie układu hello niezbędne narzędzia node-inspector plików w katalogu "debuggerVirtualDir" na powitania pierwszej debugowania żądania tooyour węzła aplikacji.</span><span class="sxs-lookup"><span data-stu-id="ac831-182">Once this setting is enabled, iisnode will layout hello necessary node-inspector files in ‘debuggerVirtualDir’ directory on hello first debug request tooyour node application.</span></span> <span data-ttu-id="ac831-183">Można załadować narzędzia node-inspector hello wysyłając toohttp://yoursite/server.js/debug żądania.</span><span class="sxs-lookup"><span data-stu-id="ac831-183">You can load hello node-inspector by sending a request toohttp://yoursite/server.js/debug.</span></span> <span data-ttu-id="ac831-184">Segment adresu URL debugowania hello można kontrolować z ustawieniem "debuggerPathSegment".</span><span class="sxs-lookup"><span data-stu-id="ac831-184">You can control hello debug URL segment with ‘debuggerPathSegment’ setting.</span></span> <span data-ttu-id="ac831-185">Domyślne debuggerPathSegment = "debugowanie".</span><span class="sxs-lookup"><span data-stu-id="ac831-185">By default debuggerPathSegment=’debug’.</span></span> <span data-ttu-id="ac831-186">Ta tooa identyfikator GUID, na przykład można ustawić tak, aby trudniejsze toobe odnalezione przez innych użytkowników.</span><span class="sxs-lookup"><span data-stu-id="ac831-186">You can set this tooa GUID for example so that it is more difficult toobe discovered by others.</span></span>
  
    <span data-ttu-id="ac831-187">Sprawdź [łącze](https://tomasz.janczuk.org/2011/11/debug-nodejs-applications-on-windows.html) uzyskać więcej informacji dotyczących debugowania.</span><span class="sxs-lookup"><span data-stu-id="ac831-187">Check this [link](https://tomasz.janczuk.org/2011/11/debug-nodejs-applications-on-windows.html) for more details on debugging.</span></span>

## <a name="scenarios-and-recommendationstroubleshooting"></a><span data-ttu-id="ac831-188">Scenariusze i zalecenia/Rozwiązywanie problemów</span><span class="sxs-lookup"><span data-stu-id="ac831-188">Scenarios and recommendations/troubleshooting</span></span>
### <a name="my-node-application-is-making-too-many-outbound-calls"></a><span data-ttu-id="ac831-189">Moja aplikacja węzła jest wprowadzenie zbyt wiele wywołań wychodzących.</span><span class="sxs-lookup"><span data-stu-id="ac831-189">My node application is making too many outbound calls.</span></span>
<span data-ttu-id="ac831-190">Wiele aplikacji warto toomake połączeń wychodzących, w ramach ich regularnych operacji.</span><span class="sxs-lookup"><span data-stu-id="ac831-190">Many applications would want toomake outbound connections as part of their regular operation.</span></span> <span data-ttu-id="ac831-191">Na przykład gdy nadejdzie żądanie, aplikację węzła czy mają toocontact interfejsu API REST w innym miejscu i pobrać niektóre informacje tooprocess hello żądania.</span><span class="sxs-lookup"><span data-stu-id="ac831-191">For example, when a request comes in, your node app would want toocontact a REST API elsewhere and get some information tooprocess hello request.</span></span> <span data-ttu-id="ac831-192">Czy chcesz toouse agenta keep alive wywołania protokołu http lub https.</span><span class="sxs-lookup"><span data-stu-id="ac831-192">You would want toouse a keep alive agent when making http or https calls.</span></span> <span data-ttu-id="ac831-193">Można na przykład użyć modułu agentkeepalive hello jako keep alive agenta, podczas wprowadzania tych wywołań wychodzących.</span><span class="sxs-lookup"><span data-stu-id="ac831-193">For example, you could use hello agentkeepalive module as your keep alive agent when making these outbound calls.</span></span> <span data-ttu-id="ac831-194">Dzięki temu się upewnić, że hello sockets są ponownie w tej aplikacji sieci Web azure maszyny Wirtualnej i zmniejszenie obciążenia hello tworzenia nowych gniazd dla każdego żądania wychodzącego.</span><span class="sxs-lookup"><span data-stu-id="ac831-194">This makes sure that hello sockets are reused on your azure webapp VM and reducing hello overhead of creating new sockets for every outbound request.</span></span> <span data-ttu-id="ac831-195">Dzięki temu też się upewnić, że używasz mniejszą liczbę toomake sockets wiele żądań wychodzących i dlatego nie przekraczają ustawienie maxSockets hello, które są przydzielone dla maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="ac831-195">Also, this makes sure that you are using less number of sockets toomake many outbound requests and therefore you don’t exceed hello maxSockets that are allocated per VM.</span></span> <span data-ttu-id="ac831-196">Zalecenie dotyczące Azure Webapps mogą być ustawienie maxSockets agentKeepAlive hello tooset wartości całkowitej tooa 160 gniazd dla maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="ac831-196">Recommendation on Azure Webapps would be tooset hello agentKeepAlive maxSockets value tooa total of 160 sockets per VM.</span></span> <span data-ttu-id="ac831-197">Oznacza to, że jeśli masz 4 node.exe systemem hello wirtualna byłaby wskazana tooset hello agentKeepAlive ustawienie maxSockets too40 na node.exe czyli 160 całkowita dla maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="ac831-197">This means that if you have 4 node.exe running on hello VM, you would want tooset hello agentKeepAlive maxSockets too40 per node.exe which is 160 total per VM.</span></span>

<span data-ttu-id="ac831-198">Przykład [agentKeepALive](https://www.npmjs.com/package/agentkeepalive) konfiguracji:</span><span class="sxs-lookup"><span data-stu-id="ac831-198">Example [agentKeepALive](https://www.npmjs.com/package/agentkeepalive) configuration:</span></span>

```
var keepaliveAgent = new Agent({    
    maxSockets: 40,    
    maxFreeSockets: 10,    
    timeout: 60000,    
    keepAliveTimeout: 300000    
});
```

<span data-ttu-id="ac831-199">W tym przykładzie przyjęto założenie, że masz 4 node.exe uruchomione na maszynie Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="ac831-199">This example assumes you have 4 node.exe running on your VM.</span></span> <span data-ttu-id="ac831-200">Jeśli masz inną liczbę node.exe systemem hello maszyny Wirtualnej, konieczne będzie ustawienie maxSockets hello toomodify odpowiednio ustawienia.</span><span class="sxs-lookup"><span data-stu-id="ac831-200">If you have a different number of node.exe running on hello VM, you will have toomodify hello maxSockets setting accordingly.</span></span>

### <a name="my-node-application-is-consuming-too-much-cpu"></a><span data-ttu-id="ac831-201">Moja aplikacja węzła zużywa zbyt dużej ilości Procesora.</span><span class="sxs-lookup"><span data-stu-id="ac831-201">My node application is consuming too much CPU.</span></span>
<span data-ttu-id="ac831-202">Zalecenia w Azure Webapps prawdopodobnie zostanie wyświetlony w portalu sieci o wysokie użycie procesora cpu.</span><span class="sxs-lookup"><span data-stu-id="ac831-202">You will probably get a recommendation from Azure Webapps on your portal about high cpu consumption.</span></span> <span data-ttu-id="ac831-203">Możesz również toowatch monitory konfiguracji dla niektórych [metryki](web-sites-monitor.md).</span><span class="sxs-lookup"><span data-stu-id="ac831-203">You can also setup monitors toowatch for certain [metrics](web-sites-monitor.md).</span></span> <span data-ttu-id="ac831-204">Podczas sprawdzania użycia procesora CPU hello na powitania [pulpitu nawigacyjnego portalu Azure](../application-insights/app-insights-web-monitor-performance.md), sprawdź, czy wartości maksymalnej hello procesora CPU, nie zostały pominięte wartości szczytowe hello.</span><span class="sxs-lookup"><span data-stu-id="ac831-204">When checking hello CPU usage on hello [Azure Portal Dashboard](../application-insights/app-insights-web-monitor-performance.md), please check hello MAX values for CPU so you don’t miss out hello peak values.</span></span>
<span data-ttu-id="ac831-205">W przypadkach, gdy uważasz, że aplikacja zużywa zbyt dużej ilości procesora CPU i nie można wyjaśnić, dlaczego należy tooprofile aplikacji węzła.</span><span class="sxs-lookup"><span data-stu-id="ac831-205">In cases where you think your application is consuming too much CPU and you cannot explain why, you will need tooprofile your node application.</span></span>

### 
#### <a name="profiling-your-node-application-on-azure-webapps-with-v8-profiler"></a><span data-ttu-id="ac831-206">Profilowanie aplikacji węzła na używanie azure z V8 profilera</span><span class="sxs-lookup"><span data-stu-id="ac831-206">Profiling your node application on azure webapps with V8-Profiler</span></span>
<span data-ttu-id="ac831-207">Na przykład umożliwia powiedz aplikacja hello world mają tooprofile, jak pokazano poniżej:</span><span class="sxs-lookup"><span data-stu-id="ac831-207">For example, lets say you have a hello world app that you want tooprofile as shown below:</span></span>

```
var http = require('http');    
function WriteConsoleLog() {    
    for(var i=0;i<99999;++i) {    
        console.log('hello world');    
    }    
}

function HandleRequest() {    
    WriteConsoleLog();    
}

http.createServer(function (req, res) {    
    res.writeHead(200, {'Content-Type': 'text/html'});    
    HandleRequest();    
    res.end('Hello world!');    
}).listen(process.env.PORT);
```

<span data-ttu-id="ac831-208">Przejdź tooyour scm lokacji https://yoursite.scm.azurewebsites.net/DebugConsole</span><span class="sxs-lookup"><span data-stu-id="ac831-208">Go tooyour scm site https://yoursite.scm.azurewebsites.net/DebugConsole</span></span>

<span data-ttu-id="ac831-209">Zobaczysz wiersz polecenia, jak pokazano poniżej.</span><span class="sxs-lookup"><span data-stu-id="ac831-209">You will see a command prompt as shown below.</span></span> <span data-ttu-id="ac831-210">Przejdź do katalogu witryny/wwwroot</span><span class="sxs-lookup"><span data-stu-id="ac831-210">Go into your site/wwwroot directory</span></span>

![](./media/app-service-web-nodejs-best-practices-and-troubleshoot-guide/scm_install_v8.png)

<span data-ttu-id="ac831-211">Uruchom polecenie Witaj, "npm install v8 profilera"</span><span class="sxs-lookup"><span data-stu-id="ac831-211">Run hello command “npm install v8-profiler”</span></span>

<span data-ttu-id="ac831-212">To należy instalować programu profilującego v8 w węźle\_modułów katalogu i wszystkich jego zależności.</span><span class="sxs-lookup"><span data-stu-id="ac831-212">This should install v8-profiler under node\_modules directory and all of its dependencies.</span></span>
<span data-ttu-id="ac831-213">Teraz Edytuj tooprofile Twojego server.js aplikacji.</span><span class="sxs-lookup"><span data-stu-id="ac831-213">Now, edit your server.js tooprofile your application.</span></span>

```
var http = require('http');    
var profiler = require('v8-profiler');    
var fs = require('fs');

function WriteConsoleLog() {    
    for(var i=0;i<99999;++i) {    
        console.log('hello world');    
    }    
}

function HandleRequest() {    
    profiler.startProfiling('HandleRequest');    
    WriteConsoleLog();    
    fs.writeFileSync('profile.cpuprofile', JSON.stringify(profiler.stopProfiling('HandleRequest')));    
}

http.createServer(function (req, res) {    
    res.writeHead(200, {'Content-Type': 'text/html'});    
    HandleRequest();    
    res.end('Hello world!');    
}).listen(process.env.PORT);
```

<span data-ttu-id="ac831-214">Hello powyżej zmiany będą profilu hello WriteConsoleLog funkcji, a następnie wpisz hello profilu dane wyjściowe too'profile.cpuprofile "plik w Twojej lokacji wwwroot.</span><span class="sxs-lookup"><span data-stu-id="ac831-214">hello above changes will profile hello WriteConsoleLog function and then write hello profile output too‘profile.cpuprofile’ file under your site wwwroot.</span></span> <span data-ttu-id="ac831-215">Wyślij żądanie tooyour aplikacji.</span><span class="sxs-lookup"><span data-stu-id="ac831-215">Send a request tooyour application.</span></span> <span data-ttu-id="ac831-216">Zostanie wyświetlony plik 'profile.cpuprofile' utworzone na podstawie wwwroot z lokacji.</span><span class="sxs-lookup"><span data-stu-id="ac831-216">You will see a ‘profile.cpuprofile’ file created under your site wwwroot.</span></span>

![](./media/app-service-web-nodejs-best-practices-and-troubleshoot-guide/scm_profile.cpuprofile.png)

<span data-ttu-id="ac831-217">Pobierz ten plik i trzeba będzie tooopen ten plik przy użyciu narzędzia F12 Chrome.</span><span class="sxs-lookup"><span data-stu-id="ac831-217">Download this file and you will need tooopen this file with Chrome F12 Tools.</span></span> <span data-ttu-id="ac831-218">Trafienia F12 na chrome, a następnie kliknij na powitania "Kartę Profile".</span><span class="sxs-lookup"><span data-stu-id="ac831-218">Hit F12 on chrome, then click on hello “Profiles Tab”.</span></span> <span data-ttu-id="ac831-219">Kliknij przycisk "Obciążenia".</span><span class="sxs-lookup"><span data-stu-id="ac831-219">Click on “Load” Button.</span></span> <span data-ttu-id="ac831-220">Wybierz plik profile.cpuprofile, który został pobrany.</span><span class="sxs-lookup"><span data-stu-id="ac831-220">Select your profile.cpuprofile file that you just downloaded.</span></span> <span data-ttu-id="ac831-221">Kliknij profil hello załadowane przed chwilą.</span><span class="sxs-lookup"><span data-stu-id="ac831-221">Click on hello profile you just loaded.</span></span>

![](./media/app-service-web-nodejs-best-practices-and-troubleshoot-guide/chrome_tools_view.png)

<span data-ttu-id="ac831-222">Zobaczysz, że 95% czasu hello została wykorzystana przez WriteConsoleLog funkcji, jak pokazano poniżej.</span><span class="sxs-lookup"><span data-stu-id="ac831-222">You will see that 95% of hello time was consumed by WriteConsoleLog function as shown below.</span></span> <span data-ttu-id="ac831-223">To również zawiera numery wierszy dokładne hello i plików źródłowych, których przyczyną problemu hello.</span><span class="sxs-lookup"><span data-stu-id="ac831-223">This also shows you hello exact line numbers and source files that cause hello issue.</span></span>

### <a name="my-node-application-is-consuming-too-much-memory"></a><span data-ttu-id="ac831-224">Moja aplikacja węzła zużywa zbyt dużej ilości pamięci.</span><span class="sxs-lookup"><span data-stu-id="ac831-224">My node application is consuming too much memory.</span></span>
<span data-ttu-id="ac831-225">Zalecenia w Azure używanie prawdopodobnie zostanie wyświetlony w portalu sieci o duże użycie pamięci.</span><span class="sxs-lookup"><span data-stu-id="ac831-225">You will probably get a recommendation from Azure Webapps on your portal about high memory consumption.</span></span> <span data-ttu-id="ac831-226">Możesz również toowatch monitory konfiguracji dla niektórych [metryki](web-sites-monitor.md).</span><span class="sxs-lookup"><span data-stu-id="ac831-226">You can also setup monitors toowatch for certain [metrics](web-sites-monitor.md).</span></span> <span data-ttu-id="ac831-227">Podczas sprawdzania użycia pamięci hello na powitania [pulpitu nawigacyjnego portalu Azure](../application-insights/app-insights-web-monitor-performance.md), dzięki czemu nie traci wartości szczytowe hello Sprawdź hello wartości maksymalnej pamięci.</span><span class="sxs-lookup"><span data-stu-id="ac831-227">When checking hello memory usage on hello [Azure Portal Dashboard](../application-insights/app-insights-web-monitor-performance.md), please check hello MAX values for memory so you don’t miss out hello peak values.</span></span>

#### <a name="leak-detection-and-heap-diffing-for-nodejs"></a><span data-ttu-id="ac831-228">Wykrywanie przecieków i porównywania sterty dla środowiska node.js</span><span class="sxs-lookup"><span data-stu-id="ac831-228">Leak detection and Heap Diffing for node.js</span></span>
<span data-ttu-id="ac831-229">Można użyć [memwatch węzła](https://github.com/lloyd/node-memwatch) przecieków toohelp zidentyfikować pamięci.</span><span class="sxs-lookup"><span data-stu-id="ac831-229">You could use [node-memwatch](https://github.com/lloyd/node-memwatch) toohelp you identify memory leaks.</span></span>
<span data-ttu-id="ac831-230">Należy zainstalować memwatch podobnie jak profilera v8 i edycji przez użytkownika kod toocapture i różnicowy stosów tooidentify hello wyciek pamięci w aplikacji.</span><span class="sxs-lookup"><span data-stu-id="ac831-230">You can install memwatch just like v8-profiler and edit your code toocapture and diff heaps tooidentify hello memory leaks in your application.</span></span>

### <a name="my-nodeexes-are-getting-killed-randomly"></a><span data-ttu-id="ac831-231">Moje node.exe są pobierania losowo skasowane.</span><span class="sxs-lookup"><span data-stu-id="ac831-231">My node.exe’s are getting killed randomly</span></span>
<span data-ttu-id="ac831-232">Istnieje kilka przyczyn, dlaczego może to występować:</span><span class="sxs-lookup"><span data-stu-id="ac831-232">There are a few reasons why this could be happening:</span></span>

1. <span data-ttu-id="ac831-233">Aplikacji wywołującej nieprzechwyconych wyjątków — d: wyboru Sprawdź\\macierzystego\\LogFiles\\aplikacji\\errors.txt rejestrowania w pliku hello na powitania został zwrócony wyjątek.</span><span class="sxs-lookup"><span data-stu-id="ac831-233">Your application is throwing uncaught exceptions – Please check d:\\home\\LogFiles\\Application\\logging-errors.txt file for hello details on hello exception thrown.</span></span> <span data-ttu-id="ac831-234">Ten plik zawiera hello ślad stosu, można naprawić na podstawie tych aplikacji.</span><span class="sxs-lookup"><span data-stu-id="ac831-234">This file has hello stack trace so you can fix your application based on this.</span></span>
2. <span data-ttu-id="ac831-235">Aplikacja zużywa zbyt dużej ilości pamięci, co ma wpływ na inne procesy z wprowadzenie.</span><span class="sxs-lookup"><span data-stu-id="ac831-235">Your application is consuming too much memory which is affecting other processes from getting started.</span></span> <span data-ttu-id="ac831-236">Hello całkowitej ilości pamięci maszyny Wirtualnej w przypadku zamknięcia too100%, Twoje node.exe można kasować przez hello proces Menedżera toolet inne procesy pracę toodo szansy.</span><span class="sxs-lookup"><span data-stu-id="ac831-236">If hello total VM memory is close too100%, your node.exe’s could be killed by hello process manager toolet other processes get a chance toodo some work.</span></span> <span data-ttu-id="ac831-237">toofix, upewnij się, że aplikacja nie jest przeciek pamięci albo jeśli użytkownik aplikacji musi naprawdę toouse dużej ilości pamięci, należy skalować tooa większych maszyn wirtualnych ze znacznie większą ilość pamięci RAM.</span><span class="sxs-lookup"><span data-stu-id="ac831-237">toofix this, either make sure your application is not leaking memory OR if you application really needs toouse a lot of memory, please scale up tooa larger VM with a lot more RAM.</span></span>

### <a name="my-node-application-does-not-start"></a><span data-ttu-id="ac831-238">Moja aplikacja węzła nie uruchamia.</span><span class="sxs-lookup"><span data-stu-id="ac831-238">My node application does not start</span></span>
<span data-ttu-id="ac831-239">Jeśli aplikacja zwraca 500 błędów podczas uruchamiania, może istnieć kilka przyczyn:</span><span class="sxs-lookup"><span data-stu-id="ac831-239">If your application is returning 500 Errors at startup, there could be a few reasons:</span></span>

1. <span data-ttu-id="ac831-240">Node.exe nie jest obecny w poprawnej lokalizacji hello.</span><span class="sxs-lookup"><span data-stu-id="ac831-240">Node.exe is not present at hello correct location.</span></span> <span data-ttu-id="ac831-241">Sprawdź ustawienie nodeProcessCommandLine.</span><span class="sxs-lookup"><span data-stu-id="ac831-241">Check nodeProcessCommandLine setting.</span></span>
2. <span data-ttu-id="ac831-242">Plik skryptu głównego nie ma na powitania poprawnej lokalizacji.</span><span class="sxs-lookup"><span data-stu-id="ac831-242">Main script file is not present at hello correct location.</span></span> <span data-ttu-id="ac831-243">Plik web.config i upewnij się, że hello nazwę pliku głównego skryptu hello w pliku skryptu głównego hello dopasowań hello obsługi sekcji.</span><span class="sxs-lookup"><span data-stu-id="ac831-243">Check web.config and make sure hello name of hello main script file in hello handlers section matches hello main script file.</span></span>
3. <span data-ttu-id="ac831-244">Plik Web.config konfiguracji jest niepoprawna — Sprawdź wartości nazwy ustawień hello.</span><span class="sxs-lookup"><span data-stu-id="ac831-244">Web.config configuration is not correct – check hello settings names/values.</span></span>
4. <span data-ttu-id="ac831-245">Zimny Start — aplikacji trwa zbyt długo toostartup.</span><span class="sxs-lookup"><span data-stu-id="ac831-245">Cold Start – Your application is taking too long toostartup.</span></span> <span data-ttu-id="ac831-246">Jeśli aplikacja będzie trwało dłużej niż (maxNamedPipeConnectionRetry \* namedPipeConnectionRetryDelay) / 1 000 sekund iisnode zwróci błąd 500.</span><span class="sxs-lookup"><span data-stu-id="ac831-246">If your application takes longer than (maxNamedPipeConnectionRetry \* namedPipeConnectionRetryDelay) / 1000 seconds, iisnode will return 500 error.</span></span> <span data-ttu-id="ac831-247">Zwiększenie wartości hello te toomatch ustawienia aplikacji uruchomić program iisnode tooprevent czasu z limit czasu i zwróci komunikat hello 500.</span><span class="sxs-lookup"><span data-stu-id="ac831-247">Increase hello values of these settings toomatch your application start time tooprevent iisnode from timing out and returning hello 500 error.</span></span>

### <a name="my-node-application-crashed"></a><span data-ttu-id="ac831-248">Moja aplikacja węzła awaria</span><span class="sxs-lookup"><span data-stu-id="ac831-248">My node application crashed</span></span>
<span data-ttu-id="ac831-249">Aplikacji wywołującej nieprzechwyconych wyjątków — d: wyboru Sprawdź\\macierzystego\\LogFiles\\aplikacji\\errors.txt rejestrowania w pliku hello na powitania został zwrócony wyjątek.</span><span class="sxs-lookup"><span data-stu-id="ac831-249">Your application is throwing uncaught exceptions – Please check d:\\home\\LogFiles\\Application\\logging-errors.txt file for hello details on hello exception thrown.</span></span> <span data-ttu-id="ac831-250">Ten plik zawiera hello ślad stosu, można naprawić na podstawie tych aplikacji.</span><span class="sxs-lookup"><span data-stu-id="ac831-250">This file has hello stack trace so you can fix your application based on this.</span></span>

### <a name="my-node-application-takes-too-much-time-toostartup-cold-start"></a><span data-ttu-id="ac831-251">Moja aplikacja węzeł ma za dużo toostartup czasu (zimny Start)</span><span class="sxs-lookup"><span data-stu-id="ac831-251">My node application takes too much time toostartup (Cold Start)</span></span>
<span data-ttu-id="ac831-252">Najczęstszą przyczyną tego jest aplikacji hello wiele plików w węźle hello\_moduły i tooload prób aplikacji hello większość tych plików podczas uruchamiania.</span><span class="sxs-lookup"><span data-stu-id="ac831-252">Most common reason for this is that hello application has a lot of files in hello node\_modules and hello application tries tooload most of these files during startup.</span></span> <span data-ttu-id="ac831-253">Domyślnie ponieważ pliki znajdują się w udziale sieciowym hello na używanie Azure ładowanie tak wielu plików może zająć trochę czasu.</span><span class="sxs-lookup"><span data-stu-id="ac831-253">By default, since your files reside on hello network share on Azure Webapps, loading so many files can take some time.</span></span>
<span data-ttu-id="ac831-254">Niektóre toomake rozwiązania to szybciej są:</span><span class="sxs-lookup"><span data-stu-id="ac831-254">Some solutions toomake this faster are:</span></span>

1. <span data-ttu-id="ac831-255">Upewnij się, że masz struktury płaskiej zależności i ma zduplikowane zależności za pomocą npm3 tooinstall własnych modułów.</span><span class="sxs-lookup"><span data-stu-id="ac831-255">Make sure you have a flat dependency structure and no duplicate dependencies by using npm3 tooinstall your modules.</span></span>
2. <span data-ttu-id="ac831-256">Spróbuj obciążenia toolazy węzeł\_moduły i nie wszystkie moduły hello podczas uruchamiania obciążenia.</span><span class="sxs-lookup"><span data-stu-id="ac831-256">Try toolazy load your node\_modules and not load all of hello modules at startup.</span></span> <span data-ttu-id="ac831-257">Oznacza to, że toorequire('module') wywołania tej hello należy zrobić, jeśli potrzebujesz faktycznie w funkcji hello spróbuj toouse hello modułu.</span><span class="sxs-lookup"><span data-stu-id="ac831-257">This means that hello call toorequire(‘module’) should be done when you actually need it within hello function you try toouse hello module.</span></span>
3. <span data-ttu-id="ac831-258">Używanie Azure oferuje funkcję o nazwie lokalnej pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="ac831-258">Azure Webapps offers a feature called local cache.</span></span> <span data-ttu-id="ac831-259">Ta funkcja kopiuje zawartość z hello sieci udziału toohello dysku lokalnego na powitania maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="ac831-259">This feature copies your content from hello network share toohello local disk on hello VM.</span></span> <span data-ttu-id="ac831-260">Ponieważ pliki hello są lokalne, hello czas węzła ładowania\_modułów jest znacznie szybsze.</span><span class="sxs-lookup"><span data-stu-id="ac831-260">Since hello files are local, hello load time of node\_modules is much faster.</span></span> <span data-ttu-id="ac831-261">-Tym [dokumentacji](../app-service/app-service-local-cache.md) wyjaśniono, jak toouse lokalnej pamięci podręcznej w bardziej szczegółowo.</span><span class="sxs-lookup"><span data-stu-id="ac831-261">- This [documentation](../app-service/app-service-local-cache.md) explains how toouse Local Cache in more detail.</span></span>

## <a name="iisnode-http-status-and-substatus"></a><span data-ttu-id="ac831-262">Stan http IISNODE i podstanu</span><span class="sxs-lookup"><span data-stu-id="ac831-262">IISNODE http status and substatus</span></span>
<span data-ttu-id="ac831-263">To [plik źródłowy](https://github.com/Azure/iisnode/blob/master/src/iisnode/cnodeconstants.h) listy wszystkich iisnode kombinacja możliwe stan/podstanu hello może zwrócić w przypadku błędu.</span><span class="sxs-lookup"><span data-stu-id="ac831-263">This [source file](https://github.com/Azure/iisnode/blob/master/src/iisnode/cnodeconstants.h) lists all hello possible status/substatus combination iisnode can return in case of error.</span></span>

<span data-ttu-id="ac831-264">Włącz FREB dla kod błędu win32 hello toosee aplikacji (Upewnij się, możesz włączyć FREB tylko w lokacjach nieprodukcyjnych ze względu na wydajność).</span><span class="sxs-lookup"><span data-stu-id="ac831-264">Enable FREB for your application toosee hello win32 error code (please make sure you enable FREB only on non-production sites for performance reasons).</span></span>

| <span data-ttu-id="ac831-265">Stan HTTP</span><span class="sxs-lookup"><span data-stu-id="ac831-265">Http Status</span></span> | <span data-ttu-id="ac831-266">Podstan protokołu HTTP</span><span class="sxs-lookup"><span data-stu-id="ac831-266">Http SubStatus</span></span> | <span data-ttu-id="ac831-267">Możliwa przyczyna?</span><span class="sxs-lookup"><span data-stu-id="ac831-267">Possible Reason?</span></span> |
| --- | --- | --- |
| <span data-ttu-id="ac831-268">500</span><span class="sxs-lookup"><span data-stu-id="ac831-268">500</span></span> |<span data-ttu-id="ac831-269">1000</span><span class="sxs-lookup"><span data-stu-id="ac831-269">1000</span></span> |<span data-ttu-id="ac831-270">Znaleziono niektórych problem podczas wysyłania tooIISNODE żądania hello — Sprawdź, czy node.exe został uruchomiony w.</span><span class="sxs-lookup"><span data-stu-id="ac831-270">There was some issue dispatching hello request tooIISNODE – check if node.exe was started up.</span></span> <span data-ttu-id="ac831-271">Node.exe może ulec awarii podczas uruchamiania.</span><span class="sxs-lookup"><span data-stu-id="ac831-271">Node.exe could have crashed on startup.</span></span> <span data-ttu-id="ac831-272">Sprawdź konfigurację web.config błędów.</span><span class="sxs-lookup"><span data-stu-id="ac831-272">Check your web.config configuration for errors.</span></span> |
| <span data-ttu-id="ac831-273">500</span><span class="sxs-lookup"><span data-stu-id="ac831-273">500</span></span> |<span data-ttu-id="ac831-274">1001</span><span class="sxs-lookup"><span data-stu-id="ac831-274">1001</span></span> |<span data-ttu-id="ac831-275">-Win32Error 0x2 — aplikacja nie odpowiada toohello adresu URL.</span><span class="sxs-lookup"><span data-stu-id="ac831-275">- Win32Error 0x2 - App is not responding toohello URL.</span></span> <span data-ttu-id="ac831-276">Ponowne zapisywanie adresów URL wyboru, reguł lub jeśli aplikacja express ma hello tras poprawne określonych.</span><span class="sxs-lookup"><span data-stu-id="ac831-276">Check URL rewrite rules or if your express app has hello correct routes defined.</span></span> <span data-ttu-id="ac831-277">-Win32Error 0x6d — nazwany potok jest zajęty — Node.exe nie akceptuje żądania potoku hello jest zajęty.</span><span class="sxs-lookup"><span data-stu-id="ac831-277">- Win32Error 0x6d – named pipe is busy – Node.exe is not accepting requests because hello pipe is busy.</span></span> <span data-ttu-id="ac831-278">Sprawdź wysokiego użycia procesora cpu.</span><span class="sxs-lookup"><span data-stu-id="ac831-278">Check high cpu usage.</span></span> <span data-ttu-id="ac831-279">-Inne błędy — Sprawdź, czy awaria node.exe.</span><span class="sxs-lookup"><span data-stu-id="ac831-279">- Other errors – check if node.exe crashed.</span></span> |
| <span data-ttu-id="ac831-280">500</span><span class="sxs-lookup"><span data-stu-id="ac831-280">500</span></span> |<span data-ttu-id="ac831-281">1002</span><span class="sxs-lookup"><span data-stu-id="ac831-281">1002</span></span> |<span data-ttu-id="ac831-282">Awaria node.exe — sprawdź d:\\macierzystego\\LogFiles\\rejestrowania errors.txt dla ślad stosu.</span><span class="sxs-lookup"><span data-stu-id="ac831-282">Node.exe crashed – check d:\\home\\LogFiles\\logging-errors.txt for stack trace.</span></span> |
| <span data-ttu-id="ac831-283">500</span><span class="sxs-lookup"><span data-stu-id="ac831-283">500</span></span> |<span data-ttu-id="ac831-284">1003</span><span class="sxs-lookup"><span data-stu-id="ac831-284">1003</span></span> |<span data-ttu-id="ac831-285">Konfiguracja potoku problem — powinien nigdy nie widzisz taki komunikat, ale jeśli to zrobisz, hello o nazwie Konfiguracja potoku jest nieprawidłowy.</span><span class="sxs-lookup"><span data-stu-id="ac831-285">Pipe configuration Issue – You should never see this but if you do, hello named pipe configuration is incorrect.</span></span> |
| <span data-ttu-id="ac831-286">500</span><span class="sxs-lookup"><span data-stu-id="ac831-286">500</span></span> |<span data-ttu-id="ac831-287">1004-1018</span><span class="sxs-lookup"><span data-stu-id="ac831-287">1004-1018</span></span> |<span data-ttu-id="ac831-288">Wystąpił błąd podczas wysyłania odpowiedzi hello żądania lub przetwarzania hello z node.exe.</span><span class="sxs-lookup"><span data-stu-id="ac831-288">There was some error while sending hello request or processing hello response to/from node.exe.</span></span> <span data-ttu-id="ac831-289">Sprawdź, czy awaria node.exe.</span><span class="sxs-lookup"><span data-stu-id="ac831-289">Check if node.exe crashed.</span></span> <span data-ttu-id="ac831-290">Sprawdź d:\\macierzystego\\LogFiles\\rejestrowania errors.txt dla ślad stosu.</span><span class="sxs-lookup"><span data-stu-id="ac831-290">check d:\\home\\LogFiles\\logging-errors.txt for stack trace.</span></span> |
| <span data-ttu-id="ac831-291">503</span><span class="sxs-lookup"><span data-stu-id="ac831-291">503</span></span> |<span data-ttu-id="ac831-292">1000</span><span class="sxs-lookup"><span data-stu-id="ac831-292">1000</span></span> |<span data-ttu-id="ac831-293">Za mało pamięci tooallocate więcej o nazwie połączenia potoku.</span><span class="sxs-lookup"><span data-stu-id="ac831-293">Not enough memory tooallocate more named pipe connections.</span></span> <span data-ttu-id="ac831-294">Sprawdź, dlaczego aplikacja zużywa dużej ilości pamięci.</span><span class="sxs-lookup"><span data-stu-id="ac831-294">Check why your app is consuming so much memory.</span></span> <span data-ttu-id="ac831-295">Sprawdź wartość ustawienia maxConcurrentRequestsPerProcess.</span><span class="sxs-lookup"><span data-stu-id="ac831-295">Check maxConcurrentRequestsPerProcess setting value.</span></span> <span data-ttu-id="ac831-296">Jeśli nie jest on nieskończone i wiele żądań, zwiększenie tej wartości tooprevent ten błąd.</span><span class="sxs-lookup"><span data-stu-id="ac831-296">If its not infinite and you have a lot of requests, increase this value tooprevent this error.</span></span> |
| <span data-ttu-id="ac831-297">503</span><span class="sxs-lookup"><span data-stu-id="ac831-297">503</span></span> |<span data-ttu-id="ac831-298">1001</span><span class="sxs-lookup"><span data-stu-id="ac831-298">1001</span></span> |<span data-ttu-id="ac831-299">Żądania nie można toonode.exe wysłane, ponieważ jest odtwarzanie aplikacji hello.</span><span class="sxs-lookup"><span data-stu-id="ac831-299">Request could not be dispatched toonode.exe because hello application is recycling.</span></span> <span data-ttu-id="ac831-300">Po aplikacji hello po odtworzeniu, żądania powinien być obsługiwany normalnie.</span><span class="sxs-lookup"><span data-stu-id="ac831-300">After hello application has recycled, requests should be served normally.</span></span> |
| <span data-ttu-id="ac831-301">503</span><span class="sxs-lookup"><span data-stu-id="ac831-301">503</span></span> |<span data-ttu-id="ac831-302">1002</span><span class="sxs-lookup"><span data-stu-id="ac831-302">1002</span></span> |<span data-ttu-id="ac831-303">Kod błędu win32 wyboru przyczyny rzeczywiste — żądanie nie można node.exe tooa wysłane.</span><span class="sxs-lookup"><span data-stu-id="ac831-303">Check win32 error code for actual reason – Request could not be dispatched tooa node.exe.</span></span> |
| <span data-ttu-id="ac831-304">503</span><span class="sxs-lookup"><span data-stu-id="ac831-304">503</span></span> |<span data-ttu-id="ac831-305">1003</span><span class="sxs-lookup"><span data-stu-id="ac831-305">1003</span></span> |<span data-ttu-id="ac831-306">Nazwany potok jest zbyt zajęty — Sprawdź, czy węzeł zużywa dużo zasobów procesora</span><span class="sxs-lookup"><span data-stu-id="ac831-306">Named pipe is too Busy – Check if node is consuming a lot of CPU</span></span> |

<span data-ttu-id="ac831-307">Ustawienie w NODE.exe węzeł\_OCZEKUJE\_POTOKU\_WYSTĄPIEŃ.</span><span class="sxs-lookup"><span data-stu-id="ac831-307">There is a setting within NODE.exe called NODE\_PENDING\_PIPE\_INSTANCES.</span></span> <span data-ttu-id="ac831-308">Domyślnie poza azure webapps ta wartość to 4.</span><span class="sxs-lookup"><span data-stu-id="ac831-308">By default outside of azure webapps this value is 4.</span></span> <span data-ttu-id="ac831-309">Oznacza to, że node.exe w czasie na powitania nazwany potok może akceptować tylko 4 żądania.</span><span class="sxs-lookup"><span data-stu-id="ac831-309">This means that node.exe can only accept 4 requests at a time on hello named pipe.</span></span> <span data-ttu-id="ac831-310">Na używanie Azure too5000 tę wartość i wartość ta powinna być wystarczająca dla większości aplikacji węzła działających na używanie usługi azure.</span><span class="sxs-lookup"><span data-stu-id="ac831-310">On Azure Webapps, this value is set too5000 and this value should be good enough for most node applications running on azure webapps.</span></span> <span data-ttu-id="ac831-311">Użytkownik nie powinien być widoczny 503.1003 na używanie usługi azure, ponieważ będziemy mieć dużą wartość dla hello węzła\_OCZEKUJE\_POTOKU\_WYSTĄPIEŃ.</span><span class="sxs-lookup"><span data-stu-id="ac831-311">You should not see 503.1003 on azure webapps because we have a high value for hello NODE\_PENDING\_PIPE\_INSTANCES.</span></span>  |

## <a name="more-resources"></a><span data-ttu-id="ac831-312">Więcej zasobów</span><span class="sxs-lookup"><span data-stu-id="ac831-312">More resources</span></span>
<span data-ttu-id="ac831-313">Wykonaj te toolearn łącza więcej informacji na temat aplikacji programu node.js w usłudze Azure App Service.</span><span class="sxs-lookup"><span data-stu-id="ac831-313">Follow these links toolearn more about node.js applications on Azure App Service.</span></span>

* [<span data-ttu-id="ac831-314">Rozpoczynanie pracy z aplikacjami sieci web Node.js w usłudze Azure App Service</span><span class="sxs-lookup"><span data-stu-id="ac831-314">Get started with Node.js web apps in Azure App Service</span></span>](app-service-web-get-started-nodejs.md)
* [<span data-ttu-id="ac831-315">Jak toodebug Node.js sieci web aplikacji w usłudze Azure App Service</span><span class="sxs-lookup"><span data-stu-id="ac831-315">How toodebug a Node.js web app in Azure App Service</span></span>](web-sites-nodejs-debug.md)
* [<span data-ttu-id="ac831-316">Using Node.js Modules with Azure applications (Używanie modułów Node.js z aplikacjami platformy Azure)</span><span class="sxs-lookup"><span data-stu-id="ac831-316">Using Node.js Modules with Azure applications</span></span>](../nodejs-use-node-modules-azure-apps.md)
* [<span data-ttu-id="ac831-317">Azure App Service Web Apps: Node.js (Aplikacje sieci Web w usłudze Azure App Service: Node.js)</span><span class="sxs-lookup"><span data-stu-id="ac831-317">Azure App Service Web Apps: Node.js</span></span>](https://blogs.msdn.microsoft.com/silverlining/2012/06/14/windows-azure-websites-node-js/)
* [<span data-ttu-id="ac831-318">Centrum deweloperów środowiska Node.js</span><span class="sxs-lookup"><span data-stu-id="ac831-318">Node.js Developer Center</span></span>](../nodejs-use-node-modules-azure-apps.md)
* [<span data-ttu-id="ac831-319">Eksploracja hello Super Secret Kudu Debug konsoli</span><span class="sxs-lookup"><span data-stu-id="ac831-319">Exploring hello Super Secret Kudu Debug Console</span></span>](https://azure.microsoft.com/documentation/videos/super-secret-kudu-debug-console-for-azure-web-sites/)

