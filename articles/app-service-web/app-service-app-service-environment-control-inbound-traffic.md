---
title: "aaaHow tooControl ruch przychodzący tooan środowiska usługi aplikacji"
description: "Więcej informacji na temat sposobu toocontrol reguły zabezpieczeń sieci tooconfigure ruchu przychodzącego ruchu tooan środowiska usługi aplikacji."
services: app-service
documentationcenter: 
author: ccompy
manager: erikre
editor: 
ms.assetid: 4cc82439-8791-48a4-9485-de6d8e1d1a08
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/11/2017
ms.author: stefsch
ms.openlocfilehash: e7c6e6201db6a1ea77f7a2eee29a3b5445175495
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="how-toocontrol-inbound-traffic-tooan-app-service-environment"></a><span data-ttu-id="65ca3-103">Jak tooControl ruch przychodzący tooan środowiska usługi aplikacji</span><span class="sxs-lookup"><span data-stu-id="65ca3-103">How tooControl Inbound Traffic tooan App Service Environment</span></span>
## <a name="overview"></a><span data-ttu-id="65ca3-104">Omówienie</span><span class="sxs-lookup"><span data-stu-id="65ca3-104">Overview</span></span>
<span data-ttu-id="65ca3-105">Środowiska usługi aplikacji mogą być tworzone w **albo** sieci wirtualnej platformy Azure Resource Manager **lub** klasycznego modelu wdrażania [sieci wirtualnej][virtualnetwork].</span><span class="sxs-lookup"><span data-stu-id="65ca3-105">An App Service Environment can be created in **either** an Azure Resource Manager virtual network, **or** a classic deployment model [virtual network][virtualnetwork].</span></span>  <span data-ttu-id="65ca3-106">Można zdefiniować nowej sieci wirtualnej i nową podsieć w czasie hello tworzenia środowiska usługi aplikacji.</span><span class="sxs-lookup"><span data-stu-id="65ca3-106">A new virtual network and new subnet can be defined at hello time an App Service Environment is created.</span></span>  <span data-ttu-id="65ca3-107">Alternatywnie można utworzyć środowiska usługi aplikacji w istniejącej sieci wirtualnej i wstępnie istniejącą podsieć.</span><span class="sxs-lookup"><span data-stu-id="65ca3-107">Alternatively, an App Service Environment can be created in a pre-existing virtual network and pre-existing subnet.</span></span>  <span data-ttu-id="65ca3-108">Wraz ze zmianą w czerwca 2016 ASEs można także wdrożyć w sieci wirtualnych, które używają zakresy publicznych adresów lub RFC1918 przestrzeni adresów (czyli adresy prywatne).</span><span class="sxs-lookup"><span data-stu-id="65ca3-108">With a change made in June 2016, ASEs can also be deployed into virtual networks that use either public address ranges, or RFC1918 address spaces (i.e. private addresses).</span></span>  <span data-ttu-id="65ca3-109">Więcej informacji na temat tworzenia środowiska usługi aplikacji można znaleźć [jak tooCreate środowiska usługi aplikacji][HowToCreateAnAppServiceEnvironment].</span><span class="sxs-lookup"><span data-stu-id="65ca3-109">For more details on creating an App Service Environment see [How tooCreate an App Service Environment][HowToCreateAnAppServiceEnvironment].</span></span>

<span data-ttu-id="65ca3-110">Środowiska usługi aplikacji zawsze należy utworzyć w podsieci, ponieważ podsieć zawiera granic sieci, które mogą być używane toolock przychodzący ruch związany z nadrzędnego urządzeń i usług w dół tak, aby ruchu HTTP i HTTPS jest dopuszczalne tylko z określonych nadrzędnego Adresy IP.</span><span class="sxs-lookup"><span data-stu-id="65ca3-110">An App Service Environment must always be created within a subnet because a subnet provides a network boundary which can be used toolock down inbound traffic behind upstream devices and services such that HTTP and HTTPS traffic is only accepted from specific upstream IP addresses.</span></span>

<span data-ttu-id="65ca3-111">Przychodzący i wychodzący ruch sieciowy w podsieci jest kontrolowany przy użyciu [sieciowej grupy zabezpieczeń][NetworkSecurityGroups].</span><span class="sxs-lookup"><span data-stu-id="65ca3-111">Inbound and outbound network traffic on a subnet is controlled using a [network security group][NetworkSecurityGroups].</span></span> <span data-ttu-id="65ca3-112">Kontrolowanie ruchu przychodzącego wymaga tworzenia reguły zabezpieczeń sieciowych w grupie zabezpieczeń sieci, a następnie przypisanie hello sieci zabezpieczeń grupy hello podsieci zawierającego hello środowiska usługi aplikacji.</span><span class="sxs-lookup"><span data-stu-id="65ca3-112">Controlling inbound traffic requires creating network security rules in a network security group, and then assigning hello network security group hello subnet containing hello App Service Environment.</span></span>

<span data-ttu-id="65ca3-113">Gdy grupa zabezpieczeń sieci jest przypisany tooa podsieci, tooapps ruch przychodzący w powitalne środowiska usługi aplikacji może być dozwolone/blokowane na podstawie hello zezwalania i odmowy reguł zdefiniowanych w hello sieciowej grupy zabezpieczeń.</span><span class="sxs-lookup"><span data-stu-id="65ca3-113">Once a network security group is assigned tooa subnet, inbound traffic tooapps in hello App Service Environment is allowed/blocked based on hello allow and deny rules defined in hello network security group.</span></span>

[!INCLUDE [app-service-web-to-api-and-mobile](../../includes/app-service-web-to-api-and-mobile.md)]

## <a name="inbound-network-ports-used-in-an-app-service-environment"></a><span data-ttu-id="65ca3-114">Przychodzący porty używane w środowisku usługi aplikacji</span><span class="sxs-lookup"><span data-stu-id="65ca3-114">Inbound Network Ports Used in an App Service Environment</span></span>
<span data-ttu-id="65ca3-115">Przed blokowania przychodzącego ruchu sieciowego z sieciową grupą zabezpieczeń, jest ważne tooknow hello zbiór wymaganych i opcjonalnych porty używane przez środowisko usługi aplikacji.</span><span class="sxs-lookup"><span data-stu-id="65ca3-115">Before locking down inbound network traffic with a network security group, it is important tooknow hello set of required and optional network ports used by an App Service Environment.</span></span>  <span data-ttu-id="65ca3-116">Przypadkowo zamknięcia poza porty toosome ruchu może spowodować utratę funkcjonalności w środowisku usługi aplikacji.</span><span class="sxs-lookup"><span data-stu-id="65ca3-116">Accidentally closing off traffic toosome ports can result in loss of functionality in an App Service Environment.</span></span>

<span data-ttu-id="65ca3-117">Witaj poniżej znajduje się lista portów używanych przez środowisko usługi aplikacji.</span><span class="sxs-lookup"><span data-stu-id="65ca3-117">hello following is a list of ports used by an App Service Environment.</span></span> <span data-ttu-id="65ca3-118">Wszystkie porty są **TCP**, chyba że wyraźnie inaczej:</span><span class="sxs-lookup"><span data-stu-id="65ca3-118">All ports are **TCP**, unless otherwise clearly noted:</span></span>

* <span data-ttu-id="65ca3-119">454: **wymagany port** używanych przez infrastrukturę platformy Azure do zarządzania i obsługi środowiska usługi App Service za pomocą protokołu SSL.</span><span class="sxs-lookup"><span data-stu-id="65ca3-119">454:  **Required port** used by Azure infrastructure for managing and maintaining App Service Environments via SSL.</span></span>  <span data-ttu-id="65ca3-120">Nie należy blokować ruchu toothis portu.</span><span class="sxs-lookup"><span data-stu-id="65ca3-120">Do not block traffic toothis port.</span></span>  <span data-ttu-id="65ca3-121">Port ten jest zawsze publiczny VIP toohello związanego z ASE.</span><span class="sxs-lookup"><span data-stu-id="65ca3-121">This port is always bound toohello public VIP of an ASE.</span></span>
* <span data-ttu-id="65ca3-122">455: **wymagany port** używanych przez infrastrukturę platformy Azure do zarządzania i obsługi środowiska usługi App Service za pomocą protokołu SSL.</span><span class="sxs-lookup"><span data-stu-id="65ca3-122">455:  **Required port** used by Azure infrastructure for managing and maintaining App Service Environments via SSL.</span></span>  <span data-ttu-id="65ca3-123">Nie należy blokować ruchu toothis portu.</span><span class="sxs-lookup"><span data-stu-id="65ca3-123">Do not block traffic toothis port.</span></span>  <span data-ttu-id="65ca3-124">Port ten jest zawsze publiczny VIP toohello związanego z ASE.</span><span class="sxs-lookup"><span data-stu-id="65ca3-124">This port is always bound toohello public VIP of an ASE.</span></span>
* <span data-ttu-id="65ca3-125">80: domyślny port dla ruchu przychodzącego tooapps ruch HTTP w plany usługi App Service w środowisku usługi aplikacji.</span><span class="sxs-lookup"><span data-stu-id="65ca3-125">80:  Default port for inbound HTTP traffic tooapps running in App Service Plans in an App Service Environment.</span></span>  <span data-ttu-id="65ca3-126">W elemencie ASE włączone ILB ten port jest adresem ILB toohello powiązane hello ASE.</span><span class="sxs-lookup"><span data-stu-id="65ca3-126">On an ILB-enabled ASE, this port is bound toohello ILB address of hello ASE.</span></span>
* <span data-ttu-id="65ca3-127">443: domyślny port dla ruchu przychodzącego tooapps ruchu protokołu SSL w plany usługi App Service w środowisku usługi aplikacji.</span><span class="sxs-lookup"><span data-stu-id="65ca3-127">443: Default port for inbound SSL traffic tooapps running in App Service Plans in an App Service Environment.</span></span>  <span data-ttu-id="65ca3-128">W elemencie ASE włączone ILB ten port jest adresem ILB toohello powiązane hello ASE.</span><span class="sxs-lookup"><span data-stu-id="65ca3-128">On an ILB-enabled ASE, this port is bound toohello ILB address of hello ASE.</span></span>
* <span data-ttu-id="65ca3-129">21: kanału kontroli w przypadku usługi FTP.</span><span class="sxs-lookup"><span data-stu-id="65ca3-129">21:  Control channel for FTP.</span></span>  <span data-ttu-id="65ca3-130">Ten port można bezpiecznie zablokowane, jeśli nie jest używany FTP.</span><span class="sxs-lookup"><span data-stu-id="65ca3-130">This port can be safely blocked if FTP is not being used.</span></span>  <span data-ttu-id="65ca3-131">W elemencie ASE włączone ILB ten port może być powiązane toohello adres ILB ASE.</span><span class="sxs-lookup"><span data-stu-id="65ca3-131">On an ILB-enabled ASE, this port can be bound toohello ILB address for an ASE.</span></span>
* <span data-ttu-id="65ca3-132">990: kanał kontrolny dla FTPS.</span><span class="sxs-lookup"><span data-stu-id="65ca3-132">990:  Control channel for FTPS.</span></span>  <span data-ttu-id="65ca3-133">Ten port można bezpiecznie zablokowane, jeśli nie jest używany FTPS.</span><span class="sxs-lookup"><span data-stu-id="65ca3-133">This port can be safely blocked if FTPS is not being used.</span></span>  <span data-ttu-id="65ca3-134">W elemencie ASE włączone ILB ten port może być powiązane toohello adres ILB ASE.</span><span class="sxs-lookup"><span data-stu-id="65ca3-134">On an ILB-enabled ASE, this port can be bound toohello ILB address for an ASE.</span></span>
* <span data-ttu-id="65ca3-135">10001 10020: kanały danych w przypadku usługi FTP.</span><span class="sxs-lookup"><span data-stu-id="65ca3-135">10001-10020: Data channels for FTP.</span></span>  <span data-ttu-id="65ca3-136">Zgodnie z hello kanału kontroli, te porty mogą bezpiecznie zablokowane, jeśli FTP nie jest używany.</span><span class="sxs-lookup"><span data-stu-id="65ca3-136">As with hello control channel, these ports can be safely blocked if FTP is not being used.</span></span>  <span data-ttu-id="65ca3-137">W elemencie ASE włączone ILB ten port może być adresem ILB powiązane toohello ASE na.</span><span class="sxs-lookup"><span data-stu-id="65ca3-137">On an ILB-enabled ASE, this port can be bound toohello ASE's ILB address.</span></span>
* <span data-ttu-id="65ca3-138">4016: używanej do zdalnego debugowania w programie Visual Studio 2012.</span><span class="sxs-lookup"><span data-stu-id="65ca3-138">4016: Used for remote debugging with Visual Studio 2012.</span></span>  <span data-ttu-id="65ca3-139">Ten port można bezpiecznie zablokowane, jeśli nie jest używana funkcja hello.</span><span class="sxs-lookup"><span data-stu-id="65ca3-139">This port can be safely blocked if hello feature is not being used.</span></span>  <span data-ttu-id="65ca3-140">W elemencie ASE włączone ILB ten port jest adresem ILB toohello powiązane hello ASE.</span><span class="sxs-lookup"><span data-stu-id="65ca3-140">On an ILB-enabled ASE, this port is bound toohello ILB address of hello ASE.</span></span>
* <span data-ttu-id="65ca3-141">4018: używany do zdalnego debugowania za pomocą programu Visual Studio 2013.</span><span class="sxs-lookup"><span data-stu-id="65ca3-141">4018: Used for remote debugging with Visual Studio 2013.</span></span>  <span data-ttu-id="65ca3-142">Ten port można bezpiecznie zablokowane, jeśli nie jest używana funkcja hello.</span><span class="sxs-lookup"><span data-stu-id="65ca3-142">This port can be safely blocked if hello feature is not being used.</span></span>  <span data-ttu-id="65ca3-143">W elemencie ASE włączone ILB ten port jest adresem ILB toohello powiązane hello ASE.</span><span class="sxs-lookup"><span data-stu-id="65ca3-143">On an ILB-enabled ASE, this port is bound toohello ILB address of hello ASE.</span></span>
* <span data-ttu-id="65ca3-144">4020: używany do zdalnego debugowania za pomocą programu Visual Studio 2015.</span><span class="sxs-lookup"><span data-stu-id="65ca3-144">4020: Used for remote debugging with Visual Studio 2015.</span></span>  <span data-ttu-id="65ca3-145">Ten port można bezpiecznie zablokowane, jeśli nie jest używana funkcja hello.</span><span class="sxs-lookup"><span data-stu-id="65ca3-145">This port can be safely blocked if hello feature is not being used.</span></span>  <span data-ttu-id="65ca3-146">W elemencie ASE włączone ILB ten port jest adresem ILB toohello powiązane hello ASE.</span><span class="sxs-lookup"><span data-stu-id="65ca3-146">On an ILB-enabled ASE, this port is bound toohello ILB address of hello ASE.</span></span>

## <a name="outbound-connectivity-and-dns-requirements"></a><span data-ttu-id="65ca3-147">Łączność wychodząca i wymagania dotyczące systemu DNS</span><span class="sxs-lookup"><span data-stu-id="65ca3-147">Outbound Connectivity and DNS Requirements</span></span>
<span data-ttu-id="65ca3-148">Dla środowiska usługi aplikacji toofunction poprawnie, wymagany jest również punktami końcowymi toovarious wychodzący dostęp.</span><span class="sxs-lookup"><span data-stu-id="65ca3-148">For an App Service Environment toofunction properly, it also requires outbound access toovarious endpoints.</span></span> <span data-ttu-id="65ca3-149">Pełną listę zewnętrzne punkty końcowe hello używane przez ASE jest hello sekcji "Wymagana łączność sieciową" hello [konfiguracji sieci ExpressRoute](app-service-app-service-environment-network-configuration-expressroute.md#required-network-connectivity) artykułu.</span><span class="sxs-lookup"><span data-stu-id="65ca3-149">A full list of hello external endpoints used by an ASE is in hello "Required Network Connectivity" section of hello [Network Configuration for ExpressRoute](app-service-app-service-environment-network-configuration-expressroute.md#required-network-connectivity) article.</span></span>

<span data-ttu-id="65ca3-150">Środowiska usługi aplikacji wymagają skonfigurowanej dla sieci wirtualnej hello prawidłowy infrastruktury DNS.</span><span class="sxs-lookup"><span data-stu-id="65ca3-150">App Service Environments require a valid DNS infrastructure configured for hello virtual network.</span></span>  <span data-ttu-id="65ca3-151">Jeśli dla dowolnego hello Przyczyna konfiguracji DNS została zmieniona po utworzeniu środowiska usługi aplikacji, deweloperzy można wymusić toopick środowiska usługi aplikacji hello nowej konfiguracji DNS.</span><span class="sxs-lookup"><span data-stu-id="65ca3-151">If for any reason hello DNS configuration is changed after an App Service Environment has been created, developers can force an App Service Environment toopick up hello new DNS configuration.</span></span>  <span data-ttu-id="65ca3-152">Wyzwolenie stopniowego ponowny rozruch środowiska przy użyciu hello "Restart" znajdującą się na górze bloku zarządzania środowiska usługi aplikacji hello w hello hello [portalu Azure] [ NewPortal] spowoduje, że hello toopick środowiska Witaj nowej konfiguracji DNS.</span><span class="sxs-lookup"><span data-stu-id="65ca3-152">Triggering a rolling environment reboot using hello "Restart" icon located at hello top of hello App Service Environment management blade in hello [Azure portal][NewPortal] will cause hello environment toopick up hello new DNS configuration.</span></span>

<span data-ttu-id="65ca3-153">Zalecane jest również, że żadnych niestandardowych serwerów DNS w sieci wirtualnej hello należy skonfigurować przed toocreating wcześniejsze czasu środowiska usługi aplikacji.</span><span class="sxs-lookup"><span data-stu-id="65ca3-153">It is also recommended that any custom DNS servers on hello vnet be setup ahead of time prior toocreating an App Service Environment.</span></span>  <span data-ttu-id="65ca3-154">Konfiguracja DNS sieci wirtualnej zostanie zmieniona, podczas tworzenia środowiska usługi aplikacji, która spowoduje niepowodzenie procesu tworzenia środowiska usługi aplikacji hello.</span><span class="sxs-lookup"><span data-stu-id="65ca3-154">If a virtual network's DNS configuration is changed while an App Service Environment is being created, that will result in hello App Service Environment creation process failing.</span></span>  <span data-ttu-id="65ca3-155">W podobny szyjnej Jeśli istnieje niestandardowy serwer DNS na powitania drugiej bramy sieci VPN, a serwer DNS hello jest hello jest nieosiągalny lub jest niedostępny, również zakończą się proces tworzenia środowiska usługi aplikacji.</span><span class="sxs-lookup"><span data-stu-id="65ca3-155">In a similar vein, if a custom DNS server exists on hello other end of a VPN gateway, and hello DNS server is unreachable or unavailable, hello App Service Environment creation process will also fail.</span></span>

## <a name="creating-a-network-security-group"></a><span data-ttu-id="65ca3-156">Tworzenie grupy zabezpieczeń sieci</span><span class="sxs-lookup"><span data-stu-id="65ca3-156">Creating a Network Security Group</span></span>
<span data-ttu-id="65ca3-157">Szczegółowe informacje o sposobie działania grup zabezpieczeń sieci można znaleźć w następujących hello [informacji][NetworkSecurityGroups].</span><span class="sxs-lookup"><span data-stu-id="65ca3-157">For full details on how network security groups work see hello following [information][NetworkSecurityGroups].</span></span>  <span data-ttu-id="65ca3-158">przykład Witaj zarządzania usługą Azure poniżej poprawki na prezentuje grup zabezpieczeń sieci, nacisk na konfigurowanie i stosowanie podsieci tooa grupy zabezpieczeń sieci, która zawiera środowiska usługi aplikacji.</span><span class="sxs-lookup"><span data-stu-id="65ca3-158">hello Azure Service Management example below touches on highlights of network security groups, with a focus on configuring and applying a network security group tooa subnet that contains an App Service Environment.</span></span>

<span data-ttu-id="65ca3-159">**Uwaga:** grup zabezpieczeń sieci można skonfigurować, używając graficznie hello [Azure Portal](https://portal.azure.com) lub za pomocą programu Azure PowerShell.</span><span class="sxs-lookup"><span data-stu-id="65ca3-159">**Note:** Network security groups can be configured graphically using hello [Azure Portal](https://portal.azure.com) or through Azure PowerShell.</span></span>

<span data-ttu-id="65ca3-160">Grupy zabezpieczeń sieci najpierw są tworzone jako element autonomiczny skojarzone z subskrypcją.</span><span class="sxs-lookup"><span data-stu-id="65ca3-160">Network security groups are first created as a standalone entity associated with a subscription.</span></span> <span data-ttu-id="65ca3-161">Ponieważ grupy zabezpieczeń sieci są tworzone w regionie Azure, upewnij się, tę grupę zabezpieczeń sieci hello jest tworzony w hello sam region jako hello środowiska usługi aplikacji.</span><span class="sxs-lookup"><span data-stu-id="65ca3-161">Since network security groups are created in an Azure region, ensure that hello network security group is created in hello same region as hello App Service Environment.</span></span>

<span data-ttu-id="65ca3-162">Hello poniżej przedstawiono tworzenie grupy zabezpieczeń sieci:</span><span class="sxs-lookup"><span data-stu-id="65ca3-162">hello following demonstrates creating a network security group:</span></span>

    New-AzureNetworkSecurityGroup -Name "testNSGexample" -Location "South Central US" -Label "Example network security group for an app service environment"

<span data-ttu-id="65ca3-163">Po utworzeniu grupy zabezpieczeń sieci, co najmniej jednej reguły zabezpieczeń sieci są dodawane tooit.</span><span class="sxs-lookup"><span data-stu-id="65ca3-163">Once a network security group is created, one or more network security rules are added tooit.</span></span>  <span data-ttu-id="65ca3-164">Ponieważ hello zestawu reguł może ulec zmianie, zaleca się toospace limit hello schematu numerowania używane w przypadku toomake priorytety reguł go łatwo tooinsert dodatkowe reguły wraz z upływem czasu.</span><span class="sxs-lookup"><span data-stu-id="65ca3-164">Since hello set of rules may change over time, it is recommended toospace out hello numbering scheme used for rule priorities toomake it easy tooinsert additional rules over time.</span></span>

<span data-ttu-id="65ca3-165">Witaj w poniższym przykładzie przedstawiono regułę, która jawnie udziela dostępu toohello zarządzania portów przez hello toomanage infrastruktury platformy Azure i obsługa środowiska usługi aplikacji.</span><span class="sxs-lookup"><span data-stu-id="65ca3-165">hello example below shows a rule that explicitly grants access toohello management ports needed by hello Azure infrastructure toomanage and maintain an App Service Environment.</span></span>  <span data-ttu-id="65ca3-166">Należy pamiętać, że cały ruch zarządzania przepływa za pośrednictwem protokołu SSL i jest zabezpieczone certyfikaty klienta, nawet jeśli są otwarte porty hello są niedostępne dla dowolnej jednostki inne niż infrastruktura zarządzania platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="65ca3-166">Note that all management traffic flows over SSL and is secured by client certificates, so even though hello ports are opened they are inaccessible by any entity other than Azure management infrastructure.</span></span>

    Get-AzureNetworkSecurityGroup -Name "testNSGexample" | Set-AzureNetworkSecurityRule -Name "ALLOW AzureMngmt" -Type Inbound -Priority 100 -Action Allow -SourceAddressPrefix 'INTERNET'  -SourcePortRange '*' -DestinationAddressPrefix '*' -DestinationPortRange '454-455' -Protocol TCP


<span data-ttu-id="65ca3-167">Podczas blokowania dostępu tooport 80 i 443 zbyt "ukryć" środowiska usługi aplikacji za nadrzędnego urządzenia lub usługi, konieczne będzie tooknow hello nadrzędnego adresu IP.</span><span class="sxs-lookup"><span data-stu-id="65ca3-167">When locking down access tooport 80 and 443 too"hide" an App Service Environment behind upstream devices or services, you will need tooknow hello upstream IP address.</span></span>  <span data-ttu-id="65ca3-168">Na przykład, jeśli używasz zapory aplikacji sieci web (WAF) hello zapory aplikacji sieci Web będzie mieć własny adres IP (lub adresy), których używa podczas obliczania tooa ruchu pośredniczenie podrzędne środowiska usługi aplikacji.</span><span class="sxs-lookup"><span data-stu-id="65ca3-168">For example, if you are using a web application firewall (WAF), hello WAF will have its own IP address (or addresses) which it uses when proxying traffic tooa downstream App Service Environment.</span></span>  <span data-ttu-id="65ca3-169">Konieczne będzie toouse ten adres IP w hello *SourceAddressPrefix* parametru reguły zabezpieczeń sieci.</span><span class="sxs-lookup"><span data-stu-id="65ca3-169">You will need toouse this IP address in hello *SourceAddressPrefix* parameter of a network security rule.</span></span>

<span data-ttu-id="65ca3-170">W poniższym przykładzie hello ruch przychodzący z określonego adresu IP nadrzędnego jest jawnie dozwolone.</span><span class="sxs-lookup"><span data-stu-id="65ca3-170">In hello example below, inbound traffic from a specific upstream IP address is explicitly allowed.</span></span>  <span data-ttu-id="65ca3-171">Witaj adres *1.2.3.4* jest używany jako symbol zastępczy dla adresu IP hello nadrzędnego zapory aplikacji sieci Web.</span><span class="sxs-lookup"><span data-stu-id="65ca3-171">hello address *1.2.3.4* is used as a placeholder for hello IP address of an upstream WAF.</span></span>  <span data-ttu-id="65ca3-172">Zmień hello wartość toomatch hello adres używany przez urządzenie nadrzędnego lub usługi.</span><span class="sxs-lookup"><span data-stu-id="65ca3-172">Change hello value toomatch hello address used by your upstream device or service.</span></span>

    Get-AzureNetworkSecurityGroup -Name "testNSGexample" | Set-AzureNetworkSecurityRule -Name "RESTRICT HTTP" -Type Inbound -Priority 200 -Action Allow -SourceAddressPrefix '1.2.3.4/32'  -SourcePortRange '*' -DestinationAddressPrefix '*' -DestinationPortRange '80' -Protocol TCP
    Get-AzureNetworkSecurityGroup -Name "testNSGexample" | Set-AzureNetworkSecurityRule -Name "RESTRICT HTTPS" -Type Inbound -Priority 300 -Action Allow -SourceAddressPrefix '1.2.3.4/32'  -SourcePortRange '*' -DestinationAddressPrefix '*' -DestinationPortRange '443' -Protocol TCP

<span data-ttu-id="65ca3-173">W razie potrzeby Obsługa FTP hello reguły może służyć jako port kontroli szablonu toogrant dostępu toohello FTP i portów kanału danych.</span><span class="sxs-lookup"><span data-stu-id="65ca3-173">If FTP support is desired, hello following rules can be used as a template toogrant access toohello FTP control port and data channel ports.</span></span>  <span data-ttu-id="65ca3-174">Ponieważ FTP jest protokołem stanowe, mogą nie być możliwe tooroute FTP ruchu za pośrednictwem tradycyjnych urządzenia zapory lub serwera proxy HTTP/HTTPS.</span><span class="sxs-lookup"><span data-stu-id="65ca3-174">Since FTP is a stateful protocol, you may not be able tooroute FTP traffic through a traditional HTTP/HTTPS firewall or proxy device.</span></span>  <span data-ttu-id="65ca3-175">W takim przypadku należy tooset hello *SourceAddressPrefix* tooa innej wartości — na przykład hello IP zakres maszyn deweloperem lub wdrażania na FTP, które działają klienci adresów.</span><span class="sxs-lookup"><span data-stu-id="65ca3-175">In this case you will need tooset hello *SourceAddressPrefix* tooa different value - for example hello IP address range of developer or deployment machines on which FTP clients are running.</span></span> 

    Get-AzureNetworkSecurityGroup -Name "testNSGexample" | Set-AzureNetworkSecurityRule -Name "RESTRICT FTPCtrl" -Type Inbound -Priority 400 -Action Allow -SourceAddressPrefix '1.2.3.4/32'  -SourcePortRange '*' -DestinationAddressPrefix '*' -DestinationPortRange '21' -Protocol TCP
    Get-AzureNetworkSecurityGroup -Name "testNSGexample" | Set-AzureNetworkSecurityRule -Name "RESTRICT FTPDataRange" -Type Inbound -Priority 500 -Action Allow -SourceAddressPrefix '1.2.3.4/32'  -SourcePortRange '*' -DestinationAddressPrefix '*' -DestinationPortRange '10001-10020' -Protocol TCP

<span data-ttu-id="65ca3-176">(**Uwaga:** zakres portów kanału danych hello mogą ulec zmianie podczas okresu zapoznawczego hello.)</span><span class="sxs-lookup"><span data-stu-id="65ca3-176">(**Note:**  hello data channel port range may change during hello preview period.)</span></span>

<span data-ttu-id="65ca3-177">Jeśli debugowanie zdalne z programem Visual Studio jest używany, hello reguły pokazują, jak uzyskać dostęp do toogrant.</span><span class="sxs-lookup"><span data-stu-id="65ca3-177">If remote debugging with Visual Studio is used, hello following rules demonstrate how toogrant access.</span></span>  <span data-ttu-id="65ca3-178">Istnieje reguła osobne dla każdej obsługiwanej wersji programu Visual Studio, ponieważ każda wersja używa innego portu do zdalnego debugowania.</span><span class="sxs-lookup"><span data-stu-id="65ca3-178">There is a separate rule for each supported version of Visual Studio since each version uses a different port for remote debugging.</span></span>  <span data-ttu-id="65ca3-179">Podobnie jak w przypadku dostępu FTP zdalnego debugowania ruchu może nie odzwierciedlać prawidłowo za pośrednictwem tradycyjnych zapory aplikacji sieci Web lub serwera proxy urządzenia.</span><span class="sxs-lookup"><span data-stu-id="65ca3-179">As with FTP access, remote debugging traffic may not flow properly through a traditional WAF or proxy device.</span></span>  <span data-ttu-id="65ca3-180">Witaj *SourceAddressPrefix* zamiast tego można ustawić zakresu adresów IP toohello maszyn developer działanie programu Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="65ca3-180">hello *SourceAddressPrefix* can instead be set toohello IP address range of developer machines running Visual Studio.</span></span>

    Get-AzureNetworkSecurityGroup -Name "testNSGexample" | Set-AzureNetworkSecurityRule -Name "RESTRICT RemoteDebuggingVS2012" -Type Inbound -Priority 600 -Action Allow -SourceAddressPrefix '1.2.3.4/32'  -SourcePortRange '*' -DestinationAddressPrefix '*' -DestinationPortRange '4016' -Protocol TCP
    Get-AzureNetworkSecurityGroup -Name "testNSGexample" | Set-AzureNetworkSecurityRule -Name "RESTRICT RemoteDebuggingVS2013" -Type Inbound -Priority 700 -Action Allow -SourceAddressPrefix '1.2.3.4/32'  -SourcePortRange '*' -DestinationAddressPrefix '*' -DestinationPortRange '4018' -Protocol TCP
    Get-AzureNetworkSecurityGroup -Name "testNSGexample" | Set-AzureNetworkSecurityRule -Name "RESTRICT RemoteDebuggingVS2015" -Type Inbound -Priority 800 -Action Allow -SourceAddressPrefix '1.2.3.4/32'  -SourcePortRange '*' -DestinationAddressPrefix '*' -DestinationPortRange '4020' -Protocol TCP

## <a name="assigning-a-network-security-group-tooa-subnet"></a><span data-ttu-id="65ca3-181">Przypisywanie sieciowej grupy zabezpieczeń tooa podsieci</span><span class="sxs-lookup"><span data-stu-id="65ca3-181">Assigning a Network Security Group tooa Subnet</span></span>
<span data-ttu-id="65ca3-182">Grupa zabezpieczeń sieci ma domyślną regułę zabezpieczeń, która nie zezwala na ruch zewnętrzny tooall dostępu.</span><span class="sxs-lookup"><span data-stu-id="65ca3-182">A network security group has a default security rule which denies access tooall external traffic.</span></span>  <span data-ttu-id="65ca3-183">Witaj w wyniku łączenia reguły zabezpieczeń sieciowych hello opisano powyżej i hello domyślną regułę zabezpieczeń blokuje ruch przychodzący, jest, że tylko na ruch z zakresów adresów źródłowy skojarzony z *Zezwalaj* będzie akcji tooapps ruchu toosend uruchomione w środowisku usługi aplikacji.</span><span class="sxs-lookup"><span data-stu-id="65ca3-183">hello result from combining hello network security rules described above, and hello default security rule blocking inbound traffic, is that only traffic from source address ranges associated with an *Allow* action will be able toosend traffic tooapps running in an App Service Environment.</span></span>

<span data-ttu-id="65ca3-184">Po sieciowej grupy zabezpieczeń jest wypełniane przy użyciu reguły zabezpieczeń, musi podsieci toohello toobe przypisane zawierającej hello środowiska usługi aplikacji.</span><span class="sxs-lookup"><span data-stu-id="65ca3-184">After a network security group is populated with security rules, it needs toobe assigned toohello subnet containing hello App Service Environment.</span></span>  <span data-ttu-id="65ca3-185">polecenie przypisania Hello odwołuje się zarówno nazwę hello hello sieci wirtualnej, której hello środowiska usługi aplikacji znajduje się oraz hello nazwy podsieci hello, w której utworzono hello środowiska usługi aplikacji.</span><span class="sxs-lookup"><span data-stu-id="65ca3-185">hello assignment command references both hello name of hello virtual network where hello App Service Environment resides, as well as hello name of hello subnet where hello App Service Environment was created.</span></span>  

<span data-ttu-id="65ca3-186">przykład Witaj poniżej przedstawia sieciowej grupy zabezpieczeń przypisywane tooa podsieci i sieci wirtualnej:</span><span class="sxs-lookup"><span data-stu-id="65ca3-186">hello example below shows a network security group being assigned tooa subnet and virtual network:</span></span>

    Get-AzureNetworkSecurityGroup -Name "testNSGexample" | Set-AzureNetworkSecurityGroupToSubnet -VirtualNetworkName 'testVNet' -SubnetName 'Subnet-test'

<span data-ttu-id="65ca3-187">Po pomyślnym hello przypisanie do grupy zabezpieczeń sieci (przypisania hello jest długotrwałych operacji i może potrwać kilka minut toocomplete), tylko ruchu przychodzącego ruchu dopasowania *Zezwalaj* reguły pomyślnie osiągną aplikacji w aplikacji hello Środowisko usługi.</span><span class="sxs-lookup"><span data-stu-id="65ca3-187">Once hello network security group assignment succeeds (hello assignment is a long-running operations and can take a few minutes toocomplete), only inbound traffic matching *Allow* rules will successfully reach apps in hello App Service Environment.</span></span>

<span data-ttu-id="65ca3-188">Witaj kompletności poniższy przykład przedstawia, jak tooremove i w związku z tym zabezpieczenia sieci hello rozłączone kojarzenia grupy z podsieci hello:</span><span class="sxs-lookup"><span data-stu-id="65ca3-188">For completeness hello following example shows how tooremove and thus dis-associate hello network security group from hello subnet:</span></span>

    Get-AzureNetworkSecurityGroup -Name "testNSGexample" | Remove-AzureNetworkSecurityGroupFromSubnet -VirtualNetworkName 'testVNet' -SubnetName 'Subnet-test'

## <a name="special-considerations-for-explicit-ip-ssl"></a><span data-ttu-id="65ca3-189">Uwagi dotyczące protokołu SSL jawnego adresu IP</span><span class="sxs-lookup"><span data-stu-id="65ca3-189">Special Considerations for Explicit IP-SSL</span></span>
<span data-ttu-id="65ca3-190">Jeśli aplikacja jest konfigurowana jawne adresów IP protokołu SSL (dotyczy *tylko* tooASEs, który ma publicznego adresu VIP), zamiast używać hello domyślny adres IP hello środowiska usługi aplikacji, HTTP i HTTPS ruchu, jest przenoszony do podsieci hello za pośrednictwem innego zestawu porty inne niż porty 80 i 443.</span><span class="sxs-lookup"><span data-stu-id="65ca3-190">If an app is configured with an explicit IP-SSL address (applicable *only* tooASEs that have a public VIP), instead of using hello default IP address of hello App Service Environment, both HTTP and HTTPS traffic flows into hello subnet over a different set of ports other than ports 80 and 443.</span></span>

<span data-ttu-id="65ca3-191">Poszczególne pary Hello porty używane przez każdy adres IP SSL można znaleźć w interfejsie użytkownika portalu hello z bloku UX szczegóły środowiska hello aplikacji usługi.</span><span class="sxs-lookup"><span data-stu-id="65ca3-191">hello individual pair of ports used by each IP-SSL address can be found in hello portal user interface from hello App Service Environment's details UX blade.</span></span>  <span data-ttu-id="65ca3-192">Wybierz opcję "wszystkie ustawienia"--> "Adresów IP".</span><span class="sxs-lookup"><span data-stu-id="65ca3-192">Select "All settings" --> "IP addresses".</span></span>  <span data-ttu-id="65ca3-193">Blok Hello "adresów IP" zawiera spis wszystkich jawnie skonfigurowanych adresów IP protokołu SSL dla hello środowiska usługi aplikacji, wraz z pary port specjalny hello, która jest używana tooroute ruchu HTTP i HTTPS skojarzone z poszczególnych adresów IP protokołu SSL.</span><span class="sxs-lookup"><span data-stu-id="65ca3-193">hello "IP addresses" blade shows a table of all explicitly configured IP-SSL addresses for hello App Service Environment, along with hello special port pair that is used tooroute HTTP and HTTPS traffic associated with each IP-SSL address.</span></span>  <span data-ttu-id="65ca3-194">Jest to pary portu, wymagającym toobe używane dla parametrów DestinationPortRange hello, podczas konfigurowania reguły do grupy zabezpieczeń sieci.</span><span class="sxs-lookup"><span data-stu-id="65ca3-194">It is this port pair that needs toobe used for hello DestinationPortRange parameters when configuring rules in a network security group.</span></span>

<span data-ttu-id="65ca3-195">Aplikację na elemencie ASE po skonfigurowanym toouse IP SSL klientów zewnętrznych nie będą widzieć i nie ma potrzeby tooworry o hello port specjalny pary mapowania.</span><span class="sxs-lookup"><span data-stu-id="65ca3-195">When an app on an ASE is configured toouse IP-SSL, external customers will not see and do not need tooworry about hello special port pair mapping.</span></span>  <span data-ttu-id="65ca3-196">Aplikacje toohello ruch będzie przepływać zwykle toohello skonfigurowany adres IP SSL.</span><span class="sxs-lookup"><span data-stu-id="65ca3-196">Traffic toohello apps will flow normally toohello configured IP-SSL address.</span></span>  <span data-ttu-id="65ca3-197">Hello tłumaczenia toohello port specjalny pary automatycznie odbywa się wewnętrznie podczas końcowej gałęzi hello routingu ruchu w hello podsieci zawierającego hello ASE.</span><span class="sxs-lookup"><span data-stu-id="65ca3-197">hello translation toohello special port pair automatically happens internally during hello final leg of routing traffic into hello subnet containing hello ASE.</span></span> 

## <a name="getting-started"></a><span data-ttu-id="65ca3-198">Wprowadzenie</span><span class="sxs-lookup"><span data-stu-id="65ca3-198">Getting started</span></span>
<span data-ttu-id="65ca3-199">tooget wprowadzenie do środowiska usługi App Service, zobacz [tooApp wprowadzenie środowiska usługi][IntroToAppServiceEnvironment]</span><span class="sxs-lookup"><span data-stu-id="65ca3-199">tooget started with App Service Environments, see [Introduction tooApp Service Environment][IntroToAppServiceEnvironment]</span></span>

<span data-ttu-id="65ca3-200">Wszystkie artykuły i w jaki sposób — do użytkownika dla środowiska usługi aplikacji są dostępne w hello [Plik README dla środowiska usługi aplikacji](../app-service/app-service-app-service-environments-readme.md).</span><span class="sxs-lookup"><span data-stu-id="65ca3-200">All articles and How-To's for App Service Environments are available in hello [README for Application Service Environments](../app-service/app-service-app-service-environments-readme.md).</span></span>

<span data-ttu-id="65ca3-201">Szczegółowe wokół aplikacji bezpiecznego połączenia toobackend zasobów ze środowiska usługi aplikacji, zobacz [bezpieczne łączenie zasobów tooBackend ze środowiska usługi aplikacji][SecurelyConnecttoBackend]</span><span class="sxs-lookup"><span data-stu-id="65ca3-201">For details around apps securely connecting toobackend resource from an App Service Environment, see [Securely connecting tooBackend resources from an App Service Environment][SecurelyConnecttoBackend]</span></span>

<span data-ttu-id="65ca3-202">Aby uzyskać więcej informacji na temat hello platformy Azure App Service, zobacz [usłudze Azure App Service][AzureAppService].</span><span class="sxs-lookup"><span data-stu-id="65ca3-202">For more information about hello Azure App Service platform, see [Azure App Service][AzureAppService].</span></span>

[!INCLUDE [app-service-web-whats-changed](../../includes/app-service-web-whats-changed.md)]

[!INCLUDE [app-service-web-try-app-service](../../includes/app-service-web-try-app-service.md)]

<!-- LINKS -->
[virtualnetwork]: https://azure.microsoft.com/documentation/articles/virtual-networks-faq/
[HowToCreateAnAppServiceEnvironment]: http://azure.microsoft.com/documentation/articles/app-service-web-how-to-create-an-app-service-environment/
[NetworkSecurityGroups]: https://azure.microsoft.com/documentation/articles/virtual-networks-nsg/
[AzureAppService]: http://azure.microsoft.com/documentation/articles/app-service-value-prop-what-is/
[IntroToAppServiceEnvironment]:  http://azure.microsoft.com/documentation/articles/app-service-app-service-environment-intro/
[SecurelyConnecttoBackend]:  http://azure.microsoft.com/documentation/articles/app-service-app-service-environment-securely-connecting-to-backend-resources/
[NewPortal]:  https://portal.azure.com  

<!-- IMAGES -->

