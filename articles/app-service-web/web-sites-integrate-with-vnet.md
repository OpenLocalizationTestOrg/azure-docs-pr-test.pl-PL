---
title: Integracja aplikacji z sieci wirtualnej platformy Azure
description: "Pokazuje, jak połączyć aplikację w usłudze Azure App Service do nowej lub istniejącej sieci wirtualnej platformy Azure"
services: app-service
documentationcenter: 
author: ccompy
manager: erikre
editor: cephalin
ms.assetid: 90bc6ec6-133d-4d87-a867-fcf77da75f5a
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/23/2017
ms.author: ccompy
ms.openlocfilehash: 61508f759cad92a8c17d72a5d68fb54994c393bc
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 08/29/2017
---
# <a name="integrate-your-app-with-an-azure-virtual-network"></a><span data-ttu-id="980f6-103">Integracja aplikacji z sieci wirtualnej platformy Azure</span><span class="sxs-lookup"><span data-stu-id="980f6-103">Integrate your app with an Azure Virtual Network</span></span>
<span data-ttu-id="980f6-104">Ten dokument zawiera opis funkcji integracji sieci wirtualnej Azure App Service i pokazuje, jak je skonfigurować przy użyciu aplikacji w [usłudze Azure App Service](http://go.microsoft.com/fwlink/?LinkId=529714).</span><span class="sxs-lookup"><span data-stu-id="980f6-104">This document describes the Azure App Service virtual network integration feature and shows how to set it up with apps in [Azure App Service](http://go.microsoft.com/fwlink/?LinkId=529714).</span></span> <span data-ttu-id="980f6-105">Jeśli znasz sieci wirtualnych Azure (sieci wirtualne), jest możliwość, która pozwala umieszczać wiele zasobów platformy Azure w kontroli dostępu do sieci routeable z systemem innym niż internet.</span><span class="sxs-lookup"><span data-stu-id="980f6-105">If you are unfamiliar with Azure Virtual Networks (VNets), this is a capability that allows you to place many of your Azure resources in a non-internet routeable network that you control access to.</span></span> <span data-ttu-id="980f6-106">Te sieci mogą być następnie połączone z sieciami lokalnymi przy użyciu różnych technologii sieci VPN.</span><span class="sxs-lookup"><span data-stu-id="980f6-106">These networks can then be connected to your on-premises networks using a variety of VPN technologies.</span></span> <span data-ttu-id="980f6-107">Aby dowiedzieć się więcej o sieciach wirtualnych platformy Azure, należy uruchomić z informacjami w tym miejscu: [omówienie sieci wirtualnych Azure][VNETOverview].</span><span class="sxs-lookup"><span data-stu-id="980f6-107">To learn more about Azure Virtual Networks, start with the information here: [Azure Virtual Network Overview][VNETOverview].</span></span> 

<span data-ttu-id="980f6-108">Usługi aplikacji Azure ma dwa formularze.</span><span class="sxs-lookup"><span data-stu-id="980f6-108">The Azure App Service has two forms.</span></span> 

1. <span data-ttu-id="980f6-109">Systemów wieloma dzierżawcami, które obsługują pełnego zakresu planów cenowych</span><span class="sxs-lookup"><span data-stu-id="980f6-109">The multi-tenant systems that support the full range of pricing plans</span></span>
2. <span data-ttu-id="980f6-110">Funkcja premium środowiska usługi aplikacji (ASE), która wdraża do sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="980f6-110">The App Service Environment (ASE) premium feature, which deploys into your VNet.</span></span> 

<span data-ttu-id="980f6-111">Ten dokument jest przesyłany przez integrację sieci wirtualnej i nie środowiska usługi aplikacji.</span><span class="sxs-lookup"><span data-stu-id="980f6-111">This document goes through VNet Integration and not App Service Environment.</span></span> <span data-ttu-id="980f6-112">Jeśli chcesz dowiedzieć się więcej o funkcji ASE rozpoczynać się od informacji w tym miejscu: [wprowadzenie środowiska usługi aplikacji][ASEintro].</span><span class="sxs-lookup"><span data-stu-id="980f6-112">If you want to learn more about the ASE feature, start with the information here: [App Service Environment introduction][ASEintro].</span></span>

<span data-ttu-id="980f6-113">Integracja z sieciami wirtualnymi pozwala Ci dostęp do aplikacji sieci web do zasobów w sieci wirtualnej, ale nie powoduje przyznania dostępu prywatnego do aplikacji sieci web z siecią wirtualną.</span><span class="sxs-lookup"><span data-stu-id="980f6-113">VNet Integration gives your web app access to resources in your virtual network but does not grant private access to your web app from the virtual network.</span></span> <span data-ttu-id="980f6-114">Dostęp do witryny prywatnej odwołuje się do tylko udostępnianie aplikacji z sieci prywatnej takich jak z wewnątrz sieci wirtualnej platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="980f6-114">Private site access refers to making your app only accessible from a private network such as from within an Azure virtual network.</span></span> <span data-ttu-id="980f6-115">Dostęp do witryny prywatny jest dostępny tylko dla ASE skonfigurowane z wewnętrznego obciążenia równoważenia (ILB).</span><span class="sxs-lookup"><span data-stu-id="980f6-115">Private site access is only available with an ASE configured with an Internal Load Balancer (ILB).</span></span> <span data-ttu-id="980f6-116">Aby uzyskać więcej informacji na temat używania ASE ILB, rozpoczynać się od tego artykułu, w tym miejscu: [tworzenie i używanie ASE ILB][ILBASE].</span><span class="sxs-lookup"><span data-stu-id="980f6-116">For details on using an ILB ASE, start with the article here: [Creating and using an ILB ASE][ILBASE].</span></span> 

<span data-ttu-id="980f6-117">Typowy scenariusz, w której można zastosować integrację sieci wirtualnej jest umożliwienie dostępu z aplikacji sieci web do bazy danych lub usługi sieci web uruchomiony na maszynie wirtualnej w sieci wirtualnej platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="980f6-117">A common scenario where you would use VNet Integration is enabling access from your web app to a database or a web service running on a virtual machine in your Azure virtual network.</span></span> <span data-ttu-id="980f6-118">Dzięki integracji sieci wirtualnej nie trzeba ujawniać publicznego punktu końcowego dla aplikacji w sieci maszyny Wirtualnej, ale może użyć prywatnych adresów routingu internetowego z systemem innym niż.</span><span class="sxs-lookup"><span data-stu-id="980f6-118">With VNet Integration, you don't need to expose a public endpoint for applications on your VM but can use the private non-internet routable addresses instead.</span></span> 

<span data-ttu-id="980f6-119">Funkcja integracji sieci wirtualnej:</span><span class="sxs-lookup"><span data-stu-id="980f6-119">The VNet Integration feature:</span></span>

* <span data-ttu-id="980f6-120">wymaga Standard, Premium lub izolowany cenową planu</span><span class="sxs-lookup"><span data-stu-id="980f6-120">requires a Standard, Premium, or Isolated pricing plan</span></span> 
* <span data-ttu-id="980f6-121">działa z klasycznym lub Menedżera zasobów w sieci wirtualnej</span><span class="sxs-lookup"><span data-stu-id="980f6-121">works with Classic or Resource Manager VNet</span></span> 
* <span data-ttu-id="980f6-122">obsługuje TCP i UDP</span><span class="sxs-lookup"><span data-stu-id="980f6-122">supports TCP and UDP</span></span>
* <span data-ttu-id="980f6-123">współpracuje z aplikacjami sieci Web, mobilnych i interfejsu API</span><span class="sxs-lookup"><span data-stu-id="980f6-123">works with Web, Mobile, and API apps</span></span>
* <span data-ttu-id="980f6-124">umożliwia aplikacji łączenie się tylko 1 sieci wirtualnej w czasie</span><span class="sxs-lookup"><span data-stu-id="980f6-124">enables an app to connect to only 1 VNet at a time</span></span>
* <span data-ttu-id="980f6-125">Włącza do pięciu sieci wirtualnych do zintegrowane z planu usługi App Service</span><span class="sxs-lookup"><span data-stu-id="980f6-125">enables up to five VNets to be integrated with in an App Service Plan</span></span> 
* <span data-ttu-id="980f6-126">zezwala na tej samej sieci wirtualnej, który będzie używany przez wiele aplikacji w planie usługi aplikacji</span><span class="sxs-lookup"><span data-stu-id="980f6-126">allows the same VNet to be used by multiple apps in an App Service Plan</span></span>
* <span data-ttu-id="980f6-127">obsługuje 99,9% Umowy dotyczącej poziomu usług z powodu umowy SLA dla bramy sieci wirtualnej</span><span class="sxs-lookup"><span data-stu-id="980f6-127">supports a 99.9% SLA due to the SLA on the VNet Gateway</span></span>

<span data-ttu-id="980f6-128">Istnieje kilka kwestii, które integracji sieci wirtualnej nie obsługuje łącznie:</span><span class="sxs-lookup"><span data-stu-id="980f6-128">There are some things that VNet Integration does not support including:</span></span>

* <span data-ttu-id="980f6-129">zainstalowanie dysku</span><span class="sxs-lookup"><span data-stu-id="980f6-129">mounting a drive</span></span>
* <span data-ttu-id="980f6-130">Funkcja integracji usługi AD</span><span class="sxs-lookup"><span data-stu-id="980f6-130">AD integration</span></span> 
* <span data-ttu-id="980f6-131">NetBios</span><span class="sxs-lookup"><span data-stu-id="980f6-131">NetBios</span></span>
* <span data-ttu-id="980f6-132">dostęp do witryny prywatnej</span><span class="sxs-lookup"><span data-stu-id="980f6-132">private site access</span></span>

### <a name="getting-started"></a><span data-ttu-id="980f6-133">Wprowadzenie</span><span class="sxs-lookup"><span data-stu-id="980f6-133">Getting started</span></span>
<span data-ttu-id="980f6-134">Poniżej przedstawiono niektóre czynności, które należy wziąć pod uwagę przed podłączeniem do sieci wirtualnej aplikacji sieci web:</span><span class="sxs-lookup"><span data-stu-id="980f6-134">Here are some things to keep in mind before connecting your web app to a virtual network:</span></span>

* <span data-ttu-id="980f6-135">Integracja z sieciami wirtualnymi działa tylko w przypadku aplikacji w **standardowe**, **Premium**, lub **izolowany** cenową planu.</span><span class="sxs-lookup"><span data-stu-id="980f6-135">VNet Integration only works with apps in a **Standard**, **Premium**, or **Isolated** pricing plan.</span></span> <span data-ttu-id="980f6-136">Czy włączyć funkcję, a następnie skalować Twojego planu usługi aplikacji do nieobsługiwanego planu cenowego aplikacji utracą połączenia do sieci wirtualnych, używają.</span><span class="sxs-lookup"><span data-stu-id="980f6-136">If you enable the feature, and then scale your App Service Plan to an unsupported pricing plan your apps lose their connections to the VNets they are using.</span></span> 
* <span data-ttu-id="980f6-137">Sieci wirtualnej docelowy już istnieje, musi on mieć włączone z bramą routingu dynamicznego przed podłączeniem do aplikacji VPN punkt lokacja.</span><span class="sxs-lookup"><span data-stu-id="980f6-137">If your target virtual network already exists, it must have point-to-site VPN enabled with a Dynamic routing gateway before it can be connected to an app.</span></span> <span data-ttu-id="980f6-138">Jeśli brama jest skonfigurowana z routingiem statycznym, nie można włączyć punkt lokacja wirtualnej sieci prywatnej (VPN).</span><span class="sxs-lookup"><span data-stu-id="980f6-138">If your gateway is configured with Static routing, you cannot enable point-to-site Virtual Private Network (VPN).</span></span>
* <span data-ttu-id="980f6-139">Sieć wirtualna musi być w tej samej subskrypcji co Twoje Plan(ASP) usługi aplikacji.</span><span class="sxs-lookup"><span data-stu-id="980f6-139">The VNet must be in the same subscription as your App Service Plan(ASP).</span></span> 
* <span data-ttu-id="980f6-140">Aplikacje, które integrują się z użyciem sieci wirtualnej DNS, który jest określony dla tej sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="980f6-140">The apps that integrate with a VNet use the DNS that is specified for that VNet.</span></span>
* <span data-ttu-id="980f6-141">Domyślnie aplikacje całkującej tylko kierować ruchem w sieci wirtualnej na podstawie tras, które są zdefiniowane w sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="980f6-141">By default your integrating apps only route traffic into your VNet based on the routes that are defined in your VNet.</span></span> 

## <a name="enabling-vnet-integration"></a><span data-ttu-id="980f6-142">Włączanie integracji sieci wirtualnej</span><span class="sxs-lookup"><span data-stu-id="980f6-142">Enabling VNet Integration</span></span>
<span data-ttu-id="980f6-143">Ten dokument koncentruje się przede wszystkim na potrzeby integracji sieci wirtualnej przy użyciu portalu Azure.</span><span class="sxs-lookup"><span data-stu-id="980f6-143">This document is focused primarily on using the Azure portal for VNet Integration.</span></span> <span data-ttu-id="980f6-144">Aby włączyć integrację sieci wirtualnej z aplikacji przy użyciu programu PowerShell, postępuj zgodnie z instrukcjami w tym miejscu: [łączenie aplikacji z sieci wirtualnej przy użyciu programu PowerShell][IntPowershell].</span><span class="sxs-lookup"><span data-stu-id="980f6-144">To enable VNet Integration with your app using PowerShell, follow the directions here: [Connect your app to your virtual network by using PowerShell][IntPowershell].</span></span>

<span data-ttu-id="980f6-145">Użytkownik może także łączenie aplikacji do nowej lub istniejącej sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="980f6-145">You have the option to connect your app to a new or existing virtual network.</span></span> <span data-ttu-id="980f6-146">Jeśli tworzysz nową sieć jako część integracją, oprócz tworzenie sieci wirtualnej, jest wstępnie skonfigurowanej bramy routingu dynamicznego i punkt witryny sieci VPN jest włączona.</span><span class="sxs-lookup"><span data-stu-id="980f6-146">If you create a new network as a part of your integration, then in addition to just creating the VNet, a dynamic routing gateway is pre-configured for you and Point to Site VPN is enabled.</span></span> 

> [!NOTE]
> <span data-ttu-id="980f6-147">Konfigurowanie nowego integracji sieci wirtualnej może potrwać kilka minut.</span><span class="sxs-lookup"><span data-stu-id="980f6-147">Configuring a new virtual network integration can take several minutes.</span></span> 
> 
> 

<span data-ttu-id="980f6-148">Aby włączyć integrację sieci wirtualnej, Otwórz aplikację ustawienia, a następnie wybierz sieć.</span><span class="sxs-lookup"><span data-stu-id="980f6-148">To enable VNet Integration, open your app Settings and then select Networking.</span></span> <span data-ttu-id="980f6-149">Interfejs użytkownika, który zostaje otwarty oferuje trzy opcje sieci.</span><span class="sxs-lookup"><span data-stu-id="980f6-149">The UI that opens up offers three networking choices.</span></span> <span data-ttu-id="980f6-150">Ten przewodnik jest tylko do integracji sieci wirtualnej jednak połączeń hybrydowych i środowiska usługi App Service zostały omówione w dalszej części tego dokumentu.</span><span class="sxs-lookup"><span data-stu-id="980f6-150">This guide is only going into VNet Integration though Hybrid Connections and App Service Environments are discussed later in this document.</span></span> 

<span data-ttu-id="980f6-151">Jeśli aplikacja jest nie na poziomie właściwej cenach planu, interfejs użytkownika umożliwia skalowanie planu do wyższych planu cenowego wybranych przez użytkownika.</span><span class="sxs-lookup"><span data-stu-id="980f6-151">If your app is not in the correct pricing plan, the UI enables you to scale your plan to a higher pricing plan of your choice.</span></span>

![][1]

### <a name="enabling-vnet-integration-with-a-pre-existing-vnet"></a><span data-ttu-id="980f6-152">Włączanie integracji sieci wirtualnej z istniejącej sieci wirtualnej</span><span class="sxs-lookup"><span data-stu-id="980f6-152">Enabling VNet Integration with a pre-existing VNet</span></span>
<span data-ttu-id="980f6-153">Interfejsu użytkownika integracji sieci wirtualnej można wybrać z listy Twojej sieci wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="980f6-153">The VNet Integration UI allows you to select from a list of your VNets.</span></span> <span data-ttu-id="980f6-154">Klasyczne sieci wirtualne wskazuje, że są takie od słowa "Klasyczny" w nawiasach obok nazwy sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="980f6-154">The Classic VNets indicate that they are such with the word "Classic" in parentheses next to the VNet name.</span></span> <span data-ttu-id="980f6-155">Lista jest sortowana w taki sposób, że sieci wirtualnych Menedżera zasobów są wyświetlane jako pierwsze.</span><span class="sxs-lookup"><span data-stu-id="980f6-155">The list is sorted such that the Resource Manager VNets are listed first.</span></span> <span data-ttu-id="980f6-156">W obrazie pokazano poniżej widać, że można wybrać tylko jedną sieć wirtualną.</span><span class="sxs-lookup"><span data-stu-id="980f6-156">In the image shown below you can see that only one VNet can be selected.</span></span> <span data-ttu-id="980f6-157">Istnieje wiele przyczyn, że sieć wirtualną można wyszarzone w tym:</span><span class="sxs-lookup"><span data-stu-id="980f6-157">There are multiple reasons that a VNet can be grayed out including:</span></span>

* <span data-ttu-id="980f6-158">sieć wirtualna jest w innej subskrypcji, czy Twoje konto ma dostęp do</span><span class="sxs-lookup"><span data-stu-id="980f6-158">the VNet is in another subscription that your account has access to</span></span>
* <span data-ttu-id="980f6-159">sieć wirtualna nie ma punktu do lokacji włączona</span><span class="sxs-lookup"><span data-stu-id="980f6-159">the VNet does not have Point to Site enabled</span></span>
* <span data-ttu-id="980f6-160">sieć wirtualna nie ma dynamicznych bramy routingu</span><span class="sxs-lookup"><span data-stu-id="980f6-160">the VNet does not have a dynamic routing gateway</span></span>

![][2]

<span data-ttu-id="980f6-161">Aby włączyć integrację kliknij po prostu chcesz zintegrować z sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="980f6-161">To enable integration simply click on the VNet you wish to integrate with.</span></span> <span data-ttu-id="980f6-162">Po wybraniu sieć wirtualna aplikacja jest automatycznie uruchamiany ponownie aby zmiany zaczęły obowiązywać.</span><span class="sxs-lookup"><span data-stu-id="980f6-162">After you select the VNet, your app is automatically restarted for the changes to take effect.</span></span> 

##### <a name="enable-point-to-site-in-a-classic-vnet"></a><span data-ttu-id="980f6-163">Włącz punkt do lokacji w klasycznej sieci wirtualnej</span><span class="sxs-lookup"><span data-stu-id="980f6-163">Enable Point to Site in a Classic VNet</span></span>
<span data-ttu-id="980f6-164">Jeśli nie ma bramy sieci wirtualnej, ani ma punkt do lokacji, następnie należy skonfigurować pierwszy.</span><span class="sxs-lookup"><span data-stu-id="980f6-164">If your VNet does not have a gateway nor has Point to Site, then you have to set that up first.</span></span> <span data-ttu-id="980f6-165">Aby to zrobić klasycznej sieci wirtualnej, przejdź do [portalu Azure] [ AzurePortal] i wyświetlić wykaz Networks(classic) wirtualnego.</span><span class="sxs-lookup"><span data-stu-id="980f6-165">To do this for a Classic VNet, go to the [Azure portal][AzurePortal] and bring up the list of Virtual Networks(classic).</span></span> <span data-ttu-id="980f6-166">W tym miejscu kliknij sieć, którą chcesz zintegrować z, a następnie kliknij duży pole w obszarze Essentials o nazwie połączeń sieci VPN.</span><span class="sxs-lookup"><span data-stu-id="980f6-166">From here, click on the network you want to integrate with and click on the big box under Essentials called VPN Connections.</span></span> <span data-ttu-id="980f6-167">W tym miejscu można utworzyć punktu witryny sieci VPN i nawet utworzyć bramę.</span><span class="sxs-lookup"><span data-stu-id="980f6-167">From here, you can create your point to site VPN and even have it create a gateway.</span></span> <span data-ttu-id="980f6-168">Po przejściu przez punkt do lokacji z obsługą tworzenia bramy jest około 30 minut, zanim będzie gotowy.</span><span class="sxs-lookup"><span data-stu-id="980f6-168">After you go through the point to site with gateway creation experience it is about 30 minutes before it is ready.</span></span> 

![][8]

##### <a name="enabling-point-to-site-in-a-resource-manager-vnet"></a><span data-ttu-id="980f6-169">Włączanie punkt do lokacji w sieci wirtualnej usługi Resource Manager</span><span class="sxs-lookup"><span data-stu-id="980f6-169">Enabling Point to Site in a Resource Manager VNet</span></span>
<span data-ttu-id="980f6-170">Aby skonfigurować sieć wirtualną Resource Manager z bramy oraz punkt do lokacji, można albo PowerShell zgodnie z opisem w tym miejscu [skonfigurowano połączenia punkt-lokacja z sieci wirtualnej przy użyciu programu PowerShell] [ V2VNETP2S] lub użyj portalu Azure, zgodnie z opisem w tym miejscu [skonfigurowano połączenia punkt-lokacja z sieci wirtualnej przy użyciu portalu Azure][V2VNETPortal].</span><span class="sxs-lookup"><span data-stu-id="980f6-170">To configure a Resource Manager VNet with a gateway and Point to Site, you can use either PowerShell as documented here, [Configure a Point-to-Site connection to a virtual network using PowerShell][V2VNETP2S] or use the Azure portal as documented here, [Configure a Point-to-Site connection to a VNet using the Azure portal][V2VNETPortal].</span></span> <span data-ttu-id="980f6-171">Interfejs użytkownika do wykonania tej funkcji nie jest jeszcze dostępna.</span><span class="sxs-lookup"><span data-stu-id="980f6-171">The UI to perform this capability is not yet available.</span></span> <span data-ttu-id="980f6-172">Uwaga: należy utworzyć certyfikaty dla wskaż konfigurację witryny.</span><span class="sxs-lookup"><span data-stu-id="980f6-172">Note that you need to create certificates for the Point to Site configuration.</span></span> <span data-ttu-id="980f6-173">To jest automatycznie konfigurowany po podłączeniu Twojej aplikacji sieci Web do sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="980f6-173">This is automatically configured when you connect your WebApp to the VNet.</span></span> 

### <a name="creating-a-pre-configured-vnet"></a><span data-ttu-id="980f6-174">Tworzenie wstępnie skonfigurowane sieci wirtualnej</span><span class="sxs-lookup"><span data-stu-id="980f6-174">Creating a pre-configured VNet</span></span>
<span data-ttu-id="980f6-175">Jeśli chcesz tworzyć nowej sieci wirtualnej, który jest skonfigurowany dla bramy i punkt-lokacja usługi App Service sieci interfejsu użytkownika ma możliwość to zrobić, ale tylko dla sieci wirtualnej Menedżera zasobów.</span><span class="sxs-lookup"><span data-stu-id="980f6-175">If you want to create a new VNet that is configured with a gateway and Point-to-Site, then the App Service networking UI has the capability to do that but only for a Resource Manager VNet.</span></span> <span data-ttu-id="980f6-176">Jeśli chcesz utworzyć sieć wirtualną klasycznego bramy i punkt-lokacja, należy to zrobić ręcznie za pomocą interfejsu użytkownika sieci.</span><span class="sxs-lookup"><span data-stu-id="980f6-176">If you wish to create a Classic VNet with a gateway and Point-to-Site, then you need to do this manually through the Networking user interface.</span></span> 

<span data-ttu-id="980f6-177">Aby utworzyć sieć wirtualną Resource Manager za pośrednictwem interfejsu użytkownika integracji sieci wirtualnej, po prostu wybierz **Utwórz nową sieć wirtualną** i podaj:</span><span class="sxs-lookup"><span data-stu-id="980f6-177">To create a Resource Manager VNet through the VNet Integration UI, simply select **Create New Virtual Network** and provide the:</span></span>

* <span data-ttu-id="980f6-178">Nazwa sieci wirtualnej</span><span class="sxs-lookup"><span data-stu-id="980f6-178">Virtual Network Name</span></span>
* <span data-ttu-id="980f6-179">Blok adresów sieci wirtualnej</span><span class="sxs-lookup"><span data-stu-id="980f6-179">Virtual Network Address Block</span></span>
* <span data-ttu-id="980f6-180">Nazwa podsieci</span><span class="sxs-lookup"><span data-stu-id="980f6-180">Subnet Name</span></span>
* <span data-ttu-id="980f6-181">Blok adresów podsieci</span><span class="sxs-lookup"><span data-stu-id="980f6-181">Subnet Address Block</span></span>
* <span data-ttu-id="980f6-182">Blok adresów bramy</span><span class="sxs-lookup"><span data-stu-id="980f6-182">Gateway Address Block</span></span>
* <span data-ttu-id="980f6-183">Blok adresów punkt lokacja</span><span class="sxs-lookup"><span data-stu-id="980f6-183">Point-to-Site Address Block</span></span>

<span data-ttu-id="980f6-184">Jeśli chcesz, aby ta sieć wirtualna łączenie się z innymi sieciami, następnie należy unikać pobrania przestrzeń adresów IP, który pokrywa się z tych sieci.</span><span class="sxs-lookup"><span data-stu-id="980f6-184">If you want this VNet to connect to any other networks, then you should avoid picking IP address space that overlaps with those networks.</span></span> 

> [!NOTE]
> <span data-ttu-id="980f6-185">Tworzenie sieci wirtualnej Menedżera zasobów przy użyciu bramy trwa około 30 minut i obecnie nie jest zintegrowana z sieci wirtualnej z aplikacją.</span><span class="sxs-lookup"><span data-stu-id="980f6-185">Resource Manager VNet creation with a gateway takes about 30 minutes and currently does not integrate the VNet with your app.</span></span> <span data-ttu-id="980f6-186">Po utworzeniu sieci wirtualnej z bramą należy wrócić do swojej aplikacji integracji sieci wirtualnej w interfejsie użytkownika, a następnie wybierz nowej sieci.</span><span class="sxs-lookup"><span data-stu-id="980f6-186">After your VNet is created with the gateway you need to come back to your app VNet Integration UI and select your new VNet.</span></span>
> 
> 

![][3]

<span data-ttu-id="980f6-187">Sieci wirtualne Azure zwykle są tworzone w sieci prywatnej adresów.</span><span class="sxs-lookup"><span data-stu-id="980f6-187">Azure VNets normally are created within private network addresses.</span></span> <span data-ttu-id="980f6-188">Domyślnie integracji sieci wirtualnej funkcji rozsyła cały ruch kierowany do tych zakresów adresów IP w sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="980f6-188">By default the VNet Integration feature routes any traffic destined for those IP address ranges into your VNet.</span></span> <span data-ttu-id="980f6-189">Zakresów prywatnych adresów IP są:</span><span class="sxs-lookup"><span data-stu-id="980f6-189">The private IP address ranges are:</span></span>

* <span data-ttu-id="980f6-190">10.0.0.0/8 — jest to ten sam jako 10.0.0.0 - 10.255.255.255</span><span class="sxs-lookup"><span data-stu-id="980f6-190">10.0.0.0/8 - this is the same as 10.0.0.0 - 10.255.255.255</span></span>
* <span data-ttu-id="980f6-191">-to jest taka sama jak 172.16.0.0 - 172.16.0.0/12 172.31.255.255</span><span class="sxs-lookup"><span data-stu-id="980f6-191">172.16.0.0/12 - this is the same as 172.16.0.0 - 172.31.255.255</span></span> 
* <span data-ttu-id="980f6-192">192.168.0.0/16 - to jest taka sama jak 192.168.0.0 - 192.168.255.255</span><span class="sxs-lookup"><span data-stu-id="980f6-192">192.168.0.0/16 - this is the same as 192.168.0.0 - 192.168.255.255</span></span>

<span data-ttu-id="980f6-193">Musi być określone w notacji CIDR przestrzeni adresowej sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="980f6-193">The VNet address space needs to be specified in CIDR notation.</span></span> <span data-ttu-id="980f6-194">Jeśli nie znasz w notacji CIDR, to metoda określania bloki adresów przy użyciu adresu IP i liczba całkowita, która reprezentuje maska sieci.</span><span class="sxs-lookup"><span data-stu-id="980f6-194">If you are unfamiliar with CIDR notation, it is a method for specifying address blocks using an IP address and an integer that represents the network mask.</span></span> <span data-ttu-id="980f6-195">Jako podręczny wykaz należy wziąć pod uwagę że 10.1.0.0/24 byłyby 256 adresów i 10.1.0.0/25 byłoby 128 adresów.</span><span class="sxs-lookup"><span data-stu-id="980f6-195">As a quick reference, consider that 10.1.0.0/24 would be 256 addresses and 10.1.0.0/25 would be 128 addresses.</span></span> <span data-ttu-id="980f6-196">Adres IPv4 z /32 będą tylko 1 adres.</span><span class="sxs-lookup"><span data-stu-id="980f6-196">An IPv4 address with a /32 would be just 1 address.</span></span> 

<span data-ttu-id="980f6-197">Jeśli ustawisz tutaj informacje o serwerze DNS, który jest ustawić sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="980f6-197">If you set the DNS server information here, then that is set for your VNet.</span></span> <span data-ttu-id="980f6-198">Po utworzeniu sieci wirtualnej można edytować tych informacji z sieci wirtualnej środowiska użytkownika.</span><span class="sxs-lookup"><span data-stu-id="980f6-198">After VNet creation you can edit this information from the VNet user experiences.</span></span> <span data-ttu-id="980f6-199">Jeśli zmienisz DNS w sieci wirtualnej, należy wykonać operacji sieci synchronizacji.</span><span class="sxs-lookup"><span data-stu-id="980f6-199">If you change the DNS of the VNet, then you need to perform a Sync Network operation.</span></span>

<span data-ttu-id="980f6-200">Podczas tworzenia klasycznych sieci wirtualnej za pomocą interfejsu użytkownika integracji sieci wirtualnej, tworzy sieć wirtualną w tej samej grupie zasobów co aplikacja.</span><span class="sxs-lookup"><span data-stu-id="980f6-200">When you create a Classic VNet using the VNet Integration UI, it creates a VNet in the same resource group as your app.</span></span> 

## <a name="how-the-system-works"></a><span data-ttu-id="980f6-201">Jak działa system</span><span class="sxs-lookup"><span data-stu-id="980f6-201">How the system works</span></span>
<span data-ttu-id="980f6-202">W obszarze obejmuje ta funkcja kompilacje ponad technologii sieci VPN typu punkt-lokacja także łączenie aplikacji do sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="980f6-202">Under the covers this feature builds on top of Point-to-Site VPN technology to connect your app to your VNet.</span></span> <span data-ttu-id="980f6-203">Aplikacje w usłudze Azure App Service mają architektury wielodostępnej systemu, co wyklucza Inicjowanie obsługi aplikacji bezpośrednio w sieci wirtualnej, co jest wykonywane z maszynami wirtualnymi.</span><span class="sxs-lookup"><span data-stu-id="980f6-203">Apps in Azure App Service have a multi-tenant system architecture, which precludes provisioning an app directly in a VNet as is done with virtual machines.</span></span> <span data-ttu-id="980f6-204">Tworzenie na technologii punkt lokacja możemy ograniczające dostęp sieciowy do hostowania aplikacji tylko maszyn wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="980f6-204">By building on point-to-site technology we limit network access to just the virtual machine hosting the app.</span></span> <span data-ttu-id="980f6-205">Dostęp do sieci dalsze jest ograniczone na tych hostach aplikacji, umożliwiając aplikacji tylko dostęp do sieci, które można skonfigurować im to dostęp do.</span><span class="sxs-lookup"><span data-stu-id="980f6-205">Access to the network is further restricted on those app hosts so that your apps can only access the networks that you configure them to access.</span></span> 

![][4]

<span data-ttu-id="980f6-206">Jeśli nie skonfigurowano serwera DNS z sieci wirtualnej, aplikacji należy używać adresów IP do zasobów w sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="980f6-206">If you haven’t configured a DNS server with your virtual network, your app will need to use IP addresses to reach resource in the VNet.</span></span> <span data-ttu-id="980f6-207">Podczas korzystania z adresów IP, należy pamiętać, że główną zaletą tej funkcji jest umożliwia używanie prywatnych adresów w sieci prywatnej.</span><span class="sxs-lookup"><span data-stu-id="980f6-207">While using IP addresses, remember that the major benefit of this feature is that it enables you to use the private addresses within your private network.</span></span> <span data-ttu-id="980f6-208">Jeśli ustawisz aplikacji do obsługi publicznego adresu IP, adresy dla jednej z maszyn wirtualnych, a następnie nie korzystają z funkcji Integracja z sieciami wirtualnymi i komunikują się za pośrednictwem Internetu.</span><span class="sxs-lookup"><span data-stu-id="980f6-208">If you set your app up to use public IP addresses for one of your VMs, then you aren't using the VNet Integration feature and are communicating over the internet.</span></span>

## <a name="managing-the-vnet-integrations"></a><span data-ttu-id="980f6-209">Zarządzanie integracji sieci wirtualnej</span><span class="sxs-lookup"><span data-stu-id="980f6-209">Managing the VNet Integrations</span></span>
<span data-ttu-id="980f6-210">Możliwość nawiązywanie i zakańczanie do sieci wirtualnej jest na poziomie aplikacji.</span><span class="sxs-lookup"><span data-stu-id="980f6-210">The ability to connect and disconnect to a VNet is at an app level.</span></span> <span data-ttu-id="980f6-211">Operacje, które mogą wpłynąć na wielu aplikacjom integrację sieci wirtualnej są na poziomie ASP.</span><span class="sxs-lookup"><span data-stu-id="980f6-211">Operations that can affect the VNet Integration across multiple apps are at an ASP level.</span></span> <span data-ttu-id="980f6-212">W interfejsie użytkownika, który jest wyświetlany na poziomie aplikacji można uzyskać szczegółowe informacje w Twojej sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="980f6-212">From the UI that is shown at the app level, you can get details on your VNet.</span></span> <span data-ttu-id="980f6-213">Większość tych samych informacji jest także pokazany na poziomie ASP.</span><span class="sxs-lookup"><span data-stu-id="980f6-213">Most of the same information is also shown at the ASP level.</span></span> 

![][5]

<span data-ttu-id="980f6-214">Na stronie Stan funkcji sieci widać, jeśli aplikacja jest podłączony do sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="980f6-214">From the Network Feature Status page, you can see if your app is connected to your VNet.</span></span> <span data-ttu-id="980f6-215">Jeśli bramy sieci wirtualnej działa niezależnie od przyczyny, następnie to będzie wyświetlane jako połączony nie.</span><span class="sxs-lookup"><span data-stu-id="980f6-215">If your VNet gateway is down for whatever reason, then this would show as not-connected.</span></span> 

<span data-ttu-id="980f6-216">Informacje, które masz teraz dostępne w aplikacji, z poziomu interfejsu użytkownika integracji sieci wirtualnej jest taka sama jak szczegółowe informacje, które można uzyskać z ASP.</span><span class="sxs-lookup"><span data-stu-id="980f6-216">The information you now have available to you in the app level VNet Integration UI is the same as the detail information you get from the ASP.</span></span> <span data-ttu-id="980f6-217">Poniżej przedstawiono te elementy:</span><span class="sxs-lookup"><span data-stu-id="980f6-217">Here are those items:</span></span>

* <span data-ttu-id="980f6-218">Nazwa sieci wirtualnej — to łącze powoduje otwarcie sieci wirtualnej platformy Azure interfejsu użytkownika</span><span class="sxs-lookup"><span data-stu-id="980f6-218">VNet Name - This link opens the Azure virtual network UI</span></span>
* <span data-ttu-id="980f6-219">Lokalizacja — odzwierciedla lokalizacji sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="980f6-219">Location - This reflects the location of your VNet.</span></span> <span data-ttu-id="980f6-220">Istnieje możliwość integracji z sieciami wirtualnymi w innej lokalizacji.</span><span class="sxs-lookup"><span data-stu-id="980f6-220">It is possible to integrate with a VNet in another location.</span></span>
* <span data-ttu-id="980f6-221">Stan certyfikatu — istnieją certyfikaty używane do zabezpieczenia połączenia sieci VPN między sieciami wirtualnymi i aplikacji.</span><span class="sxs-lookup"><span data-stu-id="980f6-221">Certificate Status - There are certificates used to secure the VPN connection between the app and the VNet.</span></span> <span data-ttu-id="980f6-222">Ta właściwość odzwierciedla test, aby upewnić się, że są one zsynchronizowane.</span><span class="sxs-lookup"><span data-stu-id="980f6-222">This reflects a test to ensure they are in sync.</span></span>
* <span data-ttu-id="980f6-223">Stan bramy — z bram należy dół jakiegoś powodu następnie aplikacji nie dostępu do zasobów w sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="980f6-223">Gateway Status - Should your gateways be down for whatever reason then your app cannot access resources in the VNet.</span></span> 
* <span data-ttu-id="980f6-224">Sieci wirtualnej przestrzeni adresowej — jest to przestrzeń adresów IP dla sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="980f6-224">VNet address space - This is the IP address space for your VNet.</span></span> 
* <span data-ttu-id="980f6-225">Wskaż przestrzeni adresowej Site - to jest punkt do lokacji przestrzeń adresową sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="980f6-225">Point to Site address space - This is the point to site IP address space for your VNet.</span></span> <span data-ttu-id="980f6-226">Aplikacja zawiera komunikatu jako pochodzących z jednego z adresów IP w tej przestrzeni adresowej.</span><span class="sxs-lookup"><span data-stu-id="980f6-226">Your app shows communication as coming from one of the IPs in this address space.</span></span> 
* <span data-ttu-id="980f6-227">Lokacji do lokacji przestrzeni adresowej — można sieci VPN do lokacji sieci wirtualnej połączyć się z zasobami lokalnymi lub innymi sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="980f6-227">Site to site address space - You can use Site to Site VPNs to connect your VNet to your on-premises resources or to other VNet.</span></span> <span data-ttu-id="980f6-228">Powinien mieć, który skonfigurowany, a następnie zakresów IP zdefiniowane z tutaj pokazano połączenia sieci VPN.</span><span class="sxs-lookup"><span data-stu-id="980f6-228">Should you have that configured then the IP ranges defined with that VPN connection shows here.</span></span>
* <span data-ttu-id="980f6-229">Serwery DNS — Jeśli masz serwerom DNS skonfigurowanym z sieci wirtualnej, a następnie są one wyświetlane tutaj.</span><span class="sxs-lookup"><span data-stu-id="980f6-229">DNS Servers - If you have DNS Servers configured with your VNet, then they are listed here.</span></span>
* <span data-ttu-id="980f6-230">Adresy IP kierowane do sieci wirtualnej - tam przedstawiono listę adresów IP sieci wirtualnej ma routingu zdefiniowane dla i tych adresów Pokaż tutaj.</span><span class="sxs-lookup"><span data-stu-id="980f6-230">IPs routed to the VNet - There are a list of IP addresses that your VNet has routing defined for, and those addresses show here.</span></span> 

<span data-ttu-id="980f6-231">Jedyną operacją, które można wykonać w widoku aplikacji integracji sieci wirtualnej jest rozłączyć aplikacji jest aktualnie połączony z siecią wirtualną.</span><span class="sxs-lookup"><span data-stu-id="980f6-231">The only operation you can take in the app view of your VNet Integration is to disconnect your app from the VNet it is currently connected to.</span></span> <span data-ttu-id="980f6-232">Aby zrobić to po prostu kliknij przycisk Odłącz u góry.</span><span class="sxs-lookup"><span data-stu-id="980f6-232">To do this simply click Disconnect at the top.</span></span> <span data-ttu-id="980f6-233">Ta akcja nie powoduje zmiany sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="980f6-233">This action does not change your VNet.</span></span> <span data-ttu-id="980f6-234">Sieć wirtualna i jej konfiguracji w tym bramy pozostaje niezmieniona.</span><span class="sxs-lookup"><span data-stu-id="980f6-234">The VNet and its configuration including the gateways remains unchanged.</span></span> <span data-ttu-id="980f6-235">Jeśli następnie chcesz usunąć sieci wirtualnej, należy najpierw usunąć zawartych w niej w tym bramy zasobów.</span><span class="sxs-lookup"><span data-stu-id="980f6-235">If you then want to delete your VNet, you need to first delete the resources in it including the gateways.</span></span> 

<span data-ttu-id="980f6-236">W widoku Plan usługi App Service ma liczbę dodatkowych operacji.</span><span class="sxs-lookup"><span data-stu-id="980f6-236">The App Service Plan view has a number of additional operations.</span></span> <span data-ttu-id="980f6-237">Jest on również dostępny inaczej niż w aplikacji.</span><span class="sxs-lookup"><span data-stu-id="980f6-237">It is also accessed differently than from the app.</span></span> <span data-ttu-id="980f6-238">Do osiągnięcia interfejsu użytkownika sieci ASP po prostu otworzyć ASP interfejsu użytkownika i przewiń w dół.</span><span class="sxs-lookup"><span data-stu-id="980f6-238">To reach the ASP Networking UI simply open your ASP UI and scroll down.</span></span> <span data-ttu-id="980f6-239">Brak elementu interfejsu użytkownika o nazwie stan funkcji sieci.</span><span class="sxs-lookup"><span data-stu-id="980f6-239">There is a UI element called Network Feature Status.</span></span> <span data-ttu-id="980f6-240">Udostępnia pewne szczegóły pomocnicza wokół integracją sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="980f6-240">It gives some minor details around your VNet Integration.</span></span> <span data-ttu-id="980f6-241">Kliknięcie tego interfejsu użytkownika otwiera interfejs stanu funkcji sieci.</span><span class="sxs-lookup"><span data-stu-id="980f6-241">Clicking on this UI opens the Network Feature Status UI.</span></span> <span data-ttu-id="980f6-242">Jeśli następnie polecenie "Kliknij tutaj, aby zarządzać" otwiera interfejsu użytkownika, który zawiera listę integracji sieci wirtualnej, w tym ASP.</span><span class="sxs-lookup"><span data-stu-id="980f6-242">If you then click on "Click here to manage", the UI that lists the VNet Integrations in this ASP opens.</span></span>

![][6]

<span data-ttu-id="980f6-243">Lokalizacja ASP jest warto pamiętać podczas wyszukiwania w lokalizacjach sieci wirtualnych, należy przeprowadzić integrację.</span><span class="sxs-lookup"><span data-stu-id="980f6-243">The location of the ASP is good to remember when looking at the locations of the VNets you are integrating with.</span></span> <span data-ttu-id="980f6-244">Gdy sieć wirtualna jest w innej lokalizacji jest znacznie bardziej prawdopodobne wyświetlić opóźnień.</span><span class="sxs-lookup"><span data-stu-id="980f6-244">When the VNet is in another location you are far more likely to see latency issues.</span></span> 

<span data-ttu-id="980f6-245">Sieci wirtualne, zintegrowany z przypomina na liczbę sieci wirtualnych się, że aplikacje są zintegrowane z usługą, w tym ASP i ile można mieć.</span><span class="sxs-lookup"><span data-stu-id="980f6-245">The VNets integrated with is a reminder on how many VNets your apps are integrated with in this ASP and how many you can have.</span></span> 

<span data-ttu-id="980f6-246">Aby wyświetlić szczegóły dodanych w każdej sieci wirtualnej, po prostu kliknij w sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="980f6-246">To see added details on each VNet, just click on the VNet you are interested in.</span></span> <span data-ttu-id="980f6-247">Oprócz szczegółów, które zostały wymienione wcześniej można także wyświetlić listę aplikacji w tym ASP, które korzystają z tej sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="980f6-247">In addition to the details that were noted earlier, you can also see a list of the apps in this ASP that are using that VNet.</span></span> 

<span data-ttu-id="980f6-248">W odniesieniu do działań istnieją dwie podstawowe akcje.</span><span class="sxs-lookup"><span data-stu-id="980f6-248">With respect to actions there are two primary actions.</span></span> <span data-ttu-id="980f6-249">Pierwsza to możliwość dodawania tras, na których dysków ruchu wychodzącego aplikacji w sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="980f6-249">The first is the ability to add routes that drive traffic leaving your app into your VNet.</span></span> <span data-ttu-id="980f6-250">Drugiej akcji jest możliwość synchronizacji certyfikaty i informacje o sieci.</span><span class="sxs-lookup"><span data-stu-id="980f6-250">The second action is the ability to sync certificates and network information.</span></span>

![][7]

<span data-ttu-id="980f6-251">**Routing** jak wspomniano wcześniej, są trasy zdefiniowane w sieci wirtualnej jest używany do kierowania ruchu w sieci wirtualnej z aplikacji.</span><span class="sxs-lookup"><span data-stu-id="980f6-251">**Routing** As noted earlier the routes that are defined in your VNet are what is used for directing traffic into your VNet from your app.</span></span> <span data-ttu-id="980f6-252">Brak niektórych zastosowaniach chociaż gdzie klienci chcą wysyłanie dodatkowych ruchu wychodzącego z aplikacji do sieci wirtualnej i ich ta możliwość jest dostępne.</span><span class="sxs-lookup"><span data-stu-id="980f6-252">There are some uses though where customers want to send additional outbound traffic from an app into the VNet and for them this capability is provided.</span></span> <span data-ttu-id="980f6-253">Co się dzieje na ruch będzie maksymalnie jak klient skonfigurował ich sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="980f6-253">What happens to the traffic after that is up to how the customer configures their VNet.</span></span> 

<span data-ttu-id="980f6-254">**Certyfikaty** kontroli przez usługę App Service można sprawdzić poprawności wykonywana, że certyfikaty używane dla połączenia sieci VPN są nadal dobrej odzwierciedla stan certyfikatu.</span><span class="sxs-lookup"><span data-stu-id="980f6-254">**Certificates** The Certificate Status reflects a check being performed by the App Service to validate that the certificates that we are using for the VPN connection are still good.</span></span> <span data-ttu-id="980f6-255">Po włączeniu integracji sieci wirtualnej, jeśli to jest pierwszy integracji do tej sieci wirtualnej z dowolnej aplikacji, w tym ASP występuje wymagane wymiany certyfikatów do zabezpieczenia połączenia.</span><span class="sxs-lookup"><span data-stu-id="980f6-255">When VNet Integration enabled, then if this is the first integration to that VNet from any apps in this ASP, there is a required exchange of certificates to ensure the security of the connection.</span></span> <span data-ttu-id="980f6-256">Wraz z certyfikatów uzyskujemy konfiguracji serwera DNS, tras i innymi podobne, które opisują sieci.</span><span class="sxs-lookup"><span data-stu-id="980f6-256">Along with the certificates we get the DNS configuration, routes and other similar things that describe the network.</span></span>
<span data-ttu-id="980f6-257">Zmiana tych certyfikatów lub informacje o sieci następnie zajść potrzeba kliknięcia przycisku "Synchronizacji sieci".</span><span class="sxs-lookup"><span data-stu-id="980f6-257">If those certificates or network information is changed, then you need to click "Sync Network".</span></span> <span data-ttu-id="980f6-258">**Uwaga**: po kliknięciu "Synchronizacji sieci", a następnie spowodować chwilowa niedostępność w łączności między aplikacji i sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="980f6-258">**NOTE**: When you click "Sync Network" then you cause a brief outage in connectivity between your app and your VNet.</span></span> <span data-ttu-id="980f6-259">Gdy aplikacja nie zostanie ponownie uruchomiony, utraty połączenia może spowodować nieprawidłowe działanie witryny poprawnie.</span><span class="sxs-lookup"><span data-stu-id="980f6-259">While your app is not restarted, the loss of connectivity could cause your site to not function properly.</span></span> 

## <a name="accessing-on-premises-resources"></a><span data-ttu-id="980f6-260">Uzyskiwanie dostępu do zasobów lokalnych</span><span class="sxs-lookup"><span data-stu-id="980f6-260">Accessing on-premises resources</span></span>
<span data-ttu-id="980f6-261">Jedną z zalet funkcji integracji sieci wirtualnej jest to, że jeśli sieci wirtualnej jest podłączona do sieci lokalnej za pomocą sieci VPN między lokacjami, a następnie aplikacje mogą uzyskiwać dostęp do zasobów lokalnych z aplikacji.</span><span class="sxs-lookup"><span data-stu-id="980f6-261">One of the benefits of the VNet Integration feature is that if your VNet is connected to your on-premises network with a Site to Site VPN then your apps can have access to your on-premises resources from your app.</span></span> <span data-ttu-id="980f6-262">Aby to zrobić, chociaż może być konieczne aktualizacji bramy sieci VPN, lokalnej z tras dla punktu do lokacji IP w zakresie.</span><span class="sxs-lookup"><span data-stu-id="980f6-262">For this to work though you may need to update your on-premises VPN gateway with the routes for your Point to Site IP range.</span></span> <span data-ttu-id="980f6-263">Po pierwszym skonfigurowaniu sieci VPN między lokacjami następnie skrypty używane do konfigurowania go należy skonfigurować tras w tym punkt do lokacji sieci VPN.</span><span class="sxs-lookup"><span data-stu-id="980f6-263">When the Site to Site VPN is first set up then the scripts used to configure it should set up routes including your Point to Site VPN.</span></span> <span data-ttu-id="980f6-264">Jeśli dodasz punkt do lokacji sieci VPN po utworzeniu Twojej sieci VPN między lokacjami, należy ręcznie zaktualizować trasy.</span><span class="sxs-lookup"><span data-stu-id="980f6-264">If you add the Point to Site VPN after you create your Site to Site VPN, then you need to update the routes manually.</span></span> <span data-ttu-id="980f6-265">Szczegółowe informacje o tym, jak to zrobić zmienia się wraz z bramy i nie zostały opisane w tym miejscu.</span><span class="sxs-lookup"><span data-stu-id="980f6-265">Details on how to do that vary per gateway and are not described here.</span></span> 

> [!NOTE]
> <span data-ttu-id="980f6-266">Funkcja integracji sieci wirtualnej nie obsługują aplikacji sieć wirtualną, która ma bramę usługi ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="980f6-266">The VNet Integration feature does not integrate an app with a VNet that has an ExpressRoute Gateway.</span></span> <span data-ttu-id="980f6-267">Nawet jeśli skonfigurowano bramę usługi ExpressRoute w [tryb współistnienie] [ VPNERCoex] integracji sieci wirtualnej nie działa.</span><span class="sxs-lookup"><span data-stu-id="980f6-267">Even if the ExpressRoute Gateway is configured in [coexistence mode][VPNERCoex] the VNet Integration does not work.</span></span> <span data-ttu-id="980f6-268">Jeśli musisz uzyskiwać dostęp do zasobów za pośrednictwem połączenia ExpressRoute, a następnie można użyć [środowiska usługi aplikacji][ASE], które uruchamia się w sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="980f6-268">If you need to access resources through an ExpressRoute connection, then you can use an [App Service Environment][ASE], which runs in your VNet.</span></span>
> 
> 

## <a name="pricing-details"></a><span data-ttu-id="980f6-269">Szczegóły cennika</span><span class="sxs-lookup"><span data-stu-id="980f6-269">Pricing details</span></span>
<span data-ttu-id="980f6-270">Istnieje kilka cennik wszystkie szczegóły, które należy zwrócić uwagę podczas korzystania z funkcji integracji sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="980f6-270">There are a few pricing nuances that you should be aware of when using the VNet Integration feature.</span></span> <span data-ttu-id="980f6-271">Istnieją 3 opłat powiązanych do używania tej funkcji:</span><span class="sxs-lookup"><span data-stu-id="980f6-271">There are 3 related charges to the use of this feature:</span></span>

* <span data-ttu-id="980f6-272">Wymagania dotyczące warstwy cenowej ASP</span><span class="sxs-lookup"><span data-stu-id="980f6-272">ASP pricing tier requirements</span></span>
* <span data-ttu-id="980f6-273">Koszty transferu danych</span><span class="sxs-lookup"><span data-stu-id="980f6-273">Data transfer costs</span></span>
* <span data-ttu-id="980f6-274">Koszty bramy sieci VPN.</span><span class="sxs-lookup"><span data-stu-id="980f6-274">VPN Gateway costs.</span></span>

<span data-ttu-id="980f6-275">Do pracy z aplikacjami można było korzystać z tej funkcji muszą znajdować się w Standard lub Plan usługi aplikacji — warstwa Premium.</span><span class="sxs-lookup"><span data-stu-id="980f6-275">For your apps to be able to use this feature, they need to be in a Standard or Premium App Service Plan.</span></span> <span data-ttu-id="980f6-276">Można wyświetlić więcej szczegółów tych kosztów tutaj: [App Service — ceny][ASPricing].</span><span class="sxs-lookup"><span data-stu-id="980f6-276">You can see more details on those costs here: [App Service Pricing][ASPricing].</span></span> 

<span data-ttu-id="980f6-277">Ze względu na sposób punktu witryny sieci VPN są obsługiwane, zawsze masz opłat dla danych wychodzących za pośrednictwem połączenia integracji sieci wirtualnej, nawet jeśli sieć wirtualna jest w tym samym centrum danych.</span><span class="sxs-lookup"><span data-stu-id="980f6-277">Due to the way Point to Site VPNs are handled, you always have a charge for outbound data through your VNet Integration connection even if the VNet is in the same data center.</span></span> <span data-ttu-id="980f6-278">Aby zobaczyć, jakie są tych opłat, zapoznaj się z informacjami w tym miejscu: [szczegóły cennika transferu danych][DataPricing].</span><span class="sxs-lookup"><span data-stu-id="980f6-278">To see what those charges are, take a look here: [Data Transfer Pricing Details][DataPricing].</span></span> 

<span data-ttu-id="980f6-279">Ostatni element jest koszt bramy sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="980f6-279">The last item is the cost of the VNet gateways.</span></span> <span data-ttu-id="980f6-280">Jeśli nie potrzebujesz bramy do czegoś innego, takich jak witryny sieci VPN są płatność za bramy do obsługi funkcji integracji sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="980f6-280">If you don't need the gateways for something else such as Site to Site VPNs, then you are paying for gateways to support the VNet Integration feature.</span></span> <span data-ttu-id="980f6-281">Brak szczegółów kosztów tych tutaj: [cennik bramy sieci VPN][VNETPricing].</span><span class="sxs-lookup"><span data-stu-id="980f6-281">There are details on those costs here: [VPN Gateway Pricing][VNETPricing].</span></span> 

## <a name="troubleshooting"></a><span data-ttu-id="980f6-282">Rozwiązywanie problemów</span><span class="sxs-lookup"><span data-stu-id="980f6-282">Troubleshooting</span></span>
<span data-ttu-id="980f6-283">Gdy funkcja jest łatwa do skonfigurowania, nie oznacza to, że będzie problem wolnego.</span><span class="sxs-lookup"><span data-stu-id="980f6-283">While the feature is easy to set up, that doesn't mean that your experience will be problem free.</span></span> <span data-ttu-id="980f6-284">Powinien wystąpić problemy z dostępem do żądanego punktu końcowego są niektóre narzędzia, które służy do testowania łączności z aplikacji konsoli.</span><span class="sxs-lookup"><span data-stu-id="980f6-284">Should you encounter problems accessing your desired endpoint there are some utilities you can use to test connectivity from the app console.</span></span> <span data-ttu-id="980f6-285">Istnieją dwa środowiska konsoli, których można używać.</span><span class="sxs-lookup"><span data-stu-id="980f6-285">There are two console experiences you can use.</span></span> <span data-ttu-id="980f6-286">Jest jednym z poziomu konsoli Kudu, a drugi to konsola, której możesz uzyskiwać dostęp w portalu Azure.</span><span class="sxs-lookup"><span data-stu-id="980f6-286">One is from the Kudu console and the other is the console that you can reach in the Azure portal.</span></span> <span data-ttu-id="980f6-287">Aby uzyskać dostęp do konsoli Kudu z aplikacji przejdź do pozycji Narzędzia -> Kudu.</span><span class="sxs-lookup"><span data-stu-id="980f6-287">To get to the Kudu console from your app go to Tools -> Kudu.</span></span> <span data-ttu-id="980f6-288">Jest to taka sama jak zamierza [sitename]. scm.azurewebsites.net.</span><span class="sxs-lookup"><span data-stu-id="980f6-288">This is the same as going to [sitename].scm.azurewebsites.net.</span></span> <span data-ttu-id="980f6-289">Po który otwiera po prostu przejdź do karty konsoli debugowania. Aby uzyskać konsoli platformy Azure hostowanej portalu, a następnie z aplikacji przejdź do pozycji Narzędzia -> konsoli.</span><span class="sxs-lookup"><span data-stu-id="980f6-289">Once that opens simply go to the Debug console tab. To get to the Azure portal hosted console then from your app go to Tools -> Console.</span></span> 

#### <a name="tools"></a><span data-ttu-id="980f6-290">Narzędzia</span><span class="sxs-lookup"><span data-stu-id="980f6-290">Tools</span></span>
<span data-ttu-id="980f6-291">Polecenie ping narzędzi, nslookup i tracert nie będzie działać za pośrednictwem konsoli z powodu ograniczeń zabezpieczeń.</span><span class="sxs-lookup"><span data-stu-id="980f6-291">The tools ping, nslookup and tracert won’t work through the console due to security constraints.</span></span> <span data-ttu-id="980f6-292">Aby wypełnić void tam zostały dwóch oddzielnych narzędzi dodane.</span><span class="sxs-lookup"><span data-stu-id="980f6-292">To fill the void there have been two separate tools added.</span></span> <span data-ttu-id="980f6-293">Aby przetestować funkcje DNS dodaliśmy narzędzia o nazwie nameresolver.exe.</span><span class="sxs-lookup"><span data-stu-id="980f6-293">In order to test DNS functionality we added a tool named nameresolver.exe.</span></span> <span data-ttu-id="980f6-294">Składnia jest następująca:</span><span class="sxs-lookup"><span data-stu-id="980f6-294">The syntax is:</span></span>

    nameresolver.exe hostname [optional: DNS Server]

<span data-ttu-id="980f6-295">Nameresolver służy do sprawdzania nazwy hostów, która zależy od aplikacji.</span><span class="sxs-lookup"><span data-stu-id="980f6-295">You can use nameresolver to check the hostnames that your app depends on.</span></span> <span data-ttu-id="980f6-296">W ten sposób można przetestować niczego źle skonfigurowany systemie DNS lub możliwe, że nie ma dostępu do serwera DNS.</span><span class="sxs-lookup"><span data-stu-id="980f6-296">This way you can test if you have anything mis-configured with your DNS or perhaps don't have access to your DNS server.</span></span>

<span data-ttu-id="980f6-297">Narzędzie dalej służy do testowania połączeń TCP kombinację hosta i portu.</span><span class="sxs-lookup"><span data-stu-id="980f6-297">The next tool allows you to test for TCP connectivity to a host and port combination.</span></span> <span data-ttu-id="980f6-298">To narzędzie jest nazywany tcpping.exe i składnia jest następująca:</span><span class="sxs-lookup"><span data-stu-id="980f6-298">This tool is called tcpping.exe and the syntax is:</span></span>

    tcpping.exe hostname [optional: port]

<span data-ttu-id="980f6-299">Narzędzie tcpping informuje, jeżeli można osiągnąć konkretnego hosta i portu.</span><span class="sxs-lookup"><span data-stu-id="980f6-299">The tcpping utility tells you if you can reach a specific host and port.</span></span> <span data-ttu-id="980f6-300">Tylko może sygnalizować Powodzenie jeśli: Brak aplikacji nasłuchującej na kombinacji hosta i portu i Brak dostępu do sieci z aplikacji do określonego hosta i portu.</span><span class="sxs-lookup"><span data-stu-id="980f6-300">It only can show success if: there is an application listening at the host and port combination, and there is network access from your app to the specified host and port.</span></span>

#### <a name="debugging-access-to-vnet-hosted-resources"></a><span data-ttu-id="980f6-301">Debugowanie dostępu do sieci wirtualnej hostowanych zasobów</span><span class="sxs-lookup"><span data-stu-id="980f6-301">Debugging access to VNet hosted resources</span></span>
<span data-ttu-id="980f6-302">Istnieje kilka rzeczy, które mogą uniemożliwić aplikacji osiągnięcia konkretnego hosta i portu.</span><span class="sxs-lookup"><span data-stu-id="980f6-302">There are a number of things that can prevent your app from reaching a specific host and port.</span></span> <span data-ttu-id="980f6-303">W większości przypadków jest jednym z trzech zdarzeń:</span><span class="sxs-lookup"><span data-stu-id="980f6-303">Most of the time it is one of three things:</span></span>

* <span data-ttu-id="980f6-304">**W ten sposób znajduje się zapora** Jeśli masz zaporę w taki sposób, nastąpi trafienie limitu czasu TCP.</span><span class="sxs-lookup"><span data-stu-id="980f6-304">**There is a firewall in the way** If you have a firewall in the way, you will hit the TCP timeout.</span></span> <span data-ttu-id="980f6-305">W takim przypadku to 21 sekund.</span><span class="sxs-lookup"><span data-stu-id="980f6-305">That is 21 seconds in this case.</span></span> <span data-ttu-id="980f6-306">Aby przetestować połączenie, należy użyć narzędzia tcpping.</span><span class="sxs-lookup"><span data-stu-id="980f6-306">Use the tcpping tool to test connectivity.</span></span> <span data-ttu-id="980f6-307">Limity czasu protokołu TCP można ze względu na wiele rzeczy poza zaporą, ale uruchomić.</span><span class="sxs-lookup"><span data-stu-id="980f6-307">TCP timeouts can be due to many things beyond firewalls but start there.</span></span> 
* <span data-ttu-id="980f6-308">**Usługa DNS nie jest dostępny** limit czasu DNS jest trzech sekund na serwerze DNS.</span><span class="sxs-lookup"><span data-stu-id="980f6-308">**DNS is not accessible** The DNS timeout is three seconds per DNS server.</span></span> <span data-ttu-id="980f6-309">Jeśli masz dwa serwery DNS, limit czasu to 6 sekund.</span><span class="sxs-lookup"><span data-stu-id="980f6-309">If you have two DNS servers, the timeout is 6 seconds.</span></span> <span data-ttu-id="980f6-310">Użyj nameresolver, aby zobaczyć, czy działa DNS.</span><span class="sxs-lookup"><span data-stu-id="980f6-310">Use nameresolver to see if DNS is working.</span></span> <span data-ttu-id="980f6-311">Należy pamiętać, że nie można używać polecenia nslookup, ponieważ nie używa DNS skonfigurowano sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="980f6-311">Remember you can't use nslookup as that does not use the DNS your VNet is configured with.</span></span>
* <span data-ttu-id="980f6-312">**Nieprawidłowy zakres adresów IP P2S** wskaż zakres adresów IP lokacji musi być w zakresach RFC 1918 prywatnego adresu IP (10.0.0.0-10.255.255.255 / 172.16.0.0-172.31.255.255 / 192.168.0.0-192.168.255.255).</span><span class="sxs-lookup"><span data-stu-id="980f6-312">**Invalid P2S IP range** The point to site IP range needs to be in the RFC 1918 private IP ranges (10.0.0.0-10.255.255.255 / 172.16.0.0-172.31.255.255 / 192.168.0.0-192.168.255.255).</span></span> <span data-ttu-id="980f6-313">Jeśli poza tym, że zakres korzysta z adresów IP, czynności nie będzie działać.</span><span class="sxs-lookup"><span data-stu-id="980f6-313">If the range uses IPs outside of that, then things won't work.</span></span> 

<span data-ttu-id="980f6-314">Jeśli te elementy nie odpowiada problemu, Szukaj pierwszego podczas wykonywania prostych operacji, takich jak:</span><span class="sxs-lookup"><span data-stu-id="980f6-314">If those items don't answer your problem, look first for the simple things like:</span></span> 

* <span data-ttu-id="980f6-315">Bramy są wyświetlane jako znajdujące się w portalu?</span><span class="sxs-lookup"><span data-stu-id="980f6-315">Does the Gateway show as being up in the portal?</span></span>
* <span data-ttu-id="980f6-316">Certyfikaty są wyświetlane jako znajdujące się w synchronizacji?</span><span class="sxs-lookup"><span data-stu-id="980f6-316">Do certificates show as being in sync?</span></span>
* <span data-ttu-id="980f6-317">Każdy zmieniły się konfiguracja sieci nie robiąc "Synchronizacji sieci" w odpowiednim ASP?</span><span class="sxs-lookup"><span data-stu-id="980f6-317">Did anybody change the network configuration without doing a "Sync Network" in the affected ASPs?</span></span> 

<span data-ttu-id="980f6-318">Jeśli brama nie działa, następnie włączenie go kopii zapasowych.</span><span class="sxs-lookup"><span data-stu-id="980f6-318">If your gateway is down, then bring it back up.</span></span> <span data-ttu-id="980f6-319">Jeśli certyfikaty nie są zsynchronizowane, przejdź do widoku ASP integracji z sieciami wirtualnymi i kliknij przycisk "Synchronizacji sieci".</span><span class="sxs-lookup"><span data-stu-id="980f6-319">If your certificates are out of sync, then go to the ASP view of your VNet Integration and hit "Sync Network".</span></span> <span data-ttu-id="980f6-320">Jeśli podejrzewasz, że wprowadzono zmiany wprowadzone w konfiguracji sieci wirtualnej, a nie był synchronizacji będzie z programu ASP, następnie przejdź do widoku ASP integracji z sieciami wirtualnymi i kliknij "Synchronizacji sieci" Just przypomnieniem, powoduje to chwilowa niedostępność z połączeniem sieci wirtualnej i aplikacji.</span><span class="sxs-lookup"><span data-stu-id="980f6-320">If you suspect that there has been a change made to your VNet configuration and it wasn't sync'd with your ASPs, then go to the ASP view of your VNet Integration and hit "Sync Network" Just as a reminder, this causes a brief outage with your VNet connection and your apps.</span></span> 

<span data-ttu-id="980f6-321">Jeśli wszystko jest poprawnie, wymagana będzie szczegółowej nieco analizy:</span><span class="sxs-lookup"><span data-stu-id="980f6-321">If all of that is fine, then you need to dig in a bit deeper:</span></span>

* <span data-ttu-id="980f6-322">Czy istnieją inne aplikacje przy użyciu integracji sieci wirtualnej do zasobów w tej samej sieci wirtualnej?</span><span class="sxs-lookup"><span data-stu-id="980f6-322">Are there any other apps using VNet Integration to reach resources in the same VNet?</span></span> 
* <span data-ttu-id="980f6-323">Można przejść do aplikacji konsoli i używać tcpping do żadnych innych zasobów w sieci wirtualnej?</span><span class="sxs-lookup"><span data-stu-id="980f6-323">Can you go to the app console and use tcpping to reach any other resources in your VNet?</span></span> 

<span data-ttu-id="980f6-324">Jeśli albo powyższe warunki są spełnione, następnie Integracja sieci wirtualnej jest poprawnie, a problem nie zostanie w innym miejscu.</span><span class="sxs-lookup"><span data-stu-id="980f6-324">If either of the above are true, then your VNet Integration is fine and the problem is somewhere else.</span></span> <span data-ttu-id="980f6-325">Jest to, gdzie pobiera będzie więcej wyzwanie, ponieważ nie istnieje prosty sposób aby zobaczyć, dlaczego nie można osiągnąć hosta: port.</span><span class="sxs-lookup"><span data-stu-id="980f6-325">This is where it gets to be more of a challenge because there is no simple way to see why you can't reach a host:port.</span></span> <span data-ttu-id="980f6-326">Przyczyny są między innymi:</span><span class="sxs-lookup"><span data-stu-id="980f6-326">Some of the causes include:</span></span>

* <span data-ttu-id="980f6-327">masz zaporę na hoście uniemożliwienia dostępu do portu aplikacji z punktu do lokacji zakres adresów IP.</span><span class="sxs-lookup"><span data-stu-id="980f6-327">you have a firewall up on your host preventing access to the application port from your point to site IP range.</span></span> <span data-ttu-id="980f6-328">Często przekroczenie granic podsieci wymaga dostępu publicznego.</span><span class="sxs-lookup"><span data-stu-id="980f6-328">Crossing subnets often requires Public access.</span></span>
* <span data-ttu-id="980f6-329">dostęp do hosta docelowego nie działa</span><span class="sxs-lookup"><span data-stu-id="980f6-329">your target host is down</span></span>
* <span data-ttu-id="980f6-330">Aplikacja nie działa</span><span class="sxs-lookup"><span data-stu-id="980f6-330">your application is down</span></span>
* <span data-ttu-id="980f6-331">miał nieprawidłowy adres IP lub nazwa hosta</span><span class="sxs-lookup"><span data-stu-id="980f6-331">you had the wrong IP or hostname</span></span>
* <span data-ttu-id="980f6-332">aplikacja nasłuchuje na innym porcie niż oczekiwano.</span><span class="sxs-lookup"><span data-stu-id="980f6-332">your application is listening on a different port than what you expected.</span></span> <span data-ttu-id="980f6-333">Można to sprawdzić, przechodząc na tym hoście i za pomocą "netstat - aon" w wierszu polecenia.</span><span class="sxs-lookup"><span data-stu-id="980f6-333">You can check this by going onto that host and using "netstat -aon" from the cmd prompt.</span></span> <span data-ttu-id="980f6-334">Przedstawia identyfikator nasłuchuje na porcie co procesu.</span><span class="sxs-lookup"><span data-stu-id="980f6-334">This shows you what process ID is listening on what port.</span></span> 
* <span data-ttu-id="980f6-335">grupy zabezpieczeń sieci są skonfigurowane w taki sposób, że zapobiegają dostępu do aplikacji hosta i portu punkt do lokacji zakres adresów IP</span><span class="sxs-lookup"><span data-stu-id="980f6-335">your network security groups are configured in such a manner that they prevent access to your application host and port from your point to site IP range</span></span>

<span data-ttu-id="980f6-336">Należy pamiętać, że nie wiesz, jakie IP w punktu zakres IP witryny, które Twoja aplikacja będzie używać, więc należy zezwolić na dostęp z całego zakresu.</span><span class="sxs-lookup"><span data-stu-id="980f6-336">Remember that you don't know what IP in your Point to Site IP range that your app will use so you need to allow access from the entire range.</span></span> 

<span data-ttu-id="980f6-337">Debugowania dodatkowe kroki obejmują:</span><span class="sxs-lookup"><span data-stu-id="980f6-337">Additional debug steps include:</span></span>

* <span data-ttu-id="980f6-338">Zaloguj się na inną maszynę Wirtualną w sieci wirtualnej i próbują uzyskać dostęp z zasobów hosta: port. stamtąd.</span><span class="sxs-lookup"><span data-stu-id="980f6-338">log onto another VM in your VNet and attempt to reach your resource host:port from there.</span></span> <span data-ttu-id="980f6-339">Istnieją pewne narzędzia polecenia ping protokołu TCP w tym celu można użyć, lub nawet służy telnet, jeśli muszą być.</span><span class="sxs-lookup"><span data-stu-id="980f6-339">There are some TCP ping utilities that you can use for this purpose or can even use telnet if need be.</span></span> <span data-ttu-id="980f6-340">W tym miejscu celem jest tylko w celu ustalenia, czy połączenie jest z tej maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="980f6-340">The purpose here is just to determine if connectivity is there from this other VM.</span></span> 
* <span data-ttu-id="980f6-341">Wywołaj okno aplikacji na dostęp do innej maszyny Wirtualnej i testowania do tego hosta i portu z poziomu konsoli z aplikacji</span><span class="sxs-lookup"><span data-stu-id="980f6-341">bring up an application on another VM and test access to that host and port from the console from your app</span></span>

#### <a name="on-premises-resources"></a><span data-ttu-id="980f6-342">Zasobów lokalnych</span><span class="sxs-lookup"><span data-stu-id="980f6-342">On-premises resources</span></span> ####
<span data-ttu-id="980f6-343">Jeśli aplikację można nawiązać połączenia z zasobami lokalnymi, najpierw należy sprawdzić, jest, jeżeli można osiągnąć zasobu w sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="980f6-343">If your app cannot reach resources on-premises, then the first thing you should check is if you can reach a resource in your VNet.</span></span> <span data-ttu-id="980f6-344">Jeśli to zrobić, spróbuj nawiązać aplikacji lokalnej z maszyny Wirtualnej w sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="980f6-344">If that works, try to reach the on-premises application from a VM in the VNet.</span></span> <span data-ttu-id="980f6-345">Można użyć narzędzia telnet lub narzędzie ping protokołu TCP.</span><span class="sxs-lookup"><span data-stu-id="980f6-345">You can use telnet or a TCP ping utility.</span></span> <span data-ttu-id="980f6-346">Jeśli maszyny Wirtualnej nie może uzyskać dostęp do zasobu lokalnego, upewnij się, że połączenie sieci VPN do lokacji działa.</span><span class="sxs-lookup"><span data-stu-id="980f6-346">If your VM can't reach your on-premises resource, then make sure your Site to Site VPN connection is working.</span></span> <span data-ttu-id="980f6-347">Jeżeli działa, Sprawdź te same elementy, jak wspomniano wcześniej, a także konfiguracji bramy lokalnej i stanu.</span><span class="sxs-lookup"><span data-stu-id="980f6-347">If it is working, then check the same things noted earlier as well as the on-premises gateway configuration and status.</span></span> 

<span data-ttu-id="980f6-348">Teraz Jeśli sieci wirtualnej jest hostowany maszyny Wirtualnej może nawiązać połączenie z lokalnego systemu, ale aplikacji nie może następnie przyczyną jest prawdopodobnie jednym z następujących czynności:</span><span class="sxs-lookup"><span data-stu-id="980f6-348">Now if your VNet hosted VM can reach your on-premises system but your app can't then the reason is likely one of the following:</span></span>

* <span data-ttu-id="980f6-349">nie skonfigurowano trasy z punktu do lokacji zakresów IP w bramy sieci lokalnej</span><span class="sxs-lookup"><span data-stu-id="980f6-349">your routes are not configured with your point to site IP ranges in your on-premises gateway</span></span>
* <span data-ttu-id="980f6-350">grupy zabezpieczeń sieci są blokowanie dostępu do punktu do zakresu adresów IP lokacji</span><span class="sxs-lookup"><span data-stu-id="980f6-350">your network security groups are blocking access for your Point to Site IP range</span></span>
* <span data-ttu-id="980f6-351">lokalnej zapory blokuje ruch z punktu do zakresu adresów IP lokacji</span><span class="sxs-lookup"><span data-stu-id="980f6-351">your on-premises firewalls are blocking traffic from your Point to Site IP range</span></span>
* <span data-ttu-id="980f6-352">masz użytkownika Route(UDR) zdefiniowana w sieci wirtualnej, która uniemożliwia punkt do lokacji, na podstawie ruchu nawiązywania połączenia z siecią lokalną</span><span class="sxs-lookup"><span data-stu-id="980f6-352">you have a User Defined Route(UDR) in your VNet that prevents your Point to Site based traffic from reaching your on-premises network</span></span>

## <a name="hybrid-connections-and-app-service-environments"></a><span data-ttu-id="980f6-353">Połączenia hybrydowe i środowiska usługi aplikacji</span><span class="sxs-lookup"><span data-stu-id="980f6-353">Hybrid Connections and App Service Environments</span></span>
<span data-ttu-id="980f6-354">Istnieją trzy funkcje, które umożliwiają dostęp do zasobów hostowanych w sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="980f6-354">There are three features that enable access to VNet hosted resources.</span></span> <span data-ttu-id="980f6-355">Są to:</span><span class="sxs-lookup"><span data-stu-id="980f6-355">They are:</span></span>

* <span data-ttu-id="980f6-356">Integracja sieci wirtualnej</span><span class="sxs-lookup"><span data-stu-id="980f6-356">VNet Integration</span></span>
* <span data-ttu-id="980f6-357">Połączenia hybrydowe</span><span class="sxs-lookup"><span data-stu-id="980f6-357">Hybrid Connections</span></span>
* <span data-ttu-id="980f6-358">Środowiska usługi App Service</span><span class="sxs-lookup"><span data-stu-id="980f6-358">App Service Environments</span></span>

<span data-ttu-id="980f6-359">Połączenia hybrydowe wymaga zainstalowania agenta przekazywania o nazwie Manager(HCM) połączeń hybrydowych w sieci.</span><span class="sxs-lookup"><span data-stu-id="980f6-359">Hybrid Connections requires you to install a relay agent called the Hybrid Connection Manager(HCM) in your network.</span></span> <span data-ttu-id="980f6-360">HCM musi mieć możliwość nawiązania połączenia platformy Azure, a także do aplikacji.</span><span class="sxs-lookup"><span data-stu-id="980f6-360">The HCM needs to be able to connect to Azure and also to your application.</span></span> <span data-ttu-id="980f6-361">To rozwiązanie jest szczególnie dużą z sieci zdalnej, takich jak sieci lokalnej lub nawet innej chmury hostowanej sieci, ponieważ nie wymaga dostępnym punkcie końcowym internet.</span><span class="sxs-lookup"><span data-stu-id="980f6-361">This solution is especially great from a remote network such as your on-premises network or even another cloud hosted network because it does not require an internet accessible endpoint.</span></span> <span data-ttu-id="980f6-362">HCM działa tylko w systemie Windows i może mieć maksymalnie pięć wystąpień uruchomiona w celu zapewnienia wysokiej dostępności.</span><span class="sxs-lookup"><span data-stu-id="980f6-362">The HCM only runs on Windows and you can have up to five instances running to provide high availability.</span></span> <span data-ttu-id="980f6-363">Jednak połączeń hybrydowych TCP obsługuje tylko, a każdy punkt końcowy HC musi być zgodna z określonego hosta: port. kombinacji.</span><span class="sxs-lookup"><span data-stu-id="980f6-363">Hybrid Connections only supports TCP though and each HC endpoint has to match to a specific host:port combination.</span></span> 

<span data-ttu-id="980f6-364">Funkcja środowiska usługi aplikacji umożliwia uruchamianie wystąpienia usługi Azure App Service w sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="980f6-364">The App Service Environment feature allows you to run an instance of the Azure App Service in your VNet.</span></span> <span data-ttu-id="980f6-365">Umożliwia to aplikacji dostęp do zasobów w sieci wirtualnej bez żadnych dodatkowych czynności.</span><span class="sxs-lookup"><span data-stu-id="980f6-365">This lets your apps access resources in your VNet without any extra steps.</span></span> <span data-ttu-id="980f6-366">Są niektóre zalety środowiska usługi aplikacji, której można pracowników Dv2 oparte o 14 GB pamięci RAM.</span><span class="sxs-lookup"><span data-stu-id="980f6-366">Some of the other benefits of an App Service Environment are that you can use Dv2 based workers with up to 14 GB of RAM.</span></span> <span data-ttu-id="980f6-367">Kolejna korzyść związana jest skalowanie systemu zgodnie z potrzebami.</span><span class="sxs-lookup"><span data-stu-id="980f6-367">Another benefit is that you can scale the system to meet your needs.</span></span> <span data-ttu-id="980f6-368">W odróżnieniu od środowiska wielodostępne, w którym strona ASP jest ograniczona do 20 wystąpień w elemencie ASE można skalować do 100 wystąpień ASP.</span><span class="sxs-lookup"><span data-stu-id="980f6-368">Unlike the multi-tenant environments where your ASP is limited to 20 instances, in an ASE you can scale up to 100 ASP instances.</span></span> <span data-ttu-id="980f6-369">Jednym z czynników, które można pobrać z ASE, który nie dzięki integracji sieci wirtualnej jest czy środowiska usługi aplikacji może współpracować z sieci VPN usługi ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="980f6-369">One of the things you get with an ASE that you don't with VNet Integration is that an App Service Environment can work with an ExpressRoute VPN.</span></span> 

<span data-ttu-id="980f6-370">Gdy jest korzystanie z niektórych przypadków nakładają się na siebie, żaden z tych funkcji można zastąpić pozostałe.</span><span class="sxs-lookup"><span data-stu-id="980f6-370">While there is some use case overlap, none of these feature can replace any of the others.</span></span> <span data-ttu-id="980f6-371">Uzyskiwanie informacji o tym, jakie funkcji jest powiązany z Twoim potrzebom.</span><span class="sxs-lookup"><span data-stu-id="980f6-371">Knowing what feature to use is tied to your needs.</span></span> <span data-ttu-id="980f6-372">Na przykład:</span><span class="sxs-lookup"><span data-stu-id="980f6-372">For example:</span></span>

* <span data-ttu-id="980f6-373">Jeśli jesteś deweloperem i po prostu chcesz uruchomić witryny na platformie Azure, a jego dostęp do bazy danych na stacji roboczej w obszarze biurku, użyj najłatwiejszym jest połączeń hybrydowych było możliwe.</span><span class="sxs-lookup"><span data-stu-id="980f6-373">If you are a developer and simply want to run a site in Azure and have it access the database on the workstation under your desk, then the easiest thing to use is Hybrid Connections.</span></span> 
* <span data-ttu-id="980f6-374">W przypadku dużej organizacji, która chce wstrzymać dużej liczby właściwości sieci web w publicznej w chmurze i zarządzanie nimi we własnej sieci, a następnie chcesz przejść z środowiska usługi aplikacji.</span><span class="sxs-lookup"><span data-stu-id="980f6-374">If you are a large organization that wants to put a large number of web properties in the public cloud and manage them in your own network, then you want to go with the App Service Environment.</span></span> 
* <span data-ttu-id="980f6-375">Jeśli masz wiele aplikacji usługi hostowanej aplikacji i po prostu chcesz uzyskać dostęp do zasobów w sieci wirtualnej, następnie integracji sieci wirtualnej jest sposób, aby przejść.</span><span class="sxs-lookup"><span data-stu-id="980f6-375">If you have a number of App Service hosted apps and simply want to access resources in your VNet, then VNet Integration is the way to go.</span></span> 

<span data-ttu-id="980f6-376">Poza przypadkami użycia są uproszczenia niektórych aspektach.</span><span class="sxs-lookup"><span data-stu-id="980f6-376">Beyond the use cases, there are some simplicity related aspects.</span></span> <span data-ttu-id="980f6-377">Jeśli sieci wirtualnej jest już podłączony do sieci lokalnej, następnie za pomocą integracji sieci wirtualnej lub w środowisku usługi aplikacji jest prosty sposób korzystać z zasobów lokalnych.</span><span class="sxs-lookup"><span data-stu-id="980f6-377">If your VNet is already connected to your on-premises network, then using VNet Integration or an App Service Environment is an easy way to consume on-premises resources.</span></span> <span data-ttu-id="980f6-378">Z drugiej strony Jeśli w Twojej sieci wirtualnej nie jest podłączony do sieci lokalnej następnie jest znacznie większe obciążenie można skonfigurować sieci VPN między lokacjami z sieci wirtualnej w porównaniu z instalowaniem HCM.</span><span class="sxs-lookup"><span data-stu-id="980f6-378">On the other hand, if your VNet is not connected to your on-premises network then it's a lot more overhead to set up a site to site VPN with your VNet compared with installing the HCM.</span></span> 

<span data-ttu-id="980f6-379">Poza różnice funkcjonalne, dostępne są również cennik różnice.</span><span class="sxs-lookup"><span data-stu-id="980f6-379">Beyond the functional differences, there are also pricing differences.</span></span> <span data-ttu-id="980f6-380">Funkcja środowiska usługi aplikacji jest w wersji Premium oferty usługi ale oferuje najbardziej sieci możliwości konfiguracji oprócz inne funkcje.</span><span class="sxs-lookup"><span data-stu-id="980f6-380">The App Service Environment feature is a Premium service offering but offers the most network configuration possibilities in addition to other great features.</span></span> <span data-ttu-id="980f6-381">Integracja sieci wirtualnej może być używany z Standard lub Premium ASP i idealne w przypadku bezpieczne korzystanie z zasobów w sieci wirtualnej z wieloma dzierżawcami usługi aplikacji.</span><span class="sxs-lookup"><span data-stu-id="980f6-381">VNet Integration can be used with Standard or Premium ASPs and is perfect for securely consuming resources in your VNet from the multi-tenant App Service.</span></span> <span data-ttu-id="980f6-382">Połączeń hybrydowych obecnie zależy od usług BizTalk — wersja konta, które ma cennik poziomy uruchamianych wolnego i następnie pobrać progresywnie droższe na podstawie ilości potrzebne.</span><span class="sxs-lookup"><span data-stu-id="980f6-382">Hybrid Connections currently depends on a BizTalk account, which has pricing levels that start free and then get progressively more expensive based on the amount you need.</span></span> <span data-ttu-id="980f6-383">Chodzi o działa jednak w wielu sieciach, nie ma żadnych innych funkcji połączeń hybrydowych, które umożliwiają dostęp do zasobów w różnych sieciach dobrze ponad 100.</span><span class="sxs-lookup"><span data-stu-id="980f6-383">When it comes to working across many networks though, there is no other feature like Hybrid Connections, which can enable you to access resources in well over 100 separate networks.</span></span> 

<!--Image references-->
[1]: ./media/web-sites-integrate-with-vnet/vnetint-upgradeplan.png
[2]: ./media/web-sites-integrate-with-vnet/vnetint-existingvnet.png
[3]: ./media/web-sites-integrate-with-vnet/vnetint-createvnet.png
[4]: ./media/web-sites-integrate-with-vnet/vnetint-howitworks.png
[5]: ./media/web-sites-integrate-with-vnet/vnetint-appmanage.png
[6]: ./media/web-sites-integrate-with-vnet/vnetint-aspmanage.png
[7]: ./media/web-sites-integrate-with-vnet/vnetint-aspmanagedetail.png
[8]: ./media/web-sites-integrate-with-vnet/vnetint-vnetp2s.png

<!--Links-->
[VNETOverview]: http://azure.microsoft.com/documentation/articles/virtual-networks-overview/ 
[AzurePortal]: http://portal.azure.com/
[ASPricing]: http://azure.microsoft.com/pricing/details/app-service/
[VNETPricing]: http://azure.microsoft.com/pricing/details/vpn-gateway/
[DataPricing]: http://azure.microsoft.com/pricing/details/data-transfers/
[V2VNETP2S]: http://azure.microsoft.com/documentation/articles/vpn-gateway-howto-point-to-site-rm-ps/
[IntPowershell]: http://azure.microsoft.com/documentation/articles/app-service-vnet-integration-powershell/
[ASEintro]: http://docs.microsoft.com/azure/app-service/app-service-environment/intro
[ILBASE]: http://docs.microsoft.com/azure/app-service/app-service-environment/create-ilb-ase
[V2VNETPortal]: https://docs.microsoft.com/en-us/azure/vpn-gateway/vpn-gateway-howto-point-to-site-resource-manager-portal
[VPNERCoex]: http://docs.microsoft.com/en-us/azure/expressroute/expressroute-howto-coexist-resource-manager
[ASE]: http://docs.microsoft.com/azure/app-service/app-service-environment/intro
