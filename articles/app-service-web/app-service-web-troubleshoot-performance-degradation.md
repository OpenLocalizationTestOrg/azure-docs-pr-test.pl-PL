---
title: "Powolne działanie aplikacji sieci web w usłudze App Service | Dokumentacja firmy Microsoft"
description: "Ten artykuł pomaga powolne web app Rozwiązywanie problemów z wydajnością w usłudze Azure App Service."
services: app-service\web
documentationcenter: 
author: cephalin
manager: erikre
editor: 
tags: top-support-issue
keywords: "wydajność aplikacji sieci Web, powolne aplikacji app powolne"
ms.assetid: b8783c10-3a4a-4dd6-af8c-856baafbdde5
ms.service: app-service-web
ms.workload: web
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/03/2016
ms.author: cephalin
ms.openlocfilehash: 1cfe7ec37ad8b24a8bd9ab2bf67e95675a57b675
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 08/18/2017
---
# <a name="troubleshoot-slow-web-app-performance-issues-in-azure-app-service"></a><span data-ttu-id="b2a55-104">Powolne web app Rozwiązywanie problemów z wydajnością w usłudze Azure App Service</span><span class="sxs-lookup"><span data-stu-id="b2a55-104">Troubleshoot slow web app performance issues in Azure App Service</span></span>
<span data-ttu-id="b2a55-105">W tym artykule pomocy w rozwiązywaniu problemów z wydajnością aplikacji sieci web wolne w [usłudze Azure App Service](http://go.microsoft.com/fwlink/?LinkId=529714).</span><span class="sxs-lookup"><span data-stu-id="b2a55-105">This article helps you troubleshoot slow web app performance issues in [Azure App Service](http://go.microsoft.com/fwlink/?LinkId=529714).</span></span>

<span data-ttu-id="b2a55-106">Jeśli potrzebujesz więcej pomocy w dowolnym momencie, w tym artykule, możesz skontaktować się ekspertów platformy Azure na [MSDN Azure i fora przepełnienie stosu](https://azure.microsoft.com/support/forums/).</span><span class="sxs-lookup"><span data-stu-id="b2a55-106">If you need more help at any point in this article, you can contact the Azure experts on [the MSDN Azure and the Stack Overflow forums](https://azure.microsoft.com/support/forums/).</span></span> <span data-ttu-id="b2a55-107">Alternatywnie można również pliku zdarzenia pomocy technicznej platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="b2a55-107">Alternatively, you can also file an Azure support incident.</span></span> <span data-ttu-id="b2a55-108">Przejdź do [witrynę pomocy technicznej platformy Azure](https://azure.microsoft.com/support/options/) i wybierz polecenie **Get Support**.</span><span class="sxs-lookup"><span data-stu-id="b2a55-108">Go to the [Azure Support site](https://azure.microsoft.com/support/options/) and click on **Get Support**.</span></span>

## <a name="symptom"></a><span data-ttu-id="b2a55-109">Objaw</span><span class="sxs-lookup"><span data-stu-id="b2a55-109">Symptom</span></span>
<span data-ttu-id="b2a55-110">Podczas przeglądania aplikacji sieci web, obciążenia stron powoli i czasami limitu czasu.</span><span class="sxs-lookup"><span data-stu-id="b2a55-110">When you browse the web app, the pages load slowly and sometimes timeout.</span></span>

## <a name="cause"></a><span data-ttu-id="b2a55-111">Przyczyna</span><span class="sxs-lookup"><span data-stu-id="b2a55-111">Cause</span></span>
<span data-ttu-id="b2a55-112">Ten problem jest często spowodowane przez problemy z poziomu aplikacji, takich jak:</span><span class="sxs-lookup"><span data-stu-id="b2a55-112">This problem is often caused by application level issues, such as:</span></span>

* <span data-ttu-id="b2a55-113">długi czas trwania żądania sieciowe</span><span class="sxs-lookup"><span data-stu-id="b2a55-113">network requests taking a long time</span></span>
* <span data-ttu-id="b2a55-114">zapytania kod lub bazy danych aplikacji jest nieefektywne</span><span class="sxs-lookup"><span data-stu-id="b2a55-114">application code or database queries being inefficient</span></span>
* <span data-ttu-id="b2a55-115">aplikacji przy użyciu pamięci wysokiej/procesora CPU</span><span class="sxs-lookup"><span data-stu-id="b2a55-115">application using high memory/CPU</span></span>
* <span data-ttu-id="b2a55-116">Aplikacja awarii z powodu wyjątku</span><span class="sxs-lookup"><span data-stu-id="b2a55-116">application crashing due to an exception</span></span>

## <a name="troubleshooting-steps"></a><span data-ttu-id="b2a55-117">Kroki rozwiązywania problemów</span><span class="sxs-lookup"><span data-stu-id="b2a55-117">Troubleshooting steps</span></span>
<span data-ttu-id="b2a55-118">Rozwiązywanie problemów, można podzielić na trzy różne zadania, w kolejności sekwencyjnej:</span><span class="sxs-lookup"><span data-stu-id="b2a55-118">Troubleshooting can be divided into three distinct tasks, in sequential order:</span></span>

1. [<span data-ttu-id="b2a55-119">Sprawdź i monitorowanie zachowania aplikacji</span><span class="sxs-lookup"><span data-stu-id="b2a55-119">Observe and monitor application behavior</span></span>](#observe)
2. [<span data-ttu-id="b2a55-120">Zbieranie danych</span><span class="sxs-lookup"><span data-stu-id="b2a55-120">Collect data</span></span>](#collect)
3. [<span data-ttu-id="b2a55-121">Ograniczenia problem</span><span class="sxs-lookup"><span data-stu-id="b2a55-121">Mitigate the issue</span></span>](#mitigate)

<span data-ttu-id="b2a55-122">[Aplikacje sieci Web usługi aplikacji](/services/app-service/web/) zapewnia różne opcje w każdym kroku.</span><span class="sxs-lookup"><span data-stu-id="b2a55-122">[App Service Web Apps](/services/app-service/web/) gives you various options at each step.</span></span>

<a name="observe" />

### <a name="1-observe-and-monitor-application-behavior"></a><span data-ttu-id="b2a55-123">1. Sprawdź i monitorowanie zachowania aplikacji</span><span class="sxs-lookup"><span data-stu-id="b2a55-123">1. Observe and monitor application behavior</span></span>
#### <a name="track-service-health"></a><span data-ttu-id="b2a55-124">Śledź usługę kondycji</span><span class="sxs-lookup"><span data-stu-id="b2a55-124">Track Service health</span></span>
<span data-ttu-id="b2a55-125">Microsoft Azure publicizes każdym razem, gdy istnieje degradacji przerw i wydajności usługi.</span><span class="sxs-lookup"><span data-stu-id="b2a55-125">Microsoft Azure publicizes each time there is a service interruption or performance degradation.</span></span> <span data-ttu-id="b2a55-126">Kondycja usługi można śledzić na [portalu Azure](https://portal.azure.com/).</span><span class="sxs-lookup"><span data-stu-id="b2a55-126">You can track the health of the service on the [Azure portal](https://portal.azure.com/).</span></span> <span data-ttu-id="b2a55-127">Aby uzyskać więcej informacji, zobacz [śledzić kondycja usługi](../monitoring-and-diagnostics/insights-service-health.md).</span><span class="sxs-lookup"><span data-stu-id="b2a55-127">For more information, see [Track service health](../monitoring-and-diagnostics/insights-service-health.md).</span></span>

#### <a name="monitor-your-web-app"></a><span data-ttu-id="b2a55-128">Monitorowanie aplikacji sieci web</span><span class="sxs-lookup"><span data-stu-id="b2a55-128">Monitor your web app</span></span>
<span data-ttu-id="b2a55-129">Ta opcja pozwala dowiedzieć się, jeśli masz problemy aplikacji.</span><span class="sxs-lookup"><span data-stu-id="b2a55-129">This option enables you to find out if your application is having any issues.</span></span> <span data-ttu-id="b2a55-130">W bloku aplikacja sieci web, kliknij przycisk **żądań i błędów** kafelka.</span><span class="sxs-lookup"><span data-stu-id="b2a55-130">In your web app’s blade, click the **Requests and errors** tile.</span></span> <span data-ttu-id="b2a55-131">**Metryka** bloku pokazuje wszystkie metryki można dodać.</span><span class="sxs-lookup"><span data-stu-id="b2a55-131">The **Metric** blade shows you all the metrics you can add.</span></span>

<span data-ttu-id="b2a55-132">Niektóre metryki, które mogą zostać do monitorowania aplikacji sieci web</span><span class="sxs-lookup"><span data-stu-id="b2a55-132">Some of the metrics that you might want to monitor for your web app are</span></span>

* <span data-ttu-id="b2a55-133">Pamięć średni zestaw roboczy</span><span class="sxs-lookup"><span data-stu-id="b2a55-133">Average memory working set</span></span>
* <span data-ttu-id="b2a55-134">Średni czas odpowiedzi</span><span class="sxs-lookup"><span data-stu-id="b2a55-134">Average response time</span></span>
* <span data-ttu-id="b2a55-135">Czas procesora CPU</span><span class="sxs-lookup"><span data-stu-id="b2a55-135">CPU time</span></span>
* <span data-ttu-id="b2a55-136">Zestaw roboczy pamięci</span><span class="sxs-lookup"><span data-stu-id="b2a55-136">Memory working set</span></span>
* <span data-ttu-id="b2a55-137">Żądania</span><span class="sxs-lookup"><span data-stu-id="b2a55-137">Requests</span></span>

![Monitorowanie wydajności aplikacji sieci web](./media/app-service-web-troubleshoot-performance-degradation/1-monitor-metrics.png)

<span data-ttu-id="b2a55-139">Aby uzyskać więcej informacji, zobacz:</span><span class="sxs-lookup"><span data-stu-id="b2a55-139">For more information, see:</span></span>

* [<span data-ttu-id="b2a55-140">Monitorowanie aplikacji sieci Web w usłudze aplikacji Azure</span><span class="sxs-lookup"><span data-stu-id="b2a55-140">Monitor Web Apps in Azure App Service</span></span>](web-sites-monitor.md)
* [<span data-ttu-id="b2a55-141">Otrzymywanie powiadomień o alertach</span><span class="sxs-lookup"><span data-stu-id="b2a55-141">Receive alert notifications</span></span>](../monitoring-and-diagnostics/insights-receive-alert-notifications.md)

#### <a name="monitor-web-endpoint-status"></a><span data-ttu-id="b2a55-142">Monitoruje stan punktu końcowego sieci web</span><span class="sxs-lookup"><span data-stu-id="b2a55-142">Monitor web endpoint status</span></span>
<span data-ttu-id="b2a55-143">Jeśli używasz aplikacji sieci web **standardowe** warstwy cenowej, aplikacje sieci Web umożliwia monitorowanie dwa punkty końcowe z trzech lokalizacji geograficznej.</span><span class="sxs-lookup"><span data-stu-id="b2a55-143">If you are running your web app in the **Standard** pricing tier, Web Apps lets you monitor two endpoints from three geographic locations.</span></span>

<span data-ttu-id="b2a55-144">Monitorowania punktów końcowych konfiguruje testów sieci web z rozproszona geograficznie lokalizacje testujące czas reakcji i przestoje adresów URL sieci web.</span><span class="sxs-lookup"><span data-stu-id="b2a55-144">Endpoint monitoring configures web tests from geo-distributed locations that test response time and uptime of web URLs.</span></span> <span data-ttu-id="b2a55-145">Test wykonuje operację GET protokołu HTTP, adres URL sieci web, aby określić czas reakcji i przestoje w każdej lokalizacji.</span><span class="sxs-lookup"><span data-stu-id="b2a55-145">The test performs an HTTP GET operation on the web URL to determine the response time and uptime from each location.</span></span> <span data-ttu-id="b2a55-146">Każdej skonfigurowanej lokalizacji uruchamia test co pięć minut.</span><span class="sxs-lookup"><span data-stu-id="b2a55-146">Each configured location runs a test every five minutes.</span></span>

<span data-ttu-id="b2a55-147">Czas działania jest monitorowana przy użyciu kodów odpowiedzi HTTP, a czas odpowiedzi jest mierzony w milisekundach.</span><span class="sxs-lookup"><span data-stu-id="b2a55-147">Uptime is monitored using HTTP response codes, and response time is measured in milliseconds.</span></span> <span data-ttu-id="b2a55-148">Test monitorowania kończy się niepowodzeniem, jeśli kod odpowiedzi HTTP jest większa niż lub równa 400 lub odpowiedzi trwa dłużej niż 30 sekund.</span><span class="sxs-lookup"><span data-stu-id="b2a55-148">A monitoring test fails if the HTTP response code is greater than or equal to 400 or if the response takes more than 30 seconds.</span></span> <span data-ttu-id="b2a55-149">Punkt końcowy jest traktowany jako dostępne w przypadku powodzenia testów monitorowania w określonych lokalizacjach.</span><span class="sxs-lookup"><span data-stu-id="b2a55-149">An endpoint is considered available if its monitoring tests succeed from all the specified locations.</span></span>

<span data-ttu-id="b2a55-150">Aby go skonfigurować, zobacz [monitorowanie aplikacji w usłudze Azure App Service](web-sites-monitor.md).</span><span class="sxs-lookup"><span data-stu-id="b2a55-150">To set it up, see [Monitor apps in Azure App Service](web-sites-monitor.md).</span></span>

<span data-ttu-id="b2a55-151">Zobacz też [utrzymywanie Azure Web Sites zapasową oraz monitorowania punktów końcowych — z Stefan Schackow](https://channel9.msdn.com/Shows/Azure-Friday/Keeping-Azure-Web-Sites-up-plus-Endpoint-Monitoring-with-Stefan-Schackow) Film przedstawiający monitorowania punktów końcowych.</span><span class="sxs-lookup"><span data-stu-id="b2a55-151">Also, see [Keeping Azure Web Sites up plus Endpoint Monitoring - with Stefan Schackow](https://channel9.msdn.com/Shows/Azure-Friday/Keeping-Azure-Web-Sites-up-plus-Endpoint-Monitoring-with-Stefan-Schackow) for a video on endpoint monitoring.</span></span>

#### <a name="application-performance-monitoring-using-extensions"></a><span data-ttu-id="b2a55-152">Monitorowanie wydajności aplikacji przy użyciu rozszerzenia</span><span class="sxs-lookup"><span data-stu-id="b2a55-152">Application performance monitoring using Extensions</span></span>
<span data-ttu-id="b2a55-153">Można również monitorować wydajność aplikacji za pomocą *lokacji rozszerzenia*.</span><span class="sxs-lookup"><span data-stu-id="b2a55-153">You can also monitor your application performance by using *site extensions*.</span></span>

<span data-ttu-id="b2a55-154">Każdej aplikacji sieci web usługi App Service udostępnia punkt końcowy rozszerzonego zarządzania, który pozwala na stosowanie zaawansowany zestaw narzędzi wdrożony jako rozszerzenia lokacji.</span><span class="sxs-lookup"><span data-stu-id="b2a55-154">Each App Service web app provides an extensible management end point that allows you to use a powerful set of tools deployed as site extensions.</span></span> <span data-ttu-id="b2a55-155">Rozszerzenia obejmują:</span><span class="sxs-lookup"><span data-stu-id="b2a55-155">Extensions include:</span></span> 

- <span data-ttu-id="b2a55-156">Edytory kodu źródłowego, takich jak [Visual Studio Team Services](https://www.visualstudio.com/products/what-is-visual-studio-online-vs.aspx).</span><span class="sxs-lookup"><span data-stu-id="b2a55-156">Source code editors like [Visual Studio Team Services](https://www.visualstudio.com/products/what-is-visual-studio-online-vs.aspx).</span></span> 
- <span data-ttu-id="b2a55-157">Narzędzia do zarządzania dla połączonych zasobów, takich jak bazy danych MySQL podłączone do aplikacji sieci web.</span><span class="sxs-lookup"><span data-stu-id="b2a55-157">Management tools for connected resources such as a MySQL database connected to a web app.</span></span>

<span data-ttu-id="b2a55-158">[Azure Application Insights](/services/application-insights/) i [usługi New Relic](/marketplace/partners/newrelic/newrelic/) są dwa rozszerzenia lokacji, które są dostępne do monitorowania wydajności.</span><span class="sxs-lookup"><span data-stu-id="b2a55-158">[Azure Application Insights](/services/application-insights/) and [New Relic](/marketplace/partners/newrelic/newrelic/) are two of the performance monitoring site extensions that are available.</span></span> <span data-ttu-id="b2a55-159">Aby używać usługi New Relic, należy zainstalować agenta w czasie wykonywania.</span><span class="sxs-lookup"><span data-stu-id="b2a55-159">To use New Relic, you install an agent at runtime.</span></span> <span data-ttu-id="b2a55-160">Aby korzystać z usługi Azure Application Insights, Odbuduj kodu za pomocą zestawu SDK i można także zainstalować rozszerzenia, która zapewnia dostęp do dodatkowych danych.</span><span class="sxs-lookup"><span data-stu-id="b2a55-160">To use Azure Application Insights, you rebuild your code with an SDK, and you can also install an extension that provides access to additional data.</span></span> <span data-ttu-id="b2a55-161">Zestaw SDK umożliwia napisz kod umożliwiający monitorowanie użycia i wydajności aplikacji bardziej szczegółowo.</span><span class="sxs-lookup"><span data-stu-id="b2a55-161">The SDK lets you write code to monitor the usage and performance of your app in more detail.</span></span>

<span data-ttu-id="b2a55-162">Aby korzystać z usługi Application Insights, zobacz [monitorować wydajność w aplikacji sieci web](../application-insights/app-insights-web-monitor-performance.md).</span><span class="sxs-lookup"><span data-stu-id="b2a55-162">To use Application Insights, see [Monitor performance in web applications](../application-insights/app-insights-web-monitor-performance.md).</span></span>

<span data-ttu-id="b2a55-163">Aby korzystać z usługi New Relic, zobacz [zarządzanie wydajnością aplikacji Relic nowego na platformie Azure](../store-new-relic-cloud-services-dotnet-application-performance-management.md).</span><span class="sxs-lookup"><span data-stu-id="b2a55-163">To use New Relic, see [New Relic Application Performance Management on Azure](../store-new-relic-cloud-services-dotnet-application-performance-management.md).</span></span>

<a name="collect" />

### <a name="2-collect-data"></a><span data-ttu-id="b2a55-164">2. Zbieranie danych</span><span class="sxs-lookup"><span data-stu-id="b2a55-164">2. Collect data</span></span>
<span data-ttu-id="b2a55-165">Środowisko aplikacji sieci Web udostępnia funkcję diagnostyki dla rejestrowanie informacji z serwera sieci web i aplikacji sieci web.</span><span class="sxs-lookup"><span data-stu-id="b2a55-165">The Web Apps environment provides diagnostic functionality for logging information from both the web server and the web application.</span></span> <span data-ttu-id="b2a55-166">Informacje są podzielone na diagnostyki serwera sieci web i diagnostyki aplikacji.</span><span class="sxs-lookup"><span data-stu-id="b2a55-166">The information is separated into web server diagnostics and application diagnostics.</span></span>

#### <a name="enable-web-server-diagnostics"></a><span data-ttu-id="b2a55-167">Włącz diagnostykę serwera sieci web</span><span class="sxs-lookup"><span data-stu-id="b2a55-167">Enable web server diagnostics</span></span>
<span data-ttu-id="b2a55-168">Można włączyć lub wyłączyć następujące rodzaje dzienników:</span><span class="sxs-lookup"><span data-stu-id="b2a55-168">You can enable or disable the following kinds of logs:</span></span>

* <span data-ttu-id="b2a55-169">**Szczegółowe rejestrowanie błędów** — szczegółowe informacje o błędzie kodów stanu HTTP, które wskazania błędu (kod stanu 400 lub nowszej).</span><span class="sxs-lookup"><span data-stu-id="b2a55-169">**Detailed Error Logging** - Detailed error information for HTTP status codes that indicate a failure (status code 400 or greater).</span></span> <span data-ttu-id="b2a55-170">Może zawierać informacje, które mogą pomóc ustalić, dlaczego serwer zwrócił kod błędu.</span><span class="sxs-lookup"><span data-stu-id="b2a55-170">This may contain information that can help determine why the server returned the error code.</span></span>
* <span data-ttu-id="b2a55-171">**Nie powiodło się żądanie śledzenia** — szczegółowe informacje dotyczące żądań zakończonych niepowodzeniem, w tym śladu używane do przetwarzania żądania oraz godzinę w poszczególnych składników składników usług IIS.</span><span class="sxs-lookup"><span data-stu-id="b2a55-171">**Failed Request Tracing** - Detailed information on failed requests, including a trace of the IIS components used to process the request and the time taken in each component.</span></span> <span data-ttu-id="b2a55-172">Może to być przydatne, jeśli chcesz zwiększyć wydajność aplikacji sieci web lub określić, co powoduje określonego błędu HTTP.</span><span class="sxs-lookup"><span data-stu-id="b2a55-172">This can be useful if you are attempting to improve web app performance or isolate what is causing a specific HTTP error.</span></span>
* <span data-ttu-id="b2a55-173">**Rejestrowanie serwera w sieci Web** — informacje o transakcjach HTTP przy użyciu rozszerzonym formacie W3C dziennika pliku.</span><span class="sxs-lookup"><span data-stu-id="b2a55-173">**Web Server Logging** - Information about HTTP transactions using the W3C extended log file format.</span></span> <span data-ttu-id="b2a55-174">Jest to przydatne podczas określania ogólnego metryki aplikacji sieci web, takich jak liczba żądań obsłużonych lub liczbę żądań pochodzą z określonego adresu IP.</span><span class="sxs-lookup"><span data-stu-id="b2a55-174">This is useful when determining overall web app metrics, such as the number of requests handled or how many requests are from a specific IP address.</span></span>

#### <a name="enable-application-diagnostics"></a><span data-ttu-id="b2a55-175">Włącz diagnostykę aplikacji</span><span class="sxs-lookup"><span data-stu-id="b2a55-175">Enable application diagnostics</span></span>
<span data-ttu-id="b2a55-176">Dostępnych jest kilka opcji do zbierania danych dotyczących wydajności aplikacji z aplikacji sieci Web, profil aplikacji na żywo w programie Visual Studio lub zmodyfikować kod aplikacji do logowania się dodatkowe informacje i dane śledzenia.</span><span class="sxs-lookup"><span data-stu-id="b2a55-176">There are several options to collect application performance data from Web Apps, profile your application live from Visual Studio, or modify your application code to log more information and traces.</span></span> <span data-ttu-id="b2a55-177">Można wybrać opcje oparte na narzędzi ile dostępu do aplikacji i obserwowanych z monitorowania.</span><span class="sxs-lookup"><span data-stu-id="b2a55-177">You can choose the options based on how much access you have to the application and what you observed from the monitoring tools.</span></span>

##### <a name="use-application-insights-profiler"></a><span data-ttu-id="b2a55-178">Użyj Application Insights profilera</span><span class="sxs-lookup"><span data-stu-id="b2a55-178">Use Application Insights Profiler</span></span>
<span data-ttu-id="b2a55-179">Można włączyć aplikacji profilera Insights można uruchomić przechwytywanie śladów szczegółowe wydajności.</span><span class="sxs-lookup"><span data-stu-id="b2a55-179">You can enable the Application Insights Profiler to start capturing detailed performance traces.</span></span> <span data-ttu-id="b2a55-180">Można uzyskać dostęp do przechwycone dane śledzenia pięć dni temu potrzebne do badania problemów przypada w przeszłości.</span><span class="sxs-lookup"><span data-stu-id="b2a55-180">You can access traces captured up to five days ago when you need to investigate problems happened in the past.</span></span> <span data-ttu-id="b2a55-181">Tę opcję można tak długo, jak długo mają dostęp do zasobu usługi Application Insights aplikacji sieci web w portalu Azure.</span><span class="sxs-lookup"><span data-stu-id="b2a55-181">You can choose this option as long as you have access to the web app's Application Insights resource on Azure portal.</span></span>

<span data-ttu-id="b2a55-182">Application Insights Profiler zawiera dane statystyczne dotyczące czas odpowiedzi dla każdego wywołania sieci web i śladów, wskazującą, w którym wierszem kodu spowodował powolne odpowiedzi.</span><span class="sxs-lookup"><span data-stu-id="b2a55-182">Application Insights Profiler provides statistics on response time for each web call and traces that indicates which line of code caused the slow responses.</span></span> <span data-ttu-id="b2a55-183">Czasami aplikację usługi aplikacji działa wolno, ponieważ niektóre kodu nie jest zapisywany w wydajności sposób.</span><span class="sxs-lookup"><span data-stu-id="b2a55-183">Sometimes the App Service app is slow because certain code is not written in a performant way.</span></span> <span data-ttu-id="b2a55-184">Przykładami sekwencyjnych kod, który można uruchomić w rywalizacji blokad równoległych i niepożądane bazy danych.</span><span class="sxs-lookup"><span data-stu-id="b2a55-184">Examples include sequential code that can be run in parallel and undesired database lock contentions.</span></span> <span data-ttu-id="b2a55-185">Usunięcie tych wąskich gardeł w kodzie zwiększa wydajność aplikacji, ale są trudne do wykrycia bez konfigurowania dzienników i rozbudowane dane śledzenia.</span><span class="sxs-lookup"><span data-stu-id="b2a55-185">Removing these bottlenecks in the code increases the app's performance, but they are hard to detect without setting up elaborate traces and logs.</span></span> <span data-ttu-id="b2a55-186">Ślady zebrane przez Profiler Insights aplikacji pomaga w identyfikacji wierszy kodu, który spowalnia aplikacji i rozwiązać ten problem w przypadku aplikacji usługi aplikacji.</span><span class="sxs-lookup"><span data-stu-id="b2a55-186">The traces collected by Application Insights Profiler helps identifying the lines of code that slows down the application and overcome this challenge for App Service apps.</span></span>

 <span data-ttu-id="b2a55-187">Aby uzyskać więcej informacji, zobacz [profilowania aplikacji sieci web platformy Azure na żywo za pomocą usługi Application Insights](../application-insights/app-insights-profiler.md).</span><span class="sxs-lookup"><span data-stu-id="b2a55-187">For more information, see [Profiling live Azure web apps with Application Insights](../application-insights/app-insights-profiler.md).</span></span>

##### <a name="use-remote-profiling"></a><span data-ttu-id="b2a55-188">Użyj profilowanie zdalne</span><span class="sxs-lookup"><span data-stu-id="b2a55-188">Use Remote Profiling</span></span>
<span data-ttu-id="b2a55-189">W usłudze Azure App Service aplikacje sieci Web, aplikacje interfejsu API i zadania Webjob może być zdalnie profilowane.</span><span class="sxs-lookup"><span data-stu-id="b2a55-189">In Azure App Service, Web Apps, API Apps, and WebJobs can be remotely profiled.</span></span> <span data-ttu-id="b2a55-190">Wybierz tę opcję, jeśli masz dostęp do zasobów aplikacji sieci web i wiesz, jak do odtworzenia problemu lub jeśli znasz dokładnego interwał sytuacji problem z wydajnością.</span><span class="sxs-lookup"><span data-stu-id="b2a55-190">Choose this option if you have access to the web app resource and you know how to reproduce the issue, or if you know the exact time interval the performance issue happens.</span></span>

<span data-ttu-id="b2a55-191">Profilowanie zdalne jest przydatne, jeśli jest wysokie użycie procesora CPU przez proces i proces działa wolniej niż oczekiwano lub opóźnienia żądania HTTP są większe niż jest to normalne, można zdalnie profilu procesu i uzyskać stosy wywołań próbkowania procesora CPU do analizowania procesu ścieżki działania i kod dostępu.</span><span class="sxs-lookup"><span data-stu-id="b2a55-191">Remote Profiling is useful if the CPU usage of the process is high and your process is running slower than expected, or the latency of HTTP requests are higher than normal, you can remotely profile your process and get the CPU sampling call stacks to analyze the process activity and code hot paths.</span></span>

<span data-ttu-id="b2a55-192">Aby uzyskać więcej informacji, zobacz [profilowanie zdalne pomocy technicznej w usłudze Azure App Service](https://azure.microsoft.com/blog/remote-profiling-support-in-azure-app-service).</span><span class="sxs-lookup"><span data-stu-id="b2a55-192">For more information, see [Remote Profiling support in Azure App Service](https://azure.microsoft.com/blog/remote-profiling-support-in-azure-app-service).</span></span>

##### <a name="set-up-diagnostic-traces-manually"></a><span data-ttu-id="b2a55-193">Ręcznie skonfigurować dane śledzenia diagnostycznego</span><span class="sxs-lookup"><span data-stu-id="b2a55-193">Set up diagnostic traces manually</span></span>
<span data-ttu-id="b2a55-194">Jeśli masz dostęp do kodu źródłowego aplikacji sieci web diagnostyki aplikacji umożliwia przechwytywanie informacji generowanych przez aplikację sieci web.</span><span class="sxs-lookup"><span data-stu-id="b2a55-194">If you have access to the web application source code, Application diagnostics enables you to capture information produced by a web application.</span></span> <span data-ttu-id="b2a55-195">Aplikacje ASP.NET mogą używać `System.Diagnostics.Trace` klasy do rejestrowania informacji w dzienniku diagnostyki aplikacji.</span><span class="sxs-lookup"><span data-stu-id="b2a55-195">ASP.NET applications can use the `System.Diagnostics.Trace` class to log information to the application diagnostics log.</span></span> <span data-ttu-id="b2a55-196">Jednak należy zmienić kod i wdrożenie aplikacji.</span><span class="sxs-lookup"><span data-stu-id="b2a55-196">However, you need to change the code and redeploy your application.</span></span> <span data-ttu-id="b2a55-197">Ta metoda jest zalecane, jeśli aplikacja działa w środowisku testowym.</span><span class="sxs-lookup"><span data-stu-id="b2a55-197">This method is recommended if your app is running on a testing environment.</span></span>

<span data-ttu-id="b2a55-198">Aby uzyskać szczegółowe instrukcje na temat konfigurowania aplikacji w celu rejestrowania, zobacz [Włączanie rejestrowania diagnostyki dla aplikacji sieci web w usłudze Azure App Service](web-sites-enable-diagnostic-log.md).</span><span class="sxs-lookup"><span data-stu-id="b2a55-198">For detailed instructions on how to configure your application for logging, see [Enable diagnostics logging for web apps in Azure App Service](web-sites-enable-diagnostic-log.md).</span></span>

#### <a name="use-the-azure-app-service-support-portal"></a><span data-ttu-id="b2a55-199">Użyj portalu pomocy technicznej usługi Azure App Service</span><span class="sxs-lookup"><span data-stu-id="b2a55-199">Use the Azure App Service support portal</span></span>
<span data-ttu-id="b2a55-200">Aplikacje sieci Web umożliwia rozwiązanie problemów dotyczących aplikacji sieci web, analizując HTTP dzienniki, dzienniki zdarzeń, zrzuty procesu i inne.</span><span class="sxs-lookup"><span data-stu-id="b2a55-200">Web Apps provides you with the ability to troubleshoot issues related to your web app by looking at HTTP logs, event logs, process dumps, and more.</span></span> <span data-ttu-id="b2a55-201">Można uzyskać dostępu do tych informacji za pomocą portalu pomocy technicznej w **http://&lt;Twojego Nazwa aplikacji >.scm.azurewebsites.net/Support**</span><span class="sxs-lookup"><span data-stu-id="b2a55-201">You can access all this information using our Support portal at **http://&lt;your app name>.scm.azurewebsites.net/Support**</span></span>

<span data-ttu-id="b2a55-202">Portalu pomocy technicznej usługi Azure App Service udostępnia trzy oddzielne karty do obsługi trzy kroki typowego scenariusza rozwiązywania problemów:</span><span class="sxs-lookup"><span data-stu-id="b2a55-202">The Azure App Service support portal provides you with three separate tabs to support the three steps of a common troubleshooting scenario:</span></span>

1. <span data-ttu-id="b2a55-203">Sprawdź bieżące zachowanie</span><span class="sxs-lookup"><span data-stu-id="b2a55-203">Observe current behavior</span></span>
2. <span data-ttu-id="b2a55-204">Analizowanie zbierania informacji diagnostycznych i uruchamiając analizatorów wbudowane</span><span class="sxs-lookup"><span data-stu-id="b2a55-204">Analyze by collecting diagnostics information and running the built-in analyzers</span></span>
3. <span data-ttu-id="b2a55-205">Ograniczenia</span><span class="sxs-lookup"><span data-stu-id="b2a55-205">Mitigate</span></span>

<span data-ttu-id="b2a55-206">Problem jest wykonywane od razu, kliknij przycisk **Analizuj** > **diagnostyki** > **diagnozowanie teraz** utworzenie sesji diagnostycznej, do którego Służy do zbierania dzienników HTTP, dzienniki Podglądu zdarzeń zrzuty pamięci, dzienniki błędów PHP i raportu procesu PHP.</span><span class="sxs-lookup"><span data-stu-id="b2a55-206">If the issue is happening right now, click **Analyze** > **Diagnostics** > **Diagnose Now** to create a diagnostic session for you, which collects HTTP logs, event viewer logs, memory dumps, PHP error logs, and PHP process report.</span></span>

<span data-ttu-id="b2a55-207">Gdy dane są zbierane, w portalu pomocy technicznej uruchamia analizę danych i udostępnia raport HTML.</span><span class="sxs-lookup"><span data-stu-id="b2a55-207">Once the data is collected, the support portal runs an analysis on the data and provides you with an HTML report.</span></span>

<span data-ttu-id="b2a55-208">W przypadku, gdy chcesz pobrać dane, domyślnie, powinny być przechowywane w folderze D:\home\data\DaaS.</span><span class="sxs-lookup"><span data-stu-id="b2a55-208">In case you want to download the data, by default, it would be stored in the D:\home\data\DaaS folder.</span></span>

<span data-ttu-id="b2a55-209">Aby uzyskać więcej informacji w portalu pomocy technicznej usługi Azure App Service, zobacz [nowe aktualizacje do obsługi rozszerzenia lokacji dla witryn sieci Web Azure](https://azure.microsoft.com/blog/new-updates-to-support-site-extension-for-azure-websites).</span><span class="sxs-lookup"><span data-stu-id="b2a55-209">For more information on the Azure App Service support portal, see [New Updates to Support Site Extension for Azure Websites](https://azure.microsoft.com/blog/new-updates-to-support-site-extension-for-azure-websites).</span></span>

#### <a name="use-the-kudu-debug-console"></a><span data-ttu-id="b2a55-210">Użyj konsoli debugowania aparatu Kudu</span><span class="sxs-lookup"><span data-stu-id="b2a55-210">Use the Kudu Debug Console</span></span>
<span data-ttu-id="b2a55-211">Aplikacje sieci Web jest dostarczany z konsoli debugowania, która służy do debugowania, eksploracji, przekazywania plików, a także pobieranie informacji na temat środowiska punktów końcowych JSON.</span><span class="sxs-lookup"><span data-stu-id="b2a55-211">Web Apps comes with a debug console that you can use for debugging, exploring, uploading files, as well as JSON endpoints for getting information about your environment.</span></span> <span data-ttu-id="b2a55-212">Ta konsola jest nazywany *konsoli Kudu* lub *pulpitu nawigacyjnego SCM* dla aplikacji sieci web.</span><span class="sxs-lookup"><span data-stu-id="b2a55-212">This console is called the *Kudu Console* or the *SCM Dashboard* for your web app.</span></span>

<span data-ttu-id="b2a55-213">Dostęp do tego pulpitu nawigacyjnego, przechodząc do łącza **https://&lt;Twojego Nazwa aplikacji >.scm.azurewebsites.net/**.</span><span class="sxs-lookup"><span data-stu-id="b2a55-213">You can access this dashboard by going to the link **https://&lt;Your app name>.scm.azurewebsites.net/**.</span></span>

<span data-ttu-id="b2a55-214">Niektóre czynności, które program Kudu udostępnia są:</span><span class="sxs-lookup"><span data-stu-id="b2a55-214">Some of the things that Kudu provides are:</span></span>

* <span data-ttu-id="b2a55-215">ustawienia środowiska aplikacji</span><span class="sxs-lookup"><span data-stu-id="b2a55-215">environment settings for your application</span></span>
* <span data-ttu-id="b2a55-216">strumień dziennika</span><span class="sxs-lookup"><span data-stu-id="b2a55-216">log stream</span></span>
* <span data-ttu-id="b2a55-217">diagnostycznych zrzutu</span><span class="sxs-lookup"><span data-stu-id="b2a55-217">diagnostic dump</span></span>
* <span data-ttu-id="b2a55-218">Konsola, w którym można uruchomić poleceń cmdlet programu Powershell i podstawowe polecenia systemu DOS debugowania.</span><span class="sxs-lookup"><span data-stu-id="b2a55-218">debug console in which you can run Powershell cmdlets and basic DOS commands.</span></span>

<span data-ttu-id="b2a55-219">Inny przydatną cechą Kudu jest, że w przypadku, gdy aplikacja jest zgłaszanie wyjątków pierwszej szansy, można użyć Kudu i zrzuty narzędzie SysInternals Procdump utworzyć pamięci.</span><span class="sxs-lookup"><span data-stu-id="b2a55-219">Another useful feature of Kudu is that, in case your application is throwing first-chance exceptions, you can use Kudu and the SysInternals tool Procdump to create memory dumps.</span></span> <span data-ttu-id="b2a55-220">Te zrzuty pamięci są migawki procesu i często ułatwiają rozwiązywanie problemów z bardziej skomplikowanych problemów z aplikacją sieci web.</span><span class="sxs-lookup"><span data-stu-id="b2a55-220">These memory dumps are snapshots of the process and can often help you troubleshoot more complicated issues with your web app.</span></span>

<span data-ttu-id="b2a55-221">Aby uzyskać więcej informacji o funkcjach dostępnych w Kudu, zobacz [narzędzia Azure witryn sieci Web Team Services, musisz wiedzieć o](https://azure.microsoft.com/blog/windows-azure-websites-online-tools-you-should-know-about/).</span><span class="sxs-lookup"><span data-stu-id="b2a55-221">For more information on features available in Kudu, see [Azure Websites Team Services tools you should know about](https://azure.microsoft.com/blog/windows-azure-websites-online-tools-you-should-know-about/).</span></span>

<a name="mitigate" />

### <a name="3-mitigate-the-issue"></a><span data-ttu-id="b2a55-222">3. Ograniczenia problem</span><span class="sxs-lookup"><span data-stu-id="b2a55-222">3. Mitigate the issue</span></span>
#### <a name="scale-the-web-app"></a><span data-ttu-id="b2a55-223">Skalowanie aplikacji sieci web</span><span class="sxs-lookup"><span data-stu-id="b2a55-223">Scale the web app</span></span>
<span data-ttu-id="b2a55-224">W usłudze Azure App Service Aby zwiększyć wydajność i przepływność, można dostosować skali, w którym są uruchomione aplikacji.</span><span class="sxs-lookup"><span data-stu-id="b2a55-224">In Azure App Service, for increased performance and throughput,  you can adjust the scale at which you are running your application.</span></span> <span data-ttu-id="b2a55-225">Skalowanie w górę aplikacji sieci web obejmuje dwie akcje powiązane: zmiana planu usługi aplikacji na wyższej warstwy cenowej i konfigurowanie niektórych ustawień po przełączeniu do wyższej warstwy cenowej.</span><span class="sxs-lookup"><span data-stu-id="b2a55-225">Scaling up a web app involves two related actions: changing your App Service plan to a higher pricing tier, and configuring certain settings after you have switched to the higher pricing tier.</span></span>

<span data-ttu-id="b2a55-226">Aby uzyskać więcej informacji na temat skalowania, zobacz [skalowanie aplikacji sieci web w usłudze Azure App Service](web-sites-scale.md).</span><span class="sxs-lookup"><span data-stu-id="b2a55-226">For more information on scaling, see [Scale a web app in Azure App Service](web-sites-scale.md).</span></span>

<span data-ttu-id="b2a55-227">Ponadto można wybrać do uruchamiania aplikacji na więcej niż jedno wystąpienie.</span><span class="sxs-lookup"><span data-stu-id="b2a55-227">Additionally, you can choose to run your application on more than one instance.</span></span> <span data-ttu-id="b2a55-228">Skalowanie w poziomie nie tylko zapewnia więcej możliwości przetwarzania, ale umożliwia także niektóre ilość odporność na uszkodzenia.</span><span class="sxs-lookup"><span data-stu-id="b2a55-228">Scaling out not only provides you with more processing capability, but also gives you some amount of fault tolerance.</span></span> <span data-ttu-id="b2a55-229">Jeśli proces przestanie działać w jednym wystąpieniu, inne wystąpienia nadal obsługiwać żądań.</span><span class="sxs-lookup"><span data-stu-id="b2a55-229">If the process goes down on one instance, the other instances continue to serve requests.</span></span>

<span data-ttu-id="b2a55-230">Można skonfigurować jako ręczne lub automatyczne skalowanie.</span><span class="sxs-lookup"><span data-stu-id="b2a55-230">You can set the scaling to be Manual or Automatic.</span></span>

#### <a name="use-autoheal"></a><span data-ttu-id="b2a55-231">Funkcja AutoHeal użycia</span><span class="sxs-lookup"><span data-stu-id="b2a55-231">Use AutoHeal</span></span>
<span data-ttu-id="b2a55-232">Funkcja AutoHeal odtwarzania procesu roboczego dla aplikacji na podstawie ustawień wybranego (na przykład zmiany konfiguracji żądania, limity pamięci lub czas potrzebny na wykonanie żądania).</span><span class="sxs-lookup"><span data-stu-id="b2a55-232">AutoHeal recycles the worker process for your app based on settings you choose (like configuration changes, requests, memory-based limits, or the time needed to execute a request).</span></span> <span data-ttu-id="b2a55-233">W większości przypadków, odtworzenia procesu jest najszybszym sposobem odzyskanie problem.</span><span class="sxs-lookup"><span data-stu-id="b2a55-233">Most of the time, recycle the process is the fastest way to recover from a problem.</span></span> <span data-ttu-id="b2a55-234">Chociaż zawsze można ponownie uruchomić aplikacji sieci web z bezpośrednio z poziomu portalu Azure, funkcja AutoHeal zrobi to automatycznie za użytkownika.</span><span class="sxs-lookup"><span data-stu-id="b2a55-234">Though you can always restart the web app from directly within the Azure portal, AutoHeal does it automatically for you.</span></span> <span data-ttu-id="b2a55-235">To wszystko, co należy zrobić, Dodaj niektóre wyzwalacze w głównym pliku web.config dla aplikacji sieci web.</span><span class="sxs-lookup"><span data-stu-id="b2a55-235">All you need to do is add some triggers in the root web.config for your web app.</span></span> <span data-ttu-id="b2a55-236">Te ustawienia będzie działać w ten sam sposób, nawet jeśli aplikacja nie jest aplikacji .net.</span><span class="sxs-lookup"><span data-stu-id="b2a55-236">These settings would work in the same way even if your application is not a .Net app.</span></span>

<span data-ttu-id="b2a55-237">Aby uzyskać więcej informacji, zobacz [automatyczne naprawianie Azure Web Sites](https://azure.microsoft.com/blog/auto-healing-windows-azure-web-sites/).</span><span class="sxs-lookup"><span data-stu-id="b2a55-237">For more information, see [Auto-Healing Azure Web Sites](https://azure.microsoft.com/blog/auto-healing-windows-azure-web-sites/).</span></span>

#### <a name="restart-the-web-app"></a><span data-ttu-id="b2a55-238">Uruchom ponownie aplikację sieci web</span><span class="sxs-lookup"><span data-stu-id="b2a55-238">Restart the web app</span></span>
<span data-ttu-id="b2a55-239">Ponowne uruchomienie jest często Najprostszym sposobem, aby rozwiązać jednorazowo występujące problemy.</span><span class="sxs-lookup"><span data-stu-id="b2a55-239">Restarting is often the simplest way to recover from one-time issues.</span></span> <span data-ttu-id="b2a55-240">Na [portalu Azure](https://portal.azure.com/), w bloku aplikacja sieci web ma opcji, aby zatrzymać lub uruchomić ponownie aplikację.</span><span class="sxs-lookup"><span data-stu-id="b2a55-240">On the [Azure portal](https://portal.azure.com/), on your web app’s blade, you have the options to stop or restart your app.</span></span>

 ![ponowne uruchomienie aplikacji sieci web, aby rozwiązać problemy z wydajnością](./media/app-service-web-troubleshoot-performance-degradation/2-restart.png)

<span data-ttu-id="b2a55-242">Można również zarządzać aplikacji sieci web przy użyciu programu Azure Powershell.</span><span class="sxs-lookup"><span data-stu-id="b2a55-242">You can also manage your web app using Azure Powershell.</span></span> <span data-ttu-id="b2a55-243">Aby uzyskać więcej informacji, zobacz temat [Using Azure PowerShell with Azure Resource Manager](../powershell-azure-resource-manager.md) (Używanie programu Azure PowerShell z usługą Azure Resource Manager).</span><span class="sxs-lookup"><span data-stu-id="b2a55-243">For more information, see [Using Azure PowerShell with Azure Resource Manager](../powershell-azure-resource-manager.md).</span></span>
