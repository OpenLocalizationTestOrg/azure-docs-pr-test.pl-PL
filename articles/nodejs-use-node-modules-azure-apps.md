---
title: "aaaWorking z modułów Node.js"
description: "Dowiedz się, jak toowork z modułów programu Node.js w przypadku korzystania z usługi aplikacji Azure lub usługi w chmurze."
services: 
documentationcenter: nodejs
author: TomArcher
manager: routlaw
editor: 
ms.assetid: c0e6cd3d-932d-433e-b72d-e513e23b4eb6
ms.service: multiple
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: nodejs
ms.topic: article
ms.date: 08/17/2016
ms.author: tarcher
ms.openlocfilehash: 926358b7eb80a659dbc1015686b06a30d8c9b8f0
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="using-nodejs-modules-with-azure-applications"></a><span data-ttu-id="c4785-103">Using Node.js Modules with Azure applications (Używanie modułów Node.js z aplikacjami platformy Azure)</span><span class="sxs-lookup"><span data-stu-id="c4785-103">Using Node.js Modules with Azure applications</span></span>
<span data-ttu-id="c4785-104">Ten dokument zawiera wskazówki dotyczące używania modułów Node.js z aplikacjami hostowanej na platformie Azure.</span><span class="sxs-lookup"><span data-stu-id="c4785-104">This document provides guidance on using Node.js modules with applications hosted on Azure.</span></span> <span data-ttu-id="c4785-105">Zwraca uwagę na upewnienie się, że aplikacja korzysta z odpowiedniej wersji modułu, a także opisuje korzystanie z modułów natywnych w systemie Azure.</span><span class="sxs-lookup"><span data-stu-id="c4785-105">It provides guidance on ensuring that your application uses a specific version of module as well as using native modules with Azure.</span></span>

<span data-ttu-id="c4785-106">Jeśli znasz już przy użyciu modułów Node.js **package.json** i **npm shrinkwrap.json** pliki, hello następujących informacji zawiera podsumowanie szybkie co opisano w tym artykule:</span><span class="sxs-lookup"><span data-stu-id="c4785-106">If you are already familiar with using Node.js modules, **package.json** and **npm-shrinkwrap.json** files, hello following information provides a quick summary of what is discussed in this article:</span></span>

* <span data-ttu-id="c4785-107">Rozumie, usługa aplikacji Azure **package.json** i **npm shrinkwrap.json** pliki i można zainstalować na podstawie pozycji w tych plikach modułów.</span><span class="sxs-lookup"><span data-stu-id="c4785-107">Azure App Service understands **package.json** and **npm-shrinkwrap.json** files and can install modules based on entries in these files.</span></span>

* <span data-ttu-id="c4785-108">Usługi w chmurze Azure oczekiwać wszystkich toobe modułów zainstalowanych na powitania Środowisko deweloperskie i hello **węzła\_modułów** dołączone jako część pakietu wdrożeniowego hello toobe katalogu.</span><span class="sxs-lookup"><span data-stu-id="c4785-108">Azure Cloud Services expect all modules toobe installed on hello development environment, and hello **node\_modules** directory toobe included as part of hello deployment package.</span></span> <span data-ttu-id="c4785-109">Jest możliwe tooenable Obsługa instalowania modułów za pomocą **package.json** lub **npm shrinkwrap.json** plików na usługi w chmurze; ta konfiguracja wymaga jednak dostosowywania domyślnego hello skryptów używanych przez projekty usługi w chmurze.</span><span class="sxs-lookup"><span data-stu-id="c4785-109">It is possible tooenable support for installing modules using **package.json** or **npm-shrinkwrap.json** files on Cloud Services; however, this configuration requires customization of hello default scripts used by Cloud Service projects.</span></span> <span data-ttu-id="c4785-110">Na przykład jak tooconfigure tego środowiska, zobacz [Azure uruchamiania zadań toorun npm zainstalować tooavoid Wdrażanie modułów węzła](https://github.com/woloski/nodeonazure-blog/blob/master/articles/startup-task-to-run-npm-in-azure.markdown)</span><span class="sxs-lookup"><span data-stu-id="c4785-110">For an example of how tooconfigure this environment, see [Azure Startup task toorun npm install tooavoid deploying node modules](https://github.com/woloski/nodeonazure-blog/blob/master/articles/startup-task-to-run-npm-in-azure.markdown)</span></span>

> [!NOTE]
> <span data-ttu-id="c4785-111">Maszyny wirtualne platformy Azure nie omówiono w tym artykule jako środowisko wdrażania hello na maszynie wirtualnej jest zależny od systemu operacyjnego hello obsługiwanych przez hello maszyny wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="c4785-111">Azure Virtual Machines are not discussed in this article, as hello deployment experience in a VM is dependent on hello operating system hosted by hello Virtual Machine.</span></span>
> 
> 

## <a name="nodejs-modules"></a><span data-ttu-id="c4785-112">Moduły środowiska node.js</span><span class="sxs-lookup"><span data-stu-id="c4785-112">Node.js Modules</span></span>
<span data-ttu-id="c4785-113">Moduły są obciążana pakiety języka JavaScript, które zapewniają określonych funkcji aplikacji.</span><span class="sxs-lookup"><span data-stu-id="c4785-113">Modules are loadable JavaScript packages that provide specific functionality for your application.</span></span> <span data-ttu-id="c4785-114">Moduły zwykle są instalowane za pomocą hello **npm** wiersza polecenia narzędzia, jednak niektóre moduły (takich jak moduł http hello) są dostarczane jako część pakietu środowiska Node.js hello core.</span><span class="sxs-lookup"><span data-stu-id="c4785-114">Modules are usually installed using hello **npm** command-line tool, however some modules (such as hello http module) are provided as part of hello core Node.js package.</span></span>

<span data-ttu-id="c4785-115">Po zainstalowaniu moduły są przechowywane w hello **węzła\_modułów** katalogu głównego hello struktury katalogu aplikacji.</span><span class="sxs-lookup"><span data-stu-id="c4785-115">When modules are installed, they are stored in hello **node\_modules** directory at hello root of your application directory structure.</span></span> <span data-ttu-id="c4785-116">Każdego modułu w ramach hello **węzła\_modułów** directory zachowuje własną **węzła\_modułów** katalog, który zawiera wszystkie moduły zależy, które powtarza to zachowanie dla każdego modułu końca hello dół hello łańcuch zależności.</span><span class="sxs-lookup"><span data-stu-id="c4785-116">Each module within hello **node\_modules** directory maintains its own **node\_modules** directory that contains any modules that it depends on, and this behavior repeats for every module all hello way down hello dependency chain.</span></span> <span data-ttu-id="c4785-117">To środowisko umożliwia każdej toohave zainstalowany moduł własną wersję wymagania dotyczące modułów hello zależy, jednak może to spowodować bardzo dużych strukturą katalogów.</span><span class="sxs-lookup"><span data-stu-id="c4785-117">This environment allows each module installed toohave its own version requirements for hello modules it depends on, however it can result in quite a large directory structure.</span></span>

<span data-ttu-id="c4785-118">Wdrażanie hello **węzła\_modułów** katalogu jako części aplikacji pozwala zwiększyć rozmiar hello hello wdrożenia w porównaniu toousing **package.json** lub  **npm shrinkwrap.json** pliku; jednak gwarantuje, że wersje hello moduły hello używane w środowisku produkcyjnym są takie same hello jako moduły hello używane do rozwoju.</span><span class="sxs-lookup"><span data-stu-id="c4785-118">Deploying hello **node\_modules** directory as part of your application increases hello size of hello deployment when compared toousing a **package.json** or **npm-shrinkwrap.json** file; however, it does guarantee that hello versions of hello modules used in production are hello same as hello modules used in development.</span></span>

### <a name="native-modules"></a><span data-ttu-id="c4785-119">Moduły macierzyste</span><span class="sxs-lookup"><span data-stu-id="c4785-119">Native Modules</span></span>
<span data-ttu-id="c4785-120">Większość modułów są pliki JavaScript po prostu zwykłego tekstu, niektóre moduły są obrazy binarne specyficzne dla platformy.</span><span class="sxs-lookup"><span data-stu-id="c4785-120">While most modules are simply plain-text JavaScript files, some modules are platform-specific binary images.</span></span> <span data-ttu-id="c4785-121">Te moduły są kompilowane w czasie instalacji, zwykle za pomocą języka Python i gyp węzła.</span><span class="sxs-lookup"><span data-stu-id="c4785-121">These modules are compiled at install time, usually by using Python and node-gyp.</span></span> <span data-ttu-id="c4785-122">Ponieważ usługi w chmurze Azure polegać na powitania **węzła\_modułów** folderu wdrażany w ramach aplikacji hello, każdy moduł macierzysty będących częścią hello zainstalowane moduły powinny działać w usłudze w chmurze tak długo, jak było zainstalowane i skompilowane również w rozwoju systemu Windows.</span><span class="sxs-lookup"><span data-stu-id="c4785-122">Since Azure Cloud Services rely on hello **node\_modules** folder being deployed as part of hello application, any native module included as part of hello installed modules should work in a cloud service as long as it was installed and compiled on a Windows development system.</span></span>

<span data-ttu-id="c4785-123">Usługa aplikacji Azure nie obsługuje wszystkie moduły natywne i może zakończyć się niepowodzeniem w przypadku kompilowania kodu modułów z określonych wymagań wstępnych.</span><span class="sxs-lookup"><span data-stu-id="c4785-123">Azure App Service does not support all native modules, and might fail when compiling modules with specific prerequisites.</span></span> <span data-ttu-id="c4785-124">Niektóre popularnych modułów, takich jak bazy danych MongoDB opcjonalne zależnościami macierzystego i działają prawidłowo bez obawy, dwa obejścia potwierdza, że pomyślnie z prawie wszystkie moduły macierzyste dostępne dzisiaj:</span><span class="sxs-lookup"><span data-stu-id="c4785-124">While some popular modules like MongoDB have optional native dependencies and work fine without them, two workarounds proved successful with almost all native modules available today:</span></span>

* <span data-ttu-id="c4785-125">Uruchom **instalacji narzędzia npm** na komputerze z systemem Windows, który ma zainstalowane wymagania wstępne wszystkich hello modułu macierzystego w.</span><span class="sxs-lookup"><span data-stu-id="c4785-125">Run **npm install** on a Windows machine that has all hello native module's prerequisites installed.</span></span> <span data-ttu-id="c4785-126">Następnie Wdróż hello utworzony **węzła\_modułów** folder jako część tooAzure aplikacji hello usługi aplikacji.</span><span class="sxs-lookup"><span data-stu-id="c4785-126">Then, deploy hello created **node\_modules** folder as part of hello application tooAzure App Service.</span></span>

  * <span data-ttu-id="c4785-127">Przed skompilowaniem, sprawdź, czy lokalnej instalacji programu Node.js ma architekturę zgodną i wersja hello jest możliwie możliwe toohello, używany w Azure (bieżące wartości hello można sprawdzić na środowisko uruchomieniowe przy użyciu właściwości **process.arch**i **process.version**).</span><span class="sxs-lookup"><span data-stu-id="c4785-127">Before compiling, check that your local Node.js installation has matching architecture and hello version is as close as possible toohello one used in Azure (hello current values can be checked on runtime from properties **process.arch** and **process.version**).</span></span>

* <span data-ttu-id="c4785-128">Usługa aplikacji Azure mogą być bash niestandardowych skonfigurowanych tooexecute lub skryptów powłoki podczas wdrażania, umożliwiając hello polecenia niestandardowych tooexecute możliwości i dokładnie skonfigurować hello sposób **instalacji narzędzia npm** jest uruchamiana.</span><span class="sxs-lookup"><span data-stu-id="c4785-128">Azure App Service can be configured tooexecute custom bash or shell scripts during deployment, giving you hello opportunity tooexecute custom commands and precisely configure hello way **npm install** is being run.</span></span> <span data-ttu-id="c4785-129">Dla wideo przedstawiający sposób tooconfigure tego środowiska, zobacz [niestandardowych skryptów wdrażania witryny sieci Web z Kudu].</span><span class="sxs-lookup"><span data-stu-id="c4785-129">For a video showing how tooconfigure that environment, see [Custom Website Deployment Scripts with Kudu].</span></span>

### <a name="using-a-packagejson-file"></a><span data-ttu-id="c4785-130">Przy użyciu pliku package.json</span><span class="sxs-lookup"><span data-stu-id="c4785-130">Using a package.json file</span></span>
<span data-ttu-id="c4785-131">Witaj **package.json** plik jest sposób toospecify hello najwyższego poziomu zależności aplikacja wymaga, aby hello Platforma macierzysta można zainstalować zależności hello zamiast konieczności tooinclude hello **węzła \_pakiety** folder jako część wdrożenia hello.</span><span class="sxs-lookup"><span data-stu-id="c4785-131">hello **package.json** file is a way toospecify hello top-level dependencies your application requires so that hello hosting platform can install hello dependencies, rather than requiring you tooinclude hello **node\_packages** folder as part of hello deployment.</span></span> <span data-ttu-id="c4785-132">Po wdrożeniu aplikacji hello hello **instalacji narzędzia npm** hello tooparse używane jest polecenie **package.json** plików i zainstalować wszystkie zależności hello na liście.</span><span class="sxs-lookup"><span data-stu-id="c4785-132">After hello application has been deployed, hello **npm install** command is used tooparse hello **package.json** file and install all hello dependencies listed.</span></span>

<span data-ttu-id="c4785-133">Podczas tworzenia, można użyć hello **— Zapisz**, **— Zapisz deweloperów**, lub **— opcjonalnie Zapisz** parametrów podczas instalowania modułów tooadd wpis dotyczący hello modułu tooyour **package.json** pliku automatycznie.</span><span class="sxs-lookup"><span data-stu-id="c4785-133">During development, you can use hello **--save**, **--save-dev**, or **--save-optional** parameters when installing modules tooadd an entry for hello module tooyour **package.json** file automatically.</span></span> <span data-ttu-id="c4785-134">Aby uzyskać więcej informacji, zobacz [npm install](https://docs.npmjs.com/cli/install).</span><span class="sxs-lookup"><span data-stu-id="c4785-134">For more information, see [npm-install](https://docs.npmjs.com/cli/install).</span></span>

<span data-ttu-id="c4785-135">Jeden potencjalny problem z hello **package.json** plik jest, że tylko określa wersję hello zależności najwyższego poziomu.</span><span class="sxs-lookup"><span data-stu-id="c4785-135">One potential problem with hello **package.json** file is that it only specifies hello version for top-level dependencies.</span></span> <span data-ttu-id="c4785-136">Każdego zainstalowany moduł może lub nie mógł określić wersji hello modułów hello, od których zależy, a więc jest to możliwe, że może to spowodować z łańcucha zależności innego niż hello używany w rozwoju.</span><span class="sxs-lookup"><span data-stu-id="c4785-136">Each module installed may or may not specify hello version of hello modules it depends on, and so it is possible that you may end up with a different dependency chain than hello one used in development.</span></span>

> [!NOTE]
> <span data-ttu-id="c4785-137">W przypadku wdrażania tooAzure usługi aplikacji, jeśli Twoje <b>package.json</b> odwołuje się do pliku modułu macierzystego można napotkać błąd toohello podobnie poniższy przykład w przypadku publikowania aplikacji hello przy użyciu narzędzia Git:</span><span class="sxs-lookup"><span data-stu-id="c4785-137">When deploying tooAzure App Service, if your <b>package.json</b> file references a native module you might see an error similar toohello following example when publishing hello application using Git:</span></span>
> 
> <span data-ttu-id="c4785-138">Błąd npm!</span><span class="sxs-lookup"><span data-stu-id="c4785-138">npm ERR!</span></span> <span data-ttu-id="c4785-139">module-name@0.6.0Zainstaluj: "gyp węzła Konfigurowanie kompilacji"</span><span class="sxs-lookup"><span data-stu-id="c4785-139">module-name@0.6.0 install: 'node-gyp configure build'</span></span>
> 
> <span data-ttu-id="c4785-140">Błąd npm!</span><span class="sxs-lookup"><span data-stu-id="c4785-140">npm ERR!</span></span> <span data-ttu-id="c4785-141">"cmd"/ c""gyp węzła Konfigurowanie kompilacji"" nie powiodło się z 1</span><span class="sxs-lookup"><span data-stu-id="c4785-141">'cmd "/c" "node-gyp configure build"' failed with 1</span></span>
> 
> 

### <a name="using-a-npm-shrinkwrapjson-file"></a><span data-ttu-id="c4785-142">Przy użyciu pliku npm shrinkwrap.json</span><span class="sxs-lookup"><span data-stu-id="c4785-142">Using a npm-shrinkwrap.json file</span></span>
<span data-ttu-id="c4785-143">Witaj **npm shrinkwrap.json** plik jest próba tooaddress hello modułu versioning ograniczenia hello **package.json** pliku.</span><span class="sxs-lookup"><span data-stu-id="c4785-143">hello **npm-shrinkwrap.json** file is an attempt tooaddress hello module versioning limitations of hello **package.json** file.</span></span> <span data-ttu-id="c4785-144">Podczas hello **package.json** plik zawiera tylko wersje hello moduły najwyższego poziomu, hello **npm shrinkwrap.json** plik zawiera hello wersji wymagania dotyczące łańcuch zależności hello pełne modułu.</span><span class="sxs-lookup"><span data-stu-id="c4785-144">While hello **package.json** file only includes versions for hello top-level modules, hello **npm-shrinkwrap.json** file contains hello version requirements for hello full module dependency chain.</span></span>

<span data-ttu-id="c4785-145">Gdy aplikacja jest gotowa do produkcji, można zablokować wymagania dotyczące wersji i utworzyć **npm shrinkwrap.json** pliku przy użyciu hello **npm shrinkwrap** polecenia.</span><span class="sxs-lookup"><span data-stu-id="c4785-145">When your application is ready for production, you can lock down version requirements and create an **npm-shrinkwrap.json** file by using hello **npm shrinkwrap** command.</span></span> <span data-ttu-id="c4785-146">Tego polecenia będą używać wersji hello aktualnie zainstalowane w hello **węzła\_modułów** folderu i Zapisz te wersje toohello **npm shrinkwrap.json** pliku.</span><span class="sxs-lookup"><span data-stu-id="c4785-146">This command will use hello versions currently installed in hello **node\_modules** folder, and record these versions toohello **npm-shrinkwrap.json** file.</span></span> <span data-ttu-id="c4785-147">Po aplikacji hello został wdrożony toohello Środowisko hostingu, hello **instalacji narzędzia npm** hello tooparse używane jest polecenie **npm shrinkwrap.json** plików i zainstalować wszystkie zależności hello na liście.</span><span class="sxs-lookup"><span data-stu-id="c4785-147">After hello application has been deployed toohello hosting environment, hello **npm install** command is used tooparse hello **npm-shrinkwrap.json** file and install all hello dependencies listed.</span></span> <span data-ttu-id="c4785-148">Aby uzyskać więcej informacji, zobacz [npm shrinkwrap](https://docs.npmjs.com/cli/shrinkwrap).</span><span class="sxs-lookup"><span data-stu-id="c4785-148">For more information, see [npm-shrinkwrap](https://docs.npmjs.com/cli/shrinkwrap).</span></span>

> [!NOTE]
> <span data-ttu-id="c4785-149">W przypadku wdrażania tooAzure usługi aplikacji, jeśli Twoje <b>npm shrinkwrap.json</b> odwołuje się do pliku modułu macierzystego można napotkać błąd toohello podobnie poniższy przykład w przypadku publikowania aplikacji hello przy użyciu narzędzia Git:</span><span class="sxs-lookup"><span data-stu-id="c4785-149">When deploying tooAzure App Service, if your <b>npm-shrinkwrap.json</b> file references a native module you might see an error similar toohello following example when publishing hello application using Git:</span></span>
> 
> <span data-ttu-id="c4785-150">Błąd npm!</span><span class="sxs-lookup"><span data-stu-id="c4785-150">npm ERR!</span></span> <span data-ttu-id="c4785-151">module-name@0.6.0Zainstaluj: "gyp węzła Konfigurowanie kompilacji"</span><span class="sxs-lookup"><span data-stu-id="c4785-151">module-name@0.6.0 install: 'node-gyp configure build'</span></span>
> 
> <span data-ttu-id="c4785-152">Błąd npm!</span><span class="sxs-lookup"><span data-stu-id="c4785-152">npm ERR!</span></span> <span data-ttu-id="c4785-153">"cmd"/ c""gyp węzła Konfigurowanie kompilacji"" nie powiodło się z 1</span><span class="sxs-lookup"><span data-stu-id="c4785-153">'cmd "/c" "node-gyp configure build"' failed with 1</span></span>
> 
> 

## <a name="next-steps"></a><span data-ttu-id="c4785-154">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="c4785-154">Next steps</span></span>
<span data-ttu-id="c4785-155">Zapoznaniu się jak toouse modułów Node.js z platformy Azure, Dowiedz się, jak za[określanie wersji środowiska Node.js hello], [tworzenia i wdrażania aplikacji sieci web Node.js](app-service-web/app-service-web-get-started-nodejs.md), i [jak toouse hello Azure wiersza polecenia Interfejs dla komputerów Mac i Linux].</span><span class="sxs-lookup"><span data-stu-id="c4785-155">Now that you understand how toouse Node.js modules with Azure, learn how too[specify hello Node.js version], [build and deploy a Node.js web app](app-service-web/app-service-web-get-started-nodejs.md), and [How toouse hello Azure Command-Line Interface for Mac and Linux].</span></span>

<span data-ttu-id="c4785-156">Aby uzyskać więcej informacji, zobacz hello [Centrum deweloperów środowiska Node.js](/nodejs/azure/).</span><span class="sxs-lookup"><span data-stu-id="c4785-156">For more information, see hello [Node.js Developer Center](/nodejs/azure/).</span></span>

[określanie wersji środowiska Node.js hello]: nodejs-specify-node-version-azure-apps.md
[jak toouse hello Azure wiersza polecenia Interfejs dla komputerów Mac i Linux]:cli-install-nodejs.md
[niestandardowych skryptów wdrażania witryny sieci Web z Kudu]: https://channel9.msdn.com/Shows/Azure-Friday/Custom-Web-Site-Deployment-Scripts-with-Kudu-with-David-Ebbo
