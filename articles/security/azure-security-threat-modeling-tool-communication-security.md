---
title: "aaaCommunication zabezpieczeń — narzędzie modelowania zagrożeń Microsoft - Azure | Dokumentacja firmy Microsoft"
description: "środki zaradcze w przypadku zagrożeń w hello narzędzie modelowania zagrożeń"
services: security
documentationcenter: na
author: RodSan
manager: RodSan
editor: RodSan
ms.assetid: na
ms.service: security
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/17/2017
ms.author: rodsan
ms.openlocfilehash: 667829c75123f4dbe0b383fdaf8cd899802f9b16
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="security-frame-communication-security--mitigations"></a><span data-ttu-id="01ba1-103">Ramka zabezpieczeń: Zabezpieczenia komunikacji | Środki zaradcze</span><span class="sxs-lookup"><span data-stu-id="01ba1-103">Security Frame: Communication Security | Mitigations</span></span> 
| <span data-ttu-id="01ba1-104">Produktów i usług</span><span class="sxs-lookup"><span data-stu-id="01ba1-104">Product/Service</span></span> | <span data-ttu-id="01ba1-105">Artykuł</span><span class="sxs-lookup"><span data-stu-id="01ba1-105">Article</span></span> |
| --------------- | ------- |
| <span data-ttu-id="01ba1-106">**Centrum zdarzeń platformy Azure**</span><span class="sxs-lookup"><span data-stu-id="01ba1-106">**Azure Event Hub**</span></span> | <ul><li>[<span data-ttu-id="01ba1-107">Bezpieczna komunikacja tooEvent Centrum przy użyciu protokołu SSL/TLS</span><span class="sxs-lookup"><span data-stu-id="01ba1-107">Secure communication tooEvent Hub using SSL/TLS</span></span>](#comm-ssltls)</li></ul> |
| <span data-ttu-id="01ba1-108">**Dynamics CRM**</span><span class="sxs-lookup"><span data-stu-id="01ba1-108">**Dynamics CRM**</span></span> | <ul><li>[<span data-ttu-id="01ba1-109">Sprawdź uprawnienia i sprawdź, czy hello niestandardowych stron ASP.NET lub usługi przestrzegać CRM zabezpieczeń konta usługi</span><span class="sxs-lookup"><span data-stu-id="01ba1-109">Check service account privileges and check that hello custom Services or ASP.NET Pages respect CRM's security</span></span>](#priv-aspnet)</li></ul> |
| <span data-ttu-id="01ba1-110">**Azure Data Factory**</span><span class="sxs-lookup"><span data-stu-id="01ba1-110">**Azure Data Factory**</span></span> | <ul><li>[<span data-ttu-id="01ba1-111">Użyj bramy zarządzania danymi podczas tooAzure na serwerze SQL — wersja Premium łączenia usługi fabryka danych</span><span class="sxs-lookup"><span data-stu-id="01ba1-111">Use Data management gateway while connecting On Prem SQL Server tooAzure Data Factory</span></span>](#sqlserver-factory)</li></ul> |
| <span data-ttu-id="01ba1-112">**Tożsamości serwera**</span><span class="sxs-lookup"><span data-stu-id="01ba1-112">**Identity Server**</span></span> | <ul><li>[<span data-ttu-id="01ba1-113">Upewnij się, że wszystkie tooIdentity ruchu serwera jest za pośrednictwem połączenia HTTPS</span><span class="sxs-lookup"><span data-stu-id="01ba1-113">Ensure that all traffic tooIdentity Server is over HTTPS connection</span></span>](#identity-https)</li></ul> |
| <span data-ttu-id="01ba1-114">**Aplikacja sieci Web**</span><span class="sxs-lookup"><span data-stu-id="01ba1-114">**Web Application**</span></span> | <ul><li>[<span data-ttu-id="01ba1-115">Sprawdź, czy połączenia SSL, TLS i DTLS tooauthenticate używane certyfikaty X.509</span><span class="sxs-lookup"><span data-stu-id="01ba1-115">Verify X.509 certificates used tooauthenticate SSL, TLS, and DTLS connections</span></span>](#x509-ssltls)</li><li>[<span data-ttu-id="01ba1-116">Konfigurowanie certyfikatu SSL dla domen niestandardowych w usłudze Azure App Service</span><span class="sxs-lookup"><span data-stu-id="01ba1-116">Configure SSL certificate for custom domain in Azure App Service</span></span>](#ssl-appservice)</li><li>[<span data-ttu-id="01ba1-117">Wymuś wszystkich tooAzure ruchu usługi App Service za pośrednictwem połączenia HTTPS</span><span class="sxs-lookup"><span data-stu-id="01ba1-117">Force all traffic tooAzure App Service over HTTPS connection</span></span>](#appservice-https)</li><li>[<span data-ttu-id="01ba1-118">Włącz zabezpieczenie Strict transportu HTTP (HSTS)</span><span class="sxs-lookup"><span data-stu-id="01ba1-118">Enable HTTP Strict Transport Security (HSTS)</span></span>](#http-hsts)</li></ul> |
| <span data-ttu-id="01ba1-119">**Baza danych**</span><span class="sxs-lookup"><span data-stu-id="01ba1-119">**Database**</span></span> | <ul><li>[<span data-ttu-id="01ba1-120">Upewnij się, SQL server szyfrowania i certyfikatu sprawdzania poprawności połączenia</span><span class="sxs-lookup"><span data-stu-id="01ba1-120">Ensure SQL server connection encryption and certificate validation</span></span>](#sqlserver-validation)</li><li>[<span data-ttu-id="01ba1-121">Wymuś zaszyfrowana komunikacja tooSQL serwera</span><span class="sxs-lookup"><span data-stu-id="01ba1-121">Force Encrypted communication tooSQL server</span></span>](#encrypted-sqlserver)</li></ul> |
| <span data-ttu-id="01ba1-122">**Azure Storage**</span><span class="sxs-lookup"><span data-stu-id="01ba1-122">**Azure Storage**</span></span> | <ul><li>[<span data-ttu-id="01ba1-123">Upewnij się, że tooAzure komunikacji, jest magazynu za pośrednictwem protokołu HTTPS</span><span class="sxs-lookup"><span data-stu-id="01ba1-123">Ensure that communication tooAzure Storage is over HTTPS</span></span>](#comm-storage)</li><li>[<span data-ttu-id="01ba1-124">Sprawdzenie skrótu MD5 po pobraniu obiektów blob, jeśli nie można włączyć protokołu HTTPS</span><span class="sxs-lookup"><span data-stu-id="01ba1-124">Validate MD5 hash after downloading blob if HTTPS cannot be enabled</span></span>](#md5-https)</li><li>[<span data-ttu-id="01ba1-125">Użyj protokołu SMB 3.0 zgodny klient tooensure podczas przesyłania tooAzure szyfrowania danych udziałów plików</span><span class="sxs-lookup"><span data-stu-id="01ba1-125">Use SMB 3.0 compatible client tooensure in-transit data encryption tooAzure File Shares</span></span>](#smb-shares)</li></ul> |
| <span data-ttu-id="01ba1-126">**Klientów urządzeń przenośnych**</span><span class="sxs-lookup"><span data-stu-id="01ba1-126">**Mobile Client**</span></span> | <ul><li>[<span data-ttu-id="01ba1-127">Implementowanie funkcji przypinania certyfikatu</span><span class="sxs-lookup"><span data-stu-id="01ba1-127">Implement Certificate Pinning</span></span>](#cert-pinning)</li></ul> |
| <span data-ttu-id="01ba1-128">**WCF**</span><span class="sxs-lookup"><span data-stu-id="01ba1-128">**WCF**</span></span> | <ul><li>[<span data-ttu-id="01ba1-129">Włącz protokół HTTPS - bezpieczny kanał transportu</span><span class="sxs-lookup"><span data-stu-id="01ba1-129">Enable HTTPS - Secure Transport channel</span></span>](#https-transport)</li><li>[<span data-ttu-id="01ba1-130">WCF: TooEncryptAndSign poziomu ochrony zabezpieczeń zestawu wiadomości</span><span class="sxs-lookup"><span data-stu-id="01ba1-130">WCF: Set Message security Protection level tooEncryptAndSign</span></span>](#message-protection)</li><li>[<span data-ttu-id="01ba1-131">Usługi WCF: Użyj toorun najmniej uprzywilejowane konto usługi WCF</span><span class="sxs-lookup"><span data-stu-id="01ba1-131">WCF: Use a least-privileged account toorun your WCF service</span></span>](#least-account-wcf)</li></ul> |
| <span data-ttu-id="01ba1-132">**Interfejs API sieci Web**</span><span class="sxs-lookup"><span data-stu-id="01ba1-132">**Web API**</span></span> | <ul><li>[<span data-ttu-id="01ba1-133">Wymuś wszystkich tooWeb ruchu interfejsów API za pośrednictwem połączenia HTTPS</span><span class="sxs-lookup"><span data-stu-id="01ba1-133">Force all traffic tooWeb APIs over HTTPS connection</span></span>](#webapi-https)</li></ul> |
| <span data-ttu-id="01ba1-134">**Azure Redis Cache**</span><span class="sxs-lookup"><span data-stu-id="01ba1-134">**Azure Redis Cache**</span></span> | <ul><li>[<span data-ttu-id="01ba1-135">Upewnij się, że tooAzure komunikacji, jest pamięcią podręczną Redis za pośrednictwem protokołu SSL</span><span class="sxs-lookup"><span data-stu-id="01ba1-135">Ensure that communication tooAzure Redis Cache is over SSL</span></span>](#redis-ssl)</li></ul> |
| <span data-ttu-id="01ba1-136">**Pole IoT bramy**</span><span class="sxs-lookup"><span data-stu-id="01ba1-136">**IoT Field Gateway**</span></span> | <ul><li>[<span data-ttu-id="01ba1-137">Bezpieczna komunikacja bramy tooField urządzenia</span><span class="sxs-lookup"><span data-stu-id="01ba1-137">Secure Device tooField Gateway communication</span></span>](#device-field)</li></ul> |
| <span data-ttu-id="01ba1-138">**Brama chmury IoT**</span><span class="sxs-lookup"><span data-stu-id="01ba1-138">**IoT Cloud Gateway**</span></span> | <ul><li>[<span data-ttu-id="01ba1-139">Zabezpieczanie tooCloud urządzenia bramy komunikacji przy użyciu protokołu SSL/TLS</span><span class="sxs-lookup"><span data-stu-id="01ba1-139">Secure Device tooCloud Gateway communication using SSL/TLS</span></span>](#device-cloud)</li></ul> |

## <span data-ttu-id="01ba1-140"><a id="comm-ssltls"></a>Bezpieczna komunikacja tooEvent Centrum przy użyciu protokołu SSL/TLS</span><span class="sxs-lookup"><span data-stu-id="01ba1-140"><a id="comm-ssltls"></a>Secure communication tooEvent Hub using SSL/TLS</span></span>

| <span data-ttu-id="01ba1-141">Tytuł</span><span class="sxs-lookup"><span data-stu-id="01ba1-141">Title</span></span>                   | <span data-ttu-id="01ba1-142">Szczegóły</span><span class="sxs-lookup"><span data-stu-id="01ba1-142">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="01ba1-143">**Składnik**</span><span class="sxs-lookup"><span data-stu-id="01ba1-143">**Component**</span></span>               | <span data-ttu-id="01ba1-144">Centrum zdarzeń platformy Azure</span><span class="sxs-lookup"><span data-stu-id="01ba1-144">Azure Event Hub</span></span> | 
| <span data-ttu-id="01ba1-145">**Faza SDL**</span><span class="sxs-lookup"><span data-stu-id="01ba1-145">**SDL Phase**</span></span>               | <span data-ttu-id="01ba1-146">Kompilacja</span><span class="sxs-lookup"><span data-stu-id="01ba1-146">Build</span></span> |  
| <span data-ttu-id="01ba1-147">**Zastosowanie technologii**</span><span class="sxs-lookup"><span data-stu-id="01ba1-147">**Applicable Technologies**</span></span> | <span data-ttu-id="01ba1-148">Ogólny</span><span class="sxs-lookup"><span data-stu-id="01ba1-148">Generic</span></span> |
| <span data-ttu-id="01ba1-149">**Atrybuty**</span><span class="sxs-lookup"><span data-stu-id="01ba1-149">**Attributes**</span></span>              | <span data-ttu-id="01ba1-150">Nie dotyczy</span><span class="sxs-lookup"><span data-stu-id="01ba1-150">N/A</span></span>  |
| <span data-ttu-id="01ba1-151">**Odwołania**</span><span class="sxs-lookup"><span data-stu-id="01ba1-151">**References**</span></span>              | [<span data-ttu-id="01ba1-152">Uwierzytelnianie i zabezpieczenia modelu Omówienie usługi Event Hubs</span><span class="sxs-lookup"><span data-stu-id="01ba1-152">Event Hubs authentication and security model overview</span></span>](https://azure.microsoft.com/documentation/articles/event-hubs-authentication-and-security-model-overview/) |
| <span data-ttu-id="01ba1-153">**Kroki**</span><span class="sxs-lookup"><span data-stu-id="01ba1-153">**Steps**</span></span> | <span data-ttu-id="01ba1-154">Secure HTTP lub protokołu AMQP tooEvent połączenia koncentratora, za pomocą protokołu SSL/TLS</span><span class="sxs-lookup"><span data-stu-id="01ba1-154">Secure AMQP or HTTP connections tooEvent Hub using SSL/TLS</span></span> |

## <span data-ttu-id="01ba1-155"><a id="priv-aspnet"></a>Sprawdź uprawnienia i sprawdź, czy hello niestandardowych stron ASP.NET lub usługi przestrzegać CRM zabezpieczeń konta usługi</span><span class="sxs-lookup"><span data-stu-id="01ba1-155"><a id="priv-aspnet"></a>Check service account privileges and check that hello custom Services or ASP.NET Pages respect CRM's security</span></span>

| <span data-ttu-id="01ba1-156">Tytuł</span><span class="sxs-lookup"><span data-stu-id="01ba1-156">Title</span></span>                   | <span data-ttu-id="01ba1-157">Szczegóły</span><span class="sxs-lookup"><span data-stu-id="01ba1-157">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="01ba1-158">**Składnik**</span><span class="sxs-lookup"><span data-stu-id="01ba1-158">**Component**</span></span>               | <span data-ttu-id="01ba1-159">Dynamics CRM</span><span class="sxs-lookup"><span data-stu-id="01ba1-159">Dynamics CRM</span></span> | 
| <span data-ttu-id="01ba1-160">**Faza SDL**</span><span class="sxs-lookup"><span data-stu-id="01ba1-160">**SDL Phase**</span></span>               | <span data-ttu-id="01ba1-161">Kompilacja</span><span class="sxs-lookup"><span data-stu-id="01ba1-161">Build</span></span> |  
| <span data-ttu-id="01ba1-162">**Zastosowanie technologii**</span><span class="sxs-lookup"><span data-stu-id="01ba1-162">**Applicable Technologies**</span></span> | <span data-ttu-id="01ba1-163">Ogólny</span><span class="sxs-lookup"><span data-stu-id="01ba1-163">Generic</span></span> |
| <span data-ttu-id="01ba1-164">**Atrybuty**</span><span class="sxs-lookup"><span data-stu-id="01ba1-164">**Attributes**</span></span>              | <span data-ttu-id="01ba1-165">Nie dotyczy</span><span class="sxs-lookup"><span data-stu-id="01ba1-165">N/A</span></span>  |
| <span data-ttu-id="01ba1-166">**Odwołania**</span><span class="sxs-lookup"><span data-stu-id="01ba1-166">**References**</span></span>              | <span data-ttu-id="01ba1-167">Nie dotyczy</span><span class="sxs-lookup"><span data-stu-id="01ba1-167">N/A</span></span>  |
| <span data-ttu-id="01ba1-168">**Kroki**</span><span class="sxs-lookup"><span data-stu-id="01ba1-168">**Steps**</span></span> | <span data-ttu-id="01ba1-169">Sprawdź uprawnienia i sprawdź, czy hello niestandardowych stron ASP.NET lub usługi przestrzegać CRM zabezpieczeń konta usługi</span><span class="sxs-lookup"><span data-stu-id="01ba1-169">Check service account privileges and check that hello custom Services or ASP.NET Pages respect CRM's security</span></span> |

## <span data-ttu-id="01ba1-170"><a id="sqlserver-factory"></a>Użyj bramy zarządzania danymi podczas tooAzure na serwerze SQL — wersja Premium łączenia usługi fabryka danych</span><span class="sxs-lookup"><span data-stu-id="01ba1-170"><a id="sqlserver-factory"></a>Use Data management gateway while connecting On Prem SQL Server tooAzure Data Factory</span></span>

| <span data-ttu-id="01ba1-171">Tytuł</span><span class="sxs-lookup"><span data-stu-id="01ba1-171">Title</span></span>                   | <span data-ttu-id="01ba1-172">Szczegóły</span><span class="sxs-lookup"><span data-stu-id="01ba1-172">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="01ba1-173">**Składnik**</span><span class="sxs-lookup"><span data-stu-id="01ba1-173">**Component**</span></span>               | <span data-ttu-id="01ba1-174">Azure Data Factory</span><span class="sxs-lookup"><span data-stu-id="01ba1-174">Azure Data Factory</span></span> | 
| <span data-ttu-id="01ba1-175">**Faza SDL**</span><span class="sxs-lookup"><span data-stu-id="01ba1-175">**SDL Phase**</span></span>               | <span data-ttu-id="01ba1-176">Wdrożenie</span><span class="sxs-lookup"><span data-stu-id="01ba1-176">Deployment</span></span> |  
| <span data-ttu-id="01ba1-177">**Zastosowanie technologii**</span><span class="sxs-lookup"><span data-stu-id="01ba1-177">**Applicable Technologies**</span></span> | <span data-ttu-id="01ba1-178">Ogólny</span><span class="sxs-lookup"><span data-stu-id="01ba1-178">Generic</span></span> |
| <span data-ttu-id="01ba1-179">**Atrybuty**</span><span class="sxs-lookup"><span data-stu-id="01ba1-179">**Attributes**</span></span>              | <span data-ttu-id="01ba1-180">Typy połączonych usług - Azure i lokalnej</span><span class="sxs-lookup"><span data-stu-id="01ba1-180">Linked Service Types - Azure and On Prem</span></span> |
| <span data-ttu-id="01ba1-181">**Odwołania**</span><span class="sxs-lookup"><span data-stu-id="01ba1-181">**References**</span></span>              |<span data-ttu-id="01ba1-182">[Przenoszenie danych między o lokalnej i fabryki danych Azure](https://azure.microsoft.com/documentation/articles/data-factory-move-data-between-onprem-and-cloud/#create-gateway), [brama zarządzania danymi](https://azure.microsoft.com/documentation/articles/data-factory-data-management-gateway/)</span><span class="sxs-lookup"><span data-stu-id="01ba1-182">[ Moving data between On Prem and Azure Data Factory](https://azure.microsoft.com/documentation/articles/data-factory-move-data-between-onprem-and-cloud/#create-gateway), [Data management gateway](https://azure.microsoft.com/documentation/articles/data-factory-data-management-gateway/)</span></span> |
| <span data-ttu-id="01ba1-183">**Kroki**</span><span class="sxs-lookup"><span data-stu-id="01ba1-183">**Steps**</span></span> | <p><span data-ttu-id="01ba1-184">Narzędzie danych zarządzania bramy (DMG) Hello jest wymagana tooconnect toodata źródeł, które są chronione za corpnet lub zaporą.</span><span class="sxs-lookup"><span data-stu-id="01ba1-184">hello Data Management Gateway (DMG) tool is required tooconnect toodata sources which are protected behind corpnet or a firewall.</span></span></p><ol><li><span data-ttu-id="01ba1-185">Blokowanie maszynę hello izoluje hello DMG narzędzia i uniemożliwia nieprawidłowo programy z uszkodzenia lub śledzenie na maszynie źródłowej hello danych.</span><span class="sxs-lookup"><span data-stu-id="01ba1-185">Locking down hello machine isolates hello DMG tool and prevents malfunctioning programs from damaging or snooping on hello data source machine.</span></span> <span data-ttu-id="01ba1-186">(Np.</span><span class="sxs-lookup"><span data-stu-id="01ba1-186">(E.g.</span></span> <span data-ttu-id="01ba1-187">musi być zainstalowane najnowsze aktualizacje, Włącz minimalne wymagane porty, kontrolowanego kont inicjowania obsługi administracyjnej, inspekcji włączona, szyfrowanie dysków włączone itp.)</span><span class="sxs-lookup"><span data-stu-id="01ba1-187">latest updates must be installed, enable minimum required ports, controlled accounts provisioning, auditing enabled, disk encryption enabled etc.)</span></span></li><li><span data-ttu-id="01ba1-188">Klucz bramy danych jest obracana odstępach częste lub gdy hasło konta usługi DMG hello odnawia</span><span class="sxs-lookup"><span data-stu-id="01ba1-188">Data Gateway key must be rotated at frequent intervals or whenever hello DMG service account password renews</span></span></li><li><span data-ttu-id="01ba1-189">Tranzytu danych za pośrednictwem łącza usługi musi być zaszyfrowany.</span><span class="sxs-lookup"><span data-stu-id="01ba1-189">Data transits through Link Service must be encrypted</span></span></li></ol> |

## <span data-ttu-id="01ba1-190"><a id="identity-https"></a>Upewnij się, że wszystkie tooIdentity ruchu serwera jest za pośrednictwem połączenia HTTPS</span><span class="sxs-lookup"><span data-stu-id="01ba1-190"><a id="identity-https"></a>Ensure that all traffic tooIdentity Server is over HTTPS connection</span></span>

| <span data-ttu-id="01ba1-191">Tytuł</span><span class="sxs-lookup"><span data-stu-id="01ba1-191">Title</span></span>                   | <span data-ttu-id="01ba1-192">Szczegóły</span><span class="sxs-lookup"><span data-stu-id="01ba1-192">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="01ba1-193">**Składnik**</span><span class="sxs-lookup"><span data-stu-id="01ba1-193">**Component**</span></span>               | <span data-ttu-id="01ba1-194">Tożsamości serwera</span><span class="sxs-lookup"><span data-stu-id="01ba1-194">Identity Server</span></span> | 
| <span data-ttu-id="01ba1-195">**Faza SDL**</span><span class="sxs-lookup"><span data-stu-id="01ba1-195">**SDL Phase**</span></span>               | <span data-ttu-id="01ba1-196">Wdrożenie</span><span class="sxs-lookup"><span data-stu-id="01ba1-196">Deployment</span></span> |  
| <span data-ttu-id="01ba1-197">**Zastosowanie technologii**</span><span class="sxs-lookup"><span data-stu-id="01ba1-197">**Applicable Technologies**</span></span> | <span data-ttu-id="01ba1-198">Ogólny</span><span class="sxs-lookup"><span data-stu-id="01ba1-198">Generic</span></span> |
| <span data-ttu-id="01ba1-199">**Atrybuty**</span><span class="sxs-lookup"><span data-stu-id="01ba1-199">**Attributes**</span></span>              | <span data-ttu-id="01ba1-200">Nie dotyczy</span><span class="sxs-lookup"><span data-stu-id="01ba1-200">N/A</span></span>  |
| <span data-ttu-id="01ba1-201">**Odwołania**</span><span class="sxs-lookup"><span data-stu-id="01ba1-201">**References**</span></span>              | <span data-ttu-id="01ba1-202">[IdentityServer3 - kluczy, podpisy i szyfrowania](https://identityserver.github.io/Documentation/docsv2/configuration/crypto.html), [IdentityServer3 — wdrożenia](https://identityserver.github.io/Documentation/docsv2/advanced/deployment.html)</span><span class="sxs-lookup"><span data-stu-id="01ba1-202">[IdentityServer3 - Keys, Signatures and Cryptography](https://identityserver.github.io/Documentation/docsv2/configuration/crypto.html), [IdentityServer3 - Deployment](https://identityserver.github.io/Documentation/docsv2/advanced/deployment.html)</span></span> |
| <span data-ttu-id="01ba1-203">**Kroki**</span><span class="sxs-lookup"><span data-stu-id="01ba1-203">**Steps**</span></span> | <span data-ttu-id="01ba1-204">Domyślnie IdentityServer wymaga wszystkich toocome przychodzących połączeń za pośrednictwem protokołu HTTPS.</span><span class="sxs-lookup"><span data-stu-id="01ba1-204">By default, IdentityServer requires all incoming connections toocome over HTTPS.</span></span> <span data-ttu-id="01ba1-205">Jest absolutnie obowiązkowe, że komunikacja z IdentityServer odbywa się za pośrednictwem tylko zabezpieczonych transportów.</span><span class="sxs-lookup"><span data-stu-id="01ba1-205">It is absolutely mandatory that communication with IdentityServer is done over secured transports only.</span></span> <span data-ttu-id="01ba1-206">Brak niektórych scenariuszy wdrażania, takie jak odciążanie protokołu SSL gdzie to wymaganie można rozluźnić.</span><span class="sxs-lookup"><span data-stu-id="01ba1-206">There are certain deployment scenarios like SSL offloading where this requirement can be relaxed.</span></span> <span data-ttu-id="01ba1-207">Zobacz hello tożsamości serwera wdrażania strony w odwołaniach hello, aby uzyskać więcej informacji.</span><span class="sxs-lookup"><span data-stu-id="01ba1-207">See hello Identity Server deployment page in hello references for more information.</span></span> |

## <span data-ttu-id="01ba1-208"><a id="x509-ssltls"></a>Sprawdź, czy połączenia SSL, TLS i DTLS tooauthenticate używane certyfikaty X.509</span><span class="sxs-lookup"><span data-stu-id="01ba1-208"><a id="x509-ssltls"></a>Verify X.509 certificates used tooauthenticate SSL, TLS, and DTLS connections</span></span>

| <span data-ttu-id="01ba1-209">Tytuł</span><span class="sxs-lookup"><span data-stu-id="01ba1-209">Title</span></span>                   | <span data-ttu-id="01ba1-210">Szczegóły</span><span class="sxs-lookup"><span data-stu-id="01ba1-210">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="01ba1-211">**Składnik**</span><span class="sxs-lookup"><span data-stu-id="01ba1-211">**Component**</span></span>               | <span data-ttu-id="01ba1-212">Aplikacja sieci Web</span><span class="sxs-lookup"><span data-stu-id="01ba1-212">Web Application</span></span> | 
| <span data-ttu-id="01ba1-213">**Faza SDL**</span><span class="sxs-lookup"><span data-stu-id="01ba1-213">**SDL Phase**</span></span>               | <span data-ttu-id="01ba1-214">Kompilacja</span><span class="sxs-lookup"><span data-stu-id="01ba1-214">Build</span></span> |  
| <span data-ttu-id="01ba1-215">**Zastosowanie technologii**</span><span class="sxs-lookup"><span data-stu-id="01ba1-215">**Applicable Technologies**</span></span> | <span data-ttu-id="01ba1-216">Ogólny</span><span class="sxs-lookup"><span data-stu-id="01ba1-216">Generic</span></span> |
| <span data-ttu-id="01ba1-217">**Atrybuty**</span><span class="sxs-lookup"><span data-stu-id="01ba1-217">**Attributes**</span></span>              | <span data-ttu-id="01ba1-218">Nie dotyczy</span><span class="sxs-lookup"><span data-stu-id="01ba1-218">N/A</span></span>  |
| <span data-ttu-id="01ba1-219">**Odwołania**</span><span class="sxs-lookup"><span data-stu-id="01ba1-219">**References**</span></span>              | <span data-ttu-id="01ba1-220">Nie dotyczy</span><span class="sxs-lookup"><span data-stu-id="01ba1-220">N/A</span></span>  |
| <span data-ttu-id="01ba1-221">**Kroki**</span><span class="sxs-lookup"><span data-stu-id="01ba1-221">**Steps**</span></span> | <p><span data-ttu-id="01ba1-222">Certyfikaty X.509 hello hello jednostek, które łączą się z pełni należy sprawdzić, aplikacje używające protokołu SSL, TLS i DTLS.</span><span class="sxs-lookup"><span data-stu-id="01ba1-222">Applications that use SSL, TLS, or DTLS must fully verify hello X.509 certificates of hello entities they connect to.</span></span> <span data-ttu-id="01ba1-223">Obejmuje to weryfikacji hello certyfikatów dla:</span><span class="sxs-lookup"><span data-stu-id="01ba1-223">This includes verification of hello certificates for:</span></span></p><ul><li><span data-ttu-id="01ba1-224">Nazwa domeny</span><span class="sxs-lookup"><span data-stu-id="01ba1-224">Domain name</span></span></li><li><span data-ttu-id="01ba1-225">Daty ważności (początku i na wygaśnięcie daty)</span><span class="sxs-lookup"><span data-stu-id="01ba1-225">Validity dates (both beginning and expiration dates)</span></span></li><li><span data-ttu-id="01ba1-226">Stan odwołania</span><span class="sxs-lookup"><span data-stu-id="01ba1-226">Revocation status</span></span></li><li><span data-ttu-id="01ba1-227">Sposób użycia (na przykład uwierzytelniania serwera dla serwerów, uwierzytelnianie klienta dla klientów)</span><span class="sxs-lookup"><span data-stu-id="01ba1-227">Usage (for example, Server Authentication for servers, Client Authentication for clients)</span></span></li><li><span data-ttu-id="01ba1-228">Zaufania łańcucha.</span><span class="sxs-lookup"><span data-stu-id="01ba1-228">Trust chain.</span></span> <span data-ttu-id="01ba1-229">Certyfikaty muszą być powiązane tooa główny urząd certyfikacji (CA), który jest traktowany jako zaufany przez platformę hello lub jawnie skonfigurowane przez administratora hello</span><span class="sxs-lookup"><span data-stu-id="01ba1-229">Certificates must chain tooa root certification authority (CA) that is trusted by hello platform or explicitly configured by hello administrator</span></span></li><li><span data-ttu-id="01ba1-230">Długość klucza publicznego certyfikatu musi być > 2048 bitów</span><span class="sxs-lookup"><span data-stu-id="01ba1-230">Key length of certificate's public key must be >2048 bits</span></span></li><li><span data-ttu-id="01ba1-231">Algorytm wyznaczania wartości skrótu musi być SHA256 i powyżej.</span><span class="sxs-lookup"><span data-stu-id="01ba1-231">Hashing algorithm must be SHA256 and above</span></span> |

## <span data-ttu-id="01ba1-232"><a id="ssl-appservice"></a>Konfigurowanie certyfikatu SSL dla domen niestandardowych w usłudze Azure App Service</span><span class="sxs-lookup"><span data-stu-id="01ba1-232"><a id="ssl-appservice"></a>Configure SSL certificate for custom domain in Azure App Service</span></span>

| <span data-ttu-id="01ba1-233">Tytuł</span><span class="sxs-lookup"><span data-stu-id="01ba1-233">Title</span></span>                   | <span data-ttu-id="01ba1-234">Szczegóły</span><span class="sxs-lookup"><span data-stu-id="01ba1-234">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="01ba1-235">**Składnik**</span><span class="sxs-lookup"><span data-stu-id="01ba1-235">**Component**</span></span>               | <span data-ttu-id="01ba1-236">Aplikacja sieci Web</span><span class="sxs-lookup"><span data-stu-id="01ba1-236">Web Application</span></span> | 
| <span data-ttu-id="01ba1-237">**Faza SDL**</span><span class="sxs-lookup"><span data-stu-id="01ba1-237">**SDL Phase**</span></span>               | <span data-ttu-id="01ba1-238">Kompilacja</span><span class="sxs-lookup"><span data-stu-id="01ba1-238">Build</span></span> |  
| <span data-ttu-id="01ba1-239">**Zastosowanie technologii**</span><span class="sxs-lookup"><span data-stu-id="01ba1-239">**Applicable Technologies**</span></span> | <span data-ttu-id="01ba1-240">Ogólny</span><span class="sxs-lookup"><span data-stu-id="01ba1-240">Generic</span></span> |
| <span data-ttu-id="01ba1-241">**Atrybuty**</span><span class="sxs-lookup"><span data-stu-id="01ba1-241">**Attributes**</span></span>              | <span data-ttu-id="01ba1-242">EnvironmentType - Azure</span><span class="sxs-lookup"><span data-stu-id="01ba1-242">EnvironmentType - Azure</span></span> |
| <span data-ttu-id="01ba1-243">**Odwołania**</span><span class="sxs-lookup"><span data-stu-id="01ba1-243">**References**</span></span>              | [<span data-ttu-id="01ba1-244">Włącz protokół HTTPS dla aplikacji w usłudze aplikacji Azure</span><span class="sxs-lookup"><span data-stu-id="01ba1-244">Enable HTTPS for an app in Azure App Service</span></span>](https://azure.microsoft.com/documentation/articles/web-sites-configure-ssl-certificate/) |
| <span data-ttu-id="01ba1-245">**Kroki**</span><span class="sxs-lookup"><span data-stu-id="01ba1-245">**Steps**</span></span> | <span data-ttu-id="01ba1-246">Domyślnie program Azure po już umożliwia HTTPS dla każdej aplikacji przy użyciu symboli wieloznacznych certyfikatu dla hello *. azurewebsites.net domeny.</span><span class="sxs-lookup"><span data-stu-id="01ba1-246">By default, Azure already enables HTTPS for every app with a wildcard certificate for hello *.azurewebsites.net domain.</span></span> <span data-ttu-id="01ba1-247">Jednakże, podobnie jak wszystkie domeny symboli wieloznacznych, nie jest należycie zabezpieczone za pomocą domeny niestandardowej z własnym certyfikatem [zobacz](https://casecurity.org/2014/02/26/pros-and-cons-of-single-domain-multi-domain-and-wildcard-certificates/).</span><span class="sxs-lookup"><span data-stu-id="01ba1-247">However, like all wildcard domains, it is not as secure as using a custom domain with own certificate [Refer](https://casecurity.org/2014/02/26/pros-and-cons-of-single-domain-multi-domain-and-wildcard-certificates/).</span></span> <span data-ttu-id="01ba1-248">Zalecane jest tooenable protokołu SSL dla domeny niestandardowej hello będą uzyskiwać dostęp za pośrednictwem aplikacji hello wdrożony</span><span class="sxs-lookup"><span data-stu-id="01ba1-248">It is recommended tooenable SSL for hello custom domain which hello deployed app will be accessed through</span></span>|

## <span data-ttu-id="01ba1-249"><a id="appservice-https"></a>Wymuś wszystkich tooAzure ruchu usługi App Service za pośrednictwem połączenia HTTPS</span><span class="sxs-lookup"><span data-stu-id="01ba1-249"><a id="appservice-https"></a>Force all traffic tooAzure App Service over HTTPS connection</span></span>

| <span data-ttu-id="01ba1-250">Tytuł</span><span class="sxs-lookup"><span data-stu-id="01ba1-250">Title</span></span>                   | <span data-ttu-id="01ba1-251">Szczegóły</span><span class="sxs-lookup"><span data-stu-id="01ba1-251">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="01ba1-252">**Składnik**</span><span class="sxs-lookup"><span data-stu-id="01ba1-252">**Component**</span></span>               | <span data-ttu-id="01ba1-253">Aplikacja sieci Web</span><span class="sxs-lookup"><span data-stu-id="01ba1-253">Web Application</span></span> | 
| <span data-ttu-id="01ba1-254">**Faza SDL**</span><span class="sxs-lookup"><span data-stu-id="01ba1-254">**SDL Phase**</span></span>               | <span data-ttu-id="01ba1-255">Kompilacja</span><span class="sxs-lookup"><span data-stu-id="01ba1-255">Build</span></span> |  
| <span data-ttu-id="01ba1-256">**Zastosowanie technologii**</span><span class="sxs-lookup"><span data-stu-id="01ba1-256">**Applicable Technologies**</span></span> | <span data-ttu-id="01ba1-257">Ogólny</span><span class="sxs-lookup"><span data-stu-id="01ba1-257">Generic</span></span> |
| <span data-ttu-id="01ba1-258">**Atrybuty**</span><span class="sxs-lookup"><span data-stu-id="01ba1-258">**Attributes**</span></span>              | <span data-ttu-id="01ba1-259">EnvironmentType - Azure</span><span class="sxs-lookup"><span data-stu-id="01ba1-259">EnvironmentType - Azure</span></span> |
| <span data-ttu-id="01ba1-260">**Odwołania**</span><span class="sxs-lookup"><span data-stu-id="01ba1-260">**References**</span></span>              | <span data-ttu-id="01ba1-261">[Wymuszanie protokołu HTTPS z usługi aplikacji Azure] https://azure.microsoft.com/documentation/articles/web-sites-configure-ssl-certificate/#4-enforce-https-on-your-app)</span><span class="sxs-lookup"><span data-stu-id="01ba1-261">[Enforce HTTPS on Azure App Service]https://azure.microsoft.com/documentation/articles/web-sites-configure-ssl-certificate/#4-enforce-https-on-your-app)</span></span> |
| <span data-ttu-id="01ba1-262">**Kroki**</span><span class="sxs-lookup"><span data-stu-id="01ba1-262">**Steps**</span></span> | <p><span data-ttu-id="01ba1-263">Chociaż Azure umożliwia już HTTPS dla usług aplikacji Azure z certyfikatem symbolu wieloznacznego hello domeny *. azurewebsites.net, nie Wymuszaj HTTPS.</span><span class="sxs-lookup"><span data-stu-id="01ba1-263">Though Azure already enables HTTPS for Azure app services with a wildcard certificate for hello domain *.azurewebsites.net, it do not enforce HTTPS.</span></span> <span data-ttu-id="01ba1-264">Odwiedzający mogą nadal uzyskiwać dostęp do aplikacji hello przy użyciu protokołu HTTP, który może naruszyć bezpieczeństwo aplikacji hello i dlatego HTTPS ma toobe jawnie wymuszane.</span><span class="sxs-lookup"><span data-stu-id="01ba1-264">Visitors may still access hello app using HTTP, which may compromise hello app's security and hence HTTPS has toobe enforced explicitly.</span></span> <span data-ttu-id="01ba1-265">Aplikacje programu ASP.NET MVC, należy użyć hello [filtru RequireHttps](http://msdn.microsoft.com/library/system.web.mvc.requirehttpsattribute.aspx) który wymusza niezabezpieczona toobe żądania HTTP wysyłane ponownie przy użyciu protokołu HTTPS.</span><span class="sxs-lookup"><span data-stu-id="01ba1-265">ASP.NET MVC applications should use hello [RequireHttps filter](http://msdn.microsoft.com/library/system.web.mvc.requirehttpsattribute.aspx) that forces an unsecured HTTP request toobe re-sent over HTTPS.</span></span></p><p><span data-ttu-id="01ba1-266">Alternatywnie hello ponowne zapisywanie adresów URL moduł, który znajduje się w usłudze Azure App Service może być używane tooenforce HTTPS.</span><span class="sxs-lookup"><span data-stu-id="01ba1-266">Alternatively, hello URL Rewrite module, which is included with Azure App Service can be used tooenforce HTTPS.</span></span> <span data-ttu-id="01ba1-267">Moduł ponowne zapisywanie adresów URL umożliwia deweloperzy toodefine reguł, które są stosowane tooincoming żądań przed żądań hello są przekazywane tooyour aplikacji.</span><span class="sxs-lookup"><span data-stu-id="01ba1-267">URL Rewrite module enables developers toodefine rules that are applied tooincoming requests before hello requests are handed tooyour application.</span></span> <span data-ttu-id="01ba1-268">Ponowne zapisywanie adresów URL reguły są zdefiniowane w pliku web.config, przechowywane w katalogu głównym hello aplikacji hello</span><span class="sxs-lookup"><span data-stu-id="01ba1-268">URL Rewrite rules are defined in a web.config file stored in hello root of hello application</span></span></p>|

### <a name="example"></a><span data-ttu-id="01ba1-269">Przykład</span><span class="sxs-lookup"><span data-stu-id="01ba1-269">Example</span></span>
<span data-ttu-id="01ba1-270">Witaj poniżej przedstawiono przykład zawierający podstawowe reguły ponowne zapisywanie adresów URL, która wymusza cały ruch przychodzący toouse ruch protokołu HTTPS</span><span class="sxs-lookup"><span data-stu-id="01ba1-270">hello following example contains a basic URL Rewrite rule that forces all incoming traffic toouse HTTPS</span></span>
```XML
<?xml version="1.0" encoding="UTF-8"?>
<configuration>
  <system.webServer>
    <rewrite>
      <rules>
        <rule name="Force HTTPS" enabled="true">
          <match url="(.*)" ignoreCase="false" />
          <conditions>
            <add input="{HTTPS}" pattern="off" />
          </conditions>
          <action type="Redirect" url="https://{HTTP_HOST}/{R:1}" appendQueryString="true" redirectType="Permanent" />
        </rule>
      </rules>
    </rewrite>
  </system.webServer>
</configuration>
```
<span data-ttu-id="01ba1-271">Ta zasada działa zwróciła kod stanu HTTP 301 (Stałe przekierowanie) po hello użytkownik zażąda strony przy użyciu protokołu HTTP.</span><span class="sxs-lookup"><span data-stu-id="01ba1-271">This rule works by returning an HTTP status code of 301 (permanent redirect) when hello user requests a page using HTTP.</span></span> <span data-ttu-id="01ba1-272">Hello 301 przekierowuje hello żądania toohello tego samego adresu URL jako obiekt odwiedzający hello wymagane, ale zastępuje hello HTTP część hello żądanie HTTPS.</span><span class="sxs-lookup"><span data-stu-id="01ba1-272">hello 301 redirects hello request toohello same URL as hello visitor requested, but replaces hello HTTP portion of hello request with HTTPS.</span></span> <span data-ttu-id="01ba1-273">Na przykład HTTP://contoso.com będzie tooHTTPS://contoso.com przekierowane.</span><span class="sxs-lookup"><span data-stu-id="01ba1-273">For example, HTTP://contoso.com would be redirected tooHTTPS://contoso.com.</span></span> 

## <span data-ttu-id="01ba1-274"><a id="http-hsts"></a>Włącz zabezpieczenie Strict transportu HTTP (HSTS)</span><span class="sxs-lookup"><span data-stu-id="01ba1-274"><a id="http-hsts"></a>Enable HTTP Strict Transport Security (HSTS)</span></span>

| <span data-ttu-id="01ba1-275">Tytuł</span><span class="sxs-lookup"><span data-stu-id="01ba1-275">Title</span></span>                   | <span data-ttu-id="01ba1-276">Szczegóły</span><span class="sxs-lookup"><span data-stu-id="01ba1-276">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="01ba1-277">**Składnik**</span><span class="sxs-lookup"><span data-stu-id="01ba1-277">**Component**</span></span>               | <span data-ttu-id="01ba1-278">Aplikacja sieci Web</span><span class="sxs-lookup"><span data-stu-id="01ba1-278">Web Application</span></span> | 
| <span data-ttu-id="01ba1-279">**Faza SDL**</span><span class="sxs-lookup"><span data-stu-id="01ba1-279">**SDL Phase**</span></span>               | <span data-ttu-id="01ba1-280">Kompilacja</span><span class="sxs-lookup"><span data-stu-id="01ba1-280">Build</span></span> |  
| <span data-ttu-id="01ba1-281">**Zastosowanie technologii**</span><span class="sxs-lookup"><span data-stu-id="01ba1-281">**Applicable Technologies**</span></span> | <span data-ttu-id="01ba1-282">Ogólny</span><span class="sxs-lookup"><span data-stu-id="01ba1-282">Generic</span></span> |
| <span data-ttu-id="01ba1-283">**Atrybuty**</span><span class="sxs-lookup"><span data-stu-id="01ba1-283">**Attributes**</span></span>              | <span data-ttu-id="01ba1-284">Nie dotyczy</span><span class="sxs-lookup"><span data-stu-id="01ba1-284">N/A</span></span>  |
| <span data-ttu-id="01ba1-285">**Odwołania**</span><span class="sxs-lookup"><span data-stu-id="01ba1-285">**References**</span></span>              | [<span data-ttu-id="01ba1-286">Zabezpieczenia transportu Strict HTTP OWASP Ściągawka</span><span class="sxs-lookup"><span data-stu-id="01ba1-286">OWASP HTTP Strict Transport Security Cheat Sheet</span></span>](https://www.owasp.org/index.php/HTTP_Strict_Transport_Security_Cheat_Sheet) |
| <span data-ttu-id="01ba1-287">**Kroki**</span><span class="sxs-lookup"><span data-stu-id="01ba1-287">**Steps**</span></span> | <p><span data-ttu-id="01ba1-288">Zabezpieczenia transportu HTTP ograniczeniami (HSTS) jest ulepszeniem opcjonalnych zabezpieczeń, określonym przez aplikację sieci web przy użyciu hello nagłówka odpowiedzi specjalnych.</span><span class="sxs-lookup"><span data-stu-id="01ba1-288">HTTP Strict Transport Security (HSTS) is an opt-in security enhancement that is specified by a web application through hello use of a special response header.</span></span> <span data-ttu-id="01ba1-289">Kiedy obsługiwanej przeglądarki odbiera ten nagłówek przeglądarka uniemożliwi komunikację z są wysyłane za pośrednictwem protokołu HTTP toohello określonej domeny i zamiast tego wyśle cała komunikacja za pośrednictwem protokołu HTTPS.</span><span class="sxs-lookup"><span data-stu-id="01ba1-289">Once a supported browser receives this header that browser will prevent any communications from being sent over HTTP toohello specified domain and will instead send all communications over HTTPS.</span></span> <span data-ttu-id="01ba1-290">Uniemożliwia także kliknij HTTPS za pomocą monity w przeglądarkach.</span><span class="sxs-lookup"><span data-stu-id="01ba1-290">It also prevents HTTPS click through prompts on browsers.</span></span></p><p><span data-ttu-id="01ba1-291">tooimplement HSTS powitania po nagłówka odpowiedzi ma toobe skonfigurowana dla witryny sieci Web globalnie, kodu lub w pliku konfiguracyjnym. Strict —-TLS: maksymalny — wiek = 300; includeSubDomains HSTS adresy powitania po zagrożeniami:</span><span class="sxs-lookup"><span data-stu-id="01ba1-291">tooimplement HSTS, hello following response header has toobe configured for a website globally, either in code or in config. Strict-Transport-Security: max-age=300; includeSubDomains HSTS addresses hello following threats:</span></span></p><ul><li><span data-ttu-id="01ba1-292">Użytkownik zakładki lub ręcznie typy http://example.com i jest atakująca man-in--middle tooa podmiotu: HSTS automatyczne przekierowanie tooHTTPS żądania HTTP dla domeny docelowej hello</span><span class="sxs-lookup"><span data-stu-id="01ba1-292">User bookmarks or manually types http://example.com and is subject tooa man-in-the-middle attacker: HSTS automatically redirects HTTP requests tooHTTPS for hello target domain</span></span></li><li><span data-ttu-id="01ba1-293">Aplikacji, który jest zamierzone toobe czysto przypadkowo zawiera łącza HTTP lub HTTPS służy zawartości za pośrednictwem protokołu HTTP sieci Web: HSTS automatyczne przekierowanie tooHTTPS żądania HTTP dla domeny docelowej hello</span><span class="sxs-lookup"><span data-stu-id="01ba1-293">Web application that is intended toobe purely HTTPS inadvertently contains HTTP links or serves content over HTTP: HSTS automatically redirects HTTP requests tooHTTPS for hello target domain</span></span></li><li><span data-ttu-id="01ba1-294">Atakujący man-in--middle prób toointercept ruch od użytkownika ofiara przy użyciu nieprawidłowego certyfikatu i nadzieję hello użytkownika będzie akceptować zły certyfikat hello: HSTS nie zezwala na komunikat użytkownika toooverride hello nieprawidłowy certyfikat</span><span class="sxs-lookup"><span data-stu-id="01ba1-294">A man-in-the-middle attacker attempts toointercept traffic from a victim user using an invalid certificate and hopes hello user will accept hello bad certificate: HSTS does not allow a user toooverride hello invalid certificate message</span></span></li></ul>|

## <span data-ttu-id="01ba1-295"><a id="sqlserver-validation"></a>Upewnij się, SQL server szyfrowania i certyfikatu sprawdzania poprawności połączenia</span><span class="sxs-lookup"><span data-stu-id="01ba1-295"><a id="sqlserver-validation"></a>Ensure SQL server connection encryption and certificate validation</span></span>

| <span data-ttu-id="01ba1-296">Tytuł</span><span class="sxs-lookup"><span data-stu-id="01ba1-296">Title</span></span>                   | <span data-ttu-id="01ba1-297">Szczegóły</span><span class="sxs-lookup"><span data-stu-id="01ba1-297">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="01ba1-298">**Składnik**</span><span class="sxs-lookup"><span data-stu-id="01ba1-298">**Component**</span></span>               | <span data-ttu-id="01ba1-299">Database (Baza danych)</span><span class="sxs-lookup"><span data-stu-id="01ba1-299">Database</span></span> | 
| <span data-ttu-id="01ba1-300">**Faza SDL**</span><span class="sxs-lookup"><span data-stu-id="01ba1-300">**SDL Phase**</span></span>               | <span data-ttu-id="01ba1-301">Kompilacja</span><span class="sxs-lookup"><span data-stu-id="01ba1-301">Build</span></span> |  
| <span data-ttu-id="01ba1-302">**Zastosowanie technologii**</span><span class="sxs-lookup"><span data-stu-id="01ba1-302">**Applicable Technologies**</span></span> | <span data-ttu-id="01ba1-303">Usługi SQL Azure</span><span class="sxs-lookup"><span data-stu-id="01ba1-303">SQL Azure</span></span>  |
| <span data-ttu-id="01ba1-304">**Atrybuty**</span><span class="sxs-lookup"><span data-stu-id="01ba1-304">**Attributes**</span></span>              | <span data-ttu-id="01ba1-305">Wersja programu SQL — wersja 12</span><span class="sxs-lookup"><span data-stu-id="01ba1-305">SQL Version - V12</span></span> |
| <span data-ttu-id="01ba1-306">**Odwołania**</span><span class="sxs-lookup"><span data-stu-id="01ba1-306">**References**</span></span>              | [<span data-ttu-id="01ba1-307">Najlepsze rozwiązania dla pisma bezpiecznego parametry połączenia dla bazy danych SQL</span><span class="sxs-lookup"><span data-stu-id="01ba1-307">Best Practices on Writing Secure Connection Strings for SQL Database</span></span>](http://social.technet.microsoft.com/wiki/contents/articles/2951.windows-azure-sql-database-connection-security.aspx#best) |
| <span data-ttu-id="01ba1-308">**Kroki**</span><span class="sxs-lookup"><span data-stu-id="01ba1-308">**Steps**</span></span> | <p><span data-ttu-id="01ba1-309">Cała komunikacja między bazy danych SQL i aplikacją klienta są szyfrowane przy użyciu protokołu Secure Sockets Layer (SSL) przez cały czas.</span><span class="sxs-lookup"><span data-stu-id="01ba1-309">All communications between SQL Database and a client application are encrypted using Secure Sockets Layer (SSL) at all times.</span></span> <span data-ttu-id="01ba1-310">Baza danych SQL nie obsługuje połączeń niezaszyfrowanych.</span><span class="sxs-lookup"><span data-stu-id="01ba1-310">SQL Database doesn’t support unencrypted connections.</span></span> <span data-ttu-id="01ba1-311">toovalidate certyfikatów przy użyciu kodu aplikacji lub narzędzi, jawnie żądania połączenia szyfrowanego i nie masz zaufania certyfikatów serwera hello.</span><span class="sxs-lookup"><span data-stu-id="01ba1-311">toovalidate certificates with application code or tools, explicitly request an encrypted connection and do not trust hello server certificates.</span></span> <span data-ttu-id="01ba1-312">Jeśli z kodu aplikacji lub narzędzia połączenie szyfrowane nie jest żądanie, będzie nadal otrzymywał szyfrowanych połączeń</span><span class="sxs-lookup"><span data-stu-id="01ba1-312">If your application code or tools do not request an encrypted connection, they will still receive encrypted connections</span></span></p><p><span data-ttu-id="01ba1-313">Jednak nie może zweryfikować certyfikaty serwera hello i w związku z tym będzie narażony zbyt atakami "man w środku hello".</span><span class="sxs-lookup"><span data-stu-id="01ba1-313">However, they may not validate hello server certificates and thus will be susceptible too"man in hello middle" attacks.</span></span> <span data-ttu-id="01ba1-314">Ustaw toovalidate certyfikatów przy użyciu kodu aplikacji ADO.NET, `Encrypt=True` i `TrustServerCertificate=False` w parametrach połączenia hello bazy danych.</span><span class="sxs-lookup"><span data-stu-id="01ba1-314">toovalidate certificates with ADO.NET application code, set `Encrypt=True` and `TrustServerCertificate=False` in hello database connection string.</span></span> <span data-ttu-id="01ba1-315">Certyfikaty toovalidate przy użyciu programu SQL Server Management Studio, Otwórz okno dialogowe tooServer Connect hello.</span><span class="sxs-lookup"><span data-stu-id="01ba1-315">toovalidate certificates via SQL Server Management Studio, open hello Connect tooServer dialog box.</span></span> <span data-ttu-id="01ba1-316">Kliknij przycisk połączenie Szyfruj na karcie właściwości połączenia hello</span><span class="sxs-lookup"><span data-stu-id="01ba1-316">Click Encrypt connection on hello Connection Properties tab</span></span></p>|

## <span data-ttu-id="01ba1-317"><a id="encrypted-sqlserver"></a>Wymuś zaszyfrowana komunikacja tooSQL serwera</span><span class="sxs-lookup"><span data-stu-id="01ba1-317"><a id="encrypted-sqlserver"></a>Force Encrypted communication tooSQL server</span></span>

| <span data-ttu-id="01ba1-318">Tytuł</span><span class="sxs-lookup"><span data-stu-id="01ba1-318">Title</span></span>                   | <span data-ttu-id="01ba1-319">Szczegóły</span><span class="sxs-lookup"><span data-stu-id="01ba1-319">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="01ba1-320">**Składnik**</span><span class="sxs-lookup"><span data-stu-id="01ba1-320">**Component**</span></span>               | <span data-ttu-id="01ba1-321">Database (Baza danych)</span><span class="sxs-lookup"><span data-stu-id="01ba1-321">Database</span></span> | 
| <span data-ttu-id="01ba1-322">**Faza SDL**</span><span class="sxs-lookup"><span data-stu-id="01ba1-322">**SDL Phase**</span></span>               | <span data-ttu-id="01ba1-323">Kompilacja</span><span class="sxs-lookup"><span data-stu-id="01ba1-323">Build</span></span> |  
| <span data-ttu-id="01ba1-324">**Zastosowanie technologii**</span><span class="sxs-lookup"><span data-stu-id="01ba1-324">**Applicable Technologies**</span></span> | <span data-ttu-id="01ba1-325">Lokalnego programu</span><span class="sxs-lookup"><span data-stu-id="01ba1-325">OnPrem</span></span> |
| <span data-ttu-id="01ba1-326">**Atrybuty**</span><span class="sxs-lookup"><span data-stu-id="01ba1-326">**Attributes**</span></span>              | <span data-ttu-id="01ba1-327">MsSQL2014 wersji — MsSQL2012, wersja programu SQL — SQL wersja - MsSQL2016, SQL</span><span class="sxs-lookup"><span data-stu-id="01ba1-327">SQL Version - MsSQL2016, SQL Version - MsSQL2012, SQL Version - MsSQL2014</span></span> |
| <span data-ttu-id="01ba1-328">**Odwołania**</span><span class="sxs-lookup"><span data-stu-id="01ba1-328">**References**</span></span>              | [<span data-ttu-id="01ba1-329">Włącz połączenia szyfrowane toohello aparatu bazy danych</span><span class="sxs-lookup"><span data-stu-id="01ba1-329">Enable Encrypted Connections toohello Database Engine</span></span>](https://msdn.microsoft.com/library/ms191192)  |
| <span data-ttu-id="01ba1-330">**Kroki**</span><span class="sxs-lookup"><span data-stu-id="01ba1-330">**Steps**</span></span> | <span data-ttu-id="01ba1-331">Włączanie protokołu SSL szyfrowania zwiększa bezpieczeństwo hello danych przesyłanych w sieci między wystąpieniami programu SQL Server i aplikacji.</span><span class="sxs-lookup"><span data-stu-id="01ba1-331">Enabling SSL encryption increases hello security of data transmitted across networks between instances of SQL Server and applications.</span></span> |

## <span data-ttu-id="01ba1-332"><a id="comm-storage"></a>Upewnij się, że tooAzure komunikacji, jest magazynu za pośrednictwem protokołu HTTPS</span><span class="sxs-lookup"><span data-stu-id="01ba1-332"><a id="comm-storage"></a>Ensure that communication tooAzure Storage is over HTTPS</span></span>

| <span data-ttu-id="01ba1-333">Tytuł</span><span class="sxs-lookup"><span data-stu-id="01ba1-333">Title</span></span>                   | <span data-ttu-id="01ba1-334">Szczegóły</span><span class="sxs-lookup"><span data-stu-id="01ba1-334">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="01ba1-335">**Składnik**</span><span class="sxs-lookup"><span data-stu-id="01ba1-335">**Component**</span></span>               | <span data-ttu-id="01ba1-336">Azure Storage</span><span class="sxs-lookup"><span data-stu-id="01ba1-336">Azure Storage</span></span> | 
| <span data-ttu-id="01ba1-337">**Faza SDL**</span><span class="sxs-lookup"><span data-stu-id="01ba1-337">**SDL Phase**</span></span>               | <span data-ttu-id="01ba1-338">Wdrożenie</span><span class="sxs-lookup"><span data-stu-id="01ba1-338">Deployment</span></span> |  
| <span data-ttu-id="01ba1-339">**Zastosowanie technologii**</span><span class="sxs-lookup"><span data-stu-id="01ba1-339">**Applicable Technologies**</span></span> | <span data-ttu-id="01ba1-340">Ogólny</span><span class="sxs-lookup"><span data-stu-id="01ba1-340">Generic</span></span> |
| <span data-ttu-id="01ba1-341">**Atrybuty**</span><span class="sxs-lookup"><span data-stu-id="01ba1-341">**Attributes**</span></span>              | <span data-ttu-id="01ba1-342">Nie dotyczy</span><span class="sxs-lookup"><span data-stu-id="01ba1-342">N/A</span></span>  |
| <span data-ttu-id="01ba1-343">**Odwołania**</span><span class="sxs-lookup"><span data-stu-id="01ba1-343">**References**</span></span>              | [<span data-ttu-id="01ba1-344">Szyfrowanie na poziomie transportu usługi Azure Storage — przy użyciu protokołu HTTPS</span><span class="sxs-lookup"><span data-stu-id="01ba1-344">Azure Storage Transport-Level Encryption – Using HTTPS</span></span>](https://azure.microsoft.com/documentation/articles/storage-security-guide/#_encryption-in-transit) |
| <span data-ttu-id="01ba1-345">**Kroki**</span><span class="sxs-lookup"><span data-stu-id="01ba1-345">**Steps**</span></span> | <span data-ttu-id="01ba1-346">tooensure hello zabezpieczeń usługi Azure Storage danych podczas przesyłania, należy zawsze używać protokołu HTTPS hello podczas wywoływania hello interfejsów API REST lub uzyskiwanie dostępu do obiektów w magazynie.</span><span class="sxs-lookup"><span data-stu-id="01ba1-346">tooensure hello security of Azure Storage data in-transit, always use hello HTTPS protocol when calling hello REST APIs or accessing objects in storage.</span></span> <span data-ttu-id="01ba1-347">Ponadto sygnatury dostępu współdzielonego, które mogą być używane toodelegate dostępu tooAzure magazynu obiektów, obejmują toospecify opcji tego powitalne tylko protokołu HTTPS, można użyć w przypadku przy użyciu sygnatury dostępu współdzielonego, zapewniając każdy wysyłaniu łącza o tokeny sygnatury dostępu Współdzielonego zostanie Użyj hello odpowiedni protokół.</span><span class="sxs-lookup"><span data-stu-id="01ba1-347">Also, Shared Access Signatures, which can be used toodelegate access tooAzure Storage objects, include an option toospecify that only hello HTTPS protocol can be used when using Shared Access Signatures, ensuring that anybody sending out links with SAS tokens will use hello proper protocol.</span></span>|

## <span data-ttu-id="01ba1-348"><a id="md5-https"></a>Sprawdzenie skrótu MD5 po pobraniu obiektów blob, jeśli nie można włączyć protokołu HTTPS</span><span class="sxs-lookup"><span data-stu-id="01ba1-348"><a id="md5-https"></a>Validate MD5 hash after downloading blob if HTTPS cannot be enabled</span></span>

| <span data-ttu-id="01ba1-349">Tytuł</span><span class="sxs-lookup"><span data-stu-id="01ba1-349">Title</span></span>                   | <span data-ttu-id="01ba1-350">Szczegóły</span><span class="sxs-lookup"><span data-stu-id="01ba1-350">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="01ba1-351">**Składnik**</span><span class="sxs-lookup"><span data-stu-id="01ba1-351">**Component**</span></span>               | <span data-ttu-id="01ba1-352">Azure Storage</span><span class="sxs-lookup"><span data-stu-id="01ba1-352">Azure Storage</span></span> | 
| <span data-ttu-id="01ba1-353">**Faza SDL**</span><span class="sxs-lookup"><span data-stu-id="01ba1-353">**SDL Phase**</span></span>               | <span data-ttu-id="01ba1-354">Kompilacja</span><span class="sxs-lookup"><span data-stu-id="01ba1-354">Build</span></span> |  
| <span data-ttu-id="01ba1-355">**Zastosowanie technologii**</span><span class="sxs-lookup"><span data-stu-id="01ba1-355">**Applicable Technologies**</span></span> | <span data-ttu-id="01ba1-356">Ogólny</span><span class="sxs-lookup"><span data-stu-id="01ba1-356">Generic</span></span> |
| <span data-ttu-id="01ba1-357">**Atrybuty**</span><span class="sxs-lookup"><span data-stu-id="01ba1-357">**Attributes**</span></span>              | <span data-ttu-id="01ba1-358">StorageType — obiekt Blob</span><span class="sxs-lookup"><span data-stu-id="01ba1-358">StorageType - Blob</span></span> |
| <span data-ttu-id="01ba1-359">**Odwołania**</span><span class="sxs-lookup"><span data-stu-id="01ba1-359">**References**</span></span>              | [<span data-ttu-id="01ba1-360">Omówienie MD5 obiektów Blob platformy Azure dla systemu Windows</span><span class="sxs-lookup"><span data-stu-id="01ba1-360">Windows Azure Blob MD5 Overview</span></span>](https://blogs.msdn.microsoft.com/windowsazurestorage/2011/02/17/windows-azure-blob-md5-overview/) |
| <span data-ttu-id="01ba1-361">**Kroki**</span><span class="sxs-lookup"><span data-stu-id="01ba1-361">**Steps**</span></span> | <p><span data-ttu-id="01ba1-362">Usługa Windows Azure Blob zapewnia integralność danych tooensure mechanizmów zarówno w aplikacji hello i warstwy transportu.</span><span class="sxs-lookup"><span data-stu-id="01ba1-362">Windows Azure Blob service provides mechanisms tooensure data integrity both at hello application and transport layers.</span></span> <span data-ttu-id="01ba1-363">Jeśli z jakiegokolwiek powodu potrzebne toouse HTTP zamiast HTTPS, a użytkownik pracuje z blokowych obiektów blob, można użyć sprawdzanie MD5 toohelp Sprawdź spójność hello obiektów blob hello przesyłania</span><span class="sxs-lookup"><span data-stu-id="01ba1-363">If for any reason you need toouse HTTP instead of HTTPS and you are working with block blobs, you can use MD5 checking toohelp verify hello integrity of hello blobs being transferred</span></span></p><p><span data-ttu-id="01ba1-364">Pomoże to ochrony z sieci/transport layer błędów, ale niekoniecznie pośredniczące ataków.</span><span class="sxs-lookup"><span data-stu-id="01ba1-364">This will help with protection from network/transport layer errors, but not necessarily with intermediary attacks.</span></span> <span data-ttu-id="01ba1-365">Jeśli używasz protokołu HTTPS, który zapewnia zabezpieczeń na poziomie transportu, następnie przy użyciu algorytmu MD5 sprawdzanie jest nadmiarowe i niepotrzebne.</span><span class="sxs-lookup"><span data-stu-id="01ba1-365">If you can use HTTPS, which provides transport level security, then using MD5 checking is redundant and unnecessary.</span></span></p>|

## <span data-ttu-id="01ba1-366"><a id="smb-shares"></a>Użyj systemu protokołu SMB 3.0 zgodny klient tooensure danych podczas przesyłania szyfrowania tooAzure który udziałów plików</span><span class="sxs-lookup"><span data-stu-id="01ba1-366"><a id="smb-shares"></a>Use SMB 3.0 compatible client tooensure in-transit data encryption tooAzure File shares</span></span>

| <span data-ttu-id="01ba1-367">Tytuł</span><span class="sxs-lookup"><span data-stu-id="01ba1-367">Title</span></span>                   | <span data-ttu-id="01ba1-368">Szczegóły</span><span class="sxs-lookup"><span data-stu-id="01ba1-368">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="01ba1-369">**Składnik**</span><span class="sxs-lookup"><span data-stu-id="01ba1-369">**Component**</span></span>               | <span data-ttu-id="01ba1-370">Klientów urządzeń przenośnych</span><span class="sxs-lookup"><span data-stu-id="01ba1-370">Mobile Client</span></span> | 
| <span data-ttu-id="01ba1-371">**Faza SDL**</span><span class="sxs-lookup"><span data-stu-id="01ba1-371">**SDL Phase**</span></span>               | <span data-ttu-id="01ba1-372">Kompilacja</span><span class="sxs-lookup"><span data-stu-id="01ba1-372">Build</span></span> |  
| <span data-ttu-id="01ba1-373">**Zastosowanie technologii**</span><span class="sxs-lookup"><span data-stu-id="01ba1-373">**Applicable Technologies**</span></span> | <span data-ttu-id="01ba1-374">Ogólny</span><span class="sxs-lookup"><span data-stu-id="01ba1-374">Generic</span></span> |
| <span data-ttu-id="01ba1-375">**Atrybuty**</span><span class="sxs-lookup"><span data-stu-id="01ba1-375">**Attributes**</span></span>              | <span data-ttu-id="01ba1-376">StorageType — plik</span><span class="sxs-lookup"><span data-stu-id="01ba1-376">StorageType - File</span></span> |
| <span data-ttu-id="01ba1-377">**Odwołania**</span><span class="sxs-lookup"><span data-stu-id="01ba1-377">**References**</span></span>              | <span data-ttu-id="01ba1-378">[Magazyn plików Azure](https://azure.microsoft.com/blog/azure-file-storage-now-generally-available/#comment-2529238931), [plików na platformę Azure magazynu SMB obsługę klientów systemu Windows](https://azure.microsoft.com/documentation/articles/storage-dotnet-how-to-use-files/#_mount-the-file-share)</span><span class="sxs-lookup"><span data-stu-id="01ba1-378">[Azure File Storage](https://azure.microsoft.com/blog/azure-file-storage-now-generally-available/#comment-2529238931), [Azure File Storage SMB Support for Windows Clients](https://azure.microsoft.com/documentation/articles/storage-dotnet-how-to-use-files/#_mount-the-file-share)</span></span> |
| <span data-ttu-id="01ba1-379">**Kroki**</span><span class="sxs-lookup"><span data-stu-id="01ba1-379">**Steps**</span></span> | <span data-ttu-id="01ba1-380">Magazyn plików Azure obsługuje protokołu HTTPS, używając hello interfejsu API REST, ale jest najczęściej używany jako udział plików SMB dołączony tooa maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="01ba1-380">Azure File Storage supports HTTPS when using hello REST API, but is more commonly used as an SMB file share attached tooa VM.</span></span> <span data-ttu-id="01ba1-381">Protokół SMB 2.1 nie obsługuje szyfrowania, więc połączeń są dozwolone jedynie w ramach hello sam region platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="01ba1-381">SMB 2.1 does not support encryption, so connections are only allowed within hello same region in Azure.</span></span> <span data-ttu-id="01ba1-382">Jednak protokół SMB 3.0 obsługuje szyfrowanie i może być używany z systemem Windows Server 2012 R2, Windows 8, Windows 8.1 i Windows 10, umożliwiając między region dostępu, a nawet dostępu na pulpicie hello.</span><span class="sxs-lookup"><span data-stu-id="01ba1-382">However, SMB 3.0 supports encryption, and can be used with Windows Server 2012 R2, Windows 8, Windows 8.1, and Windows 10, allowing cross-region access and even access on hello desktop.</span></span> |

## <span data-ttu-id="01ba1-383"><a id="cert-pinning"></a>Implementowanie funkcji przypinania certyfikatu</span><span class="sxs-lookup"><span data-stu-id="01ba1-383"><a id="cert-pinning"></a>Implement Certificate Pinning</span></span>

| <span data-ttu-id="01ba1-384">Tytuł</span><span class="sxs-lookup"><span data-stu-id="01ba1-384">Title</span></span>                   | <span data-ttu-id="01ba1-385">Szczegóły</span><span class="sxs-lookup"><span data-stu-id="01ba1-385">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="01ba1-386">**Składnik**</span><span class="sxs-lookup"><span data-stu-id="01ba1-386">**Component**</span></span>               | <span data-ttu-id="01ba1-387">Azure Storage</span><span class="sxs-lookup"><span data-stu-id="01ba1-387">Azure Storage</span></span> | 
| <span data-ttu-id="01ba1-388">**Faza SDL**</span><span class="sxs-lookup"><span data-stu-id="01ba1-388">**SDL Phase**</span></span>               | <span data-ttu-id="01ba1-389">Kompilacja</span><span class="sxs-lookup"><span data-stu-id="01ba1-389">Build</span></span> |  
| <span data-ttu-id="01ba1-390">**Zastosowanie technologii**</span><span class="sxs-lookup"><span data-stu-id="01ba1-390">**Applicable Technologies**</span></span> | <span data-ttu-id="01ba1-391">Ogólny, Windows Phone</span><span class="sxs-lookup"><span data-stu-id="01ba1-391">Generic, Windows Phone</span></span> |
| <span data-ttu-id="01ba1-392">**Atrybuty**</span><span class="sxs-lookup"><span data-stu-id="01ba1-392">**Attributes**</span></span>              | <span data-ttu-id="01ba1-393">Nie dotyczy</span><span class="sxs-lookup"><span data-stu-id="01ba1-393">N/A</span></span>  |
| <span data-ttu-id="01ba1-394">**Odwołania**</span><span class="sxs-lookup"><span data-stu-id="01ba1-394">**References**</span></span>              | [<span data-ttu-id="01ba1-395">Certyfikat i przypinanie klucza publicznego</span><span class="sxs-lookup"><span data-stu-id="01ba1-395">Certificate and Public Key Pinning</span></span>](https://www.owasp.org/index.php/Certificate_and_Public_Key_Pinning#.Net) |
| <span data-ttu-id="01ba1-396">**Kroki**</span><span class="sxs-lookup"><span data-stu-id="01ba1-396">**Steps**</span></span> | <p><span data-ttu-id="01ba1-397">Przypinanie certyfikatu defends przed atakami typu Man-In--Middle (MITM).</span><span class="sxs-lookup"><span data-stu-id="01ba1-397">Certificate pinning defends against Man-In-The-Middle (MITM) attacks.</span></span> <span data-ttu-id="01ba1-398">Przypinanie jest proces hello kojarzenie hosta z ich oczekiwanej X509 certyfikatu lub klucza publicznego.</span><span class="sxs-lookup"><span data-stu-id="01ba1-398">Pinning is hello process of associating a host with their expected X509 certificate or public key.</span></span> <span data-ttu-id="01ba1-399">Po certyfikatu lub klucza publicznego jest znana lub widoczny dla hosta, hello certyfikatu lub klucza publicznego jest skojarzony lub "przypiętych" toohello hosta.</span><span class="sxs-lookup"><span data-stu-id="01ba1-399">Once a certificate or public key is known or seen for a host, hello certificate or public key is associated or 'pinned' toohello host.</span></span> </p><p><span data-ttu-id="01ba1-400">W związku z tym gdy atakujący dokonuje próbuje toodo ataki MITM protokołu SSL podczas klucza hello Uzgadnianie SSL od osoby atakującej serwera będzie inny niż hello przypięty klucza certyfikatu i zostaną odrzucone żądania hello, uniemożliwiający certyfikatu MITM przypinanie można osiągnąć przez Implementowanie przez element ServicePointManager `ServerCertificateValidationCallback` delegowanie.</span><span class="sxs-lookup"><span data-stu-id="01ba1-400">Thus, when an adversary attempts toodo SSL MITM attack, during SSL handshake hello key from attacker's server will be different from hello pinned certificate's key, and hello request will be discarded, thus preventing MITM Certificate pinning can be achieved by implementing ServicePointManager's `ServerCertificateValidationCallback` delegate.</span></span></p>|

### <a name="example"></a><span data-ttu-id="01ba1-401">Przykład</span><span class="sxs-lookup"><span data-stu-id="01ba1-401">Example</span></span>
```C#
using System;
using System.Net;
using System.Net.Security;
using System.Security.Cryptography;

namespace CertificatePinningExample
{
    class CertificatePinningExample
    {
        /* Note: In this example, we're hardcoding a hello certificate's public key and algorithm for 
           demonstration purposes. In a real-world application, this should be stored in a secure
           configuration area that can be updated as needed. */

        private static readonly string PINNED_ALGORITHM = "RSA";

        private static readonly string PINNED_PUBLIC_KEY = "3082010A0282010100B0E75B7CBE56D31658EF79B3A1" +
            "294D506A88DFCDD603F6EF15E7F5BCBDF32291EC50B2B82BA158E905FE6A83EE044A48258B07FAC3D6356AF09B2" +
            "3EDAB15D00507B70DB08DB9A20C7D1201417B3071A346D663A241061C151B6EC5B5B4ECCCDCDBEA24F051962809" +
            "FEC499BF2D093C06E3BDA7D0BB83CDC1C2C6660B8ECB2EA30A685ADE2DC83C88314010FFC7F4F0F895EDDBE5C02" +
            "ABF78E50B708E0A0EB984A9AA536BCE61A0C31DB95425C6FEE5A564B158EE7C4F0693C439AE010EF83CA8155750" +
            "09B17537C29F86071E5DD8CA50EBD8A409494F479B07574D83EDCE6F68A8F7D40447471D05BC3F5EAD7862FA748" +
            "EA3C92A60A128344B1CEF7A0B0D94E50203010001";


        public static void Main(string[] args)
        {
            HttpWebRequest request = (HttpWebRequest)WebRequest.Create("https://azure.microsoft.com");
            request.ServerCertificateValidationCallback = (sender, certificate, chain, sslPolicyErrors) =>
            {
                if (certificate == null || sslPolicyErrors != SslPolicyErrors.None)
                {
                    // Error getting certificate or hello certificate failed basic validation
                    return false;
                }

                var targetKeyAlgorithm = new Oid(certificate.GetKeyAlgorithm()).FriendlyName;
                var targetPublicKey = certificate.GetPublicKeyString();
                
                if (targetKeyAlgorithm == PINNED_ALGORITHM &&
                    targetPublicKey == PINNED_PUBLIC_KEY)
                {
                    // Success, hello certificate matches hello pinned value.
                    return true;
                }
                // Reject, either hello key or hello algorithm does not match hello expected value.
                return false;
            };

            try
            {
                var response = (HttpWebResponse)request.GetResponse();
                Console.WriteLine($"Success, HTTP status code: {response.StatusCode}");
            }
            catch(Exception ex)
            {
                Console.WriteLine($"Failure, {ex.Message}");
            }
            Console.WriteLine("Press any key tooend.");
            Console.ReadKey();
        }
    }
}
```

## <span data-ttu-id="01ba1-402"><a id="https-transport"></a>Włącz protokół HTTPS - bezpieczny kanał transportu</span><span class="sxs-lookup"><span data-stu-id="01ba1-402"><a id="https-transport"></a>Enable HTTPS - Secure Transport channel</span></span>

| <span data-ttu-id="01ba1-403">Tytuł</span><span class="sxs-lookup"><span data-stu-id="01ba1-403">Title</span></span>                   | <span data-ttu-id="01ba1-404">Szczegóły</span><span class="sxs-lookup"><span data-stu-id="01ba1-404">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="01ba1-405">**Składnik**</span><span class="sxs-lookup"><span data-stu-id="01ba1-405">**Component**</span></span>               | <span data-ttu-id="01ba1-406">WCF</span><span class="sxs-lookup"><span data-stu-id="01ba1-406">WCF</span></span> | 
| <span data-ttu-id="01ba1-407">**Faza SDL**</span><span class="sxs-lookup"><span data-stu-id="01ba1-407">**SDL Phase**</span></span>               | <span data-ttu-id="01ba1-408">Kompilacja</span><span class="sxs-lookup"><span data-stu-id="01ba1-408">Build</span></span> |  
| <span data-ttu-id="01ba1-409">**Zastosowanie technologii**</span><span class="sxs-lookup"><span data-stu-id="01ba1-409">**Applicable Technologies**</span></span> | <span data-ttu-id="01ba1-410">NET Framework 3</span><span class="sxs-lookup"><span data-stu-id="01ba1-410">NET Framework 3</span></span> |
| <span data-ttu-id="01ba1-411">**Atrybuty**</span><span class="sxs-lookup"><span data-stu-id="01ba1-411">**Attributes**</span></span>              | <span data-ttu-id="01ba1-412">Nie dotyczy</span><span class="sxs-lookup"><span data-stu-id="01ba1-412">N/A</span></span>  |
| <span data-ttu-id="01ba1-413">**Odwołania**</span><span class="sxs-lookup"><span data-stu-id="01ba1-413">**References**</span></span>              | <span data-ttu-id="01ba1-414">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [uzyskania zawartości Królestwo](https://vulncat.fortify.com/en/vulncat/index.html)</span><span class="sxs-lookup"><span data-stu-id="01ba1-414">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [Fortify Kingdom](https://vulncat.fortify.com/en/vulncat/index.html)</span></span> |
| <span data-ttu-id="01ba1-415">**Kroki**</span><span class="sxs-lookup"><span data-stu-id="01ba1-415">**Steps**</span></span> | <span data-ttu-id="01ba1-416">Konfiguracja aplikacji Hello powinien upewnić się, że HTTPS jest używany przez wszystkie informacje toosensitive dostępu.</span><span class="sxs-lookup"><span data-stu-id="01ba1-416">hello application configuration should ensure that HTTPS is used for all access toosensitive information.</span></span><ul><li><span data-ttu-id="01ba1-417">**Wyjaśnienie:** Jeśli aplikacja obsługuje poufne informacje i nie używa szyfrowania na poziomie wiadomości, a następnie go powinny być dozwolone tylko toocommunicate przez kanał zaszyfrowany transportu.</span><span class="sxs-lookup"><span data-stu-id="01ba1-417">**EXPLANATION:** If an application handles sensitive information and does not use message-level encryption, then it should only be allowed toocommunicate over an encrypted transport channel.</span></span></li><li><span data-ttu-id="01ba1-418">**ZALECENIA:** upewnij się, że transportu HTTP jest wyłączona, a zamiast tego włączyć transportu HTTPS.</span><span class="sxs-lookup"><span data-stu-id="01ba1-418">**RECOMMENDATIONS:** Ensure that HTTP transport is disabled and enable HTTPS transport instead.</span></span> <span data-ttu-id="01ba1-419">Na przykład zastąpić hello `<httpTransport/>` z `<httpsTransport/>` tagu.</span><span class="sxs-lookup"><span data-stu-id="01ba1-419">For example, replace hello `<httpTransport/>` with `<httpsTransport/>` tag.</span></span> <span data-ttu-id="01ba1-420">Nie należy polegać na tooguarantee konfiguracji (zapora) sieci, że aplikacja hello jest możliwy tylko za pośrednictwem bezpiecznego kanału.</span><span class="sxs-lookup"><span data-stu-id="01ba1-420">Do not rely on a network configuration (firewall) tooguarantee that hello application can only be accessed over a secure channel.</span></span> <span data-ttu-id="01ba1-421">Z filozoficzne punktu widzenia aplikacji hello nie należy uwzględniać sieci hello jego zabezpieczeń.</span><span class="sxs-lookup"><span data-stu-id="01ba1-421">From a philosophical point of view, hello application should not depend on hello network for its security.</span></span></li></ul><p><span data-ttu-id="01ba1-422">Z praktycznego punktu widzenia osób hello odpowiadające za bezpieczeństwo sieci hello nie zawsze Śledź hello wymagań w zakresie zabezpieczeń aplikacji hello ich ewolucji.</span><span class="sxs-lookup"><span data-stu-id="01ba1-422">From a practical point of view, hello people responsible for securing hello network do not always track hello security requirements of hello application as they evolve.</span></span></p>|

## <span data-ttu-id="01ba1-423"><a id="message-protection"></a>WCF: TooEncryptAndSign poziomu ochrony zabezpieczeń zestawu wiadomości</span><span class="sxs-lookup"><span data-stu-id="01ba1-423"><a id="message-protection"></a>WCF: Set Message security Protection level tooEncryptAndSign</span></span>

| <span data-ttu-id="01ba1-424">Tytuł</span><span class="sxs-lookup"><span data-stu-id="01ba1-424">Title</span></span>                   | <span data-ttu-id="01ba1-425">Szczegóły</span><span class="sxs-lookup"><span data-stu-id="01ba1-425">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="01ba1-426">**Składnik**</span><span class="sxs-lookup"><span data-stu-id="01ba1-426">**Component**</span></span>               | <span data-ttu-id="01ba1-427">WCF</span><span class="sxs-lookup"><span data-stu-id="01ba1-427">WCF</span></span> | 
| <span data-ttu-id="01ba1-428">**Faza SDL**</span><span class="sxs-lookup"><span data-stu-id="01ba1-428">**SDL Phase**</span></span>               | <span data-ttu-id="01ba1-429">Kompilacja</span><span class="sxs-lookup"><span data-stu-id="01ba1-429">Build</span></span> |  
| <span data-ttu-id="01ba1-430">**Zastosowanie technologii**</span><span class="sxs-lookup"><span data-stu-id="01ba1-430">**Applicable Technologies**</span></span> | <span data-ttu-id="01ba1-431">.NET framework 3</span><span class="sxs-lookup"><span data-stu-id="01ba1-431">.NET Framework 3</span></span> |
| <span data-ttu-id="01ba1-432">**Atrybuty**</span><span class="sxs-lookup"><span data-stu-id="01ba1-432">**Attributes**</span></span>              | <span data-ttu-id="01ba1-433">Nie dotyczy</span><span class="sxs-lookup"><span data-stu-id="01ba1-433">N/A</span></span>  |
| <span data-ttu-id="01ba1-434">**Odwołania**</span><span class="sxs-lookup"><span data-stu-id="01ba1-434">**References**</span></span>              | [<span data-ttu-id="01ba1-435">MSDN</span><span class="sxs-lookup"><span data-stu-id="01ba1-435">MSDN</span></span>](https://msdn.microsoft.com/library/ff650862.aspx) |
| <span data-ttu-id="01ba1-436">**Kroki**</span><span class="sxs-lookup"><span data-stu-id="01ba1-436">**Steps**</span></span> | <ul><li><span data-ttu-id="01ba1-437">**Wyjaśnienie:** gdy poziom ochrony jest ustawiona zbyt komunikatu "none" spowoduje wyłączenie jego ochrony.</span><span class="sxs-lookup"><span data-stu-id="01ba1-437">**EXPLANATION:** When Protection level is set too"none" it will disable message protection.</span></span> <span data-ttu-id="01ba1-438">Poufność i integralności odbywa się z poziomu odpowiednie ustawienia.</span><span class="sxs-lookup"><span data-stu-id="01ba1-438">Confidentiality and integrity is achieved with appropriate level of setting.</span></span></li><li><span data-ttu-id="01ba1-439">**ZALECENIA:**</span><span class="sxs-lookup"><span data-stu-id="01ba1-439">**RECOMMENDATIONS:**</span></span><ul><li><span data-ttu-id="01ba1-440">gdy `Mode=None` — wyłącza ochronę wiadomości</span><span class="sxs-lookup"><span data-stu-id="01ba1-440">when `Mode=None` - Disables message protection</span></span></li><li><span data-ttu-id="01ba1-441">gdy `Mode=Sign` -znaki, ale nie szyfruje wiadomość hello; jeśli ważne jest, integralność danych, należy użyć</span><span class="sxs-lookup"><span data-stu-id="01ba1-441">when `Mode=Sign` - Signs but does not encrypt hello message; should be used when data integrity is important</span></span></li><li><span data-ttu-id="01ba1-442">gdy `Mode=EncryptAndSign` -znaki i szyfrowanie wiadomości powitania</span><span class="sxs-lookup"><span data-stu-id="01ba1-442">when `Mode=EncryptAndSign` - Signs and encrypts hello message</span></span></li></ul></li></ul><p><span data-ttu-id="01ba1-443">Rozważ wyłączenie szyfrowania i tylko podpisywania wiadomości, gdy wystarczy toovalidate hello integralność informacji hello bez obaw poufności.</span><span class="sxs-lookup"><span data-stu-id="01ba1-443">Consider turning off encryption and only signing your message when you just need toovalidate hello integrity of hello information without concerns of confidentiality.</span></span> <span data-ttu-id="01ba1-444">Może to być przydatne w przypadku operacji lub zamówienia usługi, w którym należy toovalidate hello oryginalnego nadawcy, ale są przesyłane żadne dane poufne.</span><span class="sxs-lookup"><span data-stu-id="01ba1-444">This may be useful for operations or service contracts in which you need toovalidate hello original sender but no sensitive data is transmitted.</span></span> <span data-ttu-id="01ba1-445">Gdy obniżenia poziomu ochrony hello, należy zachować ostrożność, tę wiadomość hello nie zawiera żadnych informacji osobistych (dane osobowe).</span><span class="sxs-lookup"><span data-stu-id="01ba1-445">When reducing hello protection level, be careful that hello message does not contain any personally identifiable information (PII).</span></span></p>|

### <a name="example"></a><span data-ttu-id="01ba1-446">Przykład</span><span class="sxs-lookup"><span data-stu-id="01ba1-446">Example</span></span>
<span data-ttu-id="01ba1-447">Konfigurowanie usługi hello i wiadomości powitania hello operacji tooonly logowania jest wyświetlany w hello następujące przykłady.</span><span class="sxs-lookup"><span data-stu-id="01ba1-447">Configuring hello service and hello operation tooonly sign hello message is shown in hello following examples.</span></span> <span data-ttu-id="01ba1-448">Przykład kontraktu usługi `ProtectionLevel.Sign`: hello poniżej przedstawiono przykład użycia ProtectionLevel.Sign na poziomie kontraktu usługi hello:</span><span class="sxs-lookup"><span data-stu-id="01ba1-448">Service Contract Example of `ProtectionLevel.Sign`: hello following is an example of using ProtectionLevel.Sign at hello Service Contract level:</span></span> 
```
[ServiceContract(Protection Level=ProtectionLevel.Sign] 
public interface IService 
  { 
  string GetData(int value); 
  } 
```

### <a name="example"></a><span data-ttu-id="01ba1-449">Przykład</span><span class="sxs-lookup"><span data-stu-id="01ba1-449">Example</span></span>
<span data-ttu-id="01ba1-450">Przykład kontrakt operacji `ProtectionLevel.Sign` (Aby uzyskać szczegółową kontrolę): hello poniżej przedstawiono przykład użycia `ProtectionLevel.Sign` na powitania OperationContract poziomu:</span><span class="sxs-lookup"><span data-stu-id="01ba1-450">Operation Contract Example of `ProtectionLevel.Sign` (for Granular Control): hello following is an example of using `ProtectionLevel.Sign` at hello OperationContract level:</span></span>

```
[OperationContract(ProtectionLevel=ProtectionLevel.Sign] 
string GetData(int value);
``` 

## <span data-ttu-id="01ba1-451"><a id="least-account-wcf"></a>Usługi WCF: Użyj toorun najmniej uprzywilejowane konto usługi WCF</span><span class="sxs-lookup"><span data-stu-id="01ba1-451"><a id="least-account-wcf"></a>WCF: Use a least-privileged account toorun your WCF service</span></span>

| <span data-ttu-id="01ba1-452">Tytuł</span><span class="sxs-lookup"><span data-stu-id="01ba1-452">Title</span></span>                   | <span data-ttu-id="01ba1-453">Szczegóły</span><span class="sxs-lookup"><span data-stu-id="01ba1-453">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="01ba1-454">**Składnik**</span><span class="sxs-lookup"><span data-stu-id="01ba1-454">**Component**</span></span>               | <span data-ttu-id="01ba1-455">WCF</span><span class="sxs-lookup"><span data-stu-id="01ba1-455">WCF</span></span> | 
| <span data-ttu-id="01ba1-456">**Faza SDL**</span><span class="sxs-lookup"><span data-stu-id="01ba1-456">**SDL Phase**</span></span>               | <span data-ttu-id="01ba1-457">Kompilacja</span><span class="sxs-lookup"><span data-stu-id="01ba1-457">Build</span></span> |  
| <span data-ttu-id="01ba1-458">**Zastosowanie technologii**</span><span class="sxs-lookup"><span data-stu-id="01ba1-458">**Applicable Technologies**</span></span> | <span data-ttu-id="01ba1-459">.NET framework 3</span><span class="sxs-lookup"><span data-stu-id="01ba1-459">.NET Framework 3</span></span> |
| <span data-ttu-id="01ba1-460">**Atrybuty**</span><span class="sxs-lookup"><span data-stu-id="01ba1-460">**Attributes**</span></span>              | <span data-ttu-id="01ba1-461">Nie dotyczy</span><span class="sxs-lookup"><span data-stu-id="01ba1-461">N/A</span></span>  |
| <span data-ttu-id="01ba1-462">**Odwołania**</span><span class="sxs-lookup"><span data-stu-id="01ba1-462">**References**</span></span>              | [<span data-ttu-id="01ba1-463">MSDN</span><span class="sxs-lookup"><span data-stu-id="01ba1-463">MSDN</span></span>](https://msdn.microsoft.com/library/ff648826.aspx ) |
| <span data-ttu-id="01ba1-464">**Kroki**</span><span class="sxs-lookup"><span data-stu-id="01ba1-464">**Steps**</span></span> | <ul><li><span data-ttu-id="01ba1-465">**Wyjaśnienie:** nie są uruchamiane usługi WCF w ramach administratora lub konta wysokiego poziomu uprawnień.</span><span class="sxs-lookup"><span data-stu-id="01ba1-465">**EXPLANATION:** Do not run WCF services under admin or high privilege account.</span></span> <span data-ttu-id="01ba1-466">w przypadku naruszenia zabezpieczeń usługi spowoduje duże znaczenie.</span><span class="sxs-lookup"><span data-stu-id="01ba1-466">in case of services compromise it will result in high impact.</span></span></li><li><span data-ttu-id="01ba1-467">**ZALECENIA:** Użyj toohost najmniej uprzywilejowane konto usługi programu WCF, ponieważ go zmniejsza możliwości ataku aplikacji i zmniejszyć potencjalne szkody hello, jeśli są ataku.</span><span class="sxs-lookup"><span data-stu-id="01ba1-467">**RECOMMENDATIONS:** Use a least-privileged account toohost your WCF service because it will reduce your application's attack surface and reduce hello potential damage if you are attacked.</span></span> <span data-ttu-id="01ba1-468">Jeśli konto usługi hello wymaga praw dodatkowe dostępu do zasobów infrastruktury, takich jak usługi MSMQ, hello dziennika zdarzeń, liczników wydajności i system plików hello, odpowiednich uprawnień, należy podać toothese zasobów, aby uruchomić usługę WCF hello pomyślnie.</span><span class="sxs-lookup"><span data-stu-id="01ba1-468">If hello service account requires additional access rights on infrastructure resources such as MSMQ, hello event log, performance counters, and hello file system, appropriate permissions should be given toothese resources so that hello WCF service can run successfully.</span></span></li></ul><p><span data-ttu-id="01ba1-469">Jeśli usługa wymaga tooaccess określonych zasobów imieniu hello oryginalny obiekt wywołujący, użyj personifikacji i delegowania tooflow hello tożsamości obiektu wywołującego sprawdzanie autoryzacji podrzędne.</span><span class="sxs-lookup"><span data-stu-id="01ba1-469">If your service needs tooaccess specific resources on behalf of hello original caller, use impersonation and delegation tooflow hello caller's identity for a downstream authorization check.</span></span> <span data-ttu-id="01ba1-470">W przypadku rozwoju korzystać hello sieci lokalnej usługi konta, które jest specjalnym kontem wbudowanych, który ma ograniczone uprawnienia.</span><span class="sxs-lookup"><span data-stu-id="01ba1-470">In a development scenario, use hello local network service account, which is a special built-in account that has reduced privileges.</span></span> <span data-ttu-id="01ba1-471">W środowisku produkcyjnym należy utworzyć domeny niestandardowej najmniej uprzywilejowane konta usługi.</span><span class="sxs-lookup"><span data-stu-id="01ba1-471">In a production scenario, create a least-privileged custom domain service account.</span></span></p>|

## <span data-ttu-id="01ba1-472"><a id="webapi-https"></a>Wymuś wszystkich tooWeb ruchu interfejsów API za pośrednictwem połączenia HTTPS</span><span class="sxs-lookup"><span data-stu-id="01ba1-472"><a id="webapi-https"></a>Force all traffic tooWeb APIs over HTTPS connection</span></span>

| <span data-ttu-id="01ba1-473">Tytuł</span><span class="sxs-lookup"><span data-stu-id="01ba1-473">Title</span></span>                   | <span data-ttu-id="01ba1-474">Szczegóły</span><span class="sxs-lookup"><span data-stu-id="01ba1-474">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="01ba1-475">**Składnik**</span><span class="sxs-lookup"><span data-stu-id="01ba1-475">**Component**</span></span>               | <span data-ttu-id="01ba1-476">Interfejs API sieci Web</span><span class="sxs-lookup"><span data-stu-id="01ba1-476">Web API</span></span> | 
| <span data-ttu-id="01ba1-477">**Faza SDL**</span><span class="sxs-lookup"><span data-stu-id="01ba1-477">**SDL Phase**</span></span>               | <span data-ttu-id="01ba1-478">Kompilacja</span><span class="sxs-lookup"><span data-stu-id="01ba1-478">Build</span></span> |  
| <span data-ttu-id="01ba1-479">**Zastosowanie technologii**</span><span class="sxs-lookup"><span data-stu-id="01ba1-479">**Applicable Technologies**</span></span> | <span data-ttu-id="01ba1-480">MVC5, MVC6</span><span class="sxs-lookup"><span data-stu-id="01ba1-480">MVC5, MVC6</span></span> |
| <span data-ttu-id="01ba1-481">**Atrybuty**</span><span class="sxs-lookup"><span data-stu-id="01ba1-481">**Attributes**</span></span>              | <span data-ttu-id="01ba1-482">Nie dotyczy</span><span class="sxs-lookup"><span data-stu-id="01ba1-482">N/A</span></span>  |
| <span data-ttu-id="01ba1-483">**Odwołania**</span><span class="sxs-lookup"><span data-stu-id="01ba1-483">**References**</span></span>              | [<span data-ttu-id="01ba1-484">Wymuszanie protokołu SSL w kontrolerze interfejsu API sieci Web</span><span class="sxs-lookup"><span data-stu-id="01ba1-484">Enforcing SSL in a Web API Controller</span></span>](http://www.asp.net/web-api/overview/security/working-with-ssl-in-web-api) |
| <span data-ttu-id="01ba1-485">**Kroki**</span><span class="sxs-lookup"><span data-stu-id="01ba1-485">**Steps**</span></span> | <span data-ttu-id="01ba1-486">Jeśli aplikacja ma HTTPS i powiązanie HTTP, klientów można nadal używać lokacji hello tooaccess HTTP.</span><span class="sxs-lookup"><span data-stu-id="01ba1-486">If an application has both an HTTPS and an HTTP binding, clients can still use HTTP tooaccess hello site.</span></span> <span data-ttu-id="01ba1-487">tooprevent, użyj tooensure filtru Akcja żądający tooprotected interfejsy API są zawsze przy użyciu protokołu HTTPS.</span><span class="sxs-lookup"><span data-stu-id="01ba1-487">tooprevent this, use an action filter tooensure that requests tooprotected APIs are always over HTTPS.</span></span>|

### <a name="example"></a><span data-ttu-id="01ba1-488">Przykład</span><span class="sxs-lookup"><span data-stu-id="01ba1-488">Example</span></span> 
<span data-ttu-id="01ba1-489">Witaj poniższy kod przedstawia filtr uwierzytelniania interfejsu API sieci Web, który sprawdza, czy protokół SSL:</span><span class="sxs-lookup"><span data-stu-id="01ba1-489">hello following code shows a Web API authentication filter that checks for SSL:</span></span> 
```C#
public class RequireHttpsAttribute : AuthorizationFilterAttribute
{
    public override void OnAuthorization(HttpActionContext actionContext)
    {
        if (actionContext.Request.RequestUri.Scheme != Uri.UriSchemeHttps)
        {
            actionContext.Response = new HttpResponseMessage(System.Net.HttpStatusCode.Forbidden)
            {
                ReasonPhrase = "HTTPS Required"
            };
        }
        else
        {
            base.OnAuthorization(actionContext);
        }
    }
}
```
<span data-ttu-id="01ba1-490">Dodaj ten filtr akcji interfejsu API sieci Web tooany, które wymagają protokołu SSL:</span><span class="sxs-lookup"><span data-stu-id="01ba1-490">Add this filter tooany Web API actions that require SSL:</span></span> 
```C#
public class ValuesController : ApiController
{
    [RequireHttps]
    public HttpResponseMessage Get() { ... }
}
```
 
## <span data-ttu-id="01ba1-491"><a id="redis-ssl"></a>Upewnij się, że tooAzure komunikacji, jest pamięcią podręczną Redis za pośrednictwem protokołu SSL</span><span class="sxs-lookup"><span data-stu-id="01ba1-491"><a id="redis-ssl"></a>Ensure that communication tooAzure Redis Cache is over SSL</span></span>

| <span data-ttu-id="01ba1-492">Tytuł</span><span class="sxs-lookup"><span data-stu-id="01ba1-492">Title</span></span>                   | <span data-ttu-id="01ba1-493">Szczegóły</span><span class="sxs-lookup"><span data-stu-id="01ba1-493">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="01ba1-494">**Składnik**</span><span class="sxs-lookup"><span data-stu-id="01ba1-494">**Component**</span></span>               | <span data-ttu-id="01ba1-495">Azure Redis Cache</span><span class="sxs-lookup"><span data-stu-id="01ba1-495">Azure Redis Cache</span></span> | 
| <span data-ttu-id="01ba1-496">**Faza SDL**</span><span class="sxs-lookup"><span data-stu-id="01ba1-496">**SDL Phase**</span></span>               | <span data-ttu-id="01ba1-497">Kompilacja</span><span class="sxs-lookup"><span data-stu-id="01ba1-497">Build</span></span> |  
| <span data-ttu-id="01ba1-498">**Zastosowanie technologii**</span><span class="sxs-lookup"><span data-stu-id="01ba1-498">**Applicable Technologies**</span></span> | <span data-ttu-id="01ba1-499">Ogólny</span><span class="sxs-lookup"><span data-stu-id="01ba1-499">Generic</span></span> |
| <span data-ttu-id="01ba1-500">**Atrybuty**</span><span class="sxs-lookup"><span data-stu-id="01ba1-500">**Attributes**</span></span>              | <span data-ttu-id="01ba1-501">Nie dotyczy</span><span class="sxs-lookup"><span data-stu-id="01ba1-501">N/A</span></span>  |
| <span data-ttu-id="01ba1-502">**Odwołania**</span><span class="sxs-lookup"><span data-stu-id="01ba1-502">**References**</span></span>              | [<span data-ttu-id="01ba1-503">Pomoc techniczna platformy Azure Redis protokołu SSL</span><span class="sxs-lookup"><span data-stu-id="01ba1-503">Azure Redis SSL support</span></span>](https://azure.microsoft.com/documentation/articles/cache-faq/#when-should-i-enable-the-non-ssl-port-for-connecting-to-redis) |
| <span data-ttu-id="01ba1-504">**Kroki**</span><span class="sxs-lookup"><span data-stu-id="01ba1-504">**Steps**</span></span> | <span data-ttu-id="01ba1-505">Redis fabrycznej hello serwer nie obsługuje protokołu SSL, ale nie w pamięci podręcznej Redis Azure.</span><span class="sxs-lookup"><span data-stu-id="01ba1-505">Redis server does not support SSL out of hello box, but Azure Redis Cache does.</span></span> <span data-ttu-id="01ba1-506">Jeśli łączysz tooAzure pamięci podręcznej Redis i klient obsługuje protokół SSL, takich jak programie StackExchange.Redis, należy użyć protokołu SSL.</span><span class="sxs-lookup"><span data-stu-id="01ba1-506">If you are connecting tooAzure Redis Cache and your client supports SSL, like StackExchange.Redis, then you should use SSL.</span></span> <span data-ttu-id="01ba1-507">Domyślnie port bez protokołu SSL jest wyłączona dla nowego wystąpienia pamięci podręcznej Redis Azure.</span><span class="sxs-lookup"><span data-stu-id="01ba1-507">By default non-SSL port is disabled for new Azure Redis Cache instances.</span></span> <span data-ttu-id="01ba1-508">Upewnij się, że hello bezpieczne ustawienia domyślne nie są zmieniane, chyba że istnieje zależność na obsługę protokołu SSL dla klientów pamięci podręcznej redis.</span><span class="sxs-lookup"><span data-stu-id="01ba1-508">Ensure that hello secure defaults are not changed unless there is a dependency on SSL support for redis clients.</span></span> |

<span data-ttu-id="01ba1-509">Należy pamiętać, że Redis jest zaprojektowana toobe dostęp do zaufanych klientów w środowiskach zaufanych.</span><span class="sxs-lookup"><span data-stu-id="01ba1-509">Please note that Redis is designed toobe accessed by trusted clients inside trusted environments.</span></span> <span data-ttu-id="01ba1-510">Oznacza to, że zwykle nie jest dobra pomysł tooexpose hello Redis bezpośrednio wystąpienia toohello internet lub ogólnie rzecz biorąc, umożliwiający niezaufani klienci mogą bezpośrednio dostęp do środowiska tooan hello port Redis TCP lub gniazda systemu UNIX.</span><span class="sxs-lookup"><span data-stu-id="01ba1-510">This means that usually it is not a good idea tooexpose hello Redis instance directly toohello internet or, in general, tooan environment where untrusted clients can directly access hello Redis TCP port or UNIX socket.</span></span> 

## <span data-ttu-id="01ba1-511"><a id="device-field"></a>Bezpieczna komunikacja bramy tooField urządzenia</span><span class="sxs-lookup"><span data-stu-id="01ba1-511"><a id="device-field"></a>Secure Device tooField Gateway communication</span></span>

| <span data-ttu-id="01ba1-512">Tytuł</span><span class="sxs-lookup"><span data-stu-id="01ba1-512">Title</span></span>                   | <span data-ttu-id="01ba1-513">Szczegóły</span><span class="sxs-lookup"><span data-stu-id="01ba1-513">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="01ba1-514">**Składnik**</span><span class="sxs-lookup"><span data-stu-id="01ba1-514">**Component**</span></span>               | <span data-ttu-id="01ba1-515">Pole IoT bramy</span><span class="sxs-lookup"><span data-stu-id="01ba1-515">IoT Field Gateway</span></span> | 
| <span data-ttu-id="01ba1-516">**Faza SDL**</span><span class="sxs-lookup"><span data-stu-id="01ba1-516">**SDL Phase**</span></span>               | <span data-ttu-id="01ba1-517">Kompilacja</span><span class="sxs-lookup"><span data-stu-id="01ba1-517">Build</span></span> |  
| <span data-ttu-id="01ba1-518">**Zastosowanie technologii**</span><span class="sxs-lookup"><span data-stu-id="01ba1-518">**Applicable Technologies**</span></span> | <span data-ttu-id="01ba1-519">Ogólny</span><span class="sxs-lookup"><span data-stu-id="01ba1-519">Generic</span></span> |
| <span data-ttu-id="01ba1-520">**Atrybuty**</span><span class="sxs-lookup"><span data-stu-id="01ba1-520">**Attributes**</span></span>              | <span data-ttu-id="01ba1-521">Nie dotyczy</span><span class="sxs-lookup"><span data-stu-id="01ba1-521">N/A</span></span>  |
| <span data-ttu-id="01ba1-522">**Odwołania**</span><span class="sxs-lookup"><span data-stu-id="01ba1-522">**References**</span></span>              | <span data-ttu-id="01ba1-523">Nie dotyczy</span><span class="sxs-lookup"><span data-stu-id="01ba1-523">N/A</span></span>  |
| <span data-ttu-id="01ba1-524">**Kroki**</span><span class="sxs-lookup"><span data-stu-id="01ba1-524">**Steps**</span></span> | <span data-ttu-id="01ba1-525">Dla urządzeń na podstawie adresu IP protokół komunikacyjny hello można zwykle hermetyzowany w przesyłanych danych tooprotect kanału SSL/TLS.</span><span class="sxs-lookup"><span data-stu-id="01ba1-525">For IP based devices, hello communication protocol could typically be encapsulated in a SSL/TLS channel tooprotect data in transit.</span></span> <span data-ttu-id="01ba1-526">Dla innych protokołów, które nie obsługują protokołu SSL/TLS Sprawdź, czy istnieją bezpieczne wersje protokołu hello zapewniające zabezpieczeń w warstwie transportu lub wiadomości.</span><span class="sxs-lookup"><span data-stu-id="01ba1-526">For other protocols that do not support SSL/TLS investigate if there are secure versions of hello protocol that provide security at transport or message layer.</span></span> |

## <span data-ttu-id="01ba1-527"><a id="device-cloud"></a>Zabezpieczanie tooCloud urządzenia bramy komunikacji przy użyciu protokołu SSL/TLS</span><span class="sxs-lookup"><span data-stu-id="01ba1-527"><a id="device-cloud"></a>Secure Device tooCloud Gateway communication using SSL/TLS</span></span>

| <span data-ttu-id="01ba1-528">Tytuł</span><span class="sxs-lookup"><span data-stu-id="01ba1-528">Title</span></span>                   | <span data-ttu-id="01ba1-529">Szczegóły</span><span class="sxs-lookup"><span data-stu-id="01ba1-529">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="01ba1-530">**Składnik**</span><span class="sxs-lookup"><span data-stu-id="01ba1-530">**Component**</span></span>               | <span data-ttu-id="01ba1-531">Brama chmury IoT</span><span class="sxs-lookup"><span data-stu-id="01ba1-531">IoT Cloud Gateway</span></span> | 
| <span data-ttu-id="01ba1-532">**Faza SDL**</span><span class="sxs-lookup"><span data-stu-id="01ba1-532">**SDL Phase**</span></span>               | <span data-ttu-id="01ba1-533">Kompilacja</span><span class="sxs-lookup"><span data-stu-id="01ba1-533">Build</span></span> |  
| <span data-ttu-id="01ba1-534">**Zastosowanie technologii**</span><span class="sxs-lookup"><span data-stu-id="01ba1-534">**Applicable Technologies**</span></span> | <span data-ttu-id="01ba1-535">Ogólny</span><span class="sxs-lookup"><span data-stu-id="01ba1-535">Generic</span></span> |
| <span data-ttu-id="01ba1-536">**Atrybuty**</span><span class="sxs-lookup"><span data-stu-id="01ba1-536">**Attributes**</span></span>              | <span data-ttu-id="01ba1-537">Nie dotyczy</span><span class="sxs-lookup"><span data-stu-id="01ba1-537">N/A</span></span>  |
| <span data-ttu-id="01ba1-538">**Odwołania**</span><span class="sxs-lookup"><span data-stu-id="01ba1-538">**References**</span></span>              | [<span data-ttu-id="01ba1-539">Wybierz użytkownika protokołu komunikacyjnego</span><span class="sxs-lookup"><span data-stu-id="01ba1-539">Choose your Communication Protocol</span></span>](https://azure.microsoft.com/documentation/articles/iot-hub-devguide/#messaging) |
| <span data-ttu-id="01ba1-540">**Kroki**</span><span class="sxs-lookup"><span data-stu-id="01ba1-540">**Steps**</span></span> | <span data-ttu-id="01ba1-541">Secure HTTP/AMQP lub protokołów MQTT przy użyciu protokołu SSL/TLS.</span><span class="sxs-lookup"><span data-stu-id="01ba1-541">Secure HTTP/AMQP or MQTT protocols using SSL/TLS.</span></span> |
