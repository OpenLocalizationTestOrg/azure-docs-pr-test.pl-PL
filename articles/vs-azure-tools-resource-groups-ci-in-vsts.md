---
title: "Ciągła integracja w VS Team Services za pomocą projekty grupy zasobów platformy Azure | Dokumentacja firmy Microsoft"
description: "Zawiera opis sposobu konfigurowania ciągłej integracji w programie Visual Studio Team Services za pomocą projekty wdrażania grup zasobów platformy Azure w programie Visual Studio."
services: visual-studio-online
documentationcenter: na
author: mlearned
manager: erickson-doug
editor: 
ms.assetid: b81c172a-be87-4adc-861e-d20b94be9e38
ms.service: azure-resource-manager
ms.devlang: multiple
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 08/01/2016
ms.author: mlearned
ms.openlocfilehash: e7d98ca3fa281a136595c37ed9b7e71de0cf7bff
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 07/11/2017
---
# <a name="continuous-integration-in-visual-studio-team-services-using-azure-resource-group-deployment-projects"></a><span data-ttu-id="96779-103">Ciągła integracja w programie Visual Studio Team Services za pomocą projekty wdrażania grup zasobów platformy Azure</span><span class="sxs-lookup"><span data-stu-id="96779-103">Continuous integration in Visual Studio Team Services using Azure Resource Group deployment projects</span></span>
<span data-ttu-id="96779-104">Do wdrożenia szablonu platformy Azure, możesz wykonać zadania w różnych etapach: kopiowania budowania, testowania na platformie Azure (zwane również "Tymczasowości") i wdrażania szablonu.</span><span class="sxs-lookup"><span data-stu-id="96779-104">To deploy an Azure template, you perform tasks in various stages: Build, Test, Copy to Azure (also called "Staging"), and Deploy Template.</span></span> <span data-ttu-id="96779-105">Istnieją dwa różne sposoby wdrażania szablonów w programie Visual Studio Team Services (VS Team Services).</span><span class="sxs-lookup"><span data-stu-id="96779-105">There are two different ways to deploy templates to Visual Studio Team Services (VS Team Services).</span></span> <span data-ttu-id="96779-106">Obie metody zapewniają te same wyniki, dlatego wybierz jedną, która najlepiej pasuje do przepływu pracy.</span><span class="sxs-lookup"><span data-stu-id="96779-106">Both methods provide the same results, so choose the one that best fits your workflow.</span></span>

1. <span data-ttu-id="96779-107">Dodaj pojedynczy krok do definicji kompilacji, który uruchamia skrypt programu PowerShell, który jest zawarty w projekcie wdrożenia grupy zasobów platformy Azure (wdrażanie AzureResourceGroup.ps1).</span><span class="sxs-lookup"><span data-stu-id="96779-107">Add a single step to your build definition that runs the PowerShell script that’s included in the Azure Resource Group deployment project (Deploy-AzureResourceGroup.ps1).</span></span> <span data-ttu-id="96779-108">Skrypt kopiuje artefaktów, a następnie wdraża szablonu.</span><span class="sxs-lookup"><span data-stu-id="96779-108">The script copies artifacts and then deploys the template.</span></span>
2. <span data-ttu-id="96779-109">Dodaj wiele VS Team Services kroki procesu kompilacji, każda z nich zrealizowane etapu.</span><span class="sxs-lookup"><span data-stu-id="96779-109">Add multiple VS Team Services build steps, each one performing a stage task.</span></span>

<span data-ttu-id="96779-110">W tym artykule przedstawiono obie opcje.</span><span class="sxs-lookup"><span data-stu-id="96779-110">This article demonstrates both options.</span></span> <span data-ttu-id="96779-111">Pierwsza opcja ma zaletą używania tego samego skryptu, używany przez deweloperów w programie Visual Studio i udostępnienie spójności w całym cyklu życia.</span><span class="sxs-lookup"><span data-stu-id="96779-111">The first option has the advantage of using the same script used by developers in Visual Studio and providing consistency throughout the lifecycle.</span></span> <span data-ttu-id="96779-112">Drugą opcją można używać zamiast wbudowanego skryptu.</span><span class="sxs-lookup"><span data-stu-id="96779-112">The second option offers a convenient alternative to the built-in script.</span></span> <span data-ttu-id="96779-113">Obu procedurach założono, że masz już Projekt wdrożenia programu Visual Studio w wersji programu VS Team Services.</span><span class="sxs-lookup"><span data-stu-id="96779-113">Both procedures assume you already have a Visual Studio deployment project checked into VS Team Services.</span></span>

## <a name="copy-artifacts-to-azure"></a><span data-ttu-id="96779-114">Kopiowanie artefaktów na platformie Azure</span><span class="sxs-lookup"><span data-stu-id="96779-114">Copy artifacts to Azure</span></span>
<span data-ttu-id="96779-115">Niezależnie od tego, w tym scenariuszu jeśli masz wszelkie artefakty, które są wymagane do wdrożenia szablonu należy przyznać dostęp do usługi Azure Resource Manager do ich.</span><span class="sxs-lookup"><span data-stu-id="96779-115">Regardless of the scenario, if you have any artifacts that are needed for template deployment, you must give Azure Resource Manager access to them.</span></span> <span data-ttu-id="96779-116">Tych artefaktów może zawierać pliki takie jak:</span><span class="sxs-lookup"><span data-stu-id="96779-116">These artifacts can include files such as:</span></span>

* <span data-ttu-id="96779-117">Zagnieżdżone szablony</span><span class="sxs-lookup"><span data-stu-id="96779-117">Nested templates</span></span>
* <span data-ttu-id="96779-118">Konfiguracja i skryptów DSC</span><span class="sxs-lookup"><span data-stu-id="96779-118">Configuration scripts and DSC scripts</span></span>
* <span data-ttu-id="96779-119">Pliki binarne aplikacji</span><span class="sxs-lookup"><span data-stu-id="96779-119">Application binaries</span></span>

### <a name="nested-templates-and-configuration-scripts"></a><span data-ttu-id="96779-120">Zagnieżdżone szablony i skrypty do konfiguracji</span><span class="sxs-lookup"><span data-stu-id="96779-120">Nested Templates and Configuration Scripts</span></span>
<span data-ttu-id="96779-121">Jeśli używasz szablonów dostarczonych przez program Visual Studio (lub skompilowanej za pomocą wstawki kodu programu Visual Studio), skrypt programu PowerShell nie tylko przygotuje artefaktów, również parameterizes identyfikator URI dla zasobów dla różnych wdrożeń.</span><span class="sxs-lookup"><span data-stu-id="96779-121">When you use the templates provided by Visual Studio (or built with Visual Studio snippets), the PowerShell script not only stages the artifacts, it also parameterizes the URI for the resources for different deployments.</span></span> <span data-ttu-id="96779-122">Skrypt, a następnie kopiuje artefakty do bezpiecznego kontenera na platformie Azure, tworzy token SaS dla kontenera i następnie przekazuje informację do wdrażania szablonu.</span><span class="sxs-lookup"><span data-stu-id="96779-122">The script then copies the artifacts to a secure container in Azure, creates a SaS token for that container, and then passes that information on to the template deployment.</span></span> <span data-ttu-id="96779-123">Zobacz [Utwórz wdrożenie szablonu](https://msdn.microsoft.com/library/azure/dn790564.aspx) Aby dowiedzieć się więcej na temat zagnieżdżone szablony.</span><span class="sxs-lookup"><span data-stu-id="96779-123">See [Create a template deployment](https://msdn.microsoft.com/library/azure/dn790564.aspx) to learn more about nested templates.</span></span>  <span data-ttu-id="96779-124">Przy użyciu zadań w programie VS Team Services, należy wybrać odpowiedni zadań do wdrożenia szablonu i w razie potrzeby podać wartości parametrów z kroku przemieszczania do wdrożenia szablonu.</span><span class="sxs-lookup"><span data-stu-id="96779-124">When using tasks in VS Team Services, you must select the appropriate tasks for your template deployment and if necessary, pass parameter values from the staging step to the template deployment.</span></span>

## <a name="set-up-continuous-deployment-in-vs-team-services"></a><span data-ttu-id="96779-125">Konfigurowanie ciągłego wdrażania w programie VS Team Services</span><span class="sxs-lookup"><span data-stu-id="96779-125">Set up continuous deployment in VS Team Services</span></span>
<span data-ttu-id="96779-126">Aby wywołać skrypt programu PowerShell w wersji programu VS Team Services, należy zaktualizować definicję kompilacji.</span><span class="sxs-lookup"><span data-stu-id="96779-126">To call the PowerShell script in VS Team Services, you need to update your build definition.</span></span> <span data-ttu-id="96779-127">Krótko mówiąc kroki są:</span><span class="sxs-lookup"><span data-stu-id="96779-127">In brief, the steps are:</span></span> 

1. <span data-ttu-id="96779-128">Edytowanie definicji kompilacji.</span><span class="sxs-lookup"><span data-stu-id="96779-128">Edit the build definition.</span></span>
2. <span data-ttu-id="96779-129">Konfigurowanie autoryzacji Azure w wersji programu VS Team Services.</span><span class="sxs-lookup"><span data-stu-id="96779-129">Set up Azure authorization in VS Team Services.</span></span>
3. <span data-ttu-id="96779-130">Dodaj krok kompilacji programu Azure PowerShell, który odwołuje się do skryptu programu PowerShell w projekcie wdrożenia grupy zasobów platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="96779-130">Add an Azure PowerShell build step that references the PowerShell script in the Azure Resource Group deployment project.</span></span>
4. <span data-ttu-id="96779-131">Ustaw wartość *- ArtifactsStagingDirectory* parametru do pracy z projektem wbudowane VS Team Services.</span><span class="sxs-lookup"><span data-stu-id="96779-131">Set the value of the *-ArtifactsStagingDirectory* parameter to work with a project built in VS Team Services.</span></span>

### <a name="detailed-walkthrough-for-option-1"></a><span data-ttu-id="96779-132">Szczegółowy przewodnik dotyczący opcję 1</span><span class="sxs-lookup"><span data-stu-id="96779-132">Detailed walkthrough for Option 1</span></span>
<span data-ttu-id="96779-133">Poniższe procedury prowadzą użytkownika przez kroki niezbędne do skonfigurowania ciągłe wdrażanie w VS Team Services za pomocą jednego zadania, które uruchamia skrypt programu PowerShell w projekcie.</span><span class="sxs-lookup"><span data-stu-id="96779-133">The following procedures walk you through the steps necessary to configure continuous deployment in VS Team Services using a single task that runs the PowerShell script in your project.</span></span> 

1. <span data-ttu-id="96779-134">Edytowanie definicji kompilacji programu VS Team Services i dodać kroku kompilacji programu Azure PowerShell.</span><span class="sxs-lookup"><span data-stu-id="96779-134">Edit your VS Team Services build definition and add an Azure PowerShell build step.</span></span> <span data-ttu-id="96779-135">Wybierz definicję kompilacji w obszarze **definicje kompilacji** kategorii, a następnie wybierz **Edytuj** łącza.</span><span class="sxs-lookup"><span data-stu-id="96779-135">Choose the build definition under the **Build definitions** category and then choose the **Edit** link.</span></span>
   
   ![Edytowanie definicji kompilacji][0]
2. <span data-ttu-id="96779-137">Dodaj nową **programu Azure PowerShell** kompilacji krok do definicji kompilacji, a następnie wybierz pozycję **Dodaj krok kompilacji...**</span><span class="sxs-lookup"><span data-stu-id="96779-137">Add a new **Azure PowerShell** build step to the build definition and then choose the **Add build step…**</span></span> <span data-ttu-id="96779-138">Dodaj...</span><span class="sxs-lookup"><span data-stu-id="96779-138">button.</span></span>
   
   ![Dodawanie kroku kompilacji][1]
3. <span data-ttu-id="96779-140">Wybierz **zadań Wdróż** kategorii, wybierz opcję **programu Azure PowerShell** zadań, a następnie wybierz pozycję jego **Dodaj** przycisku.</span><span class="sxs-lookup"><span data-stu-id="96779-140">Choose the **Deploy task** category, select the **Azure PowerShell** task, and then choose its **Add** button.</span></span>
   
   ![Dodawanie zadań][2]
4. <span data-ttu-id="96779-142">Wybierz **programu Azure PowerShell** kroku kompilacji, a następnie wypełnij jego wartości.</span><span class="sxs-lookup"><span data-stu-id="96779-142">Choose the **Azure PowerShell** build step and then fill in its values.</span></span>
   
   1. <span data-ttu-id="96779-143">Jeśli masz już dodany do programu VS Team Services punktu końcowego usługi Azure, wybierz subskrypcję w **subskrypcji Azure** pole listy rozwijanej, a następnie przejdź do następnej sekcji.</span><span class="sxs-lookup"><span data-stu-id="96779-143">If you already have an Azure service endpoint added to VS Team Services, choose the subscription in the **Azure Subscription** drop-down list box and then skip to the next section.</span></span> 
      
      <span data-ttu-id="96779-144">Jeśli nie masz punkt końcowy usługi Azure w wersji programu VS Team Services, musisz dodać jeden.</span><span class="sxs-lookup"><span data-stu-id="96779-144">If you don’t have an Azure service endpoint in VS Team Services, you need to add one.</span></span> <span data-ttu-id="96779-145">W tej podsekcji przeprowadza użytkownika przez proces.</span><span class="sxs-lookup"><span data-stu-id="96779-145">This subsection takes you through the process.</span></span> <span data-ttu-id="96779-146">Jeśli konto Azure korzysta z konta Microsoft (na przykład usługi Hotmail), należy wykonać następujące kroki, aby pobrać uwierzytelnianie nazwy głównej usługi.</span><span class="sxs-lookup"><span data-stu-id="96779-146">If your Azure account uses a Microsoft account (such as Hotmail), you must take the following steps to get a Service Principal authentication.</span></span>
   2. <span data-ttu-id="96779-147">Wybierz **Zarządzaj** znajdujący się obok podsekcji **subskrypcji Azure** pole listy rozwijanej.</span><span class="sxs-lookup"><span data-stu-id="96779-147">Choose the **Manage** link next to the **Azure Subscription** drop-down list box.</span></span>
      
      ![Zarządzać subskrypcjami platformy Azure][3]
   3. <span data-ttu-id="96779-149">Wybierz **Azure** w **nowy punkt końcowy usługi** pole listy rozwijanej.</span><span class="sxs-lookup"><span data-stu-id="96779-149">Choose **Azure** in the **New Service Endpoint** drop-down list box.</span></span>
      
      ![Nowy punkt końcowy usługi][4]
   4. <span data-ttu-id="96779-151">W **dodawania subskrypcji platformy Azure** okno dialogowe, wybierz opcję **nazwy głównej usługi** opcji.</span><span class="sxs-lookup"><span data-stu-id="96779-151">In the **Add Azure Subscription** dialog box, select the **Service Principal** option.</span></span>
      
      ![Opcja głównej usługi][5]
   5. <span data-ttu-id="96779-153">Dodawanie informacji o subskrypcji platformy Azure do **dodawania subskrypcji platformy Azure** okno dialogowe.</span><span class="sxs-lookup"><span data-stu-id="96779-153">Add your Azure subscription information to the **Add Azure Subscription** dialog box.</span></span> <span data-ttu-id="96779-154">Należy podać następujące elementy:</span><span class="sxs-lookup"><span data-stu-id="96779-154">You need to provide the following items:</span></span>
      
      * <span data-ttu-id="96779-155">Identyfikator subskrypcji</span><span class="sxs-lookup"><span data-stu-id="96779-155">Subscription Id</span></span>
      * <span data-ttu-id="96779-156">Nazwa subskrypcji</span><span class="sxs-lookup"><span data-stu-id="96779-156">Subscription Name</span></span>
      * <span data-ttu-id="96779-157">Identyfikator nazwy głównej usługi</span><span class="sxs-lookup"><span data-stu-id="96779-157">Service Principal Id</span></span>
      * <span data-ttu-id="96779-158">Klucz nazwy głównej usługi</span><span class="sxs-lookup"><span data-stu-id="96779-158">Service Principal Key</span></span>
      * <span data-ttu-id="96779-159">Identyfikator dzierżawy</span><span class="sxs-lookup"><span data-stu-id="96779-159">Tenant Id</span></span>
   6. <span data-ttu-id="96779-160">Dodaj nazwę wybór **subskrypcji** pole Nazwa.</span><span class="sxs-lookup"><span data-stu-id="96779-160">Add a name of your choice to the **Subscription** name box.</span></span> <span data-ttu-id="96779-161">Ta wartość jest później wyświetlana w **subskrypcji Azure** listy rozwijanej w VS Team Services.</span><span class="sxs-lookup"><span data-stu-id="96779-161">This value appears later in the **Azure Subscription** drop-down list in VS Team Services.</span></span> 
   7. <span data-ttu-id="96779-162">Jeśli nie znasz identyfikator subskrypcji platformy Azure, można użyć jednej z poniższych poleceń, można go pobrać.</span><span class="sxs-lookup"><span data-stu-id="96779-162">If you don’t know your Azure subscription ID, you can use one of the following commands to retrieve it.</span></span>
      
      <span data-ttu-id="96779-163">Dla skryptów programu PowerShell użyj polecenia:</span><span class="sxs-lookup"><span data-stu-id="96779-163">For PowerShell scripts, use:</span></span>
      
      `Get-AzureRmSubscription`
      
      <span data-ttu-id="96779-164">W przypadku interfejsu wiersza polecenia platformy Azure użyj polecenia:</span><span class="sxs-lookup"><span data-stu-id="96779-164">For Azure CLI, use:</span></span>
      
      `azure account show`
   8. <span data-ttu-id="96779-165">Można pobrać Identyfikatora nazwy głównej usługi, klucz nazwy głównej usługi i identyfikator dzierżawy, postępuj zgodnie z procedurą w [aplikacji usługi Active Directory Utwórz i nazwę główną usługi za pomocą portalu](resource-group-create-service-principal-portal.md) lub [uwierzytelniania nazwy głównej usługi z usługą Azure Resource Manager](resource-group-authenticate-service-principal.md).</span><span class="sxs-lookup"><span data-stu-id="96779-165">To get a Service Principal ID, Service Principal Key, and Tenant ID, follow the procedure in [Create Active Directory application and service principal using portal](resource-group-create-service-principal-portal.md) or [Authenticating a service principal with Azure Resource Manager](resource-group-authenticate-service-principal.md).</span></span>
   9. <span data-ttu-id="96779-166">Dodawanie wartości Identyfikatora nazwy głównej usługi, klucz nazwy głównej usługi i identyfikator dzierżawcy do **dodawania subskrypcji platformy Azure** okna dialogowego polu, a następnie wybierz pozycję **OK** przycisku.</span><span class="sxs-lookup"><span data-stu-id="96779-166">Add the Service Principal ID, Service Principal Key, and Tenant ID values to the **Add Azure Subscription** dialog box and then choose the **OK** button.</span></span>
      
      <span data-ttu-id="96779-167">Obecnie masz prawidłowe nazwy głównej usługi służące do uruchamiania skryptu programu PowerShell systemu Azure.</span><span class="sxs-lookup"><span data-stu-id="96779-167">You now have a valid Service Principal to use to run the Azure PowerShell script.</span></span>
5. <span data-ttu-id="96779-168">Edytowanie definicji kompilacji, a następnie wybierz pozycję **programu Azure PowerShell** kroku kompilacji.</span><span class="sxs-lookup"><span data-stu-id="96779-168">Edit the build definition and choose the **Azure PowerShell** build step.</span></span> <span data-ttu-id="96779-169">Wybierz subskrypcję w **subskrypcji Azure** pole listy rozwijanej.</span><span class="sxs-lookup"><span data-stu-id="96779-169">Select the subscription in the **Azure Subscription** drop-down list box.</span></span> <span data-ttu-id="96779-170">(Jeśli nie ma subskrypcji, wybierz **Odśwież** obok przycisku **Zarządzaj** łącza.)</span><span class="sxs-lookup"><span data-stu-id="96779-170">(If the subscription doesn't appear, choose the **Refresh** button next the **Manage** link.)</span></span> 
   
   ![Skonfiguruj zadania kompilacji programu Azure PowerShell][8]
6. <span data-ttu-id="96779-172">Podaj ścieżkę do skryptu programu PowerShell AzureResourceGroup.ps1 wdrażania.</span><span class="sxs-lookup"><span data-stu-id="96779-172">Provide a path to the Deploy-AzureResourceGroup.ps1 PowerShell script.</span></span> <span data-ttu-id="96779-173">Aby to zrobić, wybierz przycisk wielokropka (...) **ścieżka skryptu** polu, przejdź do skryptu programu PowerShell AzureResourceGroup.ps1 Wdróż w **skryptów** folderu projektu, zaznacz go, a następnie wybierz **OK** przycisku.</span><span class="sxs-lookup"><span data-stu-id="96779-173">To do this, choose the ellipsis (…) button next to the **Script Path** box, navigate to the Deploy-AzureResourceGroup.ps1 PowerShell script in the **Scripts** folder of your project, select it, and then choose the **OK** button.</span></span>    
   
   ![Wybierz ścieżkę do skryptu][9]
7. <span data-ttu-id="96779-175">Po wybraniu skryptu zaktualizuj ścieżkę do skryptu, dzięki czemu jest uruchamiany z Build.StagingDirectory (tym samym katalogu który *ArtifactsLocation* ma ustawioną wartość).</span><span class="sxs-lookup"><span data-stu-id="96779-175">After you select the script, update the path to the script so that it’s run from the Build.StagingDirectory (the same directory that *ArtifactsLocation* is set to).</span></span> <span data-ttu-id="96779-176">Można to zrobić przez dodanie "$(Build.StagingDirectory)/"na początku ścieżka skryptu.</span><span class="sxs-lookup"><span data-stu-id="96779-176">You can do this by adding “$(Build.StagingDirectory)/” to the beginning of the script path.</span></span>
   
    ![Edytuj ścieżka do skryptu][10]
8. <span data-ttu-id="96779-178">W **argumenty skryptu** wprowadź następujące parametry (w jednym wierszu).</span><span class="sxs-lookup"><span data-stu-id="96779-178">In the **Script Arguments** box, enter the following parameters (in a single line).</span></span> <span data-ttu-id="96779-179">Po uruchomieniu skryptu w programie Visual Studio, możesz sprawdzić, jak VS używa parametrów w **dane wyjściowe** okna.</span><span class="sxs-lookup"><span data-stu-id="96779-179">When you run the script in Visual Studio, you can see how VS uses the parameters in the **Output** window.</span></span> <span data-ttu-id="96779-180">Służy to jako punktu wyjścia do ustawiania wartości parametrów w Twojej kroku kompilacji.</span><span class="sxs-lookup"><span data-stu-id="96779-180">You can use this as a starting point for setting the parameter values in your build step.</span></span>
   
   | <span data-ttu-id="96779-181">Parametr</span><span class="sxs-lookup"><span data-stu-id="96779-181">Parameter</span></span> | <span data-ttu-id="96779-182">Opis</span><span class="sxs-lookup"><span data-stu-id="96779-182">Description</span></span> |
   | --- | --- |
   | <span data-ttu-id="96779-183">-ResourceGroupLocation</span><span class="sxs-lookup"><span data-stu-id="96779-183">-ResourceGroupLocation</span></span> |<span data-ttu-id="96779-184">Wartość lokalizacja geograficzna, których grupa zasobów znajduje się, takich jak **eastus** lub **wschodnie stany USA**.</span><span class="sxs-lookup"><span data-stu-id="96779-184">The geo-location value where the resource group is located, such as **eastus** or **'East US'**.</span></span> <span data-ttu-id="96779-185">(Dodaj apostrofy, jeśli jest spacja w nazwie). Zobacz [regiony platformy Azure](https://azure.microsoft.com/en-us/regions/) Aby uzyskać więcej informacji.</span><span class="sxs-lookup"><span data-stu-id="96779-185">(Add single quotes if there's a space in the name.) See [Azure Regions](https://azure.microsoft.com/en-us/regions/) for more information.</span></span> |
   | <span data-ttu-id="96779-186">-ResourceGroupName</span><span class="sxs-lookup"><span data-stu-id="96779-186">-ResourceGroupName</span></span> |<span data-ttu-id="96779-187">Nazwa grupy zasobów, użyty dla tego wdrożenia.</span><span class="sxs-lookup"><span data-stu-id="96779-187">The name of the resource group used for this deployment.</span></span> |
   | <span data-ttu-id="96779-188">-UploadArtifacts</span><span class="sxs-lookup"><span data-stu-id="96779-188">-UploadArtifacts</span></span> |<span data-ttu-id="96779-189">Tego parametru, jeśli jest obecny, określa, że artefakty, które należy przekazać do platformy Azure z systemu lokalnego.</span><span class="sxs-lookup"><span data-stu-id="96779-189">This parameter, when present, specifies that artifacts that need to be uploaded to Azure from the local system.</span></span> <span data-ttu-id="96779-190">Należy ustawić ten przełącznik, jeśli wdrożenie szablonu wymaga artefakty dodatkowe, które mają być etap przy użyciu skryptu środowiska PowerShell (na przykład skrypty do konfiguracji lub zagnieżdżone szablony).</span><span class="sxs-lookup"><span data-stu-id="96779-190">You only need to set this switch if your template deployment requires extra artifacts that you want to stage using the PowerShell script (such as configuration scripts or nested templates).</span></span> |
   | <span data-ttu-id="96779-191">-StorageAccountName</span><span class="sxs-lookup"><span data-stu-id="96779-191">-StorageAccountName</span></span> |<span data-ttu-id="96779-192">Nazwa konta magazynu, użyty do etapu artefaktów dla tego wdrożenia.</span><span class="sxs-lookup"><span data-stu-id="96779-192">The name of the storage account used to stage artifacts for this deployment.</span></span> <span data-ttu-id="96779-193">Ten parametr jest używany tylko, jeśli są przemieszczania artefakty do wdrożenia.</span><span class="sxs-lookup"><span data-stu-id="96779-193">This parameter is only used if you are staging artifacts for deployment.</span></span> <span data-ttu-id="96779-194">Jeśli podano tego parametru, jeśli skrypt nie został utworzony podczas poprzedniego wdrożenia jest tworzone nowe konto magazynu.</span><span class="sxs-lookup"><span data-stu-id="96779-194">If this parameter is supplied, a new storage account is created if the script has not created one during a previous deployment.</span></span> <span data-ttu-id="96779-195">Jeśli parametr jest określony, konta magazynu musi już istnieć.</span><span class="sxs-lookup"><span data-stu-id="96779-195">If the parameter is specified, the storage account must already exist.</span></span> |
   | <span data-ttu-id="96779-196">-StorageAccountResourceGroupName</span><span class="sxs-lookup"><span data-stu-id="96779-196">-StorageAccountResourceGroupName</span></span> |<span data-ttu-id="96779-197">Nazwa grupy zasobów, skojarzone z kontem magazynu.</span><span class="sxs-lookup"><span data-stu-id="96779-197">The name of the resource group associated with the storage account.</span></span> <span data-ttu-id="96779-198">Ten parametr jest wymagany tylko wtedy, gdy Podaj wartość dla parametru StorageAccountName.</span><span class="sxs-lookup"><span data-stu-id="96779-198">This parameter is required only if you provide a value for the StorageAccountName parameter.</span></span> |
   | <span data-ttu-id="96779-199">-TemplateFile</span><span class="sxs-lookup"><span data-stu-id="96779-199">-TemplateFile</span></span> |<span data-ttu-id="96779-200">Ścieżka do pliku szablonu w projekcie wdrożenia grupy zasobów platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="96779-200">The path to the template file in the Azure Resource Group deployment project.</span></span> <span data-ttu-id="96779-201">Aby zwiększyć elastyczność, należy użyć ścieżki dla tego parametru, który względną wobec lokalizacji skrypt programu PowerShell, a nie ścieżką bezwzględną.</span><span class="sxs-lookup"><span data-stu-id="96779-201">To enhance flexibility, use a path for this parameter that is relative to the location of the PowerShell script instead of an absolute path.</span></span> |
   | <span data-ttu-id="96779-202">-TemplateParametersFile</span><span class="sxs-lookup"><span data-stu-id="96779-202">-TemplateParametersFile</span></span> |<span data-ttu-id="96779-203">Ścieżka do pliku parametrów w projekcie wdrożenia grupy zasobów platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="96779-203">The path to the parameters file in the Azure Resource Group deployment project.</span></span> <span data-ttu-id="96779-204">Aby zwiększyć elastyczność, należy użyć ścieżki dla tego parametru, który względną wobec lokalizacji skrypt programu PowerShell, a nie ścieżką bezwzględną.</span><span class="sxs-lookup"><span data-stu-id="96779-204">To enhance flexibility, use a path for this parameter that is relative to the location of the PowerShell script instead of an absolute path.</span></span> |
   | <span data-ttu-id="96779-205">-ArtifactStagingDirectory</span><span class="sxs-lookup"><span data-stu-id="96779-205">-ArtifactStagingDirectory</span></span> |<span data-ttu-id="96779-206">Ten parametr umożliwia programu PowerShell skryptu znany folder, z którym powinny zostać skopiowane pliki binarne projektu.</span><span class="sxs-lookup"><span data-stu-id="96779-206">This parameter lets the PowerShell script know the folder from where the project’s binary files should be copied.</span></span> <span data-ttu-id="96779-207">Ta wartość zastępuje wartości domyślne używane przez skrypt programu PowerShell.</span><span class="sxs-lookup"><span data-stu-id="96779-207">This value overrides the default value used by the PowerShell script.</span></span> <span data-ttu-id="96779-208">Użyć wersji programu VS Team Services, ustaw wartość: $(Build.StagingDirectory) - ArtifactStagingDirectory</span><span class="sxs-lookup"><span data-stu-id="96779-208">For VS Team Services use, set the value to: -ArtifactStagingDirectory $(Build.StagingDirectory)</span></span> |
   
   <span data-ttu-id="96779-209">Oto przykładowy skrypt argumentów (podzielone dla czytelności wiersz):</span><span class="sxs-lookup"><span data-stu-id="96779-209">Here’s a script arguments example (line broken for readability):</span></span>
   
   ```    
   -ResourceGroupName 'MyGroup' -ResourceGroupLocation 'eastus' -TemplateFile '..\templates\azuredeploy.json' 
   -TemplateParametersFile '..\templates\azuredeploy.parameters.json' -UploadArtifacts -StorageAccountName 'mystorageacct' 
   –StorageAccountResourceGroupName 'Default-Storage-EastUS' -ArtifactStagingDirectory '$(Build.StagingDirectory)'    
   ```
   
   <span data-ttu-id="96779-210">Po zakończeniu, **argumenty skryptu** pole powinno przypominać następujące listy:</span><span class="sxs-lookup"><span data-stu-id="96779-210">When you’re finished, the **Script Arguments** box should resemble the following list:</span></span>
   
   ![Argumenty skryptu][11]
9. <span data-ttu-id="96779-212">Po dodaniu wszystkie elementy wymagane do kroku kompilacji programu Azure PowerShell, wybierz **kolejki** kompilacji przycisk, aby skompilować projekt.</span><span class="sxs-lookup"><span data-stu-id="96779-212">After you’ve added all the required items to the Azure PowerShell build step, choose the **Queue** build button to build the project.</span></span> <span data-ttu-id="96779-213">**Kompilacji** ekranie zostaną wyświetlone dane wyjściowe skryptu programu PowerShell.</span><span class="sxs-lookup"><span data-stu-id="96779-213">The **Build** screen shows the output from the PowerShell script.</span></span>

### <a name="detailed-walkthrough-for-option-2"></a><span data-ttu-id="96779-214">Szczegółowy przewodnik dotyczący opcja 2</span><span class="sxs-lookup"><span data-stu-id="96779-214">Detailed walkthrough for Option 2</span></span>
<span data-ttu-id="96779-215">Poniższe procedury przeprowadzenie czynności niezbędnych do skonfigurowania ciągłe wdrażanie w VS Team Services za pomocą wbudowanych zadań.</span><span class="sxs-lookup"><span data-stu-id="96779-215">The following procedures walk you through the steps necessary to configure continuous deployment in VS Team Services using the built-in tasks.</span></span>

1. <span data-ttu-id="96779-216">Edytuj definicję kompilacji programu VS Team Services, aby dodać dwie nowe kroki procesu kompilacji.</span><span class="sxs-lookup"><span data-stu-id="96779-216">Edit your VS Team Services build definition to add two new build steps.</span></span> <span data-ttu-id="96779-217">Wybierz definicję kompilacji w obszarze **definicje kompilacji** kategorii, a następnie wybierz **Edytuj** łącza.</span><span class="sxs-lookup"><span data-stu-id="96779-217">Choose the build definition under the **Build definitions** category and then choose the **Edit** link.</span></span>
   
   ![Edytowanie definicji kompilacji][12]
2. <span data-ttu-id="96779-219">Dodaj nowe kroki procesu kompilacji do definicji kompilacji przy użyciu **Dodaj krok kompilacji...**</span><span class="sxs-lookup"><span data-stu-id="96779-219">Add the new build steps to the build definition using the **Add build step…**</span></span> <span data-ttu-id="96779-220">Dodaj...</span><span class="sxs-lookup"><span data-stu-id="96779-220">button.</span></span>
   
   ![Dodawanie kroku kompilacji][13]
3. <span data-ttu-id="96779-222">Wybierz **Wdróż** kategorii zadań, wybierz opcję **Azure File Copy** zadań, a następnie wybierz pozycję jego **Dodaj** przycisku.</span><span class="sxs-lookup"><span data-stu-id="96779-222">Choose the **Deploy** task category, select the **Azure File Copy** task, and then choose its **Add** button.</span></span>
   
   ![Dodaj zadanie kopiowania plików na platformę Azure][14]
4. <span data-ttu-id="96779-224">Wybierz **wdrożenie grupy zasobów Azure** zadań, a następnie wybierz jego **Dodaj** przycisk, a następnie **Zamknij** **katalogu zadania**.</span><span class="sxs-lookup"><span data-stu-id="96779-224">Choose the **Azure Resource Group Deployment** task, then choose its **Add** button and then **Close** the **Task Catalog**.</span></span>
   
   ![Zadanie wdrażania dodać grupy zasobów platformy Azure][15]
5. <span data-ttu-id="96779-226">Wybierz **Azure File Copy** zadań i podać jego wartości.</span><span class="sxs-lookup"><span data-stu-id="96779-226">Choose the **Azure File Copy** task and fill in its values.</span></span>
   
   <span data-ttu-id="96779-227">Jeśli masz już dodany do programu VS Team Services punktu końcowego usługi Azure, wybierz subskrypcję w **subskrypcji Azure** pole listy rozwijanej.</span><span class="sxs-lookup"><span data-stu-id="96779-227">If you already have an Azure service endpoint added to VS Team Services, choose the subscription in the **Azure Subscription** drop-down list box.</span></span> <span data-ttu-id="96779-228">Jeśli nie masz subskrypcji, zobacz [opcję 1](#detailed-walkthrough-for-option-1) instrukcje dotyczące konfigurowania co w usłudze VS Team Services.</span><span class="sxs-lookup"><span data-stu-id="96779-228">If you do not have a subscription, see [Option 1](#detailed-walkthrough-for-option-1) for instructions on setting one up in VS Team Services.</span></span>
   
   * <span data-ttu-id="96779-229">Źródło — wprowadź **$(Build.StagingDirectory)**</span><span class="sxs-lookup"><span data-stu-id="96779-229">Source - enter **$(Build.StagingDirectory)**</span></span>
   * <span data-ttu-id="96779-230">Typ połączenia Azure - wybierz **usługi Azure Resource Manager**</span><span class="sxs-lookup"><span data-stu-id="96779-230">Azure Connection Type - select **Azure Resource Manager**</span></span>
   * <span data-ttu-id="96779-231">Subskrypcja platformy Azure RM — Wybierz subskrypcję dla konta magazynu, którego chcesz użyć w **subskrypcji Azure** pole listy rozwijanej.</span><span class="sxs-lookup"><span data-stu-id="96779-231">Azure RM Subscription - select the subscription for the storage account you want to use in the **Azure Subscription** drop-down list box.</span></span> <span data-ttu-id="96779-232">Jeśli nie ma subskrypcji, wybierz **Odśwież** obok przycisku **Zarządzaj** łącza.</span><span class="sxs-lookup"><span data-stu-id="96779-232">If the subscription doesn't appear, choose the **Refresh** button next the **Manage** link.</span></span>
   * <span data-ttu-id="96779-233">Typ docelowy — wybierz **obiektów Blob platformy Azure**</span><span class="sxs-lookup"><span data-stu-id="96779-233">Destination Type - select **Azure Blob**</span></span>
   * <span data-ttu-id="96779-234">RM konta magazynu — wybierz konto magazynu, ma zostać użyta do przemieszczania artefaktów</span><span class="sxs-lookup"><span data-stu-id="96779-234">RM Storage Account - select the storage account you would like to use for staging artifacts</span></span>
   * <span data-ttu-id="96779-235">Nazwa kontenera — wprowadź nazwę kontenera chcesz użyć dla przemieszczania; go może być dowolną nazwę prawidłowego kontenera, ale użyj jednej tej definicji kompilacji w wersji dedykowanej</span><span class="sxs-lookup"><span data-stu-id="96779-235">Container Name - enter the name of the container you would like to use for staging; it can be any valid container name, but use one dedicated to this build definition</span></span>
   
   <span data-ttu-id="96779-236">Wartości danych wyjściowych:</span><span class="sxs-lookup"><span data-stu-id="96779-236">For the output values:</span></span>
   
   * <span data-ttu-id="96779-237">Wprowadź kontenera magazynu URI - **artifactsLocation**</span><span class="sxs-lookup"><span data-stu-id="96779-237">Storage Container URI - enter **artifactsLocation**</span></span>
   * <span data-ttu-id="96779-238">Token sygnatury dostępu Współdzielonego kontenera magazynu — wprowadź **artifactsLocationSasToken**</span><span class="sxs-lookup"><span data-stu-id="96779-238">Storage Container SAS Token - enter **artifactsLocationSasToken**</span></span>
   
   ![Skonfiguruj zadania kopiowania plików na platformę Azure][16]
6. <span data-ttu-id="96779-240">Wybierz **wdrożenie grupy zasobów Azure** kroku kompilacji, a następnie wypełnij jego wartości.</span><span class="sxs-lookup"><span data-stu-id="96779-240">Choose the **Azure Resource Group Deployment** build step and then fill in its values.</span></span>
   
   * <span data-ttu-id="96779-241">Typ połączenia Azure - wybierz **usługi Azure Resource Manager**</span><span class="sxs-lookup"><span data-stu-id="96779-241">Azure Connection Type - select **Azure Resource Manager**</span></span>
   * <span data-ttu-id="96779-242">Subskrypcja platformy Azure RM — Wybierz subskrypcję do wdrożenia w **subskrypcji Azure** pole listy rozwijanej.</span><span class="sxs-lookup"><span data-stu-id="96779-242">Azure RM Subscription - select the subscription for deployment in the **Azure Subscription** drop-down list box.</span></span> <span data-ttu-id="96779-243">Są to zazwyczaj tej samej subskrypcji, które są używane w poprzednim kroku</span><span class="sxs-lookup"><span data-stu-id="96779-243">This will usually be the same subscription used in the previous step</span></span>
   * <span data-ttu-id="96779-244">Akcja — wybierz **tworzenia lub aktualizacji grupy zasobów**</span><span class="sxs-lookup"><span data-stu-id="96779-244">Action - select **Create or Update Resource Group**</span></span>
   * <span data-ttu-id="96779-245">Grupa zasobów — wybierz grupę zasobów lub wprowadź nazwę nowej grupy zasobów dla wdrożenia</span><span class="sxs-lookup"><span data-stu-id="96779-245">Resource Group - select a resource group or enter the name of a new resource group for the deployment</span></span>
   * <span data-ttu-id="96779-246">Lokalizacja — wybierz lokalizację dla grupy zasobów</span><span class="sxs-lookup"><span data-stu-id="96779-246">Location - select the location for the resource group</span></span>
   * <span data-ttu-id="96779-247">Szablon — wprowadź ścieżkę i nazwę szablonu, aby wdrożyć dołączanie **$(Build.StagingDirectory)**, na przykład: **$(Build.StagingDirectory/DSC-CI/azuredeploy.json)**</span><span class="sxs-lookup"><span data-stu-id="96779-247">Template - enter the path and name of the template to be deployed prepending **$(Build.StagingDirectory)**, for example: **$(Build.StagingDirectory/DSC-CI/azuredeploy.json)**</span></span>
   * <span data-ttu-id="96779-248">Parametry szablonu — wprowadź ścieżkę i nazwę parametrów, które mają być używane, dołączanie **$(Build.StagingDirectory)**, na przykład: **$(Build.StagingDirectory/DSC-CI/azuredeploy.parameters.json)**</span><span class="sxs-lookup"><span data-stu-id="96779-248">Template Parameters - enter the path and name of the parameters to be used, prepending **$(Build.StagingDirectory)**, for example: **$(Build.StagingDirectory/DSC-CI/azuredeploy.parameters.json)**</span></span>
   * <span data-ttu-id="96779-249">Zastąp parametrów szablonu — wprowadź lub skopiuj i wklej następujący kod:</span><span class="sxs-lookup"><span data-stu-id="96779-249">Override Template Parameters - enter or copy and paste the following code:</span></span>
     
     ```    
     -_artifactsLocation $(artifactsLocation) -_artifactsLocationSasToken (ConvertTo-SecureString -String "$(artifactsLocationSasToken)" -AsPlainText -Force)
     ```
     ![Skonfiguruj zadania wdrażania grupy zasobów platformy Azure][17]
7. <span data-ttu-id="96779-251">Po dodaniu wszystkich wymaganych elementów, zapisać definicję kompilacji i wybierz polecenie **nowej kompilacji w kolejce** u góry.</span><span class="sxs-lookup"><span data-stu-id="96779-251">After you’ve added all the required items, save the build definition and choose **Queue new build** at the top.</span></span>

## <a name="next-steps"></a><span data-ttu-id="96779-252">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="96779-252">Next steps</span></span>
<span data-ttu-id="96779-253">Odczyt [Omówienie usługi Azure Resource Manager](azure-resource-manager/resource-group-overview.md) Aby dowiedzieć się więcej na temat usługi Azure Resource Manager i grup zasobów platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="96779-253">Read [Azure Resource Manager overview](azure-resource-manager/resource-group-overview.md) to learn more about Azure Resource Manager and Azure resource groups.</span></span>

[0]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough1.png
[1]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough2.png
[2]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough3.png
[3]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough4.png
[4]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough5.png
[5]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough6.png
[8]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough9.png
[9]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough10.png
[10]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough11b.png
[11]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough12.png
[12]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough13.png
[13]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough14.png
[14]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough15.png
[15]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough16.png
[16]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough17.png
[17]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough18.png
