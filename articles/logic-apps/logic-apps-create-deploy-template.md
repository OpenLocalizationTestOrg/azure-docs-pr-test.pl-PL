---
title: "Utwórz szablony wdrażania dla usługi Azure Logic Apps | Dokumentacja firmy Microsoft"
description: "Tworzenie szablonów usługi Azure Resource Manager dla usługi logic apps Zarządzanie wdrożenia i wersji"
services: logic-apps
documentationcenter: .net,nodejs,java
author: jeffhollan
manager: anneta
editor: 
ms.assetid: 85928ec6-d7cb-488e-926e-2e5db89508ee
ms.service: logic-apps
ms.devlang: multiple
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: integration
ms.custom: H1Hack27Feb2017
ms.date: 10/18/2016
ms.author: LADocs; jehollan
ms.openlocfilehash: 9cfbb294010d48deaf4b4c78c6a6bcd59a387d87
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 07/11/2017
---
# <a name="create-templates-for-logic-apps-deployment-and-release-management"></a><span data-ttu-id="4af6a-103">Tworzenie szablonów dla usługi logic apps Zarządzanie wdrożenia i wersji</span><span class="sxs-lookup"><span data-stu-id="4af6a-103">Create templates for logic apps deployment and release management</span></span>

<span data-ttu-id="4af6a-104">Po utworzeniu aplikacji logiki, możesz utworzyć jako szablonu usługi Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="4af6a-104">After a logic app has been created, you might want to create it as an Azure Resource Manager template.</span></span>
<span data-ttu-id="4af6a-105">Dzięki temu można łatwo rozmieścić aplikacji logiki do dowolnego środowiska lub grupy zasobów może być konieczne jego.</span><span class="sxs-lookup"><span data-stu-id="4af6a-105">This way, you can easily deploy the logic app to any environment or resource group where you might need it.</span></span>
<span data-ttu-id="4af6a-106">Aby uzyskać więcej informacji o szablonach usługi Resource Manager, zobacz [tworzenia szablonów usługi Azure Resource Manager](../azure-resource-manager/resource-group-authoring-templates.md) i [wdrażanie zasobów przy użyciu szablonów usługi Azure Resource Manager](../azure-resource-manager/resource-group-template-deploy.md).</span><span class="sxs-lookup"><span data-stu-id="4af6a-106">For more about Resource Manager templates, see [authoring Azure Resource Manager templates](../azure-resource-manager/resource-group-authoring-templates.md) and [deploying resources by using Azure Resource Manager templates](../azure-resource-manager/resource-group-template-deploy.md).</span></span>

## <a name="logic-app-deployment-template"></a><span data-ttu-id="4af6a-107">Szablon wdrożenia aplikacji logiki</span><span class="sxs-lookup"><span data-stu-id="4af6a-107">Logic app deployment template</span></span>

<span data-ttu-id="4af6a-108">Aplikacja logiki ma trzy podstawowe składniki:</span><span class="sxs-lookup"><span data-stu-id="4af6a-108">A logic app has three basic components:</span></span>

* <span data-ttu-id="4af6a-109">**Zasobów aplikacji logiki**: zawiera informacje dotyczące np. cennik planu, lokalizacji i definicji przepływu pracy.</span><span class="sxs-lookup"><span data-stu-id="4af6a-109">**Logic app resource**: Contains information about things like pricing plan, location, and the workflow definition.</span></span>
* <span data-ttu-id="4af6a-110">**Definicji przepływu pracy**: opisano kroki przepływu pracy aplikacji logiki i jak mają być wykonywane przepływu pracy aplikacji logiki aparatu.</span><span class="sxs-lookup"><span data-stu-id="4af6a-110">**Workflow definition**: Describes your logic app's workflow steps and how the Logic Apps engine should execute the workflow.</span></span>
<span data-ttu-id="4af6a-111">Ta definicja można wyświetlić w aplikacji logiki **widoku kodu** okna.</span><span class="sxs-lookup"><span data-stu-id="4af6a-111">You can view this definition in your logic app's **Code View** window.</span></span>
<span data-ttu-id="4af6a-112">W zasobie aplikacji logiki, można znaleźć tej definicji w `definition` właściwości.</span><span class="sxs-lookup"><span data-stu-id="4af6a-112">In the logic app resource, you can find this definition in the `definition` property.</span></span>
* <span data-ttu-id="4af6a-113">**Połączenia**: odwołuje się do oddzielania zasobów, które są bezpiecznie przechowywane metadane dotyczące połączeń łącznika, takie jak ciąg połączenia i tokenu dostępu.</span><span class="sxs-lookup"><span data-stu-id="4af6a-113">**Connections**: Refers to separate resources that securely store metadata about any connector connections, such as a connection string and an access token.</span></span>
<span data-ttu-id="4af6a-114">W zasobie aplikacji logiki, aplikację logiki odwołuje się do tych zasobów `parameters` sekcji.</span><span class="sxs-lookup"><span data-stu-id="4af6a-114">In the logic app resource, your logic app references these resources in the `parameters` section.</span></span>

<span data-ttu-id="4af6a-115">Wszystkie te elementy istniejących aplikacji logiki można wyświetlić przy użyciu narzędzia, takiego jak [Eksploratora zasobów Azure](http://resources.azure.com).</span><span class="sxs-lookup"><span data-stu-id="4af6a-115">You can view all these pieces of existing logic apps by using a tool like [Azure Resource Explorer](http://resources.azure.com).</span></span>

<span data-ttu-id="4af6a-116">Aby utworzyć szablon aplikacji logiki do użycia z wdrożenia grupy zasobów, należy zdefiniować zasoby i parametryzacja zgodnie z potrzebami.</span><span class="sxs-lookup"><span data-stu-id="4af6a-116">To make a template for a logic app to use with resource group deployments, you must define the resources and parameterize as needed.</span></span>
<span data-ttu-id="4af6a-117">Na przykład jeśli wdrażasz do rozwoju, testów i środowiska produkcyjnego, prawdopodobnie chcesz użyć ciągów innego połączenia z bazą danych SQL w każdym środowisku.</span><span class="sxs-lookup"><span data-stu-id="4af6a-117">For example, if you're deploying to a development, test, and production environment, you likely want to use different connection strings to a SQL database in each environment.</span></span>
<span data-ttu-id="4af6a-118">Można też wdrożyć w ramach różnych subskrypcji lub grupy zasobów.</span><span class="sxs-lookup"><span data-stu-id="4af6a-118">Or, you might want to deploy within different subscriptions or resource groups.</span></span>  

## <a name="create-a-logic-app-deployment-template"></a><span data-ttu-id="4af6a-119">Tworzenie szablonu wdrożenia aplikacji logiki</span><span class="sxs-lookup"><span data-stu-id="4af6a-119">Create a logic app deployment template</span></span>

<span data-ttu-id="4af6a-120">Najprostszym sposobem Szablon wdrożenia jest prawidłowy logiki aplikacji jest użycie [Visual Studio Tools dla aplikacji logiki](logic-apps-deploy-from-vs.md).</span><span class="sxs-lookup"><span data-stu-id="4af6a-120">The easiest way to have a valid logic app deployment template is to use the [Visual Studio Tools for Logic Apps](logic-apps-deploy-from-vs.md).</span></span>
<span data-ttu-id="4af6a-121">Visual Studio tools wygenerować szablon wdrożenia nieprawidłowy, używany w żadnych subskrypcji lub lokalizacji.</span><span class="sxs-lookup"><span data-stu-id="4af6a-121">The Visual Studio tools generate a valid deployment template that can be used across any subscription or location.</span></span>

<span data-ttu-id="4af6a-122">Jak utworzyć szablon wdrożenia aplikacji logiki może pomóc kilka innych narzędzi.</span><span class="sxs-lookup"><span data-stu-id="4af6a-122">A few other tools can assist you as you create a logic app deployment template.</span></span>
<span data-ttu-id="4af6a-123">Można tworzyć ręcznie, oznacza to, za pomocą zasobów już omówione w tym miejscu, aby utworzyć parametry zgodnie z potrzebami.</span><span class="sxs-lookup"><span data-stu-id="4af6a-123">You can author by hand, that is, by using the resources already discussed here to create parameters as needed.</span></span>
<span data-ttu-id="4af6a-124">Inną opcją jest użycie [twórcy szablon aplikacji logiki](https://github.com/jeffhollan/LogicAppTemplateCreator) modułu programu PowerShell.</span><span class="sxs-lookup"><span data-stu-id="4af6a-124">Another option is to use a [logic app template creator](https://github.com/jeffhollan/LogicAppTemplateCreator) PowerShell module.</span></span> <span data-ttu-id="4af6a-125">Ten moduł open source najpierw ocenia aplikacji logiki i wszystkie połączenia go używa, a następnie generuje zasobów szablonu z wymaganych parametrów wdrożenia.</span><span class="sxs-lookup"><span data-stu-id="4af6a-125">This open-source module first evaluates the logic app and any connections that it is using, and then generates template resources with the necessary parameters for deployment.</span></span>
<span data-ttu-id="4af6a-126">Na przykład jeśli masz aplikację logiki, który odbiera komunikat z kolejki usługi Azure Service Bus i dodaje dane do bazy danych Azure SQL, narzędzie zachowuje całą logikę aranżacji i parameterizes parametry połączenia SQL i usługi Service Bus, dzięki czemu można ustawić na wdrożenie.</span><span class="sxs-lookup"><span data-stu-id="4af6a-126">For example, if you have a logic app that receives a message from an Azure Service Bus queue and adds data to an Azure SQL database, the tool preserves all the orchestration logic and parameterizes the SQL and Service Bus connection strings so that they can be set at deployment.</span></span>

> [!NOTE]
> <span data-ttu-id="4af6a-127">Połączenia muszą być w tej samej grupie zasobów co aplikacji logiki.</span><span class="sxs-lookup"><span data-stu-id="4af6a-127">Connections must be within the same resource group as the logic app.</span></span>
>
>

### <a name="install-the-logic-app-template-powershell-module"></a><span data-ttu-id="4af6a-128">Zainstaluj moduł programu PowerShell szablon aplikacji logiki</span><span class="sxs-lookup"><span data-stu-id="4af6a-128">Install the logic app template PowerShell module</span></span>
<span data-ttu-id="4af6a-129">Najprostszym sposobem zainstalowania modułu odbywa się za pośrednictwem [galerii programu PowerShell](https://www.powershellgallery.com/packages/LogicAppTemplate/0.1), za pomocą polecenia `Install-Module -Name LogicAppTemplate`.</span><span class="sxs-lookup"><span data-stu-id="4af6a-129">The easiest way to install the module is via the [PowerShell Gallery](https://www.powershellgallery.com/packages/LogicAppTemplate/0.1), by using the command `Install-Module -Name LogicAppTemplate`.</span></span>  

<span data-ttu-id="4af6a-130">Ponadto można zainstalować moduł PowerShell ręcznie:</span><span class="sxs-lookup"><span data-stu-id="4af6a-130">You also can install the PowerShell module manually:</span></span>

1. <span data-ttu-id="4af6a-131">Pobierz najnowszą wersję [twórcy szablon aplikacji logiki](https://github.com/jeffhollan/LogicAppTemplateCreator/releases).</span><span class="sxs-lookup"><span data-stu-id="4af6a-131">Download the latest release of the [logic app template creator](https://github.com/jeffhollan/LogicAppTemplateCreator/releases).</span></span>  
2. <span data-ttu-id="4af6a-132">Wyodrębnij folderu w folderze modułu programu PowerShell (zazwyczaj `%UserProfile%\Documents\WindowsPowerShell\Modules`).</span><span class="sxs-lookup"><span data-stu-id="4af6a-132">Extract the folder in your PowerShell module folder (usually `%UserProfile%\Documents\WindowsPowerShell\Modules`).</span></span>

<span data-ttu-id="4af6a-133">Dla modułu do pracy z dowolnej dzierżawy i subskrypcji dostęp do tokenu, zaleca się używania jej z [ARMClient](https://github.com/projectkudu/ARMClient) narzędzia wiersza polecenia.</span><span class="sxs-lookup"><span data-stu-id="4af6a-133">For the module to work with any tenant and subscription access token, we recommend that you use it with the [ARMClient](https://github.com/projectkudu/ARMClient) command-line tool.</span></span>  <span data-ttu-id="4af6a-134">To [wpis w blogu](http://blog.davidebbo.com/2015/01/azure-resource-manager-client.html) omówiono bardziej szczegółowo ARMClient.</span><span class="sxs-lookup"><span data-stu-id="4af6a-134">This [blog post](http://blog.davidebbo.com/2015/01/azure-resource-manager-client.html) discusses ARMClient in more detail.</span></span>

### <a name="generate-a-logic-app-template-by-using-powershell"></a><span data-ttu-id="4af6a-135">Generuj szablon aplikacji logiki przy użyciu programu PowerShell</span><span class="sxs-lookup"><span data-stu-id="4af6a-135">Generate a logic app template by using PowerShell</span></span>
<span data-ttu-id="4af6a-136">Po zainstalowaniu programu PowerShell, można wygenerować szablonu, za pomocą następującego polecenia:</span><span class="sxs-lookup"><span data-stu-id="4af6a-136">After PowerShell is installed, you can generate a template by using the following command:</span></span>

`armclient token $SubscriptionId | Get-LogicAppTemplate -LogicApp MyApp -ResourceGroup MyRG -SubscriptionId $SubscriptionId -Verbose | Out-File C:\template.json`

<span data-ttu-id="4af6a-137">`$SubscriptionId`to identyfikator subskrypcji platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="4af6a-137">`$SubscriptionId` is the Azure subscription ID.</span></span> <span data-ttu-id="4af6a-138">Ten wiersz najpierw pobiera token za pośrednictwem ARMClient, dostępu, a następnie przewody ją przy użyciu skryptu programu PowerShell, a następnie tworzy szablon w pliku JSON.</span><span class="sxs-lookup"><span data-stu-id="4af6a-138">This line first gets an access token via ARMClient, then pipes it through to the PowerShell script, and then creates the template in a JSON file.</span></span>

## <a name="add-parameters-to-a-logic-app-template"></a><span data-ttu-id="4af6a-139">Dodawanie parametrów do szablon aplikacji logiki</span><span class="sxs-lookup"><span data-stu-id="4af6a-139">Add parameters to a logic app template</span></span>
<span data-ttu-id="4af6a-140">Po utworzeniu szablonu aplikacji logiki, można dodać lub zmodyfikować parametrów, które mogą wymagać.</span><span class="sxs-lookup"><span data-stu-id="4af6a-140">After you create your logic app template, you can continue to add or modify parameters that you might need.</span></span> <span data-ttu-id="4af6a-141">Na przykład jeśli definicja zawiera identyfikator zasobów Azure funkcję lub zagnieżdżony przepływ pracy, który ma zostać umieszczony w jednym wdrożeniu, możesz dodać więcej zasobów do szablonu i parametryzacja identyfikatory zgodnie z potrzebami.</span><span class="sxs-lookup"><span data-stu-id="4af6a-141">For example, if your definition includes a resource ID to an Azure function or nested workflow that you plan to deploy in a single deployment, you can add more resources to your template and parameterize IDs as needed.</span></span> <span data-ttu-id="4af6a-142">To samo dotyczy wszelkie odwołania do niestandardowych interfejsów API i struktury Swagger punkty końcowe oczekiwanych do wdrożenia z każdą grupą zasobów.</span><span class="sxs-lookup"><span data-stu-id="4af6a-142">The same applies to any references to custom APIs or Swagger endpoints you expect to deploy with each resource group.</span></span>

## <a name="deploy-a-logic-app-template"></a><span data-ttu-id="4af6a-143">Wdróż szablon aplikacji logiki</span><span class="sxs-lookup"><span data-stu-id="4af6a-143">Deploy a logic app template</span></span>

<span data-ttu-id="4af6a-144">Szablonu można wdrożyć przy użyciu dowolnego narzędzia, takie jak środowiska PowerShell, interfejsu API REST, [programu Visual Studio Team Services Release Management](#team-services)i Szablon wdrożenia za pomocą portalu Azure.</span><span class="sxs-lookup"><span data-stu-id="4af6a-144">You can deploy your template by using any tools like PowerShell, REST API, [Visual Studio Team Services Release Management](#team-services), and template deployment through the Azure portal.</span></span>
<span data-ttu-id="4af6a-145">Ponadto do przechowywania wartości parametrów, zalecamy utworzenie [pliku parametrów](../azure-resource-manager/resource-group-template-deploy.md#parameter-files).</span><span class="sxs-lookup"><span data-stu-id="4af6a-145">Also, to store the values for parameters, we recommend that you create a [parameter file](../azure-resource-manager/resource-group-template-deploy.md#parameter-files).</span></span>
<span data-ttu-id="4af6a-146">Dowiedz się, jak [wdrażanie zasobów przy użyciu szablonów usługi Azure Resource Manager i programu PowerShell](../azure-resource-manager/resource-group-template-deploy.md) lub [wdrażanie zasobów przy użyciu szablonów usługi Azure Resource Manager i portalu Azure](../azure-resource-manager/resource-group-template-deploy-portal.md).</span><span class="sxs-lookup"><span data-stu-id="4af6a-146">Learn how to [deploy resources with Azure Resource Manager templates and PowerShell](../azure-resource-manager/resource-group-template-deploy.md) or [deploy resources with Azure Resource Manager templates and the Azure portal](../azure-resource-manager/resource-group-template-deploy-portal.md).</span></span>

### <a name="authorize-oauth-connections"></a><span data-ttu-id="4af6a-147">Autoryzowania połączeń OAuth</span><span class="sxs-lookup"><span data-stu-id="4af6a-147">Authorize OAuth connections</span></span>

<span data-ttu-id="4af6a-148">Po wdrożeniu aplikacji logiki działa end-to-end z prawidłowe parametry.</span><span class="sxs-lookup"><span data-stu-id="4af6a-148">After deployment, the logic app works end-to-end with valid parameters.</span></span>
<span data-ttu-id="4af6a-149">Jednak należy nadal autoryzowania połączeń OAuth do wygenerowania tokena dostępu prawidłowe.</span><span class="sxs-lookup"><span data-stu-id="4af6a-149">However, you must still authorize OAuth connections to generate a valid access token.</span></span>
<span data-ttu-id="4af6a-150">Do autoryzowania połączeń OAuth, Otwórz aplikację logiki w Projektancie aplikacji logiki i autoryzowania tych połączeń.</span><span class="sxs-lookup"><span data-stu-id="4af6a-150">To authorize OAuth connections, open the logic app in the Logic Apps Designer, and authorize these connections.</span></span> <span data-ttu-id="4af6a-151">Lub dla automatycznego wdrażania, można za pomocą skryptu wyrażenia zgody na każde połączenie OAuth.</span><span class="sxs-lookup"><span data-stu-id="4af6a-151">Or for automated deployment, you can use a script to consent to each OAuth connection.</span></span>
<span data-ttu-id="4af6a-152">Przykładowy skrypt jest w witrynie GitHub pod [LogicAppConnectionAuth](https://github.com/logicappsio/LogicAppConnectionAuth) projektu.</span><span class="sxs-lookup"><span data-stu-id="4af6a-152">There's an example script on GitHub under the [LogicAppConnectionAuth](https://github.com/logicappsio/LogicAppConnectionAuth) project.</span></span>

<a name="team-services"></a>
## <a name="visual-studio-team-services-release-management"></a><span data-ttu-id="4af6a-153">Visual Studio Team Services Release Management</span><span class="sxs-lookup"><span data-stu-id="4af6a-153">Visual Studio Team Services Release Management</span></span>

<span data-ttu-id="4af6a-154">Typowy scenariusz wdrażania i zarządzania nimi w środowisku jest za pomocą narzędzia, takiego jak Zarządzanie zleceniami w programie Visual Studio Team Services Szablon wdrożenia aplikacji logiki.</span><span class="sxs-lookup"><span data-stu-id="4af6a-154">A common scenario for deploying and managing an environment is to use a tool like Release Management in Visual Studio Team Services, with a logic app deployment template.</span></span> <span data-ttu-id="4af6a-155">Visual Studio Team Services zawiera [wdrażanie grupy zasobów platformy Azure](https://github.com/Microsoft/vsts-tasks/tree/master/Tasks/DeployAzureResourceGroup) zadań można dodać do dowolnego kompilacji lub zwolnij potoku.</span><span class="sxs-lookup"><span data-stu-id="4af6a-155">Visual Studio Team Services includes a [Deploy Azure Resource Group](https://github.com/Microsoft/vsts-tasks/tree/master/Tasks/DeployAzureResourceGroup) task that you can add to any build or release pipeline.</span></span> <span data-ttu-id="4af6a-156">Musisz mieć [nazwy głównej usługi](https://blogs.msdn.microsoft.com/visualstudioalm/2015/10/04/automating-azure-resource-group-deployment-using-a-service-principal-in-visual-studio-online-buildrelease-management/) dla autoryzacji do wdrożenia, a następnie można wygenerować definicji wersji.</span><span class="sxs-lookup"><span data-stu-id="4af6a-156">You need to have a [service principal](https://blogs.msdn.microsoft.com/visualstudioalm/2015/10/04/automating-azure-resource-group-deployment-using-a-service-principal-in-visual-studio-online-buildrelease-management/) for authorization to deploy, and then you can generate the release definition.</span></span>

1. <span data-ttu-id="4af6a-157">Release Management wybierz **pusty** tak, aby utworzyć pustą definicję.</span><span class="sxs-lookup"><span data-stu-id="4af6a-157">In Release Management, select **Empty** so that you create an empty definition.</span></span>

    ![Utwórz pustą definicję][1]

2. <span data-ttu-id="4af6a-159">Wybierz wszystkie zasoby potrzebne w tym celu najprawdopodobniej tym szablon aplikacji logiki, generowany ręcznie lub jako część procesu kompilacji.</span><span class="sxs-lookup"><span data-stu-id="4af6a-159">Choose any resources you need for this, most likely including the logic app template that is generated manually or as part of the build process.</span></span>
3. <span data-ttu-id="4af6a-160">Dodaj **wdrożenie grupy zasobów Azure** zadań.</span><span class="sxs-lookup"><span data-stu-id="4af6a-160">Add an **Azure Resource Group Deployment** task.</span></span>
4. <span data-ttu-id="4af6a-161">Konfigurowanie przy użyciu [nazwy głównej usługi](https://blogs.msdn.microsoft.com/visualstudioalm/2015/10/04/automating-azure-resource-group-deployment-using-a-service-principal-in-visual-studio-online-buildrelease-management/)i plików szablonu i parametrów szablonu.</span><span class="sxs-lookup"><span data-stu-id="4af6a-161">Configure with a [service principal](https://blogs.msdn.microsoft.com/visualstudioalm/2015/10/04/automating-azure-resource-group-deployment-using-a-service-principal-in-visual-studio-online-buildrelease-management/), and reference the Template and Template Parameters files.</span></span>
5. <span data-ttu-id="4af6a-162">Kontynuować tworzenie czynności w procesie wersji dla dowolnego środowiska, testów automatycznych lub osób zatwierdzających zgodnie z potrzebami.</span><span class="sxs-lookup"><span data-stu-id="4af6a-162">Continue to build out steps in the release process for any other environment, automated test, or approvers as needed.</span></span>

<!-- Image References -->
[1]: ./media/logic-apps-create-deploy-template/emptyreleasedefinition.png
