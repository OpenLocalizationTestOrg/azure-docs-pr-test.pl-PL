---
title: "Usługa Azure Premium Storage: Projektować pod kątem wydajności | Dokumentacja firmy Microsoft"
description: "Projektowanie aplikacji wysokiej wydajności przy użyciu usługi Azure Premium Storage. Magazyn w warstwie Premium oferuje obsługę dysków o wysokiej wydajności i małych opóźnieniach/O wykonujących obciążeń uruchomionych na maszynach wirtualnych platformy Azure."
services: storage
documentationcenter: na
author: aungoo-msft
manager: tadb
editor: tysonn
ms.assetid: e6a409c3-d31a-4704-a93c-0a04fdc95960
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/27/2017
ms.author: aungoo
ms.openlocfilehash: dde3e60ae4c8387150b65f0715166b5d549891e3
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="azure-premium-storage-design-for-high-performance"></a><span data-ttu-id="8d7b3-104">Magazynu Azure Premium: Projekt o wysokiej wydajności</span><span class="sxs-lookup"><span data-stu-id="8d7b3-104">Azure Premium Storage: Design for High Performance</span></span>
## <a name="overview"></a><span data-ttu-id="8d7b3-105">Omówienie</span><span class="sxs-lookup"><span data-stu-id="8d7b3-105">Overview</span></span>
<span data-ttu-id="8d7b3-106">Ten artykuł zawiera wskazówki dotyczące tworzenia aplikacji wysokiej wydajności przy użyciu usługi Azure Premium Storage.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-106">This article provides guidelines for building high performance applications using Azure Premium Storage.</span></span> <span data-ttu-id="8d7b3-107">Możesz użyć hello instrukcje zawarte w tym dokumencie, w połączeniu z wydajności najlepszych praktyk stosowanych tootechnologies używanych przez aplikację.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-107">You can use hello instructions provided in this document combined with performance best practices applicable tootechnologies used by your application.</span></span> <span data-ttu-id="8d7b3-108">tooillustrate hello wytycznych, użyliśmy program SQL Server uruchomiony na magazyn w warstwie Premium, na przykład w tym dokumencie.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-108">tooillustrate hello guidelines, we have used SQL Server running on Premium Storage as an example throughout this document.</span></span>

<span data-ttu-id="8d7b3-109">Gdy wydajność scenariusze hello warstwy magazynu w tym artykule można rozwiązać, konieczne będzie warstwy aplikacji hello toooptimize.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-109">While we address performance scenarios for hello Storage layer in this article, you will need toooptimize hello application layer.</span></span> <span data-ttu-id="8d7b3-110">Na przykład w przypadku hostowania farmy programu SharePoint w usłudze Azure Premium Storage, można użyć hello przykłady programu SQL Server z tego artykułu toooptimize hello bazy danych serwera.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-110">For example, if you are hosting a SharePoint Farm on Azure Premium Storage, you can use hello SQL Server examples from this article toooptimize hello database server.</span></span> <span data-ttu-id="8d7b3-111">Ponadto Zoptymalizuj farmy programu SharePoint hello serwera sieci Web i aplikacji serwera tooget hello większości.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-111">Additionally, optimize hello SharePoint Farm's Web server and Application server tooget hello most performance.</span></span>

<span data-ttu-id="8d7b3-112">Ten artykuł pomoże odpowiedzi po często zadawane pytania dotyczące optymalizacji wydajności aplikacji w usłudze Azure Premium Storage</span><span class="sxs-lookup"><span data-stu-id="8d7b3-112">This article will help answer following common questions about optimizing application performance on Azure Premium Storage,</span></span>

* <span data-ttu-id="8d7b3-113">Jak toomeasure wydajność aplikacji?</span><span class="sxs-lookup"><span data-stu-id="8d7b3-113">How toomeasure your application performance?</span></span>  
* <span data-ttu-id="8d7b3-114">Dlaczego są nie widać oczekiwanego wysokiej wydajności?</span><span class="sxs-lookup"><span data-stu-id="8d7b3-114">Why are you not seeing expected high performance?</span></span>  
* <span data-ttu-id="8d7b3-115">Jakie czynniki wpływają wydajność aplikacji na magazyn w warstwie Premium?</span><span class="sxs-lookup"><span data-stu-id="8d7b3-115">Which factors influence your application performance on Premium Storage?</span></span>  
* <span data-ttu-id="8d7b3-116">Jak te czynniki wpływają wydajność aplikacji na magazyn w warstwie Premium</span><span class="sxs-lookup"><span data-stu-id="8d7b3-116">How do these factors influence performance of your application on Premium Storage?</span></span>  
* <span data-ttu-id="8d7b3-117">Jak można zoptymalizować IOPS, przepustowości i opóźnień?</span><span class="sxs-lookup"><span data-stu-id="8d7b3-117">How can you optimize for IOPS, Bandwidth and Latency?</span></span>  

<span data-ttu-id="8d7b3-118">Firma Microsoft umieściła wytyczne specjalnie z myślą o magazyn w warstwie Premium ponieważ obciążeń uruchomionych na magazyn w warstwie Premium są wysokiej wydajności poufnych.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-118">We have provided these guidelines specifically for Premium Storage because workloads running on Premium Storage are highly performance sensitive.</span></span> <span data-ttu-id="8d7b3-119">Firma Microsoft umieściła przykłady, gdzie jest to odpowiednie.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-119">We have provided examples where appropriate.</span></span> <span data-ttu-id="8d7b3-120">Można także zastosować niektóre z tych tooapplications wytyczne działające na maszynach wirtualnych IaaS z dyskami magazynu w warstwie standardowa.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-120">You can also apply some of these guidelines tooapplications running on IaaS VMs with Standard Storage disks.</span></span>

<span data-ttu-id="8d7b3-121">Przed rozpoczęciem, jeśli są tooPremium nowego magazynu, najpierw przeczytać hello [magazyn w warstwie Premium: magazyn o wysokiej wydajności dla obciążeń maszyny wirtualnej Azure](../storage-premium-storage.md) i [skalowalności magazynu Azure i cele wydajności](storage-scalability-targets.md)artykułów.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-121">Before you begin, if you are new tooPremium Storage, first read hello [Premium Storage: High-Performance Storage for Azure Virtual Machine Workloads](../storage-premium-storage.md) and [Azure Storage Scalability and Performance Targets](storage-scalability-targets.md) articles.</span></span>

## <a name="application-performance-indicators"></a><span data-ttu-id="8d7b3-122">Wskaźniki wydajności aplikacji</span><span class="sxs-lookup"><span data-stu-id="8d7b3-122">Application Performance Indicators</span></span>
<span data-ttu-id="8d7b3-123">Możemy oceny, czy aplikacja działa również lub nie używa wydajności, takich jak wskaźniki, tempa aplikacji przetwarza żądanie użytkownika, jak dużo danych przetwarza aplikację na żądanie, ile żądań przetwarza aplikacji w określonej okres czasu, jak długo użytkownik ma toowait tooget odpowiedzi po przesłaniu żądania.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-123">We assess whether an application is performing well or not using performance indicators like, how fast an application is processing a user request, how much data an application is processing per request, how many requests is an application processing in a specific period of time, how long a user has toowait tooget a response after submitting their request.</span></span> <span data-ttu-id="8d7b3-124">Witaj terminów tych wskaźników wydajności są IOPS, przepustowości lub przepustowości i opóźnień.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-124">hello technical terms for these performance indicators are, IOPS, Throughput or Bandwidth, and Latency.</span></span>

<span data-ttu-id="8d7b3-125">W tej sekcji omówimy hello wspólnych wskaźników wydajności w kontekście hello magazyn w warstwie Premium.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-125">In this section, we will discuss hello common performance indicators in hello context of Premium Storage.</span></span> <span data-ttu-id="8d7b3-126">W hello następujących sekcji, zbieranie wymagania dotyczące aplikacji, przedstawiono sposób toomeasure tych wskaźników wydajności dla aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-126">In hello following section, Gathering Application Requirements, you will learn how toomeasure these performance indicators for your application.</span></span> <span data-ttu-id="8d7b3-127">W dalszej optymalizacji wydajności aplikacji poznasz hello czynniki wpływające na te wskaźniki i zalecenia toooptimize wydajności je.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-127">Later in Optimizing Application Performance, you will learn about hello factors affecting these performance indicators and recommendations toooptimize them.</span></span>

## <a name="iops"></a><span data-ttu-id="8d7b3-128">Operacje wejścia/wyjścia</span><span class="sxs-lookup"><span data-stu-id="8d7b3-128">IOPS</span></span>
<span data-ttu-id="8d7b3-129">IOPS to liczba żądań, że aplikacja wysyła toohello dysków w magazynie w ciągu sekundy.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-129">IOPS is number of requests that your application is sending toohello storage disks in one second.</span></span> <span data-ttu-id="8d7b3-130">Operacji wejścia/wyjścia można odczytać lub zapisać, sekwencyjnych lub losowych.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-130">An input/output operation could be read or write, sequential or random.</span></span> <span data-ttu-id="8d7b3-131">Aplikacje OLTP, takie jak witryny sieci Web platformy handlowej online konieczne tooprocess wiele równoczesnych użytkownik zażąda natychmiast.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-131">OLTP applications like an online retail website need tooprocess many concurrent user requests immediately.</span></span> <span data-ttu-id="8d7b3-132">żądania użytkowników Hello są insert i aktualizowanie transakcji bazy danych, która aplikacja hello musi przetworzyć w odpowiednim.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-132">hello user requests are insert and update intensive database transactions, which hello application must process quickly.</span></span> <span data-ttu-id="8d7b3-133">W związku z tym aplikacje OLTP wymagają bardzo wysokiej IOPS.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-133">Therefore, OLTP applications require very high IOPS.</span></span> <span data-ttu-id="8d7b3-134">Takie aplikacje będą obsługiwać miliony małych i losowe żądań We/Wy.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-134">Such applications handle millions of small and random IO requests.</span></span> <span data-ttu-id="8d7b3-135">Jeśli masz takiej aplikacji, należy zaprojektować toooptimize infrastruktury aplikacji hello dla IOPS.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-135">If you have such an application, you must design hello application infrastructure toooptimize for IOPS.</span></span> <span data-ttu-id="8d7b3-136">W hello później sekcji, *optymalizacji wydajności aplikacji*, omówiono szczegółowo wszystkie czynniki hello, że należy wziąć pod uwagę tooget wysoka liczba IOPS.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-136">In hello later section, *Optimizing Application Performance*, we discuss in detail all hello factors that you must consider tooget high IOPS.</span></span>

<span data-ttu-id="8d7b3-137">Po dołączeniu premium magazynu dysku tooyour wysokiej skali maszyny Wirtualnej, Azure przepisy dla Ciebie gwarantowane liczbę IOPS zgodnie z harmonogramem hello specyfikację dysku.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-137">When you attach a premium storage disk tooyour high scale VM, Azure provisions for you a guaranteed number of IOPS as per hello disk specification.</span></span> <span data-ttu-id="8d7b3-138">Na przykład dysk P50 inicjuje 7500 IOPS.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-138">For example, a P50 disk provisions 7500 IOPS.</span></span> <span data-ttu-id="8d7b3-139">Każdy dużą skalę rozmiaru maszyny Wirtualnej ma również określonego limitu IOPS może kontynuować działanie.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-139">Each high scale VM size also has a specific IOPS limit that it can sustain.</span></span> <span data-ttu-id="8d7b3-140">Na przykład standardowe GS5 maszyna wirtualna ma 80 000 IOPS ograniczenia.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-140">For example, a Standard GS5 VM has 80,000 IOPS limit.</span></span>

## <a name="throughput"></a><span data-ttu-id="8d7b3-141">Przepływność</span><span class="sxs-lookup"><span data-stu-id="8d7b3-141">Throughput</span></span>
<span data-ttu-id="8d7b3-142">Przepływność lub przepustowości jest hello ilość danych, że aplikacja wysyła toohello dysków w magazynie w określonych odstępach czasu.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-142">Throughput or Bandwidth is hello amount of data that your application is sending toohello storage disks in a specified interval.</span></span> <span data-ttu-id="8d7b3-143">Jeśli aplikacja wykonuje operacje wejścia/wyjścia o dużych rozmiarach jednostki we/wy, wymaga wysokiej przepływności.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-143">If your application is performing input/output operations with large IO unit sizes, it requires high Throughput.</span></span> <span data-ttu-id="8d7b3-144">Aplikacje magazynu danych zwykle tooissue skanowania intensywne operacje dostęp dużej części danych w czasie i często wykonywać operacje zbiorcze.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-144">Data warehouse applications tend tooissue scan intensive operations that access large portions of data at a time and commonly perform bulk operations.</span></span> <span data-ttu-id="8d7b3-145">Innymi słowy takich aplikacji wymaga wyższej przepustowości.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-145">In other words, such applications require higher Throughput.</span></span> <span data-ttu-id="8d7b3-146">Jeśli masz takiej aplikacji, należy zaprojektować jego toooptimize infrastruktury przepustowości.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-146">If you have such an application, you must design its infrastructure toooptimize for Throughput.</span></span> <span data-ttu-id="8d7b3-147">W następnej sekcji hello omówiono czynników hello szczegółów tooachieve musisz dostosować to.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-147">In hello next section, we discuss in detail hello factors you must tune tooachieve this.</span></span>

<span data-ttu-id="8d7b3-148">Po dołączeniu premium magazynu dysku tooa wysokiej skali maszyny Wirtualnej, Azure przepisy przepływności zgodnie z tym specyfikację dysku.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-148">When you attach a premium storage disk tooa high scale VM, Azure provisions Throughput as per that disk specification.</span></span> <span data-ttu-id="8d7b3-149">Na przykład dysk P50 inicjuje 250 MB na dysku drugi przepływności.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-149">For example, a P50 disk provisions 250 MB per second disk Throughput.</span></span> <span data-ttu-id="8d7b3-150">Każdy dużą skalę rozmiaru maszyny Wirtualnej ma również jako określonych limit przepustowości, co może kontynuować działanie.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-150">Each high scale VM size also has as specific Throughput limit that it can sustain.</span></span> <span data-ttu-id="8d7b3-151">Na przykład standardowe GS5 maszyna wirtualna ma maksymalną przepustowość 2000 MB na sekundę.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-151">For example, Standard GS5 VM has a maximum throughput of 2,000 MB per second.</span></span> 

<span data-ttu-id="8d7b3-152">Brak relacji między przepływności i IOPS, jak pokazano w formule hello poniżej.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-152">There is a relation between Throughput and IOPS as shown in hello formula below.</span></span>

![](media/storage-premium-storage-performance/image1.png)

<span data-ttu-id="8d7b3-153">Dlatego jest ważne toodetermine hello optymalnej przepływności i IOPS wartości wymagane przez aplikację.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-153">Therefore, it is important toodetermine hello optimal Throughput and IOPS values that your application requires.</span></span> <span data-ttu-id="8d7b3-154">Podczas uzyskiwania toooptimize jedną hello innych pobiera dotyczy także.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-154">As you try toooptimize one, hello other also gets affected.</span></span> <span data-ttu-id="8d7b3-155">W dalszej części artykułu *optymalizacji wydajności aplikacji*, omówimy w bardziej szczegółowe informacje o optymalizacji IOPS i przepustowość.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-155">In a later section, *Optimizing Application Performance*, we will discuss in more details about optimizing IOPS and Throughput.</span></span>

## <a name="latency"></a><span data-ttu-id="8d7b3-156">Opóźnienie</span><span class="sxs-lookup"><span data-stu-id="8d7b3-156">Latency</span></span>
<span data-ttu-id="8d7b3-157">Opóźnienie jest hello czas tooreceive aplikacji pojedyncze żądanie, przesyła toohello magazynu dysków i wysyłać hello odpowiedzi toohello klienta.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-157">Latency is hello time it takes an application tooreceive a single request, send it toohello storage disks and send hello response toohello client.</span></span> <span data-ttu-id="8d7b3-158">Jest to miara krytyczne wydajności aplikacji w tooIOPS dodanie i przepustowość.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-158">This is a critical measure of an application's performance in addition tooIOPS and Throughput.</span></span> <span data-ttu-id="8d7b3-159">Witaj opóźnienia dysku magazynu premium jest czas hello przyjmuje tooretrieve hello informacji dla żądania i komunikować się jej kopii tooyour aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-159">hello Latency of a premium storage disk is hello time it takes tooretrieve hello information for a request and communicate it back tooyour application.</span></span> <span data-ttu-id="8d7b3-160">Magazyn w warstwie Premium zapewnia stale małe opóźnienia.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-160">Premium Storage provides consistent low latencies.</span></span> <span data-ttu-id="8d7b3-161">Jeśli włączysz buforowania na dyski premium magazynu na hoście tylko do odczytu, możesz uzyskać dużo mniejsze opóźnienia odczytu.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-161">If you enable ReadOnly host caching on premium storage disks, you can get much lower read latency.</span></span> <span data-ttu-id="8d7b3-162">Omówimy buforowania dysku bardziej szczegółowo w dalszej części artykułu na *optymalizacji wydajności aplikacji*.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-162">We will discuss Disk Caching in more detail in later section on *Optimizing Application Performance*.</span></span>

<span data-ttu-id="8d7b3-163">Gdy zoptymalizowany tooget Twojej aplikacji wyżej IOPS i przepływności, będzie miało wpływ na powitania opóźnienia aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-163">When you are optimizing your application tooget higher IOPS and Throughput, it will affect hello Latency of your application.</span></span> <span data-ttu-id="8d7b3-164">Po dostrajania wydajności aplikacji hello, zawsze ocenia hello opóźnienia tooavoid aplikacji hello duże opóźnienie nieoczekiwane zachowanie.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-164">After tuning hello application performance, always evaluate hello Latency of hello application tooavoid unexpected high latency behavior.</span></span>

## <a name="gather-application-performance-requirements"></a><span data-ttu-id="8d7b3-165">Gromadzenie wymagań dotyczących wydajności aplikacji</span><span class="sxs-lookup"><span data-stu-id="8d7b3-165">Gather Application Performance Requirements</span></span>
<span data-ttu-id="8d7b3-166">jest Hello pierwszy krok w projektowaniu wysoka wydajność aplikacji uruchomionych na usłudze Azure Premium Storage, wymagania dotyczące wydajności hello toounderstand aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-166">hello first step in designing high performance applications running on Azure Premium Storage is, toounderstand hello performance requirements of your application.</span></span> <span data-ttu-id="8d7b3-167">Po zebraniu wymagania dotyczące wydajności, aby zoptymalizować aplikacji tooachieve hello najbardziej optymalną wydajność.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-167">After you gather performance requirements, you can optimize your application tooachieve hello most optimal performance.</span></span>

<span data-ttu-id="8d7b3-168">W poprzedniej sekcji hello możemy wyjaśniono hello typowych wskaźników wydajności, IOPS, przepustowości i opóźnień.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-168">In hello previous section, we explained hello common performance indicators, IOPS, Throughput and Latency.</span></span> <span data-ttu-id="8d7b3-169">Należy określić, które z tych wskaźników wydajności są krytyczne tooyour aplikacji toodeliver hello potrzeby użytkowników.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-169">You must identify which of these performance indicators are critical tooyour application toodeliver hello desired user experience.</span></span> <span data-ttu-id="8d7b3-170">Na przykład wysokiej IOPS sprawach większość aplikacji tooOLTP przetwarzania miliony transakcje na sekundę.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-170">For example, high IOPS matters most tooOLTP applications processing millions of transactions in a second.</span></span> <span data-ttu-id="8d7b3-171">Wysokiej przepływności jest krytyczne dla magazynu danych aplikacji przetwarzania dużych ilości danych na sekundę.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-171">Whereas, high Throughput is critical for Data Warehouse applications processing large amounts of data in a second.</span></span> <span data-ttu-id="8d7b3-172">Bardzo małe opóźnienia jest kluczowa dla aplikacji w czasie rzeczywistym, takich jak wideo na żywo przesyłania strumieniowego witryn sieci Web.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-172">Extremely low Latency is crucial for real-time applications like live video streaming websites.</span></span>

<span data-ttu-id="8d7b3-173">Następnie zmierzyć hello wymagania maksymalną wydajność aplikacji przez cały cykl jej życia.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-173">Next, measure hello maximum performance requirements of your application throughout its lifetime.</span></span> <span data-ttu-id="8d7b3-174">Użyj listy kontrolnej próbki hello poniżej jako rozpoczęcia.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-174">Use hello sample checklist below as a start.</span></span> <span data-ttu-id="8d7b3-175">Wymagania dotyczące maksymalnej wydajności hello rekordów podczas normalnego, okresów obciążenia szczytowego i poza godzinami szczytu.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-175">Record hello maximum performance requirements during normal, peak and off-hours workload periods.</span></span> <span data-ttu-id="8d7b3-176">Przez ustalenie wymagań dotyczących wszystkich poziomów obciążeń, będą mogli toodetermine hello ogólne wymagania dotyczące działania aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-176">By identifying requirements for all workloads levels, you will be able toodetermine hello overall performance requirement of your application.</span></span> <span data-ttu-id="8d7b3-177">Na przykład hello zwykłe obciążenie pracą witryną internetową handlu elektronicznego będzie transakcje hello służy ona większość dni w roku.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-177">For example, hello normal workload of an e-commerce website will be hello transactions it serves during most days in a year.</span></span> <span data-ttu-id="8d7b3-178">obciążenia szczytowego Hello hello witryny sieci Web będzie transakcje hello służy ona podczas zdarzenia specjalne sprzedaży lub świąt.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-178">hello peak workload of hello website will be hello transactions it serves during holiday season or special sale events.</span></span> <span data-ttu-id="8d7b3-179">obciążenia szczytowego Hello jest zwykle doświadczenie w ograniczonym okresie, ale może wymagać Twojej aplikacji tooscale dwa lub więcej razy swoich normalnych operacji.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-179">hello peak workload is typically experienced for a limited period, but can require your application tooscale two or more times its normal operation.</span></span> <span data-ttu-id="8d7b3-180">Dowiedz się hello 50. percentyl, percentyl 90 i wymagania percentyl 99.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-180">Find out hello 50 percentile, 90 percentile and 99 percentile requirements.</span></span> <span data-ttu-id="8d7b3-181">Dzięki temu odfiltrowywania żadnych wartości odstających w hello wymagania dotyczące wydajności i można skupić się wysiłków na optymalizacji dla prawej wartości hello.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-181">This helps filter out any outliers in hello performance requirements and you can focus your efforts on optimizing for hello right values.</span></span>

<span data-ttu-id="8d7b3-182">**Lista kontrolna wymagań dotyczących wydajności aplikacji**</span><span class="sxs-lookup"><span data-stu-id="8d7b3-182">**Application Performance Requirements Checklist**</span></span>

| <span data-ttu-id="8d7b3-183">**Wymagania dotyczące wydajności**</span><span class="sxs-lookup"><span data-stu-id="8d7b3-183">**Performance requirements**</span></span> | <span data-ttu-id="8d7b3-184">**50. percentyl**</span><span class="sxs-lookup"><span data-stu-id="8d7b3-184">**50 Percentile**</span></span> | <span data-ttu-id="8d7b3-185">**Percentyl 90**</span><span class="sxs-lookup"><span data-stu-id="8d7b3-185">**90 Percentile**</span></span> | <span data-ttu-id="8d7b3-186">**Percentyl 99**</span><span class="sxs-lookup"><span data-stu-id="8d7b3-186">**99  Percentile**</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="8d7b3-187">Maksymalnie z</span><span class="sxs-lookup"><span data-stu-id="8d7b3-187">Max.</span></span> <span data-ttu-id="8d7b3-188">Transakcje na sekundę</span><span class="sxs-lookup"><span data-stu-id="8d7b3-188">Transactions per second</span></span> | | | |
| <span data-ttu-id="8d7b3-189">Operacje odczytu %</span><span class="sxs-lookup"><span data-stu-id="8d7b3-189">% Read operations</span></span> | | | |
| <span data-ttu-id="8d7b3-190">Operacje zapisu %</span><span class="sxs-lookup"><span data-stu-id="8d7b3-190">% Write operations</span></span> | | | |
| <span data-ttu-id="8d7b3-191">% Losowe operacje</span><span class="sxs-lookup"><span data-stu-id="8d7b3-191">% Random operations</span></span> | | | |
| <span data-ttu-id="8d7b3-192">% Kolejnych operacji.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-192">% Sequential operations</span></span> | | | |
| <span data-ttu-id="8d7b3-193">Rozmiar żądania We/Wy</span><span class="sxs-lookup"><span data-stu-id="8d7b3-193">IO request size</span></span> | | | |
| <span data-ttu-id="8d7b3-194">Średnia przepustowość</span><span class="sxs-lookup"><span data-stu-id="8d7b3-194">Average Throughput</span></span> | | | |
| <span data-ttu-id="8d7b3-195">Maksymalnie z</span><span class="sxs-lookup"><span data-stu-id="8d7b3-195">Max.</span></span> <span data-ttu-id="8d7b3-196">Przepływność</span><span class="sxs-lookup"><span data-stu-id="8d7b3-196">Throughput</span></span> | | | |
| <span data-ttu-id="8d7b3-197">Min.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-197">Min.</span></span> <span data-ttu-id="8d7b3-198">Opóźnienie</span><span class="sxs-lookup"><span data-stu-id="8d7b3-198">Latency</span></span> | | | |
| <span data-ttu-id="8d7b3-199">Średni czas oczekiwania</span><span class="sxs-lookup"><span data-stu-id="8d7b3-199">Average Latency</span></span> | | | |
| <span data-ttu-id="8d7b3-200">Maksymalnie z</span><span class="sxs-lookup"><span data-stu-id="8d7b3-200">Max.</span></span> <span data-ttu-id="8d7b3-201">Procesor CPU</span><span class="sxs-lookup"><span data-stu-id="8d7b3-201">CPU</span></span> | | | |
| <span data-ttu-id="8d7b3-202">Średnie wykorzystanie Procesora</span><span class="sxs-lookup"><span data-stu-id="8d7b3-202">Average CPU</span></span> | | | |
| <span data-ttu-id="8d7b3-203">Maksymalnie z</span><span class="sxs-lookup"><span data-stu-id="8d7b3-203">Max.</span></span> <span data-ttu-id="8d7b3-204">Memory (Pamięć)</span><span class="sxs-lookup"><span data-stu-id="8d7b3-204">Memory</span></span> | | | |
| <span data-ttu-id="8d7b3-205">Średnia pamięci</span><span class="sxs-lookup"><span data-stu-id="8d7b3-205">Average Memory</span></span> | | | |
| <span data-ttu-id="8d7b3-206">Głębokość kolejki</span><span class="sxs-lookup"><span data-stu-id="8d7b3-206">Queue Depth</span></span> | | | |

> [!NOTE]
> <span data-ttu-id="8d7b3-207">Należy rozważyć skalowania tych numerów oparte na oczekiwany przyszłego rozwoju aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-207">You should consider scaling these numbers based on expected future growth of your application.</span></span> <span data-ttu-id="8d7b3-208">Jest tooplan dobrym rozwiązaniem, wzrost wcześniejsze, ponieważ może on być trudniejsze toochange hello infrastruktury dla poprawy wydajności później.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-208">It is a good idea tooplan for growth ahead of time, because it could be harder toochange hello infrastructure for improving performance later.</span></span>
>
>

<span data-ttu-id="8d7b3-209">Jeśli korzystasz z istniejącej aplikacji i chcesz tooPremium toomove magazynu, należy najpierw utworzyć listę kontrolną hello powyżej hello istniejącej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-209">If you have an existing application and want toomove tooPremium Storage, first build hello checklist above for hello existing application.</span></span> <span data-ttu-id="8d7b3-210">Następnie, tworzenie prototypów aplikacji na magazyn w warstwie Premium i projekt aplikacji hello według wskazówek opisanych w *optymalizacji wydajności aplikacji* w dalszej części tego dokumentu.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-210">Then, build a prototype of your application on Premium Storage and design hello application based on guidelines described in *Optimizing Application Performance* in a later section of this document.</span></span> <span data-ttu-id="8d7b3-211">Witaj następnej sekcji opisano narzędzia hello można użyć miary wydajności hello toogather.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-211">hello next section describes hello tools you can use toogather hello performance measurements.</span></span>

<span data-ttu-id="8d7b3-212">Utworzenie listy kontrolnej podobne tooyour istniejących aplikacji do hello prototypu.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-212">Create a checklist similar tooyour existing application for hello prototype.</span></span> <span data-ttu-id="8d7b3-213">Za pomocą narzędzi Benchmarking można symulować hello obciążeń i pomiaru wydajności na powitania prototypu aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-213">Using Benchmarking tools you can simulate hello workloads and measure performance on hello prototype application.</span></span> <span data-ttu-id="8d7b3-214">Zobacz sekcję hello na [Benchmarking](#benchmarking) toolearn więcej.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-214">See hello section on [Benchmarking](#benchmarking) toolearn more.</span></span> <span data-ttu-id="8d7b3-215">Wykonując, dzięki czemu można określić, czy magazyn w warstwie Premium mogą odpowiadać lub przekroczenia wymagań dotyczących wydajności aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-215">By doing so you can determine whether Premium Storage can match or surpass your application performance requirements.</span></span> <span data-ttu-id="8d7b3-216">Następnie można wdrożyć hello tych samych wskazówek dla aplikacji produkcyjnej.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-216">Then you can implement hello same guidelines for your production application.</span></span>

### <a name="counters-toomeasure-application-performance-requirements"></a><span data-ttu-id="8d7b3-217">Wymagania dotyczące wydajności aplikacji toomeasure liczników</span><span class="sxs-lookup"><span data-stu-id="8d7b3-217">Counters toomeasure application performance requirements</span></span>
<span data-ttu-id="8d7b3-218">Witaj najlepsze sposób toomeasure wymagania dotyczące wydajności aplikacji, toouse monitorowania wydajności narzędzi dostarczanych przez system operacyjny hello powitania serwera.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-218">hello best way toomeasure performance requirements of your application, is toouse performance-monitoring tools provided by hello operating system of hello server.</span></span> <span data-ttu-id="8d7b3-219">Można użyć Monitora wydajności dla systemu Windows i iostat dla systemu Linux.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-219">You can use PerfMon for Windows and iostat for Linux.</span></span> <span data-ttu-id="8d7b3-220">Te narzędzia przechwytywania liczniki odpowiedniej miar tooeach wyjaśniono w hello powyżej sekcji.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-220">These tools capture counters corresponding tooeach measure explained in hello above section.</span></span> <span data-ttu-id="8d7b3-221">Gdy aplikacja jest uruchomiona, jej normalny, obciążeń szczycie i poza godzinami szczytu konieczne jest przechwycenie hello wartości tych liczników.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-221">You must capture hello values of these counters when your application is running its normal, peak and off-hours workloads.</span></span>

<span data-ttu-id="8d7b3-222">Liczniki Monitora wydajności Hello są dostępne dla procesora, pamięci, a każdy dysk logiczny i dysku fizycznego serwera.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-222">hello PerfMon counters are available for processor, memory and, each logical disk and physical disk of your server.</span></span> <span data-ttu-id="8d7b3-223">Użycie dysków w warstwie premium magazynu z maszyny Wirtualnej, są hello dysku fizycznego liczniki dla każdego dysku magazynu premium i są dysku logicznego liczniki dla każdego woluminu tworzone na dyskach magazynu premium hello.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-223">When you use premium storage disks with a VM, hello physical disk counters are for each premium storage disk, and logical disk counters are for each volume created on hello premium storage disks.</span></span> <span data-ttu-id="8d7b3-224">Konieczne jest przechwycenie wartości hello hello dysków, obsługujące obciążenia aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-224">You must capture hello values for hello disks that host your application workload.</span></span> <span data-ttu-id="8d7b3-225">W przypadku jedno mapowanie tooone między dysków logicznych i fizycznych, może się odwoływać toophysical liczniki; w przeciwnym razie można znaleźć toohello liczników dysku logicznego.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-225">If there is a one tooone mapping between logical and physical disks, you can refer toophysical disk counters; otherwise refer toohello logical disk counters.</span></span> <span data-ttu-id="8d7b3-226">W systemie Linux polecenie iostat hello generuje raport o wykorzystaniu Procesora i dysku.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-226">On Linux, hello iostat command generates a CPU and disk utilization report.</span></span> <span data-ttu-id="8d7b3-227">Raport o wykorzystaniu dysku Hello zawiera dane statystyczne na urządzeniu fizycznym lub partycji.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-227">hello disk utilization report provides statistics per physical device or partition.</span></span> <span data-ttu-id="8d7b3-228">Jeśli masz serwer bazy danych z danych i dziennika na oddzielnych dyskach zbierać dane dla obydwa dyski.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-228">If you have a database server with its data and log on separate disks, collect this data for both disks.</span></span> <span data-ttu-id="8d7b3-229">Poniższej tabeli opisano liczniki dotyczące dysków, procesora i pamięci:</span><span class="sxs-lookup"><span data-stu-id="8d7b3-229">Below table describes counters for disks, processor and memory:</span></span>

| <span data-ttu-id="8d7b3-230">Licznik</span><span class="sxs-lookup"><span data-stu-id="8d7b3-230">Counter</span></span> | <span data-ttu-id="8d7b3-231">Opis</span><span class="sxs-lookup"><span data-stu-id="8d7b3-231">Description</span></span> | <span data-ttu-id="8d7b3-232">Monitora wydajności</span><span class="sxs-lookup"><span data-stu-id="8d7b3-232">PerfMon</span></span> | <span data-ttu-id="8d7b3-233">Iostat</span><span class="sxs-lookup"><span data-stu-id="8d7b3-233">Iostat</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="8d7b3-234">**Liczba IOPS lub transakcje na sekundę**</span><span class="sxs-lookup"><span data-stu-id="8d7b3-234">**IOPS or Transactions per second**</span></span> |<span data-ttu-id="8d7b3-235">Liczba żądań We/Wy wystawiony toohello dysk magazynujący na sekundę.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-235">Number of I/O requests issued toohello storage disk per second.</span></span> |<span data-ttu-id="8d7b3-236">Odczyty dysku/s</span><span class="sxs-lookup"><span data-stu-id="8d7b3-236">Disk Reads/sec</span></span> <br> <span data-ttu-id="8d7b3-237">Zapisy dysku/s</span><span class="sxs-lookup"><span data-stu-id="8d7b3-237">Disk Writes/sec</span></span> |<span data-ttu-id="8d7b3-238">tps</span><span class="sxs-lookup"><span data-stu-id="8d7b3-238">tps</span></span> <br> <span data-ttu-id="8d7b3-239">r/s</span><span class="sxs-lookup"><span data-stu-id="8d7b3-239">r/s</span></span> <br> <span data-ttu-id="8d7b3-240">p/s</span><span class="sxs-lookup"><span data-stu-id="8d7b3-240">w/s</span></span> |
| <span data-ttu-id="8d7b3-241">**Dysk odczyty i zapisy**</span><span class="sxs-lookup"><span data-stu-id="8d7b3-241">**Disk Reads and Writes**</span></span> |<span data-ttu-id="8d7b3-242">% operacji odczytu i zapisu operacji wykonywanych na powitania dysku.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-242">% of Reads and Write operations performed on hello disk.</span></span> |<span data-ttu-id="8d7b3-243">Czas odczytu dysku (%)</span><span class="sxs-lookup"><span data-stu-id="8d7b3-243">% Disk Read Time</span></span> <br> <span data-ttu-id="8d7b3-244">Czas zapisu na dysku %</span><span class="sxs-lookup"><span data-stu-id="8d7b3-244">% Disk Write Time</span></span> |<span data-ttu-id="8d7b3-245">r/s</span><span class="sxs-lookup"><span data-stu-id="8d7b3-245">r/s</span></span> <br> <span data-ttu-id="8d7b3-246">p/s</span><span class="sxs-lookup"><span data-stu-id="8d7b3-246">w/s</span></span> |
| <span data-ttu-id="8d7b3-247">**Przepływność**</span><span class="sxs-lookup"><span data-stu-id="8d7b3-247">**Throughput**</span></span> |<span data-ttu-id="8d7b3-248">Ilość danych odczytu lub zapisu toohello dysku na sekundę.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-248">Amount of data read from or written toohello disk per second.</span></span> |<span data-ttu-id="8d7b3-249">Bajty odczytu dysku/s</span><span class="sxs-lookup"><span data-stu-id="8d7b3-249">Disk Read Bytes/sec</span></span> <br> <span data-ttu-id="8d7b3-250">Bajty zapisu dysku/s</span><span class="sxs-lookup"><span data-stu-id="8d7b3-250">Disk Write Bytes/sec</span></span> |<span data-ttu-id="8d7b3-251">kB_read/s</span><span class="sxs-lookup"><span data-stu-id="8d7b3-251">kB_read/s</span></span> <br> <span data-ttu-id="8d7b3-252">kB_wrtn/s</span><span class="sxs-lookup"><span data-stu-id="8d7b3-252">kB_wrtn/s</span></span> |
| <span data-ttu-id="8d7b3-253">**Opóźnienie**</span><span class="sxs-lookup"><span data-stu-id="8d7b3-253">**Latency**</span></span> |<span data-ttu-id="8d7b3-254">Całkowity czas toocomplete żądania We/Wy dysku.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-254">Total time toocomplete a disk IO request.</span></span> |<span data-ttu-id="8d7b3-255">Średnia dysku w s/Odczyt</span><span class="sxs-lookup"><span data-stu-id="8d7b3-255">Average Disk sec/Read</span></span> <br> <span data-ttu-id="8d7b3-256">Średnia dysku w s/Zapis</span><span class="sxs-lookup"><span data-stu-id="8d7b3-256">Average disk sec/Write</span></span> |<span data-ttu-id="8d7b3-257">await</span><span class="sxs-lookup"><span data-stu-id="8d7b3-257">await</span></span> <br> <span data-ttu-id="8d7b3-258">svctm</span><span class="sxs-lookup"><span data-stu-id="8d7b3-258">svctm</span></span> |
| <span data-ttu-id="8d7b3-259">**Rozmiar operacji We/Wy**</span><span class="sxs-lookup"><span data-stu-id="8d7b3-259">**IO size**</span></span> |<span data-ttu-id="8d7b3-260">rozmiar Hello żądań We/Wy wystawia toohello dysków w magazynie.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-260">hello size of I/O requests issues toohello storage disks.</span></span> |<span data-ttu-id="8d7b3-261">Bajty odczytu dysku</span><span class="sxs-lookup"><span data-stu-id="8d7b3-261">Average Disk Bytes/Read</span></span> <br> <span data-ttu-id="8d7b3-262">Bajty zapisu dysku</span><span class="sxs-lookup"><span data-stu-id="8d7b3-262">Average Disk Bytes/Write</span></span> |<span data-ttu-id="8d7b3-263">avgrq sz</span><span class="sxs-lookup"><span data-stu-id="8d7b3-263">avgrq-sz</span></span> |
| <span data-ttu-id="8d7b3-264">**Głębokość kolejki**</span><span class="sxs-lookup"><span data-stu-id="8d7b3-264">**Queue Depth**</span></span> |<span data-ttu-id="8d7b3-265">Liczba oczekujących operacji We/Wy żądań toobe oczekiwania zapisu dysku magazynu toohello lub odczytu formularza.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-265">Number of outstanding I/O requests waiting toobe read form or written toohello storage disk.</span></span> |<span data-ttu-id="8d7b3-266">Bieżąca długość kolejki dysku</span><span class="sxs-lookup"><span data-stu-id="8d7b3-266">Current Disk Queue Length</span></span> |<span data-ttu-id="8d7b3-267">avgqu sz</span><span class="sxs-lookup"><span data-stu-id="8d7b3-267">avgqu-sz</span></span> |
| <span data-ttu-id="8d7b3-268">**Maks. Pamięci**</span><span class="sxs-lookup"><span data-stu-id="8d7b3-268">**Max. Memory**</span></span> |<span data-ttu-id="8d7b3-269">Ilość pamięci wymagana sprawnie toorun aplikacji</span><span class="sxs-lookup"><span data-stu-id="8d7b3-269">Amount of memory required toorun application smoothly</span></span> |<span data-ttu-id="8d7b3-270">Zadeklarowane bajty w użyciu (%)</span><span class="sxs-lookup"><span data-stu-id="8d7b3-270">% Committed Bytes in Use</span></span> |<span data-ttu-id="8d7b3-271">Użyj vmstat</span><span class="sxs-lookup"><span data-stu-id="8d7b3-271">Use vmstat</span></span> |
| <span data-ttu-id="8d7b3-272">**Maks. PROCESOR CPU**</span><span class="sxs-lookup"><span data-stu-id="8d7b3-272">**Max. CPU**</span></span> |<span data-ttu-id="8d7b3-273">Ilość Procesora wymaganej aplikacji toorun sprawnie</span><span class="sxs-lookup"><span data-stu-id="8d7b3-273">Amount CPU required toorun application smoothly</span></span> |<span data-ttu-id="8d7b3-274">Czas procesora (%)</span><span class="sxs-lookup"><span data-stu-id="8d7b3-274">% Processor time</span></span> |<span data-ttu-id="8d7b3-275">% util</span><span class="sxs-lookup"><span data-stu-id="8d7b3-275">%util</span></span> |

<span data-ttu-id="8d7b3-276">Dowiedz się więcej o [iostat](http://linuxcommand.org/man_pages/iostat1.html) i [PerfMon](https://msdn.microsoft.com/library/aa645516.aspx).</span><span class="sxs-lookup"><span data-stu-id="8d7b3-276">Learn more about [iostat](http://linuxcommand.org/man_pages/iostat1.html) and [PerfMon](https://msdn.microsoft.com/library/aa645516.aspx).</span></span>

## <a name="optimizing-application-performance"></a><span data-ttu-id="8d7b3-277">Optymalizacja wydajności aplikacji</span><span class="sxs-lookup"><span data-stu-id="8d7b3-277">Optimizing Application Performance</span></span>
<span data-ttu-id="8d7b3-278">Witaj główne czynniki wpływające na wydajność aplikacji uruchomionych na magazyn w warstwie Premium są charakter z żądania We/Wy, rozmiar maszyny Wirtualnej, rozmiar dysku, liczbę dysków, dysku pamięci podręcznej, Multithreading i głębokość kolejki.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-278">hello main factors that influence performance of an application running on Premium Storage are Nature of IO Requests, VM size, Disk size, Number of disks, Disk Caching, Multithreading and Queue Depth.</span></span> <span data-ttu-id="8d7b3-279">Niektóre z tych czynników można kontrolować z obsługiwanych przez hello system pokrętła.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-279">You can control some of these factors with knobs provided by hello system.</span></span> <span data-ttu-id="8d7b3-280">Większość aplikacji może nie zapewniają hello tooalter — opcja rozmiaru we/wy i głębokość kolejki bezpośrednio.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-280">Most applications may not give you an option tooalter hello IO size and Queue Depth directly.</span></span> <span data-ttu-id="8d7b3-281">Na przykład jeśli używasz programu SQL Server, nie można wybrać głębokość we/wy hello rozmiaru i kolejki.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-281">For example, if you are using SQL Server, you cannot choose hello IO size and queue depth.</span></span> <span data-ttu-id="8d7b3-282">SQL Server wybiera hello optymalne we/wy rozmiaru i kolejki głębokość wartości tooget hello większości wydajności.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-282">SQL Server chooses hello optimal IO size and queue depth values tooget hello most performance.</span></span> <span data-ttu-id="8d7b3-283">Jest ważne toounderstand hello skutków obu typów czynników na wydajność aplikacji, dzięki czemu można udostępnić odpowiednie zasoby toomeet wydajności potrzeb.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-283">It is important toounderstand hello effects of both types of factors on your application performance, so that you can provision appropriate resources toomeet performance needs.</span></span>

<span data-ttu-id="8d7b3-284">W tej sekcji można znaleźć toohello aplikacji wymagania listę kontrolną, która została utworzona, tooidentify ile potrzebujesz toooptimize wydajność aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-284">Throughout this section, refer toohello application requirements checklist that you created, tooidentify how much you need toooptimize your application performance.</span></span> <span data-ttu-id="8d7b3-285">Na podstawie, będzie możliwe toodetermine które czynniki w tej sekcji możesz należy tootune.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-285">Based on that, you will be able toodetermine which factors from this section you will need tootune.</span></span> <span data-ttu-id="8d7b3-286">toowitness hello skutków każdy czynnik na aplikacji wydajność, uruchom przeprowadzenia testów porównawczych narzędzia w ustawieniach aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-286">toowitness hello effects of each factor on your application performance, run benchmarking tools on your application setup.</span></span> <span data-ttu-id="8d7b3-287">Zobacz toohello [Benchmarking](#Benchmarking) sekcji na końcu hello tego artykułu toorun kroki wspólne, przeprowadzenia testów porównawczych narzędzia w systemach Windows i maszyn wirtualnych systemu Linux.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-287">Refer toohello [Benchmarking](#Benchmarking) section at hello end of this article for steps toorun common benchmarking tools on Windows and Linux VMs.</span></span>

### <a name="optimizing-iops-throughput-and-latency-at-a-glance"></a><span data-ttu-id="8d7b3-288">Optymalizacja IOPS, przepustowości i opóźnień w skrócie</span><span class="sxs-lookup"><span data-stu-id="8d7b3-288">Optimizing IOPS, Throughput and Latency at a glance</span></span>
<span data-ttu-id="8d7b3-289">w poniższej tabeli Hello podsumowanie wszystkich hello wydajności czynniki oraz hello kroki toooptimize IOPS, przepustowości i opóźnień.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-289">hello table below summarizes all hello performance factors and hello steps toooptimize IOPS, Throughput and Latency.</span></span> <span data-ttu-id="8d7b3-290">Witaj sekcjach poniżej to podsumowanie opisano każdy czynnik jest znacznie bardziej szczegółowo.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-290">hello sections following this summary will describe each factor is much more depth.</span></span>

| &nbsp; | <span data-ttu-id="8d7b3-291">**IOPS**</span><span class="sxs-lookup"><span data-stu-id="8d7b3-291">**IOPS**</span></span> | <span data-ttu-id="8d7b3-292">**Przepływność**</span><span class="sxs-lookup"><span data-stu-id="8d7b3-292">**Throughput**</span></span> | <span data-ttu-id="8d7b3-293">**Opóźnienie**</span><span class="sxs-lookup"><span data-stu-id="8d7b3-293">**Latency**</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="8d7b3-294">**Przykładowy scenariusz**</span><span class="sxs-lookup"><span data-stu-id="8d7b3-294">**Example Scenario**</span></span> |<span data-ttu-id="8d7b3-295">Enterprise OLTP aplikacji wymagających bardzo duże transakcje na drugi szybkości.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-295">Enterprise OLTP application requiring very high transactions per second rate.</span></span> |<span data-ttu-id="8d7b3-296">Magazynowania aplikacji przetwarzania dużych ilości danych danych przedsiębiorstwa.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-296">Enterprise Data warehousing application processing large amounts of data.</span></span> |<span data-ttu-id="8d7b3-297">Niemal w czasie rzeczywistym aplikacji wymagających odpowiedzi błyskawicznych toouser żądań, takich jak gier online.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-297">Near real-time applications requiring instant responses toouser requests, like online gaming.</span></span> |
| <span data-ttu-id="8d7b3-298">Czynniki wydajności</span><span class="sxs-lookup"><span data-stu-id="8d7b3-298">Performance factors</span></span> | &nbsp; | &nbsp; | &nbsp; |
| <span data-ttu-id="8d7b3-299">**Rozmiar operacji We/Wy**</span><span class="sxs-lookup"><span data-stu-id="8d7b3-299">**IO size**</span></span> |<span data-ttu-id="8d7b3-300">Mniejszego rozmiaru we/wy daje wyższa wartość IOPS.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-300">Smaller IO size yields higher IOPS.</span></span> |<span data-ttu-id="8d7b3-301">Większe tooyields rozmiaru we/wy wyższej przepustowości.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-301">Larger IO size tooyields higher Throughput.</span></span> | &nbsp;|
| <span data-ttu-id="8d7b3-302">**Rozmiar maszyny Wirtualnej**</span><span class="sxs-lookup"><span data-stu-id="8d7b3-302">**VM size**</span></span> |<span data-ttu-id="8d7b3-303">Użyj rozmiar maszyny Wirtualnej, który oferuje IOPS większą niż wymagań aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-303">Use a VM size that offers IOPS greater than your application requirement.</span></span> <span data-ttu-id="8d7b3-304">Zobacz rozmiarów maszyn wirtualnych i limity ich IOPS.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-304">See VM sizes and their IOPS limits here.</span></span> |<span data-ttu-id="8d7b3-305">Rozmiar maszyny Wirtualnej za pomocą limit przepływności większy od wymagań aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-305">Use a VM size with Throughput limit greater than your application requirement.</span></span> <span data-ttu-id="8d7b3-306">Zobacz rozmiarów maszyn wirtualnych i limity ich przepływności.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-306">See VM sizes and their Throughput limits here.</span></span> |<span data-ttu-id="8d7b3-307">Użyj rozmiar maszyny Wirtualnej, że oferty skalować limity większe wymagania Twojej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-307">Use a VM size that offers scale limits greater than your application requirement.</span></span> <span data-ttu-id="8d7b3-308">Zobacz rozmiarów maszyn wirtualnych i limity ich tutaj.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-308">See VM sizes and their limits here.</span></span> |
| <span data-ttu-id="8d7b3-309">**Rozmiar dysku**</span><span class="sxs-lookup"><span data-stu-id="8d7b3-309">**Disk size**</span></span> |<span data-ttu-id="8d7b3-310">Użyj rozmiar dysku, który oferuje IOPS większą niż wymagań aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-310">Use a disk size that offers IOPS greater than your application requirement.</span></span> <span data-ttu-id="8d7b3-311">Zobacz rozmiary dysków i limity ich IOPS.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-311">See disk sizes and their IOPS limits here.</span></span> |<span data-ttu-id="8d7b3-312">Rozmiar dysku za pomocą limit przepływności większy od wymagań aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-312">Use a disk size with Throughput limit greater than your application requirement.</span></span> <span data-ttu-id="8d7b3-313">Zobacz rozmiary dysków i limity ich przepływności.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-313">See disk sizes and their Throughput limits here.</span></span> |<span data-ttu-id="8d7b3-314">Użyj rozmiaru dysku, czy oferuje skalowanie limity większe wymagania Twojej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-314">Use a disk size that offers scale limits greater than your application requirement.</span></span> <span data-ttu-id="8d7b3-315">Zobacz rozmiary dysków i limity ich tutaj.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-315">See disk sizes and their limits here.</span></span> |
| <span data-ttu-id="8d7b3-316">**Maszyna wirtualna i limity skalowania dysku**</span><span class="sxs-lookup"><span data-stu-id="8d7b3-316">**VM and Disk Scale Limits**</span></span> |<span data-ttu-id="8d7b3-317">Wybrany rozmiar maszyny Wirtualnej hello limitu IOPS powinna być większa niż całkowita liczba IOPS regulowane przez dyski magazynu premium dołączony tooit.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-317">IOPS limit of hello VM size chosen should be greater than total IOPS driven by premium storage disks attached tooit.</span></span> |<span data-ttu-id="8d7b3-318">Limit przepustowości wybrany rozmiar maszyny Wirtualnej hello powinna być większa niż całkowita przepływność regulowane przez dyski magazynu premium dołączony tooit.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-318">Throughput limit of hello VM size chosen should be greater than total Throughput driven by premium storage disks attached tooit.</span></span> |<span data-ttu-id="8d7b3-319">Limity skalowania o wybrany rozmiar maszyny Wirtualnej hello musi być większa niż limity skalowania całkowita premium dołączonych dysków magazynowania.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-319">Scale limits of hello VM size chosen must be greater than total scale limits of attached premium storage disks.</span></span> |
| <span data-ttu-id="8d7b3-320">**Buforowanie dysku**</span><span class="sxs-lookup"><span data-stu-id="8d7b3-320">**Disk Caching**</span></span> |<span data-ttu-id="8d7b3-321">Włącz pamięć podręczną tylko do odczytu na dyski magazynu premium z tooget duże operacje odczytu wyższej IOPS odczytu.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-321">Enable ReadOnly Cache on premium storage disks with Read heavy operations tooget higher Read IOPS.</span></span> | &nbsp; |<span data-ttu-id="8d7b3-322">Włącz pamięć podręczną tylko do odczytu na dyski magazynu premium z bardzo małych opóźnień odczytu gotowy duże operacje tooget.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-322">Enable ReadOnly Cache on premium storage disks with Ready heavy operations tooget very low Read latencies.</span></span> |
| <span data-ttu-id="8d7b3-323">**Rozkładanie**</span><span class="sxs-lookup"><span data-stu-id="8d7b3-323">**Disk Striping**</span></span> |<span data-ttu-id="8d7b3-324">Przy użyciu wielu dysków i paskowych je razem tooget Scalonej wyższa wartość IOPS i limit przepływności.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-324">Use multiple disks and stripe them together tooget a combined higher IOPS and Throughput limit.</span></span> <span data-ttu-id="8d7b3-325">Należy pamiętać, że hello łączny limit dla maszyny Wirtualnej powinna być większa niż hello łączne limity premium dołączonych dysków.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-325">Note that hello combined limit per VM should be higher than hello combined limits of attached premium disks.</span></span> | &nbsp; | &nbsp; |
| <span data-ttu-id="8d7b3-326">**Rozmiar usługi STRIPE**</span><span class="sxs-lookup"><span data-stu-id="8d7b3-326">**Stripe Size**</span></span> |<span data-ttu-id="8d7b3-327">Mniejszy rozmiar stripe dla losowych małych wzorca we/wy w aplikacji OLTP.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-327">Smaller stripe size for random small IO pattern seen in OLTP applications.</span></span> <span data-ttu-id="8d7b3-328">Przykład dla aplikacji OLTP programu SQL Server za pomocą usługi stripe rozmiar 64KB.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-328">E.g., use stripe size of 64KB for SQL Server OLTP application.</span></span> |<span data-ttu-id="8d7b3-329">Większy rozmiar stripe sequential dużych wzorzec we/wy w magazynie danych aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-329">Larger stripe size for sequential large IO pattern seen in Data Warehouse applications.</span></span> <span data-ttu-id="8d7b3-330">Np. Użyj rozmiaru stripe 256KB dla aplikacji magazynu danych programu SQL Server.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-330">E.g., use 256KB stripe size for SQL Server Data warehouse application.</span></span> | &nbsp; |
| <span data-ttu-id="8d7b3-331">**Wielowątkowość**</span><span class="sxs-lookup"><span data-stu-id="8d7b3-331">**Multithreading**</span></span> |<span data-ttu-id="8d7b3-332">Użyj wielowątkowość toopush większej liczby żądań tooPremium magazynu, który prowadzi toohigher IOPS i przepustowość.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-332">Use multithreading toopush higher number of requests tooPremium Storage that will lead toohigher IOPS and Throughput.</span></span> <span data-ttu-id="8d7b3-333">Na przykład na serwerze SQL ustawić wysokiej tooallocate wartość MAXDOP więcej tooSQL procesorów serwera.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-333">For example, on SQL Server set a high MAXDOP value tooallocate more CPUs tooSQL Server.</span></span> | &nbsp; | &nbsp; |
| <span data-ttu-id="8d7b3-334">**Głębokość kolejki**</span><span class="sxs-lookup"><span data-stu-id="8d7b3-334">**Queue Depth**</span></span> |<span data-ttu-id="8d7b3-335">Głębokość kolejki większej daje wyższa wartość IOPS.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-335">Larger Queue Depth yields higher IOPS.</span></span> |<span data-ttu-id="8d7b3-336">Głębokość kolejki większej daje wyższej przepustowości.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-336">Larger Queue Depth yields higher Throughput.</span></span> |<span data-ttu-id="8d7b3-337">Mniejsze głębokość kolejki daje niższe opóźnienia.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-337">Smaller Queue Depth yields lower latencies.</span></span> |

## <a name="nature-of-io-requests"></a><span data-ttu-id="8d7b3-338">Rodzaj żądań We/Wy</span><span class="sxs-lookup"><span data-stu-id="8d7b3-338">Nature of IO Requests</span></span>
<span data-ttu-id="8d7b3-339">Żądania We/Wy jest jednostką operacji wejścia/wyjścia, której aplikacja będzie wykonywać.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-339">An IO request is a unit of input/output operation that your application will be performing.</span></span> <span data-ttu-id="8d7b3-340">Identyfikowanie hello rodzaj żądań We/Wy, losowych lub sekwencyjnych, odczytu lub zapisu, małych i dużych, pomoże określić wymagania dotyczące wydajności hello aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-340">Identifying hello nature of IO requests, random or sequential, read or write, small or large, will help you determine hello performance requirements of your application.</span></span> <span data-ttu-id="8d7b3-341">Jest bardzo ważne toounderstand hello rodzaj żądań We/Wy, toomake hello prawidłowych decyzji podczas projektowania infrastruktury aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-341">It is very important toounderstand hello nature of IO requests, toomake hello right decisions when designing your application infrastructure.</span></span>

<span data-ttu-id="8d7b3-342">Rozmiar operacji We/Wy jest jednym z hello bardziej ważne czynniki.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-342">IO size is one of hello more important factors.</span></span> <span data-ttu-id="8d7b3-343">Witaj rozmiaru we/wy jest rozmiarem hello hello żądania operacji wejścia/wyjścia wygenerowane przez aplikację.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-343">hello IO size is hello size of hello input/output operation request generated by your application.</span></span> <span data-ttu-id="8d7b3-344">Hello rozmiaru we/wy ma znaczący wpływ na wydajność, szczególnie w przypadku hello IOPS i przepustowości, jaką aplikacji hello jest tooachieve stanie.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-344">hello IO size has a significant impact on performance especially on hello IOPS and Bandwidth that hello application is able tooachieve.</span></span> <span data-ttu-id="8d7b3-345">Witaj następująca formuła zawiera hello relacji między IOPS, rozmiaru we/wy i przepustowości/przepływności.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-345">hello following formula shows hello relationship between IOPS, IO size and Bandwidth/Throughput.</span></span>  
    ![](media/storage-premium-storage-performance/image1.png)

<span data-ttu-id="8d7b3-346">Niektóre aplikacje pozwalają tooalter rozmiar ich we/wy, gdy niektóre aplikacje nie.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-346">Some applications allow you tooalter their IO size, while some applications do not.</span></span> <span data-ttu-id="8d7b3-347">Na przykład programu SQL Server określa hello optymalny we/wy rozmiar się i nie zapewnia użytkowników z dowolnego toochange pokrętła go.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-347">For example, SQL Server determines hello optimal IO size itself, and does not provide users with any knobs toochange it.</span></span> <span data-ttu-id="8d7b3-348">Na hello drugiej strony, Oracle zawiera parametr o nazwie [DB\_ZABLOKOWAĆ\_rozmiar](https://docs.oracle.com/cd/B19306_01/server.102/b14211/iodesign.htm#i28815) za pomocą którego można skonfigurować hello rozmiar żądania We/Wy hello bazy danych.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-348">On hello other hand, Oracle provides a parameter called [DB\_BLOCK\_SIZE](https://docs.oracle.com/cd/B19306_01/server.102/b14211/iodesign.htm#i28815) using which you can configure hello I/O request size of hello database.</span></span>

<span data-ttu-id="8d7b3-349">Jeśli używasz aplikacji, która nie zezwala na możesz toochange hello rozmiaru we/wy, użyj wytycznych hello tego artykułu toooptimize hello wydajność kluczowych wskaźników wydajności, który jest najbardziej odpowiednia aplikacja tooyour.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-349">If you are using an application, which does not allow you toochange hello IO size, use hello guidelines in this article toooptimize hello performance KPI that is most relevant tooyour application.</span></span> <span data-ttu-id="8d7b3-350">Na przykład:</span><span class="sxs-lookup"><span data-stu-id="8d7b3-350">For example,</span></span>

* <span data-ttu-id="8d7b3-351">Aplikacja OLTP generuje miliony małych i losowe żądań We/Wy.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-351">An OLTP application generates millions of small and random IO requests.</span></span> <span data-ttu-id="8d7b3-352">żąda toohandle te typu we/wy, należy zaprojektować tooget infrastruktury Twojej aplikacji wyższa wartość IOPS.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-352">toohandle these type of IO requests, you must design your application infrastructure tooget higher IOPS.</span></span>  
* <span data-ttu-id="8d7b3-353">Aplikacja magazynowania danych generuje duży i kolejnych żądań We/Wy.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-353">A data warehousing application generates large and sequential IO requests.</span></span> <span data-ttu-id="8d7b3-354">toohandle te wpisz żądań We/Wy, należy zaprojektować tooget infrastruktury aplikacji większej przepustowości lub przepływności.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-354">toohandle these type of IO requests, you must design your application infrastructure tooget higher Bandwidth or Throughput.</span></span>

<span data-ttu-id="8d7b3-355">Jeśli używasz aplikacji, dzięki czemu rozmiar we/wy hello toochange, użyj tego zasadą dla hello we/wy dodatkowo rozmiaru tooother wskazówki dotyczące wydajności,</span><span class="sxs-lookup"><span data-stu-id="8d7b3-355">If you are using an application, which allows you toochange hello IO size, use this rule of thumb for hello IO size in addition tooother performance guidelines,</span></span>

* <span data-ttu-id="8d7b3-356">Mniejsze tooget rozmiaru we/wy wyższa wartość IOPS.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-356">Smaller IO size tooget higher IOPS.</span></span> <span data-ttu-id="8d7b3-357">Na przykład 8 KB aplikacji OLTP.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-357">For example, 8 KB for an OLTP application.</span></span>  
* <span data-ttu-id="8d7b3-358">Większe tooget rozmiaru we/wy wyższej przepustowości/przepustowości.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-358">Larger IO size tooget higher Bandwidth/Throughput.</span></span> <span data-ttu-id="8d7b3-359">Na przykład 1024 KB dla aplikacji magazynu danych.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-359">For example, 1024 KB for a data warehouse application.</span></span>

<span data-ttu-id="8d7b3-360">Oto przykład na obliczenie hello IOPS i przepływności/przepustowość dla aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-360">Here is an example on how you can calculate hello IOPS and Throughput/Bandwidth for your application.</span></span> <span data-ttu-id="8d7b3-361">Należy wziąć pod uwagę przy użyciu dysku P30 aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-361">Consider an application using a P30 disk.</span></span> <span data-ttu-id="8d7b3-362">Witaj maksymalna liczba IOPS i dysku P30 można osiągnąć przepływności/przepustowości jest 5000 IOPS i 200 MB na sekundę odpowiednio.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-362">hello maximum IOPS and Throughput/Bandwidth a P30 disk can achieve is 5000 IOPS and 200 MB per second respectively.</span></span> <span data-ttu-id="8d7b3-363">Teraz Jeśli aplikacja wymaga hello maksymalna liczba IOPS z dysku hello P30 i użyć mniejszego rozmiaru we/wy, takich jak 8 KB hello wynikowa przepustowości będzie tooget możliwe jest 40 MB na sekundę.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-363">Now, if your application requires hello maximum IOPS from hello P30 disk and you use a smaller IO size like 8 KB, hello resulting Bandwidth you will be able tooget is 40 MB per second.</span></span> <span data-ttu-id="8d7b3-364">Jednak jeśli aplikacja wymaga hello maksymalnej przepływności/przepustowości z dysku P30 i używać większego rozmiaru we/wy, takich jak 1024 KB, hello IOPS wynikowy będzie mniejsza, 200 IOPS.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-364">However, if your application requires hello maximum Throughput/Bandwidth from P30 disk, and you use a larger IO size like 1024 KB, hello resulting IOPS will be less, 200 IOPS.</span></span> <span data-ttu-id="8d7b3-365">W związku z tym dostroić hello rozmiaru we/wy, tak, że spełnia on wymagania IOPS i przepływności/przepustowość zarówno Twojej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-365">Therefore, tune hello IO size such that it meets both your application's IOPS and Throughput/Bandwidth requirement.</span></span> <span data-ttu-id="8d7b3-366">W poniższej tabeli przedstawiono dysku P30 hello różne rozmiary we/wy oraz ich odpowiednich IOPS i przepływności.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-366">Table below summarizes hello different IO sizes and their corresponding IOPS and Throughput for a P30 disk.</span></span>

| <span data-ttu-id="8d7b3-367">Wymagania aplikacji</span><span class="sxs-lookup"><span data-stu-id="8d7b3-367">Application Requirement</span></span> | <span data-ttu-id="8d7b3-368">Rozmiar operacji We/Wy</span><span class="sxs-lookup"><span data-stu-id="8d7b3-368">I/O size</span></span> | <span data-ttu-id="8d7b3-369">Operacje wejścia/wyjścia</span><span class="sxs-lookup"><span data-stu-id="8d7b3-369">IOPS</span></span> | <span data-ttu-id="8d7b3-370">Przepływność/przepustowość</span><span class="sxs-lookup"><span data-stu-id="8d7b3-370">Throughput/Bandwidth</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="8d7b3-371">Maksymalna liczba IOPS</span><span class="sxs-lookup"><span data-stu-id="8d7b3-371">Max IOPS</span></span> |<span data-ttu-id="8d7b3-372">8 KB</span><span class="sxs-lookup"><span data-stu-id="8d7b3-372">8 KB</span></span> |<span data-ttu-id="8d7b3-373">5,000</span><span class="sxs-lookup"><span data-stu-id="8d7b3-373">5,000</span></span> |<span data-ttu-id="8d7b3-374">40 MB na sekundę</span><span class="sxs-lookup"><span data-stu-id="8d7b3-374">40 MB per second</span></span> |
| <span data-ttu-id="8d7b3-375">Przepustowość maksymalna</span><span class="sxs-lookup"><span data-stu-id="8d7b3-375">Max Throughput</span></span> |<span data-ttu-id="8d7b3-376">1024 KB</span><span class="sxs-lookup"><span data-stu-id="8d7b3-376">1024 KB</span></span> |<span data-ttu-id="8d7b3-377">200</span><span class="sxs-lookup"><span data-stu-id="8d7b3-377">200</span></span> |<span data-ttu-id="8d7b3-378">200 MB / s</span><span class="sxs-lookup"><span data-stu-id="8d7b3-378">200 MB per second</span></span> |
| <span data-ttu-id="8d7b3-379">Maksymalna przepustowość + wysokiej IOPS</span><span class="sxs-lookup"><span data-stu-id="8d7b3-379">Max Throughput + high IOPS</span></span> |<span data-ttu-id="8d7b3-380">64 KB</span><span class="sxs-lookup"><span data-stu-id="8d7b3-380">64 KB</span></span> |<span data-ttu-id="8d7b3-381">3,200</span><span class="sxs-lookup"><span data-stu-id="8d7b3-381">3,200</span></span> |<span data-ttu-id="8d7b3-382">200 MB / s</span><span class="sxs-lookup"><span data-stu-id="8d7b3-382">200 MB per second</span></span> |
| <span data-ttu-id="8d7b3-383">Maksymalna liczba IOPS + wysokiej przepływności</span><span class="sxs-lookup"><span data-stu-id="8d7b3-383">Max IOPS + high Throughput</span></span> |<span data-ttu-id="8d7b3-384">32 KB.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-384">32 KB</span></span> |<span data-ttu-id="8d7b3-385">5,000</span><span class="sxs-lookup"><span data-stu-id="8d7b3-385">5,000</span></span> |<span data-ttu-id="8d7b3-386">160 MB na sekundę</span><span class="sxs-lookup"><span data-stu-id="8d7b3-386">160 MB per second</span></span> |

<span data-ttu-id="8d7b3-387">tooget IOPS i przepustowości wyższa niż wartość maksymalna hello dysku magazynu premium w jednym używać wielu dysków w warstwie premium rozkładane razem.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-387">tooget IOPS and Bandwidth higher than hello maximum value of a single premium storage disk, use multiple premium disks striped together.</span></span> <span data-ttu-id="8d7b3-388">Na przykład paskowych dwóch tooget dysków P30 łączna liczba IOPS z 10 000 IOPS lub łączna przepustowość 400 MB na sekundę.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-388">For example, stripe two P30 disks tooget a combined IOPS of 10,000 IOPS or a combined Throughput of 400 MB per second.</span></span> <span data-ttu-id="8d7b3-389">Zgodnie z objaśnieniem w następnej sekcji hello, musisz użyć rozmiaru maszyny Wirtualnej, obsługującego dysku hello łączyć IOPS i przepływności.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-389">As explained in hello next section, you must use a VM size that supports hello combined disk IOPS and Throughput.</span></span>

> [!NOTE]
> <span data-ttu-id="8d7b3-390">Jak zwiększyć albo IOPS lub przepływności hello innych zwiększa się również, upewnij się, że nie naciśnięciu przepływności lub limity liczby hello dysku lub maszyny Wirtualnej podczas zwiększenie dowolnego z nich.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-390">As you increase either IOPS or Throughput hello other also increases, make sure you do not hit throughput or IOPS limits of hello disk or VM when increasing either one.</span></span>
>
>

<span data-ttu-id="8d7b3-391">toowitness hello skutków rozmiaru we/wy na wydajność aplikacji, można uruchomić narzędzia najlepszymi na maszyny Wirtualnej i dysków.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-391">toowitness hello effects of IO size on application performance, you can run benchmarking tools on your VM and disks.</span></span> <span data-ttu-id="8d7b3-392">Tworzenie wielu uruchomień testów i użyj innego rozmiaru we/wy dla każdego wpływ hello toosee wykonywania.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-392">Create multiple test runs and use different IO size for each run toosee hello impact.</span></span> <span data-ttu-id="8d7b3-393">Zobacz toohello [Benchmarking](#Benchmarking) sekcji na końcu hello w tym artykule, aby uzyskać więcej informacji.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-393">Refer toohello [Benchmarking](#Benchmarking) section at hello end of this article for more details.</span></span>

## <a name="high-scale-vm-sizes"></a><span data-ttu-id="8d7b3-394">Wysoka skalowalność rozmiarów maszyn wirtualnych</span><span class="sxs-lookup"><span data-stu-id="8d7b3-394">High Scale VM Sizes</span></span>
<span data-ttu-id="8d7b3-395">Po ponownym uruchomieniu, projektowania aplikacji, co pierwszy toodo rzeczy hello jest, wybierz toohost maszyny Wirtualnej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-395">When you start designing an application, one of hello first things toodo is, choose a VM toohost your application.</span></span> <span data-ttu-id="8d7b3-396">Magazyn w warstwie Premium jest dostarczany z rozmiary wysokiej skali maszyny Wirtualnej, które można uruchomić aplikacji wymagających wyższej moc obliczeniową i wysokiej wydajności We/Wy dysku lokalnym.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-396">Premium Storage comes with High Scale VM sizes that can run applications requiring higher compute power and a high local disk I/O performance.</span></span> <span data-ttu-id="8d7b3-397">Te maszyny wirtualne zapewniają szybkich procesorów, większy współczynnik pamięci — podstawowe i Solid-State Drive (SSD) dla dysku lokalne powitania.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-397">These VMs provide faster processors, a higher memory-to-core ratio, and a Solid-State Drive (SSD) for hello local disk.</span></span> <span data-ttu-id="8d7b3-398">Przykłady wysokiej skali maszyny wirtualne obsługujące magazyn w warstwie Premium hello DS, DSv2 i GS serii maszyn wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-398">Examples of High Scale VMs supporting Premium Storage are hello DS, DSv2 and GS series VMs.</span></span>

<span data-ttu-id="8d7b3-399">Wysokiej skali maszyny wirtualne są dostępne w różnych rozmiarach z różną liczbę rdzeni Procesora, pamięci, systemu operacyjnego i rozmiar dysku tymczasowym.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-399">High Scale VMs are available in different sizes with a different number of CPU cores, memory, OS and temporary disk size.</span></span> <span data-ttu-id="8d7b3-400">Rozmiar każdej maszyny Wirtualnej ma również maksymalna liczba dysków danych dołączenie toohello maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-400">Each VM size also has maximum number of data disks that you can attach toohello VM.</span></span> <span data-ttu-id="8d7b3-401">W związku z tym hello wybrany rozmiar maszyny Wirtualnej będzie miało wpływ na pojemność przydzielaną przetwarzania, pamięci oraz Magazyn jest dostępny dla twojej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-401">Therefore, hello chosen VM size will affect how much processing, memory, and storage capacity is available for your application.</span></span> <span data-ttu-id="8d7b3-402">Dotyczy również hello obliczeniowych i przestrzeni magazynowej.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-402">It also affects hello Compute and Storage cost.</span></span> <span data-ttu-id="8d7b3-403">Na przykład poniżej przedstawiono specyfikacje hello hello największy rozmiar maszyny Wirtualnej w serii DS, DSv2 serii i serii GS:</span><span class="sxs-lookup"><span data-stu-id="8d7b3-403">For example, below are hello specifications of hello largest VM size in a DS series, DSv2 series and a GS series:</span></span>

| <span data-ttu-id="8d7b3-404">Rozmiar maszyny wirtualnej</span><span class="sxs-lookup"><span data-stu-id="8d7b3-404">VM size</span></span> | <span data-ttu-id="8d7b3-405">Rdzenie procesora CPU</span><span class="sxs-lookup"><span data-stu-id="8d7b3-405">CPU cores</span></span> | <span data-ttu-id="8d7b3-406">Memory (Pamięć)</span><span class="sxs-lookup"><span data-stu-id="8d7b3-406">Memory</span></span> | <span data-ttu-id="8d7b3-407">Rozmiary dysków maszyny Wirtualnej</span><span class="sxs-lookup"><span data-stu-id="8d7b3-407">VM disk sizes</span></span> | <span data-ttu-id="8d7b3-408">Maksymalnie z</span><span class="sxs-lookup"><span data-stu-id="8d7b3-408">Max.</span></span> <span data-ttu-id="8d7b3-409">Dyski danych</span><span class="sxs-lookup"><span data-stu-id="8d7b3-409">data disks</span></span> | <span data-ttu-id="8d7b3-410">Rozmiar pamięci podręcznej</span><span class="sxs-lookup"><span data-stu-id="8d7b3-410">Cache size</span></span> | <span data-ttu-id="8d7b3-411">Operacje wejścia/wyjścia</span><span class="sxs-lookup"><span data-stu-id="8d7b3-411">IOPS</span></span> | <span data-ttu-id="8d7b3-412">Limity przepustowości we/wy w pamięci podręcznej</span><span class="sxs-lookup"><span data-stu-id="8d7b3-412">Bandwidth Cache IO limits</span></span> |
| --- | --- | --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="8d7b3-413">Standardowa_DS14</span><span class="sxs-lookup"><span data-stu-id="8d7b3-413">Standard_DS14</span></span> |<span data-ttu-id="8d7b3-414">16</span><span class="sxs-lookup"><span data-stu-id="8d7b3-414">16</span></span> |<span data-ttu-id="8d7b3-415">112 GB</span><span class="sxs-lookup"><span data-stu-id="8d7b3-415">112 GB</span></span> |<span data-ttu-id="8d7b3-416">SYSTEM OPERACYJNY = 1023 GB.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-416">OS = 1023 GB</span></span> <br> <span data-ttu-id="8d7b3-417">Lokalny dysk SSD = 224 GB</span><span class="sxs-lookup"><span data-stu-id="8d7b3-417">Local SSD = 224 GB</span></span> |<span data-ttu-id="8d7b3-418">32</span><span class="sxs-lookup"><span data-stu-id="8d7b3-418">32</span></span> |<span data-ttu-id="8d7b3-419">576 GB</span><span class="sxs-lookup"><span data-stu-id="8d7b3-419">576 GB</span></span> |<span data-ttu-id="8d7b3-420">50 000 IOPS</span><span class="sxs-lookup"><span data-stu-id="8d7b3-420">50,000 IOPS</span></span> <br> <span data-ttu-id="8d7b3-421">512 MB na sekundę</span><span class="sxs-lookup"><span data-stu-id="8d7b3-421">512 MB per second</span></span> |<span data-ttu-id="8d7b3-422">4000 IOPS i 33 MB na sekundę</span><span class="sxs-lookup"><span data-stu-id="8d7b3-422">4,000 IOPS and 33 MB per second</span></span> |
| <span data-ttu-id="8d7b3-423">Standard_GS5</span><span class="sxs-lookup"><span data-stu-id="8d7b3-423">Standard_GS5</span></span> |<span data-ttu-id="8d7b3-424">32</span><span class="sxs-lookup"><span data-stu-id="8d7b3-424">32</span></span> |<span data-ttu-id="8d7b3-425">448 GB</span><span class="sxs-lookup"><span data-stu-id="8d7b3-425">448 GB</span></span> |<span data-ttu-id="8d7b3-426">SYSTEM OPERACYJNY = 1023 GB.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-426">OS = 1023 GB</span></span> <br> <span data-ttu-id="8d7b3-427">Lokalny dysk SSD = 896 GB</span><span class="sxs-lookup"><span data-stu-id="8d7b3-427">Local SSD = 896 GB</span></span> |<span data-ttu-id="8d7b3-428">64</span><span class="sxs-lookup"><span data-stu-id="8d7b3-428">64</span></span> |<span data-ttu-id="8d7b3-429">4224 GB</span><span class="sxs-lookup"><span data-stu-id="8d7b3-429">4224 GB</span></span> |<span data-ttu-id="8d7b3-430">80 000 IOPS</span><span class="sxs-lookup"><span data-stu-id="8d7b3-430">80,000 IOPS</span></span> <br> <span data-ttu-id="8d7b3-431">2000 MB na sekundę</span><span class="sxs-lookup"><span data-stu-id="8d7b3-431">2,000 MB per second</span></span> |<span data-ttu-id="8d7b3-432">5000 IOPS i 50 MB / s</span><span class="sxs-lookup"><span data-stu-id="8d7b3-432">5,000 IOPS and 50 MB per second</span></span> |

<span data-ttu-id="8d7b3-433">tooview pełną listę wszystkich dostępnych rozmiarów maszyny Wirtualnej platformy Azure można znaleźć zbyt[rozmiarów maszyn wirtualnych systemu Windows](../../virtual-machines/windows/sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) lub [rozmiarów maszyn wirtualnych systemu Linux](../../virtual-machines/windows/sizes.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="8d7b3-433">tooview a complete list of all available Azure VM sizes, refer too[Windows VM sizes](../../virtual-machines/windows/sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) or [Linux VM sizes](../../virtual-machines/windows/sizes.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span> <span data-ttu-id="8d7b3-434">Wybierz rozmiar maszyny Wirtualnej, które mogą zaspokoić i skali tooyour potrzeby wymagania dotyczące wydajności aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-434">Choose a VM size that can meet and scale tooyour desired application performance requirements.</span></span> <span data-ttu-id="8d7b3-435">Ponadto toothis, uwzględniać następujące istotne kwestie, wybierając rozmiarów maszyn wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-435">In addition toothis, take into account following important considerations when choosing VM sizes.</span></span>

<span data-ttu-id="8d7b3-436">*Limity skalowania*</span><span class="sxs-lookup"><span data-stu-id="8d7b3-436">*Scale Limits*</span></span>  
<span data-ttu-id="8d7b3-437">Hello maksymalną wartością IOPS dla poszczególnych maszyn wirtualnych i dysk są różne i od siebie niezależne.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-437">hello maximum IOPS limits per VM and per disk are different and independent of each other.</span></span> <span data-ttu-id="8d7b3-438">Upewnij się, że aplikacja hello sterujące IOPS w granicach hello hello maszyny Wirtualnej, a także tooit dołączonych dysków premium hello.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-438">Make sure that hello application is driving IOPS within hello limits of hello VM as well as hello premium disks attached tooit.</span></span> <span data-ttu-id="8d7b3-439">W przeciwnym razie wydajności aplikacji może wystąpić ograniczenie.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-439">Otherwise, application performance will experience throttling.</span></span>

<span data-ttu-id="8d7b3-440">Na przykład załóżmy, że wymagania aplikacji jest maksymalnie 4000 IOPS.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-440">As an example, suppose an application requirement is a maximum of 4,000 IOPS.</span></span> <span data-ttu-id="8d7b3-441">tooachieve P30 dysku na maszynie Wirtualnej DS1, należy udostępnić.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-441">tooachieve this, you provision a P30 disk on a DS1 VM.</span></span> <span data-ttu-id="8d7b3-442">Witaj P30 dysku może dostarczać too5, 000 IOPS.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-442">hello P30 disk can deliver up too5,000 IOPS.</span></span> <span data-ttu-id="8d7b3-443">Hello DS1 maszyna wirtualna jest jednak ograniczona too3, 200 IOPS.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-443">However, hello DS1 VM is limited too3,200 IOPS.</span></span> <span data-ttu-id="8d7b3-444">W rezultacie wydajność aplikacji hello będzie ograniczone przez hello wirtualna limitu 3,200 IOPS i będzie pogorszenie wydajności.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-444">Consequently, hello application performance will be constrained by hello VM limit at 3,200 IOPS and there will be degraded performance.</span></span> <span data-ttu-id="8d7b3-445">tooprevent tej sytuacji, wybierz Maszynę wirtualną, a rozmiar, który będzie zarówno aplikacji spełniają wymagania dotyczące dysku.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-445">tooprevent this situation, choose a VM and disk size that will both meet application requirements.</span></span>

<span data-ttu-id="8d7b3-446">*Koszt operacji*</span><span class="sxs-lookup"><span data-stu-id="8d7b3-446">*Cost of Operation*</span></span>  
<span data-ttu-id="8d7b3-447">W wielu przypadkach istnieje możliwość, że Twoje całkowity koszt operację przy użyciu magazyn w warstwie Premium jest niższa niż przy użyciu magazynu w warstwie standardowa.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-447">In many cases, it is possible that your overall cost of operation using Premium Storage is lower than using Standard Storage.</span></span>

<span data-ttu-id="8d7b3-448">Rozważmy na przykład aplikacji wymagających 16 000 IOPS.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-448">For example, consider an application requiring 16,000 IOPS.</span></span> <span data-ttu-id="8d7b3-449">tooachieve to wydajność, konieczne będzie Standard\_D14 IaaS maszyny Wirtualnej platformy Azure, której można nadać maksymalną liczbę IOPS 16000 przy użyciu 32 dyskach 1 TB magazynu w warstwie standardowa.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-449">tooachieve this performance, you will need a Standard\_D14 Azure IaaS VM, which can give a maximum IOPS of 16,000 using 32 standard storage 1TB disks.</span></span> <span data-ttu-id="8d7b3-450">Każdy dysk magazynu w warstwie standardowa 1TB, można osiągnąć maksymalnie 500 IOPS.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-450">Each 1TB standard storage disk can achieve a maximum of 500 IOPS.</span></span> <span data-ttu-id="8d7b3-451">Witaj szacowany koszt tej maszyny Wirtualnej na miesiąc będą 1,570 $.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-451">hello estimated cost of this VM per month will be $1,570.</span></span> <span data-ttu-id="8d7b3-452">miesięczny koszt Hello 32 dyski magazynu w warstwie standardowa będzie 1,638 $.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-452">hello monthly cost of 32 standard storage disks will be $1,638.</span></span> <span data-ttu-id="8d7b3-453">Witaj szacowany całkowity miesięczny koszt będzie 3,208 $.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-453">hello estimated total monthly cost will be $3,208.</span></span>

<span data-ttu-id="8d7b3-454">Jednak jeśli użytkownik jest hostowany hello sama aplikacja na magazyn w warstwie Premium, konieczne będzie mniejszego rozmiaru maszyny Wirtualnej i mniej dyski magazynu premium, co zmniejsza całkowity koszt hello.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-454">However, if you hosted hello same application on Premium Storage, you will need a smaller VM size and fewer premium storage disks, thus reducing hello overall cost.</span></span> <span data-ttu-id="8d7b3-455">Standard\_DS13 maszyny Wirtualnej można wymaganie hello 16000 IOPS za pomocą czterech P30 dysków.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-455">A Standard\_DS13 VM can meet hello 16,000 IOPS requirement using four P30 disks.</span></span> <span data-ttu-id="8d7b3-456">Hello DS13 maszyny Wirtualnej ma maksymalne IOPS 25,600, a każdy dysk P30 ma maksymalne IOPS 5000.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-456">hello DS13 VM has a maximum IOPS of 25,600 and each P30 disk has a maximum IOPS of 5,000.</span></span> <span data-ttu-id="8d7b3-457">Ogólne, ta konfiguracja może osiągnąć 5000 x 4 = 20 000 IOPS.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-457">Overall, this configuration can achieve 5,000 x 4 = 20,000 IOPS.</span></span> <span data-ttu-id="8d7b3-458">Witaj szacowany koszt tej maszyny Wirtualnej na miesiąc będą 1,003 $.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-458">hello estimated cost of this VM per month will be $1,003.</span></span> <span data-ttu-id="8d7b3-459">miesięczny koszt cztery dyski magazynu premium P30 Hello będzie 544.34 $.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-459">hello monthly cost of four P30 premium storage disks will be $544.34.</span></span> <span data-ttu-id="8d7b3-460">Witaj szacowany całkowity miesięczny koszt będzie 1,544 $.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-460">hello estimated total monthly cost will be $1,544.</span></span>

<span data-ttu-id="8d7b3-461">W poniższej tabeli przedstawiono podziału kosztów hello tego scenariusza Standard i Premium Storage.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-461">Table below summarizes hello cost breakdown of this scenario for Standard and Premium Storage.</span></span>

| &nbsp; | <span data-ttu-id="8d7b3-462">**Standardowa**</span><span class="sxs-lookup"><span data-stu-id="8d7b3-462">**Standard**</span></span> | <span data-ttu-id="8d7b3-463">**Premium**</span><span class="sxs-lookup"><span data-stu-id="8d7b3-463">**Premium**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="8d7b3-464">**Koszt maszyny wirtualnej na miesiąc**</span><span class="sxs-lookup"><span data-stu-id="8d7b3-464">**Cost of VM per month**</span></span> |<span data-ttu-id="8d7b3-465">1,570.58 $ (standardowa\_D14)</span><span class="sxs-lookup"><span data-stu-id="8d7b3-465">$1,570.58 (Standard\_D14)</span></span> |<span data-ttu-id="8d7b3-466">1,003.66 $ (standardowa\_DS13)</span><span class="sxs-lookup"><span data-stu-id="8d7b3-466">$1,003.66 (Standard\_DS13)</span></span> |
| <span data-ttu-id="8d7b3-467">**Koszt dysków na miesiąc**</span><span class="sxs-lookup"><span data-stu-id="8d7b3-467">**Cost of Disks per month**</span></span> |<span data-ttu-id="8d7b3-468">$1,638.40 (dyski 32 x 1 TB)</span><span class="sxs-lookup"><span data-stu-id="8d7b3-468">$1,638.40 (32 x 1 TB disks)</span></span> |<span data-ttu-id="8d7b3-469">$544.34 (4 dyski x P30)</span><span class="sxs-lookup"><span data-stu-id="8d7b3-469">$544.34 (4 x P30 disks)</span></span> |
| <span data-ttu-id="8d7b3-470">**Całkowity koszt na miesiąc**</span><span class="sxs-lookup"><span data-stu-id="8d7b3-470">**Overall Cost per month**</span></span> |<span data-ttu-id="8d7b3-471">$3,208.98</span><span class="sxs-lookup"><span data-stu-id="8d7b3-471">$3,208.98</span></span> |<span data-ttu-id="8d7b3-472">$1,544.34</span><span class="sxs-lookup"><span data-stu-id="8d7b3-472">$1,544.34</span></span> |

<span data-ttu-id="8d7b3-473">*Dystrybucjach systemu Linux*</span><span class="sxs-lookup"><span data-stu-id="8d7b3-473">*Linux Distros*</span></span>  

<span data-ttu-id="8d7b3-474">Usługa Azure Premium Storage, możesz uzyskać hello tego samego poziomu wydajności dla maszyn wirtualnych z systemem Windows i Linux.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-474">With Azure Premium Storage, you get hello same level of Performance for VMs running Windows and Linux.</span></span> <span data-ttu-id="8d7b3-475">Firma Microsoft obsługuje wiele odmian dystrybucjach systemu Linux, aby zobaczyć pełną listę hello [tutaj](../../virtual-machines/linux/endorsed-distros.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="8d7b3-475">We support many flavors of Linux distros, and you can see hello complete list [here](../../virtual-machines/linux/endorsed-distros.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span> <span data-ttu-id="8d7b3-476">Jest ważne, toonote czy różnych dystrybucjach są lepiej dopasowane do różnych rodzajów obciążeń.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-476">It is important toonote that different distros are better suited for different types of workloads.</span></span> <span data-ttu-id="8d7b3-477">Zostanie wyświetlone różne poziomy wydajności w zależności od distro hello, obciążenie na którym działa.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-477">You will see different levels of performance depending on hello distro your workload is running on.</span></span> <span data-ttu-id="8d7b3-478">Testowanie hello dystrybucjach systemu Linux z aplikacją, a następnie wybierz hello, który najlepiej.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-478">Test hello Linux distros with your application and choose hello one that works best.</span></span>

<span data-ttu-id="8d7b3-479">Podczas uruchamiania systemu Linux z magazyn w warstwie Premium, Sprawdź najnowsze aktualizacje hello o wysokiej wydajności tooensure wymagane sterowniki.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-479">When running Linux with Premium Storage, check hello latest updates about required drivers tooensure high performance.</span></span>

## <a name="premium-storage-disk-sizes"></a><span data-ttu-id="8d7b3-480">Rozmiary dysków Premium magazynu</span><span class="sxs-lookup"><span data-stu-id="8d7b3-480">Premium Storage Disk Sizes</span></span>
<span data-ttu-id="8d7b3-481">Usługa Azure Premium Storage oferuje obecnie siedem rozmiary dysków.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-481">Azure Premium Storage offers seven disk sizes currently.</span></span> <span data-ttu-id="8d7b3-482">Rozmiar każdego dysku ma limit innej skali IOPS, przepustowości i magazynu.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-482">Each disk size has a different scale limit for IOPS, Bandwidth and Storage.</span></span> <span data-ttu-id="8d7b3-483">Wybieranie właściwego rozmiaru dysku magazynu Premium hello w zależności od wymagań aplikacji hello i hello dużą skalę rozmiaru maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-483">Choose hello right Premium Storage Disk size depending on hello application requirements and hello high scale VM size.</span></span> <span data-ttu-id="8d7b3-484">Witaj w poniższej tabeli przedstawiono hello siedmiu dysków rozmiary i ich funkcji.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-484">hello table below shows hello seven disks sizes and their capabilities.</span></span> <span data-ttu-id="8d7b3-485">Rozmiary P4 i P6 są obecnie obsługiwane tylko w przypadku zarządzania dyskami.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-485">P4 and P6 sizes are currently only supported for Managed Disks.</span></span>

| <span data-ttu-id="8d7b3-486">Typ dysków Premium</span><span class="sxs-lookup"><span data-stu-id="8d7b3-486">Premium Disks Type</span></span>  | <span data-ttu-id="8d7b3-487">P4</span><span class="sxs-lookup"><span data-stu-id="8d7b3-487">P4</span></span>    | <span data-ttu-id="8d7b3-488">P6</span><span class="sxs-lookup"><span data-stu-id="8d7b3-488">P6</span></span>    | <span data-ttu-id="8d7b3-489">P10</span><span class="sxs-lookup"><span data-stu-id="8d7b3-489">P10</span></span>   | <span data-ttu-id="8d7b3-490">P20</span><span class="sxs-lookup"><span data-stu-id="8d7b3-490">P20</span></span>   | <span data-ttu-id="8d7b3-491">P30</span><span class="sxs-lookup"><span data-stu-id="8d7b3-491">P30</span></span>   | <span data-ttu-id="8d7b3-492">P40</span><span class="sxs-lookup"><span data-stu-id="8d7b3-492">P40</span></span>   | <span data-ttu-id="8d7b3-493">P50</span><span class="sxs-lookup"><span data-stu-id="8d7b3-493">P50</span></span>   | 
|---------------------|-------|-------|-------|-------|-------|-------|-------|
| <span data-ttu-id="8d7b3-494">Rozmiar dysku</span><span class="sxs-lookup"><span data-stu-id="8d7b3-494">Disk size</span></span>           | <span data-ttu-id="8d7b3-495">32 GB</span><span class="sxs-lookup"><span data-stu-id="8d7b3-495">32 GB</span></span> | <span data-ttu-id="8d7b3-496">64 GB</span><span class="sxs-lookup"><span data-stu-id="8d7b3-496">64 GB</span></span> | <span data-ttu-id="8d7b3-497">128 GB</span><span class="sxs-lookup"><span data-stu-id="8d7b3-497">128 GB</span></span>| <span data-ttu-id="8d7b3-498">512 GB</span><span class="sxs-lookup"><span data-stu-id="8d7b3-498">512 GB</span></span>            | <span data-ttu-id="8d7b3-499">1024 GB (1 TB)</span><span class="sxs-lookup"><span data-stu-id="8d7b3-499">1024 GB (1 TB)</span></span>    | <span data-ttu-id="8d7b3-500">2048 GB (2 TB)</span><span class="sxs-lookup"><span data-stu-id="8d7b3-500">2048 GB (2 TB)</span></span>    | <span data-ttu-id="8d7b3-501">4095 GB (4 TB)</span><span class="sxs-lookup"><span data-stu-id="8d7b3-501">4095 GB (4 TB)</span></span>    | 
| <span data-ttu-id="8d7b3-502">Liczba operacji wejścia/wyjścia na sekundę na dysk</span><span class="sxs-lookup"><span data-stu-id="8d7b3-502">IOPS per disk</span></span>       | <span data-ttu-id="8d7b3-503">120</span><span class="sxs-lookup"><span data-stu-id="8d7b3-503">120</span></span>   | <span data-ttu-id="8d7b3-504">240</span><span class="sxs-lookup"><span data-stu-id="8d7b3-504">240</span></span>   | <span data-ttu-id="8d7b3-505">500</span><span class="sxs-lookup"><span data-stu-id="8d7b3-505">500</span></span>   | <span data-ttu-id="8d7b3-506">2300</span><span class="sxs-lookup"><span data-stu-id="8d7b3-506">2300</span></span>              | <span data-ttu-id="8d7b3-507">5000</span><span class="sxs-lookup"><span data-stu-id="8d7b3-507">5000</span></span>              | <span data-ttu-id="8d7b3-508">7500</span><span class="sxs-lookup"><span data-stu-id="8d7b3-508">7500</span></span>              | <span data-ttu-id="8d7b3-509">7500</span><span class="sxs-lookup"><span data-stu-id="8d7b3-509">7500</span></span>              | 
| <span data-ttu-id="8d7b3-510">Przepływność na dysk</span><span class="sxs-lookup"><span data-stu-id="8d7b3-510">Throughput per disk</span></span> | <span data-ttu-id="8d7b3-511">25 MB na sekundę</span><span class="sxs-lookup"><span data-stu-id="8d7b3-511">25 MB per second</span></span>  | <span data-ttu-id="8d7b3-512">50 MB / s</span><span class="sxs-lookup"><span data-stu-id="8d7b3-512">50 MB per second</span></span>  | <span data-ttu-id="8d7b3-513">100 MB na sekundę</span><span class="sxs-lookup"><span data-stu-id="8d7b3-513">100 MB per second</span></span> | <span data-ttu-id="8d7b3-514">150 MB na sekundę</span><span class="sxs-lookup"><span data-stu-id="8d7b3-514">150 MB per second</span></span> | <span data-ttu-id="8d7b3-515">200 MB / s</span><span class="sxs-lookup"><span data-stu-id="8d7b3-515">200 MB per second</span></span> | <span data-ttu-id="8d7b3-516">250 MB na sekundę</span><span class="sxs-lookup"><span data-stu-id="8d7b3-516">250 MB per second</span></span> | <span data-ttu-id="8d7b3-517">250 MB na sekundę</span><span class="sxs-lookup"><span data-stu-id="8d7b3-517">250 MB per second</span></span> | 


<span data-ttu-id="8d7b3-518">Jak wiele dysków, możesz wybrać, zależy od hello na dysku wybranego rozmiaru.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-518">How many disks you choose depends on hello disk size chosen.</span></span> <span data-ttu-id="8d7b3-519">Można użyć jednego dysku P50 lub wielu toomeet dysków P10 wymagań aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-519">You could use a single P50 disk or multiple P10 disks toomeet your application requirement.</span></span> <span data-ttu-id="8d7b3-520">Należy uwzględnić wymienione poniżej podczas wprowadzania wybór hello uwagi dotyczące konta.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-520">Take into account considerations listed below when making hello choice.</span></span>

<span data-ttu-id="8d7b3-521">*Limity skalowania (IOPS i przepustowości)*</span><span class="sxs-lookup"><span data-stu-id="8d7b3-521">*Scale Limits (IOPS and Throughput)*</span></span>  
<span data-ttu-id="8d7b3-522">limitu IOPS i przepływność Hello rozmiar każdego dysku Premium jest inna i niezależne od limity skalowania maszyny Wirtualnej hello.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-522">hello IOPS and Throughput limits of each Premium disk size is different and independent from hello VM scale limits.</span></span> <span data-ttu-id="8d7b3-523">Upewnij się, że hello łączna liczba IOPS i przepływność z hello dysków w ramach limitów skalowania hello wybrano rozmiar maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-523">Make sure that hello total IOPS and Throughput from hello disks are within scale limits of hello chosen VM size.</span></span>

<span data-ttu-id="8d7b3-524">Na przykład, jeśli wymagania aplikacji jest maksymalnie 250 MB/s przepustowości i DS4 maszyny Wirtualnej za pomocą jednego dysku P30.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-524">For example, if an application requirement is a maximum of 250 MB/sec Throughput and you are using a DS4 VM with a single P30 disk.</span></span> <span data-ttu-id="8d7b3-525">Witaj DS4 maszyny Wirtualnej można zrezygnować too256 MB/s przepustowości.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-525">hello DS4 VM can give up too256 MB/sec Throughput.</span></span> <span data-ttu-id="8d7b3-526">Jednak jeden dysk P30 ma limit przepustowości 200 MB/s. W rezultacie aplikacji hello będą ograniczone na 200 MB/s, ze względu na ograniczenia toohello na dysku.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-526">However, a single P30 disk has Throughput limit of 200 MB/sec. Consequently, hello application will be constrained at 200 MB/sec due toohello disk limit.</span></span> <span data-ttu-id="8d7b3-527">tooovercome ten limit, udostępnić więcej niż jeden toohello dysków danych maszyny Wirtualnej lub zmiany rozmiaru programu tooP40 dysków lub P50.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-527">tooovercome this limit, provision more than one data disks toohello VM or resize your disks tooP40 or P50.</span></span>

> [!NOTE]
> <span data-ttu-id="8d7b3-528">Odczyty obsłużone przez pamięć podręczną hello nie znajdują się w dysku hello IOPS i przepustowość, więc nie podmiotu toodisk limity.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-528">Reads served by hello cache are not included in hello disk IOPS and Throughput, hence not subject toodisk limits.</span></span> <span data-ttu-id="8d7b3-529">Pamięć podręczna ma oddzielne IOPS i przepływność limit dla maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-529">Cache has its separate IOPS and Throughput limit per VM.</span></span>
>
> <span data-ttu-id="8d7b3-530">Na przykład początkowo Twojej odczyty i zapisy są 60MB/s i 40MB/s odpowiednio.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-530">For example, initially your reads and writes are 60MB/sec and 40MB/sec respectively.</span></span> <span data-ttu-id="8d7b3-531">Wraz z upływem czasu pamięci podręcznej hello warms i służy coraz większą hello odczyty z pamięci podręcznej hello.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-531">Over time, hello cache warms up and serves more and more of hello reads from hello cache.</span></span> <span data-ttu-id="8d7b3-532">Następnie możesz uzyskać zapisu wyższej przepustowości z hello dysku.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-532">Then, you can get higher write Throughput from hello disk.</span></span>
>
>

<span data-ttu-id="8d7b3-533">*Liczba dysków*</span><span class="sxs-lookup"><span data-stu-id="8d7b3-533">*Number of Disks*</span></span>  
<span data-ttu-id="8d7b3-534">Określ numer hello dysków, które mają być przez proces oceny wymagań aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-534">Determine hello number of disks you will need by assessing application requirements.</span></span> <span data-ttu-id="8d7b3-535">Rozmiar każdej maszyny Wirtualnej ma również limit hello liczby dysków dołączenie toohello maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-535">Each VM size also has a limit on hello number of disks that you can attach toohello VM.</span></span> <span data-ttu-id="8d7b3-536">Zazwyczaj jest to dwa razy hello liczby rdzeni.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-536">Typically, this is twice hello number of cores.</span></span> <span data-ttu-id="8d7b3-537">Upewnij się, tym hello rozmiar maszyny Wirtualnej, wybrane może obsługiwać hello liczbę dysków potrzebne.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-537">Ensure that hello VM size you choose can support hello number of disks needed.</span></span>

<span data-ttu-id="8d7b3-538">Należy pamiętać, że hello magazyn w warstwie Premium dyski mają wyższe wydajności możliwości w porównaniu tooStandard dysków w magazynie.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-538">Remember, hello Premium Storage disks have higher performance capabilities compared tooStandard Storage disks.</span></span> <span data-ttu-id="8d7b3-539">W związku z tym aplikacji w przypadku migracji z maszyn wirtualnych IaaS platformy Azure za pomocą magazynu w warstwie standardowa tooPremium magazynu, potrzebne będą prawdopodobnie mniej dysków premium tooachieve hello takiej samej lub wyższej wydajności aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-539">Therefore, if you are migrating your application from Azure IaaS VM using Standard Storage tooPremium Storage, you will likely need fewer premium disks tooachieve hello same or higher performance for your application.</span></span>

## <a name="disk-caching"></a><span data-ttu-id="8d7b3-540">Buforowanie dysku</span><span class="sxs-lookup"><span data-stu-id="8d7b3-540">Disk Caching</span></span>
<span data-ttu-id="8d7b3-541">Wysoka maszyn wirtualnych skali, korzystających z usługi Azure Premium Storage jest wielowarstwowych technologii buforowania, nazywany BlobCache.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-541">High Scale VMs that leverage Azure Premium Storage have a multi-tier caching technology called BlobCache.</span></span> <span data-ttu-id="8d7b3-542">BlobCache korzysta z kombinacji hello maszyny wirtualnej ilość pamięci RAM i lokalny dysk SSD dla buforowania.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-542">BlobCache uses a combination of hello Virtual Machine RAM and local SSD for caching.</span></span> <span data-ttu-id="8d7b3-543">Ta pamięć podręczna jest dostępny na dyski stałe hello magazyn w warstwie Premium i dyski lokalne powitania maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-543">This cache is available for hello Premium Storage persistent disks and hello VM local disks.</span></span> <span data-ttu-id="8d7b3-544">Domyślnie to ustawienie pamięci podręcznej ma wartość tooRead/zapisu dla dysków systemu operacyjnego i tylko do odczytu dla dysków z danymi hostowanych na magazyn w warstwie Premium.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-544">By default, this cache setting is set tooRead/Write for OS disks and ReadOnly for data disks hosted on Premium Storage.</span></span> <span data-ttu-id="8d7b3-545">Z dysku Buforowanie włączone na dyskach magazyn w warstwie Premium hello, wysokiej skali hello maszyn wirtualnych można osiągnąć bardzo wysoki poziom wydajności, które przekraczają hello podstawowej wydajności dysku.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-545">With disk caching enabled on hello Premium Storage disks, hello high scale VMs can achieve extremely high levels of performance that exceed hello underlying disk performance.</span></span>

> [!WARNING]
> <span data-ttu-id="8d7b3-546">Zmiany ustawień pamięci podręcznej hello Azure dysku odłącza i dołącza ponownie hello dysk docelowy.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-546">Changing hello cache setting of an Azure disk detaches and re-attaches hello target disk.</span></span> <span data-ttu-id="8d7b3-547">Jeśli jest dysk systemu operacyjnego hello hello maszyny Wirtualnej jest uruchamiany ponownie.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-547">If it is hello operating system disk, hello VM is restarted.</span></span> <span data-ttu-id="8d7b3-548">Zatrzymaj wszystkie aplikacji/usługi, które mogą wpłynąć na przerw w działaniu w przed zmianą ustawienie hello dyskowej pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-548">Stop all applications/services that might be affected by this disruption before changing hello disk cache setting.</span></span>
>
>

<span data-ttu-id="8d7b3-549">toolearn więcej informacji na temat działania BlobCache można znaleźć toohello wewnątrz [Azure Premium Storage](https://azure.microsoft.com/blog/azure-premium-storage-now-generally-available-2/) wpis w blogu.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-549">toolearn more about how BlobCache works, refer toohello Inside [Azure Premium Storage](https://azure.microsoft.com/blog/azure-premium-storage-now-generally-available-2/) blog post.</span></span>

<span data-ttu-id="8d7b3-550">Jest ważne tooenable pamięci podręcznej hello prawidłowego zestawu dysków.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-550">It is important tooenable cache on hello right set of disks.</span></span> <span data-ttu-id="8d7b3-551">Określa, czy należy włączyć buforowanie dysku na dysku premium lub nie będzie zależeć od wzorzec obciążenia hello tego dysku będą obsługi.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-551">Whether you should enable disk caching on a premium disk or not will depend on hello workload pattern that disk will be handling.</span></span> <span data-ttu-id="8d7b3-552">Poniższa tabela zawiera hello domyślnego ustawienia pamięci podręcznej dla systemu operacyjnego i dysków z danymi.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-552">Table below shows hello default cache settings for OS and Data disks.</span></span>

| <span data-ttu-id="8d7b3-553">**Typ dysku**</span><span class="sxs-lookup"><span data-stu-id="8d7b3-553">**Disk Type**</span></span> | <span data-ttu-id="8d7b3-554">**Domyślne ustawienie pamięci podręcznej**</span><span class="sxs-lookup"><span data-stu-id="8d7b3-554">**Default Cache Setting**</span></span> |
| --- | --- |
| <span data-ttu-id="8d7b3-555">Dysk systemu operacyjnego</span><span class="sxs-lookup"><span data-stu-id="8d7b3-555">OS disk</span></span> |<span data-ttu-id="8d7b3-556">ReadWrite</span><span class="sxs-lookup"><span data-stu-id="8d7b3-556">ReadWrite</span></span> |
| <span data-ttu-id="8d7b3-557">Dysk z danymi</span><span class="sxs-lookup"><span data-stu-id="8d7b3-557">Data disk</span></span> |<span data-ttu-id="8d7b3-558">Brak</span><span class="sxs-lookup"><span data-stu-id="8d7b3-558">None</span></span> |

<span data-ttu-id="8d7b3-559">Poniżej są hello ustawienia pamięci podręcznej dysku zalecane dla dysków z danymi</span><span class="sxs-lookup"><span data-stu-id="8d7b3-559">Following are hello recommended disk cache settings for data disks,</span></span>

| <span data-ttu-id="8d7b3-560">**Ustawienia buforowania na dysku**</span><span class="sxs-lookup"><span data-stu-id="8d7b3-560">**Disk Caching Setting**</span></span> | <span data-ttu-id="8d7b3-561">**Zalecenie o tym, kiedy toouse tego ustawienia**</span><span class="sxs-lookup"><span data-stu-id="8d7b3-561">**Recommendation on when toouse this setting**</span></span> |
| --- | --- |
| <span data-ttu-id="8d7b3-562">Brak</span><span class="sxs-lookup"><span data-stu-id="8d7b3-562">None</span></span> |<span data-ttu-id="8d7b3-563">Konfigurowanie hosta pamięci podręcznej None tylko do zapisu i intensywnie zapisu dysków.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-563">Configure host-cache as None for write-only and write-heavy disks.</span></span> |
| <span data-ttu-id="8d7b3-564">Tylko do odczytu</span><span class="sxs-lookup"><span data-stu-id="8d7b3-564">ReadOnly</span></span> |<span data-ttu-id="8d7b3-565">Skonfiguruj pamięci podręcznej hosta jako tylko do odczytu dla dysków tylko do odczytu i zapisu i odczytu.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-565">Configure host-cache as ReadOnly for read-only and read-write disks.</span></span> |
| <span data-ttu-id="8d7b3-566">ReadWrite</span><span class="sxs-lookup"><span data-stu-id="8d7b3-566">ReadWrite</span></span> |<span data-ttu-id="8d7b3-567">Konfigurowanie pamięci podręcznej hosta jako ReadWrite tylko wtedy, gdy aplikacja obsługuje prawidłowo, zapisywanie w pamięci podręcznej danych toopersistent dyski w razie potrzeby.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-567">Configure host-cache as ReadWrite only if your application properly  handles writing cached data toopersistent disks when needed.</span></span> |

<span data-ttu-id="8d7b3-568">*Tylko do odczytu*</span><span class="sxs-lookup"><span data-stu-id="8d7b3-568">*ReadOnly*</span></span>  
<span data-ttu-id="8d7b3-569">Konfigurując buforowanie danych magazyn w warstwie Premium dyski tylko do odczytu, możesz osiągnąć Niskie opóźnienie odczytu i uzyskać bardzo duże IOPS odczytu i przepływność aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-569">By configuring ReadOnly caching on Premium Storage data disks, you can achieve low Read latency and get very high Read IOPS and Throughput for your application.</span></span> <span data-ttu-id="8d7b3-570">Jest to powodu dwóch przyczyn</span><span class="sxs-lookup"><span data-stu-id="8d7b3-570">This is due two reasons,</span></span>

1. <span data-ttu-id="8d7b3-571">Odczyty wykonywane z pamięci podręcznej, która znajduje się na powitania pamięci maszyny Wirtualnej i lokalny dysk SSD, jest znacznie szybsze niż odczyty hello dysk danych, który znajduje się na powitania magazynu obiektów blob platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-571">Reads performed from cache, which is on hello VM memory and local SSD, are much faster than reads from hello data disk, which is on hello Azure blob storage.</span></span>  
2. <span data-ttu-id="8d7b3-572">Magazyn w warstwie Premium nie będą uwzględniane hello obsłużone odczyty z pamięci podręcznej dysku hello IOPS i przepływności.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-572">Premium Storage does not count hello Reads served from cache, towards hello disk IOPS and Throughput.</span></span> <span data-ttu-id="8d7b3-573">W związku z tym aplikacja jest możliwe tooachieve wyższe łączna liczba IOPS i przepustowość.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-573">Therefore, your application is able tooachieve higher total IOPS and Throughput.</span></span>

<span data-ttu-id="8d7b3-574">*ReadWrite*</span><span class="sxs-lookup"><span data-stu-id="8d7b3-574">*ReadWrite*</span></span>  
<span data-ttu-id="8d7b3-575">Domyślnie hello dysków systemu operacyjnego mają włączone buforowanie odczytu i zapisu.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-575">By default, hello OS disks have ReadWrite caching enabled.</span></span> <span data-ttu-id="8d7b3-576">Niedawno dodano obsługę ReadWrite buforowanie na danych, jak również dysków.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-576">We have recently added support for ReadWrite caching on data disks as well.</span></span> <span data-ttu-id="8d7b3-577">Jeśli korzystasz z buforowaniem odczytu i zapisu, muszą mieć właściwy sposób toowrite hello danych z pamięci podręcznej toopersistent dysków.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-577">If you are using ReadWrite caching, you must have a proper way toowrite hello data from cache toopersistent disks.</span></span> <span data-ttu-id="8d7b3-578">Na przykład dojść programu SQL Server do zapisywania buforowane dysków z danymi toohello magazynu trwałego samodzielnie.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-578">For example, SQL Server handles writing cached data toohello persistent storage disks on its own.</span></span> <span data-ttu-id="8d7b3-579">Przy użyciu pamięci podręcznej odczytu i zapisu z aplikacją, która nie obsługuje trwałych hello wymaganych danych może spowodować utratę toodata, jeśli wystąpiła awaria hello maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-579">Using ReadWrite cache with an application that does not handle persisting hello required data can lead toodata loss, if hello VM crashes.</span></span>

<span data-ttu-id="8d7b3-580">Na przykład można zastosować te wytyczne tooSQL serwera uruchomionych na magazyn w warstwie Premium, wykonując poniższe polecenie hello,</span><span class="sxs-lookup"><span data-stu-id="8d7b3-580">As an example, you can apply these guidelines tooSQL Server running on Premium Storage by doing hello following,</span></span>

1. <span data-ttu-id="8d7b3-581">Konfigurowanie pamięci podręcznej "ReadOnly" premium magazynu dysków zawierających pliki danych.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-581">Configure "ReadOnly" cache on premium storage disks hosting data files.</span></span>  
   <span data-ttu-id="8d7b3-582">a.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-582">a.</span></span>  <span data-ttu-id="8d7b3-583">Hello szybkiego odczytuje z czas kwerendy SQL Server niższe hello pamięci podręcznej, ponieważ dane strony są znacznie szybciej pobierane z hello toodirectly pamięci podręcznej w porównaniu z dysków z danymi hello.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-583">hello fast reads from cache lower hello SQL Server query time since data pages are retrieved much faster from hello cache compared toodirectly from hello data disks.</span></span>  
   <span data-ttu-id="8d7b3-584">b.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-584">b.</span></span>  <span data-ttu-id="8d7b3-585">Obsługująca odczyty z pamięci podręcznej, oznacza, że jest dostępny z dysków danych w warstwie premium dodatkowej przepływności.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-585">Serving reads from cache, means there is additional Throughput available from premium data disks.</span></span> <span data-ttu-id="8d7b3-586">SQL Server można korzystać tego dodatkowe przepływności kierunku pobieranie więcej danych stron i inne operacje, takie jak Kopia zapasowa i przywracanie, partii obciążeń i spowoduje odbudowanie indeksu.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-586">SQL Server can use this additional Throughput towards retrieving more data pages and other operations like backup/restore, batch loads, and index rebuilds.</span></span>  
2. <span data-ttu-id="8d7b3-587">Skonfiguruj "None" hostingu plików dziennika hello dyski pamięci podręcznej na magazyn w warstwie premium.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-587">Configure "None" cache on premium storage disks hosting hello log files.</span></span>  
   <span data-ttu-id="8d7b3-588">a.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-588">a.</span></span>  <span data-ttu-id="8d7b3-589">Pliki dziennika mają głównie operacje zapisu ciężki.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-589">Log files have primarily write-heavy operations.</span></span> <span data-ttu-id="8d7b3-590">W związku z tym ich nie korzystają z hello pamięci podręcznej tylko do odczytu.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-590">Therefore, they do not benefit from hello ReadOnly cache.</span></span>

## <a name="disk-striping"></a><span data-ttu-id="8d7b3-591">Rozkładanie</span><span class="sxs-lookup"><span data-stu-id="8d7b3-591">Disk Striping</span></span>
<span data-ttu-id="8d7b3-592">Gdy wysoką skalowalność, której maszyna wirtualna jest dołączona z kilku magazynu trwałego dysków premium hello dysków może być rozłożone razem tooaggregate w ich IOPs, przepustowości i pojemności magazynu.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-592">When a high scale VM is attached with several premium storage persistent disks, hello disks can be striped together tooaggregate their IOPs, bandwidth, and storage capacity.</span></span>

<span data-ttu-id="8d7b3-593">W systemie Windows można używać funkcji miejsca do magazynowania dysków toostripe ze sobą.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-593">On Windows, you can use Storage Spaces toostripe disks together.</span></span> <span data-ttu-id="8d7b3-594">Należy skonfigurować jedną kolumnę dla każdego dysku w puli.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-594">You must configure one column for each disk in a pool.</span></span> <span data-ttu-id="8d7b3-595">W przeciwnym razie hello ogólną wydajność woluminów rozłożonych może być niższe niż oczekiwano powodu dystrybucji toouneven ruchu na dyskach hello.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-595">Otherwise, hello overall performance of striped volume can be lower than expected, due toouneven distribution of traffic across hello disks.</span></span>

<span data-ttu-id="8d7b3-596">Ważne: Przy użyciu interfejsu użytkownika Menedżera serwera, można ustawić hello łączna liczba kolumn w górę too8 dla woluminy rozłożone.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-596">Important: Using Server Manager UI, you can set hello total number of columns up too8 for a striped volume.</span></span> <span data-ttu-id="8d7b3-597">Podczas podłączania więcej niż 8 dysków, korzystają z woluminu hello toocreate środowiska PowerShell.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-597">When attaching more than 8 disks, use PowerShell toocreate hello volume.</span></span> <span data-ttu-id="8d7b3-598">Przy użyciu programu PowerShell, można ustawić hello liczbę kolumn równy toohello liczba dysków.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-598">Using PowerShell, you can set hello number of columns equal toohello number of disks.</span></span> <span data-ttu-id="8d7b3-599">Na przykład, jeśli istnieją 16 dysków w jednej rozłożony; Określ 16 kolumn w hello *NumberOfColumns* parametru hello *New-VirtualDisk* polecenia cmdlet programu PowerShell.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-599">For example, if there are 16 disks in a single stripe set; specify 16 columns in hello *NumberOfColumns* parameter of hello *New-VirtualDisk* PowerShell cmdlet.</span></span>

<span data-ttu-id="8d7b3-600">W systemie Linux użyć hello MDADM narzędzie toostripe dysków.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-600">On Linux, use hello MDADM utility toostripe disks together.</span></span> <span data-ttu-id="8d7b3-601">Aby uzyskać szczegółowy opis kroków na dyskach zastosowanie rozkładania na systemie Linux, zobacz zbyt[skonfigurować RAID oprogramowania w systemie Linux](../../virtual-machines/linux/configure-raid.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="8d7b3-601">For detailed steps on striping disks on Linux refer too[Configure Software RAID on Linux](../../virtual-machines/linux/configure-raid.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span>

<span data-ttu-id="8d7b3-602">*Rozmiar usługi STRIPE*</span><span class="sxs-lookup"><span data-stu-id="8d7b3-602">*Stripe Size*</span></span>  
<span data-ttu-id="8d7b3-603">Ważne konfiguracji w rozkładanie jest hello rozmiar przeplotu.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-603">An important configuration in disk striping is hello stripe size.</span></span> <span data-ttu-id="8d7b3-604">rozmiar przeplotu Hello lub rozmiar bloku jest hello najmniejszą fragmentów danych aplikacji można rozwiązać na woluminy rozłożone.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-604">hello stripe size or block size is hello smallest chunk of data that application can address on a striped volume.</span></span> <span data-ttu-id="8d7b3-605">rozmiar przeplotu Hello skonfigurowanych zależy od typu hello aplikacji i jej wzorzec żądania.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-605">hello stripe size you configure depends on hello type of application and its request pattern.</span></span> <span data-ttu-id="8d7b3-606">Jeśli wybierzesz hello stripe niewłaściwy rozmiar spowodować niespójność tooIO, co prowadzi toodegraded wydajność aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-606">If you choose hello wrong stripe size, it could lead tooIO misalignment, which leads toodegraded performance of your application.</span></span>

<span data-ttu-id="8d7b3-607">Na przykład jeśli żądanie We/Wy wygenerowanych przez aplikację jest większy niż rozmiar stripe dysku hello, hello magazynu systemu zapisuje go na stripe granice jednostki na więcej niż jeden dysk.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-607">For example, if an IO request generated by your application is bigger than hello disk stripe size, hello storage system writes it across stripe unit boundaries on more than one disk.</span></span> <span data-ttu-id="8d7b3-608">Gdy jest on czasu tooaccess danych, jej tooseek przez więcej niż jedno żądanie hello toocomplete jednostki usługi stripe.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-608">When it is time tooaccess that data, it will have tooseek across more than one stripe units toocomplete hello request.</span></span> <span data-ttu-id="8d7b3-609">Hello skrócenie takie zachowanie może spowodować spadek wydajności toosubstantial.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-609">hello cumulative effect of such behavior can lead toosubstantial performance degradation.</span></span> <span data-ttu-id="8d7b3-610">Na powitania drugiej strony, jeśli hello rozmiar żądania We/Wy jest mniejszy niż rozmiar stripe i jeśli charakter losowy, żądań We/Wy hello może sumują na powitania takie same dysku przyczyną wąskiego gardła i ostatecznie zmniejszenie wydajności we/wy hello.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-610">On hello other hand, if hello IO request size is smaller than stripe size, and if it is random in nature, hello IO requests may add up on hello same disk causing a bottleneck and ultimately degrading hello IO performance.</span></span>

<span data-ttu-id="8d7b3-611">W zależności od typu hello obciążenia aplikacja jest uruchomiona, wybierz odpowiednie stripe rozmiar.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-611">Depending on hello type of workload your application is running, choose an appropriate stripe size.</span></span> <span data-ttu-id="8d7b3-612">Losowe małych żądań We/Wy Użyj mniejszej stripe.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-612">For random small IO requests, use a smaller stripe size.</span></span> <span data-ttu-id="8d7b3-613">Dla dużych sekwencyjnych operacji We/Wy żądań stosować większy rozmiar przeplotu.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-613">Whereas, for large sequential IO requests use a larger stripe size.</span></span> <span data-ttu-id="8d7b3-614">Dowiedz się hello stripe rozmiar zalecenia dotyczące aplikacji hello się, że będzie działać na magazyn w warstwie Premium.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-614">Find out hello stripe size recommendations for hello application you will be running on Premium Storage.</span></span> <span data-ttu-id="8d7b3-615">Dla programu SQL Server należy skonfigurować usługi stripe rozmiarze 64KB dla obciążeń OLTP i 256KB dla obciążeń magazynowania danych.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-615">For SQL Server, configure stripe size of 64KB for OLTP workloads and 256KB for data warehousing workloads.</span></span> <span data-ttu-id="8d7b3-616">Zobacz [wydajności najlepsze rozwiązania dotyczące programu SQL Server na maszynach wirtualnych Azure](../../virtual-machines/windows/sql/virtual-machines-windows-sql-performance.md#disks-guidance) toolearn więcej.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-616">See [Performance best practices for SQL Server on Azure VMs](../../virtual-machines/windows/sql/virtual-machines-windows-sql-performance.md#disks-guidance) toolearn more.</span></span>

> [!NOTE]
> <span data-ttu-id="8d7b3-617">Jednocześnie można możesz paskowych maksymalnie 32 dyski magazynu premium na serii DS maszyny Wirtualnej i 64 dyski magazynu premium na serię GS maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-617">You can stripe together a maximum of 32 premium storage disks on a DS series VM and 64 premium storage disks on a GS series VM.</span></span>
>
>

## <a name="multi-threading"></a><span data-ttu-id="8d7b3-618">Wielowątkowości</span><span class="sxs-lookup"><span data-stu-id="8d7b3-618">Multi-threading</span></span>
<span data-ttu-id="8d7b3-619">Azure zostało zaprojektowane, równoległemu toobe platformy magazyn w warstwie Premium.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-619">Azure has designed Premium Storage platform toobe massively parallel.</span></span> <span data-ttu-id="8d7b3-620">W związku z tym aplikacji wielowątkowych osiąga o wiele większą wydajność niż jednowątkowe aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-620">Therefore, a multi-threaded application achieves much higher performance than a single-threaded application.</span></span> <span data-ttu-id="8d7b3-621">Aplikacji wielowątkowych podzieli zadań przez wiele wątków i zwiększa efektywność działania za pomocą hello maszyny Wirtualnej i maksymalną toohello zasobów dysku.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-621">A multi-threaded application splits up its tasks across multiple threads and increases efficiency of its execution by utilizing hello VM and disk resources toohello maximum.</span></span>

<span data-ttu-id="8d7b3-622">Na przykład jeśli aplikacja jest uruchomiona na jednym rdzeniu maszyny Wirtualnej przy użyciu dwóch wątków, hello procesora CPU można przełączać się między hello dwoma wątkami tooachieve wydajności.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-622">For example, if your application is running on a single core VM using two threads, hello CPU can switch between hello two threads tooachieve efficiency.</span></span> <span data-ttu-id="8d7b3-623">Gdy jeden wątek oczekuje na toocomplete We/Wy dysku, hello procesora CPU można przełączać toohello innego wątku.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-623">While one thread is waiting on a disk IO toocomplete, hello CPU can switch toohello other thread.</span></span> <span data-ttu-id="8d7b3-624">W ten sposób dwoma wątkami można wykonywać więcej niż jednego wątku czy.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-624">In this way, two threads can accomplish more than a single thread would.</span></span> <span data-ttu-id="8d7b3-625">Jeśli hello maszyna wirtualna ma więcej niż jednego rdzenia, dalsze zmniejsza czas działania, ponieważ każdy core mogą wykonywać zadania równolegle.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-625">If hello VM has more than one core, it further decreases running time since each core can execute tasks in parallel.</span></span>

<span data-ttu-id="8d7b3-626">Nie może być sposób hello stanie toochange standardowych aplikacji implementuje pojedynczego wątku lub wielowątkowości.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-626">You may not be able toochange hello way an off-the-shelf application implements single threading or multi-threading.</span></span> <span data-ttu-id="8d7b3-627">Na przykład SQL Server jest może obsługiwać wielu procesorów i procesorami wielordzeniowymi.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-627">For example, SQL Server is capable of handling multi-CPU and multi-core.</span></span> <span data-ttu-id="8d7b3-628">Jednak program SQL Server decyduje, pod jakimi warunkami będzie korzystać jeden lub więcej wątków tooprocess zapytania.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-628">However, SQL Server decides under what conditions it will leverage one or more threads tooprocess a query.</span></span> <span data-ttu-id="8d7b3-629">Można go uruchamiać zapytania i tworzą indeksy, używając wielowątkowości.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-629">It can run queries and build indexes using multi-threading.</span></span> <span data-ttu-id="8d7b3-630">Dla zapytania, które obejmuje przyłączanie dużych tabel i sortowanie danych przed zwróceniem toohello użytkownika wiele wątków prawdopodobnie będzie używany przez serwer SQL.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-630">For a query that involves joining large tables and sorting data before returning toohello user, SQL Server will likely use multiple threads.</span></span> <span data-ttu-id="8d7b3-631">Jednak użytkownik nie może kontrolować, czy program SQL Server wykonuje zapytanie za pomocą pojedynczego wątku lub wiele wątków.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-631">However, a user cannot control whether SQL Server executes a query using a single thread or multiple threads.</span></span>

<span data-ttu-id="8d7b3-632">Brak ustawienia konfiguracji, możliwość zmiany tooinfluence tym wielowątkowości lub równoległego przetwarzania aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-632">There are configuration settings that you can alter tooinfluence this multi-threading or parallel processing of an application.</span></span> <span data-ttu-id="8d7b3-633">Na przykład w przypadku programu SQL Server jest hello maksymalny stopień równoległości konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-633">For example, in case of SQL Server it is hello maximum Degree of Parallelism configuration.</span></span> <span data-ttu-id="8d7b3-634">To ustawienie o nazwie MAXDOP, pozwala tooconfigure hello maksymalną liczbę procesorów, które program SQL Server można użyć podczas przetwarzania równoległe.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-634">This setting called MAXDOP, allows you tooconfigure hello maximum number of processors SQL Server can use when parallel processing.</span></span> <span data-ttu-id="8d7b3-635">MAXDOP można skonfigurować dla poszczególnych zapytań lub operacji dotyczących indeksu.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-635">You can configure MAXDOP for individual queries or index operations.</span></span> <span data-ttu-id="8d7b3-636">Jest to przydatne, gdy ma toobalance zasoby systemu dla aplikacji krytyczne wydajności.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-636">This is beneficial when you want toobalance resources of your system for a performance critical application.</span></span>

<span data-ttu-id="8d7b3-637">Na przykład aplikację za pomocą programu SQL Server jest wykonywany dużych zapytań i operacji indeksowania na powitania tym samym czasie.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-637">For example, say your application using SQL Server is executing a large query and an index operation at hello same time.</span></span> <span data-ttu-id="8d7b3-638">Załóżmy chciał toobe operacja indeksu hello więcej zapytania dużych toohello wydajność w porównaniu.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-638">Let us assume that you wanted hello index operation toobe more performant compared toohello large query.</span></span> <span data-ttu-id="8d7b3-639">W takim przypadku można ustawić wartości MAXDOP hello indeksu operacji toobe wyższe niż hello MAXDOP wartość hello zapytania.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-639">In such a case, you can set MAXDOP value of hello index operation toobe higher than hello MAXDOP value for hello query.</span></span> <span data-ttu-id="8d7b3-640">Dzięki temu program SQL Server ma więcej liczbę procesorów, które można wykorzystać hello indeksu operacji porównaniu toohello liczbę procesorów, można go przypisać toohello dużych zapytania.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-640">This way, SQL Server has more number of processors that it can leverage for hello index operation compared toohello number of processors it can dedicate toohello large query.</span></span> <span data-ttu-id="8d7b3-641">Należy pamiętać, że nie kontroli hello liczba wątków, który będzie używany przez serwer SQL dla każdej operacji.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-641">Remember, you do not control hello number of threads SQL Server will use for each operation.</span></span> <span data-ttu-id="8d7b3-642">Można kontrolować hello maksymalną liczbę procesorów jest przeznaczony dla wielowątkowości.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-642">You can control hello maximum number of processors being dedicated for multi-threading.</span></span>

<span data-ttu-id="8d7b3-643">Dowiedz się więcej o [stopni równoległości](https://technet.microsoft.com/library/ms188611.aspx) w programie SQL Server.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-643">Learn more about [Degrees of Parallelism](https://technet.microsoft.com/library/ms188611.aspx) in SQL Server.</span></span> <span data-ttu-id="8d7b3-644">Dowiedz się takie ustawienia wpływające na wielowątkowości w aplikacji i ich wydajności toooptimize konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-644">Find out such settings that influence multi-threading in your application and their configurations toooptimize performance.</span></span>

## <a name="queue-depth"></a><span data-ttu-id="8d7b3-645">Głębokość kolejki</span><span class="sxs-lookup"><span data-stu-id="8d7b3-645">Queue Depth</span></span>
<span data-ttu-id="8d7b3-646">Witaj głębokość kolejki lub długość kolejki lub rozmiar kolejki jest hello liczba oczekujących żądań We/Wy w systemie hello.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-646">hello Queue Depth or Queue Length or Queue Size is hello number of pending IO requests in hello system.</span></span> <span data-ttu-id="8d7b3-647">wartość Hello głębokość kolejki określa, ile operacji We/Wy aplikacji można wyrównać, które dyski magazynu hello będzie przetwarzania.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-647">hello value of Queue Depth determines how many IO operations your application can line up, which hello storage disks will be processing.</span></span> <span data-ttu-id="8d7b3-648">Ma wpływ na wszystkie hello trzy aplikacji wskaźników wydajności, których wspomniano w tym tj artykułu IOPS, przepustowości i opóźnień.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-648">It affects all hello three application performance indicators that we discussed in this article viz., IOPS, Throughput and Latency.</span></span>

<span data-ttu-id="8d7b3-649">Kolejka głębokość i wielowątkowości są ściśle powiązane.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-649">Queue Depth and multi-threading are closely related.</span></span> <span data-ttu-id="8d7b3-650">głębokość kolejki Hello wskazuje, ile wielowątkowości może osiągnąć aplikacji hello.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-650">hello Queue Depth value indicates how much multi-threading can be achieved by hello application.</span></span> <span data-ttu-id="8d7b3-651">W przypadku dużych hello głębokości kolejki, aplikacja może zostać uruchomiony więcej operacji jednocześnie, innymi słowy, więcej wielowątkowości.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-651">If hello Queue Depth is large, application can execute more operations concurrently, in other words, more multi-threading.</span></span> <span data-ttu-id="8d7b3-652">Jeśli hello głębokość kolejki jest mały, nawet jeśli aplikacja jest wielowątkowych, nie będzie wystarczającej liczby żądań wyrównana równoczesne wykonywanie.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-652">If hello Queue Depth is small, even though application is multi-threaded, it will not have enough requests lined up for concurrent execution.</span></span>

<span data-ttu-id="8d7b3-653">Zazwyczaj poza hello półki aplikacje nie zezwalają toochange hello głębokości kolejki, ponieważ jeśli ustawione niepoprawnie czy obrażeniami więcej niż dobra.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-653">Typically, off hello shelf applications do not allow you toochange hello queue depth, because if set incorrectly it will do more harm than good.</span></span> <span data-ttu-id="8d7b3-654">Aplikacje ustawi wartość prawej strony hello kolejki głębokość tooget hello optymalnej wydajności.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-654">Applications will set hello right value of queue depth tooget hello optimal performance.</span></span> <span data-ttu-id="8d7b3-655">Jednak on jest ważne toounderstand koncepcji, dzięki czemu można rozwiązywać problemy z wydajnością z aplikacją.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-655">However, it is important toounderstand this concept so that you can troubleshoot performance issues with your application.</span></span> <span data-ttu-id="8d7b3-656">Można również obserwować hello skutków głębokość kolejki przez uruchomienie narzędzia najlepszymi w systemie.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-656">You can also observe hello effects of queue depth by running benchmarking tools on your system.</span></span>

<span data-ttu-id="8d7b3-657">Niektóre aplikacje Podaj ustawienia tooinfluence hello głębokość kolejki.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-657">Some applications provide settings tooinfluence hello Queue Depth.</span></span> <span data-ttu-id="8d7b3-658">Na przykład hello MAXDOP (maksymalny stopień równoległości) ustawienie w programie SQL Server szczegółowo opisane w poprzedniej sekcji.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-658">For example, hello MAXDOP (maximum degree of parallelism) setting in SQL Server explained in previous section.</span></span> <span data-ttu-id="8d7b3-659">MAXDOP jest sposób tooinfluence głębokość kolejki i wielowątkowości, chociaż nie zmienia bezpośrednio hello wartość głębokość kolejki programu SQL Server.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-659">MAXDOP is a way tooinfluence Queue Depth and multi-threading, although it does not directly change hello Queue Depth value of SQL Server.</span></span>

<span data-ttu-id="8d7b3-660">*Głębokość kolejki wysoka*</span><span class="sxs-lookup"><span data-stu-id="8d7b3-660">*High Queue Depth*</span></span>  
<span data-ttu-id="8d7b3-661">Głębokość kolejki wysokiej linii więcej operacji na powitania dysku.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-661">A high queue depth lines up more operations on hello disk.</span></span> <span data-ttu-id="8d7b3-662">dysk Hello wie hello następnego żądania w kolejce jego wcześniejsze.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-662">hello disk knows hello next request in its queue ahead of time.</span></span> <span data-ttu-id="8d7b3-663">W związku z tym hello dysku można zaplanować operacji wcześniejsze i przetwarzanie ich w optymalny sekwencji.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-663">Consequently, hello disk can schedule operations ahead of time and process them in an optimal sequence.</span></span> <span data-ttu-id="8d7b3-664">Ponieważ aplikacja hello wysyła więcej żądań toohello dysku, dysku hello może przetwarzać więcej równolegle z systemem IOs.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-664">Since hello application is sending more requests toohello disk, hello disk can process more parallel IOs.</span></span> <span data-ttu-id="8d7b3-665">Ostatecznie, aplikacja hello będzie możliwe tooachieve wyższa wartość IOPS.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-665">Ultimately, hello application will be able tooachieve higher IOPS.</span></span> <span data-ttu-id="8d7b3-666">Ponieważ przetwarzanie żądań więcej aplikacji hello całkowitą przepływność aplikacji hello zwiększa także.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-666">Since application is processing more requests, hello total Throughput of hello application also increases.</span></span>

<span data-ttu-id="8d7b3-667">Zazwyczaj aplikacji można uzyskać maksymalną przepływność z 8-16 oczekujących operacji We-Wy na dysku dołączonym.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-667">Typically, an application can achieve maximum Throughput with 8-16+ outstanding IOs per attached disk.</span></span> <span data-ttu-id="8d7b3-668">Jeśli głębokości kolejki, aplikacja nie jest wypychanie za mało w systemie IOs toohello i przetworzy mniejszej ilości w danym okresie.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-668">If a Queue Depth is one, application is not pushing enough IOs toohello system, and it will process less amount of in a given period.</span></span> <span data-ttu-id="8d7b3-669">Innymi słowy mniejszej przepustowości.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-669">In other words, less Throughput.</span></span>

<span data-ttu-id="8d7b3-670">Na przykład w programie SQL Server, ustawienie hello MAXDOP wartość dla zapytania zbyt "4" informuje programu SQL Server można użyć toofour rdzeni tooexecute hello kwerendy.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-670">For example, in SQL Server, setting hello MAXDOP value for a query too"4" informs SQL Server that it can use up toofour cores tooexecute hello query.</span></span> <span data-ttu-id="8d7b3-671">Programu SQL Server określa, co jest najlepszym kolejki głębokość wartość i hello liczba rdzeni w celu wykonywania zapytań hello.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-671">SQL Server will determine what is best queue depth value and hello number of cores for hello query execution.</span></span>

<span data-ttu-id="8d7b3-672">*Optymalną głębokość kolejki*</span><span class="sxs-lookup"><span data-stu-id="8d7b3-672">*Optimal Queue Depth*</span></span>  
<span data-ttu-id="8d7b3-673">Głębokość kolejki bardzo duże ma również jego wady.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-673">Very high queue depth value also has its drawbacks.</span></span> <span data-ttu-id="8d7b3-674">Jeśli głębokość kolejki jest zbyt wysoka, aplikacja hello spróbuje toodrive bardzo wysoka liczba IOPS.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-674">If queue depth value is too high, hello application will try toodrive very high IOPS.</span></span> <span data-ttu-id="8d7b3-675">Jeśli aplikacja ma trwały dysków o wystarczające elastycznie IOPS, to negatywnie wpłynąć na opóźnienia aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-675">Unless application has persistent disks with sufficient provisioned IOPS, this can negatively affect application latencies.</span></span> <span data-ttu-id="8d7b3-676">Następującej formuły przedstawiono relacje hello IOPS, opóźnienia i głębokość kolejki.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-676">Following formula shows hello relationship between IOPS, Latency and Queue Depth.</span></span>  
    ![](media/storage-premium-storage-performance/image6.png)

<span data-ttu-id="8d7b3-677">Nie należy konfigurować głębokość kolejki tooany wysokiej wartości, ale wartość optymalną tooan, który może dostarczyć wystarczającej liczby IOPS dla aplikacji hello bez wpływu na opóźnienia.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-677">You should not configure Queue Depth tooany high value, but tooan optimal value, which can deliver enough IOPS for hello application without affecting latencies.</span></span> <span data-ttu-id="8d7b3-678">Na przykład jeśli opóźnienie aplikacji hello musi toobe 1 milisekund, hello głębokość kolejki wymagane jest 5000 IOPS, tooachieve QD = 5000 x 0,001 = 5.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-678">For example, if hello application latency needs toobe 1 millisecond, hello Queue Depth required tooachieve 5,000 IOPS is, QD = 5000 x 0.001 = 5.</span></span>

<span data-ttu-id="8d7b3-679">*Głębokość kolejki dla woluminów rozłożonych*</span><span class="sxs-lookup"><span data-stu-id="8d7b3-679">*Queue Depth for Striped Volume*</span></span>  
<span data-ttu-id="8d7b3-680">Dla woluminu rozłożonego Obsługa głębokości kolejki wystarczająco wysoka, tak, aby każdy dysk miała głębokość kolejki szczytu pojedynczo.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-680">For a striped volume, maintain a high enough queue depth such that, every disk has a peak queue depth individually.</span></span> <span data-ttu-id="8d7b3-681">Rozważmy na przykład aplikacja, który wypycha głębokości kolejki wynoszącej 2 i istnieją 4 dyski w hello stripe.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-681">For example, consider an application that pushes a queue depth of 2 and there are 4 disks in hello stripe.</span></span> <span data-ttu-id="8d7b3-682">Witaj dwie żądań We/Wy przejdzie tootwo dysków i pozostałych dwóch dysków będzie bezczynności.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-682">hello two IO requests will go tootwo disks and remaining two disks will be idle.</span></span> <span data-ttu-id="8d7b3-683">W związku z tym skonfigurować hello głębokość kolejki w taki sposób, że wszystkie dyski hello może być zajęta.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-683">Therefore, configure hello queue depth such that all hello disks can be busy.</span></span> <span data-ttu-id="8d7b3-684">Formuła poniżej pokazano, jak toodetermine hello głębokości kolejki wynoszącej woluminy rozłożone.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-684">Formula below shows how toodetermine hello queue depth of striped volumes.</span></span>  
    ![](media/storage-premium-storage-performance/image7.png)

## <a name="throttling"></a><span data-ttu-id="8d7b3-685">Ograniczanie przepływności</span><span class="sxs-lookup"><span data-stu-id="8d7b3-685">Throttling</span></span>
<span data-ttu-id="8d7b3-686">Azure Premium Storage przepisy określona liczba IOPS i Przepływność w zależności od hello rozmiarów maszyn wirtualnych i rozmiary dysków, którą wybierzesz.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-686">Azure Premium Storage provisions specified number of IOPS and Throughput depending on hello VM sizes and disk sizes you choose.</span></span> <span data-ttu-id="8d7b3-687">W dowolnym momencie aplikacja podejmie próbę toodrive IOPS lub przepływności powyżej tych limitów jakie hello maszyny Wirtualnej lub dysku może obsłużyć, będzie ograniczane przez Magazyn w warstwie Premium.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-687">Anytime your application tries toodrive IOPS or Throughput above these limits of what hello VM or disk can handle, Premium Storage will throttle it.</span></span> <span data-ttu-id="8d7b3-688">To manifesty w formie hello pogorszenie wydajności w aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-688">This manifests in hello form of degraded performance in your application.</span></span> <span data-ttu-id="8d7b3-689">To oznacza większego opóźnienia, zmniejszenia przepustowości lub zmniejszyć liczbę IOPS.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-689">This can mean higher latency, lower Throughput or lower IOPS.</span></span> <span data-ttu-id="8d7b3-690">Jeśli magazyn w warstwie Premium nie ograniczenie przepustowości, aplikacji całkowicie może zakończyć się niepowodzeniem przekroczenia co jej zasoby są w stanie realizacji.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-690">If Premium Storage does not throttle, your application could completely fail by exceeding what its resources are capable of achieving.</span></span> <span data-ttu-id="8d7b3-691">Tak, z powodu problemów wydajności tooavoid toothrottling, zawsze należy zasoby odpowiednie do aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-691">So, tooavoid performance issues due toothrottling, always provision sufficient resources for your application.</span></span> <span data-ttu-id="8d7b3-692">Wziąć pod uwagę, omówiono w sekcji rozmiary dysku powyżej i hello rozmiarów maszyn wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-692">Take into consideration what we discussed in hello VM sizes and Disk sizes sections above.</span></span> <span data-ttu-id="8d7b3-693">Przeprowadzenia testów porównawczych jest hello najlepsze sposób toofigure limit zasobów, konieczne będzie toohost aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-693">Benchmarking is hello best way toofigure out what resources you will need toohost your application.</span></span>

## <a name="benchmarking"></a><span data-ttu-id="8d7b3-694">Przeprowadzenia testów porównawczych</span><span class="sxs-lookup"><span data-stu-id="8d7b3-694">Benchmarking</span></span>
<span data-ttu-id="8d7b3-695">Przeprowadzenia testów porównawczych, to proces hello symulowanie różnych obciążeń w swojej aplikacji i pomiaru wydajności aplikacji hello dla poszczególnych obciążeń.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-695">Benchmarking is hello process of simulating different workloads on your application and measuring hello application performance for each workload.</span></span> <span data-ttu-id="8d7b3-696">Hello opisane w sekcji wcześniej zostały zebrane wymagania dotyczące wydajności aplikacji hello.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-696">Using hello steps described in an earlier section, you have gathered hello application performance requirements.</span></span> <span data-ttu-id="8d7b3-697">Uruchamiając przeprowadzenia testów porównawczych narzędzia na maszynach wirtualnych hello hosting aplikacji hello, można określić hello poziomów wydajności, które aplikacji można uzyskać z magazyn w warstwie Premium.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-697">By running benchmarking tools on hello VMs hosting hello application, you can determine hello performance levels that your application can achieve with Premium Storage.</span></span> <span data-ttu-id="8d7b3-698">W tej sekcji możemy umożliwiają przykłady przeprowadzenia testów porównawczych standardowa maszyna VM DS14 udostępniane z dysków Azure Premium Storage.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-698">In this section, we provide you examples of benchmarking a Standard DS14 VM provisioned with Azure Premium Storage disks.</span></span>

<span data-ttu-id="8d7b3-699">Odpowiednio użyliśmy najlepszymi narzędziom Iometer i FIO, systemu Windows i Linux.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-699">We have used common benchmarking tools Iometer and FIO, for Windows and Linux respectively.</span></span> <span data-ttu-id="8d7b3-700">Te narzędzia zduplikować wiele wątków symulując produkcji, takich jak obciążenia i wydajność systemu hello miary.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-700">These tools spawn multiple threads simulating a production like workload, and measure hello system performance.</span></span> <span data-ttu-id="8d7b3-701">Za pomocą narzędzi hello można również skonfigurować parametry, takie jak głębokość bloku rozmiar i kolejki, które normalnie nie można zmienić dla aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-701">Using hello tools you can also configure parameters like block size and queue depth, which you normally cannot change for an application.</span></span> <span data-ttu-id="8d7b3-702">Zapewnia to większą elastyczność toodrive hello maksymalną wydajność na dużą skalę udostępniane z dysków w warstwie premium dla różnych typów aplikacji obciążeń maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-702">This gives you more flexibility toodrive hello maximum performance on a high scale VM provisioned with premium disks for different types of application workloads.</span></span> <span data-ttu-id="8d7b3-703">można znaleźć więcej informacji na temat narzędzia najlepszymi toolearn [Iometer](http://www.iometer.org/) i [FIO](http://freecode.com/projects/fio).</span><span class="sxs-lookup"><span data-stu-id="8d7b3-703">toolearn more about each benchmarking tool visit [Iometer](http://www.iometer.org/) and [FIO](http://freecode.com/projects/fio).</span></span>

<span data-ttu-id="8d7b3-704">Przykłady hello toofollow poniżej, utworzyć Maszynę wirtualną DS14 standardowe i Dołącz 11 magazyn w warstwie Premium toohello dysków maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-704">toofollow hello examples below, create a Standard DS14 VM and attach 11 Premium Storage disks toohello VM.</span></span> <span data-ttu-id="8d7b3-705">Hello 11 dysków skonfiguruj 10 dysków z buforowania jako "None" na hoście, a paskowych je na wolumin o nazwie NoCacheWrites.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-705">Of hello 11 disks, configure 10 disks with host caching as "None" and stripe them into a volume called NoCacheWrites.</span></span> <span data-ttu-id="8d7b3-706">Konfigurowanie buforowania jako "ReadOnly" hello pozostałych dysku hosta i Utwórz wolumin o nazwie CacheReads z tego dysku.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-706">Configure host caching as "ReadOnly" on hello remaining disk and create a volume called CacheReads with this disk.</span></span> <span data-ttu-id="8d7b3-707">Przy użyciu tej konfiguracji, będzie toosee stanie hello maksymalną odczytu i zapisu wydajności z standardowe DS14 maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-707">Using this setup, you will be able toosee hello maximum Read and Write performance from a Standard DS14 VM.</span></span> <span data-ttu-id="8d7b3-708">Aby uzyskać szczegółowe instrukcje dotyczące tworzenia maszyny Wirtualnej DS14 z dysków w warstwie premium, przejdź zbyt[tworzenie i używanie konta magazynu Premium dla dysku danych maszyny wirtualnej](../storage-premium-storage.md).</span><span class="sxs-lookup"><span data-stu-id="8d7b3-708">For detailed steps about creating a DS14 VM with premium disks, go too[Create and use a Premium Storage account for a virtual machine data disk](../storage-premium-storage.md).</span></span>

<span data-ttu-id="8d7b3-709">*Wstępne wypełnianie hello pamięci podręcznej*</span><span class="sxs-lookup"><span data-stu-id="8d7b3-709">*Warming up hello Cache*</span></span>  
<span data-ttu-id="8d7b3-710">dysk Hello z buforowania na hoście tylko do odczytu będzie możliwe toogive IOPS wyższe niż limit hello na dysku.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-710">hello disk with ReadOnly host caching will be able toogive higher IOPS than hello disk limit.</span></span> <span data-ttu-id="8d7b3-711">tooget Maksymalna wydajność odczytu z pamięci podręcznej hosta hello, najpierw należy rozgrzewki pamięci podręcznej hello tego dysku.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-711">tooget this maximum read performance from hello host cache, first you must warm up hello cache of this disk.</span></span> <span data-ttu-id="8d7b3-712">Dzięki temu tego hello IOs odczytu najlepszymi narzędzie, które będą miały na woluminie CacheReads faktycznie trafienia pamięci podręcznej hello i nie hello dysku bezpośrednio.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-712">This ensures that hello Read IOs which benchmarking tool will drive on CacheReads volume actually hits hello cache and not hello disk directly.</span></span> <span data-ttu-id="8d7b3-713">wynik trafień w pamięci podręcznej Hello dodatkowe IOPS z pamięci podręcznej pojedynczego hello włączone dysku.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-713">hello cache hits result in additional IOPS from hello single cache enabled disk.</span></span>

> <span data-ttu-id="8d7b3-714">**Ważne:**</span><span class="sxs-lookup"><span data-stu-id="8d7b3-714">**Important:**</span></span>  
> <span data-ttu-id="8d7b3-715">Przed uruchomieniem przeprowadzenia testów porównawczych, za każdym razem, gdy ponownego uruchomienia maszyny Wirtualnej musi rozgrzewki hello pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-715">You must warm up hello cache before running benchmarking, every time VM is rebooted.</span></span>
>
>

#### <a name="iometer"></a><span data-ttu-id="8d7b3-716">Iometer</span><span class="sxs-lookup"><span data-stu-id="8d7b3-716">Iometer</span></span>
<span data-ttu-id="8d7b3-717">[Pobierz narzędzie Iometer hello](http://sourceforge.net/projects/iometer/files/iometer-stable/2006-07-27/iometer-2006.07.27.win32.i386-setup.exe/download) na powitania maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-717">[Download hello Iometer tool](http://sourceforge.net/projects/iometer/files/iometer-stable/2006-07-27/iometer-2006.07.27.win32.i386-setup.exe/download) on hello VM.</span></span>

<span data-ttu-id="8d7b3-718">*Plik testowy*</span><span class="sxs-lookup"><span data-stu-id="8d7b3-718">*Test file*</span></span>  
<span data-ttu-id="8d7b3-719">Iometer używa plik testu, który jest przechowywana w woluminie hello, na którym będzie uruchomiona hello przeprowadzenia testów porównawczych testu.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-719">Iometer uses a test file that is stored on hello volume on which you will run hello benchmarking test.</span></span> <span data-ttu-id="8d7b3-720">Go dyski odczyty i zapisy na ten test dysku z plikiem toomeasure hello IOPS i przepustowość.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-720">It drives Reads and Writes on this test file toomeasure hello disk IOPS and Throughput.</span></span> <span data-ttu-id="8d7b3-721">Iometer tworzy ten plik testu, jeśli nie podano jeden.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-721">Iometer creates this test file if you have not provided one.</span></span> <span data-ttu-id="8d7b3-722">Utwórz plik testu 200GB o nazwie iobw.tst na powitania CacheReads i NoCacheWrites woluminów.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-722">Create a 200GB test file called iobw.tst on hello CacheReads and NoCacheWrites volumes.</span></span>

<span data-ttu-id="8d7b3-723">*Specyfikacje dostępu*</span><span class="sxs-lookup"><span data-stu-id="8d7b3-723">*Access Specifications*</span></span>  
<span data-ttu-id="8d7b3-724">Witaj specyfikacji, żądań We/Wy rozmiar % odczytu/zapisu, % losowe/sekwencyjne są konfigurowane za pomocą karty "Specyfikacje dostępu" hello w Iometer.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-724">hello specifications, request IO size, % read/write, % random/sequential are configured using hello "Access Specifications" tab in Iometer.</span></span> <span data-ttu-id="8d7b3-725">Specyfikacja dostępu tworzone dla poszczególnych scenariuszy hello opisane poniżej.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-725">Create an access specification for each of hello scenarios described below.</span></span> <span data-ttu-id="8d7b3-726">Tworzenie hello specyfikacje dostępu i przycisk Zapisz, odpowiedni nazywanie jak — RandomWrites\_8 kilobajtów RandomReads\_8 kilobajtów.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-726">Create hello access specifications and "Save" with an appropriate name like – RandomWrites\_8K, RandomReads\_8K.</span></span> <span data-ttu-id="8d7b3-727">Wybierz odpowiednie specyfikacji hello podczas uruchamiania hello scenariusza testu.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-727">Select hello corresponding specification when running hello test scenario.</span></span>

<span data-ttu-id="8d7b3-728">Przykład dostępu specyfikacji maksymalne IOPS zapisu scenariusz przedstawiono poniżej,</span><span class="sxs-lookup"><span data-stu-id="8d7b3-728">An example of access specifications for maximum Write IOPS scenario is shown below,</span></span>  
    ![](media/storage-premium-storage-performance/image8.png)

<span data-ttu-id="8d7b3-729">*Maksymalna liczba IOPS specyfikacje testu*</span><span class="sxs-lookup"><span data-stu-id="8d7b3-729">*Maximum IOPS Test Specifications*</span></span>  
<span data-ttu-id="8d7b3-730">toodemonstrate maksymalne IOPs, użyj mniejszy rozmiar żądania.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-730">toodemonstrate maximum IOPs, use smaller request size.</span></span> <span data-ttu-id="8d7b3-731">Użyj rozmiar żądania 8 KB i Utwórz specyfikacje zapisów losowych i odczytów.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-731">Use 8K request size and create specifications for Random Writes and Reads.</span></span>

| <span data-ttu-id="8d7b3-732">Specyfikacja dostępu</span><span class="sxs-lookup"><span data-stu-id="8d7b3-732">Access Specification</span></span> | <span data-ttu-id="8d7b3-733">Rozmiar żądania</span><span class="sxs-lookup"><span data-stu-id="8d7b3-733">Request size</span></span> | <span data-ttu-id="8d7b3-734">Losowe %</span><span class="sxs-lookup"><span data-stu-id="8d7b3-734">Random %</span></span> | <span data-ttu-id="8d7b3-735">% Odczytu</span><span class="sxs-lookup"><span data-stu-id="8d7b3-735">Read %</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="8d7b3-736">RandomWrites\_8 kilobajtów</span><span class="sxs-lookup"><span data-stu-id="8d7b3-736">RandomWrites\_8K</span></span> |<span data-ttu-id="8d7b3-737">8 KB</span><span class="sxs-lookup"><span data-stu-id="8d7b3-737">8K</span></span> |<span data-ttu-id="8d7b3-738">100</span><span class="sxs-lookup"><span data-stu-id="8d7b3-738">100</span></span> |<span data-ttu-id="8d7b3-739">0</span><span class="sxs-lookup"><span data-stu-id="8d7b3-739">0</span></span> |
| <span data-ttu-id="8d7b3-740">RandomReads\_8 kilobajtów</span><span class="sxs-lookup"><span data-stu-id="8d7b3-740">RandomReads\_8K</span></span> |<span data-ttu-id="8d7b3-741">8 KB</span><span class="sxs-lookup"><span data-stu-id="8d7b3-741">8K</span></span> |<span data-ttu-id="8d7b3-742">100</span><span class="sxs-lookup"><span data-stu-id="8d7b3-742">100</span></span> |<span data-ttu-id="8d7b3-743">100</span><span class="sxs-lookup"><span data-stu-id="8d7b3-743">100</span></span> |

<span data-ttu-id="8d7b3-744">*Maksymalna przepustowość specyfikacje testu*</span><span class="sxs-lookup"><span data-stu-id="8d7b3-744">*Maximum Throughput Test Specifications*</span></span>  
<span data-ttu-id="8d7b3-745">toodemonstrate maksymalną przepustowość, użyj większy rozmiar żądania.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-745">toodemonstrate maximum Throughput, use larger request size.</span></span> <span data-ttu-id="8d7b3-746">Użyj 64 KB rozmiaru żądania i Utwórz specyfikacje zapisów losowych i odczytów.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-746">Use 64K request size and create specifications for Random Writes and Reads.</span></span>

| <span data-ttu-id="8d7b3-747">Specyfikacja dostępu</span><span class="sxs-lookup"><span data-stu-id="8d7b3-747">Access Specification</span></span> | <span data-ttu-id="8d7b3-748">Rozmiar żądania</span><span class="sxs-lookup"><span data-stu-id="8d7b3-748">Request size</span></span> | <span data-ttu-id="8d7b3-749">Losowe %</span><span class="sxs-lookup"><span data-stu-id="8d7b3-749">Random %</span></span> | <span data-ttu-id="8d7b3-750">% Odczytu</span><span class="sxs-lookup"><span data-stu-id="8d7b3-750">Read %</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="8d7b3-751">RandomWrites\_64 KB</span><span class="sxs-lookup"><span data-stu-id="8d7b3-751">RandomWrites\_64K</span></span> |<span data-ttu-id="8d7b3-752">64K</span><span class="sxs-lookup"><span data-stu-id="8d7b3-752">64K</span></span> |<span data-ttu-id="8d7b3-753">100</span><span class="sxs-lookup"><span data-stu-id="8d7b3-753">100</span></span> |<span data-ttu-id="8d7b3-754">0</span><span class="sxs-lookup"><span data-stu-id="8d7b3-754">0</span></span> |
| <span data-ttu-id="8d7b3-755">RandomReads\_64 KB</span><span class="sxs-lookup"><span data-stu-id="8d7b3-755">RandomReads\_64K</span></span> |<span data-ttu-id="8d7b3-756">64K</span><span class="sxs-lookup"><span data-stu-id="8d7b3-756">64K</span></span> |<span data-ttu-id="8d7b3-757">100</span><span class="sxs-lookup"><span data-stu-id="8d7b3-757">100</span></span> |<span data-ttu-id="8d7b3-758">100</span><span class="sxs-lookup"><span data-stu-id="8d7b3-758">100</span></span> |

<span data-ttu-id="8d7b3-759">*Uruchomiona hello Iometer testu*</span><span class="sxs-lookup"><span data-stu-id="8d7b3-759">*Running hello Iometer Test*</span></span>  
<span data-ttu-id="8d7b3-760">Wykonaj kroki hello poniżej toowarm się pamięci podręcznej</span><span class="sxs-lookup"><span data-stu-id="8d7b3-760">Perform hello steps below toowarm up cache</span></span>

1. <span data-ttu-id="8d7b3-761">Utwórz dwa specyfikacje dostępu z wartościami pokazano poniżej,</span><span class="sxs-lookup"><span data-stu-id="8d7b3-761">Create two access specifications with values shown below,</span></span>

   | <span data-ttu-id="8d7b3-762">Nazwa</span><span class="sxs-lookup"><span data-stu-id="8d7b3-762">Name</span></span> | <span data-ttu-id="8d7b3-763">Rozmiar żądania</span><span class="sxs-lookup"><span data-stu-id="8d7b3-763">Request size</span></span> | <span data-ttu-id="8d7b3-764">Losowe %</span><span class="sxs-lookup"><span data-stu-id="8d7b3-764">Random %</span></span> | <span data-ttu-id="8d7b3-765">% Odczytu</span><span class="sxs-lookup"><span data-stu-id="8d7b3-765">Read %</span></span> |
   | --- | --- | --- | --- |
   | <span data-ttu-id="8d7b3-766">RandomWrites\_1 MB</span><span class="sxs-lookup"><span data-stu-id="8d7b3-766">RandomWrites\_1MB</span></span> |<span data-ttu-id="8d7b3-767">1MB</span><span class="sxs-lookup"><span data-stu-id="8d7b3-767">1MB</span></span> |<span data-ttu-id="8d7b3-768">100</span><span class="sxs-lookup"><span data-stu-id="8d7b3-768">100</span></span> |<span data-ttu-id="8d7b3-769">0</span><span class="sxs-lookup"><span data-stu-id="8d7b3-769">0</span></span> |
   | <span data-ttu-id="8d7b3-770">RandomReads\_1 MB</span><span class="sxs-lookup"><span data-stu-id="8d7b3-770">RandomReads\_1MB</span></span> |<span data-ttu-id="8d7b3-771">1MB</span><span class="sxs-lookup"><span data-stu-id="8d7b3-771">1MB</span></span> |<span data-ttu-id="8d7b3-772">100</span><span class="sxs-lookup"><span data-stu-id="8d7b3-772">100</span></span> |<span data-ttu-id="8d7b3-773">100</span><span class="sxs-lookup"><span data-stu-id="8d7b3-773">100</span></span> |
2. <span data-ttu-id="8d7b3-774">Uruchom test Iometer hello inicjowania dysku pamięci podręcznej z następującymi parametrami.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-774">Run hello Iometer test for initializing cache disk with following parameters.</span></span> <span data-ttu-id="8d7b3-775">Użyj trzech wątków roboczych dla woluminu docelowego hello i głębokości kolejki wynoszącej 128.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-775">Use three worker threads for hello target volume and a queue depth of 128.</span></span> <span data-ttu-id="8d7b3-776">Ustaw hello hello too2hrs testu na karcie "Testowania instalacji" hello "Czas wykonywania" czas trwania.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-776">Set hello "Run time" duration of hello test too2hrs on hello "Test Setup" tab.</span></span>

   | <span data-ttu-id="8d7b3-777">Scenariusz</span><span class="sxs-lookup"><span data-stu-id="8d7b3-777">Scenario</span></span> | <span data-ttu-id="8d7b3-778">Wolumin docelowy</span><span class="sxs-lookup"><span data-stu-id="8d7b3-778">Target Volume</span></span> | <span data-ttu-id="8d7b3-779">Nazwa</span><span class="sxs-lookup"><span data-stu-id="8d7b3-779">Name</span></span> | <span data-ttu-id="8d7b3-780">Czas trwania</span><span class="sxs-lookup"><span data-stu-id="8d7b3-780">Duration</span></span> |
   | --- | --- | --- | --- |
   | <span data-ttu-id="8d7b3-781">Inicjowanie dysku pamięci podręcznej</span><span class="sxs-lookup"><span data-stu-id="8d7b3-781">Initialize Cache Disk</span></span> |<span data-ttu-id="8d7b3-782">CacheReads</span><span class="sxs-lookup"><span data-stu-id="8d7b3-782">CacheReads</span></span> |<span data-ttu-id="8d7b3-783">RandomWrites\_1 MB</span><span class="sxs-lookup"><span data-stu-id="8d7b3-783">RandomWrites\_1MB</span></span> |<span data-ttu-id="8d7b3-784">2hrs</span><span class="sxs-lookup"><span data-stu-id="8d7b3-784">2hrs</span></span> |
3. <span data-ttu-id="8d7b3-785">Uruchom test Iometer hello rozgrzewania dysku pamięci podręcznej z następującymi parametrami.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-785">Run hello Iometer test for warming up cache disk with following parameters.</span></span> <span data-ttu-id="8d7b3-786">Użyj trzech wątków roboczych dla woluminu docelowego hello i głębokości kolejki wynoszącej 128.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-786">Use three worker threads for hello target volume and a queue depth of 128.</span></span> <span data-ttu-id="8d7b3-787">Ustaw hello hello too2hrs testu na karcie "Testowania instalacji" hello "Czas wykonywania" czas trwania.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-787">Set hello "Run time" duration of hello test too2hrs on hello "Test Setup" tab.</span></span>

   | <span data-ttu-id="8d7b3-788">Scenariusz</span><span class="sxs-lookup"><span data-stu-id="8d7b3-788">Scenario</span></span> | <span data-ttu-id="8d7b3-789">Wolumin docelowy</span><span class="sxs-lookup"><span data-stu-id="8d7b3-789">Target Volume</span></span> | <span data-ttu-id="8d7b3-790">Nazwa</span><span class="sxs-lookup"><span data-stu-id="8d7b3-790">Name</span></span> | <span data-ttu-id="8d7b3-791">Czas trwania</span><span class="sxs-lookup"><span data-stu-id="8d7b3-791">Duration</span></span> |
   | --- | --- | --- | --- |
   | <span data-ttu-id="8d7b3-792">Ciepłych dysk pamięci podręcznej</span><span class="sxs-lookup"><span data-stu-id="8d7b3-792">Warm up Cache Disk</span></span> |<span data-ttu-id="8d7b3-793">CacheReads</span><span class="sxs-lookup"><span data-stu-id="8d7b3-793">CacheReads</span></span> |<span data-ttu-id="8d7b3-794">RandomReads\_1 MB</span><span class="sxs-lookup"><span data-stu-id="8d7b3-794">RandomReads\_1MB</span></span> |<span data-ttu-id="8d7b3-795">2hrs</span><span class="sxs-lookup"><span data-stu-id="8d7b3-795">2hrs</span></span> |

<span data-ttu-id="8d7b3-796">Po pamięci podręcznej dysku jest przygotowaniu miejsca, przejdź do scenariuszy testowania hello wymienionych poniżej.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-796">After cache disk is warmed up, proceed with hello test scenarios listed below.</span></span> <span data-ttu-id="8d7b3-797">Witaj toorun Iometer testu, użyj co najmniej trzech wątków roboczych dla **każdego** woluminu docelowego.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-797">toorun hello Iometer test, use at least three worker threads for **each** target volume.</span></span> <span data-ttu-id="8d7b3-798">Dla każdego wątku roboczego wybierz wolumin docelowy hello, Ustawia głębokość kolejki, a następnie wybierz jedno specyfikacji testu hello zapisane, jak pokazano w tabeli hello poniżej toorun hello odpowiedniego scenariusza testu.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-798">For each worker thread, select hello target volume, set queue depth and select one of hello saved test specifications, as shown in hello table below, toorun hello corresponding test scenario.</span></span> <span data-ttu-id="8d7b3-799">Witaj tabeli przedstawiono również oczekiwanych rezultatów IOPS i przepływności podczas uruchamiania tych testów.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-799">hello table also shows expected results for IOPS and Throughput when running these tests.</span></span> <span data-ttu-id="8d7b3-800">W przypadku wszystkich scenariuszy mały rozmiar we/wy 8 KB i głębokości kolejki wysoki 128 jest używany.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-800">For all scenarios, a small IO size of 8KB and a high queue depth of 128 is used.</span></span>

| <span data-ttu-id="8d7b3-801">Scenariusz testów</span><span class="sxs-lookup"><span data-stu-id="8d7b3-801">Test Scenario</span></span> | <span data-ttu-id="8d7b3-802">Wolumin docelowy</span><span class="sxs-lookup"><span data-stu-id="8d7b3-802">Target Volume</span></span> | <span data-ttu-id="8d7b3-803">Nazwa</span><span class="sxs-lookup"><span data-stu-id="8d7b3-803">Name</span></span> | <span data-ttu-id="8d7b3-804">wynik</span><span class="sxs-lookup"><span data-stu-id="8d7b3-804">Result</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="8d7b3-805">Maksymalnie z</span><span class="sxs-lookup"><span data-stu-id="8d7b3-805">Max.</span></span> <span data-ttu-id="8d7b3-806">IOPS odczytu</span><span class="sxs-lookup"><span data-stu-id="8d7b3-806">Read IOPS</span></span> |<span data-ttu-id="8d7b3-807">CacheReads</span><span class="sxs-lookup"><span data-stu-id="8d7b3-807">CacheReads</span></span> |<span data-ttu-id="8d7b3-808">RandomWrites\_8 kilobajtów</span><span class="sxs-lookup"><span data-stu-id="8d7b3-808">RandomWrites\_8K</span></span> |<span data-ttu-id="8d7b3-809">50 000 IOPS</span><span class="sxs-lookup"><span data-stu-id="8d7b3-809">50,000 IOPS</span></span> |
| <span data-ttu-id="8d7b3-810">Maksymalnie z</span><span class="sxs-lookup"><span data-stu-id="8d7b3-810">Max.</span></span> <span data-ttu-id="8d7b3-811">Zapis IOPS</span><span class="sxs-lookup"><span data-stu-id="8d7b3-811">Write IOPS</span></span> |<span data-ttu-id="8d7b3-812">NoCacheWrites</span><span class="sxs-lookup"><span data-stu-id="8d7b3-812">NoCacheWrites</span></span> |<span data-ttu-id="8d7b3-813">RandomReads\_8 kilobajtów</span><span class="sxs-lookup"><span data-stu-id="8d7b3-813">RandomReads\_8K</span></span> |<span data-ttu-id="8d7b3-814">IOPS 64 000</span><span class="sxs-lookup"><span data-stu-id="8d7b3-814">64,000 IOPS</span></span> |
| <span data-ttu-id="8d7b3-815">Maksymalnie z</span><span class="sxs-lookup"><span data-stu-id="8d7b3-815">Max.</span></span> <span data-ttu-id="8d7b3-816">Łączna liczba IOPS.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-816">Combined IOPS</span></span> |<span data-ttu-id="8d7b3-817">CacheReads</span><span class="sxs-lookup"><span data-stu-id="8d7b3-817">CacheReads</span></span> |<span data-ttu-id="8d7b3-818">RandomWrites\_8 kilobajtów</span><span class="sxs-lookup"><span data-stu-id="8d7b3-818">RandomWrites\_8K</span></span> |<span data-ttu-id="8d7b3-819">100 000 IOPS</span><span class="sxs-lookup"><span data-stu-id="8d7b3-819">100,000 IOPS</span></span> |
| <span data-ttu-id="8d7b3-820">NoCacheWrites</span><span class="sxs-lookup"><span data-stu-id="8d7b3-820">NoCacheWrites</span></span> |<span data-ttu-id="8d7b3-821">RandomReads\_8 kilobajtów</span><span class="sxs-lookup"><span data-stu-id="8d7b3-821">RandomReads\_8K</span></span> | &nbsp; | &nbsp; |
| <span data-ttu-id="8d7b3-822">Maksymalnie z</span><span class="sxs-lookup"><span data-stu-id="8d7b3-822">Max.</span></span> <span data-ttu-id="8d7b3-823">Odczyt MB/s</span><span class="sxs-lookup"><span data-stu-id="8d7b3-823">Read MB/sec</span></span> |<span data-ttu-id="8d7b3-824">CacheReads</span><span class="sxs-lookup"><span data-stu-id="8d7b3-824">CacheReads</span></span> |<span data-ttu-id="8d7b3-825">RandomWrites\_64 KB</span><span class="sxs-lookup"><span data-stu-id="8d7b3-825">RandomWrites\_64K</span></span> |<span data-ttu-id="8d7b3-826">524 MB/s</span><span class="sxs-lookup"><span data-stu-id="8d7b3-826">524 MB/sec</span></span> |
| <span data-ttu-id="8d7b3-827">Maksymalnie z</span><span class="sxs-lookup"><span data-stu-id="8d7b3-827">Max.</span></span> <span data-ttu-id="8d7b3-828">Zapisane MB/s</span><span class="sxs-lookup"><span data-stu-id="8d7b3-828">Write MB/sec</span></span> |<span data-ttu-id="8d7b3-829">NoCacheWrites</span><span class="sxs-lookup"><span data-stu-id="8d7b3-829">NoCacheWrites</span></span> |<span data-ttu-id="8d7b3-830">RandomReads\_64 KB</span><span class="sxs-lookup"><span data-stu-id="8d7b3-830">RandomReads\_64K</span></span> |<span data-ttu-id="8d7b3-831">524 MB/s</span><span class="sxs-lookup"><span data-stu-id="8d7b3-831">524 MB/sec</span></span> |
| <span data-ttu-id="8d7b3-832">Łączna MB/s</span><span class="sxs-lookup"><span data-stu-id="8d7b3-832">Combined MB/sec</span></span> |<span data-ttu-id="8d7b3-833">CacheReads</span><span class="sxs-lookup"><span data-stu-id="8d7b3-833">CacheReads</span></span> |<span data-ttu-id="8d7b3-834">RandomWrites\_64 KB</span><span class="sxs-lookup"><span data-stu-id="8d7b3-834">RandomWrites\_64K</span></span> |<span data-ttu-id="8d7b3-835">1000 MB/s</span><span class="sxs-lookup"><span data-stu-id="8d7b3-835">1000 MB/sec</span></span> |
| <span data-ttu-id="8d7b3-836">NoCacheWrites</span><span class="sxs-lookup"><span data-stu-id="8d7b3-836">NoCacheWrites</span></span> |<span data-ttu-id="8d7b3-837">RandomReads\_64 KB</span><span class="sxs-lookup"><span data-stu-id="8d7b3-837">RandomReads\_64K</span></span> | &nbsp; | &nbsp; |

<span data-ttu-id="8d7b3-838">Poniżej przedstawiono zrzuty ekranu hello Iometer wyników testu w scalonej scenariuszach IOPS i przepływności.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-838">Below are screenshots of hello Iometer test results for combined IOPS and Throughput scenarios.</span></span>

<span data-ttu-id="8d7b3-839">*Łączna odczyty i zapisy maksymalna liczba IOPS*</span><span class="sxs-lookup"><span data-stu-id="8d7b3-839">*Combined Reads and Writes Maximum IOPS*</span></span>  
![](media/storage-premium-storage-performance/image9.png)

<span data-ttu-id="8d7b3-840">*Łączna odczyty i zapisy maksymalną przepustowość*</span><span class="sxs-lookup"><span data-stu-id="8d7b3-840">*Combined Reads and Writes Maximum Throughput*</span></span>  
![](media/storage-premium-storage-performance/image10.png)

### <a name="fio"></a><span data-ttu-id="8d7b3-841">FIO</span><span class="sxs-lookup"><span data-stu-id="8d7b3-841">FIO</span></span>
<span data-ttu-id="8d7b3-842">FIO jest magazynem toobenchmark popularne narzędzia na powitania maszyn wirtualnych systemu Linux.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-842">FIO is a popular tool toobenchmark storage on hello Linux VMs.</span></span> <span data-ttu-id="8d7b3-843">Ma hello elastyczność tooselect różne we/wy rozmiary, sekwencyjnych lub losowych odczyty i zapisy.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-843">It has hello flexibility tooselect different IO sizes, sequential or random reads and writes.</span></span> <span data-ttu-id="8d7b3-844">Go spowoduje utworzenie wątków roboczych lub hello tooperform procesów określony operacji We/Wy.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-844">It spawns worker threads or processes tooperform hello specified I/O operations.</span></span> <span data-ttu-id="8d7b3-845">Można określić typu hello operacji We/Wy każdego wątku roboczego należy wykonać przy użyciu plików zadania.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-845">You can specify hello type of I/O operations each worker thread must perform using job files.</span></span> <span data-ttu-id="8d7b3-846">Utworzono jeden plik zadania na scenariuszu przedstawiono w poniższych przykładach hello.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-846">We created one job file per scenario illustrated in hello examples below.</span></span> <span data-ttu-id="8d7b3-847">Możesz zmienić hello specyfikacjach te zadania pliki toobenchmark różnych obciążeń uruchomionych na magazyn w warstwie Premium.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-847">You can change hello specifications in these job files toobenchmark different workloads running on Premium Storage.</span></span> <span data-ttu-id="8d7b3-848">W przykładach hello jest używany uruchomiona standardowa maszyna VM 14 DS **Ubuntu**.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-848">In hello examples, we are using a Standard DS 14 VM running **Ubuntu**.</span></span> <span data-ttu-id="8d7b3-849">Użyj hello tę samą konfigurację opisano w hello początku hello [przeprowadzenia testów porównawczych sekcji](#Benchmarking) i ciepłych zapasowej pamięci podręcznej hello przed uruchomieniem hello przeprowadzenia testów porównawczych testów.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-849">Use hello same setup described in hello beginning of hello [Benchmarking section](#Benchmarking) and warm up hello cache before running hello benchmarking tests.</span></span>

<span data-ttu-id="8d7b3-850">Przed rozpoczęciem [Pobierz FIO](https://github.com/axboe/fio) i zainstalować ją na maszynie wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-850">Before you begin, [download FIO](https://github.com/axboe/fio) and install it on your virtual machine.</span></span>

<span data-ttu-id="8d7b3-851">Uruchom następujące polecenie dla Ubuntu, hello</span><span class="sxs-lookup"><span data-stu-id="8d7b3-851">Run hello following command for Ubuntu,</span></span>

```
apt-get install fio
```

<span data-ttu-id="8d7b3-852">Używamy cztery wątków roboczych dla wspierania operacje zapisu i cztery wątków roboczych dla kierowania operacji odczytu na dyskach hello.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-852">We will use four worker threads for driving Write operations and four worker threads for driving Read operations on hello disks.</span></span> <span data-ttu-id="8d7b3-853">Hello pracowników zapisu będzie można kierowania ruchu na wolumin hello "nocache", który ma 10 dysków z pamięci podręcznej ustawić także "None".</span><span class="sxs-lookup"><span data-stu-id="8d7b3-853">hello Write workers will be driving traffic on hello "nocache" volume, which has 10 disks with cache set too"None".</span></span> <span data-ttu-id="8d7b3-854">Hello pracowników odczytu będzie można kierowania ruchu na woluminie hello "readcache", którego za dysk 1 z zestawu w pamięci podręcznej "ReadOnly".</span><span class="sxs-lookup"><span data-stu-id="8d7b3-854">hello Read workers will be driving traffic on hello "readcache" volume, which has 1 disk with cache set too"ReadOnly".</span></span>

<span data-ttu-id="8d7b3-855">*Zapis maksymalna liczba IOPS*</span><span class="sxs-lookup"><span data-stu-id="8d7b3-855">*Maximum Write IOPS*</span></span>  
<span data-ttu-id="8d7b3-856">Utwórz plik zadania hello z następujących specyfikacji tooget maksymalna liczba IOPS zapisu.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-856">Create hello job file with following specifications tooget maximum Write IOPS.</span></span> <span data-ttu-id="8d7b3-857">Nazwa "fiowrite.ini".</span><span class="sxs-lookup"><span data-stu-id="8d7b3-857">Name it "fiowrite.ini".</span></span>

```
[global]
size=30g
direct=1
iodepth=256
ioengine=libaio
bs=8k

[writer1]
rw=randwrite
directory=/mnt/nocache
[writer2]
rw=randwrite
directory=/mnt/nocache
[writer3]
rw=randwrite
directory=/mnt/nocache
[writer4]
rw=randwrite
directory=/mnt/nocache
```

<span data-ttu-id="8d7b3-858">Uwaga hello wykonaj rzeczy, które są zgodne z wytycznymi projektowania hello omówione w poprzednich sekcjach.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-858">Note hello follow key things that are in line with hello design guidelines discussed in previous sections.</span></span> <span data-ttu-id="8d7b3-859">W tych specyfikacjach są istotne toodrive maksymalna liczba IOPS,</span><span class="sxs-lookup"><span data-stu-id="8d7b3-859">These specifications are essential toodrive maximum IOPS,</span></span>  

* <span data-ttu-id="8d7b3-860">Głębokości kolejki wysokiej 256.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-860">A high queue depth of 256.</span></span>  
* <span data-ttu-id="8d7b3-861">Mała blok o rozmiarze 8KB.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-861">A small block size of 8KB.</span></span>  
* <span data-ttu-id="8d7b3-862">Wiele wątków wykonywania losowe zapisy.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-862">Multiple threads performing random writes.</span></span>

<span data-ttu-id="8d7b3-863">Uruchom hello następujące polecenia tookick poza hello FIO testu przez 30 sekund</span><span class="sxs-lookup"><span data-stu-id="8d7b3-863">Run hello following command tookick off hello FIO test for 30 seconds,</span></span>  

```
sudo fio --runtime 30 fiowrite.ini
```

<span data-ttu-id="8d7b3-864">Podczas wykonywania testu hello będzie możliwe toosee hello liczba zapisu, które są dostarczane hello IOPS dysków maszyny Wirtualnej i Premium.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-864">While hello test runs, you will be able toosee hello number of write IOPS hello VM and Premium disks are delivering.</span></span> <span data-ttu-id="8d7b3-865">Jak pokazano w poniższym przykładzie hello, hello DS14 maszyny Wirtualnej jest dostarczanie jego zapisu maksymalnego limitu IOPS 50 000 iops.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-865">As shown in hello sample below, hello DS14 VM is delivering its maximum write IOPS limit of 50,000 IOPS.</span></span>  
    ![](media/storage-premium-storage-performance/image11.png)

<span data-ttu-id="8d7b3-866">*Odczyt maksymalna liczba IOPS*</span><span class="sxs-lookup"><span data-stu-id="8d7b3-866">*Maximum Read IOPS*</span></span>  
<span data-ttu-id="8d7b3-867">Utwórz plik zadania hello z następujących specyfikacji tooget maksymalna liczba IOPS odczytu.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-867">Create hello job file with following specifications tooget maximum Read IOPS.</span></span> <span data-ttu-id="8d7b3-868">Nazwa "fioread.ini".</span><span class="sxs-lookup"><span data-stu-id="8d7b3-868">Name it "fioread.ini".</span></span>

```
[global]
size=30g
direct=1
iodepth=256
ioengine=libaio
bs=8k

[reader1]
rw=randread
directory=/mnt/readcache
[reader2]
rw=randread
directory=/mnt/readcache
[reader3]
rw=randread
directory=/mnt/readcache
[reader4]
rw=randread
directory=/mnt/readcache
```

<span data-ttu-id="8d7b3-869">Uwaga hello wykonaj rzeczy, które są zgodne z wytycznymi projektowania hello omówione w poprzednich sekcjach.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-869">Note hello follow key things that are in line with hello design guidelines discussed in previous sections.</span></span> <span data-ttu-id="8d7b3-870">W tych specyfikacjach są istotne toodrive maksymalna liczba IOPS,</span><span class="sxs-lookup"><span data-stu-id="8d7b3-870">These specifications are essential toodrive maximum IOPS,</span></span>

* <span data-ttu-id="8d7b3-871">Głębokości kolejki wysokiej 256.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-871">A high queue depth of 256.</span></span>  
* <span data-ttu-id="8d7b3-872">Mała blok o rozmiarze 8KB.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-872">A small block size of 8KB.</span></span>  
* <span data-ttu-id="8d7b3-873">Wiele wątków wykonywania losowe zapisy.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-873">Multiple threads performing random writes.</span></span>

<span data-ttu-id="8d7b3-874">Uruchom hello następujące polecenia tookick poza hello FIO testu przez 30 sekund</span><span class="sxs-lookup"><span data-stu-id="8d7b3-874">Run hello following command tookick off hello FIO test for 30 seconds,</span></span>

```
sudo fio --runtime 30 fioread.ini
```

<span data-ttu-id="8d7b3-875">Podczas wykonywania testu hello będziesz w stanie toosee hello liczba odczytu hello IOPS maszyny Wirtualnej i na tych dysków Premium.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-875">While hello test runs, you will be able toosee hello number of read IOPS hello VM and Premium disks are delivering.</span></span> <span data-ttu-id="8d7b3-876">Jak pokazano w poniższym przykładzie hello, hello DS14 maszyny Wirtualnej jest dostarczanie więcej niż 64 000 IOPS odczytu.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-876">As shown in hello sample below, hello DS14 VM is delivering more than 64,000 Read IOPS.</span></span> <span data-ttu-id="8d7b3-877">To jest kombinacją hello dysku i hello wydajność pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-877">This is a combination of hello disk and hello cache performance.</span></span>  
    ![](media/storage-premium-storage-performance/image12.png)

<span data-ttu-id="8d7b3-878">*Maksymalna odczytu i zapisu IOPS*</span><span class="sxs-lookup"><span data-stu-id="8d7b3-878">*Maximum Read and Write IOPS*</span></span>  
<span data-ttu-id="8d7b3-879">Utwórz plik zadania hello z następujących specyfikacji tooget maksymalną łączyć odczytu i zapisu IOPS.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-879">Create hello job file with following specifications tooget maximum combined Read and Write IOPS.</span></span> <span data-ttu-id="8d7b3-880">Nazwa "fioreadwrite.ini".</span><span class="sxs-lookup"><span data-stu-id="8d7b3-880">Name it "fioreadwrite.ini".</span></span>

```
[global]
size=30g
direct=1
iodepth=128
ioengine=libaio
bs=4k

[reader1]
rw=randread
directory=/mnt/readcache
[reader2]
rw=randread
directory=/mnt/readcache
[reader3]
rw=randread
directory=/mnt/readcache
[reader4]
rw=randread
directory=/mnt/readcache

[writer1]
rw=randwrite
directory=/mnt/nocache
rate_iops=12500
[writer2]
rw=randwrite
directory=/mnt/nocache
rate_iops=12500
[writer3]
rw=randwrite
directory=/mnt/nocache
rate_iops=12500
[writer4]
rw=randwrite
directory=/mnt/nocache
rate_iops=12500
```

<span data-ttu-id="8d7b3-881">Uwaga hello wykonaj rzeczy, które są zgodne z wytycznymi projektowania hello omówione w poprzednich sekcjach.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-881">Note hello follow key things that are in line with hello design guidelines discussed in previous sections.</span></span> <span data-ttu-id="8d7b3-882">W tych specyfikacjach są istotne toodrive maksymalna liczba IOPS,</span><span class="sxs-lookup"><span data-stu-id="8d7b3-882">These specifications are essential toodrive maximum IOPS,</span></span>

* <span data-ttu-id="8d7b3-883">Głębokość kolejki wysoki 128.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-883">A high queue depth of 128.</span></span>  
* <span data-ttu-id="8d7b3-884">Mała blok o rozmiarze 4KB.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-884">A small block size of 4KB.</span></span>  
* <span data-ttu-id="8d7b3-885">Wiele wątków wykonywania losowe odczytuje i zapisuje.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-885">Multiple threads performing random reads and writes.</span></span>

<span data-ttu-id="8d7b3-886">Uruchom hello następujące polecenia tookick poza hello FIO testu przez 30 sekund</span><span class="sxs-lookup"><span data-stu-id="8d7b3-886">Run hello following command tookick off hello FIO test for 30 seconds,</span></span>

```
sudo fio --runtime 30 fioreadwrite.ini
```

<span data-ttu-id="8d7b3-887">Podczas wykonywania testu hello będzie możliwe toosee hello liczbę połączonych odczytu i zapisu IOPS hello maszyny Wirtualnej i dysków w warstwie Premium są dostarczane.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-887">While hello test runs, you will be able toosee hello number of combined read and write IOPS hello VM and Premium disks are delivering.</span></span> <span data-ttu-id="8d7b3-888">Jak pokazano w poniższym przykładzie hello, hello DS14 maszyny Wirtualnej jest dostarczanie więcej niż 100 000 Scalonej odczytu i zapisu IOPS.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-888">As shown in hello sample below, hello DS14 VM is delivering more than 100,000 combined Read and Write IOPS.</span></span> <span data-ttu-id="8d7b3-889">To jest kombinacją hello dysku i hello wydajność pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-889">This is a combination of hello disk and hello cache performance.</span></span>  
    ![](media/storage-premium-storage-performance/image13.png)

<span data-ttu-id="8d7b3-890">*Maksymalny łączny przepływności*</span><span class="sxs-lookup"><span data-stu-id="8d7b3-890">*Maximum Combined Throughput*</span></span>  
<span data-ttu-id="8d7b3-891">hello tooget maksymalną połączyć odczytu i zapisu przepływności, korzystania z wielu wątków wykonywania odczyty i zapisy większy rozmiar bloku i dużych głębokości.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-891">tooget hello maximum combined Read and Write Throughput, use a larger block size and large queue depth with multiple threads performing reads and writes.</span></span> <span data-ttu-id="8d7b3-892">Można użyć blok o rozmiarze 64KB i głębokości kolejki wynoszącej 128.</span><span class="sxs-lookup"><span data-stu-id="8d7b3-892">You can use a block size of 64KB and queue depth of 128.</span></span>

## <a name="next-steps"></a><span data-ttu-id="8d7b3-893">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="8d7b3-893">Next Steps</span></span>
<span data-ttu-id="8d7b3-894">Dowiedz się więcej o usłudze Azure Premium Storage:</span><span class="sxs-lookup"><span data-stu-id="8d7b3-894">Learn more about Azure Premium Storage:</span></span>

* [<span data-ttu-id="8d7b3-895">Premium Storage: magazyn o wysokiej wydajności dla obciążeń maszyn wirtualnych platformy Azure</span><span class="sxs-lookup"><span data-stu-id="8d7b3-895">Premium Storage: High-Performance Storage for Azure Virtual Machine Workloads</span></span>](../storage-premium-storage.md)  

<span data-ttu-id="8d7b3-896">Dla użytkowników programu SQL Server zapoznaj się z artykułami na najlepsze rozwiązania w zakresie wydajności programu SQL Server:</span><span class="sxs-lookup"><span data-stu-id="8d7b3-896">For SQL Server users, read articles on Performance Best Practices for SQL Server:</span></span>

* [<span data-ttu-id="8d7b3-897">Wydajność najlepsze rozwiązania dotyczące programu SQL Server na maszynach wirtualnych Azure</span><span class="sxs-lookup"><span data-stu-id="8d7b3-897">Performance Best Practices for SQL Server in Azure Virtual Machines</span></span>](../../virtual-machines/windows/sql/virtual-machines-windows-sql-performance.md)
* [<span data-ttu-id="8d7b3-898">Usługa Azure Premium Storage oferuje najwyższej wydajności programu SQL Server w maszynie Wirtualnej platformy Azure</span><span class="sxs-lookup"><span data-stu-id="8d7b3-898">Azure Premium Storage provides highest performance for SQL Server in Azure VM</span></span>](http://blogs.technet.com/b/dataplatforminsider/archive/2015/04/23/azure-premium-storage-provides-highest-performance-for-sql-server-in-azure-vm.aspx)
