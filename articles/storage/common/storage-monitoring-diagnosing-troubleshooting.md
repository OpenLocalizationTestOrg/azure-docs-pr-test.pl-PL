---
title: "Monitorowanie, diagnozowanie i rozwiązywanie problemów z usługą Azure Storage | Dokumentacja firmy Microsoft"
description: "Korzystać z funkcji, takich jak analizy magazynu, rejestrowania po stronie klienta i innych narzędzi innych firm, aby zidentyfikować, diagnozowanie i rozwiązywanie problemów związanych z usługą Azure Storage."
services: storage
documentationcenter: 
author: fhryo-msft
manager: jahogg
editor: tysonn
ms.assetid: d1e87d98-c763-4caa-ba20-2cf85f853303
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/11/2017
ms.author: fhryo-msft
ms.openlocfilehash: 12db22d1444dc07a45db430c01407f9398e13bad
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 08/29/2017
---
# <a name="monitor-diagnose-and-troubleshoot-microsoft-azure-storage"></a><span data-ttu-id="899b1-103">Monitorowanie, diagnozowanie i rozwiązywanie problemów z usługą Microsoft Azure Storage</span><span class="sxs-lookup"><span data-stu-id="899b1-103">Monitor, diagnose, and troubleshoot Microsoft Azure Storage</span></span>
[!INCLUDE [storage-selector-portal-monitoring-diagnosing-troubleshooting](../../../includes/storage-selector-portal-monitoring-diagnosing-troubleshooting.md)]

## <a name="overview"></a><span data-ttu-id="899b1-104">Omówienie</span><span class="sxs-lookup"><span data-stu-id="899b1-104">Overview</span></span>
<span data-ttu-id="899b1-105">Może być bardziej skomplikowane niż w tradycyjnych środowisk diagnozowania i rozwiązywania problemów w aplikacji rozproszonej hostowanych w środowisku chmury.</span><span class="sxs-lookup"><span data-stu-id="899b1-105">Diagnosing and troubleshooting issues in a distributed application hosted in a cloud environment can be more complex than in traditional environments.</span></span> <span data-ttu-id="899b1-106">Aplikacje można wdrażać w infrastrukturze PaaS lub IaaS lokalnie na urządzeniu przenośnym lub w kombinacji tych.</span><span class="sxs-lookup"><span data-stu-id="899b1-106">Applications can be deployed in a PaaS or IaaS infrastructure, on premises, on a mobile device, or in some combination of these.</span></span> <span data-ttu-id="899b1-107">Zazwyczaj ruchu sieciowego aplikacji może przechodzić między nimi sieci publicznych i prywatnych aplikacja może korzystać z wielu technologii magazynowania, takich jak Microsoft Azure magazynu tabel, obiektów blob, kolejek i przechowuje pliki oprócz innych danych, takie jak relacyjna i zarządzania dokumentami baz danych.</span><span class="sxs-lookup"><span data-stu-id="899b1-107">Typically, your application's network traffic may traverse public and private networks and your application may use multiple storage technologies such as Microsoft Azure Storage Tables, Blobs, Queues, or Files in addition to other data stores such as relational and document databases.</span></span>

<span data-ttu-id="899b1-108">Do zarządzania pomyślnie takich aplikacji należy je monitorować aktywne i zrozumienie, jak zdiagnozować i rozwiązać wszystkie aspekty je i ich technologie zależne.</span><span class="sxs-lookup"><span data-stu-id="899b1-108">To manage such applications successfully you should monitor them proactively and understand how to diagnose and troubleshoot all aspects of them and their dependent technologies.</span></span> <span data-ttu-id="899b1-109">Jako użytkownik usługi Azure Storage należy stale monitorowanie usług magazynu używanych przez aplikację nieoczekiwane zmiany w zachowaniu (na przykład wolniej niż zwykle reakcje) i używania funkcji rejestrowania do zbierania bardziej szczegółowych danych oraz do analizowania problemu szczegółowo.</span><span class="sxs-lookup"><span data-stu-id="899b1-109">As a user of Azure Storage services, you should continuously monitor the Storage services your application uses for any unexpected changes in behavior (such as slower than usual response times), and use logging to collect more detailed data and to analyze a problem in depth.</span></span> <span data-ttu-id="899b1-110">Informacje diagnostyczne, który można uzyskać od zarówno monitorowanie i rejestrowanie pomoże Ci w celu ustalenia głównej przyczyny problemu, napotkano aplikacji.</span><span class="sxs-lookup"><span data-stu-id="899b1-110">The diagnostics information you obtain from both monitoring and logging will help you to determine the root cause of the issue your application encountered.</span></span> <span data-ttu-id="899b1-111">Następnie można rozwiązać ten problem i określić odpowiednie kroki, które można wykonać w celu jego rozwiązania.</span><span class="sxs-lookup"><span data-stu-id="899b1-111">Then you can troubleshoot the issue and determine the appropriate steps you can take to remediate it.</span></span> <span data-ttu-id="899b1-112">Usługa Azure Storage jest podstawowa usługi Azure i stanowi ważną część większość rozwiązań, które klientów wdrożyć infrastrukturę platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="899b1-112">Azure Storage is a core Azure service, and forms an important part of the majority of solutions that customers deploy to the Azure infrastructure.</span></span> <span data-ttu-id="899b1-113">Magazyn Azure zawiera funkcje, aby uprościć monitorowanie, diagnozowanie i rozwiązywanie problemów z magazynowaniem w aplikacjach opartych na chmurze.</span><span class="sxs-lookup"><span data-stu-id="899b1-113">Azure Storage includes capabilities to simplify monitoring, diagnosing, and troubleshooting storage issues in your cloud-based applications.</span></span>

> [!NOTE]
> <span data-ttu-id="899b1-114">Magazyn plików Azure nie obsługuje rejestrowania w tej chwili.</span><span class="sxs-lookup"><span data-stu-id="899b1-114">The Azure File storage does not support logging at this time.</span></span>
> 

<span data-ttu-id="899b1-115">Przewodnik Podręcznik end-to-end rozwiązywania problemów w aplikacji usługi Azure Storage, zobacz [Rozwiązywanie problemów przy użyciu metryk usługi Azure Storage i rejestrowania, AzCopy i Message Analyzer End-to-End](../storage-e2e-troubleshooting.md).</span><span class="sxs-lookup"><span data-stu-id="899b1-115">For a hands-on guide to end-to-end troubleshooting in Azure Storage applications, see [End-to-End Troubleshooting using Azure Storage Metrics and Logging, AzCopy, and Message Analyzer](../storage-e2e-troubleshooting.md).</span></span>

* <span data-ttu-id="899b1-116">[Wprowadzenie]</span><span class="sxs-lookup"><span data-stu-id="899b1-116">[Introduction]</span></span>
  * <span data-ttu-id="899b1-117">[Jak jest zorganizowana w tym przewodniku]</span><span class="sxs-lookup"><span data-stu-id="899b1-117">[How this guide is organized]</span></span>
* <span data-ttu-id="899b1-118">[monitorowania usługi magazynu]</span><span class="sxs-lookup"><span data-stu-id="899b1-118">[Monitoring your storage service]</span></span>
  * <span data-ttu-id="899b1-119">[Monitorowanie kondycji usługi]</span><span class="sxs-lookup"><span data-stu-id="899b1-119">[Monitoring service health]</span></span>
  * <span data-ttu-id="899b1-120">[Monitorowanie wydajności]</span><span class="sxs-lookup"><span data-stu-id="899b1-120">[Monitoring capacity]</span></span>
  * <span data-ttu-id="899b1-121">[Monitorowanie dostępności]</span><span class="sxs-lookup"><span data-stu-id="899b1-121">[Monitoring availability]</span></span>
  * <span data-ttu-id="899b1-122">[Monitorowanie wydajności]</span><span class="sxs-lookup"><span data-stu-id="899b1-122">[Monitoring performance]</span></span>
* <span data-ttu-id="899b1-123">[diagnozowanie problemów z magazynowaniem]</span><span class="sxs-lookup"><span data-stu-id="899b1-123">[Diagnosing storage issues]</span></span>
  * <span data-ttu-id="899b1-124">[Problemy z usługi kondycji]</span><span class="sxs-lookup"><span data-stu-id="899b1-124">[Service health issues]</span></span>
  * <span data-ttu-id="899b1-125">[Problemy z wydajnością]</span><span class="sxs-lookup"><span data-stu-id="899b1-125">[Performance issues]</span></span>
  * <span data-ttu-id="899b1-126">[Diagnozowanie błędów]</span><span class="sxs-lookup"><span data-stu-id="899b1-126">[Diagnosing errors]</span></span>
  * <span data-ttu-id="899b1-127">[Problemy z emulatora magazynu]</span><span class="sxs-lookup"><span data-stu-id="899b1-127">[Storage emulator issues]</span></span>
  * <span data-ttu-id="899b1-128">[Narzędzia rejestrowania magazynu]</span><span class="sxs-lookup"><span data-stu-id="899b1-128">[Storage logging tools]</span></span>
  * <span data-ttu-id="899b1-129">[Przy użyciu narzędzia rejestracji w sieci]</span><span class="sxs-lookup"><span data-stu-id="899b1-129">[Using network logging tools]</span></span>
* <span data-ttu-id="899b1-130">[śledzenia End-to-end]</span><span class="sxs-lookup"><span data-stu-id="899b1-130">[End-to-end tracing]</span></span>
  * <span data-ttu-id="899b1-131">[Korelowanie dane dziennika]</span><span class="sxs-lookup"><span data-stu-id="899b1-131">[Correlating log data]</span></span>
  * <span data-ttu-id="899b1-132">[Identyfikator żądania klienta]</span><span class="sxs-lookup"><span data-stu-id="899b1-132">[Client request ID]</span></span>
  * <span data-ttu-id="899b1-133">[identyfikator żądania serwera]</span><span class="sxs-lookup"><span data-stu-id="899b1-133">[Server request ID]</span></span>
  * <span data-ttu-id="899b1-134">[Znaczniki czasu]</span><span class="sxs-lookup"><span data-stu-id="899b1-134">[Timestamps]</span></span>
* <span data-ttu-id="899b1-135">[wskazówki rozwiązywania problemów]</span><span class="sxs-lookup"><span data-stu-id="899b1-135">[Troubleshooting guidance]</span></span>
  * <span data-ttu-id="899b1-136">[metryki pokazują AverageE2ELatency wysoki i niski AverageServerLatency]</span><span class="sxs-lookup"><span data-stu-id="899b1-136">[Metrics show high AverageE2ELatency and low AverageServerLatency]</span></span>
  * <span data-ttu-id="899b1-137">[Metryki wskazują niską wartość AverageE2ELatency i niską wartość AverageServerLatency, ale na kliencie występuje duże opóźnienie]</span><span class="sxs-lookup"><span data-stu-id="899b1-137">[Metrics show low AverageE2ELatency and low AverageServerLatency but the client is experiencing high latency]</span></span>
  * <span data-ttu-id="899b1-138">[Metryki wskazują wysoką wartość AverageServerLatency]</span><span class="sxs-lookup"><span data-stu-id="899b1-138">[Metrics show high AverageServerLatency]</span></span>
  * <span data-ttu-id="899b1-139">[Występują nieoczekiwane opóźnienia w dostarczaniu komunikatów w kolejce]</span><span class="sxs-lookup"><span data-stu-id="899b1-139">[You are experiencing unexpected delays in message delivery on a queue]</span></span>
  * <span data-ttu-id="899b1-140">[metryki spowodować wzrost PercentThrottlingError]</span><span class="sxs-lookup"><span data-stu-id="899b1-140">[Metrics show an increase in PercentThrottlingError]</span></span>
  * <span data-ttu-id="899b1-141">[metryki spowodować wzrost PercentTimeoutError]</span><span class="sxs-lookup"><span data-stu-id="899b1-141">[Metrics show an increase in PercentTimeoutError]</span></span>
  * <span data-ttu-id="899b1-142">[Metryki wskazują wzrost wartości PercentNetworkError]</span><span class="sxs-lookup"><span data-stu-id="899b1-142">[Metrics show an increase in PercentNetworkError]</span></span>
  * <span data-ttu-id="899b1-143">[Klient odbiera komunikaty HTTP 403 (Dostęp zabroniony)]</span><span class="sxs-lookup"><span data-stu-id="899b1-143">[The client is receiving HTTP 403 (Forbidden) messages]</span></span>
  * <span data-ttu-id="899b1-144">[Klient odbiera komunikaty HTTP 404 (nie znaleziono)]</span><span class="sxs-lookup"><span data-stu-id="899b1-144">[The client is receiving HTTP 404 (Not found) messages]</span></span>
  * <span data-ttu-id="899b1-145">[Klient odbiera komunikaty HTTP 409 (konflikt)]</span><span class="sxs-lookup"><span data-stu-id="899b1-145">[The client is receiving HTTP 409 (Conflict) messages]</span></span>
  * <span data-ttu-id="899b1-146">[metryki pokazują PercentSuccess niskim lub wpisy dziennika analytics ma operacji ze stanem transakcji ClientOtherErrors]</span><span class="sxs-lookup"><span data-stu-id="899b1-146">[Metrics show low PercentSuccess or analytics log entries have operations with transaction status of ClientOtherErrors]</span></span>
  * <span data-ttu-id="899b1-147">[Metryki pojemności Pokaż nieoczekiwane zwiększenie wykorzystania pojemności magazynu]</span><span class="sxs-lookup"><span data-stu-id="899b1-147">[Capacity metrics show an unexpected increase in storage capacity usage]</span></span>
  * <span data-ttu-id="899b1-148">[Występują nieoczekiwane ponowne uruchomienie maszyn wirtualnych, które mają wiele wirtualnych dysków twardych dołączonych]</span><span class="sxs-lookup"><span data-stu-id="899b1-148">[You are experiencing unexpected reboots of Virtual Machines that have a large number of attached VHDs]</span></span>
  * <span data-ttu-id="899b1-149">[Problem wynika z przy użyciu emulatora magazynu dla rozwoju lub testowania]</span><span class="sxs-lookup"><span data-stu-id="899b1-149">[Your issue arises from using the storage emulator for development or test]</span></span>
  * <span data-ttu-id="899b1-150">[Pojawiły się problemy z instalacją zestawu Azure SDK dla platformy .NET]</span><span class="sxs-lookup"><span data-stu-id="899b1-150">[You are encountering problems installing the Azure SDK for .NET]</span></span>
  * <span data-ttu-id="899b1-151">[Inny problem z usługą magazynu]</span><span class="sxs-lookup"><span data-stu-id="899b1-151">[You have a different issue with a storage service]</span></span>
  * [<span data-ttu-id="899b1-152">Rozwiązywanie problemów magazyn plików Azure z systemem Windows</span><span class="sxs-lookup"><span data-stu-id="899b1-152">Troubleshooting Azure File storage issues with Windows</span></span>](../files/storage-troubleshoot-windows-file-connection-problems.md)   
  * [<span data-ttu-id="899b1-153">Rozwiązywanie problemów magazyn plików Azure z systemem Linux</span><span class="sxs-lookup"><span data-stu-id="899b1-153">Troubleshooting Azure File storage issues with Linux</span></span>](../files/storage-troubleshoot-linux-file-connection-problems.md)
* <span data-ttu-id="899b1-154">[dodatki]</span><span class="sxs-lookup"><span data-stu-id="899b1-154">[Appendices]</span></span>
  * <span data-ttu-id="899b1-155">[dodatek 1: przy użyciu programu Fiddler do przechwytywania ruchu HTTP i HTTPS]</span><span class="sxs-lookup"><span data-stu-id="899b1-155">[Appendix 1: Using Fiddler to capture HTTP and HTTPS traffic]</span></span>
  * <span data-ttu-id="899b1-156">[dodatek 2: do przechwytywania ruchu sieciowego przy użyciu programu Wireshark]</span><span class="sxs-lookup"><span data-stu-id="899b1-156">[Appendix 2: Using Wireshark to capture network traffic]</span></span>
  * <span data-ttu-id="899b1-157">[dodatku 3: do przechwytywania ruchu sieciowego przy użyciu programu Microsoft Message Analyzer]</span><span class="sxs-lookup"><span data-stu-id="899b1-157">[Appendix 3: Using Microsoft Message Analyzer to capture network traffic]</span></span>
  * <span data-ttu-id="899b1-158">[Dodatek 4: Przy użyciu programu Excel, aby wyświetlić metryki i dane dziennika]</span><span class="sxs-lookup"><span data-stu-id="899b1-158">[Appendix 4: Using Excel to view metrics and log data]</span></span>
  * <span data-ttu-id="899b1-159">[Dodatek 5: Monitorowanie za pomocą usługi Application Insights dla programu Visual Studio Team Services]</span><span class="sxs-lookup"><span data-stu-id="899b1-159">[Appendix 5: Monitoring with Application Insights for Visual Studio Team Services]</span></span>

## <span data-ttu-id="899b1-160"><a name="introduction"></a>Wprowadzenie</span><span class="sxs-lookup"><span data-stu-id="899b1-160"><a name="introduction"></a>Introduction</span></span>
<span data-ttu-id="899b1-161">W tym przewodniku przedstawiono sposób korzystania z funkcji, takich jak analiza magazynu Azure, klienta rejestrowania w biblioteki klienta magazynu Azure i innych narzędzi innych firm, aby zidentyfikować, diagnozowanie i rozwiązywanie problemów z usługą Azure Storage problemy związane z.</span><span class="sxs-lookup"><span data-stu-id="899b1-161">This guide shows you how to use features such as Azure Storage Analytics, client-side logging in the Azure Storage Client Library, and other third-party tools to identify, diagnose, and troubleshoot Azure Storage related issues.</span></span>

![][1]

<span data-ttu-id="899b1-162">Ten przewodnik jest przeznaczony do odczytu głównie przez deweloperów usług online, korzystających z usług magazynu Azure i specjalistów IT jest odpowiedzialny za zarządzanie takich usług online.</span><span class="sxs-lookup"><span data-stu-id="899b1-162">This guide is intended to be read primarily by developers of online services that use Azure Storage Services and IT Pros responsible for managing such online services.</span></span> <span data-ttu-id="899b1-163">Cele tego przewodnika są:</span><span class="sxs-lookup"><span data-stu-id="899b1-163">The goals of this guide are:</span></span>

* <span data-ttu-id="899b1-164">Aby ułatwić obsługę kondycji i wydajności konta magazynu Azure.</span><span class="sxs-lookup"><span data-stu-id="899b1-164">To help you maintain the health and performance of your Azure Storage accounts.</span></span>
* <span data-ttu-id="899b1-165">Aby udostępnić niezbędne procesów i narzędzi, aby określić, czy problem w aplikacji lub problem odnosi się do usługi Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="899b1-165">To provide you with the necessary processes and tools to help you decide if an issue or problem in an application relates to Azure Storage.</span></span>
* <span data-ttu-id="899b1-166">Aby zapewnić możliwością wskazówki dotyczące rozwiązywania problemów związanych z usługą Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="899b1-166">To provide you with actionable guidance for resolving problems related to Azure Storage.</span></span>

### <span data-ttu-id="899b1-167"><a name="how-this-guide-is-organized"></a>Jak jest zorganizowana w tym przewodniku</span><span class="sxs-lookup"><span data-stu-id="899b1-167"><a name="how-this-guide-is-organized"></a>How this guide is organized</span></span>
<span data-ttu-id="899b1-168">Sekcja "[monitorowania usługi magazynu]" opisano sposób monitorowania kondycji i wydajności usługi Magazyn Azure przy użyciu metryk aplikacji usługi Azure Storage Analytics (metryk Storage).</span><span class="sxs-lookup"><span data-stu-id="899b1-168">The section "[Monitoring your storage service]" describes how to monitor the health and performance of your Azure Storage services using Azure Storage Analytics Metrics (Storage Metrics).</span></span>

<span data-ttu-id="899b1-169">Sekcja "[diagnozowanie problemów z magazynowaniem]" opisano, jak diagnozować problemy dotyczące korzystania z usługi Azure magazynu Analytics rejestrowania (rejestrowania magazynu).</span><span class="sxs-lookup"><span data-stu-id="899b1-169">The section "[Diagnosing storage issues]" describes how to diagnose issues using Azure Storage Analytics Logging (Storage Logging).</span></span> <span data-ttu-id="899b1-170">Zawiera również opis włączania rejestrowania po stronie klienta przy użyciu funkcji w jednej z bibliotek klienta takich jak biblioteki klienta usługi Storage dla platformy .NET lub zestawu Azure SDK dla języka Java.</span><span class="sxs-lookup"><span data-stu-id="899b1-170">It also describes how to enable client-side logging using the facilities in one of the client libraries such as the Storage Client Library for .NET or the Azure SDK for Java.</span></span>

<span data-ttu-id="899b1-171">Sekcja "[śledzenia End-to-end]" w tym artykule opisano, jak można skorelować informacje zawarte w różnych plikach dziennika i dane metryk.</span><span class="sxs-lookup"><span data-stu-id="899b1-171">The section "[End-to-end tracing]" describes how you can correlate the information contained in various log files and metrics data.</span></span>

<span data-ttu-id="899b1-172">Sekcja "[wskazówki rozwiązywania problemów]" zawiera wskazówki dotyczące rozwiązywania problemów, dla niektóre typowe związane z magazynowaniem problemów, które mogą wystąpić.</span><span class="sxs-lookup"><span data-stu-id="899b1-172">The section "[Troubleshooting guidance]" provides troubleshooting guidance for some of the common storage-related issues you might encounter.</span></span>

<span data-ttu-id="899b1-173">"[dodatki]" zawierają informacje o przy użyciu innych narzędzi, takich jak Wireshark i Netmon analizowanie sieci pakietów danych, narzędzia Fiddler do analizowania komunikaty HTTP/HTTPS, a dane dziennika programu Microsoft Message Analyzer dla korelacji.</span><span class="sxs-lookup"><span data-stu-id="899b1-173">The "[Appendices]" include information about using other tools such as Wireshark and Netmon for analyzing network packet data, Fiddler for analyzing HTTP/HTTPS messages, and Microsoft Message Analyzer for correlating log data.</span></span>

## <span data-ttu-id="899b1-174"><a name="monitoring-your-storage-service"></a>Monitorowanie usługi magazynu</span><span class="sxs-lookup"><span data-stu-id="899b1-174"><a name="monitoring-your-storage-service"></a>Monitoring your storage service</span></span>
<span data-ttu-id="899b1-175">Jeśli znasz monitorowania wydajności systemu Windows, można traktować metryki magazynu jako odpowiednik liczników monitora wydajności systemu Windows Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="899b1-175">If you are familiar with Windows performance monitoring, you can think of Storage Metrics as being an Azure Storage equivalent of Windows Performance Monitor counters.</span></span> <span data-ttu-id="899b1-176">Metryki magazynu zawiera rozbudowany zestaw metryki (liczniki w terminologii Monitor wydajności systemu Windows), np. dostępność usługi, łączna liczba żądań do usługi lub wartość procentowa pomyślnych żądań do usługi.</span><span class="sxs-lookup"><span data-stu-id="899b1-176">In Storage Metrics you will find a comprehensive set of metrics (counters in Windows Performance Monitor terminology) such as service availability, total number of requests to service, or percentage of successful requests to service.</span></span> <span data-ttu-id="899b1-177">Aby uzyskać pełną listę dostępnych metryk, zobacz [schemat tabeli metryki analityka magazynu](http://msdn.microsoft.com/library/azure/hh343264.aspx).</span><span class="sxs-lookup"><span data-stu-id="899b1-177">For a full list of the available metrics, see [Storage Analytics Metrics Table Schema](http://msdn.microsoft.com/library/azure/hh343264.aspx).</span></span> <span data-ttu-id="899b1-178">Można określić, czy mają usługi magazynu do zbieranie i agregowanie metryki co godzinę lub co minutę.</span><span class="sxs-lookup"><span data-stu-id="899b1-178">You can specify whether you want the storage service to collect and aggregate metrics every hour or every minute.</span></span> <span data-ttu-id="899b1-179">Aby uzyskać więcej informacji o tym, jak włączyć metryki i monitorowanie kont magazynu, zobacz [Włączanie metryk magazynu i wyświetlanie danych metryk](http://go.microsoft.com/fwlink/?LinkId=510865).</span><span class="sxs-lookup"><span data-stu-id="899b1-179">For more information about how to enable metrics and monitor your storage accounts, see [Enabling storage metrics and viewing metrics data](http://go.microsoft.com/fwlink/?LinkId=510865).</span></span>

<span data-ttu-id="899b1-180">Można wybrać, które co godzinę metryk, które mają być wyświetlane w [portalu Azure](https://portal.azure.com) i skonfigurować reguły powiadamiania administratorów za pośrednictwem poczty e-mail, przy każdym metrykę co godzinę przekracza określonego progu.</span><span class="sxs-lookup"><span data-stu-id="899b1-180">You can choose which hourly metrics you want to display in the [Azure portal](https://portal.azure.com) and configure rules that notify administrators by email whenever an hourly metric exceeds a particular threshold.</span></span> <span data-ttu-id="899b1-181">Aby uzyskać więcej informacji, zobacz [odbieranie powiadomień o alertach](/azure/monitoring-and-diagnostics/monitoring-overview-alerts.md).</span><span class="sxs-lookup"><span data-stu-id="899b1-181">For more information, see [Receive Alert Notifications](/azure/monitoring-and-diagnostics/monitoring-overview-alerts.md).</span></span> 

<span data-ttu-id="899b1-182">Usługa magazynu zbiera metryki przy użyciu podjęto najlepsze możliwe działanie, ale nie można rejestrować każdej operacji magazynu.</span><span class="sxs-lookup"><span data-stu-id="899b1-182">The storage service collects metrics using a best effort, but may not record every storage operation.</span></span>

<span data-ttu-id="899b1-183">W portalu Azure można wyświetlić metryki, np. dostępność, całkowita liczba żądań i numery Średni czas oczekiwania dla konta magazynu.</span><span class="sxs-lookup"><span data-stu-id="899b1-183">In the Azure portal, you can view metrics such as availability, total requests, and average latency numbers for a storage account.</span></span> <span data-ttu-id="899b1-184">Aby ostrzec administratora, jeśli dostępności spadnie poniżej określonego poziomu również ustawiono regułę powiadomień.</span><span class="sxs-lookup"><span data-stu-id="899b1-184">A notification rule has also been set up to alert an administrator if availability drops below a certain level.</span></span> <span data-ttu-id="899b1-185">Wyświetlać te dane, jednego obszaru możliwych do badania jest tabeli procent powodzenia usługi, są poniżej 100% (Aby uzyskać więcej informacji, zobacz sekcję "[metryki pokazują PercentSuccess niskim lub wpisy dziennika analytics ma operacji ze stanem transakcji ClientOtherErrors]").</span><span class="sxs-lookup"><span data-stu-id="899b1-185">From viewing this data, one possible area for investigation is the table service success percentage being below 100% (for more information, see the section "[Metrics show low PercentSuccess or analytics log entries have operations with transaction status of ClientOtherErrors]").</span></span>

<span data-ttu-id="899b1-186">Należy monitorować stale Azure aplikacji upewnij się, że są one dobrej kondycji i wydajności, zgodnie z oczekiwaniami:</span><span class="sxs-lookup"><span data-stu-id="899b1-186">You should continuously monitor your Azure applications to ensure they are healthy and performing as expected by:</span></span>

* <span data-ttu-id="899b1-187">Niektóre metryki planu bazowego dla aplikacji, która umożliwi ustanawianie porównywania bieżące dane i zidentyfikować wszelkie istotne zmiany w zachowaniu magazynu Azure i aplikacji.</span><span class="sxs-lookup"><span data-stu-id="899b1-187">Establishing some baseline metrics for application that will enable you to compare current data and identify any significant changes in the behavior of Azure storage and your application.</span></span> <span data-ttu-id="899b1-188">Wartości metryk z linii bazowej w wielu przypadkach będzie określone dla aplikacji i należy je określić w przypadku testowania aplikacji.</span><span class="sxs-lookup"><span data-stu-id="899b1-188">The values of your baseline metrics will, in many cases, be application specific and you should establish them when you are performance testing your application.</span></span>
* <span data-ttu-id="899b1-189">Rejestrowanie minuty metryki i ich użycie w celu monitorowania aktywnie nieoczekiwane błędy i anomalie, takich jak największego błąd liczby lub liczby żądań.</span><span class="sxs-lookup"><span data-stu-id="899b1-189">Recording minute metrics and using them to monitor actively for unexpected errors and anomalies such as spikes in error counts or request rates.</span></span>
* <span data-ttu-id="899b1-190">Rejestrowanie metryki co godzinę i ich użycie w celu monitorowania takich jak średnie wartości średniej liczby błędów i liczby żądań.</span><span class="sxs-lookup"><span data-stu-id="899b1-190">Recording hourly metrics and using them to monitor average values such as average error counts and request rates.</span></span>
* <span data-ttu-id="899b1-191">Badania potencjalnych problemów za pomocą narzędzi diagnostycznych, zgodnie z opisem później w sekcji "[diagnozowanie problemów z magazynowaniem]."</span><span class="sxs-lookup"><span data-stu-id="899b1-191">Investigating potential issues using diagnostics tools as discussed later in the section "[Diagnosing storage issues]."</span></span>

<span data-ttu-id="899b1-192">Wykresów na poniższej ilustracji przedstawiono, jak uśrednianie występuje dla metryki co godzinę można ukryć wzrostów w działaniu.</span><span class="sxs-lookup"><span data-stu-id="899b1-192">The charts in the following image illustrate how the averaging that occurs for hourly metrics can hide spikes in activity.</span></span> <span data-ttu-id="899b1-193">Do wyświetlenia podczas minutę metryki ujawnić zmianami, które naprawdę odbywają stała liczba żądań, są wyświetlane metryki co godzinę.</span><span class="sxs-lookup"><span data-stu-id="899b1-193">The hourly metrics appear to show a steady rate of requests, while the minute metrics reveal the fluctuations that are really taking place.</span></span>

![][3]

<span data-ttu-id="899b1-194">W pozostałej części tej sekcji opisano metryki, które należy monitorować i dlaczego.</span><span class="sxs-lookup"><span data-stu-id="899b1-194">The remainder of this section describes what metrics you should monitor and why.</span></span>

### <span data-ttu-id="899b1-195"><a name="monitoring-service-health"></a>Monitorowanie kondycji usługi</span><span class="sxs-lookup"><span data-stu-id="899b1-195"><a name="monitoring-service-health"></a>Monitoring service health</span></span>
<span data-ttu-id="899b1-196">Można użyć [portalu Azure](https://portal.azure.com) umożliwiających wyświetlenie kondycji usługi magazynu (i innych usług platformy Azure) we wszystkich regionach platformy Azure na świecie.</span><span class="sxs-lookup"><span data-stu-id="899b1-196">You can use the [Azure portal](https://portal.azure.com) to view the health of the Storage service (and other Azure services) in all the Azure regions around the world.</span></span> <span data-ttu-id="899b1-197">Dzięki temu można zobaczyć natychmiast, jeśli problem poza formantu ma wpływ na usługi magazynu w regionie, w którym można użyć w aplikacji.</span><span class="sxs-lookup"><span data-stu-id="899b1-197">This enables you to see immediately if an issue outside of your control is affecting the Storage service in the region you use for your application.</span></span>

<span data-ttu-id="899b1-198">[Portalu Azure](https://portal.azure.com) można też podać powiadomienia zdarzenia mające wpływ na różne usługi platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="899b1-198">The [Azure portal](https://portal.azure.com) can also provide notifications of incidents that affect the various Azure services.</span></span>
<span data-ttu-id="899b1-199">Uwaga: Te informacje wcześniej była dostępna, wraz z danych historycznych w [pulpicie nawigacyjnym usługi Azure](http://status.azure.com).</span><span class="sxs-lookup"><span data-stu-id="899b1-199">Note: This information was previously available, along with historical data, on the [Azure Service Dashboard](http://status.azure.com).</span></span>

<span data-ttu-id="899b1-200">Gdy [portalu Azure](https://portal.azure.com) zbiera informacje o kondycji z wewnątrz centrach danych platformy Azure (poza wewnątrz monitorowanie), możesz również przyjęcie podejścia zewnątrz do generowania transakcji syntetycznych, które okresowo uzyskują dostęp do aplikacji sieci web hostowanymi na platformie Azure z wielu lokalizacji.</span><span class="sxs-lookup"><span data-stu-id="899b1-200">While the [Azure portal](https://portal.azure.com) collects health information from inside the Azure datacenters (inside-out monitoring), you could also consider adopting an outside-in approach to generate synthetic transactions that periodically access your Azure-hosted web application from multiple locations.</span></span> <span data-ttu-id="899b1-201">Usługami oferowanym przez [Dynatrace](http://www.dynatrace.com/en/synthetic-monitoring) i przykłady tego podejścia zewnętrznej usługi Application Insights dla programu Visual Studio Team Services.</span><span class="sxs-lookup"><span data-stu-id="899b1-201">The services offered by [Dynatrace](http://www.dynatrace.com/en/synthetic-monitoring) and Application Insights for Visual Studio Team Services are examples of this outside-in approach.</span></span> <span data-ttu-id="899b1-202">Aby uzyskać więcej informacji dotyczących usługi Application Insights dla programu Visual Studio Team Services, zobacz dodatku "[dodatek 5: monitorowanie za pomocą usługi Application Insights dla programu Visual Studio Team Services](#appendix-5)."</span><span class="sxs-lookup"><span data-stu-id="899b1-202">For more information about Application Insights for Visual Studio Team Services, see the appendix "[Appendix 5: Monitoring with Application Insights for Visual Studio Team Services](#appendix-5)."</span></span>

### <span data-ttu-id="899b1-203"><a name="monitoring-capacity"></a>Monitorowanie wydajności</span><span class="sxs-lookup"><span data-stu-id="899b1-203"><a name="monitoring-capacity"></a>Monitoring capacity</span></span>
<span data-ttu-id="899b1-204">Ponieważ obiekty BLOB zwykle konta największą część przechowywanych danych metryki magazynu tylko przechowuje metryki pojemności dla usługi obiektów blob (w czasie zapisywania go nie jest możliwe monitorowanie pojemności tabel i kolejek metryki magazynu).</span><span class="sxs-lookup"><span data-stu-id="899b1-204">Storage Metrics only stores capacity metrics for the blob service because blobs typically account for the largest proportion of stored data (at the time of writing, it is not possible to use Storage Metrics to monitor the capacity of your tables and queues).</span></span> <span data-ttu-id="899b1-205">Te dane w można znaleźć **$MetricsCapacityBlob** tabeli, jeśli jest włączone monitorowanie usługi Blob.</span><span class="sxs-lookup"><span data-stu-id="899b1-205">You can find this data in the **$MetricsCapacityBlob** table if you have enabled monitoring for the Blob service.</span></span> <span data-ttu-id="899b1-206">Metryki magazynu rejestruje dane raz dziennie i może używać wartości **RowKey** ustalenie, czy wiersz zawiera jednostki, która odnosi się do danych użytkownika (wartość **danych**) lub dane analityczne (wartość **analytics**).</span><span class="sxs-lookup"><span data-stu-id="899b1-206">Storage Metrics records this data once per day, and you can use the value of the **RowKey** to determine whether the row contains an entity that relates to user data (value **data**) or analytics data (value **analytics**).</span></span> <span data-ttu-id="899b1-207">Każdej jednostki przechowywanej zawiera informacje dotyczące ilości miejsca używane (**pojemności** mierzony w bajtach) i bieżącą liczbę kontenerów (**ContainerCount**) i obiektów blob (**ObjectCount**) używany w ramach konta magazynu.</span><span class="sxs-lookup"><span data-stu-id="899b1-207">Each stored entity contains information about the amount of storage used (**Capacity** measured in bytes) and the current number of containers (**ContainerCount**) and blobs (**ObjectCount**) in use in the storage account.</span></span> <span data-ttu-id="899b1-208">Aby uzyskać więcej informacji o metryki pojemności przechowywane w **$MetricsCapacityBlob** tabeli, zobacz [schemat tabeli metryki analityka magazynu](http://msdn.microsoft.com/library/azure/hh343264.aspx).</span><span class="sxs-lookup"><span data-stu-id="899b1-208">For more information about the capacity metrics stored in the **$MetricsCapacityBlob** table, see [Storage Analytics Metrics Table Schema](http://msdn.microsoft.com/library/azure/hh343264.aspx).</span></span>

> [!NOTE]
> <span data-ttu-id="899b1-209">Należy monitorować te wartości wczesne ostrzeżenie, że zbliża się granicach pojemności konta magazynu.</span><span class="sxs-lookup"><span data-stu-id="899b1-209">You should monitor these values for an early warning that you are approaching the capacity limits of your storage account.</span></span> <span data-ttu-id="899b1-210">W portalu Azure można dodać reguły alertów, powiadomień o użycie agregacji magazynu przekracza lub spada poniżej progów, które określisz.</span><span class="sxs-lookup"><span data-stu-id="899b1-210">In the Azure portal, you can add alert rules to notify you if aggregate storage use exceeds or falls below thresholds that you specify.</span></span>
> 
> 

<span data-ttu-id="899b1-211">Aby uzyskać pomoc, Trwa szacowanie rozmiaru magazynu różnych obiektów, takich jak obiekty BLOB, zobacz wpis w blogu [opis Azure magazynu rozliczeń — przepustowość, transakcje i pojemności](http://blogs.msdn.com/b/windowsazurestorage/archive/2010/07/09/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity.aspx).</span><span class="sxs-lookup"><span data-stu-id="899b1-211">For help estimating the size of various storage objects such as blobs, see the blog post [Understanding Azure Storage Billing – Bandwidth, Transactions, and Capacity](http://blogs.msdn.com/b/windowsazurestorage/archive/2010/07/09/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity.aspx).</span></span>

### <span data-ttu-id="899b1-212"><a name="monitoring-availability"></a>Monitorowanie dostępności</span><span class="sxs-lookup"><span data-stu-id="899b1-212"><a name="monitoring-availability"></a>Monitoring availability</span></span>
<span data-ttu-id="899b1-213">Należy monitorować dostępności usług magazynowania na koncie magazynu przez monitorowanie wartość **dostępności** kolumn w tabelach metryki godzinowe i minutowe — **$MetricsHourPrimaryTransactionsBlob**, **$MetricsHourPrimaryTransactionsTable**, **$MetricsHourPrimaryTransactionsQueue**, **$MetricsMinutePrimaryTransactionsBlob**, **$MetricsMinutePrimaryTransactionsTable**, **$MetricsMinutePrimaryTransactionsQueue**, **$MetricsCapacityBlob**.</span><span class="sxs-lookup"><span data-stu-id="899b1-213">You should monitor the availability of the storage services in your storage account by monitoring the value in the **Availability** column in the hourly or minute metrics tables — **$MetricsHourPrimaryTransactionsBlob**, **$MetricsHourPrimaryTransactionsTable**, **$MetricsHourPrimaryTransactionsQueue**, **$MetricsMinutePrimaryTransactionsBlob**, **$MetricsMinutePrimaryTransactionsTable**, **$MetricsMinutePrimaryTransactionsQueue**, **$MetricsCapacityBlob**.</span></span> <span data-ttu-id="899b1-214">**Dostępności** kolumna zawiera wartość procentową, która wskazuje dostępność usługi lub operacji interfejsu API reprezentowany przez wiersz ( **RowKey** pokazuje, czy wiersz zawiera metryki dla usługi jako całość lub dla określonej operacji interfejsu API).</span><span class="sxs-lookup"><span data-stu-id="899b1-214">The **Availability** column contains a percentage value that indicates the availability of the service or the API operation represented by the row (the **RowKey** shows if the row contains metrics for the service as a whole or for a specific API operation).</span></span>

<span data-ttu-id="899b1-215">Wszystkie wartości mniejszej niż 100% wskazuje, że niektóre żądania magazynu kończą się niepowodzeniem.</span><span class="sxs-lookup"><span data-stu-id="899b1-215">Any value less than 100% indicates that some storage requests are failing.</span></span> <span data-ttu-id="899b1-216">Widać, dlaczego ulegają awarii, sprawdzając innych kolumn, takich jak wyświetlanie liczby żądań z różnych error — typy danych metryki **ServerTimeoutError**.</span><span class="sxs-lookup"><span data-stu-id="899b1-216">You can see why they are failing by examining the other columns in the metrics data that show the numbers of requests with different error types such as **ServerTimeoutError**.</span></span> <span data-ttu-id="899b1-217">Należy się spodziewać **dostępności** tymczasowo spadek poniżej 100% powodów, takich jak limity czasu przejściowa serwera podczas usługi przenosi partycji do lepszego żądania Równoważenie obciążenia; Logika ponawiania w aplikacji klienta powinna obsługiwać takie warunki tymczasowymi.</span><span class="sxs-lookup"><span data-stu-id="899b1-217">You should expect to see **Availability** fall temporarily below 100% for reasons such as transient server timeouts while the service moves partitions to better load-balance request; the retry logic in your client application should handle such intermittent conditions.</span></span> <span data-ttu-id="899b1-218">Artykuł [operacje rejestrowane analityka magazynu i komunikaty o stanie](http://msdn.microsoft.com/library/azure/hh343260.aspx) zawiera listę typów transakcji, które zawiera metryki magazynu w jego **dostępności** obliczeń.</span><span class="sxs-lookup"><span data-stu-id="899b1-218">The article [Storage Analytics Logged Operations and Status Messages](http://msdn.microsoft.com/library/azure/hh343260.aspx) lists the transaction types that Storage Metrics includes in its **Availability** calculation.</span></span>

<span data-ttu-id="899b1-219">W [portalu Azure](https://portal.azure.com), można dodać reguły alertów, powiadomień o **dostępności** dla usługi spadnie poniżej progu, który określisz.</span><span class="sxs-lookup"><span data-stu-id="899b1-219">In the [Azure portal](https://portal.azure.com), you can add alert rules to notify you if **Availability** for a service falls below a threshold that you specify.</span></span>

<span data-ttu-id="899b1-220">"[wskazówki rozwiązywania problemów]" tego przewodnika opisano niektóre typowe problemy usługi magazynu związanych z dostępnością.</span><span class="sxs-lookup"><span data-stu-id="899b1-220">The "[Troubleshooting guidance]" section of this guide describes some common storage service issues related to availability.</span></span>

### <span data-ttu-id="899b1-221"><a name="monitoring-performance"></a>Monitorowanie wydajności</span><span class="sxs-lookup"><span data-stu-id="899b1-221"><a name="monitoring-performance"></a>Monitoring performance</span></span>
<span data-ttu-id="899b1-222">Aby monitorować wydajność usług magazynu, służy następujące metryki z tabel godzinowe i minutowe metryki.</span><span class="sxs-lookup"><span data-stu-id="899b1-222">To monitor the performance of the storage services, you can use the following metrics from the hourly and minute metrics tables.</span></span>

* <span data-ttu-id="899b1-223">Wartości w **AverageE2ELatency** i **AverageServerLatency** kolumny zawierają Średni czas usługi magazynu lub typ operacji interfejsu API trwa proces żądania.</span><span class="sxs-lookup"><span data-stu-id="899b1-223">The values in the **AverageE2ELatency** and **AverageServerLatency** columns show the average time the storage service or API operation type is taking to process requests.</span></span> <span data-ttu-id="899b1-224">**AverageE2ELatency** jest miarą end-to-end opóźnienia, które zawiera czas potrzebny na żądanie do odczytu i wysyłania odpowiedzi oprócz czas przetwarzania żądania (w związku z tym w tym opóźnienia sieci, gdy żądanie dotrze usługi magazynu); **AverageServerLatency** to miara tylko czas przetwarzania i dlatego nie obejmuje opóźnienia sieci, wszystkie powiązane z komunikacji z klientem.</span><span class="sxs-lookup"><span data-stu-id="899b1-224">**AverageE2ELatency** is a measure of end-to-end latency that includes the time taken to read the request and send the response in addition to the time taken to process the request (therefore includes network latency once the request reaches the storage service); **AverageServerLatency** is a measure of just the processing time and therefore excludes any network latency related to communicating with the client.</span></span> <span data-ttu-id="899b1-225">Zobacz sekcję "[metryki pokazują AverageE2ELatency wysoki i niski AverageServerLatency]" w dalszej części tego przewodnika, aby uzyskać informacje dotyczące przyczyny może występować znaczące różnice między tymi dwoma wartościami.</span><span class="sxs-lookup"><span data-stu-id="899b1-225">See the section "[Metrics show high AverageE2ELatency and low AverageServerLatency]" later in this guide for a discussion of why there might be a significant difference between these two values.</span></span>
* <span data-ttu-id="899b1-226">Wartości w **TotalIngress** i **TotalEgress** kolumny zawierają łączną ilość danych, w bajtach przychodzących na i przechodzi do poza usługą magazynu lub za pomocą określonego typu operacji interfejsu API.</span><span class="sxs-lookup"><span data-stu-id="899b1-226">The values in the **TotalIngress** and **TotalEgress** columns show the total amount of data, in bytes, coming in to and going out of your storage service or through a specific API operation type.</span></span>
* <span data-ttu-id="899b1-227">Wartości w **TotalRequests** kolumnie wyświetlane całkowita liczba żądań, które otrzymuje operacji interfejsu API usługi magazynu.</span><span class="sxs-lookup"><span data-stu-id="899b1-227">The values in the **TotalRequests** column show the total number of requests that the storage service of API operation is receiving.</span></span> <span data-ttu-id="899b1-228">**TotalRequests** jest to całkowita liczba żądań, które otrzymuje usługi magazynu.</span><span class="sxs-lookup"><span data-stu-id="899b1-228">**TotalRequests** is the total number of requests that the storage service receives.</span></span>

<span data-ttu-id="899b1-229">Zazwyczaj monitorujesz nieoczekiwane zmiany w dowolnej z tych wartości jako wskaźnik, czy masz wymagane jest zbadanie problemu.</span><span class="sxs-lookup"><span data-stu-id="899b1-229">Typically, you will monitor for unexpected changes in any of these values as an indicator that you have an issue that requires investigation.</span></span>

<span data-ttu-id="899b1-230">W [portalu Azure](https://portal.azure.com), można dodać reguły alertów, powiadomień o dowolnej metryki wydajności dla tej usługi spadną poniżej lub przekracza wartość progową, który określisz.</span><span class="sxs-lookup"><span data-stu-id="899b1-230">In the [Azure portal](https://portal.azure.com), you can add alert rules to notify you if any of the performance metrics for this service fall below or exceed a threshold that you specify.</span></span>

<span data-ttu-id="899b1-231">"[wskazówki rozwiązywania problemów]" tego przewodnika opisano niektóre typowe problemy usługi magazynu związanych z wydajnością.</span><span class="sxs-lookup"><span data-stu-id="899b1-231">The "[Troubleshooting guidance]" section of this guide describes some common storage service issues related to performance.</span></span>

## <span data-ttu-id="899b1-232"><a name="diagnosing-storage-issues"></a>Diagnozowanie problemów z magazynowaniem</span><span class="sxs-lookup"><span data-stu-id="899b1-232"><a name="diagnosing-storage-issues"></a>Diagnosing storage issues</span></span>
<span data-ttu-id="899b1-233">Istnieje wiele sposobów, czy użytkownik może zostaną powiadomieni o problem lub problem w aplikacji, należą:</span><span class="sxs-lookup"><span data-stu-id="899b1-233">There are a number of ways that you might become aware of a problem or issue in your application, these include:</span></span>

* <span data-ttu-id="899b1-234">Poważnej awarii, który powoduje, że aplikacja do awarii lub przestanie działać.</span><span class="sxs-lookup"><span data-stu-id="899b1-234">A major failure that causes the application to crash or to stop working.</span></span>
* <span data-ttu-id="899b1-235">Znaczące zmiany z linii bazowej wartości metryk monitorowania zgodnie z opisem w poprzedniej sekcji "[monitorowania usługi magazynu]."</span><span class="sxs-lookup"><span data-stu-id="899b1-235">Significant changes from baseline values in the metrics you are monitoring as described in the previous section "[Monitoring your storage service]."</span></span>
* <span data-ttu-id="899b1-236">Raporty z użytkowników aplikacji, że niektóre określonej operacji nie została ukończona, zgodnie z oczekiwaniami lub nie działa niektórych funkcji.</span><span class="sxs-lookup"><span data-stu-id="899b1-236">Reports from users of your application that some particular operation didn't complete as expected or that some feature is not working.</span></span>
* <span data-ttu-id="899b1-237">Błędy wygenerowane w aplikacji pojawiających się w plikach dziennika lub za pomocą innej metody powiadomień.</span><span class="sxs-lookup"><span data-stu-id="899b1-237">Errors generated within your application that appear in log files or through some other notification method.</span></span>

<span data-ttu-id="899b1-238">Zazwyczaj problemy związane z usług Azure storage należą do jednej z czterech szerokie kategorie:</span><span class="sxs-lookup"><span data-stu-id="899b1-238">Typically, issues related to Azure storage services fall into one of four broad categories:</span></span>

* <span data-ttu-id="899b1-239">Aplikacja ma problem z wydajnością, zgłoszone przez użytkowników albo ujawniony z powodu zmian w metryki wydajności.</span><span class="sxs-lookup"><span data-stu-id="899b1-239">Your application has a performance issue, either reported by your users, or revealed by changes in the performance metrics.</span></span>
* <span data-ttu-id="899b1-240">Występuje problem z infrastrukturą usługi Azure Storage w jeden lub więcej regionów.</span><span class="sxs-lookup"><span data-stu-id="899b1-240">There is a problem with the Azure Storage infrastructure in one or more regions.</span></span>
* <span data-ttu-id="899b1-241">Aplikacja napotyka błąd zgłoszony przez użytkowników albo ujawniony przez zwiększenie w jednym z monitorowanych przez Ciebie metryk liczba błędów.</span><span class="sxs-lookup"><span data-stu-id="899b1-241">Your application is encountering an error, either reported by your users, or revealed by an increase in one of the error count metrics you monitor.</span></span>
* <span data-ttu-id="899b1-242">Podczas projektowania i testowania może używać lokalnym emulatorze magazynu; mogą wystąpić problemy związane z użycia emulatora magazynu.</span><span class="sxs-lookup"><span data-stu-id="899b1-242">During development and test, you may be using the local storage emulator; you may encounter some issues that relate specifically to usage of the storage emulator.</span></span>

<span data-ttu-id="899b1-243">W poniższych sekcjach opisano kroki należy wykonać, aby zdiagnozować i rozwiązać problemy w każdej z tych czterech kategorii.</span><span class="sxs-lookup"><span data-stu-id="899b1-243">The following sections outline the steps you should follow to diagnose and troubleshoot issues in each of these four categories.</span></span> <span data-ttu-id="899b1-244">Sekcja "[wskazówki rozwiązywania problemów]" dalszej części tego podręcznika zawiera więcej szczegółów dla niektórych typowych problemów, które mogą wystąpić.</span><span class="sxs-lookup"><span data-stu-id="899b1-244">The section "[Troubleshooting guidance]" later in this guide provides more detail for some common issues you may encounter.</span></span>

### <span data-ttu-id="899b1-245"><a name="service-health-issues"></a>Problemy z usługi kondycji</span><span class="sxs-lookup"><span data-stu-id="899b1-245"><a name="service-health-issues"></a>Service health issues</span></span>
<span data-ttu-id="899b1-246">Problemy z usługi kondycji są zazwyczaj poza formantu.</span><span class="sxs-lookup"><span data-stu-id="899b1-246">Service health issues are typically outside of your control.</span></span> <span data-ttu-id="899b1-247">[Portalu Azure](https://portal.azure.com) zawiera informacje dotyczące bieżących problemów z usługami Azure, takich jak usługi magazynu.</span><span class="sxs-lookup"><span data-stu-id="899b1-247">The [Azure portal](https://portal.azure.com) provides information about any ongoing issues with Azure services including storage services.</span></span> <span data-ttu-id="899b1-248">Jeśli zostanie wybrana opcja dostęp do odczytu z magazynu geograficznie nadmiarowego magazynu podczas tworzenia konta magazynu, następnie w przypadku danych są niedostępne w lokalizacji głównej aplikacji można przełączyć tymczasowo kopii tylko do odczytu w lokalizacji dodatkowej.</span><span class="sxs-lookup"><span data-stu-id="899b1-248">If you opted for Read-Access Geo-Redundant Storage when you created your storage account, then in the event of your data being unavailable in the primary location, your application could switch temporarily to the read-only copy in the secondary location.</span></span> <span data-ttu-id="899b1-249">Aby to zrobić, aplikacja musi mieć możliwość przełączania się między przy użyciu lokalizacji magazynów podstawowych i pomocniczych i mieć możliwość pracy w trybie ograniczonej funkcjonalności danych tylko do odczytu.</span><span class="sxs-lookup"><span data-stu-id="899b1-249">To do this, your application must be able to switch between using the primary and secondary storage locations, and be able to work in a reduced functionality mode with read-only data.</span></span> <span data-ttu-id="899b1-250">Biblioteki klienta magazynu Azure umożliwiają definiowanie zasady ponawiania, który może odczytywać dane z magazynu pomocniczego w przypadku błędu odczytu z magazynu głównego.</span><span class="sxs-lookup"><span data-stu-id="899b1-250">The Azure Storage Client libraries allow you to define a retry policy that can read from secondary storage in case a read from primary storage fails.</span></span> <span data-ttu-id="899b1-251">Aplikacja musi należy pamiętać, że danych w dodatkowej lokalizacji jest ostatecznie spójna.</span><span class="sxs-lookup"><span data-stu-id="899b1-251">Your application also needs to be aware that the data in the secondary location is eventually consistent.</span></span> <span data-ttu-id="899b1-252">Aby uzyskać więcej informacji, zobacz w blogu [opcje nadmiarowość magazynu Azure i dostęp do odczytu z magazynu geograficznie nadmiarowego magazynu](https://blogs.msdn.microsoft.com/windowsazurestorage/2013/12/11/windows-azure-storage-redundancy-options-and-read-access-geo-redundant-storage/).</span><span class="sxs-lookup"><span data-stu-id="899b1-252">For more information, see the blog post [Azure Storage Redundancy Options and Read Access Geo Redundant Storage](https://blogs.msdn.microsoft.com/windowsazurestorage/2013/12/11/windows-azure-storage-redundancy-options-and-read-access-geo-redundant-storage/).</span></span>

### <span data-ttu-id="899b1-253"><a name="performance-issues"></a>Problemy z wydajnością</span><span class="sxs-lookup"><span data-stu-id="899b1-253"><a name="performance-issues"></a>Performance issues</span></span>
<span data-ttu-id="899b1-254">Wydajność aplikacji może być wartością subiektywną, zwłaszcza z punktu widzenia użytkownika.</span><span class="sxs-lookup"><span data-stu-id="899b1-254">The performance of an application can be subjective, especially from a user perspective.</span></span> <span data-ttu-id="899b1-255">Dlatego należy mieć dostępne metryki linii bazowej, które ułatwiają wykrywanie problemów z wydajnością.</span><span class="sxs-lookup"><span data-stu-id="899b1-255">Therefore, it is important to have baseline metrics available to help you identify where there might be a performance issue.</span></span> <span data-ttu-id="899b1-256">Wiele czynników, może mieć wpływ na wydajność usługi magazynu platformy Azure z punktu widzenia aplikacji klienta.</span><span class="sxs-lookup"><span data-stu-id="899b1-256">Many factors might affect the performance of an Azure storage service from the client application perspective.</span></span> <span data-ttu-id="899b1-257">Te czynniki mogą działać w usłudze magazynowania, klienta lub infrastruktury sieciowej; Dlatego ważne jest przyjąć strategię identyfikowanie pochodzenia problem z wydajnością.</span><span class="sxs-lookup"><span data-stu-id="899b1-257">These factors might operate in the storage service, in the client, or in the network infrastructure; therefore it is important to have a strategy for identifying the origin of the performance issue.</span></span>

<span data-ttu-id="899b1-258">Po zidentyfikowaniu prawdopodobnie lokalizację przyczynę problem z wydajnością z metryki, następnie służy pliki dziennika można znaleźć szczegółowe informacje, aby zdiagnozować i rozwiązać problem.</span><span class="sxs-lookup"><span data-stu-id="899b1-258">After you have identified the likely location of the cause of the performance issue from the metrics, you can then use the log files to find detailed information to diagnose and troubleshoot the problem further.</span></span>

<span data-ttu-id="899b1-259">Sekcja "[wskazówki rozwiązywania problemów]" dalszej części tego podręcznika zawiera więcej informacji na temat niektórych typowych wydajności związane z problemów, które mogą wystąpić.</span><span class="sxs-lookup"><span data-stu-id="899b1-259">The section "[Troubleshooting guidance]" later in this guide provides more information about some common performance related issues you may encounter.</span></span>

### <span data-ttu-id="899b1-260"><a name="diagnosing-errors"></a>Diagnozowanie błędów</span><span class="sxs-lookup"><span data-stu-id="899b1-260"><a name="diagnosing-errors"></a>Diagnosing errors</span></span>
<span data-ttu-id="899b1-261">Użytkownicy aplikacji mogą informować o błędów zgłoszonych przez aplikację klienta.</span><span class="sxs-lookup"><span data-stu-id="899b1-261">Users of your application may notify you of errors reported by the client application.</span></span> <span data-ttu-id="899b1-262">Takie jak magazyn metryki liczby typów inny błąd z usług magazynu rejestruje także **NetworkError**, **ClientTimeoutError**, lub **AuthorizationError**.</span><span class="sxs-lookup"><span data-stu-id="899b1-262">Storage Metrics also records counts of different error types from your storage services such as **NetworkError**, **ClientTimeoutError**, or **AuthorizationError**.</span></span> <span data-ttu-id="899b1-263">Gdy metryki magazynu rejestruje tylko liczby o różnych typów, można uzyskać szczegółowe informacje o poszczególnych żądań, przeglądając po stronie serwera, po stronie klienta oraz dzienniki sieci.</span><span class="sxs-lookup"><span data-stu-id="899b1-263">While Storage Metrics only records counts of different error types, you can obtain more detail about individual requests by examining server-side, client-side, and network logs.</span></span> <span data-ttu-id="899b1-264">Zazwyczaj kod stanu HTTP zwrócony przez usługę magazynu zapewni wskazanie dlaczego żądanie zawiodło.</span><span class="sxs-lookup"><span data-stu-id="899b1-264">Typically, the HTTP status code returned by the storage service will give an indication of why the request failed.</span></span>

> [!NOTE]
> <span data-ttu-id="899b1-265">Należy pamiętać, że można oczekiwać sporadyczne błędy: na przykład błędy z powodu przejściowe warunki sieciowe lub błędów aplikacji.</span><span class="sxs-lookup"><span data-stu-id="899b1-265">Remember that you should expect to see some intermittent errors: for example, errors due to transient network conditions, or application errors.</span></span>
> 
> 

<span data-ttu-id="899b1-266">Przydatne w przypadku opis kodów stanu i błędów związanych z magazynu są następujące zasoby:</span><span class="sxs-lookup"><span data-stu-id="899b1-266">The following resources are useful for understanding storage-related status and error codes:</span></span>

* [<span data-ttu-id="899b1-267">Typowe kody błędów interfejsu API REST</span><span class="sxs-lookup"><span data-stu-id="899b1-267">Common REST API Error Codes</span></span>](http://msdn.microsoft.com/library/azure/dd179357.aspx)
* [<span data-ttu-id="899b1-268">Kody błędów usługi blob</span><span class="sxs-lookup"><span data-stu-id="899b1-268">Blob Service Error Codes</span></span>](http://msdn.microsoft.com/library/azure/dd179439.aspx)
* [<span data-ttu-id="899b1-269">Kody błędów usługi kolejki</span><span class="sxs-lookup"><span data-stu-id="899b1-269">Queue Service Error Codes</span></span>](http://msdn.microsoft.com/library/azure/dd179446.aspx)
* [<span data-ttu-id="899b1-270">Kody błędów usługi tabel</span><span class="sxs-lookup"><span data-stu-id="899b1-270">Table Service Error Codes</span></span>](http://msdn.microsoft.com/library/azure/dd179438.aspx)
* [<span data-ttu-id="899b1-271">Kody błędów usługi plików</span><span class="sxs-lookup"><span data-stu-id="899b1-271">File Service Error Codes</span></span>](https://msdn.microsoft.com/library/azure/dn690119.aspx)

### <span data-ttu-id="899b1-272"><a name="storage-emulator-issues"></a>Problemy z emulatora magazynu</span><span class="sxs-lookup"><span data-stu-id="899b1-272"><a name="storage-emulator-issues"></a>Storage emulator issues</span></span>
<span data-ttu-id="899b1-273">Zestaw Azure SDK zawiera emulator magazynu, które można uruchamiać na deweloperskiej stacji roboczej.</span><span class="sxs-lookup"><span data-stu-id="899b1-273">The Azure SDK includes a storage emulator you can run on a development workstation.</span></span> <span data-ttu-id="899b1-274">Emulator tego symuluje większość zachowanie usług magazynu platformy Azure i jest przydatne podczas programowania i testowania, co pozwala na uruchamianie aplikacji, które korzystają z usług magazynu platformy Azure bez konieczności subskrypcji platformy Azure i konto magazynu platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="899b1-274">This emulator simulates most of the behavior of the Azure storage services and is useful during development and test, enabling you to run applications that use Azure storage services without the need for an Azure subscription and an Azure storage account.</span></span>

<span data-ttu-id="899b1-275">"[wskazówki rozwiązywania problemów]" tego przewodnika opisano niektóre typowe problemy napotkano przy użyciu emulatora magazynu.</span><span class="sxs-lookup"><span data-stu-id="899b1-275">The "[Troubleshooting guidance]" section of this guide describes some common issues encountered using the storage emulator.</span></span>

### <span data-ttu-id="899b1-276"><a name="storage-logging-tools"></a>Narzędzia rejestrowania magazynu</span><span class="sxs-lookup"><span data-stu-id="899b1-276"><a name="storage-logging-tools"></a>Storage logging tools</span></span>
<span data-ttu-id="899b1-277">Rejestrowanie magazynu zapewnia po stronie serwera rejestrowanie żądań magazynu na koncie magazynu Azure.</span><span class="sxs-lookup"><span data-stu-id="899b1-277">Storage Logging provides server-side logging of storage requests in your Azure storage account.</span></span> <span data-ttu-id="899b1-278">Aby uzyskać więcej informacji na temat włączania rejestrowania zdarzeń po stronie serwera i uzyskać dostęp do danych dziennika, zobacz [Włączanie rejestrowania magazynu i uzyskiwanie dostępu do danych dziennika](http://go.microsoft.com/fwlink/?LinkId=510867).</span><span class="sxs-lookup"><span data-stu-id="899b1-278">For more information about how to enable server-side logging and access the log data, see [Enabling Storage Logging and Accessing Log Data](http://go.microsoft.com/fwlink/?LinkId=510867).</span></span>

<span data-ttu-id="899b1-279">Biblioteki klienta usługi Storage dla platformy .NET umożliwia zbieranie danych dziennika po stronie klienta, które odnoszą się do magazynu wykonywany przez aplikację.</span><span class="sxs-lookup"><span data-stu-id="899b1-279">The Storage Client Library for .NET enables you to collect client-side log data that relates to storage operations performed by your application.</span></span> <span data-ttu-id="899b1-280">Aby uzyskać więcej informacji, zobacz [klienta rejestrowaniem za pomocą biblioteki klienta usługi Storage .NET](http://go.microsoft.com/fwlink/?LinkId=510868).</span><span class="sxs-lookup"><span data-stu-id="899b1-280">For more information, see [Client-side Logging with the .NET Storage Client Library](http://go.microsoft.com/fwlink/?LinkId=510868).</span></span>

> [!NOTE]
> <span data-ttu-id="899b1-281">W niektórych sytuacjach (np. awarii autoryzacji sygnatury dostępu Współdzielonego) użytkownik może zgłosić błąd, który można znaleźć żadnych danych żądania w dziennikach magazynu po stronie serwera.</span><span class="sxs-lookup"><span data-stu-id="899b1-281">In some circumstances (such as SAS authorization failures), a user may report an error for which you can find no request data in the server-side Storage logs.</span></span> <span data-ttu-id="899b1-282">Można korzystać z funkcji rejestrowania biblioteki klienta magazynu Zbadaj, czy przyczyną problemu jest na kliencie lub użyj narzędzia monitorowania sieci do sprawdzania, czy w sieci.</span><span class="sxs-lookup"><span data-stu-id="899b1-282">You can use the logging capabilities of the Storage Client Library to investigate if the cause of the issue is on the client or use network monitoring tools to investigate the network.</span></span>
> 
> 

### <span data-ttu-id="899b1-283"><a name="using-network-logging-tools"></a>Przy użyciu narzędzia rejestracji w sieci</span><span class="sxs-lookup"><span data-stu-id="899b1-283"><a name="using-network-logging-tools"></a>Using network logging tools</span></span>
<span data-ttu-id="899b1-284">Można przechwytywać ruch między klientem i serwerem zawierają szczegółowe informacje o danych, które są wymiana klient i serwer i podstawowych warunków sieciowych.</span><span class="sxs-lookup"><span data-stu-id="899b1-284">You can capture the traffic between the client and server to provide detailed information about the data the client and server are exchanging and the underlying network conditions.</span></span> <span data-ttu-id="899b1-285">Narzędzia rejestrowania przydatne sieci obejmują:</span><span class="sxs-lookup"><span data-stu-id="899b1-285">Useful network logging tools include:</span></span>

* <span data-ttu-id="899b1-286">[Fiddler](http://www.telerik.com/fiddler) to bezpłatna sieci web profilowanie serwera proxy, który umożliwia Sprawdź, czy nagłówki i danych ładunku komunikatów żądań i odpowiedzi HTTP i HTTPS.</span><span class="sxs-lookup"><span data-stu-id="899b1-286">[Fiddler](http://www.telerik.com/fiddler) is a free web debugging proxy that enables you to examine the headers and payload data of HTTP and HTTPS request and response messages.</span></span> <span data-ttu-id="899b1-287">Aby uzyskać więcej informacji, zobacz [dodatku 1: przy użyciu narzędzia Fiddler do przechwytywania ruchu HTTP i HTTPS](#appendix-1).</span><span class="sxs-lookup"><span data-stu-id="899b1-287">For more information, see [Appendix 1: Using Fiddler to capture HTTP and HTTPS traffic](#appendix-1).</span></span>
* <span data-ttu-id="899b1-288">[Monitor sieci firmy Microsoft (Netmon)](http://www.microsoft.com/download/details.aspx?id=4865) i [Wireshark](http://www.wireshark.org/) są wolnej sieci analizatory protokołu, które umożliwiają wyświetlanie pakietów szczegółowe informacje o wiele różnych protokołów sieciowych.</span><span class="sxs-lookup"><span data-stu-id="899b1-288">[Microsoft Network Monitor (Netmon)](http://www.microsoft.com/download/details.aspx?id=4865) and [Wireshark](http://www.wireshark.org/) are free network protocol analyzers that enable you to view detailed packet information for a wide range of network protocols.</span></span> <span data-ttu-id="899b1-289">Aby uzyskać więcej informacji na temat programu Wireshark, zobacz "[dodatek 2: przy użyciu programu Wireshark do przechwytywania ruchu sieciowego](#appendix-2)".</span><span class="sxs-lookup"><span data-stu-id="899b1-289">For more information about Wireshark, see "[Appendix 2: Using Wireshark to capture network traffic](#appendix-2)".</span></span>
* <span data-ttu-id="899b1-290">Programu Microsoft Message Analyzer jest narzędziem do firmy Microsoft, która zastępuje Monitor sieci, które oprócz przechwytywania danych pakietów sieciowych, pomaga do wyświetlania i analizowania danych dziennika przechwycone z innych narzędzi.</span><span class="sxs-lookup"><span data-stu-id="899b1-290">Microsoft Message Analyzer is a tool from Microsoft that supersedes Netmon and that in addition to capturing network packet data, helps you to view and analyze the log data captured from other tools.</span></span> <span data-ttu-id="899b1-291">Aby uzyskać więcej informacji, zobacz "[dodatku 3: przy użyciu programu Microsoft Message Analyzer do przechwytywania ruchu sieciowego](#appendix-3)".</span><span class="sxs-lookup"><span data-stu-id="899b1-291">For more information, see "[Appendix 3: Using Microsoft Message Analyzer to capture network traffic](#appendix-3)".</span></span>
* <span data-ttu-id="899b1-292">Jeśli chcesz wykonać test podstawowej łączności, aby sprawdzić, czy komputer klienta można połączyć się z usługą magazynu platformy Azure za pośrednictwem sieci, nie możesz tego zrobić przy użyciu standardu **ping** narzędzia na kliencie.</span><span class="sxs-lookup"><span data-stu-id="899b1-292">If you want to perform a basic connectivity test to check that your client machine can connect to the Azure storage service over the network, you cannot do this using the standard **ping** tool on the client.</span></span> <span data-ttu-id="899b1-293">Można jednak użyć [ **tcping** narzędzie](http://www.elifulkerson.com/projects/tcping.php) Aby sprawdzić łączność.</span><span class="sxs-lookup"><span data-stu-id="899b1-293">However, you can use the [**tcping** tool](http://www.elifulkerson.com/projects/tcping.php) to check connectivity.</span></span>

<span data-ttu-id="899b1-294">W wielu przypadkach danych dziennika z rejestrowania magazynu i biblioteki klienta usługi Storage będą wystarczające, aby zdiagnozować problem, ale w niektórych scenariuszach może być konieczne bardziej szczegółowe informacje, które zapewniają te narzędzia rejestrowania w sieci.</span><span class="sxs-lookup"><span data-stu-id="899b1-294">In many cases, the log data from Storage Logging and the Storage Client Library will be sufficient to diagnose an issue, but in some scenarios, you may need the more detailed information that these network logging tools can provide.</span></span> <span data-ttu-id="899b1-295">Na przykład aby wyświetlać komunikaty HTTP i HTTPS przy użyciu narzędzia Fiddler umożliwia wyświetlenie nagłówka i ładunku dane wysyłane do i z usług magazynu, które umożliwiłyby zbadać, jak aplikacja kliencka ponownych prób operacji magazynu.</span><span class="sxs-lookup"><span data-stu-id="899b1-295">For example, using Fiddler to view HTTP and HTTPS messages enables you to view header and payload data sent to and from the storage services, which would enable you to examine how a client application retries storage operations.</span></span> <span data-ttu-id="899b1-296">Protokół analizatorów, takich jak Wireshark działają na poziomie pakietów, dzięki któremu można wyświetlić danych TCP, która umożliwia rozwiązywanie problemów z utraty pakietów i problemy z łącznością.</span><span class="sxs-lookup"><span data-stu-id="899b1-296">Protocol analyzers such as Wireshark operate at the packet level enabling you to view TCP data, which would enable you to troubleshoot lost packets and connectivity issues.</span></span> <span data-ttu-id="899b1-297">Message Analyzer może działać z warstwy protokołów HTTP i TCP.</span><span class="sxs-lookup"><span data-stu-id="899b1-297">Message Analyzer can operate at both HTTP and TCP layers.</span></span>

## <span data-ttu-id="899b1-298"><a name="end-to-end-tracing"></a>Śledzenia end-to-end</span><span class="sxs-lookup"><span data-stu-id="899b1-298"><a name="end-to-end-tracing"></a>End-to-end tracing</span></span>
<span data-ttu-id="899b1-299">Przy użyciu różnych plikach dziennika śledzenia end-to-end to technika przydatne do badania potencjalnych problemów.</span><span class="sxs-lookup"><span data-stu-id="899b1-299">End-to-end tracing using a variety of log files is a useful technique for investigating potential issues.</span></span> <span data-ttu-id="899b1-300">Możesz skorzystać z informacji daty/godziny z danych metryki, jako wskazanie gdzie rozpocząć wyszukiwanie w plikach dziennika, aby uzyskać szczegółowe informacje, które mogą pomóc rozwiązać ten problem.</span><span class="sxs-lookup"><span data-stu-id="899b1-300">You can use the date/time information from your metrics data as an indication of where to start looking in the log files for the detailed information that will help you troubleshoot the issue.</span></span>

### <span data-ttu-id="899b1-301"><a name="correlating-log-data"></a>Korelowanie dane dziennika</span><span class="sxs-lookup"><span data-stu-id="899b1-301"><a name="correlating-log-data"></a>Correlating log data</span></span>
<span data-ttu-id="899b1-302">Podczas wyświetlania dzienniki za pośrednictwem aplikacji klienckich, śledzi sieci i żądań rejestrowania magazynu po stronie serwera, który jest bardzo istotne, aby można było do skorelowania w różnych plikach dziennika.</span><span class="sxs-lookup"><span data-stu-id="899b1-302">When viewing logs from client applications, network traces, and server-side storage logging it is critical to be able to correlate requests across the different log files.</span></span> <span data-ttu-id="899b1-303">Pliki dziennika zawierają wiele różnych pól, które są przydatne jako identyfikatorów korelacji.</span><span class="sxs-lookup"><span data-stu-id="899b1-303">The log files include a number of different fields that are useful as correlation identifiers.</span></span> <span data-ttu-id="899b1-304">Identyfikator żądania klienta jest najbardziej przydatna pola służące do skorelowania wpisów w różnych dzienników.</span><span class="sxs-lookup"><span data-stu-id="899b1-304">The client request id is the most useful field to use to correlate entries in the different logs.</span></span> <span data-ttu-id="899b1-305">Jednak czasami może być warto użyć identyfikatora serwera żądania lub sygnatur czasowych.</span><span class="sxs-lookup"><span data-stu-id="899b1-305">However sometimes, it can be useful to use either the server request id or timestamps.</span></span> <span data-ttu-id="899b1-306">Więcej informacji o tych opcjach można znaleźć w poniższych sekcjach.</span><span class="sxs-lookup"><span data-stu-id="899b1-306">The following sections provide more details about these options.</span></span>

### <span data-ttu-id="899b1-307"><a name="client-request-id"></a>Identyfikator żądania klienta</span><span class="sxs-lookup"><span data-stu-id="899b1-307"><a name="client-request-id"></a>Client request ID</span></span>
<span data-ttu-id="899b1-308">Biblioteka klienta magazynu automatycznie generuje identyfikator żądania klienta unikatowy dla każdego żądania.</span><span class="sxs-lookup"><span data-stu-id="899b1-308">The Storage Client Library automatically generates a unique client request id for every request.</span></span>

* <span data-ttu-id="899b1-309">W dzienniku po stronie klienta tworzy bibliotekę klienta usługi Storage, identyfikator żądania klienta jest wyświetlana w **Identyfikatora żądania klienta** pola każdego wpisu dziennika odnoszących się do żądania.</span><span class="sxs-lookup"><span data-stu-id="899b1-309">In the client-side log that the Storage Client Library creates, the client request id appears in the **Client Request ID** field of every log entry relating to the request.</span></span>
* <span data-ttu-id="899b1-310">W śledzenia sieci, takiej jak przechwycone przez Fiddler, identyfikator żądania klienta jest widoczny w wiadomości żądania jako **x-ms-client żądania id** wartość nagłówka HTTP.</span><span class="sxs-lookup"><span data-stu-id="899b1-310">In a network trace such as one captured by Fiddler, the client request id is visible in request messages as the **x-ms-client-request-id** HTTP header value.</span></span>
* <span data-ttu-id="899b1-311">W dzienniku rejestrowania magazynu po stronie serwera identyfikatora żądania klienta jest wyświetlana w kolumnie identyfikator żądania klienta.</span><span class="sxs-lookup"><span data-stu-id="899b1-311">In the server-side Storage Logging log, the client request id appears in the Client request ID column.</span></span>

> [!NOTE]
> <span data-ttu-id="899b1-312">Istnieje możliwość dla wielu żądań udostępniać ten sam identyfikator żądania klienta, ponieważ klient może zostać przypisany tej wartości (mimo że biblioteki klienta usługi Storage automatycznie przypisuje nową wartość).</span><span class="sxs-lookup"><span data-stu-id="899b1-312">It is possible for multiple requests to share the same client request id because the client can assign this value (although the Storage Client Library assigns a new value automatically).</span></span> <span data-ttu-id="899b1-313">W przypadku ponownych prób z klienta wszystkie próby współużytkować ten sam identyfikator żądania klienta. W przypadku partii wysłanych z klienta partii ma identyfikator żądania jednego klienta.</span><span class="sxs-lookup"><span data-stu-id="899b1-313">In the case of retries from the client, all attempts share the same client request id. In the case of a batch sent from the client, the batch has a single client request id.</span></span>
> 
> 

### <span data-ttu-id="899b1-314"><a name="server-request-id"></a>Identyfikator żądania serwera</span><span class="sxs-lookup"><span data-stu-id="899b1-314"><a name="server-request-id"></a>Server request ID</span></span>
<span data-ttu-id="899b1-315">Usługa magazynu jest automatycznie generuje identyfikatorów żądania serwera.</span><span class="sxs-lookup"><span data-stu-id="899b1-315">The storage service automatically generates server request ids.</span></span>

* <span data-ttu-id="899b1-316">W dzienniku rejestrowania magazynu po stronie serwera, zostanie wyświetlony identyfikator żądania serwera **nagłówka Identyfikatora żądania** kolumny.</span><span class="sxs-lookup"><span data-stu-id="899b1-316">In the server-side Storage Logging log, the server request id appears the **Request ID header** column.</span></span>
* <span data-ttu-id="899b1-317">W śledzenia sieci, takiej jak przechwycone przez Fiddler, identyfikator żądania serwera pojawia się w wiadomości odpowiedzi jako **x-ms-request-id** wartość nagłówka HTTP.</span><span class="sxs-lookup"><span data-stu-id="899b1-317">In a network trace such as one captured by Fiddler, the server request id appears in response messages as the **x-ms-request-id** HTTP header value.</span></span>
* <span data-ttu-id="899b1-318">W dzienniku po stronie klienta tworzy bibliotekę klienta usługi Storage, identyfikator żądania serwera zostanie wyświetlony w **tekst operacji** kolumny dla wpisu dziennika zawierającego szczegóły odpowiedź serwera.</span><span class="sxs-lookup"><span data-stu-id="899b1-318">In the client-side log that the Storage Client Library creates, the server request id appears in the **Operation Text** column for the log entry showing details of the server response.</span></span>

> [!NOTE]
> <span data-ttu-id="899b1-319">Usługa magazynu zawsze przypisuje unikatowy serwera identyfikator żądania każde żądanie, które otrzymuje, więc każdy ponowienia próby z klienta i każda operacja wchodzące w skład partii serwera unikatowy identyfikator żądania.</span><span class="sxs-lookup"><span data-stu-id="899b1-319">The storage service always assigns a unique server request id to every request it receives, so every retry attempt from the client and every operation included in a batch has a unique server request id.</span></span>
> 
> 

<span data-ttu-id="899b1-320">Jeśli biblioteki klienta usługi Storage zgłasza **StorageException** w kliencie **RequestInformation** właściwość zawiera **RequestResult** obiekt, który zawiera **ServiceRequestID** właściwości.</span><span class="sxs-lookup"><span data-stu-id="899b1-320">If the Storage Client Library throws a **StorageException** in the client, the **RequestInformation** property contains a **RequestResult** object that includes a **ServiceRequestID** property.</span></span> <span data-ttu-id="899b1-321">Można także przejść do **RequestResult** obiekt z **elementu OperationContext** wystąpienia.</span><span class="sxs-lookup"><span data-stu-id="899b1-321">You can also access a **RequestResult** object from an **OperationContext** instance.</span></span>

<span data-ttu-id="899b1-322">Poniższy przykład kodu pokazuje, jak ustawić niestandardowego **ClientRequestId** wartość dołączając **elementu OperationContext** obiekt żądania do usługi magazynu.</span><span class="sxs-lookup"><span data-stu-id="899b1-322">The code sample below demonstrates how to set a custom **ClientRequestId** value by attaching an **OperationContext** object the request to the storage service.</span></span> <span data-ttu-id="899b1-323">Przedstawiono również sposób pobierania **ServerRequestId** wartości z komunikatu odpowiedzi.</span><span class="sxs-lookup"><span data-stu-id="899b1-323">It also shows how to retrieve the **ServerRequestId** value from the response message.</span></span>

```csharp
//Parse the connection string for the storage account.
const string ConnectionString = "DefaultEndpointsProtocol=https;AccountName=account-name;AccountKey=account-key";
CloudStorageAccount storageAccount = CloudStorageAccount.Parse(ConnectionString);
CloudBlobClient blobClient = storageAccount.CreateCloudBlobClient();

// Create an Operation Context that includes custom ClientRequestId string based on constants defined within the application along with a Guid.
OperationContext oc = new OperationContext();
oc.ClientRequestID = String.Format("{0} {1} {2} {3}", HOSTNAME, APPNAME, USERID, Guid.NewGuid().ToString());

try
{
    CloudBlobContainer container = blobClient.GetContainerReference("democontainer");
    ICloudBlob blob = container.GetBlobReferenceFromServer("testImage.jpg", null, null, oc);  
    var downloadToPath = string.Format("./{0}", blob.Name);
    using (var fs = File.OpenWrite(downloadToPath))
    {
        blob.DownloadToStream(fs, null, null, oc);
        Console.WriteLine("\t Blob downloaded to file: {0}", downloadToPath);
    }
}
catch (StorageException storageException)
{
    Console.WriteLine("Storage exception {0} occurred", storageException.Message);
    // Multiple results may exist due to client side retry logic - each retried operation will have a unique ServiceRequestId
    foreach (var result in oc.RequestResults)
    {
            Console.WriteLine("HttpStatus: {0}, ServiceRequestId {1}", result.HttpStatusCode, result.ServiceRequestID);
    }
}
```

### <span data-ttu-id="899b1-324"><a name="timestamps"></a>Znaczniki czasu</span><span class="sxs-lookup"><span data-stu-id="899b1-324"><a name="timestamps"></a>Timestamps</span></span>
<span data-ttu-id="899b1-325">Znajdź pozycje dziennika powiązane, ale należy zwrócić szczególną uwagę na dowolnym niedokładność zegara między klientem a serwerem, który może istnieć umożliwia także sygnatur czasowych.</span><span class="sxs-lookup"><span data-stu-id="899b1-325">You can also use timestamps to locate related log entries, but be careful of any clock skew between the client and server that may exist.</span></span> <span data-ttu-id="899b1-326">Powinna przeszukać plus lub minus 15 minut do dopasowania wpisów po stronie serwera, oparte na sygnatury czasowej na komputerze klienckim.</span><span class="sxs-lookup"><span data-stu-id="899b1-326">You should search plus or minus 15 minutes for matching server-side entries based on the timestamp on the client.</span></span> <span data-ttu-id="899b1-327">Należy pamiętać, że metadane obiektu blob dla obiektów blob zawierający metryki wskazuje zakres czasu dla metryki przechowywane w obiekcie blob; jest to przydatne, jeśli masz wiele metryki obiektów blob dla tego samego minutę lub godzinę.</span><span class="sxs-lookup"><span data-stu-id="899b1-327">Remember that the blob metadata for the blobs containing metrics indicates the time range for the metrics stored in the blob; this is useful if you have many metrics blobs for the same minute or hour.</span></span>

## <span data-ttu-id="899b1-328"><a name="troubleshooting-guidance"></a>Wskazówki dotyczące rozwiązywania problemów</span><span class="sxs-lookup"><span data-stu-id="899b1-328"><a name="troubleshooting-guidance"></a>Troubleshooting guidance</span></span>
<span data-ttu-id="899b1-329">W tej sekcji ułatwiają diagnozowania i rozwiązywania problemów z niektóre typowe problemy dotyczące aplikacji mogą wystąpić podczas korzystania z usług magazynu Azure.</span><span class="sxs-lookup"><span data-stu-id="899b1-329">This section will help you with the diagnosis and troubleshooting of some of the common issues your application may encounter when using the Azure storage services.</span></span> <span data-ttu-id="899b1-330">Skorzystaj z poniższej listy, aby zlokalizować informacje dotyczące określonego problemu.</span><span class="sxs-lookup"><span data-stu-id="899b1-330">Use the list below to locate the information relevant to your specific issue.</span></span>

<span data-ttu-id="899b1-331">**Rozwiązywanie problemów z drzewa decyzyjnego**</span><span class="sxs-lookup"><span data-stu-id="899b1-331">**Troubleshooting Decision Tree**</span></span>

---
<span data-ttu-id="899b1-332">Problem związek między wykonanie jednej z usług magazynu?</span><span class="sxs-lookup"><span data-stu-id="899b1-332">Does your issue relate to the performance of one of the storage services?</span></span>

* <span data-ttu-id="899b1-333">[metryki pokazują AverageE2ELatency wysoki i niski AverageServerLatency]</span><span class="sxs-lookup"><span data-stu-id="899b1-333">[Metrics show high AverageE2ELatency and low AverageServerLatency]</span></span>
* <span data-ttu-id="899b1-334">[Metryki wskazują niską wartość AverageE2ELatency i niską wartość AverageServerLatency, ale na kliencie występuje duże opóźnienie]</span><span class="sxs-lookup"><span data-stu-id="899b1-334">[Metrics show low AverageE2ELatency and low AverageServerLatency but the client is experiencing high latency]</span></span>
* <span data-ttu-id="899b1-335">[Metryki wskazują wysoką wartość AverageServerLatency]</span><span class="sxs-lookup"><span data-stu-id="899b1-335">[Metrics show high AverageServerLatency]</span></span>
* <span data-ttu-id="899b1-336">[Występują nieoczekiwane opóźnienia w dostarczaniu komunikatów w kolejce]</span><span class="sxs-lookup"><span data-stu-id="899b1-336">[You are experiencing unexpected delays in message delivery on a queue]</span></span>

---
<span data-ttu-id="899b1-337">Problem związek do sprawdzania dostępności usług magazynu?</span><span class="sxs-lookup"><span data-stu-id="899b1-337">Does your issue relate to the availability of one of the storage services?</span></span>

* <span data-ttu-id="899b1-338">[metryki spowodować wzrost PercentThrottlingError]</span><span class="sxs-lookup"><span data-stu-id="899b1-338">[Metrics show an increase in PercentThrottlingError]</span></span>
* <span data-ttu-id="899b1-339">[metryki spowodować wzrost PercentTimeoutError]</span><span class="sxs-lookup"><span data-stu-id="899b1-339">[Metrics show an increase in PercentTimeoutError]</span></span>
* <span data-ttu-id="899b1-340">[Metryki wskazują wzrost wartości PercentNetworkError]</span><span class="sxs-lookup"><span data-stu-id="899b1-340">[Metrics show an increase in PercentNetworkError]</span></span>

---
 <span data-ttu-id="899b1-341">Aplikacja kliencka odbiera odpowiedź HTTP 4XX (na przykład 404) z usługą magazynu?</span><span class="sxs-lookup"><span data-stu-id="899b1-341">Is your client application receiving an HTTP 4XX (such as 404) response from a storage service?</span></span>

* <span data-ttu-id="899b1-342">[Klient odbiera komunikaty HTTP 403 (Dostęp zabroniony)]</span><span class="sxs-lookup"><span data-stu-id="899b1-342">[The client is receiving HTTP 403 (Forbidden) messages]</span></span>
* <span data-ttu-id="899b1-343">[Klient odbiera komunikaty HTTP 404 (nie znaleziono)]</span><span class="sxs-lookup"><span data-stu-id="899b1-343">[The client is receiving HTTP 404 (Not found) messages]</span></span>
* <span data-ttu-id="899b1-344">[Klient odbiera komunikaty HTTP 409 (konflikt)]</span><span class="sxs-lookup"><span data-stu-id="899b1-344">[The client is receiving HTTP 409 (Conflict) messages]</span></span>

---
<span data-ttu-id="899b1-345">[metryki pokazują PercentSuccess niskim lub wpisy dziennika analytics ma operacji ze stanem transakcji ClientOtherErrors]</span><span class="sxs-lookup"><span data-stu-id="899b1-345">[Metrics show low PercentSuccess or analytics log entries have operations with transaction status of ClientOtherErrors]</span></span>

---
<span data-ttu-id="899b1-346">[Metryki pojemności Pokaż nieoczekiwane zwiększenie wykorzystania pojemności magazynu]</span><span class="sxs-lookup"><span data-stu-id="899b1-346">[Capacity metrics show an unexpected increase in storage capacity usage]</span></span>

---
<span data-ttu-id="899b1-347">[Występują nieoczekiwane ponowne uruchomienie maszyn wirtualnych, które mają wiele wirtualnych dysków twardych dołączonych]</span><span class="sxs-lookup"><span data-stu-id="899b1-347">[You are experiencing unexpected reboots of Virtual Machines that have a large number of attached VHDs]</span></span>

---
<span data-ttu-id="899b1-348">[Problem wynika z przy użyciu emulatora magazynu dla rozwoju lub testowania]</span><span class="sxs-lookup"><span data-stu-id="899b1-348">[Your issue arises from using the storage emulator for development or test]</span></span>

---
<span data-ttu-id="899b1-349">[Pojawiły się problemy z instalacją zestawu Azure SDK dla platformy .NET]</span><span class="sxs-lookup"><span data-stu-id="899b1-349">[You are encountering problems installing the Azure SDK for .NET]</span></span>

---
<span data-ttu-id="899b1-350">[Inny problem z usługą magazynu]</span><span class="sxs-lookup"><span data-stu-id="899b1-350">[You have a different issue with a storage service]</span></span>

---
### <span data-ttu-id="899b1-351"><a name="metrics-show-high-AverageE2ELatency-and-low-AverageServerLatency"></a>Metryki pokazują AverageE2ELatency wysoki i niski AverageServerLatency</span><span class="sxs-lookup"><span data-stu-id="899b1-351"><a name="metrics-show-high-AverageE2ELatency-and-low-AverageServerLatency"></a>Metrics show high AverageE2ELatency and low AverageServerLatency</span></span>
<span data-ttu-id="899b1-352">Ilustracja poniżej z [portalu Azure](https://portal.azure.com) narzędzi do monitorowania przedstawiono przykład gdzie **AverageE2ELatency** jest znacznie wyższa niż **AverageServerLatency**.</span><span class="sxs-lookup"><span data-stu-id="899b1-352">The illustration below from the [Azure portal](https://portal.azure.com) monitoring tool shows an example where the **AverageE2ELatency** is significantly higher than the **AverageServerLatency**.</span></span>

![][4]

<span data-ttu-id="899b1-353">Należy pamiętać, że Usługa magazynu tylko w przypadku obliczania metryki **AverageE2ELatency** pomyślnych żądań oraz, w odróżnieniu od **AverageServerLatency**, obejmuje czas przyjmuje klienta do wysyłania danych i odbierania potwierdzenia z usługą Magazyn.</span><span class="sxs-lookup"><span data-stu-id="899b1-353">Note that the storage service only calculates the metric **AverageE2ELatency** for successful requests and, unlike **AverageServerLatency**, includes the time the client takes to send the data and receive acknowledgement from the storage service.</span></span> <span data-ttu-id="899b1-354">W związku z tym różnica między **AverageE2ELatency** i **AverageServerLatency** może być z powodu aplikacji klienckiej powolnych odpowiadać lub z powodu warunków w sieci.</span><span class="sxs-lookup"><span data-stu-id="899b1-354">Therefore, a difference between **AverageE2ELatency** and **AverageServerLatency** could be either due to the client application being slow to respond, or due to conditions on the network.</span></span>

> [!NOTE]
> <span data-ttu-id="899b1-355">Można również wyświetlić **E2ELatency** i **ServerLatency** dane dziennika dla poszczególnych magazynu operacji w rejestrowania magazynu.</span><span class="sxs-lookup"><span data-stu-id="899b1-355">You can also view **E2ELatency** and **ServerLatency** for individual storage operations in the Storage Logging log data.</span></span>
> 
> 

#### <a name="investigating-client-performance-issues"></a><span data-ttu-id="899b1-356">Do badania problemów dotyczących wydajności klienta</span><span class="sxs-lookup"><span data-stu-id="899b1-356">Investigating client performance issues</span></span>
<span data-ttu-id="899b1-357">Możliwe przyczyny klienta wolno odpowiadać obejmują o ograniczonej liczby dostępnych połączeń i wątków lub być niedostateczne zasoby, takie jak procesor CPU, pamięć i sieć przepustowości.</span><span class="sxs-lookup"><span data-stu-id="899b1-357">Possible reasons for the client responding slowly include having a limited number of available connections or threads, or being low on resources such as CPU, memory or network bandwidth.</span></span> <span data-ttu-id="899b1-358">Można rozwiązać ten problem, zmieniając kod klienta efektywność (na przykład za pomocą wywołania asynchroniczne z usługą Magazyn), lub za pomocą większe maszyny wirtualnej (większej liczby rdzeni i większa ilość pamięci).</span><span class="sxs-lookup"><span data-stu-id="899b1-358">You may be able to resolve the issue by modifying the client code to be more efficient (for example by using asynchronous calls to the storage service), or by using a larger Virtual Machine (with more cores and more memory).</span></span>

<span data-ttu-id="899b1-359">Dla tabeli i kolejki usług algorytm Nagle'a może również spowodować wysokiej **AverageE2ELatency** w porównaniu z **AverageServerLatency**: Aby uzyskać więcej informacji, zobacz wpis [nie przyjazną kierunku małych żądań jest algorytm Nagle'a w](http://blogs.msdn.com/b/windowsazurestorage/archive/2010/06/25/nagle-s-algorithm-is-not-friendly-towards-small-requests.aspx).</span><span class="sxs-lookup"><span data-stu-id="899b1-359">For the table and queue services, the Nagle algorithm can also cause high **AverageE2ELatency** as compared to **AverageServerLatency**: for more information see the post [Nagle's Algorithm is Not Friendly towards Small Requests](http://blogs.msdn.com/b/windowsazurestorage/archive/2010/06/25/nagle-s-algorithm-is-not-friendly-towards-small-requests.aspx).</span></span> <span data-ttu-id="899b1-360">Algorytm Nagle'a w kodzie można wyłączyć za pomocą **ServicePointManager —** klasy w **System.Net** przestrzeni nazw.</span><span class="sxs-lookup"><span data-stu-id="899b1-360">You can disable the Nagle algorithm in code by using the **ServicePointManager** class in the **System.Net** namespace.</span></span> <span data-ttu-id="899b1-361">Ten krok należy wykonać przed wprowadzasz wezwań do tabeli lub usługi kolejki w aplikacji, ponieważ nie dotyczy to połączeń znajdujących się już otworzyć.</span><span class="sxs-lookup"><span data-stu-id="899b1-361">You should do this before you make any calls to the table or queue services in your application since this does not affect connections that are already open.</span></span> <span data-ttu-id="899b1-362">Poniższy przykład pochodzi z **Application_Start** metody w roli procesu roboczego.</span><span class="sxs-lookup"><span data-stu-id="899b1-362">The following example comes from the **Application_Start** method in a worker role.</span></span>

```csharp
var storageAccount = CloudStorageAccount.Parse(connStr);
ServicePoint tableServicePoint = ServicePointManager.FindServicePoint(storageAccount.TableEndpoint);
tableServicePoint.UseNagleAlgorithm = false;
ServicePoint queueServicePoint = ServicePointManager.FindServicePoint(storageAccount.QueueEndpoint);
queueServicePoint.UseNagleAlgorithm = false;
```

<span data-ttu-id="899b1-363">Sprawdź dzienniki po stronie klienta, aby zobaczyć, jak wiele żądań, aplikacja kliencka jest przesyłanie i sprawdź, czy ogólne .NET powiązane wąskich gardeł wydajności w sieci klienta, takie jak procesor CPU, pamięci .NET, wykorzystania sieci lub pamięci.</span><span class="sxs-lookup"><span data-stu-id="899b1-363">You should check the client-side logs to see how many requests your client application is submitting, and check for general .NET related performance bottlenecks in your client such as CPU, .NET garbage collection, network utilization, or memory.</span></span> <span data-ttu-id="899b1-364">Jako punkt początkowy dla Rozwiązywanie problemów z aplikacjami klienta .NET, zobacz [debugowanie, śledzenie i profilowanie](http://msdn.microsoft.com/library/7fe0dd2y).</span><span class="sxs-lookup"><span data-stu-id="899b1-364">As a starting point for troubleshooting .NET client applications, see [Debugging, Tracing, and Profiling](http://msdn.microsoft.com/library/7fe0dd2y).</span></span>

#### <a name="investigating-network-latency-issues"></a><span data-ttu-id="899b1-365">Badanie problemów z opóźnieniem w sieci</span><span class="sxs-lookup"><span data-stu-id="899b1-365">Investigating network latency issues</span></span>
<span data-ttu-id="899b1-366">Zazwyczaj duże opóźnienie end-to-end spowodowane przez sieć jest z powodu przejściowego warunków.</span><span class="sxs-lookup"><span data-stu-id="899b1-366">Typically, high end-to-end latency caused by the network is due to transient conditions.</span></span> <span data-ttu-id="899b1-367">Zarówno problemy z siecią przejściowych i trwałe takich jak porzuconych pakietów można zbadać za pomocą narzędzi takich jak Wireshark lub programu Microsoft Message Analyzer.</span><span class="sxs-lookup"><span data-stu-id="899b1-367">You can investigate both transient and persistent network issues such as dropped packets by using tools such as Wireshark or Microsoft Message Analyzer.</span></span>

<span data-ttu-id="899b1-368">Aby uzyskać więcej informacji o rozwiązywaniu problemów z siecią za pomocą programu Wireshark, zobacz "[dodatek 2: do przechwytywania ruchu sieciowego przy użyciu programu Wireshark]."</span><span class="sxs-lookup"><span data-stu-id="899b1-368">For more information about using Wireshark to troubleshoot network issues, see "[Appendix 2: Using Wireshark to capture network traffic]."</span></span>

<span data-ttu-id="899b1-369">Aby uzyskać więcej informacji o rozwiązywaniu problemów z siecią za pomocą programu Microsoft Message Analyzer, zobacz "[dodatku 3: do przechwytywania ruchu sieciowego przy użyciu programu Microsoft Message Analyzer]."</span><span class="sxs-lookup"><span data-stu-id="899b1-369">For more information about using Microsoft Message Analyzer to troubleshoot network issues, see "[Appendix 3: Using Microsoft Message Analyzer to capture network traffic]."</span></span>

### <span data-ttu-id="899b1-370"><a name="metrics-show-low-AverageE2ELatency-and-low-AverageServerLatency"></a>Metryki pokazują AverageE2ELatency niski i niski AverageServerLatency, ale klient występuje duże opóźnienie</span><span class="sxs-lookup"><span data-stu-id="899b1-370"><a name="metrics-show-low-AverageE2ELatency-and-low-AverageServerLatency"></a>Metrics show low AverageE2ELatency and low AverageServerLatency but the client is experiencing high latency</span></span>
<span data-ttu-id="899b1-371">W tym scenariuszu najbardziej prawdopodobną przyczyną jest opóźnienia podczas uzyskiwania dostępu do usługi magazynu żądań magazynu.</span><span class="sxs-lookup"><span data-stu-id="899b1-371">In this scenario, the most likely cause is a delay in the storage requests reaching the storage service.</span></span> <span data-ttu-id="899b1-372">Należy zbadać, dlaczego żądania klienta nie dokonywania go za pośrednictwem usługi blob.</span><span class="sxs-lookup"><span data-stu-id="899b1-372">You should investigate why requests from the client are not making it through to the blob service.</span></span>

<span data-ttu-id="899b1-373">Jedną z możliwych przyczyn klienta opóźnienie wysyłania żądań to Brak ograniczoną liczbę dostępnych połączeń i wątków.</span><span class="sxs-lookup"><span data-stu-id="899b1-373">One possible reason for the client delaying sending requests is that there are a limited number of available connections or threads.</span></span>

<span data-ttu-id="899b1-374">Należy także sprawdzić, czy klient wykonuje wiele ponownych prób, a następnie sprawdź przyczynę, jeśli jest to możliwe.</span><span class="sxs-lookup"><span data-stu-id="899b1-374">You should also check whether the client is performing multiple retries, and investigate the reason if this is the case.</span></span> <span data-ttu-id="899b1-375">Aby ustalić, czy klient wykonuje wiele ponownych prób, można:</span><span class="sxs-lookup"><span data-stu-id="899b1-375">To determine whether the client is performing multiple retries, you can:</span></span>

* <span data-ttu-id="899b1-376">Sprawdź dzienniki analityka magazynu.</span><span class="sxs-lookup"><span data-stu-id="899b1-376">Examine the Storage Analytics logs.</span></span> <span data-ttu-id="899b1-377">Jeśli są wykonywane wiele ponownych prób, pojawi się wiele operacji mających taki sam identyfikator żądania klienta, lecz z innym serwerem żądaniem identyfikatorów.</span><span class="sxs-lookup"><span data-stu-id="899b1-377">If multiple retries are happening, you will see multiple operations with the same client request ID but with different server request IDs.</span></span>
* <span data-ttu-id="899b1-378">Sprawdź dzienniki klienta.</span><span class="sxs-lookup"><span data-stu-id="899b1-378">Examine the client logs.</span></span> <span data-ttu-id="899b1-379">Pełne rejestrowanie wskaże, że nastąpiło ponowna próba.</span><span class="sxs-lookup"><span data-stu-id="899b1-379">Verbose logging will indicate that a retry has occurred.</span></span>
* <span data-ttu-id="899b1-380">Debugowanie kodu i sprawdź właściwości **elementu OperationContext** obiekt skojarzony z żądaniem.</span><span class="sxs-lookup"><span data-stu-id="899b1-380">Debug your code, and check the properties of the **OperationContext** object associated with the request.</span></span> <span data-ttu-id="899b1-381">Jeśli operacja ponawiała, **RequestResults** właściwości będzie zawierać wiele żądanie serwera unikatowych identyfikatorów.</span><span class="sxs-lookup"><span data-stu-id="899b1-381">If the operation has retried, the **RequestResults** property will include multiple unique server request IDs.</span></span> <span data-ttu-id="899b1-382">Można również sprawdzić czas rozpoczęcia i zakończenia dla każdego żądania.</span><span class="sxs-lookup"><span data-stu-id="899b1-382">You can also check the start and end times for each request.</span></span> <span data-ttu-id="899b1-383">Aby uzyskać więcej informacji, zobacz przykładowy kod w sekcji [identyfikator żądania serwera].</span><span class="sxs-lookup"><span data-stu-id="899b1-383">For more information, see the code sample in the section [Server request ID].</span></span>

<span data-ttu-id="899b1-384">Jeśli na komputerze klienckim nie ma żadnych problemów, powinien być sprawdzony potencjalnych problemów sieci, takich jak utraty pakietów.</span><span class="sxs-lookup"><span data-stu-id="899b1-384">If there are no issues in the client, you should investigate potential network issues such as packet loss.</span></span> <span data-ttu-id="899b1-385">Narzędzia, takie jak Wireshark lub programu Microsoft Message Analyzer służy do badania problemów z siecią.</span><span class="sxs-lookup"><span data-stu-id="899b1-385">You can use tools such as Wireshark or Microsoft Message Analyzer to investigate network issues.</span></span>

<span data-ttu-id="899b1-386">Aby uzyskać więcej informacji o rozwiązywaniu problemów z siecią za pomocą programu Wireshark, zobacz "[dodatek 2: do przechwytywania ruchu sieciowego przy użyciu programu Wireshark]."</span><span class="sxs-lookup"><span data-stu-id="899b1-386">For more information about using Wireshark to troubleshoot network issues, see "[Appendix 2: Using Wireshark to capture network traffic]."</span></span>

<span data-ttu-id="899b1-387">Aby uzyskać więcej informacji o rozwiązywaniu problemów z siecią za pomocą programu Microsoft Message Analyzer, zobacz "[dodatku 3: do przechwytywania ruchu sieciowego przy użyciu programu Microsoft Message Analyzer]."</span><span class="sxs-lookup"><span data-stu-id="899b1-387">For more information about using Microsoft Message Analyzer to troubleshoot network issues, see "[Appendix 3: Using Microsoft Message Analyzer to capture network traffic]."</span></span>

### <span data-ttu-id="899b1-388"><a name="metrics-show-high-AverageServerLatency"></a>Metryki pokazują AverageServerLatency wysoka</span><span class="sxs-lookup"><span data-stu-id="899b1-388"><a name="metrics-show-high-AverageServerLatency"></a>Metrics show high AverageServerLatency</span></span>
<span data-ttu-id="899b1-389">W przypadku wysokiej **AverageServerLatency** żądań pobrania obiektu blob, należy używać dzienniki rejestrowania magazynu, czy są powtarzane żądania dla tego samego obiektu blob (lub zestaw obiektów blob).</span><span class="sxs-lookup"><span data-stu-id="899b1-389">In the case of high **AverageServerLatency** for blob download requests, you should use the Storage Logging logs to see if there are repeated requests for the same blob (or set of blobs).</span></span> <span data-ttu-id="899b1-390">Dla obiektu blob przesyłanie żądań, należy zbadać, jakie bloku używa rozmiaru klienta (na przykład blokuje mniej niż 64 KB rozmiaru może spowodować koszty odczytami znajdują się również w mniej niż 64 KB fragmentów), a wielu klientów przekazywania bloków do tego samego obiektu blob równolegle.</span><span class="sxs-lookup"><span data-stu-id="899b1-390">For blob upload requests, you should investigate what block size the client is using (for example, blocks less than 64K in size can result in overheads unless the reads are also in less than 64K chunks), and if multiple clients are uploading blocks to the same blob in parallel.</span></span> <span data-ttu-id="899b1-391">Należy także sprawdzić metryki na minutę maksymalnej liczby żądań, które powoduje przekroczenie na drugi wartości docelowe skalowalności: Zobacz też "[metryki spowodować wzrost PercentTimeoutError]."</span><span class="sxs-lookup"><span data-stu-id="899b1-391">You should also check the per-minute metrics for spikes in the number of requests that result in exceeding the per second scalability targets: also see "[Metrics show an increase in PercentTimeoutError]."</span></span>

<span data-ttu-id="899b1-392">Jeśli widzisz wysokiego **AverageServerLatency** do pobrania obiektu blob żądania, gdy są powtarzane żądań tego samego obiektu blob lub zestaw obiektów blob, a następnie należy rozważyć buforowanie tych obiektów blob przy użyciu usługi pamięć podręczna Azure lub sieci dostarczania zawartości (CDN) platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="899b1-392">If you are seeing high **AverageServerLatency** for blob download requests when there are repeated requests the same blob or set of blobs, then you should consider caching these blobs using Azure Cache or the Azure Content Delivery Network (CDN).</span></span> <span data-ttu-id="899b1-393">Dla żądania przesłania może zwiększyć przepływność przy użyciu większy rozmiar bloku.</span><span class="sxs-lookup"><span data-stu-id="899b1-393">For upload requests, you can improve the throughput by using a larger block size.</span></span> <span data-ttu-id="899b1-394">Dla zapytań do tabel jest również możliwe do zaimplementowania buforowanie po stronie klienta na komputerach klienckich, które wykonują te same operacje kwerend i gdy dane nie zmieniają się często.</span><span class="sxs-lookup"><span data-stu-id="899b1-394">For queries to tables, it is also possible to implement client-side caching on clients that perform the same query operations and where the data doesn't change frequently.</span></span>

<span data-ttu-id="899b1-395">Wysoka **AverageServerLatency** wartości mogą też być objawem źle skonstruowane tabel lub kwerend, czy wynik operacji skanowania lub że zgodne ze wzorcem przed dołączania/dołączy.</span><span class="sxs-lookup"><span data-stu-id="899b1-395">High **AverageServerLatency** values can also be a symptom of poorly designed tables or queries that result in scan operations or that follow the append/prepend anti-pattern.</span></span> <span data-ttu-id="899b1-396">Zobacz "[metryki spowodować wzrost PercentThrottlingError]" Aby uzyskać więcej informacji.</span><span class="sxs-lookup"><span data-stu-id="899b1-396">See "[Metrics show an increase in PercentThrottlingError]" for more information.</span></span>

> [!NOTE]
> <span data-ttu-id="899b1-397">Można znaleźć tutaj kontrolną wydajności kompleksowe Lista kontrolna: [wydajność magazynu Microsoft Azure i listę kontrolną skalowalność](storage-performance-checklist.md).</span><span class="sxs-lookup"><span data-stu-id="899b1-397">You can find a comprehensive checklist performance checklist here: [Microsoft Azure Storage Performance and Scalability Checklist](storage-performance-checklist.md).</span></span>
> 
> 

### <span data-ttu-id="899b1-398"><a name="you-are-experiencing-unexpected-delays-in-message-delivery"></a>Występują nieoczekiwane opóźnienia dotyczące dostarczania wiadomości w kolejce</span><span class="sxs-lookup"><span data-stu-id="899b1-398"><a name="you-are-experiencing-unexpected-delays-in-message-delivery"></a>You are experiencing unexpected delays in message delivery on a queue</span></span>
<span data-ttu-id="899b1-399">Jeśli występują opóźnienia między czasem aplikacji dodaje komunikat do kolejki i czas, który staje się ona dostępna do odczytu z kolejki, należy wykonać następujące kroki, aby zdiagnozować problem:</span><span class="sxs-lookup"><span data-stu-id="899b1-399">If you are experiencing a delay between the time an application adds a message to a queue and the time it becomes available to read from the queue, then you should take the following steps to diagnose the issue:</span></span>

* <span data-ttu-id="899b1-400">Sprawdź, czy aplikacja jest pomyślnie dodanie wiadomości do kolejki.</span><span class="sxs-lookup"><span data-stu-id="899b1-400">Verify the application is successfully adding the messages to the queue.</span></span> <span data-ttu-id="899b1-401">Sprawdź, czy aplikacja nie ponawia **AddMessage** metody kilka razy przed pomyślne.</span><span class="sxs-lookup"><span data-stu-id="899b1-401">Check that the application is not retrying the **AddMessage** method several times before succeeding.</span></span> <span data-ttu-id="899b1-402">Dzienniki biblioteki klienta usługi Storage zostaną wyświetlone wszystkie kolejne próby operacji magazynu.</span><span class="sxs-lookup"><span data-stu-id="899b1-402">The Storage Client Library logs will show any repeated retries of storage operations.</span></span>
* <span data-ttu-id="899b1-403">Sprawdź, nie istnieje żaden zegar pochylenia między roli procesu roboczego, który dodaje komunikat do kolejki i roli procesu roboczego, która odczytuje komunikat z kolejki, która ułatwia pojawiają się tak, jakby to opóźnienie podczas przetwarzania.</span><span class="sxs-lookup"><span data-stu-id="899b1-403">Verify there is no clock skew between the worker role that adds the message to the queue and the worker role that reads the message from the queue that makes it appear as if there is a delay in processing.</span></span>
* <span data-ttu-id="899b1-404">Sprawdź, czy rola procesu roboczego, która odczytuje wiadomości z kolejki jest możliwe.</span><span class="sxs-lookup"><span data-stu-id="899b1-404">Check if the worker role that reads the messages from the queue is failing.</span></span> <span data-ttu-id="899b1-405">Jeśli klient kolejki wywołuje **GetMessage** , ale metoda kończy się niepowodzeniem z potwierdzeniem, komunikat pozostanie niewidoczny w kolejce do **invisibilityTimeout** okresu.</span><span class="sxs-lookup"><span data-stu-id="899b1-405">If a queue client calls the **GetMessage** method but fails to respond with an acknowledgement, the message will remain invisible on the queue until the **invisibilityTimeout** period expires.</span></span> <span data-ttu-id="899b1-406">W tym momencie wiadomości staje się dostępna do przetwarzania ponownie.</span><span class="sxs-lookup"><span data-stu-id="899b1-406">At this point, the message becomes available for processing again.</span></span>
* <span data-ttu-id="899b1-407">Sprawdź, czy długość kolejki rośnie w czasie.</span><span class="sxs-lookup"><span data-stu-id="899b1-407">Check if the queue length is growing over time.</span></span> <span data-ttu-id="899b1-408">Może to wystąpić, jeśli nie masz wystarczających pracowników dostępnych do przetwarzania wszystkich komunikatów, które powodują innych pracowników w kolejce.</span><span class="sxs-lookup"><span data-stu-id="899b1-408">This can occur if you do not have sufficient workers available to process all of the messages that other workers are placing on the queue.</span></span> <span data-ttu-id="899b1-409">Należy także sprawdzić, czy metryki, aby zobaczyć, czy żądania delete są się niepowodzeniem i liczba kolejki komunikatów, które mogą wskazywać powtarzane próby usunięcia wiadomości nie powiodło się.</span><span class="sxs-lookup"><span data-stu-id="899b1-409">You should also check the metrics to see if delete requests are failing and the dequeue count on messages, which might indicate repeated failed attempts to delete the message.</span></span>
* <span data-ttu-id="899b1-410">Przeanalizuj dzienniki rejestrowania magazynu dla wszystkich operacji kolejki, które mają wyższe niż oczekiwano **E2ELatency** i **ServerLatency** wartości przez dłuższy okres czasu niż zwykle.</span><span class="sxs-lookup"><span data-stu-id="899b1-410">Examine the Storage Logging logs for any queue operations that have higher than expected **E2ELatency** and **ServerLatency** values over a longer period of time than usual.</span></span>

### <span data-ttu-id="899b1-411"><a name="metrics-show-an-increase-in-PercentThrottlingError"></a>Metryki spowodować wzrost PercentThrottlingError</span><span class="sxs-lookup"><span data-stu-id="899b1-411"><a name="metrics-show-an-increase-in-PercentThrottlingError"></a>Metrics show an increase in PercentThrottlingError</span></span>
<span data-ttu-id="899b1-412">Ograniczenia przepustowości błędy występują w przypadku przekroczenia wartości docelowe skalowalności usługi magazynu.</span><span class="sxs-lookup"><span data-stu-id="899b1-412">Throttling errors occur when you exceed the scalability targets of a storage service.</span></span> <span data-ttu-id="899b1-413">Usługa magazynu jest to, aby upewnić się, że nie jednego klienta lub dzierżawcy mogą używać usługi kosztem innych użytkowników.</span><span class="sxs-lookup"><span data-stu-id="899b1-413">The storage service does this to ensure that no single client or tenant can use the service at the expense of others.</span></span> <span data-ttu-id="899b1-414">Aby uzyskać więcej informacji, zobacz [cele dotyczące wydajności i skalowalności magazynu Azure](storage-scalability-targets.md) szczegółowe informacje o wartości docelowe skalowalności w przypadku kont magazynu i cele wydajności dla partycji w ramach konta magazynu.</span><span class="sxs-lookup"><span data-stu-id="899b1-414">For more information, see [Azure Storage Scalability and Performance Targets](storage-scalability-targets.md) for details on scalability targets for storage accounts and performance targets for partitions within storage accounts.</span></span>

<span data-ttu-id="899b1-415">Jeśli **PercentThrottlingError** Metryka spowodować wzrost odsetek żądań, które kończą się niepowodzeniem z powodu błędu ograniczania przepustowości, należy zbadać jednego z dwóch scenariuszy:</span><span class="sxs-lookup"><span data-stu-id="899b1-415">If the **PercentThrottlingError** metric show an increase in the percentage of requests that are failing with a throttling error, you need to investigate one of two scenarios:</span></span>

* <span data-ttu-id="899b1-416">[Przejściowa wzrost PercentThrottlingError]</span><span class="sxs-lookup"><span data-stu-id="899b1-416">[Transient increase in PercentThrottlingError]</span></span>
* <span data-ttu-id="899b1-417">[Stałe zwiększanie PercentThrottlingError błąd]</span><span class="sxs-lookup"><span data-stu-id="899b1-417">[Permanent increase in PercentThrottlingError error]</span></span>

<span data-ttu-id="899b1-418">Wzrost **PercentThrottlingError** często występuje w tym samym czasie jako wzrost liczby żądań magazynu lub gdy początkowo załadować testowania aplikacji.</span><span class="sxs-lookup"><span data-stu-id="899b1-418">An increase in **PercentThrottlingError** often occurs at the same time as an increase in the number of storage requests, or when you are initially load testing your application.</span></span> <span data-ttu-id="899b1-419">To może również manifestu się na komputerze klienckim jako "503 serwera zajęty" lub "500 limit czasu operacji" HTTP komunikaty o stanie operacji magazynu.</span><span class="sxs-lookup"><span data-stu-id="899b1-419">This may also manifest itself in the client as "503 Server Busy" or "500 Operation Timeout" HTTP status messages from storage operations.</span></span>

#### <span data-ttu-id="899b1-420"><a name="transient-increase-in-PercentThrottlingError"></a>Przejściowa wzrost PercentThrottlingError</span><span class="sxs-lookup"><span data-stu-id="899b1-420"><a name="transient-increase-in-PercentThrottlingError"></a>Transient increase in PercentThrottlingError</span></span>
<span data-ttu-id="899b1-421">Jeśli widzisz nagłego wartości **PercentThrottlingError** który pokrywa się z okresy intensywnego działania dla aplikacji, należy zaimplementować wykładniczej (nie liniowej) wycofywania strategii ponownych prób w kliencie: spowoduje to zmniejszenie obciążenia natychmiastowego na partycji i Pomoc aplikacji wygładzanie największego ruchu.</span><span class="sxs-lookup"><span data-stu-id="899b1-421">If you are seeing spikes in the value of **PercentThrottlingError** that coincide with periods of high activity for the application, you should implement an exponential (not linear) back off strategy for retries in your client: this will reduce the immediate load on the partition and help your application to smooth out spikes in traffic.</span></span> <span data-ttu-id="899b1-422">Aby uzyskać więcej informacji dotyczących sposobu wdrażania zasad ponawiania za pomocą biblioteki klienta usługi Storage, zobacz [Namespace Microsoft.WindowsAzure.Storage.RetryPolicies](http://msdn.microsoft.com/library/azure/microsoft.windowsazure.storage.retrypolicies.aspx).</span><span class="sxs-lookup"><span data-stu-id="899b1-422">For more information about how to implement retry policies using the Storage Client Library, see [Microsoft.WindowsAzure.Storage.RetryPolicies Namespace](http://msdn.microsoft.com/library/azure/microsoft.windowsazure.storage.retrypolicies.aspx).</span></span>

> [!NOTE]
> <span data-ttu-id="899b1-423">Może również zostać wyświetlony impulsy wartości **PercentThrottlingError** która nie pokrywa się z okresy intensywnego działania aplikacji: najbardziej prawdopodobną przyczyną jest usługą magazynu, przenoszenie partycji w celu zwiększenia równoważenia obciążenia.</span><span class="sxs-lookup"><span data-stu-id="899b1-423">You may also see spikes in the value of **PercentThrottlingError** that do not coincide with periods of high activity for the application: the most likely cause here is the storage service moving partitions to improve load balancing.</span></span>
> 
> 

#### <span data-ttu-id="899b1-424"><a name="permanent-increase-in-PercentThrottlingError"></a>Stałe zwiększanie PercentThrottlingError błąd</span><span class="sxs-lookup"><span data-stu-id="899b1-424"><a name="permanent-increase-in-PercentThrottlingError"></a>Permanent increase in PercentThrottlingError error</span></span>
<span data-ttu-id="899b1-425">Jeśli widzisz wysoką wartość **PercentThrottlingError** stałe wzrostu w woluminach transakcji lub wykonywania początkowej obciążenia testów dla aplikacji, a następnie należy ocenić, jak aplikacja używa partycji magazynu i czy jej zbliża się do wartości docelowe skalowalności dla konta magazynu.</span><span class="sxs-lookup"><span data-stu-id="899b1-425">If you are seeing a consistently high value for **PercentThrottlingError** following a permanent increase in your transaction volumes, or when you are performing your initial load tests on your application, then you need to evaluate how your application is using storage partitions and whether it is approaching the scalability targets for a storage account.</span></span> <span data-ttu-id="899b1-426">Na przykład jeśli widzisz ograniczania błędy w kolejce (który traktowana jako jednej partycji), następnie należy rozważyć przy użyciu dodatkowe kolejki, aby rozłożyć transakcji na wiele partycji.</span><span class="sxs-lookup"><span data-stu-id="899b1-426">For example, if you are seeing throttling errors on a queue (which counts as a single partition), then you should consider using additional queues to spread the transactions across multiple partitions.</span></span> <span data-ttu-id="899b1-427">Jeśli widzisz ograniczania błędów w tabeli, należy wziąć pod uwagę, aby rozłożyć transakcji na wiele partycji przy użyciu większej liczby wartości klucza partycji przy użyciu różnych schemat partycjonowania.</span><span class="sxs-lookup"><span data-stu-id="899b1-427">If you are seeing throttling errors on a table, you need to consider using a different partitioning scheme to spread your transactions across multiple partitions by using a wider range of partition key values.</span></span> <span data-ttu-id="899b1-428">Jeden typową przyczyną tego problemu jest prepend/dołączanie wzorzec przed gdzie wybierz datę jako klucza partycji, a następnie wszystkie dane w określonym dniu są zapisywane do jednej partycji: pod obciążeniem, może to spowodować wąskie gardło zapisu.</span><span class="sxs-lookup"><span data-stu-id="899b1-428">One common cause of this issue is the prepend/append anti-pattern where you select the date as the partition key and then all data on a particular day is written to one partition: under load, this can result in a write bottleneck.</span></span> <span data-ttu-id="899b1-429">Należy wziąć pod uwagę partycjonowania inny projekt lub oceny, czy przy użyciu magazynu obiektów blob może okazać się lepszym rozwiązaniem.</span><span class="sxs-lookup"><span data-stu-id="899b1-429">You should either consider a different partitioning design or evaluate whether using blob storage might be a better solution.</span></span> <span data-ttu-id="899b1-430">Należy sprawdzić, czy występuje ograniczenie wyniku gwałtowny wzrost ruchu i zbadaj sposobów wygładzanie deseniu żądań.</span><span class="sxs-lookup"><span data-stu-id="899b1-430">You should also check if the throttling is occurring as a result of spikes in your traffic and investigate ways of smoothing your pattern of requests.</span></span>

<span data-ttu-id="899b1-431">Transakcje rozpowszechniają wiele partycji, nadal należy pamiętać o limity skalowalności, ustaw dla konta magazynu.</span><span class="sxs-lookup"><span data-stu-id="899b1-431">If you distribute your transactions across multiple partitions, you must still be aware of the scalability limits set for the storage account.</span></span> <span data-ttu-id="899b1-432">Na przykład jeśli użyto kolejek dziesięć przetwarzania maksymalnie 2000 wiadomości o rozmiarze 1KB na sekundę, można w ogólnym limicie 20 000 komunikatów na sekundę dla konta magazynu.</span><span class="sxs-lookup"><span data-stu-id="899b1-432">For example, if you used ten queues each processing the maximum of 2,000 1KB messages per second, you will be at the overall limit of 20,000 messages per second for the storage account.</span></span> <span data-ttu-id="899b1-433">Jeśli potrzebujesz przetwarzać więcej niż 20 000 jednostek na sekundę, należy rozważyć użycie wielu kont magazynu.</span><span class="sxs-lookup"><span data-stu-id="899b1-433">If you need to process more than 20,000 entities per second, you should consider using multiple storage accounts.</span></span> <span data-ttu-id="899b1-434">Możesz również powinien zawierać pamiętać, że rozmiar żądania i jednostek ma wpływ na kiedy usługa magazynu ogranicza klientom: Jeśli masz większą żądań i jednostek może należy wcześniej ograniczany.</span><span class="sxs-lookup"><span data-stu-id="899b1-434">You should also bear in mind that the size of your requests and entities has an impact on when the storage service throttles your clients: if you have larger requests and entities, you may be throttled sooner.</span></span>

<span data-ttu-id="899b1-435">Projekt kwerendy nieefektywne może również spowodować osiągnął limity skalowalności do partycji tabeli.</span><span class="sxs-lookup"><span data-stu-id="899b1-435">Inefficient query design can also cause you to hit the scalability limits for table partitions.</span></span> <span data-ttu-id="899b1-436">Na przykład zapytania filtru, który wybiera tylko jeden procent jednostek w partycji, ale która skanuje wszystkich jednostek w partycji należy uzyskać dostępu do każdej jednostki.</span><span class="sxs-lookup"><span data-stu-id="899b1-436">For example, a query with a filter that only selects one percent of the entities in a partition but that scans all the entities in a partition will need to access each entity.</span></span> <span data-ttu-id="899b1-437">Każdy podmiot odczytu są zliczane całkowita liczba transakcji w tej partycji; w związku z tym można łatwo osiągnąć wartości docelowe skalowalności.</span><span class="sxs-lookup"><span data-stu-id="899b1-437">Every entity read will count towards the total number of transactions in that partition; therefore, you can easily reach the scalability targets.</span></span>

> [!NOTE]
> <span data-ttu-id="899b1-438">Testowanie wydajności powinno ujawnić żadnych projektów nieefektywne kwerendy w aplikacji.</span><span class="sxs-lookup"><span data-stu-id="899b1-438">Your performance testing should reveal any inefficient query designs in your application.</span></span>
> 
> 

### <span data-ttu-id="899b1-439"><a name="metrics-show-an-increase-in-PercentTimeoutError"></a>Metryki spowodować wzrost PercentTimeoutError</span><span class="sxs-lookup"><span data-stu-id="899b1-439"><a name="metrics-show-an-increase-in-PercentTimeoutError"></a>Metrics show an increase in PercentTimeoutError</span></span>
<span data-ttu-id="899b1-440">Twoje metryki pokazują wzrost **PercentTimeoutError** dla jednej z usług magazynu.</span><span class="sxs-lookup"><span data-stu-id="899b1-440">Your metrics show an increase in **PercentTimeoutError** for one of your storage services.</span></span> <span data-ttu-id="899b1-441">W tym samym czasie klient odbierze dużej liczby komunikatów o stanie "500 limit czasu operacji" HTTP z operacji magazynu.</span><span class="sxs-lookup"><span data-stu-id="899b1-441">At the same time, the client receives a high volume of "500 Operation Timeout" HTTP status messages from storage operations.</span></span>

> [!NOTE]
> <span data-ttu-id="899b1-442">Może pojawić się błędy przekroczenia limitu czasu tymczasowo jako usługa magazynu żądania zrównoważenia obciążenia za pomocą przenoszenia partycji do nowego serwera.</span><span class="sxs-lookup"><span data-stu-id="899b1-442">You may see timeout errors temporarily as the storage service load balances requests by moving a partition to a new server.</span></span>
> 
> 

<span data-ttu-id="899b1-443">**PercentTimeoutError** metryka jest agregacją następujące metryki: **ClientTimeoutError**, **AnonymousClientTimeoutError**, **SASClientTimeoutError**, **ServerTimeoutError**, **AnonymousServerTimeoutError**, i **SASServerTimeoutError**.</span><span class="sxs-lookup"><span data-stu-id="899b1-443">The **PercentTimeoutError** metric is an aggregation of the following metrics: **ClientTimeoutError**, **AnonymousClientTimeoutError**, **SASClientTimeoutError**, **ServerTimeoutError**, **AnonymousServerTimeoutError**, and **SASServerTimeoutError**.</span></span>

<span data-ttu-id="899b1-444">Limity czasu serwera są spowodowane błędem na serwerze.</span><span class="sxs-lookup"><span data-stu-id="899b1-444">The server timeouts are caused by an error on the server.</span></span> <span data-ttu-id="899b1-445">Przekroczenia limitu czasu klienta się tak zdarzyć, ponieważ operacja na serwerze przekroczyło limit czasu określony przez klienta; na przykład klienta przy użyciu biblioteki klienta usługi Storage można ustawić czasu dla operacji przy użyciu **ServerTimeout** właściwość **QueueRequestOptions** klasy.</span><span class="sxs-lookup"><span data-stu-id="899b1-445">The client timeouts happen because an operation on the server has exceeded the timeout specified by the client; for example, a client using the Storage Client Library can set a timeout for an operation by using the **ServerTimeout** property of the **QueueRequestOptions** class.</span></span>

<span data-ttu-id="899b1-446">Limity czasu serwera wskazują na problem z usługą Magazyn, który wymaga dalszego postępowania.</span><span class="sxs-lookup"><span data-stu-id="899b1-446">Server timeouts indicate a problem with the storage service that requires further investigation.</span></span> <span data-ttu-id="899b1-447">Aby sprawdzić, czy osiągnięto limity skalowalności usługi oraz zidentyfikować wszelkie największego ruchu, które mogą być przyczyną tego problemu, można użyć metryki.</span><span class="sxs-lookup"><span data-stu-id="899b1-447">You can use metrics to see if you are hitting the scalability limits for the service and to identify any spikes in traffic that might be causing this problem.</span></span> <span data-ttu-id="899b1-448">Jeśli ten problem występuje sporadycznie, może to być spowodowane równoważenia obciążenia działania usługi.</span><span class="sxs-lookup"><span data-stu-id="899b1-448">If the problem is intermittent, it may be due to load-balancing activity in the service.</span></span> <span data-ttu-id="899b1-449">Jeśli ten problem jest trwałe i nie jest spowodowany przez naciśnięcie limity skalowalności usługi aplikacji, należy Zgłoś problem pomocy technicznej.</span><span class="sxs-lookup"><span data-stu-id="899b1-449">If the problem is persistent and is not caused by your application hitting the scalability limits of the service, you should raise a support issue.</span></span> <span data-ttu-id="899b1-450">Limity czasu klienta należy zdecydować, jeśli limit czasu ma ustawioną wartość odpowiednią wartość w kliencie i zmień wartość limitu czasu na komputerze klienckim, lub zbadać, jak użytkownik może poprawić wydajność operacji w usłudze magazynowania na przykład optymalizacji zapytań tabeli lub zmniejszenie rozmiaru wiadomości.</span><span class="sxs-lookup"><span data-stu-id="899b1-450">For client timeouts, you must decide if the timeout is set to an appropriate value in the client and either change the timeout value set in the client or investigate how you can improve the performance of the operations in the storage service, for example by optimizing your table queries or reducing the size of your messages.</span></span>

### <span data-ttu-id="899b1-451"><a name="metrics-show-an-increase-in-PercentNetworkError"></a>Metryki spowodować wzrost PercentNetworkError</span><span class="sxs-lookup"><span data-stu-id="899b1-451"><a name="metrics-show-an-increase-in-PercentNetworkError"></a>Metrics show an increase in PercentNetworkError</span></span>
<span data-ttu-id="899b1-452">Twoje metryki pokazują wzrost **PercentNetworkError** dla jednej z usług magazynu.</span><span class="sxs-lookup"><span data-stu-id="899b1-452">Your metrics show an increase in **PercentNetworkError** for one of your storage services.</span></span> <span data-ttu-id="899b1-453">**PercentNetworkError** metryka jest agregacją następujące metryki: **NetworkError**, **AnonymousNetworkError**, i **SASNetworkError**.</span><span class="sxs-lookup"><span data-stu-id="899b1-453">The **PercentNetworkError** metric is an aggregation of the following metrics: **NetworkError**, **AnonymousNetworkError**, and **SASNetworkError**.</span></span> <span data-ttu-id="899b1-454">Te wystąpić, gdy Usługa magazynu wykrywa błąd sieci, gdy klient wysyła żądanie magazynu.</span><span class="sxs-lookup"><span data-stu-id="899b1-454">These occur when the storage service detects a network error when the client makes a storage request.</span></span>

<span data-ttu-id="899b1-455">Najczęstszą przyczyną tego błędu jest klientem rozłączanie przed upływem limitu czasu w usłudze magazynowania.</span><span class="sxs-lookup"><span data-stu-id="899b1-455">The most common cause of this error is a client disconnecting before a timeout expires in the storage service.</span></span> <span data-ttu-id="899b1-456">Kod powinien być sprawdzony na kliencie, aby zrozumieć, kiedy i dlaczego klient odłączy się od usługi magazynu.</span><span class="sxs-lookup"><span data-stu-id="899b1-456">You should investigate the code in your client to understand why and when the client disconnects from the storage service.</span></span> <span data-ttu-id="899b1-457">Umożliwia także Wireshark, Microsoft Message Analyzer ani Tcping do badania problemów z połączeniem sieciowym z klienta.</span><span class="sxs-lookup"><span data-stu-id="899b1-457">You can also use Wireshark, Microsoft Message Analyzer, or Tcping to investigate network connectivity issues from the client.</span></span> <span data-ttu-id="899b1-458">Te narzędzia są opisane w [dodatki].</span><span class="sxs-lookup"><span data-stu-id="899b1-458">These tools are described in the [Appendices].</span></span>

### <span data-ttu-id="899b1-459"><a name="the-client-is-receiving-403-messages"></a>Klient odbiera komunikaty HTTP 403 (Dostęp zabroniony)</span><span class="sxs-lookup"><span data-stu-id="899b1-459"><a name="the-client-is-receiving-403-messages"></a>The client is receiving HTTP 403 (Forbidden) messages</span></span>
<span data-ttu-id="899b1-460">Jeśli aplikacja kliencka jest zgłaszanie błędów HTTP 403 (Dostęp zabroniony), prawdopodobną przyczyną jest to klient używa wygasłe dostępu sygnatury dostępu Współdzielonego podczas wysyłania żądania magazynu (chociaż innymi możliwymi przyczynami mogą zegara pochylenia nieprawidłowe klucze i nagłówków puste).</span><span class="sxs-lookup"><span data-stu-id="899b1-460">If your client application is throwing HTTP 403 (Forbidden) errors, a likely cause is that the client is using an expired Shared Access Signature (SAS) when it sends a storage request (although other possible causes include clock skew, invalid keys, and empty headers).</span></span> <span data-ttu-id="899b1-461">Przyczyną jest wygasłe klucza sygnatury dostępu Współdzielonego, nie będą widzieć wszystkie wpisy w danych dziennika rejestrowania magazynu po stronie serwera.</span><span class="sxs-lookup"><span data-stu-id="899b1-461">If an expired SAS key is the cause, you will not see any entries in the server-side Storage Logging log data.</span></span> <span data-ttu-id="899b1-462">W poniższej tabeli przedstawiono przykładowe z dziennika po stronie klienta, generowane przez biblioteki klienta magazynu, która ilustruje ten problem występuje:</span><span class="sxs-lookup"><span data-stu-id="899b1-462">The following table shows a sample from the client-side log generated by the Storage Client Library that illustrates this issue occurring:</span></span>

| <span data-ttu-id="899b1-463">Element źródłowy</span><span class="sxs-lookup"><span data-stu-id="899b1-463">Source</span></span> | <span data-ttu-id="899b1-464">Poziom szczegółowości</span><span class="sxs-lookup"><span data-stu-id="899b1-464">Verbosity</span></span> | <span data-ttu-id="899b1-465">Poziom szczegółowości</span><span class="sxs-lookup"><span data-stu-id="899b1-465">Verbosity</span></span> | <span data-ttu-id="899b1-466">Identyfikator żądania klienta</span><span class="sxs-lookup"><span data-stu-id="899b1-466">Client request id</span></span> | <span data-ttu-id="899b1-467">Operacja tekstu</span><span class="sxs-lookup"><span data-stu-id="899b1-467">Operation text</span></span> |
| --- | --- | --- | --- | --- |
| <span data-ttu-id="899b1-468">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="899b1-468">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="899b1-469">Informacje</span><span class="sxs-lookup"><span data-stu-id="899b1-469">Information</span></span> |<span data-ttu-id="899b1-470">3</span><span class="sxs-lookup"><span data-stu-id="899b1-470">3</span></span> |<span data-ttu-id="899b1-471">85d077ab-...</span><span class="sxs-lookup"><span data-stu-id="899b1-471">85d077ab-…</span></span> |<span data-ttu-id="899b1-472">Uruchamianie operacji z lokalizacji podstawowej na tryb lokalizacji PrimaryOnly.</span><span class="sxs-lookup"><span data-stu-id="899b1-472">Starting operation with location Primary per location mode PrimaryOnly.</span></span> |
| <span data-ttu-id="899b1-473">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="899b1-473">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="899b1-474">Informacje</span><span class="sxs-lookup"><span data-stu-id="899b1-474">Information</span></span> |<span data-ttu-id="899b1-475">3</span><span class="sxs-lookup"><span data-stu-id="899b1-475">3</span></span> |<span data-ttu-id="899b1-476">85d077ab-...</span><span class="sxs-lookup"><span data-stu-id="899b1-476">85d077ab -…</span></span> |<span data-ttu-id="899b1-477">Uruchamianie synchroniczne żądanie https://domemaildist.blob.core.windows.netazureimblobcontainer/blobCreatedViaSAS.txt?sv=2014-02-14&amp;sr = c&amp;si = mypolicy&amp;sig = 2BmcR6zbudIH2F5Ikm % 2FyhNYZEmJNQ OFnd4Rd7z01fIvh % 3D&amp;api-version = 2014-02-14.</span><span class="sxs-lookup"><span data-stu-id="899b1-477">Starting synchronous request to https://domemaildist.blob.core.windows.netazureimblobcontainer/blobCreatedViaSAS.txt?sv=2014-02-14&amp;sr=c&amp;si=mypolicy&amp;sig=OFnd4Rd7z01fIvh%2BmcR6zbudIH2F5Ikm%2FyhNYZEmJNQ%3D&amp;api-version=2014-02-14.</span></span> |
| <span data-ttu-id="899b1-478">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="899b1-478">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="899b1-479">Informacje</span><span class="sxs-lookup"><span data-stu-id="899b1-479">Information</span></span> |<span data-ttu-id="899b1-480">3</span><span class="sxs-lookup"><span data-stu-id="899b1-480">3</span></span> |<span data-ttu-id="899b1-481">85d077ab-...</span><span class="sxs-lookup"><span data-stu-id="899b1-481">85d077ab -…</span></span> |<span data-ttu-id="899b1-482">Oczekiwanie na odpowiedź.</span><span class="sxs-lookup"><span data-stu-id="899b1-482">Waiting for response.</span></span> |
| <span data-ttu-id="899b1-483">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="899b1-483">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="899b1-484">Ostrzeżenie</span><span class="sxs-lookup"><span data-stu-id="899b1-484">Warning</span></span> |<span data-ttu-id="899b1-485">2</span><span class="sxs-lookup"><span data-stu-id="899b1-485">2</span></span> |<span data-ttu-id="899b1-486">85d077ab-...</span><span class="sxs-lookup"><span data-stu-id="899b1-486">85d077ab -…</span></span> |<span data-ttu-id="899b1-487">Zgłoszono wyjątek podczas oczekiwania na odpowiedź: serwer zdalny zwrócił błąd: (403) zabroniony.</span><span class="sxs-lookup"><span data-stu-id="899b1-487">Exception thrown while waiting for response: The remote server returned an error: (403) Forbidden..</span></span> |
| <span data-ttu-id="899b1-488">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="899b1-488">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="899b1-489">Informacje</span><span class="sxs-lookup"><span data-stu-id="899b1-489">Information</span></span> |<span data-ttu-id="899b1-490">3</span><span class="sxs-lookup"><span data-stu-id="899b1-490">3</span></span> |<span data-ttu-id="899b1-491">85d077ab-...</span><span class="sxs-lookup"><span data-stu-id="899b1-491">85d077ab -…</span></span> |<span data-ttu-id="899b1-492">Odebrano odpowiedź.</span><span class="sxs-lookup"><span data-stu-id="899b1-492">Response received.</span></span> <span data-ttu-id="899b1-493">Kod stanu = 403, identyfikator żądania = 9d67c64a-64ed-4b0d-9515-3b14bbcdc63d, Content-MD5 = ETag =.</span><span class="sxs-lookup"><span data-stu-id="899b1-493">Status code = 403, Request ID = 9d67c64a-64ed-4b0d-9515-3b14bbcdc63d, Content-MD5 = , ETag = .</span></span> |
| <span data-ttu-id="899b1-494">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="899b1-494">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="899b1-495">Ostrzeżenie</span><span class="sxs-lookup"><span data-stu-id="899b1-495">Warning</span></span> |<span data-ttu-id="899b1-496">2</span><span class="sxs-lookup"><span data-stu-id="899b1-496">2</span></span> |<span data-ttu-id="899b1-497">85d077ab-...</span><span class="sxs-lookup"><span data-stu-id="899b1-497">85d077ab -…</span></span> |<span data-ttu-id="899b1-498">Zgłoszono wyjątek podczas operacji: serwer zdalny zwrócił błąd: (403) zabroniony.</span><span class="sxs-lookup"><span data-stu-id="899b1-498">Exception thrown during the operation: The remote server returned an error: (403) Forbidden..</span></span> |
| <span data-ttu-id="899b1-499">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="899b1-499">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="899b1-500">Informacje</span><span class="sxs-lookup"><span data-stu-id="899b1-500">Information</span></span> |<span data-ttu-id="899b1-501">3</span><span class="sxs-lookup"><span data-stu-id="899b1-501">3</span></span> |<span data-ttu-id="899b1-502">85d077ab-...</span><span class="sxs-lookup"><span data-stu-id="899b1-502">85d077ab -…</span></span> |<span data-ttu-id="899b1-503">Sprawdzanie, czy należy wykonać ponownie operację.</span><span class="sxs-lookup"><span data-stu-id="899b1-503">Checking if the operation should be retried.</span></span> <span data-ttu-id="899b1-504">Liczba ponownych prób = 0, kod stanu HTTP 403, wyjątek = = Serwer zdalny zwrócił błąd: (403) zabroniony.</span><span class="sxs-lookup"><span data-stu-id="899b1-504">Retry count = 0, HTTP status code = 403, Exception = The remote server returned an error: (403) Forbidden..</span></span> |
| <span data-ttu-id="899b1-505">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="899b1-505">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="899b1-506">Informacje</span><span class="sxs-lookup"><span data-stu-id="899b1-506">Information</span></span> |<span data-ttu-id="899b1-507">3</span><span class="sxs-lookup"><span data-stu-id="899b1-507">3</span></span> |<span data-ttu-id="899b1-508">85d077ab-...</span><span class="sxs-lookup"><span data-stu-id="899b1-508">85d077ab -…</span></span> |<span data-ttu-id="899b1-509">Następnej lokalizacji została ustawiona jako podstawowy, na podstawie trybu lokalizacji.</span><span class="sxs-lookup"><span data-stu-id="899b1-509">The next location has been set to Primary, based on the location mode.</span></span> |
| <span data-ttu-id="899b1-510">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="899b1-510">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="899b1-511">Błąd</span><span class="sxs-lookup"><span data-stu-id="899b1-511">Error</span></span> |<span data-ttu-id="899b1-512">1</span><span class="sxs-lookup"><span data-stu-id="899b1-512">1</span></span> |<span data-ttu-id="899b1-513">85d077ab-...</span><span class="sxs-lookup"><span data-stu-id="899b1-513">85d077ab -…</span></span> |<span data-ttu-id="899b1-514">Zasady ponawiania nie zezwala na ponowienie próby.</span><span class="sxs-lookup"><span data-stu-id="899b1-514">Retry policy did not allow for a retry.</span></span> <span data-ttu-id="899b1-515">Niepowodzenie z serwera zdalnego zwróciło błąd: (403) zabroniony.</span><span class="sxs-lookup"><span data-stu-id="899b1-515">Failing with The remote server returned an error: (403) Forbidden.</span></span> |

<span data-ttu-id="899b1-516">W tym scenariuszu należy zbadać, dlaczego wygasa tokenu sygnatury dostępu Współdzielonego, zanim klient wysyła ten token do serwera:</span><span class="sxs-lookup"><span data-stu-id="899b1-516">In this scenario, you should investigate why the SAS token is expiring before the client sends the token to the server:</span></span>

* <span data-ttu-id="899b1-517">Zwykle nie należy ustawić czas rozpoczęcia, podczas tworzenia sygnatury dostępu Współdzielonego dla klienta do używania natychmiast.</span><span class="sxs-lookup"><span data-stu-id="899b1-517">Typically, you should not set a start time when you create a SAS for a client to use immediately.</span></span> <span data-ttu-id="899b1-518">Jeśli istnieją różnice małych zegara między hostem Generowanie sygnatury dostępu Współdzielonego przy użyciu bieżącego czasu i usługi magazynu, a następnie można usługi magazynu do odbierania sygnatury dostępu Współdzielonego, który nie jest jeszcze ważny.</span><span class="sxs-lookup"><span data-stu-id="899b1-518">If there are small clock differences between the host generating the SAS using the current time and the storage service, then it is possible for the storage service to receive a SAS that is not yet valid.</span></span>
* <span data-ttu-id="899b1-519">Czas wygaśnięcia bardzo krótki nie należy ustawiać na sygnatury dostępu Współdzielonego.</span><span class="sxs-lookup"><span data-stu-id="899b1-519">You should not set a very short expiry time on a SAS.</span></span> <span data-ttu-id="899b1-520">Ponownie zegara małe różnice między hosta Generowanie sygnatury dostępu Współdzielonego i usługi magazynu może prowadzić do sygnatury dostępu Współdzielonego najwyraźniej wygasa wcześniej niż zakładano.</span><span class="sxs-lookup"><span data-stu-id="899b1-520">Again, small clock differences between the host generating the SAS and the storage service can lead to a SAS apparently expiring earlier than anticipated.</span></span>
* <span data-ttu-id="899b1-521">Parametr wersji w klucza sygnatury dostępu Współdzielonego jest (na przykład **sv = 2015-04-05**) zgodna z wersją biblioteki klienta usługi Storage używasz?</span><span class="sxs-lookup"><span data-stu-id="899b1-521">Does the version parameter in the SAS key (for example **sv=2015-04-05**) match the version of the Storage Client Library you are using?</span></span> <span data-ttu-id="899b1-522">Firma Microsoft zaleca zawsze używać najnowszej wersji [biblioteki klienta usługi Storage](https://www.nuget.org/packages/WindowsAzure.Storage/).</span><span class="sxs-lookup"><span data-stu-id="899b1-522">We recommend that you always use the latest version of the [Storage Client Library](https://www.nuget.org/packages/WindowsAzure.Storage/).</span></span>
* <span data-ttu-id="899b1-523">Jeśli ponownego generowania kluczy dostępu do magazynu, to unieważnienie wszystkie istniejące tokeny sygnatury dostępu Współdzielonego.</span><span class="sxs-lookup"><span data-stu-id="899b1-523">If you regenerate your storage access keys, this can invalidate any existing SAS tokens.</span></span> <span data-ttu-id="899b1-524">Może to być problem, jeśli Generowanie tokeny sygnatury dostępu Współdzielonego i czas wygaśnięcia długi dla aplikacji klienckich, do pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="899b1-524">This may be an issue if you generate SAS tokens with a long expiry time for client applications to cache.</span></span>

<span data-ttu-id="899b1-525">Jeśli korzystasz z biblioteki klienta magazynu do generowania tokenów SAS, następnie może łatwo dojść do utworzenia prawidłowego tokenu.</span><span class="sxs-lookup"><span data-stu-id="899b1-525">If you are using the Storage Client Library to generate SAS tokens, then it is easy to build a valid token.</span></span> <span data-ttu-id="899b1-526">Jednak jeśli używasz interfejsu API REST magazynu i tworzenia skojarzeń zabezpieczeń tokeny ręcznie należy uważnie przeczytać temat [Delegowanie dostępu z sygnaturą dostępu współdzielonego](http://msdn.microsoft.com/library/azure/ee395415.aspx).</span><span class="sxs-lookup"><span data-stu-id="899b1-526">However, if you are using the Storage REST API and constructing the SAS tokens by hand you should carefully read the topic [Delegating Access with a Shared Access Signature](http://msdn.microsoft.com/library/azure/ee395415.aspx).</span></span>

### <span data-ttu-id="899b1-527"><a name="the-client-is-receiving-404-messages"></a>Klient odbiera komunikaty HTTP 404 (nie znaleziono)</span><span class="sxs-lookup"><span data-stu-id="899b1-527"><a name="the-client-is-receiving-404-messages"></a>The client is receiving HTTP 404 (Not found) messages</span></span>
<span data-ttu-id="899b1-528">Jeśli aplikacja kliencka odbiera komunikat HTTP 404 (nie znaleziono) z serwera, oznacza to, że obiekt, który klient próbował użyć (np. jednostek, tabeli, obiektów blob, kontenera lub kolejki) nie istnieje w usłudze magazynowania.</span><span class="sxs-lookup"><span data-stu-id="899b1-528">If the client application receives an HTTP 404 (Not found) message from the server, this implies that the object the client was attempting to use (such as an entity, table, blob, container, or queue) does not exist in the storage service.</span></span> <span data-ttu-id="899b1-529">Istnieje wiele możliwych przyczyn tej, takich jak:</span><span class="sxs-lookup"><span data-stu-id="899b1-529">There are a number of possible reasons for this, such as:</span></span>

* <span data-ttu-id="899b1-530">[Klient lub inny proces wcześniej usunięty obiekt]</span><span class="sxs-lookup"><span data-stu-id="899b1-530">[The client or another process previously deleted the object]</span></span>
* <span data-ttu-id="899b1-531">[Problem autoryzacji dostępu sygnatury dostępu Współdzielonego]</span><span class="sxs-lookup"><span data-stu-id="899b1-531">[A Shared Access Signature (SAS) authorization issue]</span></span>
* <span data-ttu-id="899b1-532">[Kod JavaScript po stronie klienta nie ma uprawnień dostępu do tego obiektu]</span><span class="sxs-lookup"><span data-stu-id="899b1-532">[Client-side JavaScript code does not have permission to access the object]</span></span>
* <span data-ttu-id="899b1-533">[Błąd sieci]</span><span class="sxs-lookup"><span data-stu-id="899b1-533">[Network failure]</span></span>

#### <span data-ttu-id="899b1-534"><a name="client-previously-deleted-the-object"></a>Klient lub inny proces wcześniej usunięty obiekt</span><span class="sxs-lookup"><span data-stu-id="899b1-534"><a name="client-previously-deleted-the-object"></a>The client or another process previously deleted the object</span></span>
<span data-ttu-id="899b1-535">W scenariuszach, w którym klient próbuje odczytywać, aktualizować lub usuwać dane w usłudze magazynowania jest zwykle łatwo zidentyfikować w dziennikach po stronie serwera poprzedniej operacji po usunięciu danego obiektu z usługi magazynowania.</span><span class="sxs-lookup"><span data-stu-id="899b1-535">In scenarios where the client is attempting to read, update, or delete data in a storage service it is usually easy to identify in the server-side logs a previous operation that deleted the object in question from the storage service.</span></span> <span data-ttu-id="899b1-536">Bardzo często dane dziennika pokazuje, czy inny użytkownik lub proces usunął obiektu.</span><span class="sxs-lookup"><span data-stu-id="899b1-536">Very often, the log data shows that another user or process deleted the object.</span></span> <span data-ttu-id="899b1-537">W dzienniku rejestrowania magazynu po stronie serwera typ operacji i żądanego obiektu-kolumn klucza pokazują, gdy klient usunięty obiekt.</span><span class="sxs-lookup"><span data-stu-id="899b1-537">In the server-side Storage Logging log, the operation-type and requested-object-key columns show when a client deleted an object.</span></span>

<span data-ttu-id="899b1-538">W scenariuszu, w którym klient próbuje wstawienia obiektu może nie być od razu widoczne Dlaczego powoduje to odpowiedzi HTTP 404 (nie znaleziono) biorąc pod uwagę, że klient tworzy nowy obiekt.</span><span class="sxs-lookup"><span data-stu-id="899b1-538">In the scenario where a client is attempting to insert an object, it may not be immediately obvious why this results in an HTTP 404 (Not found) response given that the client is creating a new object.</span></span> <span data-ttu-id="899b1-539">Jednak klient jest utworzenie obiektu blob musi być w stanie odnaleźć kontenera obiektów blob, jeśli klient jest tworzenia komunikatu musi być w stanie znaleźć kolejki, a klient jest dodawanie wiersza musi być w stanie odnaleźć tabeli.</span><span class="sxs-lookup"><span data-stu-id="899b1-539">However, if the client is creating a blob it must be able to find the blob container, if the client is creating a message it must be able to find a queue, and if the client is adding a row it must be able to find the table.</span></span>

<span data-ttu-id="899b1-540">Dziennika klienta z biblioteki klienta usługi Storage umożliwia bardziej szczegółowe zrozumieć, gdy klient wysyła określone żądania do usługi magazynu.</span><span class="sxs-lookup"><span data-stu-id="899b1-540">You can use the client-side log from the Storage Client Library to gain a more detailed understanding of when the client sends specific requests to the storage service.</span></span>

<span data-ttu-id="899b1-541">Następujące dziennika po stronie klienta, generowane przez biblioteki klienta magazynu zilustrowano problem, gdy klient nie może znaleźć kontenera obiektu blob, który tworzenia.</span><span class="sxs-lookup"><span data-stu-id="899b1-541">The following client-side log generated by the Storage Client library illustrates the problem when the client cannot find the container for the blob it is creating.</span></span> <span data-ttu-id="899b1-542">Ten dziennik zawiera szczegółowe informacje o następujących czynności:</span><span class="sxs-lookup"><span data-stu-id="899b1-542">This log includes details of the following storage operations:</span></span>

| <span data-ttu-id="899b1-543">Identyfikator żądania</span><span class="sxs-lookup"><span data-stu-id="899b1-543">Request ID</span></span> | <span data-ttu-id="899b1-544">Operacja</span><span class="sxs-lookup"><span data-stu-id="899b1-544">Operation</span></span> |
| --- | --- |
| <span data-ttu-id="899b1-545">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="899b1-545">07b26a5d-...</span></span> |<span data-ttu-id="899b1-546">**DeleteIfExists** metody można usunąć kontenera obiektów blob.</span><span class="sxs-lookup"><span data-stu-id="899b1-546">**DeleteIfExists** method to delete the blob container.</span></span> <span data-ttu-id="899b1-547">Należy pamiętać, że ta operacja obejmuje **HEAD** żądania do sprawdzenia istnienia kontenera.</span><span class="sxs-lookup"><span data-stu-id="899b1-547">Note that this operation includes a **HEAD** request to check for the existence of the container.</span></span> |
| <span data-ttu-id="899b1-548">e2d06d78...</span><span class="sxs-lookup"><span data-stu-id="899b1-548">e2d06d78…</span></span> |<span data-ttu-id="899b1-549">**CreateIfNotExists** metodę w celu utworzenia kontenera obiektów blob.</span><span class="sxs-lookup"><span data-stu-id="899b1-549">**CreateIfNotExists** method to create the blob container.</span></span> <span data-ttu-id="899b1-550">Należy pamiętać, że ta operacja obejmuje **HEAD** żądania, który umożliwia sprawdzenie istnienia kontenera.</span><span class="sxs-lookup"><span data-stu-id="899b1-550">Note that this operation includes a **HEAD** request that checks for the existence of the container.</span></span> <span data-ttu-id="899b1-551">**HEAD** zwraca komunikat 404, ale nadal.</span><span class="sxs-lookup"><span data-stu-id="899b1-551">The **HEAD** returns a 404 message but continues.</span></span> |
| <span data-ttu-id="899b1-552">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="899b1-552">de8b1c3c-...</span></span> |<span data-ttu-id="899b1-553">**UploadFromStream** metodę w celu utworzenia obiektu blob.</span><span class="sxs-lookup"><span data-stu-id="899b1-553">**UploadFromStream** method to create the blob.</span></span> <span data-ttu-id="899b1-554">**PUT** żądanie kończy się niepowodzeniem z komunikatem 404</span><span class="sxs-lookup"><span data-stu-id="899b1-554">The **PUT** request fails with a 404 message</span></span> |

<span data-ttu-id="899b1-555">Wpisy dziennika:</span><span class="sxs-lookup"><span data-stu-id="899b1-555">Log entries:</span></span>

| <span data-ttu-id="899b1-556">Identyfikator żądania</span><span class="sxs-lookup"><span data-stu-id="899b1-556">Request ID</span></span> | <span data-ttu-id="899b1-557">Operacja tekstu</span><span class="sxs-lookup"><span data-stu-id="899b1-557">Operation Text</span></span> |
| --- | --- |
| <span data-ttu-id="899b1-558">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="899b1-558">07b26a5d-...</span></span> |<span data-ttu-id="899b1-559">Uruchamianie synchroniczne żądanie https://domemaildist.blob.core.windows.net/azuremmblobcontainer.</span><span class="sxs-lookup"><span data-stu-id="899b1-559">Starting synchronous request to https://domemaildist.blob.core.windows.net/azuremmblobcontainer.</span></span> |
| <span data-ttu-id="899b1-560">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="899b1-560">07b26a5d-...</span></span> |<span data-ttu-id="899b1-561">StringToSign = HEAD...x-ms-client-request-id:07b26a5d-...x-ms-date:Tue, 03 2014 cze 10:33:11 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span><span class="sxs-lookup"><span data-stu-id="899b1-561">StringToSign = HEAD............x-ms-client-request-id:07b26a5d-....x-ms-date:Tue, 03 Jun 2014 10:33:11 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span></span> |
| <span data-ttu-id="899b1-562">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="899b1-562">07b26a5d-...</span></span> |<span data-ttu-id="899b1-563">Oczekiwanie na odpowiedź.</span><span class="sxs-lookup"><span data-stu-id="899b1-563">Waiting for response.</span></span> |
| <span data-ttu-id="899b1-564">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="899b1-564">07b26a5d-...</span></span> |<span data-ttu-id="899b1-565">Odebrano odpowiedź.</span><span class="sxs-lookup"><span data-stu-id="899b1-565">Response received.</span></span> <span data-ttu-id="899b1-566">Kod stanu 200, identyfikator żądania = = eeead849... Content-MD5 = ETag = &quot;0x8D14D2DC63D059B&quot;.</span><span class="sxs-lookup"><span data-stu-id="899b1-566">Status code = 200, Request ID = eeead849-...Content-MD5 = , ETag =    &quot;0x8D14D2DC63D059B&quot;.</span></span> |
| <span data-ttu-id="899b1-567">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="899b1-567">07b26a5d-...</span></span> |<span data-ttu-id="899b1-568">Nagłówki odpowiedzi zostały pomyślnie przetworzone, pochodzących z resztą operacji.</span><span class="sxs-lookup"><span data-stu-id="899b1-568">Response headers were processed successfully, proceeding with the rest of the operation.</span></span> |
| <span data-ttu-id="899b1-569">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="899b1-569">07b26a5d-...</span></span> |<span data-ttu-id="899b1-570">Pobiera treść odpowiedzi.</span><span class="sxs-lookup"><span data-stu-id="899b1-570">Downloading response body.</span></span> |
| <span data-ttu-id="899b1-571">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="899b1-571">07b26a5d-...</span></span> |<span data-ttu-id="899b1-572">Operacja została ukończona pomyślnie.</span><span class="sxs-lookup"><span data-stu-id="899b1-572">Operation completed successfully.</span></span> |
| <span data-ttu-id="899b1-573">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="899b1-573">07b26a5d-...</span></span> |<span data-ttu-id="899b1-574">Uruchamianie synchroniczne żądanie https://domemaildist.blob.core.windows.net/azuremmblobcontainer.</span><span class="sxs-lookup"><span data-stu-id="899b1-574">Starting synchronous request to https://domemaildist.blob.core.windows.net/azuremmblobcontainer.</span></span> |
| <span data-ttu-id="899b1-575">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="899b1-575">07b26a5d-...</span></span> |<span data-ttu-id="899b1-576">StringToSign = 03 2014 cze DELETE...x-ms-client-request-id:07b26a5d-...x-ms-date:Tue, 10:33:12 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span><span class="sxs-lookup"><span data-stu-id="899b1-576">StringToSign = DELETE............x-ms-client-request-id:07b26a5d-....x-ms-date:Tue, 03 Jun 2014 10:33:12    GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span></span> |
| <span data-ttu-id="899b1-577">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="899b1-577">07b26a5d-...</span></span> |<span data-ttu-id="899b1-578">Oczekiwanie na odpowiedź.</span><span class="sxs-lookup"><span data-stu-id="899b1-578">Waiting for response.</span></span> |
| <span data-ttu-id="899b1-579">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="899b1-579">07b26a5d-...</span></span> |<span data-ttu-id="899b1-580">Odebrano odpowiedź.</span><span class="sxs-lookup"><span data-stu-id="899b1-580">Response received.</span></span> <span data-ttu-id="899b1-581">Kod stanu = 202, identyfikator żądania = 6ab2a4cf..., Content-MD5 = ETag =.</span><span class="sxs-lookup"><span data-stu-id="899b1-581">Status code = 202, Request ID = 6ab2a4cf-..., Content-MD5 = , ETag = .</span></span> |
| <span data-ttu-id="899b1-582">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="899b1-582">07b26a5d-...</span></span> |<span data-ttu-id="899b1-583">Nagłówki odpowiedzi zostały pomyślnie przetworzone, pochodzących z resztą operacji.</span><span class="sxs-lookup"><span data-stu-id="899b1-583">Response headers were processed successfully, proceeding with the rest of the operation.</span></span> |
| <span data-ttu-id="899b1-584">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="899b1-584">07b26a5d-...</span></span> |<span data-ttu-id="899b1-585">Pobiera treść odpowiedzi.</span><span class="sxs-lookup"><span data-stu-id="899b1-585">Downloading response body.</span></span> |
| <span data-ttu-id="899b1-586">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="899b1-586">07b26a5d-...</span></span> |<span data-ttu-id="899b1-587">Operacja została ukończona pomyślnie.</span><span class="sxs-lookup"><span data-stu-id="899b1-587">Operation completed successfully.</span></span> |
| <span data-ttu-id="899b1-588">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="899b1-588">e2d06d78-...</span></span> |<span data-ttu-id="899b1-589">Uruchamianie żądania asynchronicznego na https://domemaildist.blob.core.windows.net/azuremmblobcontainer.</span><span class="sxs-lookup"><span data-stu-id="899b1-589">Starting asynchronous request to https://domemaildist.blob.core.windows.net/azuremmblobcontainer.</span></span></td> |
| <span data-ttu-id="899b1-590">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="899b1-590">e2d06d78-...</span></span> |<span data-ttu-id="899b1-591">StringToSign = 03 2014 cze HEAD...x-ms-client-request-id:e2d06d78-...x-ms-date:Tue, 10:33:12 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span><span class="sxs-lookup"><span data-stu-id="899b1-591">StringToSign = HEAD............x-ms-client-request-id:e2d06d78-....x-ms-date:Tue, 03 Jun 2014 10:33:12 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span></span> |
| <span data-ttu-id="899b1-592">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="899b1-592">e2d06d78-...</span></span> |<span data-ttu-id="899b1-593">Oczekiwanie na odpowiedź.</span><span class="sxs-lookup"><span data-stu-id="899b1-593">Waiting for response.</span></span> |
| <span data-ttu-id="899b1-594">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="899b1-594">de8b1c3c-...</span></span> |<span data-ttu-id="899b1-595">Uruchamianie synchroniczne żądanie https://domemaildist.blob.core.windows.net/azuremmblobcontainer/blobCreated.txt.</span><span class="sxs-lookup"><span data-stu-id="899b1-595">Starting synchronous request to https://domemaildist.blob.core.windows.net/azuremmblobcontainer/blobCreated.txt.</span></span> |
| <span data-ttu-id="899b1-596">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="899b1-596">de8b1c3c-...</span></span> |<span data-ttu-id="899b1-597">StringToSign = PUT... 64.qCmF+TQLPhq/YYK50mP9ZQ==...x-MS-blob-type:BlockBlob.x-MS-Client-Request-ID:de8b1c3c-...x-MS-Date:TUE, 03 2014 cze 10:33:12 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer/blobCreated.txt.</span><span class="sxs-lookup"><span data-stu-id="899b1-597">StringToSign = PUT...64.qCmF+TQLPhq/YYK50mP9ZQ==........x-ms-blob-type:BlockBlob.x-ms-client-request-id:de8b1c3c-....x-ms-date:Tue, 03 Jun 2014 10:33:12 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer/blobCreated.txt.</span></span> |
| <span data-ttu-id="899b1-598">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="899b1-598">de8b1c3c-...</span></span> |<span data-ttu-id="899b1-599">Przygotowywanie do zapisywania danych żądania.</span><span class="sxs-lookup"><span data-stu-id="899b1-599">Preparing to write request data.</span></span> |
| <span data-ttu-id="899b1-600">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="899b1-600">e2d06d78-...</span></span> |<span data-ttu-id="899b1-601">Zgłoszono wyjątek podczas oczekiwania na odpowiedź: serwer zdalny zwrócił błąd: (404) nie znaleziono...</span><span class="sxs-lookup"><span data-stu-id="899b1-601">Exception thrown while waiting for response: The remote server returned an error: (404) Not Found..</span></span> |
| <span data-ttu-id="899b1-602">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="899b1-602">e2d06d78-...</span></span> |<span data-ttu-id="899b1-603">Odebrano odpowiedź.</span><span class="sxs-lookup"><span data-stu-id="899b1-603">Response received.</span></span> <span data-ttu-id="899b1-604">Kod stanu 404, identyfikator żądania = = 353ae3bc..., Content-MD5 = ETag =.</span><span class="sxs-lookup"><span data-stu-id="899b1-604">Status code = 404, Request ID = 353ae3bc-..., Content-MD5 = , ETag = .</span></span> |
| <span data-ttu-id="899b1-605">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="899b1-605">e2d06d78-...</span></span> |<span data-ttu-id="899b1-606">Nagłówki odpowiedzi zostały pomyślnie przetworzone, pochodzących z resztą operacji.</span><span class="sxs-lookup"><span data-stu-id="899b1-606">Response headers were processed successfully, proceeding with the rest of the operation.</span></span> |
| <span data-ttu-id="899b1-607">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="899b1-607">e2d06d78-...</span></span> |<span data-ttu-id="899b1-608">Pobiera treść odpowiedzi.</span><span class="sxs-lookup"><span data-stu-id="899b1-608">Downloading response body.</span></span> |
| <span data-ttu-id="899b1-609">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="899b1-609">e2d06d78-...</span></span> |<span data-ttu-id="899b1-610">Operacja została ukończona pomyślnie.</span><span class="sxs-lookup"><span data-stu-id="899b1-610">Operation completed successfully.</span></span> |
| <span data-ttu-id="899b1-611">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="899b1-611">e2d06d78-...</span></span> |<span data-ttu-id="899b1-612">Uruchamianie żądania asynchronicznego na https://domemaildist.blob.core.windows.net/azuremmblobcontainer.</span><span class="sxs-lookup"><span data-stu-id="899b1-612">Starting asynchronous request to https://domemaildist.blob.core.windows.net/azuremmblobcontainer.</span></span> |
| <span data-ttu-id="899b1-613">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="899b1-613">e2d06d78-...</span></span> |<span data-ttu-id="899b1-614">StringToSign = PUT... 0...x-MS-Client-Request-ID:e2d06d78-...x-MS-Date:TUE, 03 2014 cze 10:33:12 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span><span class="sxs-lookup"><span data-stu-id="899b1-614">StringToSign = PUT...0.........x-ms-client-request-id:e2d06d78-....x-ms-date:Tue, 03 Jun 2014 10:33:12 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span></span> |
| <span data-ttu-id="899b1-615">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="899b1-615">e2d06d78-...</span></span> |<span data-ttu-id="899b1-616">Oczekiwanie na odpowiedź.</span><span class="sxs-lookup"><span data-stu-id="899b1-616">Waiting for response.</span></span> |
| <span data-ttu-id="899b1-617">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="899b1-617">de8b1c3c-...</span></span> |<span data-ttu-id="899b1-618">Zapisywanie danych żądania.</span><span class="sxs-lookup"><span data-stu-id="899b1-618">Writing request data.</span></span> |
| <span data-ttu-id="899b1-619">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="899b1-619">de8b1c3c-...</span></span> |<span data-ttu-id="899b1-620">Oczekiwanie na odpowiedź.</span><span class="sxs-lookup"><span data-stu-id="899b1-620">Waiting for response.</span></span> |
| <span data-ttu-id="899b1-621">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="899b1-621">e2d06d78-...</span></span> |<span data-ttu-id="899b1-622">Zgłoszono wyjątek podczas oczekiwania na odpowiedź: serwer zdalny zwrócił błąd: konflikt (409).</span><span class="sxs-lookup"><span data-stu-id="899b1-622">Exception thrown while waiting for response: The remote server returned an error: (409) Conflict..</span></span> |
| <span data-ttu-id="899b1-623">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="899b1-623">e2d06d78-...</span></span> |<span data-ttu-id="899b1-624">Odebrano odpowiedź.</span><span class="sxs-lookup"><span data-stu-id="899b1-624">Response received.</span></span> <span data-ttu-id="899b1-625">Kod stanu = 409, identyfikator żądania = c27da20e..., Content-MD5 = ETag =.</span><span class="sxs-lookup"><span data-stu-id="899b1-625">Status code = 409, Request ID = c27da20e-..., Content-MD5 = , ETag = .</span></span> |
| <span data-ttu-id="899b1-626">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="899b1-626">e2d06d78-...</span></span> |<span data-ttu-id="899b1-627">Pobiera treść odpowiedzi błędu.</span><span class="sxs-lookup"><span data-stu-id="899b1-627">Downloading error response body.</span></span> |
| <span data-ttu-id="899b1-628">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="899b1-628">de8b1c3c-...</span></span> |<span data-ttu-id="899b1-629">Zgłoszono wyjątek podczas oczekiwania na odpowiedź: serwer zdalny zwrócił błąd: (404) nie znaleziono...</span><span class="sxs-lookup"><span data-stu-id="899b1-629">Exception thrown while waiting for response: The remote server returned an error: (404) Not Found..</span></span> |
| <span data-ttu-id="899b1-630">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="899b1-630">de8b1c3c-...</span></span> |<span data-ttu-id="899b1-631">Odebrano odpowiedź.</span><span class="sxs-lookup"><span data-stu-id="899b1-631">Response received.</span></span> <span data-ttu-id="899b1-632">Kod stanu 404, identyfikator żądania = = 0eaeab3e..., Content-MD5 = ETag =.</span><span class="sxs-lookup"><span data-stu-id="899b1-632">Status code = 404, Request ID = 0eaeab3e-..., Content-MD5 = , ETag = .</span></span> |
| <span data-ttu-id="899b1-633">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="899b1-633">de8b1c3c-...</span></span> |<span data-ttu-id="899b1-634">Zgłoszono wyjątek podczas operacji: serwer zdalny zwrócił błąd: (404) nie znaleziono...</span><span class="sxs-lookup"><span data-stu-id="899b1-634">Exception thrown during the operation: The remote server returned an error: (404) Not Found..</span></span> |
| <span data-ttu-id="899b1-635">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="899b1-635">de8b1c3c-...</span></span> |<span data-ttu-id="899b1-636">Zasady ponawiania nie zezwala na ponowienie próby.</span><span class="sxs-lookup"><span data-stu-id="899b1-636">Retry policy did not allow for a retry.</span></span> <span data-ttu-id="899b1-637">Niepowodzenie z serwera zdalnego zwróciło błąd: (404) nie znaleziono...</span><span class="sxs-lookup"><span data-stu-id="899b1-637">Failing with The remote server returned an error: (404) Not Found..</span></span> |
| <span data-ttu-id="899b1-638">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="899b1-638">e2d06d78-...</span></span> |<span data-ttu-id="899b1-639">Zasady ponawiania nie zezwala na ponowienie próby.</span><span class="sxs-lookup"><span data-stu-id="899b1-639">Retry policy did not allow for a retry.</span></span> <span data-ttu-id="899b1-640">Niepowodzenie z serwera zdalnego zwróciło błąd: konflikt (409).</span><span class="sxs-lookup"><span data-stu-id="899b1-640">Failing with The remote server returned an error: (409) Conflict..</span></span> |

<span data-ttu-id="899b1-641">W tym przykładzie dziennik pokazuje, czy klient jest naprzemiennego wykonywania żądania od **CreateIfNotExists** — metoda (żądania identyfikator e2d06d78...) z żądaniami z **UploadFromStream** — metoda (de8b1c3c-...); zdarza się, ponieważ aplikacja kliencka asynchronicznego wywołania tych metod.</span><span class="sxs-lookup"><span data-stu-id="899b1-641">In this example, the log shows that the client is interleaving requests from the **CreateIfNotExists** method (request id e2d06d78…) with the requests from the **UploadFromStream** method (de8b1c3c-...); this is happening because the client application is invoking these methods asynchronously.</span></span> <span data-ttu-id="899b1-642">Należy zmodyfikować kod asynchroniczny na komputerze klienckim, aby upewnić się, tworzy kontener, przed podjęciem próby przekazania danych do obiektu blob w tym kontenerze.</span><span class="sxs-lookup"><span data-stu-id="899b1-642">You should modify the asynchronous code in the client to ensure that it creates the container before attempting to upload any data to a blob in that container.</span></span> <span data-ttu-id="899b1-643">Najlepiej, jeśli należy wcześniej utworzyć wszystkich kontenerów.</span><span class="sxs-lookup"><span data-stu-id="899b1-643">Ideally, you should create all your containers in advance.</span></span>

#### <span data-ttu-id="899b1-644"><a name="SAS-authorization-issue"></a>Problem autoryzacji dostępu sygnatury dostępu Współdzielonego</span><span class="sxs-lookup"><span data-stu-id="899b1-644"><a name="SAS-authorization-issue"></a>A Shared Access Signature (SAS) authorization issue</span></span>
<span data-ttu-id="899b1-645">Jeśli aplikacja kliencka próbuje użyć klucza sygnatury dostępu Współdzielonego, który nie ma wystarczających uprawnień dla operacji, usługa Magazyn zwraca komunikat HTTP 404 (nie znaleziono) do klienta.</span><span class="sxs-lookup"><span data-stu-id="899b1-645">If the client application attempts to use a SAS key that does not include the necessary permissions for the operation, the storage service returns an HTTP 404 (Not found) message to the client.</span></span> <span data-ttu-id="899b1-646">W tym samym czasie, pojawi się także wartość niezerową **SASAuthorizationError** w metryki.</span><span class="sxs-lookup"><span data-stu-id="899b1-646">At the same time, you will also see a non-zero value for **SASAuthorizationError** in the metrics.</span></span>

<span data-ttu-id="899b1-647">W poniższej tabeli przedstawiono przykładowy komunikat dziennika po stronie serwera z pliku dziennika rejestrowania magazynu:</span><span class="sxs-lookup"><span data-stu-id="899b1-647">The following table shows a sample server-side log message from the Storage Logging log file:</span></span>

| <span data-ttu-id="899b1-648">Nazwa</span><span class="sxs-lookup"><span data-stu-id="899b1-648">Name</span></span> | <span data-ttu-id="899b1-649">Wartość</span><span class="sxs-lookup"><span data-stu-id="899b1-649">Value</span></span> |
| --- | --- |
| <span data-ttu-id="899b1-650">Czas rozpoczęcia żądania</span><span class="sxs-lookup"><span data-stu-id="899b1-650">Request start time</span></span> | <span data-ttu-id="899b1-651">2014-05-30T06:17:48.4473697Z</span><span class="sxs-lookup"><span data-stu-id="899b1-651">2014-05-30T06:17:48.4473697Z</span></span> |
| <span data-ttu-id="899b1-652">Typ operacji</span><span class="sxs-lookup"><span data-stu-id="899b1-652">Operation type</span></span>     | <span data-ttu-id="899b1-653">GetBlobProperties</span><span class="sxs-lookup"><span data-stu-id="899b1-653">GetBlobProperties</span></span>            |
| <span data-ttu-id="899b1-654">Stan żądania</span><span class="sxs-lookup"><span data-stu-id="899b1-654">Request status</span></span>     | <span data-ttu-id="899b1-655">SASAuthorizationError</span><span class="sxs-lookup"><span data-stu-id="899b1-655">SASAuthorizationError</span></span>        |
| <span data-ttu-id="899b1-656">Kod stanu HTTP</span><span class="sxs-lookup"><span data-stu-id="899b1-656">HTTP status code</span></span>   | <span data-ttu-id="899b1-657">404</span><span class="sxs-lookup"><span data-stu-id="899b1-657">404</span></span>                          |
| <span data-ttu-id="899b1-658">Typ uwierzytelniania</span><span class="sxs-lookup"><span data-stu-id="899b1-658">Authentication type</span></span>| <span data-ttu-id="899b1-659">Sygnatury dostępu współdzielonego</span><span class="sxs-lookup"><span data-stu-id="899b1-659">Sas</span></span>                          |
| <span data-ttu-id="899b1-660">Typ usługi</span><span class="sxs-lookup"><span data-stu-id="899b1-660">Service type</span></span>       | <span data-ttu-id="899b1-661">Obiekt blob</span><span class="sxs-lookup"><span data-stu-id="899b1-661">Blob</span></span>                         |
| <span data-ttu-id="899b1-662">Adres URL żądania</span><span class="sxs-lookup"><span data-stu-id="899b1-662">Request URL</span></span>        | <span data-ttu-id="899b1-663">https://domemaildist.blob.Core.Windows.NET/azureimblobcontainer/blobCreatedViaSAS.txt</span><span class="sxs-lookup"><span data-stu-id="899b1-663">https://domemaildist.blob.core.windows.net/azureimblobcontainer/blobCreatedViaSAS.txt</span></span> |
| <span data-ttu-id="899b1-664">nbsp;</span><span class="sxs-lookup"><span data-stu-id="899b1-664">nbsp;</span></span>              |   <span data-ttu-id="899b1-665">? sv = 2014-02-14 & sr = c & si = mypolicy & sig = XXXXX&;interfejsu api-version = 2014-02-14</span><span class="sxs-lookup"><span data-stu-id="899b1-665">?sv=2014-02-14&sr=c&si=mypolicy&sig=XXXXX&;api-version=2014-02-14</span></span> |
| <span data-ttu-id="899b1-666">Nagłówka identyfikatora żądania</span><span class="sxs-lookup"><span data-stu-id="899b1-666">Request id header</span></span>  | <span data-ttu-id="899b1-667">a1f348d5-8032-4912-93ef-b393e5252a3b</span><span class="sxs-lookup"><span data-stu-id="899b1-667">a1f348d5-8032-4912-93ef-b393e5252a3b</span></span> |
| <span data-ttu-id="899b1-668">Identyfikator żądania klienta</span><span class="sxs-lookup"><span data-stu-id="899b1-668">Client request ID</span></span>  | <span data-ttu-id="899b1-669">2d064953-8436-4ee0-aa0c-65cb874f7929</span><span class="sxs-lookup"><span data-stu-id="899b1-669">2d064953-8436-4ee0-aa0c-65cb874f7929</span></span> |


<span data-ttu-id="899b1-670">Należy zbadać, dlaczego aplikacja kliencka próbuje wykonać operacji, które go nie udzielono uprawnienia do.</span><span class="sxs-lookup"><span data-stu-id="899b1-670">You should investigate why your client application is attempting to perform an operation it has not been granted permissions for.</span></span>

#### <span data-ttu-id="899b1-671"><a name="JavaScript-code-does-not-have-permission"></a>Kod JavaScript po stronie klienta nie ma uprawnień dostępu do tego obiektu</span><span class="sxs-lookup"><span data-stu-id="899b1-671"><a name="JavaScript-code-does-not-have-permission"></a>Client-side JavaScript code does not have permission to access the object</span></span>
<span data-ttu-id="899b1-672">Jeśli używasz klienta języka JavaScript i Usługa magazynu jest zwracania wiadomości HTTP 404, wyszukaj następujące błędy JavaScript w przeglądarce:</span><span class="sxs-lookup"><span data-stu-id="899b1-672">If you are using a JavaScript client and the storage service is returning HTTP 404 messages, you check for the following JavaScript errors in the browser:</span></span>

```
SEC7120: Origin http://localhost:56309 not found in Access-Control-Allow-Origin header.
SCRIPT7002: XMLHttpRequest: Network Error 0x80070005, Access is denied.
```

> [!NOTE]
> <span data-ttu-id="899b1-673">Narzędzia deweloperskie F12 w programie Internet Explorer umożliwia śledzenie wiadomości wymieniane między przeglądarką a usługą Magazyn przy rozwiązywaniu problemów JavaScript po stronie klienta.</span><span class="sxs-lookup"><span data-stu-id="899b1-673">You can use the F12 Developer Tools in Internet Explorer to trace the messages exchanged between the browser and the storage service when you are troubleshooting client-side JavaScript issues.</span></span>
> 
> 

<span data-ttu-id="899b1-674">Te błędy, ponieważ implementuje przeglądarki sieci web [te same zasady pochodzenia](http://www.w3.org/Security/wiki/Same_Origin_Policy) ograniczenia zabezpieczeń, który uniemożliwia wywołanie interfejsu API w innej domenie z domeny strony strony sieci web jest dostarczany z.</span><span class="sxs-lookup"><span data-stu-id="899b1-674">These errors occur because the web browser implements the [same origin policy](http://www.w3.org/Security/wiki/Same_Origin_Policy) security restriction that prevents a web page from calling an API in a different domain from the domain the page comes from.</span></span>

<span data-ttu-id="899b1-675">Aby obejść ten problem JavaScript, można skonfigurować dla wielu CORS Origin Resource Sharing () usługi magazynu, który klient próbuje uzyskać dostęp.</span><span class="sxs-lookup"><span data-stu-id="899b1-675">To work around the JavaScript issue, you can configure Cross Origin Resource Sharing (CORS) for the storage service the client is accessing.</span></span> <span data-ttu-id="899b1-676">Aby uzyskać więcej informacji, zobacz [udostępniania zasobów między źródłami (CORS) obsługę usług magazynu Azure](http://msdn.microsoft.com/library/azure/dn535601.aspx).</span><span class="sxs-lookup"><span data-stu-id="899b1-676">For more information, see [Cross-Origin Resource Sharing (CORS) Support for Azure Storage Services](http://msdn.microsoft.com/library/azure/dn535601.aspx).</span></span>

<span data-ttu-id="899b1-677">Poniższy przykładowy kod przedstawia sposób konfigurowania usługi obiektów blob umożliwia JavaScript systemem w domenie Contoso dostęp do obiektów blob w usłudze magazyn obiektów blob:</span><span class="sxs-lookup"><span data-stu-id="899b1-677">The following code sample shows how to configure your blob service to allow JavaScript running in the Contoso domain to access a blob in your blob storage service:</span></span>

```csharp
CloudBlobClient client = new CloudBlobClient(blobEndpoint, new StorageCredentials(accountName, accountKey));
// Set the service properties.
ServiceProperties sp = client.GetServiceProperties();
sp.DefaultServiceVersion = "2013-08-15";
CorsRule cr = new CorsRule();
cr.AllowedHeaders.Add("*");
cr.AllowedMethods = CorsHttpMethods.Get | CorsHttpMethods.Put;
cr.AllowedOrigins.Add("http://www.contoso.com");
cr.ExposedHeaders.Add("x-ms-*");
cr.MaxAgeInSeconds = 5;
sp.Cors.CorsRules.Clear();
sp.Cors.CorsRules.Add(cr);
client.SetServiceProperties(sp);
```

#### <span data-ttu-id="899b1-678"><a name="network-failure"></a>Błąd sieci</span><span class="sxs-lookup"><span data-stu-id="899b1-678"><a name="network-failure"></a>Network Failure</span></span>
<span data-ttu-id="899b1-679">W niektórych sytuacjach pakietów sieciowych utracone może prowadzić do zwracania wiadomości HTTP 404 do klienta usługi magazynu.</span><span class="sxs-lookup"><span data-stu-id="899b1-679">In some circumstances, lost network packets can lead to the storage service returning HTTP 404 messages to the client.</span></span> <span data-ttu-id="899b1-680">Na przykład, gdy aplikacja kliencka jest usunięcie jednostki z usługi tabel zostanie wyświetlony klienta throw zgłoszenie wyjątku magazynu "HTTP 404 (nie znaleziono)" komunikat o stanie z usługi tabel.</span><span class="sxs-lookup"><span data-stu-id="899b1-680">For example, when your client application is deleting an entity from the table service you see the client throw a storage exception reporting an "HTTP 404 (Not Found)" status message from the table service.</span></span> <span data-ttu-id="899b1-681">Badanie tabeli w usłudze magazyn tabel, zobacz, czy usługa została usunięta jednostki, zgodnie z wymaganiami.</span><span class="sxs-lookup"><span data-stu-id="899b1-681">When you investigate the table in the table storage service, you see that the service did delete the entity as requested.</span></span>

<span data-ttu-id="899b1-682">Szczegóły wyjątku w kliencie zawierają identyfikator żądania (7e84f12d...) przypisany przez usługę tabeli dla żądania: można użyć tych informacji można znaleźć szczegółów żądania w dziennikach magazynu po stronie serwera przez wyszukiwanie w **nagłówka identyfikatora żądania** kolumny w pliku dziennika.</span><span class="sxs-lookup"><span data-stu-id="899b1-682">The exception details in the client include the request id (7e84f12d…) assigned by the table service for the request: you can use this information to locate the request details in the server-side storage logs by searching in the **request-id-header** column in the log file.</span></span> <span data-ttu-id="899b1-683">Metryki można użyć również do identyfikowania, gdy występują błędów, takich jak ta, a następnie wyszukać pliki dziennika na podstawie czasu metryki rejestrowane tego błędu.</span><span class="sxs-lookup"><span data-stu-id="899b1-683">You could also use the metrics to identify when failures such as this occur and then search the log files based on the time the metrics recorded this error.</span></span> <span data-ttu-id="899b1-684">Ten wpis dziennika pokazuje, czy usunięcie nie powiodło się z komunikatem o stanie "Client inny błąd HTTP (404)".</span><span class="sxs-lookup"><span data-stu-id="899b1-684">This log entry shows that the delete failed with an "HTTP (404) Client Other Error" status message.</span></span> <span data-ttu-id="899b1-685">Tym samym wpis dziennika zawiera także identyfikator żądania wygenerowanych przez klienta w **client-request-id** kolumny (813ea74f...).</span><span class="sxs-lookup"><span data-stu-id="899b1-685">The same log entry also includes the request id generated by the client in the **client-request-id** column (813ea74f…).</span></span>

<span data-ttu-id="899b1-686">Dziennik po stronie serwera zawiera także inny wpis o tej samej **client-request-id** usunięcia wartości (813ea74f...) dla pomyślnego działania dla tej samej jednostki i z tego samego klienta.</span><span class="sxs-lookup"><span data-stu-id="899b1-686">The server-side log also includes another entry with the same **client-request-id** value (813ea74f…) for a successful delete operation for the same entity, and from the same client.</span></span> <span data-ttu-id="899b1-687">Operacja usuwania powiodło się wkrótce miało miejsce, aby usunąć nieudane żądania.</span><span class="sxs-lookup"><span data-stu-id="899b1-687">This successful delete operation took place very shortly before the failed delete request.</span></span>

<span data-ttu-id="899b1-688">Najbardziej prawdopodobną przyczyną tego scenariusza jest, że klienta wysłała żądanie usunięcia dla obiektu do usługi tabel, które zakończyło się pomyślnie, ale nie otrzymano potwierdzenia z serwera (prawdopodobnie z powodu przejściowego problemu z siecią).</span><span class="sxs-lookup"><span data-stu-id="899b1-688">The most likely cause of this scenario is that the client sent a delete request for the entity to the table service, which succeeded, but did not receive an acknowledgement from the server (perhaps due to a temporary network issue).</span></span> <span data-ttu-id="899b1-689">Klient następnie automatycznie ponowione operacji (korzystającej z tego samego **client-request-id**), a ta ponowna próba nie powiodła się, ponieważ obiekt już zostało usunięte.</span><span class="sxs-lookup"><span data-stu-id="899b1-689">The client then automatically retried the operation (using the same **client-request-id**), and this retry failed because the entity had already been deleted.</span></span>

<span data-ttu-id="899b1-690">Jeśli ten problem występuje często, należy zbadać, dlaczego klient nie działa prawidłowo na odebranie potwierdzeń z usługi tabel.</span><span class="sxs-lookup"><span data-stu-id="899b1-690">If this problem occurs frequently, you should investigate why the client is failing to receive acknowledgements from the table service.</span></span> <span data-ttu-id="899b1-691">Jeśli problem jest tymczasowy, należy wyłapać błąd "Nie można odnaleźć HTTP (404)" i zaloguj się na komputerze klienckim, ale zezwalaj na kliencie kontynuować.</span><span class="sxs-lookup"><span data-stu-id="899b1-691">If the problem is intermittent, you should trap the "HTTP (404) Not Found" error and log it in the client, but allow the client to continue.</span></span>

### <span data-ttu-id="899b1-692"><a name="the-client-is-receiving-409-messages"></a>Klient odbiera komunikaty HTTP 409 (konflikt)</span><span class="sxs-lookup"><span data-stu-id="899b1-692"><a name="the-client-is-receiving-409-messages"></a>The client is receiving HTTP 409 (Conflict) messages</span></span>
<span data-ttu-id="899b1-693">W poniższej tabeli przedstawiono wyodrębniania z dziennika po stronie serwera dla dwóch operacji klienta: **DeleteIfExists** a następnie natychmiast przez **CreateIfNotExists** przy użyciu tej samej nazwy kontenera obiektów blob.</span><span class="sxs-lookup"><span data-stu-id="899b1-693">The following table shows an extract from the server-side log for two client operations: **DeleteIfExists** followed immediately by **CreateIfNotExists** using the same blob container name.</span></span> <span data-ttu-id="899b1-694">Należy pamiętać, że każda operacja klienta powoduje dwa żądania wysyłane na serwer, w pierwszej kolejności **GetContainerProperties** żądania, aby sprawdzić, czy kontener istnieje, a następnie **DeleteContainer** lub **tworzony kontener** żądania.</span><span class="sxs-lookup"><span data-stu-id="899b1-694">Note that each client operation results in two requests sent to the server, first a **GetContainerProperties** request to check if the container exists, followed by the **DeleteContainer** or **CreateContainer** request.</span></span>

| <span data-ttu-id="899b1-695">Znacznik czasu</span><span class="sxs-lookup"><span data-stu-id="899b1-695">Timestamp</span></span> | <span data-ttu-id="899b1-696">Operacja</span><span class="sxs-lookup"><span data-stu-id="899b1-696">Operation</span></span> | <span data-ttu-id="899b1-697">wynik</span><span class="sxs-lookup"><span data-stu-id="899b1-697">Result</span></span> | <span data-ttu-id="899b1-698">Nazwa kontenera</span><span class="sxs-lookup"><span data-stu-id="899b1-698">Container name</span></span> | <span data-ttu-id="899b1-699">Identyfikator żądania klienta</span><span class="sxs-lookup"><span data-stu-id="899b1-699">Client request id</span></span> |
| --- | --- | --- | --- | --- |
| <span data-ttu-id="899b1-700">05:10:13.7167225</span><span class="sxs-lookup"><span data-stu-id="899b1-700">05:10:13.7167225</span></span> |<span data-ttu-id="899b1-701">GetContainerProperties</span><span class="sxs-lookup"><span data-stu-id="899b1-701">GetContainerProperties</span></span> |<span data-ttu-id="899b1-702">200</span><span class="sxs-lookup"><span data-stu-id="899b1-702">200</span></span> |<span data-ttu-id="899b1-703">mmcont</span><span class="sxs-lookup"><span data-stu-id="899b1-703">mmcont</span></span> |<span data-ttu-id="899b1-704">c9f52c89-...</span><span class="sxs-lookup"><span data-stu-id="899b1-704">c9f52c89-…</span></span> |
| <span data-ttu-id="899b1-705">05:10:13.8167325</span><span class="sxs-lookup"><span data-stu-id="899b1-705">05:10:13.8167325</span></span> |<span data-ttu-id="899b1-706">DeleteContainer</span><span class="sxs-lookup"><span data-stu-id="899b1-706">DeleteContainer</span></span> |<span data-ttu-id="899b1-707">202</span><span class="sxs-lookup"><span data-stu-id="899b1-707">202</span></span> |<span data-ttu-id="899b1-708">mmcont</span><span class="sxs-lookup"><span data-stu-id="899b1-708">mmcont</span></span> |<span data-ttu-id="899b1-709">c9f52c89-...</span><span class="sxs-lookup"><span data-stu-id="899b1-709">c9f52c89-…</span></span> |
| <span data-ttu-id="899b1-710">05:10:13.8987407</span><span class="sxs-lookup"><span data-stu-id="899b1-710">05:10:13.8987407</span></span> |<span data-ttu-id="899b1-711">GetContainerProperties</span><span class="sxs-lookup"><span data-stu-id="899b1-711">GetContainerProperties</span></span> |<span data-ttu-id="899b1-712">404</span><span class="sxs-lookup"><span data-stu-id="899b1-712">404</span></span> |<span data-ttu-id="899b1-713">mmcont</span><span class="sxs-lookup"><span data-stu-id="899b1-713">mmcont</span></span> |<span data-ttu-id="899b1-714">bc881924-...</span><span class="sxs-lookup"><span data-stu-id="899b1-714">bc881924-…</span></span> |
| <span data-ttu-id="899b1-715">05:10:14.2147723</span><span class="sxs-lookup"><span data-stu-id="899b1-715">05:10:14.2147723</span></span> |<span data-ttu-id="899b1-716">Tworzony kontener</span><span class="sxs-lookup"><span data-stu-id="899b1-716">CreateContainer</span></span> |<span data-ttu-id="899b1-717">409</span><span class="sxs-lookup"><span data-stu-id="899b1-717">409</span></span> |<span data-ttu-id="899b1-718">mmcont</span><span class="sxs-lookup"><span data-stu-id="899b1-718">mmcont</span></span> |<span data-ttu-id="899b1-719">bc881924-...</span><span class="sxs-lookup"><span data-stu-id="899b1-719">bc881924-…</span></span> |

<span data-ttu-id="899b1-720">Kod w aplikacji klienckiej usuwa i natychmiast odtwarza kontenera obiektów blob przy użyciu tej samej nazwie: **CreateIfNotExists** — metoda (żądań klienta identyfikator bc881924-...) ostatecznie zakończy się niepowodzeniem z powodu błędu HTTP 409 (konflikt).</span><span class="sxs-lookup"><span data-stu-id="899b1-720">The code in the client application deletes and then immediately recreates a blob container using the same name: the **CreateIfNotExists** method (Client request ID bc881924-…) eventually fails with the HTTP 409 (Conflict) error.</span></span> <span data-ttu-id="899b1-721">Gdy klient usuwa kontenerów obiektów blob, tabel lub kolejek istnieje krótki okres przed nazwą znowu dostępne.</span><span class="sxs-lookup"><span data-stu-id="899b1-721">When a client deletes blob containers, tables, or queues there is a brief period before the name becomes available again.</span></span>

<span data-ttu-id="899b1-722">Aplikacja kliencka należy używać nazwy kontenera unikatowy zawsze, gdy tworzy nowe kontenery w przypadku wzorca Usuń/ponownie utwórz wspólnej.</span><span class="sxs-lookup"><span data-stu-id="899b1-722">The client application should use unique container names whenever it creates new containers if the delete/recreate pattern is common.</span></span>

### <span data-ttu-id="899b1-723"><a name="metrics-show-low-percent-success"></a>Metryki pokazują PercentSuccess niskim lub wpisy dziennika analytics ma operacji ze stanem transakcji ClientOtherErrors</span><span class="sxs-lookup"><span data-stu-id="899b1-723"><a name="metrics-show-low-percent-success"></a>Metrics show low PercentSuccess or analytics log entries have operations with transaction status of ClientOtherErrors</span></span>
<span data-ttu-id="899b1-724">**PercentSuccess** metryka umożliwia przechwytywanie wartości procentowej operacje, które zostały pomyślnie w oparciu o ich kod stanu HTTP.</span><span class="sxs-lookup"><span data-stu-id="899b1-724">The **PercentSuccess** metric captures the percent of operations that were successful based on their HTTP Status Code.</span></span> <span data-ttu-id="899b1-725">Operacje z kodów stanu 2XX liczba pomyślnym przeprowadzeniu, podczas gdy operacje z kodów stanu w zakresach 3XX, 4XX i 5XX są liczone jako nie powiodło się i dolnym **PercentSucess** wartość metryki.</span><span class="sxs-lookup"><span data-stu-id="899b1-725">Operations with status codes of 2XX count as successful, whereas operations with status codes in 3XX, 4XX and 5XX ranges are counted as unsuccessful and lower the **PercentSucess** metric value.</span></span> <span data-ttu-id="899b1-726">W plikach dziennika magazynu po stronie serwera, operacje te są rejestrowane ze stanem transakcji **ClientOtherErrors**.</span><span class="sxs-lookup"><span data-stu-id="899b1-726">In the server-side storage log files, these operations are recorded with a transaction status of **ClientOtherErrors**.</span></span>

<span data-ttu-id="899b1-727">Należy zauważyć, że te operacje zostały pomyślnie ukończone i w związku z tym nie ma wpływu na inne metryki, np. dostępność.</span><span class="sxs-lookup"><span data-stu-id="899b1-727">It is important to note that these operations have completed successfully and therefore do not affect other metrics such as availability.</span></span> <span data-ttu-id="899b1-728">Niektóre operacje, które wykonana pomyślnie, ale który może skutkować niepowodzeniem kody stanu HTTP należą:</span><span class="sxs-lookup"><span data-stu-id="899b1-728">Some examples of operations that execute successfully but that can result in unsuccessful HTTP status codes include:</span></span>

* <span data-ttu-id="899b1-729">**ResourceNotFound** (nie znaleziono 404), na przykład z żądania GET do obiektu blob, który nie istnieje.</span><span class="sxs-lookup"><span data-stu-id="899b1-729">**ResourceNotFound** (Not Found 404), for example from a GET request to a blob that does not exist.</span></span>
* <span data-ttu-id="899b1-730">**ResouceAlreadyExists** (409 Konflikt), na przykład z **CreateIfNotExist** operacji, gdy zasób już istnieje.</span><span class="sxs-lookup"><span data-stu-id="899b1-730">**ResouceAlreadyExists** (Conflict 409), for example from a **CreateIfNotExist** operation where the resource already exists.</span></span>
* <span data-ttu-id="899b1-731">**ConditionNotMet** (nie modyfikować 304), na przykład z warunkowego operacji, takich jak kiedy klient wysyła **ETag** wartość i HTTP **If-None-Match** nagłówka żądania obraz tylko wtedy, gdy plik został zaktualizowany od czasu ostatniej operacji.</span><span class="sxs-lookup"><span data-stu-id="899b1-731">**ConditionNotMet** (Not Modified 304), for example from a conditional operation such as when a client sends an **ETag** value and an HTTP **If-None-Match** header to request an image only if it has been updated since the last operation.</span></span>

<span data-ttu-id="899b1-732">Znajduje się lista często występujące kody błędów interfejsu API REST usług magazynu zwracające na stronie [często występujące kody błędów interfejsu API REST](http://msdn.microsoft.com/library/azure/dd179357.aspx).</span><span class="sxs-lookup"><span data-stu-id="899b1-732">You can find a list of common REST API error codes that the storage services return on the page [Common REST API Error Codes](http://msdn.microsoft.com/library/azure/dd179357.aspx).</span></span>

### <span data-ttu-id="899b1-733"><a name="capacity-metrics-show-an-unexpected-increase"></a>Metryki pojemności Pokaż nieoczekiwane zwiększenie wykorzystania pojemności magazynu</span><span class="sxs-lookup"><span data-stu-id="899b1-733"><a name="capacity-metrics-show-an-unexpected-increase"></a>Capacity metrics show an unexpected increase in storage capacity usage</span></span>
<span data-ttu-id="899b1-734">Jeśli widzisz nagłym, nieoczekiwane wykorzystania pojemności na koncie magazynu można zapoznać się z przyczyn sprawdzając Twoje metryki dostępności; na przykład wzrost liczby żądań może prowadzić do zwiększenia ilości magazynu obiektów blob, używanego jako operacje oczyszczania określonych aplikacji, oczekiwane może mieć można zwalnianie miejsca może nie działać zgodnie z oczekiwaniami (na przykład z powodu wygasły tokeny sygnatury dostępu Współdzielonego, używany do Zwiększ ilość miejsca) usuwanie nie powiodło się.</span><span class="sxs-lookup"><span data-stu-id="899b1-734">If you see sudden, unexpected changes in capacity usage in your storage account, you can investigate the reasons by first looking at your availability metrics; for example, an increase in the number of failed delete requests might lead to an increase in the amount of blob storage you are using as application specific cleanup operations you might have expected to be freeing up space may not be working as expected (for example, because the SAS tokens used for freeing up space have expired).</span></span>

### <span data-ttu-id="899b1-735"><a name="you-are-experiencing-unexpected-reboots"></a>Występują nieoczekiwane ponowne uruchomienie maszyn wirtualnych Azure mających dużej liczby dołączonych dysków VHD</span><span class="sxs-lookup"><span data-stu-id="899b1-735"><a name="you-are-experiencing-unexpected-reboots"></a>You are experiencing unexpected reboots of Azure Virtual Machines that have a large number of attached VHDs</span></span>
<span data-ttu-id="899b1-736">Maszyny wirtualne Azure (VM) jest duża liczba dołączonych dysków VHD, które znajdują się w tym samym koncie magazynu, może przekraczać wartości docelowe skalowalności konta magazynu powoduje maszyna wirtualna może się nie powieść.</span><span class="sxs-lookup"><span data-stu-id="899b1-736">If an Azure Virtual Machine (VM) has a large number of attached VHDs that are in the same storage account, you could exceed the scalability targets for an individual storage account causing the VM to fail.</span></span> <span data-ttu-id="899b1-737">Należy sprawdzić minuty metryki dla konta magazynu (**TotalRequests**/**TotalIngress**/**TotalEgress**) maksymalnej, które wykraczają poza wartości docelowe skalowalności dla konta magazynu.</span><span class="sxs-lookup"><span data-stu-id="899b1-737">You should check the minute metrics for the storage account (**TotalRequests**/**TotalIngress**/**TotalEgress**) for spikes that exceed the scalability targets for a storage account.</span></span> <span data-ttu-id="899b1-738">Zobacz sekcję "[metryki spowodować wzrost PercentThrottlingError]" Aby uzyskać pomoc w określeniu, czy ograniczania wystąpił na koncie magazynu.</span><span class="sxs-lookup"><span data-stu-id="899b1-738">See the section "[Metrics show an increase in PercentThrottlingError]" for assistance in determining if throttling has occurred on your storage account.</span></span>

<span data-ttu-id="899b1-739">Ogólnie rzecz biorąc, każdej poszczególnych danych wejściowych lub wyjściowych operacji na wirtualny dysk twardy z maszyny wirtualnej przekłada się **Get strony** lub **umieścić strony** operacje na podstawowym stronicowych obiektów blob.</span><span class="sxs-lookup"><span data-stu-id="899b1-739">In general, each individual input or output operation on a VHD from a Virtual Machine translates to **Get Page** or **Put Page** operations on the underlying page blob.</span></span> <span data-ttu-id="899b1-740">W związku z tym umożliwia szacowany IOPS dla danego środowiska Dostosuj liczbę dysków VHD, użytkownik może mieć na koncie magazynu jednego na podstawie określone zachowanie aplikacji.</span><span class="sxs-lookup"><span data-stu-id="899b1-740">Therefore, you can use the estimated IOPS for your environment to tune how many VHDs you can have in a single storage account based on the specific behavior of your application.</span></span> <span data-ttu-id="899b1-741">Nie zaleca się o więcej niż 40 dysków na koncie magazynu jednego.</span><span class="sxs-lookup"><span data-stu-id="899b1-741">We do not recommend having more than 40 disks in a single storage account.</span></span> <span data-ttu-id="899b1-742">Zobacz [cele dotyczące wydajności i skalowalności magazynu Azure](storage-scalability-targets.md) szczegółowe informacje o bieżącej wartości docelowe skalowalności w przypadku kont magazynu, w szczególności całkowita liczba żądań szybkość i całkowitej przepustowości dla typu konta magazynu używasz.</span><span class="sxs-lookup"><span data-stu-id="899b1-742">See [Azure Storage Scalability and Performance Targets](storage-scalability-targets.md) for details of the current scalability targets for storage accounts, in particular the total request rate and total bandwidth for the type of storage account you are using.</span></span>
<span data-ttu-id="899b1-743">Jeśli doszło do przekroczenia wartości docelowe skalowalności konta magazynu, należy umieścić dyski VHD w wielu różnych kont magazynu do zredukowania aktywności w poszczególnych indywidualnych kont.</span><span class="sxs-lookup"><span data-stu-id="899b1-743">If you are exceeding the scalability targets for your storage account, you should place your VHDs in multiple different storage accounts to reduce the activity in each individual account.</span></span>

### <span data-ttu-id="899b1-744"><a name="your-issue-arises-from-using-the-storage-emulator"></a>Problem wynika z przy użyciu emulatora magazynu dla rozwoju lub testowania</span><span class="sxs-lookup"><span data-stu-id="899b1-744"><a name="your-issue-arises-from-using-the-storage-emulator"></a>Your issue arises from using the storage emulator for development or test</span></span>
<span data-ttu-id="899b1-745">Zwykle użyć emulatora magazynu podczas tworzenia i testowania w celu uniknięcia wymaganie dla konta magazynu platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="899b1-745">You typically use the storage emulator during development and test to avoid the requirement for an Azure storage account.</span></span> <span data-ttu-id="899b1-746">Typowe problemy, które mogą wystąpić, gdy używasz emulatora magazynu są:</span><span class="sxs-lookup"><span data-stu-id="899b1-746">The common issues that can occur when you are using the storage emulator are:</span></span>

* <span data-ttu-id="899b1-747">[Funkcja "X" nie działa w emulatorze magazynu]</span><span class="sxs-lookup"><span data-stu-id="899b1-747">[Feature "X" is not working in the storage emulator]</span></span>
* <span data-ttu-id="899b1-748">[Błąd "wartość dla jednego z nagłówków HTTP nie jest w nieprawidłowym formacie" przy użyciu emulatora magazynu]</span><span class="sxs-lookup"><span data-stu-id="899b1-748">[Error "The value for one of the HTTP headers is not in the correct format" when using the storage emulator]</span></span>
* <span data-ttu-id="899b1-749">[Uruchomiony emulator magazynu wymaga uprawnień administracyjnych]</span><span class="sxs-lookup"><span data-stu-id="899b1-749">[Running the storage emulator requires administrative privileges]</span></span>

#### <span data-ttu-id="899b1-750"><a name="feature-X-is-not-working"></a>Funkcja "X" nie działa w emulatorze magazynu</span><span class="sxs-lookup"><span data-stu-id="899b1-750"><a name="feature-X-is-not-working"></a>Feature "X" is not working in the storage emulator</span></span>
<span data-ttu-id="899b1-751">Emulator magazynu nie obsługuje wszystkich funkcji usług magazynu Azure, takich jak usługa plików.</span><span class="sxs-lookup"><span data-stu-id="899b1-751">The storage emulator does not support all of the features of the Azure storage services such as the file service.</span></span> <span data-ttu-id="899b1-752">Więcej informacji można znaleźć w temacie [Use the Azure Storage Emulator for Development and Testing](storage-use-emulator.md) (Używanie emulatora usługi Azure Storage do programowania i testowania).</span><span class="sxs-lookup"><span data-stu-id="899b1-752">For more information, see [Use the Azure Storage Emulator for Development and Testing](storage-use-emulator.md).</span></span>

<span data-ttu-id="899b1-753">Dla tych funkcji, które nie obsługuje emulatora magazynu należy korzystać z usługi Azure storage w chmurze.</span><span class="sxs-lookup"><span data-stu-id="899b1-753">For those features that the storage emulator does not support, use the Azure storage service in the cloud.</span></span>

#### <span data-ttu-id="899b1-754"><a name="error-HTTP-header-not-correct-format"></a>Błąd "wartość dla jednego z nagłówków HTTP nie jest w nieprawidłowym formacie" przy użyciu emulatora magazynu</span><span class="sxs-lookup"><span data-stu-id="899b1-754"><a name="error-HTTP-header-not-correct-format"></a>Error "The value for one of the HTTP headers is not in the correct format" when using the storage emulator</span></span>
<span data-ttu-id="899b1-755">Podczas testowania aplikacji takich jak używać biblioteki klienta usługi Storage przed wywołań emulatora i metody Magazyn lokalny **CreateIfNotExists** zakończyć się niepowodzeniem z powodu błędu "wartość dla jednego z nagłówków HTTP nie jest w nieprawidłowym formacie."</span><span class="sxs-lookup"><span data-stu-id="899b1-755">You are testing your application that use the Storage Client Library against the local storage emulator and method calls such as **CreateIfNotExists** fail with the error message "The value for one of the HTTP headers is not in the correct format."</span></span> <span data-ttu-id="899b1-756">To ustawienie określa, czy wersja emulatora magazynu, którego używasz nie obsługuje wersji biblioteki klienta magazynu, którego używasz.</span><span class="sxs-lookup"><span data-stu-id="899b1-756">This indicates that the version of the storage emulator you are using does not support the version of the storage client library you are using.</span></span> <span data-ttu-id="899b1-757">Biblioteka klienta magazynu dodaje nagłówek **x-ms-version** do wszystkich żądań, które są możliwe.</span><span class="sxs-lookup"><span data-stu-id="899b1-757">The Storage Client Library adds the header **x-ms-version** to all the requests it makes.</span></span> <span data-ttu-id="899b1-758">Jeśli emulator magazynu nie rozpoznaje wartość **x-ms-version** nagłówka, odrzuca żądanie.</span><span class="sxs-lookup"><span data-stu-id="899b1-758">If the storage emulator does not recognize the value in the **x-ms-version** header, it rejects the request.</span></span>

<span data-ttu-id="899b1-759">Dzienniki klienta biblioteki magazynu umożliwia zobaczyć wartość **nagłówka x-ms-version** wysyła go.</span><span class="sxs-lookup"><span data-stu-id="899b1-759">You can use the Storage Library Client logs to see the value of the **x-ms-version header** it is sending.</span></span> <span data-ttu-id="899b1-760">Możesz również sprawdzić wartość **nagłówka x-ms-version** Jeśli używasz narzędzia Fiddler do śledzenia żądań od aplikacji klienta.</span><span class="sxs-lookup"><span data-stu-id="899b1-760">You can also see the value of the **x-ms-version header** if you use Fiddler to trace the requests from your client application.</span></span>

<span data-ttu-id="899b1-761">W tym scenariuszu zwykle występuje, gdy zainstalować i używać najnowszej wersji biblioteki klienta magazynu bez aktualizowania emulatora magazynu.</span><span class="sxs-lookup"><span data-stu-id="899b1-761">This scenario typically occurs if you install and use the latest version of the Storage Client Library without updating the storage emulator.</span></span> <span data-ttu-id="899b1-762">Należy zainstalować najnowszą wersję emulatora magazynu lub Użyj magazynu w chmurze zamiast emulator do projektowania i testowania.</span><span class="sxs-lookup"><span data-stu-id="899b1-762">You should either install the latest version of the storage emulator, or use cloud storage instead of the emulator for development and test.</span></span>

#### <span data-ttu-id="899b1-763"><a name="storage-emulator-requires-administrative-privileges"></a>Uruchomiony emulator magazynu wymaga uprawnień administracyjnych</span><span class="sxs-lookup"><span data-stu-id="899b1-763"><a name="storage-emulator-requires-administrative-privileges"></a>Running the storage emulator requires administrative privileges</span></span>
<span data-ttu-id="899b1-764">Zostanie wyświetlony monit o poświadczenia administratora po uruchomieniu emulatora magazynu.</span><span class="sxs-lookup"><span data-stu-id="899b1-764">You are prompted for administrator credentials when you run the storage emulator.</span></span> <span data-ttu-id="899b1-765">Dzieje się tak tylko, gdy emulator magazynu są inicjowanie po raz pierwszy.</span><span class="sxs-lookup"><span data-stu-id="899b1-765">This only occurs when you are initializing the storage emulator for the first time.</span></span> <span data-ttu-id="899b1-766">Po już zainicjować emulator magazynu, nie trzeba uprawnienia administracyjne, aby uruchomić go ponownie.</span><span class="sxs-lookup"><span data-stu-id="899b1-766">After you have initialized the storage emulator, you do not need administrative privileges to run it again.</span></span>

<span data-ttu-id="899b1-767">Więcej informacji można znaleźć w temacie [Use the Azure Storage Emulator for Development and Testing](storage-use-emulator.md) (Używanie emulatora usługi Azure Storage do programowania i testowania).</span><span class="sxs-lookup"><span data-stu-id="899b1-767">For more information, see [Use the Azure Storage Emulator for Development and Testing](storage-use-emulator.md).</span></span> <span data-ttu-id="899b1-768">Należy pamiętać, że można również zainicjować emulatora magazynu w programie Visual Studio, który będzie również wymagają uprawnień administratora.</span><span class="sxs-lookup"><span data-stu-id="899b1-768">Note that you can also initialize the storage emulator in Visual Studio, which will also require administrative privileges.</span></span>

### <span data-ttu-id="899b1-769"><a name="you-are-encountering-problems-installing-the-Windows-Azure-SDK"></a>Pojawiły się problemy z instalacją zestawu Azure SDK dla platformy .NET</span><span class="sxs-lookup"><span data-stu-id="899b1-769"><a name="you-are-encountering-problems-installing-the-Windows-Azure-SDK"></a>You are encountering problems installing the Azure SDK for .NET</span></span>
<span data-ttu-id="899b1-770">Podczas instalowania zestawu SDK, nie jest on spróbujesz zainstalować emulator magazynu na komputerze lokalnym.</span><span class="sxs-lookup"><span data-stu-id="899b1-770">When you try to install the SDK, it fails trying to install the storage emulator on your local machine.</span></span> <span data-ttu-id="899b1-771">Dziennik instalacji zawiera jeden z następujących komunikatów:</span><span class="sxs-lookup"><span data-stu-id="899b1-771">The installation log contains one of the following messages:</span></span>

* <span data-ttu-id="899b1-772">CAQuietExec: Błąd: nie można uzyskać dostępu do wystąpienia serwera SQL</span><span class="sxs-lookup"><span data-stu-id="899b1-772">CAQuietExec:  Error: Unable to access SQL instance</span></span>
* <span data-ttu-id="899b1-773">CAQuietExec: Błąd: nie można utworzyć bazy danych</span><span class="sxs-lookup"><span data-stu-id="899b1-773">CAQuietExec:  Error: Unable to create database</span></span>

<span data-ttu-id="899b1-774">Przyczyną jest problem z istniejącej instalacji LocalDB.</span><span class="sxs-lookup"><span data-stu-id="899b1-774">The cause is an issue with existing LocalDB installation.</span></span> <span data-ttu-id="899b1-775">Domyślnie emulator magazynu używa bazy danych LocalDB do utrwalenia danych podczas jego symuluje usług magazynu platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="899b1-775">By default, the storage emulator uses LocalDB to persist data when it simulates the Azure storage services.</span></span> <span data-ttu-id="899b1-776">Możesz resetować wystąpieniem LocalDB, uruchamiając następujące polecenia w oknie wiersza polecenia, zanim spróbujesz zainstalować zestawu SDK.</span><span class="sxs-lookup"><span data-stu-id="899b1-776">You can reset your LocalDB instance by running the following commands in a command-prompt window before trying to install the SDK.</span></span>

```
sqllocaldb stop v11.0
sqllocaldb delete v11.0
delete %USERPROFILE%\WAStorageEmulatorDb3*.*
sqllocaldb create v11.0
```

<span data-ttu-id="899b1-777">**Usunąć** polecenie usuwa stare pliki bazy danych z poprzedniej instalacji emulatora magazynu.</span><span class="sxs-lookup"><span data-stu-id="899b1-777">The **delete** command removes any old database files from previous installations of the storage emulator.</span></span>

### <span data-ttu-id="899b1-778"><a name="you-have-a-different-issue-with-a-storage-service"></a>Inny problem z usługą magazynu</span><span class="sxs-lookup"><span data-stu-id="899b1-778"><a name="you-have-a-different-issue-with-a-storage-service"></a>You have a different issue with a storage service</span></span>
<span data-ttu-id="899b1-779">Jeśli poprzednie sekcje dotyczące rozwiązywania problemów nie dołączaj są problemy z usługą Magazyn, należy przyjąć następujące podejście do diagnozowania i rozwiązywania problemu.</span><span class="sxs-lookup"><span data-stu-id="899b1-779">If the previous troubleshooting sections do not include the issue you are having with a storage service, you should adopt the following approach to diagnosing and troubleshooting your issue.</span></span>

* <span data-ttu-id="899b1-780">Sprawdź Twoje metryki, aby sprawdzić, czy zmiany z Twojej oczekiwane zachowanie linii bazowej.</span><span class="sxs-lookup"><span data-stu-id="899b1-780">Check your metrics to see if there is any change from your expected base-line behavior.</span></span> <span data-ttu-id="899b1-781">Z metryki można określić, czy problem jest przejściowy lub stałe i jakie operacje magazynu problem ma wpływ na.</span><span class="sxs-lookup"><span data-stu-id="899b1-781">From the metrics, you may be able to determine whether the issue is transient or permanent, and which storage operations the issue is affecting.</span></span>
* <span data-ttu-id="899b1-782">Można użyć informacji metryki ułatwiające wyszukiwanie danych dziennika bardziej szczegółowe informacje o błędach występujących po stronie serwera.</span><span class="sxs-lookup"><span data-stu-id="899b1-782">You can use the metrics information to help you search your server-side log data for more detailed information about any errors that are occurring.</span></span> <span data-ttu-id="899b1-783">Te informacje mogą pomóc w Rozwiązywanie problemów i rozwiązania problemu.</span><span class="sxs-lookup"><span data-stu-id="899b1-783">This information may help you troubleshoot and resolve the issue.</span></span>
* <span data-ttu-id="899b1-784">Jeśli informacje w dziennikach po stronie serwera nie wystarcza do rozwiązania problemu pomyślnie, można użyć dzienników po stronie klienta biblioteki klienta usługi Storage do sprawdzania, czy zachowanie aplikacji klienckiej i narzędzi, takich jak Fiddler, programu Wireshark i programu Microsoft Message Analyzer do badania sieci.</span><span class="sxs-lookup"><span data-stu-id="899b1-784">If the information in the server-side logs is not sufficient to troubleshoot the issue successfully, you can use the Storage Client Library client-side logs to investigate the behavior of your client application, and tools such as Fiddler, Wireshark, and Microsoft Message Analyzer to investigate your network.</span></span>

<span data-ttu-id="899b1-785">Aby uzyskać więcej informacji o używaniu narzędzia Fiddler, zobacz "[dodatek 1: przy użyciu programu Fiddler do przechwytywania ruchu HTTP i HTTPS]."</span><span class="sxs-lookup"><span data-stu-id="899b1-785">For more information about using Fiddler, see "[Appendix 1: Using Fiddler to capture HTTP and HTTPS traffic]."</span></span>

<span data-ttu-id="899b1-786">Aby uzyskać więcej informacji o używaniu programu Wireshark, zobacz "[dodatek 2: do przechwytywania ruchu sieciowego przy użyciu programu Wireshark]."</span><span class="sxs-lookup"><span data-stu-id="899b1-786">For more information about using Wireshark, see "[Appendix 2: Using Wireshark to capture network traffic]."</span></span>

<span data-ttu-id="899b1-787">Aby uzyskać więcej informacji o korzystaniu z programu Microsoft Message Analyzer, zobacz "[dodatku 3: do przechwytywania ruchu sieciowego przy użyciu programu Microsoft Message Analyzer]."</span><span class="sxs-lookup"><span data-stu-id="899b1-787">For more information about using Microsoft Message Analyzer, see "[Appendix 3: Using Microsoft Message Analyzer to capture network traffic]."</span></span>

## <span data-ttu-id="899b1-788"><a name="appendices"></a>Dodatki</span><span class="sxs-lookup"><span data-stu-id="899b1-788"><a name="appendices"></a>Appendices</span></span>
<span data-ttu-id="899b1-789">Dodatki opisano kilka narzędzi, które mogą być przydatne podczas diagnozowania i rozwiązywania problemów z magazynu Azure (i innych usług).</span><span class="sxs-lookup"><span data-stu-id="899b1-789">The appendices describe several tools that you may find useful when you are diagnosing and troubleshooting issues with Azure Storage (and other services).</span></span> <span data-ttu-id="899b1-790">Te narzędzia nie są częścią usługi Azure Storage i niektóre produkty innych firm.</span><span class="sxs-lookup"><span data-stu-id="899b1-790">These tools are not part of Azure Storage and some are third-party products.</span></span> <span data-ttu-id="899b1-791">Tak narzędzia omówione w tych dodatki nie są objęte każdej umowy pomocy technicznej, które mogą wiązać Ciebie z Microsoft Azure lub usługi Azure Storage, a więc w ramach procesu oceny należy sprawdzić licencjonowania i pomocy technicznej opcje dostępne od dostawców tych narzędzi.</span><span class="sxs-lookup"><span data-stu-id="899b1-791">As such, the tools discussed in these appendices are not covered by any support agreement you may have with Microsoft Azure or Azure Storage, and therefore as part of your evaluation process you should examine the licensing and support options available from the providers of these tools.</span></span>

### <span data-ttu-id="899b1-792"><a name="appendix-1"></a>Dodatek 1: Przy użyciu programu Fiddler do przechwytywania ruchu HTTP i HTTPS</span><span class="sxs-lookup"><span data-stu-id="899b1-792"><a name="appendix-1"></a>Appendix 1: Using Fiddler to capture HTTP and HTTPS traffic</span></span>
<span data-ttu-id="899b1-793">[Fiddler](http://www.telerik.com/fiddler) stanowi przydatne narzędzie do analizy ruchu HTTP i HTTPS między aplikacji klienckiej i usługi magazynu Azure są używane.</span><span class="sxs-lookup"><span data-stu-id="899b1-793">[Fiddler](http://www.telerik.com/fiddler) is a useful tool for analyzing the HTTP and HTTPS traffic between your client application and the Azure storage service you are using.</span></span>

> [!NOTE]
> <span data-ttu-id="899b1-794">Fiddler mogącego zdekodować ruchu HTTPS. należy przeczytać dokumentacji Fiddler uważnie, aby zrozumieć, jak robi to i Niezrozumienie konsekwencji zabezpieczeń.</span><span class="sxs-lookup"><span data-stu-id="899b1-794">Fiddler can decode HTTPS traffic; you should read the Fiddler documentation carefully to understand how it does this, and to understand the security implications.</span></span>
> 
> 

<span data-ttu-id="899b1-795">Ten dodatek zawiera krótki przewodnik konfigurowania narzędzia Fiddler do przechwytywania ruchu między komputer lokalny, w którym zainstalowano narzędzia Fiddler i usługi magazynu Azure.</span><span class="sxs-lookup"><span data-stu-id="899b1-795">This appendix provides a brief walkthrough of how to configure Fiddler to capture traffic between the local machine where you have installed Fiddler and the Azure storage services.</span></span>

<span data-ttu-id="899b1-796">Po uruchomieniu narzędzia Fiddler rozpocznie Przechwytywanie ruchu HTTP i HTTPS na komputerze lokalnym.</span><span class="sxs-lookup"><span data-stu-id="899b1-796">After you have launched Fiddler, it will begin capturing HTTP and HTTPS traffic on your local machine.</span></span> <span data-ttu-id="899b1-797">Oto niektóre przydatne polecenia sterujące Fiddler:</span><span class="sxs-lookup"><span data-stu-id="899b1-797">The following are some useful commands for controlling Fiddler:</span></span>

* <span data-ttu-id="899b1-798">Zatrzymaj i uruchom Przechwytywanie ruchu.</span><span class="sxs-lookup"><span data-stu-id="899b1-798">Stop and start capturing traffic.</span></span> <span data-ttu-id="899b1-799">W menu głównym, przejdź do **pliku** , a następnie kliknij przycisk **przechwytywania ruchu** Przełącz ustawienie opcji przechwytywania włączać i wyłączać.</span><span class="sxs-lookup"><span data-stu-id="899b1-799">On the main menu, go to **File** and then click **Capture Traffic** to toggle capturing on and off.</span></span>
* <span data-ttu-id="899b1-800">Zapisz przechwycone dane o ruchu.</span><span class="sxs-lookup"><span data-stu-id="899b1-800">Save captured traffic data.</span></span> <span data-ttu-id="899b1-801">W menu głównym, przejdź do **pliku**, kliknij przycisk **zapisać**, a następnie kliknij przycisk **wszystkie sesje**: dzięki temu można zapisać dane w pliku archiwum sesji.</span><span class="sxs-lookup"><span data-stu-id="899b1-801">On the main menu, go to **File**, click **Save**, and then click **All Sessions**: this enables you to save the traffic in a Session Archive file.</span></span> <span data-ttu-id="899b1-802">Załaduj ponownie archiwum sesji później do analizy lub wysłać żądanie pomocy technicznej firmy Microsoft.</span><span class="sxs-lookup"><span data-stu-id="899b1-802">You can reload a Session Archive later for analysis, or send it if requested to Microsoft support.</span></span>

<span data-ttu-id="899b1-803">Aby ograniczyć ilość ruchu sieciowego, który przechwytuje Fiddler, możesz użyć filtrów, które są konfigurowane w **filtry** kartę. Poniższy zrzut ekranu przedstawia filtr, który przechwytuje tylko ruch wysyłany do **contosoemaildist.table.core.windows.net** końcowego magazynu:</span><span class="sxs-lookup"><span data-stu-id="899b1-803">To limit the amount of traffic that Fiddler captures, you can use filters that you configure in the **Filters** tab. The following screenshot shows a filter that captures only traffic sent to the **contosoemaildist.table.core.windows.net** storage endpoint:</span></span>

![][5]

### <span data-ttu-id="899b1-804"><a name="appendix-2"></a>Dodatek 2: Przy użyciu programu Wireshark do przechwytywania ruchu sieciowego</span><span class="sxs-lookup"><span data-stu-id="899b1-804"><a name="appendix-2"></a>Appendix 2: Using Wireshark to capture network traffic</span></span>
<span data-ttu-id="899b1-805">[Wireshark](http://www.wireshark.org/) jest analizatora protokołów sieciowych, który umożliwia wyświetlenie informacji szczegółowych pakietów dla szerokiego zakresu protokołów sieciowych.</span><span class="sxs-lookup"><span data-stu-id="899b1-805">[Wireshark](http://www.wireshark.org/) is a network protocol analyzer that enables you to view detailed packet information for a wide range of network protocols.</span></span>

<span data-ttu-id="899b1-806">Poniższej procedury przedstawiono sposób przechwytywania pakietów szczegółowe informacje o ruchu z komputera lokalnego zainstalowaną Wireshark usłudze tabel na koncie magazynu Azure.</span><span class="sxs-lookup"><span data-stu-id="899b1-806">The following procedure shows you how to capture detailed packet information for traffic from the local machine where you installed Wireshark to the table service in your Azure storage account.</span></span>

1. <span data-ttu-id="899b1-807">Uruchamianie programu Wireshark na komputerze lokalnym.</span><span class="sxs-lookup"><span data-stu-id="899b1-807">Launch Wireshark on your local machine.</span></span>
2. <span data-ttu-id="899b1-808">W **Start** wybierz lokalnego interfejsu sieciowego lub interfejsów, które są połączone z Internetem.</span><span class="sxs-lookup"><span data-stu-id="899b1-808">In the **Start** section, select the local network interface or interfaces that are connected to the internet.</span></span>
3. <span data-ttu-id="899b1-809">Kliknij przycisk **przechwytywania opcje**.</span><span class="sxs-lookup"><span data-stu-id="899b1-809">Click **Capture Options**.</span></span>
4. <span data-ttu-id="899b1-810">Dodaj filtr do **filtr przechwytywania** pola tekstowego.</span><span class="sxs-lookup"><span data-stu-id="899b1-810">Add a filter to the **Capture Filter** textbox.</span></span> <span data-ttu-id="899b1-811">Na przykład **hosta contosoemaildist.table.core.windows.net** skonfiguruje Wireshark przechwytywania tylko pakiety wysyłane do lub z punkt końcowy usługi tabel w **contosoemaildist** konta magazynu.</span><span class="sxs-lookup"><span data-stu-id="899b1-811">For example, **host contosoemaildist.table.core.windows.net** will configure Wireshark to capture only packets sent to or from the table service endpoint in the **contosoemaildist** storage account.</span></span> <span data-ttu-id="899b1-812">Zapoznaj się z [pełną listę filtrów przechwytywania](http://wiki.wireshark.org/CaptureFilters).</span><span class="sxs-lookup"><span data-stu-id="899b1-812">Check out the [complete list of Capture Filters](http://wiki.wireshark.org/CaptureFilters).</span></span>
   
   ![][6]
5. <span data-ttu-id="899b1-813">Kliknij przycisk **Start**.</span><span class="sxs-lookup"><span data-stu-id="899b1-813">Click **Start**.</span></span> <span data-ttu-id="899b1-814">Wireshark teraz Przechwyć wszystkie pakiety wysyłania do lub z punkt końcowy usługi tabel, ponieważ na komputerze lokalnym za pomocą aplikacji klienta.</span><span class="sxs-lookup"><span data-stu-id="899b1-814">Wireshark will now capture all the packets send to or from the table service endpoint as you use your client application on your local machine.</span></span>
6. <span data-ttu-id="899b1-815">Po zakończeniu, kliknij menu głównego **przechwytywania** , a następnie **zatrzymać**.</span><span class="sxs-lookup"><span data-stu-id="899b1-815">When you have finished, on the main menu click **Capture** and then **Stop**.</span></span>
7. <span data-ttu-id="899b1-816">Aby zapisać przechwycone dane w pliku przechwytywania programu Wireshark, w menu głównym kliknij **pliku** , a następnie **zapisać**.</span><span class="sxs-lookup"><span data-stu-id="899b1-816">To save the captured data in a Wireshark Capture File, on the main menu click **File** and then **Save**.</span></span>

<span data-ttu-id="899b1-817">WireShark wyróżnione wszelkie błędy, które istnieją w **packetlist** okna.</span><span class="sxs-lookup"><span data-stu-id="899b1-817">WireShark will highlight any errors that exist in the **packetlist** window.</span></span> <span data-ttu-id="899b1-818">Można również użyć **Expert informacji** okna (kliknij **Analizuj**, następnie **Expert informacji**) do wyświetlania podsumowania błędów i ostrzeżeń.</span><span class="sxs-lookup"><span data-stu-id="899b1-818">You can also use the **Expert Info** window (click **Analyze**, then **Expert Info**) to view a summary of errors and warnings.</span></span>

![][7]

<span data-ttu-id="899b1-819">Możliwe jest również wybranie do wyświetlania danych TCP, jak warstwa aplikacji widzi ona danych TCP prawym przyciskiem myszy i wybierając **wykonaj strumieniem TCP**.</span><span class="sxs-lookup"><span data-stu-id="899b1-819">You can also chose to view the TCP data as the application layer sees it by right-clicking on the TCP data and selecting **Follow TCP Stream**.</span></span> <span data-ttu-id="899b1-820">Jest to szczególnie przydatne, jeśli przechwycić z zrzutu bez pliku przechwytywania.</span><span class="sxs-lookup"><span data-stu-id="899b1-820">This is particularly useful if you captured your dump without a capture filter.</span></span> <span data-ttu-id="899b1-821">Aby uzyskać więcej informacji, zobacz [następujących strumienie TCP](http://www.wireshark.org/docs/wsug_html_chunked/ChAdvFollowTCPSection.html).</span><span class="sxs-lookup"><span data-stu-id="899b1-821">For more information, see [Following TCP Streams](http://www.wireshark.org/docs/wsug_html_chunked/ChAdvFollowTCPSection.html).</span></span>

![][8]

> [!NOTE]
> <span data-ttu-id="899b1-822">Aby uzyskać więcej informacji o używaniu programu Wireshark, zobacz [przewodnik użytkowników programu Wireshark](http://www.wireshark.org/docs/wsug_html_chunked).</span><span class="sxs-lookup"><span data-stu-id="899b1-822">For more information about using Wireshark, see the [Wireshark Users Guide](http://www.wireshark.org/docs/wsug_html_chunked).</span></span>
> 
> 

### <span data-ttu-id="899b1-823"><a name="appendix-3"></a>Dodatek 3: Przy użyciu programu Microsoft Message Analyzer do przechwytywania ruchu sieciowego</span><span class="sxs-lookup"><span data-stu-id="899b1-823"><a name="appendix-3"></a>Appendix 3: Using Microsoft Message Analyzer to capture network traffic</span></span>
<span data-ttu-id="899b1-824">Możesz użyć programu Microsoft Message Analyzer do przechwytywania ruchu HTTP i HTTPS w podobny sposób jak Fiddler i przechwytywania ruchu sieciowego w podobny sposób jak Wireshark.</span><span class="sxs-lookup"><span data-stu-id="899b1-824">You can use Microsoft Message Analyzer to capture HTTP and HTTPS traffic in a similar way to Fiddler, and capture network traffic in a similar way to Wireshark.</span></span>

#### <a name="configure-a-web-tracing-session-using-microsoft-message-analyzer"></a><span data-ttu-id="899b1-825">Konfigurowanie śledzenia sesji sieci web przy użyciu programu Microsoft Message Analyzer</span><span class="sxs-lookup"><span data-stu-id="899b1-825">Configure a web tracing session using Microsoft Message Analyzer</span></span>
<span data-ttu-id="899b1-826">Aby skonfigurować sesję śledzenia sieci web dla ruchu HTTP i HTTPS przy użyciu programu Microsoft Message Analyzer, uruchom aplikację Microsoft Message Analyzer, a następnie na **pliku** menu, kliknij przycisk **przechwytywania/Trace**.</span><span class="sxs-lookup"><span data-stu-id="899b1-826">To configure a web tracing session for HTTP and HTTPS traffic using Microsoft Message Analyzer, run the Microsoft Message Analyzer application and then on the **File** menu, click **Capture/Trace**.</span></span> <span data-ttu-id="899b1-827">Na liście dostępnych śledzenia scenariuszy, wybierz **serwera Proxy sieci Web**.</span><span class="sxs-lookup"><span data-stu-id="899b1-827">In the list of available trace scenarios, select **Web Proxy**.</span></span> <span data-ttu-id="899b1-828">Następnie w **konfiguracji ze scenariusza śledzenia** panelu w **HostnameFilter** pole tekstowe, Dodaj nazwy punktów końcowych magazynu (można odszukać te nazwy w [portalu Azure](https://portal.azure.com)).</span><span class="sxs-lookup"><span data-stu-id="899b1-828">Then in the **Trace Scenario Configuration** panel, in the **HostnameFilter** textbox, add the names of your storage endpoints (you can look up these names in the [Azure portal](https://portal.azure.com)).</span></span> <span data-ttu-id="899b1-829">Na przykład jeśli nazwą konta magazynu Azure jest **contosodata**, należy dodać następujące polecenie, aby **HostnameFilter** pole tekstowe:</span><span class="sxs-lookup"><span data-stu-id="899b1-829">For example, if the name of your Azure storage account is **contosodata**, you should add the following to the **HostnameFilter** textbox:</span></span>

```
contosodata.blob.core.windows.net contosodata.table.core.windows.net contosodata.queue.core.windows.net
```

> [!NOTE]
> <span data-ttu-id="899b1-830">Znak odstępu oddziela nazwy hostów.</span><span class="sxs-lookup"><span data-stu-id="899b1-830">A space character separates the hostnames.</span></span>
> 
> 

<span data-ttu-id="899b1-831">Po osiągnięciu gotowości rozpocząć zbieranie danych śledzenia, kliknij przycisk **Start With** przycisku.</span><span class="sxs-lookup"><span data-stu-id="899b1-831">When you are ready to start collecting trace data, click the **Start With** button.</span></span>

<span data-ttu-id="899b1-832">Aby uzyskać więcej informacji na temat programu Microsoft Message Analyzer **serwera Proxy sieci Web** śledzenia, zobacz [dostawcy Microsoft-PEF-WebProxy](http://technet.microsoft.com/library/jj674814.aspx).</span><span class="sxs-lookup"><span data-stu-id="899b1-832">For more information about the Microsoft Message Analyzer **Web Proxy** trace, see [Microsoft-PEF-WebProxy Provider](http://technet.microsoft.com/library/jj674814.aspx).</span></span>

<span data-ttu-id="899b1-833">Wbudowane **serwera Proxy sieci Web** śledzenia w programie Microsoft Message Analyzer jest oparta na Fiddler; można przechwytywać ruch HTTPS po stronie klienta i wyświetlić wiadomości niezaszyfrowane HTTPS.</span><span class="sxs-lookup"><span data-stu-id="899b1-833">The built-in **Web Proxy** trace in Microsoft Message Analyzer is based on Fiddler; it can capture client-side HTTPS traffic and display unencrypted HTTPS messages.</span></span> <span data-ttu-id="899b1-834">**Serwera Proxy sieci Web** śledzenia działa przez konfigurowanie lokalnego serwera proxy dla całego ruchu HTTP i HTTPS, który umożliwia on dostęp do wiadomości niezaszyfrowane.</span><span class="sxs-lookup"><span data-stu-id="899b1-834">The **Web Proxy** trace works by configuring a local proxy for all HTTP and HTTPS traffic that gives it access to unencrypted messages.</span></span>

#### <a name="diagnosing-network-issues-using-microsoft-message-analyzer"></a><span data-ttu-id="899b1-835">Diagnozowanie problemów z siecią przy użyciu programu Microsoft Message Analyzer</span><span class="sxs-lookup"><span data-stu-id="899b1-835">Diagnosing network issues using Microsoft Message Analyzer</span></span>
<span data-ttu-id="899b1-836">Oprócz przy użyciu programu Microsoft Message Analyzer **serwera Proxy sieci Web** śledzenia do przechwytywania szczegóły ruchu HTTP/HTTPs między aplikacji klienckiej i usługi magazynu, można również użyć wbudowanych **lokalnego warstwy łącza** śledzenia do przechwycenia informacji pakietów sieciowych.</span><span class="sxs-lookup"><span data-stu-id="899b1-836">In addition to using the Microsoft Message Analyzer **Web Proxy** trace to capture details of the HTTP/HTTPs traffic between the client application and the storage service, you can also use the built-in **Local Link Layer** trace to capture network packet information.</span></span> <span data-ttu-id="899b1-837">Ta umożliwia przechwytywanie danych podobny do przechwycenia z programu Wireshark i diagnozowania sieci problemy takie jak porzuconych pakietów.</span><span class="sxs-lookup"><span data-stu-id="899b1-837">This enables you to capture data similar to that which you can capture with Wireshark, and diagnose network issues such as dropped packets.</span></span>

<span data-ttu-id="899b1-838">Poniższy zrzut ekranu przedstawia przykład **lokalnego warstwy łącza** śledzenia z niektórymi **informacyjny** w wiadomości **DiagnosisTypes** kolumny.</span><span class="sxs-lookup"><span data-stu-id="899b1-838">The following screenshot shows an example **Local Link Layer** trace with some **informational** messages in the **DiagnosisTypes** column.</span></span> <span data-ttu-id="899b1-839">Kliknięcie ikony w **DiagnosisTypes** kolumna zawiera treść komunikatu.</span><span class="sxs-lookup"><span data-stu-id="899b1-839">Clicking on an icon in the **DiagnosisTypes** column shows the details of the message.</span></span> <span data-ttu-id="899b1-840">W tym przykładzie serwera retransmitowane wiadomości w #305, ponieważ nie otrzymano potwierdzenia z klienta:</span><span class="sxs-lookup"><span data-stu-id="899b1-840">In this example, the server retransmitted message #305 because it did not receive an acknowledgement from the client:</span></span>

![][9]

<span data-ttu-id="899b1-841">Utworzenie sesji śledzenia programu Microsoft Message Analyzer, można określić filtrów w celu zmniejszenia szumu w śledzeniu.</span><span class="sxs-lookup"><span data-stu-id="899b1-841">When you create the trace session in Microsoft Message Analyzer, you can specify filters to reduce the amount of noise in the trace.</span></span> <span data-ttu-id="899b1-842">Na **przechwytywania / Trace** służącego do określania śledzenia, kliknij na **Konfiguruj** znajdujący się obok podsekcji **Microsoft-Windows-NDIS-PacketCapture**.</span><span class="sxs-lookup"><span data-stu-id="899b1-842">On the **Capture / Trace** page where you define the trace, click on the **Configure** link next to **Microsoft-Windows-NDIS-PacketCapture**.</span></span> <span data-ttu-id="899b1-843">Poniższy zrzut ekranu przedstawia konfigurację filtrujące ruch TCP dla adresów IP trzy usług magazynu:</span><span class="sxs-lookup"><span data-stu-id="899b1-843">The following screenshot shows a configuration that filters TCP traffic for the IP addresses of three storage services:</span></span>

![][10]

<span data-ttu-id="899b1-844">Aby uzyskać więcej informacji o trace Microsoft komunikatów analizatora lokalnego warstwy łącza, zobacz [dostawcy Microsoft-PEF-NDIS-PacketCapture](http://technet.microsoft.com/library/jj659264.aspx).</span><span class="sxs-lookup"><span data-stu-id="899b1-844">For more information about the Microsoft Message Analyzer Local Link Layer trace, see [Microsoft-PEF-NDIS-PacketCapture Provider](http://technet.microsoft.com/library/jj659264.aspx).</span></span>

### <span data-ttu-id="899b1-845"><a name="appendix-4"></a>Dodatek 4: Przy użyciu programu Excel, aby wyświetlić metryki i dane dziennika</span><span class="sxs-lookup"><span data-stu-id="899b1-845"><a name="appendix-4"></a>Appendix 4: Using Excel to view metrics and log data</span></span>
<span data-ttu-id="899b1-846">Wiele narzędzi umożliwiają pobranie metryki magazynu danych z magazynu tabel platformy Azure w formacie rozdzielanym, który ułatwia załadować dane do programu Excel do wyświetlania i analizy.</span><span class="sxs-lookup"><span data-stu-id="899b1-846">Many tools enable you to download the Storage Metrics data from Azure table storage in a delimited format that makes it easy to load the data into Excel for viewing and analysis.</span></span> <span data-ttu-id="899b1-847">Magazyn rejestrowania danych z magazynu obiektów blob platformy Azure jest już w formacie rozdzielanym, który można załadować do programu Excel.</span><span class="sxs-lookup"><span data-stu-id="899b1-847">Storage Logging data from Azure blob storage is already in a delimited format that you can load into Excel.</span></span> <span data-ttu-id="899b1-848">Jednak należy dodać odpowiednie nagłówki kolumn na podstawie informacji w [Format dziennika analityka magazynu](http://msdn.microsoft.com/library/azure/hh343259.aspx) i [schemat tabeli metryki analityka magazynu](http://msdn.microsoft.com/library/azure/hh343264.aspx).</span><span class="sxs-lookup"><span data-stu-id="899b1-848">However, you will need to add appropriate column headings based in the information at [Storage Analytics Log Format](http://msdn.microsoft.com/library/azure/hh343259.aspx) and [Storage Analytics Metrics Table Schema](http://msdn.microsoft.com/library/azure/hh343264.aspx).</span></span>

<span data-ttu-id="899b1-849">Aby zaimportować rejestrowania magazynu danych do programu Excel po pobraniu go z magazynu obiektów blob:</span><span class="sxs-lookup"><span data-stu-id="899b1-849">To import your Storage Logging data into Excel after you download it from blob storage:</span></span>

* <span data-ttu-id="899b1-850">Na **danych** menu, kliknij przycisk **tekst z**.</span><span class="sxs-lookup"><span data-stu-id="899b1-850">On the **Data** menu, click **From Text**.</span></span>
* <span data-ttu-id="899b1-851">Przejdź do pliku dziennika, które chcesz wyświetlić, a następnie kliknij przycisk **importu**.</span><span class="sxs-lookup"><span data-stu-id="899b1-851">Browse to the log file you want to view and click **Import**.</span></span>
* <span data-ttu-id="899b1-852">W kroku 1 **Kreatora importu tekstu**, wybierz pozycję **rozdzielany**.</span><span class="sxs-lookup"><span data-stu-id="899b1-852">On step 1 of the **Text Import Wizard**, select **Delimited**.</span></span>

<span data-ttu-id="899b1-853">W kroku 1 **Kreatora importu tekstu**, wybierz pozycję **średnik** jako ogranicznik tylko i wybierz polecenie podwójnego cudzysłowu jako **kwalifikator tekstu**.</span><span class="sxs-lookup"><span data-stu-id="899b1-853">On step 1 of the **Text Import Wizard**, select **Semicolon** as the only delimiter and choose double-quote as the **Text qualifier**.</span></span> <span data-ttu-id="899b1-854">Następnie kliknij przycisk **Zakończ** i wybierz lokalizację danych w skoroszycie.</span><span class="sxs-lookup"><span data-stu-id="899b1-854">Then click **Finish** and choose where to place the data in your workbook.</span></span>

### <span data-ttu-id="899b1-855"><a name="appendix-5"></a>Dodatek 5: Monitorowanie za pomocą usługi Application Insights dla programu Visual Studio Team Services</span><span class="sxs-lookup"><span data-stu-id="899b1-855"><a name="appendix-5"></a>Appendix 5: Monitoring with Application Insights for Visual Studio Team Services</span></span>
<span data-ttu-id="899b1-856">Umożliwia także funkcji usługi Application Insights dla programu Visual Studio Team Services jako część wydajności i dostępności monitorowania.</span><span class="sxs-lookup"><span data-stu-id="899b1-856">You can also use the Application Insights feature for Visual Studio Team Services as part of your performance and availability monitoring.</span></span> <span data-ttu-id="899b1-857">To narzędzie można:</span><span class="sxs-lookup"><span data-stu-id="899b1-857">This tool can:</span></span>

* <span data-ttu-id="899b1-858">Upewnij się, że usługi sieci web jest dostępna i elastyczny.</span><span class="sxs-lookup"><span data-stu-id="899b1-858">Make sure your web service is available and responsive.</span></span> <span data-ttu-id="899b1-859">Czy aplikacja jest witryną sieci web lub aplikacji urządzenia, który używa usługi sieci web, jego test adresu URL co kilka minut z lokalizacji na całym świecie i informacją o tym, jeśli występuje problem.</span><span class="sxs-lookup"><span data-stu-id="899b1-859">Whether your app is a web site or a device app that uses a web service, it can test your URL every few minutes from locations around the world, and let you know if there's a problem.</span></span>
* <span data-ttu-id="899b1-860">Szybkie diagnozowanie problemów z wydajnością ani wyjątków w usłudze sieci web.</span><span class="sxs-lookup"><span data-stu-id="899b1-860">Quickly diagnose any performance issues or exceptions in your web service.</span></span> <span data-ttu-id="899b1-861">Dowiedz się, jeśli są rozciągnięcia procesora CPU lub innych zasobów, odczytać śladów stosu wyjątków i łatwo wyszukiwać dane dziennika śledzenia.</span><span class="sxs-lookup"><span data-stu-id="899b1-861">Find out if CPU or other resources are being stretched, get stack traces from exceptions, and easily search through log traces.</span></span> <span data-ttu-id="899b1-862">Jeżeli wydajność aplikacji spadnie poniżej akceptowalnego limity, firma Microsoft można wysłać wiadomość e-mail.</span><span class="sxs-lookup"><span data-stu-id="899b1-862">If the app's performance drops below acceptable limits, we can send you an email.</span></span> <span data-ttu-id="899b1-863">Można monitorować usługi sieci web .NET i Java.</span><span class="sxs-lookup"><span data-stu-id="899b1-863">You can monitor both .NET and Java web services.</span></span>

<span data-ttu-id="899b1-864">Więcej informacji można znaleźć [co to jest usługa Application Insights?](../../application-insights/app-insights-overview.md).</span><span class="sxs-lookup"><span data-stu-id="899b1-864">You can find more information at [What is Application Insights?](../../application-insights/app-insights-overview.md).</span></span>

<!--Anchors-->
[Wprowadzenie]: #introduction
[Jak jest zorganizowana w tym przewodniku]: #how-this-guide-is-organized

[monitorowania usługi magazynu]: #monitoring-your-storage-service
[Monitorowanie kondycji usługi]: #monitoring-service-health
[Monitorowanie wydajności]: #monitoring-capacity
[Monitorowanie dostępności]: #monitoring-availability
[Monitorowanie wydajności]: #monitoring-performance

[diagnozowanie problemów z magazynowaniem]: #diagnosing-storage-issues
[Problemy z usługi kondycji]: #service-health-issues
[Problemy z wydajnością]: #performance-issues
[Diagnozowanie błędów]: #diagnosing-errors
[Problemy z emulatora magazynu]: #storage-emulator-issues
[Narzędzia rejestrowania magazynu]: #storage-logging-tools
[Przy użyciu narzędzia rejestracji w sieci]: #using-network-logging-tools

[śledzenia End-to-end]: #end-to-end-tracing
[Korelowanie dane dziennika]: #correlating-log-data
[Identyfikator żądania klienta]: #client-request-id
[identyfikator żądania serwera]: #server-request-id
[Znaczniki czasu]: #timestamps

[wskazówki rozwiązywania problemów]: #troubleshooting-guidance
[metryki pokazują AverageE2ELatency wysoki i niski AverageServerLatency]: #metrics-show-high-AverageE2ELatency-and-low-AverageServerLatency
[Metryki wskazują niską wartość AverageE2ELatency i niską wartość AverageServerLatency, ale na kliencie występuje duże opóźnienie]: #metrics-show-low-AverageE2ELatency-and-low-AverageServerLatency
[Metryki wskazują wysoką wartość AverageServerLatency]: #metrics-show-high-AverageServerLatency
[Występują nieoczekiwane opóźnienia w dostarczaniu komunikatów w kolejce]: #you-are-experiencing-unexpected-delays-in-message-delivery

[metryki spowodować wzrost PercentThrottlingError]: #metrics-show-an-increase-in-PercentThrottlingError
[Przejściowa wzrost PercentThrottlingError]: #transient-increase-in-PercentThrottlingError
[Stałe zwiększanie PercentThrottlingError błąd]: #permanent-increase-in-PercentThrottlingError
[metryki spowodować wzrost PercentTimeoutError]: #metrics-show-an-increase-in-PercentTimeoutError
[Metryki wskazują wzrost wartości PercentNetworkError]: #metrics-show-an-increase-in-PercentNetworkError

[Klient odbiera komunikaty HTTP 403 (Dostęp zabroniony)]: #the-client-is-receiving-403-messages
[Klient odbiera komunikaty HTTP 404 (nie znaleziono)]: #the-client-is-receiving-404-messages
[Klient lub inny proces wcześniej usunięty obiekt]: #client-previously-deleted-the-object
[Problem autoryzacji dostępu sygnatury dostępu Współdzielonego]: #SAS-authorization-issue
[Kod JavaScript po stronie klienta nie ma uprawnień dostępu do tego obiektu]: #JavaScript-code-does-not-have-permission
[Błąd sieci]: #network-failure
[Klient odbiera komunikaty HTTP 409 (konflikt)]: #the-client-is-receiving-409-messages

[metryki pokazują PercentSuccess niskim lub wpisy dziennika analytics ma operacji ze stanem transakcji ClientOtherErrors]: #metrics-show-low-percent-success
[Metryki pojemności Pokaż nieoczekiwane zwiększenie wykorzystania pojemności magazynu]: #capacity-metrics-show-an-unexpected-increase
[Występują nieoczekiwane ponowne uruchomienie maszyn wirtualnych, które mają wiele wirtualnych dysków twardych dołączonych]: #you-are-experiencing-unexpected-reboots
[Problem wynika z przy użyciu emulatora magazynu dla rozwoju lub testowania]: #your-issue-arises-from-using-the-storage-emulator
[Funkcja "X" nie działa w emulatorze magazynu]: #feature-X-is-not-working
[Błąd "wartość dla jednego z nagłówków HTTP nie jest w nieprawidłowym formacie" przy użyciu emulatora magazynu]: #error-HTTP-header-not-correct-format
[Uruchomiony emulator magazynu wymaga uprawnień administracyjnych]: #storage-emulator-requires-administrative-privileges
[Pojawiły się problemy z instalacją zestawu Azure SDK dla platformy .NET]: #you-are-encountering-problems-installing-the-Windows-Azure-SDK
[Inny problem z usługą magazynu]: #you-have-a-different-issue-with-a-storage-service

[dodatki]: #appendices
[dodatek 1: przy użyciu programu Fiddler do przechwytywania ruchu HTTP i HTTPS]: #appendix-1
[dodatek 2: do przechwytywania ruchu sieciowego przy użyciu programu Wireshark]: #appendix-2
[dodatku 3: do przechwytywania ruchu sieciowego przy użyciu programu Microsoft Message Analyzer]: #appendix-3
[Dodatek 4: Przy użyciu programu Excel, aby wyświetlić metryki i dane dziennika]: #appendix-4
[Dodatek 5: Monitorowanie za pomocą usługi Application Insights dla programu Visual Studio Team Services]: #appendix-5

<!--Image references-->
[1]: ./media/storage-monitoring-diagnosing-troubleshooting/overview.png
[3]: ./media/storage-monitoring-diagnosing-troubleshooting/hour-minute-metrics.png
[4]: ./media/storage-monitoring-diagnosing-troubleshooting/high-e2e-latency.png
[5]: ./media/storage-monitoring-diagnosing-troubleshooting/fiddler-screenshot.png
[6]: ./media/storage-monitoring-diagnosing-troubleshooting/wireshark-screenshot-1.png
[7]: ./media/storage-monitoring-diagnosing-troubleshooting/wireshark-screenshot-2.png
[8]: ./media/storage-monitoring-diagnosing-troubleshooting/wireshark-screenshot-3.png
[9]: ./media/storage-monitoring-diagnosing-troubleshooting/mma-screenshot-1.png
[10]: ./media/storage-monitoring-diagnosing-troubleshooting/mma-screenshot-2.png
