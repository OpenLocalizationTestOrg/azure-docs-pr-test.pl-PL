---
title: "Rozwiązywanie problemów dotyczących usługi Azure Storage z diagnostyki & Message Analyzer | Dokumentacja firmy Microsoft"
description: "Samouczek prezentacja end-to-end Rozwiązywanie problemów z funkcją analizy magazynu Azure, AzCopy i programu Microsoft Message Analyzer"
services: storage
documentationcenter: dotnet
author: robinsh
manager: timlt
ms.assetid: 643372a3-1c07-4e88-b4ef-042512a43086
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 03/15/2017
ms.author: robinsh
ms.openlocfilehash: 1aa40c4de48c0117e9d3f9d434972adecccdb548
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 08/29/2017
---
# <a name="end-to-end-troubleshooting-using-azure-storage-metrics-and-logging-azcopy-and-message-analyzer"></a><span data-ttu-id="740e0-103">Rozwiązywanie problemów na trasie przy użyciu metryk usługi Azure Storage i rejestrowania, AzCopy i analizatora komunikatów</span><span class="sxs-lookup"><span data-stu-id="740e0-103">End-to-End Troubleshooting using Azure Storage metrics and logging, AzCopy, and Message Analyzer</span></span>
[!INCLUDE [storage-selector-portal-e2e-troubleshooting](../../../includes/storage-selector-portal-e2e-troubleshooting.md)]

<span data-ttu-id="740e0-104">Diagnozowanie i rozwiązywanie problemów z jest klucza umiejętności umożliwiające tworzenie i obsługa aplikacji klienta za pomocą usługi Magazyn Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="740e0-104">Diagnosing and troubleshooting is a key skill for building and supporting client applications with Microsoft Azure Storage.</span></span> <span data-ttu-id="740e0-105">Z powodu Rozproszony charakter aplikacji Azure diagnozowanie i rozwiązywanie problemów z błędów i problemów z wydajnością może być bardziej skomplikowane niż w tradycyjnych środowisk.</span><span class="sxs-lookup"><span data-stu-id="740e0-105">Due to the distributed nature of an Azure application, diagnosing and troubleshooting errors and performance issues may be more complex than in traditional environments.</span></span>

<span data-ttu-id="740e0-106">W tym samouczku przedstawiony sposób identyfikowania niektórych błędów, które mogą wpłynąć na wydajność i Rozwiąż te błędy z end-to-end w celu zoptymalizowania aplikacji klienta za pomocą narzędzi dostarczanych przez firmę Microsoft i usługi Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="740e0-106">In this tutorial, we demonstrate how to identify certain errors that may affect performance, and troubleshoot those errors from end-to-end using tools provided by Microsoft and Azure Storage, in order to optimize the client application.</span></span>

<span data-ttu-id="740e0-107">Ten samouczek zawiera praktyczne eksploracji end-to-end scenariusza rozwiązywania problemów.</span><span class="sxs-lookup"><span data-stu-id="740e0-107">This tutorial provides a hands-on exploration of an end-to-end troubleshooting scenario.</span></span> <span data-ttu-id="740e0-108">Szczegółowy przewodnik koncepcyjny do Rozwiązywanie problemów z aplikacjami usługi Azure storage, zobacz [monitorowanie, diagnozowanie i rozwiązywanie problemów z usługi Magazyn Microsoft Azure](storage-monitoring-diagnosing-troubleshooting.md).</span><span class="sxs-lookup"><span data-stu-id="740e0-108">For an in-depth conceptual guide to troubleshooting Azure storage applications, see [Monitor, diagnose, and troubleshoot Microsoft Azure Storage](storage-monitoring-diagnosing-troubleshooting.md).</span></span>

## <a name="tools-for-troubleshooting-azure-storage-applications"></a><span data-ttu-id="740e0-109">Narzędzia do rozwiązywania problemów z aplikacjami usługi Azure Storage</span><span class="sxs-lookup"><span data-stu-id="740e0-109">Tools for troubleshooting Azure Storage applications</span></span>
<span data-ttu-id="740e0-110">Rozwiązywać aplikacji klienckich za pomocą usługi Magazyn Microsoft Azure kombinację narzędzia służy do określenia wystąpienia problemu i co może być przyczyną problemu.</span><span class="sxs-lookup"><span data-stu-id="740e0-110">To troubleshoot client applications using Microsoft Azure Storage, you can use a combination of tools to determine when an issue has occurred and what the cause of the problem may be.</span></span> <span data-ttu-id="740e0-111">Do tych narzędzi należą:</span><span class="sxs-lookup"><span data-stu-id="740e0-111">These tools include:</span></span>

* <span data-ttu-id="740e0-112">**Usługa Azure Storage Analytics**.</span><span class="sxs-lookup"><span data-stu-id="740e0-112">**Azure Storage Analytics**.</span></span> <span data-ttu-id="740e0-113">[Analizy usługi Azure Storage](/rest/api/storageservices/Storage-Analytics) zawiera metryki i rejestrowania usługi Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="740e0-113">[Azure Storage Analytics](/rest/api/storageservices/Storage-Analytics) provides metrics and logging for Azure Storage.</span></span>
  
  * <span data-ttu-id="740e0-114">**Metryki magazynu** śledzi transakcji metryki i metryki pojemności konta magazynu.</span><span class="sxs-lookup"><span data-stu-id="740e0-114">**Storage metrics** tracks transaction metrics and capacity metrics for your storage account.</span></span> <span data-ttu-id="740e0-115">Korzystając z metryki, można określić, jak aplikacja działa zgodnie z wielu różnych środków.</span><span class="sxs-lookup"><span data-stu-id="740e0-115">Using metrics, you can determine how your application is performing according to a variety of different measures.</span></span> <span data-ttu-id="740e0-116">Zobacz [schemat tabeli metryki analityka magazynu](/rest/api/storageservices/Storage-Analytics-Metrics-Table-Schema) Aby uzyskać więcej informacji o typach metryki śledzone przez analityka magazynu.</span><span class="sxs-lookup"><span data-stu-id="740e0-116">See [Storage Analytics Metrics Table Schema](/rest/api/storageservices/Storage-Analytics-Metrics-Table-Schema) for more information about the types of metrics tracked by Storage Analytics.</span></span>
  * <span data-ttu-id="740e0-117">**Rejestrowanie magazynu** rejestruje każde żądanie do usług magazynu Azure do dzienników po stronie serwera.</span><span class="sxs-lookup"><span data-stu-id="740e0-117">**Storage logging** logs each request to the Azure Storage services to a server-side log.</span></span> <span data-ttu-id="740e0-118">Dziennik śledzenia szczegółowe dane dla każdego żądania, w tym operacje wykonywane, stan działania i informacje opóźnienia.</span><span class="sxs-lookup"><span data-stu-id="740e0-118">The log tracks detailed data for each request, including the operation performed, the status of the operation, and latency information.</span></span> <span data-ttu-id="740e0-119">Zobacz [Format dziennika analityka magazynu](/rest/api/storageservices/Storage-Analytics-Log-Format) Aby uzyskać więcej informacji o danych żądania i odpowiedzi, które są zapisywane w dziennikach przez analityka magazynu.</span><span class="sxs-lookup"><span data-stu-id="740e0-119">See [Storage Analytics Log Format](/rest/api/storageservices/Storage-Analytics-Log-Format) for more information about the request and response data that is written to the logs by Storage Analytics.</span></span>

> [!NOTE]
> <span data-ttu-id="740e0-120">Nie masz konta magazynu typu replikacji z magazynu Strefowo nadmiarowy (ZRS), metryki lub w tej chwili włączona funkcja rejestrowania.</span><span class="sxs-lookup"><span data-stu-id="740e0-120">Storage accounts with a replication type of Zone-Redundant Storage (ZRS) do not have the metrics or logging capability enabled at this time.</span></span> 
> 
> 

* <span data-ttu-id="740e0-121">**Azure portal**.</span><span class="sxs-lookup"><span data-stu-id="740e0-121">**Azure portal**.</span></span> <span data-ttu-id="740e0-122">Można skonfigurować rejestrowanie i metryki dla konta magazynu w [portalu Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="740e0-122">You can configure metrics and logging for your storage account in the [Azure portal](https://portal.azure.com).</span></span> <span data-ttu-id="740e0-123">Można także wyświetlić schematy i wykresy, które pokazują, jak aplikacja działa w czasie i skonfigurować alerty powiadamiające o, jeśli aplikacja przeprowadza się inaczej, niż oczekiwano dla określonej metryki.</span><span class="sxs-lookup"><span data-stu-id="740e0-123">You can also view charts and graphs that show how your application is performing over time, and configure alerts to notify you if your application performs differently than expected for a specified metric.</span></span>
  
    <span data-ttu-id="740e0-124">Zobacz [monitorować konto magazynu w portalu Azure](storage-monitor-storage-account.md) informacji o konfigurowaniu monitorowania w portalu Azure.</span><span class="sxs-lookup"><span data-stu-id="740e0-124">See [Monitor a storage account in the Azure portal](storage-monitor-storage-account.md) for information about configuring monitoring in the Azure portal.</span></span>
* <span data-ttu-id="740e0-125">**Narzędzie AzCopy**.</span><span class="sxs-lookup"><span data-stu-id="740e0-125">**AzCopy**.</span></span> <span data-ttu-id="740e0-126">Dzienniki serwera usługi Azure Storage są przechowywane jako obiekty BLOB, dzięki czemu można użyć narzędzia AzCopy do kopiowania obiektów blob dziennika do katalogu lokalnego do analizy przy użyciu programu Microsoft Message Analyzer.</span><span class="sxs-lookup"><span data-stu-id="740e0-126">Server logs for Azure Storage are stored as blobs, so you can use AzCopy to copy the log blobs to a local directory for analysis using Microsoft Message Analyzer.</span></span> <span data-ttu-id="740e0-127">Zobacz [Transfer danych za pomocą wiersza polecenia Azcopy](storage-use-azcopy.md) Aby uzyskać więcej informacji na temat narzędzia AzCopy.</span><span class="sxs-lookup"><span data-stu-id="740e0-127">See [Transfer data with the AzCopy Command-Line Utility](storage-use-azcopy.md) for more information about AzCopy.</span></span>
* <span data-ttu-id="740e0-128">**Microsoft Message Analyzer**.</span><span class="sxs-lookup"><span data-stu-id="740e0-128">**Microsoft Message Analyzer**.</span></span> <span data-ttu-id="740e0-129">Message Analyzer jest narzędziem, które korzysta z plików dziennika i dane dziennika są wyświetlane w formacie visual, który ułatwia grupy danych dzienników, wyszukiwania i filtrów w przydatne zestawy, które umożliwiają analizowanie błędów i problemów z wydajnością.</span><span class="sxs-lookup"><span data-stu-id="740e0-129">Message Analyzer is a tool that consumes log files and displays log data in a visual format that makes it easy to filter, search, and group log data into useful sets that you can use to analyze errors and performance issues.</span></span> <span data-ttu-id="740e0-130">Zobacz [Microsoft komunikatów analizatora operacyjnego przewodnik](http://technet.microsoft.com/library/jj649776.aspx) Aby uzyskać więcej informacji na temat analizatora komunikatów.</span><span class="sxs-lookup"><span data-stu-id="740e0-130">See [Microsoft Message Analyzer Operating Guide](http://technet.microsoft.com/library/jj649776.aspx) for more information about Message Analyzer.</span></span>

## <a name="about-the-sample-scenario"></a><span data-ttu-id="740e0-131">Przykładowy scenariusz — informacje</span><span class="sxs-lookup"><span data-stu-id="740e0-131">About the sample scenario</span></span>
<span data-ttu-id="740e0-132">W tym samouczku zostaną omówione scenariusz, w którym metryk usługi Azure Storage wskazuje tempo niski procent powodzenia dla aplikacji, która wywołuje magazynu Azure.</span><span class="sxs-lookup"><span data-stu-id="740e0-132">For this tutorial, we'll examine a scenario where Azure Storage metrics indicates a low percent success rate for an application that calls Azure storage.</span></span> <span data-ttu-id="740e0-133">Metryka szybkość niski procent powodzenia (wyświetlane jako **PercentSuccess** w [portalu Azure](https://portal.azure.com) i w tabelach metryk) śledzi operacji, który powiedzie się, ale który zwrócił kod stanu HTTP, która jest większa niż 299.</span><span class="sxs-lookup"><span data-stu-id="740e0-133">The low percent success rate metric (shown as **PercentSuccess** in the [Azure portal](https://portal.azure.com) and in the metrics tables) tracks operations that succeed, but that return an HTTP status code that is greater than 299.</span></span> <span data-ttu-id="740e0-134">W plikach dziennika magazynu po stronie serwera, operacje te są rejestrowane ze stanem transakcji **ClientOtherErrors**.</span><span class="sxs-lookup"><span data-stu-id="740e0-134">In the server-side storage log files, these operations are recorded with a transaction status of **ClientOtherErrors**.</span></span> <span data-ttu-id="740e0-135">Aby uzyskać więcej informacji na temat Metryka niski procent powodzenia, zobacz [metryki pokazują PercentSuccess niskim lub wpisy dziennika analytics ma operacji ze stanem transakcji ClientOtherErrors](storage-monitoring-diagnosing-troubleshooting.md#metrics-show-low-percent-success).</span><span class="sxs-lookup"><span data-stu-id="740e0-135">For more details about the low percent success metric, see [Metrics show low PercentSuccess or analytics log entries have operations with transaction status of ClientOtherErrors](storage-monitoring-diagnosing-troubleshooting.md#metrics-show-low-percent-success).</span></span>

<span data-ttu-id="740e0-136">Azure operacje magazynu mogą zwracać kody stanu HTTP większa niż 299 jako część ich normalną funkcjonalność.</span><span class="sxs-lookup"><span data-stu-id="740e0-136">Azure Storage operations may return HTTP status codes greater than 299 as part of their normal functionality.</span></span> <span data-ttu-id="740e0-137">Jednak te błędy w niektórych przypadkach wskazują, że można zoptymalizować aplikacji klienta, aby uzyskać lepszą wydajność.</span><span class="sxs-lookup"><span data-stu-id="740e0-137">But these errors in some cases indicate that you may be able to optimize your client application for improved performance.</span></span>

<span data-ttu-id="740e0-138">W tym scenariuszu teraz przyjrzymy się niskim procent powodzenia wysokości można niczego poniżej 100%.</span><span class="sxs-lookup"><span data-stu-id="740e0-138">In this scenario, we'll consider a low percent success rate to be anything below 100%.</span></span> <span data-ttu-id="740e0-139">Są dostępne różne poziomy metryki, jednak zgodnie z potrzebami.</span><span class="sxs-lookup"><span data-stu-id="740e0-139">You can choose a different metric level, however, according to your needs.</span></span> <span data-ttu-id="740e0-140">Firma Microsoft zaleca, że podczas testowania aplikacji, zostanie nawiązana tolerancji linii bazowej dla Twojego kluczowe metryki wydajności.</span><span class="sxs-lookup"><span data-stu-id="740e0-140">We recommend that during testing of your application, you establish a baseline tolerance for your key performance metrics.</span></span> <span data-ttu-id="740e0-141">Na przykład można określić na podstawie testowanie, czy aplikacja ma Częstotliwość powodzeń procent spójne 90% lub 85%.</span><span class="sxs-lookup"><span data-stu-id="740e0-141">For example, you might determine, based on testing, that your application should have a consistent percent success rate of 90%, or 85%.</span></span> <span data-ttu-id="740e0-142">Jeśli dane metryk wskazuje, że aplikacja jest różniących się od tego numeru, a następnie można zbadać, co może powodować wzrost.</span><span class="sxs-lookup"><span data-stu-id="740e0-142">If your metrics data shows that the application is deviating from that number, then you can investigate what may be causing the increase.</span></span>

<span data-ttu-id="740e0-143">W naszym scenariuszu próbki po został określony, czy metryka szybkość procent powodzenia jest poniżej 100%, omówione zostanie dzienniki, aby znaleźć błędy, które odnoszą się do metryki i ich używać, aby dowiedzieć się, co jest przyczyną niższe Częstotliwość powodzeń procent.</span><span class="sxs-lookup"><span data-stu-id="740e0-143">For our sample scenario, once we've established that the percent success rate metric is below 100%, we will examine the logs to find the errors that correlate to the metrics, and use them to figure out what is causing the lower percent success rate.</span></span> <span data-ttu-id="740e0-144">Wyjaśniono, w szczególności błędów w zakresie od 400.</span><span class="sxs-lookup"><span data-stu-id="740e0-144">We'll look specifically at errors in the 400 range.</span></span> <span data-ttu-id="740e0-145">Następnie firma Microsoft będzie dokładniejsze badanie błędów 404 (nie znaleziono).</span><span class="sxs-lookup"><span data-stu-id="740e0-145">Then we'll more closely investigate 404 (Not Found) errors.</span></span>

### <a name="some-causes-of-400-range-errors"></a><span data-ttu-id="740e0-146">Niektóre przyczyny błędów 400 zakresu</span><span class="sxs-lookup"><span data-stu-id="740e0-146">Some causes of 400-range errors</span></span>
<span data-ttu-id="740e0-147">Przykłady poniżej przedstawiono przykładowy zakres 400 błędy żądań z magazynu obiektów Blob Azure i ich możliwe przyczyny.</span><span class="sxs-lookup"><span data-stu-id="740e0-147">The examples below shows a sampling of some 400-range errors for requests against Azure Blob Storage, and their possible causes.</span></span> <span data-ttu-id="740e0-148">Żadnego z tych błędów, jak również błędy w zakresie 300 i 500 zakresu, może przyczynić się do szybkości niski procent powodzenia.</span><span class="sxs-lookup"><span data-stu-id="740e0-148">Any of these errors, as well as errors in the 300 range and the 500 range, can contribute to a low percent success rate.</span></span>

<span data-ttu-id="740e0-149">Należy pamiętać, że z poniższej listy są daleko od ukończenia.</span><span class="sxs-lookup"><span data-stu-id="740e0-149">Note that the lists below are far from complete.</span></span> <span data-ttu-id="740e0-150">Zobacz [stanu i kodów błędów](http://msdn.microsoft.com/library/azure/dd179382.aspx) w witrynie MSDN, aby uzyskać szczegółowe informacje o ogólne błędy usługi Azure Storage oraz informacji o błędach do różnych usług magazynu.</span><span class="sxs-lookup"><span data-stu-id="740e0-150">See [Status and Error Codes](http://msdn.microsoft.com/library/azure/dd179382.aspx) on MSDN for details about general Azure Storage errors and about errors specific to each of the storage services.</span></span>

<span data-ttu-id="740e0-151">**Przykłady kodu 404 (nie znaleziono) stanu**</span><span class="sxs-lookup"><span data-stu-id="740e0-151">**Status Code 404 (Not Found) Examples**</span></span>

<span data-ttu-id="740e0-152">Występuje, gdy operacja odczytu względem kontener lub obiekt blob nie powiedzie się, ponieważ nie znaleziono obiektu blob lub kontenera.</span><span class="sxs-lookup"><span data-stu-id="740e0-152">Occurs when a read operation against a container or blob fails because the blob or container is not found.</span></span>

* <span data-ttu-id="740e0-153">Występuje, gdy kontener lub obiekt blob został usunięty przez innego klienta przed tego żądania.</span><span class="sxs-lookup"><span data-stu-id="740e0-153">Occurs if a container or blob has been deleted by another client before this request.</span></span>
* <span data-ttu-id="740e0-154">Występuje, gdy używasz wywołanie interfejsu API, która tworzy kontener lub obiekt blob po sprawdzeniu, czy istnieje.</span><span class="sxs-lookup"><span data-stu-id="740e0-154">Occurs if you are using an API call that creates the container or blob after checking whether it exists.</span></span> <span data-ttu-id="740e0-155">Interfejsy API CreateIfNotExists wywoływania HEAD najpierw Sprawdzaj istnienie kontener lub obiekt blob; Jeśli nie istnieje, zwracany jest błąd 404, a drugie wywołanie PUT jest przeprowadzane zapisu kontener lub obiekt blob.</span><span class="sxs-lookup"><span data-stu-id="740e0-155">The CreateIfNotExists APIs make a HEAD call first to check for the existence of the container or blob; if it does not exist, a 404 error is returned, and then a second PUT call is made to write the container or blob.</span></span>

<span data-ttu-id="740e0-156">**Kod stanu 409 przykłady (konflikt)**</span><span class="sxs-lookup"><span data-stu-id="740e0-156">**Status Code 409 (Conflict) Examples**</span></span>

* <span data-ttu-id="740e0-157">Występuje, jeśli używasz interfejsu API tworzenia Aby utworzyć nowy kontener lub obiekt blob, bez uprzedniego sprawdzania pod kątem istnienia i kontener lub obiekt blob o tej nazwie już istnieje.</span><span class="sxs-lookup"><span data-stu-id="740e0-157">Occurs if you use a Create API to create a new container or blob, without checking for existence first, and a container or blob with that name already exists.</span></span>
* <span data-ttu-id="740e0-158">Występuje, gdy kontener jest usuwany, a użytkownik próbuje utworzyć nowy kontener o tej samej nazwie, przed wykonaniem operacji usuwania.</span><span class="sxs-lookup"><span data-stu-id="740e0-158">Occurs if a container is being deleted, and you attempt to create a new container with the same name before the deletion operation is complete.</span></span>
* <span data-ttu-id="740e0-159">Występuje, gdy Określ dzierżawę na kontener lub obiekt blob, a jest już obecny dzierżawy.</span><span class="sxs-lookup"><span data-stu-id="740e0-159">Occurs if you specify a lease on a container or blob, and there is already a lease present.</span></span>

<span data-ttu-id="740e0-160">**Kod stanu 412 (warunek wstępny nie powiodła się) przykłady**</span><span class="sxs-lookup"><span data-stu-id="740e0-160">**Status Code 412 (Precondition Failed) Examples**</span></span>

* <span data-ttu-id="740e0-161">Występuje, gdy nie został spełniony warunek określony przez nagłówek warunkowy.</span><span class="sxs-lookup"><span data-stu-id="740e0-161">Occurs when the condition specified by a conditional header has not been met.</span></span>
* <span data-ttu-id="740e0-162">Występuje, gdy określono Identyfikatora dzierżawy nie jest zgodny z Identyfikatorem dzierżawy na kontener lub obiekt blob.</span><span class="sxs-lookup"><span data-stu-id="740e0-162">Occurs when the lease ID specified does not match the lease ID on the container or blob.</span></span>

## <a name="generate-log-files-for-analysis"></a><span data-ttu-id="740e0-163">Generuj pliki dziennika do analizy</span><span class="sxs-lookup"><span data-stu-id="740e0-163">Generate log files for analysis</span></span>
<span data-ttu-id="740e0-164">W tym samouczku użyjemy analizatora komunikatów do pracy z trzech różnych typów plików dziennika, mimo że można wybrać do pracy z jednym z nich:</span><span class="sxs-lookup"><span data-stu-id="740e0-164">In this tutorial, we'll use Message Analyzer to work with three different types of log files, although you could choose to work with any one of these:</span></span>

* <span data-ttu-id="740e0-165">**Dziennik serwera**, który jest tworzony po włączeniu rejestrowania usługi Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="740e0-165">The **server log**, which is created when you enable Azure Storage logging.</span></span> <span data-ttu-id="740e0-166">Dziennik serwera zawiera dane dotyczące każdej operacji o nazwie względem jednej z usług magazynu Azure — obiekt blob, kolejki, tabel i plików.</span><span class="sxs-lookup"><span data-stu-id="740e0-166">The server log contains data about each operation called against one of the Azure Storage services - blob, queue, table, and file.</span></span> <span data-ttu-id="740e0-167">Dziennik serwera wskazuje, które operacja została wywołana i jakie kod stanu został zwrócony, a także inne szczegóły dotyczące żądania i odpowiedzi.</span><span class="sxs-lookup"><span data-stu-id="740e0-167">The server log indicates which operation was called and what status code was returned, as well as other details about the request and response.</span></span>
* <span data-ttu-id="740e0-168">**Dziennika klienta .NET**, który jest tworzony po włączeniu rejestrowania po stronie klienta z wewnątrz aplikacji .NET.</span><span class="sxs-lookup"><span data-stu-id="740e0-168">The **.NET client log**, which is created when you enable client-side logging from within your .NET application.</span></span> <span data-ttu-id="740e0-169">Dziennik klienta zawiera szczegółowe informacje dotyczące sposobu klienta przygotowuje żądania i odbiera i przetwarza odpowiedzi.</span><span class="sxs-lookup"><span data-stu-id="740e0-169">The client log includes detailed information about how the client prepares the request and receives and processes the response.</span></span>
* <span data-ttu-id="740e0-170">**Dziennika śledzenia sieci HTTP**, która zbiera dane na dane żądanie i odpowiedź HTTP/HTTPS, tym dla operacji w usłudze Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="740e0-170">The **HTTP network trace log**, which collects data on HTTP/HTTPS request and response data, including for operations against Azure Storage.</span></span> <span data-ttu-id="740e0-171">W tym samouczku będziemy zostanie wygenerowany śledzenia sieci za pomocą analizatora komunikatów.</span><span class="sxs-lookup"><span data-stu-id="740e0-171">In this tutorial, we'll generate the network trace via Message Analyzer.</span></span>

### <a name="configure-server-side-logging-and-metrics"></a><span data-ttu-id="740e0-172">Konfigurowanie rejestrowania po stronie serwera i metryki</span><span class="sxs-lookup"><span data-stu-id="740e0-172">Configure server-side logging and metrics</span></span>
<span data-ttu-id="740e0-173">Najpierw potrzebujemy skonfigurować rejestrowanie usługi Azure Storage i metryki, dzięki czemu będziemy mieć dane z aplikacji klienta do analizowania.</span><span class="sxs-lookup"><span data-stu-id="740e0-173">First, we'll need to configure Azure Storage logging and metrics, so that we have data from the client application to analyze.</span></span> <span data-ttu-id="740e0-174">Rejestrowanie i metryki na różne sposoby — można skonfigurować za pomocą [portalu Azure](https://portal.azure.com), za pomocą programu PowerShell, lub programowo.</span><span class="sxs-lookup"><span data-stu-id="740e0-174">You can configure logging and metrics in a variety of ways - via the [Azure portal](https://portal.azure.com), by using PowerShell, or programmatically.</span></span> <span data-ttu-id="740e0-175">Zobacz [włączenie metryki magazynu i wyświetlanie danych metryk](http://msdn.microsoft.com/library/azure/dn782843.aspx) i [Włączanie rejestrowania magazynu i uzyskiwanie dostępu do danych dziennika](http://msdn.microsoft.com/library/azure/dn782840.aspx) w witrynie MSDN, aby uzyskać więcej informacji o konfigurowaniu rejestrowania i metryki.</span><span class="sxs-lookup"><span data-stu-id="740e0-175">See [Enabling Storage Metrics and Viewing Metrics Data](http://msdn.microsoft.com/library/azure/dn782843.aspx) and [Enabling Storage Logging and Accessing Log Data](http://msdn.microsoft.com/library/azure/dn782840.aspx) on MSDN for details about configuring logging and metrics.</span></span>

<span data-ttu-id="740e0-176">**Za pomocą portalu Azure**</span><span class="sxs-lookup"><span data-stu-id="740e0-176">**Via the Azure portal**</span></span>

<span data-ttu-id="740e0-177">Aby skonfigurować rejestrowanie i metryki do obsługi magazynu konta przy użyciu [portalu Azure](https://portal.azure.com), postępuj zgodnie z instrukcjami w [monitorować konto magazynu w portalu Azure](storage-monitor-storage-account.md).</span><span class="sxs-lookup"><span data-stu-id="740e0-177">To configure logging and metrics for your storage account using the [Azure portal](https://portal.azure.com), follow the instructions at [Monitor a storage account in the Azure portal](storage-monitor-storage-account.md).</span></span>

> [!NOTE]
> <span data-ttu-id="740e0-178">Nie jest możliwe do ustawienia metryki minuty przy użyciu portalu Azure.</span><span class="sxs-lookup"><span data-stu-id="740e0-178">It's not possible to set minute metrics using the Azure portal.</span></span> <span data-ttu-id="740e0-179">Jednak zaleca się, że te elementy zostały skonfigurowane na potrzeby tego samouczka i do badania problemów dotyczących wydajności z aplikacją.</span><span class="sxs-lookup"><span data-stu-id="740e0-179">However, we recommend that you do set them for the purposes of this tutorial, and for investigating performance issues with your application.</span></span> <span data-ttu-id="740e0-180">Można ustawić minuty metryki przy użyciu programu PowerShell, jak pokazano poniżej, albo programowo z użyciem biblioteki klienta usługi storage.</span><span class="sxs-lookup"><span data-stu-id="740e0-180">You can set minute metrics using PowerShell as shown below, or programmatically using the storage client library.</span></span>
> 
> <span data-ttu-id="740e0-181">Należy pamiętać, że portalu Azure nie może wyświetlić metryki minuty, tylko metryki co godzinę.</span><span class="sxs-lookup"><span data-stu-id="740e0-181">Note that the Azure portal cannot display minute metrics, only hourly metrics.</span></span>
> 
> 

<span data-ttu-id="740e0-182">**Za pomocą programu PowerShell**</span><span class="sxs-lookup"><span data-stu-id="740e0-182">**Via PowerShell**</span></span>

<span data-ttu-id="740e0-183">Aby zacząć korzystać z programu PowerShell dla usługi Azure, zobacz [jak instalowanie i konfigurowanie programu Azure PowerShell](/powershell/azure/overview).</span><span class="sxs-lookup"><span data-stu-id="740e0-183">To get started with PowerShell for Azure, see [How to install and configure Azure PowerShell](/powershell/azure/overview).</span></span>

1. <span data-ttu-id="740e0-184">Użyj [Add-AzureAccount](/powershell/module/azure/add-azureaccount?view=azuresmps-3.7.0) polecenia cmdlet, aby dodać konta użytkownika platformy Azure do okna programu PowerShell:</span><span class="sxs-lookup"><span data-stu-id="740e0-184">Use the [Add-AzureAccount](/powershell/module/azure/add-azureaccount?view=azuresmps-3.7.0) cmdlet to add your Azure user account to the PowerShell window:</span></span>
   
    ```powershell
    Add-AzureAccount
    ```

2. <span data-ttu-id="740e0-185">W **Zaloguj się do systemu Microsoft Azure** okna, wpisz adres e-mail i hasło skojarzone z Twoim kontem.</span><span class="sxs-lookup"><span data-stu-id="740e0-185">In the **Sign in to Microsoft Azure** window, type the email address and password associated with your account.</span></span> <span data-ttu-id="740e0-186">Nastąpi uwierzytelnienie i zapisanie informacji o poświadczeniach na platformie Azure, a następnie zamknięcie okna.</span><span class="sxs-lookup"><span data-stu-id="740e0-186">Azure authenticates and saves the credential information, and then closes the window.</span></span>
3. <span data-ttu-id="740e0-187">Ustaw domyślnego konta magazynu na konto magazynu, którego używasz dla tego samouczka, wykonując następujące polecenia w oknie programu PowerShell:</span><span class="sxs-lookup"><span data-stu-id="740e0-187">Set the default storage account to the storage account you are using for the tutorial by executing these commands in the PowerShell window:</span></span>
   
    ```powershell
    $SubscriptionName = 'Your subscription name'
    $StorageAccountName = 'yourstorageaccount'
    Set-AzureSubscription -CurrentStorageAccountName $StorageAccountName -SubscriptionName $SubscriptionName
    ```

4. <span data-ttu-id="740e0-188">Włącz rejestrowanie magazynu dla usługi Blob:</span><span class="sxs-lookup"><span data-stu-id="740e0-188">Enable storage logging for the Blob service:</span></span>
   
    ```powershell
    Set-AzureStorageServiceLoggingProperty -ServiceType Blob -LoggingOperations Read,Write,Delete -PassThru -RetentionDays 7 -Version 1.0
    ```

5. <span data-ttu-id="740e0-189">Włączyć metryki magazynu dla usługi obiektów Blob, upewniając się ustawić **- MetricsType** do `Minute`:</span><span class="sxs-lookup"><span data-stu-id="740e0-189">Enable storage metrics for the Blob service, making sure to set **-MetricsType** to `Minute`:</span></span>
   
    ```powershell
    Set-AzureStorageServiceMetricsProperty -ServiceType Blob -MetricsType Minute -MetricsLevel ServiceAndApi -PassThru -RetentionDays 7 -Version 1.0
    ```

### <a name="configure-net-client-side-logging"></a><span data-ttu-id="740e0-190">Konfigurowanie rejestrowania klienta .NET</span><span class="sxs-lookup"><span data-stu-id="740e0-190">Configure .NET client-side logging</span></span>
<span data-ttu-id="740e0-191">Aby skonfigurować rejestrowanie po stronie klienta dla aplikacji .NET, Włącz diagnostykę .NET w pliku konfiguracji aplikacji (web.config lub app.config).</span><span class="sxs-lookup"><span data-stu-id="740e0-191">To configure client-side logging for a .NET application, enable .NET diagnostics in the application's configuration file (web.config or app.config).</span></span> <span data-ttu-id="740e0-192">Zobacz [klienta rejestrowaniem za pomocą biblioteki klienta usługi Storage .NET](http://msdn.microsoft.com/library/azure/dn782839.aspx) i [klienta rejestrowaniem za pomocą programu Microsoft Azure Storage SDK for Java](http://msdn.microsoft.com/library/azure/dn782844.aspx) w witrynie MSDN, aby uzyskać szczegółowe informacje.</span><span class="sxs-lookup"><span data-stu-id="740e0-192">See [Client-side Logging with the .NET Storage Client Library](http://msdn.microsoft.com/library/azure/dn782839.aspx) and [Client-side Logging with the Microsoft Azure Storage SDK for Java](http://msdn.microsoft.com/library/azure/dn782844.aspx) on MSDN for details.</span></span>

<span data-ttu-id="740e0-193">Dziennika klienta zawiera szczegółowe informacje dotyczące sposobu klienta przygotowuje żądania i odbiera i przetwarza odpowiedzi.</span><span class="sxs-lookup"><span data-stu-id="740e0-193">The client-side log includes detailed information about how the client prepares the request and receives and processes the response.</span></span>

<span data-ttu-id="740e0-194">Biblioteka klienta magazynu przechowuje dane dziennika klienta w lokalizacji określonej w pliku konfiguracji aplikacji (web.config lub app.config).</span><span class="sxs-lookup"><span data-stu-id="740e0-194">The Storage Client Library stores client-side log data in the location specified in the application's configuration file (web.config or app.config).</span></span>

### <a name="collect-a-network-trace"></a><span data-ttu-id="740e0-195">Zbieraj śledzenia ścieżek połączeń sieciowych</span><span class="sxs-lookup"><span data-stu-id="740e0-195">Collect a network trace</span></span>
<span data-ttu-id="740e0-196">Message Analyzer służy do zbierania śledzenia sieci HTTP i HTTPS, aplikacja kliencka jest uruchomiona.</span><span class="sxs-lookup"><span data-stu-id="740e0-196">You can use Message Analyzer to collect an HTTP/HTTPS network trace while your client application is running.</span></span> <span data-ttu-id="740e0-197">Używa analizatora komunikatów [Fiddler](http://www.telerik.com/fiddler) wewnętrznych.</span><span class="sxs-lookup"><span data-stu-id="740e0-197">Message Analyzer uses [Fiddler](http://www.telerik.com/fiddler) on the back end.</span></span> <span data-ttu-id="740e0-198">Aby zbierać dane śledzenia sieci, zaleca się skonfigurowanie narzędzia Fiddler do rejestrowania nieszyfrowanego ruchu HTTPS:</span><span class="sxs-lookup"><span data-stu-id="740e0-198">Before you collect the network trace, we recommend that you configure Fiddler to record unencrypted HTTPS traffic:</span></span>

1. <span data-ttu-id="740e0-199">Zainstaluj [Fiddler](http://www.telerik.com/download/fiddler).</span><span class="sxs-lookup"><span data-stu-id="740e0-199">Install [Fiddler](http://www.telerik.com/download/fiddler).</span></span>
2. <span data-ttu-id="740e0-200">Uruchom program Fiddler.</span><span class="sxs-lookup"><span data-stu-id="740e0-200">Launch Fiddler.</span></span>
3. <span data-ttu-id="740e0-201">Wybierz **narzędzia | Opcje narzędzia fiddler**.</span><span class="sxs-lookup"><span data-stu-id="740e0-201">Select **Tools | Fiddler Options**.</span></span>
4. <span data-ttu-id="740e0-202">W oknie dialogowym Opcje, upewnij się, że **przechwytywania połączenie HTTPS** i **odszyfrowania ruchu HTTPS** są zaznaczone, jak pokazano poniżej.</span><span class="sxs-lookup"><span data-stu-id="740e0-202">In the Options dialog, ensure that **Capture HTTPS CONNECTs** and **Decrypt HTTPS Traffic** are both selected, as shown below.</span></span>

![Skonfiguruj opcje Fiddler](./media/storage-e2e-troubleshooting/fiddler-options-1.png)

<span data-ttu-id="740e0-204">Samouczek zbieranie najpierw zapisać w analizatora komunikatów śledzenia ścieżek połączeń sieciowych, a następnie tworzenia sesji do analizowania śledzenia i dzienniki analizy.</span><span class="sxs-lookup"><span data-stu-id="740e0-204">For the tutorial, collect and save a network trace first in Message Analyzer, then create an analysis session to analyze the trace and the logs.</span></span> <span data-ttu-id="740e0-205">Aby zebrać śledzenia sieci w analizatora komunikatów:</span><span class="sxs-lookup"><span data-stu-id="740e0-205">To collect a network trace in Message Analyzer:</span></span>

1. <span data-ttu-id="740e0-206">Message Analyzer, wybierz **pliku | Szybkie śledzenia | Niezaszyfrowana HTTPS**.</span><span class="sxs-lookup"><span data-stu-id="740e0-206">In Message Analyzer, select **File | Quick Trace | Unencrypted HTTPS**.</span></span>
2. <span data-ttu-id="740e0-207">Śledzenie rozpocznie się natychmiast.</span><span class="sxs-lookup"><span data-stu-id="740e0-207">The trace will begin immediately.</span></span> <span data-ttu-id="740e0-208">Wybierz **zatrzymać** można zatrzymać śledzenia tak, aby można go skonfigurować do śledzenia tylko ruch magazynu.</span><span class="sxs-lookup"><span data-stu-id="740e0-208">Select **Stop** to stop the trace so that we can configure it to trace storage traffic only.</span></span>
3. <span data-ttu-id="740e0-209">Wybierz **Edytuj** do edycji sesji śledzenia.</span><span class="sxs-lookup"><span data-stu-id="740e0-209">Select **Edit** to edit the tracing session.</span></span>
4. <span data-ttu-id="740e0-210">Wybierz **Konfiguruj** łącza po prawej stronie **Microsoft-Pef-WebProxy** dostawcy ETW.</span><span class="sxs-lookup"><span data-stu-id="740e0-210">Select the **Configure** link to the right of the **Microsoft-Pef-WebProxy** ETW provider.</span></span>
5. <span data-ttu-id="740e0-211">W **Zaawansowane ustawienia** okna dialogowego, kliknij przycisk **dostawcy** kartę.</span><span class="sxs-lookup"><span data-stu-id="740e0-211">In the **Advanced Settings** dialog, click the **Provider** tab.</span></span>
6. <span data-ttu-id="740e0-212">W **filtru Hostname** Określ magazynu punktów końcowych, rozdzielając je spacjami.</span><span class="sxs-lookup"><span data-stu-id="740e0-212">In the **Hostname Filter** field, specify your storage endpoints, separated by spaces.</span></span> <span data-ttu-id="740e0-213">Na przykład można określić punktów końcowych Zmień `storagesample` do nazwy konta magazynu:</span><span class="sxs-lookup"><span data-stu-id="740e0-213">For example, you can specify your endpoints as follows; change `storagesample` to the name of your storage account:</span></span>

    ```   
    storagesample.blob.core.windows.net storagesample.queue.core.windows.net storagesample.table.core.windows.net
    ```

7. <span data-ttu-id="740e0-214">Zamknąć okno dialogowe, a następnie kliknij przycisk **ponowne uruchomienie** do rozpoczęcia zbierania śledzenia z filtrem nazwy hosta w miejscu, tak aby tylko ruchu sieciowego magazynu Azure znajduje się w śledzeniu.</span><span class="sxs-lookup"><span data-stu-id="740e0-214">Exit the dialog, and click **Restart** to begin collecting the trace with the hostname filter in place, so that only Azure Storage network traffic is included in the trace.</span></span>

> [!NOTE]
> <span data-ttu-id="740e0-215">Po zakończeniu zbierania śledzenia sieci, zdecydowanie zaleca się aby przywrócić ustawienia, które mogły zostać zmienione w narzędziu Fiddler do odszyfrowywania ruchu HTTPS.</span><span class="sxs-lookup"><span data-stu-id="740e0-215">After you have finished collecting your network trace, we strongly recommend that you revert the settings that you may have changed in Fiddler to decrypt HTTPS traffic.</span></span> <span data-ttu-id="740e0-216">W oknie dialogowym Opcje Fiddler, usuń zaznaczenie **przechwytywania połączenie HTTPS** i **odszyfrowania ruchu HTTPS** pola wyboru.</span><span class="sxs-lookup"><span data-stu-id="740e0-216">In the Fiddler Options dialog, deselect the **Capture HTTPS CONNECTs** and **Decrypt HTTPS Traffic** checkboxes.</span></span>
> 
> 

<span data-ttu-id="740e0-217">Zobacz [korzystanie z funkcji śledzenia sieci](http://technet.microsoft.com/library/jj674819.aspx) w witrynie Technet, aby uzyskać więcej informacji.</span><span class="sxs-lookup"><span data-stu-id="740e0-217">See [Using the Network Tracing Features](http://technet.microsoft.com/library/jj674819.aspx) on Technet for more details.</span></span>

## <a name="review-metrics-data-in-the-azure-portal"></a><span data-ttu-id="740e0-218">Przejrzyj dane metryk w portalu Azure</span><span class="sxs-lookup"><span data-stu-id="740e0-218">Review metrics data in the Azure portal</span></span>
<span data-ttu-id="740e0-219">Gdy aplikacja została uruchomiona w danym okresie czasu, można przejrzeć wykresy metryk, które są widoczne w [portalu Azure](https://portal.azure.com) obserwować, jak usługa została wykonywania.</span><span class="sxs-lookup"><span data-stu-id="740e0-219">Once your application has been running for a period of time, you can review the metrics charts that appear in the [Azure portal](https://portal.azure.com) to observe how your service has been performing.</span></span>

<span data-ttu-id="740e0-220">Po pierwsze przejdź do swojego konta magazynu w portalu Azure.</span><span class="sxs-lookup"><span data-stu-id="740e0-220">First, navigate to your storage account in the Azure portal.</span></span> <span data-ttu-id="740e0-221">Domyślnie monitorowanie wykres z **procent powodzenia** metryka jest wyświetlany w bloku konta.</span><span class="sxs-lookup"><span data-stu-id="740e0-221">By default, a monitoring chart with the **Success percentage** metric is displayed on the account blade.</span></span> <span data-ttu-id="740e0-222">Jeśli zostały wcześniej zmodyfikowane na wykresie, aby wyświetlić różne metryki, Dodaj **procent powodzenia** metryki.</span><span class="sxs-lookup"><span data-stu-id="740e0-222">If you've previously modified the chart to display different metrics, add the **Success percentage** metric.</span></span>

<span data-ttu-id="740e0-223">Będą teraz widoczne **procent powodzenia** na wykresie monitorowania oraz innych metryk zostały dodane.</span><span class="sxs-lookup"><span data-stu-id="740e0-223">You'll now see **Success percentage** in the monitoring chart, along with any other metrics you may have added.</span></span> <span data-ttu-id="740e0-224">W tym scenariuszu, który będzie dalej sprawdzeniu analizując dzienniki w Message Analyzer Częstotliwość powodzeń procent jest nieco poniżej 100%.</span><span class="sxs-lookup"><span data-stu-id="740e0-224">In the scenario we'll investigate next by analyzing the logs in Message Analyzer, the percent success rate is somewhat below 100%.</span></span>

<span data-ttu-id="740e0-225">Więcej szczegółów na dodawanie i dostosowywanie metryki wykresy, zobacz [dostosowanie metryk wykresy](storage-monitor-storage-account.md#customize-metrics-charts).</span><span class="sxs-lookup"><span data-stu-id="740e0-225">For more details on adding and customizing metrics charts, see [Customize metrics charts](storage-monitor-storage-account.md#customize-metrics-charts).</span></span>

> [!NOTE]
> <span data-ttu-id="740e0-226">Może upłynąć trochę czasu, zanim pojawią się w portalu Azure po włączeniu metryki magazynu danych metryki.</span><span class="sxs-lookup"><span data-stu-id="740e0-226">It may take some time for your metrics data to appear in the Azure portal after you enable storage metrics.</span></span> <span data-ttu-id="740e0-227">Jest to spowodowane co godzinę metryki dla poprzedniej godziny nie są wyświetlane w portalu Azure, dopóki nie upłynie bieżącej godziny.</span><span class="sxs-lookup"><span data-stu-id="740e0-227">This is because hourly metrics for the previous hour are not displayed in the Azure portal until the current hour has elapsed.</span></span> <span data-ttu-id="740e0-228">Ponadto metryki minutowe nie są aktualnie wyświetlane w portalu Azure.</span><span class="sxs-lookup"><span data-stu-id="740e0-228">Also, minute metrics are not currently displayed in the Azure portal.</span></span> <span data-ttu-id="740e0-229">Dlatego zależnie od tego, po włączeniu metryki, może upłynąć do dwóch godzin, aby wyświetlić dane metryk.</span><span class="sxs-lookup"><span data-stu-id="740e0-229">So depending on when you enable metrics, it may take up to two hours to see metrics data.</span></span>
> 
> 

## <a name="use-azcopy-to-copy-server-logs-to-a-local-directory"></a><span data-ttu-id="740e0-230">Użyj narzędzia AzCopy, aby skopiować dzienniki serwera do katalogu lokalnego</span><span class="sxs-lookup"><span data-stu-id="740e0-230">Use AzCopy to copy server logs to a local directory</span></span>
<span data-ttu-id="740e0-231">Usługa Azure Storage zapisuje dane dzienników serwera do obiektów blob, podczas metryki są zapisywane do tabel.</span><span class="sxs-lookup"><span data-stu-id="740e0-231">Azure Storage writes server log data to blobs, while metrics are written to tables.</span></span> <span data-ttu-id="740e0-232">Dziennik obiekty BLOB są dostępne w dobrze znanego `$logs` kontener dla konta magazynu.</span><span class="sxs-lookup"><span data-stu-id="740e0-232">Log blobs are available in the well-known `$logs` container for your storage account.</span></span> <span data-ttu-id="740e0-233">Obiekty BLOB dziennika są nazywane hierarchicznie przez rok, miesiąc, dzień i godzinę, dzięki czemu można łatwo zlokalizować przedział czasu, który chcesz zbadać.</span><span class="sxs-lookup"><span data-stu-id="740e0-233">Log blobs are named hierarchically by year, month, day, and hour, so that you can easily locate the range of time you wish to investigate.</span></span> <span data-ttu-id="740e0-234">Na przykład w `storagesample` konto, kontenera obiektów blob dziennika dla 01/02/2015 od 8 do 9 am, jest `https://storagesample.blob.core.windows.net/$logs/blob/2015/01/08/0800`.</span><span class="sxs-lookup"><span data-stu-id="740e0-234">For example, in the `storagesample` account, the container for the log blobs for 01/02/2015, from 8-9 am, is `https://storagesample.blob.core.windows.net/$logs/blob/2015/01/08/0800`.</span></span> <span data-ttu-id="740e0-235">Poszczególne obiekty BLOB w tym kontenerze są nazywane sekwencyjnie, począwszy od `000000.log`.</span><span class="sxs-lookup"><span data-stu-id="740e0-235">The individual blobs in this container are named sequentially, beginning with `000000.log`.</span></span>

<span data-ttu-id="740e0-236">Można użyć narzędzia wiersza polecenia AzCopy, aby pobrać te pliki dziennika po stronie serwera do wybranej lokalizacji na komputerze lokalnym.</span><span class="sxs-lookup"><span data-stu-id="740e0-236">You can use the AzCopy command-line tool to download these server-side log files to a location of your choice on your local machine.</span></span> <span data-ttu-id="740e0-237">Na przykład służy następujące polecenie do pobierania plików dziennika dla operacji obiektu blob, które miały miejsce na 2 stycznia 2015 do folderu `C:\Temp\Logs\Server`; zastąpić `<storageaccountname>` z nazwą konta magazynu i `<storageaccountkey>` kluczem dostępu do konta :</span><span class="sxs-lookup"><span data-stu-id="740e0-237">For example, you can use the following command to download the log files for blob operations that took place on January 2, 2015 to the folder `C:\Temp\Logs\Server`; replace `<storageaccountname>` with the name of your storage account, and `<storageaccountkey>` with your account access key:</span></span>

```azcopy
AzCopy.exe /Source:http://<storageaccountname>.blob.core.windows.net/$logs /Dest:C:\Temp\Logs\Server /Pattern:"blob/2015/01/02" /SourceKey:<storageaccountkey> /S /V
```
<span data-ttu-id="740e0-238">Narzędzie AzCopy jest dostępny do pobrania na [Azure pobiera](https://azure.microsoft.com/downloads/) strony.</span><span class="sxs-lookup"><span data-stu-id="740e0-238">AzCopy is available for download on the [Azure Downloads](https://azure.microsoft.com/downloads/) page.</span></span> <span data-ttu-id="740e0-239">Aby uzyskać więcej informacji o używaniu narzędzia AzCopy, zobacz [Transfer danych za pomocą wiersza polecenia Azcopy](storage-use-azcopy.md).</span><span class="sxs-lookup"><span data-stu-id="740e0-239">For details about using AzCopy, see [Transfer data with the AzCopy Command-Line Utility](storage-use-azcopy.md).</span></span>

<span data-ttu-id="740e0-240">Aby uzyskać dodatkowe informacje na temat pobierania dzienników po stronie serwera, zobacz [Pobierz rejestrowania magazynu danych dziennika](http://msdn.microsoft.com/library/azure/dn782840.aspx#DownloadingStorageLogginglogdata).</span><span class="sxs-lookup"><span data-stu-id="740e0-240">For additional information about downloading server-side logs, see [Download Storage Logging log data](http://msdn.microsoft.com/library/azure/dn782840.aspx#DownloadingStorageLogginglogdata).</span></span>

## <a name="use-microsoft-message-analyzer-to-analyze-log-data"></a><span data-ttu-id="740e0-241">Użyj programu Microsoft Message Analyzer do analizowania danych dziennika</span><span class="sxs-lookup"><span data-stu-id="740e0-241">Use Microsoft Message Analyzer to analyze log data</span></span>
<span data-ttu-id="740e0-242">Programu Microsoft Message Analyzer jest narzędziem do przechwytywania, wyświetlania i analizowania ruchu, zdarzeń i inne komunikaty w scenariuszach rozwiązywania problemów i diagnozowania systemu lub aplikacji do obsługi komunikatów protokołu.</span><span class="sxs-lookup"><span data-stu-id="740e0-242">Microsoft Message Analyzer is a tool for capturing, displaying, and analyzing protocol messaging traffic, events, and other system or application messages in troubleshooting and diagnostic scenarios.</span></span> <span data-ttu-id="740e0-243">Analizator komunikatów również umożliwia ładowanie, agregacji i analizowania danych z dziennika i zapisać pliki śledzenia.</span><span class="sxs-lookup"><span data-stu-id="740e0-243">Message Analyzer also enables you to load, aggregate, and analyze data from log and saved trace files.</span></span> <span data-ttu-id="740e0-244">Aby uzyskać więcej informacji na temat Message Analyzer, zobacz [Microsoft komunikatów analizatora operacyjnego przewodnik](http://technet.microsoft.com/library/jj649776.aspx).</span><span class="sxs-lookup"><span data-stu-id="740e0-244">For more information about Message Analyzer, see [Microsoft Message Analyzer Operating Guide](http://technet.microsoft.com/library/jj649776.aspx).</span></span>

<span data-ttu-id="740e0-245">Analizator komunikatów obejmuje zasoby usługi Azure Storage, które ułatwiają analizowanie serwera i klienta oraz dzienniki sieci.</span><span class="sxs-lookup"><span data-stu-id="740e0-245">Message Analyzer includes assets for Azure Storage that help you to analyze server, client, and network logs.</span></span> <span data-ttu-id="740e0-246">W tej sekcji omówiono sposób używania tych narzędzi w celu rozwiązania problemu niski procent powodzenia w dziennikach magazynu.</span><span class="sxs-lookup"><span data-stu-id="740e0-246">In this section, we'll discuss how to use those tools to address the issue of low percent success in the storage logs.</span></span>

### <a name="download-and-install-message-analyzer-and-the-azure-storage-assets"></a><span data-ttu-id="740e0-247">Pobierz i zainstaluj Message Analyzer i zasoby magazynu Azure</span><span class="sxs-lookup"><span data-stu-id="740e0-247">Download and install Message Analyzer and the Azure Storage Assets</span></span>
1. <span data-ttu-id="740e0-248">Pobierz [Message Analyzer](http://www.microsoft.com/download/details.aspx?id=44226) z Microsoft Centrum pobierania i uruchom Instalatora.</span><span class="sxs-lookup"><span data-stu-id="740e0-248">Download [Message Analyzer](http://www.microsoft.com/download/details.aspx?id=44226) from the Microsoft Download Center, and run the installer.</span></span>
2. <span data-ttu-id="740e0-249">Uruchom analizator komunikatów.</span><span class="sxs-lookup"><span data-stu-id="740e0-249">Launch Message Analyzer.</span></span>
3. <span data-ttu-id="740e0-250">Z **narzędzia** menu, wybierz opcję **Menedżera zasobów**.</span><span class="sxs-lookup"><span data-stu-id="740e0-250">From the **Tools** menu, select **Asset Manager**.</span></span> <span data-ttu-id="740e0-251">W **Menedżera zasobów** okno dialogowe, wybierz opcję **pobiera**, następnie odfiltrować **usługi Azure Storage**.</span><span class="sxs-lookup"><span data-stu-id="740e0-251">In the **Asset Manager** dialog, select **Downloads**, then filter on **Azure Storage**.</span></span> <span data-ttu-id="740e0-252">Zostanie wyświetlone zasoby magazynu Azure, jak pokazano na rysunku poniżej.</span><span class="sxs-lookup"><span data-stu-id="740e0-252">You will see the Azure Storage Assets, as shown in the picture below.</span></span>
4. <span data-ttu-id="740e0-253">Kliknij przycisk **wszystkie elementy wyświetlane synchronizacji** do zainstalowania zasoby magazynu Azure.</span><span class="sxs-lookup"><span data-stu-id="740e0-253">Click **Sync All Displayed Items** to install the Azure Storage Assets.</span></span> <span data-ttu-id="740e0-254">Dostępne zasoby obejmują:</span><span class="sxs-lookup"><span data-stu-id="740e0-254">The available assets include:</span></span>
   * <span data-ttu-id="740e0-255">**Reguły koloru magazynu Azure:** reguły koloru magazynu platformy Azure umożliwiają zdefiniowanie specjalne filtry, które Użyj style kolorów, tekst i czcionek, aby wyróżnić komunikaty, które zawierają określone informacje w śledzenia.</span><span class="sxs-lookup"><span data-stu-id="740e0-255">**Azure Storage Color Rules:** Azure Storage color rules enable you to define special filters that use color, text, and font styles to highlight messages that contain specific information in a trace.</span></span>
   * <span data-ttu-id="740e0-256">**Wykresy magazynu Azure:** wykresy magazynu Azure są wstępnie zdefiniowane wykresy, które dane dziennika dla serwera programu graph.</span><span class="sxs-lookup"><span data-stu-id="740e0-256">**Azure Storage Charts:** Azure Storage charts are predefined charts that graph server log data.</span></span> <span data-ttu-id="740e0-257">Należy pamiętać, aby używać usługi Azure Storage wykresy w tej chwili, może tylko załadowanie dziennik serwera w siatce analizy.</span><span class="sxs-lookup"><span data-stu-id="740e0-257">Note that to use Azure Storage charts at this time, you may only load the server log into the Analysis Grid.</span></span>
   * <span data-ttu-id="740e0-258">**Azure magazynu analizatory składni:** analizatory składni usługi Azure Storage przeanalizować klienta usługi Azure Storage server i dzienniki HTTP, aby je wyświetlić w siatce analizy.</span><span class="sxs-lookup"><span data-stu-id="740e0-258">**Azure Storage Parsers:** The Azure Storage parsers parse the Azure Storage client, server, and HTTP logs in order to display them in the Analysis Grid.</span></span>
   * <span data-ttu-id="740e0-259">**Filtry magazynu Azure:** filtry magazynu Azure są wstępnie zdefiniowane kryteria, które można wykonać zapytania w siatce analizy danych.</span><span class="sxs-lookup"><span data-stu-id="740e0-259">**Azure Storage Filters:** Azure Storage filters are predefined criteria that you can use to query your data in the Analysis Grid.</span></span>
   * <span data-ttu-id="740e0-260">**Układy widoku magazynu Azure:** układów widoku magazynu Azure są układów wstępnie zdefiniowanych kolumn i grupowania w siatce analizy.</span><span class="sxs-lookup"><span data-stu-id="740e0-260">**Azure Storage View Layouts:** Azure Storage view layouts are predefined column layouts and groupings in the Analysis Grid.</span></span>
5. <span data-ttu-id="740e0-261">Po zainstalowaniu zasoby, należy ponownie uruchomić analizator komunikatów.</span><span class="sxs-lookup"><span data-stu-id="740e0-261">Restart Message Analyzer after you've installed the assets.</span></span>

![Menedżera zasobów analizator komunikatów](./media/storage-e2e-troubleshooting/mma-start-page-1.png)

> [!NOTE]
> <span data-ttu-id="740e0-263">Zainstaluj wszystkie zasoby usługi Azure Storage, pokazane na potrzeby tego samouczka.</span><span class="sxs-lookup"><span data-stu-id="740e0-263">Install all of the Azure Storage assets shown for the purposes of this tutorial.</span></span>
> 
> 

### <a name="import-your-log-files-into-message-analyzer"></a><span data-ttu-id="740e0-264">Importowanie plików dzienników do analizatora komunikatów</span><span class="sxs-lookup"><span data-stu-id="740e0-264">Import your log files into Message Analyzer</span></span>
<span data-ttu-id="740e0-265">Można importować wszystkie zapisane pliki dziennika (po stronie serwera, po stronie klienta i sieci) w jednej sesji w programu Microsoft Message Analyzer do analizy.</span><span class="sxs-lookup"><span data-stu-id="740e0-265">You can import all of your saved log files (server-side, client-side, and network) into a single session in Microsoft Message Analyzer for analysis.</span></span>

1. <span data-ttu-id="740e0-266">Na **pliku** kliknij menu programu Microsoft Message Analyzer **nowej sesji**, a następnie kliknij przycisk **puste sesji**.</span><span class="sxs-lookup"><span data-stu-id="740e0-266">On the **File** menu in Microsoft Message Analyzer, click **New Session**, and then click **Blank Session**.</span></span> <span data-ttu-id="740e0-267">W **nowej sesji** okna dialogowego, wprowadź nazwę dla sesji analizy.</span><span class="sxs-lookup"><span data-stu-id="740e0-267">In the **New Session** dialog, enter a name for your analysis session.</span></span> <span data-ttu-id="740e0-268">W **szczegółowych informacji o sesji** panelu, kliknij pozycję **pliki** przycisku.</span><span class="sxs-lookup"><span data-stu-id="740e0-268">In the **Session Details** panel, click on the **Files** button.</span></span>
2. <span data-ttu-id="740e0-269">Aby załadować dane śledzenia sieci generowane przez analizator komunikatów, kliknij na **Dodaj pliki**, przejdź do lokalizacji, w której zapisano plik .matp z śledzenia sesji sieci web, wybierz plik .matp, a następnie kliknij przycisk **Otwórz**.</span><span class="sxs-lookup"><span data-stu-id="740e0-269">To load the network trace data generated by Message Analyzer, click on **Add Files**, browse to the location where you saved your .matp file from your web tracing session, select the .matp file, and click **Open**.</span></span>
3. <span data-ttu-id="740e0-270">Aby załadować dane dziennika po stronie serwera, kliknij na **Dodaj pliki**, przejdź do lokalizacji, do którego pobrano dzienników po stronie serwera, wybierz plik dziennika dla zakresu czasu, aby przeanalizować, a następnie kliknij przycisk **Otwórz**.</span><span class="sxs-lookup"><span data-stu-id="740e0-270">To load the server-side log data, click on **Add Files**, browse to the location where you downloaded your server-side logs, select the log files for the time range you want to analyze, and click **Open**.</span></span> <span data-ttu-id="740e0-271">Następnie w **szczegółowych informacji o sesji** panelu, ustaw **konfiguracji dziennika tekstowego** listy rozwijanej dla każdego pliku dziennika po stronie serwera, aby **AzureStorageLog** aby upewnić się, że Microsoft Message Analizator można poprawnie przeanalizować pliku dziennika.</span><span class="sxs-lookup"><span data-stu-id="740e0-271">Then, in the **Session Details** panel, set the **Text Log Configuration** drop-down for each server-side log file to **AzureStorageLog** to ensure that Microsoft Message Analyzer can parse the log file correctly.</span></span>
4. <span data-ttu-id="740e0-272">Aby załadować dane dziennika klienta, kliknij na **Dodaj pliki**, przejdź do lokalizacji, w której zapisano dzienników po stronie klienta, wybierz plik dziennika ma analizować, a następnie kliknij przycisk **Otwórz**.</span><span class="sxs-lookup"><span data-stu-id="740e0-272">To load the client-side log data, click on **Add Files**, browse to the location where you saved your client-side logs, select the log files you want to analyze, and click **Open**.</span></span> <span data-ttu-id="740e0-273">Następnie w **szczegółowych informacji o sesji** panelu, ustaw **konfiguracji dziennika tekstowego** listy rozwijanej dla każdego pliku dziennika klienta, aby **AzureStorageClientDotNetV4** do upewnij się, że Programu Microsoft Message Analyzer można poprawnie przeanalizować pliku dziennika.</span><span class="sxs-lookup"><span data-stu-id="740e0-273">Then, in the **Session Details** panel, set the **Text Log Configuration** drop-down for each client-side log file to **AzureStorageClientDotNetV4** to ensure that Microsoft Message Analyzer can parse the log file correctly.</span></span>
5. <span data-ttu-id="740e0-274">Kliknij przycisk **Start** w **nowej sesji** okna dialogowego, aby załadować i przeanalizować dane dziennika.</span><span class="sxs-lookup"><span data-stu-id="740e0-274">Click **Start** in the **New Session** dialog to load and parse the log data.</span></span> <span data-ttu-id="740e0-275">Dane dziennika są wyświetlane w siatce analizy analizator komunikatów.</span><span class="sxs-lookup"><span data-stu-id="740e0-275">The log data displays in the Message Analyzer Analysis Grid.</span></span>

<span data-ttu-id="740e0-276">Na rysunku poniżej przedstawiono sesji przykład skonfigurowane z serwera, klienta i pliki dziennika śledzenia sieci.</span><span class="sxs-lookup"><span data-stu-id="740e0-276">The picture below shows an example session configured with server, client, and network trace log files.</span></span>

![Konfigurowanie sesji analizator komunikatów](./media/storage-e2e-troubleshooting/configure-mma-session-1.png)

<span data-ttu-id="740e0-278">Należy pamiętać, że analizator komunikatów ładuje pliki dziennika do pamięci.</span><span class="sxs-lookup"><span data-stu-id="740e0-278">Note that Message Analyzer loads log files into memory.</span></span> <span data-ttu-id="740e0-279">Jeśli masz dużych zestawów danych dziennika można odfiltrować Aby uzyskać najlepszą wydajność z analizatora komunikatów.</span><span class="sxs-lookup"><span data-stu-id="740e0-279">If you have a large set of log data, you will want to filter it in order to get the best performance from Message Analyzer.</span></span>

<span data-ttu-id="740e0-280">Najpierw należy określić przedział czasu, którego jesteś zrecenzować i ramce czasu możliwie jak najmniejszy.</span><span class="sxs-lookup"><span data-stu-id="740e0-280">First, determine the time frame that you are interested in reviewing, and keep this time frame as small as possible.</span></span> <span data-ttu-id="740e0-281">W wielu przypadkach można przejrzeć okres minut lub godzin, co najwyżej.</span><span class="sxs-lookup"><span data-stu-id="740e0-281">In many cases you will want to review a period of minutes or hours at most.</span></span> <span data-ttu-id="740e0-282">Importuj najmniejszy zestaw dzienników, które mogą zaspokoić potrzeb.</span><span class="sxs-lookup"><span data-stu-id="740e0-282">Import the smallest set of logs that can meet your needs.</span></span>

<span data-ttu-id="740e0-283">Jeśli masz dużą ilość danych dziennika, może być określone sesję do filtru dane dziennika, zanim będzie można go załadować.</span><span class="sxs-lookup"><span data-stu-id="740e0-283">If you still have a large amount of log data, then you may want to specify a session filter to filter your log data before you load it.</span></span> <span data-ttu-id="740e0-284">W **filtru sesji** wybierz opcję **biblioteki** przycisku Wybierz wstępnie zdefiniowany filtr; na przykład wybrać **globalne czasu filtru I** z usługi Azure Storage filtrów do filtrowania w przedziale czasu.</span><span class="sxs-lookup"><span data-stu-id="740e0-284">In the **Session Filter** box, select the **Library** button to choose a predefined filter; for example, choose **Global Time Filter I** from the Azure Storage filters to filter on a time interval.</span></span> <span data-ttu-id="740e0-285">Następnie można edytować kryteria filtrowania, aby określić początkowej i końcowej dla interwału, który chcesz wyświetlić sygnatury czasowej.</span><span class="sxs-lookup"><span data-stu-id="740e0-285">You can then edit the filter criteria to specify the starting and ending timestamp for the interval you want to see.</span></span> <span data-ttu-id="740e0-286">Można również filtrować według określony kod stanu; na przykład można załadować tylko wpisy dziennika przypadku kod stanu 404.</span><span class="sxs-lookup"><span data-stu-id="740e0-286">You can also filter on a particular status code; for example, you can choose to load only log entries where the status code is 404.</span></span>

<span data-ttu-id="740e0-287">Aby uzyskać więcej informacji na temat importowania danych dziennika do programu Microsoft Message Analyzer, zobacz [pobierania danych komunikat](http://technet.microsoft.com/library/dn772437.aspx) w witrynie TechNet.</span><span class="sxs-lookup"><span data-stu-id="740e0-287">For more information about importing log data into Microsoft Message Analyzer, see [Retrieving Message Data](http://technet.microsoft.com/library/dn772437.aspx) on TechNet.</span></span>

### <a name="use-the-client-request-id-to-correlate-log-file-data"></a><span data-ttu-id="740e0-288">Użyj Identyfikatora żądania klienta do skorelowania danych pliku dziennika</span><span class="sxs-lookup"><span data-stu-id="740e0-288">Use the client request ID to correlate log file data</span></span>
<span data-ttu-id="740e0-289">Biblioteka klienta magazynu Azure automatycznie generuje identyfikator żądania klienta unikatowy dla każdego żądania.</span><span class="sxs-lookup"><span data-stu-id="740e0-289">The Azure Storage Client Library automatically generates a unique client request ID for every request.</span></span> <span data-ttu-id="740e0-290">Ta wartość jest zapisywane do dziennika klienta, serwera dziennika i śledzenia sieci, dzięki czemu służy do skorelowania danych we wszystkich trzech dzienników w analizatora komunikatów.</span><span class="sxs-lookup"><span data-stu-id="740e0-290">This value is written to the client log, the server log, and the network trace, so you can use it to correlate data across all three logs within Message Analyzer.</span></span> <span data-ttu-id="740e0-291">Zobacz [Identyfikatora żądania klienta](storage-monitoring-diagnosing-troubleshooting.md#client-request-id) dodatkowe informacje o kliencie żądania identyfikatora.</span><span class="sxs-lookup"><span data-stu-id="740e0-291">See [Client request ID](storage-monitoring-diagnosing-troubleshooting.md#client-request-id) for additional information about the client request ID.</span></span>

<span data-ttu-id="740e0-292">W poniższych rozdziałach opisano sposób użycia układu wstępnie skonfigurowane i niestandardowe widoki służące do skorelowania i dane grupy oparte na identyfikator żądania klienta.</span><span class="sxs-lookup"><span data-stu-id="740e0-292">The sections below describe how to use pre-configured and custom layout views to correlate and group data based on the client request ID.</span></span>

### <a name="select-a-view-layout-to-display-in-the-analysis-grid"></a><span data-ttu-id="740e0-293">Wybierz układ widoku do wyświetlenia w siatce analizy</span><span class="sxs-lookup"><span data-stu-id="740e0-293">Select a view layout to display in the Analysis Grid</span></span>
<span data-ttu-id="740e0-294">Zasoby magazynu dla analizatora komunikatów obejmują układów widoku magazynu Azure, które są wstępnie skonfigurowane widoki, które służy do wyświetlania danych za pomocą przydatne grup i kolumn dla różnych scenariuszy.</span><span class="sxs-lookup"><span data-stu-id="740e0-294">The Storage Assets for Message Analyzer include Azure Storage View Layouts, which are pre-configured views that you can use to display your data with useful groupings and columns for different scenarios.</span></span> <span data-ttu-id="740e0-295">Można również utworzyć widok niestandardowy układy i zapisywać je do ponownego użycia.</span><span class="sxs-lookup"><span data-stu-id="740e0-295">You can also create custom view layouts and save them for reuse.</span></span>

<span data-ttu-id="740e0-296">Obraz poniżej przedstawia **układ widoku** menu dostępne po wybraniu **układ widoku** na wstążce narzędzi.</span><span class="sxs-lookup"><span data-stu-id="740e0-296">The picture below shows the **View Layout** menu, available by selecting **View Layout** from the toolbar ribbon.</span></span> <span data-ttu-id="740e0-297">Układów widoku dla usługi Azure Storage są zgrupowane w **usługi Azure Storage** węzła w menu.</span><span class="sxs-lookup"><span data-stu-id="740e0-297">The view layouts for Azure Storage are grouped under the **Azure Storage** node in the menu.</span></span> <span data-ttu-id="740e0-298">Możesz wyszukać `Azure Storage` w polu wyszukiwania, aby odfiltrować usługi Azure Storage wyświetlić tylko układów.</span><span class="sxs-lookup"><span data-stu-id="740e0-298">You can search for `Azure Storage` in the search box to filter on Azure Storage view layouts only.</span></span> <span data-ttu-id="740e0-299">Można również wybrać gwiazdką układ widoku była Ulubione i wyświetlić je w górnej części menu.</span><span class="sxs-lookup"><span data-stu-id="740e0-299">You can also select the star next to a view layout to make it a favorite and display it at the top of the menu.</span></span>

![Menu Widok układu](./media/storage-e2e-troubleshooting/view-layout-menu.png)

<span data-ttu-id="740e0-301">Najpierw wybierz **pogrupowane według ClientRequestID i modułu**.</span><span class="sxs-lookup"><span data-stu-id="740e0-301">To begin with, select **Grouped by ClientRequestID and Module**.</span></span> <span data-ttu-id="740e0-302">Ten widok Układ grup dziennika najpierw danych ze wszystkich trzech dzienników, identyfikator żądania klienta, a następnie plik dziennika źródła (lub **modułu** w analizator komunikatów).</span><span class="sxs-lookup"><span data-stu-id="740e0-302">This view layout groups log data from all three logs first by client request ID, then by source log file (or **Module** in Message Analyzer).</span></span> <span data-ttu-id="740e0-303">Z tym widokiem można przejść do Identyfikatora żądania klienta określonego i wyświetlać dane ze wszystkich trzech plików dziennika dla tego żądania klienta identyfikatora.</span><span class="sxs-lookup"><span data-stu-id="740e0-303">With this view, you can drill down into a particular client request ID, and see data from all three log files for that client request ID.</span></span>

<span data-ttu-id="740e0-304">Obraz poniżej przedstawia ten widok układu stosowane do przykładowych danych dziennika z podzbiorem wyświetlane kolumny.</span><span class="sxs-lookup"><span data-stu-id="740e0-304">The picture below shows this layout view applied to the sample log data, with a subset of columns displayed.</span></span> <span data-ttu-id="740e0-305">Widać, że dla określonego Identyfikatora żądania klienta, analizy są wyświetlane w siatce danych z dziennika klienta, serwera dziennika i śledzenia ścieżek połączeń sieciowych.</span><span class="sxs-lookup"><span data-stu-id="740e0-305">You can see that for a particular client request ID, the Analysis Grid displays data from the client log, server log, and network trace.</span></span>

![Układ widoku magazynu Azure](./media/storage-e2e-troubleshooting/view-layout-client-request-id-module.png)

> [!NOTE]
> <span data-ttu-id="740e0-307">Różnych plikach dziennika mają różne kolumny, gdy dane z wielu plików dziennika są wyświetlane w siatce analizy, niektóre kolumny nie może zawierać żadnych danych dla danego wiersza.</span><span class="sxs-lookup"><span data-stu-id="740e0-307">Different log files have different columns, so when data from multiple log files is displayed in the Analysis Grid, some columns may not contain any data for a given row.</span></span> <span data-ttu-id="740e0-308">Na przykład na powyższym rysunku wierszy dziennika klienta są wyświetlane wszystkie dane dotyczące **sygnatury czasowej**, **TimeElapsed**, **źródła**, i **docelowego**kolumn, ponieważ te kolumny nie istnieją w dzienniku klienta, ale istnieje w śledzenia ścieżek połączeń sieciowych.</span><span class="sxs-lookup"><span data-stu-id="740e0-308">For example, in the picture above, the client log rows do not show any data for the **Timestamp**, **TimeElapsed**, **Source**, and **Destination** columns, because these columns do not exist in the client log, but do exist in the network trace.</span></span> <span data-ttu-id="740e0-309">Podobnie **sygnatury czasowej** kolumna zawiera dane sygnatury czasowej w dzienniku serwera, ale żadne dane nie są wyświetlone dla **TimeElapsed**, **źródła**, i  **Docelowy** kolumn, które nie są częścią dziennik serwera.</span><span class="sxs-lookup"><span data-stu-id="740e0-309">Similarly, the **Timestamp** column displays timestamp data from the server log, but no data is displayed for the **TimeElapsed**, **Source**, and **Destination** columns, which are not part of the server log.</span></span>
> 
> 

<span data-ttu-id="740e0-310">Oprócz przy użyciu usługi Azure Storage układów widoku, można również zdefiniować i zapisać układów widoku.</span><span class="sxs-lookup"><span data-stu-id="740e0-310">In addition to using the Azure Storage view layouts, you can also define and save your own view layouts.</span></span> <span data-ttu-id="740e0-311">Można wybrać inne wymagane pola do grupowania danych i zapisać grupowanie jako część programu niestandardowego układu.</span><span class="sxs-lookup"><span data-stu-id="740e0-311">You can select other desired fields for grouping data and save the grouping as part of your custom layout as well.</span></span>

### <a name="apply-color-rules-to-the-analysis-grid"></a><span data-ttu-id="740e0-312">Zastosuj reguły koloru do siatki analizy</span><span class="sxs-lookup"><span data-stu-id="740e0-312">Apply color rules to the Analysis Grid</span></span>
<span data-ttu-id="740e0-313">Zasoby magazynu także reguły koloru, które oferują element wizualny oznacza do identyfikacji różnych typów błędów w siatce analizy.</span><span class="sxs-lookup"><span data-stu-id="740e0-313">The Storage Assets also include color rules, which offer a visual means to identify different types of errors in the Analysis Grid.</span></span> <span data-ttu-id="740e0-314">Kolor wstępnie zdefiniowane reguły dotyczą błędy HTTP, aby były wyświetlane tylko w przypadku śledzenia serwera dziennika i sieci.</span><span class="sxs-lookup"><span data-stu-id="740e0-314">The predefined color rules apply to HTTP errors, so they appear only for the server log and network trace.</span></span>

<span data-ttu-id="740e0-315">Aby zastosować reguły koloru, wybierz **reguły koloru** na wstążce narzędzi.</span><span class="sxs-lookup"><span data-stu-id="740e0-315">To apply color rules, select **Color Rules** from the toolbar ribbon.</span></span> <span data-ttu-id="740e0-316">Zobaczysz reguły koloru usługi Azure Storage w menu.</span><span class="sxs-lookup"><span data-stu-id="740e0-316">You'll see the Azure Storage color rules in the menu.</span></span> <span data-ttu-id="740e0-317">Samouczek, wybierz **klientów z błędami (StatusCode w przedziale od 400 do 499)**, jak pokazano na rysunku poniżej.</span><span class="sxs-lookup"><span data-stu-id="740e0-317">For the tutorial, select **Client Errors (StatusCode between 400 and 499)**, as shown in the picture below.</span></span>

![Układ widoku magazynu Azure](./media/storage-e2e-troubleshooting/color-rules-menu.png)

<span data-ttu-id="740e0-319">Oprócz przy użyciu reguły koloru usługi Azure Storage, można również zdefiniować i zapisać reguły koloru.</span><span class="sxs-lookup"><span data-stu-id="740e0-319">In addition to using the Azure Storage color rules, you can also define and save your own color rules.</span></span>

### <a name="group-and-filter-log-data-to-find-400-range-errors"></a><span data-ttu-id="740e0-320">Grupy i filtrowanie danych dziennika, aby znaleźć błędy 400 zakresu</span><span class="sxs-lookup"><span data-stu-id="740e0-320">Group and filter log data to find 400-range errors</span></span>
<span data-ttu-id="740e0-321">Następnie firma Microsoft będzie grupy i filtrowanie danych dziennika, aby znaleźć wszystkie błędy w zakresie od 400.</span><span class="sxs-lookup"><span data-stu-id="740e0-321">Next, we'll group and filter the log data to find all errors in the 400 range.</span></span>

1. <span data-ttu-id="740e0-322">Zlokalizuj **StatusCode** kolumny w siatce analizy, kliknij prawym przyciskiem myszy kolumny, nagłówek i wybierz **grupy**.</span><span class="sxs-lookup"><span data-stu-id="740e0-322">Locate the **StatusCode** column in the Analysis Grid, right-click the column heading, and select **Group**.</span></span>
2. <span data-ttu-id="740e0-323">Następnie grupowania **ClientRequestId** kolumny.</span><span class="sxs-lookup"><span data-stu-id="740e0-323">Next, group on the **ClientRequestId** column.</span></span> <span data-ttu-id="740e0-324">Zobaczysz danych w siatce analizy teraz jest zorganizowana według kodu stanu oraz identyfikator żądania klienta.</span><span class="sxs-lookup"><span data-stu-id="740e0-324">You'll see that the data in the Analysis Grid is now organized by status code and by client request ID.</span></span>
3. <span data-ttu-id="740e0-325">Wyświetl okno narzędzia filtr widoku, jeśli nie jest już wyświetlany.</span><span class="sxs-lookup"><span data-stu-id="740e0-325">Display the View Filter tool window if it is not already displayed.</span></span> <span data-ttu-id="740e0-326">Na wstążce narzędzi, wybierz **okna narzędzi**, następnie **filtr widoku**.</span><span class="sxs-lookup"><span data-stu-id="740e0-326">On the toolbar ribbon, select **Tool Windows**, then **View Filter**.</span></span>
4. <span data-ttu-id="740e0-327">Aby filtrować dane dziennika, aby wyświetlić tylko błędy 400 zakres, należy dodać następujące kryteria filtru w celu **filtr widoku** okna, a następnie kliknij przycisk **Zastosuj**:</span><span class="sxs-lookup"><span data-stu-id="740e0-327">To filter the log data to display only 400-range errors, add the following filter criteria to the **View Filter** window, and click **Apply**:</span></span>

    ```   
    (AzureStorageLog.StatusCode >= 400 && AzureStorageLog.StatusCode <=499) || (HTTP.StatusCode >= 400 && HTTP.StatusCode <= 499)
    ```

<span data-ttu-id="740e0-328">Na rysunku poniżej przedstawiono wyniki tego grupowanie i filtrowanie.</span><span class="sxs-lookup"><span data-stu-id="740e0-328">The picture below shows the results of this grouping and filter.</span></span> <span data-ttu-id="740e0-329">Rozszerzanie **ClientRequestID** pole poniżej grupowania dla kodu stanu 409, na przykład przedstawia operację, która spowodowała ten kod stanu.</span><span class="sxs-lookup"><span data-stu-id="740e0-329">Expanding the **ClientRequestID** field beneath the grouping for status code 409, for example, shows an operation that resulted in that status code.</span></span>

![Układ widoku magazynu Azure](./media/storage-e2e-troubleshooting/400-range-errors1.png)

<span data-ttu-id="740e0-331">Po zastosowaniu tego filtru, zobaczysz, że wiersze z dziennika klienta są wyłączone, co klient dziennika nie zawiera **StatusCode** kolumny.</span><span class="sxs-lookup"><span data-stu-id="740e0-331">After applying this filter, you'll see that rows from the client log are excluded, as the client log does not include a **StatusCode** column.</span></span> <span data-ttu-id="740e0-332">Rozpoczynać się od znaku firma Microsoft może przejrzeć serwera i dzienniki śledzenia sieci, aby zlokalizować błędów 404, a następnie zostanie zwrócona w dzienniku klienta w celu zbadania operacji klienta, które doprowadziły do nich.</span><span class="sxs-lookup"><span data-stu-id="740e0-332">To begin with, we'll review the server and network trace logs to locate 404 errors, and then we'll return to the client log to examine the client operations that led to them.</span></span>

> [!NOTE]
> <span data-ttu-id="740e0-333">Można filtrować według **StatusCode** kolumny i Wyświetl dane z wszystkich trzech dzienników, w tym dziennika klienta, jeśli dodajesz wyrażenie filtru, która zawiera wpisy dziennika, gdy kod stanu jest null.</span><span class="sxs-lookup"><span data-stu-id="740e0-333">You can filter on the **StatusCode** column and still display data from all three logs, including the client log, if you add an expression to the filter that includes log entries where the status code is null.</span></span> <span data-ttu-id="740e0-334">Do utworzenia tego wyrażenia filtru, należy użyć:</span><span class="sxs-lookup"><span data-stu-id="740e0-334">To construct this filter expression, use:</span></span>
> 
> <code>&#42;StatusCode >= 400 or !&#42;StatusCode</code>
> 
> <span data-ttu-id="740e0-335">Ten filtr zwraca wszystkie wiersze z klienta dziennika i tylko wiersze z serwera dziennika i dzienników HTTP gdy kod stanu jest większa niż 400.</span><span class="sxs-lookup"><span data-stu-id="740e0-335">This filter returns all rows from the client log and only rows from the server log and HTTP log where the status code is greater than 400.</span></span> <span data-ttu-id="740e0-336">W przypadku zastosowania do układu widoku pogrupowane według Identyfikatora żądania klienta i moduł, możesz wyszukiwać lub przewiń za pomocą wpisów dziennika, aby znaleźć te, których wszystkie trzy dzienniki są reprezentowane.</span><span class="sxs-lookup"><span data-stu-id="740e0-336">If you apply it to the view layout grouped by client request ID and module, you can search or scroll through the log entries to find ones where all three logs are represented.</span></span>   
> 
> 

### <a name="filter-log-data-to-find-404-errors"></a><span data-ttu-id="740e0-337">Filtrowanie danych dziennika można znaleźć błędów 404</span><span class="sxs-lookup"><span data-stu-id="740e0-337">Filter log data to find 404 errors</span></span>
<span data-ttu-id="740e0-338">Zasoby magazynu obejmują wstępnie zdefiniowanych filtrów, których można użyć, aby zawęzić zakres danych dziennika, aby znaleźć błędy lub trendy, którego szukasz.</span><span class="sxs-lookup"><span data-stu-id="740e0-338">The Storage Assets include predefined filters that you can use to narrow log data to find the errors or trends you are looking for.</span></span> <span data-ttu-id="740e0-339">Następnie będzie zastosować dwa filtry wstępnie zdefiniowane: jeden filtrujące serwera i błędów 404 dzienniki śledzenia sieci i który filtruje dane dotyczące określonego przedziału czasu.</span><span class="sxs-lookup"><span data-stu-id="740e0-339">Next, we'll apply two predefined filters: one that filters the server and network trace logs for 404 errors, and one that filters the data on a specified time range.</span></span>

1. <span data-ttu-id="740e0-340">Wyświetl okno narzędzia filtr widoku, jeśli nie jest już wyświetlany.</span><span class="sxs-lookup"><span data-stu-id="740e0-340">Display the View Filter tool window if it is not already displayed.</span></span> <span data-ttu-id="740e0-341">Na wstążce narzędzi, wybierz **okna narzędzi**, następnie **filtr widoku**.</span><span class="sxs-lookup"><span data-stu-id="740e0-341">On the toolbar ribbon, select **Tool Windows**, then **View Filter**.</span></span>
2. <span data-ttu-id="740e0-342">W oknie filtru widoku wybierz **biblioteki**i wyszukiwania na `Azure Storage` można znaleźć magazynu Azure filtry.</span><span class="sxs-lookup"><span data-stu-id="740e0-342">In the View Filter window, select **Library**, and search on `Azure Storage` to find the Azure Storage filters.</span></span> <span data-ttu-id="740e0-343">Wybierz filtr **404 (nie znaleziono) wiadomości we wszystkich dziennikach**.</span><span class="sxs-lookup"><span data-stu-id="740e0-343">Select the filter for **404 (Not Found) messages in all logs**.</span></span>
3. <span data-ttu-id="740e0-344">Wyświetl **biblioteki** menu ponownie i Znajdź i zaznacz **globalny filtr czasu**.</span><span class="sxs-lookup"><span data-stu-id="740e0-344">Display the **Library** menu again, and locate and select the **Global Time Filter**.</span></span>
4. <span data-ttu-id="740e0-345">Edytuj sygnatury czasowe, pokazane na filtrze zakresu, który chcesz wyświetlić.</span><span class="sxs-lookup"><span data-stu-id="740e0-345">Edit the timestamps shown in the filter to the range you wish to view.</span></span> <span data-ttu-id="740e0-346">Pomoże to zawęzić zakres danych do analizy.</span><span class="sxs-lookup"><span data-stu-id="740e0-346">This will help to narrow the range of data to analyze.</span></span>
5. <span data-ttu-id="740e0-347">Filtr powinien być podobny do poniższego przykładu.</span><span class="sxs-lookup"><span data-stu-id="740e0-347">Your filter should appear similar to the example below.</span></span> <span data-ttu-id="740e0-348">Kliknij przycisk **Zastosuj** Aby zastosować filtr do siatki analizy.</span><span class="sxs-lookup"><span data-stu-id="740e0-348">Click **Apply** to apply the filter to the Analysis Grid.</span></span>

    ```   
    ((AzureStorageLog.StatusCode == 404 || HTTP.StatusCode == 404)) And
    (#Timestamp >= 2014-10-20T16:36:38 and #Timestamp <= 2014-10-20T16:36:39)
    ```

    ![Układ widoku magazynu Azure](./media/storage-e2e-troubleshooting/404-filtered-errors1.png)

### <a name="analyze-your-log-data"></a><span data-ttu-id="740e0-350">Analizowanie danych dziennika</span><span class="sxs-lookup"><span data-stu-id="740e0-350">Analyze your log data</span></span>
<span data-ttu-id="740e0-351">Teraz, grupowane i filtrować dane należy zbadać szczegóły poszczególnych żądań, które wygenerowały błędy 404.</span><span class="sxs-lookup"><span data-stu-id="740e0-351">Now that you have grouped and filtered your data, you can examine the details of individual requests that generated 404 errors.</span></span> <span data-ttu-id="740e0-352">W układzie bieżącego widoku dane są grupowane według Identyfikatora żądania klienta, następnie według źródła dziennika.</span><span class="sxs-lookup"><span data-stu-id="740e0-352">In the current view layout, the data is grouped by client request ID, then by log source.</span></span> <span data-ttu-id="740e0-353">Firma Microsoft filtrowania żądań w polu StatusCode, w którym znajduje się 404, firma Microsoft będzie wyświetlanych tylko serwera i danych śledzenia sieci, nie dane dziennika klienta.</span><span class="sxs-lookup"><span data-stu-id="740e0-353">Since we are filtering on requests where the StatusCode field contains 404, we'll see only the server and network trace data, not the client log data.</span></span>

<span data-ttu-id="740e0-354">Na ilustracji poniżej pokazano określone żądanie, w którym operacji pobrania obiektu Blob zwróciło 404, ponieważ obiektu blob nie istnieje.</span><span class="sxs-lookup"><span data-stu-id="740e0-354">The picture below shows a specific request where a Get Blob operation yielded a 404 because the blob did not exist.</span></span> <span data-ttu-id="740e0-355">Należy pamiętać, że niektóre kolumny zostały usunięte z widoku standardowego w celu wyświetlenia odpowiednich danych.</span><span class="sxs-lookup"><span data-stu-id="740e0-355">Note that some columns have been removed from the standard view in order to display the relevant data.</span></span>

![Filtrowane Server i dzienniki śledzenia sieci](./media/storage-e2e-troubleshooting/server-filtered-404-error.png)

<span data-ttu-id="740e0-357">Następnie firma Microsoft będzie mieć związek tego Identyfikatora żądania klienta z danych dziennika klienta, aby zobaczyć, jakie akcje klienta miał w momencie wystąpienia błędu.</span><span class="sxs-lookup"><span data-stu-id="740e0-357">Next, we'll correlate this client request ID with the client log data to see what actions the client was taking when the error happened.</span></span> <span data-ttu-id="740e0-358">Można wyświetlić nowy widok siatki analizy dla tej sesji wyświetlić dane dziennika klienta, który otworzy się w drugiej karty:</span><span class="sxs-lookup"><span data-stu-id="740e0-358">You can display a new Analysis Grid view for this session to view the client log data, which opens in a second tab:</span></span>

1. <span data-ttu-id="740e0-359">Po pierwsze, skopiować wartość **ClientRequestId** pole do Schowka.</span><span class="sxs-lookup"><span data-stu-id="740e0-359">First, copy the value of the **ClientRequestId** field to the clipboard.</span></span> <span data-ttu-id="740e0-360">Aby to zrobić, wybierając albo wiersza, lokalizowania **ClientRequestId** pola, klikając wartość danych, a następnie wybierając **kopii "ClientRequestId"**.</span><span class="sxs-lookup"><span data-stu-id="740e0-360">You can do this by selecting either row, locating the **ClientRequestId** field, right-clicking on the data value, and choosing **Copy 'ClientRequestId'**.</span></span>
2. <span data-ttu-id="740e0-361">Na wstążce narzędzi, wybierz **nowy podgląd**, a następnie wybierz pozycję **siatki analizy** na otwarcie nowej karty. Nowa karta przedstawia wszystkie dane w plikach dziennika bez grupowania, filtrowania lub reguły koloru.</span><span class="sxs-lookup"><span data-stu-id="740e0-361">On the toolbar ribbon, select **New Viewer**, then select **Analysis Grid** to open a new tab. The new tab shows all data in your log files, without grouping, filtering, or color rules.</span></span>
3. <span data-ttu-id="740e0-362">Na wstążce narzędzi, wybierz **układ widoku**, a następnie wybierz pozycję **wszystkie kolumny klienta .NET** w obszarze **usługi Azure Storage** sekcji.</span><span class="sxs-lookup"><span data-stu-id="740e0-362">On the toolbar ribbon, select **View Layout**, then select **All .NET Client Columns** under the **Azure Storage** section.</span></span> <span data-ttu-id="740e0-363">Układ ten widok przedstawia dane z klienta dziennika, a także dzienniki śledzenia serwera i sieci.</span><span class="sxs-lookup"><span data-stu-id="740e0-363">This view layout shows data from the client log as well as the server and network trace logs.</span></span> <span data-ttu-id="740e0-364">Domyślnie jest sortowana na **MessageNumber** kolumny.</span><span class="sxs-lookup"><span data-stu-id="740e0-364">By default it is sorted on the **MessageNumber** column.</span></span>
4. <span data-ttu-id="740e0-365">Następnie wyszukaj w dzienniku klienta dla identyfikatora żądania klienta.</span><span class="sxs-lookup"><span data-stu-id="740e0-365">Next, search the client log for the client request ID.</span></span> <span data-ttu-id="740e0-366">Na wstążce narzędzi, wybierz **znaleźć wiadomości**, następnie określenia niestandardowego filtru na identyfikator żądania klienta w **znaleźć** pola.</span><span class="sxs-lookup"><span data-stu-id="740e0-366">On the toolbar ribbon, select **Find Messages**, then specify a custom filter on the client request ID in the **Find** field.</span></span> <span data-ttu-id="740e0-367">Filtru, określając własnego Identyfikatora żądania klienta, należy użyć następującej składni:</span><span class="sxs-lookup"><span data-stu-id="740e0-367">Use this syntax for the filter, specifying your own client request ID:</span></span>

    ```
    *ClientRequestId == "398bac41-7725-484b-8a69-2a9e48fc669a"
    ```

<span data-ttu-id="740e0-368">Analizator komunikatów lokalizuje i wybiera pierwszy wpis dziennika, jeśli kryteria wyszukiwania odpowiada identyfikator żądania klienta.</span><span class="sxs-lookup"><span data-stu-id="740e0-368">Message Analyzer locates and selects the first log entry where the search criteria matches the client request ID.</span></span> <span data-ttu-id="740e0-369">W dzienniku klienta znajdują się kilka wpisy dla każdego Identyfikatora żądania klienta, dlatego warto grupować je na **ClientRequestId** pola, aby ułatwić widoczne wszystkie razem.</span><span class="sxs-lookup"><span data-stu-id="740e0-369">In the client log, there are several entries for each client request ID, so you may want to group them on the **ClientRequestId** field to make it easier to see them all together.</span></span> <span data-ttu-id="740e0-370">Na ilustracji poniżej przedstawia wszystkie komunikaty dziennika klienta dla określonego klienta identyfikator żądania.</span><span class="sxs-lookup"><span data-stu-id="740e0-370">The picture below shows all of the messages in the client log for the specified client request ID.</span></span>

![Wyświetlanie dziennika klienta błędów 404](./media/storage-e2e-troubleshooting/client-log-analysis-grid1.png)

<span data-ttu-id="740e0-372">Dane wyświetlane w widoku układów w tych dwóch kart można analizować dane żądania, aby określić, co powoduje błąd.</span><span class="sxs-lookup"><span data-stu-id="740e0-372">Using the data shown in the view layouts in these two tabs, you can analyze the request data to determine what may have caused the error.</span></span> <span data-ttu-id="740e0-373">Można też przyjrzeć się żądań, które poprzedzone ta, aby zobaczyć, jeśli poprzednie zdarzenie może spowodowały błąd 404.</span><span class="sxs-lookup"><span data-stu-id="740e0-373">You can also look at requests that preceded this one to see if a previous event may have led to the 404 error.</span></span> <span data-ttu-id="740e0-374">Na przykład możesz przejrzeć wpisy dziennika klienta poprzedzających tego Identyfikatora żądania klienta, aby określić, czy obiektu blob mogła zostać usunięta, czy błąd został spowodowany aplikacji klienckiej, wywoływania CreateIfNotExists API na kontener lub obiekt blob.</span><span class="sxs-lookup"><span data-stu-id="740e0-374">For example, you can review the client log entries preceding this client request ID to determine whether the blob may have been deleted, or if the error was due to the client application calling a CreateIfNotExists API on a container or blob.</span></span> <span data-ttu-id="740e0-375">W dzienniku klienta można znaleźć adres obiektu blob w **opis** pola; na serwerze i dzienniki śledzenia sieci, informacje te pojawiają się w **Podsumowanie** pola.</span><span class="sxs-lookup"><span data-stu-id="740e0-375">In the client log, you can find the blob's address in the **Description** field; in the server and network trace logs, this information appears in the **Summary** field.</span></span>

<span data-ttu-id="740e0-376">Znając adres obiektu blob, które zwróciło błąd 404, możesz można zbadać.</span><span class="sxs-lookup"><span data-stu-id="740e0-376">Once you know the address of the blob that yielded the 404 error, you can investigate further.</span></span> <span data-ttu-id="740e0-377">W przypadku wyszukiwania wpisów dziennika dla innych komunikatów skojarzone z operacjami w tym samym obiekcie blob, można sprawdzić, czy klient wcześniej usunięty jednostki.</span><span class="sxs-lookup"><span data-stu-id="740e0-377">If you search the log entries for other messages associated with operations on the same blob, you can check whether the client previously deleted the entity.</span></span>

## <a name="analyze-other-types-of-storage-errors"></a><span data-ttu-id="740e0-378">Analizowanie inne typy błędów magazynu</span><span class="sxs-lookup"><span data-stu-id="740e0-378">Analyze other types of storage errors</span></span>
<span data-ttu-id="740e0-379">Teraz, po zapoznaniu się z za pomocą analizatora komunikatów do analizowania danych dziennika, można przeanalizować inne typy błędów przy użyciu widoku układów, reguły koloru i wyszukiwanie filtrowania.</span><span class="sxs-lookup"><span data-stu-id="740e0-379">Now that you are familiar with using Message Analyzer to analyze your log data, you can analyze other types of errors using view layouts, color rules, and searching/filtering.</span></span> <span data-ttu-id="740e0-380">W poniższej tabeli wymieniono niektóre problemy, które można napotkać i kryteria filtrowania, używanych do ich lokalizację.</span><span class="sxs-lookup"><span data-stu-id="740e0-380">The tables below lists some issues you may encounter and the filter criteria you can use to locate them.</span></span> <span data-ttu-id="740e0-381">Aby uzyskać więcej informacji dotyczących tworzenia filtrów i Message Analyzer filtrowania języka, zobacz [filtrowania danych komunikat](http://technet.microsoft.com/library/jj819365.aspx).</span><span class="sxs-lookup"><span data-stu-id="740e0-381">For more information on constructing filters and the Message Analyzer filtering language, see [Filtering Message Data](http://technet.microsoft.com/library/jj819365.aspx).</span></span>

| <span data-ttu-id="740e0-382">Aby zbadać...</span><span class="sxs-lookup"><span data-stu-id="740e0-382">To Investigate…</span></span> | <span data-ttu-id="740e0-383">Użycie wyrażenia filtru...</span><span class="sxs-lookup"><span data-stu-id="740e0-383">Use Filter Expression…</span></span> | <span data-ttu-id="740e0-384">Wyrażenie ma zastosowanie do dziennika (klienta, serwera, sieci, wszystkie)</span><span class="sxs-lookup"><span data-stu-id="740e0-384">Expression Applies to Log (Client, Server,   Network, All)</span></span> |
| --- | --- | --- |
| <span data-ttu-id="740e0-385">Nieoczekiwane opóźnienia dotyczące dostarczania wiadomości w kolejce</span><span class="sxs-lookup"><span data-stu-id="740e0-385">Unexpected delays in message delivery on a queue</span></span> |<span data-ttu-id="740e0-386">Zawiera AzureStorageClientDotNetV4.Description "Ponawianie nie można wykonać operacji."</span><span class="sxs-lookup"><span data-stu-id="740e0-386">AzureStorageClientDotNetV4.Description   contains "Retrying failed operation."</span></span> |<span data-ttu-id="740e0-387">Klient</span><span class="sxs-lookup"><span data-stu-id="740e0-387">Client</span></span> |
| <span data-ttu-id="740e0-388">HTTP wzrost PercentThrottlingError</span><span class="sxs-lookup"><span data-stu-id="740e0-388">HTTP Increase in PercentThrottlingError</span></span> |<span data-ttu-id="740e0-389">PROTOKÓŁ HTTP. Response.StatusCode == 500 &#124; &#124; PROTOKÓŁ HTTP. Response.StatusCode == 503</span><span class="sxs-lookup"><span data-stu-id="740e0-389">HTTP.Response.StatusCode   == 500 &#124;&#124; HTTP.Response.StatusCode == 503</span></span> |<span data-ttu-id="740e0-390">Sieć</span><span class="sxs-lookup"><span data-stu-id="740e0-390">Network</span></span> |
| <span data-ttu-id="740e0-391">Wzrost PercentTimeoutError</span><span class="sxs-lookup"><span data-stu-id="740e0-391">Increase in PercentTimeoutError</span></span> |<span data-ttu-id="740e0-392">PROTOKÓŁ HTTP. Response.StatusCode == 500</span><span class="sxs-lookup"><span data-stu-id="740e0-392">HTTP.Response.StatusCode   == 500</span></span> |<span data-ttu-id="740e0-393">Sieć</span><span class="sxs-lookup"><span data-stu-id="740e0-393">Network</span></span> |
| <span data-ttu-id="740e0-394">Wzrost PercentTimeoutError (wszystkie wersje)</span><span class="sxs-lookup"><span data-stu-id="740e0-394">Increase in PercentTimeoutError (all)</span></span> |<span data-ttu-id="740e0-395">* StatusCode == 500</span><span class="sxs-lookup"><span data-stu-id="740e0-395">*StatusCode   == 500</span></span> |<span data-ttu-id="740e0-396">Wszystkie</span><span class="sxs-lookup"><span data-stu-id="740e0-396">All</span></span> |
| <span data-ttu-id="740e0-397">Wzrost PercentNetworkError</span><span class="sxs-lookup"><span data-stu-id="740e0-397">Increase in PercentNetworkError</span></span> |<span data-ttu-id="740e0-398">AzureStorageClientDotNetV4.EventLogEntry.Level < 2</span><span class="sxs-lookup"><span data-stu-id="740e0-398">AzureStorageClientDotNetV4.EventLogEntry.Level   < 2</span></span> |<span data-ttu-id="740e0-399">Klient</span><span class="sxs-lookup"><span data-stu-id="740e0-399">Client</span></span> |
| <span data-ttu-id="740e0-400">Komunikaty HTTP 403 (zabroniony)</span><span class="sxs-lookup"><span data-stu-id="740e0-400">HTTP 403 (Forbidden) messages</span></span> |<span data-ttu-id="740e0-401">PROTOKÓŁ HTTP. Response.StatusCode == 403</span><span class="sxs-lookup"><span data-stu-id="740e0-401">HTTP.Response.StatusCode   == 403</span></span> |<span data-ttu-id="740e0-402">Sieć</span><span class="sxs-lookup"><span data-stu-id="740e0-402">Network</span></span> |
| <span data-ttu-id="740e0-403">HTTP 404 (nie znaleziono) wiadomości</span><span class="sxs-lookup"><span data-stu-id="740e0-403">HTTP 404 (Not found) messages</span></span> |<span data-ttu-id="740e0-404">PROTOKÓŁ HTTP. Response.StatusCode == 404</span><span class="sxs-lookup"><span data-stu-id="740e0-404">HTTP.Response.StatusCode   == 404</span></span> |<span data-ttu-id="740e0-405">Sieć</span><span class="sxs-lookup"><span data-stu-id="740e0-405">Network</span></span> |
| <span data-ttu-id="740e0-406">404 (wszystkie wersje)</span><span class="sxs-lookup"><span data-stu-id="740e0-406">404 (all)</span></span> |<span data-ttu-id="740e0-407">* StatusCode == 404</span><span class="sxs-lookup"><span data-stu-id="740e0-407">*StatusCode   == 404</span></span> |<span data-ttu-id="740e0-408">Wszystkie</span><span class="sxs-lookup"><span data-stu-id="740e0-408">All</span></span> |
| <span data-ttu-id="740e0-409">Udostępnione problem autoryzacji podpis dostępu (SAS)</span><span class="sxs-lookup"><span data-stu-id="740e0-409">Shared Access Signature (SAS) authorization issue</span></span> |<span data-ttu-id="740e0-410">AzureStorageLog.RequestStatus == "SASAuthorizationError"</span><span class="sxs-lookup"><span data-stu-id="740e0-410">AzureStorageLog.RequestStatus ==  "SASAuthorizationError"</span></span> |<span data-ttu-id="740e0-411">Sieć</span><span class="sxs-lookup"><span data-stu-id="740e0-411">Network</span></span> |
| <span data-ttu-id="740e0-412">HTTP 409 (konflikt) wiadomości</span><span class="sxs-lookup"><span data-stu-id="740e0-412">HTTP 409 (Conflict) messages</span></span> |<span data-ttu-id="740e0-413">PROTOKÓŁ HTTP. Response.StatusCode == 409</span><span class="sxs-lookup"><span data-stu-id="740e0-413">HTTP.Response.StatusCode   == 409</span></span> |<span data-ttu-id="740e0-414">Sieć</span><span class="sxs-lookup"><span data-stu-id="740e0-414">Network</span></span> |
| <span data-ttu-id="740e0-415">409 (wszystkie wersje)</span><span class="sxs-lookup"><span data-stu-id="740e0-415">409 (all)</span></span> |<span data-ttu-id="740e0-416">* StatusCode == 409</span><span class="sxs-lookup"><span data-stu-id="740e0-416">*StatusCode   == 409</span></span> |<span data-ttu-id="740e0-417">Wszystkie</span><span class="sxs-lookup"><span data-stu-id="740e0-417">All</span></span> |
| <span data-ttu-id="740e0-418">Działania o stanie transakcji ClientOtherErrors ma PercentSuccess małej lub analityka wpisy dziennika</span><span class="sxs-lookup"><span data-stu-id="740e0-418">Low PercentSuccess or analytics log entries have   operations with transaction status of ClientOtherErrors</span></span> |<span data-ttu-id="740e0-419">AzureStorageLog.RequestStatus == "ClientOtherError"</span><span class="sxs-lookup"><span data-stu-id="740e0-419">AzureStorageLog.RequestStatus ==   "ClientOtherError"</span></span> |<span data-ttu-id="740e0-420">Serwer</span><span class="sxs-lookup"><span data-stu-id="740e0-420">Server</span></span> |
| <span data-ttu-id="740e0-421">Ostrzeżenie Nagle'a</span><span class="sxs-lookup"><span data-stu-id="740e0-421">Nagle   Warning</span></span> |<span data-ttu-id="740e0-422">((AzureStorageLog.EndToEndLatencyMS-AzureStorageLog.ServerLatencyMS) > (AzureStorageLog.ServerLatencyMS * 1.5)) i (AzureStorageLog.RequestPacketSize < 1460) i (AzureStorageLog.EndToEndLatencyMS - AzureStorageLog.ServerLatencyMS > = 200)</span><span class="sxs-lookup"><span data-stu-id="740e0-422">((AzureStorageLog.EndToEndLatencyMS   - AzureStorageLog.ServerLatencyMS) > (AzureStorageLog.ServerLatencyMS *   1.5)) and (AzureStorageLog.RequestPacketSize <1460) and (AzureStorageLog.EndToEndLatencyMS -   AzureStorageLog.ServerLatencyMS >= 200)</span></span> |<span data-ttu-id="740e0-423">Serwer</span><span class="sxs-lookup"><span data-stu-id="740e0-423">Server</span></span> |
| <span data-ttu-id="740e0-424">Zakres czasu w dziennikach serwera i sieci</span><span class="sxs-lookup"><span data-stu-id="740e0-424">Range of   time in Server and Network logs</span></span> |<span data-ttu-id="740e0-425">#Timestamp > = 2014-10-20T16:36:38 i #Timestamp < = 2014-10-20T16:36:39</span><span class="sxs-lookup"><span data-stu-id="740e0-425">#Timestamp   >= 2014-10-20T16:36:38 and #Timestamp <= 2014-10-20T16:36:39</span></span> |<span data-ttu-id="740e0-426">Serwer, sieci</span><span class="sxs-lookup"><span data-stu-id="740e0-426">Server, Network</span></span> |
| <span data-ttu-id="740e0-427">Zakres czasu w dziennikach serwera</span><span class="sxs-lookup"><span data-stu-id="740e0-427">Range of   time in Server logs</span></span> |<span data-ttu-id="740e0-428">AzureStorageLog.Timestamp > = 2014-10-20T16:36:38 i AzureStorageLog.Timestamp < = 2014-10-20T16:36:39</span><span class="sxs-lookup"><span data-stu-id="740e0-428">AzureStorageLog.Timestamp   >= 2014-10-20T16:36:38 and AzureStorageLog.Timestamp <=   2014-10-20T16:36:39</span></span> |<span data-ttu-id="740e0-429">Serwer</span><span class="sxs-lookup"><span data-stu-id="740e0-429">Server</span></span> |

## <a name="next-steps"></a><span data-ttu-id="740e0-430">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="740e0-430">Next steps</span></span>
<span data-ttu-id="740e0-431">Aby uzyskać więcej informacji na temat rozwiązywania problemów scenariuszy end-to-end w usłudze Azure Storage zobacz następujące zasoby:</span><span class="sxs-lookup"><span data-stu-id="740e0-431">For more information about troubleshooting end-to-end scenarios in Azure Storage, see these resources:</span></span>

* [<span data-ttu-id="740e0-432">Monitorowanie, diagnozowanie i rozwiązywanie problemów z usługi Magazyn Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="740e0-432">Monitor, diagnose, and troubleshoot Microsoft Azure Storage</span></span>](storage-monitoring-diagnosing-troubleshooting.md)
* [<span data-ttu-id="740e0-433">Analityka magazynu</span><span class="sxs-lookup"><span data-stu-id="740e0-433">Storage Analytics</span></span>](http://msdn.microsoft.com/library/azure/hh343270.aspx)
* [<span data-ttu-id="740e0-434">Monitor konta magazynu w portalu Azure</span><span class="sxs-lookup"><span data-stu-id="740e0-434">Monitor a storage account in the Azure portal</span></span>](storage-monitor-storage-account.md)
* [<span data-ttu-id="740e0-435">Transfer danych za pomocą narzędzia wiersza polecenia AzCopy</span><span class="sxs-lookup"><span data-stu-id="740e0-435">Transfer data with the AzCopy Command-Line Utility</span></span>](storage-use-azcopy.md)
* [<span data-ttu-id="740e0-436">Przewodnik operacyjny analizatora wiadomości firmy Microsoft</span><span class="sxs-lookup"><span data-stu-id="740e0-436">Microsoft Message Analyzer Operating Guide</span></span>](http://technet.microsoft.com/library/jj649776.aspx)
