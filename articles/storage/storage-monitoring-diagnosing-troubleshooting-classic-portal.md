---
title: "aaaMonitor, diagnozowanie i rozwiązywanie problemów z magazynu | Dokumentacja firmy Microsoft"
description: "Korzystać z funkcji, takich jak analizy magazynu, rejestrowania po stronie klienta i innych tooidentify narzędzi innych firm, diagnozowanie i rozwiązywanie problemów związanych z usługą Azure Storage."
services: storage
documentationcenter: 
author: fhryo-msft
manager: jahogg
editor: tysonn
ms.assetid: da57e844-705d-449d-8ed5-5607d2a6170b
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 02/28/2017
ms.author: fhryo-msft
ms.openlocfilehash: 294a0bd27bd03913e01a719c0175cab827d58225
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="monitor-diagnose-and-troubleshoot-microsoft-azure-storage"></a><span data-ttu-id="ae785-103">Monitorowanie, diagnozowanie i rozwiązywanie problemów z usługą Microsoft Azure Storage</span><span class="sxs-lookup"><span data-stu-id="ae785-103">Monitor, diagnose, and troubleshoot Microsoft Azure Storage</span></span>
[!INCLUDE [storage-selector-portal-monitoring-diagnosing-troubleshooting](../../includes/storage-selector-portal-monitoring-diagnosing-troubleshooting.md)]

## <a name="overview"></a><span data-ttu-id="ae785-104">Omówienie</span><span class="sxs-lookup"><span data-stu-id="ae785-104">Overview</span></span>
<span data-ttu-id="ae785-105">Może być bardziej skomplikowane niż w tradycyjnych środowisk diagnozowania i rozwiązywania problemów w aplikacji rozproszonej hostowanych w środowisku chmury.</span><span class="sxs-lookup"><span data-stu-id="ae785-105">Diagnosing and troubleshooting issues in a distributed application hosted in a cloud environment can be more complex than in traditional environments.</span></span> <span data-ttu-id="ae785-106">Aplikacje można wdrażać w infrastrukturze PaaS lub IaaS lokalnie na urządzeniu przenośnym lub w kombinacji tych.</span><span class="sxs-lookup"><span data-stu-id="ae785-106">Applications can be deployed in a PaaS or IaaS infrastructure, on premises, on a mobile device, or in some combination of these.</span></span> <span data-ttu-id="ae785-107">Zazwyczaj ruchu sieciowego aplikacji może przechodzić między nimi sieci publicznych i prywatnych aplikacja może korzystać z wielu technologii magazynowania, takich jak Microsoft Azure magazynu tabel, obiektów blob, kolejek i przechowuje pliki danych tooother dodanie, takie jak relacyjna i baz danych dokumentu.</span><span class="sxs-lookup"><span data-stu-id="ae785-107">Typically, your application's network traffic may traverse public and private networks and your application may use multiple storage technologies such as Microsoft Azure Storage Tables, Blobs, Queues, or Files in addition tooother data stores such as relational and document databases.</span></span>

<span data-ttu-id="ae785-108">toomanage takich aplikacji pomyślnie należy monitorować je z wyprzedzeniem i zrozumieć, jak toodiagnose i rozwiązywać problemy dotyczące wszystkich aspektów je i ich technologie zależne.</span><span class="sxs-lookup"><span data-stu-id="ae785-108">toomanage such applications successfully you should monitor them proactively and understand how toodiagnose and troubleshoot all aspects of them and their dependent technologies.</span></span> <span data-ttu-id="ae785-109">Jako użytkownik usługi Azure Storage, należy stale monitorowania usług magazynu hello aplikacja używa nieoczekiwane zmiany w zachowaniu (na przykład wolniej niż zwykle reakcje) i użyć rejestrowania toocollect bardziej szczegółowe dane i tooanalyze Wystąpił problem w głębokość.</span><span class="sxs-lookup"><span data-stu-id="ae785-109">As a user of Azure Storage services, you should continuously monitor hello Storage services your application uses for any unexpected changes in behavior (such as slower than usual response times), and use logging toocollect more detailed data and tooanalyze a problem in depth.</span></span> <span data-ttu-id="ae785-110">informacje diagnostyczne Hello, który można uzyskać od monitorowanie i rejestrowanie pomoże możesz toodetermine hello głównej przyczyny hello wystawiać Aplikacja napotkała.</span><span class="sxs-lookup"><span data-stu-id="ae785-110">hello diagnostics information you obtain from both monitoring and logging will help you toodetermine hello root cause of hello issue your application encountered.</span></span> <span data-ttu-id="ae785-111">Następnie można rozwiązać problem hello i określić hello odpowiednie czynności, które można wykonać tooremediate go.</span><span class="sxs-lookup"><span data-stu-id="ae785-111">Then you can troubleshoot hello issue and determine hello appropriate steps you can take tooremediate it.</span></span> <span data-ttu-id="ae785-112">Usługa Azure Storage jest podstawowa usługi Azure i stanowi ważną część hello większość rozwiązań klientów do wdrożenia toohello infrastruktury platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="ae785-112">Azure Storage is a core Azure service, and forms an important part of hello majority of solutions that customers deploy toohello Azure infrastructure.</span></span> <span data-ttu-id="ae785-113">Magazyn Azure obejmuje możliwości toosimplify monitorowanie, diagnozowanie i rozwiązywanie problemów z magazynowaniem w aplikacjach opartych na chmurze.</span><span class="sxs-lookup"><span data-stu-id="ae785-113">Azure Storage includes capabilities toosimplify monitoring, diagnosing, and troubleshooting storage issues in your cloud-based applications.</span></span>

> [!NOTE]
> <span data-ttu-id="ae785-114">Konta magazynu typu replikacji z magazynu Strefowo nadmiarowy (ZRS) nie mają metryki hello lub funkcja rejestrowania teraz włączone.</span><span class="sxs-lookup"><span data-stu-id="ae785-114">Storage accounts with a replication type of Zone-Redundant Storage (ZRS) do not have hello metrics or logging capability enabled at this time.</span></span> 
> 
> 

<span data-ttu-id="ae785-115">Dla przewodnika praktyczne tooend-to-end rozwiązywania problemów w aplikacji usługi Azure Storage, zobacz [Rozwiązywanie problemów przy użyciu metryk usługi Azure Storage i rejestrowania, AzCopy i Message Analyzer End-to-End](storage-e2e-troubleshooting.md).</span><span class="sxs-lookup"><span data-stu-id="ae785-115">For a hands-on guide tooend-to-end troubleshooting in Azure Storage applications, see [End-to-End Troubleshooting using Azure Storage Metrics and Logging, AzCopy, and Message Analyzer](storage-e2e-troubleshooting.md).</span></span>

* <span data-ttu-id="ae785-116">[Wprowadzenie]</span><span class="sxs-lookup"><span data-stu-id="ae785-116">[Introduction]</span></span>
  * <span data-ttu-id="ae785-117">[Jak jest zorganizowana w tym przewodniku]</span><span class="sxs-lookup"><span data-stu-id="ae785-117">[How this guide is organized]</span></span>
* <span data-ttu-id="ae785-118">[monitorowania usługi magazynu]</span><span class="sxs-lookup"><span data-stu-id="ae785-118">[Monitoring your storage service]</span></span>
  * <span data-ttu-id="ae785-119">[Monitorowanie kondycji usługi]</span><span class="sxs-lookup"><span data-stu-id="ae785-119">[Monitoring service health]</span></span>
  * <span data-ttu-id="ae785-120">[Monitorowanie wydajności]</span><span class="sxs-lookup"><span data-stu-id="ae785-120">[Monitoring capacity]</span></span>
  * <span data-ttu-id="ae785-121">[Monitorowanie dostępności]</span><span class="sxs-lookup"><span data-stu-id="ae785-121">[Monitoring availability]</span></span>
  * <span data-ttu-id="ae785-122">[Monitorowanie wydajności]</span><span class="sxs-lookup"><span data-stu-id="ae785-122">[Monitoring performance]</span></span>
* <span data-ttu-id="ae785-123">[diagnozowanie problemów z magazynowaniem]</span><span class="sxs-lookup"><span data-stu-id="ae785-123">[Diagnosing storage issues]</span></span>
  * <span data-ttu-id="ae785-124">[Problemy z usługi kondycji]</span><span class="sxs-lookup"><span data-stu-id="ae785-124">[Service health issues]</span></span>
  * <span data-ttu-id="ae785-125">[Problemy z wydajnością]</span><span class="sxs-lookup"><span data-stu-id="ae785-125">[Performance issues]</span></span>
  * <span data-ttu-id="ae785-126">[Diagnozowanie błędów]</span><span class="sxs-lookup"><span data-stu-id="ae785-126">[Diagnosing errors]</span></span>
  * <span data-ttu-id="ae785-127">[Problemy z emulatora magazynu]</span><span class="sxs-lookup"><span data-stu-id="ae785-127">[Storage emulator issues]</span></span>
  * <span data-ttu-id="ae785-128">[Narzędzia rejestrowania magazynu]</span><span class="sxs-lookup"><span data-stu-id="ae785-128">[Storage logging tools]</span></span>
  * <span data-ttu-id="ae785-129">[Przy użyciu narzędzia rejestracji w sieci]</span><span class="sxs-lookup"><span data-stu-id="ae785-129">[Using network logging tools]</span></span>
* <span data-ttu-id="ae785-130">[śledzenia End-to-end]</span><span class="sxs-lookup"><span data-stu-id="ae785-130">[End-to-end tracing]</span></span>
  * <span data-ttu-id="ae785-131">[Korelowanie dane dziennika]</span><span class="sxs-lookup"><span data-stu-id="ae785-131">[Correlating log data]</span></span>
  * <span data-ttu-id="ae785-132">[Identyfikator żądania klienta]</span><span class="sxs-lookup"><span data-stu-id="ae785-132">[Client request ID]</span></span>
  * <span data-ttu-id="ae785-133">[identyfikator żądania serwera]</span><span class="sxs-lookup"><span data-stu-id="ae785-133">[Server request ID]</span></span>
  * <span data-ttu-id="ae785-134">[Znaczniki czasu]</span><span class="sxs-lookup"><span data-stu-id="ae785-134">[Timestamps]</span></span>
* <span data-ttu-id="ae785-135">[wskazówki rozwiązywania problemów]</span><span class="sxs-lookup"><span data-stu-id="ae785-135">[Troubleshooting guidance]</span></span>
  * <span data-ttu-id="ae785-136">[metryki pokazują AverageE2ELatency wysoki i niski AverageServerLatency]</span><span class="sxs-lookup"><span data-stu-id="ae785-136">[Metrics show high AverageE2ELatency and low AverageServerLatency]</span></span>
  * <span data-ttu-id="ae785-137">[Metryki pokazują AverageE2ELatency niski i niski AverageServerLatency, ale występuje duże opóźnienie powitania klienta]</span><span class="sxs-lookup"><span data-stu-id="ae785-137">[Metrics show low AverageE2ELatency and low AverageServerLatency but hello client is experiencing high latency]</span></span>
  * <span data-ttu-id="ae785-138">[Metryki wskazują wysoką wartość AverageServerLatency]</span><span class="sxs-lookup"><span data-stu-id="ae785-138">[Metrics show high AverageServerLatency]</span></span>
  * <span data-ttu-id="ae785-139">[Występują nieoczekiwane opóźnienia w dostarczaniu komunikatów w kolejce]</span><span class="sxs-lookup"><span data-stu-id="ae785-139">[You are experiencing unexpected delays in message delivery on a queue]</span></span>
  * <span data-ttu-id="ae785-140">[metryki spowodować wzrost PercentThrottlingError]</span><span class="sxs-lookup"><span data-stu-id="ae785-140">[Metrics show an increase in PercentThrottlingError]</span></span>
  * <span data-ttu-id="ae785-141">[metryki spowodować wzrost PercentTimeoutError]</span><span class="sxs-lookup"><span data-stu-id="ae785-141">[Metrics show an increase in PercentTimeoutError]</span></span>
  * <span data-ttu-id="ae785-142">[Metryki wskazują wzrost wartości PercentNetworkError]</span><span class="sxs-lookup"><span data-stu-id="ae785-142">[Metrics show an increase in PercentNetworkError]</span></span>
  * <span data-ttu-id="ae785-143">[powitania klienta odbiera komunikaty HTTP 403 (Dostęp zabroniony)]</span><span class="sxs-lookup"><span data-stu-id="ae785-143">[hello client is receiving HTTP 403 (Forbidden) messages]</span></span>
  * <span data-ttu-id="ae785-144">[powitania klienta odbiera komunikaty HTTP 404 (nie znaleziono)]</span><span class="sxs-lookup"><span data-stu-id="ae785-144">[hello client is receiving HTTP 404 (Not found) messages]</span></span>
  * <span data-ttu-id="ae785-145">[powitania klienta odbiera komunikaty HTTP 409 (konflikt)]</span><span class="sxs-lookup"><span data-stu-id="ae785-145">[hello client is receiving HTTP 409 (Conflict) messages]</span></span>
  * <span data-ttu-id="ae785-146">[metryki pokazują PercentSuccess niskim lub wpisy dziennika analizy zawierać operacje z Stan transakcji ClientOtherErrors]</span><span class="sxs-lookup"><span data-stu-id="ae785-146">[Metrics show low PercentSuccess or analytics log entries have operations with transaction status of ClientOtherErrors]</span></span>
  * <span data-ttu-id="ae785-147">[Metryki pojemności Pokaż nieoczekiwane zwiększenie wykorzystania pojemności magazynu]</span><span class="sxs-lookup"><span data-stu-id="ae785-147">[Capacity metrics show an unexpected increase in storage capacity usage]</span></span>
  * <span data-ttu-id="ae785-148">[Występują nieoczekiwane ponowne uruchomienie maszyn wirtualnych, które mają wiele wirtualnych dysków twardych dołączonych]</span><span class="sxs-lookup"><span data-stu-id="ae785-148">[You are experiencing unexpected reboots of Virtual Machines that have a large number of attached VHDs]</span></span>
  * <span data-ttu-id="ae785-149">[Problem wynika z przy użyciu emulatora magazynu hello do rozwoju lub testu]</span><span class="sxs-lookup"><span data-stu-id="ae785-149">[Your issue arises from using hello storage emulator for development or test]</span></span>
  * <span data-ttu-id="ae785-150">[Pojawiły się problemy z instalacją hello Azure SDK dla platformy .NET]</span><span class="sxs-lookup"><span data-stu-id="ae785-150">[You are encountering problems installing hello Azure SDK for .NET]</span></span>
  * <span data-ttu-id="ae785-151">[Inny problem z usługą magazynu]</span><span class="sxs-lookup"><span data-stu-id="ae785-151">[You have a different issue with a storage service]</span></span>
* <span data-ttu-id="ae785-152">[dodatki]</span><span class="sxs-lookup"><span data-stu-id="ae785-152">[Appendices]</span></span>
  * <span data-ttu-id="ae785-153">[dodatku 1: ruchu HTTP i HTTPS toocapture przy użyciu narzędzia Fiddler]</span><span class="sxs-lookup"><span data-stu-id="ae785-153">[Appendix 1: Using Fiddler toocapture HTTP and HTTPS traffic]</span></span>
  * <span data-ttu-id="ae785-154">[dodatek 2: ruchu sieciowego przy użyciu programu Wireshark toocapture]</span><span class="sxs-lookup"><span data-stu-id="ae785-154">[Appendix 2: Using Wireshark toocapture network traffic]</span></span>
  * <span data-ttu-id="ae785-155">[dodatku 3: ruchu sieciowego przy użyciu programu Microsoft Message Analyzer toocapture]</span><span class="sxs-lookup"><span data-stu-id="ae785-155">[Appendix 3: Using Microsoft Message Analyzer toocapture network traffic]</span></span>
  * <span data-ttu-id="ae785-156">[Dodatek 4: Przy użyciu danych metryki i dziennika tooview programu Excel]</span><span class="sxs-lookup"><span data-stu-id="ae785-156">[Appendix 4: Using Excel tooview metrics and log data]</span></span>
  * <span data-ttu-id="ae785-157">[dodatek 5: monitorowanie za pomocą usługi Application Insights dla programu Visual Studio Team Services]</span><span class="sxs-lookup"><span data-stu-id="ae785-157">[Appendix 5: Monitoring with Application Insights for Visual Studio Team Services]</span></span>

## <span data-ttu-id="ae785-158"><a name="introduction"></a>Wprowadzenie</span><span class="sxs-lookup"><span data-stu-id="ae785-158"><a name="introduction"></a>Introduction</span></span>
<span data-ttu-id="ae785-159">Problemy związane z ten przewodnik przedstawia należy jak toouse funkcji takich jak analiza magazynu Azure, rejestrowania po stronie klienta w hello biblioteki klienta magazynu Azure i innych tooidentify narzędzi innych firm, diagnozowania i rozwiązywania problemów usługi Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="ae785-159">This guide shows you how toouse features such as Azure Storage Analytics, client-side logging in hello Azure Storage Client Library, and other third-party tools tooidentify, diagnose, and troubleshoot Azure Storage related issues.</span></span>

![][1]

<span data-ttu-id="ae785-160">*Rysunek 1 monitorowania i diagnostyki i rozwiązywania problemów*</span><span class="sxs-lookup"><span data-stu-id="ae785-160">*Figure 1 Monitoring, Diagnostics, and Troubleshooting*</span></span>

<span data-ttu-id="ae785-161">Ten przewodnik jest zamierzone toobe odczytu głównie przez deweloperów usług online, korzystających z usług magazynu Azure i specjalistów IT jest odpowiedzialny za zarządzanie takich usług online.</span><span class="sxs-lookup"><span data-stu-id="ae785-161">This guide is intended toobe read primarily by developers of online services that use Azure Storage Services and IT Pros responsible for managing such online services.</span></span> <span data-ttu-id="ae785-162">Witaj cele tego przewodnika są:</span><span class="sxs-lookup"><span data-stu-id="ae785-162">hello goals of this guide are:</span></span>

* <span data-ttu-id="ae785-163">toohelp Obsługa hello kondycji i wydajności konta magazynu Azure.</span><span class="sxs-lookup"><span data-stu-id="ae785-163">toohelp you maintain hello health and performance of your Azure Storage accounts.</span></span>
* <span data-ttu-id="ae785-164">tooprovide program hello niezbędne procesów i narzędzi toohelp zdecydować, czy problem w aplikacji lub problem dotyczy tooAzure magazynu.</span><span class="sxs-lookup"><span data-stu-id="ae785-164">tooprovide you with hello necessary processes and tools toohelp you decide if an issue or problem in an application relates tooAzure Storage.</span></span>
* <span data-ttu-id="ae785-165">tooprovide z możliwością wykonania akcji wskazówki dotyczące rozwiązywania problemów związanych z tooAzure magazynu.</span><span class="sxs-lookup"><span data-stu-id="ae785-165">tooprovide you with actionable guidance for resolving problems related tooAzure Storage.</span></span>

### <span data-ttu-id="ae785-166"><a name="how-this-guide-is-organized"></a>Jak jest zorganizowana w tym przewodniku</span><span class="sxs-lookup"><span data-stu-id="ae785-166"><a name="how-this-guide-is-organized"></a>How this guide is organized</span></span>
<span data-ttu-id="ae785-167">Witaj w sekcji "[monitorowania usługi magazynu]" w tym artykule opisano, jak toomonitor hello kondycji i wydajności usługi Magazyn Azure przy użyciu metryk aplikacji usługi Azure Storage Analytics (metryk Storage).</span><span class="sxs-lookup"><span data-stu-id="ae785-167">hello section "[Monitoring your storage service]" describes how toomonitor hello health and performance of your Azure Storage services using Azure Storage Analytics Metrics (Storage Metrics).</span></span>

<span data-ttu-id="ae785-168">Witaj sekcji "[diagnozowanie problemów z magazynowaniem]" w tym artykule opisano, jak problemy toodiagnose korzystania z usługi Azure magazynu Analytics rejestrowania (rejestrowania magazynu).</span><span class="sxs-lookup"><span data-stu-id="ae785-168">hello section "[Diagnosing storage issues]" describes how toodiagnose issues using Azure Storage Analytics Logging (Storage Logging).</span></span> <span data-ttu-id="ae785-169">Opisuje również sposób tooenable rejestrowania po stronie klienta przy użyciu hello urządzeń w jednej z bibliotek klienta hello, takich jak hello biblioteki klienta usługi Storage dla platformy .NET lub hello Azure SDK dla języka Java.</span><span class="sxs-lookup"><span data-stu-id="ae785-169">It also describes how tooenable client-side logging using hello facilities in one of hello client libraries such as hello Storage Client Library for .NET or hello Azure SDK for Java.</span></span>

<span data-ttu-id="ae785-170">Witaj w sekcji "[śledzenia End-to-end]" w tym artykule opisano, jak można skorelować hello informacje zawarte w różnych plikach dziennika i dane metryk.</span><span class="sxs-lookup"><span data-stu-id="ae785-170">hello section "[End-to-end tracing]" describes how you can correlate hello information contained in various log files and metrics data.</span></span>

<span data-ttu-id="ae785-171">Witaj w sekcji "[wskazówki rozwiązywania problemów]" znajdują się wskazówki dotyczące rozwiązywania problemów w przypadku niektórych hello typowe związane z magazynowaniem problemy mogą wystąpić.</span><span class="sxs-lookup"><span data-stu-id="ae785-171">hello section "[Troubleshooting guidance]" provides troubleshooting guidance for some of hello common storage-related issues you might encounter.</span></span>

<span data-ttu-id="ae785-172">Witaj "[dodatki]" zawierają informacje o przy użyciu innych narzędzi, takich jak Wireshark i Netmon analizowanie sieci pakietów danych, narzędzia Fiddler do analizowania komunikaty HTTP/HTTPS, a dane dziennika programu Microsoft Message Analyzer dla korelacji.</span><span class="sxs-lookup"><span data-stu-id="ae785-172">hello "[Appendices]" include information about using other tools such as Wireshark and Netmon for analyzing network packet data, Fiddler for analyzing HTTP/HTTPS messages, and Microsoft Message Analyzer for correlating log data.</span></span>

## <span data-ttu-id="ae785-173"><a name="monitoring-your-storage-service"></a>Monitorowanie usługi magazynu</span><span class="sxs-lookup"><span data-stu-id="ae785-173"><a name="monitoring-your-storage-service"></a>Monitoring your storage service</span></span>
<span data-ttu-id="ae785-174">Jeśli znasz monitorowania wydajności systemu Windows, można traktować metryki magazynu jako odpowiednik liczników monitora wydajności systemu Windows Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="ae785-174">If you are familiar with Windows performance monitoring, you can think of Storage Metrics as being an Azure Storage equivalent of Windows Performance Monitor counters.</span></span> <span data-ttu-id="ae785-175">Metryki magazynu zawiera rozbudowany zestaw metryki (liczniki w terminologii Monitor wydajności systemu Windows), np. dostępność usługi, całkowita liczba żądań tooservice lub odsetek pomyślnych żądań tooservice (Aby uzyskać pełną listę hello dostępne metryki, zobacz <a href="http://msdn.microsoft.com/library/azure/hh343264.aspx" target="_blank">schemat tabeli metryki analityka magazynu</a> w witrynie MSDN).</span><span class="sxs-lookup"><span data-stu-id="ae785-175">In Storage Metrics you will find a comprehensive set of metrics (counters in Windows Performance Monitor terminology) such as service availability, total number of requests tooservice, or percentage of successful requests tooservice (for a full list of hello available metrics, see <a href="http://msdn.microsoft.com/library/azure/hh343264.aspx" target="_blank">Storage Analytics Metrics Table Schema</a> on MSDN).</span></span> <span data-ttu-id="ae785-176">Można określić, czy mają hello magazynu usługi toocollect i agregacji metryki co godzinę lub co minutę.</span><span class="sxs-lookup"><span data-stu-id="ae785-176">You can specify whether you want hello storage service toocollect and aggregate metrics every hour or every minute.</span></span> <span data-ttu-id="ae785-177">Aby uzyskać więcej informacji na temat tooenable metryk i monitorowanie kont magazynu, zobacz temat <a href="http://go.microsoft.com/fwlink/?LinkId=510865" target="_blank">Włączanie metryk storage</a> w witrynie MSDN.</span><span class="sxs-lookup"><span data-stu-id="ae785-177">For more information about how tooenable metrics and monitor your storage accounts, see <a href="http://go.microsoft.com/fwlink/?LinkId=510865" target="_blank">Enabling storage metrics</a> on MSDN.</span></span>

<span data-ttu-id="ae785-178">Można wybrać, które metryki co godzinę ma toodisplay w hello Azure Classic Portal i skonfigurować reguły powiadamiania administratorów za pośrednictwem poczty e-mail, gdy metryki co godzinę przekracza próg określonego (Aby uzyskać więcej informacji, zobacz stronę hello <a href="http://msdn.microsoft.com/library/azure/dn306638.aspx" target="_blank">jak: Odbieranie powiadomień o alertach i zarządzać nimi reguł alertów na platformie Azure</a>).</span><span class="sxs-lookup"><span data-stu-id="ae785-178">You can choose which hourly metrics you want toodisplay in hello Azure Classic Portal and configure rules that notify administrators by email whenever an hourly metric exceeds a particular threshold (for more information, see hello page <a href="http://msdn.microsoft.com/library/azure/dn306638.aspx" target="_blank">How to: Receive Alert Notifications and Manage Alert Rules in Azure</a>).</span></span> <span data-ttu-id="ae785-179">Usługa magazynu Hello zbiera metryki przy użyciu podjęto najlepsze możliwe działanie, ale nie można rejestrować każdej operacji magazynu.</span><span class="sxs-lookup"><span data-stu-id="ae785-179">hello storage service collects metrics using a best effort, but may not record every storage operation.</span></span>

<span data-ttu-id="ae785-180">Na rysunku 2 poniżej przedstawiono hello monitorowania strony w hello klasycznego portalu Azure, gdzie można przeglądać metryki, np. dostępność, całkowita liczba żądań i numery Średni czas oczekiwania dla konta magazynu.</span><span class="sxs-lookup"><span data-stu-id="ae785-180">Figure 2 below shows hello Monitor page in hello Azure Classic Portal where you can view metrics such as availability, total requests, and average latency numbers for a storage account.</span></span> <span data-ttu-id="ae785-181">Reguły powiadomień został również skonfigurowany tooalert administrator Jeśli dostępności spadnie poniżej określonego poziomu.</span><span class="sxs-lookup"><span data-stu-id="ae785-181">A notification rule has also been set up tooalert an administrator if availability drops below a certain level.</span></span> <span data-ttu-id="ae785-182">Wyświetlanie te dane, jednego obszaru możliwych do badania jest hello tabeli usługi procent powodzenia trwa poniżej 100% (Aby uzyskać więcej informacji, zobacz sekcję hello "[metryki pokazują PercentSuccess niskim lub wpisy dziennika analizy zawierać operacje z Stan transakcji ClientOtherErrors]").</span><span class="sxs-lookup"><span data-stu-id="ae785-182">From viewing this data, one possible area for investigation is hello table service success percentage being below 100% (for more information, see hello section "[Metrics show low PercentSuccess or analytics log entries have operations with transaction status of ClientOtherErrors]").</span></span>

![][2]

<span data-ttu-id="ae785-183">*Rysunek 2 wyświetlania metryk pamięci masowej w hello klasycznego portalu Azure*</span><span class="sxs-lookup"><span data-stu-id="ae785-183">*Figure 2 Viewing storage metrics in hello Azure Classic Portal*</span></span>

<span data-ttu-id="ae785-184">Należy monitorować stale tooensure z aplikacjami platformy Azure, są one dobrej kondycji i wydajności, zgodnie z oczekiwaniami:</span><span class="sxs-lookup"><span data-stu-id="ae785-184">You should continuously monitor your Azure applications tooensure they are healthy and performing as expected by:</span></span>

* <span data-ttu-id="ae785-185">Ustanawianie niektóre metryki linii bazowej dla aplikacji, które będą pozwalają toocompare bieżące dane i identyfikację wszelkich istotnych zmian w zachowanie hello magazynu Azure i aplikacji.</span><span class="sxs-lookup"><span data-stu-id="ae785-185">Establishing some baseline metrics for application that will enable you toocompare current data and identify any significant changes in hello behavior of Azure storage and your application.</span></span> <span data-ttu-id="ae785-186">w wielu przypadkach Hello wartości metryki z linii bazowej będzie określone dla aplikacji i należy je określić w przypadku testowania aplikacji.</span><span class="sxs-lookup"><span data-stu-id="ae785-186">hello values of your baseline metrics will, in many cases, be application specific and you should establish them when you are performance testing your application.</span></span>
* <span data-ttu-id="ae785-187">Rejestrowanie minuty metryki i ich użycie toomonitor aktywnie nieoczekiwane błędy i anomalie, takich jak gwałtowny wzrost liczby błędów lub liczby żądań.</span><span class="sxs-lookup"><span data-stu-id="ae785-187">Recording minute metrics and using them toomonitor actively for unexpected errors and anomalies such as spikes in error counts or request rates.</span></span>
* <span data-ttu-id="ae785-188">Rejestrowanie metryki co godzinę i ich użycie wartości średnie toomonitor takie jak średni liczby błędów i liczby żądań.</span><span class="sxs-lookup"><span data-stu-id="ae785-188">Recording hourly metrics and using them toomonitor average values such as average error counts and request rates.</span></span>
* <span data-ttu-id="ae785-189">Badania potencjalnych problemów za pomocą narzędzi diagnostycznych, zgodnie z opisem w dalszej części hello "[diagnozowanie problemów z magazynowaniem]."</span><span class="sxs-lookup"><span data-stu-id="ae785-189">Investigating potential issues using diagnostics tools as discussed later in hello section "[Diagnosing storage issues]."</span></span>

<span data-ttu-id="ae785-190">Wykresy Hello na rysunku 3 poniżej pokazują, jak hello uśrednianie występujący dla metryki co godzinę można ukryć wzrostów w działaniu.</span><span class="sxs-lookup"><span data-stu-id="ae785-190">hello charts in Figure 3 below illustrate how hello averaging that occurs for hourly metrics can hide spikes in activity.</span></span> <span data-ttu-id="ae785-191">metryki co godzinę Hello są wyświetlane tooshow stała liczba żądań, podczas minutę hello metryki ujawnić wahań hello, które naprawdę odbywają się.</span><span class="sxs-lookup"><span data-stu-id="ae785-191">hello hourly metrics appear tooshow a steady rate of requests, while hello minute metrics reveal hello fluctuations that are really taking place.</span></span>

![][3]

<span data-ttu-id="ae785-192">Witaj pozostałej części tej sekcji opisano metryki, które należy monitorować i dlaczego.</span><span class="sxs-lookup"><span data-stu-id="ae785-192">hello remainder of this section describes what metrics you should monitor and why.</span></span>

### <span data-ttu-id="ae785-193"><a name="monitoring-service-health"></a>Monitorowanie kondycji usługi</span><span class="sxs-lookup"><span data-stu-id="ae785-193"><a name="monitoring-service-health"></a>Monitoring service health</span></span>
<span data-ttu-id="ae785-194">Można użyć hello [klasycznego portalu Azure](https://manage.windowsazure.com) regiony platformy Azure wokół hello world hello tooview hello kondycji usługi magazynu hello (i innych usług Azure) we wszystkich.</span><span class="sxs-lookup"><span data-stu-id="ae785-194">You can use hello [Azure Classic Portal](https://manage.windowsazure.com) tooview hello health of hello Storage service (and other Azure services) in all hello Azure regions around hello world.</span></span> <span data-ttu-id="ae785-195">Dzięki temu możesz toosee natychmiast Jeśli problemu poza formantu ma wpływ na powitania usługi magazynu w regionie hello, używane w przypadku aplikacji.</span><span class="sxs-lookup"><span data-stu-id="ae785-195">This enables you toosee immediately if an issue outside of your control is affecting hello Storage service in hello region you use for your application.</span></span>

<span data-ttu-id="ae785-196">Witaj klasycznego portalu Azure może także udostępnić powiadomienia zdarzenia mające wpływ na powitania różne usługi platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="ae785-196">hello Azure Classic Portal can also provide with notifications of incidents that affect hello various Azure services.</span></span>
<span data-ttu-id="ae785-197">Uwaga: Te informacje wcześniej była dostępna, wraz z danych historycznych, na hello pulpicie nawigacyjnym usługi Azure w <a href="http://status.azure.com" target="_blank">http://status.azure.com</a>.</span><span class="sxs-lookup"><span data-stu-id="ae785-197">Note: This information was previously available, along with historical data, on hello Azure Service Dashboard at <a href="http://status.azure.com" target="_blank">http://status.azure.com</a>.</span></span>

<span data-ttu-id="ae785-198">Gdy hello klasycznego portalu Azure zbiera informacje o kondycji z wewnątrz hello centrach danych platformy Azure (poza wewnątrz monitorowanie), możesz również przyjęcie podejścia w zewnętrznej toogenerate transakcji syntetycznych, które okresowo dostęp do Twojego hostowanymi na platformie Azure Aplikacja sieci Web z wielu lokalizacji.</span><span class="sxs-lookup"><span data-stu-id="ae785-198">While hello Azure Classic Portal collects health information from inside hello Azure datacenters (inside-out monitoring), you could also consider adopting an outside-in approach toogenerate synthetic transactions that periodically access your Azure-hosted web application from multiple locations.</span></span> <span data-ttu-id="ae785-199">Witaj usług oferowanych przez <a href="http://www.keynote.com/solutions/monitoring/web-monitoring" target="_blank">prelekcji</a>, <a href="https://www.gomeznetworks.com/?g=1" target="_blank">Gomez</a>, i przykłady tego podejścia zewnętrznej usługi Application Insights dla programu Visual Studio Team Services.</span><span class="sxs-lookup"><span data-stu-id="ae785-199">hello services offered by <a href="http://www.keynote.com/solutions/monitoring/web-monitoring" target="_blank">Keynote</a>, <a href="https://www.gomeznetworks.com/?g=1" target="_blank">Gomez</a>, and Application Insights for Visual Studio Team Services are examples of this outside-in approach.</span></span> <span data-ttu-id="ae785-200">Aby uzyskać więcej informacji dotyczących usługi Application Insights dla programu Visual Studio Team Services, zobacz dodatek hello "[dodatek 5: monitorowanie za pomocą usługi Application Insights dla programu Visual Studio Team Services]."</span><span class="sxs-lookup"><span data-stu-id="ae785-200">For more information about Application Insights for Visual Studio Team Services, see hello appendix "[Appendix 5: Monitoring with Application Insights for Visual Studio Team Services]."</span></span>

### <span data-ttu-id="ae785-201"><a name="monitoring-capacity"></a>Monitorowanie wydajności</span><span class="sxs-lookup"><span data-stu-id="ae785-201"><a name="monitoring-capacity"></a>Monitoring capacity</span></span>
<span data-ttu-id="ae785-202">Metryki magazynu przechowuje dane tylko metryki pojemności dla usługi blob hello ponieważ obiekty BLOB zwykle konta hello największą część przechowywanych danych (w czasie hello zapisu, nie jest możliwe toouse metryki magazynu toomonitor hello pojemność tabel i kolejek) .</span><span class="sxs-lookup"><span data-stu-id="ae785-202">Storage Metrics only stores capacity metrics for hello blob service because blobs typically account for hello largest proportion of stored data (at hello time of writing, it is not possible toouse Storage Metrics toomonitor hello capacity of your tables and queues).</span></span> <span data-ttu-id="ae785-203">Te dane można znaleźć w hello **$MetricsCapacityBlob** tabeli, jeśli jest włączone monitorowanie hello usługi Blob.</span><span class="sxs-lookup"><span data-stu-id="ae785-203">You can find this data in hello **$MetricsCapacityBlob** table if you have enabled monitoring for hello Blob service.</span></span> <span data-ttu-id="ae785-204">Metryki magazynu rejestruje dane raz dziennie, i można użyć wartości hello hello **RowKey** toodetermine czy hello wiersz zawiera jednostki, która odnosi się toouser danych (wartość **danych**) lub analizy danych ( wartość **analytics**).</span><span class="sxs-lookup"><span data-stu-id="ae785-204">Storage Metrics records this data once per day, and you can use hello value of hello **RowKey** toodetermine whether hello row contains an entity that relates toouser data (value **data**) or analytics data (value **analytics**).</span></span> <span data-ttu-id="ae785-205">Każdej jednostki przechowywanej zawiera informacje o hello ilość użytego magazynu (**pojemności** mierzony w bajtach), a bieżąca liczba kontenerów hello (**ContainerCount**) i obiektów blob ( **ObjectCount**) używanych w hello konta magazynu.</span><span class="sxs-lookup"><span data-stu-id="ae785-205">Each stored entity contains information about hello amount of storage used (**Capacity** measured in bytes) and hello current number of containers (**ContainerCount**) and blobs (**ObjectCount**) in use in hello storage account.</span></span> <span data-ttu-id="ae785-206">Aby uzyskać więcej informacji o metryki pojemności hello przechowywane w hello **$MetricsCapacityBlob** tabeli, zobacz <a href="http://msdn.microsoft.com/library/azure/hh343264.aspx" target="_blank">schemat tabeli metryki analityka magazynu</a> w witrynie MSDN.</span><span class="sxs-lookup"><span data-stu-id="ae785-206">For more information about hello capacity metrics stored in hello **$MetricsCapacityBlob** table, see <a href="http://msdn.microsoft.com/library/azure/hh343264.aspx" target="_blank">Storage Analytics Metrics Table Schema</a> on MSDN.</span></span>

> [!NOTE]
> <span data-ttu-id="ae785-207">Należy monitorować te wartości wczesne ostrzeżenie, że zbliża się hello limitu pojemności konta magazynu.</span><span class="sxs-lookup"><span data-stu-id="ae785-207">You should monitor these values for an early warning that you are approaching hello capacity limits of your storage account.</span></span> <span data-ttu-id="ae785-208">W hello klasycznego portalu Azure na powitania **Monitor** strony dla konta magazynu, można dodać alert toonotify reguły, jeśli użycie agregacji magazynu przekracza lub spadnie poniżej określonych progów.</span><span class="sxs-lookup"><span data-stu-id="ae785-208">In hello Azure Classic Portal, on hello **Monitor** page for your storage account, you can add alert rules toonotify you if aggregate storage use exceeds or falls below thresholds that you specify.</span></span>
> 
> 

<span data-ttu-id="ae785-209">Trwa szacowanie rozmiaru hello różnych obiektów pamięci masowej, takich jak obiekty BLOB pomoc na ten temat można znaleźć w blogu hello <a href="http://blogs.msdn.com/b/windowsazurestorage/archive/2010/07/09/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity.aspx" target="_blank">opis Azure magazynu rozliczeń — przepustowość, transakcje i pojemności</a>.</span><span class="sxs-lookup"><span data-stu-id="ae785-209">For help estimating hello size of various storage objects such as blobs, see hello blog post <a href="http://blogs.msdn.com/b/windowsazurestorage/archive/2010/07/09/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity.aspx" target="_blank">Understanding Azure Storage Billing – Bandwidth, Transactions, and Capacity</a>.</span></span>

### <span data-ttu-id="ae785-210"><a name="monitoring-availability"></a>Monitorowanie dostępności</span><span class="sxs-lookup"><span data-stu-id="ae785-210"><a name="monitoring-availability"></a>Monitoring availability</span></span>
<span data-ttu-id="ae785-211">Należy monitorować hello dostępności usług magazynu hello na koncie magazynu przez wartość hello w hello monitorowania **dostępności** kolumny w hello godzinowe i minutowe metryki tabel — **$ MetricsHourPrimaryTransactionsBlob**, **$MetricsHourPrimaryTransactionsTable**, **$MetricsHourPrimaryTransactionsQueue**, **$ MetricsMinutePrimaryTransactionsBlob**, **$MetricsMinutePrimaryTransactionsTable**, **$MetricsMinutePrimaryTransactionsQueue**, **$ MetricsCapacityBlob**.</span><span class="sxs-lookup"><span data-stu-id="ae785-211">You should monitor hello availability of hello storage services in your storage account by monitoring hello value in hello **Availability** column in hello hourly or minute metrics tables — **$MetricsHourPrimaryTransactionsBlob**, **$MetricsHourPrimaryTransactionsTable**, **$MetricsHourPrimaryTransactionsQueue**, **$MetricsMinutePrimaryTransactionsBlob**, **$MetricsMinutePrimaryTransactionsTable**, **$MetricsMinutePrimaryTransactionsQueue**, **$MetricsCapacityBlob**.</span></span> <span data-ttu-id="ae785-212">Witaj **dostępności** kolumna zawiera wartość procentową, która wskazuje hello dostępności usługi hello lub reprezentowanego przez wiersz hello operacji hello interfejsu API (hello **RowKey** pokazuje, czy wiersz hello zawiera metryki dla usługi hello jako całość lub dla określonej operacji interfejsu API).</span><span class="sxs-lookup"><span data-stu-id="ae785-212">hello **Availability** column contains a percentage value that indicates hello availability of hello service or hello API operation represented by hello row (hello **RowKey** shows if hello row contains metrics for hello service as a whole or for a specific API operation).</span></span>

<span data-ttu-id="ae785-213">Wszystkie wartości mniejszej niż 100% wskazuje, że niektóre żądania magazynu kończą się niepowodzeniem.</span><span class="sxs-lookup"><span data-stu-id="ae785-213">Any value less than 100% indicates that some storage requests are failing.</span></span> <span data-ttu-id="ae785-214">Widać, dlaczego ulegają awarii, sprawdzając hello innych kolumn danych metryki hello takich jak Pokaż hello liczby żądań z typami inny błąd **ServerTimeoutError**.</span><span class="sxs-lookup"><span data-stu-id="ae785-214">You can see why they are failing by examining hello other columns in hello metrics data that show hello numbers of requests with different error types such as **ServerTimeoutError**.</span></span> <span data-ttu-id="ae785-215">Należy oczekiwać toosee **dostępności** spadek tymczasowo poniżej 100% powodów takich, jak limity czasu przejściowa serwera podczas usługi hello przenosi partycje toobetter Równoważenie obciążenia żądania; hello ponów logikę w aplikacji klienta powinna obsługiwać takie warunki tymczasowymi.</span><span class="sxs-lookup"><span data-stu-id="ae785-215">You should expect toosee **Availability** fall temporarily below 100% for reasons such as transient server timeouts while hello service moves partitions toobetter load-balance request; hello retry logic in your client application should handle such intermittent conditions.</span></span> <span data-ttu-id="ae785-216">Strona Hello <a href="http://msdn.microsoft.com/library/azure/hh343260.aspx" target="_blank"> </a> list hello typów transakcji, które zawiera metryki magazynu w jego **dostępności** obliczeń.</span><span class="sxs-lookup"><span data-stu-id="ae785-216">hello page <a href="http://msdn.microsoft.com/library/azure/hh343260.aspx" target="_blank"></a> lists hello transaction types that Storage Metrics includes in its **Availability** calculation.</span></span>

<span data-ttu-id="ae785-217">W hello klasycznego portalu Azure na powitania **Monitor** strony dla konta magazynu, można dodać reguły alertów toonotify możesz Jeśli **dostępności** dla usługi spadnie poniżej progu, który określisz.</span><span class="sxs-lookup"><span data-stu-id="ae785-217">In hello Azure Classic Portal, on hello **Monitor** page for your storage account, you can add alert rules toonotify you if **Availability** for a service falls below a threshold that you specify.</span></span>

<span data-ttu-id="ae785-218">Witaj "[wskazówki rozwiązywania problemów]" sekcji tego przewodnika opisano niektóre typowe magazynu usługi problemów powiązanych tooavailability.</span><span class="sxs-lookup"><span data-stu-id="ae785-218">hello "[Troubleshooting guidance]" section of this guide describes some common storage service issues related tooavailability.</span></span>

### <span data-ttu-id="ae785-219"><a name="monitoring-performance"></a>Monitorowanie wydajności</span><span class="sxs-lookup"><span data-stu-id="ae785-219"><a name="monitoring-performance"></a>Monitoring performance</span></span>
<span data-ttu-id="ae785-220">wydajność hello toomonitor hello usług magazynu, można użyć hello poniższych metryki z hello co godzinę i minuty metryki tabel.</span><span class="sxs-lookup"><span data-stu-id="ae785-220">toomonitor hello performance of hello storage services, you can use hello following metrics from hello hourly and minute metrics tables.</span></span>

* <span data-ttu-id="ae785-221">Witaj wartości hello **AverageE2ELatency** i **AverageServerLatency** Pokaż hello Średni czas hello magazynu usługi lub typ operacji interfejsu API trwa tooprocess żądań.</span><span class="sxs-lookup"><span data-stu-id="ae785-221">hello values in hello **AverageE2ELatency** and **AverageServerLatency** show hello average time hello storage service or API operation type is taking tooprocess requests.</span></span> <span data-ttu-id="ae785-222">**AverageE2ELatency** jest miarą end-to-end opóźnienia, które obejmuje czas hello tooread hello żądania i wysyła odpowiedź hello w tooprocess hello prośbę o dodanie toohello czas trwania (w związku z tym obejmuje opóźnienia sieci po hello żądania osiągnie usługi magazynu hello); **AverageServerLatency** to miara tylko hello czas przetwarzania i dlatego nie obejmuje opóźnienia sieci, wszystkie powiązane toocommunicating powitania klienta.</span><span class="sxs-lookup"><span data-stu-id="ae785-222">**AverageE2ELatency** is a measure of end-to-end latency that includes hello time taken tooread hello request and send hello response in addition toohello time taken tooprocess hello request (therefore includes network latency once hello request reaches hello storage service); **AverageServerLatency** is a measure of just hello processing time and therefore excludes any network latency related toocommunicating with hello client.</span></span> <span data-ttu-id="ae785-223">Witaj w sekcji "[metryki pokazują AverageE2ELatency wysoki i niski AverageServerLatency]" w dalszej części tego przewodnika, aby uzyskać informacje dotyczące przyczyny może występować znaczące różnice między tymi dwoma wartościami.</span><span class="sxs-lookup"><span data-stu-id="ae785-223">See hello section "[Metrics show high AverageE2ELatency and low AverageServerLatency]" later in this guide for a discussion of why there might be a significant difference between these two values.</span></span>
* <span data-ttu-id="ae785-224">Witaj wartości hello **TotalIngress** i **TotalEgress** kolumny zawierają hello łączna ilość danych, w bajtach przychodzących tooand przechodzi poza usługą magazynu lub za pomocą określonego typu operacji interfejsu API.</span><span class="sxs-lookup"><span data-stu-id="ae785-224">hello values in hello **TotalIngress** and **TotalEgress** columns show hello total amount of data, in bytes, coming in tooand going out of your storage service or through a specific API operation type.</span></span>
* <span data-ttu-id="ae785-225">Witaj wartości hello **TotalRequests** otrzymuje kolumny Pokaż hello całkowita liczba żądań, które hello usługi magazynu operacji interfejsu API.</span><span class="sxs-lookup"><span data-stu-id="ae785-225">hello values in hello **TotalRequests** column show hello total number of requests that hello storage service of API operation is receiving.</span></span> <span data-ttu-id="ae785-226">**TotalRequests** hello łączna liczba żądań, które otrzymuje hello usługi magazynu.</span><span class="sxs-lookup"><span data-stu-id="ae785-226">**TotalRequests** is hello total number of requests that hello storage service receives.</span></span>

<span data-ttu-id="ae785-227">Zazwyczaj monitorujesz nieoczekiwane zmiany w dowolnej z tych wartości jako wskaźnik, czy masz wymagane jest zbadanie problemu.</span><span class="sxs-lookup"><span data-stu-id="ae785-227">Typically, you will monitor for unexpected changes in any of these values as an indicator that you have an issue that requires investigation.</span></span>

<span data-ttu-id="ae785-228">W hello klasycznego portalu Azure na powitania **Monitor** strony dla konta magazynu, można dodać reguły alertów toonotify Jeśli żadnego hello metryki wydajności dla tej usługi spadną poniżej lub przekracza wartość progową, który określisz.</span><span class="sxs-lookup"><span data-stu-id="ae785-228">In hello Azure Classic Portal, on hello **Monitor** page for your storage account, you can add alert rules toonotify you if any of hello performance metrics for this service fall below or exceed a threshold that you specify.</span></span>

<span data-ttu-id="ae785-229">Witaj "[wskazówki rozwiązywania problemów]" sekcji tego przewodnika opisano niektóre typowe magazynu usługi problemów powiązanych tooperformance.</span><span class="sxs-lookup"><span data-stu-id="ae785-229">hello "[Troubleshooting guidance]" section of this guide describes some common storage service issues related tooperformance.</span></span>

## <span data-ttu-id="ae785-230"><a name="diagnosing-storage-issues"></a>Diagnozowanie problemów z magazynowaniem</span><span class="sxs-lookup"><span data-stu-id="ae785-230"><a name="diagnosing-storage-issues"></a>Diagnosing storage issues</span></span>
<span data-ttu-id="ae785-231">Istnieje wiele sposobów, czy użytkownik może zostaną powiadomieni o problem lub problem w aplikacji, należą:</span><span class="sxs-lookup"><span data-stu-id="ae785-231">There are a number of ways that you might become aware of a problem or issue in your application, these include:</span></span>

* <span data-ttu-id="ae785-232">Poważnej awarii powoduje, że aplikacja hello toocrash lub toostop działać.</span><span class="sxs-lookup"><span data-stu-id="ae785-232">A major failure that causes hello application toocrash or toostop working.</span></span>
* <span data-ttu-id="ae785-233">Znaczące zmiany z linii bazowej wartości metryk hello monitorowania zgodnie z opisem w poprzedniej sekcji hello "[monitorowania usługi magazynu]."</span><span class="sxs-lookup"><span data-stu-id="ae785-233">Significant changes from baseline values in hello metrics you are monitoring as described in hello previous section "[Monitoring your storage service]."</span></span>
* <span data-ttu-id="ae785-234">Raporty z użytkowników aplikacji, że niektóre określonej operacji nie została ukończona, zgodnie z oczekiwaniami lub nie działa niektórych funkcji.</span><span class="sxs-lookup"><span data-stu-id="ae785-234">Reports from users of your application that some particular operation didn't complete as expected or that some feature is not working.</span></span>
* <span data-ttu-id="ae785-235">Błędy wygenerowane w aplikacji pojawiających się w plikach dziennika lub za pomocą innej metody powiadomień.</span><span class="sxs-lookup"><span data-stu-id="ae785-235">Errors generated within your application that appear in log files or through some other notification method.</span></span>

<span data-ttu-id="ae785-236">Zazwyczaj usług magazynu powiązanych tooAzure problemy należą do jednej z czterech szerokie kategorie:</span><span class="sxs-lookup"><span data-stu-id="ae785-236">Typically, issues related tooAzure storage services fall into one of four broad categories:</span></span>

* <span data-ttu-id="ae785-237">Aplikacja ma problem z wydajnością, zgłoszone przez użytkowników albo ujawniony z powodu zmian w hello metryki wydajności.</span><span class="sxs-lookup"><span data-stu-id="ae785-237">Your application has a performance issue, either reported by your users, or revealed by changes in hello performance metrics.</span></span>
* <span data-ttu-id="ae785-238">Występuje problem z infrastrukturą usługi Azure Storage hello w jeden lub więcej regionów.</span><span class="sxs-lookup"><span data-stu-id="ae785-238">There is a problem with hello Azure Storage infrastructure in one or more regions.</span></span>
* <span data-ttu-id="ae785-239">Aplikacja napotyka błąd zgłoszony przez użytkowników albo ujawniony przez zwiększenie w jednym z hello błąd liczby metryk, które należy monitorować.</span><span class="sxs-lookup"><span data-stu-id="ae785-239">Your application is encountering an error, either reported by your users, or revealed by an increase in one of hello error count metrics you monitor.</span></span>
* <span data-ttu-id="ae785-240">Podczas projektowania i testowania może używać hello lokalnym emulatorze magazynu; mogą wystąpić problemy, które odnoszą się w szczególności toousage hello emulatora magazynu.</span><span class="sxs-lookup"><span data-stu-id="ae785-240">During development and test, you may be using hello local storage emulator; you may encounter some issues that relate specifically toousage of hello storage emulator.</span></span>

<span data-ttu-id="ae785-241">Witaj poniższych sekcjach podano hello kroki należy wykonać toodiagnose i rozwiązywania problemów w każdej z tych czterech kategorii.</span><span class="sxs-lookup"><span data-stu-id="ae785-241">hello following sections outline hello steps you should follow toodiagnose and troubleshoot issues in each of these four categories.</span></span> <span data-ttu-id="ae785-242">Witaj w sekcji "[wskazówki rozwiązywania problemów]" dalszej części tego podręcznika zawiera więcej szczegółów dla niektórych typowych problemów, które mogą wystąpić.</span><span class="sxs-lookup"><span data-stu-id="ae785-242">hello section "[Troubleshooting guidance]" later in this guide provides more detail for some common issues you may encounter.</span></span>

### <span data-ttu-id="ae785-243"><a name="service-health-issues"></a>Problemy z usługi kondycji</span><span class="sxs-lookup"><span data-stu-id="ae785-243"><a name="service-health-issues"></a>Service health issues</span></span>
<span data-ttu-id="ae785-244">Problemy z usługi kondycji są zazwyczaj poza formantu.</span><span class="sxs-lookup"><span data-stu-id="ae785-244">Service health issues are typically outside of your control.</span></span> <span data-ttu-id="ae785-245">Hello klasyczny Portal Azure udostępnia informacje dotyczące bieżących problemów z usługami Azure, takich jak usługi magazynu.</span><span class="sxs-lookup"><span data-stu-id="ae785-245">hello Azure Classic Portal provides information about any ongoing issues with Azure services including storage services.</span></span> <span data-ttu-id="ae785-246">Jeśli zostanie wybrana opcja dostęp do odczytu z magazynu geograficznie nadmiarowego magazynu podczas tworzenia konta magazynu, następnie w zdarzeniu hello danych są niedostępne w lokalizacji głównej hello, aplikację można przełączyć tymczasowo toohello kopia tylko do odczytu w lokalizacji dodatkowej hello.</span><span class="sxs-lookup"><span data-stu-id="ae785-246">If you opted for Read-Access Geo-Redundant Storage when you created your storage account, then in hello event of your data being unavailable in hello primary location, your application could switch temporarily toohello read-only copy in hello secondary location.</span></span> <span data-ttu-id="ae785-247">toodo, aplikacja musi być możliwe tooswitch między przy użyciu lokalizacji magazynów podstawowych i pomocniczych hello, a stanie toowork w tryb zmniejszonej funkcjonalności danych tylko do odczytu.</span><span class="sxs-lookup"><span data-stu-id="ae785-247">toodo this, your application must be able tooswitch between using hello primary and secondary storage locations, and be able toowork in a reduced functionality mode with read-only data.</span></span> <span data-ttu-id="ae785-248">biblioteki klienta magazynu Azure Hello pozwalają toodefine zasady ponawiania, który może odczytywać dane z magazynu pomocniczego w przypadku błędu odczytu z magazynu głównego.</span><span class="sxs-lookup"><span data-stu-id="ae785-248">hello Azure Storage Client libraries allow you toodefine a retry policy that can read from secondary storage in case a read from primary storage fails.</span></span> <span data-ttu-id="ae785-249">Aplikacja musi również pamiętać, że hello danych w dodatkowej lokalizacji hello jest ostatecznie spójne toobe.</span><span class="sxs-lookup"><span data-stu-id="ae785-249">Your application also needs toobe aware that hello data in hello secondary location is eventually consistent.</span></span> <span data-ttu-id="ae785-250">Aby uzyskać więcej informacji, zobacz hello blogu <a href="http://blogs.msdn.com/b/windowsazurestorage/archive/2013/12/04/introducing-read-access-geo-replicated-storage-ra-grs-for-windows-azure-storage.aspx" target="_blank">opcje nadmiarowość magazynu Azure i dostęp do odczytu z magazynu geograficznie nadmiarowego magazynu</a>.</span><span class="sxs-lookup"><span data-stu-id="ae785-250">For more information, see hello blog post <a href="http://blogs.msdn.com/b/windowsazurestorage/archive/2013/12/04/introducing-read-access-geo-replicated-storage-ra-grs-for-windows-azure-storage.aspx" target="_blank">Azure Storage Redundancy Options and Read Access Geo Redundant Storage</a>.</span></span>

### <span data-ttu-id="ae785-251"><a name="performance-issues"></a>Problemy z wydajnością</span><span class="sxs-lookup"><span data-stu-id="ae785-251"><a name="performance-issues"></a>Performance issues</span></span>
<span data-ttu-id="ae785-252">Witaj wydajności aplikacji może być subiektywne, szczególnie z punktu widzenia użytkownika.</span><span class="sxs-lookup"><span data-stu-id="ae785-252">hello performance of an application can be subjective, especially from a user perspective.</span></span> <span data-ttu-id="ae785-253">Dlatego jest ważne toohave linii bazowej metryki dostępności toohelp należy określić w przypadku, gdy może być problem z wydajnością.</span><span class="sxs-lookup"><span data-stu-id="ae785-253">Therefore, it is important toohave baseline metrics available toohelp you identify where there might be a performance issue.</span></span> <span data-ttu-id="ae785-254">Wiele czynników może wpłynąć na wydajność hello usługi magazynu platformy Azure z perspektywy aplikacji hello klienta.</span><span class="sxs-lookup"><span data-stu-id="ae785-254">Many factors might affect hello performance of an Azure storage service from hello client application perspective.</span></span> <span data-ttu-id="ae785-255">Te czynniki mogą działać w usłudze magazynowania hello, powitania klienta lub hello infrastruktury sieci. Dlatego jest ważne toohave strategii identyfikowanie hello pochodzenia hello problem z wydajnością.</span><span class="sxs-lookup"><span data-stu-id="ae785-255">These factors might operate in hello storage service, in hello client, or in hello network infrastructure; therefore it is important toohave a strategy for identifying hello origin of hello performance issue.</span></span>

<span data-ttu-id="ae785-256">Po zidentyfikowaniu hello lokalizacji prawdopodobnie Przyczyna hello hello problemu z wydajnością z hello metryki mogą być następnie toofind pliki dziennika hello Użyj szczegółowe informacje o toodiagnose i dalsze hello problemu.</span><span class="sxs-lookup"><span data-stu-id="ae785-256">After you have identified hello likely location of hello cause of hello performance issue from hello metrics, you can then use hello log files toofind detailed information toodiagnose and troubleshoot hello problem further.</span></span>

<span data-ttu-id="ae785-257">Witaj w sekcji "[wskazówki rozwiązywania problemów]" dalszej części tego podręcznika zawiera więcej informacji na temat niektórych typowych wydajności związane z problemów, które mogą wystąpić.</span><span class="sxs-lookup"><span data-stu-id="ae785-257">hello section "[Troubleshooting guidance]" later in this guide provides more information about some common performance related issues you may encounter.</span></span>

### <span data-ttu-id="ae785-258"><a name="diagnosing-errors"></a>Diagnozowanie błędów</span><span class="sxs-lookup"><span data-stu-id="ae785-258"><a name="diagnosing-errors"></a>Diagnosing errors</span></span>
<span data-ttu-id="ae785-259">Użytkownicy aplikacji mogą informować o błędów zgłoszonych przez aplikację klienta hello.</span><span class="sxs-lookup"><span data-stu-id="ae785-259">Users of your application may notify you of errors reported by hello client application.</span></span> <span data-ttu-id="ae785-260">Takie jak magazyn metryki liczby typów inny błąd z usług magazynu rejestruje także **NetworkError**, **ClientTimeoutError**, lub **AuthorizationError**.</span><span class="sxs-lookup"><span data-stu-id="ae785-260">Storage Metrics also records counts of different error types from your storage services such as **NetworkError**, **ClientTimeoutError**, or **AuthorizationError**.</span></span> <span data-ttu-id="ae785-261">Gdy metryki magazynu rejestruje tylko liczby o różnych typów, można uzyskać szczegółowe informacje o poszczególnych żądań, przeglądając po stronie serwera, po stronie klienta oraz dzienniki sieci.</span><span class="sxs-lookup"><span data-stu-id="ae785-261">While Storage Metrics only records counts of different error types, you can obtain more detail about individual requests by examining server-side, client-side, and network logs.</span></span> <span data-ttu-id="ae785-262">Zazwyczaj zwrócony przez usługę magazynu hello kod stanu HTTP hello zapewni wskazanie Dlaczego hello żądanie nie powiodło się.</span><span class="sxs-lookup"><span data-stu-id="ae785-262">Typically, hello HTTP status code returned by hello storage service will give an indication of why hello request failed.</span></span>

> [!NOTE]
> <span data-ttu-id="ae785-263">Należy pamiętać, że należy oczekiwać toosee sporadyczne błędy: na przykład błędy powodu warunków sieciowych tootransient lub błędów aplikacji.</span><span class="sxs-lookup"><span data-stu-id="ae785-263">Remember that you should expect toosee some intermittent errors: for example, errors due tootransient network conditions, or application errors.</span></span>
> 
> 

<span data-ttu-id="ae785-264">Hello są przydatne w przypadku opis kodów stanu i błędów związane z magazynowaniem następujące zasoby w witrynie MSDN:</span><span class="sxs-lookup"><span data-stu-id="ae785-264">hello following resources on MSDN are useful for understanding storage-related status and error codes:</span></span>

* <span data-ttu-id="ae785-265"><a href="http://msdn.microsoft.com/library/azure/dd179357.aspx" target="_blank">Typowe kody błędów interfejsu API REST</a></span><span class="sxs-lookup"><span data-stu-id="ae785-265"><a href="http://msdn.microsoft.com/library/azure/dd179357.aspx" target="_blank">Common REST API Error Codes</a></span></span>
* <span data-ttu-id="ae785-266"><a href="http://msdn.microsoft.com/library/azure/dd179439.aspx" target="_blank">Kody błędów usługi blob</a></span><span class="sxs-lookup"><span data-stu-id="ae785-266"><a href="http://msdn.microsoft.com/library/azure/dd179439.aspx" target="_blank">Blob Service Error Codes</a></span></span>
* <span data-ttu-id="ae785-267"><a href="http://msdn.microsoft.com/library/azure/dd179446.aspx" target="_blank">Kody błędów usługi kolejki</a></span><span class="sxs-lookup"><span data-stu-id="ae785-267"><a href="http://msdn.microsoft.com/library/azure/dd179446.aspx" target="_blank">Queue Service Error Codes</a></span></span>
* <span data-ttu-id="ae785-268"><a href="http://msdn.microsoft.com/library/azure/dd179438.aspx" target="_blank">Kody błędów usługi tabel</a></span><span class="sxs-lookup"><span data-stu-id="ae785-268"><a href="http://msdn.microsoft.com/library/azure/dd179438.aspx" target="_blank">Table Service Error Codes</a></span></span>

### <span data-ttu-id="ae785-269"><a name="storage-emulator-issues"></a>Problemy z emulatora magazynu</span><span class="sxs-lookup"><span data-stu-id="ae785-269"><a name="storage-emulator-issues"></a>Storage emulator issues</span></span>
<span data-ttu-id="ae785-270">Witaj zestawu Azure SDK zawiera emulator magazynu, które można uruchamiać na deweloperskiej stacji roboczej.</span><span class="sxs-lookup"><span data-stu-id="ae785-270">hello Azure SDK includes a storage emulator you can run on a development workstation.</span></span> <span data-ttu-id="ae785-271">Emulator tego symuluje większość zachowanie hello hello usług magazynu Azure i jest przydatne podczas programowania i testowania, umożliwiając toorun aplikacji, które korzystają z usług magazynu platformy Azure bez hello wymagane dla subskrypcji platformy Azure i konto magazynu platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="ae785-271">This emulator simulates most of hello behavior of hello Azure storage services and is useful during development and test, enabling you toorun applications that use Azure storage services without hello need for an Azure subscription and an Azure storage account.</span></span>

<span data-ttu-id="ae785-272">Witaj "[wskazówki rozwiązywania problemów]" sekcji tego przewodnika opisano typowe problemy napotkano przy użyciu emulatora magazynu hello.</span><span class="sxs-lookup"><span data-stu-id="ae785-272">hello "[Troubleshooting guidance]" section of this guide describes some common issues encountered using hello storage emulator.</span></span>

### <span data-ttu-id="ae785-273"><a name="storage-logging-tools"></a>Narzędzia rejestrowania magazynu</span><span class="sxs-lookup"><span data-stu-id="ae785-273"><a name="storage-logging-tools"></a>Storage logging tools</span></span>
<span data-ttu-id="ae785-274">Rejestrowanie magazynu zapewnia po stronie serwera rejestrowanie żądań magazynu na koncie magazynu Azure.</span><span class="sxs-lookup"><span data-stu-id="ae785-274">Storage Logging provides server-side logging of storage requests in your Azure storage account.</span></span> <span data-ttu-id="ae785-275">Aby uzyskać więcej informacji dotyczących sposobu rejestrowania po stronie serwera tooenable i hello dostępu rejestrowanie danych, zobacz <a href="http://go.microsoft.com/fwlink/?LinkId=510867" target="_blank">przy użyciu rejestrowania po stronie serwera</a> w witrynie MSDN.</span><span class="sxs-lookup"><span data-stu-id="ae785-275">For more information about how tooenable server-side logging and access hello log data, see <a href="http://go.microsoft.com/fwlink/?LinkId=510867" target="_blank">Using server-side logging</a> on MSDN.</span></span>

<span data-ttu-id="ae785-276">Witaj biblioteki klienta usługi Storage dla platformy .NET umożliwia danych dziennika klienta toocollect odnosi się toostorage operacje wykonywane przez aplikację.</span><span class="sxs-lookup"><span data-stu-id="ae785-276">hello Storage Client Library for .NET enables you toocollect client-side log data that relates toostorage operations performed by your application.</span></span> <span data-ttu-id="ae785-277">Aby uzyskać więcej informacji dotyczących sposobu rejestrowania po stronie klienta tooenable i hello dostępu rejestrowanie danych, zobacz <a href="http://go.microsoft.com/fwlink/?LinkId=510868" target="_blank">rejestrowania po stronie klienta przy użyciu hello biblioteki klienta usługi Storage</a> w witrynie MSDN.</span><span class="sxs-lookup"><span data-stu-id="ae785-277">For more information about how tooenable client-side logging and access hello log data, see <a href="http://go.microsoft.com/fwlink/?LinkId=510868" target="_blank">Client-side logging using hello Storage Client Library</a> on MSDN.</span></span>

> [!NOTE]
> <span data-ttu-id="ae785-278">W niektórych sytuacjach (np. awarii autoryzacji sygnatury dostępu Współdzielonego) użytkownik może zgłosić błąd, który można znaleźć żadnych danych żądania w hello dzienniki magazynu po stronie serwera.</span><span class="sxs-lookup"><span data-stu-id="ae785-278">In some circumstances (such as SAS authorization failures), a user may report an error for which you can find no request data in hello server-side Storage logs.</span></span> <span data-ttu-id="ae785-279">Możesz użyć możliwości rejestrowania hello tooinvestigate biblioteki klienta usługi Storage hello Jeśli hello przyczyny problemu hello znajduje się na powitania klienta lub narzędzia tooinvestigate hello sieci do monitorowania sieci.</span><span class="sxs-lookup"><span data-stu-id="ae785-279">You can use hello logging capabilities of hello Storage Client Library tooinvestigate if hello cause of hello issue is on hello client or use network monitoring tools tooinvestigate hello network.</span></span>
> 
> 

### <span data-ttu-id="ae785-280"><a name="using-network-logging-tools"></a>Przy użyciu narzędzia rejestracji w sieci</span><span class="sxs-lookup"><span data-stu-id="ae785-280"><a name="using-network-logging-tools"></a>Using network logging tools</span></span>
<span data-ttu-id="ae785-281">Można przechwytywać ruch hello między powitania klienta i serwera tooprovide szczegółowe informacje o hello danych powitania klienta i serwera są wymiana i hello podstawowych warunków sieciowych.</span><span class="sxs-lookup"><span data-stu-id="ae785-281">You can capture hello traffic between hello client and server tooprovide detailed information about hello data hello client and server are exchanging and hello underlying network conditions.</span></span> <span data-ttu-id="ae785-282">Narzędzia rejestrowania przydatne sieci obejmują:</span><span class="sxs-lookup"><span data-stu-id="ae785-282">Useful network logging tools include:</span></span>

* <span data-ttu-id="ae785-283">Fiddler (<a href="http://www.telerik.com/fiddler" target="_blank">http://www.telerik.com/fiddler</a>) to bezpłatne sieci web profilowanie serwera proxy, który pozwala tooexamine hello nagłówki i danych ładunku komunikatów żądań i odpowiedzi HTTP i HTTPS.</span><span class="sxs-lookup"><span data-stu-id="ae785-283">Fiddler (<a href="http://www.telerik.com/fiddler" target="_blank">http://www.telerik.com/fiddler</a>) is a free web debugging proxy that enables you tooexamine hello headers and payload data of HTTP and HTTPS request and response messages.</span></span> <span data-ttu-id="ae785-284">Aby uzyskać więcej informacji, zobacz "[dodatku 1: ruchu HTTP i HTTPS toocapture przy użyciu narzędzia Fiddler]".</span><span class="sxs-lookup"><span data-stu-id="ae785-284">For more information, see "[Appendix 1: Using Fiddler toocapture HTTP and HTTPS traffic]".</span></span>
* <span data-ttu-id="ae785-285">Monitor sieci firmy Microsoft (Netmon) (<a href="http://www.microsoft.com/download/details.aspx?id=4865" target="_blank">http://www.microsoft.com/download/details.aspx?id=4865</a>) i programu Wireshark (<a href="http://www.wireshark.org/" target="_blank">http://www.wireshark.org/</a>) są analizatorów protokołu, które umożliwiają wolnej sieci Możesz tooview szczegółowe informacje pakietu dla szerokiego zakresu protokołów sieciowych.</span><span class="sxs-lookup"><span data-stu-id="ae785-285">Microsoft Network Monitor (Netmon) (<a href="http://www.microsoft.com/download/details.aspx?id=4865" target="_blank">http://www.microsoft.com/download/details.aspx?id=4865</a>) and Wireshark (<a href="http://www.wireshark.org/" target="_blank">http://www.wireshark.org/</a>) are free network protocol analyzers that enable you tooview detailed packet information for a wide range of network protocols.</span></span> <span data-ttu-id="ae785-286">Aby uzyskać więcej informacji na temat programu Wireshark, zobacz "[dodatek 2: ruchu sieciowego przy użyciu programu Wireshark toocapture]".</span><span class="sxs-lookup"><span data-stu-id="ae785-286">For more information about Wireshark, see "[Appendix 2: Using Wireshark toocapture network traffic]".</span></span>
* <span data-ttu-id="ae785-287">Programu Microsoft Message Analyzer to narzędzie firmy Microsoft, który zastępuje Monitor sieci oraz dodatkowo toocapturing sieci danych pakietu, pomaga tooview i analizować dane dzienników hello przechwytywane z innych narzędzi.</span><span class="sxs-lookup"><span data-stu-id="ae785-287">Microsoft Message Analyzer is a tool from Microsoft that supersedes Netmon and that in addition toocapturing network packet data, helps you tooview and analyze hello log data captured from other tools.</span></span> <span data-ttu-id="ae785-288">Aby uzyskać więcej informacji, zobacz "[dodatku 3: ruchu sieciowego przy użyciu programu Microsoft Message Analyzer toocapture]".</span><span class="sxs-lookup"><span data-stu-id="ae785-288">For more information, see "[Appendix 3: Using Microsoft Message Analyzer toocapture network traffic]".</span></span>
* <span data-ttu-id="ae785-289">Jeśli chcesz tooperform toocheck test podstawowej łączności, komputerze klienckim połączyć z usługą magazynu platformy Azure toohello hello sieci, nie możesz tego zrobić przy użyciu standardu hello **ping** narzędzia na powitania klienta.</span><span class="sxs-lookup"><span data-stu-id="ae785-289">If you want tooperform a basic connectivity test toocheck that your client machine can connect toohello Azure storage service over hello network, you cannot do this using hello standard **ping** tool on hello client.</span></span> <span data-ttu-id="ae785-290">Można jednak użyć hello **tcping** narzędzia toocheck łączności.</span><span class="sxs-lookup"><span data-stu-id="ae785-290">However, you can use hello **tcping** tool toocheck connectivity.</span></span> <span data-ttu-id="ae785-291">**Tcping** jest dostępny do pobrania na <a href="http://www.elifulkerson.com/projects/tcping.php" target="_blank">http://www.elifulkerson.com/projects/tcping.php</a>.</span><span class="sxs-lookup"><span data-stu-id="ae785-291">**Tcping** is available for download at <a href="http://www.elifulkerson.com/projects/tcping.php" target="_blank">http://www.elifulkerson.com/projects/tcping.php</a>.</span></span>

<span data-ttu-id="ae785-292">W wielu przypadkach hello danych dziennika z rejestrowania magazynu i biblioteki klienta usługi Storage hello będą wystarczające toodiagnose problemu, ale w niektórych scenariuszach może być konieczne hello bardziej szczegółowe informacje, które zapewniają te narzędzia rejestrowania w sieci.</span><span class="sxs-lookup"><span data-stu-id="ae785-292">In many cases, hello log data from Storage Logging and hello Storage Client Library will be sufficient toodiagnose an issue, but in some scenarios, you may need hello more detailed information that these network logging tools can provide.</span></span> <span data-ttu-id="ae785-293">Na przykład przy użyciu narzędzia Fiddler tooview HTTP i HTTPS umożliwia wiadomości tooview nagłówka i ładunku danych wysłanych tooand z hello usługi magazynu, które umożliwiłyby możesz tooexamine jak aplikacja kliencka ponowi próbę operacji magazynu.</span><span class="sxs-lookup"><span data-stu-id="ae785-293">For example, using Fiddler tooview HTTP and HTTPS messages enables you tooview header and payload data sent tooand from hello storage services, which would enable you tooexamine how a client application retries storage operations.</span></span> <span data-ttu-id="ae785-294">Protokół analizatorów, takich jak Wireshark działają na poziomie pakietów hello, umożliwiając tooview TCP danych, które umożliwią tootroubleshoot utraty pakietów i problemy z łącznością.</span><span class="sxs-lookup"><span data-stu-id="ae785-294">Protocol analyzers such as Wireshark operate at hello packet level enabling you tooview TCP data, which would enable you tootroubleshoot lost packets and connectivity issues.</span></span> <span data-ttu-id="ae785-295">Message Analyzer może działać z warstwy protokołów HTTP i TCP.</span><span class="sxs-lookup"><span data-stu-id="ae785-295">Message Analyzer can operate at both HTTP and TCP layers.</span></span>

## <span data-ttu-id="ae785-296"><a name="end-to-end-tracing"></a>Śledzenia end-to-end</span><span class="sxs-lookup"><span data-stu-id="ae785-296"><a name="end-to-end-tracing"></a>End-to-end tracing</span></span>
<span data-ttu-id="ae785-297">Przy użyciu różnych plikach dziennika śledzenia end-to-end to technika przydatne do badania potencjalnych problemów.</span><span class="sxs-lookup"><span data-stu-id="ae785-297">End-to-end tracing using a variety of log files is a useful technique for investigating potential issues.</span></span> <span data-ttu-id="ae785-298">Jako oznaczenie, w którym toostart wyszukiwania w plikach dziennika hello hello szczegółowe informacje, które zawierają informacje pomocne podczas rozwiązywania problemu hello służy hello informacji daty i godziny od danych metryki.</span><span class="sxs-lookup"><span data-stu-id="ae785-298">You can use hello date/time information from your metrics data as an indication of where toostart looking in hello log files for hello detailed information that will help you troubleshoot hello issue.</span></span>

### <span data-ttu-id="ae785-299"><a name="correlating-log-data"></a>Korelowanie dane dziennika</span><span class="sxs-lookup"><span data-stu-id="ae785-299"><a name="correlating-log-data"></a>Correlating log data</span></span>
<span data-ttu-id="ae785-300">Podczas wyświetlania dzienniki za pośrednictwem aplikacji klienckich, śledzi sieci i magazynu po stronie serwera, rejestrowanie go krytyczne toobe toocorrelate stanie żądania całej hello różnych plikach dziennika.</span><span class="sxs-lookup"><span data-stu-id="ae785-300">When viewing logs from client applications, network traces, and server-side storage logging it is critical toobe able toocorrelate requests across hello different log files.</span></span> <span data-ttu-id="ae785-301">pliki dziennika Hello obejmują szereg różnych pól, które są przydatne jako identyfikatorów korelacji.</span><span class="sxs-lookup"><span data-stu-id="ae785-301">hello log files include a number of different fields that are useful as correlation identifiers.</span></span> <span data-ttu-id="ae785-302">Identyfikator żądania klienta Hello jest hello najbardziej przydatne pola toouse toocorrelate wpisów w różnych dzienników hello.</span><span class="sxs-lookup"><span data-stu-id="ae785-302">hello client request id is hello most useful field toouse toocorrelate entries in hello different logs.</span></span> <span data-ttu-id="ae785-303">Jednak czasami może być przydatne toouse identyfikator żądania serwera hello lub sygnatur czasowych.</span><span class="sxs-lookup"><span data-stu-id="ae785-303">However sometimes, it can be useful toouse either hello server request id or timestamps.</span></span> <span data-ttu-id="ae785-304">Witaj poniższe sekcje zawierają więcej informacji na temat tych opcji.</span><span class="sxs-lookup"><span data-stu-id="ae785-304">hello following sections provide more details about these options.</span></span>

### <span data-ttu-id="ae785-305"><a name="client-request-id"></a>Identyfikator żądania klienta</span><span class="sxs-lookup"><span data-stu-id="ae785-305"><a name="client-request-id"></a>Client request ID</span></span>
<span data-ttu-id="ae785-306">Witaj biblioteki klienta usługi Storage automatycznie generuje identyfikator żądania klienta unikatowy dla każdego żądania.</span><span class="sxs-lookup"><span data-stu-id="ae785-306">hello Storage Client Library automatically generates a unique client request id for every request.</span></span>

* <span data-ttu-id="ae785-307">W hello dziennika po stronie klienta, który hello biblioteki klienta usługi Storage tworzy, identyfikator żądania klienta hello jest wyświetlana w hello **Identyfikatora żądania klienta** pola każdego wpisu dziennika dotyczących toohello żądania.</span><span class="sxs-lookup"><span data-stu-id="ae785-307">In hello client-side log that hello Storage Client Library creates, hello client request id appears in hello **Client Request ID** field of every log entry relating toohello request.</span></span>
* <span data-ttu-id="ae785-308">W śledzenia sieci, takiej jak przechwycone przez Fiddler, identyfikator żądania klienta hello jest widoczna w komunikaty żądania jako hello **x-ms-client żądania id** wartość nagłówka HTTP.</span><span class="sxs-lookup"><span data-stu-id="ae785-308">In a network trace such as one captured by Fiddler, hello client request id is visible in request messages as hello **x-ms-client-request-id** HTTP header value.</span></span>
* <span data-ttu-id="ae785-309">W dzienniku rejestrowania magazynu po stronie serwera hello identyfikatora żądania klienta hello pojawia się w kolumnie identyfikator żądania klienta hello.</span><span class="sxs-lookup"><span data-stu-id="ae785-309">In hello server-side Storage Logging log, hello client request id appears in hello Client request ID column.</span></span>

> [!NOTE]
> <span data-ttu-id="ae785-310">Możliwe jest dla wielu żądań tooshare hello tego samego identyfikatora żądania klienta, ponieważ powitania klienta można przypisać wartości (chociaż hello biblioteki klienta usługi Storage automatycznie przypisuje nową wartość).</span><span class="sxs-lookup"><span data-stu-id="ae785-310">It is possible for multiple requests tooshare hello same client request id because hello client can assign this value (although hello Storage Client Library assigns a new value automatically).</span></span> <span data-ttu-id="ae785-311">W przypadku hello ponownych prób z powitania klienta, wszystkie próby udostępniać hello tego samego identyfikatora żądania klienta. W przypadku hello partii wysłane przez klienta na powitania partii hello ma identyfikator żądania jednego klienta.</span><span class="sxs-lookup"><span data-stu-id="ae785-311">In hello case of retries from hello client, all attempts share hello same client request id. In hello case of a batch sent from hello client, hello batch has a single client request id.</span></span>
> 
> 

### <span data-ttu-id="ae785-312"><a name="server-request-id"></a>Identyfikator żądania serwera</span><span class="sxs-lookup"><span data-stu-id="ae785-312"><a name="server-request-id"></a>Server request ID</span></span>
<span data-ttu-id="ae785-313">Usługa Magazyn Hello automatycznie generuje identyfikatorów żądania serwera.</span><span class="sxs-lookup"><span data-stu-id="ae785-313">hello storage service automatically generates server request ids.</span></span>

* <span data-ttu-id="ae785-314">W dzienniku rejestrowania magazynu po stronie serwera hello identyfikator żądania serwera hello pojawia się hello **nagłówka Identyfikatora żądania** kolumny.</span><span class="sxs-lookup"><span data-stu-id="ae785-314">In hello server-side Storage Logging log, hello server request id appears hello **Request ID header** column.</span></span>
* <span data-ttu-id="ae785-315">W śledzenia sieci, takiej jak przechwycone przez Fiddler, identyfikator żądania serwera hello pojawia się w wiadomości odpowiedzi jako hello **x-ms-request-id** wartość nagłówka HTTP.</span><span class="sxs-lookup"><span data-stu-id="ae785-315">In a network trace such as one captured by Fiddler, hello server request id appears in response messages as hello **x-ms-request-id** HTTP header value.</span></span>
* <span data-ttu-id="ae785-316">W hello dziennika po stronie klienta, który hello biblioteki klienta usługi Storage tworzy, identyfikator żądania serwera hello jest wyświetlana w hello **tekst operacji** kolumny dla wpisu dziennika hello zawierającego szczegóły hello odpowiedź serwera.</span><span class="sxs-lookup"><span data-stu-id="ae785-316">In hello client-side log that hello Storage Client Library creates, hello server request id appears in hello **Operation Text** column for hello log entry showing details of hello server response.</span></span>

> [!NOTE]
> <span data-ttu-id="ae785-317">Usługa Magazyn Hello zawsze przypisuje unikatowy serwera żądania identyfikator tooevery odebrane żądanie, co ponowienia próby z powitania klienta i każda operacja wchodzące w skład partii ma identyfikator żądania serwera unikatowy.</span><span class="sxs-lookup"><span data-stu-id="ae785-317">hello storage service always assigns a unique server request id tooevery request it receives, so every retry attempt from hello client and every operation included in a batch has a unique server request id.</span></span>
> 
> 

<span data-ttu-id="ae785-318">Jeśli hello biblioteki klienta usługi Storage zgłasza **StorageException** w kliencie hello hello **RequestInformation** właściwość zawiera **RequestResult** obiekt, który zawiera **ServiceRequestID** właściwości.</span><span class="sxs-lookup"><span data-stu-id="ae785-318">If hello Storage Client Library throws a **StorageException** in hello client, hello **RequestInformation** property contains a **RequestResult** object that includes a **ServiceRequestID** property.</span></span> <span data-ttu-id="ae785-319">Można także przejść do **RequestResult** obiekt z **elementu OperationContext** wystąpienia.</span><span class="sxs-lookup"><span data-stu-id="ae785-319">You can also access a **RequestResult** object from an **OperationContext** instance.</span></span>

<span data-ttu-id="ae785-320">Hello poniższy przykład kodu pokazuje sposób tooset niestandardowego **ClientRequestId** wartość dołączając **elementu OperationContext** obiekt hello żądania toohello magazynu usługi.</span><span class="sxs-lookup"><span data-stu-id="ae785-320">hello code sample below demonstrates how tooset a custom **ClientRequestId** value by attaching an **OperationContext** object hello request toohello storage service.</span></span> <span data-ttu-id="ae785-321">Zawiera także sposób tooretrieve hello **ServerRequestId** wartość z zakresu od hello komunikat odpowiedzi.</span><span class="sxs-lookup"><span data-stu-id="ae785-321">It also shows how tooretrieve hello **ServerRequestId** value from hello response message.</span></span>

```csharp
//Parse hello connection string for hello storage account.
const string ConnectionString = "DefaultEndpointsProtocol=https;AccountName=account-name;AccountKey=account-key";
CloudStorageAccount storageAccount = CloudStorageAccount.Parse(ConnectionString);
CloudBlobClient blobClient = storageAccount.CreateCloudBlobClient();

// Create an Operation Context that includes custom ClientRequestId string based on constants defined within hello application along with a Guid.
OperationContext oc = new OperationContext();
oc.ClientRequestID = String.Format("{0} {1} {2} {3}", HOSTNAME, APPNAME, USERID, Guid.NewGuid().ToString());

try
{
    CloudBlobContainer container = blobClient.GetContainerReference("democontainer");
    ICloudBlob blob = container.GetBlobReferenceFromServer("testImage.jpg", null, null, oc);  
    var downloadToPath = string.Format("./{0}", blob.Name);
    using (var fs = File.OpenWrite(downloadToPath))
    {
        blob.DownloadToStream(fs, null, null, oc);
        Console.WriteLine("\t Blob downloaded toofile: {0}", downloadToPath);
    }
}
catch (StorageException storageException)
{
    Console.WriteLine("Storage exception {0} occurred", storageException.Message);
    // Multiple results may exist due tooclient side retry logic - each retried operation will have a unique ServiceRequestId
    foreach (var result in oc.RequestResults)
    {
            Console.WriteLine("HttpStatus: {0}, ServiceRequestId {1}", result.HttpStatusCode, result.ServiceRequestID);
    }
}
```

### <span data-ttu-id="ae785-322"><a name="timestamps"></a>Znaczniki czasu</span><span class="sxs-lookup"><span data-stu-id="ae785-322"><a name="timestamps"></a>Timestamps</span></span>
<span data-ttu-id="ae785-323">Można również użyć sygnatury czasowe toolocate powiązane wpisy dziennika, ale należy zwrócić szczególną uwagę na dowolnym zegara między powitania klienta i serwera, który może istnieć.</span><span class="sxs-lookup"><span data-stu-id="ae785-323">You can also use timestamps toolocate related log entries, but be careful of any clock skew between hello client and server that may exist.</span></span> <span data-ttu-id="ae785-324">Powinna przeszukać plus lub minus 15 minut do dopasowania wpisów po stronie serwera w oparciu sygnatury czasowej hello na powitania klienta.</span><span class="sxs-lookup"><span data-stu-id="ae785-324">You should search plus or minus 15 minutes for matching server-side entries based on hello timestamp on hello client.</span></span> <span data-ttu-id="ae785-325">Należy pamiętać, że metadane obiektu blob hello hello obiektów blob zawierający metryki wskazuje hello zakres czasu dla metryki hello przechowywane w obiekcie blob hello; jest to przydatne, jeśli masz wiele metryki obiektów blob dla hello tego samego minutę lub godzinę.</span><span class="sxs-lookup"><span data-stu-id="ae785-325">Remember that hello blob metadata for hello blobs containing metrics indicates hello time range for hello metrics stored in hello blob; this is useful if you have many metrics blobs for hello same minute or hour.</span></span>

## <span data-ttu-id="ae785-326"><a name="troubleshooting-guidance"></a>Wskazówki dotyczące rozwiązywania problemów</span><span class="sxs-lookup"><span data-stu-id="ae785-326"><a name="troubleshooting-guidance"></a>Troubleshooting guidance</span></span>
<span data-ttu-id="ae785-327">Ta sekcja pomoże Ci na powitania diagnozowania i rozwiązywania niektórych typowych problemów z hello aplikacji mogą wystąpić podczas korzystania z usług magazynu Azure hello.</span><span class="sxs-lookup"><span data-stu-id="ae785-327">This section will help you with hello diagnosis and troubleshooting of some of hello common issues your application may encounter when using hello Azure storage services.</span></span> <span data-ttu-id="ae785-328">Użyj listy hello poniżej toolocate hello informacje istotne tooyour określonego problemu.</span><span class="sxs-lookup"><span data-stu-id="ae785-328">Use hello list below toolocate hello information relevant tooyour specific issue.</span></span>

<span data-ttu-id="ae785-329">**Rozwiązywanie problemów z drzewa decyzyjnego**</span><span class="sxs-lookup"><span data-stu-id="ae785-329">**Troubleshooting Decision Tree**</span></span>

- - -
<span data-ttu-id="ae785-330">Problem związek toohello wykonanie jednej z usług magazynu hello?</span><span class="sxs-lookup"><span data-stu-id="ae785-330">Does your issue relate toohello performance of one of hello storage services?</span></span>

* <span data-ttu-id="ae785-331">[metryki pokazują AverageE2ELatency wysoki i niski AverageServerLatency]</span><span class="sxs-lookup"><span data-stu-id="ae785-331">[Metrics show high AverageE2ELatency and low AverageServerLatency]</span></span>
* <span data-ttu-id="ae785-332">[Metryki pokazują AverageE2ELatency niski i niski AverageServerLatency, ale występuje duże opóźnienie powitania klienta]</span><span class="sxs-lookup"><span data-stu-id="ae785-332">[Metrics show low AverageE2ELatency and low AverageServerLatency but hello client is experiencing high latency]</span></span>
* <span data-ttu-id="ae785-333">[Metryki wskazują wysoką wartość AverageServerLatency]</span><span class="sxs-lookup"><span data-stu-id="ae785-333">[Metrics show high AverageServerLatency]</span></span>
* <span data-ttu-id="ae785-334">[Występują nieoczekiwane opóźnienia w dostarczaniu komunikatów w kolejce]</span><span class="sxs-lookup"><span data-stu-id="ae785-334">[You are experiencing unexpected delays in message delivery on a queue]</span></span>

- - -
<span data-ttu-id="ae785-335">Problem związek dostępności toohello jednej z usług magazynu hello?</span><span class="sxs-lookup"><span data-stu-id="ae785-335">Does your issue relate toohello availability of one of hello storage services?</span></span>

* <span data-ttu-id="ae785-336">[metryki spowodować wzrost PercentThrottlingError]</span><span class="sxs-lookup"><span data-stu-id="ae785-336">[Metrics show an increase in PercentThrottlingError]</span></span>
* <span data-ttu-id="ae785-337">[metryki spowodować wzrost PercentTimeoutError]</span><span class="sxs-lookup"><span data-stu-id="ae785-337">[Metrics show an increase in PercentTimeoutError]</span></span>
* <span data-ttu-id="ae785-338">[Metryki wskazują wzrost wartości PercentNetworkError]</span><span class="sxs-lookup"><span data-stu-id="ae785-338">[Metrics show an increase in PercentNetworkError]</span></span>

- - -
<span data-ttu-id="ae785-339">Aplikacja kliencka odbiera odpowiedź HTTP 4XX (na przykład 404) z usługą magazynu?</span><span class="sxs-lookup"><span data-stu-id="ae785-339">Is your client application receiving an HTTP 4XX (such as 404) response from a storage service?</span></span>

* <span data-ttu-id="ae785-340">[powitania klienta odbiera komunikaty HTTP 403 (Dostęp zabroniony)]</span><span class="sxs-lookup"><span data-stu-id="ae785-340">[hello client is receiving HTTP 403 (Forbidden) messages]</span></span>
* <span data-ttu-id="ae785-341">[powitania klienta odbiera komunikaty HTTP 404 (nie znaleziono)]</span><span class="sxs-lookup"><span data-stu-id="ae785-341">[hello client is receiving HTTP 404 (Not found) messages]</span></span>
* <span data-ttu-id="ae785-342">[powitania klienta odbiera komunikaty HTTP 409 (konflikt)]</span><span class="sxs-lookup"><span data-stu-id="ae785-342">[hello client is receiving HTTP 409 (Conflict) messages]</span></span>

- - -
<span data-ttu-id="ae785-343">[metryki pokazują PercentSuccess niskim lub wpisy dziennika analizy zawierać operacje z Stan transakcji ClientOtherErrors]</span><span class="sxs-lookup"><span data-stu-id="ae785-343">[Metrics show low PercentSuccess or analytics log entries have operations with transaction status of ClientOtherErrors]</span></span>

- - -
<span data-ttu-id="ae785-344">[Metryki pojemności Pokaż nieoczekiwane zwiększenie wykorzystania pojemności magazynu]</span><span class="sxs-lookup"><span data-stu-id="ae785-344">[Capacity metrics show an unexpected increase in storage capacity usage]</span></span>

- - -
<span data-ttu-id="ae785-345">[Występują nieoczekiwane ponowne uruchomienie maszyn wirtualnych, które mają wiele wirtualnych dysków twardych dołączonych]</span><span class="sxs-lookup"><span data-stu-id="ae785-345">[You are experiencing unexpected reboots of Virtual Machines that have a large number of attached VHDs]</span></span>

- - -
<span data-ttu-id="ae785-346">[Problem wynika z przy użyciu emulatora magazynu hello do rozwoju lub testu]</span><span class="sxs-lookup"><span data-stu-id="ae785-346">[Your issue arises from using hello storage emulator for development or test]</span></span>

- - -
<span data-ttu-id="ae785-347">[Pojawiły się problemy z instalacją hello Azure SDK dla platformy .NET]</span><span class="sxs-lookup"><span data-stu-id="ae785-347">[You are encountering problems installing hello Azure SDK for .NET]</span></span>

- - -
<span data-ttu-id="ae785-348">[Inny problem z usługą magazynu]</span><span class="sxs-lookup"><span data-stu-id="ae785-348">[You have a different issue with a storage service]</span></span>

- - -
### <span data-ttu-id="ae785-349"><a name="metrics-show-high-AverageE2ELatency-and-low-AverageServerLatency"></a>Metryki pokazują AverageE2ELatency wysoki i niski AverageServerLatency</span><span class="sxs-lookup"><span data-stu-id="ae785-349"><a name="metrics-show-high-AverageE2ELatency-and-low-AverageServerLatency"></a>Metrics show high AverageE2ELatency and low AverageServerLatency</span></span>
<span data-ttu-id="ae785-350">Witaj bNiski ilustracji z narzędzia monitorowania klasycznego portalu Azure hello przedstawiono przykład gdzie hello **AverageE2ELatency** jest znacznie wyższa niż hello **AverageServerLatency**.</span><span class="sxs-lookup"><span data-stu-id="ae785-350">hello illustration blow from hello Azure Classic Portal monitoring tool shows an example where hello **AverageE2ELatency** is significantly higher than hello **AverageServerLatency**.</span></span>

![][4]

<span data-ttu-id="ae785-351">Należy pamiętać, że Usługa magazynu hello tylko oblicza metrykę hello **AverageE2ELatency** pomyślnych żądań oraz, w odróżnieniu od **AverageServerLatency**, zawiera czasie powitania klienta hello toosend hello dane i otrzymywać potwierdzenia hello usługi magazynu.</span><span class="sxs-lookup"><span data-stu-id="ae785-351">Note that hello storage service only calculates hello metric **AverageE2ELatency** for successful requests and, unlike **AverageServerLatency**, includes hello time hello client takes toosend hello data and receive acknowledgement from hello storage service.</span></span> <span data-ttu-id="ae785-352">W związku z tym różnica między **AverageE2ELatency** i **AverageServerLatency** może być albo powodu toohello klienta aplikacji jest powolne toorespond lub z powodu tooconditions hello sieci.</span><span class="sxs-lookup"><span data-stu-id="ae785-352">Therefore, a difference between **AverageE2ELatency** and **AverageServerLatency** could be either due toohello client application being slow toorespond, or due tooconditions on hello network.</span></span>

> [!NOTE]
> <span data-ttu-id="ae785-353">Można również wyświetlić **E2ELatency** i **ServerLatency** dane dziennika dla poszczególnych magazynu operacji w hello rejestrowania magazynu.</span><span class="sxs-lookup"><span data-stu-id="ae785-353">You can also view **E2ELatency** and **ServerLatency** for individual storage operations in hello Storage Logging log data.</span></span>
> 
> 

#### <a name="investigating-client-performance-issues"></a><span data-ttu-id="ae785-354">Do badania problemów dotyczących wydajności klienta</span><span class="sxs-lookup"><span data-stu-id="ae785-354">Investigating client performance issues</span></span>
<span data-ttu-id="ae785-355">Możliwe przyczyny powitania klienta wolno odpowiadać obejmują o ograniczonej liczby dostępnych połączeń i wątków.</span><span class="sxs-lookup"><span data-stu-id="ae785-355">Possible reasons for hello client responding slowly include having a limited number of available connections or threads.</span></span> <span data-ttu-id="ae785-356">Może być problem hello stanie tooresolve, modyfikując powitania klienta kodu toobe bardziej wydajne (na przykład za pomocą usługi magazynu toohello wywołania asynchroniczne) lub przy użyciu większe maszyny wirtualnej (z większej liczby rdzeni i ilości dostępnej pamięci).</span><span class="sxs-lookup"><span data-stu-id="ae785-356">You may be able tooresolve hello issue by modifying hello client code toobe more efficient (for example by using asynchronous calls toohello storage service), or by using a larger Virtual Machine (with more cores and more memory).</span></span>

<span data-ttu-id="ae785-357">Hello usług tabeli i kolejki, algorytm Nagle'a hello może również spowodować wysokiej **AverageE2ELatency** w porównaniu zbyt**AverageServerLatency**: Aby uzyskać więcej informacji, zobacz hello post <a href="http://blogs.msdn.com/b/windowsazurestorage/archive/2010/06/25/nagle-s-algorithm-is-not-friendly-towards-small-requests.aspx" target="_blank">Nagle'a firmy Algorytm jest nie przyjazną kierunku małych żądań</a> na powitania Blog zespołu usługi Magazyn Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="ae785-357">For hello table and queue services, hello Nagle algorithm can also cause high **AverageE2ELatency** as compared too**AverageServerLatency**: for more information see hello post <a href="http://blogs.msdn.com/b/windowsazurestorage/archive/2010/06/25/nagle-s-algorithm-is-not-friendly-towards-small-requests.aspx" target="_blank">Nagle's Algorithm is Not Friendly towards Small Requests</a> on hello Microsoft Azure Storage Team Blog.</span></span> <span data-ttu-id="ae785-358">Algorytm Nagle'a hello w kodzie można wyłączyć za pomocą hello **ServicePointManager —** klasy w hello **System.Net** przestrzeni nazw.</span><span class="sxs-lookup"><span data-stu-id="ae785-358">You can disable hello Nagle algorithm in code by using hello **ServicePointManager** class in hello **System.Net** namespace.</span></span> <span data-ttu-id="ae785-359">Ten krok należy wykonać przed wprowadzasz tabeli toohello wywołania lub usługi kolejki w aplikacji, ponieważ nie dotyczy to połączeń znajdujących się już otworzyć.</span><span class="sxs-lookup"><span data-stu-id="ae785-359">You should do this before you make any calls toohello table or queue services in your application since this does not affect connections that are already open.</span></span> <span data-ttu-id="ae785-360">Witaj poniższy przykład pochodzi z hello **Application_Start** metody w roli procesu roboczego.</span><span class="sxs-lookup"><span data-stu-id="ae785-360">hello following example comes from hello **Application_Start** method in a worker role.</span></span>

```csharp
var storageAccount = CloudStorageAccount.Parse(connStr);
ServicePoint tableServicePoint = ServicePointManager.FindServicePoint(storageAccount.TableEndpoint);
tableServicePoint.UseNagleAlgorithm = false;
ServicePoint queueServicePoint = ServicePointManager.FindServicePoint(storageAccount.QueueEndpoint);
queueServicePoint.UseNagleAlgorithm = false;
```

<span data-ttu-id="ae785-361">Należy sprawdzić powitania klienta dzienniki toosee ile aplikacja kliencka jest przesyłanie żądań i sprawdź, czy ogólne .NET powiązane wąskich gardeł wydajności w sieci klienta, takie jak procesor CPU, pamięci .NET, wykorzystania sieci lub pamięci (jako początkowy Rozwiązywanie problemów z aplikacjami klienta .NET w punkcie, zobacz <a href="http://msdn.microsoft.com/library/7fe0dd2y(v=vs.110).aspx" target="_blank">debugowanie, śledzenie i profilowanie</a> w witrynie MSDN).</span><span class="sxs-lookup"><span data-stu-id="ae785-361">You should check hello client-side logs toosee how many requests your client application is submitting, and check for general .NET related performance bottlenecks in your client such as CPU, .NET garbage collection, network utilization, or memory (as a starting point for troubleshooting .NET client applications, see <a href="http://msdn.microsoft.com/library/7fe0dd2y(v=vs.110).aspx" target="_blank">Debugging, Tracing, and Profiling</a> on MSDN).</span></span>

#### <a name="investigating-network-latency-issues"></a><span data-ttu-id="ae785-362">Badanie problemów z opóźnieniem w sieci</span><span class="sxs-lookup"><span data-stu-id="ae785-362">Investigating network latency issues</span></span>
<span data-ttu-id="ae785-363">Zazwyczaj duże opóźnienie end-to-end spowodowane sieci hello jest powodu tootransient warunki.</span><span class="sxs-lookup"><span data-stu-id="ae785-363">Typically, high end-to-end latency caused by hello network is due tootransient conditions.</span></span> <span data-ttu-id="ae785-364">Zarówno problemy z siecią przejściowych i trwałe takich jak porzuconych pakietów można zbadać za pomocą narzędzi takich jak Wireshark lub programu Microsoft Message Analyzer.</span><span class="sxs-lookup"><span data-stu-id="ae785-364">You can investigate both transient and persistent network issues such as dropped packets by using tools such as Wireshark or Microsoft Message Analyzer.</span></span>

<span data-ttu-id="ae785-365">Aby uzyskać więcej informacji o korzystaniu z programu Wireshark tootroubleshoot sieci problemów, zobacz "[dodatek 2: ruchu sieciowego przy użyciu programu Wireshark toocapture]."</span><span class="sxs-lookup"><span data-stu-id="ae785-365">For more information about using Wireshark tootroubleshoot network issues, see "[Appendix 2: Using Wireshark toocapture network traffic]."</span></span>

<span data-ttu-id="ae785-366">Aby uzyskać więcej informacji o korzystaniu z programu Microsoft Message Analyzer tootroubleshoot sieci problemów, zobacz "[dodatku 3: ruchu sieciowego przy użyciu programu Microsoft Message Analyzer toocapture]."</span><span class="sxs-lookup"><span data-stu-id="ae785-366">For more information about using Microsoft Message Analyzer tootroubleshoot network issues, see "[Appendix 3: Using Microsoft Message Analyzer toocapture network traffic]."</span></span>

### <span data-ttu-id="ae785-367"><a name="metrics-show-low-AverageE2ELatency-and-low-AverageServerLatency"></a>Metryki pokazują AverageE2ELatency niski i niski AverageServerLatency, ale występuje duże opóźnienie powitania klienta</span><span class="sxs-lookup"><span data-stu-id="ae785-367"><a name="metrics-show-low-AverageE2ELatency-and-low-AverageServerLatency"></a>Metrics show low AverageE2ELatency and low AverageServerLatency but hello client is experiencing high latency</span></span>
<span data-ttu-id="ae785-368">W tym scenariuszu hello najbardziej prawdopodobną przyczyną jest opóźnienia w żądań magazynu hello osiągnięcia hello usługi magazynu.</span><span class="sxs-lookup"><span data-stu-id="ae785-368">In this scenario, hello most likely cause is a delay in hello storage requests reaching hello storage service.</span></span> <span data-ttu-id="ae785-369">Należy zbadać, dlaczego żądania z klienta na powitania nie dokonywania go za pośrednictwem usługi blob toohello.</span><span class="sxs-lookup"><span data-stu-id="ae785-369">You should investigate why requests from hello client are not making it through toohello blob service.</span></span>

<span data-ttu-id="ae785-370">Możliwe przyczyny powitania klienta opóźnienie wysyłania żądań obejmują o ograniczonej liczby dostępnych połączeń i wątków.</span><span class="sxs-lookup"><span data-stu-id="ae785-370">Possible reasons for hello client delaying sending requests include having a limited number of available connections or threads.</span></span> <span data-ttu-id="ae785-371">Należy także Sprawdź, czy hello klient wykonuje wiele ponownych prób i zbadaj Przyczyna hello przypadku hello.</span><span class="sxs-lookup"><span data-stu-id="ae785-371">You should also check if hello client is performing multiple retries, and investigate hello reason if this is hello case.</span></span> <span data-ttu-id="ae785-372">Można to zrobić programowo przeszukując hello **elementu OperationContext** obiekt skojarzony z hello żądania i pobierania hello **ServerRequestId** wartości.</span><span class="sxs-lookup"><span data-stu-id="ae785-372">You can do this programmatically by looking in hello **OperationContext** object associated with hello request and retrieving hello **ServerRequestId** value.</span></span> <span data-ttu-id="ae785-373">Aby uzyskać więcej informacji, zobacz hello przykładowy kod w sekcji hello "[identyfikator żądania serwera]."</span><span class="sxs-lookup"><span data-stu-id="ae785-373">For more information, see hello code sample in hello section "[Server request ID]."</span></span>

<span data-ttu-id="ae785-374">Jeśli nie ma żadnych problemów w powitania klienta, powinien być sprawdzony potencjalnych problemów sieci, takich jak utraty pakietów.</span><span class="sxs-lookup"><span data-stu-id="ae785-374">If there are no issues in hello client, you should investigate potential network issues such as packet loss.</span></span> <span data-ttu-id="ae785-375">Można użyć narzędzia, takie jak Wireshark lub programu Microsoft Message Analyzer tooinvestigate problemy z siecią.</span><span class="sxs-lookup"><span data-stu-id="ae785-375">You can use tools such as Wireshark or Microsoft Message Analyzer tooinvestigate network issues.</span></span>

<span data-ttu-id="ae785-376">Aby uzyskać więcej informacji o korzystaniu z programu Wireshark tootroubleshoot sieci problemów, zobacz "[dodatek 2: ruchu sieciowego przy użyciu programu Wireshark toocapture]."</span><span class="sxs-lookup"><span data-stu-id="ae785-376">For more information about using Wireshark tootroubleshoot network issues, see "[Appendix 2: Using Wireshark toocapture network traffic]."</span></span>

<span data-ttu-id="ae785-377">Aby uzyskać więcej informacji o korzystaniu z programu Microsoft Message Analyzer tootroubleshoot sieci problemów, zobacz "[dodatku 3: ruchu sieciowego przy użyciu programu Microsoft Message Analyzer toocapture]."</span><span class="sxs-lookup"><span data-stu-id="ae785-377">For more information about using Microsoft Message Analyzer tootroubleshoot network issues, see "[Appendix 3: Using Microsoft Message Analyzer toocapture network traffic]."</span></span>

### <span data-ttu-id="ae785-378"><a name="metrics-show-high-AverageServerLatency"></a>Metryki pokazują AverageServerLatency wysoka</span><span class="sxs-lookup"><span data-stu-id="ae785-378"><a name="metrics-show-high-AverageServerLatency"></a>Metrics show high AverageServerLatency</span></span>
<span data-ttu-id="ae785-379">W przypadku hello wysoki **AverageServerLatency** żądań pobrania obiektu blob, należy użyć hello rejestrowania magazynu rejestruje toosee, jeśli istnieją ponownego żądania hello tej samej obiektów blob (lub zestaw obiektów blob).</span><span class="sxs-lookup"><span data-stu-id="ae785-379">In hello case of high **AverageServerLatency** for blob download requests, you should use hello Storage Logging logs toosee if there are repeated requests for hello same blob (or set of blobs).</span></span> <span data-ttu-id="ae785-380">Dla obiektu blob przesyłanie żądań, należy zbadać, jakie bloku rozmiar hello klient używa (na przykład bloki mniej niż 64 KB rozmiaru może spowodować koszty, chyba że odczytuje hello są w mniej niż 64 KB fragmentów), i jeśli wielu klientów przekazywany blokuje toohello tego samego blob równolegle.</span><span class="sxs-lookup"><span data-stu-id="ae785-380">For blob upload requests, you should investigate what block size hello client is using (for example, blocks less than 64K in size can result in overheads unless hello reads are also in less than 64K chunks), and if multiple clients are uploading blocks toohello same blob in parallel.</span></span> <span data-ttu-id="ae785-381">Należy także sprawdzić metryki na minutę hello maksymalnej hello liczbę żądań, które powoduje przekroczenie hello na drugi wartości docelowe skalowalności: Zobacz też "[metryki spowodować wzrost PercentTimeoutError]."</span><span class="sxs-lookup"><span data-stu-id="ae785-381">You should also check hello per-minute metrics for spikes in hello number of requests that result in exceeding hello per second scalability targets: also see "[Metrics show an increase in PercentTimeoutError]."</span></span>

<span data-ttu-id="ae785-382">Jeśli widzisz wysokiego **AverageServerLatency** dla żądań pobierania obiektu blob podczas są powtarzane żądań hello tego samego obiektu blob lub zestaw obiektów blob, następnie należy wziąć pod uwagę buforowanie tych obiektów blob przy użyciu usługi pamięć podręczna Azure lub hello Azure Content Delivery Network (CDN).</span><span class="sxs-lookup"><span data-stu-id="ae785-382">If you are seeing high **AverageServerLatency** for blob download requests when there are repeated requests hello same blob or set of blobs, then you should consider caching these blobs using Azure Cache or hello Azure Content Delivery Network (CDN).</span></span> <span data-ttu-id="ae785-383">Dla żądania przesłania może zwiększyć przepływność hello za pomocą większego rozmiaru bloku.</span><span class="sxs-lookup"><span data-stu-id="ae785-383">For upload requests, you can improve hello throughput by using a larger block size.</span></span> <span data-ttu-id="ae785-384">Tootables zapytania jest również możliwe tooimplement po stronie klienta pamięci podręcznej na klientach, wykonujących hello sam zapytań operacje, których hello danych nie zmieniają się często.</span><span class="sxs-lookup"><span data-stu-id="ae785-384">For queries tootables, it is also possible tooimplement client-side caching on clients that perform hello same query operations and where hello data doesn't change frequently.</span></span>

<span data-ttu-id="ae785-385">Wysoka **AverageServerLatency** wartości mogą też być objawem źle skonstruowane tabel lub kwerend, wynik operacji skanowania lub że skorzystaj z hello przed wzorzec Dołącz/dołączy.</span><span class="sxs-lookup"><span data-stu-id="ae785-385">High **AverageServerLatency** values can also be a symptom of poorly designed tables or queries that result in scan operations or that follow hello append/prepend anti-pattern.</span></span> <span data-ttu-id="ae785-386">Zobacz "[metryki spowodować wzrost PercentThrottlingError]" Aby uzyskać więcej informacji.</span><span class="sxs-lookup"><span data-stu-id="ae785-386">See "[Metrics show an increase in PercentThrottlingError]" for more information.</span></span>

> [!NOTE]
> <span data-ttu-id="ae785-387">Można znaleźć tutaj kontrolną wydajności kompleksowe Lista kontrolna: [wydajność magazynu Microsoft Azure i listę kontrolną skalowalność](storage-performance-checklist.md).</span><span class="sxs-lookup"><span data-stu-id="ae785-387">You can find a comprehensive checklist performance checklist here: [Microsoft Azure Storage Performance and Scalability Checklist](storage-performance-checklist.md).</span></span>
> 
> 

### <span data-ttu-id="ae785-388"><a name="you-are-experiencing-unexpected-delays-in-message-delivery"></a>Występują nieoczekiwane opóźnienia dotyczące dostarczania wiadomości w kolejce</span><span class="sxs-lookup"><span data-stu-id="ae785-388"><a name="you-are-experiencing-unexpected-delays-in-message-delivery"></a>You are experiencing unexpected delays in message delivery on a queue</span></span>
<span data-ttu-id="ae785-389">Jeśli występuje opóźnienie między czasu hello komunikat tooa kolejki i hello czasu staje się dostępna tooread z kolejki hello dodaje aplikację, a następnie należy wykonać następujące kroki toodiagnose hello problem hello:</span><span class="sxs-lookup"><span data-stu-id="ae785-389">If you are experiencing a delay between hello time an application adds a message tooa queue and hello time it becomes available tooread from hello queue, then you should take hello following steps toodiagnose hello issue:</span></span>

* <span data-ttu-id="ae785-390">Sprawdź, czy aplikacja hello pomyślnie polega na dodaniu kolejka toohello wiadomości powitania.</span><span class="sxs-lookup"><span data-stu-id="ae785-390">Verify hello application is successfully adding hello messages toohello queue.</span></span> <span data-ttu-id="ae785-391">Sprawdź, czy aplikacja hello nie ponawia hello **AddMessage** metody kilka razy przed pomyślne.</span><span class="sxs-lookup"><span data-stu-id="ae785-391">Check that hello application is not retrying hello **AddMessage** method several times before succeeding.</span></span> <span data-ttu-id="ae785-392">Dzienniki biblioteki klienta usługi Storage Hello zostaną wyświetlone wszystkie kolejne próby operacji magazynu.</span><span class="sxs-lookup"><span data-stu-id="ae785-392">hello Storage Client Library logs will show any repeated retries of storage operations.</span></span>
* <span data-ttu-id="ae785-393">Sprawdź, czy nie istnieje żaden zegar pochylenia między roli procesu roboczego hello dodające kolejki toohello wiadomość hello i roli proces roboczy hello odczytujący hello wiadomości z kolejki hello, który ułatwia są wyświetlane tak, jakby to opóźnienie podczas przetwarzania.</span><span class="sxs-lookup"><span data-stu-id="ae785-393">Verify there is no clock skew between hello worker role that adds hello message toohello queue and hello worker role that reads hello message from hello queue that makes it appear as if there is a delay in processing.</span></span>
* <span data-ttu-id="ae785-394">Sprawdź, czy rola proces roboczy hello odczytujący wiadomości powitania od hello kolejki jest możliwe.</span><span class="sxs-lookup"><span data-stu-id="ae785-394">Check if hello worker role that reads hello messages from hello queue is failing.</span></span> <span data-ttu-id="ae785-395">Jeśli klient kolejki wywołuje hello **GetMessage** metoda zawiedzie ale toorespond z potwierdzeniem, wiadomość hello pozostanie niewidoczny w kolejce hello do hello **invisibilityTimeout** okresu.</span><span class="sxs-lookup"><span data-stu-id="ae785-395">If a queue client calls hello **GetMessage** method but fails toorespond with an acknowledgement, hello message will remain invisible on hello queue until hello **invisibilityTimeout** period expires.</span></span> <span data-ttu-id="ae785-396">W tym momencie wiadomość hello staje się dostępna do przetwarzania ponownie.</span><span class="sxs-lookup"><span data-stu-id="ae785-396">At this point, hello message becomes available for processing again.</span></span>
* <span data-ttu-id="ae785-397">Sprawdź, czy hello długość kolejki rośnie w czasie.</span><span class="sxs-lookup"><span data-stu-id="ae785-397">Check if hello queue length is growing over time.</span></span> <span data-ttu-id="ae785-398">Może to wystąpić, jeśli nie masz wystarczających tooprocess dostępne pracowników wszystkie hello wiadomości, że innych pracowników są umieszczenie w kolejce hello.</span><span class="sxs-lookup"><span data-stu-id="ae785-398">This can occur if you do not have sufficient workers available tooprocess all of hello messages that other workers are placing on hello queue.</span></span> <span data-ttu-id="ae785-399">Należy także sprawdzić toosee metryki hello Jeśli usunięciu żądania kończą się niepowodzeniem i hello usuwania z kolejki liczba wiadomości, które mogą wskazywać powtarzane wiadomość hello toodelete nieudanych prób.</span><span class="sxs-lookup"><span data-stu-id="ae785-399">You should also check hello metrics toosee if delete requests are failing and hello dequeue count on messages, which might indicate repeated failed attempts toodelete hello message.</span></span>
* <span data-ttu-id="ae785-400">Przeanalizuj dzienniki hello rejestrowania magazynu dla wszystkich operacji kolejki, które mają wyższe niż oczekiwano **E2ELatency** i **ServerLatency** wartości przez dłuższy okres czasu niż zwykle.</span><span class="sxs-lookup"><span data-stu-id="ae785-400">Examine hello Storage Logging logs for any queue operations that have higher than expected **E2ELatency** and **ServerLatency** values over a longer period of time than usual.</span></span>

### <span data-ttu-id="ae785-401"><a name="metrics-show-an-increase-in-PercentThrottlingError"></a>Metryki spowodować wzrost PercentThrottlingError</span><span class="sxs-lookup"><span data-stu-id="ae785-401"><a name="metrics-show-an-increase-in-PercentThrottlingError"></a>Metrics show an increase in PercentThrottlingError</span></span>
<span data-ttu-id="ae785-402">Ograniczenia przepustowości błędy występują w przypadku przekroczenia wartości docelowe skalowalności hello usługi magazynu.</span><span class="sxs-lookup"><span data-stu-id="ae785-402">Throttling errors occur when you exceed hello scalability targets of a storage service.</span></span> <span data-ttu-id="ae785-403">Usługa Magazyn Hello jest to tooensure nie jednego klienta lub dzierżawcy, można użyć usługi hello na powitania koszt innych osób.</span><span class="sxs-lookup"><span data-stu-id="ae785-403">hello storage service does this tooensure that no single client or tenant can use hello service at hello expense of others.</span></span> <span data-ttu-id="ae785-404">Aby uzyskać więcej informacji, zobacz <a href="http://msdn.microsoft.com/library/azure/dn249410.aspx" target="_blank">cele dotyczące wydajności i skalowalności magazynu Azure</a> szczegółowe informacje o wartości docelowe skalowalności w przypadku kont magazynu i cele wydajności dla partycji w ramach konta magazynu.</span><span class="sxs-lookup"><span data-stu-id="ae785-404">For more information, see <a href="http://msdn.microsoft.com/library/azure/dn249410.aspx" target="_blank">Azure Storage Scalability and Performance Targets</a> for details on scalability targets for storage accounts and performance targets for partitions within storage accounts.</span></span>

<span data-ttu-id="ae785-405">Jeśli hello **PercentThrottlingError** Metryka spowodować wzrost hello odsetek żądań, które kończą się niepowodzeniem z powodu błędu ograniczania przepustowości, należy tooinvestigate jednego z dwóch scenariuszy:</span><span class="sxs-lookup"><span data-stu-id="ae785-405">If hello **PercentThrottlingError** metric show an increase in hello percentage of requests that are failing with a throttling error, you need tooinvestigate one of two scenarios:</span></span>

* <span data-ttu-id="ae785-406">[Przejściowa wzrost PercentThrottlingError]</span><span class="sxs-lookup"><span data-stu-id="ae785-406">[Transient increase in PercentThrottlingError]</span></span>
* <span data-ttu-id="ae785-407">[Stałe zwiększanie PercentThrottlingError błąd]</span><span class="sxs-lookup"><span data-stu-id="ae785-407">[Permanent increase in PercentThrottlingError error]</span></span>

<span data-ttu-id="ae785-408">Wzrost **PercentThrottlingError** często występuje na powitania tej samej czasu jako wzrost hello liczba żądań magazynu lub gdy początkowo załadować testowania aplikacji.</span><span class="sxs-lookup"><span data-stu-id="ae785-408">An increase in **PercentThrottlingError** often occurs at hello same time as an increase in hello number of storage requests, or when you are initially load testing your application.</span></span> <span data-ttu-id="ae785-409">To może również manifestu sam powitania klienta jako "503 serwera zajęty" lub "500 limit czasu operacji" HTTP komunikaty o stanie operacji magazynu.</span><span class="sxs-lookup"><span data-stu-id="ae785-409">This may also manifest itself in hello client as "503 Server Busy" or "500 Operation Timeout" HTTP status messages from storage operations.</span></span>

#### <span data-ttu-id="ae785-410"><a name="transient-increase-in-PercentThrottlingError"></a>Przejściowa wzrost PercentThrottlingError</span><span class="sxs-lookup"><span data-stu-id="ae785-410"><a name="transient-increase-in-PercentThrottlingError"></a>Transient increase in PercentThrottlingError</span></span>
<span data-ttu-id="ae785-411">Jeśli widzisz nagłego wartości hello **PercentThrottlingError** który pokrywa się z okresy intensywnego działania aplikacji hello, należy zaimplementować wykładniczej (nie liniowej) wycofywania strategii ponownych prób w kliencie: to zmniejsza hello natychmiastowego obciążenie hello partycji i pomóc Twojej aplikacji toosmooth limit największego ruchu.</span><span class="sxs-lookup"><span data-stu-id="ae785-411">If you are seeing spikes in hello value of **PercentThrottlingError** that coincide with periods of high activity for hello application, you should implement an exponential (not linear) back off strategy for retries in your client: this will reduce hello immediate load on hello partition and help your application toosmooth out spikes in traffic.</span></span> <span data-ttu-id="ae785-412">Aby uzyskać więcej informacji dotyczących sposobu zasad ponawiania tooimplement przy użyciu hello biblioteki klienta usługi Storage, zobacz <a href="http://msdn.microsoft.com/library/azure/microsoft.windowsazure.storage.retrypolicies.aspx" target="_blank">Namespace Microsoft.WindowsAzure.Storage.RetryPolicies</a> w witrynie MSDN.</span><span class="sxs-lookup"><span data-stu-id="ae785-412">For more information about how tooimplement retry policies using hello Storage Client Library, see <a href="http://msdn.microsoft.com/library/azure/microsoft.windowsazure.storage.retrypolicies.aspx" target="_blank">Microsoft.WindowsAzure.Storage.RetryPolicies Namespace</a> on MSDN.</span></span>

> [!NOTE]
> <span data-ttu-id="ae785-413">Może również zostać wyświetlony impulsy wartości hello **PercentThrottlingError** która nie pokrywa się z okresy intensywnego działania aplikacji hello: hello tutaj najbardziej prawdopodobną przyczyną jest usługą magazynu hello przenoszenie obciążenia tooimprove partycji Równoważenie.</span><span class="sxs-lookup"><span data-stu-id="ae785-413">You may also see spikes in hello value of **PercentThrottlingError** that do not coincide with periods of high activity for hello application: hello most likely cause here is hello storage service moving partitions tooimprove load balancing.</span></span>
> 
> 

#### <span data-ttu-id="ae785-414"><a name="permanent-increase-in-PercentThrottlingError"></a>Stałe zwiększanie PercentThrottlingError błąd</span><span class="sxs-lookup"><span data-stu-id="ae785-414"><a name="permanent-increase-in-PercentThrottlingError"></a>Permanent increase in PercentThrottlingError error</span></span>
<span data-ttu-id="ae785-415">Jeśli widzisz wysoką wartość **PercentThrottlingError** stałe wzrostu w woluminach transakcji lub wykonywania początkowej obciążenia testów dla aplikacji, a następnie należy tooevaluate jak aplikacja używa partycji magazynu i czy jej zbliża się do wartości docelowe skalowalności powitania dla konta magazynu.</span><span class="sxs-lookup"><span data-stu-id="ae785-415">If you are seeing a consistently high value for **PercentThrottlingError** following a permanent increase in your transaction volumes, or when you are performing your initial load tests on your application, then you need tooevaluate how your application is using storage partitions and whether it is approaching hello scalability targets for a storage account.</span></span> <span data-ttu-id="ae785-416">Na przykład jeśli widzisz ograniczania błędy w kolejce (który traktowana jako jednej partycji), następnie należy rozważyć używanie dodatkowe kolejki toospread hello transakcji między wieloma partycjami.</span><span class="sxs-lookup"><span data-stu-id="ae785-416">For example, if you are seeing throttling errors on a queue (which counts as a single partition), then you should consider using additional queues toospread hello transactions across multiple partitions.</span></span> <span data-ttu-id="ae785-417">Jeśli widzisz ograniczania błędów w tabeli, należy tooconsider przy użyciu różnych toospread schemat partycjonowania transakcje między wieloma partycjami za pomocą większej liczby wartości klucza partycji.</span><span class="sxs-lookup"><span data-stu-id="ae785-417">If you are seeing throttling errors on a table, you need tooconsider using a different partitioning scheme toospread your transactions across multiple partitions by using a wider range of partition key values.</span></span> <span data-ttu-id="ae785-418">Jeden typową przyczyną tego problemu jest hello dołączy Dołącz przed wzorzec gdzie wybierz datę hello jako klucza partycji hello, a następnie zapisywania wszystkich danych w określonym dniu partycji tooone: pod obciążeniem, może to spowodować wąskie gardło zapisu.</span><span class="sxs-lookup"><span data-stu-id="ae785-418">One common cause of this issue is hello prepend/append anti-pattern where you select hello date as hello partition key and then all data on a particular day is written tooone partition: under load, this can result in a write bottleneck.</span></span> <span data-ttu-id="ae785-419">Należy wziąć pod uwagę partycjonowania inny projekt lub oceny, czy przy użyciu magazynu obiektów blob może okazać się lepszym rozwiązaniem.</span><span class="sxs-lookup"><span data-stu-id="ae785-419">You should either consider a different partitioning design or evaluate whether using blob storage might be a better solution.</span></span> <span data-ttu-id="ae785-420">Należy także sprawdzić, jeśli ograniczania hello występuje w wyniku gwałtowny wzrost ruchu i zbadaj sposobów wygładzanie deseniu żądań.</span><span class="sxs-lookup"><span data-stu-id="ae785-420">You should also check if hello throttling is occurring as a result of spikes in your traffic and investigate ways of smoothing your pattern of requests.</span></span>

<span data-ttu-id="ae785-421">Transakcje rozpowszechniają wiele partycji, nadal należy pamiętać o limity skalowalności hello ustawione dla konta magazynu hello.</span><span class="sxs-lookup"><span data-stu-id="ae785-421">If you distribute your transactions across multiple partitions, you must still be aware of hello scalability limits set for hello storage account.</span></span> <span data-ttu-id="ae785-422">Na przykład jeśli użyto kolejek dziesięć każdego przetwarzania hello maksymalnie 2000 wiadomości o rozmiarze 1KB na sekundę, będzie na powitania ogólny limit 20 000 komunikatów na sekundę dla konta magazynu hello.</span><span class="sxs-lookup"><span data-stu-id="ae785-422">For example, if you used ten queues each processing hello maximum of 2,000 1KB messages per second, you will be at hello overall limit of 20,000 messages per second for hello storage account.</span></span> <span data-ttu-id="ae785-423">Jeśli potrzebujesz tooprocess ponad 20 000 jednostek na sekundę, należy rozważyć użycie wielu kont magazynu.</span><span class="sxs-lookup"><span data-stu-id="ae785-423">If you need tooprocess more than 20,000 entities per second, you should consider using multiple storage accounts.</span></span> <span data-ttu-id="ae785-424">Użytkownik powinien mieć na uwadze tego rozmiaru hello żądania i jednostek ma wpływ na kiedy usługa Magazyn hello ogranicza klientów: Jeśli masz większą żądań i jednostek może należy wcześniej ograniczany.</span><span class="sxs-lookup"><span data-stu-id="ae785-424">You should also bear in mind that hello size of your requests and entities has an impact on when hello storage service throttles your clients: if you have larger requests and entities, you may be throttled sooner.</span></span>

<span data-ttu-id="ae785-425">Projekt nieefektywne kwerendy może również spowodować limity skalowalności hello toohit do partycji tabeli.</span><span class="sxs-lookup"><span data-stu-id="ae785-425">Inefficient query design can also cause you toohit hello scalability limits for table partitions.</span></span> <span data-ttu-id="ae785-426">Na przykład zapytania filtru, który wybiera tylko jeden procent hello jednostek w partycji, ale która skanuje wszystkie hello jednostek w partycji należy tooaccess każdej jednostki.</span><span class="sxs-lookup"><span data-stu-id="ae785-426">For example, a query with a filter that only selects one percent of hello entities in a partition but that scans all hello entities in a partition will need tooaccess each entity.</span></span> <span data-ttu-id="ae785-427">Każdy podmiot odczytu są zliczane hello całkowita liczba transakcji w tej partycji; w związku z tym można łatwo osiągnąć hello wartości docelowe skalowalności.</span><span class="sxs-lookup"><span data-stu-id="ae785-427">Every entity read will count towards hello total number of transactions in that partition; therefore, you can easily reach hello scalability targets.</span></span>

> [!NOTE]
> <span data-ttu-id="ae785-428">Testowanie wydajności powinno ujawnić żadnych projektów nieefektywne kwerendy w aplikacji.</span><span class="sxs-lookup"><span data-stu-id="ae785-428">Your performance testing should reveal any inefficient query designs in your application.</span></span>
> 
> 

### <span data-ttu-id="ae785-429"><a name="metrics-show-an-increase-in-PercentTimeoutError"></a>Metryki spowodować wzrost PercentTimeoutError</span><span class="sxs-lookup"><span data-stu-id="ae785-429"><a name="metrics-show-an-increase-in-PercentTimeoutError"></a>Metrics show an increase in PercentTimeoutError</span></span>
<span data-ttu-id="ae785-430">Twoje metryki pokazują wzrost **PercentTimeoutError** dla jednej z usług magazynu.</span><span class="sxs-lookup"><span data-stu-id="ae785-430">Your metrics show an increase in **PercentTimeoutError** for one of your storage services.</span></span> <span data-ttu-id="ae785-431">Na powitania sam czas, hello klient odbiera dużej liczby komunikatów o stanie "500 limit czasu operacji" HTTP z operacji magazynu.</span><span class="sxs-lookup"><span data-stu-id="ae785-431">At hello same time, hello client receives a high volume of "500 Operation Timeout" HTTP status messages from storage operations.</span></span>

> [!NOTE]
> <span data-ttu-id="ae785-432">Może pojawić się błędy przekroczenia limitu czasu tymczasowo jako usługa Magazyn hello żądania zrównoważenia obciążenia przez przeniesienie partycji tooa nowego serwera.</span><span class="sxs-lookup"><span data-stu-id="ae785-432">You may see timeout errors temporarily as hello storage service load balances requests by moving a partition tooa new server.</span></span>
> 
> 

<span data-ttu-id="ae785-433">Witaj **PercentTimeoutError** metryka jest agregacją hello następujące metryki: **ClientTimeoutError**, **AnonymousClientTimeoutError**,  **SASClientTimeoutError**, **ServerTimeoutError**, **AnonymousServerTimeoutError**, i **SASServerTimeoutError**.</span><span class="sxs-lookup"><span data-stu-id="ae785-433">hello **PercentTimeoutError** metric is an aggregation of hello following metrics: **ClientTimeoutError**, **AnonymousClientTimeoutError**, **SASClientTimeoutError**, **ServerTimeoutError**, **AnonymousServerTimeoutError**, and **SASServerTimeoutError**.</span></span>

<span data-ttu-id="ae785-434">limity czasu serwera Hello są spowodowane błędem na powitania serwera.</span><span class="sxs-lookup"><span data-stu-id="ae785-434">hello server timeouts are caused by an error on hello server.</span></span> <span data-ttu-id="ae785-435">przekroczenia limitu czasu powitania klienta się tak zdarzyć, ponieważ operacji na powitania serwera przekroczyła limit czasu hello, określony przez klienta na powitania; na przykład za pomocą biblioteki klienta usługi Storage powitania klienta można ustawić czasu dla operacji przy użyciu hello **ServerTimeout** właściwości hello **QueueRequestOptions** klasy.</span><span class="sxs-lookup"><span data-stu-id="ae785-435">hello client timeouts happen because an operation on hello server has exceeded hello timeout specified by hello client; for example, a client using hello Storage Client Library can set a timeout for an operation by using hello **ServerTimeout** property of hello **QueueRequestOptions** class.</span></span>

<span data-ttu-id="ae785-436">Limity czasu serwera wskazują na problem z usługą magazynu hello, który wymaga dalszych badań.</span><span class="sxs-lookup"><span data-stu-id="ae785-436">Server timeouts indicate a problem with hello storage service that requires further investigation.</span></span> <span data-ttu-id="ae785-437">Jeśli czy osiągnięto limity skalowalności hello hello usługi i tooidentify żadnych największego ruchu, które mogą być przyczyną tego problemu, można użyć toosee metryki.</span><span class="sxs-lookup"><span data-stu-id="ae785-437">You can use metrics toosee if you are hitting hello scalability limits for hello service and tooidentify any spikes in traffic that might be causing this problem.</span></span> <span data-ttu-id="ae785-438">Jeśli hello problem jest przerywana, może być spowodowane równoważenia tooload aktywności w usługę hello.</span><span class="sxs-lookup"><span data-stu-id="ae785-438">If hello problem is intermittent, it may be due tooload-balancing activity in hello service.</span></span> <span data-ttu-id="ae785-439">Jeśli hello problem jest trwałe i nie jest spowodowany przez naciśnięcie limity skalowalności hello hello usługi aplikacji, należy Zgłoś problem pomocy technicznej.</span><span class="sxs-lookup"><span data-stu-id="ae785-439">If hello problem is persistent and is not caused by your application hitting hello scalability limits of hello service, you should raise a support issue.</span></span> <span data-ttu-id="ae785-440">Limitów czasu klienta należy zdecydować, czy limit czasu hello jest ustawiany tooan odpowiednią wartość w powitania klienta i albo zmień wartość limitu czasu hello w powitania klienta lub zbadać, jak ulepszyć wydajność hello hello operacji w usłudze magazynowania hello, dla przykład optymalizacji zapytań tabeli lub zmniejszyć rozmiar hello wiadomości.</span><span class="sxs-lookup"><span data-stu-id="ae785-440">For client timeouts, you must decide if hello timeout is set tooan appropriate value in hello client and either change hello timeout value set in hello client or investigate how you can improve hello performance of hello operations in hello storage service, for example by optimizing your table queries or reducing hello size of your messages.</span></span>

### <span data-ttu-id="ae785-441"><a name="metrics-show-an-increase-in-PercentNetworkError"></a>Metryki spowodować wzrost PercentNetworkError</span><span class="sxs-lookup"><span data-stu-id="ae785-441"><a name="metrics-show-an-increase-in-PercentNetworkError"></a>Metrics show an increase in PercentNetworkError</span></span>
<span data-ttu-id="ae785-442">Twoje metryki pokazują wzrost **PercentNetworkError** dla jednej z usług magazynu.</span><span class="sxs-lookup"><span data-stu-id="ae785-442">Your metrics show an increase in **PercentNetworkError** for one of your storage services.</span></span> <span data-ttu-id="ae785-443">Witaj **PercentNetworkError** metryka jest agregacją hello następujące metryki: **NetworkError**, **AnonymousNetworkError**, i  **SASNetworkError**.</span><span class="sxs-lookup"><span data-stu-id="ae785-443">hello **PercentNetworkError** metric is an aggregation of hello following metrics: **NetworkError**, **AnonymousNetworkError**, and **SASNetworkError**.</span></span> <span data-ttu-id="ae785-444">Te wystąpić, gdy usługa Magazyn hello wykrywa błąd sieciowy hello klient wysyła żądanie magazynu.</span><span class="sxs-lookup"><span data-stu-id="ae785-444">These occur when hello storage service detects a network error when hello client makes a storage request.</span></span>

<span data-ttu-id="ae785-445">Witaj Najczęstszą przyczyną tego błędu jest to klient rozłączanie przed upływem limitu czasu w usłudze magazynowania hello.</span><span class="sxs-lookup"><span data-stu-id="ae785-445">hello most common cause of this error is a client disconnecting before a timeout expires in hello storage service.</span></span> <span data-ttu-id="ae785-446">W Twojej toounderstand klienta, kiedy i dlaczego hello klient zakończy połączenie z usługą magazynu hello powinien być sprawdzony hello kodu.</span><span class="sxs-lookup"><span data-stu-id="ae785-446">You should investigate hello code in your client toounderstand why and when hello client disconnects from hello storage service.</span></span> <span data-ttu-id="ae785-447">Można również użyć programu Wireshark, Microsoft Message Analyzer ani Tcping tooinvestigate problemy z połączeniem sieciowym z powitania klienta.</span><span class="sxs-lookup"><span data-stu-id="ae785-447">You can also use Wireshark, Microsoft Message Analyzer, or Tcping tooinvestigate network connectivity issues from hello client.</span></span> <span data-ttu-id="ae785-448">Te narzędzia są opisane w hello [dodatki].</span><span class="sxs-lookup"><span data-stu-id="ae785-448">These tools are described in hello [Appendices].</span></span>

### <span data-ttu-id="ae785-449"><a name="the-client-is-receiving-403-messages"></a>powitania klienta odbiera komunikaty HTTP 403 (Dostęp zabroniony)</span><span class="sxs-lookup"><span data-stu-id="ae785-449"><a name="the-client-is-receiving-403-messages"></a>hello client is receiving HTTP 403 (Forbidden) messages</span></span>
<span data-ttu-id="ae785-450">Jeśli aplikacja kliencka jest zgłaszanie błędów HTTP 403 (Dostęp zabroniony), prawdopodobną przyczyną jest powitania klienta używa wygasłe dostępu sygnatury dostępu Współdzielonego podczas wysyłania żądania magazynu (mimo że inne przyczyny obejmują zegara pochylenia nieprawidłowe klucze, a pusty nagłówki).</span><span class="sxs-lookup"><span data-stu-id="ae785-450">If your client application is throwing HTTP 403 (Forbidden) errors, a likely cause is that hello client is using an expired Shared Access Signature (SAS) when it sends a storage request (although other possible causes include clock skew, invalid keys, and empty headers).</span></span> <span data-ttu-id="ae785-451">Wygasłe klucza sygnatury dostępu Współdzielonego jest przyczyną hello, nie będą widzieć żadnych wpisów rejestrowania magazynu danych dziennika programu hello po stronie serwera.</span><span class="sxs-lookup"><span data-stu-id="ae785-451">If an expired SAS key is hello cause, you will not see any entries in hello server-side Storage Logging log data.</span></span> <span data-ttu-id="ae785-452">Witaj poniższej tabeli przedstawiono przykładowe z dziennika klienta hello generowane przez hello biblioteki klienta magazynu, która ilustruje ten problem występuje:</span><span class="sxs-lookup"><span data-stu-id="ae785-452">hello following table shows a sample from hello client-side log generated by hello Storage Client Library that illustrates this issue occurring:</span></span>

| <span data-ttu-id="ae785-453">Element źródłowy</span><span class="sxs-lookup"><span data-stu-id="ae785-453">Source</span></span> | <span data-ttu-id="ae785-454">Poziom szczegółowości</span><span class="sxs-lookup"><span data-stu-id="ae785-454">Verbosity</span></span> | <span data-ttu-id="ae785-455">Poziom szczegółowości</span><span class="sxs-lookup"><span data-stu-id="ae785-455">Verbosity</span></span> | <span data-ttu-id="ae785-456">Identyfikator żądania klienta</span><span class="sxs-lookup"><span data-stu-id="ae785-456">Client request id</span></span> | <span data-ttu-id="ae785-457">Operacja tekstu</span><span class="sxs-lookup"><span data-stu-id="ae785-457">Operation text</span></span> |
| --- | --- | --- | --- | --- |
| <span data-ttu-id="ae785-458">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="ae785-458">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="ae785-459">Informacje</span><span class="sxs-lookup"><span data-stu-id="ae785-459">Information</span></span> |<span data-ttu-id="ae785-460">3</span><span class="sxs-lookup"><span data-stu-id="ae785-460">3</span></span> |<span data-ttu-id="ae785-461">85d077ab-...</span><span class="sxs-lookup"><span data-stu-id="ae785-461">85d077ab-…</span></span> |<span data-ttu-id="ae785-462">Uruchamianie operacji z lokalizacji podstawowej na tryb lokalizacji PrimaryOnly.</span><span class="sxs-lookup"><span data-stu-id="ae785-462">Starting operation with location Primary per location mode PrimaryOnly.</span></span> |
| <span data-ttu-id="ae785-463">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="ae785-463">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="ae785-464">Informacje</span><span class="sxs-lookup"><span data-stu-id="ae785-464">Information</span></span> |<span data-ttu-id="ae785-465">3</span><span class="sxs-lookup"><span data-stu-id="ae785-465">3</span></span> |<span data-ttu-id="ae785-466">85d077ab-...</span><span class="sxs-lookup"><span data-stu-id="ae785-466">85d077ab -…</span></span> |<span data-ttu-id="ae785-467">Uruchamianie synchroniczne żądania toohttps://domemaildist.blob.core.windows.netazureimblobcontainer/blobCreatedViaSAS.txt?sv=2014-02-14&amp;sr = c&amp;si = mypolicy&amp;sig = OFnd4Rd7z01fIvh % 2BmcR6zbudIH2F5Ikm % 2FyhNYZEmJNQ % 3D&amp;api-version = 2014-02-14.</span><span class="sxs-lookup"><span data-stu-id="ae785-467">Starting synchronous request toohttps://domemaildist.blob.core.windows.netazureimblobcontainer/blobCreatedViaSAS.txt?sv=2014-02-14&amp;sr=c&amp;si=mypolicy&amp;sig=OFnd4Rd7z01fIvh%2BmcR6zbudIH2F5Ikm%2FyhNYZEmJNQ%3D&amp;api-version=2014-02-14.</span></span> |
| <span data-ttu-id="ae785-468">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="ae785-468">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="ae785-469">Informacje</span><span class="sxs-lookup"><span data-stu-id="ae785-469">Information</span></span> |<span data-ttu-id="ae785-470">3</span><span class="sxs-lookup"><span data-stu-id="ae785-470">3</span></span> |<span data-ttu-id="ae785-471">85d077ab-...</span><span class="sxs-lookup"><span data-stu-id="ae785-471">85d077ab -…</span></span> |<span data-ttu-id="ae785-472">Oczekiwanie na odpowiedź.</span><span class="sxs-lookup"><span data-stu-id="ae785-472">Waiting for response.</span></span> |
| <span data-ttu-id="ae785-473">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="ae785-473">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="ae785-474">Ostrzeżenie</span><span class="sxs-lookup"><span data-stu-id="ae785-474">Warning</span></span> |<span data-ttu-id="ae785-475">2</span><span class="sxs-lookup"><span data-stu-id="ae785-475">2</span></span> |<span data-ttu-id="ae785-476">85d077ab-...</span><span class="sxs-lookup"><span data-stu-id="ae785-476">85d077ab -…</span></span> |<span data-ttu-id="ae785-477">Zgłoszono wyjątek podczas oczekiwania na odpowiedź: hello serwer zdalny zwrócił błąd: (403) zabroniony.</span><span class="sxs-lookup"><span data-stu-id="ae785-477">Exception thrown while waiting for response: hello remote server returned an error: (403) Forbidden..</span></span> |
| <span data-ttu-id="ae785-478">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="ae785-478">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="ae785-479">Informacje</span><span class="sxs-lookup"><span data-stu-id="ae785-479">Information</span></span> |<span data-ttu-id="ae785-480">3</span><span class="sxs-lookup"><span data-stu-id="ae785-480">3</span></span> |<span data-ttu-id="ae785-481">85d077ab-...</span><span class="sxs-lookup"><span data-stu-id="ae785-481">85d077ab -…</span></span> |<span data-ttu-id="ae785-482">Odebrano odpowiedź.</span><span class="sxs-lookup"><span data-stu-id="ae785-482">Response received.</span></span> <span data-ttu-id="ae785-483">Kod stanu = 403, identyfikator żądania = 9d67c64a-64ed-4b0d-9515-3b14bbcdc63d, Content-MD5 = ETag =.</span><span class="sxs-lookup"><span data-stu-id="ae785-483">Status code = 403, Request ID = 9d67c64a-64ed-4b0d-9515-3b14bbcdc63d, Content-MD5 = , ETag = .</span></span> |
| <span data-ttu-id="ae785-484">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="ae785-484">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="ae785-485">Ostrzeżenie</span><span class="sxs-lookup"><span data-stu-id="ae785-485">Warning</span></span> |<span data-ttu-id="ae785-486">2</span><span class="sxs-lookup"><span data-stu-id="ae785-486">2</span></span> |<span data-ttu-id="ae785-487">85d077ab-...</span><span class="sxs-lookup"><span data-stu-id="ae785-487">85d077ab -…</span></span> |<span data-ttu-id="ae785-488">Zgłoszono wyjątek podczas operacji hello: hello serwer zdalny zwrócił błąd: (403) zabroniony.</span><span class="sxs-lookup"><span data-stu-id="ae785-488">Exception thrown during hello operation: hello remote server returned an error: (403) Forbidden..</span></span> |
| <span data-ttu-id="ae785-489">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="ae785-489">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="ae785-490">Informacje</span><span class="sxs-lookup"><span data-stu-id="ae785-490">Information</span></span> |<span data-ttu-id="ae785-491">3</span><span class="sxs-lookup"><span data-stu-id="ae785-491">3</span></span> |<span data-ttu-id="ae785-492">85d077ab-...</span><span class="sxs-lookup"><span data-stu-id="ae785-492">85d077ab -…</span></span> |<span data-ttu-id="ae785-493">Sprawdzanie, czy należy wykonać ponownie operację hello.</span><span class="sxs-lookup"><span data-stu-id="ae785-493">Checking if hello operation should be retried.</span></span> <span data-ttu-id="ae785-494">Liczba ponownych prób = 0, kod stanu HTTP 403, wyjątek = = powitania serwera zdalnego zwróciło błąd: (403) zabroniony.</span><span class="sxs-lookup"><span data-stu-id="ae785-494">Retry count = 0, HTTP status code = 403, Exception = hello remote server returned an error: (403) Forbidden..</span></span> |
| <span data-ttu-id="ae785-495">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="ae785-495">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="ae785-496">Informacje</span><span class="sxs-lookup"><span data-stu-id="ae785-496">Information</span></span> |<span data-ttu-id="ae785-497">3</span><span class="sxs-lookup"><span data-stu-id="ae785-497">3</span></span> |<span data-ttu-id="ae785-498">85d077ab-...</span><span class="sxs-lookup"><span data-stu-id="ae785-498">85d077ab -…</span></span> |<span data-ttu-id="ae785-499">ustawiono Hello następnej lokalizacji tooPrimary, na podstawie hello trybu lokalizacji.</span><span class="sxs-lookup"><span data-stu-id="ae785-499">hello next location has been set tooPrimary, based on hello location mode.</span></span> |
| <span data-ttu-id="ae785-500">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="ae785-500">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="ae785-501">Błąd</span><span class="sxs-lookup"><span data-stu-id="ae785-501">Error</span></span> |<span data-ttu-id="ae785-502">1</span><span class="sxs-lookup"><span data-stu-id="ae785-502">1</span></span> |<span data-ttu-id="ae785-503">85d077ab-...</span><span class="sxs-lookup"><span data-stu-id="ae785-503">85d077ab -…</span></span> |<span data-ttu-id="ae785-504">Zasady ponawiania nie zezwala na ponowienie próby.</span><span class="sxs-lookup"><span data-stu-id="ae785-504">Retry policy did not allow for a retry.</span></span> <span data-ttu-id="ae785-505">Niepowodzenie z powitania serwera zdalnego zwróciło błąd: (403) zabroniony.</span><span class="sxs-lookup"><span data-stu-id="ae785-505">Failing with hello remote server returned an error: (403) Forbidden.</span></span> |

<span data-ttu-id="ae785-506">W tym scenariuszu należy zbadać, dlaczego tokenu sygnatury dostępu Współdzielonego hello wygasa przed powitania klienta wysyła hello toohello tokenu serwera:</span><span class="sxs-lookup"><span data-stu-id="ae785-506">In this scenario, you should investigate why hello SAS token is expiring before hello client sends hello token toohello server:</span></span>

* <span data-ttu-id="ae785-507">Zwykle nie należy ustawić czas rozpoczęcia, podczas tworzenia sygnatury dostępu Współdzielonego dla toouse klienta natychmiast.</span><span class="sxs-lookup"><span data-stu-id="ae785-507">Typically, you should not set a start time when you create a SAS for a client toouse immediately.</span></span> <span data-ttu-id="ae785-508">W przypadku małych zegara różnice między hostem hello generowania przy użyciu sygnatury dostępu Współdzielonego hello hello bieżący czas i usługi magazynu hello, a następnie jest możliwe hello magazynu usługi tooreceive sygnatury dostępu Współdzielonego, który nie jest jeszcze ważny.</span><span class="sxs-lookup"><span data-stu-id="ae785-508">If there are small clock differences between hello host generating hello SAS using hello current time and hello storage service, then it is possible for hello storage service tooreceive a SAS that is not yet valid.</span></span>
* <span data-ttu-id="ae785-509">Czas wygaśnięcia bardzo krótki nie należy ustawiać na sygnatury dostępu Współdzielonego.</span><span class="sxs-lookup"><span data-stu-id="ae785-509">You should not set a very short expiry time on a SAS.</span></span> <span data-ttu-id="ae785-510">Ponownie, małych zegara różnice między hostem hello generowania hello sygnatury dostępu Współdzielonego i usługi magazynu hello może prowadzić tooa SAS najwyraźniej wygasa wcześniej niż zakładano.</span><span class="sxs-lookup"><span data-stu-id="ae785-510">Again, small clock differences between hello host generating hello SAS and hello storage service can lead tooa SAS apparently expiring earlier than anticipated.</span></span>
* <span data-ttu-id="ae785-511">Witaj parametr wersji w hello klucza sygnatury dostępu Współdzielonego (na przykład **sv = 2012-02-12**) wersja hello dopasowania hello korzystasz z biblioteki klienta usługi Storage.</span><span class="sxs-lookup"><span data-stu-id="ae785-511">Does hello version parameter in hello SAS key (for example **sv=2012-02-12**) match hello version of hello Storage Client Library you are using.</span></span> <span data-ttu-id="ae785-512">Zawsze należy używać najnowszej wersji hello hello biblioteki klienta usługi Storage.</span><span class="sxs-lookup"><span data-stu-id="ae785-512">You should always use hello latest version of hello Storage Client Library.</span></span> <span data-ttu-id="ae785-513">Aby uzyskać więcej informacji o wersji tokenu sygnatury dostępu Współdzielonego, zobacz [Nowości dotyczące usługi Magazyn Microsoft Azure](http://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/14/what-s-new-for-microsoft-azure-storage-at-teched-2014.aspx).</span><span class="sxs-lookup"><span data-stu-id="ae785-513">For more information about SAS token versioning, see [What's new for Microsoft Azure Storage](http://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/14/what-s-new-for-microsoft-azure-storage-at-teched-2014.aspx).</span></span>
* * <span data-ttu-id="ae785-514">Ponownego generowania kluczy dostępu do magazynu (kliknij **Zarządzaj kluczami dostępu** na każdej stronie na koncie magazynu w hello klasycznego portalu Azure) to unieważnienie wszystkie istniejące tokeny sygnatury dostępu Współdzielonego.</span><span class="sxs-lookup"><span data-stu-id="ae785-514">If you regenerate your storage access keys (click **Manage Access Keys** on any page in your storage account in hello Azure Classic Portal) this can invalidate any existing SAS tokens.</span></span> <span data-ttu-id="ae785-515">Może to być problem, jeśli Generowanie tokeny sygnatury dostępu Współdzielonego i czas wygaśnięcia długi dla toocache aplikacji klienta.</span><span class="sxs-lookup"><span data-stu-id="ae785-515">This may be an issue if you generate SAS tokens with a long expiry time for client applications toocache.</span></span>

<span data-ttu-id="ae785-516">Jeśli używasz hello tokeny sygnatury dostępu Współdzielonego toogenerate biblioteki klienta usługi Storage, a następnie jest toobuild łatwa prawidłowy token.</span><span class="sxs-lookup"><span data-stu-id="ae785-516">If you are using hello Storage Client Library toogenerate SAS tokens, then it is easy toobuild a valid token.</span></span> <span data-ttu-id="ae785-517">Jednak jeśli jesteś przy użyciu interfejsu API REST magazynu hello i ręcznie konstruowania tokeny sygnatury dostępu Współdzielonego hello należy uważnie przeczytać temat hello <a href="http://msdn.microsoft.com/library/azure/ee395415.aspx" target="_blank">Delegowanie dostępu z sygnaturą dostępu współdzielonego</a> w witrynie MSDN.</span><span class="sxs-lookup"><span data-stu-id="ae785-517">However, if you are using hello Storage REST API and constructing hello SAS tokens by hand you should carefully read hello topic <a href="http://msdn.microsoft.com/library/azure/ee395415.aspx" target="_blank">Delegating Access with a Shared Access Signature</a> on MSDN.</span></span>

### <span data-ttu-id="ae785-518"><a name="the-client-is-receiving-404-messages"></a>powitania klienta odbiera komunikaty HTTP 404 (nie znaleziono)</span><span class="sxs-lookup"><span data-stu-id="ae785-518"><a name="the-client-is-receiving-404-messages"></a>hello client is receiving HTTP 404 (Not found) messages</span></span>
<span data-ttu-id="ae785-519">Jeśli aplikacja kliencka hello odbiera komunikat HTTP 404 (nie znaleziono) z serwera hello, oznacza to próbowano powitania klienta hello obiektu toouse (na przykład jednostki, tabeli, obiektów blob, kontenera lub kolejki) nie istnieje w usłudze magazynowania hello.</span><span class="sxs-lookup"><span data-stu-id="ae785-519">If hello client application receives an HTTP 404 (Not found) message from hello server, this implies that hello object hello client was attempting toouse (such as an entity, table, blob, container, or queue) does not exist in hello storage service.</span></span> <span data-ttu-id="ae785-520">Istnieje wiele możliwych przyczyn tej, takich jak:</span><span class="sxs-lookup"><span data-stu-id="ae785-520">There are a number of possible reasons for this, such as:</span></span>

* <span data-ttu-id="ae785-521">[powitania klienta lub inny proces wcześniej usunięty obiekt hello]</span><span class="sxs-lookup"><span data-stu-id="ae785-521">[hello client or another process previously deleted hello object]</span></span>
* <span data-ttu-id="ae785-522">[Problem autoryzacji dostępu sygnatury dostępu Współdzielonego]</span><span class="sxs-lookup"><span data-stu-id="ae785-522">[A Shared Access Signature (SAS) authorization issue]</span></span>
* <span data-ttu-id="ae785-523">[Kod JavaScript po stronie klienta nie ma obiektu hello tooaccess uprawnień]</span><span class="sxs-lookup"><span data-stu-id="ae785-523">[Client-side JavaScript code does not have permission tooaccess hello object]</span></span>
* <span data-ttu-id="ae785-524">[Błąd sieci]</span><span class="sxs-lookup"><span data-stu-id="ae785-524">[Network failure]</span></span>

#### <span data-ttu-id="ae785-525"><a name="client-previously-deleted-the-object"></a>powitania klienta lub inny proces wcześniej usunięty obiekt hello</span><span class="sxs-lookup"><span data-stu-id="ae785-525"><a name="client-previously-deleted-the-object"></a>hello client or another process previously deleted hello object</span></span>
<span data-ttu-id="ae785-526">W scenariuszach, w którym klient hello próbuje tooread, aktualizacji lub usuwania danych w usłudze magazynowania, który zazwyczaj jest to łatwe tooidentify powitania po stronie serwera rejestruje poprzedniej operacji usunięty z usługi magazynowania hello hello danego obiektu.</span><span class="sxs-lookup"><span data-stu-id="ae785-526">In scenarios where hello client is attempting tooread, update, or delete data in a storage service it is usually easy tooidentify in hello server-side logs a previous operation that deleted hello object in question from hello storage service.</span></span> <span data-ttu-id="ae785-527">Bardzo często dane dziennika hello pokazuje tego innego obiektu usuniętego hello użytkownika lub inny proces.</span><span class="sxs-lookup"><span data-stu-id="ae785-527">Very often, hello log data shows that another user or process deleted hello object.</span></span> <span data-ttu-id="ae785-528">W dzienniku rejestrowania magazynu po stronie serwera hello hello typ operacji i żądanego obiektu-kolumn klucza pokazują, gdy klient usunięty obiekt.</span><span class="sxs-lookup"><span data-stu-id="ae785-528">In hello server-side Storage Logging log, hello operation-type and requested-object-key columns show when a client deleted an object.</span></span>

<span data-ttu-id="ae785-529">W scenariuszu hello którym klient próbuje tooinsert obiektu nie można od razu widoczne Dlaczego powoduje to odpowiedzi HTTP 404 (nie znaleziono) biorąc pod uwagę, że hello klienta jest utworzenie nowego obiektu.</span><span class="sxs-lookup"><span data-stu-id="ae785-529">In hello scenario where a client is attempting tooinsert an object, it may not be immediately obvious why this results in an HTTP 404 (Not found) response given that hello client is creating a new object.</span></span> <span data-ttu-id="ae785-530">Jednak jeśli powitania klienta jest utworzenie obiektu blob, który musi być możliwe toofind hello kontenera obiektów blob, powitania klienta jest tworzenia komunikatu musi być możliwe toofind kolejki, a jeśli powitania klienta jest dodawanie wiersza musi być możliwe toofind hello tabeli.</span><span class="sxs-lookup"><span data-stu-id="ae785-530">However, if hello client is creating a blob it must be able toofind hello blob container, if hello client is creating a message it must be able toofind a queue, and if hello client is adding a row it must be able toofind hello table.</span></span>

<span data-ttu-id="ae785-531">Możesz użyć powitania klienta dziennika z hello toogain biblioteki klienta usługi Storage, które bardziej szczegółowe zrozumienia, gdy powitania klienta wysyła określone żądania toohello magazynu usługi.</span><span class="sxs-lookup"><span data-stu-id="ae785-531">You can use hello client-side log from hello Storage Client Library toogain a more detailed understanding of when hello client sends specific requests toohello storage service.</span></span>

<span data-ttu-id="ae785-532">Hello następujące dziennika klienta generowane przez biblioteki klienta magazynu hello przedstawiono hello problem podczas powitania klienta nie można odnaleźć kontenera hello dla obiekt blob hello tworzenia.</span><span class="sxs-lookup"><span data-stu-id="ae785-532">hello following client-side log generated by hello Storage Client library illustrates hello problem when hello client cannot find hello container for hello blob it is creating.</span></span> <span data-ttu-id="ae785-533">Ten dziennik zawiera szczegóły hello następujące operacje magazynu:</span><span class="sxs-lookup"><span data-stu-id="ae785-533">This log includes details of hello following storage operations:</span></span>

| <span data-ttu-id="ae785-534">Identyfikator żądania</span><span class="sxs-lookup"><span data-stu-id="ae785-534">Request ID</span></span> | <span data-ttu-id="ae785-535">Operacja</span><span class="sxs-lookup"><span data-stu-id="ae785-535">Operation</span></span> |
| --- | --- |
| <span data-ttu-id="ae785-536">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="ae785-536">07b26a5d-...</span></span> |<span data-ttu-id="ae785-537">**DeleteIfExists** kontenera obiektów blob hello toodelete metody.</span><span class="sxs-lookup"><span data-stu-id="ae785-537">**DeleteIfExists** method toodelete hello blob container.</span></span> <span data-ttu-id="ae785-538">Należy pamiętać, że ta operacja obejmuje **HEAD** żądania toocheck istnienie hello hello kontenera.</span><span class="sxs-lookup"><span data-stu-id="ae785-538">Note that this operation includes a **HEAD** request toocheck for hello existence of hello container.</span></span> |
| <span data-ttu-id="ae785-539">e2d06d78...</span><span class="sxs-lookup"><span data-stu-id="ae785-539">e2d06d78…</span></span> |<span data-ttu-id="ae785-540">**CreateIfNotExists** kontenera obiektów blob hello toocreate metody.</span><span class="sxs-lookup"><span data-stu-id="ae785-540">**CreateIfNotExists** method toocreate hello blob container.</span></span> <span data-ttu-id="ae785-541">Należy pamiętać, że ta operacja obejmuje **HEAD** żądania, które sprawdza istnienie hello hello kontenera.</span><span class="sxs-lookup"><span data-stu-id="ae785-541">Note that this operation includes a **HEAD** request that checks for hello existence of hello container.</span></span> <span data-ttu-id="ae785-542">Witaj **HEAD** zwraca komunikat 404, ale nadal.</span><span class="sxs-lookup"><span data-stu-id="ae785-542">hello **HEAD** returns a 404 message but continues.</span></span> |
| <span data-ttu-id="ae785-543">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="ae785-543">de8b1c3c-...</span></span> |<span data-ttu-id="ae785-544">**UploadFromStream** metody toocreate hello blob.</span><span class="sxs-lookup"><span data-stu-id="ae785-544">**UploadFromStream** method toocreate hello blob.</span></span> <span data-ttu-id="ae785-545">Witaj **PUT** żądanie kończy się niepowodzeniem z komunikatem 404</span><span class="sxs-lookup"><span data-stu-id="ae785-545">hello **PUT** request fails with a 404 message</span></span> |

<span data-ttu-id="ae785-546">Wpisy dziennika:</span><span class="sxs-lookup"><span data-stu-id="ae785-546">Log entries:</span></span>

| <span data-ttu-id="ae785-547">Identyfikator żądania</span><span class="sxs-lookup"><span data-stu-id="ae785-547">Request ID</span></span> | <span data-ttu-id="ae785-548">Operacja tekstu</span><span class="sxs-lookup"><span data-stu-id="ae785-548">Operation Text</span></span> |
| --- | --- |
| <span data-ttu-id="ae785-549">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="ae785-549">07b26a5d-...</span></span> |<span data-ttu-id="ae785-550">Uruchamianie toohttps://domemaildist.blob.core.windows.net/azuremmblobcontainer żądań synchronicznych.</span><span class="sxs-lookup"><span data-stu-id="ae785-550">Starting synchronous request toohttps://domemaildist.blob.core.windows.net/azuremmblobcontainer.</span></span> |
| <span data-ttu-id="ae785-551">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="ae785-551">07b26a5d-...</span></span> |<span data-ttu-id="ae785-552">StringToSign = HEAD...x-ms-client-request-id:07b26a5d-...x-ms-date:Tue, 03 2014 cze 10:33:11 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span><span class="sxs-lookup"><span data-stu-id="ae785-552">StringToSign = HEAD............x-ms-client-request-id:07b26a5d-....x-ms-date:Tue, 03 Jun 2014 10:33:11 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span></span> |
| <span data-ttu-id="ae785-553">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="ae785-553">07b26a5d-...</span></span> |<span data-ttu-id="ae785-554">Oczekiwanie na odpowiedź.</span><span class="sxs-lookup"><span data-stu-id="ae785-554">Waiting for response.</span></span> |
| <span data-ttu-id="ae785-555">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="ae785-555">07b26a5d-...</span></span> |<span data-ttu-id="ae785-556">Odebrano odpowiedź.</span><span class="sxs-lookup"><span data-stu-id="ae785-556">Response received.</span></span> <span data-ttu-id="ae785-557">Kod stanu 200, identyfikator żądania = = eeead849... Content-MD5 = ETag = &quot;0x8D14D2DC63D059B&quot;.</span><span class="sxs-lookup"><span data-stu-id="ae785-557">Status code = 200, Request ID = eeead849-...Content-MD5 = , ETag =    &quot;0x8D14D2DC63D059B&quot;.</span></span> |
| <span data-ttu-id="ae785-558">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="ae785-558">07b26a5d-...</span></span> |<span data-ttu-id="ae785-559">Nagłówki odpowiedzi zostały przetworzone pomyślnie, kontynuowanie rest hello hello operacji.</span><span class="sxs-lookup"><span data-stu-id="ae785-559">Response headers were processed successfully, proceeding with hello rest of hello operation.</span></span> |
| <span data-ttu-id="ae785-560">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="ae785-560">07b26a5d-...</span></span> |<span data-ttu-id="ae785-561">Pobiera treść odpowiedzi.</span><span class="sxs-lookup"><span data-stu-id="ae785-561">Downloading response body.</span></span> |
| <span data-ttu-id="ae785-562">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="ae785-562">07b26a5d-...</span></span> |<span data-ttu-id="ae785-563">Operacja została ukończona pomyślnie.</span><span class="sxs-lookup"><span data-stu-id="ae785-563">Operation completed successfully.</span></span> |
| <span data-ttu-id="ae785-564">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="ae785-564">07b26a5d-...</span></span> |<span data-ttu-id="ae785-565">Uruchamianie toohttps://domemaildist.blob.core.windows.net/azuremmblobcontainer żądań synchronicznych.</span><span class="sxs-lookup"><span data-stu-id="ae785-565">Starting synchronous request toohttps://domemaildist.blob.core.windows.net/azuremmblobcontainer.</span></span> |
| <span data-ttu-id="ae785-566">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="ae785-566">07b26a5d-...</span></span> |<span data-ttu-id="ae785-567">StringToSign = 03 2014 cze DELETE...x-ms-client-request-id:07b26a5d-...x-ms-date:Tue, 10:33:12 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span><span class="sxs-lookup"><span data-stu-id="ae785-567">StringToSign = DELETE............x-ms-client-request-id:07b26a5d-....x-ms-date:Tue, 03 Jun 2014 10:33:12    GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span></span> |
| <span data-ttu-id="ae785-568">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="ae785-568">07b26a5d-...</span></span> |<span data-ttu-id="ae785-569">Oczekiwanie na odpowiedź.</span><span class="sxs-lookup"><span data-stu-id="ae785-569">Waiting for response.</span></span> |
| <span data-ttu-id="ae785-570">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="ae785-570">07b26a5d-...</span></span> |<span data-ttu-id="ae785-571">Odebrano odpowiedź.</span><span class="sxs-lookup"><span data-stu-id="ae785-571">Response received.</span></span> <span data-ttu-id="ae785-572">Kod stanu = 202, identyfikator żądania = 6ab2a4cf..., Content-MD5 = ETag =.</span><span class="sxs-lookup"><span data-stu-id="ae785-572">Status code = 202, Request ID = 6ab2a4cf-..., Content-MD5 = , ETag = .</span></span> |
| <span data-ttu-id="ae785-573">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="ae785-573">07b26a5d-...</span></span> |<span data-ttu-id="ae785-574">Nagłówki odpowiedzi zostały przetworzone pomyślnie, kontynuowanie rest hello hello operacji.</span><span class="sxs-lookup"><span data-stu-id="ae785-574">Response headers were processed successfully, proceeding with hello rest of hello operation.</span></span> |
| <span data-ttu-id="ae785-575">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="ae785-575">07b26a5d-...</span></span> |<span data-ttu-id="ae785-576">Pobiera treść odpowiedzi.</span><span class="sxs-lookup"><span data-stu-id="ae785-576">Downloading response body.</span></span> |
| <span data-ttu-id="ae785-577">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="ae785-577">07b26a5d-...</span></span> |<span data-ttu-id="ae785-578">Operacja została ukończona pomyślnie.</span><span class="sxs-lookup"><span data-stu-id="ae785-578">Operation completed successfully.</span></span> |
| <span data-ttu-id="ae785-579">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="ae785-579">e2d06d78-...</span></span> |<span data-ttu-id="ae785-580">Uruchamianie toohttps://domemaildist.blob.core.windows.net/azuremmblobcontainer żądania asynchronicznego.</span><span class="sxs-lookup"><span data-stu-id="ae785-580">Starting asynchronous request toohttps://domemaildist.blob.core.windows.net/azuremmblobcontainer.</span></span></td> |
| <span data-ttu-id="ae785-581">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="ae785-581">e2d06d78-...</span></span> |<span data-ttu-id="ae785-582">StringToSign = 03 2014 cze HEAD...x-ms-client-request-id:e2d06d78-...x-ms-date:Tue, 10:33:12 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span><span class="sxs-lookup"><span data-stu-id="ae785-582">StringToSign = HEAD............x-ms-client-request-id:e2d06d78-....x-ms-date:Tue, 03 Jun 2014 10:33:12 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span></span> |
| <span data-ttu-id="ae785-583">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="ae785-583">e2d06d78-...</span></span> |<span data-ttu-id="ae785-584">Oczekiwanie na odpowiedź.</span><span class="sxs-lookup"><span data-stu-id="ae785-584">Waiting for response.</span></span> |
| <span data-ttu-id="ae785-585">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="ae785-585">de8b1c3c-...</span></span> |<span data-ttu-id="ae785-586">Uruchamianie toohttps://domemaildist.blob.core.windows.net/azuremmblobcontainer/blobCreated.txt żądań synchronicznych.</span><span class="sxs-lookup"><span data-stu-id="ae785-586">Starting synchronous request toohttps://domemaildist.blob.core.windows.net/azuremmblobcontainer/blobCreated.txt.</span></span> |
| <span data-ttu-id="ae785-587">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="ae785-587">de8b1c3c-...</span></span> |<span data-ttu-id="ae785-588">StringToSign = PUT... 64.qCmF+TQLPhq/YYK50mP9ZQ==...x-MS-blob-type:BlockBlob.x-MS-Client-Request-ID:de8b1c3c-...x-MS-Date:TUE, 03 2014 cze 10:33:12 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer/blobCreated.txt.</span><span class="sxs-lookup"><span data-stu-id="ae785-588">StringToSign = PUT...64.qCmF+TQLPhq/YYK50mP9ZQ==........x-ms-blob-type:BlockBlob.x-ms-client-request-id:de8b1c3c-....x-ms-date:Tue, 03 Jun 2014 10:33:12 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer/blobCreated.txt.</span></span> |
| <span data-ttu-id="ae785-589">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="ae785-589">de8b1c3c-...</span></span> |<span data-ttu-id="ae785-590">Przygotowywanie danych żądania toowrite.</span><span class="sxs-lookup"><span data-stu-id="ae785-590">Preparing toowrite request data.</span></span> |
| <span data-ttu-id="ae785-591">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="ae785-591">e2d06d78-...</span></span> |<span data-ttu-id="ae785-592">Zgłoszono wyjątek podczas oczekiwania na odpowiedź: hello serwer zdalny zwrócił błąd: (404) nie znaleziono...</span><span class="sxs-lookup"><span data-stu-id="ae785-592">Exception thrown while waiting for response: hello remote server returned an error: (404) Not Found..</span></span> |
| <span data-ttu-id="ae785-593">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="ae785-593">e2d06d78-...</span></span> |<span data-ttu-id="ae785-594">Odebrano odpowiedź.</span><span class="sxs-lookup"><span data-stu-id="ae785-594">Response received.</span></span> <span data-ttu-id="ae785-595">Kod stanu 404, identyfikator żądania = = 353ae3bc..., Content-MD5 = ETag =.</span><span class="sxs-lookup"><span data-stu-id="ae785-595">Status code = 404, Request ID = 353ae3bc-..., Content-MD5 = , ETag = .</span></span> |
| <span data-ttu-id="ae785-596">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="ae785-596">e2d06d78-...</span></span> |<span data-ttu-id="ae785-597">Nagłówki odpowiedzi zostały przetworzone pomyślnie, kontynuowanie rest hello hello operacji.</span><span class="sxs-lookup"><span data-stu-id="ae785-597">Response headers were processed successfully, proceeding with hello rest of hello operation.</span></span> |
| <span data-ttu-id="ae785-598">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="ae785-598">e2d06d78-...</span></span> |<span data-ttu-id="ae785-599">Pobiera treść odpowiedzi.</span><span class="sxs-lookup"><span data-stu-id="ae785-599">Downloading response body.</span></span> |
| <span data-ttu-id="ae785-600">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="ae785-600">e2d06d78-...</span></span> |<span data-ttu-id="ae785-601">Operacja została ukończona pomyślnie.</span><span class="sxs-lookup"><span data-stu-id="ae785-601">Operation completed successfully.</span></span> |
| <span data-ttu-id="ae785-602">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="ae785-602">e2d06d78-...</span></span> |<span data-ttu-id="ae785-603">Uruchamianie toohttps://domemaildist.blob.core.windows.net/azuremmblobcontainer żądania asynchronicznego.</span><span class="sxs-lookup"><span data-stu-id="ae785-603">Starting asynchronous request toohttps://domemaildist.blob.core.windows.net/azuremmblobcontainer.</span></span> |
| <span data-ttu-id="ae785-604">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="ae785-604">e2d06d78-...</span></span> |<span data-ttu-id="ae785-605">StringToSign = PUT... 0...x-MS-Client-Request-ID:e2d06d78-...x-MS-Date:TUE, 03 2014 cze 10:33:12 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span><span class="sxs-lookup"><span data-stu-id="ae785-605">StringToSign = PUT...0.........x-ms-client-request-id:e2d06d78-....x-ms-date:Tue, 03 Jun 2014 10:33:12 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span></span> |
| <span data-ttu-id="ae785-606">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="ae785-606">e2d06d78-...</span></span> |<span data-ttu-id="ae785-607">Oczekiwanie na odpowiedź.</span><span class="sxs-lookup"><span data-stu-id="ae785-607">Waiting for response.</span></span> |
| <span data-ttu-id="ae785-608">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="ae785-608">de8b1c3c-...</span></span> |<span data-ttu-id="ae785-609">Zapisywanie danych żądania.</span><span class="sxs-lookup"><span data-stu-id="ae785-609">Writing request data.</span></span> |
| <span data-ttu-id="ae785-610">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="ae785-610">de8b1c3c-...</span></span> |<span data-ttu-id="ae785-611">Oczekiwanie na odpowiedź.</span><span class="sxs-lookup"><span data-stu-id="ae785-611">Waiting for response.</span></span> |
| <span data-ttu-id="ae785-612">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="ae785-612">e2d06d78-...</span></span> |<span data-ttu-id="ae785-613">Zgłoszono wyjątek podczas oczekiwania na odpowiedź: hello serwer zdalny zwrócił błąd: konflikt (409).</span><span class="sxs-lookup"><span data-stu-id="ae785-613">Exception thrown while waiting for response: hello remote server returned an error: (409) Conflict..</span></span> |
| <span data-ttu-id="ae785-614">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="ae785-614">e2d06d78-...</span></span> |<span data-ttu-id="ae785-615">Odebrano odpowiedź.</span><span class="sxs-lookup"><span data-stu-id="ae785-615">Response received.</span></span> <span data-ttu-id="ae785-616">Kod stanu = 409, identyfikator żądania = c27da20e..., Content-MD5 = ETag =.</span><span class="sxs-lookup"><span data-stu-id="ae785-616">Status code = 409, Request ID = c27da20e-..., Content-MD5 = , ETag = .</span></span> |
| <span data-ttu-id="ae785-617">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="ae785-617">e2d06d78-...</span></span> |<span data-ttu-id="ae785-618">Pobiera treść odpowiedzi błędu.</span><span class="sxs-lookup"><span data-stu-id="ae785-618">Downloading error response body.</span></span> |
| <span data-ttu-id="ae785-619">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="ae785-619">de8b1c3c-...</span></span> |<span data-ttu-id="ae785-620">Zgłoszono wyjątek podczas oczekiwania na odpowiedź: hello serwer zdalny zwrócił błąd: (404) nie znaleziono...</span><span class="sxs-lookup"><span data-stu-id="ae785-620">Exception thrown while waiting for response: hello remote server returned an error: (404) Not Found..</span></span> |
| <span data-ttu-id="ae785-621">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="ae785-621">de8b1c3c-...</span></span> |<span data-ttu-id="ae785-622">Odebrano odpowiedź.</span><span class="sxs-lookup"><span data-stu-id="ae785-622">Response received.</span></span> <span data-ttu-id="ae785-623">Kod stanu 404, identyfikator żądania = = 0eaeab3e..., Content-MD5 = ETag =.</span><span class="sxs-lookup"><span data-stu-id="ae785-623">Status code = 404, Request ID = 0eaeab3e-..., Content-MD5 = , ETag = .</span></span> |
| <span data-ttu-id="ae785-624">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="ae785-624">de8b1c3c-...</span></span> |<span data-ttu-id="ae785-625">Zgłoszono wyjątek podczas operacji hello: hello serwer zdalny zwrócił błąd: (404) nie znaleziono...</span><span class="sxs-lookup"><span data-stu-id="ae785-625">Exception thrown during hello operation: hello remote server returned an error: (404) Not Found..</span></span> |
| <span data-ttu-id="ae785-626">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="ae785-626">de8b1c3c-...</span></span> |<span data-ttu-id="ae785-627">Zasady ponawiania nie zezwala na ponowienie próby.</span><span class="sxs-lookup"><span data-stu-id="ae785-627">Retry policy did not allow for a retry.</span></span> <span data-ttu-id="ae785-628">Niepowodzenie z powitania serwera zdalnego zwróciło błąd: (404) nie znaleziono...</span><span class="sxs-lookup"><span data-stu-id="ae785-628">Failing with hello remote server returned an error: (404) Not Found..</span></span> |
| <span data-ttu-id="ae785-629">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="ae785-629">e2d06d78-...</span></span> |<span data-ttu-id="ae785-630">Zasady ponawiania nie zezwala na ponowienie próby.</span><span class="sxs-lookup"><span data-stu-id="ae785-630">Retry policy did not allow for a retry.</span></span> <span data-ttu-id="ae785-631">Niepowodzenie z powitania serwera zdalnego zwróciło błąd: konflikt (409).</span><span class="sxs-lookup"><span data-stu-id="ae785-631">Failing with hello remote server returned an error: (409) Conflict..</span></span> |

<span data-ttu-id="ae785-632">W tym przykładzie hello dziennik zawiera informacje o powitania klienta jest naprzemiennego wykonywania żądania od hello **CreateIfNotExists** — metoda (żądania identyfikator e2d06d78...) z żądaniami hello z hello **UploadFromStream** (— metoda de8b1c3c...); Zdarza się, ponieważ aplikacja kliencka hello asynchronicznie wywołania tych metod.</span><span class="sxs-lookup"><span data-stu-id="ae785-632">In this example, hello log shows that hello client is interleaving requests from hello **CreateIfNotExists** method (request id e2d06d78…) with hello requests from hello **UploadFromStream** method (de8b1c3c-...); this is happening because hello client application is invoking these methods asynchronously.</span></span> <span data-ttu-id="ae785-633">Należy zmodyfikować kod asynchroniczne hello w powitania klienta tooensure czy tworzy kontener hello przed podjęciem próby wykonania tooupload blob tooa żadnych danych w tym kontenerze.</span><span class="sxs-lookup"><span data-stu-id="ae785-633">You should modify hello asynchronous code in hello client tooensure that it creates hello container before attempting tooupload any data tooa blob in that container.</span></span> <span data-ttu-id="ae785-634">Najlepiej, jeśli należy wcześniej utworzyć wszystkich kontenerów.</span><span class="sxs-lookup"><span data-stu-id="ae785-634">Ideally, you should create all your containers in advance.</span></span>

#### <span data-ttu-id="ae785-635"><a name="SAS-authorization-issue"></a>Problem autoryzacji dostępu sygnatury dostępu Współdzielonego</span><span class="sxs-lookup"><span data-stu-id="ae785-635"><a name="SAS-authorization-issue"></a>A Shared Access Signature (SAS) authorization issue</span></span>
<span data-ttu-id="ae785-636">Jeśli aplikacja kliencka hello prób toouse klucza sygnatury dostępu Współdzielonego, który nie ma niezbędne uprawnienia hello operacji hello, usługa Magazyn hello zwraca klienta toohello komunikat HTTP 404 (nie znaleziono).</span><span class="sxs-lookup"><span data-stu-id="ae785-636">If hello client application attempts toouse a SAS key that does not include hello necessary permissions for hello operation, hello storage service returns an HTTP 404 (Not found) message toohello client.</span></span> <span data-ttu-id="ae785-637">Na powitania sam czasu, można również wyświetlić wartość niezerową **SASAuthorizationError** w hello metryki.</span><span class="sxs-lookup"><span data-stu-id="ae785-637">At hello same time, you will also see a non-zero value for **SASAuthorizationError** in hello metrics.</span></span>

<span data-ttu-id="ae785-638">Hello w poniższej tabeli przedstawiono przykładowy komunikat dziennika po stronie serwera z hello rejestrowania magazynu plików dziennika:</span><span class="sxs-lookup"><span data-stu-id="ae785-638">hello following table shows a sample server-side log message from hello Storage Logging log file:</span></span>

| <span data-ttu-id="ae785-639">Nazwa</span><span class="sxs-lookup"><span data-stu-id="ae785-639">Name</span></span> | <span data-ttu-id="ae785-640">Wartość</span><span class="sxs-lookup"><span data-stu-id="ae785-640">Value</span></span> |
| --- | --- |
| <span data-ttu-id="ae785-641">Czas rozpoczęcia żądania</span><span class="sxs-lookup"><span data-stu-id="ae785-641">Request start time</span></span> | <span data-ttu-id="ae785-642">2014-05-30T06:17:48.4473697Z</span><span class="sxs-lookup"><span data-stu-id="ae785-642">2014-05-30T06:17:48.4473697Z</span></span> |
| <span data-ttu-id="ae785-643">Typ operacji</span><span class="sxs-lookup"><span data-stu-id="ae785-643">Operation type</span></span>     | <span data-ttu-id="ae785-644">GetBlobProperties</span><span class="sxs-lookup"><span data-stu-id="ae785-644">GetBlobProperties</span></span>            |
| <span data-ttu-id="ae785-645">Stan żądania</span><span class="sxs-lookup"><span data-stu-id="ae785-645">Request status</span></span>     | <span data-ttu-id="ae785-646">SASAuthorizationError</span><span class="sxs-lookup"><span data-stu-id="ae785-646">SASAuthorizationError</span></span>        |
| <span data-ttu-id="ae785-647">Kod stanu HTTP</span><span class="sxs-lookup"><span data-stu-id="ae785-647">HTTP status code</span></span>   | <span data-ttu-id="ae785-648">404</span><span class="sxs-lookup"><span data-stu-id="ae785-648">404</span></span>                          |
| <span data-ttu-id="ae785-649">Typ uwierzytelniania</span><span class="sxs-lookup"><span data-stu-id="ae785-649">Authentication type</span></span>| <span data-ttu-id="ae785-650">Sygnatury dostępu współdzielonego</span><span class="sxs-lookup"><span data-stu-id="ae785-650">Sas</span></span>                          |
| <span data-ttu-id="ae785-651">Typ usługi</span><span class="sxs-lookup"><span data-stu-id="ae785-651">Service type</span></span>       | <span data-ttu-id="ae785-652">Obiekt blob</span><span class="sxs-lookup"><span data-stu-id="ae785-652">Blob</span></span>                         |
| <span data-ttu-id="ae785-653">Adres URL żądania</span><span class="sxs-lookup"><span data-stu-id="ae785-653">Request URL</span></span>        | <span data-ttu-id="ae785-654">https://domemaildist.blob.Core.Windows.NET/azureimblobcontainer/blobCreatedViaSAS.txt</span><span class="sxs-lookup"><span data-stu-id="ae785-654">https://domemaildist.blob.core.windows.net/azureimblobcontainer/blobCreatedViaSAS.txt</span></span> |
| <span data-ttu-id="ae785-655">nbsp;</span><span class="sxs-lookup"><span data-stu-id="ae785-655">nbsp;</span></span>              |   <span data-ttu-id="ae785-656">? sv = 2014-02-14 & sr = c & si = mypolicy & sig = XXXXX&;interfejsu api-version = 2014-02-14</span><span class="sxs-lookup"><span data-stu-id="ae785-656">?sv=2014-02-14&sr=c&si=mypolicy&sig=XXXXX&;api-version=2014-02-14</span></span> |
| <span data-ttu-id="ae785-657">Nagłówka identyfikatora żądania</span><span class="sxs-lookup"><span data-stu-id="ae785-657">Request id header</span></span>  | <span data-ttu-id="ae785-658">a1f348d5-8032-4912-93ef-b393e5252a3b</span><span class="sxs-lookup"><span data-stu-id="ae785-658">a1f348d5-8032-4912-93ef-b393e5252a3b</span></span> |
| <span data-ttu-id="ae785-659">Identyfikator żądania klienta</span><span class="sxs-lookup"><span data-stu-id="ae785-659">Client request ID</span></span>  | <span data-ttu-id="ae785-660">2d064953-8436-4ee0-aa0c-65cb874f7929</span><span class="sxs-lookup"><span data-stu-id="ae785-660">2d064953-8436-4ee0-aa0c-65cb874f7929</span></span> |

<span data-ttu-id="ae785-661">Należy zbadać, dlaczego aplikacja kliencka próbuje tooperform operacji, który go nie udzielono uprawnienia.</span><span class="sxs-lookup"><span data-stu-id="ae785-661">You should investigate why your client application is attempting tooperform an operation it has not been granted permissions for.</span></span>

#### <span data-ttu-id="ae785-662"><a name="JavaScript-code-does-not-have-permission"></a>Kod JavaScript po stronie klienta nie ma obiektu hello tooaccess uprawnień</span><span class="sxs-lookup"><span data-stu-id="ae785-662"><a name="JavaScript-code-does-not-have-permission"></a>Client-side JavaScript code does not have permission tooaccess hello object</span></span>
<span data-ttu-id="ae785-663">Jeśli używasz klienta języka JavaScript i usługi magazynu hello jest zwracania wiadomości HTTP 404, należy sprawdzić następujące błędy JavaScript w przeglądarce hello hello:</span><span class="sxs-lookup"><span data-stu-id="ae785-663">If you are using a JavaScript client and hello storage service is returning HTTP 404 messages, you check for hello following JavaScript errors in hello browser:</span></span>

```
SEC7120: Origin http://localhost:56309 not found in Access-Control-Allow-Origin header.
SCRIPT7002: XMLHttpRequest: Network Error 0x80070005, Access is denied.
```

> [!NOTE]
> <span data-ttu-id="ae785-664">Można użyć narzędzia deweloperskie F12 hello w wiadomości powitania tootrace programu Internet Explorer wymieniane między hello przeglądarki i usługi magazynu hello przy rozwiązywaniu problemów JavaScript po stronie klienta.</span><span class="sxs-lookup"><span data-stu-id="ae785-664">You can use hello F12 Developer Tools in Internet Explorer tootrace hello messages exchanged between hello browser and hello storage service when you are troubleshooting client-side JavaScript issues.</span></span>
> 
> 

<span data-ttu-id="ae785-665">Te błędy, ponieważ przeglądarka sieci web hello implementuje hello <a href="http://www.w3.org/Security/wiki/Same_Origin_Policy" target="_blank">zasad samego pochodzenia</a> ograniczenia zabezpieczeń, który uniemożliwia wywołanie interfejsu API w innej domenie na stronie powitania domeny hello strony sieci web jest dostarczany z.</span><span class="sxs-lookup"><span data-stu-id="ae785-665">These errors occur because hello web browser implements hello <a href="http://www.w3.org/Security/wiki/Same_Origin_Policy" target="_blank">same-origin policy</a> security restriction that prevents a web page from calling an API in a different domain from hello domain hello page comes from.</span></span>

<span data-ttu-id="ae785-666">toowork wokół hello JavaScript problem, można skonfigurować między CORS Origin Resource Sharing () dla hello magazynu usługi powitania klienta uzyskuje dostęp do.</span><span class="sxs-lookup"><span data-stu-id="ae785-666">toowork around hello JavaScript issue, you can configure Cross Origin Resource Sharing (CORS) for hello storage service hello client is accessing.</span></span> <span data-ttu-id="ae785-667">Aby uzyskać więcej informacji, zobacz <a href="http://msdn.microsoft.com/library/azure/dn535601.aspx" target="_blank">udostępniania zasobów między źródłami (CORS) obsługę usług magazynu Azure</a> w witrynie MSDN.</span><span class="sxs-lookup"><span data-stu-id="ae785-667">For more information, see <a href="http://msdn.microsoft.com/library/azure/dn535601.aspx" target="_blank">Cross-Origin Resource Sharing (CORS) Support for Azure Storage Services</a> on MSDN.</span></span>

<span data-ttu-id="ae785-668">powitania po przykładowy kod przedstawia sposób tooconfigure Twojego obiektu blob usługi tooallow JavaScript działających w hello tooaccess domeny Contoso obiektu blob w usłudze magazyn obiektów blob:</span><span class="sxs-lookup"><span data-stu-id="ae785-668">hello following code sample shows how tooconfigure your blob service tooallow JavaScript running in hello Contoso domain tooaccess a blob in your blob storage service:</span></span>

```csharp
CloudBlobClient client = new CloudBlobClient(blobEndpoint, new StorageCredentials(accountName, accountKey));
// Set hello service properties.
ServiceProperties sp = client.GetServiceProperties();
sp.DefaultServiceVersion = "2013-08-15";
CorsRule cr = new CorsRule();
cr.AllowedHeaders.Add("*");
cr.AllowedMethods = CorsHttpMethods.Get | CorsHttpMethods.Put;
cr.AllowedOrigins.Add("http://www.contoso.com");
cr.ExposedHeaders.Add("x-ms-*");
cr.MaxAgeInSeconds = 5;
sp.Cors.CorsRules.Clear();
sp.Cors.CorsRules.Add(cr);
client.SetServiceProperties(sp);
```

#### <span data-ttu-id="ae785-669"><a name="network-failure"></a>Błąd sieci</span><span class="sxs-lookup"><span data-stu-id="ae785-669"><a name="network-failure"></a>Network Failure</span></span>
<span data-ttu-id="ae785-670">W niektórych sytuacjach pakietów sieciowych utracone może spowodować zwracanie HTTP 404 wiadomości toohello klienta usługi storage toohello.</span><span class="sxs-lookup"><span data-stu-id="ae785-670">In some circumstances, lost network packets can lead toohello storage service returning HTTP 404 messages toohello client.</span></span> <span data-ttu-id="ae785-671">Na przykład, gdy aplikacja kliencka jest usunięcie jednostki z usługi tabel hello widzisz powitania klienta throw raportowania wyjątek magazynu "HTTP 404 (nie znaleziono)" komunikat o stanie z usługi tabeli hello.</span><span class="sxs-lookup"><span data-stu-id="ae785-671">For example, when your client application is deleting an entity from hello table service you see hello client throw a storage exception reporting an "HTTP 404 (Not Found)" status message from hello table service.</span></span> <span data-ttu-id="ae785-672">Podczas badania tabeli hello w usłudze magazynowania tabeli hello Zobacz hello usługi została usunięta jednostki hello zgodnie z żądaniem.</span><span class="sxs-lookup"><span data-stu-id="ae785-672">When you investigate hello table in hello table storage service, you see that hello service did delete hello entity as requested.</span></span>

<span data-ttu-id="ae785-673">Szczegóły wyjątku powitania klienta hello uwzględnia identyfikatora żądania hello (7e84f12d...) przypisany przez usługę tabeli hello żądania hello: można użyć szczegółów żądania tej informacji toolocate hello w dziennikach magazynu po stronie serwera hello przez wyszukiwanie w hello  **Identyfikator nagłówka żądania** kolumny w pliku dziennika hello.</span><span class="sxs-lookup"><span data-stu-id="ae785-673">hello exception details in hello client include hello request id (7e84f12d…) assigned by hello table service for hello request: you can use this information toolocate hello request details in hello server-side storage logs by searching in hello **request-id-header** column in hello log file.</span></span> <span data-ttu-id="ae785-674">Witaj metryki tooidentify można także używać, gdy awarie, takich jak to wystąpić, a następnie wyszukać hello pliki dziennika w oparciu metryki hello czasu hello rejestrowane tego błędu.</span><span class="sxs-lookup"><span data-stu-id="ae785-674">You could also use hello metrics tooidentify when failures such as this occur and then search hello log files based on hello time hello metrics recorded this error.</span></span> <span data-ttu-id="ae785-675">Ten przedstawia wpisu dziennika, które hello usunięcia nie powiodła się komunikat o stanie "Client inny błąd HTTP (404)".</span><span class="sxs-lookup"><span data-stu-id="ae785-675">This log entry shows that hello delete failed with an "HTTP (404) Client Other Error" status message.</span></span> <span data-ttu-id="ae785-676">Hello tego samego wpis dziennika zawiera także identyfikator żądania hello wygenerowanych przez klienta hello w hello **client-request-id** kolumny (813ea74f...).</span><span class="sxs-lookup"><span data-stu-id="ae785-676">hello same log entry also includes hello request id generated by hello client in hello **client-request-id** column (813ea74f…).</span></span>

<span data-ttu-id="ae785-677">powitania po stronie serwera dziennika zawiera także innego hasła z hello tego samego **client-request-id** operacji usunięcia wartości (813ea74f...) dla pomyślnego hello tej samej jednostki i z hello sam klienta.</span><span class="sxs-lookup"><span data-stu-id="ae785-677">hello server-side log also includes another entry with hello same **client-request-id** value (813ea74f…) for a successful delete operation for hello same entity, and from hello same client.</span></span> <span data-ttu-id="ae785-678">Operacja usuwania pomyślne miało miejsce bardzo krótko przed hello żądanie usunięcia nie powiodło się.</span><span class="sxs-lookup"><span data-stu-id="ae785-678">This successful delete operation took place very shortly before hello failed delete request.</span></span>

<span data-ttu-id="ae785-679">Witaj najbardziej prawdopodobną przyczyną tego scenariusza jest powitania klienta wysłała żądanie usunięcia usługi hello jednostki toohello tabeli, które zakończyło się pomyślnie, ale nie otrzymano potwierdzenia z powitania serwera (np. ze względu tooa przejściowego problemu z siecią).</span><span class="sxs-lookup"><span data-stu-id="ae785-679">hello most likely cause of this scenario is that hello client sent a delete request for hello entity toohello table service, which succeeded, but did not receive an acknowledgement from hello server (perhaps due tooa temporary network issue).</span></span> <span data-ttu-id="ae785-680">powitania klienta następnie automatycznie ponowione hello operacji (przy użyciu hello sam **client-request-id**), a ta ponowna próba nie powiodła się, ponieważ jednostki hello już zostało usunięte.</span><span class="sxs-lookup"><span data-stu-id="ae785-680">hello client then automatically retried hello operation (using hello same **client-request-id**), and this retry failed because hello entity had already been deleted.</span></span>

<span data-ttu-id="ae785-681">Jeśli ten problem występuje często, należy zbadać, dlaczego powitania klienta nie powiodło potwierdzeń tooreceive z usługi tabeli hello.</span><span class="sxs-lookup"><span data-stu-id="ae785-681">If this problem occurs frequently, you should investigate why hello client is failing tooreceive acknowledgements from hello table service.</span></span> <span data-ttu-id="ae785-682">Jeśli hello problem jest przerywana, powinien pułapki błąd "HTTP (404) nie została odnaleziona" hello i zaloguj powitania klienta, ale zezwalaj na powitania klienta toocontinue.</span><span class="sxs-lookup"><span data-stu-id="ae785-682">If hello problem is intermittent, you should trap hello "HTTP (404) Not Found" error and log it in hello client, but allow hello client toocontinue.</span></span>

### <span data-ttu-id="ae785-683"><a name="the-client-is-receiving-409-messages"></a>powitania klienta odbiera komunikaty HTTP 409 (konflikt)</span><span class="sxs-lookup"><span data-stu-id="ae785-683"><a name="the-client-is-receiving-409-messages"></a>hello client is receiving HTTP 409 (Conflict) messages</span></span>
<span data-ttu-id="ae785-684">Witaj poniższej tabeli przedstawiono wyodrębniania z hello dziennika po stronie serwera dla dwóch operacji klienta: **DeleteIfExists** a następnie natychmiast przez **CreateIfNotExists** przy użyciu hello tej samej nazwy kontenera obiektów blob.</span><span class="sxs-lookup"><span data-stu-id="ae785-684">hello following table shows an extract from hello server-side log for two client operations: **DeleteIfExists** followed immediately by **CreateIfNotExists** using hello same blob container name.</span></span> <span data-ttu-id="ae785-685">Należy pamiętać, że każda operacja klienta powoduje dwa żądania wysyłane toohello serwera, najpierw **GetContainerProperties** toocheck żądania istnienia kontenera hello, a następnie hello **DeleteContainer** lub  **Tworzony kontener** żądania.</span><span class="sxs-lookup"><span data-stu-id="ae785-685">Note that each client operation results in two requests sent toohello server, first a **GetContainerProperties** request toocheck if hello container exists, followed by hello **DeleteContainer** or **CreateContainer** request.</span></span>

| <span data-ttu-id="ae785-686">Znacznik czasu</span><span class="sxs-lookup"><span data-stu-id="ae785-686">Timestamp</span></span> | <span data-ttu-id="ae785-687">Operacja</span><span class="sxs-lookup"><span data-stu-id="ae785-687">Operation</span></span> | <span data-ttu-id="ae785-688">wynik</span><span class="sxs-lookup"><span data-stu-id="ae785-688">Result</span></span> | <span data-ttu-id="ae785-689">Nazwa kontenera</span><span class="sxs-lookup"><span data-stu-id="ae785-689">Container name</span></span> | <span data-ttu-id="ae785-690">Identyfikator żądania klienta</span><span class="sxs-lookup"><span data-stu-id="ae785-690">Client request id</span></span> |
| --- | --- | --- | --- | --- |
| <span data-ttu-id="ae785-691">05:10:13.7167225</span><span class="sxs-lookup"><span data-stu-id="ae785-691">05:10:13.7167225</span></span> |<span data-ttu-id="ae785-692">GetContainerProperties</span><span class="sxs-lookup"><span data-stu-id="ae785-692">GetContainerProperties</span></span> |<span data-ttu-id="ae785-693">200</span><span class="sxs-lookup"><span data-stu-id="ae785-693">200</span></span> |<span data-ttu-id="ae785-694">mmcont</span><span class="sxs-lookup"><span data-stu-id="ae785-694">mmcont</span></span> |<span data-ttu-id="ae785-695">c9f52c89-...</span><span class="sxs-lookup"><span data-stu-id="ae785-695">c9f52c89-…</span></span> |
| <span data-ttu-id="ae785-696">05:10:13.8167325</span><span class="sxs-lookup"><span data-stu-id="ae785-696">05:10:13.8167325</span></span> |<span data-ttu-id="ae785-697">DeleteContainer</span><span class="sxs-lookup"><span data-stu-id="ae785-697">DeleteContainer</span></span> |<span data-ttu-id="ae785-698">202</span><span class="sxs-lookup"><span data-stu-id="ae785-698">202</span></span> |<span data-ttu-id="ae785-699">mmcont</span><span class="sxs-lookup"><span data-stu-id="ae785-699">mmcont</span></span> |<span data-ttu-id="ae785-700">c9f52c89-...</span><span class="sxs-lookup"><span data-stu-id="ae785-700">c9f52c89-…</span></span> |
| <span data-ttu-id="ae785-701">05:10:13.8987407</span><span class="sxs-lookup"><span data-stu-id="ae785-701">05:10:13.8987407</span></span> |<span data-ttu-id="ae785-702">GetContainerProperties</span><span class="sxs-lookup"><span data-stu-id="ae785-702">GetContainerProperties</span></span> |<span data-ttu-id="ae785-703">404</span><span class="sxs-lookup"><span data-stu-id="ae785-703">404</span></span> |<span data-ttu-id="ae785-704">mmcont</span><span class="sxs-lookup"><span data-stu-id="ae785-704">mmcont</span></span> |<span data-ttu-id="ae785-705">bc881924-...</span><span class="sxs-lookup"><span data-stu-id="ae785-705">bc881924-…</span></span> |
| <span data-ttu-id="ae785-706">05:10:14.2147723</span><span class="sxs-lookup"><span data-stu-id="ae785-706">05:10:14.2147723</span></span> |<span data-ttu-id="ae785-707">Tworzony kontener</span><span class="sxs-lookup"><span data-stu-id="ae785-707">CreateContainer</span></span> |<span data-ttu-id="ae785-708">409</span><span class="sxs-lookup"><span data-stu-id="ae785-708">409</span></span> |<span data-ttu-id="ae785-709">mmcont</span><span class="sxs-lookup"><span data-stu-id="ae785-709">mmcont</span></span> |<span data-ttu-id="ae785-710">bc881924-...</span><span class="sxs-lookup"><span data-stu-id="ae785-710">bc881924-…</span></span> |

<span data-ttu-id="ae785-711">Witaj kodu w aplikacji klienckiej hello usuwa i natychmiast odtwarza kontenera obiektów blob przy użyciu hello samej nazwie: hello **CreateIfNotExists** — metoda (żądań klienta identyfikator bc881924-...) ostatecznie zakończy się niepowodzeniem z hello HTTP 409 (konflikt) Wystąpił błąd.</span><span class="sxs-lookup"><span data-stu-id="ae785-711">hello code in hello client application deletes and then immediately recreates a blob container using hello same name: hello **CreateIfNotExists** method (Client request ID bc881924-…) eventually fails with hello HTTP 409 (Conflict) error.</span></span> <span data-ttu-id="ae785-712">Gdy klient usunie kontenerów obiektów blob, tabel lub kolejek, który znajduje się krótki okres przed nazwa hello znowu dostępne.</span><span class="sxs-lookup"><span data-stu-id="ae785-712">When a client deletes blob containers, tables, or queues there is a brief period before hello name becomes available again.</span></span>

<span data-ttu-id="ae785-713">powitania klienta aplikacji należy używać nazwy kontenera unikatowy zawsze, gdy tworzy nowe kontenery, jeśli wzorzec Usuń/ponownie utwórz hello jest wspólnej.</span><span class="sxs-lookup"><span data-stu-id="ae785-713">hello client application should use unique container names whenever it creates new containers if hello delete/recreate pattern is common.</span></span>

### <span data-ttu-id="ae785-714"><a name="metrics-show-low-percent-success"></a>Metryki pokazują PercentSuccess niskim lub wpisy dziennika analytics ma operacji ze stanem transakcji ClientOtherErrors</span><span class="sxs-lookup"><span data-stu-id="ae785-714"><a name="metrics-show-low-percent-success"></a>Metrics show low PercentSuccess or analytics log entries have operations with transaction status of ClientOtherErrors</span></span>
<span data-ttu-id="ae785-715">Witaj **PercentSuccess** Metryka przechwytuje procent hello działań, które zostały pomyślnie w oparciu o ich kod stanu HTTP.</span><span class="sxs-lookup"><span data-stu-id="ae785-715">hello **PercentSuccess** metric captures hello percent of operations that were successful based on their HTTP Status Code.</span></span> <span data-ttu-id="ae785-716">Operacje z kodów stanu 2XX liczba pomyślnym przeprowadzeniu, podczas gdy operacje z kodów stanu w zakresach 3XX, 4XX i 5XX są liczone jako hello nie powiodło się i dolny **PercentSucess** wartość metryki.</span><span class="sxs-lookup"><span data-stu-id="ae785-716">Operations with status codes of 2XX count as successful, whereas operations with status codes in 3XX, 4XX and 5XX ranges are counted as unsuccessful and lower hello **PercentSucess** metric value.</span></span> <span data-ttu-id="ae785-717">W plikach dziennika magazynu po stronie serwera hello, operacje te są rejestrowane ze stanem transakcji **ClientOtherErrors**.</span><span class="sxs-lookup"><span data-stu-id="ae785-717">In hello server-side storage log files, these operations are recorded with a transaction status of **ClientOtherErrors**.</span></span>

<span data-ttu-id="ae785-718">Jest ważne toonote, że te operacje zostały pomyślnie ukończone i w związku z tym nie ma wpływu na inne metryki, np. dostępność.</span><span class="sxs-lookup"><span data-stu-id="ae785-718">It is important toonote that these operations have completed successfully and therefore do not affect other metrics such as availability.</span></span> <span data-ttu-id="ae785-719">Niektóre operacje, które wykonana pomyślnie, ale który może skutkować niepowodzeniem kody stanu HTTP należą:</span><span class="sxs-lookup"><span data-stu-id="ae785-719">Some examples of operations that execute successfully but that can result in unsuccessful HTTP status codes include:</span></span>

* <span data-ttu-id="ae785-720">**ResourceNotFound** (nie znaleziono 404), na przykład z GET żądania tooa obiektu blob, który nie istnieje.</span><span class="sxs-lookup"><span data-stu-id="ae785-720">**ResourceNotFound** (Not Found 404), for example from a GET request tooa blob that does not exist.</span></span>
* <span data-ttu-id="ae785-721">**ResouceAlreadyExists** (409 Konflikt), na przykład z **CreateIfNotExist** operacji, gdy hello zasobów już istnieje.</span><span class="sxs-lookup"><span data-stu-id="ae785-721">**ResouceAlreadyExists** (Conflict 409), for example from a **CreateIfNotExist** operation where hello resource already exists.</span></span>
* <span data-ttu-id="ae785-722">**ConditionNotMet** (nie modyfikować 304), na przykład z warunkowego operacji, takich jak kiedy klient wysyła **ETag** wartość i HTTP **If-None-Match** toorequest nagłówka tylko wtedy, gdy obraz od ostatniej operacji hello ma zostały zaktualizowane.</span><span class="sxs-lookup"><span data-stu-id="ae785-722">**ConditionNotMet** (Not Modified 304), for example from a conditional operation such as when a client sends an **ETag** value and an HTTP **If-None-Match** header toorequest an image only if it has been updated since hello last operation.</span></span>

<span data-ttu-id="ae785-723">Znajduje się lista często występujące kody błędów interfejsu API REST usług magazynu hello zwracających na stronie powitania <a href="http://msdn.microsoft.com/library/azure/dd179357.aspx" target="_blank">często występujące kody błędów interfejsu API REST</a>.</span><span class="sxs-lookup"><span data-stu-id="ae785-723">You can find a list of common REST API error codes that hello storage services return on hello page <a href="http://msdn.microsoft.com/library/azure/dd179357.aspx" target="_blank">Common REST API Error Codes</a>.</span></span>

### <span data-ttu-id="ae785-724"><a name="capacity-metrics-show-an-unexpected-increase"></a>Metryki pojemności Pokaż nieoczekiwane zwiększenie wykorzystania pojemności magazynu</span><span class="sxs-lookup"><span data-stu-id="ae785-724"><a name="capacity-metrics-show-an-unexpected-increase"></a>Capacity metrics show an unexpected increase in storage capacity usage</span></span>
<span data-ttu-id="ae785-725">Jeśli widzisz nagłym, nieoczekiwane wykorzystania pojemności na koncie magazynu można zapoznać się z powodów hello sprawdzając Twoje metryki dostępności; na przykład wzrost hello liczba żądań delete nie powiodło się może prowadzić tooan Zwiększ wysokość hello magazynu obiektów blob, który jest używany jako operacje oczyszczania określonych aplikacji, które użytkownik może mieć oczekiwanych toobe Zwiększ ilość miejsca może nie działać zgodnie z oczekiwaniami (w przypadku przykład ponieważ wygasły tokeny sygnatury dostępu Współdzielonego hello używany dla Zwiększ ilość miejsca).</span><span class="sxs-lookup"><span data-stu-id="ae785-725">If you see sudden, unexpected changes in capacity usage in your storage account, you can investigate hello reasons by first looking at your availability metrics; for example, an increase in hello number of failed delete requests might lead tooan increase in hello amount of blob storage you are using as application specific cleanup operations you might have expected toobe freeing up space may not be working as expected (for example, because hello SAS tokens used for freeing up space have expired).</span></span>

### <span data-ttu-id="ae785-726"><a name="you-are-experiencing-unexpected-reboots"></a>Występują nieoczekiwane ponowne uruchomienie maszyn wirtualnych Azure mających dużej liczby dołączonych dysków VHD</span><span class="sxs-lookup"><span data-stu-id="ae785-726"><a name="you-are-experiencing-unexpected-reboots"></a>You are experiencing unexpected reboots of Azure Virtual Machines that have a large number of attached VHDs</span></span>
<span data-ttu-id="ae785-727">Jeśli maszyna wirtualna Azure (VM) jest duża liczba dołączonych dysków VHD, które znajdują się w hello tego samego konta magazynu może przekroczyć wartości docelowe skalowalności hello konta magazynu powoduje hello toofail maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="ae785-727">If an Azure Virtual Machine (VM) has a large number of attached VHDs that are in hello same storage account, you could exceed hello scalability targets for an individual storage account causing hello VM toofail.</span></span> <span data-ttu-id="ae785-728">Należy sprawdzić hello minuty metryki dla konta magazynu hello (**TotalRequests**/**TotalIngress**/**TotalEgress**) maksymalnej przekracza wartości docelowe skalowalności powitania dla konta magazynu.</span><span class="sxs-lookup"><span data-stu-id="ae785-728">You should check hello minute metrics for hello storage account (**TotalRequests**/**TotalIngress**/**TotalEgress**) for spikes that exceed hello scalability targets for a storage account.</span></span> <span data-ttu-id="ae785-729">Witaj w sekcji "[metryki spowodować wzrost PercentThrottlingError]" Aby uzyskać pomoc w określeniu, czy ograniczania wystąpił na koncie magazynu.</span><span class="sxs-lookup"><span data-stu-id="ae785-729">See hello section "[Metrics show an increase in PercentThrottlingError]" for assistance in determining if throttling has occurred on your storage account.</span></span>

<span data-ttu-id="ae785-730">Ogólnie rzecz biorąc, każdy poszczególnych danych wejściowych lub wyjściowych operacji na wirtualny dysk twardy z maszyny wirtualnej przekłada zbyt**Get strony** lub **umieścić strony** operacje na powitania bazowy stronicowych obiektów blob.</span><span class="sxs-lookup"><span data-stu-id="ae785-730">In general, each individual input or output operation on a VHD from a Virtual Machine translates too**Get Page** or **Put Page** operations on hello underlying page blob.</span></span> <span data-ttu-id="ae785-731">W związku z tym można użyć hello szacowane IOPS dla tootune Twojego środowiska wirtualne dyski twarde ile użytkownik może mieć na koncie magazynu jednego na podstawie hello określone zachowanie aplikacji.</span><span class="sxs-lookup"><span data-stu-id="ae785-731">Therefore, you can use hello estimated IOPS for your environment tootune how many VHDs you can have in a single storage account based on hello specific behavior of your application.</span></span> <span data-ttu-id="ae785-732">Nie zaleca się o więcej niż 40 dysków na koncie magazynu jednego.</span><span class="sxs-lookup"><span data-stu-id="ae785-732">We do not recommend having more than 40 disks in a single storage account.</span></span> <span data-ttu-id="ae785-733">Zobacz <a href="http://msdn.microsoft.com/library/azure/dn249410.aspx" target="_blank">cele dotyczące wydajności i skalowalności magazynu Azure</a> szczegółowe hello bieżącej wartości docelowe skalowalności w przypadku kont magazynu, w szczególności hello całkowita liczba żądań szybkość i całkowitej przepustowości hello typ konta magazynu używasz .</span><span class="sxs-lookup"><span data-stu-id="ae785-733">See <a href="http://msdn.microsoft.com/library/azure/dn249410.aspx" target="_blank">Azure Storage Scalability and Performance Targets</a> for details of hello current scalability targets for storage accounts, in particular hello total request rate and total bandwidth for hello type of storage account you are using.</span></span>
<span data-ttu-id="ae785-734">Jeśli doszło do przekroczenia wartości docelowe skalowalności hello konta magazynu, należy umieścić dyski VHD w wielu magazynu innego konta tooreduce hello działania każdego indywidualne konta.</span><span class="sxs-lookup"><span data-stu-id="ae785-734">If you are exceeding hello scalability targets for your storage account, you should place your VHDs in multiple different storage accounts tooreduce hello activity in each individual account.</span></span>

### <span data-ttu-id="ae785-735"><a name="your-issue-arises-from-using-the-storage-emulator"></a>Problem wynika z przy użyciu emulatora magazynu hello do rozwoju lub testu</span><span class="sxs-lookup"><span data-stu-id="ae785-735"><a name="your-issue-arises-from-using-the-storage-emulator"></a>Your issue arises from using hello storage emulator for development or test</span></span>
<span data-ttu-id="ae785-736">Zwykle użyć emulatora magazynu hello podczas tworzenia i testowania tooavoid hello wymagania dotyczące konta magazynu platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="ae785-736">You typically use hello storage emulator during development and test tooavoid hello requirement for an Azure storage account.</span></span> <span data-ttu-id="ae785-737">Witaj typowych problemów, które mogą wystąpić, gdy używasz emulatora magazynu hello są:</span><span class="sxs-lookup"><span data-stu-id="ae785-737">hello common issues that can occur when you are using hello storage emulator are:</span></span>

* <span data-ttu-id="ae785-738">[Funkcja "X" nie działa w emulatorze magazynu hello]</span><span class="sxs-lookup"><span data-stu-id="ae785-738">[Feature "X" is not working in hello storage emulator]</span></span>
* <span data-ttu-id="ae785-739">[Błąd "hello wartość dla jednego z nagłówków hello HTTP nie jest w poprawnym formacie hello" gdy hello przy użyciu emulatora magazynu]</span><span class="sxs-lookup"><span data-stu-id="ae785-739">[Error "hello value for one of hello HTTP headers is not in hello correct format" when using hello storage emulator]</span></span>
* <span data-ttu-id="ae785-740">[Uruchomiony emulator magazynu hello wymaga uprawnień administracyjnych]</span><span class="sxs-lookup"><span data-stu-id="ae785-740">[Running hello storage emulator requires administrative privileges]</span></span>

#### <span data-ttu-id="ae785-741"><a name="feature-X-is-not-working"></a>Funkcja "X" nie działa w emulatorze magazynu hello</span><span class="sxs-lookup"><span data-stu-id="ae785-741"><a name="feature-X-is-not-working"></a>Feature "X" is not working in hello storage emulator</span></span>
<span data-ttu-id="ae785-742">emulator magazynu Hello nie obsługuje wszystkich funkcji hello hello usług magazynu Azure, takich jak usługa plików hello.</span><span class="sxs-lookup"><span data-stu-id="ae785-742">hello storage emulator does not support all of hello features of hello Azure storage services such as hello file service.</span></span> <span data-ttu-id="ae785-743">Aby uzyskać więcej informacji, zobacz <a href="http://msdn.microsoft.com/library/azure/gg433135.aspx" target="_blank">różnice między hello emulatora magazynu i usług magazynu Azure</a> w witrynie MSDN.</span><span class="sxs-lookup"><span data-stu-id="ae785-743">For more information, see <a href="http://msdn.microsoft.com/library/azure/gg433135.aspx" target="_blank">Differences Between hello Storage Emulator and Azure Storage Services</a> on MSDN.</span></span>

<span data-ttu-id="ae785-744">Dla tych funkcji, które hello magazynu emulatora nie obsługuje, użyj hello usługą magazynu platformy Azure w chmurze hello.</span><span class="sxs-lookup"><span data-stu-id="ae785-744">For those features that hello storage emulator does not support, use hello Azure storage service in hello cloud.</span></span>

#### <span data-ttu-id="ae785-745"><a name="error-HTTP-header-not-correct-format"></a>Błąd "hello wartość dla jednego z nagłówków hello HTTP nie jest w poprawnym formacie hello" gdy hello przy użyciu emulatora magazynu</span><span class="sxs-lookup"><span data-stu-id="ae785-745"><a name="error-HTTP-header-not-correct-format"></a>Error "hello value for one of hello HTTP headers is not in hello correct format" when using hello storage emulator</span></span>
<span data-ttu-id="ae785-746">Podczas testowania aplikacji takich jak używać hello biblioteki klienta usługi Storage przed hello Magazyn lokalny emulatora i metodę wywołania **CreateIfNotExists** niepowodzenia z powodu błędu hello oraz komunikat "hello wartość dla jednego z nagłówków hello HTTP nie jest w Witaj poprawny format."</span><span class="sxs-lookup"><span data-stu-id="ae785-746">You are testing your application that use hello Storage Client Library against hello local storage emulator and method calls such as **CreateIfNotExists** fail with hello error message "hello value for one of hello HTTP headers is not in hello correct format."</span></span> <span data-ttu-id="ae785-747">Oznacza to, że hello wersji emulatora magazynu hello używasz nie obsługuje wersji hello biblioteki klienta magazynu hello są używane.</span><span class="sxs-lookup"><span data-stu-id="ae785-747">This indicates that hello version of hello storage emulator you are using does not support hello version of hello storage client library you are using.</span></span> <span data-ttu-id="ae785-748">Biblioteka klienta usługi Storage Hello dodaje nagłówek hello **x-ms-version** tooall hello żądań ułatwia.</span><span class="sxs-lookup"><span data-stu-id="ae785-748">hello Storage Client Library adds hello header **x-ms-version** tooall hello requests it makes.</span></span> <span data-ttu-id="ae785-749">Jeśli emulator magazynu hello nie rozpoznaje wartości hello w hello **x-ms-version** nagłówka, odrzuca żądanie hello.</span><span class="sxs-lookup"><span data-stu-id="ae785-749">If hello storage emulator does not recognize hello value in hello **x-ms-version** header, it rejects hello request.</span></span>

<span data-ttu-id="ae785-750">Można użyć powitania klienta biblioteki magazynu dzienniki toosee hello wartość hello **nagłówka x-ms-version** wysyła go.</span><span class="sxs-lookup"><span data-stu-id="ae785-750">You can use hello Storage Library Client logs toosee hello value of hello **x-ms-version header** it is sending.</span></span> <span data-ttu-id="ae785-751">Możesz również sprawdzić wartość hello hello **nagłówka x-ms-version** użycie Fiddler tootrace hello żądań od aplikacji klienta.</span><span class="sxs-lookup"><span data-stu-id="ae785-751">You can also see hello value of hello **x-ms-version header** if you use Fiddler tootrace hello requests from your client application.</span></span>

<span data-ttu-id="ae785-752">W tym scenariuszu zwykle występuje, jeśli podczas instalacji i użycia hello najnowszej wersji biblioteki klienta usługi Storage hello bez aktualizowania hello emulatora magazynu.</span><span class="sxs-lookup"><span data-stu-id="ae785-752">This scenario typically occurs if you install and use hello latest version of hello Storage Client Library without updating hello storage emulator.</span></span> <span data-ttu-id="ae785-753">Należy zainstaluj najnowszą wersję hello emulatora magazynu hello lub Użyj magazynu w chmurze zamiast emulatora hello do projektowania i testowania.</span><span class="sxs-lookup"><span data-stu-id="ae785-753">You should either install hello latest version of hello storage emulator, or use cloud storage instead of hello emulator for development and test.</span></span>

#### <span data-ttu-id="ae785-754"><a name="storage-emulator-requires-administrative-privileges"></a>Uruchomiony emulator magazynu hello wymaga uprawnień administracyjnych</span><span class="sxs-lookup"><span data-stu-id="ae785-754"><a name="storage-emulator-requires-administrative-privileges"></a>Running hello storage emulator requires administrative privileges</span></span>
<span data-ttu-id="ae785-755">Zostanie wyświetlony monit o poświadczenia administratora po uruchomieniu emulatora magazynu hello.</span><span class="sxs-lookup"><span data-stu-id="ae785-755">You are prompted for administrator credentials when you run hello storage emulator.</span></span> <span data-ttu-id="ae785-756">Dzieje się tak tylko, gdy emulator magazynu hello hello są inicjowanie po raz pierwszy.</span><span class="sxs-lookup"><span data-stu-id="ae785-756">This only occurs when you are initializing hello storage emulator for hello first time.</span></span> <span data-ttu-id="ae785-757">Po już zainicjować hello emulatora magazynu, nie trzeba toorun uprawnienia administracyjne go ponownie.</span><span class="sxs-lookup"><span data-stu-id="ae785-757">After you have initialized hello storage emulator, you do not need administrative privileges toorun it again.</span></span>

<span data-ttu-id="ae785-758">Aby uzyskać więcej informacji, zobacz <a href="http://msdn.microsoft.com/library/azure/gg433132.aspx" target="_blank">zainicjować hello emulatora magazynu przez hello używanie narzędzia wiersza polecenia</a> w witrynie MSDN (można również zainicjować hello emulatora magazynu w programie Visual Studio, który będzie również wymagają uprawnień administratora).</span><span class="sxs-lookup"><span data-stu-id="ae785-758">For more information, see <a href="http://msdn.microsoft.com/library/azure/gg433132.aspx" target="_blank">Initialize hello Storage Emulator by Using hello Command-Line Tool</a> on MSDN (you can also initialize hello storage emulator in Visual Studio, which will also require administrative privileges).</span></span>

### <span data-ttu-id="ae785-759"><a name="you-are-encountering-problems-installing-the-Windows-Azure-SDK"></a>Pojawiły się problemy z instalacją hello Azure SDK dla platformy .NET</span><span class="sxs-lookup"><span data-stu-id="ae785-759"><a name="you-are-encountering-problems-installing-the-Windows-Azure-SDK"></a>You are encountering problems installing hello Azure SDK for .NET</span></span>
<span data-ttu-id="ae785-760">Podczas próby tooinstall hello SDK kończy się niepowodzeniem w trakcie tooinstall hello emulatora magazynu na komputerze lokalnym.</span><span class="sxs-lookup"><span data-stu-id="ae785-760">When you try tooinstall hello SDK, it fails trying tooinstall hello storage emulator on your local machine.</span></span> <span data-ttu-id="ae785-761">Dziennik instalacji Hello zawiera jedną z następujących wiadomości powitania:</span><span class="sxs-lookup"><span data-stu-id="ae785-761">hello installation log contains one of hello following messages:</span></span>

* <span data-ttu-id="ae785-762">CAQuietExec: Błąd: tooaccess wystąpienia serwera SQL</span><span class="sxs-lookup"><span data-stu-id="ae785-762">CAQuietExec:  Error: Unable tooaccess SQL instance</span></span>
* <span data-ttu-id="ae785-763">CAQuietExec: Błąd: nie można toocreate bazy danych</span><span class="sxs-lookup"><span data-stu-id="ae785-763">CAQuietExec:  Error: Unable toocreate database</span></span>

<span data-ttu-id="ae785-764">Witaj przyczyną jest problem z istniejącej instalacji LocalDB.</span><span class="sxs-lookup"><span data-stu-id="ae785-764">hello cause is an issue with existing LocalDB installation.</span></span> <span data-ttu-id="ae785-765">Domyślnie hello emulator magazynu używa danych toopersist LocalDB, po jego symuluje hello usług magazynu platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="ae785-765">By default, hello storage emulator uses LocalDB toopersist data when it simulates hello Azure storage services.</span></span> <span data-ttu-id="ae785-766">Uruchamiając hello następujące polecenia w oknie wiersza polecenia przed podjęciem próby hello tooinstall zestawu SDK można zresetować wystąpieniem LocalDB.</span><span class="sxs-lookup"><span data-stu-id="ae785-766">You can reset your LocalDB instance by running hello following commands in a command-prompt window before trying tooinstall hello SDK.</span></span>

```
sqllocaldb stop v11.0
sqllocaldb delete v11.0
delete %USERPROFILE%\WAStorageEmulatorDb3*.*
sqllocaldb create v11.0
```

<span data-ttu-id="ae785-767">Witaj **usunąć** polecenie usuwa stare pliki bazy danych z poprzedniej instalacji hello emulatora magazynu.</span><span class="sxs-lookup"><span data-stu-id="ae785-767">hello **delete** command removes any old database files from previous installations of hello storage emulator.</span></span>

### <span data-ttu-id="ae785-768"><a name="you-have-a-different-issue-with-a-storage-service"></a>Inny problem z usługą magazynu</span><span class="sxs-lookup"><span data-stu-id="ae785-768"><a name="you-have-a-different-issue-with-a-storage-service"></a>You have a different issue with a storage service</span></span>
<span data-ttu-id="ae785-769">Jeśli hello poprzedniej sekcje dotyczące rozwiązywania problemów nie zawierają hello problem, który z usługą magazynu, powinna przyjąć hello następujące podejście toodiagnosing i rozwiązywania problemu.</span><span class="sxs-lookup"><span data-stu-id="ae785-769">If hello previous troubleshooting sections do not include hello issue you are having with a storage service, you should adopt hello following approach toodiagnosing and troubleshooting your issue.</span></span>

* <span data-ttu-id="ae785-770">Określ, czy Twoje metryki toosee zmiany z Twojej oczekiwane zachowanie linii bazowej.</span><span class="sxs-lookup"><span data-stu-id="ae785-770">Check your metrics toosee if there is any change from your expected base-line behavior.</span></span> <span data-ttu-id="ae785-771">Od metryki hello może być stanie toodetermine, czy problem hello jest przejściowy lub stałe i jakie operacje magazynu hello problem ma wpływ na.</span><span class="sxs-lookup"><span data-stu-id="ae785-771">From hello metrics, you may be able toodetermine whether hello issue is transient or permanent, and which storage operations hello issue is affecting.</span></span>
* <span data-ttu-id="ae785-772">Można użyć informacji metryki hello toohelp wyszukiwania danych dziennika bardziej szczegółowe informacje o błędach występujących po stronie serwera.</span><span class="sxs-lookup"><span data-stu-id="ae785-772">You can use hello metrics information toohelp you search your server-side log data for more detailed information about any errors that are occurring.</span></span> <span data-ttu-id="ae785-773">Te informacje mogą pomóc w rozwiązywania oraz usuwania hello problem.</span><span class="sxs-lookup"><span data-stu-id="ae785-773">This information may help you troubleshoot and resolve hello issue.</span></span>
* <span data-ttu-id="ae785-774">Jeśli informacje hello w powitania po stronie serwera nie jest wystarczające problem hello tootroubleshoot pomyślnie, można użyć hello biblioteki klienta usługi Storage dzienników po stronie klienta tooinvestigate hello zachowanie aplikacji klienckiej i narzędzi, takich jak Fiddler, programu Wireshark, i programu Microsoft Message Analyzer tooinvestigate sieci.</span><span class="sxs-lookup"><span data-stu-id="ae785-774">If hello information in hello server-side logs is not sufficient tootroubleshoot hello issue successfully, you can use hello Storage Client Library client-side logs tooinvestigate hello behavior of your client application, and tools such as Fiddler, Wireshark, and Microsoft Message Analyzer tooinvestigate your network.</span></span>

<span data-ttu-id="ae785-775">Aby uzyskać więcej informacji o używaniu narzędzia Fiddler, zobacz "[dodatku 1: ruchu HTTP i HTTPS toocapture przy użyciu narzędzia Fiddler]."</span><span class="sxs-lookup"><span data-stu-id="ae785-775">For more information about using Fiddler, see "[Appendix 1: Using Fiddler toocapture HTTP and HTTPS traffic]."</span></span>

<span data-ttu-id="ae785-776">Aby uzyskać więcej informacji o używaniu programu Wireshark, zobacz "[dodatek 2: ruchu sieciowego przy użyciu programu Wireshark toocapture]."</span><span class="sxs-lookup"><span data-stu-id="ae785-776">For more information about using Wireshark, see "[Appendix 2: Using Wireshark toocapture network traffic]."</span></span>

<span data-ttu-id="ae785-777">Aby uzyskać więcej informacji o korzystaniu z programu Microsoft Message Analyzer, zobacz "[dodatku 3: ruchu sieciowego przy użyciu programu Microsoft Message Analyzer toocapture]."</span><span class="sxs-lookup"><span data-stu-id="ae785-777">For more information about using Microsoft Message Analyzer, see "[Appendix 3: Using Microsoft Message Analyzer toocapture network traffic]."</span></span>

## <span data-ttu-id="ae785-778"><a name="appendices"></a>Dodatki</span><span class="sxs-lookup"><span data-stu-id="ae785-778"><a name="appendices"></a>Appendices</span></span>
<span data-ttu-id="ae785-779">dodatki Hello opisano kilka narzędzi, które mogą być przydatne podczas diagnozowania i rozwiązywania problemów z magazynu Azure (i innych usług).</span><span class="sxs-lookup"><span data-stu-id="ae785-779">hello appendices describe several tools that you may find useful when you are diagnosing and troubleshooting issues with Azure Storage (and other services).</span></span> <span data-ttu-id="ae785-780">Te narzędzia nie są częścią usługi Azure Storage i niektóre produkty innych firm.</span><span class="sxs-lookup"><span data-stu-id="ae785-780">These tools are not part of Azure Storage and some are third-party products.</span></span> <span data-ttu-id="ae785-781">W efekcie narzędzia hello omówione w tych dodatki nie są objęte każdej umowy pomocy technicznej, które mogą wiązać Ciebie z Microsoft Azure lub usługi Azure Storage i dlatego jako część procesu oceny należy sprawdzić hello dostępne opcje licencjonowania i pomocy technicznej dostawcy Hello tych narzędzi.</span><span class="sxs-lookup"><span data-stu-id="ae785-781">As such, hello tools discussed in these appendices are not covered by any support agreement you may have with Microsoft Azure or Azure Storage, and therefore as part of your evaluation process you should examine hello licensing and support options available from hello providers of these tools.</span></span>

### <span data-ttu-id="ae785-782"><a name="appendix-1"></a>Dodatek 1: Przy użyciu narzędzia Fiddler toocapture HTTP i HTTPS ruchu</span><span class="sxs-lookup"><span data-stu-id="ae785-782"><a name="appendix-1"></a>Appendix 1: Using Fiddler toocapture HTTP and HTTPS traffic</span></span>
<span data-ttu-id="ae785-783">Fiddler jest przydatne narzędzie do analizy ruchu HTTP i HTTPS hello między aplikacji klienckiej i hello usługą magazynu platformy Azure, którego używasz.</span><span class="sxs-lookup"><span data-stu-id="ae785-783">Fiddler is a useful tool for analyzing hello HTTP and HTTPS traffic between your client application and hello Azure storage service you are using.</span></span> <span data-ttu-id="ae785-784">Możesz pobrać Fiddler z <a href="http://www.telerik.com/fiddler" target="_blank">http://www.telerik.com/fiddler</a>.</span><span class="sxs-lookup"><span data-stu-id="ae785-784">You can download Fiddler from <a href="http://www.telerik.com/fiddler" target="_blank">http://www.telerik.com/fiddler</a>.</span></span>

> [!NOTE]
> <span data-ttu-id="ae785-785">Fiddler mogącego zdekodować ruchu HTTPS. należy uważnie przeczytać dokumentacji Fiddler hello toounderstand jak robi to i toounderstand hello zabezpieczenia.</span><span class="sxs-lookup"><span data-stu-id="ae785-785">Fiddler can decode HTTPS traffic; you should read hello Fiddler documentation carefully toounderstand how it does this, and toounderstand hello security implications.</span></span>
> 
> 

<span data-ttu-id="ae785-786">Ten dodatek zawiera krótki przewodnik jak tooconfigure Fiddler toocapture ruchu między hello komputera lokalnego w którym zainstalowano narzędzia Fiddler i hello usług magazynu platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="ae785-786">This appendix provides a brief walkthrough of how tooconfigure Fiddler toocapture traffic between hello local machine where you have installed Fiddler and hello Azure storage services.</span></span>

<span data-ttu-id="ae785-787">Po uruchomieniu narzędzia Fiddler rozpocznie Przechwytywanie ruchu HTTP i HTTPS na komputerze lokalnym.</span><span class="sxs-lookup"><span data-stu-id="ae785-787">After you have launched Fiddler, it will begin capturing HTTP and HTTPS traffic on your local machine.</span></span> <span data-ttu-id="ae785-788">Witaj Oto niektóre przydatne polecenia sterujące Fiddler:</span><span class="sxs-lookup"><span data-stu-id="ae785-788">hello following are some useful commands for controlling Fiddler:</span></span>

* <span data-ttu-id="ae785-789">Zatrzymaj i uruchom Przechwytywanie ruchu.</span><span class="sxs-lookup"><span data-stu-id="ae785-789">Stop and start capturing traffic.</span></span> <span data-ttu-id="ae785-790">W menu głównym hello Przejdź zbyt**pliku** , a następnie kliknij przycisk **przechwytywania ruchu** tootoggle Przechwytywanie włączać i wyłączać.</span><span class="sxs-lookup"><span data-stu-id="ae785-790">On hello main menu, go too**File** and then click **Capture Traffic** tootoggle capturing on and off.</span></span>
* <span data-ttu-id="ae785-791">Zapisz przechwycone dane o ruchu.</span><span class="sxs-lookup"><span data-stu-id="ae785-791">Save captured traffic data.</span></span> <span data-ttu-id="ae785-792">W menu głównym hello przejść za**pliku**, kliknij przycisk **zapisać**, a następnie kliknij przycisk **wszystkie sesje**: umożliwia toosave hello ruchu w pliku archiwum sesji.</span><span class="sxs-lookup"><span data-stu-id="ae785-792">On hello main menu, go too**File**, click **Save**, and then click **All Sessions**: this enables you toosave hello traffic in a Session Archive file.</span></span> <span data-ttu-id="ae785-793">Załaduj ponownie archiwum sesji później do analizy lub wysłać żądanie pomocy technicznej tooMicrosoft.</span><span class="sxs-lookup"><span data-stu-id="ae785-793">You can reload a Session Archive later for analysis, or send it if requested tooMicrosoft support.</span></span>

<span data-ttu-id="ae785-794">toolimit hello ilość ruchu sieciowego, który przechwytuje Fiddler, możesz użyć filtrów, które są konfigurowane w hello **filtry** hello kartę po zrzut ekranu przedstawia filtr, który przechwytuje tylko ruch wysyłany toohello  **contosoemaildist.TABLE.Core.Windows.NET** końcowego magazynu:</span><span class="sxs-lookup"><span data-stu-id="ae785-794">toolimit hello amount of traffic that Fiddler captures, you can use filters that you configure in hello **Filters** tab. hello following screenshot shows a filter that captures only traffic sent toohello **contosoemaildist.table.core.windows.net** storage endpoint:</span></span>

![][5]

### <span data-ttu-id="ae785-795"><a name="appendix-2"></a>Dodatku 2: Ruch sieciowy toocapture Wireshark przy użyciu</span><span class="sxs-lookup"><span data-stu-id="ae785-795"><a name="appendix-2"></a>Appendix 2: Using Wireshark toocapture network traffic</span></span>
<span data-ttu-id="ae785-796">Wireshark jest analizatora protokołów sieciowych, która umożliwia tooview szczegółowe informacje o pakiecie dla wiele różnych protokołów sieciowych.</span><span class="sxs-lookup"><span data-stu-id="ae785-796">Wireshark is a network protocol analyzer that enables you tooview detailed packet information for a wide range of network protocols.</span></span> <span data-ttu-id="ae785-797">Możesz pobrać Wireshark z <a href="http://www.wireshark.org/" target="_blank">http://www.wireshark.org/</a>.</span><span class="sxs-lookup"><span data-stu-id="ae785-797">You can download Wireshark from <a href="http://www.wireshark.org/" target="_blank">http://www.wireshark.org/</a>.</span></span>

<span data-ttu-id="ae785-798">Witaj poniższej procedurze wyjaśniono, jak toocapture szczegółowe informacje pakietu dla ruchu z komputera lokalnego hello zainstalowaną usługą tabeli toohello Wireshark na koncie magazynu Azure.</span><span class="sxs-lookup"><span data-stu-id="ae785-798">hello following procedure shows you how toocapture detailed packet information for traffic from hello local machine where you installed Wireshark toohello table service in your Azure storage account.</span></span>

1. <span data-ttu-id="ae785-799">Uruchamianie programu Wireshark na komputerze lokalnym.</span><span class="sxs-lookup"><span data-stu-id="ae785-799">Launch Wireshark on your local machine.</span></span>
2. <span data-ttu-id="ae785-800">W hello **Start** sekcji, wybierz hello lokalnego interfejsu sieciowego lub interfejsy, które są połączone toohello internet.</span><span class="sxs-lookup"><span data-stu-id="ae785-800">In hello **Start** section, select hello local network interface or interfaces that are connected toohello internet.</span></span>
3. <span data-ttu-id="ae785-801">Kliknij przycisk **przechwytywania opcje**.</span><span class="sxs-lookup"><span data-stu-id="ae785-801">Click **Capture Options**.</span></span>
4. <span data-ttu-id="ae785-802">Dodaj toohello filtru **filtr przechwytywania** pola tekstowego.</span><span class="sxs-lookup"><span data-stu-id="ae785-802">Add a filter toohello **Capture Filter** textbox.</span></span> <span data-ttu-id="ae785-803">Na przykład **hosta contosoemaildist.table.core.windows.net** skonfiguruje Wireshark toocapture tylko pakiety wysyłane tooor z hello punkt końcowy usługi tabel w hello **contosoemaildist** magazynu konto.</span><span class="sxs-lookup"><span data-stu-id="ae785-803">For example, **host contosoemaildist.table.core.windows.net** will configure Wireshark toocapture only packets sent tooor from hello table service endpoint in hello **contosoemaildist** storage account.</span></span> <span data-ttu-id="ae785-804">Aby uzyskać pełną listę filtrów przechwytywania Zobacz <a href="http://wiki.wireshark.org/CaptureFilters" target="_blank">http://wiki.wireshark.org/CaptureFilters</a>.</span><span class="sxs-lookup"><span data-stu-id="ae785-804">For a complete list of Capture Filters see <a href="http://wiki.wireshark.org/CaptureFilters" target="_blank">http://wiki.wireshark.org/CaptureFilters</a>.</span></span>
   
   ![][6]
5. <span data-ttu-id="ae785-805">Kliknij przycisk **Start**.</span><span class="sxs-lookup"><span data-stu-id="ae785-805">Click **Start**.</span></span> <span data-ttu-id="ae785-806">Wireshark teraz będzie przechwytywać wszystkie tooor wysyłania pakietów hello z hello punkt końcowy usługi tabel, jak na komputerze lokalnym za pomocą aplikacji klienta.</span><span class="sxs-lookup"><span data-stu-id="ae785-806">Wireshark will now capture all hello packets send tooor from hello table service endpoint as you use your client application on your local machine.</span></span>
6. <span data-ttu-id="ae785-807">Po zakończeniu, kliknij menu głównego hello **przechwytywania** , a następnie **zatrzymać**.</span><span class="sxs-lookup"><span data-stu-id="ae785-807">When you have finished, on hello main menu click **Capture** and then **Stop**.</span></span>
7. <span data-ttu-id="ae785-808">Witaj toosave przechwycone dane w Wireshark przechwytywania pliku, kliknij menu głównego hello **pliku** , a następnie **zapisać**.</span><span class="sxs-lookup"><span data-stu-id="ae785-808">toosave hello captured data in a Wireshark Capture File, on hello main menu click **File** and then **Save**.</span></span>

<span data-ttu-id="ae785-809">WireShark wyróżnione wszelkie błędy, które istnieją w hello **packetlist** okna.</span><span class="sxs-lookup"><span data-stu-id="ae785-809">WireShark will highlight any errors that exist in hello **packetlist** window.</span></span> <span data-ttu-id="ae785-810">Umożliwia także hello **Expert informacji** okna (kliknij **Analizuj**, następnie **Expert informacji**) tooview podsumowanie błędów i ostrzeżeń.</span><span class="sxs-lookup"><span data-stu-id="ae785-810">You can also use hello **Expert Info** window (click **Analyze**, then **Expert Info**) tooview a summary of errors and warnings.</span></span>

![][7]

<span data-ttu-id="ae785-811">Została również wybrana tooview hello TCP danych zgodnie z warstwy aplikacji hello widzi ona hello danych TCP prawym przyciskiem myszy i wybierając **wykonaj strumieniem TCP**.</span><span class="sxs-lookup"><span data-stu-id="ae785-811">You can also chose tooview hello TCP data as hello application layer sees it by right-clicking on hello TCP data and selecting **Follow TCP Stream**.</span></span> <span data-ttu-id="ae785-812">Jest to szczególnie przydatne, jeśli przechwycić z zrzutu bez pliku przechwytywania.</span><span class="sxs-lookup"><span data-stu-id="ae785-812">This is particularly useful if you captured your dump without a capture filter.</span></span> <span data-ttu-id="ae785-813">Zobacz <a href="http://www.wireshark.org/docs/wsug_html_chunked/ChAdvFollowTCPSection.html" target="_blank">tutaj</a> Aby uzyskać więcej informacji.</span><span class="sxs-lookup"><span data-stu-id="ae785-813">See <a href="http://www.wireshark.org/docs/wsug_html_chunked/ChAdvFollowTCPSection.html" target="_blank">here</a> for more information.</span></span>

![][8]

> [!NOTE]
> <span data-ttu-id="ae785-814">Aby uzyskać więcej informacji o korzystaniu z programu Wireshark, zobacz hello <a href="http://www.wireshark.org/docs/wsug_html_chunked/" target="_blank">przewodnik użytkowników programu Wireshark</a>.</span><span class="sxs-lookup"><span data-stu-id="ae785-814">For more information about using Wireshark, see hello <a href="http://www.wireshark.org/docs/wsug_html_chunked/" target="_blank">Wireshark Users Guide</a>.</span></span>
> 
> 

### <span data-ttu-id="ae785-815"><a name="appendix-3"></a>Dodatku 3: Ruch sieciowy toocapture programu Microsoft Message Analyzer przy użyciu</span><span class="sxs-lookup"><span data-stu-id="ae785-815"><a name="appendix-3"></a>Appendix 3: Using Microsoft Message Analyzer toocapture network traffic</span></span>
<span data-ttu-id="ae785-816">Możesz użyć programu Microsoft Message Analyzer toocapture HTTP i HTTPS ruchu w podobny sposób tooFiddler i przechwytywania ruchu sieciowego w podobny sposób tooWireshark.</span><span class="sxs-lookup"><span data-stu-id="ae785-816">You can use Microsoft Message Analyzer toocapture HTTP and HTTPS traffic in a similar way tooFiddler, and capture network traffic in a similar way tooWireshark.</span></span>

#### <a name="configure-a-web-tracing-session-using-microsoft-message-analyzer"></a><span data-ttu-id="ae785-817">Konfigurowanie śledzenia sesji sieci web przy użyciu programu Microsoft Message Analyzer</span><span class="sxs-lookup"><span data-stu-id="ae785-817">Configure a web tracing session using Microsoft Message Analyzer</span></span>
<span data-ttu-id="ae785-818">tooconfigure sesję śledzenia sieci web dla ruchu HTTP i HTTPS przy użyciu programu Microsoft Message Analyzer, uruchom aplikację Microsoft Message Analyzer hello, a następnie na powitania **pliku** menu, kliknij przycisk **przechwytywania/Trace**.</span><span class="sxs-lookup"><span data-stu-id="ae785-818">tooconfigure a web tracing session for HTTP and HTTPS traffic using Microsoft Message Analyzer, run hello Microsoft Message Analyzer application and then on hello **File** menu, click **Capture/Trace**.</span></span> <span data-ttu-id="ae785-819">Hello listę scenariuszy śledzenia dostępności, wybierz **serwera Proxy sieci Web**.</span><span class="sxs-lookup"><span data-stu-id="ae785-819">In hello list of available trace scenarios, select **Web Proxy**.</span></span> <span data-ttu-id="ae785-820">Następnie w hello **konfiguracji ze scenariusza śledzenia** panelu w hello **HostnameFilter** pole tekstowe, Dodaj hello nazwy punktów końcowych magazynu (można wyszukiwać tych nazwach hello klasycznego portalu Azure).</span><span class="sxs-lookup"><span data-stu-id="ae785-820">Then in hello **Trace Scenario Configuration** panel, in hello **HostnameFilter** textbox, add hello names of your storage endpoints (you can look up these names in hello Azure Classic Portal).</span></span> <span data-ttu-id="ae785-821">Na przykład jeśli hello jest nazwa konta magazynu Azure **contosodata**, należy dodać następujące toohello hello **HostnameFilter** pole tekstowe:</span><span class="sxs-lookup"><span data-stu-id="ae785-821">For example, if hello name of your Azure storage account is **contosodata**, you should add hello following toohello **HostnameFilter** textbox:</span></span>

```
contosodata.blob.core.windows.net contosodata.table.core.windows.net contosodata.queue.core.windows.net
```

> [!NOTE]
> <span data-ttu-id="ae785-822">Znak odstępu oddziela hello nazwy hostów.</span><span class="sxs-lookup"><span data-stu-id="ae785-822">A space character separates hello hostnames.</span></span>
> 
> 

<span data-ttu-id="ae785-823">Gdy wszystko jest gotowe toostart zbieranie danych śledzenia, kliknij przycisk hello **Start With** przycisku.</span><span class="sxs-lookup"><span data-stu-id="ae785-823">When you are ready toostart collecting trace data, click hello **Start With** button.</span></span>

<span data-ttu-id="ae785-824">Aby uzyskać więcej informacji na temat programu Microsoft Message Analyzer hello **serwera Proxy sieci Web** śledzenia, zobacz <a href="http://technet.microsoft.com/library/jj674814.aspx" target="_blank">dostawcy PEF WebProxy</a> w witrynie TechNet.</span><span class="sxs-lookup"><span data-stu-id="ae785-824">For more information about hello Microsoft Message Analyzer **Web Proxy** trace, see <a href="http://technet.microsoft.com/library/jj674814.aspx" target="_blank">PEF-WebProxy Provider</a> on TechNet.</span></span>

<span data-ttu-id="ae785-825">wbudowane Hello **serwera Proxy sieci Web** śledzenia w programie Microsoft Message Analyzer jest oparta na Fiddler; można przechwytywać ruch HTTPS po stronie klienta i wyświetlić wiadomości niezaszyfrowane HTTPS.</span><span class="sxs-lookup"><span data-stu-id="ae785-825">hello built-in **Web Proxy** trace in Microsoft Message Analyzer is based on Fiddler; it can capture client-side HTTPS traffic and display unencrypted HTTPS messages.</span></span> <span data-ttu-id="ae785-826">Witaj **serwera Proxy sieci Web** śledzenia działa przez konfigurowanie lokalnego serwera proxy dla całego ruchu HTTP i HTTPS, zapewniająca dostęp toounencrypted wiadomości.</span><span class="sxs-lookup"><span data-stu-id="ae785-826">hello **Web Proxy** trace works by configuring a local proxy for all HTTP and HTTPS traffic that gives it access toounencrypted messages.</span></span>

#### <a name="diagnosing-network-issues-using-microsoft-message-analyzer"></a><span data-ttu-id="ae785-827">Diagnozowanie problemów z siecią przy użyciu programu Microsoft Message Analyzer</span><span class="sxs-lookup"><span data-stu-id="ae785-827">Diagnosing network issues using Microsoft Message Analyzer</span></span>
<span data-ttu-id="ae785-828">Ponadto toousing hello programu Microsoft Message Analyzer **serwera Proxy sieci Web** szczegóły toocapture śledzenia hello ruchu HTTP/HTTPs między hello aplikacji klienckiej i usługi magazynu hello, można również użyć wbudowanych hello  **Lokalne warstwy łącza** toocapture sieci pakietów informacje śledzenia.</span><span class="sxs-lookup"><span data-stu-id="ae785-828">In addition toousing hello Microsoft Message Analyzer **Web Proxy** trace toocapture details of hello HTTP/HTTPs traffic between hello client application and hello storage service, you can also use hello built-in **Local Link Layer** trace toocapture network packet information.</span></span> <span data-ttu-id="ae785-829">Pakietów porzucanych ta umożliwia, takich jak sieci możesz toocapture danych podobne toothat przechwytywania z programu Wireshark i diagnozowanie problemów.</span><span class="sxs-lookup"><span data-stu-id="ae785-829">This enables you toocapture data similar toothat which you can capture with Wireshark, and diagnose network issues such as dropped packets.</span></span>

<span data-ttu-id="ae785-830">Witaj Poniższy zrzut ekranu przedstawia przykład **lokalnego warstwy łącza** śledzenia z niektórymi **informacyjny** wiadomości powitania **DiagnosisTypes** kolumny.</span><span class="sxs-lookup"><span data-stu-id="ae785-830">hello following screenshot shows an example **Local Link Layer** trace with some **informational** messages in hello **DiagnosisTypes** column.</span></span> <span data-ttu-id="ae785-831">Kliknięcie ikony w hello **DiagnosisTypes** kolumna zawiera szczegóły hello wiadomość hello.</span><span class="sxs-lookup"><span data-stu-id="ae785-831">Clicking on an icon in hello **DiagnosisTypes** column shows hello details of hello message.</span></span> <span data-ttu-id="ae785-832">W tym przykładzie powitania serwera retransmitowane wiadomości w #305, ponieważ nie otrzymano potwierdzenia z powitania klienta:</span><span class="sxs-lookup"><span data-stu-id="ae785-832">In this example, hello server retransmitted message #305 because it did not receive an acknowledgement from hello client:</span></span>

![][9]

<span data-ttu-id="ae785-833">Utworzenie hello sesji śledzenia programu Microsoft Message Analyzer, można określić filtry tooreduce hello ilość szumu w hello śledzenia.</span><span class="sxs-lookup"><span data-stu-id="ae785-833">When you create hello trace session in Microsoft Message Analyzer, you can specify filters tooreduce hello amount of noise in hello trace.</span></span> <span data-ttu-id="ae785-834">Na powitania **przechwytywania / Trace** służącego do określania śledzenia powitania kliknij na powitania **Konfiguruj** link obok zbyt**Microsoft-Windows-NDIS-PacketCapture**.</span><span class="sxs-lookup"><span data-stu-id="ae785-834">On hello **Capture / Trace** page where you define hello trace, click on hello **Configure** link next too**Microsoft-Windows-NDIS-PacketCapture**.</span></span> <span data-ttu-id="ae785-835">powitania po zrzut ekranu przedstawia konfigurację filtrujące ruch TCP dla adresów IP hello trzy usług magazynu:</span><span class="sxs-lookup"><span data-stu-id="ae785-835">hello following screenshot shows a configuration that filters TCP traffic for hello IP addresses of three storage services:</span></span>

![][10]

<span data-ttu-id="ae785-836">Aby uzyskać więcej informacji na temat hello śledzenia Microsoft komunikatów analizatora lokalnego warstwy łącza zobacz <a href="http://technet.microsoft.com/library/jj659264.aspx" target="_blank">dostawcy PEF-NDIS-PacketCapture</a> w witrynie TechNet.</span><span class="sxs-lookup"><span data-stu-id="ae785-836">For more information about hello Microsoft Message Analyzer Local Link Layer trace, see <a href="http://technet.microsoft.com/library/jj659264.aspx" target="_blank">PEF-NDIS-PacketCapture Provider</a> on TechNet.</span></span>

### <span data-ttu-id="ae785-837"><a name="appendix-4"></a>Dodatek 4: Przy użyciu danych metryki i dziennika tooview programu Excel</span><span class="sxs-lookup"><span data-stu-id="ae785-837"><a name="appendix-4"></a>Appendix 4: Using Excel tooview metrics and log data</span></span>
<span data-ttu-id="ae785-838">Wiele narzędzi Włącz toodownload hello metryki magazynu danych z magazynu tabel platformy Azure w rozdzielanej formatu, który umożliwia łatwe tooload hello danych do programu Excel dla wyświetlania i analizy.</span><span class="sxs-lookup"><span data-stu-id="ae785-838">Many tools enable you toodownload hello Storage Metrics data from Azure table storage in a delimited format that makes it easy tooload hello data into Excel for viewing and analysis.</span></span> <span data-ttu-id="ae785-839">Magazyn rejestrowania danych z magazynu obiektów blob platformy Azure jest już w formacie rozdzielanym, który można załadować do programu Excel.</span><span class="sxs-lookup"><span data-stu-id="ae785-839">Storage Logging data from Azure blob storage is already in a delimited format that you can load into Excel.</span></span> <span data-ttu-id="ae785-840">Jednak należy tooadd odpowiednie nagłówki kolumn w hello informacji w oparciu o <a href="http://msdn.microsoft.com/library/azure/hh343259.aspx" target="_blank">Format dziennika analityka magazynu</a> i <a href="http://msdn.microsoft.com/library/azure/hh343264.aspx" target="_blank">schemat tabeli metryki analityka magazynu</a>.</span><span class="sxs-lookup"><span data-stu-id="ae785-840">However, you will need tooadd appropriate column headings based in hello information at <a href="http://msdn.microsoft.com/library/azure/hh343259.aspx" target="_blank">Storage Analytics Log Format</a> and <a href="http://msdn.microsoft.com/library/azure/hh343264.aspx" target="_blank">Storage Analytics Metrics Table Schema</a>.</span></span>

<span data-ttu-id="ae785-841">tooimport Twojego rejestrowania magazynu danych do programu Excel po go pobrać z magazynu obiektów blob:</span><span class="sxs-lookup"><span data-stu-id="ae785-841">tooimport your Storage Logging data into Excel after you download it from blob storage:</span></span>

* <span data-ttu-id="ae785-842">Na powitania **danych** menu, kliknij przycisk **tekst z**.</span><span class="sxs-lookup"><span data-stu-id="ae785-842">On hello **Data** menu, click **From Text**.</span></span>
* <span data-ttu-id="ae785-843">Plik dziennika toohello przeglądania tooview i kliknij **importu**.</span><span class="sxs-lookup"><span data-stu-id="ae785-843">Browse toohello log file you want tooview and click **Import**.</span></span>
* <span data-ttu-id="ae785-844">W kroku 1 hello **Kreatora importu tekstu**, wybierz pozycję **rozdzielany**.</span><span class="sxs-lookup"><span data-stu-id="ae785-844">On step 1 of hello **Text Import Wizard**, select **Delimited**.</span></span>

<span data-ttu-id="ae785-845">W kroku 1 hello **Kreatora importu tekstu**, wybierz pozycję **średnik** jako hello tylko ogranicznik i wybierz polecenie podwójnego cudzysłowu jako hello **kwalifikator tekstu**.</span><span class="sxs-lookup"><span data-stu-id="ae785-845">On step 1 of hello **Text Import Wizard**, select **Semicolon** as hello only delimiter and choose double-quote as hello **Text qualifier**.</span></span> <span data-ttu-id="ae785-846">Następnie kliknij przycisk **Zakończ** i wybierz, gdzie tooplace hello danymi w skoroszycie.</span><span class="sxs-lookup"><span data-stu-id="ae785-846">Then click **Finish** and choose where tooplace hello data in your workbook.</span></span>

### <span data-ttu-id="ae785-847"><a name="appendix-5"></a>Dodatek 5: Monitorowanie za pomocą usługi Application Insights dla programu Visual Studio Team Services</span><span class="sxs-lookup"><span data-stu-id="ae785-847"><a name="appendix-5"></a>Appendix 5: Monitoring with Application Insights for Visual Studio Team Services</span></span>
<span data-ttu-id="ae785-848">Umożliwia także hello funkcji usługi Application Insights dla programu Visual Studio Team Services jako część wydajności i dostępności monitorowania.</span><span class="sxs-lookup"><span data-stu-id="ae785-848">You can also use hello Application Insights feature for Visual Studio Team Services as part of your performance and availability monitoring.</span></span> <span data-ttu-id="ae785-849">To narzędzie można:</span><span class="sxs-lookup"><span data-stu-id="ae785-849">This tool can:</span></span>

* <span data-ttu-id="ae785-850">Upewnij się, że usługi sieci web jest dostępna i elastyczny.</span><span class="sxs-lookup"><span data-stu-id="ae785-850">Make sure your web service is available and responsive.</span></span> <span data-ttu-id="ae785-851">Czy aplikacja jest witryną sieci web lub aplikacji urządzenia, który używa usługi sieci web, jego test adresu URL co kilka minut z lokalizacji na całym świecie hello i informacją o tym, jeśli występuje problem.</span><span class="sxs-lookup"><span data-stu-id="ae785-851">Whether your app is a web site or a device app that uses a web service, it can test your URL every few minutes from locations around hello world, and let you know if there's a problem.</span></span>
* <span data-ttu-id="ae785-852">Szybkie diagnozowanie problemów z wydajnością ani wyjątków w usłudze sieci web.</span><span class="sxs-lookup"><span data-stu-id="ae785-852">Quickly diagnose any performance issues or exceptions in your web service.</span></span> <span data-ttu-id="ae785-853">Dowiedz się, jeśli są rozciągnięcia procesora CPU lub innych zasobów, odczytać śladów stosu wyjątków i łatwo wyszukiwać dane dziennika śledzenia.</span><span class="sxs-lookup"><span data-stu-id="ae785-853">Find out if CPU or other resources are being stretched, get stack traces from exceptions, and easily search through log traces.</span></span> <span data-ttu-id="ae785-854">Jeśli hello porzucania wydajności aplikacji poniżej akceptowalnego limity, możemy wysłać wiadomość e-mail.</span><span class="sxs-lookup"><span data-stu-id="ae785-854">If hello app's performance drops below acceptable limits, we can send you an email.</span></span> <span data-ttu-id="ae785-855">Można monitorować usługi sieci web .NET i Java.</span><span class="sxs-lookup"><span data-stu-id="ae785-855">You can monitor both .NET and Java web services.</span></span>

<span data-ttu-id="ae785-856">Na powitania momencie pisania usługi Application Insights jest w wersji zapoznawczej.</span><span class="sxs-lookup"><span data-stu-id="ae785-856">At hello time of writing Application Insights is in preview.</span></span> <span data-ttu-id="ae785-857">Więcej informacji można znaleźć <a href="http://msdn.microsoft.com/library/azure/dn481095.aspx" target="_blank">usługi Application Insights dla programu Visual Studio Team Services w witrynie MSDN</a>.</span><span class="sxs-lookup"><span data-stu-id="ae785-857">You can find more information at <a href="http://msdn.microsoft.com/library/azure/dn481095.aspx" target="_blank">Application Insights for Visual Studio Team Services on MSDN</a>.</span></span>

<!--Anchors-->
[Wprowadzenie]: #introduction
[Jak jest zorganizowana w tym przewodniku]: #how-this-guide-is-organized

[monitorowania usługi magazynu]: #monitoring-your-storage-service
[Monitorowanie kondycji usługi]: #monitoring-service-health
[Monitorowanie wydajności]: #monitoring-capacity
[Monitorowanie dostępności]: #monitoring-availability
[Monitorowanie wydajności]: #monitoring-performance

[diagnozowanie problemów z magazynowaniem]: #diagnosing-storage-issues
[Problemy z usługi kondycji]: #service-health-issues
[Problemy z wydajnością]: #performance-issues
[Diagnozowanie błędów]: #diagnosing-errors
[Problemy z emulatora magazynu]: #storage-emulator-issues
[Narzędzia rejestrowania magazynu]: #storage-logging-tools
[Przy użyciu narzędzia rejestracji w sieci]: #using-network-logging-tools

[śledzenia End-to-end]: #end-to-end-tracing
[Korelowanie dane dziennika]: #correlating-log-data
[Identyfikator żądania klienta]: #client-request-id
[identyfikator żądania serwera]: #server-request-id
[Znaczniki czasu]: #timestamps

[wskazówki rozwiązywania problemów]: #troubleshooting-guidance
[metryki pokazują AverageE2ELatency wysoki i niski AverageServerLatency]: #metrics-show-high-AverageE2ELatency-and-low-AverageServerLatency
[Metryki pokazują AverageE2ELatency niski i niski AverageServerLatency, ale występuje duże opóźnienie powitania klienta]: #metrics-show-low-AverageE2ELatency-and-low-AverageServerLatency
[Metryki wskazują wysoką wartość AverageServerLatency]: #metrics-show-high-AverageServerLatency
[Występują nieoczekiwane opóźnienia w dostarczaniu komunikatów w kolejce]: #you-are-experiencing-unexpected-delays-in-message-delivery

[metryki spowodować wzrost PercentThrottlingError]: #metrics-show-an-increase-in-PercentThrottlingError
[Przejściowa wzrost PercentThrottlingError]: #transient-increase-in-PercentThrottlingError
[Stałe zwiększanie PercentThrottlingError błąd]: #permanent-increase-in-PercentThrottlingError
[metryki spowodować wzrost PercentTimeoutError]: #metrics-show-an-increase-in-PercentTimeoutError
[Metryki wskazują wzrost wartości PercentNetworkError]: #metrics-show-an-increase-in-PercentNetworkError

[powitania klienta odbiera komunikaty HTTP 403 (Dostęp zabroniony)]: #the-client-is-receiving-403-messages
[powitania klienta odbiera komunikaty HTTP 404 (nie znaleziono)]: #the-client-is-receiving-404-messages
[powitania klienta lub inny proces wcześniej usunięty obiekt hello]: #client-previously-deleted-the-object
[Problem autoryzacji dostępu sygnatury dostępu Współdzielonego]: #SAS-authorization-issue
[Kod JavaScript po stronie klienta nie ma obiektu hello tooaccess uprawnień]: #JavaScript-code-does-not-have-permission
[Błąd sieci]: #network-failure
[powitania klienta odbiera komunikaty HTTP 409 (konflikt)]: #the-client-is-receiving-409-messages

[metryki pokazują PercentSuccess niskim lub wpisy dziennika analizy zawierać operacje z Stan transakcji ClientOtherErrors]: #metrics-show-low-percent-success
[Metryki pojemności Pokaż nieoczekiwane zwiększenie wykorzystania pojemności magazynu]: #capacity-metrics-show-an-unexpected-increase
[Występują nieoczekiwane ponowne uruchomienie maszyn wirtualnych, które mają wiele wirtualnych dysków twardych dołączonych]: #you-are-experiencing-unexpected-reboots
[Problem wynika z przy użyciu emulatora magazynu hello do rozwoju lub testu]: #your-issue-arises-from-using-the-storage-emulator
[Funkcja "X" nie działa w emulatorze magazynu hello]: #feature-X-is-not-working
[Błąd "hello wartość dla jednego z nagłówków hello HTTP nie jest w poprawnym formacie hello" gdy hello przy użyciu emulatora magazynu]: #error-HTTP-header-not-correct-format
[Uruchomiony emulator magazynu hello wymaga uprawnień administracyjnych]: #storage-emulator-requires-administrative-privileges
[Pojawiły się problemy z instalacją hello Azure SDK dla platformy .NET]: #you-are-encountering-problems-installing-the-Windows-Azure-SDK
[Inny problem z usługą magazynu]: #you-have-a-different-issue-with-a-storage-service

[dodatki]: #appendices
[dodatku 1: ruchu HTTP i HTTPS toocapture przy użyciu narzędzia Fiddler]: #appendix-1
[dodatek 2: ruchu sieciowego przy użyciu programu Wireshark toocapture]: #appendix-2
[dodatku 3: ruchu sieciowego przy użyciu programu Microsoft Message Analyzer toocapture]: #appendix-3
[Dodatek 4: Przy użyciu danych metryki i dziennika tooview programu Excel]: #appendix-4
[dodatek 5: monitorowanie za pomocą usługi Application Insights dla programu Visual Studio Team Services]: #appendix-5

<!--Image references-->
[1]: ./media/storage-monitoring-diagnosing-troubleshooting-classic-portal/overview.png
[2]: ./media/storage-monitoring-diagnosing-troubleshooting-classic-portal/portal-screenshot.png
[3]: ./media/storage-monitoring-diagnosing-troubleshooting-classic-portal/hour-minute-metrics.png
[4]: ./media/storage-monitoring-diagnosing-troubleshooting-classic-portal/high-e2e-latency.png
[5]: ./media/storage-monitoring-diagnosing-troubleshooting-classic-portal/fiddler-screenshot.png
[6]: ./media/storage-monitoring-diagnosing-troubleshooting-classic-portal/wireshark-screenshot-1.png
[7]: ./media/storage-monitoring-diagnosing-troubleshooting-classic-portal/wireshark-screenshot-2.png
[8]: ./media/storage-monitoring-diagnosing-troubleshooting-classic-portal/wireshark-screenshot-3.png
[9]: ./media/storage-monitoring-diagnosing-troubleshooting-classic-portal/mma-screenshot-1.png
[10]: ./media/storage-monitoring-diagnosing-troubleshooting-classic-portal/mma-screenshot-2.png
