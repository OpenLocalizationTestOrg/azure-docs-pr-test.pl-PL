---
title: "Dostęp do obiektów blob z domenami niestandardowymi za pośrednictwem protokołu HTTPS przy użyciu usługi Azure CDN"
description: "Dowiedz się, jak zintegrować Azure CDN z magazynu obiektów blob można uzyskać dostępu do obiektów blob z domenami niestandardowymi za pośrednictwem protokołu HTTPS"
services: storage
documentationcenter: 
author: michaelhauss
manager: vamshik
editor: tysonn
ms.assetid: 
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/04/2017
ms.author: mihauss
ms.openlocfilehash: 1439198250346ae9484eae448489e8a5de4734b7
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 07/11/2017
---
# <a name="using-the-azure-cdn-to-access-blobs-with-custom-domains-over-https"></a><span data-ttu-id="39ba9-103">Dostęp do obiektów blob z domenami niestandardowymi za pośrednictwem protokołu HTTPS przy użyciu usługi Azure CDN</span><span class="sxs-lookup"><span data-stu-id="39ba9-103">Using the Azure CDN to access blobs with custom domains over HTTPS</span></span>

<span data-ttu-id="39ba9-104">Azure sieci dostarczania zawartości (CDN) obsługuje teraz HTTPS dla niestandardowych nazw domen.</span><span class="sxs-lookup"><span data-stu-id="39ba9-104">Azure Content Delivery Network (CDN) now supports HTTPS for custom domain names.</span></span>
<span data-ttu-id="39ba9-105">Można wykorzystać tę funkcję, aby można było uzyskać dostępu do magazynu obiektów blob przy użyciu domeny niestandardowej przy użyciu protokołu HTTPS.</span><span class="sxs-lookup"><span data-stu-id="39ba9-105">You can leverage this feature to access storage blobs using your custom domain over HTTPS.</span></span> <span data-ttu-id="39ba9-106">Aby to zrobić, musisz najpierw włączyć usługi Azure CDN punktu końcowego obiektu blob i mapowanie sieci CDN do niestandardowej nazwy domeny.</span><span class="sxs-lookup"><span data-stu-id="39ba9-106">To do so, you’ll first need to enable Azure CDN on your blob endpoint and map the CDN to a custom domain name.</span></span> <span data-ttu-id="39ba9-107">Po wykonaniu tych kroków, włączanie obsługi protokołu HTTPS dla domeny niestandardowej jest uproszczone, za pomocą jednego kliknięcia aktywacji, pełnego zarządzania certyfikatami i wszystkie bez dodatkowych kosztów do normalnej cennik usługi CDN.</span><span class="sxs-lookup"><span data-stu-id="39ba9-107">Once you take these steps, enabling HTTPS for your custom domain is simplified via one-click enablement, complete certificate management, and all with no additional cost to normal CDN pricing.</span></span>

<span data-ttu-id="39ba9-108">Ta możliwość jest ważne, ponieważ pozwala na ochronę prywatności i integralność danych aplikacji sieci web poufne przesyłane.</span><span class="sxs-lookup"><span data-stu-id="39ba9-108">This ability is important because it enables you to protect the privacy and data integrity of your sensitive web application data while in transit.</span></span> <span data-ttu-id="39ba9-109">Przy użyciu protokołu SSL do obsługi ruchu za pośrednictwem protokołu HTTPS zapewnia, że dane są szyfrowane, gdy są wysyłane przez internet.</span><span class="sxs-lookup"><span data-stu-id="39ba9-109">Using the SSL protocol to serve traffic via HTTPS ensures that data is encrypted when it is sent across the internet.</span></span> <span data-ttu-id="39ba9-110">HTTPS zapewnia zaufania i uwierzytelniania, a następnie chroni przed atakami aplikacji sieci web.</span><span class="sxs-lookup"><span data-stu-id="39ba9-110">HTTPS provides trust and authentication, and protects your web applications from attacks.</span></span>

> [!NOTE]
> <span data-ttu-id="39ba9-111">Oprócz zapewnienia obsługi protokołu SSL dla nazwy domeny niestandardowej, usługi Azure CDN może ułatwić skalowanie aplikacji do dostarczania zawartości wysokiej przepustowości na świecie.</span><span class="sxs-lookup"><span data-stu-id="39ba9-111">In addition to providing SSL support for custom domain names, the Azure CDN can help you scale your application to deliver high-bandwidth content around the world.</span></span>
> <span data-ttu-id="39ba9-112">Aby dowiedzieć się więcej, zapoznaj się [Omówienie usługi Azure CDN](../cdn/cdn-overview.md).</span><span class="sxs-lookup"><span data-stu-id="39ba9-112">To learn more, check out [Overview of the Azure CDN](../cdn/cdn-overview.md).</span></span>
>
>

## <a name="quick-start"></a><span data-ttu-id="39ba9-113">Szybki start</span><span class="sxs-lookup"><span data-stu-id="39ba9-113">Quick start</span></span>

<span data-ttu-id="39ba9-114">Poniżej przedstawiono kroki wymagane do włączenia protokołu HTTPS dla punktu końcowego magazynu niestandardowego obiektu blob:</span><span class="sxs-lookup"><span data-stu-id="39ba9-114">These are the steps required to enable HTTPS for your custom blob storage endpoint:</span></span>

1.  <span data-ttu-id="39ba9-115">[Integracja z usługą Azure CDN konta magazynu platformy Azure](../cdn/cdn-create-a-storage-account-with-cdn.md).</span><span class="sxs-lookup"><span data-stu-id="39ba9-115">[Integrate an Azure storage account with Azure CDN](../cdn/cdn-create-a-storage-account-with-cdn.md).</span></span>
    <span data-ttu-id="39ba9-116">Ten artykuł przeprowadzi Cię przez proces tworzenia konta magazynu w portalu Azure, jeśli nie zostało to jeszcze zrobione.</span><span class="sxs-lookup"><span data-stu-id="39ba9-116">This article walks you through creating a storage account in the Azure Portal if you have not done so already.</span></span>
2.  <span data-ttu-id="39ba9-117">[Mapuj zawartość Azure CDN na domenę niestandardową](../cdn/cdn-map-content-to-custom-domain.md).</span><span class="sxs-lookup"><span data-stu-id="39ba9-117">[Map Azure CDN content to a custom domain](../cdn/cdn-map-content-to-custom-domain.md).</span></span>
3.  <span data-ttu-id="39ba9-118">[Włącz protokół HTTPS na domenę niestandardową Azure CDN](../cdn/cdn-custom-ssl.md).</span><span class="sxs-lookup"><span data-stu-id="39ba9-118">[Enable HTTPS on an Azure CDN custom domain](../cdn/cdn-custom-ssl.md).</span></span>

## <a name="shared-access-signatures"></a><span data-ttu-id="39ba9-119">Sygnatury dostępu współdzielonego</span><span class="sxs-lookup"><span data-stu-id="39ba9-119">Shared Access Signatures</span></span>

<span data-ttu-id="39ba9-120">Jeśli skonfigurowano punktu końcowego magazynu obiektów blob nie zezwalaj na anonimowy dostęp do odczytu, musisz podać [dostępu sygnatury dostępu Współdzielonego](storage-dotnet-shared-access-signature-part-1.md) tokenu w każdym żądaniu należy do domeny niestandardowej.</span><span class="sxs-lookup"><span data-stu-id="39ba9-120">If your blob storage endpoint is configured to disallow anonymous read access, you will need to provide a [Shared Access Signature (SAS)](storage-dotnet-shared-access-signature-part-1.md) token in each request you make to your custom domain.</span></span> <span data-ttu-id="39ba9-121">Domyślnie punkty końcowe magazynu obiektów blob nie zezwalaj na anonimowy dostęp do odczytu.</span><span class="sxs-lookup"><span data-stu-id="39ba9-121">By default, blob storage endpoints disallow anonymous read access.</span></span> <span data-ttu-id="39ba9-122">Zobacz [Zarządzanie anonimowy dostęp do odczytu do kontenerów i obiektów blob](storage-manage-access-to-resources.md) Aby uzyskać więcej informacji na temat sygnatur dostępu współdzielonego.</span><span class="sxs-lookup"><span data-stu-id="39ba9-122">See [Managing anonymous read access to containers and blobs](storage-manage-access-to-resources.md) for more information on shared access signatures.</span></span>

<span data-ttu-id="39ba9-123">Usługi Azure CDN nie przestrzega ograniczeń dodane do tokenu sygnatury dostępu Współdzielonego.</span><span class="sxs-lookup"><span data-stu-id="39ba9-123">Azure CDN does not respect any restrictions added to the SAS token.</span></span> <span data-ttu-id="39ba9-124">Na przykład wszystkie tokeny sygnatury dostępu Współdzielonego ma czasu wygaśnięcia.</span><span class="sxs-lookup"><span data-stu-id="39ba9-124">For example, all SAS tokens have an expiration time.</span></span> <span data-ttu-id="39ba9-125">Oznacza to, że zawartość nadal będą dostępne z wygasłych SAS, aż do tej zawartości jest wyczyszczone z węzłów CDN krawędzi.</span><span class="sxs-lookup"><span data-stu-id="39ba9-125">This means that content can still be accessed with an expired SAS until that content is purged from the CDN edge nodes.</span></span> <span data-ttu-id="39ba9-126">Można kontrolować, jak długo dane są buforowane w sieci CDN przez ustawienie nagłówka odpowiedzi pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="39ba9-126">You can control how long data is cached on the CDN by setting the cache response header.</span></span> <span data-ttu-id="39ba9-127">Zobacz [zarządzaniu wygasaniem obiektów blob magazynu Azure w usłudze Azure CDN](../cdn/cdn-manage-expiration-of-blob-content.md) instrukcje.</span><span class="sxs-lookup"><span data-stu-id="39ba9-127">See [Managing expiration of Azure Storage blobs in Azure CDN](../cdn/cdn-manage-expiration-of-blob-content.md) for instructions.</span></span>

<span data-ttu-id="39ba9-128">W przypadku utworzenia wielu skojarzeń zabezpieczeń adresów URL dla tego samego punktu końcowego obiektu blob, zaleca się włączenie buforowania dla Twojej usługi Azure CDN ciągu zapytania.</span><span class="sxs-lookup"><span data-stu-id="39ba9-128">If you create multiple SAS URLs for the same blob endpoint, we recommend turning on query string caching for your Azure CDN.</span></span> <span data-ttu-id="39ba9-129">To, aby upewnić się, że każdy adres URL jest traktowany jako unikatowe jednostki.</span><span class="sxs-lookup"><span data-stu-id="39ba9-129">This is to ensure that each URL is treated as a unique entity.</span></span> <span data-ttu-id="39ba9-130">Zobacz [kontrolowanie Azure CDN buforowanie z ciągami zapytań](../cdn/cdn-query-string.md) Aby uzyskać więcej informacji.</span><span class="sxs-lookup"><span data-stu-id="39ba9-130">See [Controlling Azure CDN caching behavior with query strings](../cdn/cdn-query-string.md) for more information.</span></span>

## <a name="http-to-https-redirection"></a><span data-ttu-id="39ba9-131">Protokół HTTP do przekierowania protokołu HTTPS</span><span class="sxs-lookup"><span data-stu-id="39ba9-131">HTTP to HTTPS redirection</span></span>

<span data-ttu-id="39ba9-132">Można wybrać do przekierowywania ruchu HTTP, HTTPS.</span><span class="sxs-lookup"><span data-stu-id="39ba9-132">You can elect to redirect HTTP traffic to HTTPS.</span></span> <span data-ttu-id="39ba9-133">To wymaga korzystania z usługi Azure CDN premium oferty from Verizon.</span><span class="sxs-lookup"><span data-stu-id="39ba9-133">This requires use of the Azure CDN premium offering from Verizon.</span></span> <span data-ttu-id="39ba9-134">Musisz [zachowanie zastąpienie HTTP przy użyciu usługi Azure CDN aparatu reguł](../cdn/cdn-rules-engine.md) z następującą regułą:</span><span class="sxs-lookup"><span data-stu-id="39ba9-134">You need to [Override HTTP behavior using the Azure CDN rules engine](../cdn/cdn-rules-engine.md) with the following rule:</span></span>

![](./media/storage-https-custom-domain-cdn/redirect-to-https.png)

<span data-ttu-id="39ba9-135">"Nazwa Cdn — punktu końcowego" odwołuje się do nazwy skonfigurowanego dla punktu końcowego CDN.</span><span class="sxs-lookup"><span data-stu-id="39ba9-135">“Cdn-endpoint-name” refers to the name that you configured for your CDN endpoint.</span></span> <span data-ttu-id="39ba9-136">Tę wartość można wybrać z listy rozwijanej.</span><span class="sxs-lookup"><span data-stu-id="39ba9-136">You can select this value from the dropdown.</span></span> <span data-ttu-id="39ba9-137">"-Ścieżka do źródła" odnosi się do ścieżki w ramach konta magazynu pochodzenia, gdzie znajduje się zawartości statycznej.</span><span class="sxs-lookup"><span data-stu-id="39ba9-137">“Origin-path” refers to the path within your origin storage account where your static content resides.</span></span>
<span data-ttu-id="39ba9-138">Jeśli przechowujesz całej zawartości statycznej w jeden kontener Zamień na nazwę kontenera "— Ścieżka do źródła".</span><span class="sxs-lookup"><span data-stu-id="39ba9-138">If you are hosting all static content in a single container, replace “origin-path” with the name of that container.</span></span>

<span data-ttu-id="39ba9-139">Aby uzyskać bardziej zgłębić temat do zasad, zobacz [zasady usługi Azure CDN aparat funkcji](../cdn/cdn-rules-engine-reference-features.md).</span><span class="sxs-lookup"><span data-stu-id="39ba9-139">For a deeper dive into rules, please see the [Azure CDN rules engine features](../cdn/cdn-rules-engine-reference-features.md).</span></span>

## <a name="pricing-and-billing"></a><span data-ttu-id="39ba9-140">Cennik i rozliczenia</span><span class="sxs-lookup"><span data-stu-id="39ba9-140">Pricing and billing</span></span>

<span data-ttu-id="39ba9-141">Gdy uzyskujesz dostęp do obiektów blob za pośrednictwem usługi Azure CDN, płacisz [obiektu Blob magazynu ceny](https://azure.microsoft.com/pricing/details/storage/blobs/) ruchu między węzłami krawędzi i pochodzenia (magazynu obiektów Blob) i [ceny CDN](https://azure.microsoft.com/pricing/details/cdn/) dla danych dostępnych z węzłów krawędzi.</span><span class="sxs-lookup"><span data-stu-id="39ba9-141">When you access blobs through an Azure CDN, you pay [Blob storage prices](https://azure.microsoft.com/pricing/details/storage/blobs/) for traffic between the edge nodes and the origin (Blob storage), and [CDN prices](https://azure.microsoft.com/pricing/details/cdn/) for data accessed from the edge nodes.</span></span>

<span data-ttu-id="39ba9-142">Na przykład załóżmy, że konto magazynu w zachodnie stany USA, który jest uzyskiwany za pomocą usługi Azure CDN.</span><span class="sxs-lookup"><span data-stu-id="39ba9-142">For example, say you have a storage account in West US that is being accessed using an Azure CDN.</span></span> <span data-ttu-id="39ba9-143">W UK próbie dostępu obiektów blob w tym kontem magazynu za pośrednictwem sieci CDN, Azure najpierw sprawdza węzła krawędzi najbliżej UK dla tego obiektu blob.</span><span class="sxs-lookup"><span data-stu-id="39ba9-143">If someone in the UK tries to access one of the blobs in that storage account via the CDN, Azure first checks the edge node closest to the UK for that blob.</span></span> <span data-ttu-id="39ba9-144">Jeśli znaleziono, jego uzyskuje dostęp do tej kopii obiektu blob i użyje cennik usługi CDN, ponieważ jest on dostępny w sieci CDN.</span><span class="sxs-lookup"><span data-stu-id="39ba9-144">If found, it accesses that copy of the blob and will use CDN pricing, because it is being accessed on the CDN.</span></span> <span data-ttu-id="39ba9-145">Jeśli nie zostanie znaleziony, Azure spowoduje skopiowanie obiektu blob z węzłem krawędzi, która powoduje wyjście i transakcji opłat, jak określono w cen magazynu obiektów Blob, a następnie dostępu do pliku na węzeł krawędzi, co spowoduje rozliczeń CDN.</span><span class="sxs-lookup"><span data-stu-id="39ba9-145">If not found, Azure will copy the blob to the edge node, which will result in egress and transaction charges as specified in the Blob storage pricing, and then access the file on the edge node, which will result in CDN billing.</span></span>

<span data-ttu-id="39ba9-146">Podczas przeglądania [cennik usługi CDN](https://azure.microsoft.com/pricing/details/cdn/), należy pamiętać, że obsługa protokołu HTTPS dla niestandardowych nazw domen jest dostępna tylko dla usługi Azure CDN z produktów Verizon (Standard i Premium).</span><span class="sxs-lookup"><span data-stu-id="39ba9-146">When looking at the [CDN pricing page](https://azure.microsoft.com/pricing/details/cdn/), note that HTTPS support for custom domain names is only available for Azure CDN from Verizon products (Standard and Premium).</span></span>

## <a name="next-steps"></a><span data-ttu-id="39ba9-147">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="39ba9-147">Next steps</span></span>

[<span data-ttu-id="39ba9-148">Konfigurowanie niestandardowej nazwy domeny dla punktu końcowego magazynu obiektów Blob</span><span class="sxs-lookup"><span data-stu-id="39ba9-148">Configure a custom domain name for your Blob storage endpoint</span></span>](storage-custom-domain-name.md)
