---
title: "Obsługa udostępniania (CORS) zasobu pochodzenia aaaCross | Dokumentacja firmy Microsoft"
description: "Dowiedz się, jak tooenable Obsługa mechanizmu CORS hello usług magazynu Microsoft Azure."
services: storage
documentationcenter: .net
author: cbrooksmsft
manager: carmonm
editor: tysonn
ms.assetid: a0229595-5b64-4898-b8d6-fa2625ea6887
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 2/22/2017
ms.author: cbrooks
ms.openlocfilehash: 0a6ec3bf6999c5faa7f0912dc2a47921aa01d3d4
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="cross-origin-resource-sharing-cors-support-for-hello-azure-storage-services"></a><span data-ttu-id="17341-103">Obsługa udostępniania zasobów między źródłami (CORS) hello usług magazynu Azure</span><span class="sxs-lookup"><span data-stu-id="17341-103">Cross-Origin Resource Sharing (CORS) Support for hello Azure Storage Services</span></span>
<span data-ttu-id="17341-104">Począwszy od wersji 2013-08-15, hello usług Azure storage obsługuje udostępniania zasobów między źródłami (CORS) hello usług obiektów Blob, tabeli, kolejki i plików.</span><span class="sxs-lookup"><span data-stu-id="17341-104">Beginning with version 2013-08-15, hello Azure storage services support Cross-Origin Resource Sharing (CORS) for hello Blob, Table, Queue, and File services.</span></span> <span data-ttu-id="17341-105">CORS jest funkcja HTTP, która umożliwia aplikacja sieci web w jednej domenie tooaccess zasobów w innej domenie.</span><span class="sxs-lookup"><span data-stu-id="17341-105">CORS is an HTTP feature that enables a web application running under one domain tooaccess resources in another domain.</span></span> <span data-ttu-id="17341-106">Przeglądarki sieci Web zaimplementować ograniczenia zabezpieczeń znany jako [zasad samego pochodzenia](http://www.w3.org/Security/wiki/Same_Origin_Policy) uniemożliwiający strony sieci web na podstawie wywoływania interfejsów API w innej domenie; Mechanizm CORS zapewnia bezpieczny sposób tooallow jednej domeny (domena pochodzenia hello) toocall interfejsów API w innej domenie.</span><span class="sxs-lookup"><span data-stu-id="17341-106">Web browsers implement a security restriction known as [same-origin policy](http://www.w3.org/Security/wiki/Same_Origin_Policy) that prevents a web page from calling APIs in a different domain; CORS provides a secure way tooallow one domain (hello origin domain) toocall APIs in another domain.</span></span> <span data-ttu-id="17341-107">Zobacz hello [specyfikacji CORS](http://www.w3.org/TR/cors/) szczegółowe informacje dotyczące mechanizmu CORS.</span><span class="sxs-lookup"><span data-stu-id="17341-107">See hello [CORS specification](http://www.w3.org/TR/cors/) for details on CORS.</span></span>

<span data-ttu-id="17341-108">Można ustawić zasady CORS osobno dla każdego hello usługi magazynu, wywołując [ustawić właściwości usługi Blob](https://msdn.microsoft.com/library/hh452235.aspx), [ustawić właściwości usługi kolejki](https://msdn.microsoft.com/library/hh452232.aspx), i [ustawić właściwości usługi tabeli](https://msdn.microsoft.com/library/hh452240.aspx).</span><span class="sxs-lookup"><span data-stu-id="17341-108">You can set CORS rules individually for each of hello storage services, by calling [Set Blob Service Properties](https://msdn.microsoft.com/library/hh452235.aspx), [Set Queue Service Properties](https://msdn.microsoft.com/library/hh452232.aspx), and [Set Table Service Properties](https://msdn.microsoft.com/library/hh452240.aspx).</span></span> <span data-ttu-id="17341-109">Po ustawieniu hello zasady CORS usługi hello prawidłowo uwierzytelnione żądania dotyczącego usługi hello z innej domeny zostaną ocenione toodetermine czy jest dozwolone, zgodnie z toohello reguł, które określono.</span><span class="sxs-lookup"><span data-stu-id="17341-109">Once you set hello CORS rules for hello service, then a properly authenticated request made against hello service from a different domain will be evaluated toodetermine whether it is allowed according toohello rules you have specified.</span></span>

> [!NOTE]
> <span data-ttu-id="17341-110">Należy pamiętać, że CORS nie jest mechanizmem uwierzytelniania.</span><span class="sxs-lookup"><span data-stu-id="17341-110">Note that CORS is not an authentication mechanism.</span></span> <span data-ttu-id="17341-111">Wszystkie żądania dla zasobu magazynu po włączeniu CORS muszą mieć podpisu właściwe uwierzytelnienie lub musi być dokonana przed publicznego zasobów.</span><span class="sxs-lookup"><span data-stu-id="17341-111">Any request made against a storage resource when CORS is enabled must either have a proper authentication signature, or must be made against a public resource.</span></span>
> 
> 

## <a name="understanding-cors-requests"></a><span data-ttu-id="17341-112">Opis żądań CORPS</span><span class="sxs-lookup"><span data-stu-id="17341-112">Understanding CORS requests</span></span>
<span data-ttu-id="17341-113">Żądanie CORS z domeny pochodzenia może składać się z dwóch oddzielnych żądania:</span><span class="sxs-lookup"><span data-stu-id="17341-113">A CORS request from an origin domain may consist of two separate requests:</span></span>

* <span data-ttu-id="17341-114">Żądania wstępnego, który sprawdza hello CORS ograniczenia narzucone przez usługę hello.</span><span class="sxs-lookup"><span data-stu-id="17341-114">A preflight request, which queries hello CORS restrictions imposed by hello service.</span></span> <span data-ttu-id="17341-115">żądania wstępnego Hello jest wymagany, chyba że jest metoda żądania hello [prosta metoda](http://www.w3.org/TR/cors/), co oznacza, GET, HEAD lub POST.</span><span class="sxs-lookup"><span data-stu-id="17341-115">hello preflight request is required unless hello request method is a [simple method](http://www.w3.org/TR/cors/), meaning GET, HEAD, or POST.</span></span>
* <span data-ttu-id="17341-116">Hello rzeczywistego żądania, przed hello żądanego zasobu.</span><span class="sxs-lookup"><span data-stu-id="17341-116">hello actual request, made against hello desired resource.</span></span>

### <a name="preflight-request"></a><span data-ttu-id="17341-117">Żądania wstępnego</span><span class="sxs-lookup"><span data-stu-id="17341-117">Preflight request</span></span>
<span data-ttu-id="17341-118">zapytania żądania wstępnego Hello hello ograniczenia CORS, które zostały utworzone przez właściciela konta hello hello usługi magazynu.</span><span class="sxs-lookup"><span data-stu-id="17341-118">hello preflight request queries hello CORS restrictions that have been established for hello storage service by hello account owner.</span></span> <span data-ttu-id="17341-119">przeglądarki sieci web Hello (lub agenta użytkownika) wysyła żądanie opcji, która zawiera nagłówki żądań hello, metody i pochodzenia domeny.</span><span class="sxs-lookup"><span data-stu-id="17341-119">hello web browser (or other user agent) sends an OPTIONS request that includes hello request headers, method and origin domain.</span></span> <span data-ttu-id="17341-120">Usługa Magazyn Hello ocenia operacji hello przeznaczone na podstawie zestawu wstępnie skonfigurowanych reguł CORS, które określić, które domeny pochodzenia, żądań metody, a następnie nagłówki żądania można określić rzeczywistego żądania względem zasobów magazynu.</span><span class="sxs-lookup"><span data-stu-id="17341-120">hello storage service evaluates hello intended operation based on a pre-configured set of CORS rules that specify which origin domains, request methods, and request headers may be specified on an actual request against a storage resource.</span></span>

<span data-ttu-id="17341-121">Jeśli istnieje reguła CORS odpowiadający hello żądania wstępnego CORS jest włączone dla usługi hello, usługa hello odpowiedzi z kodem stanu 200 (OK) i obejmuje hello wymagane nagłówki kontroli dostępu w odpowiedzi hello.</span><span class="sxs-lookup"><span data-stu-id="17341-121">If CORS is enabled for hello service and there is a CORS rule that matches hello preflight request, hello service responds with status code 200 (OK), and includes hello required Access-Control headers in hello response.</span></span>

<span data-ttu-id="17341-122">Jeśli nie zasady CORS odpowiada hello żądania wstępnego CORS nie jest włączone dla usługi hello, usługa hello będzie odpowiadać z kodem stanu 403 (Dostęp zabroniony).</span><span class="sxs-lookup"><span data-stu-id="17341-122">If CORS is not enabled for hello service or no CORS rule matches hello preflight request, hello service will respond with status code 403 (Forbidden).</span></span>

<span data-ttu-id="17341-123">Jeśli opcje żądania nie zawiera hello hello wymagane nagłówki CORS (hello pochodzenia i nagłówki Access-Control-Request-Method), usługa hello będzie odpowiadać z kodem stanu 400 (nieprawidłowe żądanie).</span><span class="sxs-lookup"><span data-stu-id="17341-123">If hello OPTIONS request doesn't contain hello required CORS headers (hello Origin and Access-Control-Request-Method headers), hello service will respond with status code 400 (Bad request).</span></span>

<span data-ttu-id="17341-124">Należy pamiętać, że żądania wstępnego zostaną ocenione względem usługi hello (obiektów Blob, kolejki i tabeli), a nie względem hello żądanego zasobu.</span><span class="sxs-lookup"><span data-stu-id="17341-124">Note that a preflight request is evaluated against hello service (Blob, Queue, and Table) and not against hello requested resource.</span></span> <span data-ttu-id="17341-125">Właściciel konta Hello najpierw włączyć CORS jako część właściwości usługi konta hello aby hello toosucceed żądania.</span><span class="sxs-lookup"><span data-stu-id="17341-125">hello account owner must have enabled CORS as part of hello account service properties in order for hello request toosucceed.</span></span>

### <a name="actual-request"></a><span data-ttu-id="17341-126">Rzeczywistego żądania</span><span class="sxs-lookup"><span data-stu-id="17341-126">Actual request</span></span>
<span data-ttu-id="17341-127">Po zaakceptowaniu żądania wstępnego hello i hello odpowiedzi jest zwracany, przeglądarki hello wyśle hello rzeczywistego żądania względem hello zasobów magazynu.</span><span class="sxs-lookup"><span data-stu-id="17341-127">Once hello preflight request is accepted and hello response is returned, hello browser will dispatch hello actual request against hello storage resource.</span></span> <span data-ttu-id="17341-128">Przeglądarka Hello odmówi hello rzeczywistego żądania natychmiast Jeśli hello wstępnej żądanie zostanie odrzucone.</span><span class="sxs-lookup"><span data-stu-id="17341-128">hello browser will deny hello actual request immediately if hello preflight request is rejected.</span></span>

<span data-ttu-id="17341-129">rzeczywistego żądania Hello jest traktowana jako normalne żądania dotyczącego hello usługi magazynu.</span><span class="sxs-lookup"><span data-stu-id="17341-129">hello actual request is treated as normal request against hello storage service.</span></span> <span data-ttu-id="17341-130">obecność Hello hello źródła nagłówka wskazuje, że hello żądanie jest żądaniem CORS i usługa hello sprawdzi hello dopasowywania zasady CORS.</span><span class="sxs-lookup"><span data-stu-id="17341-130">hello presence of hello Origin header indicates that hello request is a CORS request and hello service will check hello matching CORS rules.</span></span> <span data-ttu-id="17341-131">W przypadku odnalezienia pasującego hello kontroli dostępu nagłówki są dodane toohello odpowiedzi i wysyłane wstecz toohello klienta.</span><span class="sxs-lookup"><span data-stu-id="17341-131">If a match is found, hello Access-Control headers are added toohello response and sent back toohello client.</span></span> <span data-ttu-id="17341-132">Jeśli nie, nie są zwracane hello nagłówki CORS Access-Control.</span><span class="sxs-lookup"><span data-stu-id="17341-132">If a match is not found, hello CORS Access-Control headers are not returned.</span></span>

## <a name="enabling-cors-for-hello-azure-storage-services"></a><span data-ttu-id="17341-133">Włączanie mechanizmu CORS dla usługi Azure Storage hello</span><span class="sxs-lookup"><span data-stu-id="17341-133">Enabling CORS for hello Azure Storage services</span></span>
<span data-ttu-id="17341-134">Zasady CORS są ustawione na poziomie usługi hello, dlatego należy tooenable lub wyłączenia CORS dla każdej usługi (obiektów Blob, kolejki i tabeli) oddzielnie.</span><span class="sxs-lookup"><span data-stu-id="17341-134">CORS rules are set at hello service level, so you need tooenable or disable CORS for each service (Blob, Queue and Table) separately.</span></span> <span data-ttu-id="17341-135">Domyślnie CORS jest wyłączone dla każdej usługi.</span><span class="sxs-lookup"><span data-stu-id="17341-135">By default, CORS is disabled for each service.</span></span> <span data-ttu-id="17341-136">tooenable CORS należy tooset hello odpowiednią usługę właściwości, za pomocą wersji 2013-08-15 lub nowszym i Dodaj właściwości usługi toohello zasady CORS.</span><span class="sxs-lookup"><span data-stu-id="17341-136">tooenable CORS, you need tooset hello appropriate service properties using version 2013-08-15 or later, and add CORS rules toohello service properties.</span></span> <span data-ttu-id="17341-137">Aby uzyskać szczegółowe informacje o tym, jak tooenable lub wyłączenia CORS dla usługi oraz sposób tooset CORS zasady, należy odwoływać się za[ustawić właściwości usługi Blob](https://msdn.microsoft.com/library/hh452235.aspx), [ustawić właściwości usługi kolejki](https://msdn.microsoft.com/library/hh452232.aspx), i [Tabela zestaw Właściwości usługi](https://msdn.microsoft.com/library/hh452240.aspx).</span><span class="sxs-lookup"><span data-stu-id="17341-137">For details about how tooenable or disable CORS for a service and how tooset CORS rules, please refer too[Set Blob Service Properties](https://msdn.microsoft.com/library/hh452235.aspx), [Set Queue Service Properties](https://msdn.microsoft.com/library/hh452232.aspx), and [Set Table Service Properties](https://msdn.microsoft.com/library/hh452240.aspx).</span></span>

<span data-ttu-id="17341-138">Poniżej przedstawiono przykładowe jednej zasady CORS określona za pomocą operacji ustawić właściwości usługi:</span><span class="sxs-lookup"><span data-stu-id="17341-138">Here is a sample of a single CORS rule, specified via a Set Service Properties operation:</span></span>

```xml
<Cors>    
    <CorsRule>
        <AllowedOrigins>http://www.contoso.com, http://www.fabrikam.com</AllowedOrigins>
        <AllowedMethods>PUT,GET</AllowedMethods>
        <AllowedHeaders>x-ms-meta-data*,x-ms-meta-target*,x-ms-meta-abc</AllowedHeaders>
        <ExposedHeaders>x-ms-meta-*</ExposedHeaders>
        <MaxAgeInSeconds>200</MaxAgeInSeconds>
    </CorsRule>
<Cors>
```

<span data-ttu-id="17341-139">Poniżej opisano każdy element uwzględnione w regule CORS hello:</span><span class="sxs-lookup"><span data-stu-id="17341-139">Each element included in hello CORS rule is described below:</span></span>

* <span data-ttu-id="17341-140">**AllowedOrigins**: hello domeny pochodzenia, które są dozwolone toomake Żądanie hello magazynu usługi za pomocą mechanizmu CORS.</span><span class="sxs-lookup"><span data-stu-id="17341-140">**AllowedOrigins**: hello origin domains that are permitted toomake a request against hello storage service via CORS.</span></span> <span data-ttu-id="17341-141">domeny pochodzenia Hello jest hello domeny, z których hello pochodzi żądanie.</span><span class="sxs-lookup"><span data-stu-id="17341-141">hello origin domain is hello domain from which hello request originates.</span></span> <span data-ttu-id="17341-142">Należy pamiętać, że hello źródła musi być identyczna z uwzględnieniem wielkości liter z pochodzenia hello hello wiek użytkownika i wysyła toohello usługi.</span><span class="sxs-lookup"><span data-stu-id="17341-142">Note that hello origin must be an exact case-sensitive match with hello origin that hello user age sends toohello service.</span></span> <span data-ttu-id="17341-143">Można również użyć znaku wieloznacznego hello ' *' tooallow wszystkie żądania toomake domeny pochodzenia za pomocą mechanizmu CORS.</span><span class="sxs-lookup"><span data-stu-id="17341-143">You can also use hello wildcard character '*' tooallow all origin domains toomake requests via CORS.</span></span> <span data-ttu-id="17341-144">W powyższym przykładzie hello, hello domen [http://www.contoso.com](http://www.contoso.com) i [http://www.fabrikam.com](http://www.fabrikam.com) mogą wysyłać żądania usługi hello przy użyciu mechanizmu CORS.</span><span class="sxs-lookup"><span data-stu-id="17341-144">In hello example above, hello domains [http://www.contoso.com](http://www.contoso.com) and [http://www.fabrikam.com](http://www.fabrikam.com) can make requests against hello service using CORS.</span></span>
* <span data-ttu-id="17341-145">**AllowedMethods**: hello metody (zlecenia HTTP żądania) tej domeny pochodzenia hello mogą używać żądania CORS.</span><span class="sxs-lookup"><span data-stu-id="17341-145">**AllowedMethods**: hello methods (HTTP request verbs) that hello origin domain may use for a CORS request.</span></span> <span data-ttu-id="17341-146">W powyższym przykładzie hello dozwolone są tylko żądania PUT i GET.</span><span class="sxs-lookup"><span data-stu-id="17341-146">In hello example above, only PUT and GET requests are permitted.</span></span>
* <span data-ttu-id="17341-147">**AllowedHeaders**: hello nagłówki żądania może określać tej domeny pochodzenia hello na powitania CORS żądania.</span><span class="sxs-lookup"><span data-stu-id="17341-147">**AllowedHeaders**: hello request headers that hello origin domain may specify on hello CORS request.</span></span> <span data-ttu-id="17341-148">W powyższym przykładzie hello wszystkie nagłówki metadanych, począwszy od x-ms metadane x-ms-meta docelowego, a x-ms-meta-abc są dozwolone.</span><span class="sxs-lookup"><span data-stu-id="17341-148">In hello example above, all metadata headers starting with x-ms-meta-data, x-ms-meta-target, and x-ms-meta-abc are permitted.</span></span> <span data-ttu-id="17341-149">Należy pamiętać, że wieloznacznego hello "*" wskazuje, że wszystkie nagłówka, począwszy od hello określić prefiks jest dozwolone.</span><span class="sxs-lookup"><span data-stu-id="17341-149">Note that hello wildcard character '*' indicates that any header beginning with hello specified prefix is allowed.</span></span>
* <span data-ttu-id="17341-150">**ExposedHeaders**: hello nagłówki odpowiedzi, które mogą być wysyłane żądania CORS toohello odpowiedzi hello i udostępniane przez hello przeglądarki toohello żądania wystawcy.</span><span class="sxs-lookup"><span data-stu-id="17341-150">**ExposedHeaders**: hello response headers that may be sent in hello response toohello CORS request and exposed by hello browser toohello request issuer.</span></span> <span data-ttu-id="17341-151">Przykład Witaj powyżej przeglądarki hello jest instrukcją tooexpose żadnych począwszy nagłówka x-ms-meta.</span><span class="sxs-lookup"><span data-stu-id="17341-151">In hello example above, hello browser is instructed tooexpose any header beginning with x-ms-meta.</span></span>
* <span data-ttu-id="17341-152">**MaxAgeInSeconds**: hello maksymalną ilość czasu przeglądarki powinien buforowania przez żądania wstępnego opcje hello.</span><span class="sxs-lookup"><span data-stu-id="17341-152">**MaxAgeInSeconds**: hello maximum amount time that a browser should cache hello preflight OPTIONS request.</span></span>

<span data-ttu-id="17341-153">Witaj usług Azure storage obsługuje określanie prefiksem nagłówków dla obu hello **AllowedHeaders** i **ExposedHeaders** elementów.</span><span class="sxs-lookup"><span data-stu-id="17341-153">hello Azure storage services support specifying prefixed headers for both hello **AllowedHeaders** and **ExposedHeaders** elements.</span></span> <span data-ttu-id="17341-154">tooallow kategorii nagłówków, można określić typowe kategorii toothat prefiks.</span><span class="sxs-lookup"><span data-stu-id="17341-154">tooallow a category of headers, you can specify a common prefix toothat category.</span></span> <span data-ttu-id="17341-155">Na przykład określenie *x-ms-meta** jako nagłówek prefiksem Określa regułę, która będzie odpowiadała wszystkie nagłówki, które zaczynają się od x-ms-meta.</span><span class="sxs-lookup"><span data-stu-id="17341-155">For example, specifying *x-ms-meta** as a prefixed header establishes a rule that will match all headers that begin with x-ms-meta.</span></span>

<span data-ttu-id="17341-156">następujące ograniczenia Hello Zastosuj reguły tooCORS:</span><span class="sxs-lookup"><span data-stu-id="17341-156">hello following limitations apply tooCORS rules:</span></span>

* <span data-ttu-id="17341-157">Możesz określić się toofive zasad CORS dla usługi magazynowania (obiektu Blob, tabel i kolejek).</span><span class="sxs-lookup"><span data-stu-id="17341-157">You can specify up toofive CORS rules per storage service (Blob, Table, and Queue).</span></span>
* <span data-ttu-id="17341-158">Witaj maksymalny rozmiar wszystkich ustawień specyfikacji CORS reguł na żądanie hello, z wyłączeniem tagi XML nie może przekraczać 2 KB.</span><span class="sxs-lookup"><span data-stu-id="17341-158">hello maximum size of all CORS rules settings on hello request, excluding XML tags, should not exceed 2 KB.</span></span>
* <span data-ttu-id="17341-159">Długość Hello nagłówku dozwolonych, narażonych nagłówka lub dozwolone pochodzenie nie może przekraczać 256 znaków.</span><span class="sxs-lookup"><span data-stu-id="17341-159">hello length of an allowed header, exposed header, or allowed origin should not exceed 256 characters.</span></span>
* <span data-ttu-id="17341-160">Dozwolone nagłówki i nagłówki narażonych mogą być:</span><span class="sxs-lookup"><span data-stu-id="17341-160">Allowed headers and exposed headers may be either:</span></span>
  * <span data-ttu-id="17341-161">Nagłówki literału, gdzie nazwa nagłówka dokładne hello podano, takich jak **x-ms-meta przetwarzane**.</span><span class="sxs-lookup"><span data-stu-id="17341-161">Literal headers, where hello exact header name is provided, such as **x-ms-meta-processed**.</span></span> <span data-ttu-id="17341-162">Można określić maksymalnie 64 literału nagłówki na powitania żądania.</span><span class="sxs-lookup"><span data-stu-id="17341-162">A maximum of 64 literal headers may be specified on hello request.</span></span>
  * <span data-ttu-id="17341-163">Prefiks nagłówków, gdy prefiks nagłówka hello jest dostępne, takich jak **x-ms-meta-data***.</span><span class="sxs-lookup"><span data-stu-id="17341-163">Prefixed headers, where a prefix of hello header is provided, such as **x-ms-meta-data***.</span></span> <span data-ttu-id="17341-164">Określenie prefiksu w ten sposób pozwala lub ujawnia żadnych nagłówek, który rozpoczyna się od hello podany prefiks.</span><span class="sxs-lookup"><span data-stu-id="17341-164">Specifying a prefix in this manner allows or exposes any header that begins with hello given prefix.</span></span> <span data-ttu-id="17341-165">Można określić maksymalnie dwa nagłówki prefiksem na powitania żądania.</span><span class="sxs-lookup"><span data-stu-id="17341-165">A maximum of two prefixed headers may be specified on hello request.</span></span>
* <span data-ttu-id="17341-166">Witaj metod (lub zlecenia HTTP) określona w hello **AllowedMethods** elementu musi być zgodna toohello metod obsługiwanych przez usługi Azure storage interfejsów API.</span><span class="sxs-lookup"><span data-stu-id="17341-166">hello methods (or HTTP verbs) specified in hello **AllowedMethods** element must conform toohello methods supported by Azure storage service APIs.</span></span> <span data-ttu-id="17341-167">Obsługiwane metody to DELETE, GET, HEAD, scalania, POST, opcje i PUT.</span><span class="sxs-lookup"><span data-stu-id="17341-167">Supported methods are DELETE, GET, HEAD, MERGE, POST, OPTIONS and PUT.</span></span>

## <a name="understanding-cors-rule-evaluation-logic"></a><span data-ttu-id="17341-168">Opis logiki oceny reguły CORS</span><span class="sxs-lookup"><span data-stu-id="17341-168">Understanding CORS rule evaluation logic</span></span>
<span data-ttu-id="17341-169">Gdy usługa Magazyn odbiera żądanie dotyczące stanu wstępnego lub rzeczywistego, ocenia tego żądania na podstawie hello CORS reguł, które zostało ustanowione dla usługi hello za pośrednictwem hello odpowiednich operacji ustawić właściwości usługi.</span><span class="sxs-lookup"><span data-stu-id="17341-169">When a storage service receives a preflight or actual request, it evaluates that request based on hello CORS rules you have established for hello service via hello appropriate Set Service Properties operation.</span></span> <span data-ttu-id="17341-170">Zasady CORS są oceniane w kolejności hello, w którym zostały ustawione w treści żądania hello hello operacji ustawić właściwości usługi.</span><span class="sxs-lookup"><span data-stu-id="17341-170">CORS rules are evaluated in hello order in which they were set in hello request body of hello Set Service Properties operation.</span></span>

<span data-ttu-id="17341-171">Zasady CORS są oceniane następująco:</span><span class="sxs-lookup"><span data-stu-id="17341-171">CORS rules are evaluated as follows:</span></span>

1. <span data-ttu-id="17341-172">Najpierw hello domeny pochodzenia żądania hello jest porównywany domen hello wymienionych dla hello **AllowedOrigins** elementu.</span><span class="sxs-lookup"><span data-stu-id="17341-172">First, hello origin domain of hello request is checked against hello domains listed for hello **AllowedOrigins** element.</span></span> <span data-ttu-id="17341-173">Domeny pochodzenia hello znajduje się na liście hello, czy wszystkie domeny są dozwolone hello symbol wieloznaczny "*", następnie zasady oceny będzie kontynuowane.</span><span class="sxs-lookup"><span data-stu-id="17341-173">If hello origin domain is included in hello list, or all domains are allowed with hello wildcard character '*', then rules evaluation proceeds.</span></span> <span data-ttu-id="17341-174">Jeśli nie dołączono hello domeny pochodzenia, hello żądanie kończy się niepowodzeniem.</span><span class="sxs-lookup"><span data-stu-id="17341-174">If hello origin domain is not included, then hello request fails.</span></span>
2. <span data-ttu-id="17341-175">Następnie metoda hello (lub zlecenie HTTP) żądania hello zostaje sprawdzony pod kątem metod hello wymienionych hello **AllowedMethods** elementu.</span><span class="sxs-lookup"><span data-stu-id="17341-175">Next, hello method (or HTTP verb) of hello request is checked against hello methods listed in hello **AllowedMethods** element.</span></span> <span data-ttu-id="17341-176">Jeśli metoda hello jest uwzględniona w liście hello, będzie kontynuowana oceny zasad; Jeśli nie, Żądanie hello nie powiedzie się.</span><span class="sxs-lookup"><span data-stu-id="17341-176">If hello method is included in hello list, then rules evaluation proceeds; if not, then hello request fails.</span></span>
3. <span data-ttu-id="17341-177">Jeśli Żądanie hello zgodny z regułą w jego domenie pochodzenia i jej metodę, tej reguły jest wybrany tooprocess hello żądania i nie dodatkowe reguły są sprawdzane.</span><span class="sxs-lookup"><span data-stu-id="17341-177">If hello request matches a rule in its origin domain and its method, that rule is selected tooprocess hello request and no further rules are evaluated.</span></span> <span data-ttu-id="17341-178">Przed żądania hello mogła zakończyć się pomyślnie, jednak wszelkie nagłówki określony w żądaniu hello są porównywane z nagłówków hello na liście hello **AllowedHeaders** elementu.</span><span class="sxs-lookup"><span data-stu-id="17341-178">Before hello request can succeed, however, any headers specified on hello request are checked against hello headers listed in hello **AllowedHeaders** element.</span></span> <span data-ttu-id="17341-179">Nagłówki hello wysyłane są niezgodne hello dozwolone nagłówki, hello żądanie kończy się niepowodzeniem.</span><span class="sxs-lookup"><span data-stu-id="17341-179">If hello headers sent do not match hello allowed headers, hello request fails.</span></span>

<span data-ttu-id="17341-180">Ponieważ hello reguły są przetwarzane w kolejności hello są obecne w treści żądania hello, najlepszym rozwiązaniem jest określenie się, że hello najbardziej restrykcyjne zasady z przestrzegania tooorigins najpierw na liście hello, dzięki czemu są one oceniane najpierw.</span><span class="sxs-lookup"><span data-stu-id="17341-180">Since hello rules are processed in hello order they are present in hello request body, best practices recommend that you specify hello most restrictive rules with respect tooorigins first in hello list, so that these are evaluated first.</span></span> <span data-ttu-id="17341-181">Określ reguły, które są mniej restrykcyjnych — na przykład reguła tooallow wszystkie pochodzenia — w końcu hello hello listy.</span><span class="sxs-lookup"><span data-stu-id="17341-181">Specify rules that are less restrictive – for example, a rule tooallow all origins – at hello end of hello list.</span></span>

### <a name="example--cors-rules-evaluation"></a><span data-ttu-id="17341-182">Przykład — CORS reguł oceny</span><span class="sxs-lookup"><span data-stu-id="17341-182">Example – CORS rules evaluation</span></span>
<span data-ttu-id="17341-183">Witaj poniższy przykład przedstawia treści żądania częściowe zasady CORS tooset operacji hello usług magazynu.</span><span class="sxs-lookup"><span data-stu-id="17341-183">hello following example shows a partial request body for an operation tooset CORS rules for hello storage services.</span></span> <span data-ttu-id="17341-184">Zobacz [ustawić właściwości usługi Blob](https://msdn.microsoft.com/library/hh452235.aspx), [ustawić właściwości usługi kolejki](https://msdn.microsoft.com/library/hh452232.aspx), i [ustawić właściwości usługi tabeli](https://msdn.microsoft.com/library/hh452240.aspx) szczegółowe informacje dotyczące konstruowania żądania hello.</span><span class="sxs-lookup"><span data-stu-id="17341-184">See [Set Blob Service Properties](https://msdn.microsoft.com/library/hh452235.aspx), [Set Queue Service Properties](https://msdn.microsoft.com/library/hh452232.aspx), and [Set Table Service Properties](https://msdn.microsoft.com/library/hh452240.aspx) for details on constructing hello request.</span></span>

```xml
<Cors>
    <CorsRule>
        <AllowedOrigins>http://www.contoso.com</AllowedOrigins>
        <AllowedMethods>PUT,HEAD</AllowedMethods>
        <MaxAgeInSeconds>5</MaxAgeInSeconds>
        <ExposedHeaders>x-ms-*</ExposedHeaders>
        <AllowedHeaders>x-ms-blob-content-type, x-ms-blob-content-disposition</AllowedHeaders>
    </CorsRule>
    <CorsRule>
        <AllowedOrigins>*</AllowedOrigins>
        <AllowedMethods>PUT,GET</AllowedMethods>
        <MaxAgeInSeconds>5</MaxAgeInSeconds>
        <ExposedHeaders>x-ms-*</ExposedHeaders>
        <AllowedHeaders>x-ms-blob-content-type, x-ms-blob-content-disposition</AllowedHeaders>
    </CorsRule>
    <CorsRule>
        <AllowedOrigins>http://www.contoso.com</AllowedOrigins>
        <AllowedMethods>GET</AllowedMethods>
        <MaxAgeInSeconds>5</MaxAgeInSeconds>
        <ExposedHeaders>x-ms-*</ExposedHeaders>
        <AllowedHeaders>x-ms-client-request-id</AllowedHeaders>
    </CorsRule>
</Cors>
```

<span data-ttu-id="17341-185">Następnie należy wziąć pod uwagę następujące żądań CORPS hello:</span><span class="sxs-lookup"><span data-stu-id="17341-185">Next, consider hello following CORS requests:</span></span>

| <span data-ttu-id="17341-186">Żądanie</span><span class="sxs-lookup"><span data-stu-id="17341-186">Request</span></span> |  |  | <span data-ttu-id="17341-187">Odpowiedź</span><span class="sxs-lookup"><span data-stu-id="17341-187">Response</span></span> |  |
| --- | --- | --- | --- | --- |
| <span data-ttu-id="17341-188">**— Metoda**</span><span class="sxs-lookup"><span data-stu-id="17341-188">**Method**</span></span> |<span data-ttu-id="17341-189">**Punkt początkowy**</span><span class="sxs-lookup"><span data-stu-id="17341-189">**Origin**</span></span> |<span data-ttu-id="17341-190">**Nagłówki żądania**</span><span class="sxs-lookup"><span data-stu-id="17341-190">**Request Headers**</span></span> |<span data-ttu-id="17341-191">**Reguła dopasowania**</span><span class="sxs-lookup"><span data-stu-id="17341-191">**Rule Match**</span></span> |<span data-ttu-id="17341-192">**Wynik**</span><span class="sxs-lookup"><span data-stu-id="17341-192">**Result**</span></span> |
| <span data-ttu-id="17341-193">**UMIEŚĆ**</span><span class="sxs-lookup"><span data-stu-id="17341-193">**PUT**</span></span> |<span data-ttu-id="17341-194">http://www.contoso.com</span><span class="sxs-lookup"><span data-stu-id="17341-194">http://www.contoso.com</span></span> |<span data-ttu-id="17341-195">x-ms-blob-content-type</span><span class="sxs-lookup"><span data-stu-id="17341-195">x-ms-blob-content-type</span></span> |<span data-ttu-id="17341-196">Pierwsza reguła</span><span class="sxs-lookup"><span data-stu-id="17341-196">First rule</span></span> |<span data-ttu-id="17341-197">Powodzenie</span><span class="sxs-lookup"><span data-stu-id="17341-197">Success</span></span> |
| <span data-ttu-id="17341-198">**POBIERZ**</span><span class="sxs-lookup"><span data-stu-id="17341-198">**GET**</span></span> |<span data-ttu-id="17341-199">http://www.contoso.com</span><span class="sxs-lookup"><span data-stu-id="17341-199">http://www.contoso.com</span></span> |<span data-ttu-id="17341-200">x-ms-blob-content-type</span><span class="sxs-lookup"><span data-stu-id="17341-200">x-ms-blob-content-type</span></span> |<span data-ttu-id="17341-201">Drugą regułę</span><span class="sxs-lookup"><span data-stu-id="17341-201">Second rule</span></span> |<span data-ttu-id="17341-202">Powodzenie</span><span class="sxs-lookup"><span data-stu-id="17341-202">Success</span></span> |
| <span data-ttu-id="17341-203">**POBIERZ**</span><span class="sxs-lookup"><span data-stu-id="17341-203">**GET**</span></span> |<span data-ttu-id="17341-204">http://www.contoso.com</span><span class="sxs-lookup"><span data-stu-id="17341-204">http://www.contoso.com</span></span> |<span data-ttu-id="17341-205">x-ms-client żądania id</span><span class="sxs-lookup"><span data-stu-id="17341-205">x-ms-client-request-id</span></span> |<span data-ttu-id="17341-206">Drugą regułę</span><span class="sxs-lookup"><span data-stu-id="17341-206">Second rule</span></span> |<span data-ttu-id="17341-207">Niepowodzenie</span><span class="sxs-lookup"><span data-stu-id="17341-207">Failure</span></span> |

<span data-ttu-id="17341-208">pierwsze żądanie Hello zgodny z regułą pierwszy hello — domeny pochodzenia hello odpowiada hello dozwolone źródła, hello — metoda dopasowuje hello dozwolone metody i nagłówek hello odpowiada hello dozwolone nagłówki — i tak zakończy się pomyślnie.</span><span class="sxs-lookup"><span data-stu-id="17341-208">hello first request matches hello first rule – hello origin domain matches hello allowed origins, hello method matches hello allowed methods, and hello header matches hello allowed headers – and so succeeds.</span></span>

<span data-ttu-id="17341-209">Hello drugie żądanie nie pasuje hello pierwszej reguły, ponieważ metoda hello jest niezgodna z hello dozwolone metody.</span><span class="sxs-lookup"><span data-stu-id="17341-209">hello second request does not match hello first rule because hello method does not match hello allowed methods.</span></span> <span data-ttu-id="17341-210">Jednak odpowiadać hello drugą regułę, dlatego próba powiedzie się.</span><span class="sxs-lookup"><span data-stu-id="17341-210">It does, however, match hello second rule, so it succeeds.</span></span>

<span data-ttu-id="17341-211">Hello trzeci żądanie jest zgodne hello drugą regułę w jego domenie pochodzenia i metody, więc nie dodatkowe reguły są sprawdzane.</span><span class="sxs-lookup"><span data-stu-id="17341-211">hello third request matches hello second rule in its origin domain and method, so no further rules are evaluated.</span></span> <span data-ttu-id="17341-212">Jednak hello *nagłówka x-ms-client żądania id* nie jest dozwolona przez hello drugą regułę, więc hello żądanie kończy się niepowodzeniem, pomimo faktu hello semantyki hello hello trzeci reguły będzie mieć możliwość go toosucceed.</span><span class="sxs-lookup"><span data-stu-id="17341-212">However, hello *x-ms-client-request-id header* is not allowed by hello second rule, so hello request fails, despite hello fact that hello semantics of hello third rule would have allowed it toosucceed.</span></span>

> [!NOTE]
> <span data-ttu-id="17341-213">Chociaż ten przykład przedstawia mniej restrykcyjnych reguł przed bardziej restrykcyjne jeden, ogólnie hello najlepszym rozwiązaniem jest najbardziej restrykcyjne zasady hello toolist najpierw.</span><span class="sxs-lookup"><span data-stu-id="17341-213">Although this example shows a less restrictive rule before a more restrictive one, in general hello best practice is toolist hello most restrictive rules first.</span></span>
> 
> 

## <a name="understanding-how-hello-vary-header-is-set"></a><span data-ttu-id="17341-214">Opis konfiguracji nagłówka Vary hello</span><span class="sxs-lookup"><span data-stu-id="17341-214">Understanding how hello Vary header is set</span></span>
<span data-ttu-id="17341-215">Witaj *Vary* nagłówek jest standardowy nagłówek HTTP/1.1 zawierający zestaw pól nagłówka żądania, które zalecamy hello agenta przeglądarki lub użytkowników o kryteriach hello, które zostały wybrane na powitania serwera tooprocess hello żądanie.</span><span class="sxs-lookup"><span data-stu-id="17341-215">hello *Vary* header is a standard HTTP/1.1 header consisting of a set of request header fields that advise hello browser or user agent about hello criteria that were selected by hello server tooprocess hello request.</span></span> <span data-ttu-id="17341-216">Witaj *Vary* nagłówka jest głównie używane do buforowania przez serwery proxy, przeglądarki i CDN, które używają jej toodetermine jak mają być buforowane odpowiedzi hello.</span><span class="sxs-lookup"><span data-stu-id="17341-216">hello *Vary* header is mainly used for caching by proxies, browsers, and CDNs, which use it toodetermine how hello response should be cached.</span></span> <span data-ttu-id="17341-217">Aby uzyskać więcej informacji, zobacz specyfikację hello na powitania [nagłówka Vary](http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html).</span><span class="sxs-lookup"><span data-stu-id="17341-217">For details, see hello specification for hello [Vary header](http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html).</span></span>

<span data-ttu-id="17341-218">Gdy hello przeglądarki lub innego agenta użytkownika buforuje hello odpowiedzi z żądania CORS, hello domeny pochodzenia są buforowane jako hello dozwolone pochodzenie.</span><span class="sxs-lookup"><span data-stu-id="17341-218">When hello browser or another user agent caches hello response from a CORS request, hello origin domain is cached as hello allowed origin.</span></span> <span data-ttu-id="17341-219">Gdy drugi problemów z domeną hello tego samego żądania dostarczenia zasobu magazynu, gdy hello pamięci podręcznej jest aktywny, agent użytkownika hello pobiera hello domeny pochodzenia pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="17341-219">When a second domain issues hello same request for a storage resource while hello cache is active, hello user agent retrieves hello cached origin domain.</span></span> <span data-ttu-id="17341-220">Hello drugiej domeny nie pasuje hello domeny pamięci podręcznej, więc Żądanie hello nie powiedzie się, gdy go w przeciwnym razie powiedzie się.</span><span class="sxs-lookup"><span data-stu-id="17341-220">hello second domain does not match hello cached domain, so hello request fails when it would otherwise succeed.</span></span> <span data-ttu-id="17341-221">W niektórych przypadkach usługi Azure Storage ustawia Nagłówek Vary hello zbyt**pochodzenia** tooinstruct hello użytkownika toosend hello kolejnych CORS żądania toohello Usługa agenta kiedy hello żąda domeny różni się od hello buforowane pochodzenia.</span><span class="sxs-lookup"><span data-stu-id="17341-221">In certain cases, Azure Storage sets hello Vary header too**Origin** tooinstruct hello user agent toosend hello subsequent CORS request toohello service when hello requesting domain differs from hello cached origin.</span></span>

<span data-ttu-id="17341-222">Magazyn Azure ustawia hello *Vary* nagłówka zbyt**pochodzenia** do rzeczywistego żądania GET/HEAD w hello w następujących przypadkach:</span><span class="sxs-lookup"><span data-stu-id="17341-222">Azure Storage sets hello *Vary* header too**Origin** for actual GET/HEAD requests in hello following cases:</span></span>

* <span data-ttu-id="17341-223">W przypadku żądania hello pochodzenia dokładnie odpowiada hello dozwolone pochodzenie zdefiniowana przez regułę CORS.</span><span class="sxs-lookup"><span data-stu-id="17341-223">When hello request origin exactly matches hello allowed origin defined by a CORS rule.</span></span> <span data-ttu-id="17341-224">toobe dokładnego dopasowania hello CORS reguły nie może zawierać symbol wieloznaczny "*" znaków.</span><span class="sxs-lookup"><span data-stu-id="17341-224">toobe an exact match, hello CORS rule may not include a wildcard ' * ' character.</span></span>
* <span data-ttu-id="17341-225">Nie istnieje żadne reguły dopasowywania hello żądanie danych pierwotnych, ale CORS jest włączone dla usługi magazynowania hello.</span><span class="sxs-lookup"><span data-stu-id="17341-225">There is no rule matching hello request origin, but CORS is enabled for hello storage service.</span></span>

<span data-ttu-id="17341-226">W przypadku hello gdzie żądania GET/HEAD zgodny z regułą CORS, który zezwala na wszystkie pochodzenia hello odpowiedź wskazuje, że wszystkie źródła są dozwolone i pamięci podręcznej agenta użytkownika hello umożliwi kolejnych żądań wysyłanych z dowolnej domeny pochodzenia, gdy hello pamięci podręcznej jest aktywny.</span><span class="sxs-lookup"><span data-stu-id="17341-226">In hello case where a GET/HEAD request matches a CORS rule that allows all origins, hello response indicates that all origins are allowed, and hello user agent cache will allow subsequent requests from any origin domain while hello cache is active.</span></span>

<span data-ttu-id="17341-227">Należy zauważyć, że dla żądania za pomocą metod innych niż GET/HEAD, usług magazynu hello zostanie nie nagłówka Vary hello, ponieważ metody toothese odpowiedzi nie są obsługiwane przez agentów użytkownika.</span><span class="sxs-lookup"><span data-stu-id="17341-227">Note that for requests using methods other than GET/HEAD, hello storage services will not set hello Vary header, since responses toothese methods are not cached by user agents.</span></span>

<span data-ttu-id="17341-228">Witaj poniższej tabeli przedstawiono sposób usługa Azure storage będzie odpowiadać na żądania tooGET/HEAD oparte na powitania wcześniej wspomniano przypadkach:</span><span class="sxs-lookup"><span data-stu-id="17341-228">hello following table indicates how Azure storage will respond tooGET/HEAD requests based on hello previously mentioned cases:</span></span>

| <span data-ttu-id="17341-229">Żądanie</span><span class="sxs-lookup"><span data-stu-id="17341-229">Request</span></span> | <span data-ttu-id="17341-230">Ustawienia konta i wyniki oceny reguły</span><span class="sxs-lookup"><span data-stu-id="17341-230">Account setting and result of rule evaluation</span></span> |  |  | <span data-ttu-id="17341-231">Odpowiedź</span><span class="sxs-lookup"><span data-stu-id="17341-231">Response</span></span> |  |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="17341-232">**Nagłówek Origin na żądanie**</span><span class="sxs-lookup"><span data-stu-id="17341-232">**Origin header present on request**</span></span> |<span data-ttu-id="17341-233">**Zasady CORS określony dla tej usługi**</span><span class="sxs-lookup"><span data-stu-id="17341-233">**CORS rule(s) specified for this service**</span></span> |<span data-ttu-id="17341-234">**Istnieje reguła dopasowywania, która zezwala na wszystkie pochodzenia (*)**</span><span class="sxs-lookup"><span data-stu-id="17341-234">**Matching rule exists that allows all origins(*)**</span></span> |<span data-ttu-id="17341-235">**Istnieje reguła dopasowywania pochodzenia dokładnego dopasowania**</span><span class="sxs-lookup"><span data-stu-id="17341-235">**Matching rule exists for exact origin match**</span></span> |<span data-ttu-id="17341-236">**Odpowiedź zawiera tooOrigin zestaw nagłówka Vary**</span><span class="sxs-lookup"><span data-stu-id="17341-236">**Response includes Vary header set tooOrigin**</span></span> |<span data-ttu-id="17341-237">**Odpowiedź zawiera Access-Control-dozwolone-Origin: "*"**</span><span class="sxs-lookup"><span data-stu-id="17341-237">**Response includes Access-Control-Allowed-Origin: "*"**</span></span> |<span data-ttu-id="17341-238">**Odpowiedź zawiera Access-Control-widoczne-Headers**</span><span class="sxs-lookup"><span data-stu-id="17341-238">**Response includes Access-Control-Exposed-Headers**</span></span> |
| <span data-ttu-id="17341-239">Nie</span><span class="sxs-lookup"><span data-stu-id="17341-239">No</span></span> |<span data-ttu-id="17341-240">Nie</span><span class="sxs-lookup"><span data-stu-id="17341-240">No</span></span> |<span data-ttu-id="17341-241">Nie</span><span class="sxs-lookup"><span data-stu-id="17341-241">No</span></span> |<span data-ttu-id="17341-242">Nie</span><span class="sxs-lookup"><span data-stu-id="17341-242">No</span></span> |<span data-ttu-id="17341-243">Nie</span><span class="sxs-lookup"><span data-stu-id="17341-243">No</span></span> |<span data-ttu-id="17341-244">Nie</span><span class="sxs-lookup"><span data-stu-id="17341-244">No</span></span> |<span data-ttu-id="17341-245">Nie</span><span class="sxs-lookup"><span data-stu-id="17341-245">No</span></span> |
| <span data-ttu-id="17341-246">Nie</span><span class="sxs-lookup"><span data-stu-id="17341-246">No</span></span> |<span data-ttu-id="17341-247">Tak</span><span class="sxs-lookup"><span data-stu-id="17341-247">Yes</span></span> |<span data-ttu-id="17341-248">Nie</span><span class="sxs-lookup"><span data-stu-id="17341-248">No</span></span> |<span data-ttu-id="17341-249">Nie</span><span class="sxs-lookup"><span data-stu-id="17341-249">No</span></span> |<span data-ttu-id="17341-250">Tak</span><span class="sxs-lookup"><span data-stu-id="17341-250">Yes</span></span> |<span data-ttu-id="17341-251">Nie</span><span class="sxs-lookup"><span data-stu-id="17341-251">No</span></span> |<span data-ttu-id="17341-252">Nie</span><span class="sxs-lookup"><span data-stu-id="17341-252">No</span></span> |
| <span data-ttu-id="17341-253">Nie</span><span class="sxs-lookup"><span data-stu-id="17341-253">No</span></span> |<span data-ttu-id="17341-254">Tak</span><span class="sxs-lookup"><span data-stu-id="17341-254">Yes</span></span> |<span data-ttu-id="17341-255">Tak</span><span class="sxs-lookup"><span data-stu-id="17341-255">Yes</span></span> |<span data-ttu-id="17341-256">Nie</span><span class="sxs-lookup"><span data-stu-id="17341-256">No</span></span> |<span data-ttu-id="17341-257">Nie</span><span class="sxs-lookup"><span data-stu-id="17341-257">No</span></span> |<span data-ttu-id="17341-258">Tak</span><span class="sxs-lookup"><span data-stu-id="17341-258">Yes</span></span> |<span data-ttu-id="17341-259">Tak</span><span class="sxs-lookup"><span data-stu-id="17341-259">Yes</span></span> |
| <span data-ttu-id="17341-260">Tak</span><span class="sxs-lookup"><span data-stu-id="17341-260">Yes</span></span> |<span data-ttu-id="17341-261">Nie</span><span class="sxs-lookup"><span data-stu-id="17341-261">No</span></span> |<span data-ttu-id="17341-262">Nie</span><span class="sxs-lookup"><span data-stu-id="17341-262">No</span></span> |<span data-ttu-id="17341-263">Nie</span><span class="sxs-lookup"><span data-stu-id="17341-263">No</span></span> |<span data-ttu-id="17341-264">Nie</span><span class="sxs-lookup"><span data-stu-id="17341-264">No</span></span> |<span data-ttu-id="17341-265">Nie</span><span class="sxs-lookup"><span data-stu-id="17341-265">No</span></span> |<span data-ttu-id="17341-266">Nie</span><span class="sxs-lookup"><span data-stu-id="17341-266">No</span></span> |
| <span data-ttu-id="17341-267">Tak</span><span class="sxs-lookup"><span data-stu-id="17341-267">Yes</span></span> |<span data-ttu-id="17341-268">Tak</span><span class="sxs-lookup"><span data-stu-id="17341-268">Yes</span></span> |<span data-ttu-id="17341-269">Nie</span><span class="sxs-lookup"><span data-stu-id="17341-269">No</span></span> |<span data-ttu-id="17341-270">Tak</span><span class="sxs-lookup"><span data-stu-id="17341-270">Yes</span></span> |<span data-ttu-id="17341-271">Tak</span><span class="sxs-lookup"><span data-stu-id="17341-271">Yes</span></span> |<span data-ttu-id="17341-272">Nie</span><span class="sxs-lookup"><span data-stu-id="17341-272">No</span></span> |<span data-ttu-id="17341-273">Tak</span><span class="sxs-lookup"><span data-stu-id="17341-273">Yes</span></span> |
| <span data-ttu-id="17341-274">Tak</span><span class="sxs-lookup"><span data-stu-id="17341-274">Yes</span></span> |<span data-ttu-id="17341-275">Tak</span><span class="sxs-lookup"><span data-stu-id="17341-275">Yes</span></span> |<span data-ttu-id="17341-276">Nie</span><span class="sxs-lookup"><span data-stu-id="17341-276">No</span></span> |<span data-ttu-id="17341-277">Nie</span><span class="sxs-lookup"><span data-stu-id="17341-277">No</span></span> |<span data-ttu-id="17341-278">Tak</span><span class="sxs-lookup"><span data-stu-id="17341-278">Yes</span></span> |<span data-ttu-id="17341-279">Nie</span><span class="sxs-lookup"><span data-stu-id="17341-279">No</span></span> |<span data-ttu-id="17341-280">Nie</span><span class="sxs-lookup"><span data-stu-id="17341-280">No</span></span> |
| <span data-ttu-id="17341-281">Tak</span><span class="sxs-lookup"><span data-stu-id="17341-281">Yes</span></span> |<span data-ttu-id="17341-282">Tak</span><span class="sxs-lookup"><span data-stu-id="17341-282">Yes</span></span> |<span data-ttu-id="17341-283">Tak</span><span class="sxs-lookup"><span data-stu-id="17341-283">Yes</span></span> |<span data-ttu-id="17341-284">Nie</span><span class="sxs-lookup"><span data-stu-id="17341-284">No</span></span> |<span data-ttu-id="17341-285">Nie</span><span class="sxs-lookup"><span data-stu-id="17341-285">No</span></span> |<span data-ttu-id="17341-286">Tak</span><span class="sxs-lookup"><span data-stu-id="17341-286">Yes</span></span> |<span data-ttu-id="17341-287">Tak</span><span class="sxs-lookup"><span data-stu-id="17341-287">Yes</span></span> |

## <a name="billing-for-cors-requests"></a><span data-ttu-id="17341-288">Rozliczeń dla żądań CORS</span><span class="sxs-lookup"><span data-stu-id="17341-288">Billing for CORS requests</span></span>
<span data-ttu-id="17341-289">Inspekcja pomyślnych żądań są rozliczane włączenie mechanizmu CORS dla usług magazynu hello konta (wywołując [ustawić właściwości usługi Blob](https://msdn.microsoft.com/library/hh452235.aspx), [ustawić właściwości usługi kolejki](https://msdn.microsoft.com/library/hh452232.aspx), lub [ Ustaw właściwości usługi tabeli](https://msdn.microsoft.com/library/hh452240.aspx)).</span><span class="sxs-lookup"><span data-stu-id="17341-289">Successful preflight requests are billed if you have enabled CORS for any of hello storage services for your account (by calling [Set Blob Service Properties](https://msdn.microsoft.com/library/hh452235.aspx), [Set Queue Service Properties](https://msdn.microsoft.com/library/hh452232.aspx), or [Set Table Service Properties](https://msdn.microsoft.com/library/hh452240.aspx)).</span></span> <span data-ttu-id="17341-290">toominimize opłat, rozważ ustawienie hello **MaxAgeInSeconds** element z CORS zasady tooa duża wartość tak, aby hello agenta użytkownika buforuje żądania hello.</span><span class="sxs-lookup"><span data-stu-id="17341-290">toominimize charges, consider setting hello **MaxAgeInSeconds** element in your CORS rules tooa large value so that hello user agent caches hello request.</span></span>

<span data-ttu-id="17341-291">Niepomyślnych żądań wstępnych nie będą naliczane.</span><span class="sxs-lookup"><span data-stu-id="17341-291">Unsuccessful preflight requests will not be billed.</span></span>

## <a name="next-steps"></a><span data-ttu-id="17341-292">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="17341-292">Next steps</span></span>
[<span data-ttu-id="17341-293">Ustaw właściwości usługi Blob</span><span class="sxs-lookup"><span data-stu-id="17341-293">Set Blob Service Properties</span></span>](https://msdn.microsoft.com/library/hh452235.aspx)

[<span data-ttu-id="17341-294">Ustaw właściwości usługi kolejki</span><span class="sxs-lookup"><span data-stu-id="17341-294">Set Queue Service Properties</span></span>](https://msdn.microsoft.com/library/hh452232.aspx)

[<span data-ttu-id="17341-295">Ustaw właściwości usługi tabel</span><span class="sxs-lookup"><span data-stu-id="17341-295">Set Table Service Properties</span></span>](https://msdn.microsoft.com/library/hh452240.aspx)

[<span data-ttu-id="17341-296">W3C Cross-Origin Resource Sharing specyfikacji</span><span class="sxs-lookup"><span data-stu-id="17341-296">W3C Cross-Origin Resource Sharing Specification</span></span>](http://www.w3.org/TR/cors/)

