---
title: "Zarządzanie współbieżnością w usłudze Microsoft Azure Storage"
description: "Jak zarządzać współbieżności dla usług obiektów Blob, kolejki, tabel i plików"
services: storage
documentationcenter: 
author: jasontang501
manager: tadb
editor: tysonn
ms.assetid: cc6429c4-23ee-46e3-b22d-50dd68bd4680
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 05/11/2017
ms.author: jasontang501
ms.openlocfilehash: 8b894af2f15cd22f04701c545d8250e20b99a094
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 07/11/2017
---
# <a name="managing-concurrency-in-microsoft-azure-storage"></a><span data-ttu-id="4af69-103">Zarządzanie współbieżnością w usłudze Microsoft Azure Storage</span><span class="sxs-lookup"><span data-stu-id="4af69-103">Managing Concurrency in Microsoft Azure Storage</span></span>
## <a name="overview"></a><span data-ttu-id="4af69-104">Omówienie</span><span class="sxs-lookup"><span data-stu-id="4af69-104">Overview</span></span>
<span data-ttu-id="4af69-105">Nowoczesne aplikacje internetowe, na podstawie zwykle mają wielu użytkowników, wyświetlanie i aktualizowanie danych jednocześnie.</span><span class="sxs-lookup"><span data-stu-id="4af69-105">Modern Internet based applications usually have multiple users viewing and updating data simultaneously.</span></span> <span data-ttu-id="4af69-106">Wymaga to deweloperom aplikacji dokładnie traktować jak zapewnia przewidywalną środowisko dla użytkowników końcowych, szczególnie w przypadku scenariuszy, w którym wielu użytkowników można aktualizować tych samych danych.</span><span class="sxs-lookup"><span data-stu-id="4af69-106">This requires application developers to think carefully about how to provide a predictable experience to their end users, particularly for scenarios where multiple users can update the same data.</span></span> <span data-ttu-id="4af69-107">Istnieją trzy Strategie współbieżności danych głównych, którą deweloperzy będą zwykle należy wziąć pod uwagę:</span><span class="sxs-lookup"><span data-stu-id="4af69-107">There are three main data concurrency strategies developers will typically consider:</span></span>  

1. <span data-ttu-id="4af69-108">Optymistycznej współbieżności — aplikacji wykonywanie aktualizacji w ramach jego aktualizacji sprawdzi, czy dane zostały zmienione od aplikacji ostatniego odczytu danych.</span><span class="sxs-lookup"><span data-stu-id="4af69-108">Optimistic concurrency – An application performing an update will as part of its update verify if the data has changed since the application last read that data.</span></span> <span data-ttu-id="4af69-109">Na przykład jeśli dwóch użytkowników wyświetlania strony typu wiki aktualizacji do tej samej stronie wiki platformy musi upewnij Druga aktualizacja nie zastępuje pierwszą aktualizacją — i użytkownicy dokładnie, czy ich aktualizacja zakończyła się powodzeniem.</span><span class="sxs-lookup"><span data-stu-id="4af69-109">For example, if two users viewing a wiki page make an update to the same page then the wiki platform must ensure that the second update does not overwrite the first update – and that both users understand whether their update was successful or not.</span></span> <span data-ttu-id="4af69-110">Ta strategia jest najczęściej używana w aplikacji sieci web.</span><span class="sxs-lookup"><span data-stu-id="4af69-110">This strategy is most often used in web applications.</span></span>
2. <span data-ttu-id="4af69-111">Pesymistyczne współbieżności — wyszukiwanie do przeprowadzenia aktualizacji aplikacji potrwa blokady obiektu uniemożliwia innym użytkownikom aktualizowanie danych do czasu zwolnienia blokady.</span><span class="sxs-lookup"><span data-stu-id="4af69-111">Pessimistic concurrency – An application looking to perform an update will take a lock on an object preventing other users from updating the data until the lock is released.</span></span> <span data-ttu-id="4af69-112">Na przykład w przypadku replikacji danych główny/podległy gdzie tylko wzorcu wykona aktualizacje wzorca zwykle wstrzymuje wyłącznej blokady przez dłuższy czas na dane upewnij się, że nikt go zaktualizować.</span><span class="sxs-lookup"><span data-stu-id="4af69-112">For example, in a master/slave data replication scenario where only the master will perform updates the master will typically hold an exclusive lock for an extended period of time on the data to ensure no one else can update it.</span></span>
3. <span data-ttu-id="4af69-113">Ostatni składnik zapisywania usługi wins — metody, która umożliwia żadnych operacji aktualizacji kontynuować bez sprawdzenia, czy inna aplikacja zaktualizował dane od aplikacji najpierw odczytać danych.</span><span class="sxs-lookup"><span data-stu-id="4af69-113">Last writer wins – An approach that allows any update operations to proceed without verifying if any other application has updated the data since the application first read the data.</span></span> <span data-ttu-id="4af69-114">Tej strategii (lub brak posiadanie strategii) jest zwykle używany, gdy dane są podzielone na partycje w taki sposób, że nie istnieje prawdopodobieństwo czy użytkownicy będą uzyskiwać dostęp do tych samych danych.</span><span class="sxs-lookup"><span data-stu-id="4af69-114">This strategy (or lack of a formal strategy) is usually used where data is partitioned in such a way that there is no likelihood that multiple users will access the same data.</span></span> <span data-ttu-id="4af69-115">Może również być przydatne przetransferowane przetwarzania strumieni danych w krótkim okresie.</span><span class="sxs-lookup"><span data-stu-id="4af69-115">It can also be useful where short-lived data streams are being processed.</span></span>  

<span data-ttu-id="4af69-116">Ten artykuł zawiera omówienie sposobu platformy Azure Storage upraszcza tworzenie, zapewniając obsługę pierwszej klasie wszystkie trzy Strategie współbieżności.</span><span class="sxs-lookup"><span data-stu-id="4af69-116">This article provides an overview of how the Azure Storage platform simplifies development by providing first class support for all three of these concurrency strategies.</span></span>  

## <a name="azure-storage--simplifies-cloud-development"></a><span data-ttu-id="4af69-117">Usługa Azure Storage — upraszcza tworzenie chmury</span><span class="sxs-lookup"><span data-stu-id="4af69-117">Azure Storage – Simplifies Cloud Development</span></span>
<span data-ttu-id="4af69-118">Usługi magazynu platformy Azure obsługuje wszystkie trzy strategie, chociaż jest charakterystyczny możliwości zapewniają pełną obsługę dla optymistycznej i pesymistyczne współbieżności, ponieważ został zaprojektowany do modelu wysoki poziom spójności, który gwarantuje, że Usługa magazynu zatwierdza wstawiania danych lub operacji aktualizacji wszystkich dalszych dostępów do że dane zostaną wyświetlone najnowszej aktualizacji.</span><span class="sxs-lookup"><span data-stu-id="4af69-118">The Azure storage service supports all three strategies, although it is distinctive in its ability to provide full support for optimistic and pessimistic concurrency because it was designed to embrace a strong consistency model which guarantees that when the Storage service commits a data insert or update operation all further accesses to that data will see the latest update.</span></span> <span data-ttu-id="4af69-119">Platformy magazynu, które używają modelu spójność ostateczna ma zwłokę między podczas zapisu jest wykonywane przez jednego użytkownika i zaktualizowane dane są widoczne dla innych użytkowników, w związku z tym komplikując rozwoju aplikacji klienckich, aby uniknąć niespójności wpływu na użytkowników końcowych.</span><span class="sxs-lookup"><span data-stu-id="4af69-119">Storage platforms that use an eventual consistency model have a lag between when a write is performed by one user and when the updated data can be seen by other users thus complicating development of client applications in order to prevent inconsistencies from affecting end users.</span></span>  

<span data-ttu-id="4af69-120">Także wybrać strategii współbieżności odpowiednie deweloperzy należy wziąć pod uwagę sposób platforma magazynu izoluje zmian — szczególnie zmian do tego samego obiektu w transakcji.</span><span class="sxs-lookup"><span data-stu-id="4af69-120">In addition to selecting an appropriate concurrency strategy developers should also be aware of how a storage platform isolates changes – particularly changes to the same object across transactions.</span></span> <span data-ttu-id="4af69-121">Usługi magazynu Azure używa izolacji migawki umożliwiają operacji odczytu równocześnie z operacji zapisu w obrębie jednej partycji.</span><span class="sxs-lookup"><span data-stu-id="4af69-121">The Azure storage service uses snapshot isolation to allow read operations to happen concurrently with write operations within a single partition.</span></span> <span data-ttu-id="4af69-122">W przeciwieństwie do innych poziomach izolacji izolacji migawki gwarantuje, wszystkie operacje odczytu Zobacz migawkę spójności danych, nawet wtedy, gdy aktualizacje są wykonywane — zasadniczo zwracając ostatnie wartości przekazane podczas aktualizacji przetwarzania transakcji.</span><span class="sxs-lookup"><span data-stu-id="4af69-122">Unlike other isolation levels, snapshot isolation guarantees that all reads see a consistent snapshot of the data even while updates are occurring – essentially by returning the last committed values while an update transaction is being processed.</span></span>  

## <a name="managing-concurrency-in-blob-storage"></a><span data-ttu-id="4af69-123">Zarządzanie współbieżność w magazynie obiektów Blob</span><span class="sxs-lookup"><span data-stu-id="4af69-123">Managing Concurrency in Blob storage</span></span>
<span data-ttu-id="4af69-124">Można zdecydować się na użycie albo modelami współbieżności optymistycznej lub pesymistyczne zarządzanie dostępem do obiektów blob i kontenerów w usłudze obiektów blob.</span><span class="sxs-lookup"><span data-stu-id="4af69-124">You can opt to use either optimistic or pessimistic concurrency models to manage access to blobs and containers in the blob service.</span></span> <span data-ttu-id="4af69-125">Jeśli nie zostanie jawnie wins strategii ostatniego zapisu jest ustawieniem domyślnym.</span><span class="sxs-lookup"><span data-stu-id="4af69-125">If you do not explicitly specify a strategy last writes wins is the default.</span></span>  

### <a name="optimistic-concurrency-for-blobs-and-containers"></a><span data-ttu-id="4af69-126">Optymistycznej współbieżności dla obiektów blob i kontenerów</span><span class="sxs-lookup"><span data-stu-id="4af69-126">Optimistic concurrency for blobs and containers</span></span>
<span data-ttu-id="4af69-127">Usługa magazynu przypisuje identyfikator każdego obiektu przechowywane.</span><span class="sxs-lookup"><span data-stu-id="4af69-127">The Storage service assigns an identifier to every object stored.</span></span> <span data-ttu-id="4af69-128">Ten identyfikator jest aktualizowana każdorazowo operacji aktualizacji jest wykonywana na obiekt.</span><span class="sxs-lookup"><span data-stu-id="4af69-128">This identifier is updated every time an update operation is performed on an object.</span></span> <span data-ttu-id="4af69-129">Identyfikator jest zwracana do klienta jako część odpowiedź HTTP GET, przy użyciu nagłówka ETag (tag jednostki), który jest zdefiniowany w ramach protokołu HTTP.</span><span class="sxs-lookup"><span data-stu-id="4af69-129">The identifier is returned to the client as part of an HTTP GET response using the ETag (entity tag) header that is defined within the HTTP protocol.</span></span> <span data-ttu-id="4af69-130">Użytkownik przeprowadzania aktualizacji na taki obiekt może wysłać w oryginalnym ETag oraz nagłówek warunkowy, aby upewnić się, że aktualizacja tylko wówczas, gdy spełnione pewne warunki — w takim przypadku warunku jest nagłówek "If-Match", która wymaga usługi magazynu do  Upewnij się, że wartość ETag określony w żądaniu aktualizacji jest taka sama, jak przechowywany w usłudze magazynu.</span><span class="sxs-lookup"><span data-stu-id="4af69-130">A user performing an update on such an object can send in the original ETag along with a conditional header to ensure that an update will only occur if a certain condition has been met – in this case the condition is an "If-Match" header which requires the Storage Service to ensure the value of the ETag specified in the update request is the same as that stored in the Storage Service.</span></span>  

<span data-ttu-id="4af69-131">Konspekt tego procesu jest następujący:</span><span class="sxs-lookup"><span data-stu-id="4af69-131">The outline of this process is as follows:</span></span>  

1. <span data-ttu-id="4af69-132">Pobieranie obiektu blob z usługą Magazyn, odpowiedź zawiera wartość nagłówka ETag HTTP, która identyfikuje bieżąca wersja obiektu w usłudze magazynowania.</span><span class="sxs-lookup"><span data-stu-id="4af69-132">Retrieve a blob from the storage service, the response includes an HTTP ETag Header value that identifies the current version of the object in the storage service.</span></span>
2. <span data-ttu-id="4af69-133">Podczas aktualizacji obiektu blob obejmują wartość ETag otrzymane w kroku 1 w **If-Match** nagłówek warunkowy żądania wysyłane do usługi.</span><span class="sxs-lookup"><span data-stu-id="4af69-133">When you update the blob, include the ETag value you received in step 1 in the **If-Match** conditional header of the request you send to the service.</span></span>
3. <span data-ttu-id="4af69-134">Usługa porównuje wartość ETag w żądaniu z bieżącej wartości ETag obiektu blob.</span><span class="sxs-lookup"><span data-stu-id="4af69-134">The service compares the ETag value in the request with the current ETag value of the blob.</span></span>
4. <span data-ttu-id="4af69-135">Jeśli do bieżącej wartości ETag obiektu blob jest w innej wersji niż ETag w **If-Match** warunkowego nagłówka w żądaniu, usługa zwraca błąd 412 do klienta.</span><span class="sxs-lookup"><span data-stu-id="4af69-135">If the current ETag value of the blob is a different version than the ETag in the **If-Match** conditional header in the request, the service returns a 412 error to the client.</span></span> <span data-ttu-id="4af69-136">Oznacza to klientowi inny proces zaktualizował obiektu blob od momentu pobrany klient.</span><span class="sxs-lookup"><span data-stu-id="4af69-136">This indicates to the client that another process has updated the blob since the client retrieved it.</span></span>
5. <span data-ttu-id="4af69-137">Jeśli do bieżącej wartości ETag obiektu blob jest w tej samej wersji co ETag w **If-Match** warunkowego nagłówka w żądaniu, usługa wykonuje żądanej operacji i aktualizuje bieżącej wartości ETag obiektu blob, aby wyświetlić jego utworzeniu nowej wersji.</span><span class="sxs-lookup"><span data-stu-id="4af69-137">If the current ETag value of the blob is the same version as the ETag in the **If-Match** conditional header in the request, the service performs the requested operation and updates the current ETag value of the blob to show that it has created a new version.</span></span>  

<span data-ttu-id="4af69-138">Poniższy fragment C# (za pomocą biblioteki klienta usługi Storage 4.2.0) zawiera prosty przykład sposobu tworzenia **AccessCondition If-Match** na podstawie wartości ETag, który jest dostępny z właściwości obiektu blob, który został wcześniej pobrany lub wstawić.</span><span class="sxs-lookup"><span data-stu-id="4af69-138">The following C# snippet (using the Client Storage Library 4.2.0) shows a simple example of how to construct an **If-Match AccessCondition** based on the ETag value that is accessed from the properties of a blob that was previously either retrieved or inserted.</span></span> <span data-ttu-id="4af69-139">Następnie używa **AccessCondition** obiektu podczas jej aktualizowania obiektu blob: **AccessCondition** dodaje obiekt **If-Match** nagłówka żądania.</span><span class="sxs-lookup"><span data-stu-id="4af69-139">It then uses the **AccessCondition** object when it updating the blob: the **AccessCondition** object adds the **If-Match** header to the request.</span></span> <span data-ttu-id="4af69-140">Jeśli inny proces zaktualizował obiektu blob, usługa blob zwraca komunikat stanu HTTP 412 (warunek wstępny nie powiodła się.).</span><span class="sxs-lookup"><span data-stu-id="4af69-140">If another process has updated the blob, the blob service returns an HTTP 412 (Precondition Failed) status message.</span></span> <span data-ttu-id="4af69-141">Pełny przykład można pobrać: [współbieżności zarządzania przy użyciu usługi Azure Storage](http://code.msdn.microsoft.com/Managing-Concurrency-using-56018114).</span><span class="sxs-lookup"><span data-stu-id="4af69-141">You can download the full sample here: [Managing Concurrency using Azure Storage](http://code.msdn.microsoft.com/Managing-Concurrency-using-56018114).</span></span>  

```csharp
// Retrieve the ETag from the newly created blob
// Etag is already populated as UploadText should cause a PUT Blob call
// to storage blob service which returns the etag in response.
string orignalETag = blockBlob.Properties.ETag;

// This code simulates an update by a third party.
string helloText = "Blob updated by a third party.";

// No etag, provided so orignal blob is overwritten (thus generating a new etag)
blockBlob.UploadText(helloText);
Console.WriteLine("Blob updated. Updated ETag = {0}",
blockBlob.Properties.ETag);

// Now try to update the blob using the orignal ETag provided when the blob was created
try
{
    Console.WriteLine("Trying to update blob using orignal etag to generate if-match access condition");
    blockBlob.UploadText(helloText,accessCondition:
    AccessCondition.GenerateIfMatchCondition(orignalETag));
}
catch (StorageException ex)
{
    if (ex.RequestInformation.HttpStatusCode == (int)HttpStatusCode.PreconditionFailed)
    {
        Console.WriteLine("Precondition failure as expected. Blob's orignal etag no longer matches");
        // TODO: client can decide on how it wants to handle the 3rd party updated content.
    }
    else
        throw;
}  
```

<span data-ttu-id="4af69-142">Usługa magazynu obejmuje również obsługę dodatkowych nagłówków warunkowego takich jak **If-Modified-Since**, **If-Unmodified-Since** i **If-None-Match** oraz ich kombinacji.</span><span class="sxs-lookup"><span data-stu-id="4af69-142">The Storage Service also includes support for additional conditional headers such as **If-Modified-Since**, **If-Unmodified-Since** and **If-None-Match** as well as combinations thereof.</span></span> <span data-ttu-id="4af69-143">Aby uzyskać więcej informacji, zobacz [określenie warunkowego nagłówki dla operacji usługi Blob](http://msdn.microsoft.com/library/azure/dd179371.aspx) w witrynie MSDN.</span><span class="sxs-lookup"><span data-stu-id="4af69-143">For more information see [Specifying Conditional Headers for Blob Service Operations](http://msdn.microsoft.com/library/azure/dd179371.aspx) on MSDN.</span></span>  

<span data-ttu-id="4af69-144">W poniższej tabeli przedstawiono operacje kontenera, które warunkowego nagłówków accept takich jak **If-Match** w żądaniu, które zwracają wartość ETag w odpowiedzi.</span><span class="sxs-lookup"><span data-stu-id="4af69-144">The following table summarizes the container operations that accept conditional headers such as **If-Match** in the request and that return an ETag value in the response.</span></span>  

| <span data-ttu-id="4af69-145">Operacja</span><span class="sxs-lookup"><span data-stu-id="4af69-145">Operation</span></span> | <span data-ttu-id="4af69-146">Zwraca wartość ETag kontenera</span><span class="sxs-lookup"><span data-stu-id="4af69-146">Returns Container ETag value</span></span> | <span data-ttu-id="4af69-147">Akceptuje warunkowego nagłówki</span><span class="sxs-lookup"><span data-stu-id="4af69-147">Accepts conditional headers</span></span> |
|:--- |:--- |:--- |
| <span data-ttu-id="4af69-148">Tworzenie kontenera</span><span class="sxs-lookup"><span data-stu-id="4af69-148">Create Container</span></span> |<span data-ttu-id="4af69-149">Tak</span><span class="sxs-lookup"><span data-stu-id="4af69-149">Yes</span></span> |<span data-ttu-id="4af69-150">Nie</span><span class="sxs-lookup"><span data-stu-id="4af69-150">No</span></span> |
| <span data-ttu-id="4af69-151">Pobierz właściwości kontenera</span><span class="sxs-lookup"><span data-stu-id="4af69-151">Get Container Properties</span></span> |<span data-ttu-id="4af69-152">Tak</span><span class="sxs-lookup"><span data-stu-id="4af69-152">Yes</span></span> |<span data-ttu-id="4af69-153">Nie</span><span class="sxs-lookup"><span data-stu-id="4af69-153">No</span></span> |
| <span data-ttu-id="4af69-154">Pobranie metadanych kontenera</span><span class="sxs-lookup"><span data-stu-id="4af69-154">Get Container Metadata</span></span> |<span data-ttu-id="4af69-155">Tak</span><span class="sxs-lookup"><span data-stu-id="4af69-155">Yes</span></span> |<span data-ttu-id="4af69-156">Nie</span><span class="sxs-lookup"><span data-stu-id="4af69-156">No</span></span> |
| <span data-ttu-id="4af69-157">Ustaw metadanych kontenera</span><span class="sxs-lookup"><span data-stu-id="4af69-157">Set Container Metadata</span></span> |<span data-ttu-id="4af69-158">Tak</span><span class="sxs-lookup"><span data-stu-id="4af69-158">Yes</span></span> |<span data-ttu-id="4af69-159">Tak</span><span class="sxs-lookup"><span data-stu-id="4af69-159">Yes</span></span> |
| <span data-ttu-id="4af69-160">Pobierz ACL kontenera</span><span class="sxs-lookup"><span data-stu-id="4af69-160">Get Container ACL</span></span> |<span data-ttu-id="4af69-161">Tak</span><span class="sxs-lookup"><span data-stu-id="4af69-161">Yes</span></span> |<span data-ttu-id="4af69-162">Nie</span><span class="sxs-lookup"><span data-stu-id="4af69-162">No</span></span> |
| <span data-ttu-id="4af69-163">Ustaw ACL kontenera</span><span class="sxs-lookup"><span data-stu-id="4af69-163">Set Container ACL</span></span> |<span data-ttu-id="4af69-164">Tak</span><span class="sxs-lookup"><span data-stu-id="4af69-164">Yes</span></span> |<span data-ttu-id="4af69-165">Tak (*)</span><span class="sxs-lookup"><span data-stu-id="4af69-165">Yes (*)</span></span> |
| <span data-ttu-id="4af69-166">Usunąć kontenera</span><span class="sxs-lookup"><span data-stu-id="4af69-166">Delete Container</span></span> |<span data-ttu-id="4af69-167">Nie</span><span class="sxs-lookup"><span data-stu-id="4af69-167">No</span></span> |<span data-ttu-id="4af69-168">Tak</span><span class="sxs-lookup"><span data-stu-id="4af69-168">Yes</span></span> |
| <span data-ttu-id="4af69-169">Kontener dzierżawy</span><span class="sxs-lookup"><span data-stu-id="4af69-169">Lease Container</span></span> |<span data-ttu-id="4af69-170">Tak</span><span class="sxs-lookup"><span data-stu-id="4af69-170">Yes</span></span> |<span data-ttu-id="4af69-171">Tak</span><span class="sxs-lookup"><span data-stu-id="4af69-171">Yes</span></span> |
| <span data-ttu-id="4af69-172">Lista obiektów blob</span><span class="sxs-lookup"><span data-stu-id="4af69-172">List Blobs</span></span> |<span data-ttu-id="4af69-173">Nie</span><span class="sxs-lookup"><span data-stu-id="4af69-173">No</span></span> |<span data-ttu-id="4af69-174">Nie</span><span class="sxs-lookup"><span data-stu-id="4af69-174">No</span></span> |

<span data-ttu-id="4af69-175">(*) Uprawnienia określone przez SetContainerACL znajdują się w pamięci podręcznej i aktualizacje te uprawnienia potrwać 30 sekund propagację, w tym okresie aktualizacje nie ma gwarancji być zgodne.</span><span class="sxs-lookup"><span data-stu-id="4af69-175">(*) The permissions defined by SetContainerACL are cached and updates to these permissions take 30 seconds to propagate during which period updates are not guaranteed to be consistent.</span></span>  

<span data-ttu-id="4af69-176">W poniższej tabeli przedstawiono operacje obiektów blob, które warunkowego nagłówków accept takich jak **If-Match** w żądaniu, które zwracają wartość ETag w odpowiedzi.</span><span class="sxs-lookup"><span data-stu-id="4af69-176">The following table summarizes the blob operations that accept conditional headers such as **If-Match** in the request and that return an ETag value in the response.</span></span>

| <span data-ttu-id="4af69-177">Operacja</span><span class="sxs-lookup"><span data-stu-id="4af69-177">Operation</span></span> | <span data-ttu-id="4af69-178">Zwraca wartość ETag</span><span class="sxs-lookup"><span data-stu-id="4af69-178">Returns ETag value</span></span> | <span data-ttu-id="4af69-179">Akceptuje warunkowego nagłówki</span><span class="sxs-lookup"><span data-stu-id="4af69-179">Accepts conditional headers</span></span> |
|:--- |:--- |:--- |
| <span data-ttu-id="4af69-180">Umieszczanie obiektu Blob</span><span class="sxs-lookup"><span data-stu-id="4af69-180">Put Blob</span></span> |<span data-ttu-id="4af69-181">Tak</span><span class="sxs-lookup"><span data-stu-id="4af69-181">Yes</span></span> |<span data-ttu-id="4af69-182">Tak</span><span class="sxs-lookup"><span data-stu-id="4af69-182">Yes</span></span> |
| <span data-ttu-id="4af69-183">Pobierz obiekt Blob</span><span class="sxs-lookup"><span data-stu-id="4af69-183">Get Blob</span></span> |<span data-ttu-id="4af69-184">Tak</span><span class="sxs-lookup"><span data-stu-id="4af69-184">Yes</span></span> |<span data-ttu-id="4af69-185">Tak</span><span class="sxs-lookup"><span data-stu-id="4af69-185">Yes</span></span> |
| <span data-ttu-id="4af69-186">Pobierz właściwości obiektu Blob</span><span class="sxs-lookup"><span data-stu-id="4af69-186">Get Blob Properties</span></span> |<span data-ttu-id="4af69-187">Tak</span><span class="sxs-lookup"><span data-stu-id="4af69-187">Yes</span></span> |<span data-ttu-id="4af69-188">Tak</span><span class="sxs-lookup"><span data-stu-id="4af69-188">Yes</span></span> |
| <span data-ttu-id="4af69-189">Ustaw właściwości obiektów Blob</span><span class="sxs-lookup"><span data-stu-id="4af69-189">Set Blob Properties</span></span> |<span data-ttu-id="4af69-190">Tak</span><span class="sxs-lookup"><span data-stu-id="4af69-190">Yes</span></span> |<span data-ttu-id="4af69-191">Tak</span><span class="sxs-lookup"><span data-stu-id="4af69-191">Yes</span></span> |
| <span data-ttu-id="4af69-192">Pobierz metadane obiektu Blob</span><span class="sxs-lookup"><span data-stu-id="4af69-192">Get Blob Metadata</span></span> |<span data-ttu-id="4af69-193">Tak</span><span class="sxs-lookup"><span data-stu-id="4af69-193">Yes</span></span> |<span data-ttu-id="4af69-194">Tak</span><span class="sxs-lookup"><span data-stu-id="4af69-194">Yes</span></span> |
| <span data-ttu-id="4af69-195">Ustaw metadane obiektu Blob</span><span class="sxs-lookup"><span data-stu-id="4af69-195">Set Blob Metadata</span></span> |<span data-ttu-id="4af69-196">Tak</span><span class="sxs-lookup"><span data-stu-id="4af69-196">Yes</span></span> |<span data-ttu-id="4af69-197">Tak</span><span class="sxs-lookup"><span data-stu-id="4af69-197">Yes</span></span> |
| <span data-ttu-id="4af69-198">Obiekt Blob dzierżawy (*)</span><span class="sxs-lookup"><span data-stu-id="4af69-198">Lease Blob (*)</span></span> |<span data-ttu-id="4af69-199">Tak</span><span class="sxs-lookup"><span data-stu-id="4af69-199">Yes</span></span> |<span data-ttu-id="4af69-200">Tak</span><span class="sxs-lookup"><span data-stu-id="4af69-200">Yes</span></span> |
| <span data-ttu-id="4af69-201">Migawki obiektu Blob</span><span class="sxs-lookup"><span data-stu-id="4af69-201">Snapshot Blob</span></span> |<span data-ttu-id="4af69-202">Tak</span><span class="sxs-lookup"><span data-stu-id="4af69-202">Yes</span></span> |<span data-ttu-id="4af69-203">Tak</span><span class="sxs-lookup"><span data-stu-id="4af69-203">Yes</span></span> |
| <span data-ttu-id="4af69-204">Kopiowanie obiektu Blob</span><span class="sxs-lookup"><span data-stu-id="4af69-204">Copy Blob</span></span> |<span data-ttu-id="4af69-205">Tak</span><span class="sxs-lookup"><span data-stu-id="4af69-205">Yes</span></span> |<span data-ttu-id="4af69-206">Tak (w przypadku obiektów blob źródłowego i docelowego)</span><span class="sxs-lookup"><span data-stu-id="4af69-206">Yes (for source and destination blob)</span></span> |
| <span data-ttu-id="4af69-207">Przerwij kopiowania obiektów Blob</span><span class="sxs-lookup"><span data-stu-id="4af69-207">Abort Copy Blob</span></span> |<span data-ttu-id="4af69-208">Nie</span><span class="sxs-lookup"><span data-stu-id="4af69-208">No</span></span> |<span data-ttu-id="4af69-209">Nie</span><span class="sxs-lookup"><span data-stu-id="4af69-209">No</span></span> |
| <span data-ttu-id="4af69-210">Usuwanie obiektów Blob</span><span class="sxs-lookup"><span data-stu-id="4af69-210">Delete Blob</span></span> |<span data-ttu-id="4af69-211">Nie</span><span class="sxs-lookup"><span data-stu-id="4af69-211">No</span></span> |<span data-ttu-id="4af69-212">Tak</span><span class="sxs-lookup"><span data-stu-id="4af69-212">Yes</span></span> |
| <span data-ttu-id="4af69-213">Umieść bloku</span><span class="sxs-lookup"><span data-stu-id="4af69-213">Put Block</span></span> |<span data-ttu-id="4af69-214">Nie</span><span class="sxs-lookup"><span data-stu-id="4af69-214">No</span></span> |<span data-ttu-id="4af69-215">Nie</span><span class="sxs-lookup"><span data-stu-id="4af69-215">No</span></span> |
| <span data-ttu-id="4af69-216">Umieść zablokowanych</span><span class="sxs-lookup"><span data-stu-id="4af69-216">Put Block List</span></span> |<span data-ttu-id="4af69-217">Tak</span><span class="sxs-lookup"><span data-stu-id="4af69-217">Yes</span></span> |<span data-ttu-id="4af69-218">Tak</span><span class="sxs-lookup"><span data-stu-id="4af69-218">Yes</span></span> |
| <span data-ttu-id="4af69-219">Pobierz listę zablokowanych</span><span class="sxs-lookup"><span data-stu-id="4af69-219">Get Block List</span></span> |<span data-ttu-id="4af69-220">Tak</span><span class="sxs-lookup"><span data-stu-id="4af69-220">Yes</span></span> |<span data-ttu-id="4af69-221">Nie</span><span class="sxs-lookup"><span data-stu-id="4af69-221">No</span></span> |
| <span data-ttu-id="4af69-222">Umieść stronę</span><span class="sxs-lookup"><span data-stu-id="4af69-222">Put Page</span></span> |<span data-ttu-id="4af69-223">Tak</span><span class="sxs-lookup"><span data-stu-id="4af69-223">Yes</span></span> |<span data-ttu-id="4af69-224">Tak</span><span class="sxs-lookup"><span data-stu-id="4af69-224">Yes</span></span> |
| <span data-ttu-id="4af69-225">Get zakresów stron</span><span class="sxs-lookup"><span data-stu-id="4af69-225">Get Page Ranges</span></span> |<span data-ttu-id="4af69-226">Tak</span><span class="sxs-lookup"><span data-stu-id="4af69-226">Yes</span></span> |<span data-ttu-id="4af69-227">Tak</span><span class="sxs-lookup"><span data-stu-id="4af69-227">Yes</span></span> |

<span data-ttu-id="4af69-228">(*) Obiekt Blob dzierżawy nie zmienia ETag na obiektu blob.</span><span class="sxs-lookup"><span data-stu-id="4af69-228">(*) Lease Blob does not change the ETag on a blob.</span></span>  

### <a name="pessimistic-concurrency-for-blobs"></a><span data-ttu-id="4af69-229">Pesymistyczne współbieżności dla obiektów blob</span><span class="sxs-lookup"><span data-stu-id="4af69-229">Pessimistic concurrency for blobs</span></span>
<span data-ttu-id="4af69-230">Aby zablokować obiektu blob do wyłącznego użytku, można uzyskać [dzierżawy](http://msdn.microsoft.com/library/azure/ee691972.aspx) na nim.</span><span class="sxs-lookup"><span data-stu-id="4af69-230">To lock a blob for exclusive use, you can acquire a [lease](http://msdn.microsoft.com/library/azure/ee691972.aspx) on it.</span></span> <span data-ttu-id="4af69-231">Podczas uzyskania dzierżawy, należy określić jak długo mają być dzierżawy: może to być do zakresu od 15 do 60 sekund lub nieskończone który wynosi wyłącznej blokady.</span><span class="sxs-lookup"><span data-stu-id="4af69-231">When you acquire a lease, you specify for how long you need the lease: this can be for between 15 to 60 seconds or infinite which amounts to an exclusive lock.</span></span> <span data-ttu-id="4af69-232">Mogą odnowić dzierżawę ograniczone do jego rozszerzenia, a po zakończeniu pracy z nim można zwolnić wszystkie dzierżawy.</span><span class="sxs-lookup"><span data-stu-id="4af69-232">You can renew a finite lease to extend it, and you can release any lease when you are finished with it.</span></span> <span data-ttu-id="4af69-233">Usługa blob automatycznie zwalnia skończoną dzierżawy podczas wygasną.</span><span class="sxs-lookup"><span data-stu-id="4af69-233">The blob service automatically releases finite leases when they expire.</span></span>  

<span data-ttu-id="4af69-234">Dzierżawy Włącz synchronizacji różne strategie do obsługi, w tym zapisu na wyłączność / udostępnione zapisu odczytu, wyłącznego / wyłącznie do odczytu i zapisu udostępnionego / odczytu na wyłączność.</span><span class="sxs-lookup"><span data-stu-id="4af69-234">Leases enable different synchronization strategies to be supported, including exclusive write / shared read, exclusive write / exclusive read and shared write / exclusive read.</span></span> <span data-ttu-id="4af69-235">W przypadku, gdy istnieje dzierżawę usługi magazynu wymusza na wyłączność zapisów (put, ustaw i operacji usunięcia) wymaga zapewnienia wyłączności dla operacji odczytu jednak developer upewnić się, że wszystkie aplikacje klienckie używać Identyfikatora dzierżawy i że tylko jeden klient naraz ma identyfikator dzierżawy prawidłowe.</span><span class="sxs-lookup"><span data-stu-id="4af69-235">Where a lease exists the storage service enforces exclusive writes (put, set and delete operations) however ensuring exclusivity for read operations requires the developer to ensure that all client applications use a lease ID and that only one client at a time has a valid lease ID.</span></span> <span data-ttu-id="4af69-236">Operacje odczytu nie zawierające wynik identyfikator dzierżawy w udostępnionym odczytów.</span><span class="sxs-lookup"><span data-stu-id="4af69-236">Read operations that do not include a lease ID result in shared reads.</span></span>  

<span data-ttu-id="4af69-237">Poniższy fragment kodu C# przedstawiono przykład pobierania wyłącznego dzierżawy przez 30 sekund na obiektu blob, aktualizowania zawartości obiektu blob, a następnie zwolnienie dzierżawy.</span><span class="sxs-lookup"><span data-stu-id="4af69-237">The following C# snippet shows an example of acquiring an exclusive lease for 30 seconds on a blob, updating the content of the blob, and then releasing the lease.</span></span> <span data-ttu-id="4af69-238">Jeśli istnieje już prawidłowa dzierżawa w obiekcie blob podczas próby uzyskania nowej dzierżawy, usługa blob zwraca wynik stanu "Konflikt HTTP (409)".</span><span class="sxs-lookup"><span data-stu-id="4af69-238">If there is already a valid lease on the blob when you try to acquire a new lease, the blob service returns an "HTTP (409) Conflict" status result.</span></span> <span data-ttu-id="4af69-239">Fragment kodu poniżej używa **AccessCondition** obiektu w celu hermetyzacji informacji o dzierżawie, podczas wykonywania żądania można zaktualizować obiektu blob w usłudze magazynowania.</span><span class="sxs-lookup"><span data-stu-id="4af69-239">The snippet below uses an **AccessCondition** object to encapsulate the lease information when it makes a request to update the blob in the storage service.</span></span>  <span data-ttu-id="4af69-240">Pełny przykład można pobrać: [współbieżności zarządzania przy użyciu usługi Azure Storage](http://code.msdn.microsoft.com/Managing-Concurrency-using-56018114).</span><span class="sxs-lookup"><span data-stu-id="4af69-240">You can download the full sample here: [Managing Concurrency using Azure Storage](http://code.msdn.microsoft.com/Managing-Concurrency-using-56018114).</span></span>

```csharp
// Acquire lease for 15 seconds
string lease = blockBlob.AcquireLease(TimeSpan.FromSeconds(15), null);
Console.WriteLine("Blob lease acquired. Lease = {0}", lease);

// Update blob using lease. This operation will succeed
const string helloText = "Blob updated";
var accessCondition = AccessCondition.GenerateLeaseCondition(lease);
blockBlob.UploadText(helloText, accessCondition: accessCondition);
Console.WriteLine("Blob updated using an exclusive lease");

//Simulate third party update to blob without lease
try
{
    // Below operation will fail as no valid lease provided
    Console.WriteLine("Trying to update blob without valid lease");
    blockBlob.UploadText("Update without lease, will fail");
}
catch (StorageException ex)
{
    if (ex.RequestInformation.HttpStatusCode == (int)HttpStatusCode.PreconditionFailed)
        Console.WriteLine("Precondition failure as expected. Blob's lease does not match");
    else
        throw;
}  
```

<span data-ttu-id="4af69-241">Przy próbie operacji zapisu dla dzierżawionych obiektu blob bez przekazywania identyfikator dzierżawy żądanie kończy się niepowodzeniem z powodu błędu 412.</span><span class="sxs-lookup"><span data-stu-id="4af69-241">If you attempt a write operation on a leased blob without passing the lease ID, the request fails with a 412 error.</span></span> <span data-ttu-id="4af69-242">Należy pamiętać, że jeśli dzierżawa wygaśnie przed wywołaniem **UploadText** metoda, ale nadal przekazać identyfikator dzierżawy, żądanie nie powiedzie się także z **412** błędu.</span><span class="sxs-lookup"><span data-stu-id="4af69-242">Note that if the lease expires before calling the **UploadText** method but you still pass the lease ID, the request also fails with a **412** error.</span></span> <span data-ttu-id="4af69-243">Aby uzyskać więcej informacji o zarządzaniu identyfikatory dzierżawy i czas wygaśnięcia dzierżawy, zobacz [Blob dzierżawy](http://msdn.microsoft.com/library/azure/ee691972.aspx) dokumentacji REST.</span><span class="sxs-lookup"><span data-stu-id="4af69-243">For more information about managing lease expiry times and lease ids, see the [Lease Blob](http://msdn.microsoft.com/library/azure/ee691972.aspx) REST documentation.</span></span>  

<span data-ttu-id="4af69-244">Następujące operacje obiektów blob umożliwia zarządzanie pesymistyczne współbieżności dzierżawy:</span><span class="sxs-lookup"><span data-stu-id="4af69-244">The following blob operations can use leases to manage pessimistic concurrency:</span></span>  

* <span data-ttu-id="4af69-245">Umieszczanie obiektu Blob</span><span class="sxs-lookup"><span data-stu-id="4af69-245">Put Blob</span></span>
* <span data-ttu-id="4af69-246">Pobierz obiekt Blob</span><span class="sxs-lookup"><span data-stu-id="4af69-246">Get Blob</span></span>
* <span data-ttu-id="4af69-247">Pobierz właściwości obiektu Blob</span><span class="sxs-lookup"><span data-stu-id="4af69-247">Get Blob Properties</span></span>
* <span data-ttu-id="4af69-248">Ustaw właściwości obiektów Blob</span><span class="sxs-lookup"><span data-stu-id="4af69-248">Set Blob Properties</span></span>
* <span data-ttu-id="4af69-249">Pobierz metadane obiektu Blob</span><span class="sxs-lookup"><span data-stu-id="4af69-249">Get Blob Metadata</span></span>
* <span data-ttu-id="4af69-250">Ustaw metadane obiektu Blob</span><span class="sxs-lookup"><span data-stu-id="4af69-250">Set Blob Metadata</span></span>
* <span data-ttu-id="4af69-251">Usuwanie obiektów Blob</span><span class="sxs-lookup"><span data-stu-id="4af69-251">Delete Blob</span></span>
* <span data-ttu-id="4af69-252">Umieść bloku</span><span class="sxs-lookup"><span data-stu-id="4af69-252">Put Block</span></span>
* <span data-ttu-id="4af69-253">Umieść zablokowanych</span><span class="sxs-lookup"><span data-stu-id="4af69-253">Put Block List</span></span>
* <span data-ttu-id="4af69-254">Pobierz listę zablokowanych</span><span class="sxs-lookup"><span data-stu-id="4af69-254">Get Block List</span></span>
* <span data-ttu-id="4af69-255">Umieść stronę</span><span class="sxs-lookup"><span data-stu-id="4af69-255">Put Page</span></span>
* <span data-ttu-id="4af69-256">Get zakresów stron</span><span class="sxs-lookup"><span data-stu-id="4af69-256">Get Page Ranges</span></span>
* <span data-ttu-id="4af69-257">Migawki obiektu Blob — identyfikator dzierżawy jest opcjonalne, jeśli istnieje dzierżawy</span><span class="sxs-lookup"><span data-stu-id="4af69-257">Snapshot Blob - lease ID optional if a lease exists</span></span>
* <span data-ttu-id="4af69-258">Jeśli dzierżawa istnieje w docelowym obiekcie blob wymagany identyfikator dzierżawy kopiowania obiektu Blob-</span><span class="sxs-lookup"><span data-stu-id="4af69-258">Copy Blob - lease ID required if a lease exists on the destination blob</span></span>
* <span data-ttu-id="4af69-259">Wymagany identyfikator dzierżawy przerwania kopiowania obiektu Blob — czy nieskończone dzierżawy istnieje w docelowym obiekcie blob</span><span class="sxs-lookup"><span data-stu-id="4af69-259">Abort Copy Blob - lease ID required if an infinite lease exists on the destination blob</span></span>
* <span data-ttu-id="4af69-260">Obiekt Blob dzierżawy</span><span class="sxs-lookup"><span data-stu-id="4af69-260">Lease Blob</span></span>  

### <a name="pessimistic-concurrency-for-containers"></a><span data-ttu-id="4af69-261">Pesymistyczne współbieżności dla kontenerów</span><span class="sxs-lookup"><span data-stu-id="4af69-261">Pessimistic concurrency for containers</span></span>
<span data-ttu-id="4af69-262">Dzierżawy kontenerów włączyć opisane strategie synchronizacji obsługiwany na obiekty BLOB (wyłącznie zapisu / udostępnione zapisu odczytu, wyłącznego / wyłącznie do odczytu i zapisu udostępnionego / odczytu na wyłączność) jednak w przeciwieństwie do obiektów blob usługi magazynu tylko wymusza wyłączności na operacji usuwania.</span><span class="sxs-lookup"><span data-stu-id="4af69-262">Leases on containers enable the same synchronization strategies to be supported as on blobs (exclusive write / shared read, exclusive write / exclusive read and shared write / exclusive read) however unlike blobs the storage service only enforces exclusivity on delete operations.</span></span> <span data-ttu-id="4af69-263">Można usunąć kontenera z aktywną dzierżawę, klient musi zawierać identyfikator aktywne dzierżawy z żądanie usunięcia.</span><span class="sxs-lookup"><span data-stu-id="4af69-263">To delete a container with an active lease, a client must include the active lease ID with the delete request.</span></span> <span data-ttu-id="4af69-264">Wszystkie operacje kontenera powiedzie się w kontenerze dzierżawionych bez uwzględniania identyfikator dzierżawy w takim przypadku są one udostępniane operacji.</span><span class="sxs-lookup"><span data-stu-id="4af69-264">All other container operations succeed on a leased container without including the lease ID in which case they are shared operations.</span></span> <span data-ttu-id="4af69-265">Jeśli wymagana jest wyłączności aktualizacji (put lub zestawu) lub operacji odczytu następnie deweloperzy powinien zapewnić, że wszyscy klienci używają Identyfikatora dzierżawy, a tylko jednego klienta w czasie ma identyfikator dzierżawy prawidłowe.</span><span class="sxs-lookup"><span data-stu-id="4af69-265">If exclusivity of update (put or set) or read operations is required then developers should ensure all clients use a lease ID and that only one client at a time has a valid lease ID.</span></span>  

<span data-ttu-id="4af69-266">Następujące operacje kontenera umożliwiają zarządzanie pesymistyczne współbieżności dzierżawy:</span><span class="sxs-lookup"><span data-stu-id="4af69-266">The following container operations can use leases to manage pessimistic concurrency:</span></span>  

* <span data-ttu-id="4af69-267">Usunąć kontenera</span><span class="sxs-lookup"><span data-stu-id="4af69-267">Delete Container</span></span>
* <span data-ttu-id="4af69-268">Pobierz właściwości kontenera</span><span class="sxs-lookup"><span data-stu-id="4af69-268">Get Container Properties</span></span>
* <span data-ttu-id="4af69-269">Pobranie metadanych kontenera</span><span class="sxs-lookup"><span data-stu-id="4af69-269">Get Container Metadata</span></span>
* <span data-ttu-id="4af69-270">Ustaw metadanych kontenera</span><span class="sxs-lookup"><span data-stu-id="4af69-270">Set Container Metadata</span></span>
* <span data-ttu-id="4af69-271">Pobierz ACL kontenera</span><span class="sxs-lookup"><span data-stu-id="4af69-271">Get Container ACL</span></span>
* <span data-ttu-id="4af69-272">Ustaw ACL kontenera</span><span class="sxs-lookup"><span data-stu-id="4af69-272">Set Container ACL</span></span>
* <span data-ttu-id="4af69-273">Kontener dzierżawy</span><span class="sxs-lookup"><span data-stu-id="4af69-273">Lease Container</span></span>  

<span data-ttu-id="4af69-274">Aby uzyskać więcej informacji, zobacz:</span><span class="sxs-lookup"><span data-stu-id="4af69-274">For more information see:</span></span>  

* [<span data-ttu-id="4af69-275">Określanie warunkowego nagłówki dla operacji usługi Blob</span><span class="sxs-lookup"><span data-stu-id="4af69-275">Specifying Conditional Headers for Blob Service Operations</span></span>](http://msdn.microsoft.com/library/azure/dd179371.aspx)
* [<span data-ttu-id="4af69-276">Kontener dzierżawy</span><span class="sxs-lookup"><span data-stu-id="4af69-276">Lease Container</span></span>](http://msdn.microsoft.com/library/azure/jj159103.aspx)
* [<span data-ttu-id="4af69-277">Obiekt Blob dzierżawy</span><span class="sxs-lookup"><span data-stu-id="4af69-277">Lease Blob </span></span>](http://msdn.microsoft.com/library/azure/ee691972.aspx)

## <a name="managing-concurrency-in-the-table-service"></a><span data-ttu-id="4af69-278">Zarządzanie współbieżność w usłudze tabel</span><span class="sxs-lookup"><span data-stu-id="4af69-278">Managing Concurrency in the Table Service</span></span>
<span data-ttu-id="4af69-279">Usługa tabel używa optymistycznej współbieżności kontroli jako domyślne zachowanie podczas pracy z obiektami, w przeciwieństwie do usługi obiektów blob, którym jawnie należy wybrać do sprawdzania optymistycznej współbieżności.</span><span class="sxs-lookup"><span data-stu-id="4af69-279">The table service uses optimistic concurrency checks as the default behavior when you are working with entities, unlike the blob service where you must explicitly choose to perform optimistic concurrency checks.</span></span> <span data-ttu-id="4af69-280">Różnica między usługami tabeli i obiektów blob jest, czy użytkownik może zarządzać tylko zachowania jednostek współbieżności podczas, gdy usługa blob można zarządzać współbieżności kontenerów i obiektów blob.</span><span class="sxs-lookup"><span data-stu-id="4af69-280">The other difference between the table and blob services is that you can only manage the concurrency behavior of entities whereas with the blob service you can manage the concurrency of both containers and blobs.</span></span>  

<span data-ttu-id="4af69-281">Aby użyć optymistycznej współbieżności i sprawdź, czy inny proces zmodyfikowane jednostki, ponieważ został pobrany z usługi Magazyn tabel, można użyć wartość ETag otrzymany zwrócona usługa tabel jednostki.</span><span class="sxs-lookup"><span data-stu-id="4af69-281">To use optimistic concurrency and to check if another process modified an entity since you retrieved it from the table storage service, you can use the ETag value you receive when the table service returns an entity.</span></span> <span data-ttu-id="4af69-282">Konspekt tego procesu jest następujący:</span><span class="sxs-lookup"><span data-stu-id="4af69-282">The outline of this process is as follows:</span></span>  

1. <span data-ttu-id="4af69-283">Pobrać jednostki z usługi Magazyn tabel, odpowiedź zawiera wartość ETag, która określa bieżący identyfikator skojarzony z tego obiektu w usłudze magazynowania.</span><span class="sxs-lookup"><span data-stu-id="4af69-283">Retrieve an entity from the table storage service, the response includes an ETag value that identifies the current identifier associated with that entity in the storage service.</span></span>
2. <span data-ttu-id="4af69-284">Podczas aktualizacji jednostki zawierają wartość ETag otrzymane w kroku 1 w obowiązkowe **If-Match** nagłówka żądania wysyłane do usługi.</span><span class="sxs-lookup"><span data-stu-id="4af69-284">When you update the entity, include the ETag value you received in step 1 in the mandatory **If-Match** header of the request you send to the service.</span></span>
3. <span data-ttu-id="4af69-285">Usługa porównuje wartość ETag w żądaniu z bieżącej wartości ETag jednostki.</span><span class="sxs-lookup"><span data-stu-id="4af69-285">The service compares the ETag value in the request with the current ETag value of the entity.</span></span>
4. <span data-ttu-id="4af69-286">Jeśli do bieżącej wartości ETag jednostki jest inny niż element ETag w obowiązkowe **If-Match** nagłówka w żądaniu, usługa zwraca błąd 412 do klienta.</span><span class="sxs-lookup"><span data-stu-id="4af69-286">If the current ETag value of the entity is different than the ETag in the mandatory **If-Match** header in the request, the service returns a 412 error to the client.</span></span> <span data-ttu-id="4af69-287">Oznacza to klientowi inny proces zaktualizował jednostki, ponieważ klient pobrany.</span><span class="sxs-lookup"><span data-stu-id="4af69-287">This indicates to the client that another process has updated the entity since the client retrieved it.</span></span>
5. <span data-ttu-id="4af69-288">Jeśli do bieżącej wartości ETag obiektu jest taki sam jak element ETag w obowiązkowe **If-Match** nagłówka w żądaniu lub **If-Match** nagłówka zawiera znaki wieloznaczne (*), usługa wykonuje żądanej operacji i aktualizacji do bieżącej wartości ETag obiektu do wyświetlenia została zaktualizowana.</span><span class="sxs-lookup"><span data-stu-id="4af69-288">If the current ETag value of the entity is the same as the ETag in the mandatory **If-Match** header in the request or the **If-Match** header contains the wildcard character (*), the service performs the requested operation and updates the current ETag value of the entity to show that it has been updated.</span></span>  

<span data-ttu-id="4af69-289">Należy pamiętać, że w przeciwieństwie do usługi blob usługi tabel wymaga klienta do uwzględnienia **If-Match** nagłówek żądania aktualizacji.</span><span class="sxs-lookup"><span data-stu-id="4af69-289">Note that unlike the blob service, the table service requires the client to include an **If-Match** header in update requests.</span></span> <span data-ttu-id="4af69-290">Warto jednak można wymusić bezwarunkowe aktualizacji (ostatni składnik zapisywania usługi wins strategii) i obejście kontrolach współbieżności, jeśli klient ustawia **If-Match** nagłówka do znaku wieloznacznego (*) w żądaniu.</span><span class="sxs-lookup"><span data-stu-id="4af69-290">However, it is possible to force an unconditional update (last writer wins strategy) and bypass concurrency checks if the client sets the **If-Match** header to the wildcard character (*) in the request.</span></span>  

<span data-ttu-id="4af69-291">Poniższy fragment kodu C# zawiera jednostki klienta, która wcześniej została utworzona lub pobrać o zaktualizować adres e-mail użytkownika.</span><span class="sxs-lookup"><span data-stu-id="4af69-291">The following C# snippet shows a customer entity that was previously either created or retrieved having their email address updated.</span></span> <span data-ttu-id="4af69-292">Początkowy Wstaw lub pobrać magazynów operacji wartość ETag w obiekcie klienta, a ponieważ próbki używa tego samego wystąpienia obiektu podczas wykonywania operacji zamieniania, automatycznie wysyła wartość ETag do usługi tabel, włączanie usługi wyszukać naruszenia współbieżności.</span><span class="sxs-lookup"><span data-stu-id="4af69-292">The initial insert or retrieve operation stores the ETag value in the customer object, and because the sample uses the same object instance when it executes the replace operation, it automatically sends the ETag value back to the table service, enabling the service to check for concurrency violations.</span></span> <span data-ttu-id="4af69-293">Jeśli inny proces został zaktualizowany jednostki w magazynie tabel, usługa zwraca komunikat stanu HTTP 412 (warunek wstępny nie powiodła się.).</span><span class="sxs-lookup"><span data-stu-id="4af69-293">If another process has updated the entity in table storage, the service returns an HTTP 412 (Precondition Failed) status message.</span></span>  <span data-ttu-id="4af69-294">Pełny przykład można pobrać: [współbieżności zarządzania przy użyciu usługi Azure Storage](http://code.msdn.microsoft.com/Managing-Concurrency-using-56018114).</span><span class="sxs-lookup"><span data-stu-id="4af69-294">You can download the full sample here: [Managing Concurrency using Azure Storage](http://code.msdn.microsoft.com/Managing-Concurrency-using-56018114).</span></span>

```csharp
try
{
    customer.Email = "updatedEmail@contoso.org";
    TableOperation replaceCustomer = TableOperation.Replace(customer);
    customerTable.Execute(replaceCustomer);
    Console.WriteLine("Replace operation succeeded.");
}
catch (StorageException ex)
{
    if (ex.RequestInformation.HttpStatusCode == 412)
        Console.WriteLine("Optimistic concurrency violation – entity has changed since it was retrieved.");
    else
        throw;
}  
```

<span data-ttu-id="4af69-295">Aby jawnie wyłączyć wyboru współbieżność, należy ustawić **ETag** właściwość **pracownika** do obiektu "*" przed wykonaniem operacji Zastąp.</span><span class="sxs-lookup"><span data-stu-id="4af69-295">To explicitly disable the concurrency check, you should set the **ETag** property of the **employee** object to "*" before you execute the replace operation.</span></span>  

```csharp
customer.ETag = "*";  
```

<span data-ttu-id="4af69-296">W poniższej tabeli przedstawiono, jak operacje jednostki tabeli użyj wartości ETag:</span><span class="sxs-lookup"><span data-stu-id="4af69-296">The following table summarizes how the table entity operations use ETag values:</span></span>

| <span data-ttu-id="4af69-297">Operacja</span><span class="sxs-lookup"><span data-stu-id="4af69-297">Operation</span></span> | <span data-ttu-id="4af69-298">Zwraca wartość ETag</span><span class="sxs-lookup"><span data-stu-id="4af69-298">Returns ETag value</span></span> | <span data-ttu-id="4af69-299">Wymaga nagłówek If-Match żądania</span><span class="sxs-lookup"><span data-stu-id="4af69-299">Requires If-Match request header</span></span> |
|:--- |:--- |:--- |
| <span data-ttu-id="4af69-300">Zapytanie jednostek</span><span class="sxs-lookup"><span data-stu-id="4af69-300">Query Entities</span></span> |<span data-ttu-id="4af69-301">Tak</span><span class="sxs-lookup"><span data-stu-id="4af69-301">Yes</span></span> |<span data-ttu-id="4af69-302">Nie</span><span class="sxs-lookup"><span data-stu-id="4af69-302">No</span></span> |
| <span data-ttu-id="4af69-303">Wstaw jednostkę</span><span class="sxs-lookup"><span data-stu-id="4af69-303">Insert Entity</span></span> |<span data-ttu-id="4af69-304">Tak</span><span class="sxs-lookup"><span data-stu-id="4af69-304">Yes</span></span> |<span data-ttu-id="4af69-305">Nie</span><span class="sxs-lookup"><span data-stu-id="4af69-305">No</span></span> |
| <span data-ttu-id="4af69-306">Aktualizowanie jednostek</span><span class="sxs-lookup"><span data-stu-id="4af69-306">Update Entity</span></span> |<span data-ttu-id="4af69-307">Tak</span><span class="sxs-lookup"><span data-stu-id="4af69-307">Yes</span></span> |<span data-ttu-id="4af69-308">Tak</span><span class="sxs-lookup"><span data-stu-id="4af69-308">Yes</span></span> |
| <span data-ttu-id="4af69-309">Scal jednostki</span><span class="sxs-lookup"><span data-stu-id="4af69-309">Merge Entity</span></span> |<span data-ttu-id="4af69-310">Tak</span><span class="sxs-lookup"><span data-stu-id="4af69-310">Yes</span></span> |<span data-ttu-id="4af69-311">Tak</span><span class="sxs-lookup"><span data-stu-id="4af69-311">Yes</span></span> |
| <span data-ttu-id="4af69-312">Usuwanie jednostki</span><span class="sxs-lookup"><span data-stu-id="4af69-312">Delete Entity</span></span> |<span data-ttu-id="4af69-313">Nie</span><span class="sxs-lookup"><span data-stu-id="4af69-313">No</span></span> |<span data-ttu-id="4af69-314">Tak</span><span class="sxs-lookup"><span data-stu-id="4af69-314">Yes</span></span> |
| <span data-ttu-id="4af69-315">Wstawianie lub zastępowanie jednostki</span><span class="sxs-lookup"><span data-stu-id="4af69-315">Insert or Replace Entity</span></span> |<span data-ttu-id="4af69-316">Tak</span><span class="sxs-lookup"><span data-stu-id="4af69-316">Yes</span></span> |<span data-ttu-id="4af69-317">Nie</span><span class="sxs-lookup"><span data-stu-id="4af69-317">No</span></span> |
| <span data-ttu-id="4af69-318">Wstawianie lub scalania jednostki</span><span class="sxs-lookup"><span data-stu-id="4af69-318">Insert or Merge Entity</span></span> |<span data-ttu-id="4af69-319">Tak</span><span class="sxs-lookup"><span data-stu-id="4af69-319">Yes</span></span> |<span data-ttu-id="4af69-320">Nie</span><span class="sxs-lookup"><span data-stu-id="4af69-320">No</span></span> |

<span data-ttu-id="4af69-321">Należy pamiętać, że **wstawienia lub Zastąp jednostki** i **wstawienia lub scalania jednostki** wykonaj operacje *nie* wykonać wszelkie kontrolach współbieżności, ponieważ nie wysyłaj wartość ETag usłudze tabel.</span><span class="sxs-lookup"><span data-stu-id="4af69-321">Note that the **Insert or Replace Entity** and **Insert or Merge Entity** operations do *not* perform any concurrency checks because they do not send an ETag value to the table service.</span></span>  

<span data-ttu-id="4af69-322">Ogólnie rzecz biorąc deweloperzy przy użyciu tabel polegać na optymistycznej współbieżności podczas tworzenia skalowalnych aplikacji.</span><span class="sxs-lookup"><span data-stu-id="4af69-322">In general developers using tables should rely on optimistic concurrency when developing scalable applications.</span></span> <span data-ttu-id="4af69-323">W razie potrzeby pesymistyczne blokowanie jednym z podejść deweloperzy mogą korzystać, w przypadku uzyskiwania dostępu do tabel przypisać wyznaczonych obiektu blob dla każdej tabeli i spróbuj wykonać dzierżawy w obiekcie blob przed działających w tabeli.</span><span class="sxs-lookup"><span data-stu-id="4af69-323">If pessimistic locking is needed, one approach developers can take when accessing Tables is to assign a designated blob for each table and try to take a lease on the blob before operating on the table.</span></span> <span data-ttu-id="4af69-324">Ta metoda wymaga aplikacji, aby upewnić się, wszystkie ścieżki dostępu do danych uzyskać dzierżawę przed działających w tabeli.</span><span class="sxs-lookup"><span data-stu-id="4af69-324">This approach does require the application to ensure all data access paths obtain the lease prior to operating on the table.</span></span> <span data-ttu-id="4af69-325">Należy również zauważyć, czas trwania dzierżawy minimalna to 15 sekund, które wymaga zaplanowania dokładne skalowalności.</span><span class="sxs-lookup"><span data-stu-id="4af69-325">You should also note that the minimum lease time is 15 seconds which requires careful consideration for scalability.</span></span>  

<span data-ttu-id="4af69-326">Aby uzyskać więcej informacji, zobacz:</span><span class="sxs-lookup"><span data-stu-id="4af69-326">For more information see:</span></span>  

* [<span data-ttu-id="4af69-327">Operacje na jednostkach</span><span class="sxs-lookup"><span data-stu-id="4af69-327">Operations on Entities</span></span>](http://msdn.microsoft.com/library/azure/dd179375.aspx)  

## <a name="managing-concurrency-in-the-queue-service"></a><span data-ttu-id="4af69-328">Zarządzanie współbieżności usługi kolejki</span><span class="sxs-lookup"><span data-stu-id="4af69-328">Managing Concurrency in the Queue Service</span></span>
<span data-ttu-id="4af69-329">Jeden scenariusz, w których współbieżności jest istotny w usłudze kolejkowania jest, gdy wielu klientów są pobieranie wiadomości z kolejki.</span><span class="sxs-lookup"><span data-stu-id="4af69-329">One scenario in which concurrency is a concern in the queueing service is where multiple clients are retrieving messages from a queue.</span></span> <span data-ttu-id="4af69-330">Po pobraniu wiadomości z kolejki odpowiedź zawiera komunikat i wartości otrzymania pop, co jest wymagane, aby usunąć wiadomości.</span><span class="sxs-lookup"><span data-stu-id="4af69-330">When a message is retrieved from the queue, the response includes the message and a pop receipt value, which is required to delete the message.</span></span> <span data-ttu-id="4af69-331">Komunikat nie zostanie automatycznie usunięta z kolejki, ale po jej pobraniu, nie jest widoczny dla innych klientów dla interwału czasu określonego przez parametr visibilitytimeout.</span><span class="sxs-lookup"><span data-stu-id="4af69-331">The message is not automatically deleted from the queue, but after it has been retrieved, it is not visible to other clients for the time interval specified by the visibilitytimeout parameter.</span></span> <span data-ttu-id="4af69-332">Klient, który pobiera komunikat powinien usunąć wiadomość po przetworzeniu i przed przez czas określony TimeNextVisible element odpowiedzi, która jest obliczana na podstawie wartości parametru visibilitytimeout.</span><span class="sxs-lookup"><span data-stu-id="4af69-332">The client that retrieves the message is expected to delete the message after it has been processed, and before the time specified by the TimeNextVisible element of the response, which is calculated based on the value of the visibilitytimeout parameter.</span></span> <span data-ttu-id="4af69-333">Wartość visibilitytimeout jest dodawana do czasu, jaką wiadomość zostanie pobrana do określenia wartości TimeNextVisible.</span><span class="sxs-lookup"><span data-stu-id="4af69-333">The value of visibilitytimeout is added to the time at which the message is retrieved to determine the value of TimeNextVisible.</span></span>  

<span data-ttu-id="4af69-334">Usługa kolejki nie jest obsługiwane pesymistyczne albo optymistycznej współbieżności i dla tego powodu klientów, przetwarzanie wiadomości pobierane z kolejki powinien zapewnić, że komunikaty są przetwarzane w sposób idempotentności.</span><span class="sxs-lookup"><span data-stu-id="4af69-334">The queue service does not have support for either optimistic or pessimistic concurrency and for this reason clients processing messages retrieved from a queue should ensure messages are processed in an idempotent manner.</span></span> <span data-ttu-id="4af69-335">Ostatni strategii wins moduł zapisujący jest używana do operacji aktualizacji, takich jak SetQueueServiceProperties, SetQueueMetaData, SetQueueACL i UpdateMessage.</span><span class="sxs-lookup"><span data-stu-id="4af69-335">A last writer wins strategy is used for update operations such as SetQueueServiceProperties, SetQueueMetaData, SetQueueACL and UpdateMessage.</span></span>  

<span data-ttu-id="4af69-336">Aby uzyskać więcej informacji, zobacz:</span><span class="sxs-lookup"><span data-stu-id="4af69-336">For more information see:</span></span>  

* [<span data-ttu-id="4af69-337">Interfejs API REST usługi kolejki</span><span class="sxs-lookup"><span data-stu-id="4af69-337">Queue Service REST API</span></span>](http://msdn.microsoft.com/library/azure/dd179363.aspx)
* [<span data-ttu-id="4af69-338">Pobieranie wiadomości</span><span class="sxs-lookup"><span data-stu-id="4af69-338">Get Messages</span></span>](http://msdn.microsoft.com/library/azure/dd179474.aspx)  

## <a name="managing-concurrency-in-the-file-service"></a><span data-ttu-id="4af69-339">Współbieżność w pliku usługi zarządzania</span><span class="sxs-lookup"><span data-stu-id="4af69-339">Managing Concurrency in the File Service</span></span>
<span data-ttu-id="4af69-340">Usługi plików jest możliwy za pomocą dwóch różnych punktów końcowych protokołu — protokołu SMB i REST.</span><span class="sxs-lookup"><span data-stu-id="4af69-340">The file service can be accessed using two different protocol endpoints – SMB and REST.</span></span> <span data-ttu-id="4af69-341">Usługi REST nie jest obsługiwane optymistyczne blokowanie albo pesymistyczne blokowanie i wszystkie aktualizacje będzie śledzić ostatni strategii wins składnika zapisywania.</span><span class="sxs-lookup"><span data-stu-id="4af69-341">The REST service does not have support for either optimistic locking or pessimistic locking and all updates will follow a last writer wins strategy.</span></span> <span data-ttu-id="4af69-342">Mechanizmy blokady systemu plików do zarządzania dostępem do udostępnionych plików — w tym możliwość wykonywania pesymistyczne blokowanie mogą korzystać z klientów SMB, które zainstalować udziały plików.</span><span class="sxs-lookup"><span data-stu-id="4af69-342">SMB clients that mount file shares can leverage file system locking mechanisms to manage access to shared files – including the ability to perform pessimistic locking.</span></span> <span data-ttu-id="4af69-343">Po otwarciu pliku klienta SMB określa dostęp do plików i udziału tryb.</span><span class="sxs-lookup"><span data-stu-id="4af69-343">When an SMB client opens a file, it specifies both the file access and share mode.</span></span> <span data-ttu-id="4af69-344">Opcja dostępu do pliku "Write" lub "Odczytu/zapisu" wraz z trybu udziału plików "None" spowoduje plik jest zablokowany przez klienta protokołu SMB, do czasu zamknięcia pliku.</span><span class="sxs-lookup"><span data-stu-id="4af69-344">Setting a File Access option of "Write" or "Read/Write" along with a File Share mode of "None" will result in the file being locked by an SMB client until the file is closed.</span></span> <span data-ttu-id="4af69-345">Jeśli nastąpi próba wykonania operacji REST w pliku, gdzie klient protokołu SMB ma plik zablokowany usługi REST zwróci kod stanu 409 (konflikt) z kodem błędu SharingViolation.</span><span class="sxs-lookup"><span data-stu-id="4af69-345">If REST operation is attempted on a file where an SMB client has the file locked the REST service will return status code 409 (Conflict) with error code SharingViolation.</span></span>  

<span data-ttu-id="4af69-346">Jeśli klient protokołu SMB otwarty plik do usunięcia, oznacza plik jako oczekujące usunięcie do wszystkich klientów SMB są zamknięte otwartymi dojściami w tym pliku.</span><span class="sxs-lookup"><span data-stu-id="4af69-346">When an SMB client opens a file for delete, it marks the file as pending delete until all other SMB client open handles on that file are closed.</span></span> <span data-ttu-id="4af69-347">Gdy plik jest oznaczone jako oczekujące na usunięcie, wszelkie operacje REST dla tego pliku i zwróci kod stanu 409 (konflikt) z kodem błędu SMBDeletePending.</span><span class="sxs-lookup"><span data-stu-id="4af69-347">While a file is marked as pending delete, any REST operation on that file will return status code 409 (Conflict) with error code SMBDeletePending.</span></span> <span data-ttu-id="4af69-348">Kod stanu 404 (nie znaleziono) nie są zwracane, ponieważ jest to możliwe w dla klienta SMB usunąć flagę oczekiwanie na usunięcie przed zamknięciem pliku.</span><span class="sxs-lookup"><span data-stu-id="4af69-348">Status code 404 (Not Found) is not returned since it is possible for the SMB client to remove the pending deletion flag prior to closing the file.</span></span> <span data-ttu-id="4af69-349">Innymi słowy kod stanu 404 (nie znaleziono) są oczekiwane tylko, gdy plik został usunięty.</span><span class="sxs-lookup"><span data-stu-id="4af69-349">In other words, status code 404 (Not Found) is only expected when the file has been removed.</span></span> <span data-ttu-id="4af69-350">Należy pamiętać, że plik w trakcie SMB do czasu usunięcia stanu, jego nie będą uwzględniane w wynikach listę plików. Należy również zauważyć, że operacje REST usuwanie plików i katalogów usunąć REST są przekazywane automatycznie i nie spowoduje usunięcia stanu oczekiwania.</span><span class="sxs-lookup"><span data-stu-id="4af69-350">Note that while a file is in a SMB pending delete state, it will not be included in the List Files results.Also note that the REST Delete File and REST Delete Directory operations are committed atomically and do not result in pending delete state.</span></span>  

<span data-ttu-id="4af69-351">Aby uzyskać więcej informacji, zobacz:</span><span class="sxs-lookup"><span data-stu-id="4af69-351">For more information see:</span></span>  

* [<span data-ttu-id="4af69-352">Zarządzanie plikiem blokuje</span><span class="sxs-lookup"><span data-stu-id="4af69-352">Managing File Locks</span></span>](http://msdn.microsoft.com/library/azure/dn194265.aspx)  

## <a name="summary-and-next-steps"></a><span data-ttu-id="4af69-353">Podsumowanie i następne kroki</span><span class="sxs-lookup"><span data-stu-id="4af69-353">Summary and Next Steps</span></span>
<span data-ttu-id="4af69-354">Usługi Magazyn Microsoft Azure został zaprojektowany na potrzeby najbardziej złożonych aplikacji online bez wymuszania złamanie lub przemyślenia założenia kluczy, takich jak spójności współbieżności i dane, które pochodzą zostały przyznane deweloperów.</span><span class="sxs-lookup"><span data-stu-id="4af69-354">The Microsoft Azure Storage service has been designed to meet the needs of the most complex online applications without forcing developers to compromise or rethink key design assumptions such as concurrency and data consistency that they have come to take for granted.</span></span>  

<span data-ttu-id="4af69-355">Dla aplikacji kompletnego przykładu, do którego odwołuje się ten blog:</span><span class="sxs-lookup"><span data-stu-id="4af69-355">For the complete sample application referenced in this blog:</span></span>  

* [<span data-ttu-id="4af69-356">Zarządzanie za pomocą usługi Azure Storage — Przykładowa aplikacja współbieżności</span><span class="sxs-lookup"><span data-stu-id="4af69-356">Managing Concurrency using Azure Storage - Sample Application</span></span>](http://code.msdn.microsoft.com/Managing-Concurrency-using-56018114)  

<span data-ttu-id="4af69-357">Aby uzyskać więcej informacji o usłudze Azure Storage, zobacz:</span><span class="sxs-lookup"><span data-stu-id="4af69-357">For more information on Azure Storage see:</span></span>  

* [<span data-ttu-id="4af69-358">Strona główna magazynu usługi Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="4af69-358">Microsoft Azure Storage Home Page</span></span>](https://azure.microsoft.com/services/storage/)
* [<span data-ttu-id="4af69-359">Wprowadzenie do usługi Azure Storage</span><span class="sxs-lookup"><span data-stu-id="4af69-359">Introduction to Azure Storage</span></span>](storage-introduction.md)
* <span data-ttu-id="4af69-360">Wprowadzenie do magazynu [obiektu Blob](storage-dotnet-how-to-use-blobs.md), [tabeli](storage-dotnet-how-to-use-tables.md), [kolejek](storage-dotnet-how-to-use-queues.md), i [plików](storage-dotnet-how-to-use-files.md)</span><span class="sxs-lookup"><span data-stu-id="4af69-360">Storage Getting Started for [Blob](storage-dotnet-how-to-use-blobs.md), [Table](storage-dotnet-how-to-use-tables.md),  [Queues](storage-dotnet-how-to-use-queues.md), and [Files](storage-dotnet-how-to-use-files.md)</span></span>
* <span data-ttu-id="4af69-361">Architektura magazynu — [magazynu Azure: Usługa magazynu w chmurze wysokiej dostępności z wysoki poziom spójności](http://blogs.msdn.com/b/windowsazurestorage/archive/2011/11/20/windows-azure-storage-a-highly-available-cloud-storage-service-with-strong-consistency.aspx)</span><span class="sxs-lookup"><span data-stu-id="4af69-361">Storage Architecture – [Azure Storage : A Highly Available Cloud Storage Service with Strong Consistency](http://blogs.msdn.com/b/windowsazurestorage/archive/2011/11/20/windows-azure-storage-a-highly-available-cloud-storage-service-with-strong-consistency.aspx)</span></span>

