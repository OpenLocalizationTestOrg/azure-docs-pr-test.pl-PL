---
title: "aaaTroubleshooting usługi Azure Storage z diagnostyki & Message Analyzer | Dokumentacja firmy Microsoft"
description: "Samouczek prezentacja end-to-end Rozwiązywanie problemów z funkcją analizy magazynu Azure, AzCopy i programu Microsoft Message Analyzer"
services: storage
documentationcenter: dotnet
author: robinsh
manager: timlt
ms.assetid: 643372a3-1c07-4e88-b4ef-042512a43086
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 03/15/2017
ms.author: robinsh
ms.openlocfilehash: f0b7886911c35de1fdc0bcbe6f83c220ddb38cf5
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="end-to-end-troubleshooting-using-azure-storage-metrics-and-logging-azcopy-and-message-analyzer"></a><span data-ttu-id="1f87c-103">Rozwiązywanie problemów na trasie przy użyciu metryk usługi Azure Storage i rejestrowania, AzCopy i analizatora komunikatów</span><span class="sxs-lookup"><span data-stu-id="1f87c-103">End-to-End Troubleshooting using Azure Storage metrics and logging, AzCopy, and Message Analyzer</span></span>
[!INCLUDE [storage-selector-portal-e2e-troubleshooting](../../includes/storage-selector-portal-e2e-troubleshooting.md)]

<span data-ttu-id="1f87c-104">Diagnozowanie i rozwiązywanie problemów z jest klucza umiejętności umożliwiające tworzenie i obsługa aplikacji klienta za pomocą usługi Magazyn Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="1f87c-104">Diagnosing and troubleshooting is a key skill for building and supporting client applications with Microsoft Azure Storage.</span></span> <span data-ttu-id="1f87c-105">Powodu charakter toohello rozproszonych aplikacji Azure diagnozowanie i rozwiązywanie problemów z błędów i problemów z wydajnością może być bardziej skomplikowane niż w tradycyjnych środowisk.</span><span class="sxs-lookup"><span data-stu-id="1f87c-105">Due toohello distributed nature of an Azure application, diagnosing and troubleshooting errors and performance issues may be more complex than in traditional environments.</span></span>

<span data-ttu-id="1f87c-106">W tym samouczku przedstawiony sposób tooidentify niektórych błędów, które mogą wpłynąć na wydajność i Rozwiąż te błędy z end-to-end za pomocą narzędzi dostarczanych przez firmę Microsoft i usługi Azure Storage w kolejności toooptimize powitania klienta aplikacji.</span><span class="sxs-lookup"><span data-stu-id="1f87c-106">In this tutorial, we demonstrate how tooidentify certain errors that may affect performance, and troubleshoot those errors from end-to-end using tools provided by Microsoft and Azure Storage, in order toooptimize hello client application.</span></span>

<span data-ttu-id="1f87c-107">Ten samouczek zawiera praktyczne eksploracji end-to-end scenariusza rozwiązywania problemów.</span><span class="sxs-lookup"><span data-stu-id="1f87c-107">This tutorial provides a hands-on exploration of an end-to-end troubleshooting scenario.</span></span> <span data-ttu-id="1f87c-108">Dla aplikacji usługi Azure storage szczegółowy przewodnik koncepcyjny tootroubleshooting [monitorowanie, diagnozowanie i rozwiązywanie problemów z usługi Magazyn Microsoft Azure](storage-monitoring-diagnosing-troubleshooting.md).</span><span class="sxs-lookup"><span data-stu-id="1f87c-108">For an in-depth conceptual guide tootroubleshooting Azure storage applications, see [Monitor, diagnose, and troubleshoot Microsoft Azure Storage](storage-monitoring-diagnosing-troubleshooting.md).</span></span>

## <a name="tools-for-troubleshooting-azure-storage-applications"></a><span data-ttu-id="1f87c-109">Narzędzia do rozwiązywania problemów z aplikacjami usługi Azure Storage</span><span class="sxs-lookup"><span data-stu-id="1f87c-109">Tools for troubleshooting Azure Storage applications</span></span>
<span data-ttu-id="1f87c-110">aplikacje klienckie tootroubleshoot przy użyciu usługi Magazyn Microsoft Azure, można użyć kombinacji toodetermine narzędzia, gdy wystąpił problem, i jakie hello przyczyną problemu hello może być.</span><span class="sxs-lookup"><span data-stu-id="1f87c-110">tootroubleshoot client applications using Microsoft Azure Storage, you can use a combination of tools toodetermine when an issue has occurred and what hello cause of hello problem may be.</span></span> <span data-ttu-id="1f87c-111">Do tych narzędzi należą:</span><span class="sxs-lookup"><span data-stu-id="1f87c-111">These tools include:</span></span>

* <span data-ttu-id="1f87c-112">**Usługa Azure Storage Analytics**.</span><span class="sxs-lookup"><span data-stu-id="1f87c-112">**Azure Storage Analytics**.</span></span> <span data-ttu-id="1f87c-113">[Analizy usługi Azure Storage](/rest/api/storageservices/Storage-Analytics) zawiera metryki i rejestrowania usługi Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="1f87c-113">[Azure Storage Analytics](/rest/api/storageservices/Storage-Analytics) provides metrics and logging for Azure Storage.</span></span>
  
  * <span data-ttu-id="1f87c-114">**Metryki magazynu** śledzi transakcji metryki i metryki pojemności konta magazynu.</span><span class="sxs-lookup"><span data-stu-id="1f87c-114">**Storage metrics** tracks transaction metrics and capacity metrics for your storage account.</span></span> <span data-ttu-id="1f87c-115">Korzystając z metryki, można określić, jak aplikacja działa zgodnie z różnych tooa różnych działań.</span><span class="sxs-lookup"><span data-stu-id="1f87c-115">Using metrics, you can determine how your application is performing according tooa variety of different measures.</span></span> <span data-ttu-id="1f87c-116">Zobacz [schemat tabeli metryki analityka magazynu](/rest/api/storageservices/Storage-Analytics-Metrics-Table-Schema) Aby uzyskać więcej informacji o typach hello metryki śledzone przez analityka magazynu.</span><span class="sxs-lookup"><span data-stu-id="1f87c-116">See [Storage Analytics Metrics Table Schema](/rest/api/storageservices/Storage-Analytics-Metrics-Table-Schema) for more information about hello types of metrics tracked by Storage Analytics.</span></span>
  * <span data-ttu-id="1f87c-117">**Rejestrowanie magazynu** dzienniki każdego żądania dziennika toohello usługi Azure Storage services tooa po stronie serwera.</span><span class="sxs-lookup"><span data-stu-id="1f87c-117">**Storage logging** logs each request toohello Azure Storage services tooa server-side log.</span></span> <span data-ttu-id="1f87c-118">szczegółowe dane ścieżki Hello dziennika dla każdego żądania, w tym operacji hello wykonać hello stanu operacji hello i informacji opóźnienia.</span><span class="sxs-lookup"><span data-stu-id="1f87c-118">hello log tracks detailed data for each request, including hello operation performed, hello status of hello operation, and latency information.</span></span> <span data-ttu-id="1f87c-119">Zobacz [Format dziennika analityka magazynu](/rest/api/storageservices/Storage-Analytics-Log-Format) Aby uzyskać więcej informacji na temat hello żądań i odpowiedzi dane zapisane dzienniki toohello przez analityka magazynu.</span><span class="sxs-lookup"><span data-stu-id="1f87c-119">See [Storage Analytics Log Format](/rest/api/storageservices/Storage-Analytics-Log-Format) for more information about hello request and response data that is written toohello logs by Storage Analytics.</span></span>

> [!NOTE]
> <span data-ttu-id="1f87c-120">Konta magazynu typu replikacji z magazynu Strefowo nadmiarowy (ZRS) nie mają metryki hello lub funkcja rejestrowania teraz włączone.</span><span class="sxs-lookup"><span data-stu-id="1f87c-120">Storage accounts with a replication type of Zone-Redundant Storage (ZRS) do not have hello metrics or logging capability enabled at this time.</span></span> 
> 
> 

* <span data-ttu-id="1f87c-121">**Azure portal**.</span><span class="sxs-lookup"><span data-stu-id="1f87c-121">**Azure portal**.</span></span> <span data-ttu-id="1f87c-122">Można skonfigurować rejestrowanie i metryki dla konta magazynu w hello [portalu Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="1f87c-122">You can configure metrics and logging for your storage account in hello [Azure portal](https://portal.azure.com).</span></span> <span data-ttu-id="1f87c-123">Można także wyświetlić schematy i wykresy, które pokazują, jak aplikacja działa w czasie i skonfigurować toonotify alerty, jeśli aplikacja przeprowadza się inaczej niż oczekiwany dla określonej metryki.</span><span class="sxs-lookup"><span data-stu-id="1f87c-123">You can also view charts and graphs that show how your application is performing over time, and configure alerts toonotify you if your application performs differently than expected for a specified metric.</span></span>
  
    <span data-ttu-id="1f87c-124">Zobacz [monitorować konta magazynu w portalu Azure hello](storage-monitor-storage-account.md) informacji o konfigurowaniu monitorowania w hello portalu Azure.</span><span class="sxs-lookup"><span data-stu-id="1f87c-124">See [Monitor a storage account in hello Azure portal](storage-monitor-storage-account.md) for information about configuring monitoring in hello Azure portal.</span></span>
* <span data-ttu-id="1f87c-125">**Narzędzie AzCopy**.</span><span class="sxs-lookup"><span data-stu-id="1f87c-125">**AzCopy**.</span></span> <span data-ttu-id="1f87c-126">Dzienniki serwera usługi Azure Storage są przechowywane jako obiekty BLOB, dzięki czemu można użyć narzędzia AzCopy toocopy hello dziennika obiekty BLOB tooa katalogu lokalnego do analizy przy użyciu programu Microsoft Message Analyzer.</span><span class="sxs-lookup"><span data-stu-id="1f87c-126">Server logs for Azure Storage are stored as blobs, so you can use AzCopy toocopy hello log blobs tooa local directory for analysis using Microsoft Message Analyzer.</span></span> <span data-ttu-id="1f87c-127">Zobacz [Transfer danych za pomocą wiersza polecenia Azcopy hello](storage-use-azcopy.md) Aby uzyskać więcej informacji na temat narzędzia AzCopy.</span><span class="sxs-lookup"><span data-stu-id="1f87c-127">See [Transfer data with hello AzCopy Command-Line Utility](storage-use-azcopy.md) for more information about AzCopy.</span></span>
* <span data-ttu-id="1f87c-128">**Microsoft Message Analyzer**.</span><span class="sxs-lookup"><span data-stu-id="1f87c-128">**Microsoft Message Analyzer**.</span></span> <span data-ttu-id="1f87c-129">Message Analyzer jest narzędziem, które korzysta z plików dziennika i dane dziennika są wyświetlane w formacie visual, który umożliwia łatwe toofilter, wyszukiwanie i grupy rejestrowanie danych do przydatne zestawów służącego tooanalyze błędów i problemów z wydajnością.</span><span class="sxs-lookup"><span data-stu-id="1f87c-129">Message Analyzer is a tool that consumes log files and displays log data in a visual format that makes it easy toofilter, search, and group log data into useful sets that you can use tooanalyze errors and performance issues.</span></span> <span data-ttu-id="1f87c-130">Zobacz [Microsoft komunikatów analizatora operacyjnego przewodnik](http://technet.microsoft.com/library/jj649776.aspx) Aby uzyskać więcej informacji na temat analizatora komunikatów.</span><span class="sxs-lookup"><span data-stu-id="1f87c-130">See [Microsoft Message Analyzer Operating Guide](http://technet.microsoft.com/library/jj649776.aspx) for more information about Message Analyzer.</span></span>

## <a name="about-hello-sample-scenario"></a><span data-ttu-id="1f87c-131">O hello przykładowy scenariusz</span><span class="sxs-lookup"><span data-stu-id="1f87c-131">About hello sample scenario</span></span>
<span data-ttu-id="1f87c-132">W tym samouczku zostaną omówione scenariusz, w którym metryk usługi Azure Storage wskazuje tempo niski procent powodzenia dla aplikacji, która wywołuje magazynu Azure.</span><span class="sxs-lookup"><span data-stu-id="1f87c-132">For this tutorial, we'll examine a scenario where Azure Storage metrics indicates a low percent success rate for an application that calls Azure storage.</span></span> <span data-ttu-id="1f87c-133">Witaj pomiar szybkości niski procent powodzenia (wyświetlane jako **PercentSuccess** w hello [portalu Azure](https://portal.azure.com) i w tabelach metryki hello) śledzi operacji, który powiedzie się, ale który zwrócił kod stanu HTTP, która jest większa niż 299.</span><span class="sxs-lookup"><span data-stu-id="1f87c-133">hello low percent success rate metric (shown as **PercentSuccess** in hello [Azure portal](https://portal.azure.com) and in hello metrics tables) tracks operations that succeed, but that return an HTTP status code that is greater than 299.</span></span> <span data-ttu-id="1f87c-134">W plikach dziennika magazynu po stronie serwera hello, operacje te są rejestrowane ze stanem transakcji **ClientOtherErrors**.</span><span class="sxs-lookup"><span data-stu-id="1f87c-134">In hello server-side storage log files, these operations are recorded with a transaction status of **ClientOtherErrors**.</span></span> <span data-ttu-id="1f87c-135">Aby uzyskać więcej informacji na temat Metryka niski procent powodzenia hello zobacz [metryki pokazują PercentSuccess niskim lub wpisy dziennika analytics ma operacji ze stanem transakcji ClientOtherErrors](storage-monitoring-diagnosing-troubleshooting.md#metrics-show-low-percent-success).</span><span class="sxs-lookup"><span data-stu-id="1f87c-135">For more details about hello low percent success metric, see [Metrics show low PercentSuccess or analytics log entries have operations with transaction status of ClientOtherErrors](storage-monitoring-diagnosing-troubleshooting.md#metrics-show-low-percent-success).</span></span>

<span data-ttu-id="1f87c-136">Azure operacje magazynu mogą zwracać kody stanu HTTP większa niż 299 jako część ich normalną funkcjonalność.</span><span class="sxs-lookup"><span data-stu-id="1f87c-136">Azure Storage operations may return HTTP status codes greater than 299 as part of their normal functionality.</span></span> <span data-ttu-id="1f87c-137">Jednak te błędy w niektórych przypadkach wskazują, że może być możliwe toooptimize aplikację kliencką dla wyższą wydajność.</span><span class="sxs-lookup"><span data-stu-id="1f87c-137">But these errors in some cases indicate that you may be able toooptimize your client application for improved performance.</span></span>

<span data-ttu-id="1f87c-138">W tym scenariuszu teraz przyjrzymy się toobe szybkość niski procent powodzenia niczego poniżej 100%.</span><span class="sxs-lookup"><span data-stu-id="1f87c-138">In this scenario, we'll consider a low percent success rate toobe anything below 100%.</span></span> <span data-ttu-id="1f87c-139">Można wybrać różne metryki poziomu, jednak zgodnie z potrzebami tooyour.</span><span class="sxs-lookup"><span data-stu-id="1f87c-139">You can choose a different metric level, however, according tooyour needs.</span></span> <span data-ttu-id="1f87c-140">Firma Microsoft zaleca, że podczas testowania aplikacji, zostanie nawiązana tolerancji linii bazowej dla Twojego kluczowe metryki wydajności.</span><span class="sxs-lookup"><span data-stu-id="1f87c-140">We recommend that during testing of your application, you establish a baseline tolerance for your key performance metrics.</span></span> <span data-ttu-id="1f87c-141">Na przykład można określić na podstawie testowanie, czy aplikacja ma Częstotliwość powodzeń procent spójne 90% lub 85%.</span><span class="sxs-lookup"><span data-stu-id="1f87c-141">For example, you might determine, based on testing, that your application should have a consistent percent success rate of 90%, or 85%.</span></span> <span data-ttu-id="1f87c-142">Jeśli dane metryk pokazuje, że aplikacja hello jest różniących się od tego numeru, a następnie można zbadać, co może powodować wzrost hello.</span><span class="sxs-lookup"><span data-stu-id="1f87c-142">If your metrics data shows that hello application is deviating from that number, then you can investigate what may be causing hello increase.</span></span>

<span data-ttu-id="1f87c-143">W naszym scenariuszu próbki po ustaleniu firma Microsoft hello procent powodzenia szybkość Metryka wynosi poniżej 100%, firma Microsoft będzie zbadać hello dzienniki toofind hello błędów, które skorelowania toohello metryki i używać ich toofigure się, co powoduje hello mniejszej szybkości procent powodzenia.</span><span class="sxs-lookup"><span data-stu-id="1f87c-143">For our sample scenario, once we've established that hello percent success rate metric is below 100%, we will examine hello logs toofind hello errors that correlate toohello metrics, and use them toofigure out what is causing hello lower percent success rate.</span></span> <span data-ttu-id="1f87c-144">Wyjaśniono, w szczególności błędy hello 400 zakresu.</span><span class="sxs-lookup"><span data-stu-id="1f87c-144">We'll look specifically at errors in hello 400 range.</span></span> <span data-ttu-id="1f87c-145">Następnie firma Microsoft będzie dokładniejsze badanie błędów 404 (nie znaleziono).</span><span class="sxs-lookup"><span data-stu-id="1f87c-145">Then we'll more closely investigate 404 (Not Found) errors.</span></span>

### <a name="some-causes-of-400-range-errors"></a><span data-ttu-id="1f87c-146">Niektóre przyczyny błędów 400 zakresu</span><span class="sxs-lookup"><span data-stu-id="1f87c-146">Some causes of 400-range errors</span></span>
<span data-ttu-id="1f87c-147">Przykłady Hello poniżej przedstawiono przykładowy zakres 400 błędy żądań dotyczących magazynu obiektów Blob Azure i ich możliwe przyczyny.</span><span class="sxs-lookup"><span data-stu-id="1f87c-147">hello examples below shows a sampling of some 400-range errors for requests against Azure Blob Storage, and their possible causes.</span></span> <span data-ttu-id="1f87c-148">Żadnego z tych błędów, jak również błędy w zakresie 300 hello i hello 500 zakresu, może przyczynić się tooa niski procent współczynnika.</span><span class="sxs-lookup"><span data-stu-id="1f87c-148">Any of these errors, as well as errors in hello 300 range and hello 500 range, can contribute tooa low percent success rate.</span></span>

<span data-ttu-id="1f87c-149">Należy zauważyć, że poniższe listy hello daleko od ukończenia.</span><span class="sxs-lookup"><span data-stu-id="1f87c-149">Note that hello lists below are far from complete.</span></span> <span data-ttu-id="1f87c-150">Zobacz [stanu i kodów błędów](http://msdn.microsoft.com/library/azure/dd179382.aspx) w witrynie MSDN, aby uzyskać szczegółowe informacje dotyczące ogólne błędy usługi Azure Storage i tooeach określonych błędów hello usług magazynu.</span><span class="sxs-lookup"><span data-stu-id="1f87c-150">See [Status and Error Codes](http://msdn.microsoft.com/library/azure/dd179382.aspx) on MSDN for details about general Azure Storage errors and about errors specific tooeach of hello storage services.</span></span>

<span data-ttu-id="1f87c-151">**Przykłady kodu 404 (nie znaleziono) stanu**</span><span class="sxs-lookup"><span data-stu-id="1f87c-151">**Status Code 404 (Not Found) Examples**</span></span>

<span data-ttu-id="1f87c-152">Występuje, gdy operacja odczytu względem kontener lub obiekt blob nie powiedzie się, ponieważ nie znaleziono obiektu blob hello lub kontenera.</span><span class="sxs-lookup"><span data-stu-id="1f87c-152">Occurs when a read operation against a container or blob fails because hello blob or container is not found.</span></span>

* <span data-ttu-id="1f87c-153">Występuje, gdy kontener lub obiekt blob został usunięty przez innego klienta przed tego żądania.</span><span class="sxs-lookup"><span data-stu-id="1f87c-153">Occurs if a container or blob has been deleted by another client before this request.</span></span>
* <span data-ttu-id="1f87c-154">Występuje, gdy używasz wywołanie interfejsu API, które tworzy hello kontener lub obiekt blob po sprawdzeniu, czy istnieje.</span><span class="sxs-lookup"><span data-stu-id="1f87c-154">Occurs if you are using an API call that creates hello container or blob after checking whether it exists.</span></span> <span data-ttu-id="1f87c-155">Witaj CreateIfNotExists interfejsów API upewnij HEAD wymagają pierwszy toocheck istnienie hello hello kontener lub obiekt blob; Jeśli nie istnieje, zwracany jest błąd 404, a drugie wywołanie PUT jest przeprowadzane toowrite hello kontener lub obiekt blob.</span><span class="sxs-lookup"><span data-stu-id="1f87c-155">hello CreateIfNotExists APIs make a HEAD call first toocheck for hello existence of hello container or blob; if it does not exist, a 404 error is returned, and then a second PUT call is made toowrite hello container or blob.</span></span>

<span data-ttu-id="1f87c-156">**Kod stanu 409 przykłady (konflikt)**</span><span class="sxs-lookup"><span data-stu-id="1f87c-156">**Status Code 409 (Conflict) Examples**</span></span>

* <span data-ttu-id="1f87c-157">Występuje, gdy używasz toocreate API utworzyć nowy kontener lub obiekt blob, bez uprzedniego sprawdzania pod kątem istnienia i kontener lub obiekt blob o tej nazwie już istnieje.</span><span class="sxs-lookup"><span data-stu-id="1f87c-157">Occurs if you use a Create API toocreate a new container or blob, without checking for existence first, and a container or blob with that name already exists.</span></span>
* <span data-ttu-id="1f87c-158">Występuje, gdy kontener jest usuwany, a następnie spróbuj toocreate nowy kontener z hello takie same nazwy, przed wykonaniem operacji usuwania hello.</span><span class="sxs-lookup"><span data-stu-id="1f87c-158">Occurs if a container is being deleted, and you attempt toocreate a new container with hello same name before hello deletion operation is complete.</span></span>
* <span data-ttu-id="1f87c-159">Występuje, gdy Określ dzierżawę na kontener lub obiekt blob, a jest już obecny dzierżawy.</span><span class="sxs-lookup"><span data-stu-id="1f87c-159">Occurs if you specify a lease on a container or blob, and there is already a lease present.</span></span>

<span data-ttu-id="1f87c-160">**Kod stanu 412 (warunek wstępny nie powiodła się) przykłady**</span><span class="sxs-lookup"><span data-stu-id="1f87c-160">**Status Code 412 (Precondition Failed) Examples**</span></span>

* <span data-ttu-id="1f87c-161">Występuje, gdy nie został spełniony warunek hello określony przez nagłówek warunkowy.</span><span class="sxs-lookup"><span data-stu-id="1f87c-161">Occurs when hello condition specified by a conditional header has not been met.</span></span>
* <span data-ttu-id="1f87c-162">Występuje, gdy określono Identyfikatora dzierżawy hello jest niezgodny z Identyfikatorem dzierżawy hello na powitania kontener lub obiekt blob.</span><span class="sxs-lookup"><span data-stu-id="1f87c-162">Occurs when hello lease ID specified does not match hello lease ID on hello container or blob.</span></span>

## <a name="generate-log-files-for-analysis"></a><span data-ttu-id="1f87c-163">Generuj pliki dziennika do analizy</span><span class="sxs-lookup"><span data-stu-id="1f87c-163">Generate log files for analysis</span></span>
<span data-ttu-id="1f87c-164">W tym samouczku użyjemy toowork analizatora komunikatów z trzech różnych typów plików dziennika, mimo że można wybrać toowork przy użyciu dowolnej z tych:</span><span class="sxs-lookup"><span data-stu-id="1f87c-164">In this tutorial, we'll use Message Analyzer toowork with three different types of log files, although you could choose toowork with any one of these:</span></span>

* <span data-ttu-id="1f87c-165">Witaj **dziennik serwera**, który jest tworzony po włączeniu rejestrowania usługi Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="1f87c-165">hello **server log**, which is created when you enable Azure Storage logging.</span></span> <span data-ttu-id="1f87c-166">Dziennik serwera Hello zawiera dane dotyczące każdej operacji o nazwie względem jednej z usług Azure Storage hello — obiekt blob, kolejki, tabel i plików.</span><span class="sxs-lookup"><span data-stu-id="1f87c-166">hello server log contains data about each operation called against one of hello Azure Storage services - blob, queue, table, and file.</span></span> <span data-ttu-id="1f87c-167">Dziennik serwera Hello wskazuje operacja, która została wywołana i jakie kod stanu został zwrócony, a także inne szczegóły hello żądań i odpowiedzi.</span><span class="sxs-lookup"><span data-stu-id="1f87c-167">hello server log indicates which operation was called and what status code was returned, as well as other details about hello request and response.</span></span>
* <span data-ttu-id="1f87c-168">Witaj **dziennika klienta .NET**, który jest tworzony po włączeniu rejestrowania po stronie klienta z wewnątrz aplikacji .NET.</span><span class="sxs-lookup"><span data-stu-id="1f87c-168">hello **.NET client log**, which is created when you enable client-side logging from within your .NET application.</span></span> <span data-ttu-id="1f87c-169">powitania klienta dziennika zawiera szczegółowe informacje dotyczące sposobu powitania klienta przygotowuje hello żądania i odbiera i przetwarza hello odpowiedzi.</span><span class="sxs-lookup"><span data-stu-id="1f87c-169">hello client log includes detailed information about how hello client prepares hello request and receives and processes hello response.</span></span>
* <span data-ttu-id="1f87c-170">Witaj **dziennika śledzenia sieci HTTP**, która zbiera dane na dane żądanie i odpowiedź HTTP/HTTPS, tym dla operacji w usłudze Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="1f87c-170">hello **HTTP network trace log**, which collects data on HTTP/HTTPS request and response data, including for operations against Azure Storage.</span></span> <span data-ttu-id="1f87c-171">W tym samouczku będziemy zostanie wygenerowany hello śledzenia sieci za pomocą analizatora komunikatów.</span><span class="sxs-lookup"><span data-stu-id="1f87c-171">In this tutorial, we'll generate hello network trace via Message Analyzer.</span></span>

### <a name="configure-server-side-logging-and-metrics"></a><span data-ttu-id="1f87c-172">Konfigurowanie rejestrowania po stronie serwera i metryki</span><span class="sxs-lookup"><span data-stu-id="1f87c-172">Configure server-side logging and metrics</span></span>
<span data-ttu-id="1f87c-173">Najpierw potrzebujemy tooconfigure rejestrowania usługi Azure Storage i metryki, dzięki czemu będziemy mieć dane z powitania klienta aplikacji tooanalyze.</span><span class="sxs-lookup"><span data-stu-id="1f87c-173">First, we'll need tooconfigure Azure Storage logging and metrics, so that we have data from hello client application tooanalyze.</span></span> <span data-ttu-id="1f87c-174">Można skonfigurować rejestrowania i metryki na różne sposoby — za pośrednictwem hello [portalu Azure](https://portal.azure.com), za pomocą programu PowerShell, lub programowo.</span><span class="sxs-lookup"><span data-stu-id="1f87c-174">You can configure logging and metrics in a variety of ways - via hello [Azure portal](https://portal.azure.com), by using PowerShell, or programmatically.</span></span> <span data-ttu-id="1f87c-175">Zobacz [włączenie metryki magazynu i wyświetlanie danych metryk](http://msdn.microsoft.com/library/azure/dn782843.aspx) i [Włączanie rejestrowania magazynu i uzyskiwanie dostępu do danych dziennika](http://msdn.microsoft.com/library/azure/dn782840.aspx) w witrynie MSDN, aby uzyskać więcej informacji o konfigurowaniu rejestrowania i metryki.</span><span class="sxs-lookup"><span data-stu-id="1f87c-175">See [Enabling Storage Metrics and Viewing Metrics Data](http://msdn.microsoft.com/library/azure/dn782843.aspx) and [Enabling Storage Logging and Accessing Log Data](http://msdn.microsoft.com/library/azure/dn782840.aspx) on MSDN for details about configuring logging and metrics.</span></span>

<span data-ttu-id="1f87c-176">**Za pomocą hello portalu Azure**</span><span class="sxs-lookup"><span data-stu-id="1f87c-176">**Via hello Azure portal**</span></span>

<span data-ttu-id="1f87c-177">Rejestrowanie tooconfigure i metryk do konta magazynu przy użyciu hello [portalu Azure](https://portal.azure.com), postępuj zgodnie z instrukcjami hello w [monitorować konta magazynu w portalu Azure hello](storage-monitor-storage-account.md).</span><span class="sxs-lookup"><span data-stu-id="1f87c-177">tooconfigure logging and metrics for your storage account using hello [Azure portal](https://portal.azure.com), follow hello instructions at [Monitor a storage account in hello Azure portal](storage-monitor-storage-account.md).</span></span>

> [!NOTE]
> <span data-ttu-id="1f87c-178">Nie jest możliwe tooset metryki minuty przy użyciu hello portalu Azure.</span><span class="sxs-lookup"><span data-stu-id="1f87c-178">It's not possible tooset minute metrics using hello Azure portal.</span></span> <span data-ttu-id="1f87c-179">Jednak zaleca się, że te elementy zostały skonfigurowane dla hello do celów tego samouczka i badania problemów dotyczących wydajności z aplikacją.</span><span class="sxs-lookup"><span data-stu-id="1f87c-179">However, we recommend that you do set them for hello purposes of this tutorial, and for investigating performance issues with your application.</span></span> <span data-ttu-id="1f87c-180">Można ustawić minuty metryki przy użyciu programu PowerShell, jak pokazano poniżej, albo programowo z użyciem biblioteki klienta usługi storage hello.</span><span class="sxs-lookup"><span data-stu-id="1f87c-180">You can set minute metrics using PowerShell as shown below, or programmatically using hello storage client library.</span></span>
> 
> <span data-ttu-id="1f87c-181">Należy pamiętać, że w tym hello portalu Azure nie może wyświetlić metryki minuty, tylko metryki co godzinę.</span><span class="sxs-lookup"><span data-stu-id="1f87c-181">Note that hello Azure portal cannot display minute metrics, only hourly metrics.</span></span>
> 
> 

<span data-ttu-id="1f87c-182">**Za pomocą programu PowerShell**</span><span class="sxs-lookup"><span data-stu-id="1f87c-182">**Via PowerShell**</span></span>

<span data-ttu-id="1f87c-183">tooget wprowadzenie do programu PowerShell dla usługi Azure, zobacz [jak tooinstall i konfigurowanie programu Azure PowerShell](/powershell/azure/overview).</span><span class="sxs-lookup"><span data-stu-id="1f87c-183">tooget started with PowerShell for Azure, see [How tooinstall and configure Azure PowerShell](/powershell/azure/overview).</span></span>

1. <span data-ttu-id="1f87c-184">Użyj hello [Add-AzureAccount](/powershell/module/azure/add-azureaccount?view=azuresmps-3.7.0) tooadd polecenia cmdlet okno programu PowerShell toohello konta użytkownika platformy Azure:</span><span class="sxs-lookup"><span data-stu-id="1f87c-184">Use hello [Add-AzureAccount](/powershell/module/azure/add-azureaccount?view=azuresmps-3.7.0) cmdlet tooadd your Azure user account toohello PowerShell window:</span></span>
   
    ```powershell
    Add-AzureAccount
    ```

2. <span data-ttu-id="1f87c-185">W hello **Zaloguj tooMicrosoft Azure** okna, wpisz adresy e-mail hello i hasło skojarzone z Twoim kontem.</span><span class="sxs-lookup"><span data-stu-id="1f87c-185">In hello **Sign in tooMicrosoft Azure** window, type hello email address and password associated with your account.</span></span> <span data-ttu-id="1f87c-186">Azure służy do uwierzytelniania i zapisuje informacji o poświadczeniach hello, a następnie zamyka okno hello.</span><span class="sxs-lookup"><span data-stu-id="1f87c-186">Azure authenticates and saves hello credential information, and then closes hello window.</span></span>
3. <span data-ttu-id="1f87c-187">Ustaw hello domyślne konto usługi storage konta toohello magazynu używanego w samouczku hello, wykonując następujące polecenia w oknie programu PowerShell hello:</span><span class="sxs-lookup"><span data-stu-id="1f87c-187">Set hello default storage account toohello storage account you are using for hello tutorial by executing these commands in hello PowerShell window:</span></span>
   
    ```powershell
    $SubscriptionName = 'Your subscription name'
    $StorageAccountName = 'yourstorageaccount'
    Set-AzureSubscription -CurrentStorageAccountName $StorageAccountName -SubscriptionName $SubscriptionName
    ```

4. <span data-ttu-id="1f87c-188">Włącz rejestrowanie dla hello usługa Blob magazynu:</span><span class="sxs-lookup"><span data-stu-id="1f87c-188">Enable storage logging for hello Blob service:</span></span>
   
    ```powershell
    Set-AzureStorageServiceLoggingProperty -ServiceType Blob -LoggingOperations Read,Write,Delete -PassThru -RetentionDays 7 -Version 1.0
    ```

5. <span data-ttu-id="1f87c-189">Włączyć metryki magazynu dla hello usługa Blob, dzięki czy tooset **- MetricsType** zbyt`Minute`:</span><span class="sxs-lookup"><span data-stu-id="1f87c-189">Enable storage metrics for hello Blob service, making sure tooset **-MetricsType** too`Minute`:</span></span>
   
    ```powershell
    Set-AzureStorageServiceMetricsProperty -ServiceType Blob -MetricsType Minute -MetricsLevel ServiceAndApi -PassThru -RetentionDays 7 -Version 1.0
    ```

### <a name="configure-net-client-side-logging"></a><span data-ttu-id="1f87c-190">Konfigurowanie rejestrowania klienta .NET</span><span class="sxs-lookup"><span data-stu-id="1f87c-190">Configure .NET client-side logging</span></span>
<span data-ttu-id="1f87c-191">tooconfigure klienta rejestrowanie dla aplikacji .NET, Włącz diagnostykę .NET w pliku konfiguracyjnym aplikacji hello (plik web.config lub app.config).</span><span class="sxs-lookup"><span data-stu-id="1f87c-191">tooconfigure client-side logging for a .NET application, enable .NET diagnostics in hello application's configuration file (web.config or app.config).</span></span> <span data-ttu-id="1f87c-192">Zobacz [klienta rejestrowania z hello biblioteki klienta usługi Storage .NET](http://msdn.microsoft.com/library/azure/dn782839.aspx) i [klienta rejestrowania z hello Microsoft Azure Storage SDK for Java](http://msdn.microsoft.com/library/azure/dn782844.aspx) w witrynie MSDN, aby uzyskać szczegółowe informacje.</span><span class="sxs-lookup"><span data-stu-id="1f87c-192">See [Client-side Logging with hello .NET Storage Client Library](http://msdn.microsoft.com/library/azure/dn782839.aspx) and [Client-side Logging with hello Microsoft Azure Storage SDK for Java](http://msdn.microsoft.com/library/azure/dn782844.aspx) on MSDN for details.</span></span>

<span data-ttu-id="1f87c-193">powitania klienta dziennika zawiera szczegółowe informacje dotyczące sposobu powitania klienta przygotowuje hello żądania i odbiera i przetwarza hello odpowiedzi.</span><span class="sxs-lookup"><span data-stu-id="1f87c-193">hello client-side log includes detailed information about how hello client prepares hello request and receives and processes hello response.</span></span>

<span data-ttu-id="1f87c-194">Witaj biblioteki klienta usługi Storage przechowuje dane dziennika klienta w hello lokalizacji określonej w pliku konfiguracyjnym aplikacji hello (plik web.config lub app.config).</span><span class="sxs-lookup"><span data-stu-id="1f87c-194">hello Storage Client Library stores client-side log data in hello location specified in hello application's configuration file (web.config or app.config).</span></span>

### <a name="collect-a-network-trace"></a><span data-ttu-id="1f87c-195">Zbieraj śledzenia ścieżek połączeń sieciowych</span><span class="sxs-lookup"><span data-stu-id="1f87c-195">Collect a network trace</span></span>
<span data-ttu-id="1f87c-196">Aplikacja kliencka jest uruchomiona, można użyć toocollect analizatora komunikatów śledzenia sieci HTTP/HTTPS.</span><span class="sxs-lookup"><span data-stu-id="1f87c-196">You can use Message Analyzer toocollect an HTTP/HTTPS network trace while your client application is running.</span></span> <span data-ttu-id="1f87c-197">Używa analizatora komunikatów [Fiddler](http://www.telerik.com/fiddler) na powitania zaplecza.</span><span class="sxs-lookup"><span data-stu-id="1f87c-197">Message Analyzer uses [Fiddler](http://www.telerik.com/fiddler) on hello back end.</span></span> <span data-ttu-id="1f87c-198">Aby zebrać śledzenia sieci hello, zaleca się skonfigurowanie ruch HTTPS bez szyfrowania toorecord Fiddler:</span><span class="sxs-lookup"><span data-stu-id="1f87c-198">Before you collect hello network trace, we recommend that you configure Fiddler toorecord unencrypted HTTPS traffic:</span></span>

1. <span data-ttu-id="1f87c-199">Zainstaluj [Fiddler](http://www.telerik.com/download/fiddler).</span><span class="sxs-lookup"><span data-stu-id="1f87c-199">Install [Fiddler](http://www.telerik.com/download/fiddler).</span></span>
2. <span data-ttu-id="1f87c-200">Uruchom program Fiddler.</span><span class="sxs-lookup"><span data-stu-id="1f87c-200">Launch Fiddler.</span></span>
3. <span data-ttu-id="1f87c-201">Wybierz **narzędzia | Opcje narzędzia fiddler**.</span><span class="sxs-lookup"><span data-stu-id="1f87c-201">Select **Tools | Fiddler Options**.</span></span>
4. <span data-ttu-id="1f87c-202">W oknie dialogowym Opcje hello, upewnij się, że **przechwytywania połączenie HTTPS** i **odszyfrowania ruchu HTTPS** są zaznaczone, jak pokazano poniżej.</span><span class="sxs-lookup"><span data-stu-id="1f87c-202">In hello Options dialog, ensure that **Capture HTTPS CONNECTs** and **Decrypt HTTPS Traffic** are both selected, as shown below.</span></span>

![Skonfiguruj opcje Fiddler](./media/storage-e2e-troubleshooting/fiddler-options-1.png)

<span data-ttu-id="1f87c-204">Samouczek hello zbierania i najpierw zapisać w analizatora komunikatów śledzenia sieci, a następnie utwórz analizy sesji tooanalyze hello śledzenia i hello dzienniki.</span><span class="sxs-lookup"><span data-stu-id="1f87c-204">For hello tutorial, collect and save a network trace first in Message Analyzer, then create an analysis session tooanalyze hello trace and hello logs.</span></span> <span data-ttu-id="1f87c-205">toocollect śledzenia sieci w analizatora komunikatów:</span><span class="sxs-lookup"><span data-stu-id="1f87c-205">toocollect a network trace in Message Analyzer:</span></span>

1. <span data-ttu-id="1f87c-206">Message Analyzer, wybierz **pliku | Szybkie śledzenia | Niezaszyfrowana HTTPS**.</span><span class="sxs-lookup"><span data-stu-id="1f87c-206">In Message Analyzer, select **File | Quick Trace | Unencrypted HTTPS**.</span></span>
2. <span data-ttu-id="1f87c-207">śledzenia Hello rozpocznie się natychmiast.</span><span class="sxs-lookup"><span data-stu-id="1f87c-207">hello trace will begin immediately.</span></span> <span data-ttu-id="1f87c-208">Wybierz **zatrzymać** toostop hello śledzenia tak, aby można go skonfigurować tootrace tylko ruch magazynu.</span><span class="sxs-lookup"><span data-stu-id="1f87c-208">Select **Stop** toostop hello trace so that we can configure it tootrace storage traffic only.</span></span>
3. <span data-ttu-id="1f87c-209">Wybierz **Edytuj** tooedit hello śledzenia sesji.</span><span class="sxs-lookup"><span data-stu-id="1f87c-209">Select **Edit** tooedit hello tracing session.</span></span>
4. <span data-ttu-id="1f87c-210">Wybierz hello **Konfiguruj** link toohello rogu hello **Microsoft-Pef-WebProxy** dostawcy ETW.</span><span class="sxs-lookup"><span data-stu-id="1f87c-210">Select hello **Configure** link toohello right of hello **Microsoft-Pef-WebProxy** ETW provider.</span></span>
5. <span data-ttu-id="1f87c-211">W hello **Zaawansowane ustawienia** okna dialogowego, kliknij przycisk hello **dostawcy** kartę.</span><span class="sxs-lookup"><span data-stu-id="1f87c-211">In hello **Advanced Settings** dialog, click hello **Provider** tab.</span></span>
6. <span data-ttu-id="1f87c-212">W hello **filtru Hostname** Określ magazynu punktów końcowych, rozdzielając je spacjami.</span><span class="sxs-lookup"><span data-stu-id="1f87c-212">In hello **Hostname Filter** field, specify your storage endpoints, separated by spaces.</span></span> <span data-ttu-id="1f87c-213">Na przykład można określić punktów końcowych Zmień `storagesample` toohello nazwę konta magazynu:</span><span class="sxs-lookup"><span data-stu-id="1f87c-213">For example, you can specify your endpoints as follows; change `storagesample` toohello name of your storage account:</span></span>

    ```   
    storagesample.blob.core.windows.net storagesample.queue.core.windows.net storagesample.table.core.windows.net
    ```

7. <span data-ttu-id="1f87c-214">Zamknij okno dialogowe hello, a następnie kliknij przycisk **Uruchom ponownie** toobegin zbieranie hello śledzenia z filtrem hostname hello w miejscu, aby do śledzenia hello jest włączone tylko ruchu sieciowego magazynu Azure.</span><span class="sxs-lookup"><span data-stu-id="1f87c-214">Exit hello dialog, and click **Restart** toobegin collecting hello trace with hello hostname filter in place, so that only Azure Storage network traffic is included in hello trace.</span></span>

> [!NOTE]
> <span data-ttu-id="1f87c-215">Po zakończeniu zbierania śledzenia sieci, zdecydowanie zaleca się aby przywrócić ustawienia hello, które zostały zmienione w ruchu HTTPS toodecrypt Fiddler.</span><span class="sxs-lookup"><span data-stu-id="1f87c-215">After you have finished collecting your network trace, we strongly recommend that you revert hello settings that you may have changed in Fiddler toodecrypt HTTPS traffic.</span></span> <span data-ttu-id="1f87c-216">W oknie dialogowym Opcje Fiddler hello, odznacz opcję hello **przechwytywania połączenie HTTPS** i **odszyfrowania ruchu HTTPS** pola wyboru.</span><span class="sxs-lookup"><span data-stu-id="1f87c-216">In hello Fiddler Options dialog, deselect hello **Capture HTTPS CONNECTs** and **Decrypt HTTPS Traffic** checkboxes.</span></span>
> 
> 

<span data-ttu-id="1f87c-217">Zobacz [korzystanie z funkcji śledzenia sieci hello](http://technet.microsoft.com/library/jj674819.aspx) w witrynie Technet, aby uzyskać więcej informacji.</span><span class="sxs-lookup"><span data-stu-id="1f87c-217">See [Using hello Network Tracing Features](http://technet.microsoft.com/library/jj674819.aspx) on Technet for more details.</span></span>

## <a name="review-metrics-data-in-hello-azure-portal"></a><span data-ttu-id="1f87c-218">Przejrzyj dane metryk w hello portalu Azure</span><span class="sxs-lookup"><span data-stu-id="1f87c-218">Review metrics data in hello Azure portal</span></span>
<span data-ttu-id="1f87c-219">Gdy aplikacja została uruchomiona w danym okresie czasu, można przejrzeć hello metryki wykresy, które są widoczne w hello [portalu Azure](https://portal.azure.com) tooobserve, jak usługa została wykonywania.</span><span class="sxs-lookup"><span data-stu-id="1f87c-219">Once your application has been running for a period of time, you can review hello metrics charts that appear in hello [Azure portal](https://portal.azure.com) tooobserve how your service has been performing.</span></span>

<span data-ttu-id="1f87c-220">Przejdź najpierw tooyour konta magazynu w hello portalu Azure.</span><span class="sxs-lookup"><span data-stu-id="1f87c-220">First, navigate tooyour storage account in hello Azure portal.</span></span> <span data-ttu-id="1f87c-221">Domyślnie monitorowanie wykres z hello **procent powodzenia** metryka jest wyświetlany w bloku konta hello.</span><span class="sxs-lookup"><span data-stu-id="1f87c-221">By default, a monitoring chart with hello **Success percentage** metric is displayed on hello account blade.</span></span> <span data-ttu-id="1f87c-222">Jeśli wcześniej zmodyfikowano hello wykresu toodisplay różnych metryk, Dodaj hello **procent powodzenia** metryki.</span><span class="sxs-lookup"><span data-stu-id="1f87c-222">If you've previously modified hello chart toodisplay different metrics, add hello **Success percentage** metric.</span></span>

<span data-ttu-id="1f87c-223">Będą teraz widoczne **procent powodzenia** w hello monitorowania wykresu, wraz z innych metryk zostały dodane.</span><span class="sxs-lookup"><span data-stu-id="1f87c-223">You'll now see **Success percentage** in hello monitoring chart, along with any other metrics you may have added.</span></span> <span data-ttu-id="1f87c-224">W scenariuszu hello, które firma Microsoft będzie zbadać obok analizując dzienniki hello w Message Analyzer Częstotliwość powodzeń procent hello jest nieco poniżej 100%.</span><span class="sxs-lookup"><span data-stu-id="1f87c-224">In hello scenario we'll investigate next by analyzing hello logs in Message Analyzer, hello percent success rate is somewhat below 100%.</span></span>

<span data-ttu-id="1f87c-225">Więcej szczegółów na dodawanie i dostosowywanie metryki wykresy, zobacz [dostosowanie metryk wykresy](storage-monitor-storage-account.md#customize-metrics-charts).</span><span class="sxs-lookup"><span data-stu-id="1f87c-225">For more details on adding and customizing metrics charts, see [Customize metrics charts](storage-monitor-storage-account.md#customize-metrics-charts).</span></span>

> [!NOTE]
> <span data-ttu-id="1f87c-226">Może upłynąć trochę czasu, zanim Twoje metryki tooappear danych w portalu Azure powitania po włączeniu metryki magazynu.</span><span class="sxs-lookup"><span data-stu-id="1f87c-226">It may take some time for your metrics data tooappear in hello Azure portal after you enable storage metrics.</span></span> <span data-ttu-id="1f87c-227">Jest to spowodowane co godzinę metryki hello poprzedniej godziny nie są wyświetlane w hello portalu Azure, przed upływem hello bieżącej godziny.</span><span class="sxs-lookup"><span data-stu-id="1f87c-227">This is because hourly metrics for hello previous hour are not displayed in hello Azure portal until hello current hour has elapsed.</span></span> <span data-ttu-id="1f87c-228">Ponadto metryki minutowe nie są aktualnie wyświetlane w portalu Azure hello.</span><span class="sxs-lookup"><span data-stu-id="1f87c-228">Also, minute metrics are not currently displayed in hello Azure portal.</span></span> <span data-ttu-id="1f87c-229">Dlatego w zależności od tego, po włączeniu metryki, może potrwać tootwo godziny toosee metryki danych.</span><span class="sxs-lookup"><span data-stu-id="1f87c-229">So depending on when you enable metrics, it may take up tootwo hours toosee metrics data.</span></span>
> 
> 

## <a name="use-azcopy-toocopy-server-logs-tooa-local-directory"></a><span data-ttu-id="1f87c-230">Użyj narzędzia AzCopy toocopy serwera tooa lokalnego katalogu dzienników</span><span class="sxs-lookup"><span data-stu-id="1f87c-230">Use AzCopy toocopy server logs tooa local directory</span></span>
<span data-ttu-id="1f87c-231">Usługa Azure Storage zapisuje tooblobs danych dziennika serwera, gdy metryki są zapisywane tootables.</span><span class="sxs-lookup"><span data-stu-id="1f87c-231">Azure Storage writes server log data tooblobs, while metrics are written tootables.</span></span> <span data-ttu-id="1f87c-232">Dziennik obiekty BLOB są dostępne w dobrze znanego hello `$logs` kontener dla konta magazynu.</span><span class="sxs-lookup"><span data-stu-id="1f87c-232">Log blobs are available in hello well-known `$logs` container for your storage account.</span></span> <span data-ttu-id="1f87c-233">Obiekty BLOB dziennika są nazywane hierarchicznie przez rok, miesiąc, dzień i godzinę, dzięki czemu można łatwo zlokalizować hello zakres czasu, którego chcesz tooinvestigate.</span><span class="sxs-lookup"><span data-stu-id="1f87c-233">Log blobs are named hierarchically by year, month, day, and hour, so that you can easily locate hello range of time you wish tooinvestigate.</span></span> <span data-ttu-id="1f87c-234">Na przykład w hello `storagesample` konto, hello kontenera obiektów blob dziennika hello for 01/02/2015 z 8-9 am, jest `https://storagesample.blob.core.windows.net/$logs/blob/2015/01/08/0800`.</span><span class="sxs-lookup"><span data-stu-id="1f87c-234">For example, in hello `storagesample` account, hello container for hello log blobs for 01/02/2015, from 8-9 am, is `https://storagesample.blob.core.windows.net/$logs/blob/2015/01/08/0800`.</span></span> <span data-ttu-id="1f87c-235">Witaj poszczególne obiekty BLOB w tym kontenerze są nazywane sekwencyjnie, począwszy od `000000.log`.</span><span class="sxs-lookup"><span data-stu-id="1f87c-235">hello individual blobs in this container are named sequentially, beginning with `000000.log`.</span></span>

<span data-ttu-id="1f87c-236">Toodownload narzędzia wiersza polecenia AzCopy hello można użyć wybranej tych lokalizacji tooa pliki dziennika po stronie serwera na komputerze lokalnym.</span><span class="sxs-lookup"><span data-stu-id="1f87c-236">You can use hello AzCopy command-line tool toodownload these server-side log files tooa location of your choice on your local machine.</span></span> <span data-ttu-id="1f87c-237">Na przykład można użyć następujących plików dziennika hello toodownload polecenia dla operacji obiektu blob, które miały umieść na powitania folderu toohello 2 stycznia 2015 `C:\Temp\Logs\Server`; zastąpić `<storageaccountname>` hello nazwą konta magazynu i `<storageaccountkey>` z sieci klucz dostępu do konta:</span><span class="sxs-lookup"><span data-stu-id="1f87c-237">For example, you can use hello following command toodownload hello log files for blob operations that took place on January 2, 2015 toohello folder `C:\Temp\Logs\Server`; replace `<storageaccountname>` with hello name of your storage account, and `<storageaccountkey>` with your account access key:</span></span>

```azcopy
AzCopy.exe /Source:http://<storageaccountname>.blob.core.windows.net/$logs /Dest:C:\Temp\Logs\Server /Pattern:"blob/2015/01/02" /SourceKey:<storageaccountkey> /S /V
```
<span data-ttu-id="1f87c-238">Narzędzie AzCopy jest dostępny do pobrania na powitania [Azure pobiera](https://azure.microsoft.com/downloads/) strony.</span><span class="sxs-lookup"><span data-stu-id="1f87c-238">AzCopy is available for download on hello [Azure Downloads](https://azure.microsoft.com/downloads/) page.</span></span> <span data-ttu-id="1f87c-239">Aby uzyskać więcej informacji o używaniu narzędzia AzCopy, zobacz [Transfer danych za pomocą wiersza polecenia Azcopy hello](storage-use-azcopy.md).</span><span class="sxs-lookup"><span data-stu-id="1f87c-239">For details about using AzCopy, see [Transfer data with hello AzCopy Command-Line Utility](storage-use-azcopy.md).</span></span>

<span data-ttu-id="1f87c-240">Aby uzyskać dodatkowe informacje na temat pobierania dzienników po stronie serwera, zobacz [Pobierz rejestrowania magazynu danych dziennika](http://msdn.microsoft.com/library/azure/dn782840.aspx#DownloadingStorageLogginglogdata).</span><span class="sxs-lookup"><span data-stu-id="1f87c-240">For additional information about downloading server-side logs, see [Download Storage Logging log data](http://msdn.microsoft.com/library/azure/dn782840.aspx#DownloadingStorageLogginglogdata).</span></span>

## <a name="use-microsoft-message-analyzer-tooanalyze-log-data"></a><span data-ttu-id="1f87c-241">Używanie programu Microsoft Message Analyzer tooanalyze dziennika danych</span><span class="sxs-lookup"><span data-stu-id="1f87c-241">Use Microsoft Message Analyzer tooanalyze log data</span></span>
<span data-ttu-id="1f87c-242">Programu Microsoft Message Analyzer jest narzędziem do przechwytywania, wyświetlania i analizowania ruchu, zdarzeń i inne komunikaty w scenariuszach rozwiązywania problemów i diagnozowania systemu lub aplikacji do obsługi komunikatów protokołu.</span><span class="sxs-lookup"><span data-stu-id="1f87c-242">Microsoft Message Analyzer is a tool for capturing, displaying, and analyzing protocol messaging traffic, events, and other system or application messages in troubleshooting and diagnostic scenarios.</span></span> <span data-ttu-id="1f87c-243">Analizator komunikatów również umożliwia tooload agregacji i analizowania danych z dziennika i zapisane pliki śledzenia.</span><span class="sxs-lookup"><span data-stu-id="1f87c-243">Message Analyzer also enables you tooload, aggregate, and analyze data from log and saved trace files.</span></span> <span data-ttu-id="1f87c-244">Aby uzyskać więcej informacji na temat Message Analyzer, zobacz [Microsoft komunikatów analizatora operacyjnego przewodnik](http://technet.microsoft.com/library/jj649776.aspx).</span><span class="sxs-lookup"><span data-stu-id="1f87c-244">For more information about Message Analyzer, see [Microsoft Message Analyzer Operating Guide](http://technet.microsoft.com/library/jj649776.aspx).</span></span>

<span data-ttu-id="1f87c-245">Analizator komunikatów obejmuje zasoby usługi Azure Storage, które pomagają tooanalyze serwera i klienta oraz dzienniki sieci.</span><span class="sxs-lookup"><span data-stu-id="1f87c-245">Message Analyzer includes assets for Azure Storage that help you tooanalyze server, client, and network logs.</span></span> <span data-ttu-id="1f87c-246">W tej sekcji omówiono sposób toouse tooaddress tych narzędzi hello problem niskiej procent powodzenia w hello dzienniki magazynu.</span><span class="sxs-lookup"><span data-stu-id="1f87c-246">In this section, we'll discuss how toouse those tools tooaddress hello issue of low percent success in hello storage logs.</span></span>

### <a name="download-and-install-message-analyzer-and-hello-azure-storage-assets"></a><span data-ttu-id="1f87c-247">Pobierz i zainstaluj Message Analyzer i hello zasoby magazynu Azure</span><span class="sxs-lookup"><span data-stu-id="1f87c-247">Download and install Message Analyzer and hello Azure Storage Assets</span></span>
1. <span data-ttu-id="1f87c-248">Pobierz [Message Analyzer](http://www.microsoft.com/download/details.aspx?id=44226) z hello Microsoft Download Center, a następnie uruchom Instalator hello.</span><span class="sxs-lookup"><span data-stu-id="1f87c-248">Download [Message Analyzer](http://www.microsoft.com/download/details.aspx?id=44226) from hello Microsoft Download Center, and run hello installer.</span></span>
2. <span data-ttu-id="1f87c-249">Uruchom analizator komunikatów.</span><span class="sxs-lookup"><span data-stu-id="1f87c-249">Launch Message Analyzer.</span></span>
3. <span data-ttu-id="1f87c-250">Z hello **narzędzia** menu, wybierz opcję **Menedżera zasobów**.</span><span class="sxs-lookup"><span data-stu-id="1f87c-250">From hello **Tools** menu, select **Asset Manager**.</span></span> <span data-ttu-id="1f87c-251">W hello **Menedżera zasobów** okno dialogowe, wybierz opcję **pobiera**, następnie odfiltrować **usługi Azure Storage**.</span><span class="sxs-lookup"><span data-stu-id="1f87c-251">In hello **Asset Manager** dialog, select **Downloads**, then filter on **Azure Storage**.</span></span> <span data-ttu-id="1f87c-252">Zobaczysz hello zasobów magazynu Azure, pokazane na poniższej ilustracji hello.</span><span class="sxs-lookup"><span data-stu-id="1f87c-252">You will see hello Azure Storage Assets, as shown in hello picture below.</span></span>
4. <span data-ttu-id="1f87c-253">Kliknij przycisk **wszystkie elementy wyświetlane synchronizacji** hello tooinstall zasoby magazynu Azure.</span><span class="sxs-lookup"><span data-stu-id="1f87c-253">Click **Sync All Displayed Items** tooinstall hello Azure Storage Assets.</span></span> <span data-ttu-id="1f87c-254">Witaj dostępne zasoby obejmują:</span><span class="sxs-lookup"><span data-stu-id="1f87c-254">hello available assets include:</span></span>
   * <span data-ttu-id="1f87c-255">**Reguły koloru magazynu Azure:** reguły koloru magazynu platformy Azure umożliwiają toodefine specjalne filtry używających kolor tekstu, i style toohighlight komunikaty, które zawierają określone informacje w śledzenia.</span><span class="sxs-lookup"><span data-stu-id="1f87c-255">**Azure Storage Color Rules:** Azure Storage color rules enable you toodefine special filters that use color, text, and font styles toohighlight messages that contain specific information in a trace.</span></span>
   * <span data-ttu-id="1f87c-256">**Wykresy magazynu Azure:** wykresy magazynu Azure są wstępnie zdefiniowane wykresy, które dane dziennika dla serwera programu graph.</span><span class="sxs-lookup"><span data-stu-id="1f87c-256">**Azure Storage Charts:** Azure Storage charts are predefined charts that graph server log data.</span></span> <span data-ttu-id="1f87c-257">Należy pamiętać, że toouse usługi Azure Storage wykresy w tej chwili może tylko obciążenia powitania serwera dziennika do hello analizy siatki.</span><span class="sxs-lookup"><span data-stu-id="1f87c-257">Note that toouse Azure Storage charts at this time, you may only load hello server log into hello Analysis Grid.</span></span>
   * <span data-ttu-id="1f87c-258">**Azure magazynu analizatory składni:** hello Azure Storage analizatory składni analizy hello Azure Storage klienta, serwera i HTTP loguje w kolejności toodisplay ich hello analizy siatki.</span><span class="sxs-lookup"><span data-stu-id="1f87c-258">**Azure Storage Parsers:** hello Azure Storage parsers parse hello Azure Storage client, server, and HTTP logs in order toodisplay them in hello Analysis Grid.</span></span>
   * <span data-ttu-id="1f87c-259">**Filtry magazynu Azure:** filtry magazynu Azure są wstępnie zdefiniowane kryteria służącego tooquery danych w hello analizy siatki.</span><span class="sxs-lookup"><span data-stu-id="1f87c-259">**Azure Storage Filters:** Azure Storage filters are predefined criteria that you can use tooquery your data in hello Analysis Grid.</span></span>
   * <span data-ttu-id="1f87c-260">**Układy widoku magazynu Azure:** układów widoku magazynu Azure są układów wstępnie zdefiniowanych kolumn i grupowania w hello analizy siatki.</span><span class="sxs-lookup"><span data-stu-id="1f87c-260">**Azure Storage View Layouts:** Azure Storage view layouts are predefined column layouts and groupings in hello Analysis Grid.</span></span>
5. <span data-ttu-id="1f87c-261">Po zainstalowaniu hello zasobów, należy ponownie uruchomić analizator komunikatów.</span><span class="sxs-lookup"><span data-stu-id="1f87c-261">Restart Message Analyzer after you've installed hello assets.</span></span>

![Menedżera zasobów analizator komunikatów](./media/storage-e2e-troubleshooting/mma-start-page-1.png)

> [!NOTE]
> <span data-ttu-id="1f87c-263">Zainstaluj wszystkie zasoby usługi Azure Storage hello pokazano hello celów tego samouczka.</span><span class="sxs-lookup"><span data-stu-id="1f87c-263">Install all of hello Azure Storage assets shown for hello purposes of this tutorial.</span></span>
> 
> 

### <a name="import-your-log-files-into-message-analyzer"></a><span data-ttu-id="1f87c-264">Importowanie plików dzienników do analizatora komunikatów</span><span class="sxs-lookup"><span data-stu-id="1f87c-264">Import your log files into Message Analyzer</span></span>
<span data-ttu-id="1f87c-265">Można importować wszystkie zapisane pliki dziennika (po stronie serwera, po stronie klienta i sieci) w jednej sesji w programu Microsoft Message Analyzer do analizy.</span><span class="sxs-lookup"><span data-stu-id="1f87c-265">You can import all of your saved log files (server-side, client-side, and network) into a single session in Microsoft Message Analyzer for analysis.</span></span>

1. <span data-ttu-id="1f87c-266">Na powitania **pliku** kliknij menu programu Microsoft Message Analyzer **nowej sesji**, a następnie kliknij przycisk **puste sesji**.</span><span class="sxs-lookup"><span data-stu-id="1f87c-266">On hello **File** menu in Microsoft Message Analyzer, click **New Session**, and then click **Blank Session**.</span></span> <span data-ttu-id="1f87c-267">W hello **nowej sesji** okna dialogowego, wprowadź nazwę dla sesji analizy.</span><span class="sxs-lookup"><span data-stu-id="1f87c-267">In hello **New Session** dialog, enter a name for your analysis session.</span></span> <span data-ttu-id="1f87c-268">W hello **szczegółowych informacji o sesji** panelu, kliknij na powitania **pliki** przycisku.</span><span class="sxs-lookup"><span data-stu-id="1f87c-268">In hello **Session Details** panel, click on hello **Files** button.</span></span>
2. <span data-ttu-id="1f87c-269">polecenie tooload hello śledzenia danych sieci generowane przez analizator komunikatów **Dodaj pliki**, przeglądanie toohello lokalizacji pliku .matp z sesji śledzenia sieci web, wybierz hello .matp pliku, i kliknij przycisk **Otwórz**.</span><span class="sxs-lookup"><span data-stu-id="1f87c-269">tooload hello network trace data generated by Message Analyzer, click on **Add Files**, browse toohello location where you saved your .matp file from your web tracing session, select hello .matp file, and click **Open**.</span></span>
3. <span data-ttu-id="1f87c-270">dane dziennika po stronie serwera hello tooload, wybierz polecenie **Dodaj pliki**, Przeglądaj toohello której pobrano dzienników po stronie serwera, wybierz hello plików dziennika dla zakresu czasu hello tooanalyze i kliknij **Otwórz**.</span><span class="sxs-lookup"><span data-stu-id="1f87c-270">tooload hello server-side log data, click on **Add Files**, browse toohello location where you downloaded your server-side logs, select hello log files for hello time range you want tooanalyze, and click **Open**.</span></span> <span data-ttu-id="1f87c-271">Następnie w hello **szczegółowych informacji o sesji** panelu, zestaw hello **konfiguracji dziennika tekstowego** listy rozwijanej dla każdego pliku dziennika po stronie serwera za**AzureStorageLog** tooensure używanej przez firmę Microsoft Analizator komunikatów można poprawnie przeanalizować pliku dziennika hello.</span><span class="sxs-lookup"><span data-stu-id="1f87c-271">Then, in hello **Session Details** panel, set hello **Text Log Configuration** drop-down for each server-side log file too**AzureStorageLog** tooensure that Microsoft Message Analyzer can parse hello log file correctly.</span></span>
4. <span data-ttu-id="1f87c-272">dane dziennika klienta hello tooload, wybierz polecenie **Dodaj pliki**, Przeglądaj toohello lokalizacji dzienników po stronie klienta, wybierz pliki dziennika hello tooanalyze i kliknij **Otwórz**.</span><span class="sxs-lookup"><span data-stu-id="1f87c-272">tooload hello client-side log data, click on **Add Files**, browse toohello location where you saved your client-side logs, select hello log files you want tooanalyze, and click **Open**.</span></span> <span data-ttu-id="1f87c-273">Następnie w hello **szczegółowych informacji o sesji** panelu, zestaw hello **konfiguracji dziennika tekstowego** listy rozwijanej dla każdego pliku dziennika po stronie klienta za**AzureStorageClientDotNetV4** tooensure który Programu Microsoft Message Analyzer można poprawnie przeanalizować pliku dziennika hello.</span><span class="sxs-lookup"><span data-stu-id="1f87c-273">Then, in hello **Session Details** panel, set hello **Text Log Configuration** drop-down for each client-side log file too**AzureStorageClientDotNetV4** tooensure that Microsoft Message Analyzer can parse hello log file correctly.</span></span>
5. <span data-ttu-id="1f87c-274">Kliknij przycisk **Start** w hello **nowej sesji** tooload i analizy hello dziennika danych w oknie dialogowym.</span><span class="sxs-lookup"><span data-stu-id="1f87c-274">Click **Start** in hello **New Session** dialog tooload and parse hello log data.</span></span> <span data-ttu-id="1f87c-275">dane dziennika Hello Wyświetla hello siatka analizy analizator komunikatów.</span><span class="sxs-lookup"><span data-stu-id="1f87c-275">hello log data displays in hello Message Analyzer Analysis Grid.</span></span>

<span data-ttu-id="1f87c-276">Obraz powitania poniżej przedstawia sesji przykład skonfigurowane z serwera, klienta i pliki dziennika śledzenia sieci.</span><span class="sxs-lookup"><span data-stu-id="1f87c-276">hello picture below shows an example session configured with server, client, and network trace log files.</span></span>

![Konfigurowanie sesji analizator komunikatów](./media/storage-e2e-troubleshooting/configure-mma-session-1.png)

<span data-ttu-id="1f87c-278">Należy pamiętać, że analizator komunikatów ładuje pliki dziennika do pamięci.</span><span class="sxs-lookup"><span data-stu-id="1f87c-278">Note that Message Analyzer loads log files into memory.</span></span> <span data-ttu-id="1f87c-279">Jeśli masz dużych zestawów danych dziennika można toofilter w kolejności tooget hello najlepszą wydajność z analizatora komunikatów.</span><span class="sxs-lookup"><span data-stu-id="1f87c-279">If you have a large set of log data, you will want toofilter it in order tooget hello best performance from Message Analyzer.</span></span>

<span data-ttu-id="1f87c-280">Najpierw należy określić przedział czasu hello będące zrecenzować i ramce czasu możliwie jak najmniejszy.</span><span class="sxs-lookup"><span data-stu-id="1f87c-280">First, determine hello time frame that you are interested in reviewing, and keep this time frame as small as possible.</span></span> <span data-ttu-id="1f87c-281">W wielu przypadkach można tooreview okres minut lub godziny Max.</span><span class="sxs-lookup"><span data-stu-id="1f87c-281">In many cases you will want tooreview a period of minutes or hours at most.</span></span> <span data-ttu-id="1f87c-282">Importuj hello najmniejszy zestaw dzienników, które mogą zaspokoić potrzeb.</span><span class="sxs-lookup"><span data-stu-id="1f87c-282">Import hello smallest set of logs that can meet your needs.</span></span>

<span data-ttu-id="1f87c-283">Jeśli masz dużą ilość danych dziennika można toospecify toofilter filtru sesji danych dziennika przed rozpoczęciem ładowania.</span><span class="sxs-lookup"><span data-stu-id="1f87c-283">If you still have a large amount of log data, then you may want toospecify a session filter toofilter your log data before you load it.</span></span> <span data-ttu-id="1f87c-284">W hello **filtru sesji** okno, wybierz hello **biblioteki** przycisk toochoose wstępnie zdefiniowany filtr; na przykład wybrać **globalne czasu filtru I** z hello filtrów usługi Azure Storage toofilter w przedziale czasu.</span><span class="sxs-lookup"><span data-stu-id="1f87c-284">In hello **Session Filter** box, select hello **Library** button toochoose a predefined filter; for example, choose **Global Time Filter I** from hello Azure Storage filters toofilter on a time interval.</span></span> <span data-ttu-id="1f87c-285">Następnie można edytować hello filtru kryteria toospecify hello uruchamianie i kończenie sygnatury czasowej dla interwału powitania ma toosee.</span><span class="sxs-lookup"><span data-stu-id="1f87c-285">You can then edit hello filter criteria toospecify hello starting and ending timestamp for hello interval you want toosee.</span></span> <span data-ttu-id="1f87c-286">Można również filtrować według określony kod stanu; na przykład można wybrać tylko wpisy dziennika tooload, gdy kod stanie hello jest 404.</span><span class="sxs-lookup"><span data-stu-id="1f87c-286">You can also filter on a particular status code; for example, you can choose tooload only log entries where hello status code is 404.</span></span>

<span data-ttu-id="1f87c-287">Aby uzyskać więcej informacji na temat importowania danych dziennika do programu Microsoft Message Analyzer, zobacz [pobierania danych komunikat](http://technet.microsoft.com/library/dn772437.aspx) w witrynie TechNet.</span><span class="sxs-lookup"><span data-stu-id="1f87c-287">For more information about importing log data into Microsoft Message Analyzer, see [Retrieving Message Data](http://technet.microsoft.com/library/dn772437.aspx) on TechNet.</span></span>

### <a name="use-hello-client-request-id-toocorrelate-log-file-data"></a><span data-ttu-id="1f87c-288">Użyj danych pliku dziennika toocorrelate identyfikator powitania klienta żądania</span><span class="sxs-lookup"><span data-stu-id="1f87c-288">Use hello client request ID toocorrelate log file data</span></span>
<span data-ttu-id="1f87c-289">Witaj biblioteki klienta magazynu Azure automatycznie generuje identyfikator żądania klienta unikatowy dla każdego żądania.</span><span class="sxs-lookup"><span data-stu-id="1f87c-289">hello Azure Storage Client Library automatically generates a unique client request ID for every request.</span></span> <span data-ttu-id="1f87c-290">Ta wartość jest zapisywany toohello dziennika klienta, powitania serwera dziennika i śledzenia sieci hello, aby można było ich użyć toocorrelate danych we wszystkich trzech dzienników w analizatora komunikatów.</span><span class="sxs-lookup"><span data-stu-id="1f87c-290">This value is written toohello client log, hello server log, and hello network trace, so you can use it toocorrelate data across all three logs within Message Analyzer.</span></span> <span data-ttu-id="1f87c-291">Zobacz [Identyfikatora żądania klienta](storage-monitoring-diagnosing-troubleshooting.md#client-request-id) Aby uzyskać dodatkowe informacje o kliencie hello żądania identyfikatora.</span><span class="sxs-lookup"><span data-stu-id="1f87c-291">See [Client request ID](storage-monitoring-diagnosing-troubleshooting.md#client-request-id) for additional information about hello client request ID.</span></span>

<span data-ttu-id="1f87c-292">w poniższych rozdziałach Hello opisano, jak toouse wstępnie skonfigurowanej z widokami niestandardowego układu danych toocorrelate i grupy na podstawie powitania klienta żądania identyfikatora.</span><span class="sxs-lookup"><span data-stu-id="1f87c-292">hello sections below describe how toouse pre-configured and custom layout views toocorrelate and group data based on hello client request ID.</span></span>

### <a name="select-a-view-layout-toodisplay-in-hello-analysis-grid"></a><span data-ttu-id="1f87c-293">Wybierz toodisplay układ widoku hello analizy siatki</span><span class="sxs-lookup"><span data-stu-id="1f87c-293">Select a view layout toodisplay in hello Analysis Grid</span></span>
<span data-ttu-id="1f87c-294">Witaj zasobów pamięci masowej dla analizatora komunikatów obejmują układów widoku magazynu Azure, które są wstępnie skonfigurowane widoki, której można toodisplay danych kolumn i grupowania przydatne dla różnych scenariuszy.</span><span class="sxs-lookup"><span data-stu-id="1f87c-294">hello Storage Assets for Message Analyzer include Azure Storage View Layouts, which are pre-configured views that you can use toodisplay your data with useful groupings and columns for different scenarios.</span></span> <span data-ttu-id="1f87c-295">Można również utworzyć widok niestandardowy układy i zapisywać je do ponownego użycia.</span><span class="sxs-lookup"><span data-stu-id="1f87c-295">You can also create custom view layouts and save them for reuse.</span></span>

<span data-ttu-id="1f87c-296">Obraz powitania poniżej przedstawia hello **układ widoku** menu dostępne po wybraniu **układ widoku** hello na wstążce narzędzi programu.</span><span class="sxs-lookup"><span data-stu-id="1f87c-296">hello picture below shows hello **View Layout** menu, available by selecting **View Layout** from hello toolbar ribbon.</span></span> <span data-ttu-id="1f87c-297">Witaj układów widoku dla usługi Azure Storage są zgrupowane w hello **usługi Azure Storage** węzła w hello menu.</span><span class="sxs-lookup"><span data-stu-id="1f87c-297">hello view layouts for Azure Storage are grouped under hello **Azure Storage** node in hello menu.</span></span> <span data-ttu-id="1f87c-298">Możesz wyszukać `Azure Storage` toofilter pole wyszukiwania hello w magazynie Azure przeglądać tylko układów.</span><span class="sxs-lookup"><span data-stu-id="1f87c-298">You can search for `Azure Storage` in hello search box toofilter on Azure Storage view layouts only.</span></span> <span data-ttu-id="1f87c-299">Możesz też wybrać hello gwiazdy dalej tooa widoku układu toomake it a elementu ulubionego i wyświetl ją u góry hello hello menu.</span><span class="sxs-lookup"><span data-stu-id="1f87c-299">You can also select hello star next tooa view layout toomake it a favorite and display it at hello top of hello menu.</span></span>

![Menu Widok układu](./media/storage-e2e-troubleshooting/view-layout-menu.png)

<span data-ttu-id="1f87c-301">toobegin z wybierz **pogrupowane według ClientRequestID i modułu**.</span><span class="sxs-lookup"><span data-stu-id="1f87c-301">toobegin with, select **Grouped by ClientRequestID and Module**.</span></span> <span data-ttu-id="1f87c-302">Ten widok Układ grup dziennika najpierw danych ze wszystkich trzech dzienników, identyfikator żądania klienta, a następnie plik dziennika źródła (lub **modułu** w analizator komunikatów).</span><span class="sxs-lookup"><span data-stu-id="1f87c-302">This view layout groups log data from all three logs first by client request ID, then by source log file (or **Module** in Message Analyzer).</span></span> <span data-ttu-id="1f87c-303">Z tym widokiem można przejść do Identyfikatora żądania klienta określonego i wyświetlać dane ze wszystkich trzech plików dziennika dla tego żądania klienta identyfikatora.</span><span class="sxs-lookup"><span data-stu-id="1f87c-303">With this view, you can drill down into a particular client request ID, and see data from all three log files for that client request ID.</span></span>

<span data-ttu-id="1f87c-304">Hello obraz poniżej przedstawia tego układu widoku stosowane toohello przykładowych danych dziennika, z podzbiorem wyświetlane kolumny.</span><span class="sxs-lookup"><span data-stu-id="1f87c-304">hello picture below shows this layout view applied toohello sample log data, with a subset of columns displayed.</span></span> <span data-ttu-id="1f87c-305">Widać, że dla określonego Identyfikatora żądania klienta, hello siatki analizy są wyświetlane dane z hello dziennika klienta, serwera dziennika i śledzenia ścieżek połączeń sieciowych.</span><span class="sxs-lookup"><span data-stu-id="1f87c-305">You can see that for a particular client request ID, hello Analysis Grid displays data from hello client log, server log, and network trace.</span></span>

![Układ widoku magazynu Azure](./media/storage-e2e-troubleshooting/view-layout-client-request-id-module.png)

> [!NOTE]
> <span data-ttu-id="1f87c-307">Różnych plikach dziennika mają różne kolumny, gdy dane z wielu plików dziennika są wyświetlane w hello analizy siatki, niektóre kolumny nie może zawierać żadnych danych dla danego wiersza.</span><span class="sxs-lookup"><span data-stu-id="1f87c-307">Different log files have different columns, so when data from multiple log files is displayed in hello Analysis Grid, some columns may not contain any data for a given row.</span></span> <span data-ttu-id="1f87c-308">Na przykład hello ilustracji powyżej wierszy dziennika klienta są wyświetlane wszystkie dane dotyczące hello **sygnatury czasowej**, **TimeElapsed**, **źródła**, i **docelowego** kolumn, ponieważ te kolumny nie istnieją w hello dziennika klienta, ale istnieje w hello śledzenia sieci.</span><span class="sxs-lookup"><span data-stu-id="1f87c-308">For example, in hello picture above, the client log rows do not show any data for hello **Timestamp**, **TimeElapsed**, **Source**, and **Destination** columns, because these columns do not exist in hello client log, but do exist in hello network trace.</span></span> <span data-ttu-id="1f87c-309">Podobnie, hello **sygnatury czasowej** kolumna zawiera dane sygnatury czasowej powitania serwera dziennika, ale żadne dane nie są wyświetlone dla hello **TimeElapsed**, **źródła**, i  **Docelowy** kolumn, które nie są częścią hello dziennik serwera.</span><span class="sxs-lookup"><span data-stu-id="1f87c-309">Similarly, hello **Timestamp** column displays timestamp data from hello server log, but no data is displayed for hello **TimeElapsed**, **Source**, and **Destination** columns, which are not part of hello server log.</span></span>
> 
> 

<span data-ttu-id="1f87c-310">Ponadto toousing hello Azure Storage układów widoku, można również zdefiniować i zapisać układów widoku.</span><span class="sxs-lookup"><span data-stu-id="1f87c-310">In addition toousing hello Azure Storage view layouts, you can also define and save your own view layouts.</span></span> <span data-ttu-id="1f87c-311">Można wybrać inne wymagane pola do grupowania danych i zapisać grupowania hello jako część programu niestandardowego układu.</span><span class="sxs-lookup"><span data-stu-id="1f87c-311">You can select other desired fields for grouping data and save hello grouping as part of your custom layout as well.</span></span>

### <a name="apply-color-rules-toohello-analysis-grid"></a><span data-ttu-id="1f87c-312">Zastosuj toohello reguły kolor siatki analizy</span><span class="sxs-lookup"><span data-stu-id="1f87c-312">Apply color rules toohello Analysis Grid</span></span>
<span data-ttu-id="1f87c-313">Zasoby magazynu Hello także reguły koloru, które oferują element wizualny oznacza tooidentify różnych typów błędów w hello analizy siatki.</span><span class="sxs-lookup"><span data-stu-id="1f87c-313">hello Storage Assets also include color rules, which offer a visual means tooidentify different types of errors in hello Analysis Grid.</span></span> <span data-ttu-id="1f87c-314">Hello kolor wstępnie zdefiniowane reguły stosowane tooHTTP błędów, aby były wyświetlane tylko w przypadku śledzenia serwera hello dziennika i sieci.</span><span class="sxs-lookup"><span data-stu-id="1f87c-314">hello predefined color rules apply tooHTTP errors, so they appear only for hello server log and network trace.</span></span>

<span data-ttu-id="1f87c-315">Wybierz reguły koloru tooapply, **reguły koloru** hello wstążce narzędzi.</span><span class="sxs-lookup"><span data-stu-id="1f87c-315">tooapply color rules, select **Color Rules** from hello toolbar ribbon.</span></span> <span data-ttu-id="1f87c-316">Zobaczysz reguły koloru usługi Azure Storage hello hello menu.</span><span class="sxs-lookup"><span data-stu-id="1f87c-316">You'll see hello Azure Storage color rules in hello menu.</span></span> <span data-ttu-id="1f87c-317">Samouczek hello wybierz **klientów z błędami (StatusCode w przedziale od 400 do 499)**, jak pokazano na rysunku hello poniżej.</span><span class="sxs-lookup"><span data-stu-id="1f87c-317">For hello tutorial, select **Client Errors (StatusCode between 400 and 499)**, as shown in hello picture below.</span></span>

![Układ widoku magazynu Azure](./media/storage-e2e-troubleshooting/color-rules-menu.png)

<span data-ttu-id="1f87c-319">Ponadto toousing hello Azure Storage kolor reguł, można również zdefiniować i zapisać reguły koloru.</span><span class="sxs-lookup"><span data-stu-id="1f87c-319">In addition toousing hello Azure Storage color rules, you can also define and save your own color rules.</span></span>

### <a name="group-and-filter-log-data-toofind-400-range-errors"></a><span data-ttu-id="1f87c-320">Grupy i filtrowanie danych toofind 400-range błędy dziennika</span><span class="sxs-lookup"><span data-stu-id="1f87c-320">Group and filter log data toofind 400-range errors</span></span>
<span data-ttu-id="1f87c-321">Następnie firma Microsoft będzie grupy i filtrować toofind danych dziennika hello wszystkie błędy w zakresie hello 400.</span><span class="sxs-lookup"><span data-stu-id="1f87c-321">Next, we'll group and filter hello log data toofind all errors in hello 400 range.</span></span>

1. <span data-ttu-id="1f87c-322">Zlokalizuj hello **StatusCode** kolumny w hello analizy siatki, kolumny powitania kliknij prawym przyciskiem myszy nagłówek i wybierz **grupy**.</span><span class="sxs-lookup"><span data-stu-id="1f87c-322">Locate hello **StatusCode** column in hello Analysis Grid, right-click hello column heading, and select **Group**.</span></span>
2. <span data-ttu-id="1f87c-323">Następnie grupy na powitania **ClientRequestId** kolumny.</span><span class="sxs-lookup"><span data-stu-id="1f87c-323">Next, group on hello **ClientRequestId** column.</span></span> <span data-ttu-id="1f87c-324">Zobaczysz czy dane hello powitalne siatki analizy teraz jest zorganizowana według stanu kodu i na żądanie klienta identyfikatora.</span><span class="sxs-lookup"><span data-stu-id="1f87c-324">You'll see that hello data in hello Analysis Grid is now organized by status code and by client request ID.</span></span>
3. <span data-ttu-id="1f87c-325">Wyświetlanie okna narzędzia hello filtr widoku, jeśli nie jest już wyświetlany.</span><span class="sxs-lookup"><span data-stu-id="1f87c-325">Display hello View Filter tool window if it is not already displayed.</span></span> <span data-ttu-id="1f87c-326">Na wstążce narzędzi hello, wybierz **okna narzędzi**, następnie **filtr widoku**.</span><span class="sxs-lookup"><span data-stu-id="1f87c-326">On hello toolbar ribbon, select **Tool Windows**, then **View Filter**.</span></span>
4. <span data-ttu-id="1f87c-327">toofilter hello danych toodisplay tylko zakres 400 błędy dziennika, Dodaj powitania po toohello kryteria filtru **filtr widoku** okna, a następnie kliknij przycisk **Zastosuj**:</span><span class="sxs-lookup"><span data-stu-id="1f87c-327">toofilter hello log data toodisplay only 400-range errors, add hello following filter criteria toohello **View Filter** window, and click **Apply**:</span></span>

    ```   
    (AzureStorageLog.StatusCode >= 400 && AzureStorageLog.StatusCode <=499) || (HTTP.StatusCode >= 400 && HTTP.StatusCode <= 499)
    ```

<span data-ttu-id="1f87c-328">Obraz powitania poniżej przedstawia wyniki hello to grupowanie i filtrowanie.</span><span class="sxs-lookup"><span data-stu-id="1f87c-328">hello picture below shows hello results of this grouping and filter.</span></span> <span data-ttu-id="1f87c-329">Powiększające hello **ClientRequestID** pole poniżej hello grupowanie dla kodu stanu 409, na przykład przedstawia operację, która spowodowała ten kod stanu.</span><span class="sxs-lookup"><span data-stu-id="1f87c-329">Expanding hello **ClientRequestID** field beneath hello grouping for status code 409, for example, shows an operation that resulted in that status code.</span></span>

![Układ widoku magazynu Azure](./media/storage-e2e-troubleshooting/400-range-errors1.png)

<span data-ttu-id="1f87c-331">Po zastosowaniu tego filtru, zobaczysz, że wiersze z dziennika klienta hello są wyłączone, jako hello dziennika klienta nie zawiera **StatusCode** kolumny.</span><span class="sxs-lookup"><span data-stu-id="1f87c-331">After applying this filter, you'll see that rows from hello client log are excluded, as hello client log does not include a **StatusCode** column.</span></span> <span data-ttu-id="1f87c-332">toobegin z, firma Microsoft może przejrzeć serwera hello i błędów 404 toolocate dzienniki śledzenia sieci, a następnie zostanie zwrócona toohello klienta dziennika tooexamine powitania klienta operacje, które doprowadziły toothem.</span><span class="sxs-lookup"><span data-stu-id="1f87c-332">toobegin with, we'll review hello server and network trace logs toolocate 404 errors, and then we'll return toohello client log tooexamine hello client operations that led toothem.</span></span>

> [!NOTE]
> <span data-ttu-id="1f87c-333">Można filtrować według hello **StatusCode** kolumny i Wyświetl dane ze wszystkich trzech dzienników, w tym hello dziennika klienta, jeśli dodasz filtru toohello wyrażeń, która zawiera wpisy dziennika, gdy kod stanu hello jest null.</span><span class="sxs-lookup"><span data-stu-id="1f87c-333">You can filter on hello **StatusCode** column and still display data from all three logs, including hello client log, if you add an expression toohello filter that includes log entries where hello status code is null.</span></span> <span data-ttu-id="1f87c-334">tooconstruct to wyrażenie filtru, użyj:</span><span class="sxs-lookup"><span data-stu-id="1f87c-334">tooconstruct this filter expression, use:</span></span>
> 
> <code>&#42;StatusCode >= 400 or !&#42;StatusCode</code>
> 
> <span data-ttu-id="1f87c-335">Ten filtr zwraca wszystkie wiersze z powitania klienta dziennika i tylko wiersze z powitania serwera dziennika i dzienników HTTP których hello kod stanu jest większa niż 400.</span><span class="sxs-lookup"><span data-stu-id="1f87c-335">This filter returns all rows from hello client log and only rows from hello server log and HTTP log where hello status code is greater than 400.</span></span> <span data-ttu-id="1f87c-336">W przypadku zastosowania go układ widoku toohello pogrupowane według Identyfikatora żądania klienta i modułów, umożliwia wyszukiwanie lub przewiń hello dziennika toofind wpisy tych, których wszystkie trzy dzienniki są reprezentowane.</span><span class="sxs-lookup"><span data-stu-id="1f87c-336">If you apply it toohello view layout grouped by client request ID and module, you can search or scroll through hello log entries toofind ones where all three logs are represented.</span></span>   
> 
> 

### <a name="filter-log-data-toofind-404-errors"></a><span data-ttu-id="1f87c-337">Filtrowanie błędów 404 toofind dane dziennika</span><span class="sxs-lookup"><span data-stu-id="1f87c-337">Filter log data toofind 404 errors</span></span>
<span data-ttu-id="1f87c-338">Zasoby magazynu Hello zawierają wstępnie zdefiniowane filtry, które można użyć toonarrow dziennika danych toofind hello błędy lub trendy, którego szukasz.</span><span class="sxs-lookup"><span data-stu-id="1f87c-338">hello Storage Assets include predefined filters that you can use toonarrow log data toofind hello errors or trends you are looking for.</span></span> <span data-ttu-id="1f87c-339">Następnie będzie zastosować dwa filtry wstępnie zdefiniowane: jeden filtrujące powitania serwera i błędów 404 dzienniki śledzenia sieci i który filtry hello dane dotyczące określonego przedziału czasu.</span><span class="sxs-lookup"><span data-stu-id="1f87c-339">Next, we'll apply two predefined filters: one that filters hello server and network trace logs for 404 errors, and one that filters hello data on a specified time range.</span></span>

1. <span data-ttu-id="1f87c-340">Wyświetlanie okna narzędzia hello filtr widoku, jeśli nie jest już wyświetlany.</span><span class="sxs-lookup"><span data-stu-id="1f87c-340">Display hello View Filter tool window if it is not already displayed.</span></span> <span data-ttu-id="1f87c-341">Na wstążce narzędzi hello, wybierz **okna narzędzi**, następnie **filtr widoku**.</span><span class="sxs-lookup"><span data-stu-id="1f87c-341">On hello toolbar ribbon, select **Tool Windows**, then **View Filter**.</span></span>
2. <span data-ttu-id="1f87c-342">W oknie filtru widoku hello wybierz **biblioteki**i wyszukiwania na `Azure Storage` hello toofind filtrów usługi Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="1f87c-342">In hello View Filter window, select **Library**, and search on `Azure Storage` toofind hello Azure Storage filters.</span></span> <span data-ttu-id="1f87c-343">Filtr wybierz hello **404 (nie znaleziono) wiadomości we wszystkich dziennikach**.</span><span class="sxs-lookup"><span data-stu-id="1f87c-343">Select hello filter for **404 (Not Found) messages in all logs**.</span></span>
3. <span data-ttu-id="1f87c-344">Wyświetl hello **biblioteki** menu ponownie i Znajdź i zaznacz hello **globalny filtr czasu**.</span><span class="sxs-lookup"><span data-stu-id="1f87c-344">Display hello **Library** menu again, and locate and select hello **Global Time Filter**.</span></span>
4. <span data-ttu-id="1f87c-345">Edytuj sygnatury czasowe hello pokazane w zakresie toohello filtru hello mają tooview.</span><span class="sxs-lookup"><span data-stu-id="1f87c-345">Edit hello timestamps shown in hello filter toohello range you wish tooview.</span></span> <span data-ttu-id="1f87c-346">Pomoże to zakres hello toonarrow tooanalyze danych.</span><span class="sxs-lookup"><span data-stu-id="1f87c-346">This will help toonarrow hello range of data tooanalyze.</span></span>
5. <span data-ttu-id="1f87c-347">Filtr powinien zostać wyświetlony podobny przykład toohello poniżej.</span><span class="sxs-lookup"><span data-stu-id="1f87c-347">Your filter should appear similar toohello example below.</span></span> <span data-ttu-id="1f87c-348">Kliknij przycisk **Zastosuj** tooapply hello filtru toohello analizy siatki.</span><span class="sxs-lookup"><span data-stu-id="1f87c-348">Click **Apply** tooapply hello filter toohello Analysis Grid.</span></span>

    ```   
    ((AzureStorageLog.StatusCode == 404 || HTTP.StatusCode == 404)) And
    (#Timestamp >= 2014-10-20T16:36:38 and #Timestamp <= 2014-10-20T16:36:39)
    ```

    ![Układ widoku magazynu Azure](./media/storage-e2e-troubleshooting/404-filtered-errors1.png)

### <a name="analyze-your-log-data"></a><span data-ttu-id="1f87c-350">Analizowanie danych dziennika</span><span class="sxs-lookup"><span data-stu-id="1f87c-350">Analyze your log data</span></span>
<span data-ttu-id="1f87c-351">Teraz, grupowane i filtrować dane należy zbadać szczegóły hello poszczególnych żądań, które wygenerowały błędy 404.</span><span class="sxs-lookup"><span data-stu-id="1f87c-351">Now that you have grouped and filtered your data, you can examine hello details of individual requests that generated 404 errors.</span></span> <span data-ttu-id="1f87c-352">W hello bieżący układ widoku dane hello są grupowane według Identyfikatora żądania klienta, następnie według źródła dziennika.</span><span class="sxs-lookup"><span data-stu-id="1f87c-352">In hello current view layout, hello data is grouped by client request ID, then by log source.</span></span> <span data-ttu-id="1f87c-353">Firma Microsoft filtrowania żądań hello StatusCode polu, w którym znajduje się 404, firma Microsoft będzie wyświetlanych tylko powitania serwera i danych śledzenia sieci, nie hello dane dziennika klienta.</span><span class="sxs-lookup"><span data-stu-id="1f87c-353">Since we are filtering on requests where hello StatusCode field contains 404, we'll see only hello server and network trace data, not hello client log data.</span></span>

<span data-ttu-id="1f87c-354">Obraz powitania poniżej zawiera określone żądanie gdzie operacji pobrania obiektu Blob zwróciło 404, ponieważ hello obiektu blob nie istnieje.</span><span class="sxs-lookup"><span data-stu-id="1f87c-354">hello picture below shows a specific request where a Get Blob operation yielded a 404 because hello blob did not exist.</span></span> <span data-ttu-id="1f87c-355">Należy pamiętać, że niektóre kolumny zostały usunięte z widoku standardowym hello w kolejności toodisplay hello odpowiednie dane.</span><span class="sxs-lookup"><span data-stu-id="1f87c-355">Note that some columns have been removed from hello standard view in order toodisplay hello relevant data.</span></span>

![Filtrowane Server i dzienniki śledzenia sieci](./media/storage-e2e-troubleshooting/server-filtered-404-error.png)

<span data-ttu-id="1f87c-357">Następnie firma Microsoft będzie mieć związek tego Identyfikatora żądania klienta z powitania klienta dziennika danych toosee miał jakie akcje powitania klienta, gdy wystąpił błąd hello.</span><span class="sxs-lookup"><span data-stu-id="1f87c-357">Next, we'll correlate this client request ID with hello client log data toosee what actions hello client was taking when hello error happened.</span></span> <span data-ttu-id="1f87c-358">Można wyświetlić nowy widok siatki analizy dla tej sesji tooview powitania klienta dziennika danych, który zostanie otwarty w drugiej karty:</span><span class="sxs-lookup"><span data-stu-id="1f87c-358">You can display a new Analysis Grid view for this session tooview hello client log data, which opens in a second tab:</span></span>

1. <span data-ttu-id="1f87c-359">Najpierw skopiuj wartość hello hello **ClientRequestId** pola toohello Schowka.</span><span class="sxs-lookup"><span data-stu-id="1f87c-359">First, copy hello value of hello **ClientRequestId** field toohello clipboard.</span></span> <span data-ttu-id="1f87c-360">Można to zrobić, wybierając albo wiersza lokalizowanie hello **ClientRequestId** pola wartości danych hello prawym przyciskiem myszy i wybierając pozycję **kopii "ClientRequestId"**.</span><span class="sxs-lookup"><span data-stu-id="1f87c-360">You can do this by selecting either row, locating hello **ClientRequestId** field, right-clicking on hello data value, and choosing **Copy 'ClientRequestId'**.</span></span>
2. <span data-ttu-id="1f87c-361">Na wstążce narzędzi hello, wybierz **nowy podgląd**, a następnie wybierz pozycję **siatki analizy** tooopen na nowej karcie nowe hello kartę przedstawia wszystkie dane w plikach dziennika bez grupowania, filtrowania lub reguły koloru.</span><span class="sxs-lookup"><span data-stu-id="1f87c-361">On hello toolbar ribbon, select **New Viewer**, then select **Analysis Grid** tooopen a new tab. hello new tab shows all data in your log files, without grouping, filtering, or color rules.</span></span>
3. <span data-ttu-id="1f87c-362">Na wstążce narzędzi hello, wybierz **układ widoku**, a następnie wybierz pozycję **wszystkie kolumny klienta .NET** w obszarze hello **usługi Azure Storage** sekcji.</span><span class="sxs-lookup"><span data-stu-id="1f87c-362">On hello toolbar ribbon, select **View Layout**, then select **All .NET Client Columns** under hello **Azure Storage** section.</span></span> <span data-ttu-id="1f87c-363">Ten układ widok zawiera dane ze hello dziennika klienta, a także hello dzienniki śledzenia serwera i sieci.</span><span class="sxs-lookup"><span data-stu-id="1f87c-363">This view layout shows data from hello client log as well as hello server and network trace logs.</span></span> <span data-ttu-id="1f87c-364">Domyślnie jest sortowana na powitania **MessageNumber** kolumny.</span><span class="sxs-lookup"><span data-stu-id="1f87c-364">By default it is sorted on hello **MessageNumber** column.</span></span>
4. <span data-ttu-id="1f87c-365">Następnie wyszukaj powitania klienta dziennika identyfikator powitania klienta żądania.</span><span class="sxs-lookup"><span data-stu-id="1f87c-365">Next, search hello client log for hello client request ID.</span></span> <span data-ttu-id="1f87c-366">Na wstążce narzędzi hello, wybierz **znaleźć wiadomości**, następnie określenia niestandardowego filtru na powitania Identyfikatora żądania klienta w hello **znaleźć** pola.</span><span class="sxs-lookup"><span data-stu-id="1f87c-366">On hello toolbar ribbon, select **Find Messages**, then specify a custom filter on hello client request ID in hello **Find** field.</span></span> <span data-ttu-id="1f87c-367">Dla filtru hello, określając własnego Identyfikatora żądania klienta, należy użyć następującej składni:</span><span class="sxs-lookup"><span data-stu-id="1f87c-367">Use this syntax for hello filter, specifying your own client request ID:</span></span>

    ```
    *ClientRequestId == "398bac41-7725-484b-8a69-2a9e48fc669a"
    ```

<span data-ttu-id="1f87c-368">Analizator komunikatów lokalizuje i wybiera pierwszy wpis dziennika hello, jeśli kryteria wyszukiwania hello odpowiada identyfikator powitania klienta żądania.</span><span class="sxs-lookup"><span data-stu-id="1f87c-368">Message Analyzer locates and selects hello first log entry where hello search criteria matches hello client request ID.</span></span> <span data-ttu-id="1f87c-369">W hello dziennika klienta, istnieje kilka wpisów dla każdego Identyfikatora żądania klienta, dlatego może być toogroup ich na powitania **ClientRequestId** toomake pola go toosee łatwiej je wszystkie.</span><span class="sxs-lookup"><span data-stu-id="1f87c-369">In hello client log, there are several entries for each client request ID, so you may want toogroup them on hello **ClientRequestId** field toomake it easier toosee them all together.</span></span> <span data-ttu-id="1f87c-370">Obraz powitania poniżej przedstawia wszystkie wiadomości powitania klienta hello dziennika dla hello określony identyfikator żądania klienta.</span><span class="sxs-lookup"><span data-stu-id="1f87c-370">hello picture below shows all of hello messages in hello client log for hello specified client request ID.</span></span>

![Wyświetlanie dziennika klienta błędów 404](./media/storage-e2e-troubleshooting/client-log-analysis-grid1.png)

<span data-ttu-id="1f87c-372">Przy użyciu hello dane wyświetlane w hello układów widoku w tych dwóch kart, można przeanalizować hello żądania danych toodetermine co spowodowało błąd hello.</span><span class="sxs-lookup"><span data-stu-id="1f87c-372">Using hello data shown in hello view layouts in these two tabs, you can analyze hello request data toodetermine what may have caused hello error.</span></span> <span data-ttu-id="1f87c-373">Można również przyjrzeć się żądań, które poprzedzone to jeden toosee, jeśli poprzednie zdarzenie może spowodowały toohello błąd 404.</span><span class="sxs-lookup"><span data-stu-id="1f87c-373">You can also look at requests that preceded this one toosee if a previous event may have led toohello 404 error.</span></span> <span data-ttu-id="1f87c-374">Na przykład możesz przejrzeć wpisy dziennika klienta hello poprzedzających tego toodetermine identyfikator żądania klienta, czy hello blob mogła zostać usunięta, czy błąd hello powodu aplikacji klienckiej toohello wywołanie CreateIfNotExists API w kontenerze lub obiektu blob.</span><span class="sxs-lookup"><span data-stu-id="1f87c-374">For example, you can review hello client log entries preceding this client request ID toodetermine whether hello blob may have been deleted, or if hello error was due toohello client application calling a CreateIfNotExists API on a container or blob.</span></span> <span data-ttu-id="1f87c-375">W dzienniku powitania klienta można znaleźć adres hello obiektu blob w hello **opis** pola; w hello server i dzienniki śledzenia sieci, informacje te pojawiają się w hello **Podsumowanie** pola.</span><span class="sxs-lookup"><span data-stu-id="1f87c-375">In hello client log, you can find hello blob's address in hello **Description** field; in hello server and network trace logs, this information appears in hello **Summary** field.</span></span>

<span data-ttu-id="1f87c-376">Gdy znasz adres hello hello obiektu blob, które zwróciło błąd hello 404, można zbadać dalej.</span><span class="sxs-lookup"><span data-stu-id="1f87c-376">Once you know hello address of hello blob that yielded hello 404 error, you can investigate further.</span></span> <span data-ttu-id="1f87c-377">Wyszukiwania hello wpisy dziennika dla innych komunikatów skojarzonych z operacji na powitania sam obiektu blob, można sprawdzić, czy powitania klienta wcześniej usunięty hello jednostki.</span><span class="sxs-lookup"><span data-stu-id="1f87c-377">If you search hello log entries for other messages associated with operations on hello same blob, you can check whether hello client previously deleted hello entity.</span></span>

## <a name="analyze-other-types-of-storage-errors"></a><span data-ttu-id="1f87c-378">Analizowanie inne typy błędów magazynu</span><span class="sxs-lookup"><span data-stu-id="1f87c-378">Analyze other types of storage errors</span></span>
<span data-ttu-id="1f87c-379">Teraz, po zapoznaniu się z przy użyciu analizatora komunikatów tooanalyze danych dziennika, można przeanalizować inne typy błędów przy użyciu widoku układów, reguły koloru i wyszukiwanie filtrowania.</span><span class="sxs-lookup"><span data-stu-id="1f87c-379">Now that you are familiar with using Message Analyzer tooanalyze your log data, you can analyze other types of errors using view layouts, color rules, and searching/filtering.</span></span> <span data-ttu-id="1f87c-380">Witaj tabele poniżej listy problemy mogą wystąpić i hello kryteria filtrowania, można użyć toolocate je.</span><span class="sxs-lookup"><span data-stu-id="1f87c-380">hello tables below lists some issues you may encounter and hello filter criteria you can use toolocate them.</span></span> <span data-ttu-id="1f87c-381">Aby uzyskać więcej informacji na temat tworzenia filtrów i hello Message Analyzer filtrowania języka, zobacz [filtrowania danych komunikat](http://technet.microsoft.com/library/jj819365.aspx).</span><span class="sxs-lookup"><span data-stu-id="1f87c-381">For more information on constructing filters and hello Message Analyzer filtering language, see [Filtering Message Data](http://technet.microsoft.com/library/jj819365.aspx).</span></span>

| <span data-ttu-id="1f87c-382">tooInvestigate...</span><span class="sxs-lookup"><span data-stu-id="1f87c-382">tooInvestigate…</span></span> | <span data-ttu-id="1f87c-383">Użycie wyrażenia filtru...</span><span class="sxs-lookup"><span data-stu-id="1f87c-383">Use Filter Expression…</span></span> | <span data-ttu-id="1f87c-384">Wyrażenie stosuje tooLog (klienta, serwera, sieci, wszystkie)</span><span class="sxs-lookup"><span data-stu-id="1f87c-384">Expression Applies tooLog (Client, Server,   Network, All)</span></span> |
| --- | --- | --- |
| <span data-ttu-id="1f87c-385">Nieoczekiwane opóźnienia dotyczące dostarczania wiadomości w kolejce</span><span class="sxs-lookup"><span data-stu-id="1f87c-385">Unexpected delays in message delivery on a queue</span></span> |<span data-ttu-id="1f87c-386">Zawiera AzureStorageClientDotNetV4.Description "Ponawianie nie można wykonać operacji."</span><span class="sxs-lookup"><span data-stu-id="1f87c-386">AzureStorageClientDotNetV4.Description   contains "Retrying failed operation."</span></span> |<span data-ttu-id="1f87c-387">Klient</span><span class="sxs-lookup"><span data-stu-id="1f87c-387">Client</span></span> |
| <span data-ttu-id="1f87c-388">HTTP wzrost PercentThrottlingError</span><span class="sxs-lookup"><span data-stu-id="1f87c-388">HTTP Increase in PercentThrottlingError</span></span> |<span data-ttu-id="1f87c-389">PROTOKÓŁ HTTP. Response.StatusCode == 500 &#124; &#124; PROTOKÓŁ HTTP. Response.StatusCode == 503</span><span class="sxs-lookup"><span data-stu-id="1f87c-389">HTTP.Response.StatusCode   == 500 &#124;&#124; HTTP.Response.StatusCode == 503</span></span> |<span data-ttu-id="1f87c-390">Sieć</span><span class="sxs-lookup"><span data-stu-id="1f87c-390">Network</span></span> |
| <span data-ttu-id="1f87c-391">Wzrost PercentTimeoutError</span><span class="sxs-lookup"><span data-stu-id="1f87c-391">Increase in PercentTimeoutError</span></span> |<span data-ttu-id="1f87c-392">PROTOKÓŁ HTTP. Response.StatusCode == 500</span><span class="sxs-lookup"><span data-stu-id="1f87c-392">HTTP.Response.StatusCode   == 500</span></span> |<span data-ttu-id="1f87c-393">Sieć</span><span class="sxs-lookup"><span data-stu-id="1f87c-393">Network</span></span> |
| <span data-ttu-id="1f87c-394">Wzrost PercentTimeoutError (wszystkie wersje)</span><span class="sxs-lookup"><span data-stu-id="1f87c-394">Increase in PercentTimeoutError (all)</span></span> |<span data-ttu-id="1f87c-395">* StatusCode == 500</span><span class="sxs-lookup"><span data-stu-id="1f87c-395">*StatusCode   == 500</span></span> |<span data-ttu-id="1f87c-396">Wszystkie</span><span class="sxs-lookup"><span data-stu-id="1f87c-396">All</span></span> |
| <span data-ttu-id="1f87c-397">Wzrost PercentNetworkError</span><span class="sxs-lookup"><span data-stu-id="1f87c-397">Increase in PercentNetworkError</span></span> |<span data-ttu-id="1f87c-398">AzureStorageClientDotNetV4.EventLogEntry.Level < 2</span><span class="sxs-lookup"><span data-stu-id="1f87c-398">AzureStorageClientDotNetV4.EventLogEntry.Level   < 2</span></span> |<span data-ttu-id="1f87c-399">Klient</span><span class="sxs-lookup"><span data-stu-id="1f87c-399">Client</span></span> |
| <span data-ttu-id="1f87c-400">Komunikaty HTTP 403 (zabroniony)</span><span class="sxs-lookup"><span data-stu-id="1f87c-400">HTTP 403 (Forbidden) messages</span></span> |<span data-ttu-id="1f87c-401">PROTOKÓŁ HTTP. Response.StatusCode == 403</span><span class="sxs-lookup"><span data-stu-id="1f87c-401">HTTP.Response.StatusCode   == 403</span></span> |<span data-ttu-id="1f87c-402">Sieć</span><span class="sxs-lookup"><span data-stu-id="1f87c-402">Network</span></span> |
| <span data-ttu-id="1f87c-403">HTTP 404 (nie znaleziono) wiadomości</span><span class="sxs-lookup"><span data-stu-id="1f87c-403">HTTP 404 (Not found) messages</span></span> |<span data-ttu-id="1f87c-404">PROTOKÓŁ HTTP. Response.StatusCode == 404</span><span class="sxs-lookup"><span data-stu-id="1f87c-404">HTTP.Response.StatusCode   == 404</span></span> |<span data-ttu-id="1f87c-405">Sieć</span><span class="sxs-lookup"><span data-stu-id="1f87c-405">Network</span></span> |
| <span data-ttu-id="1f87c-406">404 (wszystkie wersje)</span><span class="sxs-lookup"><span data-stu-id="1f87c-406">404 (all)</span></span> |<span data-ttu-id="1f87c-407">* StatusCode == 404</span><span class="sxs-lookup"><span data-stu-id="1f87c-407">*StatusCode   == 404</span></span> |<span data-ttu-id="1f87c-408">Wszystkie</span><span class="sxs-lookup"><span data-stu-id="1f87c-408">All</span></span> |
| <span data-ttu-id="1f87c-409">Udostępnione problem autoryzacji podpis dostępu (SAS)</span><span class="sxs-lookup"><span data-stu-id="1f87c-409">Shared Access Signature (SAS) authorization issue</span></span> |<span data-ttu-id="1f87c-410">AzureStorageLog.RequestStatus == "SASAuthorizationError"</span><span class="sxs-lookup"><span data-stu-id="1f87c-410">AzureStorageLog.RequestStatus ==  "SASAuthorizationError"</span></span> |<span data-ttu-id="1f87c-411">Sieć</span><span class="sxs-lookup"><span data-stu-id="1f87c-411">Network</span></span> |
| <span data-ttu-id="1f87c-412">HTTP 409 (konflikt) wiadomości</span><span class="sxs-lookup"><span data-stu-id="1f87c-412">HTTP 409 (Conflict) messages</span></span> |<span data-ttu-id="1f87c-413">PROTOKÓŁ HTTP. Response.StatusCode == 409</span><span class="sxs-lookup"><span data-stu-id="1f87c-413">HTTP.Response.StatusCode   == 409</span></span> |<span data-ttu-id="1f87c-414">Sieć</span><span class="sxs-lookup"><span data-stu-id="1f87c-414">Network</span></span> |
| <span data-ttu-id="1f87c-415">409 (wszystkie wersje)</span><span class="sxs-lookup"><span data-stu-id="1f87c-415">409 (all)</span></span> |<span data-ttu-id="1f87c-416">* StatusCode == 409</span><span class="sxs-lookup"><span data-stu-id="1f87c-416">*StatusCode   == 409</span></span> |<span data-ttu-id="1f87c-417">Wszystkie</span><span class="sxs-lookup"><span data-stu-id="1f87c-417">All</span></span> |
| <span data-ttu-id="1f87c-418">Działania o stanie transakcji ClientOtherErrors ma PercentSuccess małej lub analityka wpisy dziennika</span><span class="sxs-lookup"><span data-stu-id="1f87c-418">Low PercentSuccess or analytics log entries have   operations with transaction status of ClientOtherErrors</span></span> |<span data-ttu-id="1f87c-419">AzureStorageLog.RequestStatus == "ClientOtherError"</span><span class="sxs-lookup"><span data-stu-id="1f87c-419">AzureStorageLog.RequestStatus ==   "ClientOtherError"</span></span> |<span data-ttu-id="1f87c-420">Serwer</span><span class="sxs-lookup"><span data-stu-id="1f87c-420">Server</span></span> |
| <span data-ttu-id="1f87c-421">Ostrzeżenie Nagle'a</span><span class="sxs-lookup"><span data-stu-id="1f87c-421">Nagle   Warning</span></span> |<span data-ttu-id="1f87c-422">((AzureStorageLog.EndToEndLatencyMS-AzureStorageLog.ServerLatencyMS) > (AzureStorageLog.ServerLatencyMS * 1.5)) i (AzureStorageLog.RequestPacketSize < 1460) i (AzureStorageLog.EndToEndLatencyMS - AzureStorageLog.ServerLatencyMS > = 200)</span><span class="sxs-lookup"><span data-stu-id="1f87c-422">((AzureStorageLog.EndToEndLatencyMS   - AzureStorageLog.ServerLatencyMS) > (AzureStorageLog.ServerLatencyMS *   1.5)) and (AzureStorageLog.RequestPacketSize <1460) and (AzureStorageLog.EndToEndLatencyMS -   AzureStorageLog.ServerLatencyMS >= 200)</span></span> |<span data-ttu-id="1f87c-423">Serwer</span><span class="sxs-lookup"><span data-stu-id="1f87c-423">Server</span></span> |
| <span data-ttu-id="1f87c-424">Zakres czasu w dziennikach serwera i sieci</span><span class="sxs-lookup"><span data-stu-id="1f87c-424">Range of   time in Server and Network logs</span></span> |<span data-ttu-id="1f87c-425">#Timestamp > = 2014-10-20T16:36:38 i #Timestamp < = 2014-10-20T16:36:39</span><span class="sxs-lookup"><span data-stu-id="1f87c-425">#Timestamp   >= 2014-10-20T16:36:38 and #Timestamp <= 2014-10-20T16:36:39</span></span> |<span data-ttu-id="1f87c-426">Serwer, sieci</span><span class="sxs-lookup"><span data-stu-id="1f87c-426">Server, Network</span></span> |
| <span data-ttu-id="1f87c-427">Zakres czasu w dziennikach serwera</span><span class="sxs-lookup"><span data-stu-id="1f87c-427">Range of   time in Server logs</span></span> |<span data-ttu-id="1f87c-428">AzureStorageLog.Timestamp > = 2014-10-20T16:36:38 i AzureStorageLog.Timestamp < = 2014-10-20T16:36:39</span><span class="sxs-lookup"><span data-stu-id="1f87c-428">AzureStorageLog.Timestamp   >= 2014-10-20T16:36:38 and AzureStorageLog.Timestamp <=   2014-10-20T16:36:39</span></span> |<span data-ttu-id="1f87c-429">Serwer</span><span class="sxs-lookup"><span data-stu-id="1f87c-429">Server</span></span> |

## <a name="next-steps"></a><span data-ttu-id="1f87c-430">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="1f87c-430">Next steps</span></span>
<span data-ttu-id="1f87c-431">Aby uzyskać więcej informacji na temat rozwiązywania problemów scenariuszy end-to-end w usłudze Azure Storage zobacz następujące zasoby:</span><span class="sxs-lookup"><span data-stu-id="1f87c-431">For more information about troubleshooting end-to-end scenarios in Azure Storage, see these resources:</span></span>

* [<span data-ttu-id="1f87c-432">Monitorowanie, diagnozowanie i rozwiązywanie problemów z usługi Magazyn Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="1f87c-432">Monitor, diagnose, and troubleshoot Microsoft Azure Storage</span></span>](storage-monitoring-diagnosing-troubleshooting.md)
* [<span data-ttu-id="1f87c-433">Analityka magazynu</span><span class="sxs-lookup"><span data-stu-id="1f87c-433">Storage Analytics</span></span>](http://msdn.microsoft.com/library/azure/hh343270.aspx)
* [<span data-ttu-id="1f87c-434">Monitor konta magazynu w hello portalu Azure</span><span class="sxs-lookup"><span data-stu-id="1f87c-434">Monitor a storage account in hello Azure portal</span></span>](storage-monitor-storage-account.md)
* [<span data-ttu-id="1f87c-435">Transfer danych za pomocą wiersza polecenia Azcopy hello</span><span class="sxs-lookup"><span data-stu-id="1f87c-435">Transfer data with hello AzCopy Command-Line Utility</span></span>](storage-use-azcopy.md)
* [<span data-ttu-id="1f87c-436">Przewodnik operacyjny analizatora wiadomości firmy Microsoft</span><span class="sxs-lookup"><span data-stu-id="1f87c-436">Microsoft Message Analyzer Operating Guide</span></span>](http://technet.microsoft.com/library/jj649776.aspx)
