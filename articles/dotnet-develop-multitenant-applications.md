---
title: "Wzorzec aplikacji sieci Web z wieloma dzierżawcami | Dokumentacja firmy Microsoft"
description: "Znajdowanie omówienie architektury i wzorce projektowe, które opisują sposób wdrożenia aplikacji sieci web z wieloma dzierżawcami na platformie Azure."
services: 
documentationcenter: .net
author: wadepickett
manager: wpickett
editor: 
ms.assetid: 4f0281d2-1555-42b0-a99d-1222fade0b0f
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 06/05/2015
ms.author: wpickett
ms.openlocfilehash: 57ba0e46139bda2d74c9f7db0ffab2f2122b0df2
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 08/03/2017
---
# <a name="multitenant-applications-in-azure"></a><span data-ttu-id="fec94-103">Wielodostępna aplikacji na platformie Azure</span><span class="sxs-lookup"><span data-stu-id="fec94-103">Multitenant Applications in Azure</span></span>
<span data-ttu-id="fec94-104">Wielodostępna aplikacja jest zasób udostępniony, umożliwiający kilku użytkowników, lub "dzierżawy" wyświetlić aplikację tak, jakby była własnych.</span><span class="sxs-lookup"><span data-stu-id="fec94-104">A multitenant application is a shared resource that allows separate users, or "tenants," to view the application as though it was their own.</span></span> <span data-ttu-id="fec94-105">Typowy scenariusz, który pozwala na wielodostępnych aplikacji jest jeden, w której wszyscy użytkownicy aplikacji mogą chcieć dostosowanie środowiska użytkownika, ale w przeciwnym razie ma tych samych wymagań biznesowych.</span><span class="sxs-lookup"><span data-stu-id="fec94-105">A typical scenario that lends itself to a multitenant application is one in which all users of the application may wish to customize the user experience but otherwise have the same basic business requirements.</span></span> <span data-ttu-id="fec94-106">Przykładem dużych aplikacji wielodostępnym są usługi Office 365, Outlook.com i visualstudio.com.</span><span class="sxs-lookup"><span data-stu-id="fec94-106">Examples of large multitenant applications are Office 365, Outlook.com, and visualstudio.com.</span></span>

<span data-ttu-id="fec94-107">Z perspektywy dostawcę aplikacji z zalet wielodostępności przede wszystkim dotyczą efektywność działania i kosztów.</span><span class="sxs-lookup"><span data-stu-id="fec94-107">From an application provider's perspective, the benefits of multitenancy mostly relate to operational and cost efficiencies.</span></span> <span data-ttu-id="fec94-108">Jednej wersji aplikacji może zaspokoić potrzeby wiele dzierżaw/klientów, umożliwiając konsolidacji systemu zadań administracyjnych, takich jak monitorowanie, dostrajanie wydajności obsługi oprogramowania i kopie zapasowe danych.</span><span class="sxs-lookup"><span data-stu-id="fec94-108">One version of your application can meet the needs of many tenants/customers, allowing consolidation of system administration tasks such as monitoring, performance tuning, software maintenance, and data backups.</span></span>

<span data-ttu-id="fec94-109">Poniżej wymieniono najważniejsze cele i wymagania względem dostawcy.</span><span class="sxs-lookup"><span data-stu-id="fec94-109">The following provides a list of the most significant goals and requirements from a provider's perspective.</span></span>

* <span data-ttu-id="fec94-110">**Inicjowanie obsługi administracyjnej**: użytkownik musi mieć możliwość obsługi administracyjnej nowych dzierżaw dla aplikacji.</span><span class="sxs-lookup"><span data-stu-id="fec94-110">**Provisioning**: You must be able to provision new tenants for the application.</span></span>  <span data-ttu-id="fec94-111">Dla wielodostępnych aplikacji z wieloma dzierżawcami jest zazwyczaj konieczne jest zautomatyzować ten proces, należy włączyć samoobsługowe inicjowania obsługi administracyjnej.</span><span class="sxs-lookup"><span data-stu-id="fec94-111">For multitenant applications with a large number of tenants, it is usually necessary to automate this process by enabling self-service provisioning.</span></span>
* <span data-ttu-id="fec94-112">**Możliwość utrzymania**: użytkownik musi mieć możliwość uaktualnienia aplikacji i wykonywać inne zadania konserwacji, gdy jest ona używana przez wielu dzierżawców.</span><span class="sxs-lookup"><span data-stu-id="fec94-112">**Maintainability**: You must be able to upgrade the application and perform other maintenance tasks while multiple tenants are using it.</span></span>
* <span data-ttu-id="fec94-113">**Monitorowanie**: musi mieć możliwość monitorowania aplikacji przez cały czas do identyfikowania problemów i ich rozwiązywania.</span><span class="sxs-lookup"><span data-stu-id="fec94-113">**Monitoring**: You must be able to monitor the application at all times to identify any problems and to troubleshoot them.</span></span> <span data-ttu-id="fec94-114">W tym monitorowania, jak każdy dzierżawca jest korzystanie z aplikacji.</span><span class="sxs-lookup"><span data-stu-id="fec94-114">This includes monitoring how each tenant is using the application.</span></span>

<span data-ttu-id="fec94-115">Właściwie zaimplementowana aplikacji wielodostępnym zapewnia następujące korzyści użytkownikom.</span><span class="sxs-lookup"><span data-stu-id="fec94-115">A properly implemented multitenant application provides the following benefits to users.</span></span>

* <span data-ttu-id="fec94-116">**Izolacja**: działania poszczególnych dzierżaw nie wpływają na używanie aplikacji przez innych dzierżawców.</span><span class="sxs-lookup"><span data-stu-id="fec94-116">**Isolation**: The activities of individual tenants do not affect the use of the application by other tenants.</span></span> <span data-ttu-id="fec94-117">Dzierżawcy nie może uzyskać dostępu w danych.</span><span class="sxs-lookup"><span data-stu-id="fec94-117">Tenants cannot access each other's data.</span></span> <span data-ttu-id="fec94-118">Wygląda na to dzierżawcy tak, jakby mają wyłącznego użytku aplikacji.</span><span class="sxs-lookup"><span data-stu-id="fec94-118">It appears to the tenant as though they have exclusive use of the application.</span></span>
* <span data-ttu-id="fec94-119">**Dostępność**: poszczególnych dzierżawcy chcą aplikacji stale dostępny, być może z gwarancje określone w umowie SLA.</span><span class="sxs-lookup"><span data-stu-id="fec94-119">**Availability**: Individual tenants want the application to be constantly available, perhaps with guarantees defined in an SLA.</span></span> <span data-ttu-id="fec94-120">Ponownie działania innych dzierżawców nie wpływają na dostępność aplikacji.</span><span class="sxs-lookup"><span data-stu-id="fec94-120">Again, the activities of other tenants should not affect the availability of the application.</span></span>
* <span data-ttu-id="fec94-121">**Skalowalność**: aplikacja może obsłużyć spełnić wymagania poszczególnych dzierżawców.</span><span class="sxs-lookup"><span data-stu-id="fec94-121">**Scalability**: The application scales to meet the demand of individual tenants.</span></span> <span data-ttu-id="fec94-122">Obecność i akcje innych dzierżawców nie wpływają na wydajność aplikacji.</span><span class="sxs-lookup"><span data-stu-id="fec94-122">The presence and actions of other tenants should not affect the performance of the application.</span></span>
* <span data-ttu-id="fec94-123">**Koszty**: koszty są niższe niż uruchamianie aplikacji dedykowanym, pojedynczej dzierżawy, ponieważ wielodostępność umożliwia udostępnianie zasobów.</span><span class="sxs-lookup"><span data-stu-id="fec94-123">**Costs**: Costs are lower than running a dedicated, single-tenant application because multi-tenancy enables the sharing of resources.</span></span>
* <span data-ttu-id="fec94-124">**Dostosowywalności**.</span><span class="sxs-lookup"><span data-stu-id="fec94-124">**Customizability**.</span></span> <span data-ttu-id="fec94-125">Możliwość dostosowywania aplikacji dla indywidualnych dzierżawcy na różne sposoby, takie jak dodawanie lub usuwanie funkcji, zmienianie kolorów i logo lub nawet dodanie własnych kod lub skrypt.</span><span class="sxs-lookup"><span data-stu-id="fec94-125">The ability to customize the application for an individual tenant in various ways such as adding or removing features, changing colors and logos, or even adding their own code or script.</span></span>

<span data-ttu-id="fec94-126">Krótko mówiąc gdy istnieje wiele kwestii, które należy wziąć pod uwagę, udostępnianie wysoce skalowalna usługi, istnieją również liczbę cele i wymagania, które są wspólne dla wielu aplikacji wielodostępnym.</span><span class="sxs-lookup"><span data-stu-id="fec94-126">In short, while there are many considerations that you must take into account to provide a highly scalable service, there are also a number of the goals and requirements that are common to many multitenant applications.</span></span> <span data-ttu-id="fec94-127">Niektóre mogą nie być odpowiednie w określonych scenariuszach i znaczenie poszczególnych cele i wymagania będą się różnić w każdym ze scenariuszy.</span><span class="sxs-lookup"><span data-stu-id="fec94-127">Some may not be relevant in specific scenarios, and the importance of individual goals and requirements will differ in each scenario.</span></span> <span data-ttu-id="fec94-128">Jako dostawca wielodostępnych aplikacji również należy cele i wymagania, takich jak spotkania umowę cele i wymagania, zyskowności, rozliczeń, wiele poziomów usług, inicjowania obsługi administracyjnej, łatwości monitorowania i automatyzacji.</span><span class="sxs-lookup"><span data-stu-id="fec94-128">As a provider of the multitenant application, you will also have goals and requirements such as, meeting the tenants' goals and requirements, profitability, billing, multiple service levels, provisioning, maintainability monitoring, and automation.</span></span>

<span data-ttu-id="fec94-129">Aby uzyskać więcej informacji na dodatkowe zagadnienia dotyczące projektu wielodostępnych aplikacji, zobacz [Hosting aplikacji wielodostępnym, w systemie Azure][Hosting a Multi-Tenant Application on Azure].</span><span class="sxs-lookup"><span data-stu-id="fec94-129">For more information on additional design considerations of a multitenant application, see [Hosting a Multi-Tenant Application on Azure][Hosting a Multi-Tenant Application on Azure].</span></span> <span data-ttu-id="fec94-130">Aby uzyskać informacje na temat typowych wzorców architektury danych w aplikacjach baz danych typu oprogramowanie jako usługa (SaaS), zobacz artykuł [Design Patterns for Multi-tenant SaaS Applications with Azure SQL Database](sql-database/sql-database-design-patterns-multi-tenancy-saas-applications.md) (Wzorce projektowe dla wielodostępnych aplikacji SaaS korzystających z usługi Azure SQL Database).</span><span class="sxs-lookup"><span data-stu-id="fec94-130">For information on common data architecture patterns of multi-tenant software-as-a-service (SaaS) database applications, see [Design Patterns for Multi-tenant SaaS Applications with Azure SQL Database](sql-database/sql-database-design-patterns-multi-tenancy-saas-applications.md).</span></span> 

<span data-ttu-id="fec94-131">Platforma Azure oferuje wiele funkcji umożliwiających klucza problemy podczas projektowania systemu wielodostępnym.</span><span class="sxs-lookup"><span data-stu-id="fec94-131">Azure provides many features that allow you to address the key problems encountered when designing a multitenant system.</span></span>

<span data-ttu-id="fec94-132">**Izolacji**</span><span class="sxs-lookup"><span data-stu-id="fec94-132">**Isolation**</span></span>

* <span data-ttu-id="fec94-133">Witryny sieci Web segmentu dzierżawcy przez nagłówkami hosta lub bez komunikacji SSL</span><span class="sxs-lookup"><span data-stu-id="fec94-133">Segment Website Tenants by Host Headers with or without SSL communication</span></span>
* <span data-ttu-id="fec94-134">Segment dzierżaw witryny sieci Web na podstawie parametrów zapytania</span><span class="sxs-lookup"><span data-stu-id="fec94-134">Segment Website Tenants by Query Parameters</span></span>
* <span data-ttu-id="fec94-135">Usługi sieci Web, rolę procesu roboczego</span><span class="sxs-lookup"><span data-stu-id="fec94-135">Web Services in Worker Roles</span></span>
  * <span data-ttu-id="fec94-136">Role proces roboczy.</span><span class="sxs-lookup"><span data-stu-id="fec94-136">Worker Roles.</span></span> <span data-ttu-id="fec94-137">które zwykle przetwarzania danych do wewnętrznej bazy danych aplikacji.</span><span class="sxs-lookup"><span data-stu-id="fec94-137">that typically process data on the backend of an application.</span></span>
  * <span data-ttu-id="fec94-138">Role sieci Web, które zwykle pełnić rolę serwera sieci Web dla aplikacji.</span><span class="sxs-lookup"><span data-stu-id="fec94-138">Web Roles that typically act as the frontend for applications.</span></span>

<span data-ttu-id="fec94-139">**Storage**</span><span class="sxs-lookup"><span data-stu-id="fec94-139">**Storage**</span></span>

<span data-ttu-id="fec94-140">Zarządzanie danymi, takie jak usługi baza danych SQL Azure lub usługi Azure Storage, takich jak usługi tabeli, która udostępnia usługi do przechowywania dużych ilości danych bez struktury oraz usługa Blob, która zapewnia usługi do przechowywania dużych ilości nieustrukturyzowanych tekstowe lub binarne dane, takie jak wideo, audio i obrazów.</span><span class="sxs-lookup"><span data-stu-id="fec94-140">Data management such as Azure SQL Database or Azure Storage services such as the Table service which provides services for storage of large amounts of unstructured data and the Blob service which provides services to store large amounts of unstructured text or binary data such as video, audio and images.</span></span>

* <span data-ttu-id="fec94-141">Zabezpieczanie danych wielodostępnej w bazie danych SQL odpowiednie logowania do programu SQL Server dla dzierżawy.</span><span class="sxs-lookup"><span data-stu-id="fec94-141">Securing Multitenant Data in SQL Database appropriate per-tenant SQL Server logins.</span></span>
* <span data-ttu-id="fec94-142">Przy użyciu tabel Azure dla aplikacji zasobów za pośrednictwem zasad dostępu na poziomie kontenera można umożliwia dostosowanie uprawnień bez konieczności wydania nowego adresu URL dla zasobów chronione przy użyciu sygnatury dostępu współdzielonego.</span><span class="sxs-lookup"><span data-stu-id="fec94-142">Using Azure Tables for Application Resources By specifying a container level access policy, you can the ability to adjust permissions without having to issue new URL's for the resources protected with shared access signatures.</span></span>
* <span data-ttu-id="fec94-143">Kolejek platformy Azure dla kolejek Azure zasoby aplikacji są najczęściej używane do przetwarzania dysku imieniu dzierżawcy, ale może również służyć do rozpraszających wymagane do obsługi lub zarządzania.</span><span class="sxs-lookup"><span data-stu-id="fec94-143">Azure Queues for Application Resources Azure queues are commonly used to drive processing on behalf of tenants, but may also be used to distribute work required for provisioning or management.</span></span>
* <span data-ttu-id="fec94-144">Kolejek usługi Service Bus dla zasobów aplikacji, który wypycha działać do udostępnionej usługi, jeżeli nadawca każdej dzierżawy ma tylko uprawnienia (jak określony na podstawie oświadczeń wystawione przez usługi ACS) można użyć pojedynczej kolejki do wypychania do tej kolejki, chociaż tylko odbiorcy z usługi uprawnienie do ściągnięcia z kolejki danych pochodzących z wielu dzierżawców.</span><span class="sxs-lookup"><span data-stu-id="fec94-144">Service Bus Queues for Application Resources that pushes work to a shared a service, you can use a single queue where each tenant sender only has permissions (as derived from claims issued from ACS) to push to that queue, while only the receivers from the service have permission to pull from the queue the data coming from multiple tenants.</span></span>

<span data-ttu-id="fec94-145">**Połączenie i usług zabezpieczeń**</span><span class="sxs-lookup"><span data-stu-id="fec94-145">**Connection and Security Services**</span></span>

* <span data-ttu-id="fec94-146">Usługa Azure Service Bus, infrastruktury obsługi wiadomości, która znajduje się między aplikacjami, dzięki czemu do wymiany wiadomości w sposób luźno powiązanych ulepszone skali i odporność.</span><span class="sxs-lookup"><span data-stu-id="fec94-146">Azure Service Bus, a messaging infrastructure that sits between applications allowing them to exchange messages in a loosely coupled way for improved scale and resiliency.</span></span>

<span data-ttu-id="fec94-147">**Usługi sieciowe**</span><span class="sxs-lookup"><span data-stu-id="fec94-147">**Networking Services**</span></span>

<span data-ttu-id="fec94-148">Platforma Azure udostępnia kilka usług sieciowych, które obsługuje uwierzytelnianie i zwiększyć możliwości zarządzania hostowanej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="fec94-148">Azure provides several networking services that support authentication, and improve manageability of your hosted applications.</span></span> <span data-ttu-id="fec94-149">Te usługi są następujące:</span><span class="sxs-lookup"><span data-stu-id="fec94-149">These services include the following:</span></span>

* <span data-ttu-id="fec94-150">Azure umożliwia sieci wirtualnej, należy udostępnić i zarządzanie wirtualnych sieci prywatnych (VPN) na platformie Azure jak bezpiecznie połączyć je z lokalnej infrastruktury IT.</span><span class="sxs-lookup"><span data-stu-id="fec94-150">Azure Virtual Network lets you provision and manage virtual private networks (VPNs) in Azure as well as securely link these with on-premises IT infrastructure.</span></span>
* <span data-ttu-id="fec94-151">Menedżer ruchu sieci wirtualnej umożliwia równoważenia obciążenia przychodzącego ruchu w wielu usługach Azure hostowanej czy pracujesz w tym samym centrum danych lub w różnych centrach danych na całym świecie.</span><span class="sxs-lookup"><span data-stu-id="fec94-151">Virtual Network Traffic Manager allows you to load balance incoming traffic across multiple hosted Azure services whether they're running in the same datacenter or across different datacenters around the world.</span></span>
* <span data-ttu-id="fec94-152">Azure Active Directory (Azure AD) jest usługą nowoczesny, opartego na interfejsie REST, która udostępnia możliwości kontroli dostępu i zarządzania tożsamościami dla aplikacji w chmurze.</span><span class="sxs-lookup"><span data-stu-id="fec94-152">Azure Active Directory (Azure AD) is a modern, REST-based service that provides identity management and access control capabilities for your cloud applications.</span></span> <span data-ttu-id="fec94-153">Używanie programu Azure AD dla zasobów aplikacji w usłudze Azure AD zapewnia prosty sposób uwierzytelniania i autoryzacji użytkowników do uzyskiwania dostępu do usług i aplikacji sieci web integrację funkcji uwierzytelniania i autoryzacji, aby uwzględnić poza swój kod.</span><span class="sxs-lookup"><span data-stu-id="fec94-153">Using Azure AD for Application Resources Azure AD to provides an easy way of authenticating and authorizing users to gain access to your web applications and services while allowing the features of authentication and authorization to be factored out of your code.</span></span>
* <span data-ttu-id="fec94-154">Usługa Azure Service Bus zapewnia bezpiecznej wymiany komunikatów i możliwość przepływu danych dla rozproszonej i hybrydowych aplikacji, takie jak komunikacja między Azure hostowanej aplikacji i lokalnych aplikacji i usług, bez konieczności złożonych zapory i zabezpieczeń infrastruktura.</span><span class="sxs-lookup"><span data-stu-id="fec94-154">Azure Service Bus provides a secure messaging and data flow capability for distributed and hybrid applications, such as communication between Azure hosted applications and on-premises applications and services, without requiring complex firewall and security infrastructures.</span></span> <span data-ttu-id="fec94-155">Przy użyciu przekaźnik magistrali usług dla zasobów aplikacji do usług, które są widoczne jako punkty końcowe mogą należeć do dzierżawy (na przykład hostowane poza systemu, takie jak lokalnie) lub mogą być udostępniane specjalnie dla dzierżawcy (ponieważ usług dane poufne, specyficznego dla dzierżawy są przesyłane w nich).</span><span class="sxs-lookup"><span data-stu-id="fec94-155">Using Service Bus Relay for Application Resources to The services that are exposed as endpoints may belong to the tenant (for example, hosted outside of the system, such as on-premises), or they may be services provisioned specifically for the tenant (because sensitive, tenant-specific data travels across them).</span></span>

<span data-ttu-id="fec94-156">**Inicjowanie obsługi zasobów**</span><span class="sxs-lookup"><span data-stu-id="fec94-156">**Provisioning Resources**</span></span>

<span data-ttu-id="fec94-157">Platforma Azure udostępnia kilka różnych sposobów udostępniania nowi dzierżawcy dla aplikacji.</span><span class="sxs-lookup"><span data-stu-id="fec94-157">Azure provides a number of ways provision new tenants for the application.</span></span> <span data-ttu-id="fec94-158">Dla wielodostępnych aplikacji z wieloma dzierżawcami jest zazwyczaj konieczne jest zautomatyzować ten proces, należy włączyć samoobsługowe inicjowania obsługi administracyjnej.</span><span class="sxs-lookup"><span data-stu-id="fec94-158">For multitenant applications with a large number of tenants, it is usually necessary to automate this process by enabling self-service provisioning.</span></span>

* <span data-ttu-id="fec94-159">Proces roboczy role umożliwiają dostarczanie i dezaktywowanie udostępniania dla każdego dzierżawcy zasoby (na przykład gdy nowej dzierżawy znaki w górę lub anuluje), zbierać metryki pomiaru użycia i Zarządzaj skalowania po niektórych harmonogramu lub w odpowiedzi na przekroczenia progów wydajności wskaźniki.</span><span class="sxs-lookup"><span data-stu-id="fec94-159">Worker roles allow you to provision and de-provision per tenant resources (such as when a new tenant signs-up or cancels), collect metrics for metering use, and manage scale following a certain schedule or in response to the crossing of thresholds of key performance indicators.</span></span> <span data-ttu-id="fec94-160">Tej samej roli może również służyć do wypychania aktualizacji i uaktualnień do rozwiązania.</span><span class="sxs-lookup"><span data-stu-id="fec94-160">This same role may also be used to push out updates and upgrades to the solution.</span></span>
* <span data-ttu-id="fec94-161">Obiekty BLOB platformy Azure można użyć do udostępnienia obliczeń lub wstępnie zainicjowana pakietów, obrazy VHD i inne zasoby usługi zasobów magazynu dla nowego dzierżawcy zapewniając zasady dostępu na poziomie kontenera ochrony mocy obliczeniowej.</span><span class="sxs-lookup"><span data-stu-id="fec94-161">Azure Blobs can be used to provision compute or pre-initialized storage resources for new tenants while providing container level access policies to protect the compute service Packages, VHD images and other resources.</span></span>
* <span data-ttu-id="fec94-162">Opcje inicjowania obsługi administracyjnej zasobów bazy danych SQL dla dzierżawy obejmują:</span><span class="sxs-lookup"><span data-stu-id="fec94-162">Options for provisioning SQL Database resources for a tenant include:</span></span>
  
  * <span data-ttu-id="fec94-163">DDL w skryptach lub osadzony jako zasoby w obrębie zestawów</span><span class="sxs-lookup"><span data-stu-id="fec94-163">DDL in scripts or embedded as resources within assemblies</span></span>
  * <span data-ttu-id="fec94-164">SQL Server 2008 R2 pakiety DAC wdrożyć programowo.</span><span class="sxs-lookup"><span data-stu-id="fec94-164">SQL Server 2008 R2 DAC Packages deployed programmatically.</span></span>
  * <span data-ttu-id="fec94-165">Kopiowanie z bazy danych master odwołania</span><span class="sxs-lookup"><span data-stu-id="fec94-165">Copying from a master reference database</span></span>
  * <span data-ttu-id="fec94-166">Do obsługi administracyjnej nowych baz danych z pliku przy użyciu bazy danych importu i eksportu.</span><span class="sxs-lookup"><span data-stu-id="fec94-166">Using database Import and Export to provision new databases from a file.</span></span>

<!--links-->

[Hosting a Multi-Tenant Application on Azure]: http://msdn.microsoft.com/library/hh534480.aspx
[Designing Multitenant Applications on Azure]: http://msdn.microsoft.com/library/windowsazure/hh689716
