---
title: "grupy zabezpieczeń aaaNetwork na platformie Azure | Dokumentacja firmy Microsoft"
description: "Dowiedz się, jak przepływ tooisolate i kontrolę ruchu w sieci wirtualne za pomocą zapory hello rozproszone na platformie Azure przy użyciu grup zabezpieczeń sieci."
services: virtual-network
documentationcenter: na
author: jimdial
manager: timlt
editor: tysonn
ms.assetid: 20e850fc-6456-4b5f-9a3f-a8379b052bc9
ms.service: virtual-network
ms.devlang: na
ms.topic: get-started-article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 02/11/2016
ms.author: jdial
ms.openlocfilehash: 3528ce833dab17977327c3c9ae0e78316e5e6a05
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="filter-network-traffic-with-network-security-groups"></a><span data-ttu-id="9c7fa-103">Filtrowanie ruchu sieciowego przy użyciu sieciowych grup zabezpieczeń</span><span class="sxs-lookup"><span data-stu-id="9c7fa-103">Filter network traffic with network security groups</span></span>

<span data-ttu-id="9c7fa-104">Grupa zabezpieczeń sieci (NSG) zawiera listę reguł zabezpieczeń, które Zezwalaj lub Odmów tooresources ruchu sieciowego połączone sieci wirtualne tooAzure (VNet).</span><span class="sxs-lookup"><span data-stu-id="9c7fa-104">A network security group (NSG) contains a list of security rules that allow or deny network traffic tooresources connected tooAzure Virtual Networks (VNet).</span></span> <span data-ttu-id="9c7fa-105">Grupy NSG mogą być skojarzone toosubnets, poszczególnych maszyn wirtualnych (klasyczne) lub interfejsów sieciowych poszczególnych (NIC) dołączony tooVMs (Resource Manager).</span><span class="sxs-lookup"><span data-stu-id="9c7fa-105">NSGs can be associated toosubnets, individual VMs (classic), or individual network interfaces (NIC) attached tooVMs (Resource Manager).</span></span> <span data-ttu-id="9c7fa-106">Gdy grupa NSG jest skojarzona tooa podsieci, mają zastosowanie reguły hello tooall zasobów połączonych toohello podsieci.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-106">When an NSG is associated tooa subnet, hello rules apply tooall resources connected toohello subnet.</span></span> <span data-ttu-id="9c7fa-107">Dodatkowo można ograniczyć ruch również skojarzyć tooa NSG maszyny Wirtualnej lub karty sieciowej.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-107">Traffic can further be restricted by also associating an NSG tooa VM or NIC.</span></span>

> [!NOTE]
> <span data-ttu-id="9c7fa-108">Platforma Azure oferuje dwa różne modele wdrażania związane z tworzeniem zasobów i pracą z nimi: [model wdrażania przy użyciu usługi Azure Resource Manager i model klasyczny](../resource-manager-deployment-model.md).</span><span class="sxs-lookup"><span data-stu-id="9c7fa-108">Azure has two different deployment models for creating and working with resources:  [Resource Manager and classic](../resource-manager-deployment-model.md).</span></span> <span data-ttu-id="9c7fa-109">W tym artykule omówiono przy użyciu oba modele, ale firma Microsoft zaleca się, że większości nowych wdrożeń korzystać hello modelu Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-109">This article covers using both models, but Microsoft recommends that most new deployments use hello Resource Manager model.</span></span>

## <a name="nsg-resource"></a><span data-ttu-id="9c7fa-110">Zasób sieciowej grupy zabezpieczeń</span><span class="sxs-lookup"><span data-stu-id="9c7fa-110">NSG resource</span></span>
<span data-ttu-id="9c7fa-111">Grupy NSG zawierają hello następujące właściwości:</span><span class="sxs-lookup"><span data-stu-id="9c7fa-111">NSGs contain hello following properties:</span></span>

| <span data-ttu-id="9c7fa-112">Właściwość</span><span class="sxs-lookup"><span data-stu-id="9c7fa-112">Property</span></span> | <span data-ttu-id="9c7fa-113">Opis</span><span class="sxs-lookup"><span data-stu-id="9c7fa-113">Description</span></span> | <span data-ttu-id="9c7fa-114">Ograniczenia</span><span class="sxs-lookup"><span data-stu-id="9c7fa-114">Constraints</span></span> | <span data-ttu-id="9c7fa-115">Zagadnienia do rozważenia</span><span class="sxs-lookup"><span data-stu-id="9c7fa-115">Considerations</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="9c7fa-116">Nazwa</span><span class="sxs-lookup"><span data-stu-id="9c7fa-116">Name</span></span> |<span data-ttu-id="9c7fa-117">Nazwa hello NSG</span><span class="sxs-lookup"><span data-stu-id="9c7fa-117">Name for hello NSG</span></span> |<span data-ttu-id="9c7fa-118">Musi być unikatowa w obrębie regionu hello.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-118">Must be unique within hello region.</span></span><br/><span data-ttu-id="9c7fa-119">Może zawierać litery, cyfry, podkreślenia, kropki i łączniki.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-119">Can contain letters, numbers, underscores, periods, and hyphens.</span></span><br/><span data-ttu-id="9c7fa-120">Musi zaczynać się literą lub cyfrą.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-120">Must start with a letter or number.</span></span><br/><span data-ttu-id="9c7fa-121">Musi kończyć się literą, cyfrą lub podkreśleniem.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-121">Must end with a letter, number, or underscore.</span></span><br/><span data-ttu-id="9c7fa-122">Nie może przekraczać 80 znaków.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-122">Cannot exceed 80 characters.</span></span> |<span data-ttu-id="9c7fa-123">Ponieważ toocreate może być konieczne kilku grup NSG, upewnij się, że masz konwencji nazewnictwa, która ułatwia funkcję hello tooidentify łatwe.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-123">Since you may need toocreate several NSGs, make sure you have a naming convention that makes it easy tooidentify hello function of your NSGs.</span></span> |
| <span data-ttu-id="9c7fa-124">Region</span><span class="sxs-lookup"><span data-stu-id="9c7fa-124">Region</span></span> |<span data-ttu-id="9c7fa-125">Azure [region](https://azure.microsoft.com/regions) gdzie hello grupa NSG jest tworzona.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-125">Azure [region](https://azure.microsoft.com/regions) where hello NSG is created.</span></span> |<span data-ttu-id="9c7fa-126">Grupy NSG mogą być tylko skojarzona tooresources w hello tego samego regionu hello NSG.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-126">NSGs can only be associated tooresources within hello same region as hello NSG.</span></span> |<span data-ttu-id="9c7fa-127">toolearn, o ile grupy NSG mogą mieć na region, odczytać hello [Azure ogranicza](../azure-subscription-service-limits.md#virtual-networking-limits-classic) artykułu.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-127">toolearn about how many NSGs you can have per region, read hello [Azure limits](../azure-subscription-service-limits.md#virtual-networking-limits-classic) article.</span></span>|
| <span data-ttu-id="9c7fa-128">Grupa zasobów</span><span class="sxs-lookup"><span data-stu-id="9c7fa-128">Resource group</span></span> |<span data-ttu-id="9c7fa-129">Witaj [grupy zasobów](../azure-resource-manager/resource-group-overview.md#resource-groups) hello w istnieje grupa NSG.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-129">hello [resource group](../azure-resource-manager/resource-group-overview.md#resource-groups) hello NSG exists in.</span></span> |<span data-ttu-id="9c7fa-130">Mimo że grupy NSG istnieje w grupie zasobów, może być skojarzony tooresources w dowolnej grupie zasobów, tak długo, jak hello zasób jest częścią hello tego samego regionu Azure hello NSG.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-130">Although an NSG exists in a resource group, it can be associated tooresources in any resource group, as long as hello resource is part of hello same Azure region as hello NSG.</span></span> |<span data-ttu-id="9c7fa-131">Grupy zasobów są używane toomanage razem w ramach jednostki wdrożenia wielu zasobów.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-131">Resource groups are used toomanage multiple resources together, as a deployment unit.</span></span><br/><span data-ttu-id="9c7fa-132">Można rozważyć zgrupowanie hello grupy NSG z zasobami, które jest ona skojarzona.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-132">You may consider grouping hello NSG with resources it is associated to.</span></span> |
| <span data-ttu-id="9c7fa-133">Reguły</span><span class="sxs-lookup"><span data-stu-id="9c7fa-133">Rules</span></span> |<span data-ttu-id="9c7fa-134">Reguły ruchu przychodzącego i wychodzącego określające, jaki ruch jest dozwolony lub zablokowany.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-134">Inbound or outbound rules that define what traffic is allowed or denied.</span></span> | |<span data-ttu-id="9c7fa-135">Zobacz hello [reguły NSG](#Nsg-rules) sekcji tego artykułu.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-135">See hello [NSG rules](#Nsg-rules) section of this article.</span></span> |

> [!NOTE]
> <span data-ttu-id="9c7fa-136">Listy kontroli dostępu oparte na punktach końcowych i zabezpieczeń sieciowych grup nie są obsługiwane na hello wystąpienia tej samej maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-136">Endpoint-based ACLs and network security groups are not supported on hello same VM instance.</span></span> <span data-ttu-id="9c7fa-137">Toouse grupy NSG i już listę ACL punktów końcowych w miejscu, najpierw usuń listę ACL punktów końcowych hello.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-137">If you want toouse an NSG and have an endpoint ACL already in place, first remove hello endpoint ACL.</span></span> <span data-ttu-id="9c7fa-138">toolearn sposób odczytać tooremove ACL hello [Zarządzanie listy kontroli dostępu (ACL) dla punktów końcowych przy użyciu programu PowerShell](virtual-networks-acl-powershell.md) artykułu.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-138">toolearn how tooremove an ACL, read hello [Managing Access Control Lists (ACLs) for Endpoints by using PowerShell](virtual-networks-acl-powershell.md) article.</span></span>
> 

### <a name="nsg-rules"></a><span data-ttu-id="9c7fa-139">Reguły sieciowej grupy zabezpieczeń</span><span class="sxs-lookup"><span data-stu-id="9c7fa-139">NSG rules</span></span>
<span data-ttu-id="9c7fa-140">Reguły NSG obejmują następujące właściwości hello:</span><span class="sxs-lookup"><span data-stu-id="9c7fa-140">NSG rules contain hello following properties:</span></span>

| <span data-ttu-id="9c7fa-141">Właściwość</span><span class="sxs-lookup"><span data-stu-id="9c7fa-141">Property</span></span> | <span data-ttu-id="9c7fa-142">Opis</span><span class="sxs-lookup"><span data-stu-id="9c7fa-142">Description</span></span> | <span data-ttu-id="9c7fa-143">Ograniczenia</span><span class="sxs-lookup"><span data-stu-id="9c7fa-143">Constraints</span></span> | <span data-ttu-id="9c7fa-144">Zagadnienia do rozważenia</span><span class="sxs-lookup"><span data-stu-id="9c7fa-144">Considerations</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="9c7fa-145">**Nazwa**</span><span class="sxs-lookup"><span data-stu-id="9c7fa-145">**Name**</span></span> |<span data-ttu-id="9c7fa-146">Nazwa reguły hello.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-146">Name for hello rule.</span></span> |<span data-ttu-id="9c7fa-147">Musi być unikatowa w obrębie regionu hello.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-147">Must be unique within hello region.</span></span><br/><span data-ttu-id="9c7fa-148">Może zawierać litery, cyfry, podkreślenia, kropki i łączniki.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-148">Can contain letters, numbers, underscores, periods, and hyphens.</span></span><br/><span data-ttu-id="9c7fa-149">Musi zaczynać się literą lub cyfrą.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-149">Must start with a letter or number.</span></span><br/><span data-ttu-id="9c7fa-150">Musi kończyć się literą, cyfrą lub podkreśleniem.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-150">Must end with a letter, number, or underscore.</span></span><br/><span data-ttu-id="9c7fa-151">Nie może przekraczać 80 znaków.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-151">Cannot exceed 80 characters.</span></span> |<span data-ttu-id="9c7fa-152">Może zawierać kilka reguł NSG, upewnij się, że postępuj zgodnie z konwencją nazewnictwa, która pozwala tooidentify hello funkcji reguły.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-152">You may have several rules within an NSG, so make sure you follow a naming convention that allows you tooidentify hello function of your rule.</span></span> |
| <span data-ttu-id="9c7fa-153">**Protokół**</span><span class="sxs-lookup"><span data-stu-id="9c7fa-153">**Protocol**</span></span> |<span data-ttu-id="9c7fa-154">Protokół toomatch hello reguły.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-154">Protocol toomatch for hello rule.</span></span> |<span data-ttu-id="9c7fa-155">TCP, UDP lub *</span><span class="sxs-lookup"><span data-stu-id="9c7fa-155">TCP, UDP, or *</span></span> |<span data-ttu-id="9c7fa-156">Przy użyciu * tylko protokół zawiera ICMP (tylko ruch wschód-zachód), tak jak także protokołów UDP i TCP i może zmniejszyć hello liczbę potrzebnych reguł.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-156">Using * as a protocol includes ICMP (East-West traffic only), as well as UDP and TCP, and may reduce hello number of rules you need.</span></span><br/><span data-ttu-id="9c7fa-157">At hello sam czas, przy użyciu * może być rozwiązaniem zbyt ogólnym, dlatego zalecane jest, że używasz * tylko wtedy, gdy jest to konieczne.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-157">At hello same time, using * might be too broad an approach, so it's recommended that you use * only when necessary.</span></span> |
| <span data-ttu-id="9c7fa-158">**Zakres portów źródłowych**</span><span class="sxs-lookup"><span data-stu-id="9c7fa-158">**Source port range**</span></span> |<span data-ttu-id="9c7fa-159">Toomatch zakres portu źródłowego hello reguły.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-159">Source port range toomatch for hello rule.</span></span> |<span data-ttu-id="9c7fa-160">Numer pojedynczego portu od 1 too65535, zakres portu (przykład: 1-65535), lub * (dla wszystkich portów).</span><span class="sxs-lookup"><span data-stu-id="9c7fa-160">Single port number from 1 too65535, port range (example: 1-65535), or * (for all ports).</span></span> |<span data-ttu-id="9c7fa-161">Porty źródłowe mogą być efemeryczne.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-161">Source ports could be ephemeral.</span></span> <span data-ttu-id="9c7fa-162">Jeśli program kliencki nie korzysta z określonego portu, należy w większości przypadków użyć znaku *.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-162">Unless your client program is using a specific port, use * in most cases.</span></span><br/><span data-ttu-id="9c7fa-163">Spróbuj toouse zakresy portów, jak hello możliwe tooavoid wymagają wielu reguł.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-163">Try toouse port ranges as much as possible tooavoid hello need for multiple rules.</span></span><br/><span data-ttu-id="9c7fa-164">Wielu portów lub zakresów portów nie można oddzielać przecinkiem.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-164">Multiple ports or port ranges cannot be grouped by a comma.</span></span> |
| <span data-ttu-id="9c7fa-165">**Zakres portów docelowych**</span><span class="sxs-lookup"><span data-stu-id="9c7fa-165">**Destination port range**</span></span> |<span data-ttu-id="9c7fa-166">Port docelowy zakres toomatch hello reguły.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-166">Destination port range toomatch for hello rule.</span></span> |<span data-ttu-id="9c7fa-167">Numer pojedynczego portu od 1 too65535, zakres portu (przykład: 1-65535), lub \* (dla wszystkich portów).</span><span class="sxs-lookup"><span data-stu-id="9c7fa-167">Single port number from 1 too65535, port range (example: 1-65535), or \* (for all ports).</span></span> |<span data-ttu-id="9c7fa-168">Spróbuj toouse zakresy portów, jak hello możliwe tooavoid wymagają wielu reguł.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-168">Try toouse port ranges as much as possible tooavoid hello need for multiple rules.</span></span><br/><span data-ttu-id="9c7fa-169">Wielu portów lub zakresów portów nie można oddzielać przecinkiem.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-169">Multiple ports or port ranges cannot be grouped by a comma.</span></span> |
| <span data-ttu-id="9c7fa-170">**Prefiks adresu źródłowego**</span><span class="sxs-lookup"><span data-stu-id="9c7fa-170">**Source address prefix**</span></span> |<span data-ttu-id="9c7fa-171">Źródłowy adres prefiks lub znacznik toomatch hello reguły.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-171">Source address prefix or tag toomatch for hello rule.</span></span> |<span data-ttu-id="9c7fa-172">Pojedynczy adres IP (np. 10.10.10.10), podsieć IP (np. 192.168.1.0/24), [znacznik domyślny](#default-tags) lub * (dla wszystkich adresów).</span><span class="sxs-lookup"><span data-stu-id="9c7fa-172">Single IP address (example: 10.10.10.10), IP subnet (example: 192.168.1.0/24), [default tag](#default-tags), or * (for all addresses).</span></span> |<span data-ttu-id="9c7fa-173">Należy rozważyć użycie zakresów, znaczników domyślnych i * tooreduce hello liczbę reguł.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-173">Consider using ranges, default tags, and * tooreduce hello number of rules.</span></span> |
| <span data-ttu-id="9c7fa-174">**Prefiks adresu docelowego**</span><span class="sxs-lookup"><span data-stu-id="9c7fa-174">**Destination address prefix**</span></span> |<span data-ttu-id="9c7fa-175">Docelowy adres prefiks lub znacznik toomatch hello reguły.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-175">Destination address prefix or tag toomatch for hello rule.</span></span> | <span data-ttu-id="9c7fa-176">Pojedynczy adres IP (np. 10.10.10.10), podsieć IP (np. 192.168.1.0/24), [znacznik domyślny](#default-tags) lub * (dla wszystkich adresów).</span><span class="sxs-lookup"><span data-stu-id="9c7fa-176">Single IP address (example: 10.10.10.10), IP subnet (example: 192.168.1.0/24), [default tag](#default-tags), or * (for all addresses).</span></span> |<span data-ttu-id="9c7fa-177">Należy rozważyć użycie zakresów, znaczników domyślnych i * tooreduce hello liczbę reguł.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-177">Consider using ranges, default tags, and * tooreduce hello number of rules.</span></span> |
| <span data-ttu-id="9c7fa-178">**Kierunek**</span><span class="sxs-lookup"><span data-stu-id="9c7fa-178">**Direction**</span></span> |<span data-ttu-id="9c7fa-179">Kierunek ruchu toomatch hello reguły.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-179">Direction of traffic toomatch for hello rule.</span></span> |<span data-ttu-id="9c7fa-180">Ruch przychodzący lub wychodzący.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-180">Inbound or outbound.</span></span> |<span data-ttu-id="9c7fa-181">Reguły ruchu przychodzącego i wychodzącego są przetwarzane oddzielnie w zależności od kierunku.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-181">Inbound and outbound rules are processed separately, based on direction.</span></span> |
| <span data-ttu-id="9c7fa-182">**Priorytet**</span><span class="sxs-lookup"><span data-stu-id="9c7fa-182">**Priority**</span></span> |<span data-ttu-id="9c7fa-183">Reguły są sprawdzane hello według priorytetu.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-183">Rules are checked in hello order of priority.</span></span> <span data-ttu-id="9c7fa-184">Gdy reguła ma zastosowanie, żadne inne reguły nie są sprawdzane pod kątem dopasowania.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-184">Once a rule applies, no more rules are tested for matching.</span></span> | <span data-ttu-id="9c7fa-185">Liczba z zakresu od 100 do 4096.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-185">Number between 100 and 4096.</span></span> | <span data-ttu-id="9c7fa-186">Należy rozważyć utworzenie reguł przez przeskoczenie priorytetów o 100 dla każdej reguły miejsca tooleave dla nowych zasad, które można utworzyć w hello przyszłych.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-186">Consider creating rules jumping priorities by 100 for each rule tooleave space for new rules you might create in hello future.</span></span> |
| <span data-ttu-id="9c7fa-187">**Dostęp**</span><span class="sxs-lookup"><span data-stu-id="9c7fa-187">**Access**</span></span> |<span data-ttu-id="9c7fa-188">Typ tooapply dostępu, jeśli reguła hello.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-188">Type of access tooapply if hello rule matches.</span></span> | <span data-ttu-id="9c7fa-189">Zezwolenie lub zablokowanie.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-189">Allow or deny.</span></span> | <span data-ttu-id="9c7fa-190">Należy pamiętać, że nie znaleziono reguły Zezwalaj pakietu, hello jest porzucany.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-190">Keep in mind that if an allow rule is not found for a packet, hello packet is dropped.</span></span> |

<span data-ttu-id="9c7fa-191">Sieciowe grupy zabezpieczeń zawierają dwa zestawy reguł: zestaw reguł przychodzących i wychodzących.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-191">NSGs contain two sets of rules: Inbound and outbound.</span></span> <span data-ttu-id="9c7fa-192">Witaj priorytety reguł muszą być unikatowe w każdym z nich.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-192">hello priority for a rule must be unique within each set.</span></span> 

![Przetwarzanie reguł sieciowej grupy zabezpieczeń](./media/virtual-network-nsg-overview/figure3.png) 

<span data-ttu-id="9c7fa-194">Poprzedni obraz powitania pokazuje, jak są przetwarzane reguły NSG.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-194">hello previous picture shows how NSG rules are processed.</span></span>

### <a name="default-tags"></a><span data-ttu-id="9c7fa-195">Znaczniki domyślne</span><span class="sxs-lookup"><span data-stu-id="9c7fa-195">Default Tags</span></span>
<span data-ttu-id="9c7fa-196">Znaczniki domyślne są dostarczanymi przez system identyfikatorami tooaddress kategorii adresów IP.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-196">Default tags are system-provided identifiers tooaddress a category of IP addresses.</span></span> <span data-ttu-id="9c7fa-197">Można użyć znaczników domyślnych w hello **prefiks adresu źródłowego** i **prefiks adresu docelowego** właściwości reguły.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-197">You can use default tags in hello **source address prefix** and **destination address prefix** properties of any rule.</span></span> <span data-ttu-id="9c7fa-198">Istnieją trzy znaczniki domyślne, których można użyć:</span><span class="sxs-lookup"><span data-stu-id="9c7fa-198">There are three default tags you can use:</span></span>

* <span data-ttu-id="9c7fa-199">**VirtualNetwork** (Resource Manager) (**VIRTUAL_NETWORK** klasycznego): ten tag obejmuje przestrzeń adresową sieci wirtualnej hello (zakresy CIDR określone na platformie Azure), wszystkie połączone lokalne przestrzenie adresowe, a Azure sieci wirtualnych (sieci lokalne).</span><span class="sxs-lookup"><span data-stu-id="9c7fa-199">**VirtualNetwork** (Resource Manager) (**VIRTUAL_NETWORK** for classic): This tag includes hello virtual network address space (CIDR ranges defined in Azure), all connected on-premises address spaces, and connected Azure VNets (local networks).</span></span>
* <span data-ttu-id="9c7fa-200">**AzureLoadBalancer** (model usługi Resource Manager) (**AZURE_LOADBALANCER** — model klasyczny): ten znacznik określa moduł równoważenia obciążenia infrastruktury platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-200">**AzureLoadBalancer** (Resource Manager) (**AZURE_LOADBALANCER** for classic): This tag denotes Azure’s infrastructure load balancer.</span></span> <span data-ttu-id="9c7fa-201">Hello tag tłumaczy tooan pochodzą IP centrum danych Azure, w którym sondy kondycji Azure.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-201">hello tag translates tooan Azure datacenter IP where Azure’s health probes originate.</span></span>
* <span data-ttu-id="9c7fa-202">**Internet** (Resource Manager) (**INTERNET** klasycznego): ten tag oznacza hello przestrzeń adresów IP, który znajduje się poza hello sieci wirtualnej i jest dostępny w publicznym Internecie.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-202">**Internet** (Resource Manager) (**INTERNET** for classic): This tag denotes hello IP address space that is outside hello virtual network and reachable by public Internet.</span></span> <span data-ttu-id="9c7fa-203">Witaj zakres obejmuje hello [publiczną przestrzeń adresów IP należącą do Azure](https://www.microsoft.com/download/details.aspx?id=41653).</span><span class="sxs-lookup"><span data-stu-id="9c7fa-203">hello range includes hello [Azure owned public IP space](https://www.microsoft.com/download/details.aspx?id=41653).</span></span>

### <a name="default-rules"></a><span data-ttu-id="9c7fa-204">Reguły domyślne</span><span class="sxs-lookup"><span data-stu-id="9c7fa-204">Default rules</span></span>
<span data-ttu-id="9c7fa-205">Wszystkie sieciowe grupy zabezpieczeń zawierają zestaw reguł domyślnych.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-205">All NSGs contain a set of default rules.</span></span> <span data-ttu-id="9c7fa-206">Nie można usunąć reguły domyślne Hello, ale ponieważ mają przypisany najniższy priorytet hello, mogą być zastąpione przez hello utworzonych reguł.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-206">hello default rules cannot be deleted, but because they are assigned hello lowest priority, they can be overridden by hello rules that you create.</span></span> 

<span data-ttu-id="9c7fa-207">reguły domyślne Hello Zezwalaj i nie zezwalaj na ruch:</span><span class="sxs-lookup"><span data-stu-id="9c7fa-207">hello default rules allow and disallow traffic as follows:</span></span>
- <span data-ttu-id="9c7fa-208">**Sieć wirtualna:** ruch pochodzący z sieci wirtualnej i kończący się w niej jest dozwolony zarówno w kierunku przychodzącym, jak i wychodzącym.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-208">**Virtual network:** Traffic originating and ending in a virtual network is allowed both in inbound and outbound directions.</span></span>
- <span data-ttu-id="9c7fa-209">**Internet:** ruch wychodzący jest dozwolony, ale ruch przychodzący jest blokowany.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-209">**Internet:** Outbound traffic is allowed, but inbound traffic is blocked.</span></span>
- <span data-ttu-id="9c7fa-210">**Moduł równoważenia obciążenia:** Zezwalaj Azure kondycji hello tooprobe usługi równoważenia obciążenia maszyn wirtualnych i wystąpień ról.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-210">**Load balancer:** Allow Azure’s load balancer tooprobe hello health of your VMs and role instances.</span></span> <span data-ttu-id="9c7fa-211">Jeśli nie używa się zestawu z równoważeniem obciążenia, tę zasadę można zastąpić.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-211">If you are not using a load balanced set you can override this rule.</span></span>

<span data-ttu-id="9c7fa-212">**Reguły domyślne ruchu przychodzącego**</span><span class="sxs-lookup"><span data-stu-id="9c7fa-212">**Inbound default rules**</span></span>

| <span data-ttu-id="9c7fa-213">Nazwa</span><span class="sxs-lookup"><span data-stu-id="9c7fa-213">Name</span></span> | <span data-ttu-id="9c7fa-214">Priorytet</span><span class="sxs-lookup"><span data-stu-id="9c7fa-214">Priority</span></span> | <span data-ttu-id="9c7fa-215">Źródłowy adres IP</span><span class="sxs-lookup"><span data-stu-id="9c7fa-215">Source IP</span></span> | <span data-ttu-id="9c7fa-216">Port źródłowy</span><span class="sxs-lookup"><span data-stu-id="9c7fa-216">Source Port</span></span> | <span data-ttu-id="9c7fa-217">Docelowy adres IP</span><span class="sxs-lookup"><span data-stu-id="9c7fa-217">Destination IP</span></span> | <span data-ttu-id="9c7fa-218">Port docelowy</span><span class="sxs-lookup"><span data-stu-id="9c7fa-218">Destination Port</span></span> | <span data-ttu-id="9c7fa-219">Protokół</span><span class="sxs-lookup"><span data-stu-id="9c7fa-219">Protocol</span></span> | <span data-ttu-id="9c7fa-220">Dostęp</span><span class="sxs-lookup"><span data-stu-id="9c7fa-220">Access</span></span> |
| --- | --- | --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="9c7fa-221">AllowVNetInBound</span><span class="sxs-lookup"><span data-stu-id="9c7fa-221">AllowVNetInBound</span></span> |<span data-ttu-id="9c7fa-222">65000</span><span class="sxs-lookup"><span data-stu-id="9c7fa-222">65000</span></span> | <span data-ttu-id="9c7fa-223">VirtualNetwork</span><span class="sxs-lookup"><span data-stu-id="9c7fa-223">VirtualNetwork</span></span> | * | <span data-ttu-id="9c7fa-224">VirtualNetwork</span><span class="sxs-lookup"><span data-stu-id="9c7fa-224">VirtualNetwork</span></span> | * | * | <span data-ttu-id="9c7fa-225">Zezwalaj</span><span class="sxs-lookup"><span data-stu-id="9c7fa-225">Allow</span></span> |
| <span data-ttu-id="9c7fa-226">AllowAzureLoadBalancerInBound</span><span class="sxs-lookup"><span data-stu-id="9c7fa-226">AllowAzureLoadBalancerInBound</span></span> | <span data-ttu-id="9c7fa-227">65001</span><span class="sxs-lookup"><span data-stu-id="9c7fa-227">65001</span></span> | <span data-ttu-id="9c7fa-228">AzureLoadBalancer</span><span class="sxs-lookup"><span data-stu-id="9c7fa-228">AzureLoadBalancer</span></span> | * | * | * | * | <span data-ttu-id="9c7fa-229">Zezwalaj</span><span class="sxs-lookup"><span data-stu-id="9c7fa-229">Allow</span></span> |
| <span data-ttu-id="9c7fa-230">DenyAllInBound</span><span class="sxs-lookup"><span data-stu-id="9c7fa-230">DenyAllInBound</span></span> |<span data-ttu-id="9c7fa-231">65500</span><span class="sxs-lookup"><span data-stu-id="9c7fa-231">65500</span></span> | * | * | * | * | * | <span data-ttu-id="9c7fa-232">Zablokuj</span><span class="sxs-lookup"><span data-stu-id="9c7fa-232">Deny</span></span> |

<span data-ttu-id="9c7fa-233">**Domyślne reguły ruchu wychodzącego**</span><span class="sxs-lookup"><span data-stu-id="9c7fa-233">**Outbound default rules**</span></span>

| <span data-ttu-id="9c7fa-234">Nazwa</span><span class="sxs-lookup"><span data-stu-id="9c7fa-234">Name</span></span> | <span data-ttu-id="9c7fa-235">Priorytet</span><span class="sxs-lookup"><span data-stu-id="9c7fa-235">Priority</span></span> | <span data-ttu-id="9c7fa-236">Źródłowy adres IP</span><span class="sxs-lookup"><span data-stu-id="9c7fa-236">Source IP</span></span> | <span data-ttu-id="9c7fa-237">Port źródłowy</span><span class="sxs-lookup"><span data-stu-id="9c7fa-237">Source Port</span></span> | <span data-ttu-id="9c7fa-238">Docelowy adres IP</span><span class="sxs-lookup"><span data-stu-id="9c7fa-238">Destination IP</span></span> | <span data-ttu-id="9c7fa-239">Port docelowy</span><span class="sxs-lookup"><span data-stu-id="9c7fa-239">Destination Port</span></span> | <span data-ttu-id="9c7fa-240">Protokół</span><span class="sxs-lookup"><span data-stu-id="9c7fa-240">Protocol</span></span> | <span data-ttu-id="9c7fa-241">Dostęp</span><span class="sxs-lookup"><span data-stu-id="9c7fa-241">Access</span></span> |
| --- | --- | --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="9c7fa-242">AllowVnetOutBound</span><span class="sxs-lookup"><span data-stu-id="9c7fa-242">AllowVnetOutBound</span></span> | <span data-ttu-id="9c7fa-243">65000</span><span class="sxs-lookup"><span data-stu-id="9c7fa-243">65000</span></span> | <span data-ttu-id="9c7fa-244">VirtualNetwork</span><span class="sxs-lookup"><span data-stu-id="9c7fa-244">VirtualNetwork</span></span> | * | <span data-ttu-id="9c7fa-245">VirtualNetwork</span><span class="sxs-lookup"><span data-stu-id="9c7fa-245">VirtualNetwork</span></span> | * | * | <span data-ttu-id="9c7fa-246">Zezwalaj</span><span class="sxs-lookup"><span data-stu-id="9c7fa-246">Allow</span></span> |
| <span data-ttu-id="9c7fa-247">AllowInternetOutBound</span><span class="sxs-lookup"><span data-stu-id="9c7fa-247">AllowInternetOutBound</span></span> | <span data-ttu-id="9c7fa-248">65001</span><span class="sxs-lookup"><span data-stu-id="9c7fa-248">65001</span></span> | * | * | <span data-ttu-id="9c7fa-249">Internet</span><span class="sxs-lookup"><span data-stu-id="9c7fa-249">Internet</span></span> | * | * | <span data-ttu-id="9c7fa-250">Zezwalaj</span><span class="sxs-lookup"><span data-stu-id="9c7fa-250">Allow</span></span> |
| <span data-ttu-id="9c7fa-251">DenyAllOutBound</span><span class="sxs-lookup"><span data-stu-id="9c7fa-251">DenyAllOutBound</span></span> | <span data-ttu-id="9c7fa-252">65500</span><span class="sxs-lookup"><span data-stu-id="9c7fa-252">65500</span></span> | * | * | * | * | * | <span data-ttu-id="9c7fa-253">Zablokuj</span><span class="sxs-lookup"><span data-stu-id="9c7fa-253">Deny</span></span> |

## <a name="associating-nsgs"></a><span data-ttu-id="9c7fa-254">Kojarzenie sieciowych grup zabezpieczeń</span><span class="sxs-lookup"><span data-stu-id="9c7fa-254">Associating NSGs</span></span>
<span data-ttu-id="9c7fa-255">Możesz skojarzyć tooVMs NSG, karty sieciowe i podsieci, w zależności od modelu wdrażania hello, którego używasz, w następujący sposób:</span><span class="sxs-lookup"><span data-stu-id="9c7fa-255">You can associate an NSG tooVMs, NICs, and subnets, depending on hello deployment model you are using, as follows:</span></span>

* <span data-ttu-id="9c7fa-256">**Maszyna wirtualna (klasyczna tylko):** reguły zabezpieczeń są stosowane tooall ruchu do/z hello maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-256">**VM (classic only):** Security rules are applied tooall traffic to/from hello VM.</span></span> 
* <span data-ttu-id="9c7fa-257">**Karta sieciowa (tylko Resource Manager):** reguły zabezpieczeń są stosowane tooall ruchu do/z hello kart hello grupa NSG jest skojarzona z.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-257">**NIC (Resource Manager only):** Security rules are applied tooall traffic to/from hello NIC hello NSG is associated to.</span></span> <span data-ttu-id="9c7fa-258">Na maszynie Wirtualnej z wieloma kartami Sieciowymi, można zastosować różne (lub hello sam) tooeach NSG kart pojedynczo.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-258">In a multi-NIC VM, you can apply different (or hello same) NSG tooeach NIC individually.</span></span> 
* <span data-ttu-id="9c7fa-259">**Podsieć (Resource Manager i model klasyczny):** reguły zabezpieczeń są stosowane tooany ruchu do/z wszystkie zasoby podłączone toohello sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-259">**Subnet (Resource Manager and classic):** Security rules are applied tooany traffic to/from any resources connected toohello VNet.</span></span>

<span data-ttu-id="9c7fa-260">Można skojarzyć różne grupy NSG tooa maszyny Wirtualnej (lub karty Sieciowej, w zależności od modelu wdrażania hello) i hello podsieci, która karta sieciowa lub maszyna wirtualna jest połączony.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-260">You can associate different NSGs tooa VM (or NIC, depending on hello deployment model) and hello subnet that a NIC or VM is connected to.</span></span> <span data-ttu-id="9c7fa-261">Reguły zabezpieczeń ruchu zastosowane toohello według priorytetu w poszczególnych grupach NSG w powitania po kolejności:</span><span class="sxs-lookup"><span data-stu-id="9c7fa-261">Security rules are applied toohello traffic, by priority, in each NSG, in hello following order:</span></span>

- <span data-ttu-id="9c7fa-262">**Ruch przychodzący**</span><span class="sxs-lookup"><span data-stu-id="9c7fa-262">**Inbound traffic**</span></span>

  1. <span data-ttu-id="9c7fa-263">**Grupa NSG stosowana toosubnet:** NSG podsieci ma pasującego ruchu toodeny reguły, hello jest porzucany.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-263">**NSG applied toosubnet:** If a subnet NSG has a matching rule toodeny traffic, hello packet is dropped.</span></span>

  2. <span data-ttu-id="9c7fa-264">**Grupa NSG stosowana tooNIC** (Resource Manager) lub maszyna wirtualna (klasyczna): Jeśli NSG VM\NIC ma zgodną regułę, która nie zezwala na ruch, porzucenia pakietów na powitania VM\NIC, nawet jeśli NSG podsieci ma zgodną regułę, która zezwala na ruch.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-264">**NSG applied tooNIC** (Resource Manager) or VM (classic): If VM\NIC NSG has a matching rule that denies traffic, packets are dropped at hello VM\NIC, even if a subnet NSG has a matching rule that allows traffic.</span></span>

- <span data-ttu-id="9c7fa-265">**Ruch wychodzący**</span><span class="sxs-lookup"><span data-stu-id="9c7fa-265">**Outbound traffic**</span></span>

  1. <span data-ttu-id="9c7fa-266">**Grupa NSG stosowana tooNIC** (Resource Manager) lub maszyna wirtualna (klasyczna): Jeśli VM\NIC NSG zgodną regułę, która nie zezwala na ruch, porzucenia pakietów.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-266">**NSG applied tooNIC** (Resource Manager) or VM (classic): If a VM\NIC NSG has a matching rule that denies traffic, packets are dropped.</span></span>

  2. <span data-ttu-id="9c7fa-267">**Grupa NSG stosowana toosubnet:** Jeśli NSG podsieci ma zgodną regułę, która nie zezwala na ruch, porzucenia pakietów, nawet jeśli VM\NIC NSG ma zgodną regułę, która zezwala na ruch.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-267">**NSG applied toosubnet:** If a subnet NSG has a matching rule that denies traffic, packets are dropped, even if a VM\NIC NSG has a matching rule that allows traffic.</span></span>

> [!NOTE]
> <span data-ttu-id="9c7fa-268">Mimo że można skojarzyć tylko jednej grupy NSG tooa podsieć maszyny Wirtualnej i/lub kart; możesz skojarzyć hello tej samej grupy NSG tooas wiele zasobów ma.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-268">Although you can only associate a single NSG tooa subnet, VM, or NIC; you can associate hello same NSG tooas many resources as you want.</span></span>
>

## <a name="implementation"></a><span data-ttu-id="9c7fa-269">Wdrażanie</span><span class="sxs-lookup"><span data-stu-id="9c7fa-269">Implementation</span></span>
<span data-ttu-id="9c7fa-270">Grupy NSG można wdrożyć w hello Resource Manager i klasycznych modeli wdrażania przy użyciu hello następujące narzędzia:</span><span class="sxs-lookup"><span data-stu-id="9c7fa-270">You can implement NSGs in hello Resource Manager or classic deployment models using hello following tools:</span></span>

| <span data-ttu-id="9c7fa-271">Narzędzie wdrażania</span><span class="sxs-lookup"><span data-stu-id="9c7fa-271">Deployment tool</span></span> | <span data-ttu-id="9c7fa-272">Wdrożenie klasyczne</span><span class="sxs-lookup"><span data-stu-id="9c7fa-272">Classic</span></span> | <span data-ttu-id="9c7fa-273">Resource Manager</span><span class="sxs-lookup"><span data-stu-id="9c7fa-273">Resource Manager</span></span> |
| --- | --- | --- |
| <span data-ttu-id="9c7fa-274">Portal Azure</span><span class="sxs-lookup"><span data-stu-id="9c7fa-274">Azure portal</span></span>   | <span data-ttu-id="9c7fa-275">Tak</span><span class="sxs-lookup"><span data-stu-id="9c7fa-275">Yes</span></span> | [<span data-ttu-id="9c7fa-276">Tak</span><span class="sxs-lookup"><span data-stu-id="9c7fa-276">Yes</span></span>](virtual-networks-create-nsg-arm-pportal.md) |
| <span data-ttu-id="9c7fa-277">PowerShell</span><span class="sxs-lookup"><span data-stu-id="9c7fa-277">PowerShell</span></span>     | [<span data-ttu-id="9c7fa-278">Tak</span><span class="sxs-lookup"><span data-stu-id="9c7fa-278">Yes</span></span>](virtual-networks-create-nsg-classic-ps.md) | [<span data-ttu-id="9c7fa-279">Tak</span><span class="sxs-lookup"><span data-stu-id="9c7fa-279">Yes</span></span>](virtual-networks-create-nsg-arm-ps.md) |
| <span data-ttu-id="9c7fa-280">Interfejs wiersza polecenia platformy Azure **V1**</span><span class="sxs-lookup"><span data-stu-id="9c7fa-280">Azure CLI **V1**</span></span>   | [<span data-ttu-id="9c7fa-281">Tak</span><span class="sxs-lookup"><span data-stu-id="9c7fa-281">Yes</span></span>](virtual-networks-create-nsg-classic-cli.md) | [<span data-ttu-id="9c7fa-282">Tak</span><span class="sxs-lookup"><span data-stu-id="9c7fa-282">Yes</span></span>](virtual-networks-create-nsg-cli-nodejs.md) |
| <span data-ttu-id="9c7fa-283">Interfejs wiersza polecenia platformy Azure **V2**</span><span class="sxs-lookup"><span data-stu-id="9c7fa-283">Azure CLI **V2**</span></span>   | <span data-ttu-id="9c7fa-284">Nie</span><span class="sxs-lookup"><span data-stu-id="9c7fa-284">No</span></span> | [<span data-ttu-id="9c7fa-285">Tak</span><span class="sxs-lookup"><span data-stu-id="9c7fa-285">Yes</span></span>](virtual-networks-create-nsg-arm-cli.md) |
| <span data-ttu-id="9c7fa-286">Szablon usługi Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="9c7fa-286">Azure Resource Manager template</span></span>   | <span data-ttu-id="9c7fa-287">Nie</span><span class="sxs-lookup"><span data-stu-id="9c7fa-287">No</span></span>  | [<span data-ttu-id="9c7fa-288">Tak</span><span class="sxs-lookup"><span data-stu-id="9c7fa-288">Yes</span></span>](virtual-networks-create-nsg-arm-template.md) |

## <a name="planning"></a><span data-ttu-id="9c7fa-289">Planowanie</span><span class="sxs-lookup"><span data-stu-id="9c7fa-289">Planning</span></span>
<span data-ttu-id="9c7fa-290">Przed wdrożeniem grup NSG należy hello tooanswer następujące pytania:</span><span class="sxs-lookup"><span data-stu-id="9c7fa-290">Before implementing NSGs, you need tooanswer hello following questions:</span></span>

1. <span data-ttu-id="9c7fa-291">Jakich typów zasobów chcesz toofilter tooor ruchu z?</span><span class="sxs-lookup"><span data-stu-id="9c7fa-291">What types of resources do you want toofilter traffic tooor from?</span></span> <span data-ttu-id="9c7fa-292">Możesz podłączyć zasoby, takie jak karty sieciowe, (model usługi Resource Manager), maszyny wirtualne (model klasyczny), usługi Cloud Services, środowiska usług aplikacji i zestawy skalowania maszyn wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-292">You can connect resources such as NICs (Resource Manager), VMs (classic), Cloud Services, Application Service Environments, and VM Scale Sets.</span></span> 
2. <span data-ttu-id="9c7fa-293">Czy zasoby hello ma toofilter ruch do i z połączonych toosubnets w istniejących sieciach wirtualnych?</span><span class="sxs-lookup"><span data-stu-id="9c7fa-293">Are hello resources you want toofilter traffic to/from connected toosubnets in existing VNets?</span></span>

<span data-ttu-id="9c7fa-294">Aby uzyskać więcej informacji na temat planowania zabezpieczeń sieciowych na platformie Azure, przeczytaj hello [usługi w chmurze i zabezpieczeń sieciowych](../best-practices-network-security.md) artykułu.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-294">For more information on planning for network security in Azure, read hello [Cloud services and network security](../best-practices-network-security.md) article.</span></span> 

## <a name="design-considerations"></a><span data-ttu-id="9c7fa-295">Zagadnienia dotyczące projektowania</span><span class="sxs-lookup"><span data-stu-id="9c7fa-295">Design considerations</span></span>
<span data-ttu-id="9c7fa-296">Jeśli znasz już odpowiedzi hello pytania toohello w hello [Planowanie](#Planning) Przejrzyj następujące sekcje przed zdefiniowaniem grup NSG hello:</span><span class="sxs-lookup"><span data-stu-id="9c7fa-296">Once you know hello answers toohello questions in hello [Planning](#Planning) section, review hello following sections before defining your NSGs:</span></span>

### <a name="limits"></a><span data-ttu-id="9c7fa-297">Limity</span><span class="sxs-lookup"><span data-stu-id="9c7fa-297">Limits</span></span>
<span data-ttu-id="9c7fa-298">Istnieją ograniczenia toohello liczbę grup NSG mogą mieć w ramach subskrypcji i liczbę reguł na grupę NSG.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-298">There are limits toohello number of NSGs you can have in a subscription and number of rules per NSG.</span></span> <span data-ttu-id="9c7fa-299">więcej informacji na temat limitów hello, przeczytaj hello toolearn [Azure ogranicza](../azure-subscription-service-limits.md#networking-limits) artykułu.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-299">toolearn more about hello limits, read hello [Azure limits](../azure-subscription-service-limits.md#networking-limits) article.</span></span>

### <a name="vnet-and-subnet-design"></a><span data-ttu-id="9c7fa-300">Projekt sieci wirtualnej i podsieci</span><span class="sxs-lookup"><span data-stu-id="9c7fa-300">VNet and subnet design</span></span>
<span data-ttu-id="9c7fa-301">Ponieważ grupy NSG mogą zostać zastosowane toosubnets, można zminimalizować hello liczbę grup NSG przez grupowanie zasobów według podsieci i zastosowanie grup NSG toosubnets.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-301">Since NSGs can be applied toosubnets, you can minimize hello number of NSGs by grouping your resources by subnet, and applying NSGs toosubnets.</span></span>  <span data-ttu-id="9c7fa-302">Jeśli zdecydujesz się tooapply toosubnets grup NSG, może się okazać, że istniejące sieci wirtualne i podsieci nie zostały zdefiniowane z grupy NSG na uwadze.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-302">If you decide tooapply NSGs toosubnets, you may find that existing VNets and subnets you have were not defined with NSGs in mind.</span></span> <span data-ttu-id="9c7fa-303">Może muszą nowych sieci wirtualnych i podsieci toosupport toodefine projektu NSG i wdrażanie nowych zasobów tooyour nowych podsieci.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-303">You may need toodefine new VNets and subnets toosupport your NSG design and deploy your new resources tooyour new subnets.</span></span> <span data-ttu-id="9c7fa-304">Następnie można zdefiniować toomove strategii migracji istniejących zasobów toohello nowych podsieci.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-304">You could then define a migration strategy toomove existing resources toohello new subnets.</span></span> 

### <a name="special-rules"></a><span data-ttu-id="9c7fa-305">Reguły specjalne</span><span class="sxs-lookup"><span data-stu-id="9c7fa-305">Special rules</span></span>
<span data-ttu-id="9c7fa-306">Jeśli zablokujesz ruchu dozwolonego przez reguły hello infrastruktury nie może komunikować się z podstawowymi usługami Azure:</span><span class="sxs-lookup"><span data-stu-id="9c7fa-306">If you block traffic allowed by hello following rules, your infrastructure can't communicate with essential Azure services:</span></span>

* <span data-ttu-id="9c7fa-307">**Wirtualny adres IP węzła hosta hello:** podstawowe usługi infrastruktury, takie jak DHCP, DNS i monitorowanie kondycji są realizowane za pośrednictwem hello hosta wirtualnego adresu IP 168.63.129.16.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-307">**Virtual IP of hello host node:** Basic infrastructure services such as DHCP, DNS, and health monitoring are provided through hello virtualized host IP address 168.63.129.16.</span></span> <span data-ttu-id="9c7fa-308">Ten publiczny adres IP należy tooMicrosoft i jest hello jedynym zwirtualizowanym adresem IP w tym celu używany we wszystkich regionach.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-308">This public IP address belongs tooMicrosoft and is hello only virtualized IP address used in all regions for this purpose.</span></span> <span data-ttu-id="9c7fa-309">Ten adres IP mapuje toohello fizycznego adresu IP hello maszyny serwera (węzła hosta) obsługującego hello maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-309">This IP address maps toohello physical IP address of hello server machine (host node) hosting hello VM.</span></span> <span data-ttu-id="9c7fa-310">węzeł hosta Hello działa jako hello przekazywania DHCP, hello DNS cyklicznego programu rozpoznawania nazw i źródła sondy hello hello obciążenia sondy kondycji modułu równoważenia i sondy kondycji komputera hello.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-310">hello host node acts as hello DHCP relay, hello DNS recursive resolver, and hello probe source for hello load balancer health probe and hello machine health probe.</span></span> <span data-ttu-id="9c7fa-311">Adres IP toothis komunikacji nie jest atak.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-311">Communication toothis IP address is not an attack.</span></span>
* <span data-ttu-id="9c7fa-312">**Licencjonowanie (usługa zarządzania kluczami):** obrazy systemu Windows uruchomione na maszynach wirtualnych muszą być licencjonowane.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-312">**Licensing (Key Management Service):** Windows images running in VMs must be licensed.</span></span> <span data-ttu-id="9c7fa-313">tooensure licencjonowania, żądanie zostanie wysłana toohello serwerów hosta usługi zarządzania kluczami, które obsługi tych kwerend.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-313">tooensure licensing, a request is sent toohello Key Management Service host servers that handle such queries.</span></span> <span data-ttu-id="9c7fa-314">Witaj żądań wychodzące przez port 1688.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-314">hello request is made outbound through port 1688.</span></span>

### <a name="icmp-traffic"></a><span data-ttu-id="9c7fa-315">Ruch protokołu ICMP</span><span class="sxs-lookup"><span data-stu-id="9c7fa-315">ICMP traffic</span></span>
<span data-ttu-id="9c7fa-316">Witaj bieżące reguły NSG uwzględniają tylko protokoły *TCP* lub *UDP*.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-316">hello current NSG rules only allow for protocols *TCP* or *UDP*.</span></span> <span data-ttu-id="9c7fa-317">Nie ma określonego znacznika dla protokołu *ICMP*.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-317">There is not a specific tag for *ICMP*.</span></span> <span data-ttu-id="9c7fa-318">Jednak ruch protokołu ICMP jest dozwolone w ramach sieci wirtualnej przez regułę domyślną AllowVNetInBound hello, umożliwiający tooand ruchu z dowolnego portu i protokołu w ramach hello sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-318">However, ICMP traffic is allowed within a VNet by hello AllowVNetInBound default rule, that allows traffic tooand from any port and protocol within hello VNet.</span></span>

### <a name="subnets"></a><span data-ttu-id="9c7fa-319">Podsieci</span><span class="sxs-lookup"><span data-stu-id="9c7fa-319">Subnets</span></span>
* <span data-ttu-id="9c7fa-320">Należy wziąć pod uwagę hello liczba warstw, której wymaga obciążenie.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-320">Consider hello number of tiers your workload requires.</span></span> <span data-ttu-id="9c7fa-321">Każdy warstwę można wyizolować przy użyciu podsieci, z podsiecią toohello grupa NSG stosowana.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-321">Each tier can be isolated by using a subnet, with an NSG applied toohello subnet.</span></span> 
* <span data-ttu-id="9c7fa-322">Jeśli potrzebujesz tooimplement podsieć dla bramy sieci VPN lub obwodu ExpressRoute, czy **nie** zastosować grupy NSG toothat podsieci.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-322">If you need tooimplement a subnet for a VPN gateway, or ExpressRoute circuit, do **not** apply an NSG toothat subnet.</span></span> <span data-ttu-id="9c7fa-323">Jeśli tak zrobisz, może nie działać łączność pomiędzy różnymi sieciami wirtualnymi lub między różnymi lokalizacjami.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-323">If you do so, cross-VNet or cross-premises connectivity may fail.</span></span> 
* <span data-ttu-id="9c7fa-324">Tooimplement urządzenie wirtualne sieci (NVA), należy połączyć hello NVA tooits własnej podsieci i utworzyć tooand trasy zdefiniowane przez użytkownika (przez) z hello NVA.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-324">If you need tooimplement a network virtual appliance (NVA), connect hello NVA tooits own subnet and create user-defined routes (UDR) tooand from hello NVA.</span></span> <span data-ttu-id="9c7fa-325">Można wdrożyć na poziomie podsieci NSG toofilter ruch do i z tej podsieci.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-325">You can implement a subnet level NSG toofilter traffic in and out of this subnet.</span></span> <span data-ttu-id="9c7fa-326">więcej informacji na temat Udr odczytu hello toolearn [trasy zdefiniowane przez użytkownika](virtual-networks-udr-overview.md) artykułu.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-326">toolearn more about UDRs, read hello [User-defined routes](virtual-networks-udr-overview.md) article.</span></span>

### <a name="load-balancers"></a><span data-ttu-id="9c7fa-327">Moduły równoważenia obciążenia</span><span class="sxs-lookup"><span data-stu-id="9c7fa-327">Load balancers</span></span>
* <span data-ttu-id="9c7fa-328">Należy rozważyć hello obciążenia równoważenia i adres sieciowy reguły translation (NAT) dla każdego modułu równoważenia obciążenia używane przez każdego z obciążeń.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-328">Consider hello load balancing and network address translation (NAT) rules for each load balancer used by each of your workloads.</span></span> <span data-ttu-id="9c7fa-329">Reguły NAT są tooa powiązane puli zaplecza, która zawiera karty sieciowe (Resource Manager) lub wystąpień roli usługi w chmurze/VMs (klasyczne).</span><span class="sxs-lookup"><span data-stu-id="9c7fa-329">NAT rules are bound tooa back-end pool that contains NICs (Resource Manager) or VMs/Cloud Services role instances (classic).</span></span> <span data-ttu-id="9c7fa-330">Należy rozważyć utworzenie grupy NSG dla każdej puli zaplecza, co pozwala tylko na ruch mapowany za pomocą reguł hello zaimplementowana w hello usługi równoważenia obciążenia.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-330">Consider creating an NSG for each back-end pool, allowing only traffic mapped through hello rules implemented in hello load balancers.</span></span> <span data-ttu-id="9c7fa-331">Utworzenie grupy NSG dla każdej puli zaplecza gwarantuje ruchu przychodzącego puli zaplecza toohello bezpośrednio (a nie za pośrednictwem usługi równoważenia obciążenia hello), jest również filtrowany.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-331">Creating an NSG for each back-end pool guarantees that traffic coming toohello back-end pool directly (rather than through hello load balancer), is also filtered.</span></span>
* <span data-ttu-id="9c7fa-332">W przypadku wdrożeń klasycznych możesz utworzyć punkty końcowe, które mapują porty w tooports usługi równoważenia obciążenia na maszynach wirtualnych lub wystąpień roli.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-332">In classic deployments, you create endpoints that map ports on a load balancer tooports on your VMs or role instances.</span></span> <span data-ttu-id="9c7fa-333">Można również utworzyć osobisty publiczny moduł równoważenia obciążenia za pomocą usługi Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-333">You can also create your own individual public-facing load balancer through Resource Manager.</span></span> <span data-ttu-id="9c7fa-334">Witaj port docelowy dla ruchu przychodzącego jest rzeczywistym portem hello hello maszyny Wirtualnej lub wystąpienia roli, nie port hello udostępnianych przez usługi równoważenia obciążenia.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-334">hello destination port for incoming traffic is hello actual port in hello VM or role instance, not hello port exposed by a load balancer.</span></span> <span data-ttu-id="9c7fa-335">Witaj, port źródłowy i adres dla hello toohello połączenia, które maszyna wirtualna jest port i adres na hello komputera zdalnego w hello Internet, a nie hello port i adres udostępniane przez usługi równoważenia obciążenia hello.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-335">hello source port and address for hello connection toohello VM is a port and address on hello remote computer in hello Internet, not hello port and address exposed by hello load balancer.</span></span>
* <span data-ttu-id="9c7fa-336">Podczas tworzenia grup NSG toofilter ruchu przechodzącego przez wewnętrzny moduł równoważenia obciążenia (ILB) hello źródła portu i zakres adresów dotyczą pochodzą z hello pochodzące z komputera, nie hello modułu równoważenia obciążenia.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-336">When you create NSGs toofilter traffic coming through an internal load balancer (ILB), hello source port and address range applied are  from hello originating computer, not hello load balancer.</span></span> <span data-ttu-id="9c7fa-337">zakres adres i port docelowy Hello są hello komputera docelowego, nie hello modułu równoważenia obciążenia.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-337">hello destination port and address range are those of hello destination computer, not hello load balancer.</span></span>

### <a name="other"></a><span data-ttu-id="9c7fa-338">Inne</span><span class="sxs-lookup"><span data-stu-id="9c7fa-338">Other</span></span>
* <span data-ttu-id="9c7fa-339">Listy kontroli dostępu oparte na punktach końcowych (ACL) i grupy NSG nie są obsługiwane na powitania wystąpienia tej samej maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-339">Endpoint-based access control lists (ACL) and NSGs are not supported on hello same VM instance.</span></span> <span data-ttu-id="9c7fa-340">Toouse grupy NSG i już listę ACL punktów końcowych w miejscu, najpierw usuń listę ACL punktów końcowych hello.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-340">If you want toouse an NSG and have an endpoint ACL already in place, first remove hello endpoint ACL.</span></span> <span data-ttu-id="9c7fa-341">Aby uzyskać informacje na temat tooremove jako punkt końcowy listy kontroli dostępu, zobacz hello [Zarządzanie listy ACL punktu końcowego](virtual-networks-acl-powershell.md) artykułu.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-341">For information about how tooremove an endpoint ACL, see hello [Manage endpoint ACLs](virtual-networks-acl-powershell.md) article.</span></span>
* <span data-ttu-id="9c7fa-342">W Menedżerze zasobów służy tooa grupy NSG skojarzonej karty Sieciowej dla maszyn wirtualnych z wielu kart sieciowych tooenable Zarządzanie (dostęp zdalny) na podstawie dla karty Sieciowej.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-342">In Resource Manager, you can use an NSG associated tooa NIC for VMs with multiple NICs tooenable management (remote access) on a per NIC basis.</span></span> <span data-ttu-id="9c7fa-343">Kojarzenie unikatowych grup NSG tooeach kart interfejsu Sieciowego umożliwia rozdzielenie typów ruchu sieciowego między kart sieciowych.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-343">Associating unique NSGs tooeach NIC enables separation of traffic types across NICs.</span></span>
* <span data-ttu-id="9c7fa-344">Podobne toohello stosowania równoważenia obciążenia, podczas filtrowania ruchu z innych sieci wirtualnych, należy użyć zakresu adresów źródłowych hello hello komputera zdalnego nie hello bramy łączącej hello sieci wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-344">Similar toohello use of load balancers, when filtering traffic from other VNets, you must use hello source address range of hello remote computer, not hello gateway connecting hello VNets.</span></span>
* <span data-ttu-id="9c7fa-345">Wiele usług platformy Azure nie może być tooVNets połączonych.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-345">Many Azure services cannot be connected tooVNets.</span></span> <span data-ttu-id="9c7fa-346">Zasobów platformy Azure nie jest połączony tooa sieci wirtualnej, nie można użyć grupy NSG toofilter ruchu toohello zasobów.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-346">If an Azure resource is not connected tooa VNet, you cannot use an NSG toofilter traffic toohello resource.</span></span>  <span data-ttu-id="9c7fa-347">Przeczytaj dokumentację hello hello usług możesz użyć toodetermine, czy usługa hello może być tooa połączonych sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-347">Read hello documentation for hello services you use toodetermine whether hello service can be connected tooa VNet.</span></span>

## <a name="sample-deployment"></a><span data-ttu-id="9c7fa-348">Przykładowe wdrożenie</span><span class="sxs-lookup"><span data-stu-id="9c7fa-348">Sample deployment</span></span>
<span data-ttu-id="9c7fa-349">Aplikacja hello tooillustrate hello informacji w tym artykule, należy wziąć pod uwagę typowym scenariuszem stosowania dwie warstwy pokazano na poniższej ilustracji hello:</span><span class="sxs-lookup"><span data-stu-id="9c7fa-349">tooillustrate hello application of hello information in this article, consider a common scenario of a two tier application shown in hello following picture:</span></span>

![Sieciowe grupy zabezpieczeń](./media/virtual-network-nsg-overview/figure1.png)

<span data-ttu-id="9c7fa-351">Jak pokazano na diagramie hello, hello *Web1* i *sieci Web 2* maszyny wirtualne są połączone toohello *frontonu* podsieci i hello *DB1* i *Bazy danych DB2* maszyny wirtualne są połączone toohello *zaplecza* podsieci.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-351">As shown in hello diagram, hello *Web1* and *Web2* VMs are connected toohello *FrontEnd* subnet, and hello *DB1* and *DB2* VMs are connected toohello *BackEnd* subnet.</span></span>  <span data-ttu-id="9c7fa-352">Obie podsieci są częścią hello *TestVNet* sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-352">Both subnets are part of hello *TestVNet* VNet.</span></span> <span data-ttu-id="9c7fa-353">składniki aplikacji Hello każdy uruchomiony w tooa maszyny Wirtualnej Azure połączone sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-353">hello application components each run within an Azure VM connected tooa VNet.</span></span> <span data-ttu-id="9c7fa-354">Scenariusz Hello ma hello następujące wymagania:</span><span class="sxs-lookup"><span data-stu-id="9c7fa-354">hello scenario has hello following requirements:</span></span>

1. <span data-ttu-id="9c7fa-355">Rozdzielenie ruchu między hello sieci WEB i serwerami bazy danych.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-355">Separation of traffic between hello WEB and DB servers.</span></span>
2. <span data-ttu-id="9c7fa-356">Zasady przekazywania ruchu, z hello serwerów sieci web tooall usługi równoważenia obciążenia na porcie 80 równoważenia obciążenia.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-356">Load balancing rules forward traffic from hello load balancer tooall web servers on port 80.</span></span>
3. <span data-ttu-id="9c7fa-357">Załadować równoważenia NAT reguł do przodu ruchu przychodzącego do modułu równoważenia obciążenia hello na porcie 50001 tooport 3389 na powitania serwera WEB1 maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-357">Load balancer NAT rules forward traffic coming into hello load balancer on port 50001 tooport 3389 on hello WEB1 VM.</span></span>
4. <span data-ttu-id="9c7fa-358">Nie toohello dostęp do maszyn wirtualnych frontonu lub zaplecza z hello Internetu, z wyjątkiem wymagań 2 i 3.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-358">No access toohello front-end or back-end VMs from hello Internet, except requirements 2 and 3.</span></span>
5. <span data-ttu-id="9c7fa-359">Nie wychodzący dostęp do Internetu z serwerów sieci WEB lub DB hello.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-359">No outbound Internet access from hello WEB or DB servers.</span></span>
6. <span data-ttu-id="9c7fa-360">Dostęp z podsieci frontonu hello jest dozwolony tooport 3389 dowolny serwer sieci web.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-360">Access from hello FrontEnd subnet is allowed tooport 3389 of any web server.</span></span>
7. <span data-ttu-id="9c7fa-361">Dostęp z podsieci frontonu hello jest dozwolony tooport 3389 dowolnego serwera bazy danych.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-361">Access from hello FrontEnd subnet is allowed tooport 3389 of any DB server.</span></span>
8. <span data-ttu-id="9c7fa-362">Dostęp z podsieci frontonu hello jest dozwolony tooport 1433 wszystkie serwery bazy danych.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-362">Access from hello FrontEnd subnet is allowed tooport 1433 of all DB servers.</span></span>
9. <span data-ttu-id="9c7fa-363">Rozdzielenie ruchu administracyjnego (port 3389) i ruchu bazy danych (1433) na różne karty sieciowe na serwerach DB.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-363">Separation of management traffic (port 3389) and database traffic (1433) on different NICs in DB servers.</span></span>

<span data-ttu-id="9c7fa-364">Wymagania 1 – 6 (z wyjątkiem wymagania 3 i 4) są wszystkie spacje toosubnet zamkniętej.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-364">Requirements 1-6 (except requirements 3 and 4) are all confined toosubnet spaces.</span></span> <span data-ttu-id="9c7fa-365">Witaj następujące grupy NSG wymagań hello poprzedniej, przy jednoczesnym zmniejszeniu hello liczbę grup NSG wymagane:</span><span class="sxs-lookup"><span data-stu-id="9c7fa-365">hello following NSGs meet hello previous requirements, while minimizing hello number of NSGs required:</span></span>

### <a name="frontend"></a><span data-ttu-id="9c7fa-366">FrontEnd</span><span class="sxs-lookup"><span data-stu-id="9c7fa-366">FrontEnd</span></span>
<span data-ttu-id="9c7fa-367">**Reguły ruchu przychodzącego**</span><span class="sxs-lookup"><span data-stu-id="9c7fa-367">**Inbound rules**</span></span>

| <span data-ttu-id="9c7fa-368">Reguła</span><span class="sxs-lookup"><span data-stu-id="9c7fa-368">Rule</span></span> | <span data-ttu-id="9c7fa-369">Dostęp</span><span class="sxs-lookup"><span data-stu-id="9c7fa-369">Access</span></span> | <span data-ttu-id="9c7fa-370">Priorytet</span><span class="sxs-lookup"><span data-stu-id="9c7fa-370">Priority</span></span> | <span data-ttu-id="9c7fa-371">Zakres adresów źródłowych</span><span class="sxs-lookup"><span data-stu-id="9c7fa-371">Source address range</span></span> | <span data-ttu-id="9c7fa-372">Port źródłowy</span><span class="sxs-lookup"><span data-stu-id="9c7fa-372">Source port</span></span> | <span data-ttu-id="9c7fa-373">Zakres adresów docelowych</span><span class="sxs-lookup"><span data-stu-id="9c7fa-373">Destination address range</span></span> | <span data-ttu-id="9c7fa-374">Port docelowy</span><span class="sxs-lookup"><span data-stu-id="9c7fa-374">Destination port</span></span> | <span data-ttu-id="9c7fa-375">Protokół</span><span class="sxs-lookup"><span data-stu-id="9c7fa-375">Protocol</span></span> |
| --- | --- | --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="9c7fa-376">Allow-Inbound-HTTP-Internet</span><span class="sxs-lookup"><span data-stu-id="9c7fa-376">Allow-Inbound-HTTP-Internet</span></span> | <span data-ttu-id="9c7fa-377">Zezwalaj</span><span class="sxs-lookup"><span data-stu-id="9c7fa-377">Allow</span></span> | <span data-ttu-id="9c7fa-378">100</span><span class="sxs-lookup"><span data-stu-id="9c7fa-378">100</span></span> | <span data-ttu-id="9c7fa-379">Internet</span><span class="sxs-lookup"><span data-stu-id="9c7fa-379">Internet</span></span> | * | * | <span data-ttu-id="9c7fa-380">80</span><span class="sxs-lookup"><span data-stu-id="9c7fa-380">80</span></span> | <span data-ttu-id="9c7fa-381">TCP</span><span class="sxs-lookup"><span data-stu-id="9c7fa-381">TCP</span></span> |
| <span data-ttu-id="9c7fa-382">Allow-Inbound-RDP-Internet</span><span class="sxs-lookup"><span data-stu-id="9c7fa-382">Allow-Inbound-RDP-Internet</span></span> | <span data-ttu-id="9c7fa-383">Zezwalaj</span><span class="sxs-lookup"><span data-stu-id="9c7fa-383">Allow</span></span> | <span data-ttu-id="9c7fa-384">200</span><span class="sxs-lookup"><span data-stu-id="9c7fa-384">200</span></span> | <span data-ttu-id="9c7fa-385">Internet</span><span class="sxs-lookup"><span data-stu-id="9c7fa-385">Internet</span></span> | * | * | <span data-ttu-id="9c7fa-386">3389</span><span class="sxs-lookup"><span data-stu-id="9c7fa-386">3389</span></span> | <span data-ttu-id="9c7fa-387">TCP</span><span class="sxs-lookup"><span data-stu-id="9c7fa-387">TCP</span></span> |
| <span data-ttu-id="9c7fa-388">Deny-Inbound-All</span><span class="sxs-lookup"><span data-stu-id="9c7fa-388">Deny-Inbound-All</span></span> | <span data-ttu-id="9c7fa-389">Zablokuj</span><span class="sxs-lookup"><span data-stu-id="9c7fa-389">Deny</span></span> | <span data-ttu-id="9c7fa-390">300</span><span class="sxs-lookup"><span data-stu-id="9c7fa-390">300</span></span> | <span data-ttu-id="9c7fa-391">Internet</span><span class="sxs-lookup"><span data-stu-id="9c7fa-391">Internet</span></span> | * | * | * | <span data-ttu-id="9c7fa-392">TCP</span><span class="sxs-lookup"><span data-stu-id="9c7fa-392">TCP</span></span> |

<span data-ttu-id="9c7fa-393">**Reguły ruchu wychodzącego**</span><span class="sxs-lookup"><span data-stu-id="9c7fa-393">**Outbound rules**</span></span>

| <span data-ttu-id="9c7fa-394">Reguła</span><span class="sxs-lookup"><span data-stu-id="9c7fa-394">Rule</span></span> | <span data-ttu-id="9c7fa-395">Dostęp</span><span class="sxs-lookup"><span data-stu-id="9c7fa-395">Access</span></span> | <span data-ttu-id="9c7fa-396">Priorytet</span><span class="sxs-lookup"><span data-stu-id="9c7fa-396">Priority</span></span> | <span data-ttu-id="9c7fa-397">Zakres adresów źródłowych</span><span class="sxs-lookup"><span data-stu-id="9c7fa-397">Source address range</span></span> | <span data-ttu-id="9c7fa-398">Port źródłowy</span><span class="sxs-lookup"><span data-stu-id="9c7fa-398">Source port</span></span> | <span data-ttu-id="9c7fa-399">Zakres adresów docelowych</span><span class="sxs-lookup"><span data-stu-id="9c7fa-399">Destination address range</span></span> | <span data-ttu-id="9c7fa-400">Port docelowy</span><span class="sxs-lookup"><span data-stu-id="9c7fa-400">Destination port</span></span> | <span data-ttu-id="9c7fa-401">Protokół</span><span class="sxs-lookup"><span data-stu-id="9c7fa-401">Protocol</span></span> |
| --- | --- | --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="9c7fa-402">Deny-Internet-All</span><span class="sxs-lookup"><span data-stu-id="9c7fa-402">Deny-Internet-All</span></span> |<span data-ttu-id="9c7fa-403">Zablokuj</span><span class="sxs-lookup"><span data-stu-id="9c7fa-403">Deny</span></span> |<span data-ttu-id="9c7fa-404">100</span><span class="sxs-lookup"><span data-stu-id="9c7fa-404">100</span></span> | * | * | <span data-ttu-id="9c7fa-405">Internet</span><span class="sxs-lookup"><span data-stu-id="9c7fa-405">Internet</span></span> | * | * |

### <a name="backend"></a><span data-ttu-id="9c7fa-406">BackEnd</span><span class="sxs-lookup"><span data-stu-id="9c7fa-406">BackEnd</span></span>
<span data-ttu-id="9c7fa-407">**Reguły ruchu przychodzącego**</span><span class="sxs-lookup"><span data-stu-id="9c7fa-407">**Inbound rules**</span></span>

| <span data-ttu-id="9c7fa-408">Reguła</span><span class="sxs-lookup"><span data-stu-id="9c7fa-408">Rule</span></span> | <span data-ttu-id="9c7fa-409">Dostęp</span><span class="sxs-lookup"><span data-stu-id="9c7fa-409">Access</span></span> | <span data-ttu-id="9c7fa-410">Priorytet</span><span class="sxs-lookup"><span data-stu-id="9c7fa-410">Priority</span></span> | <span data-ttu-id="9c7fa-411">Zakres adresów źródłowych</span><span class="sxs-lookup"><span data-stu-id="9c7fa-411">Source address range</span></span> | <span data-ttu-id="9c7fa-412">Port źródłowy</span><span class="sxs-lookup"><span data-stu-id="9c7fa-412">Source port</span></span> | <span data-ttu-id="9c7fa-413">Zakres adresów docelowych</span><span class="sxs-lookup"><span data-stu-id="9c7fa-413">Destination address range</span></span> | <span data-ttu-id="9c7fa-414">Port docelowy</span><span class="sxs-lookup"><span data-stu-id="9c7fa-414">Destination port</span></span> | <span data-ttu-id="9c7fa-415">Protokół</span><span class="sxs-lookup"><span data-stu-id="9c7fa-415">Protocol</span></span> |
| --- | --- | --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="9c7fa-416">Deny-Internet-All</span><span class="sxs-lookup"><span data-stu-id="9c7fa-416">Deny-Internet-All</span></span> | <span data-ttu-id="9c7fa-417">Zablokuj</span><span class="sxs-lookup"><span data-stu-id="9c7fa-417">Deny</span></span> | <span data-ttu-id="9c7fa-418">100</span><span class="sxs-lookup"><span data-stu-id="9c7fa-418">100</span></span> | <span data-ttu-id="9c7fa-419">Internet</span><span class="sxs-lookup"><span data-stu-id="9c7fa-419">Internet</span></span> | * | * | * | * |

<span data-ttu-id="9c7fa-420">**Reguły ruchu wychodzącego**</span><span class="sxs-lookup"><span data-stu-id="9c7fa-420">**Outbound rules**</span></span>

| <span data-ttu-id="9c7fa-421">Reguła</span><span class="sxs-lookup"><span data-stu-id="9c7fa-421">Rule</span></span> | <span data-ttu-id="9c7fa-422">Dostęp</span><span class="sxs-lookup"><span data-stu-id="9c7fa-422">Access</span></span> | <span data-ttu-id="9c7fa-423">Priorytet</span><span class="sxs-lookup"><span data-stu-id="9c7fa-423">Priority</span></span> | <span data-ttu-id="9c7fa-424">Zakres adresów źródłowych</span><span class="sxs-lookup"><span data-stu-id="9c7fa-424">Source address range</span></span> | <span data-ttu-id="9c7fa-425">Port źródłowy</span><span class="sxs-lookup"><span data-stu-id="9c7fa-425">Source port</span></span> | <span data-ttu-id="9c7fa-426">Zakres adresów docelowych</span><span class="sxs-lookup"><span data-stu-id="9c7fa-426">Destination address range</span></span> | <span data-ttu-id="9c7fa-427">Port docelowy</span><span class="sxs-lookup"><span data-stu-id="9c7fa-427">Destination port</span></span> | <span data-ttu-id="9c7fa-428">Protokół</span><span class="sxs-lookup"><span data-stu-id="9c7fa-428">Protocol</span></span> |
| --- | --- | --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="9c7fa-429">Deny-Internet-All</span><span class="sxs-lookup"><span data-stu-id="9c7fa-429">Deny-Internet-All</span></span> | <span data-ttu-id="9c7fa-430">Zablokuj</span><span class="sxs-lookup"><span data-stu-id="9c7fa-430">Deny</span></span> | <span data-ttu-id="9c7fa-431">100</span><span class="sxs-lookup"><span data-stu-id="9c7fa-431">100</span></span> | * | * | <span data-ttu-id="9c7fa-432">Internet</span><span class="sxs-lookup"><span data-stu-id="9c7fa-432">Internet</span></span> | * | * |

<span data-ttu-id="9c7fa-433">Witaj następujące grupy NSG są tworzone i skojarzone tooNICs w hello następujące maszyny wirtualne:</span><span class="sxs-lookup"><span data-stu-id="9c7fa-433">hello following NSGs are created and associated tooNICs in hello following VMs:</span></span>

### <a name="web1"></a><span data-ttu-id="9c7fa-434">WEB1</span><span class="sxs-lookup"><span data-stu-id="9c7fa-434">WEB1</span></span>
<span data-ttu-id="9c7fa-435">**Reguły ruchu przychodzącego**</span><span class="sxs-lookup"><span data-stu-id="9c7fa-435">**Inbound rules**</span></span>

| <span data-ttu-id="9c7fa-436">Reguła</span><span class="sxs-lookup"><span data-stu-id="9c7fa-436">Rule</span></span> | <span data-ttu-id="9c7fa-437">Dostęp</span><span class="sxs-lookup"><span data-stu-id="9c7fa-437">Access</span></span> | <span data-ttu-id="9c7fa-438">Priorytet</span><span class="sxs-lookup"><span data-stu-id="9c7fa-438">Priority</span></span> | <span data-ttu-id="9c7fa-439">Zakres adresów źródłowych</span><span class="sxs-lookup"><span data-stu-id="9c7fa-439">Source address range</span></span> | <span data-ttu-id="9c7fa-440">Port źródłowy</span><span class="sxs-lookup"><span data-stu-id="9c7fa-440">Source port</span></span> | <span data-ttu-id="9c7fa-441">Zakres adresów docelowych</span><span class="sxs-lookup"><span data-stu-id="9c7fa-441">Destination address range</span></span> | <span data-ttu-id="9c7fa-442">Port docelowy</span><span class="sxs-lookup"><span data-stu-id="9c7fa-442">Destination port</span></span> | <span data-ttu-id="9c7fa-443">Protokół</span><span class="sxs-lookup"><span data-stu-id="9c7fa-443">Protocol</span></span> |
| --- | --- | --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="9c7fa-444">Allow-Inbound-RDP-Internet</span><span class="sxs-lookup"><span data-stu-id="9c7fa-444">Allow-Inbound-RDP-Internet</span></span> | <span data-ttu-id="9c7fa-445">Zezwalaj</span><span class="sxs-lookup"><span data-stu-id="9c7fa-445">Allow</span></span> | <span data-ttu-id="9c7fa-446">100</span><span class="sxs-lookup"><span data-stu-id="9c7fa-446">100</span></span> | <span data-ttu-id="9c7fa-447">Internet</span><span class="sxs-lookup"><span data-stu-id="9c7fa-447">Internet</span></span> | * | * | <span data-ttu-id="9c7fa-448">3389</span><span class="sxs-lookup"><span data-stu-id="9c7fa-448">3389</span></span> | <span data-ttu-id="9c7fa-449">TCP</span><span class="sxs-lookup"><span data-stu-id="9c7fa-449">TCP</span></span> |
| <span data-ttu-id="9c7fa-450">Allow-Inbound-HTTP-Internet</span><span class="sxs-lookup"><span data-stu-id="9c7fa-450">Allow-Inbound-HTTP-Internet</span></span> | <span data-ttu-id="9c7fa-451">Zezwalaj</span><span class="sxs-lookup"><span data-stu-id="9c7fa-451">Allow</span></span> | <span data-ttu-id="9c7fa-452">200</span><span class="sxs-lookup"><span data-stu-id="9c7fa-452">200</span></span> | <span data-ttu-id="9c7fa-453">Internet</span><span class="sxs-lookup"><span data-stu-id="9c7fa-453">Internet</span></span> | * | * | <span data-ttu-id="9c7fa-454">80</span><span class="sxs-lookup"><span data-stu-id="9c7fa-454">80</span></span> | <span data-ttu-id="9c7fa-455">TCP</span><span class="sxs-lookup"><span data-stu-id="9c7fa-455">TCP</span></span> |

> [!NOTE]
> <span data-ttu-id="9c7fa-456">zakres adresów źródła Hello hello poprzednie reguły to **Internet**, nie hello wirtualnego adresu IP dla modułu równoważenia obciążenia hello.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-456">hello source address range for hello previous rules is **Internet**, not hello virtual IP address of for hello load balancer.</span></span> <span data-ttu-id="9c7fa-457">port źródłowy Hello jest *, a nie 500001.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-457">hello source port is *, not 500001.</span></span> <span data-ttu-id="9c7fa-458">Reguły NAT dla usługi równoważenia obciążenia nie są hello taki sam jak reguł zabezpieczeń grupy NSG.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-458">NAT rules for load balancers are not hello same as NSG security rules.</span></span> <span data-ttu-id="9c7fa-459">Reguły zabezpieczeń NSG są zawsze powiązane toohello oryginalnym źródłem i ostatecznym miejscem przeznaczenia ruchu, **nie** hello równoważenia obciążenia między hello dwa.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-459">NSG security rules are always related toohello original source and final destination of traffic, **not** hello load balancer between hello two.</span></span> 
> 
> 

### <a name="web2"></a><span data-ttu-id="9c7fa-460">WEB2</span><span class="sxs-lookup"><span data-stu-id="9c7fa-460">WEB2</span></span>
<span data-ttu-id="9c7fa-461">**Reguły ruchu przychodzącego**</span><span class="sxs-lookup"><span data-stu-id="9c7fa-461">**Inbound rules**</span></span>

| <span data-ttu-id="9c7fa-462">Reguła</span><span class="sxs-lookup"><span data-stu-id="9c7fa-462">Rule</span></span> | <span data-ttu-id="9c7fa-463">Dostęp</span><span class="sxs-lookup"><span data-stu-id="9c7fa-463">Access</span></span> | <span data-ttu-id="9c7fa-464">Priorytet</span><span class="sxs-lookup"><span data-stu-id="9c7fa-464">Priority</span></span> | <span data-ttu-id="9c7fa-465">Zakres adresów źródłowych</span><span class="sxs-lookup"><span data-stu-id="9c7fa-465">Source address range</span></span> | <span data-ttu-id="9c7fa-466">Port źródłowy</span><span class="sxs-lookup"><span data-stu-id="9c7fa-466">Source port</span></span> | <span data-ttu-id="9c7fa-467">Zakres adresów docelowych</span><span class="sxs-lookup"><span data-stu-id="9c7fa-467">Destination address range</span></span> | <span data-ttu-id="9c7fa-468">Port docelowy</span><span class="sxs-lookup"><span data-stu-id="9c7fa-468">Destination port</span></span> | <span data-ttu-id="9c7fa-469">Protokół</span><span class="sxs-lookup"><span data-stu-id="9c7fa-469">Protocol</span></span> |
| --- | --- | --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="9c7fa-470">Deny-Inbound-RDP-Internet</span><span class="sxs-lookup"><span data-stu-id="9c7fa-470">Deny-Inbound-RDP-Internet</span></span> | <span data-ttu-id="9c7fa-471">Zablokuj</span><span class="sxs-lookup"><span data-stu-id="9c7fa-471">Deny</span></span> | <span data-ttu-id="9c7fa-472">100</span><span class="sxs-lookup"><span data-stu-id="9c7fa-472">100</span></span> | <span data-ttu-id="9c7fa-473">Internet</span><span class="sxs-lookup"><span data-stu-id="9c7fa-473">Internet</span></span> | * | * | <span data-ttu-id="9c7fa-474">3389</span><span class="sxs-lookup"><span data-stu-id="9c7fa-474">3389</span></span> | <span data-ttu-id="9c7fa-475">TCP</span><span class="sxs-lookup"><span data-stu-id="9c7fa-475">TCP</span></span> |
| <span data-ttu-id="9c7fa-476">Allow-Inbound-HTTP-Internet</span><span class="sxs-lookup"><span data-stu-id="9c7fa-476">Allow-Inbound-HTTP-Internet</span></span> | <span data-ttu-id="9c7fa-477">Zezwalaj</span><span class="sxs-lookup"><span data-stu-id="9c7fa-477">Allow</span></span> | <span data-ttu-id="9c7fa-478">200</span><span class="sxs-lookup"><span data-stu-id="9c7fa-478">200</span></span> | <span data-ttu-id="9c7fa-479">Internet</span><span class="sxs-lookup"><span data-stu-id="9c7fa-479">Internet</span></span> | * | * | <span data-ttu-id="9c7fa-480">80</span><span class="sxs-lookup"><span data-stu-id="9c7fa-480">80</span></span> | <span data-ttu-id="9c7fa-481">TCP</span><span class="sxs-lookup"><span data-stu-id="9c7fa-481">TCP</span></span> |

### <a name="db-servers-management-nic"></a><span data-ttu-id="9c7fa-482">Serwery DB (karta sieciowa zarządzania)</span><span class="sxs-lookup"><span data-stu-id="9c7fa-482">DB servers (Management NIC)</span></span>
<span data-ttu-id="9c7fa-483">**Reguły ruchu przychodzącego**</span><span class="sxs-lookup"><span data-stu-id="9c7fa-483">**Inbound rules**</span></span>

| <span data-ttu-id="9c7fa-484">Reguła</span><span class="sxs-lookup"><span data-stu-id="9c7fa-484">Rule</span></span> | <span data-ttu-id="9c7fa-485">Dostęp</span><span class="sxs-lookup"><span data-stu-id="9c7fa-485">Access</span></span> | <span data-ttu-id="9c7fa-486">Priorytet</span><span class="sxs-lookup"><span data-stu-id="9c7fa-486">Priority</span></span> | <span data-ttu-id="9c7fa-487">Zakres adresów źródłowych</span><span class="sxs-lookup"><span data-stu-id="9c7fa-487">Source address range</span></span> | <span data-ttu-id="9c7fa-488">Port źródłowy</span><span class="sxs-lookup"><span data-stu-id="9c7fa-488">Source port</span></span> | <span data-ttu-id="9c7fa-489">Zakres adresów docelowych</span><span class="sxs-lookup"><span data-stu-id="9c7fa-489">Destination address range</span></span> | <span data-ttu-id="9c7fa-490">Port docelowy</span><span class="sxs-lookup"><span data-stu-id="9c7fa-490">Destination port</span></span> | <span data-ttu-id="9c7fa-491">Protokół</span><span class="sxs-lookup"><span data-stu-id="9c7fa-491">Protocol</span></span> |
| --- | --- | --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="9c7fa-492">Allow-Inbound-RDP-Front-end</span><span class="sxs-lookup"><span data-stu-id="9c7fa-492">Allow-Inbound-RDP-Front-end</span></span> | <span data-ttu-id="9c7fa-493">Zezwalaj</span><span class="sxs-lookup"><span data-stu-id="9c7fa-493">Allow</span></span> | <span data-ttu-id="9c7fa-494">100</span><span class="sxs-lookup"><span data-stu-id="9c7fa-494">100</span></span> | <span data-ttu-id="9c7fa-495">192.168.1.0/24</span><span class="sxs-lookup"><span data-stu-id="9c7fa-495">192.168.1.0/24</span></span> | * | * | <span data-ttu-id="9c7fa-496">3389</span><span class="sxs-lookup"><span data-stu-id="9c7fa-496">3389</span></span> | <span data-ttu-id="9c7fa-497">TCP</span><span class="sxs-lookup"><span data-stu-id="9c7fa-497">TCP</span></span> |

### <a name="db-servers-database-traffic-nic"></a><span data-ttu-id="9c7fa-498">Serwery DB (karta sieciowa ruchu bazy danych)</span><span class="sxs-lookup"><span data-stu-id="9c7fa-498">DB servers (Database traffic NIC)</span></span>
<span data-ttu-id="9c7fa-499">**Reguły ruchu przychodzącego**</span><span class="sxs-lookup"><span data-stu-id="9c7fa-499">**Inbound rules**</span></span>

| <span data-ttu-id="9c7fa-500">Reguła</span><span class="sxs-lookup"><span data-stu-id="9c7fa-500">Rule</span></span> | <span data-ttu-id="9c7fa-501">Dostęp</span><span class="sxs-lookup"><span data-stu-id="9c7fa-501">Access</span></span> | <span data-ttu-id="9c7fa-502">Priorytet</span><span class="sxs-lookup"><span data-stu-id="9c7fa-502">Priority</span></span> | <span data-ttu-id="9c7fa-503">Zakres adresów źródłowych</span><span class="sxs-lookup"><span data-stu-id="9c7fa-503">Source address range</span></span> | <span data-ttu-id="9c7fa-504">Port źródłowy</span><span class="sxs-lookup"><span data-stu-id="9c7fa-504">Source port</span></span> | <span data-ttu-id="9c7fa-505">Zakres adresów docelowych</span><span class="sxs-lookup"><span data-stu-id="9c7fa-505">Destination address range</span></span> | <span data-ttu-id="9c7fa-506">Port docelowy</span><span class="sxs-lookup"><span data-stu-id="9c7fa-506">Destination port</span></span> | <span data-ttu-id="9c7fa-507">Protokół</span><span class="sxs-lookup"><span data-stu-id="9c7fa-507">Protocol</span></span> |
| --- | --- | --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="9c7fa-508">Allow-Inbound-SQL-Front-end</span><span class="sxs-lookup"><span data-stu-id="9c7fa-508">Allow-Inbound-SQL-Front-end</span></span> | <span data-ttu-id="9c7fa-509">Zezwalaj</span><span class="sxs-lookup"><span data-stu-id="9c7fa-509">Allow</span></span> | <span data-ttu-id="9c7fa-510">100</span><span class="sxs-lookup"><span data-stu-id="9c7fa-510">100</span></span> | <span data-ttu-id="9c7fa-511">192.168.1.0/24</span><span class="sxs-lookup"><span data-stu-id="9c7fa-511">192.168.1.0/24</span></span> | * | * | <span data-ttu-id="9c7fa-512">1433</span><span class="sxs-lookup"><span data-stu-id="9c7fa-512">1433</span></span> | <span data-ttu-id="9c7fa-513">TCP</span><span class="sxs-lookup"><span data-stu-id="9c7fa-513">TCP</span></span> |

<span data-ttu-id="9c7fa-514">Ponieważ niektóre z grup NSG hello są skojarzone tooindividual kart sieciowych, reguły hello są zasoby wdrażane za pomocą Menedżera zasobów.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-514">Since some of hello NSGs are associated tooindividual NICs, hello rules are for resources deployed through Resource Manager.</span></span> <span data-ttu-id="9c7fa-515">Reguły są łączone dla podsieci i karty sieciowej w zależności od sposobu ich kojarzenia.</span><span class="sxs-lookup"><span data-stu-id="9c7fa-515">Rules are combined for subnet and NIC, depending on how they are associated.</span></span> 

## <a name="next-steps"></a><span data-ttu-id="9c7fa-516">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="9c7fa-516">Next steps</span></span>
* <span data-ttu-id="9c7fa-517">[Wdrażanie sieciowych grup zabezpieczeń (model usługi Resource Manager)](virtual-networks-create-nsg-arm-pportal.md).</span><span class="sxs-lookup"><span data-stu-id="9c7fa-517">[Deploy NSGs (Resource Manager)](virtual-networks-create-nsg-arm-pportal.md).</span></span>
* <span data-ttu-id="9c7fa-518">[Wdrażanie sieciowych grup zabezpieczeń (model klasyczny)](virtual-networks-create-nsg-classic-ps.md).</span><span class="sxs-lookup"><span data-stu-id="9c7fa-518">[Deploy NSGs (classic)](virtual-networks-create-nsg-classic-ps.md).</span></span>
* <span data-ttu-id="9c7fa-519">[Manage NSG logs](virtual-network-nsg-manage-log.md) (Zarządzanie dziennikami sieciowej grupy zabezpieczeń).</span><span class="sxs-lookup"><span data-stu-id="9c7fa-519">[Manage NSG logs](virtual-network-nsg-manage-log.md).</span></span>
* <span data-ttu-id="9c7fa-520">[Rozwiązywanie problemów z sieciowymi grupami zabezpieczeń] (virtual-network-nsg-troubleshoot-portal.md)</span><span class="sxs-lookup"><span data-stu-id="9c7fa-520">[Troubleshoot NSGs] (virtual-network-nsg-troubleshoot-portal.md)</span></span>
