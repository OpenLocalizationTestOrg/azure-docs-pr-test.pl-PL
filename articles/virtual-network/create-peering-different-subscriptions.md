---
title: "Tworzenie sieci wirtualnej platformy Azure komunikację równorzędną - Resource Manager - różnych subskrypcji | Dokumentacja firmy Microsoft"
description: "Dowiedz się, jak utworzyć sieć wirtualną komunikacji równorzędnej między sieciami wirtualnymi utworzone za pomocą Menedżera zasobów, które istnieją w ramach różnych subskrypcji Azure."
services: virtual-network
documentationcenter: 
author: jimdial
manager: timlt
editor: 
tags: azure-resource-manager
ms.assetid: 
ms.service: virtual-network
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 07/17/2017
ms.author: jdial;narayan;annahar
ms.openlocfilehash: 84bbf90257f038fb5f3e964b7b35419acd77fc6d
ms.sourcegitcommit: 422efcbac5b6b68295064bd545132fcc98349d01
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 07/29/2017
---
# <a name="create-a-virtual-network-peering---resource-manager-different-subscriptions"></a><span data-ttu-id="b6eec-103">Tworzenie sieci wirtualnej równorzędna - Resource Manager różnych subskrypcji</span><span class="sxs-lookup"><span data-stu-id="b6eec-103">Create a virtual network peering - Resource Manager, different subscriptions</span></span> 

<span data-ttu-id="b6eec-104">Z tego samouczka dowiesz się, można utworzyć sieci wirtualnej komunikacji równorzędnej między sieciami wirtualnymi utworzone za pomocą Menedżera zasobów.</span><span class="sxs-lookup"><span data-stu-id="b6eec-104">In this tutorial, you learn to create a virtual network peering between virtual networks created through Resource Manager.</span></span> <span data-ttu-id="b6eec-105">Sieci wirtualne istnieją w ramach różnych subskrypcji.</span><span class="sxs-lookup"><span data-stu-id="b6eec-105">The virtual networks exist in different subscriptions.</span></span> <span data-ttu-id="b6eec-106">Komunikacja równorzędna dwa zasoby umożliwia sieci wirtualnych w różnych sieciach wirtualnych do komunikowania się ze sobą przy tym samym przepustowości i opóźnień, tak jakby były zasoby w tej samej sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="b6eec-106">Peering two virtual networks enables resources in different virtual networks to communicate with each other with the same bandwidth and latency as though the resources were in the same virtual network.</span></span> <span data-ttu-id="b6eec-107">Dowiedz się więcej o [równorzędna sieci wirtualnej](virtual-network-peering-overview.md).</span><span class="sxs-lookup"><span data-stu-id="b6eec-107">Learn more about [Virtual network peering](virtual-network-peering-overview.md).</span></span> 

<span data-ttu-id="b6eec-108">Kroki tworzenia sieci wirtualnej komunikacji równorzędnej są różne, w zależności od tego, czy sieci wirtualne są w tym samym lub różnych subskrypcji i które [modelu wdrożenia usługi Azure](../azure-resource-manager/resource-manager-deployment-model.md?toc=%2fazure%2fvirtual-network%2ftoc.json) sieci wirtualne są tworzone za pomocą.</span><span class="sxs-lookup"><span data-stu-id="b6eec-108">The steps to create a virtual network peering are different, depending on whether the virtual networks are in the same, or different, subscriptions, and which [Azure deployment model](../azure-resource-manager/resource-manager-deployment-model.md?toc=%2fazure%2fvirtual-network%2ftoc.json) the virtual networks are created through.</span></span> <span data-ttu-id="b6eec-109">Dowiedz się, jak utworzyć sieć wirtualną równorzędna w innych sytuacjach, klikając w scenariuszu z następującej tabeli:</span><span class="sxs-lookup"><span data-stu-id="b6eec-109">Learn how to create a virtual network peering in other scenarios by clicking the scenario from the following table:</span></span>

|<span data-ttu-id="b6eec-110">Model wdrażania platformy Azure</span><span class="sxs-lookup"><span data-stu-id="b6eec-110">Azure deployment model</span></span>  | <span data-ttu-id="b6eec-111">Subskrypcja platformy Azure</span><span class="sxs-lookup"><span data-stu-id="b6eec-111">Azure subscription</span></span>  |
|--------- |---------|
|[<span data-ttu-id="b6eec-112">Obie usługi Resource Manager</span><span class="sxs-lookup"><span data-stu-id="b6eec-112">Both Resource Manager</span></span>](virtual-network-create-peering.md) |<span data-ttu-id="b6eec-113">tym samym</span><span class="sxs-lookup"><span data-stu-id="b6eec-113">Same</span></span>|
|[<span data-ttu-id="b6eec-114">Jeden Resource Manager, co classic</span><span class="sxs-lookup"><span data-stu-id="b6eec-114">One Resource Manager, one classic</span></span>](create-peering-different-deployment-models.md) |<span data-ttu-id="b6eec-115">tym samym</span><span class="sxs-lookup"><span data-stu-id="b6eec-115">Same</span></span>|
|[<span data-ttu-id="b6eec-116">Jeden Resource Manager, co classic</span><span class="sxs-lookup"><span data-stu-id="b6eec-116">One Resource Manager, one classic</span></span>](create-peering-different-deployment-models-subscriptions.md) |<span data-ttu-id="b6eec-117">Różne</span><span class="sxs-lookup"><span data-stu-id="b6eec-117">Different</span></span>|

<span data-ttu-id="b6eec-118">Nie można utworzyć sieci wirtualnej komunikacji równorzędnej między dwiema sieciami wirtualnej wdrożone za pośrednictwem klasycznego modelu wdrażania.</span><span class="sxs-lookup"><span data-stu-id="b6eec-118">A virtual network peering cannot be created between two virtual networks deployed through the classic deployment model.</span></span> <span data-ttu-id="b6eec-119">Tylko można utworzyć sieci wirtualnej komunikacji równorzędnej między dwiema sieciami wirtualnymi, znajdujące się w tym samym regionie Azure.</span><span class="sxs-lookup"><span data-stu-id="b6eec-119">A virtual network peering can only be created between two virtual networks that exist in the same Azure region.</span></span> <span data-ttu-id="b6eec-120">Podczas tworzenia sieci wirtualnej komunikacji równorzędnej między sieciami wirtualnymi, które istnieją w ramach różnych subskrypcji, subskrypcje muszą być skojarzone z tej samej dzierżawy usługi Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="b6eec-120">When creating a virtual network peering between virtual networks that exist in different subscriptions, the subscriptions must both be associated to the same Azure Active Directory tenant.</span></span> <span data-ttu-id="b6eec-121">Jeśli nie masz już dzierżawę usługi Azure Active Directory, możesz szybko [utworzyć](../active-directory/develop/active-directory-howto-tenant.md?toc=%2fazure%2fvirtual-network%2ftoc.json#start-from-scratch).</span><span class="sxs-lookup"><span data-stu-id="b6eec-121">If you don't already have an Azure Active Directory tenant, you can quickly [create one](../active-directory/develop/active-directory-howto-tenant.md?toc=%2fazure%2fvirtual-network%2ftoc.json#start-from-scratch).</span></span> <span data-ttu-id="b6eec-122">Jeśli musisz połączyć sieci wirtualnych obu utworzonych przy użyciu klasycznego modelu wdrażania, który istnieje w różnych regionach platformy Azure lub który istnieje w subskrypcji skojarzonych z różnych dzierżaw usługi Azure Active Directory, możesz użyć Azure [bramy sieci VPN](../vpn-gateway/vpn-gateway-howto-site-to-site-resource-manager-portal.md?toc=%2fazure%2fvirtual-network%2ftoc.json) do łączenia sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="b6eec-122">If you need to connect virtual networks that were both created through the classic deployment model, or that exist in different Azure regions, or that exist in subscriptions associated to different Azure Active Directory tenants, you can use an Azure [VPN Gateway](../vpn-gateway/vpn-gateway-howto-site-to-site-resource-manager-portal.md?toc=%2fazure%2fvirtual-network%2ftoc.json) to connect the virtual networks.</span></span> 

<span data-ttu-id="b6eec-123">Można użyć [portalu Azure](#portal), Azure [interfejsu wiersza polecenia](#cli) (CLI) lub Azure [PowerShell](#powershell) można utworzyć sieci wirtualnej komunikacji równorzędnej.</span><span class="sxs-lookup"><span data-stu-id="b6eec-123">You can use the [Azure portal](#portal), the Azure [command-line interface](#cli) (CLI), or Azure [PowerShell](#powershell) to create a virtual network peering.</span></span> <span data-ttu-id="b6eec-124">Kliknij dowolny z poprzedniej łączy narzędzia, aby przejść bezpośrednio do kroki tworzenia sieci wirtualnej komunikacji równorzędnej narzędzie wyboru.</span><span class="sxs-lookup"><span data-stu-id="b6eec-124">Click any of the previous tool links to go directly to the steps for creating a virtual network peering using your tool of choice.</span></span>

## <span data-ttu-id="b6eec-125"><a name="portal"></a>Utwórz równorzędna - portalu Azure</span><span class="sxs-lookup"><span data-stu-id="b6eec-125"><a name="portal"></a>Create peering - Azure portal</span></span>

<span data-ttu-id="b6eec-126">W tym samouczku korzysta z różnych kont dla każdej subskrypcji.</span><span class="sxs-lookup"><span data-stu-id="b6eec-126">This tutorial uses different accounts for each subscription.</span></span> <span data-ttu-id="b6eec-127">Jeśli używasz konta mającego uprawnienia do obu subskrypcji, można używać tego samego konta dla wszystkich kroków, pomiń kroki rejestrowania poza portalem i pomiń kroki przypisywania innym użytkownikom uprawnień do sieci wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="b6eec-127">If you're using an account that has permissions to both subscriptions, you can use the same account for all steps, skip the steps for logging out of the portal, and skip the steps for assigning another user permissions to the virtual networks.</span></span>

1. <span data-ttu-id="b6eec-128">Zaloguj się do [portalu Azure](https://portal.azure.com) jako Użytkownik_a.</span><span class="sxs-lookup"><span data-stu-id="b6eec-128">Log in to the [Azure portal](https://portal.azure.com) as UserA.</span></span> <span data-ttu-id="b6eec-129">Konto logowania przy użyciu musi mieć uprawnienia do tworzenia sieci wirtualnej komunikacji równorzędnej.</span><span class="sxs-lookup"><span data-stu-id="b6eec-129">The account you log in with must have the necessary permissions to create a virtual network peering.</span></span> <span data-ttu-id="b6eec-130">Zobacz [uprawnienia](#permissions) sekcji tego artykułu, aby uzyskać szczegółowe informacje.</span><span class="sxs-lookup"><span data-stu-id="b6eec-130">See the [Permissions](#permissions) section of this article for details.</span></span>
2. <span data-ttu-id="b6eec-131">Kliknij przycisk **+ nowy**, kliknij przycisk **sieci**, następnie kliknij przycisk **sieci wirtualnej**.</span><span class="sxs-lookup"><span data-stu-id="b6eec-131">Click **+ New**, click **Networking**, then click **Virtual network**.</span></span>
3. <span data-ttu-id="b6eec-132">W **Utwórz sieć wirtualną** bloku, wprowadź, lub wybierz wartości poniższych ustawień, a następnie kliknij przycisk **Utwórz**:</span><span class="sxs-lookup"><span data-stu-id="b6eec-132">In the **Create virtual network** blade, enter, or select values for the following settings, then click **Create**:</span></span>
    - <span data-ttu-id="b6eec-133">**Nazwa**: *myVnetA*</span><span class="sxs-lookup"><span data-stu-id="b6eec-133">**Name**: *myVnetA*</span></span>
    - <span data-ttu-id="b6eec-134">**Przestrzeń adresowa**: *10.0.0.0/16*</span><span class="sxs-lookup"><span data-stu-id="b6eec-134">**Address space**: *10.0.0.0/16*</span></span>
    - <span data-ttu-id="b6eec-135">**Nazwa podsieci**: *domyślne*</span><span class="sxs-lookup"><span data-stu-id="b6eec-135">**Subnet name**: *default*</span></span>
    - <span data-ttu-id="b6eec-136">**Zakres adresów podsieci**: *10.0.0.0/24*</span><span class="sxs-lookup"><span data-stu-id="b6eec-136">**Subnet address range**: *10.0.0.0/24*</span></span>
    - <span data-ttu-id="b6eec-137">**Subskrypcja**: Wybierz subskrypcję A.</span><span class="sxs-lookup"><span data-stu-id="b6eec-137">**Subscription**: Select subscription A.</span></span>
    - <span data-ttu-id="b6eec-138">**Grupa zasobów**: Wybierz **Utwórz nowy** , a następnie wprowadź *myResourceGroupA*</span><span class="sxs-lookup"><span data-stu-id="b6eec-138">**Resource group**: Select **Create new** and enter *myResourceGroupA*</span></span>
    - <span data-ttu-id="b6eec-139">**Lokalizacja**: *wschodnie stany USA*</span><span class="sxs-lookup"><span data-stu-id="b6eec-139">**Location**: *East US*</span></span>
4. <span data-ttu-id="b6eec-140">W **wyszukiwania zasobów** pole w górnej części portalu typu *myVnetA*.</span><span class="sxs-lookup"><span data-stu-id="b6eec-140">In the **Search resources** box at the top of the portal, type *myVnetA*.</span></span> <span data-ttu-id="b6eec-141">Kliknij przycisk **myVnetA** po wyświetleniu w wynikach wyszukiwania.</span><span class="sxs-lookup"><span data-stu-id="b6eec-141">Click **myVnetA** when it appears in the search results.</span></span> <span data-ttu-id="b6eec-142">Zostanie wyświetlony blok **myVnetA** sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="b6eec-142">A blade appears for the **myVnetA** virtual network.</span></span>
5. <span data-ttu-id="b6eec-143">W **myVnetA** bloku, który jest wyświetlany, kliknij przycisk **(IAM) kontroli dostępu** z pionowy listy opcji w lewej części bloku.</span><span class="sxs-lookup"><span data-stu-id="b6eec-143">In the **myVnetA** blade that appears, click **Access control (IAM)** from the vertical list of options on the left side of the blade.</span></span>
6. <span data-ttu-id="b6eec-144">W **myVnetA — kontrola dostępu (IAM)** bloku, który jest wyświetlany, kliknij przycisk **+ Dodaj**.</span><span class="sxs-lookup"><span data-stu-id="b6eec-144">In the **myVnetA - Access control (IAM)** blade that appears, click **+ Add**.</span></span>
7. <span data-ttu-id="b6eec-145">W **dodać uprawnienia** wyświetlonym bloku, wybierz **współautora sieci** w **roli** pole.</span><span class="sxs-lookup"><span data-stu-id="b6eec-145">In the **Add permissions** blade that appears, select **Network contributor** in the **Role** box.</span></span>
8. <span data-ttu-id="b6eec-146">W **wybierz** wybierz Użytkownik_b lub wpisz adres e-mail firmy Użytkownik_b za pomocą funkcji wyszukiwania.</span><span class="sxs-lookup"><span data-stu-id="b6eec-146">In the **Select** box, select a UserB, or type UserB's email address to search for it.</span></span> <span data-ttu-id="b6eec-147">Lista użytkowników wyświetlany jest dzierżawy usługi Azure Active Directory jako sieć wirtualną, której podczas konfigurowania komunikacji równorzędnej dla.</span><span class="sxs-lookup"><span data-stu-id="b6eec-147">The list of users shown is from the same Azure Active Directory tenant as the virtual network you're setting up the peering for.</span></span>
9. <span data-ttu-id="b6eec-148">Kliknij pozycję **Zapisz**.</span><span class="sxs-lookup"><span data-stu-id="b6eec-148">Click **Save**.</span></span>
10. <span data-ttu-id="b6eec-149">W **myVnetA — kontrola dostępu (IAM)** bloku, kliknij przycisk **właściwości** z pionowy listy opcji w lewej części bloku.</span><span class="sxs-lookup"><span data-stu-id="b6eec-149">In the **myVnetA - Access control (IAM)** blade, click **Properties** from the vertical list of options on the left side of the blade.</span></span> <span data-ttu-id="b6eec-150">Kopiuj **identyfikator ZASOBU**, która jest używana w kolejnym kroku.</span><span class="sxs-lookup"><span data-stu-id="b6eec-150">Copy the **RESOURCE ID**, which is used in a later step.</span></span> <span data-ttu-id="b6eec-151">Identyfikator zasobu jest podobny do poniższego przykładu: /subscriptions/<Subscription Id>/resourceGroups/myResourceGroupA/providers/Microsoft.Network/virtualNetworks/myVnetA.</span><span class="sxs-lookup"><span data-stu-id="b6eec-151">The resource ID is similar to the following example: /subscriptions/<Subscription Id>/resourceGroups/myResourceGroupA/providers/Microsoft.Network/virtualNetworks/myVnetA.</span></span>
11. <span data-ttu-id="b6eec-152">Wyloguj się z portalem jako Użytkownik_a, a następnie zaloguj się jako Użytkownik_b.</span><span class="sxs-lookup"><span data-stu-id="b6eec-152">Log out of the portal as UserA, then log in as UserB.</span></span>
12. <span data-ttu-id="b6eec-153">Wykonaj kroki od 2 do 3, wprowadzania lub wybierz następujące wartości w kroku 3:</span><span class="sxs-lookup"><span data-stu-id="b6eec-153">Complete steps 2-3, entering or selecting the following values in step 3:</span></span>

    - <span data-ttu-id="b6eec-154">**Nazwa**: *myVnetB*</span><span class="sxs-lookup"><span data-stu-id="b6eec-154">**Name**: *myVnetB*</span></span>
    - <span data-ttu-id="b6eec-155">**Przestrzeń adresowa**: *10.1.0.0/16*</span><span class="sxs-lookup"><span data-stu-id="b6eec-155">**Address space**: *10.1.0.0/16*</span></span>
    - <span data-ttu-id="b6eec-156">**Nazwa podsieci**: *domyślne*</span><span class="sxs-lookup"><span data-stu-id="b6eec-156">**Subnet name**: *default*</span></span>
    - <span data-ttu-id="b6eec-157">**Zakres adresów podsieci**: *10.1.0.0/24*</span><span class="sxs-lookup"><span data-stu-id="b6eec-157">**Subnet address range**: *10.1.0.0/24*</span></span>
    - <span data-ttu-id="b6eec-158">**Subskrypcja**: Wybierz subskrypcję B.</span><span class="sxs-lookup"><span data-stu-id="b6eec-158">**Subscription**: Select subscription B.</span></span>
    - <span data-ttu-id="b6eec-159">**Grupa zasobów**: Wybierz **Utwórz nowy** , a następnie wprowadź *myResourceGroupB*</span><span class="sxs-lookup"><span data-stu-id="b6eec-159">**Resource group**: Select **Create new** and enter *myResourceGroupB*</span></span>
    - <span data-ttu-id="b6eec-160">**Lokalizacja**: *wschodnie stany USA*</span><span class="sxs-lookup"><span data-stu-id="b6eec-160">**Location**: *East US*</span></span>

13. <span data-ttu-id="b6eec-161">W **wyszukiwania zasobów** pole w górnej części portalu typu *myVnetB*.</span><span class="sxs-lookup"><span data-stu-id="b6eec-161">In the **Search resources** box at the top of the portal, type *myVnetB*.</span></span> <span data-ttu-id="b6eec-162">Kliknij przycisk **myVnetB** po wyświetleniu w wynikach wyszukiwania.</span><span class="sxs-lookup"><span data-stu-id="b6eec-162">Click **myVnetB** when it appears in the search results.</span></span> <span data-ttu-id="b6eec-163">Zostanie wyświetlony blok **myVnetB** sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="b6eec-163">A blade appears for the **myVnetB** virtual network.</span></span>
14. <span data-ttu-id="b6eec-164">W **myVnetB** bloku, który jest wyświetlany, kliknij przycisk **właściwości** z pionowy listy opcji w lewej części bloku.</span><span class="sxs-lookup"><span data-stu-id="b6eec-164">In the **myVnetB** blade that appears, click **Properties** from the vertical list of options on the left side of the blade.</span></span> <span data-ttu-id="b6eec-165">Kopiuj **identyfikator ZASOBU**, która jest używana w kolejnym kroku.</span><span class="sxs-lookup"><span data-stu-id="b6eec-165">Copy the **RESOURCE ID**, which is used in a later step.</span></span> <span data-ttu-id="b6eec-166">Identyfikator zasobu jest podobny do poniższego przykładu: /subscriptions/<Susbscription ID>/resourceGroups/myResoureGroupB/providers/Microsoft.ClassicNetwork/virtualNetworks/myVnetB.</span><span class="sxs-lookup"><span data-stu-id="b6eec-166">The resource ID is similar to the following example: /subscriptions/<Susbscription ID>/resourceGroups/myResoureGroupB/providers/Microsoft.ClassicNetwork/virtualNetworks/myVnetB.</span></span>
15. <span data-ttu-id="b6eec-167">Kliknij przycisk **(IAM) kontroli dostępu** w **myVnetB** bloku, a następnie wykonaj kroki 5 – 10 dla myVnetB wprowadzania **Użytkownik_a** w kroku 8.</span><span class="sxs-lookup"><span data-stu-id="b6eec-167">Click **Access control (IAM)** in the **myVnetB** blade and then complete steps 5-10 for myVnetB, entering **UserA** in step 8.</span></span>
16. <span data-ttu-id="b6eec-168">Wyloguj się z portalem jako Użytkownik_b i zaloguj się jako Użytkownik_a.</span><span class="sxs-lookup"><span data-stu-id="b6eec-168">Log out of the portal as UserB and log in as UserA.</span></span>
17. <span data-ttu-id="b6eec-169">W **wyszukiwania zasobów** pole w górnej części portalu typu *myVnetA*.</span><span class="sxs-lookup"><span data-stu-id="b6eec-169">In the **Search resources** box at the top of the portal, type *myVnetA*.</span></span> <span data-ttu-id="b6eec-170">Kliknij przycisk **myVnetA** po wyświetleniu w wynikach wyszukiwania.</span><span class="sxs-lookup"><span data-stu-id="b6eec-170">Click **myVnetA** when it appears in the search results.</span></span> <span data-ttu-id="b6eec-171">Zostanie wyświetlony blok **myVnet** sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="b6eec-171">A blade appears for the **myVnet** virtual network.</span></span>
18. <span data-ttu-id="b6eec-172">Kliknij przycisk **myVnetA**.</span><span class="sxs-lookup"><span data-stu-id="b6eec-172">Click **myVnetA**.</span></span>
19. <span data-ttu-id="b6eec-173">W **myVnetA** bloku, który jest wyświetlany, kliknij przycisk **komunikacji równorzędnych** z pionowy listy opcji w lewej części bloku.</span><span class="sxs-lookup"><span data-stu-id="b6eec-173">In the **myVnetA** blade that appears, click **Peerings** from the vertical list of options on the left side of the blade.</span></span>
20. <span data-ttu-id="b6eec-174">W **myVnetA - komunikacji równorzędnych** bloku, które wystąpiły, kliknij przycisk **+ Dodaj**</span><span class="sxs-lookup"><span data-stu-id="b6eec-174">In the **myVnetA - Peerings** blade that appeared, click **+ Add**</span></span>
21. <span data-ttu-id="b6eec-175">W **równorzędna Dodaj** bloku, zostanie wyświetlone, wprowadź, lub wybierz poniższe opcje, a następnie kliknij **OK**:</span><span class="sxs-lookup"><span data-stu-id="b6eec-175">In the **Add peering** blade that appears, enter, or select the following options, then click **OK**:</span></span>
     - <span data-ttu-id="b6eec-176">**Nazwa**: *myVnetAToMyVnetB*</span><span class="sxs-lookup"><span data-stu-id="b6eec-176">**Name**: *myVnetAToMyVnetB*</span></span>
     - <span data-ttu-id="b6eec-177">**Model wdrażania sieci wirtualnej**: Wybierz **Resource Manager**.</span><span class="sxs-lookup"><span data-stu-id="b6eec-177">**Virtual network deployment model**:  Select **Resource Manager**.</span></span>
     - <span data-ttu-id="b6eec-178">**Sprawdzić mój identyfikator zasobu**: Zaznacz to pole wyboru.</span><span class="sxs-lookup"><span data-stu-id="b6eec-178">**I know my resource ID**: Check this box.</span></span>
     - <span data-ttu-id="b6eec-179">**Identyfikator zasobu**: Wprowadź identyfikator zasobu z kroku 14.</span><span class="sxs-lookup"><span data-stu-id="b6eec-179">**Resource ID**: Enter the resource ID from step 14.</span></span>
     - <span data-ttu-id="b6eec-180">**Zezwalaj na dostęp do sieci wirtualnej:** upewnij się, że **włączone** jest zaznaczone.</span><span class="sxs-lookup"><span data-stu-id="b6eec-180">**Allow virtual network access:** Ensure that **Enabled** is selected.</span></span>
    <span data-ttu-id="b6eec-181">W tym samouczku są używane żadne inne ustawienia.</span><span class="sxs-lookup"><span data-stu-id="b6eec-181">No other settings are used in this tutorial.</span></span> <span data-ttu-id="b6eec-182">Aby dowiedzieć się więcej na temat wszystkich ustawień komunikacji równorzędnej, przeczytaj [Zarządzanie komunikacji równorzędnych sieci wirtualnych](virtual-network-manage-peering.md#create-a-peering).</span><span class="sxs-lookup"><span data-stu-id="b6eec-182">To learn about all peering settings, read [Manage virtual network peerings](virtual-network-manage-peering.md#create-a-peering).</span></span>
22. <span data-ttu-id="b6eec-183">Po kliknięciu przycisku **OK** w poprzednim kroku, **równorzędna Dodaj** zamyka bloku, aby zobaczyć **myVnetA - komunikacji równorzędnych** ponownie blok.</span><span class="sxs-lookup"><span data-stu-id="b6eec-183">After clicking **OK** in the previous step, the **Add peering** blade closes and you see the **myVnetA - Peerings** blade again.</span></span> <span data-ttu-id="b6eec-184">Po kilku sekundach komunikacji równorzędnej, utworzony zostanie wyświetlony w bloku.</span><span class="sxs-lookup"><span data-stu-id="b6eec-184">After a few seconds, the peering you created appears in the blade.</span></span> <span data-ttu-id="b6eec-185">**Zainicjowano** znajduje się w **RÓWNORZĘDNA stan** kolumny dla **myVnetAToMyVnetB** równorzędna zostanie utworzony.</span><span class="sxs-lookup"><span data-stu-id="b6eec-185">**Initiated** is listed in the **PEERING STATUS** column for the **myVnetAToMyVnetB** peering you created.</span></span> <span data-ttu-id="b6eec-186">Już połączyć za pomocą myVnetA do myVnetB, ale teraz musi równorzędnego myVnetB do myVnetA.</span><span class="sxs-lookup"><span data-stu-id="b6eec-186">You've peered myVnetA to myVnetB, but now you must peer myVnetB to myVnetA.</span></span> <span data-ttu-id="b6eec-187">Komunikację równorzędną muszą być tworzone w obu kierunkach, aby włączyć zasobów w sieci wirtualne do komunikowania się ze sobą.</span><span class="sxs-lookup"><span data-stu-id="b6eec-187">The peering must be created in both directions to enable resources in the virtual networks to communicate with each other.</span></span>
23. <span data-ttu-id="b6eec-188">Wyloguj się z portalem jako Użytkownik_a i zaloguj się jako Użytkownik_b.</span><span class="sxs-lookup"><span data-stu-id="b6eec-188">Log out of the portal as UserA and log in as UserB.</span></span>
24. <span data-ttu-id="b6eec-189">Wykonaj kroki 17 21 ponownie dla myVnetB.</span><span class="sxs-lookup"><span data-stu-id="b6eec-189">Complete steps 17-21 again for myVnetB.</span></span> <span data-ttu-id="b6eec-190">W kroku 21 nazwa komunikację równorzędną *myVnetBToMyVnetA*, wybierz pozycję *myVnetA* dla **sieci wirtualnej**i podaj identyfikator z kroku 10 **identyfikator zasobu**pole.</span><span class="sxs-lookup"><span data-stu-id="b6eec-190">In step 21, name the peering *myVnetBToMyVnetA*, select *myVnetA* for **Virtual network**, and enter the ID from step 10 in the **Resource ID** box.</span></span>
25. <span data-ttu-id="b6eec-191">Kilka sekund po kliknięciu przycisku **OK** utworzyć komunikacji równorzędnej dla myVnetB, **myVnetBToMyVnetA** równorzędna właśnie utworzony znajduje się **połączony** w  **Komunikacja RÓWNORZĘDNA stan** kolumny.</span><span class="sxs-lookup"><span data-stu-id="b6eec-191">A few seconds after clicking **OK** to create the peering for myVnetB, the **myVnetBToMyVnetA** peering you just created is listed with **Connected** in the **PEERING STATUS** column.</span></span>
26. <span data-ttu-id="b6eec-192">Wyloguj się z portalem jako Użytkownik_b i zaloguj się jako Użytkownik_a.</span><span class="sxs-lookup"><span data-stu-id="b6eec-192">Log out of the portal as UserB and log in as UserA.</span></span>
27. <span data-ttu-id="b6eec-193">Wykonaj ponownie czynności 17-19.</span><span class="sxs-lookup"><span data-stu-id="b6eec-193">Complete steps 17-19 again.</span></span> <span data-ttu-id="b6eec-194">**RÓWNORZĘDNA stan** dla **myVnetAToVNetB** komunikacji równorzędnej jest teraz również **połączony**.</span><span class="sxs-lookup"><span data-stu-id="b6eec-194">The **PEERING STATUS** for the **myVnetAToVNetB** peering is now also **Connected**.</span></span> <span data-ttu-id="b6eec-195">Komunikację równorzędną zostanie pomyślnie nawiązane po **połączony** w **RÓWNORZĘDNA stan** kolumny dla obu sieci wirtualnych w komunikacji równorzędnej.</span><span class="sxs-lookup"><span data-stu-id="b6eec-195">The peering is successfully established after you see **Connected** in the **PEERING STATUS** column for both virtual networks in the peering.</span></span> <span data-ttu-id="b6eec-196">Dowolnych zasobów platformy Azure, utworzone w każdej sieci wirtualnej mogą teraz komunikować się ze sobą za pośrednictwem ich adresy IP.</span><span class="sxs-lookup"><span data-stu-id="b6eec-196">Any Azure resources you create in either virtual network are now able to communicate with each other through their IP addresses.</span></span> <span data-ttu-id="b6eec-197">Jeśli używasz domyślnego rozwiązania Azure nazwy sieci wirtualnych, zasobów w sieci wirtualne nie będą mogli rozpoznawania nazw w sieciach wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="b6eec-197">If you're using default Azure name resolution for the virtual networks, the resources in the virtual networks are not able to resolve names across the virtual networks.</span></span> <span data-ttu-id="b6eec-198">Rozpoznawanie nazw między sieciami wirtualnymi w komunikacji równorzędnej, należy utworzyć serwer DNS.</span><span class="sxs-lookup"><span data-stu-id="b6eec-198">If you want to resolve names across virtual networks in a peering, you must create your own DNS server.</span></span> <span data-ttu-id="b6eec-199">Dowiedz się, jak skonfigurować [rozpoznawanie nazw przy użyciu serwera DNS](virtual-networks-name-resolution-for-vms-and-role-instances.md#name-resolution-using-your-own-dns-server).</span><span class="sxs-lookup"><span data-stu-id="b6eec-199">Learn how to set up [Name resolution using your own DNS server](virtual-networks-name-resolution-for-vms-and-role-instances.md#name-resolution-using-your-own-dns-server).</span></span>
28. <span data-ttu-id="b6eec-200">**Opcjonalne**: Chociaż tworzenia maszyn wirtualnych nie została uwzględniona w tym samouczku, można utworzyć maszynę wirtualną w każdej sieci wirtualnej i połączyć się z jednej maszyny wirtualnej do drugiej strony, aby sprawdzić łączność.</span><span class="sxs-lookup"><span data-stu-id="b6eec-200">**Optional**: Though creating virtual machines is not covered in this tutorial, you can create a virtual machine in each virtual network and connect from one virtual machine to the other, to validate connectivity.</span></span>
29. <span data-ttu-id="b6eec-201">**Opcjonalne**: Aby usunąć zasoby, które możesz utworzyć w tym samouczku, wykonaj kroki [zasoby zostaną usunięte](#delete-portal) sekcji tego artykułu.</span><span class="sxs-lookup"><span data-stu-id="b6eec-201">**Optional**: To delete the resources that you create in this tutorial, complete the steps in the [Delete resources](#delete-portal) section of this article.</span></span>

## <span data-ttu-id="b6eec-202"><a name="cli"></a>Utwórz równorzędna - wiersza polecenia platformy Azure</span><span class="sxs-lookup"><span data-stu-id="b6eec-202"><a name="cli"></a>Create peering - Azure CLI</span></span>

<span data-ttu-id="b6eec-203">W tym samouczku korzysta z różnych kont dla każdej subskrypcji.</span><span class="sxs-lookup"><span data-stu-id="b6eec-203">This tutorial uses different accounts for each subscription.</span></span> <span data-ttu-id="b6eec-204">Jeśli używasz konta mającego uprawnienia do obu subskrypcji, można używać tego samego konta dla wszystkich kroków, pomiń kroki rejestrowania z platformy Azure i usuwanie wierszy skryptu utworzonych przypisań ról użytkownika.</span><span class="sxs-lookup"><span data-stu-id="b6eec-204">If you're using an account that has permissions to both subscriptions, you can use the same account for all steps, skip the steps for logging out of Azure, and remove the lines of script that create user role assignments.</span></span> <span data-ttu-id="b6eec-205">Zastąp UserA@azure.com i UserB@azure.com we wszystkich następujących skryptów z nazw użytkowników, używasz Użytkownik_a i Użytkownik_b.</span><span class="sxs-lookup"><span data-stu-id="b6eec-205">Replace UserA@azure.com and UserB@azure.com in all of the following scripts with the usernames you're using for UserA and UserB.</span></span>

<span data-ttu-id="b6eec-206">Poniższy skrypt:</span><span class="sxs-lookup"><span data-stu-id="b6eec-206">The following script:</span></span>

- <span data-ttu-id="b6eec-207">Wymaga wiersza polecenia platformy Azure w wersji 2.0.4 lub nowszej.</span><span class="sxs-lookup"><span data-stu-id="b6eec-207">Requires the Azure CLI version 2.0.4 or later.</span></span> <span data-ttu-id="b6eec-208">Aby dowiedzieć się, jaka wersja jest używana, uruchom polecenie `az --version`.</span><span class="sxs-lookup"><span data-stu-id="b6eec-208">To find the version, run `az --version`.</span></span> <span data-ttu-id="b6eec-209">Jeśli konieczne będzie uaktualnienie, zobacz [Instalowanie interfejsu wiersza polecenia platformy Azure 2.0](/cli/azure/install-azure-cli?toc=%2fazure%2fvirtual-network%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="b6eec-209">If you need to upgrade, see [Install Azure CLI 2.0](/cli/azure/install-azure-cli?toc=%2fazure%2fvirtual-network%2ftoc.json).</span></span>
- <span data-ttu-id="b6eec-210">Działanie powłoki Bash.</span><span class="sxs-lookup"><span data-stu-id="b6eec-210">Works in a Bash shell.</span></span> <span data-ttu-id="b6eec-211">Aby wyświetlić opcje uruchamiania skryptów wiersza polecenia platformy Azure na kliencie systemu Windows, zobacz [działający w systemie Windows Azure CLI](../virtual-machines/windows/cli-options.md?toc=%2fazure%2fvirtual-network%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="b6eec-211">For options on running Azure CLI scripts on Windows client, see [Running the Azure CLI in Windows](../virtual-machines/windows/cli-options.md?toc=%2fazure%2fvirtual-network%2ftoc.json).</span></span> 

<span data-ttu-id="b6eec-212">Zamiast instalowania interfejsu wiersza polecenia i jego zależności, można użyć powłoki chmury Azure.</span><span class="sxs-lookup"><span data-stu-id="b6eec-212">Instead of installing the CLI and its dependencies, you can use the Azure Cloud Shell.</span></span> <span data-ttu-id="b6eec-213">Usługa Azure Cloud Shell jest bezpłatną powłoką Bash, którą można uruchamiać bezpośrednio w witrynie Azure Portal.</span><span class="sxs-lookup"><span data-stu-id="b6eec-213">The Azure Cloud Shell is a free Bash shell that you can run directly within the Azure portal.</span></span> <span data-ttu-id="b6eec-214">Ma ona wstępnie zainstalowany interfejs wiersza polecenia platformy Azure skonfigurowany do użycia z Twoim kontem.</span><span class="sxs-lookup"><span data-stu-id="b6eec-214">It has the Azure CLI preinstalled and configured to use with your account.</span></span> <span data-ttu-id="b6eec-215">Kliknij przycisk **wypróbuj** przycisk skrypt, który jest zgodny, i wywołuje powłoki chmury, które możesz zalogować się do konta platformy Azure z.</span><span class="sxs-lookup"><span data-stu-id="b6eec-215">Click the **Try it** button in the script that follows, which invokes a Cloud Shell that you can log in to your Azure account with.</span></span> 

1. <span data-ttu-id="b6eec-216">Otwórz sesję programu interfejsu wiersza polecenia, a następnie zaloguj się do platformy Azure jako przy użyciu Użytkownik_a `azure login` polecenia.</span><span class="sxs-lookup"><span data-stu-id="b6eec-216">Open a CLI session and log in to Azure as UserA using the `azure login` command.</span></span> <span data-ttu-id="b6eec-217">Konto logowania przy użyciu musi mieć uprawnienia do tworzenia sieci wirtualnej komunikacji równorzędnej.</span><span class="sxs-lookup"><span data-stu-id="b6eec-217">The account you log in with must have the necessary permissions to create a virtual network peering.</span></span> <span data-ttu-id="b6eec-218">Zobacz [uprawnienia](#permissions) sekcji tego artykułu, aby uzyskać szczegółowe informacje.</span><span class="sxs-lookup"><span data-stu-id="b6eec-218">See the [Permissions](#permissions) section of this article for details.</span></span>
2. <span data-ttu-id="b6eec-219">Skopiuj poniższy skrypt do edytora tekstu, na komputerze, zastąpić `<SubscriptionA-Id>` o identyfikatorze SubscriptionA, a następnie skopiuj zmodyfikowanego skryptu, wklej go w sesji interfejsu wiersza polecenia i naciśnij klawisz `Enter`.</span><span class="sxs-lookup"><span data-stu-id="b6eec-219">Copy the following script to a text editor on your PC, replace `<SubscriptionA-Id>` with the ID of SubscriptionA, then copy the modified script, paste it in your CLI session, and press `Enter`.</span></span> <span data-ttu-id="b6eec-220">Jeśli nie znasz identyfikator subskrypcji, wprowadź polecenie "Pokaż konto az".</span><span class="sxs-lookup"><span data-stu-id="b6eec-220">If you don't know your subscription Id, enter the 'az account show\` command.</span></span> <span data-ttu-id="b6eec-221">Wartość **identyfikator** w danych wyjściowych jest identyfikator subskrypcji</span><span class="sxs-lookup"><span data-stu-id="b6eec-221">The value for **id** in the output is your subscription Id.</span></span>

    ```azurecli-interactive
    # Create a resource group.
    az group create \
      --name myResourceGroupA \
      --location eastus

    # Create virtual network A.
    az network vnet create \
      --name myVnetA \
      --resource-group myResourceGroupA \
      --location eastus \
      --address-prefix 10.0.0.0/16

    # Assign UserB permissions to virtual network A.
    az role assignment create \
      --assignee UserB@azure.com \
      --role "Network Contributor" \
      --scope /subscriptions/<SubscriptionA-Id>/resourceGroups/myResourceGroupA/providers/Microsoft.Network/VirtualNetworks/myVnetA
    ```
    
     <span data-ttu-id="b6eec-222">Przypisanie uprawnień dla Użytkownik_b nie jest wymagane.</span><span class="sxs-lookup"><span data-stu-id="b6eec-222">The permission assignment for UserB is not a requirement.</span></span> <span data-ttu-id="b6eec-223">Komunikacja równorzędna można ustanowić nawet wtedy, gdy użytkownicy podnieść pojedynczo żądania komunikacji równorzędnej dla odpowiednich sieci wirtualnych, tak długo, jak żądania zgodne.</span><span class="sxs-lookup"><span data-stu-id="b6eec-223">Peering can be established even if users individually raise peering requests for their respective virtual networks, as long as the requests match.</span></span> <span data-ttu-id="b6eec-224">Dodawanie użytkownika uprzywilejowanego myVNetB jako współautor sieci w lokalnej sieci wirtualnej ułatwia przeprowadzenie instalacji.</span><span class="sxs-lookup"><span data-stu-id="b6eec-224">Adding a privileged user of myVNetB as a network contributor in the local virtual network makes it easier to do the setup.</span></span>
3. <span data-ttu-id="b6eec-225">Wyloguj się z platformy Azure jako przy użyciu Użytkownik_a `az logout` polecenia, a następnie zaloguj się na platformie Azure jako Użytkownik_b.</span><span class="sxs-lookup"><span data-stu-id="b6eec-225">Log out of Azure as UserA using the `az logout` command, then log in to Azure as UserB.</span></span> <span data-ttu-id="b6eec-226">Konto logowania przy użyciu musi mieć uprawnienia do tworzenia sieci wirtualnej komunikacji równorzędnej.</span><span class="sxs-lookup"><span data-stu-id="b6eec-226">The account you log in with must have the necessary permissions to create a virtual network peering.</span></span> <span data-ttu-id="b6eec-227">Zobacz [uprawnienia](#permissions) sekcji tego artykułu, aby uzyskać szczegółowe informacje.</span><span class="sxs-lookup"><span data-stu-id="b6eec-227">See the [Permissions](#permissions) section of this article for details.</span></span>
4. <span data-ttu-id="b6eec-228">Utwórz myVnetB.</span><span class="sxs-lookup"><span data-stu-id="b6eec-228">Create myVnetB.</span></span> <span data-ttu-id="b6eec-229">Skopiuj zawartość skryptu w kroku 2 do edytora tekstu, na komputerze.</span><span class="sxs-lookup"><span data-stu-id="b6eec-229">Copy the script contents in step 2 to a text editor on your PC.</span></span> <span data-ttu-id="b6eec-230">Zastąp `<SubscriptionA-Id>` o identyfikatorze SubscriptionB.</span><span class="sxs-lookup"><span data-stu-id="b6eec-230">Replace `<SubscriptionA-Id>` with the ID of SubscriptionB.</span></span> <span data-ttu-id="b6eec-231">Zmień 10.0.0.0/16 10.1.0.0/16, Zmień wszystkie co B i wszystkich Bs kopii A. zmodyfikowanego skryptu, wklej je do sesji interfejsu wiersza polecenia i naciśnij klawisz `Enter`.</span><span class="sxs-lookup"><span data-stu-id="b6eec-231">Change 10.0.0.0/16 to 10.1.0.0/16, change all As to B, and all Bs to A. Copy the modified script, paste it in to your CLI session, and press `Enter`.</span></span> 
5. <span data-ttu-id="b6eec-232">Wyloguj Azure jako Użytkownik_b i logowanie do platformy Azure jako Użytkownik_a.</span><span class="sxs-lookup"><span data-stu-id="b6eec-232">Log out of Azure as UserB and log in to Azure as UserA.</span></span>
6. <span data-ttu-id="b6eec-233">Tworzenie sieci wirtualnej komunikacji równorzędnej z myVnetA do myVnetB.</span><span class="sxs-lookup"><span data-stu-id="b6eec-233">Create a virtual network peering from myVnetA to myVnetB.</span></span> <span data-ttu-id="b6eec-234">Skopiuj następujące zawartość skryptu do edytora tekstu, na komputerze.</span><span class="sxs-lookup"><span data-stu-id="b6eec-234">Copy the following script contents to a text editor on your PC.</span></span> <span data-ttu-id="b6eec-235">Zastąp `<SubscriptionB-Id>` o identyfikatorze SubscriptionB.</span><span class="sxs-lookup"><span data-stu-id="b6eec-235">Replace `<SubscriptionB-Id>` with the ID of SubscriptionB.</span></span> <span data-ttu-id="b6eec-236">Można wykonać skryptu, skopiuj skrypt zmodyfikowane, wklej go do sesji interfejsu wiersza polecenia i naciśnij klawisz Enter.</span><span class="sxs-lookup"><span data-stu-id="b6eec-236">To execute the script, copy the modified script, paste it into your CLI session, and press Enter.</span></span>
 
    ```azurecli-interactive
        # Get the id for myVnetA.
        vnetAId=$(az network vnet show \
          --resource-group myResourceGroupA \
          --name myVnetA \
          --query id --out tsv)
    
        # Peer myVNetA to myVNetB.
        az network vnet peering create \
          --name myVnetAToMyVnetB \
          --resource-group myResourceGroupA \
          --vnet-name myVnetA \
          --remote-vnet-id /subscriptions/<SubscriptionB-Id>/resourceGroups/myResourceGroupB/providers/Microsoft.Network/VirtualNetworks/myVnetB \
          --allow-vnet-access
    ```

7. <span data-ttu-id="b6eec-237">Wyświetl stan myVnetA komunikacji równorzędnej.</span><span class="sxs-lookup"><span data-stu-id="b6eec-237">View the peering state of myVnetA.</span></span>

    ```azurecli-interactive
    az network vnet peering list \
      --resource-group myResourceGroupA \
      --vnet-name myVnetA \
      --output table
    ```

    <span data-ttu-id="b6eec-238">Stan jest **zainicjowano**.</span><span class="sxs-lookup"><span data-stu-id="b6eec-238">The state is **Initiated**.</span></span> <span data-ttu-id="b6eec-239">Zmienia się na **połączony** po utworzeniu komunikację równorzędną, aby myVnetA z myVnetB.</span><span class="sxs-lookup"><span data-stu-id="b6eec-239">It changes to **Connected** once you create the peering to myVnetA from myVnetB.</span></span>

8. <span data-ttu-id="b6eec-240">Wyloguj się Użytkownik_a z platformy Azure i zaloguj się na platformie Azure jako Użytkownik_b.</span><span class="sxs-lookup"><span data-stu-id="b6eec-240">Log out UserA from Azure and log in to Azure as UserB.</span></span>
9. <span data-ttu-id="b6eec-241">Utwórz komunikacji równorzędnej z myVnetB do myVnetA.</span><span class="sxs-lookup"><span data-stu-id="b6eec-241">Create the peering from myVnetB to myVnetA.</span></span> <span data-ttu-id="b6eec-242">Skopiuj zawartość skryptu w kroku 6 do edytora tekstu, na komputerze.</span><span class="sxs-lookup"><span data-stu-id="b6eec-242">Copy the script contents in step 6 to a text editor on your PC.</span></span> <span data-ttu-id="b6eec-243">Zastąp `<SubscriptionB-Id>` o identyfikatorze SubscriptionA i Zmień wszystkie co B i wszystkich Bs do serwera A. Po dokonaniu zmiany, skopiuj skrypt zmodyfikowane, wklej go do sesji interfejsu wiersza polecenia i naciśnij klawisz `Enter`.</span><span class="sxs-lookup"><span data-stu-id="b6eec-243">Replace `<SubscriptionB-Id>` with the ID for SubscriptionA and change all As to B and all Bs to A. Once you've made the changes, copy the modified script, paste it into your CLI session, and press `Enter`.</span></span>
10. <span data-ttu-id="b6eec-244">Wyświetl stan myVnetB komunikacji równorzędnej.</span><span class="sxs-lookup"><span data-stu-id="b6eec-244">View the peering state of myVnetB.</span></span> <span data-ttu-id="b6eec-245">Skopiuj zawartość skryptu w kroku 7 do edytora tekstu, na komputerze.</span><span class="sxs-lookup"><span data-stu-id="b6eec-245">Copy the script contents in step 7 to a text editor on your PC.</span></span> <span data-ttu-id="b6eec-246">Zmiana A do B dla grupy zasobów i nazwy sieci wirtualnej, skopiuj skrypt, Wklej zmodyfikowane skrypt w sesji środowiska interfejsu wiersza polecenia i naciśnij klawisz `Enter`.</span><span class="sxs-lookup"><span data-stu-id="b6eec-246">Change A to B for the resource group and virtual network names, copy the script, paste the modified script in to your CLI session, and then press `Enter`.</span></span> <span data-ttu-id="b6eec-247">Stan komunikacji równorzędnej jest **połączony**.</span><span class="sxs-lookup"><span data-stu-id="b6eec-247">The peering state is **Connected**.</span></span> <span data-ttu-id="b6eec-248">Zmiany stanu komunikacji równorzędnej myVnetA **połączony** po utworzeniu komunikacji równorzędnej z myVnetB do myVnetA.</span><span class="sxs-lookup"><span data-stu-id="b6eec-248">The peering state of myVnetA changes to **Connected** after you've created the peering from myVnetB to myVnetA.</span></span> <span data-ttu-id="b6eec-249">Zaloguj się Użytkownik_a w krok 7. ponownie, aby sprawdzić stan komunikacji równorzędnej myVnetA na platformie Azure i kompletne.</span><span class="sxs-lookup"><span data-stu-id="b6eec-249">You can log UserA back in to Azure and complete step 7 again to verify the peering state of myVnetA.</span></span> 

    > [!NOTE]
    > <span data-ttu-id="b6eec-250">Komunikację równorzędną nie zostanie nawiązane, dopóki stan komunikacji równorzędnej jest **połączony** dla obu sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="b6eec-250">The peering is not established until the peering state is **Connected** for both virtual networks.</span></span>

11. <span data-ttu-id="b6eec-251">**Opcjonalne**: Chociaż tworzenia maszyn wirtualnych nie została uwzględniona w tym samouczku, można utworzyć maszynę wirtualną w każdej sieci wirtualnej i połączyć się z jednej maszyny wirtualnej do drugiej strony, aby sprawdzić łączność.</span><span class="sxs-lookup"><span data-stu-id="b6eec-251">**Optional**: Though creating virtual machines is not covered in this tutorial, you can create a virtual machine in each virtual network and connect from one virtual machine to the other, to validate connectivity.</span></span>
12. <span data-ttu-id="b6eec-252">**Opcjonalne**: Aby usunąć zasoby, które możesz utworzyć w tym samouczku, wykonaj kroki [zasoby zostaną usunięte](#delete-cli) w tym artykule.</span><span class="sxs-lookup"><span data-stu-id="b6eec-252">**Optional**: To delete the resources that you create in this tutorial, complete the steps in [Delete resources](#delete-cli) in this article.</span></span>

<span data-ttu-id="b6eec-253">Dowolnych zasobów platformy Azure, utworzone w każdej sieci wirtualnej mogą teraz komunikować się ze sobą za pośrednictwem ich adresy IP.</span><span class="sxs-lookup"><span data-stu-id="b6eec-253">Any Azure resources you create in either virtual network are now able to communicate with each other through their IP addresses.</span></span> <span data-ttu-id="b6eec-254">Jeśli używasz domyślnego rozwiązania Azure nazwy sieci wirtualnych, zasobów w sieci wirtualne nie będą mogli rozpoznawania nazw w sieciach wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="b6eec-254">If you're using default Azure name resolution for the virtual networks, the resources in the virtual networks are not able to resolve names across the virtual networks.</span></span> <span data-ttu-id="b6eec-255">Rozpoznawanie nazw między sieciami wirtualnymi w komunikacji równorzędnej, należy utworzyć serwer DNS.</span><span class="sxs-lookup"><span data-stu-id="b6eec-255">If you want to resolve names across virtual networks in a peering, you must create your own DNS server.</span></span> <span data-ttu-id="b6eec-256">Dowiedz się, jak skonfigurować [rozpoznawanie nazw przy użyciu serwera DNS](virtual-networks-name-resolution-for-vms-and-role-instances.md#name-resolution-using-your-own-dns-server).</span><span class="sxs-lookup"><span data-stu-id="b6eec-256">Learn how to set up [Name resolution using your own DNS server](virtual-networks-name-resolution-for-vms-and-role-instances.md#name-resolution-using-your-own-dns-server).</span></span>
 
## <span data-ttu-id="b6eec-257"><a name="powershell"></a>Utwórz równorzędna — PowerShell</span><span class="sxs-lookup"><span data-stu-id="b6eec-257"><a name="powershell"></a>Create peering - PowerShell</span></span>

<span data-ttu-id="b6eec-258">W tym samouczku korzysta z różnych kont dla każdej subskrypcji.</span><span class="sxs-lookup"><span data-stu-id="b6eec-258">This tutorial uses different accounts for each subscription.</span></span> <span data-ttu-id="b6eec-259">Jeśli używasz konta mającego uprawnienia do obu subskrypcji, można używać tego samego konta dla wszystkich kroków, pomiń kroki rejestrowania z platformy Azure i usuwanie wierszy skryptu utworzonych przypisań ról użytkownika.</span><span class="sxs-lookup"><span data-stu-id="b6eec-259">If you're using an account that has permissions to both subscriptions, you can use the same account for all steps, skip the steps for logging out of Azure, and remove the lines of script that create user role assignments.</span></span> <span data-ttu-id="b6eec-260">Zastąp UserA@azure.com i UserB@azure.com we wszystkich następujących skryptów z nazw użytkowników, używasz Użytkownik_a i Użytkownik_b.</span><span class="sxs-lookup"><span data-stu-id="b6eec-260">Replace UserA@azure.com and UserB@azure.com in all of the following scripts with the usernames you're using for UserA and UserB.</span></span>

1. <span data-ttu-id="b6eec-261">Zainstaluj najnowszą wersję modułu [AzureRm](https://www.powershellgallery.com/packages/AzureRM/) programu PowerShell.</span><span class="sxs-lookup"><span data-stu-id="b6eec-261">Install the latest version of the PowerShell [AzureRm](https://www.powershellgallery.com/packages/AzureRM/) module.</span></span> <span data-ttu-id="b6eec-262">Jeśli jesteś nowym użytkownikiem programu Azure PowerShell, zobacz temat [Azure PowerShell overview (Omówienie programu Azure PowerShell)](/powershell/azure/overview?toc=%2fazure%2fvirtual-network%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="b6eec-262">If you're new to Azure PowerShell, see [Azure PowerShell overview](/powershell/azure/overview?toc=%2fazure%2fvirtual-network%2ftoc.json).</span></span>
2. <span data-ttu-id="b6eec-263">Uruchom sesję programu PowerShell.</span><span class="sxs-lookup"><span data-stu-id="b6eec-263">Start a PowerShell session.</span></span>
3. <span data-ttu-id="b6eec-264">W programie PowerShell, zaloguj się na platformie Azure jako Użytkownik_a wprowadzając `login-azurermaccount` polecenia.</span><span class="sxs-lookup"><span data-stu-id="b6eec-264">In PowerShell, log in to Azure as UserA by entering the `login-azurermaccount` command.</span></span> <span data-ttu-id="b6eec-265">Konto logowania przy użyciu musi mieć uprawnienia do tworzenia sieci wirtualnej komunikacji równorzędnej.</span><span class="sxs-lookup"><span data-stu-id="b6eec-265">The account you log in with must have the necessary permissions to create a virtual network peering.</span></span> <span data-ttu-id="b6eec-266">Zobacz [uprawnienia](#permissions) sekcji tego artykułu, aby uzyskać szczegółowe informacje.</span><span class="sxs-lookup"><span data-stu-id="b6eec-266">See the [Permissions](#permissions) section of this article for details.</span></span>
4. <span data-ttu-id="b6eec-267">Tworzenie grupy zasobów i siecią wirtualną kopiowania A. poniższy skrypt do edytora tekstu na komputerze.</span><span class="sxs-lookup"><span data-stu-id="b6eec-267">Create a resource group and virtual network A. Copy the following script to a text editor on your PC.</span></span> <span data-ttu-id="b6eec-268">Zastąp `<SubscriptionA-Id>` o identyfikatorze SubscriptionA.</span><span class="sxs-lookup"><span data-stu-id="b6eec-268">Replace `<SubscriptionA-Id>` with the ID of SubscriptionA.</span></span> <span data-ttu-id="b6eec-269">Jeśli nie znasz identyfikator subskrypcji, wprowadź `Get-AzureRmSubscription` polecenie, aby go wyświetlić.</span><span class="sxs-lookup"><span data-stu-id="b6eec-269">If you don't know your subscription Id, enter the `Get-AzureRmSubscription` command to view it.</span></span> <span data-ttu-id="b6eec-270">Wartość **identyfikator** zwrócony wynik jest Twojego identyfikatora subskrypcji.</span><span class="sxs-lookup"><span data-stu-id="b6eec-270">The value for **Id** in the returned output is your subscription ID.</span></span> <span data-ttu-id="b6eec-271">Można wykonać skryptu, skopiuj skrypt zmodyfikowane, wklej je do środowiska PowerShell i naciśnij klawisz `Enter`.</span><span class="sxs-lookup"><span data-stu-id="b6eec-271">To execute the script, copy the modified script, paste it in to PowerShell, and then press `Enter`.</span></span>

    ```powershell
    # Create a resource group.
    New-AzureRmResourceGroup `
      -Name MyResourceGroupA `
      -Location eastus

    # Create virtual network A.
    $vNetA = New-AzureRmVirtualNetwork `
      -ResourceGroupName MyResourceGroupA `
      -Name 'myVnetA' `
      -AddressPrefix '10.0.0.0/16' `
      -Location eastus

    # Assign UserB permissions to myVnetA.
    New-AzureRmRoleAssignment `
      -SignInName UserB@azure.com `
      -RoleDefinitionName "Network Contributor" `
      -Scope /subscriptions/<SubscriptionA-Id>/resourceGroups/myResourceGroupA/providers/Microsoft.Network/VirtualNetworks/myVnetA
    ```

    <span data-ttu-id="b6eec-272">Przypisanie uprawnień dla Użytkownik_b nie jest wymagane.</span><span class="sxs-lookup"><span data-stu-id="b6eec-272">The permission assignment for UserB is not a requirement.</span></span> <span data-ttu-id="b6eec-273">Komunikacja równorzędna można ustanowić nawet wtedy, gdy użytkownicy podnieść pojedynczo żądania komunikacji równorzędnej dla odpowiednich sieci wirtualnych, tak długo, jak żądania zgodne.</span><span class="sxs-lookup"><span data-stu-id="b6eec-273">Peering can be established even if users individually raise peering requests for their respective virtual networks, as long as the requests match.</span></span> <span data-ttu-id="b6eec-274">Dodanie użytkownika uprzywilejowanego innych sieci wirtualnej użytkownika w lokalnej sieci wirtualnej ułatwia przeprowadzenie instalacji.</span><span class="sxs-lookup"><span data-stu-id="b6eec-274">Adding a privileged user of the other virtual network as a user in the local virtual network makes it easier to do the setup.</span></span>
5. <span data-ttu-id="b6eec-275">Wyloguj się Użytkownik_a z platformy Azure i zaloguj się za Użytkownik_b.</span><span class="sxs-lookup"><span data-stu-id="b6eec-275">Log out UserA from Azure and log in UserB.</span></span> <span data-ttu-id="b6eec-276">Konto logowania przy użyciu musi mieć uprawnienia do tworzenia sieci wirtualnej komunikacji równorzędnej.</span><span class="sxs-lookup"><span data-stu-id="b6eec-276">The account you log in with must have the necessary permissions to create a virtual network peering.</span></span> <span data-ttu-id="b6eec-277">Zobacz [uprawnienia](#permissions) sekcji tego artykułu, aby uzyskać szczegółowe informacje.</span><span class="sxs-lookup"><span data-stu-id="b6eec-277">See the [Permissions](#permissions) section of this article for details.</span></span>
6. <span data-ttu-id="b6eec-278">Skopiuj zawartość skryptu w kroku 4 do edytora tekstu, na komputerze.</span><span class="sxs-lookup"><span data-stu-id="b6eec-278">Copy the script contents in step 4 to a text editor on your PC.</span></span> <span data-ttu-id="b6eec-279">Zastąp `<SubscriptionA-Id>` o identyfikatorze subskrypcji 10.0.0.0/16 zmiany B. Aby 10.1.0.0/16.</span><span class="sxs-lookup"><span data-stu-id="b6eec-279">Replace `<SubscriptionA-Id>` with the ID for subscription B. Change 10.0.0.0/16 to 10.1.0.0/16.</span></span> <span data-ttu-id="b6eec-280">Zmień wszystkie co B i wszystkich Bs do serwera A. Można wykonać skryptu, skopiuj skrypt zmodyfikowane, Wklej do środowiska PowerShell i naciśnij klawisz `Enter`.</span><span class="sxs-lookup"><span data-stu-id="b6eec-280">Change all As to B and all Bs to A. To execute the script, copy the modified script, paste into PowerShell, and then press `Enter`.</span></span>
7. <span data-ttu-id="b6eec-281">Wyloguj się Użytkownik_b z platformy Azure i zaloguj się za Użytkownik_a.</span><span class="sxs-lookup"><span data-stu-id="b6eec-281">Log out UserB from Azure and log in UserA.</span></span>
8. <span data-ttu-id="b6eec-282">Utwórz komunikacji równorzędnej z myVnetA do myVnetB.</span><span class="sxs-lookup"><span data-stu-id="b6eec-282">Create the peering from myVnetA to myVnetB.</span></span> <span data-ttu-id="b6eec-283">Skopiuj poniższy skrypt do edytora tekstu, na komputerze.</span><span class="sxs-lookup"><span data-stu-id="b6eec-283">Copy the following script to a text editor on your PC.</span></span> <span data-ttu-id="b6eec-284">Zastąp `<SubscriptionB-Id>` z Identyfikatorem subskrypcji B. Można wykonać skryptu, skopiuj skrypt zmodyfikowane, Wklej do środowiska PowerShell i naciśnij klawisz `Enter`.</span><span class="sxs-lookup"><span data-stu-id="b6eec-284">Replace `<SubscriptionB-Id>` with the ID of subscription B. To execute the script, copy the modified script, paste in to PowerShell, and then press `Enter`.</span></span>
 
    ```powershell
    # Peer myVnetA to myVnetB.
    $vNetA=Get-AzureRmVirtualNetwork -Name myVnetA -ResourceGroupName myResourceGroupA
    Add-AzureRmVirtualNetworkPeering `
      -Name 'myVnetAToMyVnetB' `
      -VirtualNetwork $vNetA `
      -RemoteVirtualNetworkId "/subscriptions/<SubscriptionB-Id>/resourceGroups/myResourceGroupB/providers/Microsoft.Network/virtualNetworks/myVnetB"
    ```

9. <span data-ttu-id="b6eec-285">Wyświetl stan myVnetA komunikacji równorzędnej.</span><span class="sxs-lookup"><span data-stu-id="b6eec-285">View the peering state of myVnetA.</span></span>

    ```powershell
    Get-AzureRmVirtualNetworkPeering `
      -ResourceGroupName myResourceGroupA `
      -VirtualNetworkName myVnetA `
      | Format-Table VirtualNetworkName, PeeringState
    ```

    <span data-ttu-id="b6eec-286">Stan jest **zainicjowano**.</span><span class="sxs-lookup"><span data-stu-id="b6eec-286">The state is **Initiated**.</span></span> <span data-ttu-id="b6eec-287">Zmienia się na **połączony** po skonfigurowaniu komunikację równorzędną, aby myVnetA z myVnetB.</span><span class="sxs-lookup"><span data-stu-id="b6eec-287">It changes to **Connected** once you setup the peering to myVnetA from myVnetB.</span></span>

10. <span data-ttu-id="b6eec-288">Wyloguj się Użytkownik_a z platformy Azure i zaloguj się za Użytkownik_b.</span><span class="sxs-lookup"><span data-stu-id="b6eec-288">Log out UserA from Azure and log in UserB.</span></span>
11. <span data-ttu-id="b6eec-289">Utwórz komunikacji równorzędnej z myVnetB do myVnetA.</span><span class="sxs-lookup"><span data-stu-id="b6eec-289">Create the peering from myVnetB to myVnetA.</span></span> <span data-ttu-id="b6eec-290">Skopiuj zawartość skryptu w kroku 8 do edytora tekstu, na komputerze.</span><span class="sxs-lookup"><span data-stu-id="b6eec-290">Copy the script contents in step 8 to a text editor on your PC.</span></span> <span data-ttu-id="b6eec-291">Zastąp `<SubscriptionB-Id>` o identyfikatorze subskrypcji A i zmiany, A wszystkie jego B i wszystkich B do serwera A. Można wykonać skryptu, skopiuj skrypt zmodyfikowane, wklej je do środowiska PowerShell i naciśnij klawisz `Enter`.</span><span class="sxs-lookup"><span data-stu-id="b6eec-291">Replace `<SubscriptionB-Id>` with the ID of subscription A and change all A's to B and all B's to A. To execute the script, copy the modified script, paste it in to PowerShell, and then press `Enter`.</span></span>
12. <span data-ttu-id="b6eec-292">Wyświetl stan myVnetB komunikacji równorzędnej.</span><span class="sxs-lookup"><span data-stu-id="b6eec-292">View the peering state of myVnetB.</span></span> <span data-ttu-id="b6eec-293">Skopiuj zawartość skryptu w kroku 9 do edytora tekstu, na komputerze.</span><span class="sxs-lookup"><span data-stu-id="b6eec-293">Copy the script contents in step 9 to a text editor on your PC.</span></span> <span data-ttu-id="b6eec-294">Zmiana A do B dla grupy zasobów i nazwy sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="b6eec-294">Change A to B for the resource group and virtual network names.</span></span> <span data-ttu-id="b6eec-295">Można wykonać skryptu, wkleić zmodyfikowanego skryptu programu PowerShell, a następnie naciśnij klawisz `Enter`.</span><span class="sxs-lookup"><span data-stu-id="b6eec-295">To execute the script, paste the modified script into PowerShell, and then press `Enter`.</span></span> <span data-ttu-id="b6eec-296">Stan jest **połączony**.</span><span class="sxs-lookup"><span data-stu-id="b6eec-296">The state is **Connected**.</span></span> <span data-ttu-id="b6eec-297">Stan komunikacji równorzędnej **myVnetA** zmienia się na **połączony** po utworzeniu komunikacji równorzędnej z **myVnetB** do **myVnetA**.</span><span class="sxs-lookup"><span data-stu-id="b6eec-297">The peering state of **myVnetA** changes to **Connected** after you've created the peering from **myVnetB** to **myVnetA**.</span></span> <span data-ttu-id="b6eec-298">Zaloguj się Użytkownik_a wstecz do platformy Azure i kompletne krok 9 ponownie, aby sprawdzić stan myVnetA komunikacji równorzędnej.</span><span class="sxs-lookup"><span data-stu-id="b6eec-298">You can log UserA back in to Azure and complete step 9 again to verify the peering state of myVnetA.</span></span> 

    > [!NOTE]
    > <span data-ttu-id="b6eec-299">Komunikację równorzędną nie zostanie nawiązane, dopóki stan komunikacji równorzędnej jest **połączony** dla obu sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="b6eec-299">The peering is not established until the peering state is **Connected** for both virtual networks.</span></span>

    <span data-ttu-id="b6eec-300">Dowolnych zasobów platformy Azure, utworzone w każdej sieci wirtualnej mogą teraz komunikować się ze sobą za pośrednictwem ich adresy IP.</span><span class="sxs-lookup"><span data-stu-id="b6eec-300">Any Azure resources you create in either virtual network are now able to communicate with each other through their IP addresses.</span></span> <span data-ttu-id="b6eec-301">Jeśli używasz domyślnego rozwiązania Azure nazwy sieci wirtualnych, zasobów w sieci wirtualne nie będą mogli rozpoznawania nazw w sieciach wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="b6eec-301">If you're using default Azure name resolution for the virtual networks, the resources in the virtual networks are not able to resolve names across the virtual networks.</span></span> <span data-ttu-id="b6eec-302">Rozpoznawanie nazw między sieciami wirtualnymi w komunikacji równorzędnej, należy utworzyć serwer DNS.</span><span class="sxs-lookup"><span data-stu-id="b6eec-302">If you want to resolve names across virtual networks in a peering, you must create your own DNS server.</span></span> <span data-ttu-id="b6eec-303">Dowiedz się, jak skonfigurować [rozpoznawanie nazw przy użyciu serwera DNS](virtual-networks-name-resolution-for-vms-and-role-instances.md#name-resolution-using-your-own-dns-server).</span><span class="sxs-lookup"><span data-stu-id="b6eec-303">Learn how to set up [Name resolution using your own DNS server](virtual-networks-name-resolution-for-vms-and-role-instances.md#name-resolution-using-your-own-dns-server).</span></span>

13. <span data-ttu-id="b6eec-304">**Opcjonalne**: Chociaż tworzenia maszyn wirtualnych nie została uwzględniona w tym samouczku, można utworzyć maszynę wirtualną w każdej sieci wirtualnej i połączyć się z jednej maszyny wirtualnej do drugiej strony, aby sprawdzić łączność.</span><span class="sxs-lookup"><span data-stu-id="b6eec-304">**Optional**: Though creating virtual machines is not covered in this tutorial, you can create a virtual machine in each virtual network and connect from one virtual machine to the other, to validate connectivity.</span></span>
14. <span data-ttu-id="b6eec-305">**Opcjonalne**: Aby usunąć zasoby, które możesz utworzyć w tym samouczku, wykonaj kroki [zasoby zostaną usunięte](#delete-powershell) w tym artykule.</span><span class="sxs-lookup"><span data-stu-id="b6eec-305">**Optional**: To delete the resources that you create in this tutorial, complete the steps in [Delete resources](#delete-powershell) in this article.</span></span>

## <span data-ttu-id="b6eec-306"><a name="permissions"></a>Uprawnienia</span><span class="sxs-lookup"><span data-stu-id="b6eec-306"><a name="permissions"></a>Permissions</span></span>

<span data-ttu-id="b6eec-307">Konta, które służy do tworzenia sieci wirtualnej komunikacji równorzędnej musi mieć ról lub uprawnień.</span><span class="sxs-lookup"><span data-stu-id="b6eec-307">The accounts you use to create a virtual network peering must have the necessary role or permissions.</span></span> <span data-ttu-id="b6eec-308">Na przykład, jeśli zostały równorzędna dwie sieci wirtualnej o nazwie **myVnetA** i **myVnetB**, konto musi mieć przypisaną następującą minimalną rolę lub uprawnienia dla każdej sieci wirtualnej:</span><span class="sxs-lookup"><span data-stu-id="b6eec-308">For example, if you were peering two virtual networks named **myVnetA** and **myVnetB**, your account must be assigned the following minimum role or permissions for each virtual network:</span></span>
    
|<span data-ttu-id="b6eec-309">Sieć wirtualna</span><span class="sxs-lookup"><span data-stu-id="b6eec-309">Virtual network</span></span>|<span data-ttu-id="b6eec-310">Rola</span><span class="sxs-lookup"><span data-stu-id="b6eec-310">Role</span></span>|<span data-ttu-id="b6eec-311">Uprawnienia</span><span class="sxs-lookup"><span data-stu-id="b6eec-311">Permissions</span></span>|
|---|---|---|
|<span data-ttu-id="b6eec-312">myVnetA</span><span class="sxs-lookup"><span data-stu-id="b6eec-312">myVnetA</span></span>|[<span data-ttu-id="b6eec-313">Współautor sieci</span><span class="sxs-lookup"><span data-stu-id="b6eec-313">Network Contributor</span></span>](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor)|<span data-ttu-id="b6eec-314">Microsoft.Network/virtualNetworks/virtualNetworkPeerings/write</span><span class="sxs-lookup"><span data-stu-id="b6eec-314">Microsoft.Network/virtualNetworks/virtualNetworkPeerings/write</span></span>|
|<span data-ttu-id="b6eec-315">myVnetB</span><span class="sxs-lookup"><span data-stu-id="b6eec-315">myVnetB</span></span>|[<span data-ttu-id="b6eec-316">Współautor sieci</span><span class="sxs-lookup"><span data-stu-id="b6eec-316">Network Contributor</span></span>](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor)|<span data-ttu-id="b6eec-317">Microsoft.Network/virtualNetworks/peer</span><span class="sxs-lookup"><span data-stu-id="b6eec-317">Microsoft.Network/virtualNetworks/peer</span></span>|

<span data-ttu-id="b6eec-318">Dowiedz się więcej o [wbudowane role](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor) i przypisywanie określonych uprawnień do [role niestandardowe](../active-directory/role-based-access-control-custom-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json) (tylko Resource Manager).</span><span class="sxs-lookup"><span data-stu-id="b6eec-318">Learn more about [built-in roles](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor) and assigning specific permissions to [custom roles](../active-directory/role-based-access-control-custom-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json) (Resource Manager only).</span></span>

## <span data-ttu-id="b6eec-319"><a name="delete"></a>Usuwanie zasobów</span><span class="sxs-lookup"><span data-stu-id="b6eec-319"><a name="delete"></a>Delete resources</span></span>
<span data-ttu-id="b6eec-320">Po zakończeniu tego samouczka można usunąć utworzony w samouczka w celu uniknięcia opłat użycie zasobów.</span><span class="sxs-lookup"><span data-stu-id="b6eec-320">When you've finished this tutorial, you might want to delete the resources you created in the tutorial, so you don't incur usage charges.</span></span> <span data-ttu-id="b6eec-321">Usunięcie grupy zasobów powoduje usunięcie wszystkich zasobów, które znajdują się w grupie zasobów.</span><span class="sxs-lookup"><span data-stu-id="b6eec-321">Deleting a resource group also deletes all resources that are in the resource group.</span></span>

### <span data-ttu-id="b6eec-322"><a name="delete-portal"></a>Azure portal</span><span class="sxs-lookup"><span data-stu-id="b6eec-322"><a name="delete-portal"></a>Azure portal</span></span>

1. <span data-ttu-id="b6eec-323">Zaloguj się do portalu Azure jako Użytkownik_a.</span><span class="sxs-lookup"><span data-stu-id="b6eec-323">Log in to the Azure portal as UserA.</span></span>
2. <span data-ttu-id="b6eec-324">W polu wyszukiwania portalu wprowadź **myResourceGroupA**.</span><span class="sxs-lookup"><span data-stu-id="b6eec-324">In the portal search box, enter **myResourceGroupA**.</span></span> <span data-ttu-id="b6eec-325">W wynikach wyszukiwania kliknij **myResourceGroupA**.</span><span class="sxs-lookup"><span data-stu-id="b6eec-325">In the search results, click **myResourceGroupA**.</span></span>
3. <span data-ttu-id="b6eec-326">Na **myResourceGroupA** bloku, kliknij przycisk **usunąć** ikony.</span><span class="sxs-lookup"><span data-stu-id="b6eec-326">On the **myResourceGroupA** blade, click the **Delete** icon.</span></span>
4. <span data-ttu-id="b6eec-327">Aby potwierdzić decyzję, w **typu nazwa grupy zasobów** wprowadź **myResourceGroupA**, a następnie kliknij przycisk **usunąć**.</span><span class="sxs-lookup"><span data-stu-id="b6eec-327">To confirm the deletion, in the **TYPE THE RESOURCE GROUP NAME** box, enter **myResourceGroupA**, and then click **Delete**.</span></span>
5. <span data-ttu-id="b6eec-328">Wyloguj się z portalem jako Użytkownik_a i zaloguj się jako Użytkownik_b.</span><span class="sxs-lookup"><span data-stu-id="b6eec-328">Log out of the portal as UserA and log in as UserB.</span></span>
6. <span data-ttu-id="b6eec-329">Wykonaj kroki od 2 do 4 dla myResourceGroupB.</span><span class="sxs-lookup"><span data-stu-id="b6eec-329">Complete steps 2-4 for myResourceGroupB.</span></span>

### <span data-ttu-id="b6eec-330"><a name="delete-cli"></a>Interfejs wiersza polecenia platformy Azure</span><span class="sxs-lookup"><span data-stu-id="b6eec-330"><a name="delete-cli"></a>Azure CLI</span></span>

1. <span data-ttu-id="b6eec-331">Zaloguj się na platformie Azure jako Użytkownik_a i uruchom następujące polecenie:</span><span class="sxs-lookup"><span data-stu-id="b6eec-331">Log in to Azure as UserA and execute the following command:</span></span>

    ```azurecli-interactive
    az group delete --name myResourceGroupA --yes
    ```
2. <span data-ttu-id="b6eec-332">Wyloguj Azure jako Użytkownik_a i zaloguj się jako Użytkownik_b.</span><span class="sxs-lookup"><span data-stu-id="b6eec-332">Log out of Azure as UserA and log in as UserB.</span></span>
3. <span data-ttu-id="b6eec-333">Uruchom następujące polecenie:</span><span class="sxs-lookup"><span data-stu-id="b6eec-333">Execute the following command:</span></span>

    ```azurecli-interactive
    az group delete --name myResourceGroupB --yes
    ```

### <span data-ttu-id="b6eec-334"><a name="delete-powershell"></a>Środowiska PowerShell</span><span class="sxs-lookup"><span data-stu-id="b6eec-334"><a name="delete-powershell"></a>PowerShell</span></span>

1. <span data-ttu-id="b6eec-335">Zaloguj się na platformie Azure jako Użytkownik_a i uruchom następujące polecenie:</span><span class="sxs-lookup"><span data-stu-id="b6eec-335">Log in to Azure as UserA and execute the following command:</span></span>

    ```powershell
    Remove-AzureRmResourceGroup -Name myResourceGroupA -force
    ```

2. <span data-ttu-id="b6eec-336">Wyloguj Azure jako Użytkownik_a i zaloguj się jako Użytkownik_b.</span><span class="sxs-lookup"><span data-stu-id="b6eec-336">Log out of Azure as UserA and log in as UserB.</span></span>
3. <span data-ttu-id="b6eec-337">Uruchom następujące polecenie:</span><span class="sxs-lookup"><span data-stu-id="b6eec-337">Execute the following command:</span></span>

    ```powershell
    Remove-AzureRmResourceGroup -Name myResourceGroupB -force
    ```

## <a name="next-steps"></a><span data-ttu-id="b6eec-338">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="b6eec-338">Next steps</span></span>

- <span data-ttu-id="b6eec-339">Należy dokładnie zapoznać się z ważne [ograniczenia komunikacji równorzędnej sieci wirtualnej i zachowania](virtual-network-manage-peering.md#requirements-and-constraints) przed utworzeniem sieci wirtualnej komunikacji równorzędnej w środowisku produkcyjnym należy używać.</span><span class="sxs-lookup"><span data-stu-id="b6eec-339">Thoroughly familiarize yourself with important [virtual network peering constraints and behaviors](virtual-network-manage-peering.md#requirements-and-constraints) before creating a virtual network peering for production use.</span></span>
- <span data-ttu-id="b6eec-340">Więcej informacji na temat wszystkich [sieci wirtualnej komunikacji równorzędnej ustawienia](virtual-network-manage-peering.md#create-a-peering).</span><span class="sxs-lookup"><span data-stu-id="b6eec-340">Learn about all [virtual network peering settings](virtual-network-manage-peering.md#create-a-peering).</span></span>
- <span data-ttu-id="b6eec-341">Dowiedz się, jak [tworzenie koncentratora i gwiazda topologii sieci](/azure/architecture/reference-architectures/hybrid-networking/hub-spoke?toc=%2fazure%2fvirtual-network%2ftoc.json#vnet-peering) z sieci wirtualnej komunikacji równorzędnej.</span><span class="sxs-lookup"><span data-stu-id="b6eec-341">Learn how to [create a hub and spoke network topology](/azure/architecture/reference-architectures/hybrid-networking/hub-spoke?toc=%2fazure%2fvirtual-network%2ftoc.json#vnet-peering) with virtual network peering.</span></span>
