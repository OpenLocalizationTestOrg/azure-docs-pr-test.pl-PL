---
title: "aaaAzure sieć wirtualną (VNet) planowania i projektowania przewodnik | Dokumentacja firmy Microsoft"
description: "Dowiedz się, jak tooplan i projektowania sieci wirtualnych platformy Azure zgodnie z wymaganiami izolacji, łączności i lokalizacji."
services: virtual-network
documentationcenter: na
author: jimdial
manager: carmonm
editor: tysonn
ms.assetid: 3a4a9aea-7608-4d2e-bb3c-40de2e537200
ms.service: virtual-network
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 02/08/2016
ms.author: jdial
ms.openlocfilehash: f3ffadf8cf254f64b1f86b44f90315d2bc679f63
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="plan-and-design-azure-virtual-networks"></a><span data-ttu-id="2db4e-103">Planowanie i projektowanie sieci wirtualnych Azure</span><span class="sxs-lookup"><span data-stu-id="2db4e-103">Plan and design Azure Virtual Networks</span></span>
<span data-ttu-id="2db4e-104">Tworzenie tooexperiment sieci wirtualnej, z jest dość proste, ale prawdopodobnie, wdroży wiele sieci wirtualnych za pośrednictwem czasu toosupport hello produkcji potrzeb organizacji.</span><span class="sxs-lookup"><span data-stu-id="2db4e-104">Creating a VNet tooexperiment with is easy enough, but chances are, you will deploy multiple VNets over time toosupport hello production needs of your organization.</span></span> <span data-ttu-id="2db4e-105">Z pewnego planowania i projektowania będzie można stanie toodeploy sieci wirtualnych i połączyć efektywniej potrzebne zasoby hello.</span><span class="sxs-lookup"><span data-stu-id="2db4e-105">With some planning and design, you will be able toodeploy VNets and connect hello resources you need more effectively.</span></span> <span data-ttu-id="2db4e-106">Jeśli nie masz doświadczenia z sieciami wirtualnymi, jest zalecane możesz [Dowiedz się więcej o sieci wirtualnych](virtual-networks-overview.md) i [jak toodeploy](virtual-networks-create-vnet-arm-pportal.md) jeden przed kontynuowaniem.</span><span class="sxs-lookup"><span data-stu-id="2db4e-106">If you are not familiar with VNets, it's recommended that you [learn about VNets](virtual-networks-overview.md) and [how toodeploy](virtual-networks-create-vnet-arm-pportal.md) one before proceeding.</span></span>

## <a name="plan"></a><span data-ttu-id="2db4e-107">Planowanie</span><span class="sxs-lookup"><span data-stu-id="2db4e-107">Plan</span></span>
<span data-ttu-id="2db4e-108">Dokładne zrozumienie subskrypcji platformy Azure, regiony i zasobów sieciowych jest szczególnie ważne w przypadku powodzenia.</span><span class="sxs-lookup"><span data-stu-id="2db4e-108">A thorough understanding of Azure subscriptions, regions, and network resources is critical for success.</span></span> <span data-ttu-id="2db4e-109">Lista hello uwagi poniżej służy jako punkt początkowy.</span><span class="sxs-lookup"><span data-stu-id="2db4e-109">You can use hello list of considerations below as a starting point.</span></span> <span data-ttu-id="2db4e-110">Po zrozumieniu tych zagadnień można zdefiniować hello wymagania dla projektu sieci.</span><span class="sxs-lookup"><span data-stu-id="2db4e-110">Once you understand those considerations, you can define hello requirements for your network design.</span></span>

### <a name="considerations"></a><span data-ttu-id="2db4e-111">Zagadnienia do rozważenia</span><span class="sxs-lookup"><span data-stu-id="2db4e-111">Considerations</span></span>
<span data-ttu-id="2db4e-112">Przed odpowiedzią hello poniżej pytania dotyczące planowania, należy wziąć pod uwagę następujące hello:</span><span class="sxs-lookup"><span data-stu-id="2db4e-112">Before answering hello planning questions below, consider hello following:</span></span>

* <span data-ttu-id="2db4e-113">Wszystkie obiekty, które można utworzyć na platformie Azure składa się z co najmniej jeden zasób.</span><span class="sxs-lookup"><span data-stu-id="2db4e-113">Everything you create in Azure is composed of one or more resources.</span></span> <span data-ttu-id="2db4e-114">Maszynę wirtualną (VM) jest zasobem, hello karty interfejsu sieciowego (NIC) używany przez maszynę Wirtualną jest zasobem hello publiczny adres IP używany przez kartę Sieciową jest zasobem, hello hello sieci wirtualnej karty Sieciowej jest połączonych toois zasobu.</span><span class="sxs-lookup"><span data-stu-id="2db4e-114">A virtual machine (VM) is a resource, hello network adapter interface (NIC) used by a VM is a resource, hello public IP address used by a NIC is a resource, hello VNet hello NIC is connected toois a resource.</span></span>
* <span data-ttu-id="2db4e-115">Utwórz zasoby w [regionu Azure](https://azure.microsoft.com/regions/#services) i subskrypcji.</span><span class="sxs-lookup"><span data-stu-id="2db4e-115">You create resources within an [Azure region](https://azure.microsoft.com/regions/#services) and subscription.</span></span> <span data-ttu-id="2db4e-116">Zasoby mogą być tylko tooa połączonych sieci wirtualnej w hello tego samego regionu i subskrypcji zasobu hello to.</span><span class="sxs-lookup"><span data-stu-id="2db4e-116">Resources can only be connected tooa virtual network that exists in hello same region and subscription hello resource is in.</span></span>
* <span data-ttu-id="2db4e-117">Można połączyć sieci wirtualnych tooeach innych przy użyciu:</span><span class="sxs-lookup"><span data-stu-id="2db4e-117">You can connect virtual networks tooeach other by using:</span></span>
    * <span data-ttu-id="2db4e-118">**[Sieci wirtualnej komunikacji równorzędnej](virtual-network-peering-overview.md)**: hello sieci wirtualnych musi istnieć w hello sam region platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="2db4e-118">**[Virtual network peering](virtual-network-peering-overview.md)**: hello virtual networks must exist in hello same Azure region.</span></span> <span data-ttu-id="2db4e-119">Przepustowość między zasobami w sieciach wirtualnych połączyć za pomocą jest sama hello tak, jakby zasoby hello był połączony toohello tej samej sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="2db4e-119">Bandwidth between resources in peered virtual networks is hello same as if hello resources were connected toohello same virtual network.</span></span>
    * <span data-ttu-id="2db4e-120">**Azure [bramy sieci VPN](../vpn-gateway/vpn-gateway-vnet-vnet-rm-ps.md)**: hello sieci wirtualnych może istnieć w hello, lub w różnych regionach platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="2db4e-120">**An Azure [VPN Gateway](../vpn-gateway/vpn-gateway-vnet-vnet-rm-ps.md)**: hello virtual networks can exist in hello same, or different Azure regions.</span></span> <span data-ttu-id="2db4e-121">Przepustowość między zasobami w sieciach wirtualnych połączone za pośrednictwem bramy sieci VPN jest ograniczona przepustowość hello hello bramy sieci VPN.</span><span class="sxs-lookup"><span data-stu-id="2db4e-121">Bandwidth between resources in virtual networks connected through a VPN Gateway is limited by hello bandwidth of hello VPN Gateway.</span></span>
* <span data-ttu-id="2db4e-122">Możesz połączyć sieć lokalną tooyour sieci wirtualnych za pomocą jednego z hello [opcji łączności](../vpn-gateway/vpn-gateway-about-vpngateways.md#s2smulti) dostępnej na platformie Azure.</span><span class="sxs-lookup"><span data-stu-id="2db4e-122">You can connect VNets tooyour on-premises network by using one of hello [connectivity options](../vpn-gateway/vpn-gateway-about-vpngateways.md#s2smulti) available in Azure.</span></span>
* <span data-ttu-id="2db4e-123">Różne zasoby można grupować w [grup zasobów](../azure-resource-manager/resource-group-overview.md#resource-groups), dzięki czemu można łatwiej toomanage hello zasobu jako jednostka.</span><span class="sxs-lookup"><span data-stu-id="2db4e-123">Different resources can be grouped together in [resource groups](../azure-resource-manager/resource-group-overview.md#resource-groups), making it easier toomanage hello resource as a unit.</span></span> <span data-ttu-id="2db4e-124">Grupa zasobów może zawierać zasobów z wielu regionach, tak długo, jak zasoby hello należeć toohello tej samej subskrypcji.</span><span class="sxs-lookup"><span data-stu-id="2db4e-124">A resource group can contain resources from multiple regions, as long as hello resources belong toohello same subscription.</span></span>

### <a name="define-requirements"></a><span data-ttu-id="2db4e-125">Określenie wymagań w zakresie</span><span class="sxs-lookup"><span data-stu-id="2db4e-125">Define requirements</span></span>
<span data-ttu-id="2db4e-126">Użycie tych pytań hello poniżej jako punkt początkowy dla projektu sieci platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="2db4e-126">Use hello questions below as a starting point for your Azure network design.</span></span>    

1. <span data-ttu-id="2db4e-127">Co Azure lokalizacje będziesz używać toohost sieci wirtualnych?</span><span class="sxs-lookup"><span data-stu-id="2db4e-127">What Azure locations will you use toohost VNets?</span></span>
2. <span data-ttu-id="2db4e-128">Potrzebujesz tooprovide komunikacji między tymi lokalizacjami Azure?</span><span class="sxs-lookup"><span data-stu-id="2db4e-128">Do you need tooprovide communication between these Azure locations?</span></span>
3. <span data-ttu-id="2db4e-129">Potrzebujesz tooprovide komunikacji między VNet(s) Twojego Azure i datacenter(s) sieci lokalnej?</span><span class="sxs-lookup"><span data-stu-id="2db4e-129">Do you need tooprovide communication between your Azure VNet(s) and your on-premises datacenter(s)?</span></span>
4. <span data-ttu-id="2db4e-130">Ile infrastruktura jako usługa (IaaS) maszyn wirtualnych, usług w chmurze role i aplikacji sieci web potrzebne do rozwiązania?</span><span class="sxs-lookup"><span data-stu-id="2db4e-130">How many Infrastructure as a Service (IaaS) VMs, cloud services roles, and web apps do you need for your solution?</span></span>
5. <span data-ttu-id="2db4e-131">Potrzebujesz tooisolate ruchu na podstawie grup maszyn wirtualnych (tj. fronton sieci web serwerów i serwerów bazy danych zaplecza)?</span><span class="sxs-lookup"><span data-stu-id="2db4e-131">Do you need tooisolate traffic based on groups of VMs (i.e. front end web servers and back end database servers)?</span></span>
6. <span data-ttu-id="2db4e-132">Potrzebujesz toocontrol ruchu przy użyciu wirtualnych urządzeń?</span><span class="sxs-lookup"><span data-stu-id="2db4e-132">Do you need toocontrol traffic flow using virtual appliances?</span></span>
7. <span data-ttu-id="2db4e-133">Czy użytkownicy muszą różnych zestawów uprawnień toodifferent zasobów platformy Azure?</span><span class="sxs-lookup"><span data-stu-id="2db4e-133">Do users need different sets of permissions toodifferent Azure resources?</span></span>

### <a name="understand-vnet-and-subnet-properties"></a><span data-ttu-id="2db4e-134">Zrozumienie właściwości sieci wirtualnej i podsieci</span><span class="sxs-lookup"><span data-stu-id="2db4e-134">Understand VNet and subnet properties</span></span>
<span data-ttu-id="2db4e-135">Zasoby sieci wirtualnej i podsieci pomocy, zdefiniuj granicę zabezpieczeń dla obciążeń działających na platformie Azure.</span><span class="sxs-lookup"><span data-stu-id="2db4e-135">VNet and subnets resources help define a security boundary for workloads running in Azure.</span></span> <span data-ttu-id="2db4e-136">Kolekcja przestrzeni adresów, zdefiniowany jako bloków CIDR charakteryzuje się sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="2db4e-136">A VNet is characterized by a collection of address spaces, defined as CIDR blocks.</span></span>

> [!NOTE]
> <span data-ttu-id="2db4e-137">Administratorzy sieci znają notacji CIDR.</span><span class="sxs-lookup"><span data-stu-id="2db4e-137">Network administrators are familiar with CIDR notation.</span></span> <span data-ttu-id="2db4e-138">Jeśli nie znasz CIDR, [Dowiedz się więcej o](http://whatismyipaddress.com/cidr).</span><span class="sxs-lookup"><span data-stu-id="2db4e-138">If you are not familiar with CIDR, [learn more about it](http://whatismyipaddress.com/cidr).</span></span>
>
>

<span data-ttu-id="2db4e-139">Sieci wirtualne zawierają hello następujące właściwości.</span><span class="sxs-lookup"><span data-stu-id="2db4e-139">VNets contain hello following properties.</span></span>

| <span data-ttu-id="2db4e-140">Właściwość</span><span class="sxs-lookup"><span data-stu-id="2db4e-140">Property</span></span> | <span data-ttu-id="2db4e-141">Opis</span><span class="sxs-lookup"><span data-stu-id="2db4e-141">Description</span></span> | <span data-ttu-id="2db4e-142">Ograniczenia</span><span class="sxs-lookup"><span data-stu-id="2db4e-142">Constraints</span></span> |
| --- | --- | --- |
| <span data-ttu-id="2db4e-143">**Nazwa**</span><span class="sxs-lookup"><span data-stu-id="2db4e-143">**name**</span></span> |<span data-ttu-id="2db4e-144">Nazwa sieci wirtualnej</span><span class="sxs-lookup"><span data-stu-id="2db4e-144">VNet name</span></span> |<span data-ttu-id="2db4e-145">Ciąg się too80 znaków.</span><span class="sxs-lookup"><span data-stu-id="2db4e-145">String of up too80 characters.</span></span> <span data-ttu-id="2db4e-146">Może zawierać litery, cyfry, podkreślenia, kropki i łączniki.</span><span class="sxs-lookup"><span data-stu-id="2db4e-146">May contain letters, numbers, underscore, periods, or hyphens.</span></span> <span data-ttu-id="2db4e-147">Musi zaczynać się literą lub cyfrą.</span><span class="sxs-lookup"><span data-stu-id="2db4e-147">Must start with a letter or number.</span></span> <span data-ttu-id="2db4e-148">Musi kończyć się literą, cyfrą lub podkreśleniem.</span><span class="sxs-lookup"><span data-stu-id="2db4e-148">Must end with a letter, number, or underscore.</span></span> <span data-ttu-id="2db4e-149">Można zawiera wielkich i małych liter.</span><span class="sxs-lookup"><span data-stu-id="2db4e-149">Can contains upper or lower case letters.</span></span> |
| <span data-ttu-id="2db4e-150">**location**</span><span class="sxs-lookup"><span data-stu-id="2db4e-150">**location**</span></span> |<span data-ttu-id="2db4e-151">Lokalizacja platformy Azure (również tooas określonego regionu).</span><span class="sxs-lookup"><span data-stu-id="2db4e-151">Azure location (also referred tooas region).</span></span> |<span data-ttu-id="2db4e-152">Musi mieć jedną z hello prawidłowych lokalizacji platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="2db4e-152">Must be one of hello valid Azure locations.</span></span> |
| <span data-ttu-id="2db4e-153">**Element addressSpace**</span><span class="sxs-lookup"><span data-stu-id="2db4e-153">**addressSpace**</span></span> |<span data-ttu-id="2db4e-154">Kolekcja prefiksów adresów, które tworzą hello sieci wirtualnej w notacji CIDR.</span><span class="sxs-lookup"><span data-stu-id="2db4e-154">Collection of address prefixes that make up hello VNet in CIDR notation.</span></span> |<span data-ttu-id="2db4e-155">Musi być tablicą prawidłowy bloków adresów CIDR, w tym zakresy publicznych adresów IP.</span><span class="sxs-lookup"><span data-stu-id="2db4e-155">Must be an array of valid CIDR address blocks, including public IP address ranges.</span></span> |
| <span data-ttu-id="2db4e-156">**podsieci**</span><span class="sxs-lookup"><span data-stu-id="2db4e-156">**subnets**</span></span> |<span data-ttu-id="2db4e-157">Kolekcja podsieci, które tworzą hello sieci wirtualnej</span><span class="sxs-lookup"><span data-stu-id="2db4e-157">Collection of subnets that make up hello VNet</span></span> |<span data-ttu-id="2db4e-158">Zobacz tabelę właściwości podsieci hello poniżej.</span><span class="sxs-lookup"><span data-stu-id="2db4e-158">see hello subnet properties table below.</span></span> |
| <span data-ttu-id="2db4e-159">**dhcpOptions**</span><span class="sxs-lookup"><span data-stu-id="2db4e-159">**dhcpOptions**</span></span> |<span data-ttu-id="2db4e-160">Obiekt, który zawiera jednej wymaganej właściwości o nazwie **dnsServers**.</span><span class="sxs-lookup"><span data-stu-id="2db4e-160">Object that contains a single required property named **dnsServers**.</span></span> | |
| <span data-ttu-id="2db4e-161">**dnsServers**</span><span class="sxs-lookup"><span data-stu-id="2db4e-161">**dnsServers**</span></span> |<span data-ttu-id="2db4e-162">Tablica serwery DNS używane przez hello sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="2db4e-162">Array of DNS servers used by hello VNet.</span></span> <span data-ttu-id="2db4e-163">Jeśli nie zostanie podana, rozpoznawania nazw wewnętrznych Azure jest używana.</span><span class="sxs-lookup"><span data-stu-id="2db4e-163">If no server is specified, Azure internal name resolution is used.</span></span> |<span data-ttu-id="2db4e-164">Musi być tablicą too10 serwery DNS, za pomocą adresu IP.</span><span class="sxs-lookup"><span data-stu-id="2db4e-164">Must be an array of up too10 DNS servers, by IP address.</span></span> |

<span data-ttu-id="2db4e-165">Podsieć jest zasobem podrzędnych sieci wirtualnej i pomaga zdefiniować segmenty przestrzeni adresów w obrębie blok CIDR, przy użyciu prefiksów adresów IP.</span><span class="sxs-lookup"><span data-stu-id="2db4e-165">A subnet is a child resource of a VNet, and helps define segments of address spaces within a CIDR block, using IP address prefixes.</span></span> <span data-ttu-id="2db4e-166">Karty sieciowe mogą być dodawane toosubnets i tooVMs połączone, zapewniają łączność dla różnych obciążeń.</span><span class="sxs-lookup"><span data-stu-id="2db4e-166">NICs can be added toosubnets, and connected tooVMs, providing connectivity for various workloads.</span></span>

<span data-ttu-id="2db4e-167">Podsieci zawierają hello następujące właściwości.</span><span class="sxs-lookup"><span data-stu-id="2db4e-167">Subnets contain hello following properties.</span></span>

| <span data-ttu-id="2db4e-168">Właściwość</span><span class="sxs-lookup"><span data-stu-id="2db4e-168">Property</span></span> | <span data-ttu-id="2db4e-169">Opis</span><span class="sxs-lookup"><span data-stu-id="2db4e-169">Description</span></span> | <span data-ttu-id="2db4e-170">Ograniczenia</span><span class="sxs-lookup"><span data-stu-id="2db4e-170">Constraints</span></span> |
| --- | --- | --- |
| <span data-ttu-id="2db4e-171">**Nazwa**</span><span class="sxs-lookup"><span data-stu-id="2db4e-171">**name**</span></span> |<span data-ttu-id="2db4e-172">Nazwa podsieci</span><span class="sxs-lookup"><span data-stu-id="2db4e-172">Subnet name</span></span> |<span data-ttu-id="2db4e-173">Ciąg się too80 znaków.</span><span class="sxs-lookup"><span data-stu-id="2db4e-173">String of up too80 characters.</span></span> <span data-ttu-id="2db4e-174">Może zawierać litery, cyfry, podkreślenia, kropki i łączniki.</span><span class="sxs-lookup"><span data-stu-id="2db4e-174">May contain letters, numbers, underscore, periods, or hyphens.</span></span> <span data-ttu-id="2db4e-175">Musi zaczynać się literą lub cyfrą.</span><span class="sxs-lookup"><span data-stu-id="2db4e-175">Must start with a letter or number.</span></span> <span data-ttu-id="2db4e-176">Musi kończyć się literą, cyfrą lub podkreśleniem.</span><span class="sxs-lookup"><span data-stu-id="2db4e-176">Must end with a letter, number, or underscore.</span></span> <span data-ttu-id="2db4e-177">Można zawiera wielkich i małych liter.</span><span class="sxs-lookup"><span data-stu-id="2db4e-177">Can contains upper or lower case letters.</span></span> |
| <span data-ttu-id="2db4e-178">**location**</span><span class="sxs-lookup"><span data-stu-id="2db4e-178">**location**</span></span> |<span data-ttu-id="2db4e-179">Lokalizacja platformy Azure (również tooas określonego regionu).</span><span class="sxs-lookup"><span data-stu-id="2db4e-179">Azure location (also referred tooas region).</span></span> |<span data-ttu-id="2db4e-180">Musi mieć jedną z hello prawidłowych lokalizacji platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="2db4e-180">Must be one of hello valid Azure locations.</span></span> |
| <span data-ttu-id="2db4e-181">**addressPrefix**</span><span class="sxs-lookup"><span data-stu-id="2db4e-181">**addressPrefix**</span></span> |<span data-ttu-id="2db4e-182">Prefiks pojedynczy adres, który tworzą hello podsieci w notacji CIDR</span><span class="sxs-lookup"><span data-stu-id="2db4e-182">Single address prefix that make up hello subnet in CIDR notation</span></span> |<span data-ttu-id="2db4e-183">Musi być jeden blok CIDR, który wchodzi w skład jednej przestrzeni adresowych hello sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="2db4e-183">Must be a single CIDR block that is part of one of hello VNet's address spaces.</span></span> |
| <span data-ttu-id="2db4e-184">**grupy networkSecurityGroup**</span><span class="sxs-lookup"><span data-stu-id="2db4e-184">**networkSecurityGroup**</span></span> |<span data-ttu-id="2db4e-185">Grupa NSG stosowana toohello podsieci</span><span class="sxs-lookup"><span data-stu-id="2db4e-185">NSG applied toohello subnet</span></span> | |
| <span data-ttu-id="2db4e-186">**Stan**</span><span class="sxs-lookup"><span data-stu-id="2db4e-186">**routeTable**</span></span> |<span data-ttu-id="2db4e-187">Tabela tras stosowane toohello podsieci</span><span class="sxs-lookup"><span data-stu-id="2db4e-187">Route table applied toohello subnet</span></span> | |
| <span data-ttu-id="2db4e-188">**elementy Ipconfiguration**</span><span class="sxs-lookup"><span data-stu-id="2db4e-188">**ipConfigurations**</span></span> |<span data-ttu-id="2db4e-189">Kolekcja obiektów konfiguracji IP używane przez karty sieciowe połączone toohello podsieci</span><span class="sxs-lookup"><span data-stu-id="2db4e-189">Collection of IP configuration objects used by NICs connected toohello subnet</span></span> | |

### <a name="name-resolution"></a><span data-ttu-id="2db4e-190">Rozpoznawanie nazw</span><span class="sxs-lookup"><span data-stu-id="2db4e-190">Name resolution</span></span>
<span data-ttu-id="2db4e-191">Domyślnie korzysta z sieci wirtualnej [rozpoznawania nazw platformy Azure](virtual-networks-name-resolution-for-vms-and-role-instances.md) nazwy tooresolve wewnątrz hello sieci wirtualnej, a następnie na hello publicznej sieci Internet.</span><span class="sxs-lookup"><span data-stu-id="2db4e-191">By default, your VNet uses [Azure-provided name resolution](virtual-networks-name-resolution-for-vms-and-role-instances.md) tooresolve names inside hello VNet, and on hello public Internet.</span></span> <span data-ttu-id="2db4e-192">Jednak jeśli łączysz się z centrów danych lokalnych tooyour sieci wirtualnych, należy tooprovide [serwer DNS](virtual-networks-name-resolution-for-vms-and-role-instances.md) nazwy tooresolve od sieci.</span><span class="sxs-lookup"><span data-stu-id="2db4e-192">However, if you connect your VNets tooyour on-premises data centers, you need tooprovide [your own DNS server](virtual-networks-name-resolution-for-vms-and-role-instances.md) tooresolve names between your networks.</span></span>  

### <a name="limits"></a><span data-ttu-id="2db4e-193">Limity</span><span class="sxs-lookup"><span data-stu-id="2db4e-193">Limits</span></span>
<span data-ttu-id="2db4e-194">Przejrzyj hello limity sieci w hello [Azure ogranicza](../azure-subscription-service-limits.md#networking-limits) tooensure artykułu, który projektu nie koliduje to z dowolnymi hello limitów.</span><span class="sxs-lookup"><span data-stu-id="2db4e-194">Review hello networking limits in hello [Azure limits](../azure-subscription-service-limits.md#networking-limits) article tooensure that your design doesn't conflict with any of hello limits.</span></span> <span data-ttu-id="2db4e-195">Niektóre limity można zwiększyć przez otwarcie biletu pomocy technicznej.</span><span class="sxs-lookup"><span data-stu-id="2db4e-195">Some limits can be increased by opening a support ticket.</span></span>

### <a name="role-based-access-control-rbac"></a><span data-ttu-id="2db4e-196">Kontrola dostępu oparta na rolach (RBAC)</span><span class="sxs-lookup"><span data-stu-id="2db4e-196">Role-Based Access Control (RBAC)</span></span>
<span data-ttu-id="2db4e-197">Można użyć [Azure RBAC](../active-directory/role-based-access-built-in-roles.md) toocontrol hello poziom dostępu różnych użytkowników może być toodifferent zasobów na platformie Azure.</span><span class="sxs-lookup"><span data-stu-id="2db4e-197">You can use [Azure RBAC](../active-directory/role-based-access-built-in-roles.md) toocontrol hello level of access different users may have toodifferent resources in Azure.</span></span> <span data-ttu-id="2db4e-198">W ten sposób może też oddzielić hello pracy przez zespół na podstawie swoich potrzeb.</span><span class="sxs-lookup"><span data-stu-id="2db4e-198">That way you can segregate hello work done by your team based on their needs.</span></span>

<span data-ttu-id="2db4e-199">Jeżeli sieci wirtualne są dane użytkowników w hello **współautora sieci** roli mają pełną kontrolę nad zasobami sieci wirtualnej Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="2db4e-199">As far as virtual networks are concerned, users in hello **Network Contributor** role have full control over Azure Resource Manager virtual network resources.</span></span> <span data-ttu-id="2db4e-200">Podobnie, użytkownicy w hello **klasycznego współautora sieci** rola ma pełną kontrolę nad zasoby klasyczne sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="2db4e-200">Similarly, users in hello **Classic Network Contributor** role have full control over classic virtual network resources.</span></span>

> [!NOTE]
> <span data-ttu-id="2db4e-201">Możesz również [tworzyć własne role](../active-directory/role-based-access-control-configure.md) tooseparate potrzeb administracyjnych.</span><span class="sxs-lookup"><span data-stu-id="2db4e-201">You can also [create your own roles](../active-directory/role-based-access-control-configure.md) tooseparate your administrative needs.</span></span>
>
>

## <a name="design"></a><span data-ttu-id="2db4e-202">Projektowanie</span><span class="sxs-lookup"><span data-stu-id="2db4e-202">Design</span></span>
<span data-ttu-id="2db4e-203">Jeśli znasz już odpowiedzi hello pytania toohello w hello [Planowanie](#Plan) Przejrzyj następujące hello przed zdefiniowaniem Twojej sieci wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="2db4e-203">Once you know hello answers toohello questions in hello [Plan](#Plan) section, review hello following before defining your VNets.</span></span>

### <a name="number-of-subscriptions-and-vnets"></a><span data-ttu-id="2db4e-204">Liczba subskrypcji i sieci wirtualnych</span><span class="sxs-lookup"><span data-stu-id="2db4e-204">Number of subscriptions and VNets</span></span>
<span data-ttu-id="2db4e-205">Należy rozważyć utworzenie wielu sieci wirtualnych w hello następujące scenariusze:</span><span class="sxs-lookup"><span data-stu-id="2db4e-205">You should consider creating multiple VNets in hello following scenarios:</span></span>

* <span data-ttu-id="2db4e-206">**Maszyny wirtualne wymagające toobe umieszczone w różnych lokalizacjach Azure**.</span><span class="sxs-lookup"><span data-stu-id="2db4e-206">**VMs that need toobe placed in different Azure locations**.</span></span> <span data-ttu-id="2db4e-207">Sieci wirtualne na platformie Azure są regionalne.</span><span class="sxs-lookup"><span data-stu-id="2db4e-207">VNets in Azure are regional.</span></span> <span data-ttu-id="2db4e-208">Nie obejmują one lokalizacji.</span><span class="sxs-lookup"><span data-stu-id="2db4e-208">They cannot span locations.</span></span> <span data-ttu-id="2db4e-209">W związku z tym należy co najmniej jedną sieć wirtualną dla każdej lokalizacji platformy Azure, który ma toohost maszyn wirtualnych w.</span><span class="sxs-lookup"><span data-stu-id="2db4e-209">Therefore you need at least one VNet for each Azure location you want toohost VMs in.</span></span>
* <span data-ttu-id="2db4e-210">**Obciążenia wymagające toobe całkowicie odizolowane od siebie nawzajem**.</span><span class="sxs-lookup"><span data-stu-id="2db4e-210">**Workloads that need toobe completely isolated from one another**.</span></span> <span data-ttu-id="2db4e-211">Można utworzyć oddzielne sieci wirtualnych, że nawet Użyj hello tej samej przestrzeni adresów IP, tooisolate różnych obciążeń od siebie nawzajem.</span><span class="sxs-lookup"><span data-stu-id="2db4e-211">You can create separate VNets, that even use hello same IP address spaces, tooisolate different workloads from one another.</span></span>

<span data-ttu-id="2db4e-212">Należy pamiętać, że limity hello, wyświetlone powyżej są na region na subskrypcję.</span><span class="sxs-lookup"><span data-stu-id="2db4e-212">Keep in mind that hello limits you see above are per region, per subscription.</span></span> <span data-ttu-id="2db4e-213">Oznacza to, że można użyć wielu subskrypcji tooincrease hello limit zasobów, które można zachować na platformie Azure.</span><span class="sxs-lookup"><span data-stu-id="2db4e-213">That means you can use multiple subscriptions tooincrease hello limit of resources you can maintain in Azure.</span></span> <span data-ttu-id="2db4e-214">Można użyć sieci VPN lokacja lokacja lub obwodu usługi ExpressRoute, tooconnect sieci wirtualnych w ramach różnych subskrypcji.</span><span class="sxs-lookup"><span data-stu-id="2db4e-214">You can use a site-to-site VPN, or an ExpressRoute circuit, tooconnect VNets in different subscriptions.</span></span>

### <a name="subscription-and-vnet-design-patterns"></a><span data-ttu-id="2db4e-215">Subskrypcja i wzorce projektowe sieci wirtualnej</span><span class="sxs-lookup"><span data-stu-id="2db4e-215">Subscription and VNet design patterns</span></span>
<span data-ttu-id="2db4e-216">Witaj w poniższej tabeli przedstawiono niektóre typowe wzorce projektowe dotyczące korzystania z subskrypcji i sieci wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="2db4e-216">hello table below shows some common design patterns for using subscriptions and VNets.</span></span>

| <span data-ttu-id="2db4e-217">Scenariusz</span><span class="sxs-lookup"><span data-stu-id="2db4e-217">Scenario</span></span> | <span data-ttu-id="2db4e-218">Diagram</span><span class="sxs-lookup"><span data-stu-id="2db4e-218">Diagram</span></span> | <span data-ttu-id="2db4e-219">Specjaliści</span><span class="sxs-lookup"><span data-stu-id="2db4e-219">Pros</span></span> | <span data-ttu-id="2db4e-220">Wady</span><span class="sxs-lookup"><span data-stu-id="2db4e-220">Cons</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="2db4e-221">Jedną subskrypcją, dwie sieci wirtualne dla aplikacji</span><span class="sxs-lookup"><span data-stu-id="2db4e-221">Single subscription, two VNets per app</span></span> |![Jedną subskrypcją](./media/virtual-network-vnet-plan-design-arm/figure1.png) |<span data-ttu-id="2db4e-223">Toomanage tylko jedna subskrypcja.</span><span class="sxs-lookup"><span data-stu-id="2db4e-223">Only one subscription toomanage.</span></span> |<span data-ttu-id="2db4e-224">Maksymalna liczba sieci wirtualnych na region platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="2db4e-224">Maximum number of VNets per Azure region.</span></span> <span data-ttu-id="2db4e-225">Potrzebujesz więcej subskrypcji po tym.</span><span class="sxs-lookup"><span data-stu-id="2db4e-225">You need more subscriptions after that.</span></span> <span data-ttu-id="2db4e-226">Przejrzyj hello [Azure ogranicza](../azure-subscription-service-limits.md#networking-limits) artykułu, aby uzyskać szczegółowe informacje.</span><span class="sxs-lookup"><span data-stu-id="2db4e-226">Review hello [Azure limits](../azure-subscription-service-limits.md#networking-limits) article for details.</span></span> |
| <span data-ttu-id="2db4e-227">Z jedną subskrypcją jednej aplikacji, dwie sieci wirtualne dla aplikacji</span><span class="sxs-lookup"><span data-stu-id="2db4e-227">One subscription per app, two VNets per app</span></span> |![Jedną subskrypcją](./media/virtual-network-vnet-plan-design-arm/figure2.png) |<span data-ttu-id="2db4e-229">Używa tylko dwie sieci wirtualne na subskrypcję.</span><span class="sxs-lookup"><span data-stu-id="2db4e-229">Uses only two VNets per subscription.</span></span> |<span data-ttu-id="2db4e-230">Przeszkodę toomanage istnieje zbyt wiele aplikacji.</span><span class="sxs-lookup"><span data-stu-id="2db4e-230">Harder toomanage when there are too many apps.</span></span> |
| <span data-ttu-id="2db4e-231">Z jedną subskrypcją jednej jednostki biznesowej, dwie sieci wirtualne dla aplikacji.</span><span class="sxs-lookup"><span data-stu-id="2db4e-231">One subscription per business unit, two VNets per app.</span></span> |![Jedną subskrypcją](./media/virtual-network-vnet-plan-design-arm/figure3.png) |<span data-ttu-id="2db4e-233">Równowaga między liczbę subskrypcji i sieci wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="2db4e-233">Balance between number of subscriptions and VNets.</span></span> |<span data-ttu-id="2db4e-234">Maksymalna liczba sieci wirtualnych na jednostki biznesowej (subscription).</span><span class="sxs-lookup"><span data-stu-id="2db4e-234">Maximum number of VNets per business unit (subscription).</span></span> <span data-ttu-id="2db4e-235">Przejrzyj hello [Azure ogranicza](../azure-subscription-service-limits.md#networking-limits) artykułu, aby uzyskać szczegółowe informacje.</span><span class="sxs-lookup"><span data-stu-id="2db4e-235">Review hello [Azure limits](../azure-subscription-service-limits.md#networking-limits) article for details.</span></span> |
| <span data-ttu-id="2db4e-236">Z jedną subskrypcją jednej jednostki biznesowej, dwie sieci wirtualne dla każdej grupy aplikacji.</span><span class="sxs-lookup"><span data-stu-id="2db4e-236">One subscription per business unit, two VNets per group of apps.</span></span> |![Jedną subskrypcją](./media/virtual-network-vnet-plan-design-arm/figure4.png) |<span data-ttu-id="2db4e-238">Równowaga między liczbę subskrypcji i sieci wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="2db4e-238">Balance between number of subscriptions and VNets.</span></span> |<span data-ttu-id="2db4e-239">Aplikacje muszą występować samodzielnie za pomocą podsieci i grup NSG.</span><span class="sxs-lookup"><span data-stu-id="2db4e-239">Apps must be isolated by using subnets and NSGs.</span></span> |

### <a name="number-of-subnets"></a><span data-ttu-id="2db4e-240">Liczba podsieci</span><span class="sxs-lookup"><span data-stu-id="2db4e-240">Number of subnets</span></span>
<span data-ttu-id="2db4e-241">Należy rozważyć wiele podsieci w sieci wirtualnej w hello następujące scenariusze:</span><span class="sxs-lookup"><span data-stu-id="2db4e-241">You should consider multiple subnets in a VNet in hello following scenarios:</span></span>

* <span data-ttu-id="2db4e-242">**Za mało prywatnych adresów IP dla wszystkich kart sieciowych w podsieci**.</span><span class="sxs-lookup"><span data-stu-id="2db4e-242">**Not enough private IP addresses for all NICs in a subnet**.</span></span> <span data-ttu-id="2db4e-243">Przestrzeń adresowa podsieci hello liczbę kart sieciowych w podsieci hello nie zawiera za mało adresów IP, należy najpierw toocreate wielu podsieci.</span><span class="sxs-lookup"><span data-stu-id="2db4e-243">If your subnet address space does not contain enough IP addresses for hello number of NICs in hello subnet, you need toocreate multiple subnets.</span></span> <span data-ttu-id="2db4e-244">Należy pamiętać, że Azure rezerwuje 5 prywatnych adresów IP z każdej podsieci, której nie można użyć: hello pierwszy i ostatni adresów hello przestrzeń adresowa (adres podsieci hello oraz multiemisji) i toobe 3 adresy używane wewnętrznie (na potrzeby DHCP i DNS).</span><span class="sxs-lookup"><span data-stu-id="2db4e-244">Keep in mind that Azure reserves 5 private IP addresses from each subnet that cannot be used: hello first and last addresses of hello address space (for hello subnet address, and multicast) and 3 addresses toobe used internally (for DHCP and DNS purposes).</span></span>
* <span data-ttu-id="2db4e-245">**Bezpieczeństwo**</span><span class="sxs-lookup"><span data-stu-id="2db4e-245">**Security**.</span></span> <span data-ttu-id="2db4e-246">Można użyć podsieci tooseparate grupy maszyn wirtualnych od siebie nawzajem dla obciążenia, które mają wielowarstwową struktury i zastosowania różnych [sieciowej grupy zabezpieczeń (NSG)](virtual-networks-nsg.md#subnets) dla tych podsieci.</span><span class="sxs-lookup"><span data-stu-id="2db4e-246">You can use subnets tooseparate groups of VMs from one another for workloads that have a multi-layer structure, and apply different [network security groups (NSGs)](virtual-networks-nsg.md#subnets) for those subnets.</span></span>
* <span data-ttu-id="2db4e-247">**Połączenia hybrydowe**.</span><span class="sxs-lookup"><span data-stu-id="2db4e-247">**Hybrid connectivity**.</span></span> <span data-ttu-id="2db4e-248">Korzystania z bramy sieci VPN i obwody usługi ExpressRoute za[połączyć](../vpn-gateway/vpn-gateway-about-vpngateways.md#s2smulti) tooone Twojego sieci wirtualnych innym, i tooyour center(s) danych lokalnymi.</span><span class="sxs-lookup"><span data-stu-id="2db4e-248">You can use VPN gateways and ExpressRoute circuits too[connect](../vpn-gateway/vpn-gateway-about-vpngateways.md#s2smulti) your VNets tooone another, and tooyour on-premises data center(s).</span></span> <span data-ttu-id="2db4e-249">Bramy sieci VPN i obwody usługi ExpressRoute wymagają podsieci własnych toobe utworzony.</span><span class="sxs-lookup"><span data-stu-id="2db4e-249">VPN gateways and ExpressRoute circuits require a subnet of their own toobe created.</span></span>
* <span data-ttu-id="2db4e-250">**Urządzenie wirtualne**.</span><span class="sxs-lookup"><span data-stu-id="2db4e-250">**Virtual appliances**.</span></span> <span data-ttu-id="2db4e-251">Urządzenie wirtualne, takie jak zapory, sieci WAN akceleratora lub brama sieci VPN można użyć w sieć wirtualną platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="2db4e-251">You can use a virtual appliance, such as a firewall, WAN accelerator, or VPN gateway in an Azure VNet.</span></span> <span data-ttu-id="2db4e-252">W przypadku zrobić, należy za[kierować ruchem](virtual-networks-udr-overview.md) toothose urządzenia i je odizolować w ich własnych podsieci.</span><span class="sxs-lookup"><span data-stu-id="2db4e-252">When you do so, you need too[route traffic](virtual-networks-udr-overview.md) toothose appliances and isolate them in their own subnet.</span></span>

### <a name="subnet-and-nsg-design-patterns"></a><span data-ttu-id="2db4e-253">Wzorce projektowe podsieci i grupy NSG</span><span class="sxs-lookup"><span data-stu-id="2db4e-253">Subnet and NSG design patterns</span></span>
<span data-ttu-id="2db4e-254">Witaj w poniższej tabeli przedstawiono niektóre typowe wzorce projektowe dotyczące korzystania z podsieci.</span><span class="sxs-lookup"><span data-stu-id="2db4e-254">hello table below shows some common design patterns for using subnets.</span></span>

| <span data-ttu-id="2db4e-255">Scenariusz</span><span class="sxs-lookup"><span data-stu-id="2db4e-255">Scenario</span></span> | <span data-ttu-id="2db4e-256">Diagram</span><span class="sxs-lookup"><span data-stu-id="2db4e-256">Diagram</span></span> | <span data-ttu-id="2db4e-257">Specjaliści</span><span class="sxs-lookup"><span data-stu-id="2db4e-257">Pros</span></span> | <span data-ttu-id="2db4e-258">Wady</span><span class="sxs-lookup"><span data-stu-id="2db4e-258">Cons</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="2db4e-259">Jednej podsieci, grupy NSG na warstwie aplikacji dla aplikacji</span><span class="sxs-lookup"><span data-stu-id="2db4e-259">Single subnet, NSGs per application layer, per app</span></span> |![Pojedyncza podsieć](./media/virtual-network-vnet-plan-design-arm/figure5.png) |<span data-ttu-id="2db4e-261">Tylko jeden toomanage podsieci.</span><span class="sxs-lookup"><span data-stu-id="2db4e-261">Only one subnet toomanage.</span></span> |<span data-ttu-id="2db4e-262">Wiele grup NSG tooisolate niezbędne każdej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="2db4e-262">Multiple NSGs necessary tooisolate each application.</span></span> |
| <span data-ttu-id="2db4e-263">Podsieć każdej aplikacji, grupy NSG na warstwie aplikacji</span><span class="sxs-lookup"><span data-stu-id="2db4e-263">One subnet per app, NSGs per application layer</span></span> |![Podsieć każdej aplikacji](./media/virtual-network-vnet-plan-design-arm/figure6.png) |<span data-ttu-id="2db4e-265">Toomanage mniejszą liczbę grup NSG.</span><span class="sxs-lookup"><span data-stu-id="2db4e-265">Fewer NSGs toomanage.</span></span> |<span data-ttu-id="2db4e-266">Toomanage wielu podsieci.</span><span class="sxs-lookup"><span data-stu-id="2db4e-266">Multiple subnets toomanage.</span></span> |
| <span data-ttu-id="2db4e-267">Jednej podsieci na warstwie aplikacji, grup NSG dla aplikacji.</span><span class="sxs-lookup"><span data-stu-id="2db4e-267">One subnet per application layer, NSGs per app.</span></span> |![Podsieci w warstwie](./media/virtual-network-vnet-plan-design-arm/figure7.png) |<span data-ttu-id="2db4e-269">Równowaga między wiele podsieci i grup NSG.</span><span class="sxs-lookup"><span data-stu-id="2db4e-269">Balance between number of subnets and NSGs.</span></span> |<span data-ttu-id="2db4e-270">Maksymalna liczba grup NSG na subskrypcję.</span><span class="sxs-lookup"><span data-stu-id="2db4e-270">Maximum number of NSGs per subscription.</span></span> <span data-ttu-id="2db4e-271">Przejrzyj hello [Azure ogranicza](../azure-subscription-service-limits.md#networking-limits) artykułu, aby uzyskać szczegółowe informacje.</span><span class="sxs-lookup"><span data-stu-id="2db4e-271">Review hello [Azure limits](../azure-subscription-service-limits.md#networking-limits) article for details.</span></span> |
| <span data-ttu-id="2db4e-272">W jednej podsieci na warstwie aplikacji dla aplikacji, grup NSG dla podsieci</span><span class="sxs-lookup"><span data-stu-id="2db4e-272">One subnet per application layer, per app, NSGs per subnet</span></span> |![Podsieci w warstwie aplikacji](./media/virtual-network-vnet-plan-design-arm/figure8.png) |<span data-ttu-id="2db4e-274">Prawdopodobnie mniejszą liczbę grup NSG.</span><span class="sxs-lookup"><span data-stu-id="2db4e-274">Possibly smaller number of NSGs.</span></span> |<span data-ttu-id="2db4e-275">Toomanage wielu podsieci.</span><span class="sxs-lookup"><span data-stu-id="2db4e-275">Multiple subnets toomanage.</span></span> |

## <a name="sample-design"></a><span data-ttu-id="2db4e-276">Przykładowy projekt</span><span class="sxs-lookup"><span data-stu-id="2db4e-276">Sample design</span></span>
<span data-ttu-id="2db4e-277">Aplikacja hello tooillustrate hello informacji w tym artykule, należy wziąć pod uwagę powitania od scenariusza.</span><span class="sxs-lookup"><span data-stu-id="2db4e-277">tooillustrate hello application of hello information in this article, consider hello following scenario.</span></span>

<span data-ttu-id="2db4e-278">Pracujesz dla firmy, która ma 2 centrów danych w Ameryce Północnej i centrów danych dwa Europy.</span><span class="sxs-lookup"><span data-stu-id="2db4e-278">You work for a company that has 2 data centers in North America, and two data centers Europe.</span></span> <span data-ttu-id="2db4e-279">Zidentyfikowano 6 różnych klientów aplikacji obsługiwanego przez 2 różnych jednostek biznesowych, które mają tooAzure toomigrate jako pilotażu.</span><span class="sxs-lookup"><span data-stu-id="2db4e-279">You identified 6 different customer facing applications maintained by 2 different business units that you want toomigrate tooAzure as a pilot.</span></span> <span data-ttu-id="2db4e-280">Podstawowa architektura aplikacji hello Hello są następujące:</span><span class="sxs-lookup"><span data-stu-id="2db4e-280">hello basic architecture for hello applications are as follows:</span></span>

* <span data-ttu-id="2db4e-281">App1, App2 App3 i App4 są hostowane na serwerach Linux z systemem Ubuntu aplikacji sieci web.</span><span class="sxs-lookup"><span data-stu-id="2db4e-281">App1, App2, App3, and App4 are web applications hosted on Linux servers running Ubuntu.</span></span> <span data-ttu-id="2db4e-282">Każda aplikacja łączy tooa oddzielnej aplikacji serwera obsługującego usługi RESTful na serwerach Linux.</span><span class="sxs-lookup"><span data-stu-id="2db4e-282">Each application connects tooa separate application server that hosts RESTful services on Linux servers.</span></span> <span data-ttu-id="2db4e-283">usługi RESTful Hello połączyć tooa wewnętrzna baza danych MySQL.</span><span class="sxs-lookup"><span data-stu-id="2db4e-283">hello RESTful services connect tooa back end MySQL database.</span></span>
* <span data-ttu-id="2db4e-284">App5 i App6 są aplikacji sieci web na serwerach z systemem Windows z systemem Windows Server 2012 R2.</span><span class="sxs-lookup"><span data-stu-id="2db4e-284">App5 and App6 are web applications hosted on Windows servers running Windows Server 2012 R2.</span></span> <span data-ttu-id="2db4e-285">Każda aplikacja nawiązuje połączenie bazy danych programu SQL Server zaplecza tooa.</span><span class="sxs-lookup"><span data-stu-id="2db4e-285">Each application connects tooa back end SQL Server database.</span></span>
* <span data-ttu-id="2db4e-286">Wszystkie aplikacje są obecnie hostowane w jednym z firmy hello centrów danych w Ameryce Północnej.</span><span class="sxs-lookup"><span data-stu-id="2db4e-286">All apps are currently hosted in one of hello company's data centers in North America.</span></span>
* <span data-ttu-id="2db4e-287">centra danych lokalne powitania Użyj przestrzeni adresowej 10.0.0.0/8 hello.</span><span class="sxs-lookup"><span data-stu-id="2db4e-287">hello on-premises data centers use hello 10.0.0.0/8 address space.</span></span>

<span data-ttu-id="2db4e-288">Należy toodesign rozwiązania sieci wirtualnej, który spełnia następujące wymagania hello:</span><span class="sxs-lookup"><span data-stu-id="2db4e-288">You need toodesign a virtual network solution that meets hello following requirements:</span></span>

* <span data-ttu-id="2db4e-289">Zużycie zasobów w innych jednostek biznesowych nie powinny mieć wpływ na poszczególnych jednostek biznesowych.</span><span class="sxs-lookup"><span data-stu-id="2db4e-289">Each business unit should not be affected by resource consumption of other business units.</span></span>
* <span data-ttu-id="2db4e-290">Należy zminimalizować ilość hello sieci wirtualnych i podsieci zarządzania toomake łatwiejsze.</span><span class="sxs-lookup"><span data-stu-id="2db4e-290">You should minimize hello amount of VNets and subnets toomake management easier.</span></span>
* <span data-ttu-id="2db4e-291">Poszczególnych jednostek biznesowych powinien mieć pojedynczy test/programowanie używane dla wszystkich aplikacji w sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="2db4e-291">Each business unit should have a single test/development VNet used for all applications.</span></span>
* <span data-ttu-id="2db4e-292">Każda aplikacja znajduje się w 2 różnych Azure centrach danych na kontynencie (Ameryce Północnej i Europie).</span><span class="sxs-lookup"><span data-stu-id="2db4e-292">Each application is hosted in 2 different Azure data centers per continent (North America and Europe).</span></span>
* <span data-ttu-id="2db4e-293">Każda aplikacja jest całkowicie odizolowane od siebie nawzajem.</span><span class="sxs-lookup"><span data-stu-id="2db4e-293">Each application is completely isolated from each other.</span></span>
* <span data-ttu-id="2db4e-294">Każda aplikacja jest dostępna przez klientów za pośrednictwem hello Internet przy użyciu protokołu HTTP.</span><span class="sxs-lookup"><span data-stu-id="2db4e-294">Each application can be accessed by customers over hello Internet using HTTP.</span></span>
* <span data-ttu-id="2db4e-295">Każdej aplikacji są dostępne w centrach danych lokalnych toohello połączonych użytkowników przy użyciu tunelu zaszyfrowane.</span><span class="sxs-lookup"><span data-stu-id="2db4e-295">Each application can be accessed by users connected toohello on-premises data centers by using an encrypted tunnel.</span></span>
* <span data-ttu-id="2db4e-296">Centra danych lokalnych tooon połączenia należy używać istniejącego urządzenia sieci VPN.</span><span class="sxs-lookup"><span data-stu-id="2db4e-296">Connection tooon-premises data centers should use existing VPN devices.</span></span>
* <span data-ttu-id="2db4e-297">Witaj firmy sieci grupa musi zawierać pełną kontrolę nad hello konfigurację sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="2db4e-297">hello company's networking group should have full control over hello VNet configuration.</span></span>
* <span data-ttu-id="2db4e-298">Deweloperzy w poszczególnych jednostek biznesowych powinien mieć tylko stanie toodeploy maszyn wirtualnych tooexisting podsieci.</span><span class="sxs-lookup"><span data-stu-id="2db4e-298">Developers in each business unit should only be able toodeploy VMs tooexisting subnets.</span></span>
* <span data-ttu-id="2db4e-299">Wszystkie aplikacje zostaną poddane migracji, ponieważ są one tooAzure (przyrostu i zmiany).</span><span class="sxs-lookup"><span data-stu-id="2db4e-299">All applications will be migrated as they are tooAzure (lift-and-shift).</span></span>
* <span data-ttu-id="2db4e-300">bazy danych Hello w każdej lokalizacji powinien replikować tooother Azure lokalizacje raz dziennie.</span><span class="sxs-lookup"><span data-stu-id="2db4e-300">hello databases in each location should replicate tooother Azure locations once a day.</span></span>
* <span data-ttu-id="2db4e-301">Każdej aplikacji należy używać 5 serwerów sieci web frontonu, 2 serwery aplikacji (w razie potrzeby) i 2 serwery bazy danych.</span><span class="sxs-lookup"><span data-stu-id="2db4e-301">Each application should use 5 front end web servers, 2 application servers (when necessary), and 2 database servers.</span></span>

### <a name="plan"></a><span data-ttu-id="2db4e-302">Planowanie</span><span class="sxs-lookup"><span data-stu-id="2db4e-302">Plan</span></span>
<span data-ttu-id="2db4e-303">Należy rozpocząć planowanie o udzielenie odpowiedzi na pytanie hello hello projektu [określenie wymagań w zakresie](#Define-requirements) sekcji, jak pokazano poniżej.</span><span class="sxs-lookup"><span data-stu-id="2db4e-303">You should start your design planning by answering hello question in hello [Define requirements](#Define-requirements) section as shown below.</span></span>

1. <span data-ttu-id="2db4e-304">Co Azure lokalizacje będziesz używać toohost sieci wirtualnych?</span><span class="sxs-lookup"><span data-stu-id="2db4e-304">What Azure locations will you use toohost VNets?</span></span>

    <span data-ttu-id="2db4e-305">2 lokalizacje w Ameryce Północnej i 2 lokalizacji w Europie.</span><span class="sxs-lookup"><span data-stu-id="2db4e-305">2 locations in North America, and 2 locations in Europe.</span></span> <span data-ttu-id="2db4e-306">Należy wybrać te, na podstawie fizycznej lokalizacji hello centrami danych lokalnych.</span><span class="sxs-lookup"><span data-stu-id="2db4e-306">You should pick those based on hello physical location of your existing on-premises data centers.</span></span> <span data-ttu-id="2db4e-307">W ten sposób połączenia z Twojej tooAzure lokalizacje fizyczne będą mieć lepszą opóźnienia.</span><span class="sxs-lookup"><span data-stu-id="2db4e-307">That way your connection from your physical locations tooAzure will have a better latency.</span></span>
2. <span data-ttu-id="2db4e-308">Potrzebujesz tooprovide komunikacji między tymi lokalizacjami Azure?</span><span class="sxs-lookup"><span data-stu-id="2db4e-308">Do you need tooprovide communication between these Azure locations?</span></span>

    <span data-ttu-id="2db4e-309">Tak.</span><span class="sxs-lookup"><span data-stu-id="2db4e-309">Yes.</span></span> <span data-ttu-id="2db4e-310">Ponieważ hello bazy danych musi być replikowane tooall lokalizacji.</span><span class="sxs-lookup"><span data-stu-id="2db4e-310">Since hello databases must be replicated tooall locations.</span></span>
3. <span data-ttu-id="2db4e-311">Potrzebujesz tooprovide komunikacji między VNet(s) Twojego Azure i center(s) danych sieci lokalnej?</span><span class="sxs-lookup"><span data-stu-id="2db4e-311">Do you need tooprovide communication between your Azure VNet(s) and your on-premises data center(s)?</span></span>

    <span data-ttu-id="2db4e-312">Tak.</span><span class="sxs-lookup"><span data-stu-id="2db4e-312">Yes.</span></span> <span data-ttu-id="2db4e-313">Ponieważ użytkowników połączonych centrów danych lokalnych toohello musi być aplikacji hello tooaccess mogli za pośrednictwem tunelu zaszyfrowane.</span><span class="sxs-lookup"><span data-stu-id="2db4e-313">Since users connected toohello on-premises data centers must be able tooaccess hello applications through an encrypted tunnel.</span></span>
4. <span data-ttu-id="2db4e-314">Jak wiele maszyn wirtualnych IaaS należy użyć dla rozwiązania?</span><span class="sxs-lookup"><span data-stu-id="2db4e-314">How many IaaS VMs do you need for your solution?</span></span>

    <span data-ttu-id="2db4e-315">200 maszyn wirtualnych IaaS.</span><span class="sxs-lookup"><span data-stu-id="2db4e-315">200 IaaS VMs.</span></span> <span data-ttu-id="2db4e-316">App1, App2 App3 i App4 wymagają 5 serwerów sieci web, każdy, 2 aplikacji na każdym serwerze i serwerami baz danych 2 każdego.</span><span class="sxs-lookup"><span data-stu-id="2db4e-316">App1, App2, App3, and App4 require 5 web servers each, 2 applications servers each, and 2 database servers each.</span></span> <span data-ttu-id="2db4e-317">To suma 9 maszyn wirtualnych IaaS na aplikację lub 36 maszyn wirtualnych IaaS.</span><span class="sxs-lookup"><span data-stu-id="2db4e-317">That's a total of 9 IaaS VMs per application, or 36 IaaS VMs.</span></span> <span data-ttu-id="2db4e-318">App5 i App6 wymagają 5 serwerów sieci web, jak i 2 serwery baz danych.</span><span class="sxs-lookup"><span data-stu-id="2db4e-318">App5 and App6 require 5 web servers and 2 database servers each.</span></span> <span data-ttu-id="2db4e-319">To suma 7 maszyn wirtualnych IaaS na aplikację lub 14 maszyn wirtualnych IaaS.</span><span class="sxs-lookup"><span data-stu-id="2db4e-319">That's a total of 7 IaaS VMs per application, or 14 IaaS VMs.</span></span> <span data-ttu-id="2db4e-320">W związku z tym należy 50 maszyn wirtualnych IaaS dla wszystkich aplikacji w każdym regionie Azure.</span><span class="sxs-lookup"><span data-stu-id="2db4e-320">Therefore, you need 50 IaaS VMs for all applications in each Azure region.</span></span> <span data-ttu-id="2db4e-321">Ponieważ potrzebujemy regionów toouse 4 będzie 200 maszyn wirtualnych IaaS.</span><span class="sxs-lookup"><span data-stu-id="2db4e-321">Since we need toouse 4 regions, there will be 200 IaaS VMs.</span></span>

    <span data-ttu-id="2db4e-322">Należy również tooprovide serwerów DNS w każdej sieci wirtualnej lub w nazwie tooresolve lokalnych centrów danych między maszyn wirtualnych IaaS platformy Azure i siecią lokalną.</span><span class="sxs-lookup"><span data-stu-id="2db4e-322">You will also need tooprovide DNS servers in each VNet, or in your on-premises data centers tooresolve name between your Azure IaaS VMs and your on-premises network.</span></span>
5. <span data-ttu-id="2db4e-323">Potrzebujesz tooisolate ruchu na podstawie grup maszyn wirtualnych (tj. fronton sieci web serwerów i serwerów bazy danych zaplecza)?</span><span class="sxs-lookup"><span data-stu-id="2db4e-323">Do you need tooisolate traffic based on groups of VMs (i.e. front end web servers and back end database servers)?</span></span>

    <span data-ttu-id="2db4e-324">Tak.</span><span class="sxs-lookup"><span data-stu-id="2db4e-324">Yes.</span></span> <span data-ttu-id="2db4e-325">Każda aplikacja powinna być całkowicie odizolowane od siebie, a także każdej warstwy aplikacji powinna zostać odizolowana.</span><span class="sxs-lookup"><span data-stu-id="2db4e-325">Each application should be completely isolated from each other, and each application layer should also be isolated.</span></span>
6. <span data-ttu-id="2db4e-326">Potrzebujesz toocontrol ruchu przy użyciu wirtualnych urządzeń?</span><span class="sxs-lookup"><span data-stu-id="2db4e-326">Do you need toocontrol traffic flow using virtual appliances?</span></span>

    <span data-ttu-id="2db4e-327">Nie.</span><span class="sxs-lookup"><span data-stu-id="2db4e-327">No.</span></span> <span data-ttu-id="2db4e-328">Urządzenie wirtualne może być używane tooprovide większą kontrolę nad przepływem ruchu, tym bardziej szczegółowe rejestrowanie płaszczyzna danych.</span><span class="sxs-lookup"><span data-stu-id="2db4e-328">Virtual appliances can be used tooprovide more control over traffic flow, including more detailed data plane logging.</span></span>
7. <span data-ttu-id="2db4e-329">Czy użytkownicy muszą różnych zestawów uprawnień toodifferent zasobów platformy Azure?</span><span class="sxs-lookup"><span data-stu-id="2db4e-329">Do users need different sets of permissions toodifferent Azure resources?</span></span>

    <span data-ttu-id="2db4e-330">Tak.</span><span class="sxs-lookup"><span data-stu-id="2db4e-330">Yes.</span></span> <span data-ttu-id="2db4e-331">Hello sieci zespół musi pełnej kontroli dla ustawień sieci wirtualnej hello, gdy deweloperzy powinni mieć tylko stanie toodeploy swoje podsieci istniejących toopre maszyn wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="2db4e-331">hello networking team needs full control on hello virtual networking settings, while developers should only be able toodeploy their VMs toopre-existing subnets.</span></span>

### <a name="design"></a><span data-ttu-id="2db4e-332">Projektowanie</span><span class="sxs-lookup"><span data-stu-id="2db4e-332">Design</span></span>
<span data-ttu-id="2db4e-333">Należy stosować projektowania hello określenie subskrypcji, sieci wirtualnych, podsieci i grup NSG.</span><span class="sxs-lookup"><span data-stu-id="2db4e-333">You should follow hello design specifying subscriptions, VNets, subnets, and NSGs.</span></span> <span data-ttu-id="2db4e-334">W tym miejscu omówimy grup NSG, ale powinien więcej informacji o [grup NSG](virtual-networks-nsg.md) przed zakończeniem projektu.</span><span class="sxs-lookup"><span data-stu-id="2db4e-334">We will discuss NSGs here, but you should learn more about [NSGs](virtual-networks-nsg.md) before finishing your design.</span></span>

<span data-ttu-id="2db4e-335">**Liczba subskrypcji i sieci wirtualnych**</span><span class="sxs-lookup"><span data-stu-id="2db4e-335">**Number of subscriptions and VNets**</span></span>

<span data-ttu-id="2db4e-336">Witaj następujące wymagania są powiązane toosubscriptions i sieci wirtualnych:</span><span class="sxs-lookup"><span data-stu-id="2db4e-336">hello following requirements are related toosubscriptions and VNets:</span></span>

* <span data-ttu-id="2db4e-337">Zużycie zasobów w innych jednostek biznesowych nie powinny mieć wpływ na poszczególnych jednostek biznesowych.</span><span class="sxs-lookup"><span data-stu-id="2db4e-337">Each business unit should not be affected by resource consumption of other business units.</span></span>
* <span data-ttu-id="2db4e-338">Należy zminimalizować ilość hello sieci wirtualnych i podsieci.</span><span class="sxs-lookup"><span data-stu-id="2db4e-338">You should minimize hello amount of VNets and subnets.</span></span>
* <span data-ttu-id="2db4e-339">Poszczególnych jednostek biznesowych powinien mieć pojedynczy test/programowanie używane dla wszystkich aplikacji w sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="2db4e-339">Each business unit should have a single test/development VNet used for all applications.</span></span>
* <span data-ttu-id="2db4e-340">Każda aplikacja znajduje się w 2 różnych Azure centrach danych na kontynencie (Ameryce Północnej i Europie).</span><span class="sxs-lookup"><span data-stu-id="2db4e-340">Each application is hosted in 2 different Azure data centers per continent (North America and Europe).</span></span>

<span data-ttu-id="2db4e-341">Na podstawie tych wymagań, musisz mieć subskrypcję dla poszczególnych jednostek biznesowych.</span><span class="sxs-lookup"><span data-stu-id="2db4e-341">Based on those requirements, you need a subscription for each business unit.</span></span> <span data-ttu-id="2db4e-342">W ten sposób zużycia zasobów przy użyciu jednostki biznesowe zostaną nie wchodzą w skład limity dla innych jednostek biznesowych.</span><span class="sxs-lookup"><span data-stu-id="2db4e-342">That way, consumption of resources from a business unit will not count towards limits for other business units.</span></span> <span data-ttu-id="2db4e-343">I od ma toominimize hello liczba sieci wirtualnych, należy rozważyć użycie hello **z jedną subskrypcją jednej jednostki biznesowej, dwie sieci wirtualne dla każdej grupy aplikacji** wzorca, jak pokazano poniżej.</span><span class="sxs-lookup"><span data-stu-id="2db4e-343">And since you want toominimize hello number of VNets, you should consider using hello **one subscription per business unit, two VNets per group of apps** pattern as seen below.</span></span>

![Jedną subskrypcją](./media/virtual-network-vnet-plan-design-arm/figure9.png)

<span data-ttu-id="2db4e-345">Należy również przestrzeni adresowej hello toospecify dla każdej sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="2db4e-345">You also need toospecify hello address space for each VNet.</span></span> <span data-ttu-id="2db4e-346">Ponieważ należy połączenie między hello lokalnych centrów danych i hello regiony platformy Azure, przestrzeni adresowej hello używane dla sieci wirtualnych platformy Azure nie mogą powodować konfliktów z sieci lokalnej hello i używane przez każdego sieci wirtualnej przestrzeni adresowej hello powinien nie mogą powodować konfliktów z innych istniejących sieci wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="2db4e-346">Since you need connectivity between hello on-premises data centers and hello Azure regions, hello address space used for Azure VNets cannot clash with hello on-premises network, and hello address space used by each VNet should not clash with other existing VNets.</span></span> <span data-ttu-id="2db4e-347">Przestrzenie adresowe hello w tabeli hello poniżej toosatisfy można użyć tych wymagań.</span><span class="sxs-lookup"><span data-stu-id="2db4e-347">You could use hello address spaces in hello table below toosatisfy these requirements.</span></span>  

| <span data-ttu-id="2db4e-348">**Subskrypcja**</span><span class="sxs-lookup"><span data-stu-id="2db4e-348">**Subscription**</span></span> | <span data-ttu-id="2db4e-349">**Sieć wirtualna**</span><span class="sxs-lookup"><span data-stu-id="2db4e-349">**VNet**</span></span> | <span data-ttu-id="2db4e-350">**Region platformy Azure**</span><span class="sxs-lookup"><span data-stu-id="2db4e-350">**Azure region**</span></span> | <span data-ttu-id="2db4e-351">**Przestrzeń adresowa**</span><span class="sxs-lookup"><span data-stu-id="2db4e-351">**Address space**</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="2db4e-352">BU1</span><span class="sxs-lookup"><span data-stu-id="2db4e-352">BU1</span></span> |<span data-ttu-id="2db4e-353">ProdBU1US1</span><span class="sxs-lookup"><span data-stu-id="2db4e-353">ProdBU1US1</span></span> |<span data-ttu-id="2db4e-354">Zachodnie stany USA</span><span class="sxs-lookup"><span data-stu-id="2db4e-354">West US</span></span> |<span data-ttu-id="2db4e-355">172.16.0.0/16</span><span class="sxs-lookup"><span data-stu-id="2db4e-355">172.16.0.0/16</span></span> |
| <span data-ttu-id="2db4e-356">BU1</span><span class="sxs-lookup"><span data-stu-id="2db4e-356">BU1</span></span> |<span data-ttu-id="2db4e-357">ProdBU1US2</span><span class="sxs-lookup"><span data-stu-id="2db4e-357">ProdBU1US2</span></span> |<span data-ttu-id="2db4e-358">Wschodnie stany USA</span><span class="sxs-lookup"><span data-stu-id="2db4e-358">East US</span></span> |<span data-ttu-id="2db4e-359">172.17.0.0/16</span><span class="sxs-lookup"><span data-stu-id="2db4e-359">172.17.0.0/16</span></span> |
| <span data-ttu-id="2db4e-360">BU1</span><span class="sxs-lookup"><span data-stu-id="2db4e-360">BU1</span></span> |<span data-ttu-id="2db4e-361">ProdBU1EU1</span><span class="sxs-lookup"><span data-stu-id="2db4e-361">ProdBU1EU1</span></span> |<span data-ttu-id="2db4e-362">Europa Północna</span><span class="sxs-lookup"><span data-stu-id="2db4e-362">North Europe</span></span> |<span data-ttu-id="2db4e-363">172.18.0.0/16</span><span class="sxs-lookup"><span data-stu-id="2db4e-363">172.18.0.0/16</span></span> |
| <span data-ttu-id="2db4e-364">BU1</span><span class="sxs-lookup"><span data-stu-id="2db4e-364">BU1</span></span> |<span data-ttu-id="2db4e-365">ProdBU1EU2</span><span class="sxs-lookup"><span data-stu-id="2db4e-365">ProdBU1EU2</span></span> |<span data-ttu-id="2db4e-366">Europa Zachodnia</span><span class="sxs-lookup"><span data-stu-id="2db4e-366">West Europe</span></span> |<span data-ttu-id="2db4e-367">172.19.0.0/16</span><span class="sxs-lookup"><span data-stu-id="2db4e-367">172.19.0.0/16</span></span> |
| <span data-ttu-id="2db4e-368">BU1</span><span class="sxs-lookup"><span data-stu-id="2db4e-368">BU1</span></span> |<span data-ttu-id="2db4e-369">TestDevBU1</span><span class="sxs-lookup"><span data-stu-id="2db4e-369">TestDevBU1</span></span> |<span data-ttu-id="2db4e-370">Zachodnie stany USA</span><span class="sxs-lookup"><span data-stu-id="2db4e-370">West US</span></span> |<span data-ttu-id="2db4e-371">172.20.0.0/16</span><span class="sxs-lookup"><span data-stu-id="2db4e-371">172.20.0.0/16</span></span> |
| <span data-ttu-id="2db4e-372">BU2</span><span class="sxs-lookup"><span data-stu-id="2db4e-372">BU2</span></span> |<span data-ttu-id="2db4e-373">TestDevBU2</span><span class="sxs-lookup"><span data-stu-id="2db4e-373">TestDevBU2</span></span> |<span data-ttu-id="2db4e-374">Zachodnie stany USA</span><span class="sxs-lookup"><span data-stu-id="2db4e-374">West US</span></span> |<span data-ttu-id="2db4e-375">172.21.0.0/16</span><span class="sxs-lookup"><span data-stu-id="2db4e-375">172.21.0.0/16</span></span> |
| <span data-ttu-id="2db4e-376">BU2</span><span class="sxs-lookup"><span data-stu-id="2db4e-376">BU2</span></span> |<span data-ttu-id="2db4e-377">ProdBU2US1</span><span class="sxs-lookup"><span data-stu-id="2db4e-377">ProdBU2US1</span></span> |<span data-ttu-id="2db4e-378">Zachodnie stany USA</span><span class="sxs-lookup"><span data-stu-id="2db4e-378">West US</span></span> |<span data-ttu-id="2db4e-379">172.22.0.0/16</span><span class="sxs-lookup"><span data-stu-id="2db4e-379">172.22.0.0/16</span></span> |
| <span data-ttu-id="2db4e-380">BU2</span><span class="sxs-lookup"><span data-stu-id="2db4e-380">BU2</span></span> |<span data-ttu-id="2db4e-381">ProdBU2US2</span><span class="sxs-lookup"><span data-stu-id="2db4e-381">ProdBU2US2</span></span> |<span data-ttu-id="2db4e-382">Wschodnie stany USA</span><span class="sxs-lookup"><span data-stu-id="2db4e-382">East US</span></span> |<span data-ttu-id="2db4e-383">172.23.0.0/16</span><span class="sxs-lookup"><span data-stu-id="2db4e-383">172.23.0.0/16</span></span> |
| <span data-ttu-id="2db4e-384">BU2</span><span class="sxs-lookup"><span data-stu-id="2db4e-384">BU2</span></span> |<span data-ttu-id="2db4e-385">ProdBU2EU1</span><span class="sxs-lookup"><span data-stu-id="2db4e-385">ProdBU2EU1</span></span> |<span data-ttu-id="2db4e-386">Europa Północna</span><span class="sxs-lookup"><span data-stu-id="2db4e-386">North Europe</span></span> |<span data-ttu-id="2db4e-387">172.24.0.0/16</span><span class="sxs-lookup"><span data-stu-id="2db4e-387">172.24.0.0/16</span></span> |
| <span data-ttu-id="2db4e-388">BU2</span><span class="sxs-lookup"><span data-stu-id="2db4e-388">BU2</span></span> |<span data-ttu-id="2db4e-389">ProdBU2EU2</span><span class="sxs-lookup"><span data-stu-id="2db4e-389">ProdBU2EU2</span></span> |<span data-ttu-id="2db4e-390">Europa Zachodnia</span><span class="sxs-lookup"><span data-stu-id="2db4e-390">West Europe</span></span> |<span data-ttu-id="2db4e-391">172.25.0.0/16</span><span class="sxs-lookup"><span data-stu-id="2db4e-391">172.25.0.0/16</span></span> |

<span data-ttu-id="2db4e-392">**Liczba podsieci i grupy NSG**</span><span class="sxs-lookup"><span data-stu-id="2db4e-392">**Number of subnets and NSGs**</span></span>

<span data-ttu-id="2db4e-393">Hello następujące wymagania są powiązane toosubnets i grup NSG:</span><span class="sxs-lookup"><span data-stu-id="2db4e-393">hello following requirements are related toosubnets and NSGs:</span></span>

* <span data-ttu-id="2db4e-394">Należy zminimalizować ilość hello sieci wirtualnych i podsieci.</span><span class="sxs-lookup"><span data-stu-id="2db4e-394">You should minimize hello amount of VNets and subnets.</span></span>
* <span data-ttu-id="2db4e-395">Każda aplikacja jest całkowicie odizolowane od siebie nawzajem.</span><span class="sxs-lookup"><span data-stu-id="2db4e-395">Each application is completely isolated from each other.</span></span>
* <span data-ttu-id="2db4e-396">Każda aplikacja jest dostępna przez klientów za pośrednictwem hello Internet przy użyciu protokołu HTTP.</span><span class="sxs-lookup"><span data-stu-id="2db4e-396">Each application can be accessed by customers over hello Internet using HTTP.</span></span>
* <span data-ttu-id="2db4e-397">Każdej aplikacji są dostępne w centrach danych lokalnych toohello połączonych użytkowników przy użyciu tunelu zaszyfrowane.</span><span class="sxs-lookup"><span data-stu-id="2db4e-397">Each application can be accessed by users connected toohello on-premises data centers by using an encrypted tunnel.</span></span>
* <span data-ttu-id="2db4e-398">Centra danych lokalnych tooon połączenia należy używać istniejącego urządzenia sieci VPN.</span><span class="sxs-lookup"><span data-stu-id="2db4e-398">Connection tooon-premises data centers should use existing VPN devices.</span></span>
* <span data-ttu-id="2db4e-399">bazy danych Hello w każdej lokalizacji powinien replikować tooother Azure lokalizacje raz dziennie.</span><span class="sxs-lookup"><span data-stu-id="2db4e-399">hello databases in each location should replicate tooother Azure locations once a day.</span></span>

<span data-ttu-id="2db4e-400">Na podstawie tych wymagań, można użyć jednej podsieci na warstwie aplikacji i grup NSG toofilter ruch na aplikację.</span><span class="sxs-lookup"><span data-stu-id="2db4e-400">Based on those requirements, you could use one subnet per application layer, and use NSGs toofilter traffic per application.</span></span> <span data-ttu-id="2db4e-401">Dzięki temu wystarczy tylko 3 podsieci w każdej sieci wirtualnej (frontonu, warstwy aplikacji i warstwą danych) i jeden NSG na aplikację w każdej podsieci.</span><span class="sxs-lookup"><span data-stu-id="2db4e-401">That way, you only have 3 subnets in each VNet (front end, application layer, and data layer) and one NSG per application per subnet.</span></span> <span data-ttu-id="2db4e-402">W takim przypadku należy rozważyć przy użyciu hello **jednej podsieci na warstwie aplikacji, grup NSG dla aplikacji** wzorzec projektowy.</span><span class="sxs-lookup"><span data-stu-id="2db4e-402">In this case, you should consider using hello **one subnet per application layer, NSGs per app** design pattern.</span></span> <span data-ttu-id="2db4e-403">Hello na poniższej ilustracji pokazano sposób użycia wzorca projektowego hello reprezentujący hello hello **ProdBU1US1** sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="2db4e-403">hello figure below shows hello use of hello design pattern representing hello **ProdBU1US1** VNet.</span></span>

![W jednej podsieci na warstwę, co grupa NSG dla aplikacji w warstwie](./media/virtual-network-vnet-plan-design-arm/figure11.png)

<span data-ttu-id="2db4e-405">Jednak należy również toocreate dodatkowe podsieci dla połączenia sieci VPN hello między hello sieci wirtualnych i sieci lokalnych centrów danych.</span><span class="sxs-lookup"><span data-stu-id="2db4e-405">However, you also need toocreate an extra subnet for hello VPN connectivity between hello VNets, and your on-premises data centers.</span></span> <span data-ttu-id="2db4e-406">I przestrzeń adresową hello toospecify są niezbędne dla każdej podsieci.</span><span class="sxs-lookup"><span data-stu-id="2db4e-406">And you need toospecify hello address space for each subnet.</span></span> <span data-ttu-id="2db4e-407">Witaj na poniższej ilustracji przedstawiono przykładowe rozwiązanie dla **ProdBU1US1** sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="2db4e-407">hello figure below shows a sample solution for **ProdBU1US1** VNet.</span></span> <span data-ttu-id="2db4e-408">W tym scenariuszu zostanie zreplikowany dla każdej sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="2db4e-408">You would replicate this scenario for each VNet.</span></span> <span data-ttu-id="2db4e-409">Każdy kolor reprezentuje inną aplikację.</span><span class="sxs-lookup"><span data-stu-id="2db4e-409">Each color represents a different application.</span></span>

![Przykład sieci wirtualnej](./media/virtual-network-vnet-plan-design-arm/figure10.png)

<span data-ttu-id="2db4e-411">**Kontrola dostępu**</span><span class="sxs-lookup"><span data-stu-id="2db4e-411">**Access Control**</span></span>

<span data-ttu-id="2db4e-412">Witaj poniżej przedstawiono wymagania dotyczące powiązanych tooaccess sterowania:</span><span class="sxs-lookup"><span data-stu-id="2db4e-412">hello following requirements are related tooaccess control:</span></span>

* <span data-ttu-id="2db4e-413">Witaj firmy sieci grupa musi zawierać pełną kontrolę nad hello konfigurację sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="2db4e-413">hello company's networking group should have full control over hello VNet configuration.</span></span>
* <span data-ttu-id="2db4e-414">Deweloperzy w poszczególnych jednostek biznesowych powinien mieć tylko stanie toodeploy maszyn wirtualnych tooexisting podsieci.</span><span class="sxs-lookup"><span data-stu-id="2db4e-414">Developers in each business unit should only be able toodeploy VMs tooexisting subnets.</span></span>

<span data-ttu-id="2db4e-415">Na podstawie tych wymagań, można dodać użytkowników z hello sieci toohello zespołu wbudowanych **współautora sieci** roli w każdej subskrypcji; i utworzyć niestandardową rolę dla hello deweloperzy aplikacji w każdej subskrypcji, podając ich praw tooadd maszyn wirtualnych tooexisting podsieci.</span><span class="sxs-lookup"><span data-stu-id="2db4e-415">Based on those requirements, you could add users from hello networking team toohello built-in **Network Contributor** role in each subscription; and create a custom role for hello application developers in each subscription giving them rights tooadd VMs tooexisting subnets.</span></span>

## <a name="next-steps"></a><span data-ttu-id="2db4e-416">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="2db4e-416">Next steps</span></span>
* <span data-ttu-id="2db4e-417">[Wdrażanie sieci wirtualnej](virtual-networks-create-vnet-arm-template-click.md) oparta na scenariuszu.</span><span class="sxs-lookup"><span data-stu-id="2db4e-417">[Deploy a virtual network](virtual-networks-create-vnet-arm-template-click.md) based on a scenario.</span></span>
* <span data-ttu-id="2db4e-418">Zrozumienie sposobu zbyt[równoważenia obciążenia](../load-balancer/load-balancer-overview.md) maszyny wirtualne IaaS i [Zarządzanie routingu w wielu regionach platformy Azure](../traffic-manager/traffic-manager-overview.md).</span><span class="sxs-lookup"><span data-stu-id="2db4e-418">Understand how too[load balance](../load-balancer/load-balancer-overview.md) IaaS VMs and [manage routing over multiple Azure regions](../traffic-manager/traffic-manager-overview.md).</span></span>
* <span data-ttu-id="2db4e-419">Dowiedz się więcej o [grup NSG i w jaki sposób tooplan i projektowania](virtual-networks-nsg.md) rozwiązania NSG.</span><span class="sxs-lookup"><span data-stu-id="2db4e-419">Learn more about [NSGs and how tooplan and design](virtual-networks-nsg.md) an NSG solution.</span></span>
* <span data-ttu-id="2db4e-420">Dowiedz się więcej o sieci [między lokalizacjami oraz opcji łączności sieci wirtualnej](../vpn-gateway/vpn-gateway-about-vpngateways.md#s2smulti).</span><span class="sxs-lookup"><span data-stu-id="2db4e-420">Learn more about your [cross-premises and VNet connectivity options](../vpn-gateway/vpn-gateway-about-vpngateways.md#s2smulti).</span></span>
