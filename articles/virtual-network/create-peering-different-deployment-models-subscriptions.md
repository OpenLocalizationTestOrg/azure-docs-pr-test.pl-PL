---
title: "aaaCreate równorzędna sieci wirtualnej platformy Azure — wdrożenia różnych modeli - różnych subskrypcji | Dokumentacja firmy Microsoft"
description: "Dowiedz się, jak toocreate sieci wirtualnej komunikacji równorzędnej między sieciami wirtualnymi została utworzona za pośrednictwem różne Azure modele wdrażania znajdujące się w różnych subskrypcji platformy Azure."
services: virtual-network
documentationcenter: 
author: jimdial
manager: timlt
editor: 
tags: azure-resource-manager
ms.assetid: 
ms.service: virtual-network
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 07/17/2017
ms.author: jdial;narayan;annahar
ms.openlocfilehash: 865bdabb5b87523ba943d7b5dcbdc2475b78bdb5
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="create-a-virtual-network-peering---different-deployment-models-and-subscriptions"></a><span data-ttu-id="7a511-103">Tworzenie sieci wirtualnej równorzędna — różne modele wdrażania i subskrypcji</span><span class="sxs-lookup"><span data-stu-id="7a511-103">Create a virtual network peering - different deployment models and subscriptions</span></span>

<span data-ttu-id="7a511-104">Z tego samouczka dowiesz się toocreate sieci wirtualnej komunikacji równorzędnej między sieciami wirtualnymi utworzone przez różne modele wdrażania.</span><span class="sxs-lookup"><span data-stu-id="7a511-104">In this tutorial, you learn toocreate a virtual network peering between virtual networks created through different deployment models.</span></span> <span data-ttu-id="7a511-105">sieci wirtualne Hello istnieje w ramach różnych subskrypcji.</span><span class="sxs-lookup"><span data-stu-id="7a511-105">hello virtual networks exist in different subscriptions.</span></span> <span data-ttu-id="7a511-106">Witaj komunikacji równorzędnej dwa zasoby umożliwia sieci wirtualnych w różnych sieciach wirtualnych toocommunicate ze sobą z tej samej przepustowości i opóźnień tak, jakby hello zasoby były hello tej samej sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="7a511-106">Peering two virtual networks enables resources in different virtual networks toocommunicate with each other with hello same bandwidth and latency as though hello resources were in hello same virtual network.</span></span> <span data-ttu-id="7a511-107">Dowiedz się więcej o [równorzędna sieci wirtualnej](virtual-network-peering-overview.md).</span><span class="sxs-lookup"><span data-stu-id="7a511-107">Learn more about [Virtual network peering](virtual-network-peering-overview.md).</span></span> 

<span data-ttu-id="7a511-108">Witaj toocreate kroki sieci wirtualnej komunikacji równorzędnej są różne, w zależności od tego, czy hello sieci wirtualne są w hello tych samych lub różnych subskrypcji i które [modelu wdrożenia usługi Azure](../azure-resource-manager/resource-manager-deployment-model.md?toc=%2fazure%2fvirtual-network%2ftoc.json) hello sieci wirtualne są tworzone za pomocą.</span><span class="sxs-lookup"><span data-stu-id="7a511-108">hello steps toocreate a virtual network peering are different, depending on whether hello virtual networks are in hello same, or different, subscriptions, and which [Azure deployment model](../azure-resource-manager/resource-manager-deployment-model.md?toc=%2fazure%2fvirtual-network%2ftoc.json) hello virtual networks are created through.</span></span> <span data-ttu-id="7a511-109">Dowiedz się, jak toocreate a wirtualnych sieci równorzędna w innych sytuacjach, klikając hello scenariusza z hello w poniższej tabeli:</span><span class="sxs-lookup"><span data-stu-id="7a511-109">Learn how toocreate a virtual network peering in other scenarios by clicking hello scenario from hello following table:</span></span>

|<span data-ttu-id="7a511-110">Model wdrażania platformy Azure</span><span class="sxs-lookup"><span data-stu-id="7a511-110">Azure deployment model</span></span>  | <span data-ttu-id="7a511-111">Subskrypcja platformy Azure</span><span class="sxs-lookup"><span data-stu-id="7a511-111">Azure subscription</span></span>  |
|--------- |---------|
|[<span data-ttu-id="7a511-112">Obie usługi Resource Manager</span><span class="sxs-lookup"><span data-stu-id="7a511-112">Both Resource Manager</span></span>](virtual-network-create-peering.md) |<span data-ttu-id="7a511-113">tym samym</span><span class="sxs-lookup"><span data-stu-id="7a511-113">Same</span></span>|
|[<span data-ttu-id="7a511-114">Obie usługi Resource Manager</span><span class="sxs-lookup"><span data-stu-id="7a511-114">Both Resource Manager</span></span>](create-peering-different-subscriptions.md) |<span data-ttu-id="7a511-115">Różne</span><span class="sxs-lookup"><span data-stu-id="7a511-115">Different</span></span>|
|[<span data-ttu-id="7a511-116">Jeden Resource Manager, co classic</span><span class="sxs-lookup"><span data-stu-id="7a511-116">One Resource Manager, one classic</span></span>](create-peering-different-deployment-models.md) |<span data-ttu-id="7a511-117">tym samym</span><span class="sxs-lookup"><span data-stu-id="7a511-117">Same</span></span>|

<span data-ttu-id="7a511-118">Nie można utworzyć sieci wirtualnej komunikacji równorzędnej między dwiema sieciami wirtualnej wdrożone za pośrednictwem hello klasycznego modelu wdrażania.</span><span class="sxs-lookup"><span data-stu-id="7a511-118">A virtual network peering cannot be created between two virtual networks deployed through hello classic deployment model.</span></span> <span data-ttu-id="7a511-119">Element równorzędny sieci wirtualnej można tworzyć tylko między dwiema sieciami wirtualnych, które istnieją w hello sam region platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="7a511-119">A virtual network peering can only be created between two virtual networks that exist in hello same Azure region.</span></span> <span data-ttu-id="7a511-120">Podczas tworzenia sieci wirtualnej komunikacji równorzędnej między sieciami wirtualnymi, które istnieją w ramach różnych subskrypcji, powitalne subskrypcje muszą być skojarzone toohello same usługi Azure Active Directory dzierżawy.</span><span class="sxs-lookup"><span data-stu-id="7a511-120">When creating a virtual network peering between virtual networks that exist in different subscriptions, hello subscriptions must both be associated toohello same Azure Active Directory tenant.</span></span> <span data-ttu-id="7a511-121">Jeśli nie masz już dzierżawę usługi Azure Active Directory, możesz szybko [utworzyć](../active-directory/develop/active-directory-howto-tenant.md?toc=%2fazure%2fvirtual-network%2ftoc.json#start-from-scratch).</span><span class="sxs-lookup"><span data-stu-id="7a511-121">If you don't already have an Azure Active Directory tenant, you can quickly [create one](../active-directory/develop/active-directory-howto-tenant.md?toc=%2fazure%2fvirtual-network%2ftoc.json#start-from-scratch).</span></span> <span data-ttu-id="7a511-122">Jeśli potrzebujesz tooconnect wirtualnych sieci zarówno utworzonych za pomocą hello klasycznego modelu wdrażania, który istnieje w różnych regionach platformy Azure lub który istnieje w subskrypcji skojarzone toodifferent dzierżaw usługi Azure Active Directory, możesz użyć Azure [Bramy sieci VPN](../vpn-gateway/vpn-gateway-howto-site-to-site-resource-manager-portal.md?toc=%2fazure%2fvirtual-network%2ftoc.json) tooconnect hello sieci wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="7a511-122">If you need tooconnect virtual networks that were both created through hello classic deployment model, or that exist in different Azure regions, or that exist in subscriptions associated toodifferent Azure Active Directory tenants, you can use an Azure [VPN Gateway](../vpn-gateway/vpn-gateway-howto-site-to-site-resource-manager-portal.md?toc=%2fazure%2fvirtual-network%2ftoc.json) tooconnect hello virtual networks.</span></span> 

> [!WARNING]
> <span data-ttu-id="7a511-123">Tworzenie sieci wirtualnej komunikacji równorzędnej między sieciami wirtualnymi w utworzonych za pomocą różnych wdrożenia usługi Azure modeli, które istnieją w ramach różnych subskrypcji jest obecnie w wersji zapoznawczej.</span><span class="sxs-lookup"><span data-stu-id="7a511-123">Creating a virtual network peering between virtual networks in created through different Azure deployment models that exist in different subscriptions is currently in preview.</span></span> <span data-ttu-id="7a511-124">Komunikacji równorzędnych sieci wirtualnych utworzonych w tym scenariuszu nie może mieć hello sam poziom dostępności i niezawodności, jak podczas tworzenia sieci wirtualnej komunikacji równorzędnej w scenariuszach ogólnie wersji dostępności.</span><span class="sxs-lookup"><span data-stu-id="7a511-124">Virtual network peerings created in this scenario may not have hello same level of availability and reliability as creating a virtual network peering in scenarios in general availability release.</span></span> <span data-ttu-id="7a511-125">Komunikacji równorzędnych sieci wirtualnych utworzonych w tym scenariuszu nie są obsługiwane, mogą mieć ograniczone możliwości i mogą nie być dostępne we wszystkich regionach platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="7a511-125">Virtual network peerings created in this scenario are not supported, may have constrained capabilities, and may not be available in all Azure regions.</span></span> <span data-ttu-id="7a511-126">Najbardziej aktualne powiadomień hello na dostępność i stan tej funkcji, sprawdź hello [aktualizuje sieci wirtualnej Azure](https://azure.microsoft.com/updates/?product=virtual-network) strony.</span><span class="sxs-lookup"><span data-stu-id="7a511-126">For hello most up-to-date notifications on availability and status of this feature, check hello [Azure Virtual Network updates](https://azure.microsoft.com/updates/?product=virtual-network) page.</span></span>

<span data-ttu-id="7a511-127">Można użyć hello [portalu Azure](#portal), hello Azure [interfejsu wiersza polecenia](#cli) (CLI) lub Azure [PowerShell](#powershell) toocreate sieci wirtualnej komunikacji równorzędnej.</span><span class="sxs-lookup"><span data-stu-id="7a511-127">You can use hello [Azure portal](#portal), hello Azure [command-line interface](#cli) (CLI), or Azure [PowerShell](#powershell) toocreate a virtual network peering.</span></span> <span data-ttu-id="7a511-128">Kliknij dowolny z hello poprzedniego narzędzia łącza toogo, bezpośrednio toohello kroki tworzenia sieci wirtualnej komunikacji równorzędnej narzędzie wyboru.</span><span class="sxs-lookup"><span data-stu-id="7a511-128">Click any of hello previous tool links toogo directly toohello steps for creating a virtual network peering using your tool of choice.</span></span>

## <span data-ttu-id="7a511-129"><a name="register"></a>Rejestr hello podglądu</span><span class="sxs-lookup"><span data-stu-id="7a511-129"><a name="register"></a>Register for hello preview</span></span>

<span data-ttu-id="7a511-130">tooregister hello podglądu, pełną hello kroki, które należy wykonać dla obu subskrypcji, które zawierają hello sieci wirtualnej mają toopeer.</span><span class="sxs-lookup"><span data-stu-id="7a511-130">tooregister for hello preview, complete hello steps that follow for both subscriptions that contain hello virtual networks you want toopeer.</span></span> <span data-ttu-id="7a511-131">Witaj tylko tooregister można użyć wersji zapoznawczej hello jest narzędzie programu PowerShell.</span><span class="sxs-lookup"><span data-stu-id="7a511-131">hello only tool you can use tooregister for hello preview is PowerShell.</span></span>

1. <span data-ttu-id="7a511-132">Zainstaluj najnowszą wersję hello PowerShell hello [AzureRm](https://www.powershellgallery.com/packages/AzureRM/) modułu.</span><span class="sxs-lookup"><span data-stu-id="7a511-132">Install hello latest version of hello PowerShell [AzureRm](https://www.powershellgallery.com/packages/AzureRM/) module.</span></span> <span data-ttu-id="7a511-133">Jeśli jesteś tooAzure nowego środowiska PowerShell, zobacz [Omówienie programu Azure PowerShell](/powershell/azure/overview?toc=%2fazure%2fvirtual-network%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="7a511-133">If you're new tooAzure PowerShell, see [Azure PowerShell overview](/powershell/azure/overview?toc=%2fazure%2fvirtual-network%2ftoc.json).</span></span>
2. <span data-ttu-id="7a511-134">Uruchom sesję programu PowerShell i zaloguj się przy użyciu hello tooAzure `login-azurermaccount` polecenia.</span><span class="sxs-lookup"><span data-stu-id="7a511-134">Start a PowerShell session and log in tooAzure using hello `login-azurermaccount` command.</span></span>
3. <span data-ttu-id="7a511-135">Rejestracja subskrypcji dla podglądu hello wprowadzając hello następującego polecenia:</span><span class="sxs-lookup"><span data-stu-id="7a511-135">Register your subscription for hello preview by entering hello following commands:</span></span>

    ```powershell
    Register-AzureRmProviderFeature `
      -FeatureName AllowClassicCrossSubscriptionPeering `
      -ProviderNamespace Microsoft.Network
    
    Register-AzureRmResourceProvider `
      -ProviderNamespace Microsoft.Network
    ```
    <span data-ttu-id="7a511-136">Nie wykonać kroki hello w sekcjach portalu, wiersza polecenia platformy Azure lub programu PowerShell hello tego artykułu do hello **RegistrationState** output, pojawi się po wprowadzeniu hello następujące polecenia **zarejestrowanej** dla obu subskrypcji:</span><span class="sxs-lookup"><span data-stu-id="7a511-136">Do not complete hello steps in hello Portal, Azure CLI, or PowerShell sections of this article until hello **RegistrationState** output you receive after entering hello following command is **Registered** for both subscriptions:</span></span>

    ```powershell    
    Get-AzureRmProviderFeature `
      -FeatureName AllowClassicCrossSubscriptionPeering `
      -ProviderNamespace Microsoft.Network
    ```

## <span data-ttu-id="7a511-137"><a name="portal"></a>Utwórz równorzędna - portalu Azure</span><span class="sxs-lookup"><span data-stu-id="7a511-137"><a name="portal"></a>Create peering - Azure portal</span></span>

<span data-ttu-id="7a511-138">W tym samouczku korzysta z różnych kont dla każdej subskrypcji.</span><span class="sxs-lookup"><span data-stu-id="7a511-138">This tutorial uses different accounts for each subscription.</span></span> <span data-ttu-id="7a511-139">Jeśli używasz konta mającego uprawnienia tooboth subskrypcji, można użyć hello takie same konta dla wszystkich kroków, pomiń kroki hello rejestrowania poza hello portalu i pominąć kroki hello przypisywania sieci wirtualnych toohello uprawnienia innego użytkownika.</span><span class="sxs-lookup"><span data-stu-id="7a511-139">If you're using an account that has permissions tooboth subscriptions, you can use hello same account for all steps, skip hello steps for logging out of hello portal, and skip hello steps for assigning another user permissions toohello virtual networks.</span></span> <span data-ttu-id="7a511-140">Przed wykonaniem dowolnej hello następujące kroki, należy zarejestrować hello podglądu.</span><span class="sxs-lookup"><span data-stu-id="7a511-140">Before completing any of hello following steps, you must register for hello preview.</span></span> <span data-ttu-id="7a511-141">tooregister, pełną hello etapami hello [zarejestrować w wersji zapoznawczej hello](#register) sekcji tego artykułu.</span><span class="sxs-lookup"><span data-stu-id="7a511-141">tooregister, complete hello steps in hello [Register for hello preview](#register) section of this article.</span></span> <span data-ttu-id="7a511-142">Nie wykonuj pozostałych czynności, dopóki obie subskrypcje są zarejestrowane dla podglądu hello hello.</span><span class="sxs-lookup"><span data-stu-id="7a511-142">Do not continue with hello remaining steps until both subscriptions are registered for hello preview.</span></span>
 
1. <span data-ttu-id="7a511-143">Zaloguj się za toohello [portalu Azure](https://portal.azure.com) jako Użytkownik_a.</span><span class="sxs-lookup"><span data-stu-id="7a511-143">Log in toohello [Azure portal](https://portal.azure.com) as UserA.</span></span> <span data-ttu-id="7a511-144">Zaloguj się przy użyciu konta Hello musi mieć hello toocreate niezbędne uprawnienia sieci wirtualnej komunikacji równorzędnej.</span><span class="sxs-lookup"><span data-stu-id="7a511-144">hello account you log in with must have hello necessary permissions toocreate a virtual network peering.</span></span> <span data-ttu-id="7a511-145">Zobacz hello [uprawnienia](#permissions) sekcji tego artykułu, aby uzyskać szczegółowe informacje.</span><span class="sxs-lookup"><span data-stu-id="7a511-145">See hello [Permissions](#permissions) section of this article for details.</span></span>
2. <span data-ttu-id="7a511-146">Kliknij przycisk **+ nowy**, kliknij przycisk **sieci**, następnie kliknij przycisk **sieci wirtualnej**.</span><span class="sxs-lookup"><span data-stu-id="7a511-146">Click **+ New**, click **Networking**, then click **Virtual network**.</span></span>
3. <span data-ttu-id="7a511-147">W hello **Utwórz sieć wirtualną** bloku, wprowadź, lub wybierz wartości dla hello następujące ustawienia, a następnie kliknij **Utwórz**:</span><span class="sxs-lookup"><span data-stu-id="7a511-147">In hello **Create virtual network** blade, enter, or select values for hello following settings, then click **Create**:</span></span>
    - <span data-ttu-id="7a511-148">**Nazwa**: *myVnetA*</span><span class="sxs-lookup"><span data-stu-id="7a511-148">**Name**: *myVnetA*</span></span>
    - <span data-ttu-id="7a511-149">**Przestrzeń adresowa**: *10.0.0.0/16*</span><span class="sxs-lookup"><span data-stu-id="7a511-149">**Address space**: *10.0.0.0/16*</span></span>
    - <span data-ttu-id="7a511-150">**Nazwa podsieci**: *domyślne*</span><span class="sxs-lookup"><span data-stu-id="7a511-150">**Subnet name**: *default*</span></span>
    - <span data-ttu-id="7a511-151">**Zakres adresów podsieci**: *10.0.0.0/24*</span><span class="sxs-lookup"><span data-stu-id="7a511-151">**Subnet address range**: *10.0.0.0/24*</span></span>
    - <span data-ttu-id="7a511-152">**Subskrypcja**: Wybierz subskrypcję A.</span><span class="sxs-lookup"><span data-stu-id="7a511-152">**Subscription**: Select subscription A.</span></span>
    - <span data-ttu-id="7a511-153">**Grupa zasobów**: Wybierz **Utwórz nowy** , a następnie wprowadź *myResourceGroupA*</span><span class="sxs-lookup"><span data-stu-id="7a511-153">**Resource group**: Select **Create new** and enter *myResourceGroupA*</span></span>
    - <span data-ttu-id="7a511-154">**Lokalizacja**: *wschodnie stany USA*</span><span class="sxs-lookup"><span data-stu-id="7a511-154">**Location**: *East US*</span></span>
4. <span data-ttu-id="7a511-155">W hello **wyszukiwania zasobów** pole u góry hello hello portalu, typ *myVnetA*.</span><span class="sxs-lookup"><span data-stu-id="7a511-155">In hello **Search resources** box at hello top of hello portal, type *myVnetA*.</span></span> <span data-ttu-id="7a511-156">Kliknij przycisk **myVnetA** po wyświetleniu w wynikach wyszukiwania hello.</span><span class="sxs-lookup"><span data-stu-id="7a511-156">Click **myVnetA** when it appears in hello search results.</span></span> <span data-ttu-id="7a511-157">Zostanie wyświetlony blok hello **myVnetA** sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="7a511-157">A blade appears for hello **myVnetA** virtual network.</span></span>
5. <span data-ttu-id="7a511-158">W hello **myVnetA** bloku, który jest wyświetlany, kliknij przycisk **(IAM) kontroli dostępu** z hello pionowy listy opcji na powitania po lewej stronie powitania bloku.</span><span class="sxs-lookup"><span data-stu-id="7a511-158">In hello **myVnetA** blade that appears, click **Access control (IAM)** from hello vertical list of options on hello left side of hello blade.</span></span>
6. <span data-ttu-id="7a511-159">W hello **myVnetA — kontrola dostępu (IAM)** bloku, który jest wyświetlany, kliknij przycisk **+ Dodaj**.</span><span class="sxs-lookup"><span data-stu-id="7a511-159">In hello **myVnetA - Access control (IAM)** blade that appears, click **+ Add**.</span></span>
7. <span data-ttu-id="7a511-160">W hello **dodać uprawnienia** wyświetlonym bloku, wybierz **współautora sieci** w hello **roli** pole.</span><span class="sxs-lookup"><span data-stu-id="7a511-160">In hello **Add permissions** blade that appears, select **Network contributor** in hello **Role** box.</span></span>
8. <span data-ttu-id="7a511-161">W hello **wybierz** wybierz Użytkownik_b lub wpisz toosearch adres e-mail firmy Użytkownik_b.</span><span class="sxs-lookup"><span data-stu-id="7a511-161">In hello **Select** box, select UserB, or type UserB's email address toosearch for it.</span></span> <span data-ttu-id="7a511-162">Witaj listę użytkowników, wyświetlany jest z hello tej samej dzierżawy usługi Azure Active Directory, co sieć wirtualna hello konfigurujesz hello komunikacji równorzędnej dla.</span><span class="sxs-lookup"><span data-stu-id="7a511-162">hello list of users shown is from hello same Azure Active Directory tenant as hello virtual network you're setting up hello peering for.</span></span> <span data-ttu-id="7a511-163">Wygląda na to, na liście powitania kliknij przycisk Użytkownik_b.</span><span class="sxs-lookup"><span data-stu-id="7a511-163">Click UserB when it appears in hello list.</span></span>
9. <span data-ttu-id="7a511-164">Kliknij pozycję **Zapisz**.</span><span class="sxs-lookup"><span data-stu-id="7a511-164">Click **Save**.</span></span>
10. <span data-ttu-id="7a511-165">Wyloguj się z portalu hello jako Użytkownik_a, a następnie zaloguj się jako Użytkownik_b.</span><span class="sxs-lookup"><span data-stu-id="7a511-165">Log out of hello portal as UserA, then log in as UserB.</span></span>
11. <span data-ttu-id="7a511-166">Kliknij przycisk **+ nowy**, typ *sieci wirtualnej* w hello **hello wyszukiwania portalu Marketplace** polu, a następnie kliknij przycisk **sieci wirtualnej** w wynikach wyszukiwania hello .</span><span class="sxs-lookup"><span data-stu-id="7a511-166">Click **+ New**, type *Virtual network* in hello **Search hello Marketplace** box, then click **Virtual network** in hello search results.</span></span>
12. <span data-ttu-id="7a511-167">W hello **sieci wirtualnej** wyświetlonym bloku, wybierz **klasycznego** w hello **wybierz model wdrożenia** polu, a następnie kliknij przycisk **Utwórz**.</span><span class="sxs-lookup"><span data-stu-id="7a511-167">In hello **Virtual Network** blade that appears, select **Classic** in hello **Select a deployment model** box, then click **Create**.</span></span>
13.   <span data-ttu-id="7a511-168">Witaj Utwórz sieć wirtualna (klasyczna) pojawi się okno wprowadź hello następujące wartości:</span><span class="sxs-lookup"><span data-stu-id="7a511-168">In hello Create virtual network (classic) box that appears, enter hello following values:</span></span>

    - <span data-ttu-id="7a511-169">**Nazwa**: *myVnetB*</span><span class="sxs-lookup"><span data-stu-id="7a511-169">**Name**: *myVnetB*</span></span>
    - <span data-ttu-id="7a511-170">**Przestrzeń adresowa**: *10.1.0.0/16*</span><span class="sxs-lookup"><span data-stu-id="7a511-170">**Address space**: *10.1.0.0/16*</span></span>
    - <span data-ttu-id="7a511-171">**Nazwa podsieci**: *domyślne*</span><span class="sxs-lookup"><span data-stu-id="7a511-171">**Subnet name**: *default*</span></span>
    - <span data-ttu-id="7a511-172">**Zakres adresów podsieci**: *10.1.0.0/24*</span><span class="sxs-lookup"><span data-stu-id="7a511-172">**Subnet address range**: *10.1.0.0/24*</span></span>
    - <span data-ttu-id="7a511-173">**Subskrypcja**: Wybierz subskrypcję B.</span><span class="sxs-lookup"><span data-stu-id="7a511-173">**Subscription**: Select subscription B.</span></span>
    - <span data-ttu-id="7a511-174">**Grupa zasobów**: Wybierz **Utwórz nowy** , a następnie wprowadź *myResourceGroupB*</span><span class="sxs-lookup"><span data-stu-id="7a511-174">**Resource group**: Select **Create new** and enter *myResourceGroupB*</span></span>
    - <span data-ttu-id="7a511-175">**Lokalizacja**: *wschodnie stany USA*</span><span class="sxs-lookup"><span data-stu-id="7a511-175">**Location**: *East US*</span></span>

14. <span data-ttu-id="7a511-176">W hello **wyszukiwania zasobów** pole u góry hello hello portalu, typ *myVnetB*.</span><span class="sxs-lookup"><span data-stu-id="7a511-176">In hello **Search resources** box at hello top of hello portal, type *myVnetB*.</span></span> <span data-ttu-id="7a511-177">Kliknij przycisk **myVnetB** po wyświetleniu w wynikach wyszukiwania hello.</span><span class="sxs-lookup"><span data-stu-id="7a511-177">Click **myVnetB** when it appears in hello search results.</span></span> <span data-ttu-id="7a511-178">Zostanie wyświetlony blok hello **myVnetB** sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="7a511-178">A blade appears for hello **myVnetB** virtual network.</span></span>
15. <span data-ttu-id="7a511-179">W hello **myVnetB** bloku, który jest wyświetlany, kliknij przycisk **właściwości** z hello pionowy listy opcji na powitania po lewej stronie powitania bloku.</span><span class="sxs-lookup"><span data-stu-id="7a511-179">In hello **myVnetB** blade that appears, click **Properties** from hello vertical list of options on hello left side of hello blade.</span></span> <span data-ttu-id="7a511-180">Kopiuj hello **identyfikator ZASOBU**, która jest używana w kolejnym kroku.</span><span class="sxs-lookup"><span data-stu-id="7a511-180">Copy hello **RESOURCE ID**, which is used in a later step.</span></span> <span data-ttu-id="7a511-181">Identyfikator zasobu Hello jest toohello podobnie poniższy przykład: /subscriptions/<Susbscription ID>/resourceGroups/myResoureGroupB/providers/Microsoft.ClassicNetwork/virtualNetworks/myVnetB</span><span class="sxs-lookup"><span data-stu-id="7a511-181">hello resource ID is similar toohello following example: /subscriptions/<Susbscription ID>/resourceGroups/myResoureGroupB/providers/Microsoft.ClassicNetwork/virtualNetworks/myVnetB</span></span>
16. <span data-ttu-id="7a511-182">Wykonaj kroki 5 – 9 dla myVnetB wprowadzania **Użytkownik_a** w kroku 8.</span><span class="sxs-lookup"><span data-stu-id="7a511-182">Complete steps 5-9 for myVnetB, entering **UserA** in step 8.</span></span>
17. <span data-ttu-id="7a511-183">Wyloguj się z portalu hello jako Użytkownik_b i zaloguj się jako Użytkownik_a.</span><span class="sxs-lookup"><span data-stu-id="7a511-183">Log out of hello portal as UserB and log in as UserA.</span></span>
18. <span data-ttu-id="7a511-184">W hello **wyszukiwania zasobów** pole u góry hello hello portalu, typ *myVnetA*.</span><span class="sxs-lookup"><span data-stu-id="7a511-184">In hello **Search resources** box at hello top of hello portal, type *myVnetA*.</span></span> <span data-ttu-id="7a511-185">Kliknij przycisk **myVnetA** po wyświetleniu w wynikach wyszukiwania hello.</span><span class="sxs-lookup"><span data-stu-id="7a511-185">Click **myVnetA** when it appears in hello search results.</span></span> <span data-ttu-id="7a511-186">Zostanie wyświetlony blok hello **myVnet** sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="7a511-186">A blade appears for hello **myVnet** virtual network.</span></span>
19. <span data-ttu-id="7a511-187">Kliknij przycisk **myVnetA**.</span><span class="sxs-lookup"><span data-stu-id="7a511-187">Click **myVnetA**.</span></span>
20. <span data-ttu-id="7a511-188">W hello **myVnetA** bloku, który jest wyświetlany, kliknij przycisk **komunikacji równorzędnych** z hello pionowy listy opcji na powitania po lewej stronie powitania bloku.</span><span class="sxs-lookup"><span data-stu-id="7a511-188">In hello **myVnetA** blade that appears, click **Peerings** from hello vertical list of options on hello left side of hello blade.</span></span>
21. <span data-ttu-id="7a511-189">W hello **myVnetA - komunikacji równorzędnych** bloku, które wystąpiły, kliknij przycisk **+ Dodaj**</span><span class="sxs-lookup"><span data-stu-id="7a511-189">In hello **myVnetA - Peerings** blade that appeared, click **+ Add**</span></span>
22. <span data-ttu-id="7a511-190">W hello **równorzędna Dodaj** bloku, zostanie wyświetlone, wprowadź, lub wybierz hello następujące opcje, a następnie kliknij **OK**:</span><span class="sxs-lookup"><span data-stu-id="7a511-190">In hello **Add peering** blade that appears, enter, or select hello following options, then click **OK**:</span></span>
     - <span data-ttu-id="7a511-191">**Nazwa**: *myVnetAToMyVnetB*</span><span class="sxs-lookup"><span data-stu-id="7a511-191">**Name**: *myVnetAToMyVnetB*</span></span>
     - <span data-ttu-id="7a511-192">**Model wdrażania sieci wirtualnej**: Wybierz **klasycznego**.</span><span class="sxs-lookup"><span data-stu-id="7a511-192">**Virtual network deployment model**:  Select **Classic**.</span></span>
     - <span data-ttu-id="7a511-193">**Sprawdzić mój identyfikator zasobu**: Zaznacz to pole wyboru.</span><span class="sxs-lookup"><span data-stu-id="7a511-193">**I know my resource ID**: Check this box.</span></span>
     - <span data-ttu-id="7a511-194">**Identyfikator zasobu**: Wprowadź identyfikator zasobu hello myVnetB z kroku 15.</span><span class="sxs-lookup"><span data-stu-id="7a511-194">**Resource ID**: Enter hello resource ID of myVnetB from step 15.</span></span>
     - <span data-ttu-id="7a511-195">**Zezwalaj na dostęp do sieci wirtualnej:** upewnij się, że **włączone** jest zaznaczone.</span><span class="sxs-lookup"><span data-stu-id="7a511-195">**Allow virtual network access:** Ensure that **Enabled** is selected.</span></span>
    <span data-ttu-id="7a511-196">W tym samouczku są używane żadne inne ustawienia.</span><span class="sxs-lookup"><span data-stu-id="7a511-196">No other settings are used in this tutorial.</span></span> <span data-ttu-id="7a511-197">Przeczytaj toolearn dotyczące wszystkich ustawień komunikacji równorzędnej, [Zarządzanie komunikacji równorzędnych sieci wirtualnych](virtual-network-manage-peering.md#create-a-peering).</span><span class="sxs-lookup"><span data-stu-id="7a511-197">toolearn about all peering settings, read [Manage virtual network peerings](virtual-network-manage-peering.md#create-a-peering).</span></span>
23. <span data-ttu-id="7a511-198">Po kliknięciu przycisku **OK** w poprzednim kroku hello hello **równorzędna Dodaj** bloku zamyka i zobacz hello **myVnetA - komunikacji równorzędnych** ponownie blok.</span><span class="sxs-lookup"><span data-stu-id="7a511-198">After clicking **OK** in hello previous step, hello **Add peering** blade closes and you see hello **myVnetA - Peerings** blade again.</span></span> <span data-ttu-id="7a511-199">Po kilku sekundach hello równorzędna utworzonego pojawia się w bloku hello.</span><span class="sxs-lookup"><span data-stu-id="7a511-199">After a few seconds, hello peering you created appears in hello blade.</span></span> <span data-ttu-id="7a511-200">**Połączone** ma na liście hello **RÓWNORZĘDNA stan** kolumny dla hello **myVnetAToMyVnetB** równorzędna zostanie utworzony.</span><span class="sxs-lookup"><span data-stu-id="7a511-200">**Connected** is listed in hello **PEERING STATUS** column for hello **myVnetAToMyVnetB** peering you created.</span></span> <span data-ttu-id="7a511-201">Witaj równorzędna zostanie ustanowione.</span><span class="sxs-lookup"><span data-stu-id="7a511-201">hello peering is now established.</span></span> <span data-ttu-id="7a511-202">Nie jest brak konieczności toopeer hello sieć wirtualna (klasyczna) toohello wirtualnego sieć (Resource Manager).</span><span class="sxs-lookup"><span data-stu-id="7a511-202">There is no need toopeer hello virtual network (classic) toohello virtual network (Resource Manager).</span></span>

    <span data-ttu-id="7a511-203">Dowolnych zasobów platformy Azure, utworzone w każdej sieci wirtualnej są teraz możliwe toocommunicate ze sobą za pośrednictwem ich adresy IP.</span><span class="sxs-lookup"><span data-stu-id="7a511-203">Any Azure resources you create in either virtual network are now able toocommunicate with each other through their IP addresses.</span></span> <span data-ttu-id="7a511-204">Jeśli używasz domyślnego rozwiązania Azure nazwy dla sieci wirtualnych hello, hello zasoby w sieciach wirtualnych hello nie są możliwe tooresolve nazw w sieciach wirtualnych hello.</span><span class="sxs-lookup"><span data-stu-id="7a511-204">If you're using default Azure name resolution for hello virtual networks, hello resources in hello virtual networks are not able tooresolve names across hello virtual networks.</span></span> <span data-ttu-id="7a511-205">Jeśli chcesz nazwy tooresolve między sieciami wirtualnymi w komunikacji równorzędnej, należy utworzyć serwer DNS.</span><span class="sxs-lookup"><span data-stu-id="7a511-205">If you want tooresolve names across virtual networks in a peering, you must create your own DNS server.</span></span> <span data-ttu-id="7a511-206">Dowiedz się, jak tooset się [rozpoznawanie nazw przy użyciu serwera DNS](virtual-networks-name-resolution-for-vms-and-role-instances.md#name-resolution-using-your-own-dns-server).</span><span class="sxs-lookup"><span data-stu-id="7a511-206">Learn how tooset up [Name resolution using your own DNS server](virtual-networks-name-resolution-for-vms-and-role-instances.md#name-resolution-using-your-own-dns-server).</span></span>

24. <span data-ttu-id="7a511-207">**Opcjonalne**: Chociaż tworzenia maszyn wirtualnych nie została uwzględniona w tym samouczku, można utworzyć maszynę wirtualną w każdej sieci wirtualnej i połączyć z jednej maszyny wirtualnej toohello innych, toovalidate łączności.</span><span class="sxs-lookup"><span data-stu-id="7a511-207">**Optional**: Though creating virtual machines is not covered in this tutorial, you can create a virtual machine in each virtual network and connect from one virtual machine toohello other, toovalidate connectivity.</span></span>
25. <span data-ttu-id="7a511-208">**Opcjonalne**: toodelete hello zasobów, które możesz utworzyć w tym samouczku, pełną hello etapami hello [zasoby zostaną usunięte](#delete-portal) sekcji tego artykułu.</span><span class="sxs-lookup"><span data-stu-id="7a511-208">**Optional**: toodelete hello resources that you create in this tutorial, complete hello steps in hello [Delete resources](#delete-portal) section of this article.</span></span>

## <span data-ttu-id="7a511-209"><a name="cli"></a>Utwórz równorzędna - wiersza polecenia platformy Azure</span><span class="sxs-lookup"><span data-stu-id="7a511-209"><a name="cli"></a>Create peering - Azure CLI</span></span>

<span data-ttu-id="7a511-210">W tym samouczku korzysta z różnych kont dla każdej subskrypcji.</span><span class="sxs-lookup"><span data-stu-id="7a511-210">This tutorial uses different accounts for each subscription.</span></span> <span data-ttu-id="7a511-211">Jeśli używasz konta mającego uprawnienia tooboth subskrypcji, można użyć hello same konta dla wszystkich kroków, pomiń kroki hello logowania z platformy Azure i usunąć wiersze hello skryptu, utworzonych przypisań ról użytkownika.</span><span class="sxs-lookup"><span data-stu-id="7a511-211">If you're using an account that has permissions tooboth subscriptions, you can use hello same account for all steps, skip hello steps for logging out of Azure, and remove hello lines of script that create user role assignments.</span></span> <span data-ttu-id="7a511-212">Zastąp UserA@azure.com i UserB@azure.com we wszystkich hello następujące skrypty z nazw użytkowników hello używasz Użytkownik_a i Użytkownik_b.</span><span class="sxs-lookup"><span data-stu-id="7a511-212">Replace UserA@azure.com and UserB@azure.com in all of hello following scripts with hello usernames you're using for UserA and UserB.</span></span> 

<span data-ttu-id="7a511-213">Przed wykonaniem dowolnej hello następujące kroki, należy zarejestrować hello podglądu.</span><span class="sxs-lookup"><span data-stu-id="7a511-213">Before completing any of hello following steps, you must register for hello preview.</span></span> <span data-ttu-id="7a511-214">tooregister, pełną hello etapami hello [zarejestrować w wersji zapoznawczej hello](#register) sekcji tego artykułu.</span><span class="sxs-lookup"><span data-stu-id="7a511-214">tooregister, complete hello steps in hello [Register for hello preview](#register) section of this article.</span></span> <span data-ttu-id="7a511-215">Nie wykonuj pozostałych czynności, dopóki obie subskrypcje są zarejestrowane dla podglądu hello hello.</span><span class="sxs-lookup"><span data-stu-id="7a511-215">Do not continue with hello remaining steps until both subscriptions are registered for hello preview.</span></span>

1. <span data-ttu-id="7a511-216">[Zainstaluj](../cli-install-nodejs.md?toc=%2fazure%2fvirtual-network%2ftoc.json) hello Azure CLI 1.0 toocreate hello sieć wirtualna (klasyczna).</span><span class="sxs-lookup"><span data-stu-id="7a511-216">[Install](../cli-install-nodejs.md?toc=%2fazure%2fvirtual-network%2ftoc.json) hello Azure CLI 1.0 toocreate hello virtual network (classic).</span></span>
2. <span data-ttu-id="7a511-217">Otwórz sesję interfejsu wiersza polecenia, a następnie zaloguj tooAzure jako Użytkownik_b przy użyciu hello `azure login` polecenia.</span><span class="sxs-lookup"><span data-stu-id="7a511-217">Open a CLI session and log in tooAzure as UserB using hello `azure login` command.</span></span>
3. <span data-ttu-id="7a511-218">Uruchom hello interfejsu wiersza polecenia w trybie zarządzania usługami, wprowadzając hello `azure config mode asm` polecenia.</span><span class="sxs-lookup"><span data-stu-id="7a511-218">Run hello CLI in Service Management mode by entering hello `azure config mode asm` command.</span></span>
4. <span data-ttu-id="7a511-219">Wprowadź hello następujące polecenia toocreate hello sieć wirtualna (klasyczna):</span><span class="sxs-lookup"><span data-stu-id="7a511-219">Enter hello following command toocreate hello virtual network (classic):</span></span>
 
    ```azurecli
    azure network vnet create --vnet myVnetB --address-space 10.1.0.0 --cidr 16 --location "East US"
    ```
5. <span data-ttu-id="7a511-220">Hello pozostałe kroki należy wykonać przy użyciu powłoki bash z hello Azure CLI 2.0.4 lub nowszym [zainstalowane](/cli/azure/install-azure-cli?toc=%2fazure%2fvirtual-network%2ftoc.json), lub za pomocą hello powłoki chmury Azure.</span><span class="sxs-lookup"><span data-stu-id="7a511-220">hello remaining steps must be completed using a bash shell with hello Azure CLI 2.0.4 or later [installed](/cli/azure/install-azure-cli?toc=%2fazure%2fvirtual-network%2ftoc.json), or by using hello Azure Cloud Shell.</span></span> <span data-ttu-id="7a511-221">Hello powłoki chmury Azure jest bezpłatna powłoki Bash, który można uruchomić bezpośrednio z poziomu hello portalu Azure.</span><span class="sxs-lookup"><span data-stu-id="7a511-221">hello Azure Cloud Shell is a free Bash shell that you can run directly within hello Azure portal.</span></span> <span data-ttu-id="7a511-222">Ma ona hello Azure CLI wstępnie zainstalowane i skonfigurowane toouse z Twoim kontem.</span><span class="sxs-lookup"><span data-stu-id="7a511-222">It has hello Azure CLI preinstalled and configured toouse with your account.</span></span> <span data-ttu-id="7a511-223">Kliknij przycisk hello **wypróbuj** przycisku na powitania skryptów poniżej, która otwiera powłokę chmury, który loguje tooyour konto platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="7a511-223">Click hello **Try it** button in hello scripts that follow, which opens a Cloud Shell that logs you in tooyour Azure account.</span></span> <span data-ttu-id="7a511-224">Opcje uruchamiania bash skrypty interfejsu wiersza polecenia na komputerze klienckim z systemem Windows, temacie [działający w systemie Windows hello Azure CLI](../virtual-machines/windows/cli-options.md?toc=%2fazure%2fvirtual-network%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="7a511-224">For options on running bash CLI scripts on a Windows client, see [Running hello Azure CLI in Windows](../virtual-machines/windows/cli-options.md?toc=%2fazure%2fvirtual-network%2ftoc.json).</span></span> 
6. <span data-ttu-id="7a511-225">Skopiuj powitania po Edytor tekstu tooa skryptu na komputerze.</span><span class="sxs-lookup"><span data-stu-id="7a511-225">Copy hello following script tooa text editor on your PC.</span></span> <span data-ttu-id="7a511-226">Zastąp `<SubscriptionB-Id>` z identyfikatorem subskrypcji</span><span class="sxs-lookup"><span data-stu-id="7a511-226">Replace `<SubscriptionB-Id>` with your subscription ID.</span></span> <span data-ttu-id="7a511-227">Jeśli nie znasz identyfikator subskrypcji, wprowadź hello `az account show` polecenia.</span><span class="sxs-lookup"><span data-stu-id="7a511-227">If you don't know your subscription Id, enter hello `az account show` command.</span></span> <span data-ttu-id="7a511-228">Witaj wartość **identyfikator** w hello jest identyfikator subskrypcji Skopiuj skrypt hello zmodyfikowane, wklej go w sesji tooyour 2.0 interfejsu wiersza polecenia i naciśnij klawisz `Enter`.</span><span class="sxs-lookup"><span data-stu-id="7a511-228">hello value for **id** in hello output is your subscription Id. Copy hello modified script, paste it in tooyour CLI 2.0 session, and then press `Enter`.</span></span> 

    ```azurecli-interactive
    az role assignment create \
      --assignee UserA@azure.com \
      --role "Classic Network Contributor" \
      --scope /subscriptions/<SubscriptionB-Id>/resourceGroups/Default-Networking/providers/Microsoft.ClassicNetwork/virtualNetworks/myVnetB
    ```

    <span data-ttu-id="7a511-229">Podczas tworzenia sieci wirtualnej hello (klasyczne) w kroku 4, Azure utworzone sieci wirtualnej hello w hello *sieci domyślne* grupy zasobów.</span><span class="sxs-lookup"><span data-stu-id="7a511-229">When you created hello virtual network (classic) in step 4, Azure created hello virtual network in hello *Default-Networking* resource group.</span></span>
7. <span data-ttu-id="7a511-230">Zaloguj się Użytkownik_b poza Azure i zaloguj się jako Użytkownik_a hello 2.0 interfejsu wiersza polecenia.</span><span class="sxs-lookup"><span data-stu-id="7a511-230">Log UserB out of Azure and log in as UserA in hello CLI 2.0.</span></span>
8. <span data-ttu-id="7a511-231">Utwórz grupę zasobów i sieć wirtualną (Resource Manager).</span><span class="sxs-lookup"><span data-stu-id="7a511-231">Create a resource group and a virtual network (Resource Manager).</span></span> <span data-ttu-id="7a511-232">Następujące hello kopii skryptu, wklej go w tooyour sesji interfejsu wiersza polecenia i naciśnij klawisz `Enter`.</span><span class="sxs-lookup"><span data-stu-id="7a511-232">Copy hello following script, paste it in tooyour CLI session, and then press `Enter`.</span></span> 

    ```azurecli-interactive
    #!/bin/bash

    # Variables for common values used throughout hello script.
    rgName="myResourceGroupA"
    location="eastus"

    # Create a resource group.
    az group create \
      --name $rgName \
      --location $location

    # Create virtual network A (Resource Manager).
    az network vnet create \
      --name myVnetA \
      --resource-group $rgName \
      --location $location \
      --address-prefix 10.0.0.0/16

    # Get hello id for myVnetA.
    vNetAId=$(az network vnet show \
      --resource-group $rgName \
      --name myVnetA \
      --query id --out tsv)

    # Assign UserB permissions toomyVnetA.
    az role assignment create \
      --assignee UserB@azure.com \
      --role "Network Contributor" \
      --scope $vNetAId
    ```

9. <span data-ttu-id="7a511-233">Tworzenie sieci wirtualnej komunikacji równorzędnej między Witaj dwie sieci wirtualne utworzone za pośrednictwem hello różne modele wdrażania.</span><span class="sxs-lookup"><span data-stu-id="7a511-233">Create a virtual network peering between hello two virtual networks created through hello different deployment models.</span></span> <span data-ttu-id="7a511-234">Skopiuj powitania po Edytor tekstu tooa skryptu na komputerze.</span><span class="sxs-lookup"><span data-stu-id="7a511-234">Copy hello following script tooa text editor on your PC.</span></span> <span data-ttu-id="7a511-235">Zastąp `<SubscriptionB-id>` z Twojego identyfikatora subskrypcji. Jeśli nie znasz identyfikator subskrypcji, wprowadź hello `az account show` polecenia.</span><span class="sxs-lookup"><span data-stu-id="7a511-235">Replace `<SubscriptionB-id>` with your subscription Id. If you don't know your subscription Id, enter hello `az account show` command.</span></span> <span data-ttu-id="7a511-236">Witaj wartość **identyfikator** w hello jest identyfikator subskrypcji Azure utworzona sieć wirtualna hello (klasyczne) został utworzony w kroku 4 w grupie zasobów o nazwie *sieci domyślne*.</span><span class="sxs-lookup"><span data-stu-id="7a511-236">hello value for **id** in hello output is your subscription Id. Azure created hello virtual network (classic) you created in step 4 in a resource group named *Default-Networking*.</span></span> <span data-ttu-id="7a511-237">Wklej hello zmodyfikować skrypt w sesji interfejsu wiersza polecenia, a następnie naciśnij klawisz `Enter`.</span><span class="sxs-lookup"><span data-stu-id="7a511-237">Paste hello modified script in your CLI session, and then press `Enter`.</span></span>

    ```azurecli-interactive
    # Peer VNet1 tooVNet2.
    az network vnet peering create \
      --name myVnetAToMyVnetB \
      --resource-group $rgName \
      --vnet-name myVnetA \
      --remote-vnet-id  /subscriptions/<SubscriptionB-id>/resourceGroups/Default-Networking/providers/Microsoft.ClassicNetwork/virtualNetworks/myVnetB \
      --allow-vnet-access
    ```

10. <span data-ttu-id="7a511-238">Po wykonaniu skryptu hello, przejrzyj hello komunikacji równorzędnej dla sieci wirtualnej hello (Resource Manager).</span><span class="sxs-lookup"><span data-stu-id="7a511-238">After hello script executes, review hello peering for hello virtual network (Resource Manager).</span></span> <span data-ttu-id="7a511-239">Skopiuj hello następującego skryptu, a następnie wklej go w sesji interfejsu wiersza polecenia:</span><span class="sxs-lookup"><span data-stu-id="7a511-239">Copy hello following script, and then paste it in your CLI session:</span></span>

    ```azurecli-interactive
    az network vnet peering list \
      --resource-group $rgName \
      --vnet-name myVnetA \
      --output table
    ```
    <span data-ttu-id="7a511-240">przedstawia dane wyjściowe Hello **połączony** w hello **PeeringState** kolumny.</span><span class="sxs-lookup"><span data-stu-id="7a511-240">hello output shows **Connected** in hello **PeeringState** column.</span></span>

    <span data-ttu-id="7a511-241">Dowolnych zasobów platformy Azure, utworzone w każdej sieci wirtualnej są teraz możliwe toocommunicate ze sobą za pośrednictwem ich adresy IP.</span><span class="sxs-lookup"><span data-stu-id="7a511-241">Any Azure resources you create in either virtual network are now able toocommunicate with each other through their IP addresses.</span></span> <span data-ttu-id="7a511-242">Jeśli używasz domyślnego rozwiązania Azure nazwy dla sieci wirtualnych hello, hello zasoby w sieciach wirtualnych hello nie są możliwe tooresolve nazw w sieciach wirtualnych hello.</span><span class="sxs-lookup"><span data-stu-id="7a511-242">If you're using default Azure name resolution for hello virtual networks, hello resources in hello virtual networks are not able tooresolve names across hello virtual networks.</span></span> <span data-ttu-id="7a511-243">Jeśli chcesz nazwy tooresolve między sieciami wirtualnymi w komunikacji równorzędnej, należy utworzyć serwer DNS.</span><span class="sxs-lookup"><span data-stu-id="7a511-243">If you want tooresolve names across virtual networks in a peering, you must create your own DNS server.</span></span> <span data-ttu-id="7a511-244">Dowiedz się, jak tooset się [rozpoznawanie nazw przy użyciu serwera DNS](virtual-networks-name-resolution-for-vms-and-role-instances.md#name-resolution-using-your-own-dns-server).</span><span class="sxs-lookup"><span data-stu-id="7a511-244">Learn how tooset up [Name resolution using your own DNS server](virtual-networks-name-resolution-for-vms-and-role-instances.md#name-resolution-using-your-own-dns-server).</span></span>

11. <span data-ttu-id="7a511-245">**Opcjonalne**: Chociaż tworzenia maszyn wirtualnych nie została uwzględniona w tym samouczku, można utworzyć maszynę wirtualną w każdej sieci wirtualnej i połączyć z jednej maszyny wirtualnej toohello innych, toovalidate łączności.</span><span class="sxs-lookup"><span data-stu-id="7a511-245">**Optional**: Though creating virtual machines is not covered in this tutorial, you can create a virtual machine in each virtual network and connect from one virtual machine toohello other, toovalidate connectivity.</span></span>
12. <span data-ttu-id="7a511-246">**Opcjonalne**: toodelete hello zasobów, które możesz utworzyć w tym samouczku, pełną hello czynnościach w ramach [zasoby zostaną usunięte](#delete-cli) w tym artykule.</span><span class="sxs-lookup"><span data-stu-id="7a511-246">**Optional**: toodelete hello resources that you create in this tutorial, complete hello steps in [Delete resources](#delete-cli) in this article.</span></span>

## <span data-ttu-id="7a511-247"><a name="powershell"></a>Utwórz równorzędna — PowerShell</span><span class="sxs-lookup"><span data-stu-id="7a511-247"><a name="powershell"></a>Create peering - PowerShell</span></span>

<span data-ttu-id="7a511-248">W tym samouczku korzysta z różnych kont dla każdej subskrypcji.</span><span class="sxs-lookup"><span data-stu-id="7a511-248">This tutorial uses different accounts for each subscription.</span></span> <span data-ttu-id="7a511-249">Jeśli używasz konta mającego uprawnienia tooboth subskrypcji, można użyć hello same konta dla wszystkich kroków, pomiń kroki hello logowania z platformy Azure i usunąć wiersze hello skryptu, utworzonych przypisań ról użytkownika.</span><span class="sxs-lookup"><span data-stu-id="7a511-249">If you're using an account that has permissions tooboth subscriptions, you can use hello same account for all steps, skip hello steps for logging out of Azure, and remove hello lines of script that create user role assignments.</span></span> <span data-ttu-id="7a511-250">Zastąp UserA@azure.com i UserB@azure.com we wszystkich hello następujące skrypty z nazw użytkowników hello używasz Użytkownik_a i Użytkownik_b.</span><span class="sxs-lookup"><span data-stu-id="7a511-250">Replace UserA@azure.com and UserB@azure.com in all of hello following scripts with hello usernames you're using for UserA and UserB.</span></span> 

<span data-ttu-id="7a511-251">Przed wykonaniem dowolnej hello następujące kroki, należy zarejestrować hello podglądu.</span><span class="sxs-lookup"><span data-stu-id="7a511-251">Before completing any of hello following steps, you must register for hello preview.</span></span> <span data-ttu-id="7a511-252">tooregister, pełną hello etapami hello [zarejestrować w wersji zapoznawczej hello](#register) sekcji tego artykułu.</span><span class="sxs-lookup"><span data-stu-id="7a511-252">tooregister, complete hello steps in hello [Register for hello preview](#register) section of this article.</span></span> <span data-ttu-id="7a511-253">Nie wykonuj pozostałych czynności, dopóki obie subskrypcje są zarejestrowane dla podglądu hello hello.</span><span class="sxs-lookup"><span data-stu-id="7a511-253">Do not continue with hello remaining steps until both subscriptions are registered for hello preview.</span></span>

1. <span data-ttu-id="7a511-254">Zainstaluj najnowszą wersję hello PowerShell hello [Azure](https://www.powershellgallery.com/packages/Azure) i [AzureRm](https://www.powershellgallery.com/packages/AzureRM/) modułów.</span><span class="sxs-lookup"><span data-stu-id="7a511-254">Install hello latest version of hello PowerShell [Azure](https://www.powershellgallery.com/packages/Azure) and [AzureRm](https://www.powershellgallery.com/packages/AzureRM/) modules.</span></span> <span data-ttu-id="7a511-255">Jeśli jesteś tooAzure nowego środowiska PowerShell, zobacz [Omówienie programu Azure PowerShell](/powershell/azure/overview?toc=%2fazure%2fvirtual-network%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="7a511-255">If you're new tooAzure PowerShell, see [Azure PowerShell overview](/powershell/azure/overview?toc=%2fazure%2fvirtual-network%2ftoc.json).</span></span>
2. <span data-ttu-id="7a511-256">Uruchom sesję programu PowerShell.</span><span class="sxs-lookup"><span data-stu-id="7a511-256">Start a PowerShell session.</span></span>
3. <span data-ttu-id="7a511-257">W programie PowerShell, zaloguj się w ramach subskrypcji w tooUserB jako Użytkownik_b wprowadzając hello `Add-AzureAccount` polecenia.</span><span class="sxs-lookup"><span data-stu-id="7a511-257">In PowerShell, log in tooUserB's subscription as UserB by entering hello `Add-AzureAccount` command.</span></span>
4. <span data-ttu-id="7a511-258">toocreate sieci wirtualnej (wdrożenia klasyczne) przy użyciu programu PowerShell, należy utworzyć nową, lub zmodyfikować istniejący plik konfiguracji sieci.</span><span class="sxs-lookup"><span data-stu-id="7a511-258">toocreate a virtual network (classic) with PowerShell, you must create a new, or modify an existing, network configuration file.</span></span> <span data-ttu-id="7a511-259">Dowiedz się, jak za[eksportu, aktualizować i importowanie plików konfiguracyjnych sieci](virtual-networks-using-network-configuration-file.md).</span><span class="sxs-lookup"><span data-stu-id="7a511-259">Learn how too[export, update, and import network configuration files](virtual-networks-using-network-configuration-file.md).</span></span> <span data-ttu-id="7a511-260">Witaj pliku powinny zawierać następujące hello **VirtualNetworkSite** elementu dla sieci wirtualnej hello używane w tym samouczku:</span><span class="sxs-lookup"><span data-stu-id="7a511-260">hello file should include hello following **VirtualNetworkSite** element for hello virtual network used in this tutorial:</span></span>

    ```xml
    <VirtualNetworkSite name="myVnetB" Location="East US">
      <AddressSpace>
        <AddressPrefix>10.1.0.0/16</AddressPrefix>
      </AddressSpace>
      <Subnets>
        <Subnet name="default">
          <AddressPrefix>10.1.0.0/24</AddressPrefix>
        </Subnet>
      </Subnets>
    </VirtualNetworkSite>
    ```

    > [!WARNING]
    > <span data-ttu-id="7a511-261">Importowanie pliku konfiguracji sieci zmienione może spowodować zmiany tooexisting sieciami wirtualnymi (klasyczne) w ramach subskrypcji.</span><span class="sxs-lookup"><span data-stu-id="7a511-261">Importing a changed network configuration file can cause changes tooexisting virtual networks (classic) in your subscription.</span></span> <span data-ttu-id="7a511-262">Upewnij się, tylko dodać hello poprzedniej sieci wirtualnej i nie zmienić lub usunąć istniejące sieci wirtualnych z subskrypcji.</span><span class="sxs-lookup"><span data-stu-id="7a511-262">Ensure you only add hello previous virtual network and that you don't change or remove any existing virtual networks from your subscription.</span></span> 

5. <span data-ttu-id="7a511-263">Zaloguj się na tooUserB subskrypcji jako polecenia Menedżera zasobów toouse Użytkownik_b wprowadzając hello `login-azurermaccount` polecenia.</span><span class="sxs-lookup"><span data-stu-id="7a511-263">Log in tooUserB's subscription as UserB toouse Resource Manager commands by entering hello `login-azurermaccount` command.</span></span>
6. <span data-ttu-id="7a511-264">Przypisz Użytkownik_a uprawnienia toovirtual sieci kopii B. hello następujący skrypt tooa edytora tekstu, na komputerze i Zastąp `<SubscriptionB-id>` o identyfikatorze hello subskrypcji B. Jeśli nie znasz identyfikator subskrypcji hello, wprowadź hello `Get-AzureRmSubscription` tooview polecenia go.</span><span class="sxs-lookup"><span data-stu-id="7a511-264">Assign UserA permissions toovirtual network B. Copy hello following script tooa text editor on your PC and replace `<SubscriptionB-id>` with hello ID of subscription B. If you don't know hello subscription Id, enter hello `Get-AzureRmSubscription` command tooview it.</span></span> <span data-ttu-id="7a511-265">Witaj wartość **identyfikator** w hello zwrócone dane wyjściowe są Twojego identyfikatora subskrypcji.</span><span class="sxs-lookup"><span data-stu-id="7a511-265">hello value for **Id** in hello returned output is your subscription ID.</span></span> <span data-ttu-id="7a511-266">Azure utworzona sieć wirtualna hello (klasyczne) został utworzony w kroku 4 w grupie zasobów o nazwie *sieci domyślne*.</span><span class="sxs-lookup"><span data-stu-id="7a511-266">Azure created hello virtual network (classic) you created in step 4 in a resource group named *Default-Networking*.</span></span> <span data-ttu-id="7a511-267">tooexecute hello skryptu, hello kopiowania zmodyfikować skrypt, wklej go w tooPowerShell, a następnie naciśnij `Enter`.</span><span class="sxs-lookup"><span data-stu-id="7a511-267">tooexecute hello script, copy hello modified script, paste it in tooPowerShell, and then press `Enter`.</span></span>
    
    ```powershell 
    New-AzureRmRoleAssignment `
      -SignInName UserA@azure.com `
      -RoleDefinitionName "Classic Network Contributor" `
      -Scope /subscriptions/<SubscriptionB-id>/resourceGroups/Default-Networking/providers/Microsoft.ClassicNetwork/virtualNetworks/myVnetB
    ```

7. <span data-ttu-id="7a511-268">Wyloguj się Azure jako Użytkownik_b i logowania w ramach subskrypcji w tooUserA jako Użytkownik_a wprowadzając hello `login-azurermaccount` polecenia.</span><span class="sxs-lookup"><span data-stu-id="7a511-268">Log out of Azure as UserB and log in tooUserA's subscription as UserA by entering hello `login-azurermaccount` command.</span></span> <span data-ttu-id="7a511-269">Zaloguj się przy użyciu konta Hello musi mieć hello toocreate niezbędne uprawnienia sieci wirtualnej komunikacji równorzędnej.</span><span class="sxs-lookup"><span data-stu-id="7a511-269">hello account you log in with must have hello necessary permissions toocreate a virtual network peering.</span></span> <span data-ttu-id="7a511-270">Zobacz hello [uprawnienia](#permissions) sekcji tego artykułu, aby uzyskać szczegółowe informacje.</span><span class="sxs-lookup"><span data-stu-id="7a511-270">See hello [Permissions](#permissions) section of this article for details.</span></span>
8. <span data-ttu-id="7a511-271">Utwórz sieć wirtualną hello (Resource Manager) przez skopiowanie hello następującego skryptu, wklejając je w tooPowerShell, a następnie naciskając klawisz `Enter`:</span><span class="sxs-lookup"><span data-stu-id="7a511-271">Create hello virtual network (Resource Manager) by copying hello following script, pasting it in tooPowerShell, and then pressing `Enter`:</span></span>

    ```powershell
    # Variables for common values
      $rgName='MyResourceGroupA'
      $location='eastus'

    # Create a resource group.
    New-AzureRmResourceGroup `
      -Name $rgName `
      -Location $location

    # Create virtual network A.
    $vnetA = New-AzureRmVirtualNetwork `
      -ResourceGroupName $rgName `
      -Name 'myVnetA' `
      -AddressPrefix '10.0.0.0/16' `
      -Location $location
    ```

9. <span data-ttu-id="7a511-272">Przypisz toomyVnetA uprawnienia Użytkownik_b.</span><span class="sxs-lookup"><span data-stu-id="7a511-272">Assign UserB permissions toomyVnetA.</span></span> <span data-ttu-id="7a511-273">Kopiuj hello następujący skrypt tooa edytora tekstu, na komputerze i Zastąp `<SubscriptionA-Id>` o identyfikatorze hello subskrypcji A. Jeśli nie znasz identyfikator subskrypcji hello, wprowadź hello `Get-AzureRmSubscription` tooview polecenia go.</span><span class="sxs-lookup"><span data-stu-id="7a511-273">Copy hello following script tooa text editor on your PC and replace `<SubscriptionA-Id>` with hello ID of subscription A. If you don't know hello subscription Id, enter hello `Get-AzureRmSubscription` command tooview it.</span></span> <span data-ttu-id="7a511-274">Witaj wartość **identyfikator** w hello zwrócone dane wyjściowe są Twojego identyfikatora subskrypcji.</span><span class="sxs-lookup"><span data-stu-id="7a511-274">hello value for **Id** in hello returned output is your subscription ID.</span></span> <span data-ttu-id="7a511-275">Wklej hello zmodyfikowanej wersji hello skryptu w programie PowerShell, a następnie naciśnij klawisz `Enter` tooexecute go.</span><span class="sxs-lookup"><span data-stu-id="7a511-275">Paste hello modified version of hello script in PowerShell, and then press `Enter` tooexecute it.</span></span>

    ```powershell
    New-AzureRmRoleAssignment `
      -SignInName UserB@azure.com `
      -RoleDefinitionName "Network Contributor" `
      -Scope /subscriptions/<SubscriptionA-Id>/resourceGroups/myResourceGroupA/providers/Microsoft.Network/VirtualNetworks/myVnetA
    ```

10. <span data-ttu-id="7a511-276">Kopia hello następujący skrypt tooa edytora tekstu, na komputerze i Zastąp `<SubscriptionB-id>` o identyfikatorze hello subskrypcji B. toopeer myVnetA toomyVNetB, skopiuj skrypt hello zmodyfikowane, wklej go w tooPowerShell, a następnie naciśnij `Enter`.</span><span class="sxs-lookup"><span data-stu-id="7a511-276">Copy hello following script tooa text editor on your PC, and replace `<SubscriptionB-id>` with hello ID of subscription B. toopeer myVnetA toomyVNetB, copy hello modified script, paste it in tooPowerShell, and then press `Enter`.</span></span>

    ```powershell
    Add-AzureRmVirtualNetworkPeering `
      -Name 'myVnetAToMyVnetB' `
      -VirtualNetwork $vnetA `
      -RemoteVirtualNetworkId /subscriptions/<SubscriptionB-id>/resourceGroups/Default-Networking/providers/Microsoft.ClassicNetwork/virtualNetworks/myVnetB
    ```

11. <span data-ttu-id="7a511-277">Wyświetlić stan komunikacji równorzędnej hello myVnetA przez skopiowanie hello następującego skryptu, wklejając je w programie PowerShell i naciskając klawisz `Enter`.</span><span class="sxs-lookup"><span data-stu-id="7a511-277">View hello peering state of myVnetA by copying hello following script, pasting it into PowerShell, and pressing `Enter`.</span></span>

    ```powershell
    Get-AzureRmVirtualNetworkPeering `
      -ResourceGroupName $rgName `
      -VirtualNetworkName myVnetA `
      | Format-Table VirtualNetworkName, PeeringState
    ```

    <span data-ttu-id="7a511-278">Stan Hello jest **połączony**.</span><span class="sxs-lookup"><span data-stu-id="7a511-278">hello state is **Connected**.</span></span> <span data-ttu-id="7a511-279">Zmienia zbyt**połączony** po instalacji hello toomyVnetA komunikacji równorzędnej z myVnetB.</span><span class="sxs-lookup"><span data-stu-id="7a511-279">It changes too**Connected** once you setup hello peering toomyVnetA from myVnetB.</span></span>

    <span data-ttu-id="7a511-280">Dowolnych zasobów platformy Azure, utworzone w każdej sieci wirtualnej są teraz możliwe toocommunicate ze sobą za pośrednictwem ich adresy IP.</span><span class="sxs-lookup"><span data-stu-id="7a511-280">Any Azure resources you create in either virtual network are now able toocommunicate with each other through their IP addresses.</span></span> <span data-ttu-id="7a511-281">Jeśli używasz domyślnego rozwiązania Azure nazwy dla sieci wirtualnych hello, hello zasoby w sieciach wirtualnych hello nie są możliwe tooresolve nazw w sieciach wirtualnych hello.</span><span class="sxs-lookup"><span data-stu-id="7a511-281">If you're using default Azure name resolution for hello virtual networks, hello resources in hello virtual networks are not able tooresolve names across hello virtual networks.</span></span> <span data-ttu-id="7a511-282">Jeśli chcesz nazwy tooresolve między sieciami wirtualnymi w komunikacji równorzędnej, należy utworzyć serwer DNS.</span><span class="sxs-lookup"><span data-stu-id="7a511-282">If you want tooresolve names across virtual networks in a peering, you must create your own DNS server.</span></span> <span data-ttu-id="7a511-283">Dowiedz się, jak tooset się [rozpoznawanie nazw przy użyciu serwera DNS](virtual-networks-name-resolution-for-vms-and-role-instances.md#name-resolution-using-your-own-dns-server).</span><span class="sxs-lookup"><span data-stu-id="7a511-283">Learn how tooset up [Name resolution using your own DNS server](virtual-networks-name-resolution-for-vms-and-role-instances.md#name-resolution-using-your-own-dns-server).</span></span>

12. <span data-ttu-id="7a511-284">**Opcjonalne**: Chociaż tworzenia maszyn wirtualnych nie została uwzględniona w tym samouczku, można utworzyć maszynę wirtualną w każdej sieci wirtualnej i połączyć z jednej maszyny wirtualnej toohello innych, toovalidate łączności.</span><span class="sxs-lookup"><span data-stu-id="7a511-284">**Optional**: Though creating virtual machines is not covered in this tutorial, you can create a virtual machine in each virtual network and connect from one virtual machine toohello other, toovalidate connectivity.</span></span>
13. <span data-ttu-id="7a511-285">**Opcjonalne**: toodelete hello zasobów, które możesz utworzyć w tym samouczku, pełną hello czynnościach w ramach [zasoby zostaną usunięte](#delete-powershell) w tym artykule.</span><span class="sxs-lookup"><span data-stu-id="7a511-285">**Optional**: toodelete hello resources that you create in this tutorial, complete hello steps in [Delete resources](#delete-powershell) in this article.</span></span>

## <span data-ttu-id="7a511-286"><a name="permissions"></a>Uprawnienia</span><span class="sxs-lookup"><span data-stu-id="7a511-286"><a name="permissions"></a>Permissions</span></span>

<span data-ttu-id="7a511-287">konta Hello się, że używasz toocreate sieci wirtualnej komunikacji równorzędnej musi mieć hello ról lub uprawnień.</span><span class="sxs-lookup"><span data-stu-id="7a511-287">hello accounts you use toocreate a virtual network peering must have hello necessary role or permissions.</span></span> <span data-ttu-id="7a511-288">Na przykład jeśli zostały równorzędna dwie sieci wirtualne o nazwach myVnetA i myVnetB, Twoje konto musi zostać przypisane hello następujące minimalne roli lub uprawnienia dla każdej sieci wirtualnej:</span><span class="sxs-lookup"><span data-stu-id="7a511-288">For example, if you were peering two virtual networks named myVnetA and myVnetB, your account must be assigned hello following minimum role or permissions for each virtual network:</span></span>
    
|<span data-ttu-id="7a511-289">Sieć wirtualna</span><span class="sxs-lookup"><span data-stu-id="7a511-289">Virtual network</span></span>|<span data-ttu-id="7a511-290">Model wdrażania</span><span class="sxs-lookup"><span data-stu-id="7a511-290">Deployment model</span></span>|<span data-ttu-id="7a511-291">Rola</span><span class="sxs-lookup"><span data-stu-id="7a511-291">Role</span></span>|<span data-ttu-id="7a511-292">Uprawnienia</span><span class="sxs-lookup"><span data-stu-id="7a511-292">Permissions</span></span>|
|---|---|---|---|
|<span data-ttu-id="7a511-293">myVnetA</span><span class="sxs-lookup"><span data-stu-id="7a511-293">myVnetA</span></span>|<span data-ttu-id="7a511-294">Resource Manager</span><span class="sxs-lookup"><span data-stu-id="7a511-294">Resource Manager</span></span>|[<span data-ttu-id="7a511-295">Współautor sieci</span><span class="sxs-lookup"><span data-stu-id="7a511-295">Network Contributor</span></span>](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor)|<span data-ttu-id="7a511-296">Microsoft.Network/virtualNetworks/virtualNetworkPeerings/write</span><span class="sxs-lookup"><span data-stu-id="7a511-296">Microsoft.Network/virtualNetworks/virtualNetworkPeerings/write</span></span>|
| |<span data-ttu-id="7a511-297">Wdrożenie klasyczne</span><span class="sxs-lookup"><span data-stu-id="7a511-297">Classic</span></span>|[<span data-ttu-id="7a511-298">Współautor klasycznej sieci</span><span class="sxs-lookup"><span data-stu-id="7a511-298">Classic Network Contributor</span></span>](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#classic-network-contributor)|<span data-ttu-id="7a511-299">Nie dotyczy</span><span class="sxs-lookup"><span data-stu-id="7a511-299">N/A</span></span>|
|<span data-ttu-id="7a511-300">myVnetB</span><span class="sxs-lookup"><span data-stu-id="7a511-300">myVnetB</span></span>|<span data-ttu-id="7a511-301">Resource Manager</span><span class="sxs-lookup"><span data-stu-id="7a511-301">Resource Manager</span></span>|[<span data-ttu-id="7a511-302">Współautor sieci</span><span class="sxs-lookup"><span data-stu-id="7a511-302">Network Contributor</span></span>](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor)|<span data-ttu-id="7a511-303">Microsoft.Network/virtualNetworks/peer</span><span class="sxs-lookup"><span data-stu-id="7a511-303">Microsoft.Network/virtualNetworks/peer</span></span>|
||<span data-ttu-id="7a511-304">Wdrożenie klasyczne</span><span class="sxs-lookup"><span data-stu-id="7a511-304">Classic</span></span>|[<span data-ttu-id="7a511-305">Współautor klasycznej sieci</span><span class="sxs-lookup"><span data-stu-id="7a511-305">Classic Network Contributor</span></span>](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#classic-network-contributor)|<span data-ttu-id="7a511-306">Microsoft.ClassicNetwork/virtualNetworks/peer</span><span class="sxs-lookup"><span data-stu-id="7a511-306">Microsoft.ClassicNetwork/virtualNetworks/peer</span></span>|

<span data-ttu-id="7a511-307">Dowiedz się więcej o [wbudowane role](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor) i przypisywanie uprawnień określonych zbyt[role niestandardowe](../active-directory/role-based-access-control-custom-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json) (tylko Resource Manager).</span><span class="sxs-lookup"><span data-stu-id="7a511-307">Learn more about [built-in roles](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor) and assigning specific permissions too[custom roles](../active-directory/role-based-access-control-custom-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json) (Resource Manager only).</span></span>

## <span data-ttu-id="7a511-308"><a name="delete"></a>Usuwanie zasobów</span><span class="sxs-lookup"><span data-stu-id="7a511-308"><a name="delete"></a>Delete resources</span></span>
<span data-ttu-id="7a511-309">Po zakończeniu tego samouczka można toodelete hello zasobów, utworzony w samouczek hello w celu uniknięcia opłat użycie.</span><span class="sxs-lookup"><span data-stu-id="7a511-309">When you've finished this tutorial, you might want toodelete hello resources you created in hello tutorial, so you don't incur usage charges.</span></span> <span data-ttu-id="7a511-310">Usunięcie grupy zasobów powoduje usunięcie wszystkich zasobów, które znajdują się w grupie zasobów hello.</span><span class="sxs-lookup"><span data-stu-id="7a511-310">Deleting a resource group also deletes all resources that are in hello resource group.</span></span>

### <span data-ttu-id="7a511-311"><a name="delete-portal"></a>Azure portal</span><span class="sxs-lookup"><span data-stu-id="7a511-311"><a name="delete-portal"></a>Azure portal</span></span>

1. <span data-ttu-id="7a511-312">W polu wyszukiwania portalu hello wpisz **myResourceGroupA**.</span><span class="sxs-lookup"><span data-stu-id="7a511-312">In hello portal search box, enter **myResourceGroupA**.</span></span> <span data-ttu-id="7a511-313">W wynikach wyszukiwania powitania kliknij **myResourceGroupA**.</span><span class="sxs-lookup"><span data-stu-id="7a511-313">In hello search results, click **myResourceGroupA**.</span></span>
2. <span data-ttu-id="7a511-314">Na powitania **myResourceGroupA** bloku, kliknij przycisk hello **usunąć** ikony.</span><span class="sxs-lookup"><span data-stu-id="7a511-314">On hello **myResourceGroupA** blade, click hello **Delete** icon.</span></span>
3. <span data-ttu-id="7a511-315">Usuwanie hello tooconfirm, w hello **hello typu nazwa grupy zasobów** wprowadź **myResourceGroupA**, a następnie kliknij przycisk **usunąć**.</span><span class="sxs-lookup"><span data-stu-id="7a511-315">tooconfirm hello deletion, in hello **TYPE hello RESOURCE GROUP NAME** box, enter **myResourceGroupA**, and then click **Delete**.</span></span>
4. <span data-ttu-id="7a511-316">W hello **wyszukiwania zasobów** pole u góry hello hello portalu, typ *myVnetB*.</span><span class="sxs-lookup"><span data-stu-id="7a511-316">In hello **Search resources** box at hello top of hello portal, type *myVnetB*.</span></span> <span data-ttu-id="7a511-317">Kliknij przycisk **myVnetB** po wyświetleniu w wynikach wyszukiwania hello.</span><span class="sxs-lookup"><span data-stu-id="7a511-317">Click **myVnetB** when it appears in hello search results.</span></span> <span data-ttu-id="7a511-318">Zostanie wyświetlony blok hello **myVnetB** sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="7a511-318">A blade appears for hello **myVnetB** virtual network.</span></span>
5. <span data-ttu-id="7a511-319">W hello **myVnetB** bloku, kliknij przycisk **usunąć**.</span><span class="sxs-lookup"><span data-stu-id="7a511-319">In hello **myVnetB** blade, click **Delete**.</span></span>
6. <span data-ttu-id="7a511-320">Usuwanie hello tooconfirm, kliknij przycisk **tak** w hello **sieci wirtualnej Usuń** pole.</span><span class="sxs-lookup"><span data-stu-id="7a511-320">tooconfirm hello deletion, click **Yes** in hello **Delete virtual network** box.</span></span>

### <span data-ttu-id="7a511-321"><a name="delete-cli"></a>Interfejs wiersza polecenia platformy Azure</span><span class="sxs-lookup"><span data-stu-id="7a511-321"><a name="delete-cli"></a>Azure CLI</span></span>

1. <span data-ttu-id="7a511-322">Zaloguj się przy użyciu hello tooAzure CLI 2.0 toodelete hello sieci wirtualnej (Resource Manager) z hello następujące polecenie:</span><span class="sxs-lookup"><span data-stu-id="7a511-322">Log in tooAzure using hello CLI 2.0 toodelete hello virtual network (Resource Manager) with hello following command:</span></span>

    ```azurecli-interactive
    az group delete --name myResourceGroupA --yes
    ```

2. <span data-ttu-id="7a511-323">Zaloguj się przy użyciu hello tooAzure Azure CLI 1.0 toodelete hello sieć wirtualna (klasyczna) z hello następującego polecenia:</span><span class="sxs-lookup"><span data-stu-id="7a511-323">Log in tooAzure using hello Azure CLI 1.0 toodelete hello virtual network (classic) with hello following commands:</span></span>

    ```azurecli
    azure config mode asm 

    azure network vnet delete --vnet myVnetB --quiet
    ```

### <span data-ttu-id="7a511-324"><a name="delete-powershell"></a>Środowiska PowerShell</span><span class="sxs-lookup"><span data-stu-id="7a511-324"><a name="delete-powershell"></a>PowerShell</span></span>

1. <span data-ttu-id="7a511-325">W wierszu polecenia programu PowerShell hello wprowadź hello następujące polecenia toodelete hello sieci wirtualnej (Resource Manager):</span><span class="sxs-lookup"><span data-stu-id="7a511-325">At hello PowerShell command prompt, enter hello following command toodelete hello virtual network (Resource Manager):</span></span>

    ```powershell
    Remove-AzureRmResourceGroup -Name myResourceGroupA -Force
    ```

2. <span data-ttu-id="7a511-326">toodelete hello sieci wirtualnej (wdrożenia klasyczne) przy użyciu programu PowerShell, należy zmodyfikować istniejący plik konfiguracji sieci.</span><span class="sxs-lookup"><span data-stu-id="7a511-326">toodelete hello virtual network (classic) with PowerShell, you must modify an existing network configuration file.</span></span> <span data-ttu-id="7a511-327">Dowiedz się, jak za[eksportu, aktualizować i importowanie plików konfiguracyjnych sieci](virtual-networks-using-network-configuration-file.md).</span><span class="sxs-lookup"><span data-stu-id="7a511-327">Learn how too[export, update, and import network configuration files](virtual-networks-using-network-configuration-file.md).</span></span> <span data-ttu-id="7a511-328">Usuń hello następującego elementu VirtualNetworkSite dla sieci wirtualnej hello używane w tym samouczku:</span><span class="sxs-lookup"><span data-stu-id="7a511-328">Remove hello following VirtualNetworkSite element for hello virtual network used in this tutorial:</span></span>

    ```xml
    <VirtualNetworkSite name="myVnetB" Location="East US">
      <AddressSpace>
        <AddressPrefix>10.1.0.0/16</AddressPrefix>
      </AddressSpace>
      <Subnets>
        <Subnet name="default">
          <AddressPrefix>10.1.0.0/24</AddressPrefix>
        </Subnet>
      </Subnets>
    </VirtualNetworkSite>
    ```

    > [!WARNING]
    > <span data-ttu-id="7a511-329">Importowanie pliku konfiguracji sieci zmienione może spowodować zmiany tooexisting sieciami wirtualnymi (klasyczne) w ramach subskrypcji.</span><span class="sxs-lookup"><span data-stu-id="7a511-329">Importing a changed network configuration file can cause changes tooexisting virtual networks (classic) in your subscription.</span></span> <span data-ttu-id="7a511-330">Upewnij się, tylko Usuń hello poprzedniej sieci wirtualnej, a nie zmienić lub usunąć innych istniejących sieci wirtualnej z subskrypcji.</span><span class="sxs-lookup"><span data-stu-id="7a511-330">Ensure you only remove hello previous virtual network and that you don't change or remove any other existing virtual networks from your subscription.</span></span> 

## <a name="next-steps"></a><span data-ttu-id="7a511-331">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="7a511-331">Next steps</span></span>

- <span data-ttu-id="7a511-332">Należy dokładnie zapoznać się z ważne [ograniczenia komunikacji równorzędnej sieci wirtualnej i zachowania](virtual-network-manage-peering.md#requirements-and-constraints) przed utworzeniem sieci wirtualnej komunikacji równorzędnej w środowisku produkcyjnym należy używać.</span><span class="sxs-lookup"><span data-stu-id="7a511-332">Thoroughly familiarize yourself with important [virtual network peering constraints and behaviors](virtual-network-manage-peering.md#requirements-and-constraints) before creating a virtual network peering for production use.</span></span>
- <span data-ttu-id="7a511-333">Więcej informacji na temat wszystkich [sieci wirtualnej komunikacji równorzędnej ustawienia](virtual-network-manage-peering.md#create-a-peering).</span><span class="sxs-lookup"><span data-stu-id="7a511-333">Learn about all [virtual network peering settings](virtual-network-manage-peering.md#create-a-peering).</span></span>
- <span data-ttu-id="7a511-334">Dowiedz się, jak za[tworzenie koncentratora i gwiazda topologii sieci](/azure/architecture/reference-architectures/hybrid-networking/hub-spoke?toc=%2fazure%2fvirtual-network%2ftoc.json#vnet-peering) z sieci wirtualnej komunikacji równorzędnej.</span><span class="sxs-lookup"><span data-stu-id="7a511-334">Learn how too[create a hub and spoke network topology](/azure/architecture/reference-architectures/hybrid-networking/hub-spoke?toc=%2fazure%2fvirtual-network%2ftoc.json#vnet-peering) with virtual network peering.</span></span>
