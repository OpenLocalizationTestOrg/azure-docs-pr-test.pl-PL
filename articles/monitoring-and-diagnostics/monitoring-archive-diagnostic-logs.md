---
title: "aaaArchive dzienników diagnostycznych platformy Azure | Dokumentacja firmy Microsoft"
description: "Dowiedz się, jak tooarchive Twojego Diagnostyka Azure dzienników w celu przechowywania długoterminowego na koncie magazynu."
author: johnkemnetz
manager: orenr
editor: 
services: monitoring-and-diagnostics
documentationcenter: monitoring-and-diagnostics
ms.assetid: 3a55c73f-2ef3-45f3-8956-bcf9c0cb7e05
ms.service: monitoring-and-diagnostics
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/21/2017
ms.author: johnkem
ms.openlocfilehash: bc9edbd3a649023a728b7fe77130dba2b6e6370d
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="archive-azure-diagnostic-logs"></a><span data-ttu-id="97114-103">Archiwum dzienników diagnostycznych platformy Azure</span><span class="sxs-lookup"><span data-stu-id="97114-103">Archive Azure Diagnostic Logs</span></span>
<span data-ttu-id="97114-104">W tym artykule zostanie przedstawiony sposób hello portalu Azure, poleceń cmdlet programu PowerShell, interfejsu wiersza polecenia, użyj lub REST API tooarchive Twojego [Azure dzienników diagnostycznych](monitoring-overview-of-diagnostic-logs.md) na koncie magazynu.</span><span class="sxs-lookup"><span data-stu-id="97114-104">In this article, we show how you can use hello Azure portal, PowerShell Cmdlets, CLI, or REST API tooarchive your [Azure diagnostic logs](monitoring-overview-of-diagnostic-logs.md) in a storage account.</span></span> <span data-ttu-id="97114-105">Ta opcja jest przydatna, jeśli chcesz tooretain dzienników diagnostyki sieci przy użyciu zasad przechowywania opcjonalne inspekcji, analizę statyczną lub kopii zapasowej.</span><span class="sxs-lookup"><span data-stu-id="97114-105">This option is useful if you would like tooretain your diagnostic logs with an optional retention policy for audit, static analysis, or backup.</span></span> <span data-ttu-id="97114-106">Witaj konta magazynu nie ma w hello toobe tej samej subskrypcji co zasób hello emitowanie dzienniki tak długo, jak hello użytkownik, który konfiguruje ustawienia hello ma odpowiednie RBAC dostępu tooboth subskrypcji.</span><span class="sxs-lookup"><span data-stu-id="97114-106">hello storage account does not have toobe in hello same subscription as hello resource emitting logs as long as hello user who configures hello setting has appropriate RBAC access tooboth subscriptions.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="97114-107">Wymagania wstępne</span><span class="sxs-lookup"><span data-stu-id="97114-107">Prerequisites</span></span>
<span data-ttu-id="97114-108">Przed rozpoczęciem należy zbyt[Utwórz konto magazynu](../storage/storage-create-storage-account.md) toowhich można archiwizować dzienników diagnostycznych.</span><span class="sxs-lookup"><span data-stu-id="97114-108">Before you begin, you need too[create a storage account](../storage/storage-create-storage-account.md) toowhich you can archive your diagnostic logs.</span></span> <span data-ttu-id="97114-109">Zdecydowanie zaleca się, że nie należy używać istniejącego konta magazynu z innych, niż monitorowania danych w niej przechowywane, dzięki czemu można lepiej kontrolować dostęp do danych toomonitoring.</span><span class="sxs-lookup"><span data-stu-id="97114-109">We highly recommend that you do not use an existing storage account that has other, non-monitoring data stored in it so that you can better control access toomonitoring data.</span></span> <span data-ttu-id="97114-110">Jednak jeśli są również Archiwizowanie dziennika aktywności, a konto magazynu diagnostyki metryki tooa, rozsądne może toouse znaczeniu tego konta magazynu dla Twojego dzienniki diagnostyczne również tookeep wszystkie dane monitorowania w centralnej lokalizacji.</span><span class="sxs-lookup"><span data-stu-id="97114-110">However, if you are also archiving your Activity Log and diagnostic metrics tooa storage account, it may make sense toouse that storage account for your diagnostic logs as well tookeep all monitoring data in a central location.</span></span> <span data-ttu-id="97114-111">Konto magazynu Hello, którego używasz, musi być konto magazynu ogólnego przeznaczenia, a nie konta magazynu obiektów blob.</span><span class="sxs-lookup"><span data-stu-id="97114-111">hello storage account you use must be a general purpose storage account, not a blob storage account.</span></span>

## <a name="diagnostic-settings"></a><span data-ttu-id="97114-112">Ustawienia diagnostyki</span><span class="sxs-lookup"><span data-stu-id="97114-112">Diagnostic settings</span></span>
<span data-ttu-id="97114-113">Ustaw tooarchive dzienników diagnostyki sieci przy użyciu dowolnej z poniższych metod hello, **ustawienie diagnostyczne** dla określonego zasobu.</span><span class="sxs-lookup"><span data-stu-id="97114-113">tooarchive your diagnostic logs using any of hello methods below, you set a **diagnostic setting** for a particular resource.</span></span> <span data-ttu-id="97114-114">Ustawienie diagnostyczne dla zasobu definiuje hello kategorii dzienników i dane wysyłane tooa docelowego (konto magazynu, centra zdarzeń w przestrzeni nazw lub Log Analytics).</span><span class="sxs-lookup"><span data-stu-id="97114-114">A diagnostic setting for a resource defines hello categories of logs and metric data sent tooa destination (storage account, Event Hubs namespace, or Log Analytics).</span></span> <span data-ttu-id="97114-115">Definiuje również zasady przechowywania hello (liczba dni korzystania z tooretain) dla zdarzenia każdej kategorii dziennika i dane przechowywane na koncie magazynu.</span><span class="sxs-lookup"><span data-stu-id="97114-115">It also defines hello retention policy (number of days tooretain) for events of each log category and metric data stored in a storage account.</span></span> <span data-ttu-id="97114-116">Jeśli zasady przechowywania wynosi toozero, zdarzenia dla tej kategorii dziennika są przechowywane przez nieograniczony czas (to znaczy nieskończona toosay,).</span><span class="sxs-lookup"><span data-stu-id="97114-116">If a retention policy is set toozero, events for that log category are stored indefinitely (that is toosay, forever).</span></span> <span data-ttu-id="97114-117">Zasady przechowywania, w przeciwnym razie może być dowolną liczbę dni od 1 do 2147483647.</span><span class="sxs-lookup"><span data-stu-id="97114-117">A retention policy can otherwise be any number of days between 1 and 2147483647.</span></span> <span data-ttu-id="97114-118">[Możesz przeczytać dodatkowe informacje w tym miejscu ustawień diagnostycznych](monitoring-overview-of-diagnostic-logs.md#resource-diagnostic-settings).</span><span class="sxs-lookup"><span data-stu-id="97114-118">[You can read more about diagnostic settings here](monitoring-overview-of-diagnostic-logs.md#resource-diagnostic-settings).</span></span> <span data-ttu-id="97114-119">Zasady przechowywania są stosowane na dzień, więc na powitania koniec dnia (UTC), rejestruje od dnia hello, która jest teraz poza zasady przechowywania hello zostaną usunięte.</span><span class="sxs-lookup"><span data-stu-id="97114-119">Retention policies are applied per-day, so at hello end of a day (UTC), logs from hello day that is now beyond hello retention policy will be deleted.</span></span> <span data-ttu-id="97114-120">Na przykład jeśli masz zasady przechowywania jeden dzień początku hello dzisiaj dzień hello hello dzienniki hello dzień przed wczoraj zostaną usunięte</span><span class="sxs-lookup"><span data-stu-id="97114-120">For example, if you had a retention policy of one day, at hello beginning of hello day today hello logs from hello day before yesterday would be deleted</span></span>

## <a name="archive-diagnostic-logs-using-hello-portal"></a><span data-ttu-id="97114-121">Dzienniki diagnostyczne archiwum przy użyciu portalu hello</span><span class="sxs-lookup"><span data-stu-id="97114-121">Archive diagnostic logs using hello portal</span></span>
1. <span data-ttu-id="97114-122">W portalu hello Przejdź tooAzure monitora, a następnie kliknij **ustawień diagnostycznych**</span><span class="sxs-lookup"><span data-stu-id="97114-122">In hello portal, navigate tooAzure Monitor and click on **Diagnostic Settings**</span></span>

    ![Monitorowanie sekcji Azure Monitor](media/monitoring-archive-diagnostic-logs/diagnostic-settings-blade.png)

2. <span data-ttu-id="97114-124">Opcjonalnie Filtruj listę hello według grupy zasobów lub typ zasobu, a następnie kliknij na powitania zasobu, dla którego chcesz tooset ustawienie diagnostyczne.</span><span class="sxs-lookup"><span data-stu-id="97114-124">Optionally filter hello list by resource group or resource type, then click on hello resource for which you would like tooset a diagnostic setting.</span></span>

3. <span data-ttu-id="97114-125">Jeśli nie istnieją żadne ustawienia na powitania zasobów, wybrana przez Ciebie, jesteś toocreate zostanie wyświetlony monit o ustawienie.</span><span class="sxs-lookup"><span data-stu-id="97114-125">If no settings exist on hello resource you have selected, you are prompted toocreate a setting.</span></span> <span data-ttu-id="97114-126">Kliknij pozycję "Włącz diagnostykę."</span><span class="sxs-lookup"><span data-stu-id="97114-126">Click "Turn on diagnostics."</span></span>

   ![Dodaj ustawienie diagnostyczne - żadnych istniejących ustawień](media/monitoring-archive-diagnostic-logs/diagnostic-settings-none.png)

   <span data-ttu-id="97114-128">W przypadku ustawienia istniejące na powitania zasobów, zostanie wyświetlona lista ustawień już skonfigurowana dla tego zasobu.</span><span class="sxs-lookup"><span data-stu-id="97114-128">If there are existing settings on hello resource, you will see a list of settings already configured on this resource.</span></span> <span data-ttu-id="97114-129">Kliknij przycisk "Dodaj ustawienie diagnostyczne".</span><span class="sxs-lookup"><span data-stu-id="97114-129">Click "Add diagnostic setting."</span></span>

   ![Dodaj ustawienie diagnostyczne — istniejące ustawienia](media/monitoring-archive-diagnostic-logs/diagnostic-settings-multiple.png)

3. <span data-ttu-id="97114-131">Nadaj nazwę ustawienia i sprawdź pole hello **wyeksportować tooStorage konta**, wybierz konto magazynu.</span><span class="sxs-lookup"><span data-stu-id="97114-131">Give your setting a name and check hello box for **Export tooStorage Account**, then select a storage account.</span></span> <span data-ttu-id="97114-132">Opcjonalnie ustawić liczbę dni tooretain tych dzienników przy użyciu hello **przechowywania (dni)** suwaki.</span><span class="sxs-lookup"><span data-stu-id="97114-132">Optionally, set a number of days tooretain these logs by using hello **Retention (days)** sliders.</span></span> <span data-ttu-id="97114-133">Przechowywanie zero dni przechowuje dzienniki hello nieskończoność.</span><span class="sxs-lookup"><span data-stu-id="97114-133">A retention of zero days stores hello logs indefinitely.</span></span>
   
   ![Dodaj ustawienie diagnostyczne — istniejące ustawienia](media/monitoring-archive-diagnostic-logs/diagnostic-settings-configure.png)
    
4. <span data-ttu-id="97114-135">Kliknij pozycję **Zapisz**.</span><span class="sxs-lookup"><span data-stu-id="97114-135">Click **Save**.</span></span>

<span data-ttu-id="97114-136">Po kilku chwilach hello nowe ustawienie jest wyświetlane na liście ustawień dla tego zasobu, a dzienników diagnostycznych są archiwizowane toothat magazynu konta zaraz po wygenerowaniu nowych danych zdarzenia.</span><span class="sxs-lookup"><span data-stu-id="97114-136">After a few moments, hello new setting appears in your list of settings for this resource, and diagnostic logs are archived toothat storage account as soon as new event data is generated.</span></span>

## <a name="archive-diagnostic-logs-via-azure-powershell"></a><span data-ttu-id="97114-137">Dzienniki diagnostyczne archiwum za pomocą programu Azure PowerShell</span><span class="sxs-lookup"><span data-stu-id="97114-137">Archive diagnostic logs via Azure PowerShell</span></span>
```
Set-AzureRmDiagnosticSetting -ResourceId /subscriptions/s1id1234-5679-0123-4567-890123456789/resourceGroups/testresourcegroup/providers/Microsoft.Network/networkSecurityGroups/testnsg -StorageAccountId /subscriptions/s1id1234-5679-0123-4567-890123456789/resourceGroups/myrg1/providers/Microsoft.Storage/storageAccounts/my_storage -Categories networksecuritygroupevent,networksecuritygrouprulecounter -Enabled $true -RetentionEnabled $true -RetentionInDays 90
```

| <span data-ttu-id="97114-138">Właściwość</span><span class="sxs-lookup"><span data-stu-id="97114-138">Property</span></span> | <span data-ttu-id="97114-139">Wymagane</span><span class="sxs-lookup"><span data-stu-id="97114-139">Required</span></span> | <span data-ttu-id="97114-140">Opis</span><span class="sxs-lookup"><span data-stu-id="97114-140">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="97114-141">Identyfikator zasobu</span><span class="sxs-lookup"><span data-stu-id="97114-141">ResourceId</span></span> |<span data-ttu-id="97114-142">Tak</span><span class="sxs-lookup"><span data-stu-id="97114-142">Yes</span></span> |<span data-ttu-id="97114-143">Identyfikator zasobu hello zasobu, na którym tooset ustawienie diagnostyczne.</span><span class="sxs-lookup"><span data-stu-id="97114-143">Resource ID of hello resource on which you want tooset a diagnostic setting.</span></span> |
| <span data-ttu-id="97114-144">StorageAccountId</span><span class="sxs-lookup"><span data-stu-id="97114-144">StorageAccountId</span></span> |<span data-ttu-id="97114-145">Nie</span><span class="sxs-lookup"><span data-stu-id="97114-145">No</span></span> |<span data-ttu-id="97114-146">Identyfikator zasobu toowhich konta magazynu hello dzienników diagnostycznych ma zostać zapisany.</span><span class="sxs-lookup"><span data-stu-id="97114-146">Resource ID of hello Storage Account toowhich Diagnostic Logs should be saved.</span></span> |
| <span data-ttu-id="97114-147">Kategorie</span><span class="sxs-lookup"><span data-stu-id="97114-147">Categories</span></span> |<span data-ttu-id="97114-148">Nie</span><span class="sxs-lookup"><span data-stu-id="97114-148">No</span></span> |<span data-ttu-id="97114-149">Rozdzielana przecinkami lista tooenable kategorie dziennika.</span><span class="sxs-lookup"><span data-stu-id="97114-149">Comma-separated list of log categories tooenable.</span></span> |
| <span data-ttu-id="97114-150">Enabled (Włączony)</span><span class="sxs-lookup"><span data-stu-id="97114-150">Enabled</span></span> |<span data-ttu-id="97114-151">Tak</span><span class="sxs-lookup"><span data-stu-id="97114-151">Yes</span></span> |<span data-ttu-id="97114-152">Wartość logiczna wskazująca, czy diagnostycznych są włączone lub wyłączone w przypadku tego zasobu.</span><span class="sxs-lookup"><span data-stu-id="97114-152">Boolean indicating whether diagnostics are enabled or disabled on this resource.</span></span> |
| <span data-ttu-id="97114-153">RetentionEnabled</span><span class="sxs-lookup"><span data-stu-id="97114-153">RetentionEnabled</span></span> |<span data-ttu-id="97114-154">Nie</span><span class="sxs-lookup"><span data-stu-id="97114-154">No</span></span> |<span data-ttu-id="97114-155">Wartość logiczna wskazująca, czy zasady przechowywania są włączone dla tego zasobu.</span><span class="sxs-lookup"><span data-stu-id="97114-155">Boolean indicating if a retention policy are enabled on this resource.</span></span> |
| <span data-ttu-id="97114-156">retentionInDays</span><span class="sxs-lookup"><span data-stu-id="97114-156">RetentionInDays</span></span> |<span data-ttu-id="97114-157">Nie</span><span class="sxs-lookup"><span data-stu-id="97114-157">No</span></span> |<span data-ttu-id="97114-158">Liczba dni, dla których mają być przechowywane zdarzeń od 1 do 2147483647.</span><span class="sxs-lookup"><span data-stu-id="97114-158">Number of days for which events should be retained between 1 and 2147483647.</span></span> <span data-ttu-id="97114-159">Wartość zero przechowuje dzienniki hello nieskończoność.</span><span class="sxs-lookup"><span data-stu-id="97114-159">A value of zero stores hello logs indefinitely.</span></span> |

## <a name="archive-diagnostic-logs-via-hello-cross-platform-cli"></a><span data-ttu-id="97114-160">Dzienniki diagnostyczne archiwum za pośrednictwem hello interfejsu wiersza polecenia i Platform</span><span class="sxs-lookup"><span data-stu-id="97114-160">Archive diagnostic logs via hello Cross-Platform CLI</span></span>
```
azure insights diagnostic set --resourceId /subscriptions/s1id1234-5679-0123-4567-890123456789/resourceGroups/testresourcegroup/providers/Microsoft.Network/networkSecurityGroups/testnsg --storageId /subscriptions/s1id1234-5679-0123-4567-890123456789/resourceGroups/myrg1/providers/Microsoft.Storage/storageAccounts/my_storage –categories networksecuritygroupevent,networksecuritygrouprulecounter --enabled true
```

| <span data-ttu-id="97114-161">Właściwość</span><span class="sxs-lookup"><span data-stu-id="97114-161">Property</span></span> | <span data-ttu-id="97114-162">Wymagane</span><span class="sxs-lookup"><span data-stu-id="97114-162">Required</span></span> | <span data-ttu-id="97114-163">Opis</span><span class="sxs-lookup"><span data-stu-id="97114-163">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="97114-164">resourceId</span><span class="sxs-lookup"><span data-stu-id="97114-164">resourceId</span></span> |<span data-ttu-id="97114-165">Tak</span><span class="sxs-lookup"><span data-stu-id="97114-165">Yes</span></span> |<span data-ttu-id="97114-166">Identyfikator zasobu hello zasobu, na którym tooset ustawienie diagnostyczne.</span><span class="sxs-lookup"><span data-stu-id="97114-166">Resource ID of hello resource on which you want tooset a diagnostic setting.</span></span> |
| <span data-ttu-id="97114-167">storageId</span><span class="sxs-lookup"><span data-stu-id="97114-167">storageId</span></span> |<span data-ttu-id="97114-168">Nie</span><span class="sxs-lookup"><span data-stu-id="97114-168">No</span></span> |<span data-ttu-id="97114-169">Identyfikator zasobu hello dzienników diagnostycznych toowhich konto magazynu ma zostać zapisany.</span><span class="sxs-lookup"><span data-stu-id="97114-169">Resource ID of hello Storage Account toowhich diagnostic logs should be saved.</span></span> |
| <span data-ttu-id="97114-170">Kategorie</span><span class="sxs-lookup"><span data-stu-id="97114-170">categories</span></span> |<span data-ttu-id="97114-171">Nie</span><span class="sxs-lookup"><span data-stu-id="97114-171">No</span></span> |<span data-ttu-id="97114-172">Rozdzielana przecinkami lista tooenable kategorie dziennika.</span><span class="sxs-lookup"><span data-stu-id="97114-172">Comma-separated list of log categories tooenable.</span></span> |
| <span data-ttu-id="97114-173">włączone</span><span class="sxs-lookup"><span data-stu-id="97114-173">enabled</span></span> |<span data-ttu-id="97114-174">Tak</span><span class="sxs-lookup"><span data-stu-id="97114-174">Yes</span></span> |<span data-ttu-id="97114-175">Wartość logiczna wskazująca, czy diagnostycznych są włączone lub wyłączone w przypadku tego zasobu.</span><span class="sxs-lookup"><span data-stu-id="97114-175">Boolean indicating whether diagnostics are enabled or disabled on this resource.</span></span> |

## <a name="archive-diagnostic-logs-via-hello-rest-api"></a><span data-ttu-id="97114-176">Dzienniki diagnostyczne archiwum za pośrednictwem hello interfejsu API REST</span><span class="sxs-lookup"><span data-stu-id="97114-176">Archive diagnostic logs via hello REST API</span></span>
<span data-ttu-id="97114-177">[Zobacz ten dokument](https://docs.microsoft.com/rest/api/monitor/servicediagnosticsettings) informacji w sposób konfigurowania ustawienie diagnostyczne przy użyciu interfejsu API REST Monitor Azure hello.</span><span class="sxs-lookup"><span data-stu-id="97114-177">[See this document](https://docs.microsoft.com/rest/api/monitor/servicediagnosticsettings) for information on how you can set up a diagnostic setting using hello Azure Monitor REST API.</span></span>

## <a name="schema-of-diagnostic-logs-in-hello-storage-account"></a><span data-ttu-id="97114-178">Schemat dzienników diagnostycznych na koncie magazynu hello</span><span class="sxs-lookup"><span data-stu-id="97114-178">Schema of diagnostic logs in hello storage account</span></span>
<span data-ttu-id="97114-179">Po skonfigurowaniu archiwizacji, kontenera magazynu jest tworzony na koncie magazynu hello zaraz po wystąpieniu zdarzenia w jednym z hello dziennika kategorie, które aktywowano.</span><span class="sxs-lookup"><span data-stu-id="97114-179">Once you have set up archival, a storage container is created in hello storage account as soon as an event occurs in one of hello log categories you have enabled.</span></span> <span data-ttu-id="97114-180">obiekty BLOB Hello w kontenerze hello wykonaj hello takiego samego formatu między dzienników diagnostycznych i hello dziennik aktywności.</span><span class="sxs-lookup"><span data-stu-id="97114-180">hello blobs within hello container follow hello same format across Diagnostic Logs and hello Activity Log.</span></span> <span data-ttu-id="97114-181">Struktura Hello tych obiektów blob jest:</span><span class="sxs-lookup"><span data-stu-id="97114-181">hello structure of these blobs is:</span></span>

> <span data-ttu-id="97114-182">insights — dzienniki — {nazwa kategorii dziennika} / resourceId = / SUBSKRYPCJI / {identyfikator subskrypcji} /RESOURCEGROUPS/ {Nazwa grupy zasobów} /PROVIDERS/ {Nazwa dostawcy zasobów} / {typu zasobu} / {Nazwa zasobu} / y = {czterocyfrowy rok liczbowych} / m = {dwucyfrowe liczbowych month} / d = {dwucyfrowe liczbą dzień} / h = {dwucyfrowe 24-godzinnym hour}/m=00/PT1H.json</span><span class="sxs-lookup"><span data-stu-id="97114-182">insights-logs-{log category name}/resourceId=/SUBSCRIPTIONS/{subscription ID}/RESOURCEGROUPS/{resource group name}/PROVIDERS/{resource provider name}/{resource type}/{resource name}/y={four-digit numeric year}/m={two-digit numeric month}/d={two-digit numeric day}/h={two-digit 24-hour clock hour}/m=00/PT1H.json</span></span>
> 
> 

<span data-ttu-id="97114-183">Lub po prostu,</span><span class="sxs-lookup"><span data-stu-id="97114-183">Or, more simply,</span></span>

> <span data-ttu-id="97114-184">insights — dzienniki — {nazwa kategorii dziennika} / resourceId = / {identyfikator zasobu} / y = {czterocyfrowy rok liczbowych} / m = {dwucyfrowe liczbowych month} / d = {dwucyfrowe liczbą dzień} / h = {dwucyfrowe 24-godzinnym hour}/m=00/PT1H.json</span><span class="sxs-lookup"><span data-stu-id="97114-184">insights-logs-{log category name}/resourceId=/{resource Id}/y={four-digit numeric year}/m={two-digit numeric month}/d={two-digit numeric day}/h={two-digit 24-hour clock hour}/m=00/PT1H.json</span></span>
> 
> 

<span data-ttu-id="97114-185">Na przykład może być nazwa obiektu blob:</span><span class="sxs-lookup"><span data-stu-id="97114-185">For example, a blob name might be:</span></span>

> <span data-ttu-id="97114-186">insights-logs-networksecuritygrouprulecounter/resourceId=/SUBSCRIPTIONS/s1id1234-5679-0123-4567-890123456789/RESOURCEGROUPS/TESTRESOURCEGROUP/PROVIDERS/MICROSOFT.NETWORK/NETWORKSECURITYGROUP/TESTNSG/y=2016/m=08/d=22/h=18/m=00/PT1H.json</span><span class="sxs-lookup"><span data-stu-id="97114-186">insights-logs-networksecuritygrouprulecounter/resourceId=/SUBSCRIPTIONS/s1id1234-5679-0123-4567-890123456789/RESOURCEGROUPS/TESTRESOURCEGROUP/PROVIDERS/MICROSOFT.NETWORK/NETWORKSECURITYGROUP/TESTNSG/y=2016/m=08/d=22/h=18/m=00/PT1H.json</span></span>
> 
> 

<span data-ttu-id="97114-187">Każdy obiekt blob PT1H.json zawiera obiektu blob JSON zdarzeń, które wystąpiły w ciągu godziny hello określona w adresie URL obiektu blob hello (na przykład h = 12).</span><span class="sxs-lookup"><span data-stu-id="97114-187">Each PT1H.json blob contains a JSON blob of events that occurred within hello hour specified in hello blob URL (for example, h=12).</span></span> <span data-ttu-id="97114-188">Podczas hello obecny godzinę zdarzenia są toohello dołączany plik PT1H.json miarę ich występowania.</span><span class="sxs-lookup"><span data-stu-id="97114-188">During hello present hour, events are appended toohello PT1H.json file as they occur.</span></span> <span data-ttu-id="97114-189">Witaj wartość minuty (m = 00) jest zawsze 00, ponieważ dziennik diagnostyczny zdarzenia są podzielone na poszczególne obiekty BLOB na godzinę.</span><span class="sxs-lookup"><span data-stu-id="97114-189">hello minute value (m=00) is always 00, since diagnostic log events are broken into individual blobs per hour.</span></span>

<span data-ttu-id="97114-190">W pliku PT1H.json hello każde zdarzenie jest przechowywane w tablicy rekordy"hello", po tym formacie:</span><span class="sxs-lookup"><span data-stu-id="97114-190">Within hello PT1H.json file, each event is stored in hello “records” array, following this format:</span></span>

```
{
    "records": [
        {
            "time": "2016-07-01T00:00:37.2040000Z",
            "systemId": "46cdbb41-cb9c-4f3d-a5b4-1d458d827ff1",
            "category": "NetworkSecurityGroupRuleCounter",
            "resourceId": "/SUBSCRIPTIONS/s1id1234-5679-0123-4567-890123456789/RESOURCEGROUPS/TESTRESOURCEGROUP/PROVIDERS/MICROSOFT.NETWORK/NETWORKSECURITYGROUPS/TESTNSG",
            "operationName": "NetworkSecurityGroupCounters",
            "properties": {
                "vnetResourceGuid": "{12345678-9012-3456-7890-123456789012}",
                "subnetPrefix": "10.3.0.0/24",
                "macAddress": "000123456789",
                "ruleName": "/subscriptions/ s1id1234-5679-0123-4567-890123456789/resourceGroups/testresourcegroup/providers/Microsoft.Network/networkSecurityGroups/testnsg/securityRules/default-allow-rdp",
                "direction": "In",
                "type": "allow",
                "matchedConnections": 1988
            }
        }
    ]
}
```

| <span data-ttu-id="97114-191">Nazwa elementu</span><span class="sxs-lookup"><span data-stu-id="97114-191">Element name</span></span> | <span data-ttu-id="97114-192">Opis</span><span class="sxs-lookup"><span data-stu-id="97114-192">Description</span></span> |
| --- | --- |
| <span data-ttu-id="97114-193">time</span><span class="sxs-lookup"><span data-stu-id="97114-193">time</span></span> |<span data-ttu-id="97114-194">Znacznik czasu w momencie hello zdarzeń został wygenerowany przez hello przetwarzania usługi Azure hello żądanie odpowiednie zdarzenie hello.</span><span class="sxs-lookup"><span data-stu-id="97114-194">Timestamp when hello event was generated by hello Azure service processing hello request corresponding hello event.</span></span> |
| <span data-ttu-id="97114-195">resourceId</span><span class="sxs-lookup"><span data-stu-id="97114-195">resourceId</span></span> |<span data-ttu-id="97114-196">Identyfikator zasobu hello wpływ na zasobów.</span><span class="sxs-lookup"><span data-stu-id="97114-196">Resource ID of hello impacted resource.</span></span> |
| <span data-ttu-id="97114-197">operationName</span><span class="sxs-lookup"><span data-stu-id="97114-197">operationName</span></span> |<span data-ttu-id="97114-198">Nazwa operacji hello.</span><span class="sxs-lookup"><span data-stu-id="97114-198">Name of hello operation.</span></span> |
| <span data-ttu-id="97114-199">category</span><span class="sxs-lookup"><span data-stu-id="97114-199">category</span></span> |<span data-ttu-id="97114-200">Kategoria dziennika zdarzeń hello.</span><span class="sxs-lookup"><span data-stu-id="97114-200">Log category of hello event.</span></span> |
| <span data-ttu-id="97114-201">properties</span><span class="sxs-lookup"><span data-stu-id="97114-201">properties</span></span> |<span data-ttu-id="97114-202">Zestaw `<Key, Value>` pary (tj. Słownik) opisujący szczegóły hello hello zdarzenia.</span><span class="sxs-lookup"><span data-stu-id="97114-202">Set of `<Key, Value>` pairs (i.e. Dictionary) describing hello details of hello event.</span></span> |

> [!NOTE]
> <span data-ttu-id="97114-203">właściwości Hello i użycia tych właściwości zależy od zasobu hello.</span><span class="sxs-lookup"><span data-stu-id="97114-203">hello properties and usage of those properties can vary depending on hello resource.</span></span>
> 
> 

## <a name="next-steps"></a><span data-ttu-id="97114-204">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="97114-204">Next steps</span></span>
* [<span data-ttu-id="97114-205">Pobierać obiekty BLOB do analizy</span><span class="sxs-lookup"><span data-stu-id="97114-205">Download blobs for analysis</span></span>](../storage/storage-dotnet-how-to-use-blobs.md)
* [<span data-ttu-id="97114-206">Strumień diagnostycznych dzienników tooan centra zdarzeń w przestrzeni nazw</span><span class="sxs-lookup"><span data-stu-id="97114-206">Stream diagnostic logs tooan Event Hubs namespace</span></span>](monitoring-stream-diagnostic-logs-to-event-hubs.md)
* [<span data-ttu-id="97114-207">Więcej informacji na temat dzienników diagnostycznych</span><span class="sxs-lookup"><span data-stu-id="97114-207">Read more about diagnostic logs</span></span>](monitoring-overview-of-diagnostic-logs.md)
