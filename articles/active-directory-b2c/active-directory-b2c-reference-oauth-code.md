---
title: "Przepływu kodu autoryzacji — usługi Azure AD B2C | Dokumentacja firmy Microsoft"
description: "Dowiedz się, jak toobuild web apps za pomocą protokołu uwierzytelniania usługi Azure AD B2C i OpenID Connect."
services: active-directory-b2c
documentationcenter: 
author: saeedakhter-msft
manager: krassk
editor: parakhj
ms.assetid: c371aaab-813a-4317-97df-b62e2f53d865
ms.service: active-directory-b2c
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/16/2017
ms.author: saeedakhter-msft
ms.openlocfilehash: 6bf9d37310bd45b39bda346441413556f9fd4fdc
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="azure-active-directory-b2c-oauth-20-authorization-code-flow"></a><span data-ttu-id="4d75d-103">Azure Active Directory B2C: Przepływu kodu autoryzacji protokołu OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="4d75d-103">Azure Active Directory B2C: OAuth 2.0 authorization code flow</span></span>
<span data-ttu-id="4d75d-104">W aplikacji zainstalowanych na urządzeniu toogain dostępu tooprotected zasoby, takie jak interfejsów API sieci web służy udzielania kodu autoryzacji hello OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="4d75d-104">You can use hello OAuth 2.0 authorization code grant in apps installed on a device toogain access tooprotected resources, such as web APIs.</span></span> <span data-ttu-id="4d75d-105">Przy użyciu hello Azure Active Directory B2C (Azure AD B2C) stosowania OAuth 2.0, można dodać rejestrację, logowanie i Zarządzanie tożsamościami, inne zadania tooyour aplikacji mobilnych i klasycznych.</span><span class="sxs-lookup"><span data-stu-id="4d75d-105">By using hello Azure Active Directory B2C (Azure AD B2C) implementation of OAuth 2.0, you can add sign-up, sign-in, and other identity management tasks tooyour mobile and desktop apps.</span></span> <span data-ttu-id="4d75d-106">W tym artykule jest niezależny od języka.</span><span class="sxs-lookup"><span data-stu-id="4d75d-106">This article is language-independent.</span></span> <span data-ttu-id="4d75d-107">W artykule hello opisano sposób toosend i odbieranie wiadomości HTTP bez korzystania z żadnych bibliotek open source.</span><span class="sxs-lookup"><span data-stu-id="4d75d-107">In hello article, we describe how toosend and receive HTTP messages without using any open-source libraries.</span></span>

<!-- TODO: Need link toolibraries -->

<span data-ttu-id="4d75d-108">Witaj przepływu kodu autoryzacji protokołu OAuth 2.0 jest opisany w [sekcji 4.1 specyfikacji hello OAuth 2.0](http://tools.ietf.org/html/rfc6749).</span><span class="sxs-lookup"><span data-stu-id="4d75d-108">hello OAuth 2.0 authorization code flow is described in [section 4.1 of hello OAuth 2.0 specification](http://tools.ietf.org/html/rfc6749).</span></span> <span data-ttu-id="4d75d-109">Służy do uwierzytelniania i autoryzacji w większości typów aplikacji, w tym [sieci web apps](active-directory-b2c-apps.md#web-apps) i [natywnie zainstalowane aplikacje](active-directory-b2c-apps.md#mobile-and-native-apps).</span><span class="sxs-lookup"><span data-stu-id="4d75d-109">You can use it for authentication and authorization in most app types, including [web apps](active-directory-b2c-apps.md#web-apps) and [natively installed apps](active-directory-b2c-apps.md#mobile-and-native-apps).</span></span> <span data-ttu-id="4d75d-110">Można użyć hello OAuth 2.0 uzyskać toosecurely przepływu kodu autoryzacji *tokenów dostępu* dla aplikacji, które mogą być używane tooaccess zasoby, które są zabezpieczone przez [serwera autoryzacji](active-directory-b2c-reference-protocols.md#the-basics).</span><span class="sxs-lookup"><span data-stu-id="4d75d-110">You can use hello OAuth 2.0 authorization code flow toosecurely acquire *access tokens* for your apps, which can be used tooaccess resources that are secured by an [authorization server](active-directory-b2c-reference-protocols.md#the-basics).</span></span>

<span data-ttu-id="4d75d-111">Ten artykuł skupia się na powitania **klientów publicznych** przepływu kodu autoryzacji protokołu OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="4d75d-111">This article focuses on hello **public clients** OAuth 2.0 authorization code flow.</span></span> <span data-ttu-id="4d75d-112">Publiczny klient jest w dowolnej aplikacji klienta, która nie może być zaufane toosecurely zachowanie spójności hello tajnego hasła.</span><span class="sxs-lookup"><span data-stu-id="4d75d-112">A public client is any client application that cannot be trusted toosecurely maintain hello integrity of a secret password.</span></span> <span data-ttu-id="4d75d-113">Obejmuje to aplikacje mobilne, aplikacje komputerowe i zasadniczo dowolnej aplikacji, która jest uruchamiana na urządzeniu i musi tooget tokenów dostępu.</span><span class="sxs-lookup"><span data-stu-id="4d75d-113">This includes mobile apps, desktop apps, and essentially any application that runs on a device and needs tooget access tokens.</span></span> 

> [!NOTE]
> <span data-ttu-id="4d75d-114">tooadd tożsamości zarządzania tooa aplikacji sieci web przy użyciu usługi Azure AD B2C, użyj [OpenID Connect](active-directory-b2c-reference-oidc.md) zamiast protokołu OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="4d75d-114">tooadd identity management tooa web app by using Azure AD B2C, use [OpenID Connect](active-directory-b2c-reference-oidc.md) instead of OAuth 2.0.</span></span>

<span data-ttu-id="4d75d-115">Usługa Azure AD B2C rozszerza standardowej hello przepływu OAuth 2.0 toodo więcej niż prostego uwierzytelniania i autoryzacji.</span><span class="sxs-lookup"><span data-stu-id="4d75d-115">Azure AD B2C extends hello standard OAuth 2.0 flows toodo more than simple authentication and authorization.</span></span> <span data-ttu-id="4d75d-116">Podaj hello [parametru zasad](active-directory-b2c-reference-policies.md).</span><span class="sxs-lookup"><span data-stu-id="4d75d-116">It introduces hello [policy parameter](active-directory-b2c-reference-policies.md).</span></span> <span data-ttu-id="4d75d-117">Wbudowane zasady, możesz zastosować OAuth 2.0 użytkownika tooadd napotyka tooyour aplikacji, takich jak konta, logowania i zarządzania profilami.</span><span class="sxs-lookup"><span data-stu-id="4d75d-117">With built-in policies, you can use OAuth 2.0 tooadd user experiences tooyour app, such as sign-up, sign-in, and profile management.</span></span> <span data-ttu-id="4d75d-118">W tym artykule zostanie przedstawiony zostanie sposób tooimplement OAuth 2.0 i zasady toouse każdego z tych napotka w natywnej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="4d75d-118">In this article, we show you how toouse OAuth 2.0 and policies tooimplement each of these experiences in your native applications.</span></span> <span data-ttu-id="4d75d-119">Możemy również przedstawiają sposób jest tooget tokenów dostępu do uzyskiwania dostępu do interfejsów API sieci web.</span><span class="sxs-lookup"><span data-stu-id="4d75d-119">We also show you how tooget access tokens for accessing web APIs.</span></span>

<span data-ttu-id="4d75d-120">W żądaniach HTTP przykład hello w tym artykule, korzystamy z naszych katalog usługi Azure AD B2C przykładu **fabrikamb2c.onmicrosoft.com**. Możemy również użyć naszych przykładowej aplikacji i zasad.</span><span class="sxs-lookup"><span data-stu-id="4d75d-120">In hello example HTTP requests in this article, we use our sample Azure AD B2C directory, **fabrikamb2c.onmicrosoft.com**. We also use our sample application and policies.</span></span> <span data-ttu-id="4d75d-121">Można spróbować żądań hello samodzielnie przy użyciu tych wartości, lub należy je zastąpić własne wartości.</span><span class="sxs-lookup"><span data-stu-id="4d75d-121">You can try hello requests yourself by using these values, or you can replace them with your own values.</span></span>
<span data-ttu-id="4d75d-122">Dowiedz się, jak za[uzyskać własnego katalogu usługi Azure AD B2C, aplikacji i zasad](#use-your-own-azure-ad-b2c-directory).</span><span class="sxs-lookup"><span data-stu-id="4d75d-122">Learn how too[get your own Azure AD B2C directory, application, and policies](#use-your-own-azure-ad-b2c-directory).</span></span>

## <a name="1-get-an-authorization-code"></a><span data-ttu-id="4d75d-123">1. Pobierz kod autoryzacji</span><span class="sxs-lookup"><span data-stu-id="4d75d-123">1. Get an authorization code</span></span>
<span data-ttu-id="4d75d-124">przepływu kodu autoryzacji Hello rozpoczyna się od klienta hello kierowanie hello użytkownika toohello `/authorize` punktu końcowego.</span><span class="sxs-lookup"><span data-stu-id="4d75d-124">hello authorization code flow begins with hello client directing hello user toohello `/authorize` endpoint.</span></span> <span data-ttu-id="4d75d-125">Jest to hello interakcyjne część przepływu hello, gdzie hello użytkownik wykona akcję.</span><span class="sxs-lookup"><span data-stu-id="4d75d-125">This is hello interactive part of hello flow, where hello user takes action.</span></span> <span data-ttu-id="4d75d-126">W tym żądaniu powitania klienta wskazuje w hello `scope` uprawnienia hello parametru musi tooacquire hello użytkownika.</span><span class="sxs-lookup"><span data-stu-id="4d75d-126">In this request, hello client indicates in hello `scope` parameter hello permissions that it needs tooacquire from hello user.</span></span> <span data-ttu-id="4d75d-127">W hello `p` parametr wskazuje hello tooexecute zasad.</span><span class="sxs-lookup"><span data-stu-id="4d75d-127">In hello `p` parameter, it indicates hello policy tooexecute.</span></span> <span data-ttu-id="4d75d-128">Witaj następujące trzy przykłady można podać (podziałów wierszy dla czytelności) każdego użyć różnych zasad.</span><span class="sxs-lookup"><span data-stu-id="4d75d-128">hello following three examples (with line breaks for readability) each use a different policy.</span></span>

### <a name="use-a-sign-in-policy"></a><span data-ttu-id="4d75d-129">Użyj zasad logowania</span><span class="sxs-lookup"><span data-stu-id="4d75d-129">Use a sign-in policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=code
&redirect_uri=urn%3Aietf%3Awg%3Aoauth%3A2.0%3Aoob
&response_mode=query
&scope=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&p=b2c_1_sign_in
```

### <a name="use-a-sign-up-policy"></a><span data-ttu-id="4d75d-130">Użyj zasad rejestracji</span><span class="sxs-lookup"><span data-stu-id="4d75d-130">Use a sign-up policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=code
&redirect_uri=urn%3Aietf%3Awg%3Aoauth%3A2.0%3Aoob
&response_mode=query
&scope=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&p=b2c_1_sign_up
```

### <a name="use-an-edit-profile-policy"></a><span data-ttu-id="4d75d-131">Użyj zasad edycji profilu</span><span class="sxs-lookup"><span data-stu-id="4d75d-131">Use an edit-profile policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=code
&redirect_uri=urn%3Aietf%3Awg%3Aoauth%3A2.0%3Aoob
&response_mode=query
&scope=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&p=b2c_1_edit_profile
```

| <span data-ttu-id="4d75d-132">Parametr</span><span class="sxs-lookup"><span data-stu-id="4d75d-132">Parameter</span></span> | <span data-ttu-id="4d75d-133">Wymagana?</span><span class="sxs-lookup"><span data-stu-id="4d75d-133">Required?</span></span> | <span data-ttu-id="4d75d-134">Opis</span><span class="sxs-lookup"><span data-stu-id="4d75d-134">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="4d75d-135">client_id</span><span class="sxs-lookup"><span data-stu-id="4d75d-135">client_id</span></span> |<span data-ttu-id="4d75d-136">Wymagane</span><span class="sxs-lookup"><span data-stu-id="4d75d-136">Required</span></span> |<span data-ttu-id="4d75d-137">Identyfikator aplikacji Hello przypisany tooyour aplikacji w hello [portalu Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="4d75d-137">hello application ID assigned tooyour app in hello [Azure portal](https://portal.azure.com).</span></span> |
| <span data-ttu-id="4d75d-138">response_type</span><span class="sxs-lookup"><span data-stu-id="4d75d-138">response_type</span></span> |<span data-ttu-id="4d75d-139">Wymagane</span><span class="sxs-lookup"><span data-stu-id="4d75d-139">Required</span></span> |<span data-ttu-id="4d75d-140">Typ odpowiedzi Hello, który musi zawierać `code` dla przepływu kodu autoryzacji hello.</span><span class="sxs-lookup"><span data-stu-id="4d75d-140">hello response type, which must include `code` for hello authorization code flow.</span></span> |
| <span data-ttu-id="4d75d-141">redirect_uri</span><span class="sxs-lookup"><span data-stu-id="4d75d-141">redirect_uri</span></span> |<span data-ttu-id="4d75d-142">Wymagane</span><span class="sxs-lookup"><span data-stu-id="4d75d-142">Required</span></span> |<span data-ttu-id="4d75d-143">Identyfikator URI aplikacji, w którym wysyłanych i odbieranych przez aplikację uwierzytelniania odpowiedzi przekierowania Hello.</span><span class="sxs-lookup"><span data-stu-id="4d75d-143">hello redirect URI of your app, where authentication responses are sent and received by your app.</span></span> <span data-ttu-id="4d75d-144">Go musi dokładnie odpowiadać jeden hello przekierowania URI, który został zarejestrowany w portalu hello z tą różnicą, że musi być zakodowane w adresie URL.</span><span class="sxs-lookup"><span data-stu-id="4d75d-144">It must exactly match one of hello redirect URIs that you registered in hello portal, except that it must be URL-encoded.</span></span> |
| <span data-ttu-id="4d75d-145">Zakres</span><span class="sxs-lookup"><span data-stu-id="4d75d-145">scope</span></span> |<span data-ttu-id="4d75d-146">Wymagane</span><span class="sxs-lookup"><span data-stu-id="4d75d-146">Required</span></span> |<span data-ttu-id="4d75d-147">Rozdzieloną spacjami listę zakresów.</span><span class="sxs-lookup"><span data-stu-id="4d75d-147">A space-separated list of scopes.</span></span> <span data-ttu-id="4d75d-148">Wartość pojedynczy zakres wskazuje tooAzure usługi Active Directory (Azure AD) zarówno hello uprawnień, które są żądane.</span><span class="sxs-lookup"><span data-stu-id="4d75d-148">A single scope value indicates tooAzure Active Directory (Azure AD) both of hello permissions that are being requested.</span></span> <span data-ttu-id="4d75d-149">Za pomocą Identyfikatora jak zakres hello wskazuje, że Twoja aplikacja powinna tokenu dostępu, który można użyć w odniesieniu do własnych usług lub web API, reprezentowany przez klienta hello hello tego samego identyfikatora klienta.</span><span class="sxs-lookup"><span data-stu-id="4d75d-149">Using hello client ID as hello scope indicates that your app needs an access token that can be used against your own service or web API, represented by hello same client ID.</span></span>  <span data-ttu-id="4d75d-150">Witaj `offline_access` zakresu wskazuje, że aplikacja wymaga token odświeżania dla tooresources długotrwałe dostępu.</span><span class="sxs-lookup"><span data-stu-id="4d75d-150">hello `offline_access` scope indicates that your app needs a refresh token for long-lived access tooresources.</span></span> <span data-ttu-id="4d75d-151">Można też użyć hello `openid` toorequest zakres Identyfikatora tokenu z usługi Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="4d75d-151">You also can use hello `openid` scope toorequest an ID token from Azure AD B2C.</span></span> |
| <span data-ttu-id="4d75d-152">response_mode</span><span class="sxs-lookup"><span data-stu-id="4d75d-152">response_mode</span></span> |<span data-ttu-id="4d75d-153">Zalecane</span><span class="sxs-lookup"><span data-stu-id="4d75d-153">Recommended</span></span> |<span data-ttu-id="4d75d-154">Metoda Hello czy użyć toosend hello wynikowy autoryzacji kodu wstecz tooyour aplikacji.</span><span class="sxs-lookup"><span data-stu-id="4d75d-154">hello method that you use toosend hello resulting authorization code back tooyour app.</span></span> <span data-ttu-id="4d75d-155">Można ją `query`, `form_post`, lub `fragment`.</span><span class="sxs-lookup"><span data-stu-id="4d75d-155">It can be `query`, `form_post`, or `fragment`.</span></span> |
| <span data-ttu-id="4d75d-156">state</span><span class="sxs-lookup"><span data-stu-id="4d75d-156">state</span></span> |<span data-ttu-id="4d75d-157">Zalecane</span><span class="sxs-lookup"><span data-stu-id="4d75d-157">Recommended</span></span> |<span data-ttu-id="4d75d-158">Wartość zawarte w żądaniu hello, który jest zwracany w odpowiedzi tokenu hello.</span><span class="sxs-lookup"><span data-stu-id="4d75d-158">A value included in hello request that is returned in hello token response.</span></span> <span data-ttu-id="4d75d-159">Można go ciągu zawartości, które mają toouse.</span><span class="sxs-lookup"><span data-stu-id="4d75d-159">It can be a string of any content that you want toouse.</span></span> <span data-ttu-id="4d75d-160">Zwykle jest używana wartość losowo generowany unikatowy, okno fałszerstwie żądania międzywitrynowego tooprevent.</span><span class="sxs-lookup"><span data-stu-id="4d75d-160">Usually, a randomly generated unique value is  used, tooprevent cross-site request forgery attacks.</span></span> <span data-ttu-id="4d75d-161">Stan Hello także jest używane tooencode informacji na temat stanu hello użytkownika w aplikacji hello, przed wystąpieniem hello żądanie uwierzytelnienia.</span><span class="sxs-lookup"><span data-stu-id="4d75d-161">hello state also is used tooencode information about hello user's state in hello app before hello authentication request occurred.</span></span> <span data-ttu-id="4d75d-162">Na przykład użytkownika hello strony hello na lub hello zasad, które było wykonywane.</span><span class="sxs-lookup"><span data-stu-id="4d75d-162">For example, hello page hello user was on, or hello policy that was being executed.</span></span> |
| <span data-ttu-id="4d75d-163">P</span><span class="sxs-lookup"><span data-stu-id="4d75d-163">p</span></span> |<span data-ttu-id="4d75d-164">Wymagane</span><span class="sxs-lookup"><span data-stu-id="4d75d-164">Required</span></span> |<span data-ttu-id="4d75d-165">zasady Hello, która jest wykonywana.</span><span class="sxs-lookup"><span data-stu-id="4d75d-165">hello policy that is executed.</span></span> <span data-ttu-id="4d75d-166">Jego hello nazwę zasad, który jest tworzony w katalogu usługi Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="4d75d-166">It's hello name of a policy that is created in your Azure AD B2C directory.</span></span> <span data-ttu-id="4d75d-167">wartość Nazwa zasad Hello powinny rozpoczynać się od **b2c\_1\_**.</span><span class="sxs-lookup"><span data-stu-id="4d75d-167">hello policy name value should begin with **b2c\_1\_**.</span></span> <span data-ttu-id="4d75d-168">toolearn więcej informacji na temat zasad, zobacz [wbudowane zasady usługi Azure AD B2C](active-directory-b2c-reference-policies.md).</span><span class="sxs-lookup"><span data-stu-id="4d75d-168">toolearn more about policies, see [Azure AD B2C built-in policies](active-directory-b2c-reference-policies.md).</span></span> |
| <span data-ttu-id="4d75d-169">wiersz</span><span class="sxs-lookup"><span data-stu-id="4d75d-169">prompt</span></span> |<span data-ttu-id="4d75d-170">Optional (Opcjonalność)</span><span class="sxs-lookup"><span data-stu-id="4d75d-170">Optional</span></span> |<span data-ttu-id="4d75d-171">Typ Hello interakcji z użytkownikiem, który jest wymagany.</span><span class="sxs-lookup"><span data-stu-id="4d75d-171">hello type of user interaction that is required.</span></span> <span data-ttu-id="4d75d-172">Obecnie jest jedyną poprawną wartością hello `login`, która wymusza hello tooenter użytkownika poświadczeń dla tego żądania.</span><span class="sxs-lookup"><span data-stu-id="4d75d-172">Currently, hello only valid value is `login`, which forces hello user tooenter their credentials on that request.</span></span> <span data-ttu-id="4d75d-173">Logowanie jednokrotne nie zacznie obowiązywać.</span><span class="sxs-lookup"><span data-stu-id="4d75d-173">Single sign-on will not take effect.</span></span> |

<span data-ttu-id="4d75d-174">W tym momencie hello użytkownik jest proszony toocomplete hello zasad przepływu pracy.</span><span class="sxs-lookup"><span data-stu-id="4d75d-174">At this point, hello user is asked toocomplete hello policy's workflow.</span></span> <span data-ttu-id="4d75d-175">Może to obejmować użytkownika hello wprowadzić swoją nazwę użytkownika i hasło, zalogować się społecznościowych tożsamości, podczas tworzenia katalogu hello lub dowolnej liczby kroków.</span><span class="sxs-lookup"><span data-stu-id="4d75d-175">This might involve hello user entering their username and password, signing in with a social identity, signing up for hello directory, or any other number of steps.</span></span> <span data-ttu-id="4d75d-176">Akcje użytkownika zależą od tego, jak zdefiniowano hello zasad.</span><span class="sxs-lookup"><span data-stu-id="4d75d-176">User actions depend on how hello policy is defined.</span></span>

<span data-ttu-id="4d75d-177">Po zakończeniu zasad hello hello użytkownika usługi Azure AD zwraca aplikacji tooyour odpowiedzi, w wartości hello używane dla `redirect_uri`.</span><span class="sxs-lookup"><span data-stu-id="4d75d-177">After hello user completes hello policy, Azure AD returns a response tooyour app at hello value you used for `redirect_uri`.</span></span> <span data-ttu-id="4d75d-178">Używa metody hello określonej w hello `response_mode` parametru.</span><span class="sxs-lookup"><span data-stu-id="4d75d-178">It uses hello method specified in hello `response_mode` parameter.</span></span> <span data-ttu-id="4d75d-179">odpowiedź Hello jest hello dokładnie tego samego dla każdego hello akcji scenariusze użytkowników, niezależnie od zasady hello, które zostało wykonane.</span><span class="sxs-lookup"><span data-stu-id="4d75d-179">hello response is exactly hello same for each of hello user action scenarios, independent of hello policy that was executed.</span></span>

<span data-ttu-id="4d75d-180">Odpowiedź oznaczająca Powodzenie, która używa `response_mode=query` wygląda podobnie do następującej:</span><span class="sxs-lookup"><span data-stu-id="4d75d-180">A successful response that uses `response_mode=query` looks like this:</span></span>

```
GET urn:ietf:wg:oauth:2.0:oob?
code=AwABAAAAvPM1KaPlrEqdFSBzjqfTGBCmLdgfSTLEMPGYuNHSUYBrq...        // hello authorization_code, truncated
&state=arbitrary_data_you_can_receive_in_the_response                // hello value provided in hello request
```

| <span data-ttu-id="4d75d-181">Parametr</span><span class="sxs-lookup"><span data-stu-id="4d75d-181">Parameter</span></span> | <span data-ttu-id="4d75d-182">Opis</span><span class="sxs-lookup"><span data-stu-id="4d75d-182">Description</span></span> |
| --- | --- |
| <span data-ttu-id="4d75d-183">Kod</span><span class="sxs-lookup"><span data-stu-id="4d75d-183">code</span></span> |<span data-ttu-id="4d75d-184">Kod autoryzacji Hello hello żądanej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="4d75d-184">hello authorization code that hello app requested.</span></span> <span data-ttu-id="4d75d-185">Aplikacja Hello służy toorequest kod autoryzacji hello tokenu dostępu dla zasobu docelowego.</span><span class="sxs-lookup"><span data-stu-id="4d75d-185">hello app can use hello authorization code toorequest an access token for a target resource.</span></span> <span data-ttu-id="4d75d-186">Kody autoryzacji są bardzo krótkim okresie.</span><span class="sxs-lookup"><span data-stu-id="4d75d-186">Authorization codes are very short-lived.</span></span> <span data-ttu-id="4d75d-187">Zazwyczaj wygasną po około 10 minut.</span><span class="sxs-lookup"><span data-stu-id="4d75d-187">Typically, they expire after about 10 minutes.</span></span> |
| <span data-ttu-id="4d75d-188">state</span><span class="sxs-lookup"><span data-stu-id="4d75d-188">state</span></span> |<span data-ttu-id="4d75d-189">Zobacz pełny opis hello w tabeli hello w powyższej sekcji hello.</span><span class="sxs-lookup"><span data-stu-id="4d75d-189">See hello full description in hello table in hello preceding section.</span></span> <span data-ttu-id="4d75d-190">Jeśli `state` parametru jest częścią żądania hello hello tę samą wartość powinna być widoczna w odpowiedzi hello.</span><span class="sxs-lookup"><span data-stu-id="4d75d-190">If a `state` parameter is included in hello request, hello same value should appear in hello response.</span></span> <span data-ttu-id="4d75d-191">Witaj aplikacji należy sprawdzić, że hello `state` wartości hello żądań i odpowiedzi są identyczne.</span><span class="sxs-lookup"><span data-stu-id="4d75d-191">hello app should verify that hello `state` values in hello request and response are identical.</span></span> |

<span data-ttu-id="4d75d-192">Odpowiedzi na błędy również mogą być wysyłane identyfikator URI przekierowania toohello tak, aby hello aplikacji można je odpowiednią obsługę:</span><span class="sxs-lookup"><span data-stu-id="4d75d-192">Error responses also can be sent toohello redirect URI so that hello app can handle them appropriately:</span></span>

```
GET urn:ietf:wg:oauth:2.0:oob?
error=access_denied
&error_description=The+user+has+cancelled+entering+self-asserted+information
&state=arbitrary_data_you_can_receive_in_the_response
```

| <span data-ttu-id="4d75d-193">Parametr</span><span class="sxs-lookup"><span data-stu-id="4d75d-193">Parameter</span></span> | <span data-ttu-id="4d75d-194">Opis</span><span class="sxs-lookup"><span data-stu-id="4d75d-194">Description</span></span> |
| --- | --- |
| <span data-ttu-id="4d75d-195">error</span><span class="sxs-lookup"><span data-stu-id="4d75d-195">error</span></span> |<span data-ttu-id="4d75d-196">Ciąg kodu błędu, który można używać typów hello tooclassify występujące błędy.</span><span class="sxs-lookup"><span data-stu-id="4d75d-196">An error code string that you can use tooclassify hello types of errors that occur.</span></span> <span data-ttu-id="4d75d-197">Można też użyć tooerrors tooreact ciąg hello.</span><span class="sxs-lookup"><span data-stu-id="4d75d-197">You also can use hello string tooreact tooerrors.</span></span> |
| <span data-ttu-id="4d75d-198">error_description</span><span class="sxs-lookup"><span data-stu-id="4d75d-198">error_description</span></span> |<span data-ttu-id="4d75d-199">Komunikat o błędzie, który ułatwia identyfikowanie hello głównej przyczyny błędu uwierzytelniania.</span><span class="sxs-lookup"><span data-stu-id="4d75d-199">A specific error message that can help you identify hello root cause of an authentication error.</span></span> |
| <span data-ttu-id="4d75d-200">state</span><span class="sxs-lookup"><span data-stu-id="4d75d-200">state</span></span> |<span data-ttu-id="4d75d-201">Zobacz pełny opis hello w hello powyższej tabeli.</span><span class="sxs-lookup"><span data-stu-id="4d75d-201">See hello full description in hello preceding table.</span></span> <span data-ttu-id="4d75d-202">Jeśli `state` parametru jest częścią żądania hello hello tę samą wartość powinna być widoczna w odpowiedzi hello.</span><span class="sxs-lookup"><span data-stu-id="4d75d-202">If a `state` parameter is included in hello request, hello same value should appear in hello response.</span></span> <span data-ttu-id="4d75d-203">Witaj aplikacji należy sprawdzić, że hello `state` wartości hello żądań i odpowiedzi są identyczne.</span><span class="sxs-lookup"><span data-stu-id="4d75d-203">hello app should verify that hello `state` values in hello request and response are identical.</span></span> |

## <a name="2-get-a-token"></a><span data-ttu-id="4d75d-204">2. Uzyskaj token</span><span class="sxs-lookup"><span data-stu-id="4d75d-204">2. Get a token</span></span>
<span data-ttu-id="4d75d-205">Teraz, gdy zostały nabyte kod autoryzacji, możesz zrealizować hello `code` dla tokenu toohello zasobów, które wysyłając toohello żądania POST `/token` punktu końcowego.</span><span class="sxs-lookup"><span data-stu-id="4d75d-205">Now that you've acquired an authorization code, you can redeem hello `code` for a token toohello intended resource by sending a POST request toohello `/token` endpoint.</span></span> <span data-ttu-id="4d75d-206">W usłudze Azure AD B2C hello tylko tych zasobów, jakiej może żądać tokenu dla jest własnych aplikacji zaplecza interfejsu API sieci web.</span><span class="sxs-lookup"><span data-stu-id="4d75d-206">In Azure AD B2C, hello only resource that you can request a token for is your app's own back-end web API.</span></span> <span data-ttu-id="4d75d-207">Konwencja Hello, która jest używana dla żądania tokenu tooyourself jest toouse identyfikator klienta aplikacji jako zakres hello:</span><span class="sxs-lookup"><span data-stu-id="4d75d-207">hello convention that's used for requesting a token tooyourself is toouse your app's client ID as hello scope:</span></span>

```
POST fabrikamb2c.onmicrosoft.com/oauth2/v2.0/token?p=b2c_1_sign_in HTTP/1.1
Host: https://login.microsoftonline.com
Content-Type: application/x-www-form-urlencoded

grant_type=authorization_code&client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6&scope=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6 offline_access&code=AwABAAAAvPM1KaPlrEqdFSBzjqfTGBCmLdgfSTLEMPGYuNHSUYBrq...&redirect_uri=urn:ietf:wg:oauth:2.0:oob

```

| <span data-ttu-id="4d75d-208">Parametr</span><span class="sxs-lookup"><span data-stu-id="4d75d-208">Parameter</span></span> | <span data-ttu-id="4d75d-209">Wymagana?</span><span class="sxs-lookup"><span data-stu-id="4d75d-209">Required?</span></span> | <span data-ttu-id="4d75d-210">Opis</span><span class="sxs-lookup"><span data-stu-id="4d75d-210">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="4d75d-211">P</span><span class="sxs-lookup"><span data-stu-id="4d75d-211">p</span></span> |<span data-ttu-id="4d75d-212">Wymagane</span><span class="sxs-lookup"><span data-stu-id="4d75d-212">Required</span></span> |<span data-ttu-id="4d75d-213">Witaj zasad, które były używane tooacquire hello autoryzacji kodu.</span><span class="sxs-lookup"><span data-stu-id="4d75d-213">hello policy that was used tooacquire hello authorization code.</span></span> <span data-ttu-id="4d75d-214">Nie można użyć różnych zasad w tym żądaniu.</span><span class="sxs-lookup"><span data-stu-id="4d75d-214">You cannot use a different policy in this request.</span></span> <span data-ttu-id="4d75d-215">Uwaga dodanie tego parametru toohello *ciągu zapytania*, a nie w hello treść wpisu.</span><span class="sxs-lookup"><span data-stu-id="4d75d-215">Note that you add this parameter toohello *query string*, not in hello POST body.</span></span> |
| <span data-ttu-id="4d75d-216">client_id</span><span class="sxs-lookup"><span data-stu-id="4d75d-216">client_id</span></span> |<span data-ttu-id="4d75d-217">Wymagane</span><span class="sxs-lookup"><span data-stu-id="4d75d-217">Required</span></span> |<span data-ttu-id="4d75d-218">Identyfikator aplikacji Hello przypisany tooyour aplikacji w hello [portalu Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="4d75d-218">hello application ID assigned tooyour app in hello [Azure portal](https://portal.azure.com).</span></span> |
| <span data-ttu-id="4d75d-219">Typ grant_type</span><span class="sxs-lookup"><span data-stu-id="4d75d-219">grant_type</span></span> |<span data-ttu-id="4d75d-220">Wymagane</span><span class="sxs-lookup"><span data-stu-id="4d75d-220">Required</span></span> |<span data-ttu-id="4d75d-221">Typ Hello grant.</span><span class="sxs-lookup"><span data-stu-id="4d75d-221">hello type of grant.</span></span> <span data-ttu-id="4d75d-222">Witaj przepływu kodu autoryzacji, musi być typu przydziału hello `authorization_code`.</span><span class="sxs-lookup"><span data-stu-id="4d75d-222">For hello authorization code flow, hello grant type must be `authorization_code`.</span></span> |
| <span data-ttu-id="4d75d-223">Zakres</span><span class="sxs-lookup"><span data-stu-id="4d75d-223">scope</span></span> |<span data-ttu-id="4d75d-224">Zalecane</span><span class="sxs-lookup"><span data-stu-id="4d75d-224">Recommended</span></span> |<span data-ttu-id="4d75d-225">Rozdzieloną spacjami listę zakresów.</span><span class="sxs-lookup"><span data-stu-id="4d75d-225">A space-separated list of scopes.</span></span> <span data-ttu-id="4d75d-226">Wartość pojedynczy zakres wskazuje tooAzure AD zarówno hello uprawnienia, które są żądane.</span><span class="sxs-lookup"><span data-stu-id="4d75d-226">A single scope value indicates tooAzure AD both of hello permissions that are being requested.</span></span> <span data-ttu-id="4d75d-227">Za pomocą Identyfikatora jak zakres hello wskazuje, że Twoja aplikacja powinna tokenu dostępu, który można użyć w odniesieniu do własnych usług lub web API, reprezentowany przez klienta hello hello tego samego identyfikatora klienta.</span><span class="sxs-lookup"><span data-stu-id="4d75d-227">Using hello client ID as hello scope indicates that your app needs an access token that can be used against your own service or web API, represented by hello same client ID.</span></span>  <span data-ttu-id="4d75d-228">Witaj `offline_access` zakresu wskazuje, że aplikacja wymaga token odświeżania dla tooresources długotrwałe dostępu.</span><span class="sxs-lookup"><span data-stu-id="4d75d-228">hello `offline_access` scope indicates that your app needs a refresh token for long-lived access tooresources.</span></span>  <span data-ttu-id="4d75d-229">Można też użyć hello `openid` toorequest zakres Identyfikatora tokenu z usługi Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="4d75d-229">You also can use hello `openid` scope toorequest an ID token from Azure AD B2C.</span></span> |
| <span data-ttu-id="4d75d-230">Kod</span><span class="sxs-lookup"><span data-stu-id="4d75d-230">code</span></span> |<span data-ttu-id="4d75d-231">Wymagane</span><span class="sxs-lookup"><span data-stu-id="4d75d-231">Required</span></span> |<span data-ttu-id="4d75d-232">Kod autoryzacji Hello uzyskanego w hello pierwszego etap hello przepływu.</span><span class="sxs-lookup"><span data-stu-id="4d75d-232">hello authorization code that you acquired in hello first leg of hello flow.</span></span> |
| <span data-ttu-id="4d75d-233">redirect_uri</span><span class="sxs-lookup"><span data-stu-id="4d75d-233">redirect_uri</span></span> |<span data-ttu-id="4d75d-234">Wymagane</span><span class="sxs-lookup"><span data-stu-id="4d75d-234">Required</span></span> |<span data-ttu-id="4d75d-235">Identyfikator URI aplikacji hello gdzie otrzymany kod autoryzacji hello przekierowania Hello.</span><span class="sxs-lookup"><span data-stu-id="4d75d-235">hello redirect URI of hello application where you received hello authorization code.</span></span> |

<span data-ttu-id="4d75d-236">Odpowiedź oznaczająca Powodzenie tokenu wygląda następująco:</span><span class="sxs-lookup"><span data-stu-id="4d75d-236">A successful token response looks like this:</span></span>

```
{
    "not_before": "1442340812",
    "token_type": "Bearer",
    "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...",
    "scope": "90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6 offline_access",
    "expires_in": "3600",
    "refresh_token": "AAQfQmvuDy8WtUv-sd0TBwWVQs1rC-Lfxa_NDkLqpg50Cxp5Dxj0VPF1mx2Z...",
}
```
| <span data-ttu-id="4d75d-237">Parametr</span><span class="sxs-lookup"><span data-stu-id="4d75d-237">Parameter</span></span> | <span data-ttu-id="4d75d-238">Opis</span><span class="sxs-lookup"><span data-stu-id="4d75d-238">Description</span></span> |
| --- | --- |
| <span data-ttu-id="4d75d-239">not_before</span><span class="sxs-lookup"><span data-stu-id="4d75d-239">not_before</span></span> |<span data-ttu-id="4d75d-240">czas Hello, w których hello token jest uznawany za ważny w czasie epoki.</span><span class="sxs-lookup"><span data-stu-id="4d75d-240">hello time at which hello token is considered valid, in epoch time.</span></span> |
| <span data-ttu-id="4d75d-241">token_type</span><span class="sxs-lookup"><span data-stu-id="4d75d-241">token_type</span></span> |<span data-ttu-id="4d75d-242">wartość tokenu typu Hello.</span><span class="sxs-lookup"><span data-stu-id="4d75d-242">hello token type value.</span></span> <span data-ttu-id="4d75d-243">Hello tylko typ, czy obsługa usługi Azure AD jest elementu nośnego.</span><span class="sxs-lookup"><span data-stu-id="4d75d-243">hello only type that Azure AD supports is Bearer.</span></span> |
| <span data-ttu-id="4d75d-244">' access_token '</span><span class="sxs-lookup"><span data-stu-id="4d75d-244">access_token</span></span> |<span data-ttu-id="4d75d-245">Witaj podpisany JSON Web Token (JWT) żądanych.</span><span class="sxs-lookup"><span data-stu-id="4d75d-245">hello signed JSON Web Token (JWT) that you requested.</span></span> |
| <span data-ttu-id="4d75d-246">Zakres</span><span class="sxs-lookup"><span data-stu-id="4d75d-246">scope</span></span> |<span data-ttu-id="4d75d-247">zakresy Hello hello token jest prawidłowy dla.</span><span class="sxs-lookup"><span data-stu-id="4d75d-247">hello scopes that hello token is valid for.</span></span> <span data-ttu-id="4d75d-248">Możesz również używaj tokenów toocache zakresów do późniejszego użycia.</span><span class="sxs-lookup"><span data-stu-id="4d75d-248">You also can use scopes toocache tokens for later use.</span></span> |
| <span data-ttu-id="4d75d-249">expires_in</span><span class="sxs-lookup"><span data-stu-id="4d75d-249">expires_in</span></span> |<span data-ttu-id="4d75d-250">Hello długość czasu, przez który hello token jest prawidłowy (w sekundach).</span><span class="sxs-lookup"><span data-stu-id="4d75d-250">hello length of time that hello token is valid (in seconds).</span></span> |
| <span data-ttu-id="4d75d-251">refresh_token</span><span class="sxs-lookup"><span data-stu-id="4d75d-251">refresh_token</span></span> |<span data-ttu-id="4d75d-252">Token odświeżania OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="4d75d-252">An OAuth 2.0 refresh token.</span></span> <span data-ttu-id="4d75d-253">Aplikacja Hello można użyć tego tokenu tooacquire dodatkowe tokeny, po wygaśnięciu tokenu bieżącego hello.</span><span class="sxs-lookup"><span data-stu-id="4d75d-253">hello app can use this token tooacquire additional tokens after hello current token expires.</span></span> <span data-ttu-id="4d75d-254">Tokeny odświeżania są długotrwałe.</span><span class="sxs-lookup"><span data-stu-id="4d75d-254">Refresh tokens are long-lived.</span></span> <span data-ttu-id="4d75d-255">Można używać tooresources dostępu tooretain ich przez dłuższy czas.</span><span class="sxs-lookup"><span data-stu-id="4d75d-255">You can use them tooretain access tooresources for extended periods of time.</span></span> <span data-ttu-id="4d75d-256">Aby uzyskać więcej informacji, zobacz hello [odwołania do tokenu usługi Azure AD B2C](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="4d75d-256">For more information, see hello [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span> |

<span data-ttu-id="4d75d-257">Odpowiedzi na błędy wyglądać następująco:</span><span class="sxs-lookup"><span data-stu-id="4d75d-257">Error responses look like this:</span></span>

```
{
    "error": "access_denied",
    "error_description": "hello user revoked access toohello app.",
}
```

| <span data-ttu-id="4d75d-258">Parametr</span><span class="sxs-lookup"><span data-stu-id="4d75d-258">Parameter</span></span> | <span data-ttu-id="4d75d-259">Opis</span><span class="sxs-lookup"><span data-stu-id="4d75d-259">Description</span></span> |
| --- | --- |
| <span data-ttu-id="4d75d-260">error</span><span class="sxs-lookup"><span data-stu-id="4d75d-260">error</span></span> |<span data-ttu-id="4d75d-261">Ciąg kodu błędu, który można używać typów hello tooclassify występujące błędy.</span><span class="sxs-lookup"><span data-stu-id="4d75d-261">An error code string that you can use tooclassify hello types of errors that occur.</span></span> <span data-ttu-id="4d75d-262">Można też użyć tooerrors tooreact ciąg hello.</span><span class="sxs-lookup"><span data-stu-id="4d75d-262">You also can use hello string tooreact tooerrors.</span></span> |
| <span data-ttu-id="4d75d-263">error_description</span><span class="sxs-lookup"><span data-stu-id="4d75d-263">error_description</span></span> |<span data-ttu-id="4d75d-264">Komunikat o błędzie, który ułatwia identyfikowanie hello głównej przyczyny błędu uwierzytelniania.</span><span class="sxs-lookup"><span data-stu-id="4d75d-264">A specific error message that can help you identify hello root cause of an authentication error.</span></span> |

## <a name="3-use-hello-token"></a><span data-ttu-id="4d75d-265">3. Użyj tokenu hello</span><span class="sxs-lookup"><span data-stu-id="4d75d-265">3. Use hello token</span></span>
<span data-ttu-id="4d75d-266">Teraz, zostały pomyślnie uzyskano tokenu dostępu, można hello token w żądań tooyour zaplecza interfejsów API sieci web przez dołączenie go do hello `Authorization` nagłówka:</span><span class="sxs-lookup"><span data-stu-id="4d75d-266">Now that you've successfully acquired an access token, you can use hello token in requests tooyour back-end web APIs by including it in hello `Authorization` header:</span></span>

```
GET /tasks
Host: https://mytaskwebapi.com
Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...
```

## <a name="4-refresh-hello-token"></a><span data-ttu-id="4d75d-267">4. Odśwież hello tokenu</span><span class="sxs-lookup"><span data-stu-id="4d75d-267">4. Refresh hello token</span></span>
<span data-ttu-id="4d75d-268">Tokeny dostępu i identyfikator tokeny są krótkim okresie.</span><span class="sxs-lookup"><span data-stu-id="4d75d-268">Access tokens and ID tokens are short-lived.</span></span> <span data-ttu-id="4d75d-269">Po wygasną, należy je odświeżyć toocontinue tooaccess zasobów.</span><span class="sxs-lookup"><span data-stu-id="4d75d-269">After they expire, you must refresh them toocontinue tooaccess resources.</span></span> <span data-ttu-id="4d75d-270">toodo to, przesłać innego toohello żądania POST `/token` punktu końcowego.</span><span class="sxs-lookup"><span data-stu-id="4d75d-270">toodo this, submit another POST request toohello `/token` endpoint.</span></span> <span data-ttu-id="4d75d-271">Teraz, podaj hello `refresh_token` zamiast hello `code`:</span><span class="sxs-lookup"><span data-stu-id="4d75d-271">This time, provide hello `refresh_token` instead of hello `code`:</span></span>

```
POST fabrikamb2c.onmicrosoft.com/oauth2/v2.0/token?p=b2c_1_sign_in HTTP/1.1
Host: https://login.microsoftonline.com
Content-Type: application/x-www-form-urlencoded

grant_type=refresh_token&client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6&scope=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6 offline_access&refresh_token=AwABAAAAvPM1KaPlrEqdFSBzjqfTGBCmLdgfSTLEMPGYuNHSUYBrq...&redirect_uri=urn:ietf:wg:oauth:2.0:oob
```

| <span data-ttu-id="4d75d-272">Parametr</span><span class="sxs-lookup"><span data-stu-id="4d75d-272">Parameter</span></span> | <span data-ttu-id="4d75d-273">Wymagana?</span><span class="sxs-lookup"><span data-stu-id="4d75d-273">Required?</span></span> | <span data-ttu-id="4d75d-274">Opis</span><span class="sxs-lookup"><span data-stu-id="4d75d-274">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="4d75d-275">P</span><span class="sxs-lookup"><span data-stu-id="4d75d-275">p</span></span> |<span data-ttu-id="4d75d-276">Wymagane</span><span class="sxs-lookup"><span data-stu-id="4d75d-276">Required</span></span> |<span data-ttu-id="4d75d-277">Hello zasady, które zostało tooacquire używane hello oryginalnego token odświeżania.</span><span class="sxs-lookup"><span data-stu-id="4d75d-277">hello policy that was used tooacquire hello original refresh token.</span></span> <span data-ttu-id="4d75d-278">Nie można użyć różnych zasad w tym żądaniu.</span><span class="sxs-lookup"><span data-stu-id="4d75d-278">You cannot use a different policy in this request.</span></span> <span data-ttu-id="4d75d-279">Uwaga dodanie tego parametru toohello *ciągu zapytania*, a nie w hello treść wpisu.</span><span class="sxs-lookup"><span data-stu-id="4d75d-279">Note that you add this parameter toohello *query string*, not in hello POST body.</span></span> |
| <span data-ttu-id="4d75d-280">client_id</span><span class="sxs-lookup"><span data-stu-id="4d75d-280">client_id</span></span> |<span data-ttu-id="4d75d-281">Zalecane</span><span class="sxs-lookup"><span data-stu-id="4d75d-281">Recommended</span></span> |<span data-ttu-id="4d75d-282">Identyfikator aplikacji Hello przypisany tooyour aplikacji w hello [portalu Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="4d75d-282">hello application ID assigned tooyour app in hello [Azure portal](https://portal.azure.com).</span></span> |
| <span data-ttu-id="4d75d-283">Typ grant_type</span><span class="sxs-lookup"><span data-stu-id="4d75d-283">grant_type</span></span> |<span data-ttu-id="4d75d-284">Wymagane</span><span class="sxs-lookup"><span data-stu-id="4d75d-284">Required</span></span> |<span data-ttu-id="4d75d-285">Typ Hello grant.</span><span class="sxs-lookup"><span data-stu-id="4d75d-285">hello type of grant.</span></span> <span data-ttu-id="4d75d-286">Ten etap przepływu kodu autoryzacji hello musi być typu przydziału hello `refresh_token`.</span><span class="sxs-lookup"><span data-stu-id="4d75d-286">For this leg of hello authorization code flow, hello grant type must be `refresh_token`.</span></span> |
| <span data-ttu-id="4d75d-287">Zakres</span><span class="sxs-lookup"><span data-stu-id="4d75d-287">scope</span></span> |<span data-ttu-id="4d75d-288">Zalecane</span><span class="sxs-lookup"><span data-stu-id="4d75d-288">Recommended</span></span> |<span data-ttu-id="4d75d-289">Rozdzieloną spacjami listę zakresów.</span><span class="sxs-lookup"><span data-stu-id="4d75d-289">A space-separated list of scopes.</span></span> <span data-ttu-id="4d75d-290">Wartość pojedynczy zakres wskazuje tooAzure AD zarówno hello uprawnienia, które są żądane.</span><span class="sxs-lookup"><span data-stu-id="4d75d-290">A single scope value indicates tooAzure AD both of hello permissions that are being requested.</span></span> <span data-ttu-id="4d75d-291">Za pomocą Identyfikatora jak zakres hello wskazuje, że Twoja aplikacja powinna tokenu dostępu, który można użyć w odniesieniu do własnych usług lub web API, reprezentowany przez klienta hello hello tego samego identyfikatora klienta.</span><span class="sxs-lookup"><span data-stu-id="4d75d-291">Using hello client ID as hello scope indicates that your app needs an access token that can be used against your own service or web API, represented by hello same client ID.</span></span>  <span data-ttu-id="4d75d-292">Witaj `offline_access` zakresu wskazuje, że aplikacja będzie potrzebny token odświeżania tooresources długotrwałe dostępu.</span><span class="sxs-lookup"><span data-stu-id="4d75d-292">hello `offline_access` scope indicates that your app will need a refresh token for long-lived access tooresources.</span></span>  <span data-ttu-id="4d75d-293">Można też użyć hello `openid` toorequest zakres Identyfikatora tokenu z usługi Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="4d75d-293">You also can use hello `openid` scope toorequest an ID token from Azure AD B2C.</span></span> |
| <span data-ttu-id="4d75d-294">redirect_uri</span><span class="sxs-lookup"><span data-stu-id="4d75d-294">redirect_uri</span></span> |<span data-ttu-id="4d75d-295">Optional (Opcjonalność)</span><span class="sxs-lookup"><span data-stu-id="4d75d-295">Optional</span></span> |<span data-ttu-id="4d75d-296">Identyfikator URI aplikacji hello gdzie otrzymany kod autoryzacji hello przekierowania Hello.</span><span class="sxs-lookup"><span data-stu-id="4d75d-296">hello redirect URI of hello application where you received hello authorization code.</span></span> |
| <span data-ttu-id="4d75d-297">refresh_token</span><span class="sxs-lookup"><span data-stu-id="4d75d-297">refresh_token</span></span> |<span data-ttu-id="4d75d-298">Wymagane</span><span class="sxs-lookup"><span data-stu-id="4d75d-298">Required</span></span> |<span data-ttu-id="4d75d-299">Witaj oryginalnego token odświeżania uzyskanego w drugi etap hello hello przepływu.</span><span class="sxs-lookup"><span data-stu-id="4d75d-299">hello original refresh token that you acquired in hello second leg of hello flow.</span></span> |

<span data-ttu-id="4d75d-300">Odpowiedź oznaczająca Powodzenie tokenu wygląda następująco:</span><span class="sxs-lookup"><span data-stu-id="4d75d-300">A successful token response looks like this:</span></span>

```
{
    "not_before": "1442340812",
    "token_type": "Bearer",
    "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...",
    "scope": "90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6 offline_access",
    "expires_in": "3600",
    "refresh_token": "AAQfQmvuDy8WtUv-sd0TBwWVQs1rC-Lfxa_NDkLqpg50Cxp5Dxj0VPF1mx2Z...",
}
```
| <span data-ttu-id="4d75d-301">Parametr</span><span class="sxs-lookup"><span data-stu-id="4d75d-301">Parameter</span></span> | <span data-ttu-id="4d75d-302">Opis</span><span class="sxs-lookup"><span data-stu-id="4d75d-302">Description</span></span> |
| --- | --- |
| <span data-ttu-id="4d75d-303">not_before</span><span class="sxs-lookup"><span data-stu-id="4d75d-303">not_before</span></span> |<span data-ttu-id="4d75d-304">czas Hello, w których hello token jest uznawany za ważny w czasie epoki.</span><span class="sxs-lookup"><span data-stu-id="4d75d-304">hello time at which hello token is considered valid, in epoch time.</span></span> |
| <span data-ttu-id="4d75d-305">token_type</span><span class="sxs-lookup"><span data-stu-id="4d75d-305">token_type</span></span> |<span data-ttu-id="4d75d-306">wartość tokenu typu Hello.</span><span class="sxs-lookup"><span data-stu-id="4d75d-306">hello token type value.</span></span> <span data-ttu-id="4d75d-307">Hello tylko typ, czy obsługa usługi Azure AD jest elementu nośnego.</span><span class="sxs-lookup"><span data-stu-id="4d75d-307">hello only type that Azure AD supports is Bearer.</span></span> |
| <span data-ttu-id="4d75d-308">' access_token '</span><span class="sxs-lookup"><span data-stu-id="4d75d-308">access_token</span></span> |<span data-ttu-id="4d75d-309">Hello podpisany token JWT, którego zażądano.</span><span class="sxs-lookup"><span data-stu-id="4d75d-309">hello signed JWT that you requested.</span></span> |
| <span data-ttu-id="4d75d-310">Zakres</span><span class="sxs-lookup"><span data-stu-id="4d75d-310">scope</span></span> |<span data-ttu-id="4d75d-311">zakresy Hello hello token jest prawidłowy dla.</span><span class="sxs-lookup"><span data-stu-id="4d75d-311">hello scopes that hello token is valid for.</span></span> <span data-ttu-id="4d75d-312">Możesz również używaj tokenów toocache zakresy hello do późniejszego użycia.</span><span class="sxs-lookup"><span data-stu-id="4d75d-312">You also can use hello scopes toocache tokens for later use.</span></span> |
| <span data-ttu-id="4d75d-313">expires_in</span><span class="sxs-lookup"><span data-stu-id="4d75d-313">expires_in</span></span> |<span data-ttu-id="4d75d-314">Hello długość czasu, przez który hello token jest prawidłowy (w sekundach).</span><span class="sxs-lookup"><span data-stu-id="4d75d-314">hello length of time that hello token is valid (in seconds).</span></span> |
| <span data-ttu-id="4d75d-315">refresh_token</span><span class="sxs-lookup"><span data-stu-id="4d75d-315">refresh_token</span></span> |<span data-ttu-id="4d75d-316">Token odświeżania OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="4d75d-316">An OAuth 2.0 refresh token.</span></span> <span data-ttu-id="4d75d-317">Aplikacja Hello można użyć tego tokenu tooacquire dodatkowe tokeny, po wygaśnięciu tokenu bieżącego hello.</span><span class="sxs-lookup"><span data-stu-id="4d75d-317">hello app can use this token tooacquire additional tokens after hello current token expires.</span></span> <span data-ttu-id="4d75d-318">Odśwież tokeny są to długotrwałe i mogą być używane tooretain tooresources dostępu przez dłuższy czas.</span><span class="sxs-lookup"><span data-stu-id="4d75d-318">Refresh tokens are long-lived, and can be used tooretain access tooresources for extended periods of time.</span></span> <span data-ttu-id="4d75d-319">Aby uzyskać więcej informacji, zobacz hello [odwołania do tokenu usługi Azure AD B2C](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="4d75d-319">For more information, see hello [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span> |

<span data-ttu-id="4d75d-320">Odpowiedzi na błędy wyglądać następująco:</span><span class="sxs-lookup"><span data-stu-id="4d75d-320">Error responses look like this:</span></span>

```
{
    "error": "access_denied",
    "error_description": "hello user revoked access toohello app.",
}
```

| <span data-ttu-id="4d75d-321">Parametr</span><span class="sxs-lookup"><span data-stu-id="4d75d-321">Parameter</span></span> | <span data-ttu-id="4d75d-322">Opis</span><span class="sxs-lookup"><span data-stu-id="4d75d-322">Description</span></span> |
| --- | --- |
| <span data-ttu-id="4d75d-323">error</span><span class="sxs-lookup"><span data-stu-id="4d75d-323">error</span></span> |<span data-ttu-id="4d75d-324">Ciąg kodu błędu, który można używać typów tooclassify występujące błędy.</span><span class="sxs-lookup"><span data-stu-id="4d75d-324">An error code string that you can use tooclassify types of errors that occur.</span></span> <span data-ttu-id="4d75d-325">Można też użyć tooerrors tooreact ciąg hello.</span><span class="sxs-lookup"><span data-stu-id="4d75d-325">You also can use hello string tooreact tooerrors.</span></span> |
| <span data-ttu-id="4d75d-326">error_description</span><span class="sxs-lookup"><span data-stu-id="4d75d-326">error_description</span></span> |<span data-ttu-id="4d75d-327">Komunikat o błędzie, który ułatwia identyfikowanie hello głównej przyczyny błędu uwierzytelniania.</span><span class="sxs-lookup"><span data-stu-id="4d75d-327">A specific error message that can help you identify hello root cause of an authentication error.</span></span> |

## <a name="use-your-own-azure-ad-b2c-directory"></a><span data-ttu-id="4d75d-328">Użyj katalogu usługi Azure AD B2C</span><span class="sxs-lookup"><span data-stu-id="4d75d-328">Use your own Azure AD B2C directory</span></span>
<span data-ttu-id="4d75d-329">tootry te żądania samodzielnie pełną hello następujące kroki.</span><span class="sxs-lookup"><span data-stu-id="4d75d-329">tootry these requests yourself, complete hello following steps.</span></span> <span data-ttu-id="4d75d-330">Zastąp hello przykładowe wartości, używane w tym artykule i własne wartości.</span><span class="sxs-lookup"><span data-stu-id="4d75d-330">Replace hello example values we used in this article with your own values.</span></span>

1. <span data-ttu-id="4d75d-331">[Utwórz katalog usługi Azure AD B2C](active-directory-b2c-get-started.md).</span><span class="sxs-lookup"><span data-stu-id="4d75d-331">[Create an Azure AD B2C directory](active-directory-b2c-get-started.md).</span></span> <span data-ttu-id="4d75d-332">Użyj nazwy hello katalogu w żądaniach hello.</span><span class="sxs-lookup"><span data-stu-id="4d75d-332">Use hello name of your directory in hello requests.</span></span>
2. <span data-ttu-id="4d75d-333">[Tworzenie aplikacji](active-directory-b2c-app-registration.md) tooobtain identyfikator aplikacji i identyfikator URI przekierowania.</span><span class="sxs-lookup"><span data-stu-id="4d75d-333">[Create an application](active-directory-b2c-app-registration.md) tooobtain an application ID and a redirect URI.</span></span> <span data-ttu-id="4d75d-334">Uwzględnij klienta natywnego w aplikacji.</span><span class="sxs-lookup"><span data-stu-id="4d75d-334">Include a native client in your app.</span></span>
3. <span data-ttu-id="4d75d-335">[Tworzenie zasad](active-directory-b2c-reference-policies.md) tooobtain nazwy zasad.</span><span class="sxs-lookup"><span data-stu-id="4d75d-335">[Create your policies](active-directory-b2c-reference-policies.md) tooobtain your policy names.</span></span>

