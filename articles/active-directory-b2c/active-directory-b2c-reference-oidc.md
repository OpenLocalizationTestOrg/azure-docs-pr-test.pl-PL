---
title: "Sieci Web logowania z OpenID Connect - usługi Azure AD B2C | Dokumentacja firmy Microsoft"
description: "Tworzenie aplikacji sieci web przy użyciu usługi Azure Active Directory hello implementacji protokołu uwierzytelniania OpenID Connect hello"
services: active-directory-b2c
documentationcenter: 
author: saeedakhter-msft
manager: krassk
editor: parakhj
ms.assetid: 21d420c8-3c10-4319-b681-adf2e89e7ede
ms.service: active-directory-b2c
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/16/2017
ms.author: saeedakhter-msft
ms.openlocfilehash: 89e9cfa28e4e5c34304aea355cca2dd0c4b42abc
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="azure-active-directory-b2c-web-sign-in-with-openid-connect"></a><span data-ttu-id="89e93-103">Usługa Azure Active Directory B2C: Sieci Web logowania z OpenID Connect</span><span class="sxs-lookup"><span data-stu-id="89e93-103">Azure Active Directory B2C: Web sign-in with OpenID Connect</span></span>
<span data-ttu-id="89e93-104">OpenID Connect to protokół uwierzytelniania, rozszerzający OAuth 2.0, które mogą być używane toosecurely logowania użytkowników w aplikacjach tooweb.</span><span class="sxs-lookup"><span data-stu-id="89e93-104">OpenID Connect is an authentication protocol, built on top of OAuth 2.0, that can be used toosecurely sign users in tooweb applications.</span></span> <span data-ttu-id="89e93-105">Przy użyciu wdrażania protokołu OpenID Connect (Azure AD B2C) hello Azure Active Directory B2C, można zewnętrzny rejestrację, logowanie i wykonywania innych zarządzania tożsamościami w tooAzure aplikacji sieci web usługi Active Directory (Azure AD).</span><span class="sxs-lookup"><span data-stu-id="89e93-105">By using hello Azure Active Directory B2C (Azure AD B2C) implementation of OpenID Connect, you can outsource sign-up, sign-in, and other identity management experiences in your web applications tooAzure Active Directory (Azure AD).</span></span> <span data-ttu-id="89e93-106">W tym przewodniku przedstawiono sposób toodo tak w sposób niezależny od języka.</span><span class="sxs-lookup"><span data-stu-id="89e93-106">This guide shows you how toodo so in a language-independent manner.</span></span> <span data-ttu-id="89e93-107">Opisuje sposób toosend i odbieranie wiadomości HTTP bez przy użyciu dowolnej z naszych bibliotekach open source.</span><span class="sxs-lookup"><span data-stu-id="89e93-107">It describes how toosend and receive HTTP messages without using any of our open-source libraries.</span></span>

<span data-ttu-id="89e93-108">[OpenID Connect](http://openid.net/specs/openid-connect-core-1_0.html) rozszerza hello OAuth 2.0 *autoryzacji* protokół do użycia jako *uwierzytelniania* protokołu.</span><span class="sxs-lookup"><span data-stu-id="89e93-108">[OpenID Connect](http://openid.net/specs/openid-connect-core-1_0.html) extends hello OAuth 2.0 *authorization* protocol for use as an *authentication* protocol.</span></span> <span data-ttu-id="89e93-109">Dzięki temu można tooperform logowania jednokrotnego przy użyciu uwierzytelniania OAuth.</span><span class="sxs-lookup"><span data-stu-id="89e93-109">This allows you tooperform single sign-on by using OAuth.</span></span> <span data-ttu-id="89e93-110">Wprowadza ona pojęcia hello *token Identyfikatora*, który jest token zabezpieczający, który umożliwia powitania klienta tooverify hello tożsamości użytkownika hello i uzyskać profilu podstawowe informacje o użytkowniku hello.</span><span class="sxs-lookup"><span data-stu-id="89e93-110">It introduces hello concept of an *ID token*, which is a security token that allows hello client tooverify hello identity of hello user and obtain basic profile information about hello user.</span></span>

<span data-ttu-id="89e93-111">Ponieważ rozszerza on OAuth 2.0, umożliwia również uzyskanie toosecurely aplikacji *tokenów dostępu*.</span><span class="sxs-lookup"><span data-stu-id="89e93-111">Because it extends OAuth 2.0, it also enables apps toosecurely acquire *access tokens*.</span></span> <span data-ttu-id="89e93-112">Można użyć access_tokens tooaccess zasoby, które są zabezpieczone przez [serwera autoryzacji](active-directory-b2c-reference-protocols.md#the-basics).</span><span class="sxs-lookup"><span data-stu-id="89e93-112">You can use access_tokens tooaccess resources that are secured by an [authorization server](active-directory-b2c-reference-protocols.md#the-basics).</span></span> <span data-ttu-id="89e93-113">Zalecamy OpenID Connect, jeśli tworzysz aplikację sieci web jest hostowany na serwerze i dostępne za pośrednictwem przeglądarki.</span><span class="sxs-lookup"><span data-stu-id="89e93-113">We recommend OpenID Connect if you're building a web application that is hosted on a server and accessed through a browser.</span></span> <span data-ttu-id="89e93-114">Jeśli chcesz tooadd tożsamości zarządzania tooyour aplikacji mobilnych lub komputerowych, za pomocą usługi Azure AD B2C, należy użyć [OAuth 2.0](active-directory-b2c-reference-oauth-code.md) zamiast OpenID Connect.</span><span class="sxs-lookup"><span data-stu-id="89e93-114">If you want tooadd identity management tooyour mobile or desktop applications by using Azure AD B2C, you should use [OAuth 2.0](active-directory-b2c-reference-oauth-code.md) rather than OpenID Connect.</span></span>

<span data-ttu-id="89e93-115">Usługa Azure AD B2C rozszerza hello standardowe OpenID Connect toodo protokołu więcej niż prostego uwierzytelniania i autoryzacji.</span><span class="sxs-lookup"><span data-stu-id="89e93-115">Azure AD B2C extends hello standard OpenID Connect protocol toodo more than simple authentication and authorization.</span></span> <span data-ttu-id="89e93-116">Podaj hello [parametru zasady](active-directory-b2c-reference-policies.md), umożliwiający toouse OpenID Connect tooadd wrażenia użytkowników — takich jak konta, logowania i zarządzania profilami--tooyour aplikacji.</span><span class="sxs-lookup"><span data-stu-id="89e93-116">It introduces hello [policy parameter](active-directory-b2c-reference-policies.md), which enables you toouse OpenID Connect tooadd user experiences--such as sign-up, sign-in, and profile management--tooyour app.</span></span> <span data-ttu-id="89e93-117">W tym miejscu zostanie przedstawiony zostanie sposób tooimplement OpenID Connect i zasady toouse wykonywania każdego z nich w aplikacji sieci web.</span><span class="sxs-lookup"><span data-stu-id="89e93-117">Here, we show you how toouse OpenID Connect and policies tooimplement each of these experiences in your web applications.</span></span> <span data-ttu-id="89e93-118">Również pokażemy ci jak jest tooget tokenów dostępu do uzyskiwania dostępu do interfejsów API sieci web.</span><span class="sxs-lookup"><span data-stu-id="89e93-118">We'll also show you how tooget access tokens for accessing web APIs.</span></span>

<span data-ttu-id="89e93-119">Witaj przykład HTTP żądania w następnej sekcji hello przy użyciu katalogu B2C naszej próbki, fabrikamb2c.onmicrosoft.com, jak również naszych przykładowej aplikacji https://aadb2cplayground.azurewebsites.net i zasad.</span><span class="sxs-lookup"><span data-stu-id="89e93-119">hello example HTTP requests in hello next section use our sample B2C directory, fabrikamb2c.onmicrosoft.com, as well as our sample application, https://aadb2cplayground.azurewebsites.net, and policies.</span></span> <span data-ttu-id="89e93-120">Można go dowolnie tootry limit hello żądań samodzielnie przy użyciu tych wartości, lub można je zastąpić własnymi.</span><span class="sxs-lookup"><span data-stu-id="89e93-120">You're free tootry out hello requests yourself by using these values, or you can replace them with your own.</span></span>
<span data-ttu-id="89e93-121">Dowiedz się, jak za[uzyskać własne dzierżawy B2C, aplikacji i zasad](#use-your-own-b2c-directory).</span><span class="sxs-lookup"><span data-stu-id="89e93-121">Learn how too[get your own B2C tenant, application, and policies](#use-your-own-b2c-directory).</span></span>

## <a name="send-authentication-requests"></a><span data-ttu-id="89e93-122">Wysyłanie żądania uwierzytelniania</span><span class="sxs-lookup"><span data-stu-id="89e93-122">Send authentication requests</span></span>
<span data-ttu-id="89e93-123">W przypadku aplikacji sieci web musi tooauthenticate hello użytkowników i wykonywanie zasad, można kierować hello użytkownika toohello `/authorize` punktu końcowego.</span><span class="sxs-lookup"><span data-stu-id="89e93-123">When your web app needs tooauthenticate hello user and execute a policy, it can direct hello user toohello `/authorize` endpoint.</span></span> <span data-ttu-id="89e93-124">Jest hello interakcyjne część przepływu hello, gdzie hello użytkownik wykona akcję w zależności od zasad hello.</span><span class="sxs-lookup"><span data-stu-id="89e93-124">This is hello interactive portion of hello flow, where hello user takes action, depending on hello policy.</span></span>

<span data-ttu-id="89e93-125">W tym żądaniu powitania klienta wskazuje uprawnienia hello, że wymaga ona tooacquire od użytkownika hello w hello `scope` parametr i hello tooexecute zasad w hello `p` parametru.</span><span class="sxs-lookup"><span data-stu-id="89e93-125">In this request, hello client indicates hello permissions that it needs tooacquire from hello user in hello `scope` parameter and hello policy tooexecute in hello `p` parameter.</span></span> <span data-ttu-id="89e93-126">Trzy przedstawione przykłady w hello następujące sekcje (podziałami wierszy dla czytelności), każdy przy użyciu różnych zasad.</span><span class="sxs-lookup"><span data-stu-id="89e93-126">Three examples are provided in hello following sections (with line breaks for readability), each using a different policy.</span></span> <span data-ttu-id="89e93-127">tooget działania dla działania każdego żądania, spróbuj wklejanie hello żądania do przeglądarki i jego uruchomieniem.</span><span class="sxs-lookup"><span data-stu-id="89e93-127">tooget a feel for how each request works, try pasting hello request into a browser and running it.</span></span>

#### <a name="use-a-sign-in-policy"></a><span data-ttu-id="89e93-128">Użyj zasad logowania</span><span class="sxs-lookup"><span data-stu-id="89e93-128">Use a sign-in policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=code+id_token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&response_mode=form_post
&scope=openid%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&p=b2c_1_sign_in
```

#### <a name="use-a-sign-up-policy"></a><span data-ttu-id="89e93-129">Użyj zasad rejestracji</span><span class="sxs-lookup"><span data-stu-id="89e93-129">Use a sign-up policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=code+id_token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&response_mode=form_post
&scope=openid%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&p=b2c_1_sign_up
```

#### <a name="use-an-edit-profile-policy"></a><span data-ttu-id="89e93-130">Użyj zasad edycji profilu</span><span class="sxs-lookup"><span data-stu-id="89e93-130">Use an edit-profile policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=code+id_token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&response_mode=form_post
&scope=openid%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&p=b2c_1_edit_profile
```

| <span data-ttu-id="89e93-131">Parametr</span><span class="sxs-lookup"><span data-stu-id="89e93-131">Parameter</span></span> | <span data-ttu-id="89e93-132">Wymagana?</span><span class="sxs-lookup"><span data-stu-id="89e93-132">Required?</span></span> | <span data-ttu-id="89e93-133">Opis</span><span class="sxs-lookup"><span data-stu-id="89e93-133">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="89e93-134">client_id</span><span class="sxs-lookup"><span data-stu-id="89e93-134">client_id</span></span> |<span data-ttu-id="89e93-135">Wymagane</span><span class="sxs-lookup"><span data-stu-id="89e93-135">Required</span></span> |<span data-ttu-id="89e93-136">Witaj aplikacji IDENTYFIKATORA tego hello [portalu Azure](https://portal.azure.com/) przypisane tooyour aplikacji.</span><span class="sxs-lookup"><span data-stu-id="89e93-136">hello application ID that hello [Azure portal](https://portal.azure.com/) assigned tooyour app.</span></span> |
| <span data-ttu-id="89e93-137">response_type</span><span class="sxs-lookup"><span data-stu-id="89e93-137">response_type</span></span> |<span data-ttu-id="89e93-138">Wymagane</span><span class="sxs-lookup"><span data-stu-id="89e93-138">Required</span></span> |<span data-ttu-id="89e93-139">Typ odpowiedzi Hello, który musi zawierać token Identyfikatora dla OpenID Connect.</span><span class="sxs-lookup"><span data-stu-id="89e93-139">hello response type, which must include an ID token for OpenID Connect.</span></span> <span data-ttu-id="89e93-140">Jeśli aplikacja sieci web musi również tokenów do wywoływania interfejsu API sieci web, możesz użyć `code+id_token`, jak firma Microsoft zostało wykonane w tym miejscu.</span><span class="sxs-lookup"><span data-stu-id="89e93-140">If your web app also needs tokens for calling a web API, you can use `code+id_token`, as we've done here.</span></span> |
| <span data-ttu-id="89e93-141">redirect_uri</span><span class="sxs-lookup"><span data-stu-id="89e93-141">redirect_uri</span></span> |<span data-ttu-id="89e93-142">Zalecane</span><span class="sxs-lookup"><span data-stu-id="89e93-142">Recommended</span></span> |<span data-ttu-id="89e93-143">Witaj `redirect_uri` parametru aplikacji, w którym można wysłanych i odebranych przez aplikację odpowiedzi uwierzytelniania.</span><span class="sxs-lookup"><span data-stu-id="89e93-143">hello `redirect_uri` parameter of your app, where authentication responses can be sent and received by your app.</span></span> <span data-ttu-id="89e93-144">Musi dokładnie odpowiadać jeden hello `redirect_uri` parametrów, które zarejestrowano w portalu hello z tą różnicą, że musi być zakodowane w adresie URL.</span><span class="sxs-lookup"><span data-stu-id="89e93-144">It must exactly match one of hello `redirect_uri` parameters that you registered in hello portal, except that it must be URL encoded.</span></span> |
| <span data-ttu-id="89e93-145">Zakres</span><span class="sxs-lookup"><span data-stu-id="89e93-145">scope</span></span> |<span data-ttu-id="89e93-146">Wymagane</span><span class="sxs-lookup"><span data-stu-id="89e93-146">Required</span></span> |<span data-ttu-id="89e93-147">Rozdzieloną spacjami listę zakresów.</span><span class="sxs-lookup"><span data-stu-id="89e93-147">A space-separated list of scopes.</span></span> <span data-ttu-id="89e93-148">Wartość pojedynczy zakres wskazuje tooAzure AD zarówno uprawnienia, które są żądane.</span><span class="sxs-lookup"><span data-stu-id="89e93-148">A single scope value indicates tooAzure AD both permissions that are being requested.</span></span> <span data-ttu-id="89e93-149">Witaj `openid` toosign uprawnienia, w danych użytkownika i get hello o hello użytkownika w postaci hello tokenów identyfikator (więcej toocome na tym w dalszej części artykułu hello) wskazuje zakres.</span><span class="sxs-lookup"><span data-stu-id="89e93-149">hello `openid` scope indicates a permission toosign in hello user and get data about hello user in hello form of ID tokens (more toocome on this later in hello article).</span></span> <span data-ttu-id="89e93-150">Witaj `offline_access` zakres jest opcjonalne dla aplikacji sieci web.</span><span class="sxs-lookup"><span data-stu-id="89e93-150">hello `offline_access` scope is optional for web apps.</span></span> <span data-ttu-id="89e93-151">Wskazuje, że aplikacja, należy *token odświeżania* dla tooresources długotrwałe dostępu.</span><span class="sxs-lookup"><span data-stu-id="89e93-151">It indicates that your app will need a *refresh token* for long-lived access tooresources.</span></span> |
| <span data-ttu-id="89e93-152">response_mode</span><span class="sxs-lookup"><span data-stu-id="89e93-152">response_mode</span></span> |<span data-ttu-id="89e93-153">Zalecane</span><span class="sxs-lookup"><span data-stu-id="89e93-153">Recommended</span></span> |<span data-ttu-id="89e93-154">Metoda Hello powinny być używane toosend hello wynikowy autoryzacji kodu wstecz tooyour aplikacji.</span><span class="sxs-lookup"><span data-stu-id="89e93-154">hello method that should be used toosend hello resulting authorization code back tooyour app.</span></span> <span data-ttu-id="89e93-155">Może być albo `query`, `form_post`, lub `fragment`.</span><span class="sxs-lookup"><span data-stu-id="89e93-155">It can be either `query`, `form_post`, or `fragment`.</span></span>  <span data-ttu-id="89e93-156">Witaj `form_post` najlepiej zalecany jest tryb odpowiedzi.</span><span class="sxs-lookup"><span data-stu-id="89e93-156">hello `form_post` response mode is recommended for best security.</span></span> |
| <span data-ttu-id="89e93-157">state</span><span class="sxs-lookup"><span data-stu-id="89e93-157">state</span></span> |<span data-ttu-id="89e93-158">Zalecane</span><span class="sxs-lookup"><span data-stu-id="89e93-158">Recommended</span></span> |<span data-ttu-id="89e93-159">Wartość zawarte w żądaniu hello, który jest także zwracany w odpowiedzi tokenu hello.</span><span class="sxs-lookup"><span data-stu-id="89e93-159">A value included in hello request that is also returned in hello token response.</span></span> <span data-ttu-id="89e93-160">Można go ciąg ma zawartość.</span><span class="sxs-lookup"><span data-stu-id="89e93-160">It can be a string of any content that you want.</span></span> <span data-ttu-id="89e93-161">Losowo generowany unikatową wartość jest zwykle używany zapobiegania fałszerstwie żądania międzywitrynowego.</span><span class="sxs-lookup"><span data-stu-id="89e93-161">A randomly generated unique value is typically used for preventing cross-site request forgery attacks.</span></span> <span data-ttu-id="89e93-162">Stan Hello jest również używane tooencode informacji na temat stanu hello użytkownika w aplikacji hello przed wystąpieniem hello żądania uwierzytelniania, takie jak strona hello, w której znajdowały się w.</span><span class="sxs-lookup"><span data-stu-id="89e93-162">hello state is also used tooencode information about hello user's state in hello app before hello authentication request occurred, such as hello page they were on.</span></span> |
| <span data-ttu-id="89e93-163">Identyfikator jednorazowy</span><span class="sxs-lookup"><span data-stu-id="89e93-163">nonce</span></span> |<span data-ttu-id="89e93-164">Wymagane</span><span class="sxs-lookup"><span data-stu-id="89e93-164">Required</span></span> |<span data-ttu-id="89e93-165">Wartość zawarte w żądaniu hello (wygenerowany przez aplikację hello), która zostanie uwzględniona w hello identyfikator tokenu jako oświadczenia.</span><span class="sxs-lookup"><span data-stu-id="89e93-165">A value included in hello request (generated by hello app) that will be included in hello resulting ID token as a claim.</span></span> <span data-ttu-id="89e93-166">Aplikacja Hello następnie sprawdzić, czy ataki powtórzeń tokenów toomitigate wartość.</span><span class="sxs-lookup"><span data-stu-id="89e93-166">hello app can then verify this value toomitigate token replay attacks.</span></span> <span data-ttu-id="89e93-167">wartość Hello jest zwykle losowego unikatowy ciąg, które mogą być używane tooidentify hello pochodzenia hello żądania.</span><span class="sxs-lookup"><span data-stu-id="89e93-167">hello value is typically a randomized unique string that can be used tooidentify hello origin of hello request.</span></span> |
| <span data-ttu-id="89e93-168">P</span><span class="sxs-lookup"><span data-stu-id="89e93-168">p</span></span> |<span data-ttu-id="89e93-169">Wymagane</span><span class="sxs-lookup"><span data-stu-id="89e93-169">Required</span></span> |<span data-ttu-id="89e93-170">zasady Hello, która zostanie wykonana.</span><span class="sxs-lookup"><span data-stu-id="89e93-170">hello policy that will be executed.</span></span> <span data-ttu-id="89e93-171">To nazwa hello zasady, która jest tworzona w dzierżawie usługi B2C.</span><span class="sxs-lookup"><span data-stu-id="89e93-171">It is hello name of a policy that is created in your B2C tenant.</span></span> <span data-ttu-id="89e93-172">wartość Nazwa zasad Hello powinny rozpoczynać się od `b2c\_1\_`.</span><span class="sxs-lookup"><span data-stu-id="89e93-172">hello policy name value should begin with `b2c\_1\_`.</span></span> <span data-ttu-id="89e93-173">Dowiedz się więcej o zasadach i hello [rozszerzona platforma zasad](active-directory-b2c-reference-policies.md).</span><span class="sxs-lookup"><span data-stu-id="89e93-173">Learn more about policies and hello [extensible policy framework](active-directory-b2c-reference-policies.md).</span></span> |
| <span data-ttu-id="89e93-174">wiersz</span><span class="sxs-lookup"><span data-stu-id="89e93-174">prompt</span></span> |<span data-ttu-id="89e93-175">Optional (Opcjonalność)</span><span class="sxs-lookup"><span data-stu-id="89e93-175">Optional</span></span> |<span data-ttu-id="89e93-176">Typ Hello interakcji z użytkownikiem, który jest wymagany.</span><span class="sxs-lookup"><span data-stu-id="89e93-176">hello type of user interaction that is required.</span></span> <span data-ttu-id="89e93-177">Witaj jedyną prawidłową wartością w tej chwili jest `login`, która wymusza hello tooenter użytkownika poświadczeń dla tego żądania.</span><span class="sxs-lookup"><span data-stu-id="89e93-177">hello only valid value at this time is `login`, which forces hello user tooenter their credentials on that request.</span></span> <span data-ttu-id="89e93-178">Logowanie jednokrotne nie zacznie obowiązywać.</span><span class="sxs-lookup"><span data-stu-id="89e93-178">Single sign-on will not take effect.</span></span> |

<span data-ttu-id="89e93-179">W tym momencie hello użytkownik jest proszony toocomplete hello zasad przepływu pracy.</span><span class="sxs-lookup"><span data-stu-id="89e93-179">At this point, hello user is asked toocomplete hello policy's workflow.</span></span> <span data-ttu-id="89e93-180">Może to obejmować użytkownika hello wprowadzić swoją nazwę użytkownika i hasło, zalogować się społecznościowych tożsamości, podczas tworzenia katalogu hello lub dowolną liczbę kroków w zależności od tego, jak zdefiniowano hello zasad.</span><span class="sxs-lookup"><span data-stu-id="89e93-180">This might involve hello user entering their username and password, signing in with a social identity, signing up for hello directory, or any other number of steps, depending on how hello policy is defined.</span></span>

<span data-ttu-id="89e93-181">Po zakończeniu zasad hello hello użytkownika usługi Azure AD zwraca aplikacji tooyour odpowiedzi w momencie hello wskazanych `redirect_uri` parametr przy użyciu metody hello, który określono w hello `response_mode` parametru.</span><span class="sxs-lookup"><span data-stu-id="89e93-181">After hello user completes hello policy, Azure AD returns a response tooyour app at hello indicated `redirect_uri` parameter, by using hello method that is specified in hello `response_mode` parameter.</span></span> <span data-ttu-id="89e93-182">odpowiedź Hello jest hello sam dla każdej hello poprzedzających przypadków, niezależnie od zasady hello, która jest wykonywana.</span><span class="sxs-lookup"><span data-stu-id="89e93-182">hello response is hello same for each of hello preceding cases, independent of hello policy that is executed.</span></span>

<span data-ttu-id="89e93-183">Odpowiedź oznaczająca Powodzenie przy użyciu `response_mode=fragment` powinien wyglądać tak:</span><span class="sxs-lookup"><span data-stu-id="89e93-183">A successful response using `response_mode=fragment` would look like:</span></span>

```
GET https://aadb2cplayground.azurewebsites.net/#
id_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...
&code=AwABAAAAvPM1KaPlrEqdFSBzjqfTGBCmLdgfSTLEMPGYuNHSUYBrq...
&state=arbitrary_data_you_can_receive_in_the_response
```

| <span data-ttu-id="89e93-184">Parametr</span><span class="sxs-lookup"><span data-stu-id="89e93-184">Parameter</span></span> | <span data-ttu-id="89e93-185">Opis</span><span class="sxs-lookup"><span data-stu-id="89e93-185">Description</span></span> |
| --- | --- |
| <span data-ttu-id="89e93-186">żądaniu</span><span class="sxs-lookup"><span data-stu-id="89e93-186">id_token</span></span> |<span data-ttu-id="89e93-187">Witaj identyfikator token, aplikacja hello żądanie.</span><span class="sxs-lookup"><span data-stu-id="89e93-187">hello ID token that hello app requested.</span></span> <span data-ttu-id="89e93-188">Można użyć hello identyfikator tokenu tooverify hello tożsamości użytkownika i rozpocząć sesję użytkownika hello.</span><span class="sxs-lookup"><span data-stu-id="89e93-188">You can use hello ID token tooverify hello user's identity and begin a session with hello user.</span></span> <span data-ttu-id="89e93-189">Więcej informacji na temat identyfikator tokeny i ich zawartość są objęte hello [odwołania do tokenu usługi Azure AD B2C](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="89e93-189">More details on ID tokens and their contents are included in hello [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span> |
| <span data-ttu-id="89e93-190">Kod</span><span class="sxs-lookup"><span data-stu-id="89e93-190">code</span></span> |<span data-ttu-id="89e93-191">Witaj autoryzacji kodu, aplikacja hello wymagane, jeśli używasz `response_type=code+id_token`.</span><span class="sxs-lookup"><span data-stu-id="89e93-191">hello authorization code that hello app requested, if you used `response_type=code+id_token`.</span></span> <span data-ttu-id="89e93-192">Aplikacja Hello służy toorequest kod autoryzacji hello tokenu dostępu dla zasobu docelowego.</span><span class="sxs-lookup"><span data-stu-id="89e93-192">hello app can use hello authorization code toorequest an access token for a target resource.</span></span> <span data-ttu-id="89e93-193">Kody autoryzacji są bardzo krótkim okresie.</span><span class="sxs-lookup"><span data-stu-id="89e93-193">Authorization codes are very short-lived.</span></span> <span data-ttu-id="89e93-194">Zazwyczaj wygasną po około 10 minut.</span><span class="sxs-lookup"><span data-stu-id="89e93-194">Typically, they expire after about 10 minutes.</span></span> |
| <span data-ttu-id="89e93-195">state</span><span class="sxs-lookup"><span data-stu-id="89e93-195">state</span></span> |<span data-ttu-id="89e93-196">Jeśli `state` parametru jest częścią żądania hello hello tę samą wartość powinna być widoczna w odpowiedzi hello.</span><span class="sxs-lookup"><span data-stu-id="89e93-196">If a `state` parameter is included in hello request, hello same value should appear in hello response.</span></span> <span data-ttu-id="89e93-197">Witaj aplikacji należy sprawdzić, że hello `state` wartości hello żądań i odpowiedzi są identyczne.</span><span class="sxs-lookup"><span data-stu-id="89e93-197">hello app should verify that hello `state` values in hello request and response are identical.</span></span> |

<span data-ttu-id="89e93-198">Odpowiedzi na błędy mogą być również wysyłane toohello `redirect_uri` parametr tak, aplikacja hello można je odpowiednią obsługę:</span><span class="sxs-lookup"><span data-stu-id="89e93-198">Error responses can also be sent toohello `redirect_uri` parameter so that hello app can handle them appropriately:</span></span>

```
GET https://aadb2cplayground.azurewebsites.net/#
error=access_denied
&error_description=the+user+canceled+the+authentication
&state=arbitrary_data_you_can_receive_in_the_response
```

| <span data-ttu-id="89e93-199">Parametr</span><span class="sxs-lookup"><span data-stu-id="89e93-199">Parameter</span></span> | <span data-ttu-id="89e93-200">Opis</span><span class="sxs-lookup"><span data-stu-id="89e93-200">Description</span></span> |
| --- | --- |
| <span data-ttu-id="89e93-201">error</span><span class="sxs-lookup"><span data-stu-id="89e93-201">error</span></span> |<span data-ttu-id="89e93-202">Ciąg kod błędu, które mogą być używane tooclassify typy błędów, które występować i które może być używane tooreact tooerrors.</span><span class="sxs-lookup"><span data-stu-id="89e93-202">An error-code string that can be used tooclassify types of errors that occur and that can be used tooreact tooerrors.</span></span> |
| <span data-ttu-id="89e93-203">error_description</span><span class="sxs-lookup"><span data-stu-id="89e93-203">error_description</span></span> |<span data-ttu-id="89e93-204">Komunikat o błędzie, które mogą ułatwić dewelopera zidentyfikować hello głównej przyczyny błędu uwierzytelniania.</span><span class="sxs-lookup"><span data-stu-id="89e93-204">A specific error message that can help a developer identify hello root cause of an authentication error.</span></span> |
| <span data-ttu-id="89e93-205">state</span><span class="sxs-lookup"><span data-stu-id="89e93-205">state</span></span> |<span data-ttu-id="89e93-206">Zobacz pełny opis hello w pierwszej tabeli hello w tej sekcji.</span><span class="sxs-lookup"><span data-stu-id="89e93-206">See hello full description in hello first table in this section.</span></span> <span data-ttu-id="89e93-207">Jeśli `state` parametru jest częścią żądania hello hello tę samą wartość powinna być widoczna w odpowiedzi hello.</span><span class="sxs-lookup"><span data-stu-id="89e93-207">If a `state` parameter is included in hello request, hello same value should appear in hello response.</span></span> <span data-ttu-id="89e93-208">Witaj aplikacji należy sprawdzić, że hello `state` wartości hello żądań i odpowiedzi są identyczne.</span><span class="sxs-lookup"><span data-stu-id="89e93-208">hello app should verify that hello `state` values in hello request and response are identical.</span></span> |

## <a name="validate-hello-id-token"></a><span data-ttu-id="89e93-209">Sprawdź poprawność hello identyfikator tokenu</span><span class="sxs-lookup"><span data-stu-id="89e93-209">Validate hello ID token</span></span>
<span data-ttu-id="89e93-210">Tylko odbieranie token identyfikator nie jest wystarczająco dużo tooauthenticate hello użytkownikiem.</span><span class="sxs-lookup"><span data-stu-id="89e93-210">Just receiving an ID token is not enough tooauthenticate hello user.</span></span> <span data-ttu-id="89e93-211">Musisz zweryfikować podpisu tokenu identyfikator hello i sprawdzić hello oświadczenia w tokenie hello na wymagania dotyczące Twojej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="89e93-211">You must validate hello ID token's signature and verify hello claims in hello token per your app's requirements.</span></span> <span data-ttu-id="89e93-212">Używa usługi Azure AD B2C [tokenów sieci Web JSON (Jwt)](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html) i publicznego klucza szyfrowania tokenów toosign i sprawdź, czy są prawidłowe.</span><span class="sxs-lookup"><span data-stu-id="89e93-212">Azure AD B2C uses [JSON Web Tokens (JWTs)](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html) and public key cryptography toosign tokens and verify that they are valid.</span></span>

<span data-ttu-id="89e93-213">Istnieje wiele bibliotekach open source dostępnych sprawdzania poprawności tokenów Jwt, w zależności od języka preferencji.</span><span class="sxs-lookup"><span data-stu-id="89e93-213">There are many open-source libraries that are available for validating JWTs, depending on your language of preference.</span></span> <span data-ttu-id="89e93-214">Firma Microsoft zaleca eksploracji te opcje, a nie implementacji logiki weryfikacji.</span><span class="sxs-lookup"><span data-stu-id="89e93-214">We recommend exploring those options rather than implementing your own validation logic.</span></span> <span data-ttu-id="89e93-215">tutaj informacje Hello będzie przydatna w ustaleniem, jak korzystać z tooproperly tych bibliotek.</span><span class="sxs-lookup"><span data-stu-id="89e93-215">hello information here will be useful in figuring out how tooproperly use those libraries.</span></span>

<span data-ttu-id="89e93-216">Usługa Azure AD B2C ma OpenID Connect punktu końcowego metadanych, dzięki czemu aplikacja toofetch informacji o usłudze Azure AD B2C w czasie wykonywania.</span><span class="sxs-lookup"><span data-stu-id="89e93-216">Azure AD B2C has an OpenID Connect metadata endpoint, which allows an app toofetch information about Azure AD B2C at runtime.</span></span> <span data-ttu-id="89e93-217">Informacje te obejmują punkty końcowe, zawartość tokenu i klucze podpisywania tokenu.</span><span class="sxs-lookup"><span data-stu-id="89e93-217">This information includes endpoints, token contents, and token signing keys.</span></span> <span data-ttu-id="89e93-218">Brak dokument metadanych JSON dla każdej zasady w dzierżawie usługi B2C.</span><span class="sxs-lookup"><span data-stu-id="89e93-218">There is a JSON metadata document for each policy in your B2C tenant.</span></span> <span data-ttu-id="89e93-219">Na przykład dokument metadanych hello hello `b2c_1_sign_in` zasad w `fabrikamb2c.onmicrosoft.com` znajduje się pod adresem:</span><span class="sxs-lookup"><span data-stu-id="89e93-219">For example, hello metadata document for hello `b2c_1_sign_in` policy in `fabrikamb2c.onmicrosoft.com` is located at:</span></span>

`https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/v2.0/.well-known/openid-configuration?p=b2c_1_sign_in`

<span data-ttu-id="89e93-220">Jedna z właściwości hello tego dokumentu konfiguracji jest `jwks_uri`, którego wartość hello będą takie same zasady:</span><span class="sxs-lookup"><span data-stu-id="89e93-220">One of hello properties of this configuration document is `jwks_uri`, whose value for hello same policy would be:</span></span>

<span data-ttu-id="89e93-221">`https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/discovery/v2.0/keys?p=b2c_1_sign_in`.</span><span class="sxs-lookup"><span data-stu-id="89e93-221">`https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/discovery/v2.0/keys?p=b2c_1_sign_in`.</span></span>

<span data-ttu-id="89e93-222">toodetermine zasady, które zostało użyte w podpisywania tokenu identyfikator (i z których toofetch hello metadanych) są dostępne dwie opcje.</span><span class="sxs-lookup"><span data-stu-id="89e93-222">toodetermine which policy was used in signing an ID token (and from where toofetch hello metadata), you have two options.</span></span> <span data-ttu-id="89e93-223">Najpierw hello zasad nazwa jest uwzględniona w hello `acr` oświadczenia w tokenie identyfikator hello.</span><span class="sxs-lookup"><span data-stu-id="89e93-223">First, hello policy name is included in hello `acr` claim in hello ID token.</span></span> <span data-ttu-id="89e93-224">Aby informacji na temat sposobu tooparse hello oświadczeń z tokenu identyfikator, zobacz hello [odwołania do tokenu usługi Azure AD B2C](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="89e93-224">For information on how tooparse hello claims from an ID token, see hello [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span> <span data-ttu-id="89e93-225">Drugą opcją jest zasad hello tooencode hello wartości hello `state` parametru, gdy Żądanie hello, a następnie zdekodować toodetermine zasady, które zostało użyte.</span><span class="sxs-lookup"><span data-stu-id="89e93-225">Your other option is tooencode hello policy in hello value of hello `state` parameter when you issue hello request, and then decode it toodetermine which policy was used.</span></span> <span data-ttu-id="89e93-226">Każda metoda jest prawidłowa.</span><span class="sxs-lookup"><span data-stu-id="89e93-226">Either method is valid.</span></span>

<span data-ttu-id="89e93-227">Po zostały nabyte hello dokument metadanych z punktu końcowego metadanych hello OpenID Connect, możesz użyć hello RSA 256 kluczy publicznych (które znajdują się w tym punkcie końcowym) toovalidate podpisu hello hello Identyfikatora tokenu.</span><span class="sxs-lookup"><span data-stu-id="89e93-227">After you've acquired hello metadata document from hello OpenID Connect metadata endpoint, you can use hello RSA 256 public keys (which are located at this endpoint) toovalidate hello signature of hello ID token.</span></span> <span data-ttu-id="89e93-228">Może istnieć wiele kluczy wymienione w tym punkcie końcowym w dowolny punkt w czasie, identyfikowanych przez `kid` oświadczeń.</span><span class="sxs-lookup"><span data-stu-id="89e93-228">There might be multiple keys listed at this endpoint at any given point in time, each identified by a `kid` claim.</span></span> <span data-ttu-id="89e93-229">Witaj nagłówek hello identyfikator tokenu zawiera także `kid` oświadczeń, co wskazuje, które z tych kluczy została toosign używane hello identyfikator tokenu.</span><span class="sxs-lookup"><span data-stu-id="89e93-229">hello header of hello ID token also contains a `kid` claim, which indicates which of these keys was used toosign hello ID token.</span></span> <span data-ttu-id="89e93-230">Aby uzyskać więcej informacji, zobacz hello [odwołania do tokenu usługi Azure AD B2C](active-directory-b2c-reference-tokens.md) (hello sekcji na [sprawdzanie poprawności tokenów](active-directory-b2c-reference-tokens.md#token-validation), w szczególności).</span><span class="sxs-lookup"><span data-stu-id="89e93-230">For more information, see hello [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md) (hello section on [validating tokens](active-directory-b2c-reference-tokens.md#token-validation), in particular).</span></span>
<!--TODO: Improve hello information on this-->

<span data-ttu-id="89e93-231">Po upewnieniu się hello podpisu tokenu identyfikator hello, istnieje kilka oświadczenia należy tooverify.</span><span class="sxs-lookup"><span data-stu-id="89e93-231">After you've validated hello signature of hello ID token, there are several claims that you need tooverify.</span></span> <span data-ttu-id="89e93-232">Na wystąpienie:</span><span class="sxs-lookup"><span data-stu-id="89e93-232">For instance:</span></span>

* <span data-ttu-id="89e93-233">Należy sprawdzić, czy hello `nonce` tooprevent ataków powtórzeń tokenów oświadczeń.</span><span class="sxs-lookup"><span data-stu-id="89e93-233">You should validate hello `nonce` claim tooprevent token replay attacks.</span></span> <span data-ttu-id="89e93-234">Jego wartość powinna być określona w hello żądania logowania.</span><span class="sxs-lookup"><span data-stu-id="89e93-234">Its value should be what you specified in hello sign-in request.</span></span>
* <span data-ttu-id="89e93-235">Należy sprawdzić, czy hello `aud` oświadczeń tooensure, który hello identyfikator token został wystawiony dla aplikacji.</span><span class="sxs-lookup"><span data-stu-id="89e93-235">You should validate hello `aud` claim tooensure that hello ID token was issued for your app.</span></span> <span data-ttu-id="89e93-236">Jego wartość powinna być identyfikator aplikacji hello aplikacji.</span><span class="sxs-lookup"><span data-stu-id="89e93-236">Its value should be hello application ID of your app.</span></span>
* <span data-ttu-id="89e93-237">Należy sprawdzić, czy hello `iat` i `exp` oświadczeń tooensure, który hello identyfikator token nie wygasł.</span><span class="sxs-lookup"><span data-stu-id="89e93-237">You should validate hello `iat` and `exp` claims tooensure that hello ID token has not expired.</span></span>

<span data-ttu-id="89e93-238">Istnieje kilka więcej operacji sprawdzania poprawności, które należy wykonać.</span><span class="sxs-lookup"><span data-stu-id="89e93-238">There are also several more validations that you should perform.</span></span> <span data-ttu-id="89e93-239">Te ustawienia zostały opisane szczegółowo w hello [OpenID Connect podstawowych specyfikacji](http://openid.net/specs/openid-connect-core-1_0.html).  Można także toovalidate dodatkowe roszczenia, w zależności od danego scenariusza.</span><span class="sxs-lookup"><span data-stu-id="89e93-239">These are described in detail in hello [OpenID Connect Core Spec](http://openid.net/specs/openid-connect-core-1_0.html).  You might also want toovalidate additional claims, depending on your scenario.</span></span> <span data-ttu-id="89e93-240">Niektóre typowe operacje sprawdzania poprawności obejmują:</span><span class="sxs-lookup"><span data-stu-id="89e93-240">Some common validations include:</span></span>

* <span data-ttu-id="89e93-241">Zapewnienie, że który hello użytkownika/organizacji po zarejestrowaniu aplikacji hello.</span><span class="sxs-lookup"><span data-stu-id="89e93-241">Ensuring that hello user/organization has signed up for hello app.</span></span>
* <span data-ttu-id="89e93-242">Zapewnienie hello użytkownika ma właściwe autoryzacji/uprawnienia.</span><span class="sxs-lookup"><span data-stu-id="89e93-242">Ensuring that hello user has proper authorization/privileges.</span></span>
* <span data-ttu-id="89e93-243">Zapewnienie, że niektóre siły uwierzytelniania wystąpił, takich jak uwierzytelnianie wieloskładnikowe Azure.</span><span class="sxs-lookup"><span data-stu-id="89e93-243">Ensuring that a certain strength of authentication has occurred, such as Azure Multi-Factor Authentication.</span></span>

<span data-ttu-id="89e93-244">Aby uzyskać więcej informacji na powitania oświadczenia w tokenie identyfikator, zobacz hello [odwołania do tokenu usługi Azure AD B2C](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="89e93-244">For more information on hello claims in an ID token, see hello [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span>

<span data-ttu-id="89e93-245">Po zweryfikowaniu hello identyfikator tokenu, można rozpocząć sesji hello użytkownika.</span><span class="sxs-lookup"><span data-stu-id="89e93-245">After you have validated hello ID token, you can begin a session with hello user.</span></span> <span data-ttu-id="89e93-246">Witaj oświadczeń w hello identyfikator tokenu tooobtain informacje o użytkowniku hello służy w aplikacji.</span><span class="sxs-lookup"><span data-stu-id="89e93-246">You can use hello claims in hello ID token tooobtain information about hello user in your app.</span></span> <span data-ttu-id="89e93-247">Zastosowania te informacje obejmują ekranu, rekordów i autoryzacji.</span><span class="sxs-lookup"><span data-stu-id="89e93-247">Uses for this information include display, records, and authorization.</span></span>

## <a name="get-a-token"></a><span data-ttu-id="89e93-248">Uzyskaj token</span><span class="sxs-lookup"><span data-stu-id="89e93-248">Get a token</span></span>
<span data-ttu-id="89e93-249">Jeśli potrzebujesz tooonly aplikacji sieci web wykonania zasady, można pominąć hello kolejnych sekcjach kilku.</span><span class="sxs-lookup"><span data-stu-id="89e93-249">If you need your web app tooonly execute policies, you can skip hello next few sections.</span></span> <span data-ttu-id="89e93-250">Sekcje te są stosowane tooweb tylko aplikacje, które muszą toomake uwierzytelnione wywołania tooa — interfejs API sieci web, a także są chronione przez usługę Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="89e93-250">These sections are applicable only tooweb apps that need toomake authenticated calls tooa web API and are also protected by Azure AD B2C.</span></span>

<span data-ttu-id="89e93-251">Możesz zrealizować kod autoryzacji hello uzyskanego (przy użyciu `response_type=code+id_token`) dla tokenu toohello żądanego zasobu, wysyłając `POST` żądania toohello `/token` punktu końcowego.</span><span class="sxs-lookup"><span data-stu-id="89e93-251">You can redeem hello authorization code that you acquired (by using `response_type=code+id_token`) for a token toohello desired resource by sending a `POST` request toohello `/token` endpoint.</span></span> <span data-ttu-id="89e93-252">Witaj tylko tych zasobów, jakiej może żądać tokenu dla jest obecnie własnych aplikacji zaplecza interfejsu API sieci web.</span><span class="sxs-lookup"><span data-stu-id="89e93-252">Currently, hello only resource that you can request a token for is your app's own back-end web API.</span></span> <span data-ttu-id="89e93-253">Konwencja powitania dla żądania tokenu tooyourself jest toouse identyfikator klienta aplikacji jako zakres hello:</span><span class="sxs-lookup"><span data-stu-id="89e93-253">hello convention for requesting a token tooyourself is toouse your app's client ID as hello scope:</span></span>

```
POST fabrikamb2c.onmicrosoft.com/oauth2/v2.0/token?p=b2c_1_sign_in HTTP/1.1
Host: https://login.microsoftonline.com
Content-Type: application/x-www-form-urlencoded

grant_type=authorization_code&client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6&scope=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6 offline_access&code=AwABAAAAvPM1KaPlrEqdFSBzjqfTGBCmLdgfSTLEMPGYuNHSUYBrq...&redirect_uri=urn:ietf:wg:oauth:2.0:oob&client_secret=<your-application-secret>

```

| <span data-ttu-id="89e93-254">Parametr</span><span class="sxs-lookup"><span data-stu-id="89e93-254">Parameter</span></span> | <span data-ttu-id="89e93-255">Wymagana?</span><span class="sxs-lookup"><span data-stu-id="89e93-255">Required?</span></span> | <span data-ttu-id="89e93-256">Opis</span><span class="sxs-lookup"><span data-stu-id="89e93-256">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="89e93-257">P</span><span class="sxs-lookup"><span data-stu-id="89e93-257">p</span></span> |<span data-ttu-id="89e93-258">Wymagane</span><span class="sxs-lookup"><span data-stu-id="89e93-258">Required</span></span> |<span data-ttu-id="89e93-259">Witaj zasad, które były używane tooacquire hello autoryzacji kodu.</span><span class="sxs-lookup"><span data-stu-id="89e93-259">hello policy that was used tooacquire hello authorization code.</span></span> <span data-ttu-id="89e93-260">Nie można użyć różnych zasad w tym żądaniu.</span><span class="sxs-lookup"><span data-stu-id="89e93-260">You cannot use a different policy in this request.</span></span> <span data-ttu-id="89e93-261">Uwaga dodano ten ciąg zapytania toohello parametru, a nie toohello `POST` treści.</span><span class="sxs-lookup"><span data-stu-id="89e93-261">Note that you add this parameter toohello query string, not toohello `POST` body.</span></span> |
| <span data-ttu-id="89e93-262">client_id</span><span class="sxs-lookup"><span data-stu-id="89e93-262">client_id</span></span> |<span data-ttu-id="89e93-263">Wymagane</span><span class="sxs-lookup"><span data-stu-id="89e93-263">Required</span></span> |<span data-ttu-id="89e93-264">Witaj aplikacji IDENTYFIKATORA tego hello [portalu Azure](https://portal.azure.com/) przypisane tooyour aplikacji.</span><span class="sxs-lookup"><span data-stu-id="89e93-264">hello application ID that hello [Azure portal](https://portal.azure.com/) assigned tooyour app.</span></span> |
| <span data-ttu-id="89e93-265">Typ grant_type</span><span class="sxs-lookup"><span data-stu-id="89e93-265">grant_type</span></span> |<span data-ttu-id="89e93-266">Wymagane</span><span class="sxs-lookup"><span data-stu-id="89e93-266">Required</span></span> |<span data-ttu-id="89e93-267">Witaj typu grant, który musi być `authorization_code` dla przepływu kodu autoryzacji hello.</span><span class="sxs-lookup"><span data-stu-id="89e93-267">hello type of grant, which must be `authorization_code` for hello authorization code flow.</span></span> |
| <span data-ttu-id="89e93-268">Zakres</span><span class="sxs-lookup"><span data-stu-id="89e93-268">scope</span></span> |<span data-ttu-id="89e93-269">Zalecane</span><span class="sxs-lookup"><span data-stu-id="89e93-269">Recommended</span></span> |<span data-ttu-id="89e93-270">Rozdzieloną spacjami listę zakresów.</span><span class="sxs-lookup"><span data-stu-id="89e93-270">A space-separated list of scopes.</span></span> <span data-ttu-id="89e93-271">Wartość pojedynczy zakres wskazuje tooAzure AD zarówno uprawnienia, które są żądane.</span><span class="sxs-lookup"><span data-stu-id="89e93-271">A single scope value indicates tooAzure AD both permissions that are being requested.</span></span> <span data-ttu-id="89e93-272">Witaj `openid` zakresu wskazuje toosign uprawnienia, w danych użytkownika i get hello o hello użytkownika w postaci hello parametrów w żądaniu.</span><span class="sxs-lookup"><span data-stu-id="89e93-272">hello `openid` scope indicates a permission toosign in hello user and get data about hello user in hello form of id_token parameters.</span></span> <span data-ttu-id="89e93-273">Może być używane tooget tokenów tooyour własnych aplikacji zaplecza interfejsu API sieci web, która jest reprezentowana przez hello tego samego Identyfikatora aplikacji jako powitania klienta.</span><span class="sxs-lookup"><span data-stu-id="89e93-273">It can be used tooget tokens tooyour app's own back-end web API, which is represented by hello same application ID as hello client.</span></span> <span data-ttu-id="89e93-274">Witaj `offline_access` zakresu wskazuje, że aplikacja będzie potrzebny token odświeżania tooresources długotrwałe dostępu.</span><span class="sxs-lookup"><span data-stu-id="89e93-274">hello `offline_access` scope indicates that your app will need a refresh token for long-lived access tooresources.</span></span> |
| <span data-ttu-id="89e93-275">Kod</span><span class="sxs-lookup"><span data-stu-id="89e93-275">code</span></span> |<span data-ttu-id="89e93-276">Wymagane</span><span class="sxs-lookup"><span data-stu-id="89e93-276">Required</span></span> |<span data-ttu-id="89e93-277">Kod autoryzacji Hello uzyskanego w hello pierwszego etap hello przepływu.</span><span class="sxs-lookup"><span data-stu-id="89e93-277">hello authorization code that you acquired in hello first leg of hello flow.</span></span> |
| <span data-ttu-id="89e93-278">redirect_uri</span><span class="sxs-lookup"><span data-stu-id="89e93-278">redirect_uri</span></span> |<span data-ttu-id="89e93-279">Wymagane</span><span class="sxs-lookup"><span data-stu-id="89e93-279">Required</span></span> |<span data-ttu-id="89e93-280">Witaj `redirect_uri` parametru aplikacji hello którym odebrano hello kod autoryzacji.</span><span class="sxs-lookup"><span data-stu-id="89e93-280">hello `redirect_uri` parameter of hello application where you received hello authorization code.</span></span> |
| <span data-ttu-id="89e93-281">client_secret</span><span class="sxs-lookup"><span data-stu-id="89e93-281">client_secret</span></span> |<span data-ttu-id="89e93-282">Wymagane</span><span class="sxs-lookup"><span data-stu-id="89e93-282">Required</span></span> |<span data-ttu-id="89e93-283">klucz tajny aplikacji Hello generowany w hello [portalu Azure](https://portal.azure.com/).</span><span class="sxs-lookup"><span data-stu-id="89e93-283">hello application secret that you generated in hello [Azure portal](https://portal.azure.com/).</span></span> <span data-ttu-id="89e93-284">Ten klucz tajny aplikacji jest ważny artefaktu.</span><span class="sxs-lookup"><span data-stu-id="89e93-284">This application secret is an important security artifact.</span></span> <span data-ttu-id="89e93-285">Użytkownik powinien Zapisz w bezpiecznej lokalizacji na serwerze.</span><span class="sxs-lookup"><span data-stu-id="89e93-285">You should store it securely on your server.</span></span> <span data-ttu-id="89e93-286">Należy również Obróć ten klucz tajny klienta w regularnych odstępach czasu.</span><span class="sxs-lookup"><span data-stu-id="89e93-286">You should also rotate this client secret on a periodic basis.</span></span> |

<span data-ttu-id="89e93-287">Odpowiedź oznaczająca Powodzenie tokenu wygląda następująco:</span><span class="sxs-lookup"><span data-stu-id="89e93-287">A successful token response looks like:</span></span>

```
{
    "not_before": "1442340812",
    "token_type": "Bearer",
    "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...",
    "scope": "90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6 offline_access",
    "expires_in": "3600",
    "refresh_token": "AAQfQmvuDy8WtUv-sd0TBwWVQs1rC-Lfxa_NDkLqpg50Cxp5Dxj0VPF1mx2Z...",
}
```
| <span data-ttu-id="89e93-288">Parametr</span><span class="sxs-lookup"><span data-stu-id="89e93-288">Parameter</span></span> | <span data-ttu-id="89e93-289">Opis</span><span class="sxs-lookup"><span data-stu-id="89e93-289">Description</span></span> |
| --- | --- |
| <span data-ttu-id="89e93-290">not_before</span><span class="sxs-lookup"><span data-stu-id="89e93-290">not_before</span></span> |<span data-ttu-id="89e93-291">czas Hello, w których hello token jest uznawany za ważny w czasie epoki.</span><span class="sxs-lookup"><span data-stu-id="89e93-291">hello time at which hello token is considered valid, in epoch time.</span></span> |
| <span data-ttu-id="89e93-292">token_type</span><span class="sxs-lookup"><span data-stu-id="89e93-292">token_type</span></span> |<span data-ttu-id="89e93-293">wartość tokenu typu Hello.</span><span class="sxs-lookup"><span data-stu-id="89e93-293">hello token type value.</span></span> <span data-ttu-id="89e93-294">Witaj tylko typ, który obsługuje usługę Azure AD `Bearer`.</span><span class="sxs-lookup"><span data-stu-id="89e93-294">hello only type that Azure AD supports is `Bearer`.</span></span> |
| <span data-ttu-id="89e93-295">' access_token '</span><span class="sxs-lookup"><span data-stu-id="89e93-295">access_token</span></span> |<span data-ttu-id="89e93-296">Witaj podpisany token JWT, którego zażądano.</span><span class="sxs-lookup"><span data-stu-id="89e93-296">hello signed JWT token that you requested.</span></span> |
| <span data-ttu-id="89e93-297">Zakres</span><span class="sxs-lookup"><span data-stu-id="89e93-297">scope</span></span> |<span data-ttu-id="89e93-298">zakresy Hello, dla których hello token jest prawidłowy.</span><span class="sxs-lookup"><span data-stu-id="89e93-298">hello scopes for which hello token is valid.</span></span> <span data-ttu-id="89e93-299">Mogą być one używane do buforowania tokeny na potrzeby późniejszego użycia.</span><span class="sxs-lookup"><span data-stu-id="89e93-299">These can be used for caching tokens for later use.</span></span> |
| <span data-ttu-id="89e93-300">expires_in</span><span class="sxs-lookup"><span data-stu-id="89e93-300">expires_in</span></span> |<span data-ttu-id="89e93-301">Hello długość czasu, przez który hello token dostępu jest nieprawidłowy (w sekundach).</span><span class="sxs-lookup"><span data-stu-id="89e93-301">hello length of time that hello access token is valid (in seconds).</span></span> |
| <span data-ttu-id="89e93-302">refresh_token</span><span class="sxs-lookup"><span data-stu-id="89e93-302">refresh_token</span></span> |<span data-ttu-id="89e93-303">Token odświeżania OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="89e93-303">An OAuth 2.0 refresh token.</span></span> <span data-ttu-id="89e93-304">Aplikacja Hello można użyć tego tokenu tooacquire dodatkowe tokeny, po wygaśnięciu tokenu bieżącego hello.</span><span class="sxs-lookup"><span data-stu-id="89e93-304">hello app can use this token tooacquire additional tokens after hello current token expires.</span></span> <span data-ttu-id="89e93-305">Odśwież tokeny są to długotrwałe i mogą być używane tooretain tooresources dostępu przez dłuższy czas.</span><span class="sxs-lookup"><span data-stu-id="89e93-305">Refresh tokens are long-lived and can be used tooretain access tooresources for extended periods of time.</span></span> <span data-ttu-id="89e93-306">Aby uzyskać więcej informacji, zobacz toohello [odwołania do tokenu usługi B2C](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="89e93-306">For more details, refer toohello [B2C token reference](active-directory-b2c-reference-tokens.md).</span></span> <span data-ttu-id="89e93-307">Uwaga musi użycie zakresu hello `offline_access` w hello autoryzacji i tokena żądań w kolejności tooreceive token odświeżania.</span><span class="sxs-lookup"><span data-stu-id="89e93-307">Note that you must have used hello scope `offline_access` in both hello authorization and token requests in order tooreceive a refresh token.</span></span> |

<span data-ttu-id="89e93-308">Błąd odpowiedzi następującą postać:</span><span class="sxs-lookup"><span data-stu-id="89e93-308">Error responses look like:</span></span>

```
{
    "error": "access_denied",
    "error_description": "hello user revoked access toohello app.",
}
```

| <span data-ttu-id="89e93-309">Parametr</span><span class="sxs-lookup"><span data-stu-id="89e93-309">Parameter</span></span> | <span data-ttu-id="89e93-310">Opis</span><span class="sxs-lookup"><span data-stu-id="89e93-310">Description</span></span> |
| --- | --- |
| <span data-ttu-id="89e93-311">error</span><span class="sxs-lookup"><span data-stu-id="89e93-311">error</span></span> |<span data-ttu-id="89e93-312">Ciąg kod błędu, które mogą być używane tooclassify typy błędów, które występować i które może być używane tooreact tooerrors.</span><span class="sxs-lookup"><span data-stu-id="89e93-312">An error-code string that can be used tooclassify types of errors that occur and that can be used tooreact tooerrors.</span></span> |
| <span data-ttu-id="89e93-313">error_description</span><span class="sxs-lookup"><span data-stu-id="89e93-313">error_description</span></span> |<span data-ttu-id="89e93-314">Komunikat o błędzie, które mogą ułatwić dewelopera zidentyfikować hello głównej przyczyny błędu uwierzytelniania.</span><span class="sxs-lookup"><span data-stu-id="89e93-314">A specific error message that can help a developer identify hello root cause of an authentication error.</span></span> |

## <a name="use-hello-token"></a><span data-ttu-id="89e93-315">Użyj tokenu hello</span><span class="sxs-lookup"><span data-stu-id="89e93-315">Use hello token</span></span>
<span data-ttu-id="89e93-316">Teraz, zostały pomyślnie uzyskano tokenu dostępu, można hello token w żądań tooyour zaplecza interfejsów API sieci web przez dołączenie go do hello `Authorization` nagłówka:</span><span class="sxs-lookup"><span data-stu-id="89e93-316">Now that you've successfully acquired an access token, you can use hello token in requests tooyour back-end web APIs by including it in hello `Authorization` header:</span></span>

```
GET /tasks
Host: https://mytaskwebapi.com
Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...
```

## <a name="refresh-hello-token"></a><span data-ttu-id="89e93-317">Odśwież hello tokenu</span><span class="sxs-lookup"><span data-stu-id="89e93-317">Refresh hello token</span></span>
<span data-ttu-id="89e93-318">Identyfikator tokeny są krótkim okresie.</span><span class="sxs-lookup"><span data-stu-id="89e93-318">ID tokens are short-lived.</span></span> <span data-ttu-id="89e93-319">Należy odświeżyć je po wygasną toocontinue jest w stanie tooaccess zasobów.</span><span class="sxs-lookup"><span data-stu-id="89e93-319">You must refresh them after they expire toocontinue being able tooaccess resources.</span></span> <span data-ttu-id="89e93-320">Możesz to zrobić poprzez przesłanie innego `POST` żądania toohello `/token` punktu końcowego.</span><span class="sxs-lookup"><span data-stu-id="89e93-320">You can do so by submitting another `POST` request toohello `/token` endpoint.</span></span> <span data-ttu-id="89e93-321">Teraz, podaj hello `refresh_token` parametru zamiast hello `code` parametru:</span><span class="sxs-lookup"><span data-stu-id="89e93-321">This time, provide hello `refresh_token` parameter instead of hello `code` parameter:</span></span>

```
POST fabrikamb2c.onmicrosoft.com/oauth2/v2.0/token?p=b2c_1_sign_in HTTP/1.1
Host: https://login.microsoftonline.com
Content-Type: application/x-www-form-urlencoded

grant_type=refresh_token&client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6&scope=openid offline_access&refresh_token=AwABAAAAvPM1KaPlrEqdFSBzjqfTGBCmLdgfSTLEMPGYuNHSUYBrq...&redirect_uri=urn:ietf:wg:oauth:2.0:oob&client_secret=<your-application-secret>
```

| <span data-ttu-id="89e93-322">Parametr</span><span class="sxs-lookup"><span data-stu-id="89e93-322">Parameter</span></span> | <span data-ttu-id="89e93-323">Wymagane</span><span class="sxs-lookup"><span data-stu-id="89e93-323">Required</span></span> | <span data-ttu-id="89e93-324">Opis</span><span class="sxs-lookup"><span data-stu-id="89e93-324">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="89e93-325">P</span><span class="sxs-lookup"><span data-stu-id="89e93-325">p</span></span> |<span data-ttu-id="89e93-326">Wymagane</span><span class="sxs-lookup"><span data-stu-id="89e93-326">Required</span></span> |<span data-ttu-id="89e93-327">Hello zasady, które zostało tooacquire używane hello oryginalnego token odświeżania.</span><span class="sxs-lookup"><span data-stu-id="89e93-327">hello policy that was used tooacquire hello original refresh token.</span></span> <span data-ttu-id="89e93-328">Nie można użyć różnych zasad w tym żądaniu.</span><span class="sxs-lookup"><span data-stu-id="89e93-328">You cannot use a different policy in this request.</span></span> <span data-ttu-id="89e93-329">Należy pamiętać, dodano ten ciąg zapytania toohello parametru, a nie toohello treść wpisu.</span><span class="sxs-lookup"><span data-stu-id="89e93-329">Note that you add this parameter toohello query string, not toohello POST body.</span></span> |
| <span data-ttu-id="89e93-330">client_id</span><span class="sxs-lookup"><span data-stu-id="89e93-330">client_id</span></span> |<span data-ttu-id="89e93-331">Wymagane</span><span class="sxs-lookup"><span data-stu-id="89e93-331">Required</span></span> |<span data-ttu-id="89e93-332">Witaj aplikacji IDENTYFIKATORA tego hello [portalu Azure](https://portal.azure.com/) przypisane tooyour aplikacji.</span><span class="sxs-lookup"><span data-stu-id="89e93-332">hello application ID that hello [Azure portal](https://portal.azure.com/) assigned tooyour app.</span></span> |
| <span data-ttu-id="89e93-333">Typ grant_type</span><span class="sxs-lookup"><span data-stu-id="89e93-333">grant_type</span></span> |<span data-ttu-id="89e93-334">Wymagane</span><span class="sxs-lookup"><span data-stu-id="89e93-334">Required</span></span> |<span data-ttu-id="89e93-335">Typ Hello grant, który musi być token odświeżania dla tego etap przepływu kodu autoryzacji hello.</span><span class="sxs-lookup"><span data-stu-id="89e93-335">hello type of grant, which must be a refresh token for this leg of hello authorization code flow.</span></span> |
| <span data-ttu-id="89e93-336">Zakres</span><span class="sxs-lookup"><span data-stu-id="89e93-336">scope</span></span> |<span data-ttu-id="89e93-337">Zalecane</span><span class="sxs-lookup"><span data-stu-id="89e93-337">Recommended</span></span> |<span data-ttu-id="89e93-338">Rozdzieloną spacjami listę zakresów.</span><span class="sxs-lookup"><span data-stu-id="89e93-338">A space-separated list of scopes.</span></span> <span data-ttu-id="89e93-339">Wartość pojedynczy zakres wskazuje tooAzure AD zarówno uprawnienia, które są żądane.</span><span class="sxs-lookup"><span data-stu-id="89e93-339">A single scope value indicates tooAzure AD both permissions that are being requested.</span></span> <span data-ttu-id="89e93-340">Witaj `openid` toosign uprawnienia, w danych użytkownika i get hello o hello użytkownika w postaci hello tokenów identyfikator wskazuje zakres.</span><span class="sxs-lookup"><span data-stu-id="89e93-340">hello `openid` scope indicates a permission toosign in hello user and get data about hello user in hello form of ID tokens.</span></span> <span data-ttu-id="89e93-341">Może być używane tooget tokenów tooyour własnych aplikacji zaplecza interfejsu API sieci web, która jest reprezentowana przez hello tego samego Identyfikatora aplikacji jako powitania klienta.</span><span class="sxs-lookup"><span data-stu-id="89e93-341">It can be used tooget tokens tooyour app's own back-end web API, which is represented by hello same application ID as hello client.</span></span> <span data-ttu-id="89e93-342">Witaj `offline_access` zakresu wskazuje, że aplikacja będzie potrzebny token odświeżania tooresources długotrwałe dostępu.</span><span class="sxs-lookup"><span data-stu-id="89e93-342">hello `offline_access` scope indicates that your app will need a refresh token for long-lived access tooresources.</span></span> |
| <span data-ttu-id="89e93-343">redirect_uri</span><span class="sxs-lookup"><span data-stu-id="89e93-343">redirect_uri</span></span> |<span data-ttu-id="89e93-344">Zalecane</span><span class="sxs-lookup"><span data-stu-id="89e93-344">Recommended</span></span> |<span data-ttu-id="89e93-345">Witaj `redirect_uri` parametru aplikacji hello którym odebrano hello kod autoryzacji.</span><span class="sxs-lookup"><span data-stu-id="89e93-345">hello `redirect_uri` parameter of hello application where you received hello authorization code.</span></span> |
| <span data-ttu-id="89e93-346">refresh_token</span><span class="sxs-lookup"><span data-stu-id="89e93-346">refresh_token</span></span> |<span data-ttu-id="89e93-347">Wymagane</span><span class="sxs-lookup"><span data-stu-id="89e93-347">Required</span></span> |<span data-ttu-id="89e93-348">Witaj oryginalnego token odświeżania uzyskanego w drugi etap hello hello przepływu.</span><span class="sxs-lookup"><span data-stu-id="89e93-348">hello original refresh token that you acquired in hello second leg of hello flow.</span></span> <span data-ttu-id="89e93-349">Uwaga musi użycie zakresu hello `offline_access` w hello autoryzacji i tokena żądań w kolejności tooreceive token odświeżania.</span><span class="sxs-lookup"><span data-stu-id="89e93-349">Note that you must have used hello scope `offline_access` in both hello authorization and token requests in order tooreceive a refresh token.</span></span> |
| <span data-ttu-id="89e93-350">client_secret</span><span class="sxs-lookup"><span data-stu-id="89e93-350">client_secret</span></span> |<span data-ttu-id="89e93-351">Wymagane</span><span class="sxs-lookup"><span data-stu-id="89e93-351">Required</span></span> |<span data-ttu-id="89e93-352">klucz tajny aplikacji Hello generowany w hello [portalu Azure](https://portal.azure.com/).</span><span class="sxs-lookup"><span data-stu-id="89e93-352">hello application secret that you generated in hello [Azure portal](https://portal.azure.com/).</span></span> <span data-ttu-id="89e93-353">Ten klucz tajny aplikacji jest ważny artefaktu.</span><span class="sxs-lookup"><span data-stu-id="89e93-353">This application secret is an important security artifact.</span></span> <span data-ttu-id="89e93-354">Użytkownik powinien Zapisz w bezpiecznej lokalizacji na serwerze.</span><span class="sxs-lookup"><span data-stu-id="89e93-354">You should store it securely on your server.</span></span> <span data-ttu-id="89e93-355">Należy również Obróć ten klucz tajny klienta w regularnych odstępach czasu.</span><span class="sxs-lookup"><span data-stu-id="89e93-355">You should also rotate this client secret on a periodic basis.</span></span> |

<span data-ttu-id="89e93-356">Odpowiedź oznaczająca Powodzenie tokenu wygląda następująco:</span><span class="sxs-lookup"><span data-stu-id="89e93-356">A successful token response looks like:</span></span>

```
{
    "not_before": "1442340812",
    "token_type": "Bearer",
    "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...",
    "scope": "90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6 offline_access",
    "expires_in": "3600",
    "refresh_token": "AAQfQmvuDy8WtUv-sd0TBwWVQs1rC-Lfxa_NDkLqpg50Cxp5Dxj0VPF1mx2Z...",
}
```
| <span data-ttu-id="89e93-357">Parametr</span><span class="sxs-lookup"><span data-stu-id="89e93-357">Parameter</span></span> | <span data-ttu-id="89e93-358">Opis</span><span class="sxs-lookup"><span data-stu-id="89e93-358">Description</span></span> |
| --- | --- |
| <span data-ttu-id="89e93-359">not_before</span><span class="sxs-lookup"><span data-stu-id="89e93-359">not_before</span></span> |<span data-ttu-id="89e93-360">czas Hello, w których hello token jest uznawany za ważny w czasie epoki.</span><span class="sxs-lookup"><span data-stu-id="89e93-360">hello time at which hello token is considered valid, in epoch time.</span></span> |
| <span data-ttu-id="89e93-361">token_type</span><span class="sxs-lookup"><span data-stu-id="89e93-361">token_type</span></span> |<span data-ttu-id="89e93-362">wartość tokenu typu Hello.</span><span class="sxs-lookup"><span data-stu-id="89e93-362">hello token type value.</span></span> <span data-ttu-id="89e93-363">Witaj tylko typ, który obsługuje usługę Azure AD `Bearer`.</span><span class="sxs-lookup"><span data-stu-id="89e93-363">hello only type that Azure AD supports is `Bearer`.</span></span> |
| <span data-ttu-id="89e93-364">' access_token '</span><span class="sxs-lookup"><span data-stu-id="89e93-364">access_token</span></span> |<span data-ttu-id="89e93-365">Witaj podpisany token JWT, którego zażądano.</span><span class="sxs-lookup"><span data-stu-id="89e93-365">hello signed JWT token that you requested.</span></span> |
| <span data-ttu-id="89e93-366">Zakres</span><span class="sxs-lookup"><span data-stu-id="89e93-366">scope</span></span> |<span data-ttu-id="89e93-367">zakres Hello hello token jest prawidłowy, które mogą służyć do buforowania tokeny na potrzeby późniejszego użycia.</span><span class="sxs-lookup"><span data-stu-id="89e93-367">hello scope that hello token is valid for, which can be used for caching tokens for later use.</span></span> |
| <span data-ttu-id="89e93-368">expires_in</span><span class="sxs-lookup"><span data-stu-id="89e93-368">expires_in</span></span> |<span data-ttu-id="89e93-369">Hello długość czasu, przez który hello token dostępu jest nieprawidłowy (w sekundach).</span><span class="sxs-lookup"><span data-stu-id="89e93-369">hello length of time that hello access token is valid (in seconds).</span></span> |
| <span data-ttu-id="89e93-370">refresh_token</span><span class="sxs-lookup"><span data-stu-id="89e93-370">refresh_token</span></span> |<span data-ttu-id="89e93-371">Token odświeżania OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="89e93-371">An OAuth 2.0 refresh token.</span></span> <span data-ttu-id="89e93-372">Aplikacja Hello można użyć tego tokenu tooacquire dodatkowe tokeny, po wygaśnięciu tokenu bieżącego hello.</span><span class="sxs-lookup"><span data-stu-id="89e93-372">hello app can use this token tooacquire additional tokens after hello current token expires.</span></span>  <span data-ttu-id="89e93-373">Odśwież tokeny są to długotrwałe i mogą być używane tooretain tooresources dostępu przez dłuższy czas.</span><span class="sxs-lookup"><span data-stu-id="89e93-373">Refresh tokens are long-lived and can be used tooretain access tooresources for extended periods of time.</span></span> <span data-ttu-id="89e93-374">Aby uzyskać więcej szczegółów można znaleźć toohello [odwołania do tokenu usługi B2C](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="89e93-374">For more detail, refer toohello [B2C token reference](active-directory-b2c-reference-tokens.md).</span></span> |

<span data-ttu-id="89e93-375">Błąd odpowiedzi następującą postać:</span><span class="sxs-lookup"><span data-stu-id="89e93-375">Error responses look like:</span></span>

```
{
    "error": "access_denied",
    "error_description": "hello user revoked access toohello app.",
}
```

| <span data-ttu-id="89e93-376">Parametr</span><span class="sxs-lookup"><span data-stu-id="89e93-376">Parameter</span></span> | <span data-ttu-id="89e93-377">Opis</span><span class="sxs-lookup"><span data-stu-id="89e93-377">Description</span></span> |
| --- | --- |
| <span data-ttu-id="89e93-378">error</span><span class="sxs-lookup"><span data-stu-id="89e93-378">error</span></span> |<span data-ttu-id="89e93-379">Ciąg kod błędu, które mogą być używane tooclassify typy błędów, które występować i które może być używane tooreact tooerrors.</span><span class="sxs-lookup"><span data-stu-id="89e93-379">An error-code string that can be used tooclassify types of errors that occur and that can be used tooreact tooerrors.</span></span> |
| <span data-ttu-id="89e93-380">error_description</span><span class="sxs-lookup"><span data-stu-id="89e93-380">error_description</span></span> |<span data-ttu-id="89e93-381">Komunikat o błędzie, które mogą ułatwić dewelopera zidentyfikować hello głównej przyczyny błędu uwierzytelniania.</span><span class="sxs-lookup"><span data-stu-id="89e93-381">A specific error message that can help a developer identify hello root cause of an authentication error.</span></span> |

## <a name="send-a-sign-out-request"></a><span data-ttu-id="89e93-382">Wyślij żądanie wylogowania</span><span class="sxs-lookup"><span data-stu-id="89e93-382">Send a sign-out request</span></span>
<span data-ttu-id="89e93-383">Użytkownika hello toosign poza aplikacją hello, należy jest za mało tooclear plików cookie aplikacji lub inny sposób zakończenia sesji hello hello użytkownika.</span><span class="sxs-lookup"><span data-stu-id="89e93-383">When you want toosign hello user out of hello app, it is not enough tooclear your app's cookies or otherwise end hello session with hello user.</span></span> <span data-ttu-id="89e93-384">Należy również przekierować hello użytkownika tooAzure AD toosign wychodzących. Jeśli tak nie toodo, hello użytkownika może być stanie tooreauthenticate tooyour aplikacji bez konieczności ponownego wprowadzania poświadczeń.</span><span class="sxs-lookup"><span data-stu-id="89e93-384">You must also redirect hello user tooAzure AD toosign out. If you fail toodo so, hello user might be able tooreauthenticate tooyour app without entering their credentials again.</span></span> <span data-ttu-id="89e93-385">Jest tak, ponieważ mają one nieprawidłowy jednej logowania jednokrotnego sesji z usługą Azure AD.</span><span class="sxs-lookup"><span data-stu-id="89e93-385">This is because they will have a valid single sign-on session with Azure AD.</span></span>

<span data-ttu-id="89e93-386">Można przekierowywać po prostu toohello użytkownika hello `end_session` punktu końcowego, który znajduje się w dokumencie metadanych OpenID Connect hello opisem we wcześniejszej części hello sekcji "Sprawdzanie poprawności hello identyfikator tokenu":</span><span class="sxs-lookup"><span data-stu-id="89e93-386">You can simply redirect hello user toohello `end_session` endpoint that is listed in hello OpenID Connect metadata document described earlier in hello "Validate hello ID token" section:</span></span>

```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/logout?
p=b2c_1_sign_in
&post_logout_redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
```

| <span data-ttu-id="89e93-387">Parametr</span><span class="sxs-lookup"><span data-stu-id="89e93-387">Parameter</span></span> | <span data-ttu-id="89e93-388">Wymagana?</span><span class="sxs-lookup"><span data-stu-id="89e93-388">Required?</span></span> | <span data-ttu-id="89e93-389">Opis</span><span class="sxs-lookup"><span data-stu-id="89e93-389">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="89e93-390">P</span><span class="sxs-lookup"><span data-stu-id="89e93-390">p</span></span> |<span data-ttu-id="89e93-391">Wymagane</span><span class="sxs-lookup"><span data-stu-id="89e93-391">Required</span></span> |<span data-ttu-id="89e93-392">zasady Hello mają toouse toosign hello użytkownika z aplikacji.</span><span class="sxs-lookup"><span data-stu-id="89e93-392">hello policy that you want toouse toosign hello user out of your application.</span></span> |
| <span data-ttu-id="89e93-393">post_logout_redirect_uri</span><span class="sxs-lookup"><span data-stu-id="89e93-393">post_logout_redirect_uri</span></span> |<span data-ttu-id="89e93-394">Zalecane</span><span class="sxs-lookup"><span data-stu-id="89e93-394">Recommended</span></span> |<span data-ttu-id="89e93-395">Witaj adres URL tego użytkownika hello powinien być przekierowanego tooafter pomyślnie wylogowania. Jeśli nie zostanie włączony, usługi Azure AD B2C pokazuje hello użytkownika zostanie wyświetlony komunikat ogólny.</span><span class="sxs-lookup"><span data-stu-id="89e93-395">hello URL that hello user should be redirected tooafter successful sign-out. If it is not included, Azure AD B2C shows hello user a generic message.</span></span> |

> [!NOTE]
> <span data-ttu-id="89e93-396">Mimo że kierowanie hello użytkownika toohello `end_session` punktu końcowego spowoduje wyczyszczenie niektóre użytkownika hello pojedynczego logowania jednokrotnego stanu z usługi Azure AD B2C, nie podpisze użytkownika hello poza swoją sesję dostawca tożsamości społecznościowych.</span><span class="sxs-lookup"><span data-stu-id="89e93-396">Although directing hello user toohello `end_session` endpoint will clear some of hello user's single sign-on state with Azure AD B2C, it will not sign hello user out of their social identity provider (IDP) session.</span></span> <span data-ttu-id="89e93-397">Po wybraniu opcji użytkownika hello hello tego samego IDP podczas kolejnych logowanie, one będzie można ponownie uwierzytelnić, bez konieczności wprowadzania poświadczeń.</span><span class="sxs-lookup"><span data-stu-id="89e93-397">If hello user selects hello same IDP during a subsequent sign-in, they will be reauthenticated, without entering their credentials.</span></span> <span data-ttu-id="89e93-398">Jeśli użytkownik chce toosign poza aplikacji B2C, go nie musi oznaczać że toosign poza swojego konta w serwisie Facebook.</span><span class="sxs-lookup"><span data-stu-id="89e93-398">If a user wants toosign out of your B2C application, it does not necessarily mean they want toosign out of their Facebook account.</span></span> <span data-ttu-id="89e93-399">Jednak w przypadku hello kont lokalnych, hello sesja zostanie zakończona poprawnie.</span><span class="sxs-lookup"><span data-stu-id="89e93-399">However, in hello case of local accounts, hello user's session will be ended properly.</span></span>
> 
> 

## <a name="use-your-own-b2c-tenant"></a><span data-ttu-id="89e93-400">Użyj dzierżawy usługi B2C</span><span class="sxs-lookup"><span data-stu-id="89e93-400">Use your own B2C tenant</span></span>
<span data-ttu-id="89e93-401">Jeśli chcesz tootry te żądania dla siebie, należy najpierw wykonać następujące trzy kroki, a następnie zastąp hello przykładowe wartości opisanych wcześniej własnymi:</span><span class="sxs-lookup"><span data-stu-id="89e93-401">If you want tootry these requests for yourself, you must first perform these three steps, and then replace hello example values described earlier with your own:</span></span>

1. <span data-ttu-id="89e93-402">[Tworzenie dzierżawy B2C](active-directory-b2c-get-started.md)i użyj hello nazwy dzierżawy w żądaniach hello.</span><span class="sxs-lookup"><span data-stu-id="89e93-402">[Create a B2C tenant](active-directory-b2c-get-started.md), and use hello name of your tenant in hello requests.</span></span>
2. <span data-ttu-id="89e93-403">[Tworzenie aplikacji](active-directory-b2c-app-registration.md) tooobtain identyfikator aplikacji.</span><span class="sxs-lookup"><span data-stu-id="89e93-403">[Create an application](active-directory-b2c-app-registration.md) tooobtain an application ID.</span></span> <span data-ttu-id="89e93-404">Dołącz aplikacji sieci web aplikacji/składnika web API.</span><span class="sxs-lookup"><span data-stu-id="89e93-404">Include a web app/web API in your app.</span></span> <span data-ttu-id="89e93-405">Opcjonalnie: Utwórz klucz tajny aplikacji.</span><span class="sxs-lookup"><span data-stu-id="89e93-405">Optionally, create an application secret.</span></span>
3. <span data-ttu-id="89e93-406">[Tworzenie zasad](active-directory-b2c-reference-policies.md) tooobtain nazwy zasad.</span><span class="sxs-lookup"><span data-stu-id="89e93-406">[Create your policies](active-directory-b2c-reference-policies.md) tooobtain your policy names.</span></span>

