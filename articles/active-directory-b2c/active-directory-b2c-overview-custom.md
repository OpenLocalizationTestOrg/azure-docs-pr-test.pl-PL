---
title: "Usługi Azure Active Directory B2C: Niestandardowe zasady | Dokumentacja firmy Microsoft"
description: "Temat dotyczący zasad niestandardowych usługi Azure Active Directory B2C"
services: active-directory-b2c
documentationcenter: 
author: parakhj
manager: krassk
editor: parakhj
ms.assetid: 1ff398a4-2079-4615-94f1-57de22c0aad6
ms.service: active-directory-b2c
ms.workload: identity
ms.tgt_pltfrm: na
ms.topic: article
ms.devlang: na
ms.date: 04/04/2017
ms.author: parakhj
ms.openlocfilehash: 33f62a33ea7a3fadb6e7b045de10df25f5edbe83
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 08/03/2017
---
# <a name="azure-active-directory-b2c-custom-policies"></a><span data-ttu-id="a32b8-103">Usługi Azure Active Directory B2C: Zasady niestandardowe</span><span class="sxs-lookup"><span data-stu-id="a32b8-103">Azure Active Directory B2C: Custom policies</span></span>

[!INCLUDE [active-directory-b2c-advanced-audience-warning](../../includes/active-directory-b2c-advanced-audience-warning.md)]

## <a name="what-are-custom-policies"></a><span data-ttu-id="a32b8-104">Co to są zasady niestandardowe?</span><span class="sxs-lookup"><span data-stu-id="a32b8-104">What are custom policies?</span></span>

<span data-ttu-id="a32b8-105">Zasady niestandardowe to pliki konfiguracji definiujące zachowanie Twojej dzierżawy usługi Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="a32b8-105">Custom policies are configuration files that define the behavior of your Azure AD B2C tenant.</span></span> <span data-ttu-id="a32b8-106">Podczas gdy **wbudowane zasady** są wstępnie zdefiniowane w portalu usługi Azure AD B2C do najbardziej typowych zadań tożsamości niestandardowych zasad mogą być pełni edytowane przez dewelopera tożsamości, aby ukończyć near nieograniczoną liczbę zadań.</span><span class="sxs-lookup"><span data-stu-id="a32b8-106">Whereas **built-in policies** are predefined in the Azure AD B2C portal for the most common identity tasks, custom policies can be fully edited by an identity developer to complete a near unlimited number of tasks.</span></span> <span data-ttu-id="a32b8-107">Odczytać w celu ustalenia, czy zasady niestandardowe są odpowiedniej dla Ciebie i Twojego scenariusza z tożsamością.</span><span class="sxs-lookup"><span data-stu-id="a32b8-107">Read on to determine if custom policies are right for you and your identity scenario.</span></span>

<span data-ttu-id="a32b8-108">**Edytowanie zasad niestandardowych nie jest dla wszystkich użytkowników.**</span><span class="sxs-lookup"><span data-stu-id="a32b8-108">**Custom policy editing is not for everyone.**</span></span> <span data-ttu-id="a32b8-109">Wymagający nauki jest dłuższy czas uruchamiania, a przyszłe zmiany do niestandardowych zasad będzie wymagać doświadczenia podobne do zachowania.</span><span class="sxs-lookup"><span data-stu-id="a32b8-109">The learning curve is demanding, the startup time is longer, and future changes to custom policies will require similar expertise to maintain.</span></span> <span data-ttu-id="a32b8-110">Wbudowane zasady powinny być starannie przemyślane, najpierw dla danego scenariusza przed użyciem zasad niestandardowych.</span><span class="sxs-lookup"><span data-stu-id="a32b8-110">Built-in policies should be carefully considered first for your scenario before using custom policies.</span></span>

## <a name="comparing-built-in-policies-and-custom-policies"></a><span data-ttu-id="a32b8-111">Porównywanie wbudowane i niestandardowe zasady</span><span class="sxs-lookup"><span data-stu-id="a32b8-111">Comparing built-in policies and custom policies</span></span>

| | <span data-ttu-id="a32b8-112">Wbudowane zasady</span><span class="sxs-lookup"><span data-stu-id="a32b8-112">Built-in policies</span></span> | <span data-ttu-id="a32b8-113">zasady niestandardowe</span><span class="sxs-lookup"><span data-stu-id="a32b8-113">Custom policies</span></span> |
|-|-------------------|-----------------|
|<span data-ttu-id="a32b8-114">Użytkownicy docelowi</span><span class="sxs-lookup"><span data-stu-id="a32b8-114">Target users</span></span> | <span data-ttu-id="a32b8-115">Wszystkie deweloperzy aplikacji z lub bez wiedzy tożsamości</span><span class="sxs-lookup"><span data-stu-id="a32b8-115">All app developers with or without identity expertise</span></span> | <span data-ttu-id="a32b8-116">Specjaliści tożsamości: integratorów systemów. platforma, konsultantów i zespoły wewnętrznych tożsamości.</span><span class="sxs-lookup"><span data-stu-id="a32b8-116">Identity pros: systems integrators, consultants and in-house identity teams.</span></span> <span data-ttu-id="a32b8-117">Potrafisz przepływów OpenIDConnect i zrozumieć dostawców tożsamości i uwierzytelniania opartego na oświadczeniach</span><span class="sxs-lookup"><span data-stu-id="a32b8-117">They are comfortable with OpenIDConnect flows, and understand identity providers and claims-based authentication</span></span> |
|<span data-ttu-id="a32b8-118">Metody konfiguracji</span><span class="sxs-lookup"><span data-stu-id="a32b8-118">Configuration method</span></span> | <span data-ttu-id="a32b8-119">Portal Azure przy użyciu przyjaznych dla użytkownika interfejsu użytkownika</span><span class="sxs-lookup"><span data-stu-id="a32b8-119">Azure portal with a user-friendly UI</span></span> | <span data-ttu-id="a32b8-120">Bezpośredniego edytowania plików XML, a następnie przekazać do portalu Azure</span><span class="sxs-lookup"><span data-stu-id="a32b8-120">Directly editing XML files and then uploading to the Azure portal</span></span> |
|<span data-ttu-id="a32b8-121">Dostosowywanie interfejsu użytkownika</span><span class="sxs-lookup"><span data-stu-id="a32b8-121">UI customization</span></span> | <span data-ttu-id="a32b8-122">Pełne dostosowywanie interfejsu użytkownika, w tym HTML, CSS i jscript obsługi (wymaga domeny niestandardowej)</span><span class="sxs-lookup"><span data-stu-id="a32b8-122">Full UI customization, including HTML, CSS, and jscript support(requires custom domain)</span></span><br><br><span data-ttu-id="a32b8-123">Obsługa wielu języków z ciągami niestandardowe</span><span class="sxs-lookup"><span data-stu-id="a32b8-123">Multilanguage support with Custom strings</span></span> | <span data-ttu-id="a32b8-124">tym samym</span><span class="sxs-lookup"><span data-stu-id="a32b8-124">Same</span></span> |
| <span data-ttu-id="a32b8-125">Dostosowywanie atrybutu</span><span class="sxs-lookup"><span data-stu-id="a32b8-125">Attribute customization</span></span> | <span data-ttu-id="a32b8-126">Standardowe i niestandardowe atrybuty</span><span class="sxs-lookup"><span data-stu-id="a32b8-126">Standard and custom attributes</span></span> | <span data-ttu-id="a32b8-127">tym samym</span><span class="sxs-lookup"><span data-stu-id="a32b8-127">Same</span></span> |
|<span data-ttu-id="a32b8-128">Token i sesji zarządzania</span><span class="sxs-lookup"><span data-stu-id="a32b8-128">Token and session management</span></span> | <span data-ttu-id="a32b8-129">Niestandardowy token i wiele opcji sesji</span><span class="sxs-lookup"><span data-stu-id="a32b8-129">Custom token and multiple session options</span></span> | <span data-ttu-id="a32b8-130">tym samym</span><span class="sxs-lookup"><span data-stu-id="a32b8-130">Same</span></span> |
|<span data-ttu-id="a32b8-131">Dostawców tożsamości</span><span class="sxs-lookup"><span data-stu-id="a32b8-131">Identity Providers</span></span>| <span data-ttu-id="a32b8-132">**Dzisiaj**: wstępnie zdefiniowane lokalne, społecznościowych dostawcy</span><span class="sxs-lookup"><span data-stu-id="a32b8-132">**Today**: predefined local, social provider</span></span><br><br><span data-ttu-id="a32b8-133">**Przyszłe**: OAuth opartych na standardach OIDC SAML,</span><span class="sxs-lookup"><span data-stu-id="a32b8-133">**Future**: Standards-based OIDC, SAML, OAuth</span></span> | <span data-ttu-id="a32b8-134">**Dzisiaj**: SAML opartych na standardach OIDC OAUTH,</span><span class="sxs-lookup"><span data-stu-id="a32b8-134">**Today**: Standards-based OIDC, OAUTH, SAML</span></span><br><br><span data-ttu-id="a32b8-135">**Przyszłe**: WsFed</span><span class="sxs-lookup"><span data-stu-id="a32b8-135">**Future**: WsFed</span></span> |
|<span data-ttu-id="a32b8-136">Zadania tożsamości (przykłady)</span><span class="sxs-lookup"><span data-stu-id="a32b8-136">Identity Tasks (examples)</span></span> | <span data-ttu-id="a32b8-137">Uaktywnij lub logowania z wielu kont społecznościowych i lokalne</span><span class="sxs-lookup"><span data-stu-id="a32b8-137">Signup or SignIn with local and many social accounts</span></span><br><br><span data-ttu-id="a32b8-138">Samoobsługowe resetowanie haseł</span><span class="sxs-lookup"><span data-stu-id="a32b8-138">Self-Service Password Reset</span></span><br><br><span data-ttu-id="a32b8-139">Edycja profilu</span><span class="sxs-lookup"><span data-stu-id="a32b8-139">Profile Edit</span></span><br><br><span data-ttu-id="a32b8-140">Scenariusze uwierzytelniania wieloskładnikowego</span><span class="sxs-lookup"><span data-stu-id="a32b8-140">Multi-Factor Auth scenarios</span></span><br><br><span data-ttu-id="a32b8-141">Dostosowywanie tokeny i sesji</span><span class="sxs-lookup"><span data-stu-id="a32b8-141">Customize Tokens and sessions</span></span><br><br><span data-ttu-id="a32b8-142">Przepływ tokenu dostępu</span><span class="sxs-lookup"><span data-stu-id="a32b8-142">Access Token flows</span></span> | <span data-ttu-id="a32b8-143">Wykonaj zadania tego samego jako wbudowanych zasad przy użyciu dostawcy tożsamości niestandardowej lub użyj zakresy niestandardowe</span><span class="sxs-lookup"><span data-stu-id="a32b8-143">Complete the same tasks as built-in policies using custom identity providers or use custom scopes</span></span><br><br><span data-ttu-id="a32b8-144">Ustanów użytkownika w innym systemie w czasie rejestracji</span><span class="sxs-lookup"><span data-stu-id="a32b8-144">Provision user in another system at the time of registration</span></span><br><br><span data-ttu-id="a32b8-145">Wysyłania powitalnej wiadomości e-mail, przy użyciu własnego dostawcę usługi poczty e-mail</span><span class="sxs-lookup"><span data-stu-id="a32b8-145">Send a welcome email using your own email service provider</span></span><br><br><span data-ttu-id="a32b8-146">Użyj magazynu użytkowników spoza B2C</span><span class="sxs-lookup"><span data-stu-id="a32b8-146">Use a user store outside B2C</span></span><br><br><span data-ttu-id="a32b8-147">Sprawdzanie poprawności użytkownika informacje z zaufanego systemu za pomocą interfejsu API</span><span class="sxs-lookup"><span data-stu-id="a32b8-147">Validate user provided information with a trusted system via API</span></span> |

## <a name="policy-files"></a><span data-ttu-id="a32b8-148">Pliki zasad</span><span class="sxs-lookup"><span data-stu-id="a32b8-148">Policy files</span></span>

<span data-ttu-id="a32b8-149">Zasady niestandardowe jest reprezentowany jako jeden lub kilka plików w formacie XML które odwoływać się do siebie w łańcuchu hierarchicznej.</span><span class="sxs-lookup"><span data-stu-id="a32b8-149">A custom policy is represented as one or several XML-formatted files which refer to each other in a hierarchical chain.</span></span> <span data-ttu-id="a32b8-150">Definiowanie elementów XML: schemat oświadczeń oświadczeń przekształcenia, definicje zawartości profile technical/dostawców oświadczeń i Userjourney aranżacji kroków, między innymi elementami.</span><span class="sxs-lookup"><span data-stu-id="a32b8-150">The XML elements define: Claims schema, claims transformations, content definitions, claims providers/technical profiles, and Userjourney orchestration steps, among other elements.</span></span>

<span data-ttu-id="a32b8-151">Firma Microsoft zaleca użycie trzech typów plików zasad:</span><span class="sxs-lookup"><span data-stu-id="a32b8-151">We recommend the use of three types of policy files:</span></span>

- <span data-ttu-id="a32b8-152">**PODSTAWOWY plik**, który zawiera większość definicje i dla którego platforma Azure udostępnia kompletnego przykładu.</span><span class="sxs-lookup"><span data-stu-id="a32b8-152">**A BASE file**, which contains most of the definitions and for which Azure provides a complete sample.</span></span>  <span data-ttu-id="a32b8-153">Firma Microsoft zaleca, że minimalna liczba zmian ten plik, aby ułatwić rozwiązywanie problemów i długoterminowej konserwacji zasad</span><span class="sxs-lookup"><span data-stu-id="a32b8-153">We recommend you make a minimum number of changes to this file to help with troubleshooting, and long-term maintenance of your policies</span></span>
- <span data-ttu-id="a32b8-154">**plik rozszerzenia** przechowuje zmiany konfiguracji unikatowy dla dzierżawy</span><span class="sxs-lookup"><span data-stu-id="a32b8-154">**an EXTensions file** that holds the unique configuration changes for your tenant</span></span>
- <span data-ttu-id="a32b8-155">**plik strony jednostki uzależnionej (RP)** pojedynczego pliku fokus zadania, który jest wywoływany bezpośrednio przez aplikację lub usługę (alias uzależniona).</span><span class="sxs-lookup"><span data-stu-id="a32b8-155">**a Relying Party (RP) file** which is the single task-focused file that is invoked directly by the application or service (aka Relying Party).</span></span>  <span data-ttu-id="a32b8-156">Przeczytaj artykuł na definicje pliku zasad, aby uzyskać więcej informacji.</span><span class="sxs-lookup"><span data-stu-id="a32b8-156">Read the article on Policy file definitions for more information.</span></span>  <span data-ttu-id="a32b8-157">Każde zadanie unikatowy wymaga własnego planu odzyskiwania i w zależności od wymagań znakowania ta liczba może być "Całkowita liczba aplikacji x liczba przypadków użycia".</span><span class="sxs-lookup"><span data-stu-id="a32b8-157">Each unique task requires its own RP and depending on branding requirements the number might be "total of applications x total number of use cases".</span></span>


<span data-ttu-id="a32b8-158">Wbudowane zasady w usłudze Azure AD B2C zgodne ze wzorcem pliku 3 przedstawione powyżej, ale Deweloper widoczny jest tylko plik jednostki uzależnionej strony (RP) podczas portalu dokonuje zmian w tle w pliku EXTenstions.</span><span class="sxs-lookup"><span data-stu-id="a32b8-158">Built-in policies in Azure AD B2C follow the 3-file pattern depicted above, but the developer only sees the Relying Party (RP) file, while the portal makes changes in the background to the EXTenstions file.</span></span>

## <a name="core-concepts-you-should-know-when-using-custom-policies"></a><span data-ttu-id="a32b8-159">Podstawowe koncepcje, których należy wiedzieć, korzystając z zasad niestandardowych</span><span class="sxs-lookup"><span data-stu-id="a32b8-159">Core concepts you should know when using custom policies</span></span>

### <a name="azure-active-directory-b2c"></a><span data-ttu-id="a32b8-160">Azure Active Directory B2C</span><span class="sxs-lookup"><span data-stu-id="a32b8-160">Azure Active Directory B2C</span></span>

<span data-ttu-id="a32b8-161">Przez klienta tożsamości i dostępu do usługi Azure management (CIAM).</span><span class="sxs-lookup"><span data-stu-id="a32b8-161">Azure’s customer identity and access management (CIAM) service.</span></span> <span data-ttu-id="a32b8-162">Usługa obejmuje:</span><span class="sxs-lookup"><span data-stu-id="a32b8-162">The service includes:</span></span>

1. <span data-ttu-id="a32b8-163">Katalog użytkownika w postaci specjalnych usługi Azure Active Directory dostępne za pośrednictwem programu Microsoft Graph, które przechowuje dane użytkownika dla kont lokalnych i kont federacyjnych</span><span class="sxs-lookup"><span data-stu-id="a32b8-163">A user directory in the form of a special-purpose Azure Active Directory accessible via Microsoft Graph and which holds user data for both local accounts and federated accounts</span></span> 
2. <span data-ttu-id="a32b8-164">Dostęp do **Framework obsługi tożsamości** co organizuje relacji zaufania między użytkowników i jednostek i przekazuje oświadczeń między nimi w celu wykonania zadania zarządzania tożsamości/dostęp</span><span class="sxs-lookup"><span data-stu-id="a32b8-164">Access to the **Identity Experience Framework** which orchestrates trust between users and entities and passes claims between them to complete an identity/access management task</span></span> 
3. <span data-ttu-id="a32b8-165">Usługa tokenu zabezpieczającego (STS) wystawiania identyfikator tokenów, Odśwież tokenów i dostępu tokeny (i równoważne potwierdzenia SAML) i sprawdzania ich do ochrony zasobów.</span><span class="sxs-lookup"><span data-stu-id="a32b8-165">A security token service (STS) issuing id tokens, refresh tokens, and access tokens (and equivalent SAML assertions) and validating them to protect resources.</span></span>

<span data-ttu-id="a32b8-166">Usługa Azure AD B2C współdziała z dostawców tożsamości, użytkowników i innych systemach i z katalogu lokalnego użytkownika w sekwencji do wykonania zadania tożsamości (np. nazwy logowania użytkownika, zarejestrować nowego użytkownika, resetowanie hasła).</span><span class="sxs-lookup"><span data-stu-id="a32b8-166">Azure AD B2C interacts with identity providers, users, other systems, and with the local user directory in sequence to achieve an identity task (e.g. login a user, register a new user, reset a password).</span></span> <span data-ttu-id="a32b8-167">Platforma podstawowa, która ustanawia relację zaufania wieloosobową i wykonuje następujące czynności jest nazywany Framework obsługi tożsamości i zasad (nazywanych również przebieg użytkownika lub zasad framework zaufania) jawnie definiuje uczestników, akcje, protokołów, i sekwencja kroków w celu ukończenia.</span><span class="sxs-lookup"><span data-stu-id="a32b8-167">The underlying platform which establishes multi-party trust and executes these steps is called the Identity Experience Framework and a policy (also called an user journey or a Trust framework policy) explicitly defines the actors, the actions, the protocols, and the sequence of steps to complete.</span></span>

### <a name="identity-experience-framework"></a><span data-ttu-id="a32b8-168">Platforma obsługi tożsamości</span><span class="sxs-lookup"><span data-stu-id="a32b8-168">Identity Experience Framework</span></span>

<span data-ttu-id="a32b8-169">Formatuje pełni konfigurowalne, oparte na zasadach, oparte na chmurze platformy Azure, będąca aranżacją relacji zaufania między jednostkami (szeroko dostawców oświadczeń) w standardowego protokołu OpenIDConnect, OAuth, SAML, WSFed i kilka z nich niestandardowych (np. interfejsu API REST na podstawie System — system oświadczeń wymiany).</span><span class="sxs-lookup"><span data-stu-id="a32b8-169">A fully configurable, policy-driven, cloud-based Azure platform that orchestrates trust between entities (broadly Claims Providers) in standard protocol formats such as OpenIDConnect, OAuth, SAML, WSFed, and a few non-standard ones (e.g. REST API-based system-to-system claims exchanges).</span></span> <span data-ttu-id="a32b8-170">I2E tworzy przyjazną dla użytkownika, napotyka whitelabelled, który obsługuje HTML, CSS i jscript.</span><span class="sxs-lookup"><span data-stu-id="a32b8-170">The I2E creates user-friendly, whitelabelled experiences that support HTML, CSS, and jscript.</span></span>  <span data-ttu-id="a32b8-171">Obecnie Framework obsługi tożsamości jest dostępna tylko w kontekście usługi Azure AD B2C i priorytetową zadania związane z CIAM.</span><span class="sxs-lookup"><span data-stu-id="a32b8-171">Today, the Identity Experience Framework is available only in the context of the Azure AD B2C service and prioritized for tasks related to CIAM.</span></span>

### <a name="built-in-policies"></a><span data-ttu-id="a32b8-172">Wbudowane zasady</span><span class="sxs-lookup"><span data-stu-id="a32b8-172">Built-in policies</span></span>

<span data-ttu-id="a32b8-173">Pliki konfiguracyjne wstępnie zdefiniowane, które bezpośrednie zachowanie usługi Azure AD B2C do wykonywania zadań najczęściej używane tożsamości (tj.)</span><span class="sxs-lookup"><span data-stu-id="a32b8-173">Predefined configuration files that direct the behavior of Azure AD B2C to perform the most commonly used identity tasks (i.e.</span></span> <span data-ttu-id="a32b8-174">Rejestracja użytkownika, rejestrowanie, resetowania hasła) i interakcję z zaufanych strony, których relację również wstępnie zdefiniowane w usłudze Azure AD B2C (np. usługi Facebook dostawcy tożsamości, LinkedIn, Account firmy Microsoft, konta Google).</span><span class="sxs-lookup"><span data-stu-id="a32b8-174">user registration, signin, password reset) and interact with trusted parties whose relationship is also predefined in Azure AD B2C (e.g. Facebook identity provider, LinkedIn, Microsoft Account, Google accounts).</span></span>  <span data-ttu-id="a32b8-175">W przyszłości wbudowane zasady mogą również przewidzieć dostosowania dostawców tożsamości, które są zazwyczaj w obszarze przedsiębiorstwa, np. Azure Active Directory Premium, Active Directory/ADFS Salesforce identyfikator dostawcy.</span><span class="sxs-lookup"><span data-stu-id="a32b8-175">In the future, built-in policies may also provide for customization of identity providers which are typically in the enterprise realm such as Azure Active Directory Premium, Active Directory/ADFS, Salesforce ID Provider etc.</span></span>


### <a name="custom-policies"></a><span data-ttu-id="a32b8-176">zasady niestandardowe</span><span class="sxs-lookup"><span data-stu-id="a32b8-176">Custom policies</span></span>

<span data-ttu-id="a32b8-177">Pliki konfiguracyjne, które definiują zachowanie Framework obsługi tożsamości w dzierżawie usługi Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="a32b8-177">Configuration files that define the behavior of Identity Experience Framework in your Azure AD B2C tenant.</span></span> <span data-ttu-id="a32b8-178">Zasady niestandardowe jest dostępny jako jeden lub kilka plików XML (zobacz pliki zasad definicje) wykonywanych przez Framework środowisko tożsamości, gdy została wywołana przez jednostkę uzależnioną (np. aplikacji).</span><span class="sxs-lookup"><span data-stu-id="a32b8-178">A custom policy is accessible as one or several XML files (see Policy Files definitions) which are executed by the Identity Experience Framework when invoked by a relying party (e.g. an application).</span></span> <span data-ttu-id="a32b8-179">Zasady niestandardowe można edytować bezpośrednio przez dewelopera tożsamości, aby ukończyć near nieograniczoną liczbę zadań.</span><span class="sxs-lookup"><span data-stu-id="a32b8-179">Custom policies can be directly edited by an identity developer to complete a near unlimited number of tasks.</span></span> <span data-ttu-id="a32b8-180">Deweloperzy Konfigurowanie niestandardowych zasad musi definiować relacje zaufanych szczegółowo dokładne zawierają punkty końcowe metadanych, dokładne oświadczeń wymienić definicje i skonfiguruj klucze tajne, klucze i certyfikaty zgodnie z potrzebami każdego dostawcy tożsamości.</span><span class="sxs-lookup"><span data-stu-id="a32b8-180">Developers configuring custom policies must define the trusted relationships in careful detail to include metadata endpoints, exact claims exchange definitions, and configure secrets, keys and certificates as needed by each identity provider.</span></span>

## <a name="policy-file-definitions-for-identity-experience-framework-trustframeworks"></a><span data-ttu-id="a32b8-181">Definicje pliku zasad dla Trustframeworks Framework obsługi tożsamości</span><span class="sxs-lookup"><span data-stu-id="a32b8-181">Policy File Definitions for Identity Experience Framework Trustframeworks</span></span>

### <a name="policy-files"></a><span data-ttu-id="a32b8-182">Pliki zasad</span><span class="sxs-lookup"><span data-stu-id="a32b8-182">Policy Files</span></span>

<span data-ttu-id="a32b8-183">Zasady niestandardowe jest reprezentowany jako jeden lub kilka plików w formacie XML które odwoływać się do siebie w łańcuchu hierarchicznej.</span><span class="sxs-lookup"><span data-stu-id="a32b8-183">A custom policy is represented as one or several XML-formatted files which refer to each other in a hierarchical chain.</span></span> <span data-ttu-id="a32b8-184">Definiowanie elementów XML: schemat oświadczeń oświadczeń przekształcenia, definicje zawartości profile technical/dostawców oświadczeń i Userjourney aranżacji kroków, między innymi elementami.</span><span class="sxs-lookup"><span data-stu-id="a32b8-184">The XML elements define: Claims schema, claims transformations, content definitions, claims providers/technical profiles, and Userjourney orchestration steps, among other elements.</span></span>  <span data-ttu-id="a32b8-185">Firma Microsoft zaleca użycie trzech typów plików zasad:</span><span class="sxs-lookup"><span data-stu-id="a32b8-185">We recommend the use of three types of policy files:</span></span>

- <span data-ttu-id="a32b8-186">**PODSTAWOWY plik**, który zawiera większość definicje i dla którego platforma Azure udostępnia kompletnego przykładu.</span><span class="sxs-lookup"><span data-stu-id="a32b8-186">**A BASE file**, which contains most of the definitions and for which Azure provides a complete sample.</span></span>  <span data-ttu-id="a32b8-187">Firma Microsoft zaleca, że minimalna liczba zmian ten plik, aby ułatwić rozwiązywanie problemów i długoterminowej konserwacji zasad</span><span class="sxs-lookup"><span data-stu-id="a32b8-187">We recommend you make a minimum number of changes to this file to help with troubleshooting, and long-term maintenance of your policies</span></span>
- <span data-ttu-id="a32b8-188">**plik rozszerzenia** przechowuje zmiany konfiguracji unikatowy dla dzierżawy</span><span class="sxs-lookup"><span data-stu-id="a32b8-188">**an EXTensions file** that holds the unique configuration changes for your tenant</span></span>
- <span data-ttu-id="a32b8-189">**plik strony jednostki uzależnionej (RP)** pojedynczego pliku fokus zadania, który jest wywoływany bezpośrednio przez aplikację lub usługę (alias uzależniona).</span><span class="sxs-lookup"><span data-stu-id="a32b8-189">**a Relying Party (RP) file** which is the single task-focused file that is invoked directly by the application or service (aka Relying Party).</span></span>  <span data-ttu-id="a32b8-190">Przeczytaj artykuł na definicje pliku zasad, aby uzyskać więcej informacji.</span><span class="sxs-lookup"><span data-stu-id="a32b8-190">Read the article on Policy file definitions for more information.</span></span>  <span data-ttu-id="a32b8-191">Każde zadanie unikatowy wymaga własnego planu odzyskiwania i w zależności od wymagań znakowania ta liczba może być "Całkowita liczba aplikacji x liczba przypadków użycia".</span><span class="sxs-lookup"><span data-stu-id="a32b8-191">Each unique task requires its own RP and depending on branding requirements the number might be "total of applications x total number of use cases".</span></span>

![Typy zasad](media/active-directory-b2c-overview-custom/active-directory-b2c-overview-custom-policy-files.png)

| <span data-ttu-id="a32b8-193">Typ pliku zasad</span><span class="sxs-lookup"><span data-stu-id="a32b8-193">Type of policy file</span></span> | <span data-ttu-id="a32b8-194">Nazwa pliku przykłady</span><span class="sxs-lookup"><span data-stu-id="a32b8-194">Examples file name</span></span> | <span data-ttu-id="a32b8-195">Zalecane użycie</span><span class="sxs-lookup"><span data-stu-id="a32b8-195">Recommended use</span></span> | <span data-ttu-id="a32b8-196">Dziedziczy</span><span class="sxs-lookup"><span data-stu-id="a32b8-196">Inherits from</span></span> |
|---------------------|--------------------|-----------------|---------------|
| <span data-ttu-id="a32b8-197">PODSTAWA</span><span class="sxs-lookup"><span data-stu-id="a32b8-197">BASE</span></span> |<span data-ttu-id="a32b8-198">TrustFrameworkBase.xml</span><span class="sxs-lookup"><span data-stu-id="a32b8-198">TrustFrameworkBase.xml</span></span><br><br><span data-ttu-id="a32b8-199">Mytenant.onmicrosoft.com-B2C-1A_BASE1.xml</span><span class="sxs-lookup"><span data-stu-id="a32b8-199">Mytenant.onmicrosoft.com-B2C-1A_BASE1.xml</span></span> | <span data-ttu-id="a32b8-200">Zawiera podstawowe oświadczeń schematu, przekształcenia oświadczeń, dostawców oświadczeń i podróże użytkownika skonfigurowane przez firmę Microsoft</span><span class="sxs-lookup"><span data-stu-id="a32b8-200">Includes the core claims schema, claims transformations, claims providers, and user journeys configured by Microsoft</span></span><br><br><span data-ttu-id="a32b8-201">Minimalne zmiany tego pliku</span><span class="sxs-lookup"><span data-stu-id="a32b8-201">Make minimal changes to this file</span></span> | <span data-ttu-id="a32b8-202">Brak</span><span class="sxs-lookup"><span data-stu-id="a32b8-202">None</span></span> |
| <span data-ttu-id="a32b8-203">Rozszerzenia (EXT)</span><span class="sxs-lookup"><span data-stu-id="a32b8-203">Extension (EXT)</span></span> | <span data-ttu-id="a32b8-204">TrustFrameworkExtensions.xml</span><span class="sxs-lookup"><span data-stu-id="a32b8-204">TrustFrameworkExtensions.xml</span></span><br><br><span data-ttu-id="a32b8-205">Mytenant.onmicrosoft.com-B2C-1A_EXT.xml</span><span class="sxs-lookup"><span data-stu-id="a32b8-205">Mytenant.onmicrosoft.com-B2C-1A_EXT.xml</span></span> | <span data-ttu-id="a32b8-206">Konsolidacja zmiany w tym miejscu pliku podstawowego</span><span class="sxs-lookup"><span data-stu-id="a32b8-206">Consolidate your changes to the BASE file here</span></span><br><br><span data-ttu-id="a32b8-207">Dostawców oświadczeń zmodyfikowane</span><span class="sxs-lookup"><span data-stu-id="a32b8-207">Modified claims providers</span></span><br><br><span data-ttu-id="a32b8-208">Podróże zmodyfikowanego użytkownika</span><span class="sxs-lookup"><span data-stu-id="a32b8-208">Modified user journeys</span></span><br><br><span data-ttu-id="a32b8-209">Definicje własnych niestandardowych schematów</span><span class="sxs-lookup"><span data-stu-id="a32b8-209">Your own custom schema definitions</span></span> | <span data-ttu-id="a32b8-210">Pliku podstawowego</span><span class="sxs-lookup"><span data-stu-id="a32b8-210">BASE file</span></span> |
| <span data-ttu-id="a32b8-211">Jednostka uzależniona (RP)</span><span class="sxs-lookup"><span data-stu-id="a32b8-211">Relying Party (RP)</span></span> | <span data-ttu-id="a32b8-212">B2C_1A_sign_up_sign_in.XML</span><span class="sxs-lookup"><span data-stu-id="a32b8-212">B2C_1A_sign_up_sign_in.xml</span></span>| <span data-ttu-id="a32b8-213">Ustawienia tokenu kształt i sesji tutaj</span><span class="sxs-lookup"><span data-stu-id="a32b8-213">Change token shape and session settings here</span></span>| <span data-ttu-id="a32b8-214">Plik Extensions(ext)</span><span class="sxs-lookup"><span data-stu-id="a32b8-214">Extensions(EXT) file</span></span> |

### <a name="inheritance-model"></a><span data-ttu-id="a32b8-215">Model dziedziczenia</span><span class="sxs-lookup"><span data-stu-id="a32b8-215">Inheritance model</span></span>

<span data-ttu-id="a32b8-216">Po uruchomieniu pliku zasad planu odzyskiwania, Framework obsługi tożsamości w B2C doda wszystkie elementy z podstawowego, a następnie z ROZSZERZEŃ, a na koniec z pliku zasad planu odzyskiwania można złożyć bieżące zasady obowiązujące.</span><span class="sxs-lookup"><span data-stu-id="a32b8-216">When an application calls the RP Policy file, the Identity Experience Framework in B2C will add all the elements from BASE, then from EXTENSIONS, and lastly from the RP policy file to assemble the current policy in effect.</span></span>  <span data-ttu-id="a32b8-217">Elementy tego samego typu i nazwa pliku RP zastępują w ROZSZERZENIACH, i rozszerzenia zastąpień BASE.</span><span class="sxs-lookup"><span data-stu-id="a32b8-217">Elements of the same type and name in the RP file will override those in the EXTENSIONS, and EXTENSIONS overrides BASE.</span></span>

<span data-ttu-id="a32b8-218">**Wbudowane zasady** w usłudze Azure AD B2C wykonaj wzorzec pliku 3 przedstawione powyżej, ale Deweloper widoczny jest tylko plik jednostki uzależnionej strony (RP) podczas portalu dokonuje zmian w tle w pliku EXTenstions.</span><span class="sxs-lookup"><span data-stu-id="a32b8-218">**Built-in policies** in Azure AD B2C follow the 3-file pattern depicted above, but the developer only sees the Relying Party (RP) file, while the portal makes changes in the background to the EXTenstions file.</span></span>  <span data-ttu-id="a32b8-219">Wszystkie usługi Azure AD B2C udostępnia podstawowe zasady plik podlega kontroli przez zespół Azure B2C jest często aktualizowana.</span><span class="sxs-lookup"><span data-stu-id="a32b8-219">All of Azure AD B2C shares a BASE policy file that is under the control of the Azure B2C team and is updated frequently.</span></span>
