---
title: "Usługa Azure Active Directory B2C: Jednostronicowej aplikacji przy użyciu niejawnego przepływu | Dokumentacja firmy Microsoft"
description: "Dowiedz się, jak aplikacje jednej strony toobuild bezpośrednio przy użyciu protokołu OAuth 2.0 niejawnego przepływu z usługi Azure Active Directory B2C."
services: active-directory-b2c
documentationcenter: 
author: parakhj
manager: krassk
editor: parakhj
ms.assetid: a45cc74c-a37e-453f-b08b-af75855e0792
ms.service: active-directory-b2c
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 02/06/2017
ms.author: parakhj
ms.openlocfilehash: 5e52abc18fe545f0f6d1745cdb2ea42c5b2698cc
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="azure-ad-b2c-single-page-app-sign-in-by-using-oauth-20-implicit-flow"></a><span data-ttu-id="e9bb2-103">Usługa Azure AD B2C: Jednostronicowej aplikacji logowania przy użyciu niejawnego przepływu OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="e9bb2-103">Azure AD B2C: Single-page app sign-in by using OAuth 2.0 implicit flow</span></span>

> [!NOTE]
> <span data-ttu-id="e9bb2-104">Ta funkcja jest dostępna w wersji zapoznawczej.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-104">This feature is in preview.</span></span>
> 

<span data-ttu-id="e9bb2-105">Wiele nowoczesnych aplikacji ma jednostronicowej aplikacji fronton głównie napisany w języku JavaScript.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-105">Many modern apps have a single-page app front end that primarily is written in JavaScript.</span></span> <span data-ttu-id="e9bb2-106">Często aplikacji hello jest zapisywany przy użyciu framework, takich jak AngularJS, Ember.js lub Durandal.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-106">Often, hello app is written by using a framework like AngularJS, Ember.js, or Durandal.</span></span> <span data-ttu-id="e9bb2-107">Aplikacje jednej strony i innych aplikacji JavaScript, które można uruchamiać głównie w przeglądarce ma pewne dodatkowe problemy dotyczące uwierzytelniania:</span><span class="sxs-lookup"><span data-stu-id="e9bb2-107">Single-page apps and other JavaScript apps that run primarily in a browser have some additional challenges for authentication:</span></span>

* <span data-ttu-id="e9bb2-108">właściwości zabezpieczeń Hello te aplikacje są znacznie różni się od tradycyjnych na serwerze sieci web aplikacji.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-108">hello security characteristics of these apps are significantly different from traditional server-based web applications.</span></span>
* <span data-ttu-id="e9bb2-109">Wiele serwerów autoryzacji i dostawców tożsamości nie obsługują współużytkowanie zasobów między źródłami (CORS) żądania udostępniania.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-109">Many authorization servers and identity providers do not support cross-origin resource sharing (CORS) requests.</span></span>
* <span data-ttu-id="e9bb2-110">Przekierowania całej strony przeglądarki w kierunku od aplikacji hello może być znacznie inwazyjne toohello środowisko użytkownika.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-110">Full-page browser redirects away from hello app can be significantly invasive toohello user experience.</span></span>

<span data-ttu-id="e9bb2-111">toosupport tych aplikacji, usługi Azure Active Directory B2C (Azure AD B2C) używa przepływu niejawnego hello OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-111">toosupport these applications, Azure Active Directory B2C (Azure AD B2C) uses hello OAuth 2.0 implicit flow.</span></span> <span data-ttu-id="e9bb2-112">Przepływ niejawne Przyznaj autoryzacji OAuth 2.0 Hello jest opisany w [sekcji 4.2 specyfikacji hello OAuth 2.0](http://tools.ietf.org/html/rfc6749).</span><span class="sxs-lookup"><span data-stu-id="e9bb2-112">hello OAuth 2.0 authorization implicit grant flow is described in [section 4.2 of hello OAuth 2.0 specification](http://tools.ietf.org/html/rfc6749).</span></span> <span data-ttu-id="e9bb2-113">W niejawnego przepływu aplikacji hello odbiera tokeny bezpośrednio z hello punktu końcowego, bez żadnych do serwera exchange autoryzacji usługi Azure Active Directory (Azure AD).</span><span class="sxs-lookup"><span data-stu-id="e9bb2-113">In implicit flow, hello app receives tokens directly from hello Azure Active Directory (Azure AD) authorize endpoint, without any server-to-server exchange.</span></span> <span data-ttu-id="e9bb2-114">Wszystkie logika uwierzytelniania i sesji obsługi ma umieścić w całości powitania klienta JavaScript, bez dodatkowa strona przekierowania.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-114">All authentication logic and session handling takes place entirely in hello JavaScript client, without additional page redirects.</span></span>

<span data-ttu-id="e9bb2-115">Usługa Azure AD B2C rozszerza hello standardowego protokołu OAuth 2.0 przepływu niejawnego toomore niż prostego uwierzytelniania i autoryzacji.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-115">Azure AD B2C extends hello standard OAuth 2.0 implicit flow toomore than simple authentication and authorization.</span></span> <span data-ttu-id="e9bb2-116">Usługa Azure AD B2C wprowadza hello [parametru zasad](active-directory-b2c-reference-policies.md).</span><span class="sxs-lookup"><span data-stu-id="e9bb2-116">Azure AD B2C introduces hello [policy parameter](active-directory-b2c-reference-policies.md).</span></span> <span data-ttu-id="e9bb2-117">Z parametrem zasad hello, można użyć protokołu OAuth 2.0 użytkownika tooadd napotyka tooyour aplikacji, takich jak konta, logowania i zarządzania profilami.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-117">With hello policy parameter, you can use OAuth 2.0 tooadd user experiences tooyour app, such as sign-up, sign-in, and profile management.</span></span> <span data-ttu-id="e9bb2-118">W tym artykule zostanie przedstawiony zostanie sposób toouse hello niejawnego przepływu i usługi Azure AD tooimplement każdej funkcji aplikacji jednej strony.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-118">In this article, we show you how toouse hello implicit flow and Azure AD tooimplement each of these experiences in your single-page applications.</span></span> <span data-ttu-id="e9bb2-119">toohelp rozpocząć, zapoznaj się naszego [Node.js](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-nodejs-webapi) i [programu Microsoft .NET](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-dotnet-webapi) próbek.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-119">toohelp you get started, take a look at our [Node.js](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-nodejs-webapi) and [Microsoft .NET](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-dotnet-webapi) samples.</span></span>

<span data-ttu-id="e9bb2-120">W żądaniach HTTP przykład hello w tym artykule, korzystamy z naszych katalog usługi Azure AD B2C przykładu **fabrikamb2c.onmicrosoft.com**. Możemy również użyć własnej przykładowej aplikacji i zasad.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-120">In hello example HTTP requests in this article, we use our sample Azure AD B2C directory, **fabrikamb2c.onmicrosoft.com**. We also use our own sample application and policies.</span></span> <span data-ttu-id="e9bb2-121">Można spróbować żądań hello samodzielnie przy użyciu tych wartości, lub należy je zastąpić własne wartości.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-121">You can try hello requests yourself by using these values, or you can replace them with your own values.</span></span>
<span data-ttu-id="e9bb2-122">Dowiedz się, jak za[uzyskać własnego katalogu usługi Azure AD B2C, aplikacji i zasad](#use-your-own-b2c-tenant).</span><span class="sxs-lookup"><span data-stu-id="e9bb2-122">Learn how too[get your own Azure AD B2C directory, application, and policies](#use-your-own-b2c-tenant).</span></span>


## <a name="protocol-diagram"></a><span data-ttu-id="e9bb2-123">Diagram protokołu</span><span class="sxs-lookup"><span data-stu-id="e9bb2-123">Protocol diagram</span></span>

<span data-ttu-id="e9bb2-124">Witaj logowania przepływu niejawnego wygląda powitania po rysunku.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-124">hello implicit sign-in flow looks something like hello following figure.</span></span> <span data-ttu-id="e9bb2-125">Każdy krok jest szczegółowo opisane w dalszej części artykułu hello.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-125">Each step is described in detail later in hello article.</span></span>

![OpenID Connect ścieżek](../media/active-directory-v2-flows/convergence_scenarios_implicit.png)

## <a name="send-authentication-requests"></a><span data-ttu-id="e9bb2-127">Wysyłanie żądania uwierzytelniania</span><span class="sxs-lookup"><span data-stu-id="e9bb2-127">Send authentication requests</span></span>
<span data-ttu-id="e9bb2-128">W przypadku aplikacji sieci web musi tooauthenticate hello użytkowników i wykonywanie zasad, kieruje go toohello użytkownika hello `/authorize` punktu końcowego.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-128">When your web app needs tooauthenticate hello user and execute a policy, it directs hello user toohello `/authorize` endpoint.</span></span> <span data-ttu-id="e9bb2-129">Jest hello interakcyjne część przepływu hello, gdzie hello użytkownik wykona akcję w zależności od zasad hello.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-129">This is hello interactive portion of hello flow, where hello user takes action, depending on hello policy.</span></span> <span data-ttu-id="e9bb2-130">Użytkownik Hello pobiera identyfikator tokenu z punktu końcowego usługi Azure AD hello.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-130">hello user gets an ID token from hello Azure AD endpoint.</span></span>

<span data-ttu-id="e9bb2-131">W tym żądaniu powitania klienta wskazuje w hello `scope` uprawnienia hello parametru musi tooacquire hello użytkownika.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-131">In this request, hello client indicates in hello `scope` parameter hello permissions that it needs tooacquire from hello user.</span></span> <span data-ttu-id="e9bb2-132">W hello `p` parametr wskazuje hello tooexecute zasad.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-132">In hello `p` parameter, it indicates hello policy tooexecute.</span></span> <span data-ttu-id="e9bb2-133">Witaj następujące trzy przykłady można podać (podziałów wierszy dla czytelności) każdego użyć różnych zasad.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-133">hello following three examples (with line breaks for readability) each use a different policy.</span></span> <span data-ttu-id="e9bb2-134">tooget działania dla działania każdego żądania, spróbuj wklejanie hello żądania do przeglądarki i jego uruchomieniem.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-134">tooget a feel for how each request works, try pasting hello request into a browser and running it.</span></span>

### <a name="use-a-sign-in-policy"></a><span data-ttu-id="e9bb2-135">Użyj zasad logowania</span><span class="sxs-lookup"><span data-stu-id="e9bb2-135">Use a sign-in policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=id_token+token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&response_mode=fragment
&scope=openid%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&p=b2c_1_sign_in
```

### <a name="use-a-sign-up-policy"></a><span data-ttu-id="e9bb2-136">Użyj zasad rejestracji</span><span class="sxs-lookup"><span data-stu-id="e9bb2-136">Use a sign-up policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=id_token+token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&response_mode=fragment
&scope=openid%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&p=b2c_1_sign_up
```

### <a name="use-an-edit-profile-policy"></a><span data-ttu-id="e9bb2-137">Użyj zasad edycji profilu</span><span class="sxs-lookup"><span data-stu-id="e9bb2-137">Use an edit-profile policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=id_token+token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&response_mode=fragment
&scope=openid%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&p=b2c_1_edit_profile
```

| <span data-ttu-id="e9bb2-138">Parametr</span><span class="sxs-lookup"><span data-stu-id="e9bb2-138">Parameter</span></span> | <span data-ttu-id="e9bb2-139">Wymagana?</span><span class="sxs-lookup"><span data-stu-id="e9bb2-139">Required?</span></span> | <span data-ttu-id="e9bb2-140">Opis</span><span class="sxs-lookup"><span data-stu-id="e9bb2-140">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="e9bb2-141">client_id</span><span class="sxs-lookup"><span data-stu-id="e9bb2-141">client_id</span></span> |<span data-ttu-id="e9bb2-142">Wymagane</span><span class="sxs-lookup"><span data-stu-id="e9bb2-142">Required</span></span> |<span data-ttu-id="e9bb2-143">Identyfikator aplikacji Hello przypisany tooyour aplikacji w hello [portalu Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="e9bb2-143">hello application ID assigned tooyour app in hello [Azure portal](https://portal.azure.com).</span></span> |
| <span data-ttu-id="e9bb2-144">response_type</span><span class="sxs-lookup"><span data-stu-id="e9bb2-144">response_type</span></span> |<span data-ttu-id="e9bb2-145">Wymagane</span><span class="sxs-lookup"><span data-stu-id="e9bb2-145">Required</span></span> |<span data-ttu-id="e9bb2-146">Musi zawierać `id_token` OpenID Connect logowaniu.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-146">Must include `id_token` for OpenID Connect sign-in.</span></span> <span data-ttu-id="e9bb2-147">On również obejmować opcję Typ odpowiedzi hello `token`.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-147">It also can include hello response type `token`.</span></span> <span data-ttu-id="e9bb2-148">Jeśli używasz `token`, aplikacja może bezpośrednio odbierać token dostępu z hello autoryzacji punktu końcowego, bez wprowadzania drugi toohello żądania punktu końcowego autoryzacji.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-148">If you use `token`, your app can immediately receive an access token from hello authorize endpoint, without making a second request toohello authorize endpoint.</span></span>  <span data-ttu-id="e9bb2-149">Jeśli używasz hello `token` typ odpowiedzi, hello `scope` parametr musi zawierać zakres, który wskazuje, które token hello tooissue zasobów dla.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-149">If you use hello `token` response type, hello `scope` parameter must contain a scope that indicates which resource tooissue hello token for.</span></span> |
| <span data-ttu-id="e9bb2-150">redirect_uri</span><span class="sxs-lookup"><span data-stu-id="e9bb2-150">redirect_uri</span></span> |<span data-ttu-id="e9bb2-151">Zalecane</span><span class="sxs-lookup"><span data-stu-id="e9bb2-151">Recommended</span></span> |<span data-ttu-id="e9bb2-152">Identyfikator URI aplikacji, gdzie można wysyłanych i odbieranych przez aplikację uwierzytelniania odpowiedzi przekierowania Hello.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-152">hello redirect URI of your app, where authentication responses can be sent and received by your app.</span></span> <span data-ttu-id="e9bb2-153">Go musi dokładnie odpowiadać jeden hello przekierowania URI, który został zarejestrowany w portalu hello z tą różnicą, że musi być zakodowane w adresie URL.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-153">It must exactly match one of hello redirect URIs that you registered in hello portal, except that it must be URL-encoded.</span></span> |
| <span data-ttu-id="e9bb2-154">response_mode</span><span class="sxs-lookup"><span data-stu-id="e9bb2-154">response_mode</span></span> |<span data-ttu-id="e9bb2-155">Zalecane</span><span class="sxs-lookup"><span data-stu-id="e9bb2-155">Recommended</span></span> |<span data-ttu-id="e9bb2-156">Określa hello metody toouse toosend hello wynikowy tooyour tyłu tokenu aplikacji.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-156">Specifies hello method toouse toosend hello resulting token back tooyour app.</span></span>  <span data-ttu-id="e9bb2-157">Niejawne przepływów, użyj `fragment`.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-157">For implicit flows, use `fragment`.</span></span> |
| <span data-ttu-id="e9bb2-158">Zakres</span><span class="sxs-lookup"><span data-stu-id="e9bb2-158">scope</span></span> |<span data-ttu-id="e9bb2-159">Wymagane</span><span class="sxs-lookup"><span data-stu-id="e9bb2-159">Required</span></span> |<span data-ttu-id="e9bb2-160">Rozdzieloną spacjami listę zakresów.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-160">A space-separated list of scopes.</span></span> <span data-ttu-id="e9bb2-161">Wartość pojedynczy zakres wskazuje tooAzure AD zarówno hello uprawnienia, które są żądane.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-161">A single scope value indicates tooAzure AD both of hello permissions that are being requested.</span></span> <span data-ttu-id="e9bb2-162">Witaj `openid` toosign uprawnienia, w danych użytkownika i get hello o hello użytkownika w postaci hello tokenów identyfikator wskazuje zakres.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-162">hello `openid` scope indicates a permission toosign in hello user and get data about hello user in hello form of ID tokens.</span></span> <span data-ttu-id="e9bb2-163">(Będzie omawianiu to bardziej dalszej części artykułu hello.) Witaj `offline_access` zakres jest opcjonalne dla aplikacji sieci web.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-163">(We'll talk about this more later in hello article.) hello `offline_access` scope is optional for web apps.</span></span> <span data-ttu-id="e9bb2-164">Wskazuje on, że Twoja aplikacja powinna token odświeżania dla tooresources długotrwałe dostępu.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-164">It indicates that your app needs a refresh token for long-lived access tooresources.</span></span> |
| <span data-ttu-id="e9bb2-165">state</span><span class="sxs-lookup"><span data-stu-id="e9bb2-165">state</span></span> |<span data-ttu-id="e9bb2-166">Zalecane</span><span class="sxs-lookup"><span data-stu-id="e9bb2-166">Recommended</span></span> |<span data-ttu-id="e9bb2-167">Wartość zawarte w żądaniu hello, który jest także zwracany w odpowiedzi tokenu hello.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-167">A value included in hello request that also is returned in hello token response.</span></span> <span data-ttu-id="e9bb2-168">Można go ciągu zawartości, które mają toouse.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-168">It can be a string of any content that you want toouse.</span></span> <span data-ttu-id="e9bb2-169">Zwykle jest używana wartość losowo generowany, unikatowy, okno fałszerstwie żądania międzywitrynowego tooprevent.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-169">Usually, a randomly generated, unique value is used, tooprevent cross-site request forgery attacks.</span></span> <span data-ttu-id="e9bb2-170">Witaj stan jest również używane tooencode informacji o stanie użytkownika hello w aplikacji hello przed wystąpieniem hello żądania uwierzytelniania, takich jak strony hello znajdowały się w.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-170">hello state is also used tooencode information about hello user's state in hello app before hello authentication request occurred, like hello page they were on.</span></span> |
| <span data-ttu-id="e9bb2-171">Identyfikator jednorazowy</span><span class="sxs-lookup"><span data-stu-id="e9bb2-171">nonce</span></span> |<span data-ttu-id="e9bb2-172">Wymagane</span><span class="sxs-lookup"><span data-stu-id="e9bb2-172">Required</span></span> |<span data-ttu-id="e9bb2-173">Wartość zawarte w żądaniu hello (wygenerowany przez aplikację hello), który znajduje się w hello identyfikator tokenu jako oświadczenia.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-173">A value included in hello request (generated by hello app) that is included in hello resulting ID token as a claim.</span></span> <span data-ttu-id="e9bb2-174">Aplikacja Hello następnie sprawdzić, czy ataki powtórzeń tokenów toomitigate wartość.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-174">hello app can then verify this value toomitigate token replay attacks.</span></span> <span data-ttu-id="e9bb2-175">Zazwyczaj wartość hello jest losowe, unikatowy ciąg, który może być używane tooidentify hello pochodzenia hello żądania.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-175">Usually, hello value is a randomized, unique string that can be used tooidentify hello origin of hello request.</span></span> |
| <span data-ttu-id="e9bb2-176">P</span><span class="sxs-lookup"><span data-stu-id="e9bb2-176">p</span></span> |<span data-ttu-id="e9bb2-177">Wymagane</span><span class="sxs-lookup"><span data-stu-id="e9bb2-177">Required</span></span> |<span data-ttu-id="e9bb2-178">Witaj tooexecute zasad.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-178">hello policy tooexecute.</span></span> <span data-ttu-id="e9bb2-179">Jego hello nazwę zasad, która jest tworzona w dzierżawie usługi Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-179">It's hello name of a policy that is created in your Azure AD B2C tenant.</span></span> <span data-ttu-id="e9bb2-180">wartość Nazwa zasad Hello powinny rozpoczynać się od **b2c\_1\_**.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-180">hello policy name value should begin with **b2c\_1\_**.</span></span> <span data-ttu-id="e9bb2-181">Aby uzyskać więcej informacji, zobacz [wbudowane zasady usługi Azure AD B2C](active-directory-b2c-reference-policies.md).</span><span class="sxs-lookup"><span data-stu-id="e9bb2-181">For more information, see [Azure AD B2C built-in policies](active-directory-b2c-reference-policies.md).</span></span> |
| <span data-ttu-id="e9bb2-182">wiersz</span><span class="sxs-lookup"><span data-stu-id="e9bb2-182">prompt</span></span> |<span data-ttu-id="e9bb2-183">Optional (Opcjonalność)</span><span class="sxs-lookup"><span data-stu-id="e9bb2-183">Optional</span></span> |<span data-ttu-id="e9bb2-184">Typ Hello interakcji użytkownika, która jest wymagana.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-184">hello type of user interaction that's required.</span></span> <span data-ttu-id="e9bb2-185">Obecnie jest jedyną poprawną wartością hello `login`.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-185">Currently, hello only valid value is `login`.</span></span> <span data-ttu-id="e9bb2-186">Wymusza hello użytkownika tooenter swoje poświadczenia dla tego żądania.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-186">This forces hello user tooenter their credentials on that request.</span></span> <span data-ttu-id="e9bb2-187">Logowanie jednokrotne nie zacznie obowiązywać.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-187">Single sign-on will not take effect.</span></span> |

<span data-ttu-id="e9bb2-188">W tym momencie hello użytkownik jest proszony toocomplete hello zasad przepływu pracy.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-188">At this point, hello user is asked toocomplete hello policy's workflow.</span></span> <span data-ttu-id="e9bb2-189">Może to obejmować użytkownika hello wprowadzić swoją nazwę użytkownika i hasło, zalogować się społecznościowych tożsamości, podczas tworzenia katalogu hello lub dowolnej liczby kroków.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-189">This might involve hello user entering their username and password, signing in with a social identity, signing up for hello directory, or any other number of steps.</span></span> <span data-ttu-id="e9bb2-190">Akcje użytkownika zależą od tego, jak zdefiniowano hello zasad.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-190">User actions depend on how hello policy is defined.</span></span>

<span data-ttu-id="e9bb2-191">Po zakończeniu zasad hello hello użytkownika usługi Azure AD zwraca aplikacji tooyour odpowiedzi, w wartości hello używane dla `redirect_uri`.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-191">After hello user completes hello policy, Azure AD returns a response tooyour app at hello value you used for `redirect_uri`.</span></span> <span data-ttu-id="e9bb2-192">Używa metody hello określonej w hello `response_mode` parametru.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-192">It uses hello method specified in hello `response_mode` parameter.</span></span> <span data-ttu-id="e9bb2-193">odpowiedź Hello jest hello dokładnie tego samego dla każdego hello akcji scenariusze użytkowników, niezależnie od zasady hello, które zostało wykonane.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-193">hello response is exactly hello same for each of hello user action scenarios, independent of hello policy that was executed.</span></span>

### <a name="successful-response"></a><span data-ttu-id="e9bb2-194">Odpowiedź oznaczająca Powodzenie</span><span class="sxs-lookup"><span data-stu-id="e9bb2-194">Successful response</span></span>
<span data-ttu-id="e9bb2-195">Odpowiedź oznaczająca Powodzenie, która używa `response_mode=fragment` i `response_type=id_token+token` wygląda podobnie do następujących hello, podziały wiersza dla czytelności:</span><span class="sxs-lookup"><span data-stu-id="e9bb2-195">A successful response that uses `response_mode=fragment` and `response_type=id_token+token` looks like hello following, with line breaks for legibility:</span></span>

```
GET https://aadb2cplayground.azurewebsites.net/#
access_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...
&token_type=Bearer
&expires_in=3599
&scope="90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6 offline_access",
&id_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...
&state=arbitrary_data_you_sent_earlier
```

| <span data-ttu-id="e9bb2-196">Parametr</span><span class="sxs-lookup"><span data-stu-id="e9bb2-196">Parameter</span></span> | <span data-ttu-id="e9bb2-197">Opis</span><span class="sxs-lookup"><span data-stu-id="e9bb2-197">Description</span></span> |
| --- | --- |
| <span data-ttu-id="e9bb2-198">' access_token '</span><span class="sxs-lookup"><span data-stu-id="e9bb2-198">access_token</span></span> |<span data-ttu-id="e9bb2-199">token dostępu Hello hello żądanej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-199">hello access token that hello app requested.</span></span>  <span data-ttu-id="e9bb2-200">Nie można zdekodować lub w przeciwnym razie sprawdził Hello tokenu dostępu.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-200">hello access token should not be decoded or otherwise inspected.</span></span> <span data-ttu-id="e9bb2-201">Może być traktowana jako ciąg z ogólnym opisem.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-201">It can be treated as an opaque string.</span></span> |
| <span data-ttu-id="e9bb2-202">token_type</span><span class="sxs-lookup"><span data-stu-id="e9bb2-202">token_type</span></span> |<span data-ttu-id="e9bb2-203">wartość tokenu typu Hello.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-203">hello token type value.</span></span> <span data-ttu-id="e9bb2-204">Hello tylko typ, czy obsługa usługi Azure AD jest elementu nośnego.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-204">hello only type that Azure AD supports is Bearer.</span></span> |
| <span data-ttu-id="e9bb2-205">expires_in</span><span class="sxs-lookup"><span data-stu-id="e9bb2-205">expires_in</span></span> |<span data-ttu-id="e9bb2-206">Hello długość czasu, przez który hello token dostępu jest nieprawidłowy (w sekundach).</span><span class="sxs-lookup"><span data-stu-id="e9bb2-206">hello length of time that hello access token is valid (in seconds).</span></span> |
| <span data-ttu-id="e9bb2-207">Zakres</span><span class="sxs-lookup"><span data-stu-id="e9bb2-207">scope</span></span> |<span data-ttu-id="e9bb2-208">zakresy Hello hello token jest prawidłowy dla.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-208">hello scopes that hello token is valid for.</span></span> <span data-ttu-id="e9bb2-209">Możesz również używaj tokenów toocache zakresów do późniejszego użycia.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-209">You also can use scopes toocache tokens for later use.</span></span> |
| <span data-ttu-id="e9bb2-210">żądaniu</span><span class="sxs-lookup"><span data-stu-id="e9bb2-210">id_token</span></span> |<span data-ttu-id="e9bb2-211">Witaj identyfikator token, aplikacja hello żądanie.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-211">hello ID token that hello app requested.</span></span> <span data-ttu-id="e9bb2-212">Można użyć hello identyfikator tokenu tooverify hello tożsamości użytkownika i rozpocząć sesję użytkownika hello.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-212">You can use hello ID token tooverify hello user's identity and begin a session with hello user.</span></span> <span data-ttu-id="e9bb2-213">Aby uzyskać więcej informacji o identyfikatorze tokeny i ich zawartość, zobacz hello [odwołania do tokenu usługi Azure AD B2C](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="e9bb2-213">For more information about ID tokens and their contents, see hello [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span> |
| <span data-ttu-id="e9bb2-214">state</span><span class="sxs-lookup"><span data-stu-id="e9bb2-214">state</span></span> |<span data-ttu-id="e9bb2-215">Jeśli `state` parametru jest częścią żądania hello hello tę samą wartość powinna być widoczna w odpowiedzi hello.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-215">If a `state` parameter is included in hello request, hello same value should appear in hello response.</span></span> <span data-ttu-id="e9bb2-216">Witaj aplikacji należy sprawdzić, że hello `state` wartości hello żądań i odpowiedzi są identyczne.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-216">hello app should verify that hello `state` values in hello request and response are identical.</span></span> |

### <a name="error-response"></a><span data-ttu-id="e9bb2-217">Odpowiedzi na błąd</span><span class="sxs-lookup"><span data-stu-id="e9bb2-217">Error response</span></span>
<span data-ttu-id="e9bb2-218">Odpowiedzi na błędy również mogą być wysyłane identyfikator URI przekierowania toohello tak, aby hello aplikacji można je odpowiednią obsługę:</span><span class="sxs-lookup"><span data-stu-id="e9bb2-218">Error responses also can be sent toohello redirect URI so that hello app can handle them appropriately:</span></span>

```
GET https://aadb2cplayground.azurewebsites.net/#
error=access_denied
&error_description=the+user+canceled+the+authentication
&state=arbitrary_data_you_can_receive_in_the_response
```

| <span data-ttu-id="e9bb2-219">Parametr</span><span class="sxs-lookup"><span data-stu-id="e9bb2-219">Parameter</span></span> | <span data-ttu-id="e9bb2-220">Opis</span><span class="sxs-lookup"><span data-stu-id="e9bb2-220">Description</span></span> |
| --- | --- |
| <span data-ttu-id="e9bb2-221">error</span><span class="sxs-lookup"><span data-stu-id="e9bb2-221">error</span></span> |<span data-ttu-id="e9bb2-222">Błąd kodu ciąg używany tooclassify typy występujące błędy.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-222">An error code string used tooclassify types of errors that occur.</span></span> <span data-ttu-id="e9bb2-223">Również można użyć hello błąd kodu do obsługi błędów.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-223">You also can use hello error code for error handling.</span></span> |
| <span data-ttu-id="e9bb2-224">error_description</span><span class="sxs-lookup"><span data-stu-id="e9bb2-224">error_description</span></span> |<span data-ttu-id="e9bb2-225">Komunikat o błędzie, który ułatwia identyfikowanie hello głównej przyczyny błędu uwierzytelniania.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-225">A specific error message that can help you identify hello root cause of an authentication error.</span></span> |
| <span data-ttu-id="e9bb2-226">state</span><span class="sxs-lookup"><span data-stu-id="e9bb2-226">state</span></span> |<span data-ttu-id="e9bb2-227">Zobacz pełny opis hello w hello powyższej tabeli.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-227">See hello full description in hello preceding table.</span></span> <span data-ttu-id="e9bb2-228">Jeśli `state` parametru jest częścią żądania hello hello tę samą wartość powinna być widoczna w odpowiedzi hello.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-228">If a `state` parameter is included in hello request, hello same value should appear in hello response.</span></span> <span data-ttu-id="e9bb2-229">Witaj aplikacji należy sprawdzić, że hello `state` wartości hello żądań i odpowiedzi są identyczne.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-229">hello app should verify that hello `state` values in hello request and response are identical.</span></span>|

## <a name="validate-hello-id-token"></a><span data-ttu-id="e9bb2-230">Sprawdź poprawność hello identyfikator tokenu</span><span class="sxs-lookup"><span data-stu-id="e9bb2-230">Validate hello ID token</span></span>
<span data-ttu-id="e9bb2-231">Odbieranie token identyfikator nie jest wystarczająco dużo tooauthenticate hello użytkownikiem.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-231">Receiving an ID token is not enough tooauthenticate hello user.</span></span> <span data-ttu-id="e9bb2-232">Musisz zweryfikować podpisu tokenu identyfikator hello i sprawdzić hello oświadczenia w tokenie hello na wymagania dotyczące Twojej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-232">You must validate hello ID token's signature, and verify hello claims in hello token per your app's requirements.</span></span> <span data-ttu-id="e9bb2-233">Używa usługi Azure AD B2C [tokenów sieci Web JSON (Jwt)](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html) i publicznego klucza szyfrowania tokenów toosign i sprawdź, czy są prawidłowe.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-233">Azure AD B2C uses [JSON Web Tokens (JWTs)](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html) and public key cryptography toosign tokens and verify that they are valid.</span></span>

<span data-ttu-id="e9bb2-234">Wiele open source biblioteki są dostępne sprawdzania poprawności tokenów Jwt, w zależności od języka hello wolisz toouse.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-234">Many open-source libraries are available for validating JWTs, depending on hello language you prefer toouse.</span></span> <span data-ttu-id="e9bb2-235">Należy wziąć pod uwagę eksploracji dostępnych bibliotek open source, a nie implementacji logiki weryfikacji.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-235">Consider exploring available open-source libraries rather than implementing your own validation logic.</span></span> <span data-ttu-id="e9bb2-236">Korzystając z informacji hello w toohelp tego artykułu dowiesz się, jak korzystać z tooproperly tych bibliotek.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-236">You can use hello information in this article toohelp you learn how tooproperly use those libraries.</span></span>

<span data-ttu-id="e9bb2-237">Usługa Azure AD B2C ma punkt końcowy metadanych OpenID Connect.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-237">Azure AD B2C has an OpenID Connect metadata endpoint.</span></span> <span data-ttu-id="e9bb2-238">Aplikacja może używać hello punktu końcowego toofetch informacji o usłudze Azure AD B2C w czasie wykonywania.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-238">An app can use hello endpoint toofetch information about Azure AD B2C at runtime.</span></span> <span data-ttu-id="e9bb2-239">Informacje te obejmują punkty końcowe, zawartość tokenu i klucze podpisywania tokenu.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-239">This information includes endpoints, token contents, and token signing keys.</span></span> <span data-ttu-id="e9bb2-240">Brak dokument metadanych JSON dla każdej zasady w dzierżawie usługi Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-240">There is a JSON metadata document for each policy in your Azure AD B2C tenant.</span></span> <span data-ttu-id="e9bb2-241">Na przykład dokument metadanych hello hello b2c_1_sign_in zasad w dzierżawie fabrikamb2c.onmicrosoft.com hello jest w następującej lokalizacji:</span><span class="sxs-lookup"><span data-stu-id="e9bb2-241">For example, hello metadata document for hello b2c_1_sign_in policy in hello fabrikamb2c.onmicrosoft.com tenant is located at:</span></span>

`https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/v2.0/.well-known/openid-configuration?p=b2c_1_sign_in`

<span data-ttu-id="e9bb2-242">Jedna z właściwości hello tego dokumentu konfiguracji jest hello `jwks_uri`.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-242">One of hello properties of this configuration document is hello `jwks_uri`.</span></span> <span data-ttu-id="e9bb2-243">wartość Hello hello, które będą takie same zasady:</span><span class="sxs-lookup"><span data-stu-id="e9bb2-243">hello value for hello same policy would be:</span></span>

`https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/discovery/v2.0/keys?p=b2c_1_sign_in`

<span data-ttu-id="e9bb2-244">toodetermine zasady, które zostało używane toosign token identyfikator (i gdzie toofetch hello metadanych z), są dostępne dwie opcje.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-244">toodetermine which policy was used toosign an ID token (and where toofetch hello metadata from), you have two options.</span></span> <span data-ttu-id="e9bb2-245">Najpierw hello zasad nazwa jest uwzględniona w hello `acr` oświadczeń w `id_token`.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-245">First, hello policy name is included in hello `acr` claim in `id_token`.</span></span> <span data-ttu-id="e9bb2-246">Informacje, jak tooparse hello oświadczeń z tokenu identyfikator, zobacz hello [odwołania do tokenu usługi Azure AD B2C](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="e9bb2-246">For information about how tooparse hello claims from an ID token, see hello [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span> <span data-ttu-id="e9bb2-247">Drugą opcją jest zasad hello tooencode hello wartości hello `state` parametru w przypadku wysyłania żądania hello.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-247">Your other option is tooencode hello policy in hello value of hello `state` parameter when you issue hello request.</span></span> <span data-ttu-id="e9bb2-248">Następnie dekodowania hello `state` toodetermine parametru zasady, które zostało użyte.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-248">Then, decode hello `state` parameter toodetermine which policy was used.</span></span> <span data-ttu-id="e9bb2-249">Każda metoda jest prawidłowa.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-249">Either method is valid.</span></span>

<span data-ttu-id="e9bb2-250">Po zostały nabyte hello dokument metadanych z punktu końcowego metadanych hello OpenID Connect, należy użyć hello RSA 256 kluczy publicznych (znajdujące się w tym punkcie końcowym) toovalidate hello podpisu hello Identyfikatora tokenu.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-250">After you've acquired hello metadata document from hello OpenID Connect metadata endpoint, you can use hello RSA-256 public keys (located at this endpoint) toovalidate hello signature of hello ID token.</span></span> <span data-ttu-id="e9bb2-251">Może istnieć wiele kluczy wymienione w tym punkcie końcowym w dowolnym momencie, identyfikowanych przez `kid`.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-251">There might be multiple keys listed at this endpoint at any given time, each identified by a `kid`.</span></span> <span data-ttu-id="e9bb2-252">Nagłówek Hello `id_token` zawiera także `kid` oświadczeń.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-252">hello header of `id_token` also contains a `kid` claim.</span></span> <span data-ttu-id="e9bb2-253">Oznacza to, które z tych kluczy została toosign używane hello identyfikator tokenu.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-253">It indicates which of these keys was used toosign hello ID token.</span></span> <span data-ttu-id="e9bb2-254">Aby uzyskać więcej informacji, łącznie z zapoznawanie [sprawdzanie poprawności tokenów](active-directory-b2c-reference-tokens.md#token-validation), zobacz hello [odwołania do tokenu usługi Azure AD B2C](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="e9bb2-254">For more information, including learning about [validating tokens](active-directory-b2c-reference-tokens.md#token-validation), see hello [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span>
<!--TODO: Improve hello information on this-->

<span data-ttu-id="e9bb2-255">Po weryfikacji podpisu hello hello identyfikator tokenu oświadczeń kilka Żądaj weryfikacji.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-255">After you validate hello signature of hello ID token, several claims require verification.</span></span> <span data-ttu-id="e9bb2-256">Na przykład:</span><span class="sxs-lookup"><span data-stu-id="e9bb2-256">For example:</span></span>

* <span data-ttu-id="e9bb2-257">Sprawdź poprawność hello `nonce` tooprevent ataków powtórzeń tokenów oświadczeń.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-257">Validate hello `nonce` claim tooprevent token replay attacks.</span></span> <span data-ttu-id="e9bb2-258">Jego wartość powinna być określona w hello żądania logowania.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-258">Its value should be what you specified in hello sign-in request.</span></span>
* <span data-ttu-id="e9bb2-259">Sprawdź poprawność hello `aud` oświadczeń tooensure, który hello identyfikator token został wystawiony dla aplikacji.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-259">Validate hello `aud` claim tooensure that hello ID token was issued for your app.</span></span> <span data-ttu-id="e9bb2-260">Jego wartość powinna być identyfikator aplikacji hello aplikacji.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-260">Its value should be hello application ID of your app.</span></span>
* <span data-ttu-id="e9bb2-261">Sprawdź poprawność hello `iat` i `exp` oświadczeń tooensure, który hello identyfikator token nie wygasł.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-261">Validate hello `iat` and `exp` claims tooensure that hello ID token has not expired.</span></span>

<span data-ttu-id="e9bb2-262">Kilka więcej operacji sprawdzania poprawności, które należy wykonać opisano szczegółowo w hello [OpenID Connect podstawowych specyfikacji](http://openid.net/specs/openid-connect-core-1_0.html). Można także toovalidate dodatkowe roszczenia, w zależności od danego scenariusza.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-262">Several more validations that you should perform are described in detail in hello [OpenID Connect Core Spec](http://openid.net/specs/openid-connect-core-1_0.html). You might also want toovalidate additional claims, depending on your scenario.</span></span> <span data-ttu-id="e9bb2-263">Niektóre typowe operacje sprawdzania poprawności obejmują:</span><span class="sxs-lookup"><span data-stu-id="e9bb2-263">Some common validations include:</span></span>

* <span data-ttu-id="e9bb2-264">Zapewnienie tego użytkownika hello lub organizacji po zarejestrowaniu aplikacji hello.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-264">Ensuring that hello user or organization has signed up for hello app.</span></span>
* <span data-ttu-id="e9bb2-265">Zapewnienie hello użytkownik ma odpowiednią autoryzacją i uprawnienia.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-265">Ensuring that hello user has proper authorization and privileges.</span></span>
* <span data-ttu-id="e9bb2-266">Zapewnienie, że niektóre siły uwierzytelniania wystąpił, takie jak przy użyciu usługi Azure Multi-Factor Authentication.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-266">Ensuring that a certain strength of authentication has occurred, such as by using Azure Multi-Factor Authentication.</span></span>

<span data-ttu-id="e9bb2-267">Aby uzyskać więcej informacji na temat hello oświadczenia w tokenie identyfikator Zobacz hello [odwołania do tokenu usługi Azure AD B2C](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="e9bb2-267">For more information about hello claims in an ID token, see hello [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span>

<span data-ttu-id="e9bb2-268">Po całkowicie poprawności hello identyfikator tokenu można rozpocząć sesji hello użytkownika.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-268">After you have completely validated hello ID token, you can begin a session with hello user.</span></span> <span data-ttu-id="e9bb2-269">W aplikacji należy użyć oświadczeń hello hello identyfikator tokenu tooobtain informacje o hello użytkownika.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-269">In your app, use hello claims in hello ID token tooobtain information about hello user.</span></span> <span data-ttu-id="e9bb2-270">Te informacje może służyć do wyświetlania, rekordy, autoryzacji i tak dalej.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-270">This information can be used for display, records, authorization, and so on.</span></span>

## <a name="get-access-tokens"></a><span data-ttu-id="e9bb2-271">Pobieranie tokenów dostępu</span><span class="sxs-lookup"><span data-stu-id="e9bb2-271">Get access tokens</span></span>
<span data-ttu-id="e9bb2-272">Jedyną operacją hello toodo potrzeb aplikacji sieci web jest wykonanie zasad, można pominąć hello kolejnych sekcjach kilku.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-272">If hello only thing your web apps needs toodo is execute policies, you can skip hello next few sections.</span></span> <span data-ttu-id="e9bb2-273">informacje Hello w hello następujące sekcje są stosowane tylko aplikacje tooweb wymagające toomake uwierzytelnione wywołania tooa — interfejs API sieci web, a które są chronione przez usługę Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-273">hello information in hello following sections are applicable only tooweb apps that need toomake authenticated calls tooa web API, and which are protected by Azure AD B2C.</span></span>

<span data-ttu-id="e9bb2-274">Teraz, gdy zostały podpisane hello użytkownika w aplikacji jednej strony tooyour, można uzyskać tokenów dostępu do sieci web wywoływania interfejsów API, które są zabezpieczone przez usługę Azure AD.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-274">Now that you've signed hello user in tooyour single-page app, you can get access tokens for calling web APIs that are secured by Azure AD.</span></span> <span data-ttu-id="e9bb2-275">Nawet jeśli już uzyskały tokenu przy użyciu hello `token` typ odpowiedzi można użyć tej metody tooacquire tokeny Aby uzyskać dodatkowe zasoby bez ponownie przekierowywanie hello toosign użytkownika w.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-275">Even if you have already received a token by using hello `token` response type, you can use this method tooacquire tokens for additional resources without redirecting hello user toosign in again.</span></span>

<span data-ttu-id="e9bb2-276">W typowej sieci web przepływu aplikacji, można to zrobić poprzez toohello żądania `/token` punktu końcowego.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-276">In a typical web app flow, you would do this by making a request toohello `/token` endpoint.</span></span>  <span data-ttu-id="e9bb2-277">Jednak hello punktu końcowego nie nie żądań CORPS pomocy technicznej, co AJAX wywołuje tooget i tokenów odświeżania nie jest opcją.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-277">However, hello endpoint does not support CORS requests, so making AJAX calls tooget and refresh tokens is not an option.</span></span> <span data-ttu-id="e9bb2-278">Zamiast tego można użyć niejawnego przepływu hello w ukrytym HTML iframe element tooget nowe tokeny dla innych interfejsów API sieci web.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-278">Instead, you can use hello implicit flow in a hidden HTML iframe element tooget new tokens for other web APIs.</span></span> <span data-ttu-id="e9bb2-279">Oto przykład podziałami wierszy dla czytelności:</span><span class="sxs-lookup"><span data-stu-id="e9bb2-279">Here's an example, with line breaks for legibility:</span></span>

```

https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&scope=https%3A%2F%2Fapi.contoso.com%2Ftasks.read
&response_mode=fragment
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&prompt=none
&domain_hint=organizations
&login_hint=myuser@mycompany.com
&p=b2c_1_sign_in
```

| <span data-ttu-id="e9bb2-280">Parametr</span><span class="sxs-lookup"><span data-stu-id="e9bb2-280">Parameter</span></span> | <span data-ttu-id="e9bb2-281">Wymagana?</span><span class="sxs-lookup"><span data-stu-id="e9bb2-281">Required?</span></span> | <span data-ttu-id="e9bb2-282">Opis</span><span class="sxs-lookup"><span data-stu-id="e9bb2-282">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="e9bb2-283">client_id</span><span class="sxs-lookup"><span data-stu-id="e9bb2-283">client_id</span></span> |<span data-ttu-id="e9bb2-284">Wymagane</span><span class="sxs-lookup"><span data-stu-id="e9bb2-284">Required</span></span> |<span data-ttu-id="e9bb2-285">Identyfikator aplikacji Hello przypisany tooyour aplikacji w hello [portalu Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="e9bb2-285">hello application ID assigned tooyour app in hello [Azure portal](https://portal.azure.com).</span></span> |
| <span data-ttu-id="e9bb2-286">response_type</span><span class="sxs-lookup"><span data-stu-id="e9bb2-286">response_type</span></span> |<span data-ttu-id="e9bb2-287">Wymagane</span><span class="sxs-lookup"><span data-stu-id="e9bb2-287">Required</span></span> |<span data-ttu-id="e9bb2-288">Musi zawierać `id_token` OpenID Connect logowaniu.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-288">Must include `id_token` for OpenID Connect sign-in.</span></span>  <span data-ttu-id="e9bb2-289">Może również zawierać typ odpowiedzi hello `token`.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-289">It might also include hello response type `token`.</span></span> <span data-ttu-id="e9bb2-290">Jeśli używasz `token` , aplikacja natychmiast może odbierać token dostępu z hello autoryzacji punktu końcowego, bez wprowadzania drugi toohello żądania punktu końcowego autoryzacji.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-290">If you use `token` here, your app can immediately receive an access token from hello authorize endpoint, without making a second request toohello authorize endpoint.</span></span> <span data-ttu-id="e9bb2-291">Jeśli używasz hello `token` typ odpowiedzi, hello `scope` parametr musi zawierać zakres, który wskazuje, które token hello tooissue zasobów dla.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-291">If you use hello `token` response type, hello `scope` parameter must contain a scope that indicates which resource tooissue hello token for.</span></span> |
| <span data-ttu-id="e9bb2-292">redirect_uri</span><span class="sxs-lookup"><span data-stu-id="e9bb2-292">redirect_uri</span></span> |<span data-ttu-id="e9bb2-293">Zalecane</span><span class="sxs-lookup"><span data-stu-id="e9bb2-293">Recommended</span></span> |<span data-ttu-id="e9bb2-294">Identyfikator URI aplikacji, gdzie można wysyłanych i odbieranych przez aplikację uwierzytelniania odpowiedzi przekierowania Hello.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-294">hello redirect URI of your app, where authentication responses can be sent and received by your app.</span></span> <span data-ttu-id="e9bb2-295">Go musi dokładnie odpowiadać jeden hello przekierowania URI zarejestrowany w portalu hello z tą różnicą, że musi być zakodowane w adresie URL.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-295">It must exactly match one of hello redirect URIs you registered in hello portal, except that it must be URL-encoded.</span></span> |
| <span data-ttu-id="e9bb2-296">Zakres</span><span class="sxs-lookup"><span data-stu-id="e9bb2-296">scope</span></span> |<span data-ttu-id="e9bb2-297">Wymagane</span><span class="sxs-lookup"><span data-stu-id="e9bb2-297">Required</span></span> |<span data-ttu-id="e9bb2-298">Rozdzieloną spacjami listę zakresów.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-298">A space-separated list of scopes.</span></span>  <span data-ttu-id="e9bb2-299">W przypadku uzyskiwania tokenów, zawiera wszystkie zakresy wymagające zasobu hello przeznaczone.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-299">For getting tokens, include all scopes that you require for hello intended resource.</span></span> |
| <span data-ttu-id="e9bb2-300">response_mode</span><span class="sxs-lookup"><span data-stu-id="e9bb2-300">response_mode</span></span> |<span data-ttu-id="e9bb2-301">Zalecane</span><span class="sxs-lookup"><span data-stu-id="e9bb2-301">Recommended</span></span> |<span data-ttu-id="e9bb2-302">Określa metodę hello, która jest używana toosend hello wynikowy tooyour tyłu tokenu aplikacji.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-302">Specifies hello method that is used toosend hello resulting token back tooyour app.</span></span>  <span data-ttu-id="e9bb2-303">Może być `query`, `form_post`, lub `fragment`.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-303">Can be `query`, `form_post`, or `fragment`.</span></span> |
| <span data-ttu-id="e9bb2-304">state</span><span class="sxs-lookup"><span data-stu-id="e9bb2-304">state</span></span> |<span data-ttu-id="e9bb2-305">Zalecane</span><span class="sxs-lookup"><span data-stu-id="e9bb2-305">Recommended</span></span> |<span data-ttu-id="e9bb2-306">Wartość zawarte w żądaniu hello, który jest zwracany w odpowiedzi tokenu hello.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-306">A value included in hello request that is returned in hello token response.</span></span>  <span data-ttu-id="e9bb2-307">Można go ciągu zawartości, które mają toouse.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-307">It can be a string of any content that you want toouse.</span></span>  <span data-ttu-id="e9bb2-308">Zwykle jest używana wartość losowo generowany, unikatowy, okno fałszerstwie żądania międzywitrynowego tooprevent.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-308">Usually, a randomly generated, unique value is used, tooprevent cross-site request forgery attacks.</span></span>  <span data-ttu-id="e9bb2-309">Stan Hello także jest używane tooencode informacji na temat stanu hello użytkownika w aplikacji hello, przed wystąpieniem hello żądanie uwierzytelnienia.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-309">hello state also is used tooencode information about hello user's state in hello app before hello authentication request occurred.</span></span> <span data-ttu-id="e9bb2-310">Na przykład użytkownika hello hello stronę lub widok został na.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-310">For example, hello page or view hello user was on.</span></span> |
| <span data-ttu-id="e9bb2-311">Identyfikator jednorazowy</span><span class="sxs-lookup"><span data-stu-id="e9bb2-311">nonce</span></span> |<span data-ttu-id="e9bb2-312">Wymagane</span><span class="sxs-lookup"><span data-stu-id="e9bb2-312">Required</span></span> |<span data-ttu-id="e9bb2-313">Wartość zawarte w żądaniu hello, generowane przez aplikacji hello, który znajduje się w hello identyfikator tokenu jako oświadczenia.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-313">A value included in hello request, generated by hello app, that is included in hello resulting ID token as a claim.</span></span>  <span data-ttu-id="e9bb2-314">Aplikacja Hello następnie sprawdzić, czy ataki powtórzeń tokenów toomitigate wartość.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-314">hello app can then verify this value toomitigate token replay attacks.</span></span> <span data-ttu-id="e9bb2-315">Zazwyczaj wartość hello jest losowe, unikatowy ciąg identyfikujący hello pochodzenia hello żądania.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-315">Usually, hello value is a randomized, unique string that identifies hello origin of hello request.</span></span> |
| <span data-ttu-id="e9bb2-316">wiersz</span><span class="sxs-lookup"><span data-stu-id="e9bb2-316">prompt</span></span> |<span data-ttu-id="e9bb2-317">Wymagane</span><span class="sxs-lookup"><span data-stu-id="e9bb2-317">Required</span></span> |<span data-ttu-id="e9bb2-318">Użyj toorefresh i get tokenów w ukrytym iframe, `prompt=none` tooensure, który hello iframe nie zostać zablokowane na powitania strony logowania, a następnie zwraca natychmiast.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-318">toorefresh and get tokens in a hidden iframe, use `prompt=none` tooensure that hello iframe does not get stuck on hello sign-in page, and returns immediately.</span></span> |
| <span data-ttu-id="e9bb2-319">login_hint</span><span class="sxs-lookup"><span data-stu-id="e9bb2-319">login_hint</span></span> |<span data-ttu-id="e9bb2-320">Wymagane</span><span class="sxs-lookup"><span data-stu-id="e9bb2-320">Required</span></span> |<span data-ttu-id="e9bb2-321">toorefresh i get tokenów w ukrytym iframe, obejmują username hello hello użytkownika, w tym toodistinguish wskazówka między wiele sesji, który hello użytkownika może być w danym momencie.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-321">toorefresh and get tokens in a hidden iframe, include hello username of hello user in this hint toodistinguish between multiple sessions hello user might have at a given  time.</span></span> <span data-ttu-id="e9bb2-322">Można wyodrębnić hello username z wcześniejszych logowanie przy użyciu hello `preferred_username` oświadczeń.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-322">You can extract hello username from an earlier sign-in by using hello `preferred_username` claim.</span></span> |
| <span data-ttu-id="e9bb2-323">domain_hint</span><span class="sxs-lookup"><span data-stu-id="e9bb2-323">domain_hint</span></span> |<span data-ttu-id="e9bb2-324">Wymagane</span><span class="sxs-lookup"><span data-stu-id="e9bb2-324">Required</span></span> |<span data-ttu-id="e9bb2-325">Może być `consumers` lub `organizations`.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-325">Can be `consumers` or `organizations`.</span></span>  <span data-ttu-id="e9bb2-326">Odświeżanie i uzyskiwania tokenów w ukrytym iframe, musi zawierać hello `domain_hint` wartość w żądaniu hello.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-326">For refreshing and getting tokens in a hidden iframe, you must include hello `domain_hint` value in hello request.</span></span>  <span data-ttu-id="e9bb2-327">Wyodrębnij hello `tid` oświadczeń z tokenu identyfikator hello wcześniej logowania toodetermine które toouse wartość.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-327">Extract hello `tid` claim from hello ID token of an earlier sign-in toodetermine which value toouse.</span></span>  <span data-ttu-id="e9bb2-328">Jeśli hello `tid` oświadczeń, wartość jest `9188040d-6c67-4c5b-b112-36a304b66dad`, użyj `domain_hint=consumers`.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-328">If hello `tid` claim value is `9188040d-6c67-4c5b-b112-36a304b66dad`,  use `domain_hint=consumers`.</span></span>  <span data-ttu-id="e9bb2-329">W przeciwnym razie użyj `domain_hint=organizations`.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-329">Otherwise, use `domain_hint=organizations`.</span></span> |

<span data-ttu-id="e9bb2-330">Przez ustawienie hello `prompt=none` parametru tego żądania albo zakończy się pomyślnie lub natychmiast kończy się niepowodzeniem i zwraca tooyour aplikacji.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-330">By setting hello `prompt=none` parameter, this request either succeeds or fails immediately, and returns tooyour application.</span></span>  <span data-ttu-id="e9bb2-331">Odpowiedź oznaczająca Powodzenie wysłaniu tooyour aplikacji na wskazanych hello przekierowania URI, za pomocą metody hello określonej w hello `response_mode` parametru.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-331">A successful response is sent tooyour app at hello indicated redirect URI, by using hello method specified in hello `response_mode` parameter.</span></span>

### <a name="successful-response"></a><span data-ttu-id="e9bb2-332">Odpowiedź oznaczająca Powodzenie</span><span class="sxs-lookup"><span data-stu-id="e9bb2-332">Successful response</span></span>
<span data-ttu-id="e9bb2-333">Odpowiedź oznaczająca Powodzenie przy użyciu `response_mode=fragment` wygląda podobnie do następującej:</span><span class="sxs-lookup"><span data-stu-id="e9bb2-333">A successful response by using `response_mode=fragment` looks like this:</span></span>

```
GET https://aadb2cplayground.azurewebsites.net/#
access_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...
&state=arbitrary_data_you_sent_earlier
&token_type=Bearer
&expires_in=3599
&scope=https%3A%2F%2Fapi.contoso.com%2Ftasks.read
```

| <span data-ttu-id="e9bb2-334">Parametr</span><span class="sxs-lookup"><span data-stu-id="e9bb2-334">Parameter</span></span> | <span data-ttu-id="e9bb2-335">Opis</span><span class="sxs-lookup"><span data-stu-id="e9bb2-335">Description</span></span> |
| --- | --- |
| <span data-ttu-id="e9bb2-336">' access_token '</span><span class="sxs-lookup"><span data-stu-id="e9bb2-336">access_token</span></span> |<span data-ttu-id="e9bb2-337">Witaj token, aplikacja hello żądanie.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-337">hello token that hello app requested.</span></span> |
| <span data-ttu-id="e9bb2-338">token_type</span><span class="sxs-lookup"><span data-stu-id="e9bb2-338">token_type</span></span> |<span data-ttu-id="e9bb2-339">Typ tokenu Hello jest zawsze elementu nośnego.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-339">hello token type will always be Bearer.</span></span> |
| <span data-ttu-id="e9bb2-340">state</span><span class="sxs-lookup"><span data-stu-id="e9bb2-340">state</span></span> |<span data-ttu-id="e9bb2-341">Jeśli `state` parametru jest częścią żądania hello hello tę samą wartość powinna być widoczna w odpowiedzi hello.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-341">If a `state` parameter is included in hello request, hello same value should appear in hello response.</span></span> <span data-ttu-id="e9bb2-342">Witaj aplikacji należy sprawdzić, że hello `state` wartości hello żądań i odpowiedzi są identyczne.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-342">hello app should verify that hello `state` values in hello request and response are identical.</span></span> |
| <span data-ttu-id="e9bb2-343">expires_in</span><span class="sxs-lookup"><span data-stu-id="e9bb2-343">expires_in</span></span> |<span data-ttu-id="e9bb2-344">Jak długo hello token dostępu jest nieprawidłowy (w sekundach).</span><span class="sxs-lookup"><span data-stu-id="e9bb2-344">How long hello access token is valid (in seconds).</span></span> |
| <span data-ttu-id="e9bb2-345">Zakres</span><span class="sxs-lookup"><span data-stu-id="e9bb2-345">scope</span></span> |<span data-ttu-id="e9bb2-346">nadaje się do zakresów Hello hello tokenu dostępu.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-346">hello scopes that hello access token is valid for.</span></span> |

### <a name="error-response"></a><span data-ttu-id="e9bb2-347">Odpowiedzi na błąd</span><span class="sxs-lookup"><span data-stu-id="e9bb2-347">Error response</span></span>
<span data-ttu-id="e9bb2-348">Odpowiedzi na błędy również mogą być wysyłane identyfikator URI przekierowania toohello tak, aby hello aplikacji można je odpowiednią obsługę.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-348">Error responses also can be sent toohello redirect URI so that hello app can handle them appropriately.</span></span>  <span data-ttu-id="e9bb2-349">Aby uzyskać `prompt=none`, oczekiwany błąd wygląda następująco:</span><span class="sxs-lookup"><span data-stu-id="e9bb2-349">For `prompt=none`, an expected error looks like this:</span></span>

```
GET https://aadb2cplayground.azurewebsites.net/#
error=user_authentication_required
&error_description=the+request+could+not+be+completed+silently
```

| <span data-ttu-id="e9bb2-350">Parametr</span><span class="sxs-lookup"><span data-stu-id="e9bb2-350">Parameter</span></span> | <span data-ttu-id="e9bb2-351">Opis</span><span class="sxs-lookup"><span data-stu-id="e9bb2-351">Description</span></span> |
| --- | --- |
| <span data-ttu-id="e9bb2-352">error</span><span class="sxs-lookup"><span data-stu-id="e9bb2-352">error</span></span> |<span data-ttu-id="e9bb2-353">Ciąg kodu błędu, które mogą być używane tooclassify typów błędów występujących.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-353">An error code string that can be used tooclassify types of errors that occur.</span></span> <span data-ttu-id="e9bb2-354">Można też użyć tooerrors tooreact ciąg hello.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-354">You also can use hello string tooreact tooerrors.</span></span> |
| <span data-ttu-id="e9bb2-355">error_description</span><span class="sxs-lookup"><span data-stu-id="e9bb2-355">error_description</span></span> |<span data-ttu-id="e9bb2-356">Komunikat o błędzie, który ułatwia identyfikowanie hello głównej przyczyny błędu uwierzytelniania.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-356">A specific error message that can help you identify hello root cause of an authentication error.</span></span> |

<span data-ttu-id="e9bb2-357">Jeśli ten błąd jest wyświetlany w żądaniu iframe hello, hello użytkownika interakcyjnie zalogować ponownie tooretrieve nowy token.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-357">If you receive this error in hello iframe request, hello user must interactively sign in again tooretrieve a new token.</span></span> <span data-ttu-id="e9bb2-358">Problem można rozwiązać w taki sposób, który ma sens dla aplikacji.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-358">You can handle this in a way that makes sense for your application.</span></span>

## <a name="refresh-tokens"></a><span data-ttu-id="e9bb2-359">Tokenów odświeżania</span><span class="sxs-lookup"><span data-stu-id="e9bb2-359">Refresh tokens</span></span>
<span data-ttu-id="e9bb2-360">Tokeny Identyfikatora i tokenów dostępu wygasają po krótkim czasie.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-360">ID tokens and access tokens both expire after a short period of time.</span></span> <span data-ttu-id="e9bb2-361">Aplikację należy przygotować toorefresh te tokeny okresowo.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-361">Your app must be prepared toorefresh these tokens periodically.</span></span>  <span data-ttu-id="e9bb2-362">wykonania dowolnego typu tokenu, toorefresh hello jednym żądaniu ukryte iframe zostały użyte podczas wcześniejszego przykładu, za pomocą hello `prompt=none` parametru kroki toocontrol usługi Azure AD.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-362">toorefresh either type of token, perform hello same hidden iframe request we used in an earlier example, by using hello `prompt=none` parameter toocontrol Azure AD steps.</span></span>  <span data-ttu-id="e9bb2-363">tooreceive nowy `id_token` wartość, należy się toouse `response_type=id_token` i `scope=openid`, a `nonce` parametru.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-363">tooreceive a new `id_token` value, be sure toouse `response_type=id_token` and `scope=openid`, and a `nonce` parameter.</span></span>

## <a name="send-a-sign-out-request"></a><span data-ttu-id="e9bb2-364">Wyślij żądanie wylogowania</span><span class="sxs-lookup"><span data-stu-id="e9bb2-364">Send a sign-out request</span></span>
<span data-ttu-id="e9bb2-365">Użytkownik hello toosign poza aplikacją hello, należy przekierować hello użytkownika tooAzure AD toosign limit. Jeśli nie zrobisz, hello użytkownika może być możliwe tooreauthenticate tooyour aplikacji bez konieczności ponownego wprowadzania poświadczeń.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-365">When you want toosign hello user out of hello app, redirect hello user tooAzure AD toosign out. If you don't do this, hello user might be able tooreauthenticate tooyour app without entering their credentials again.</span></span> <span data-ttu-id="e9bb2-366">Jest tak, ponieważ mają one nieprawidłowy jednej logowania jednokrotnego sesji z usługą Azure AD.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-366">This is because they will have a valid single sign-on session with Azure AD.</span></span>

<span data-ttu-id="e9bb2-367">Można przekierowywać po prostu hello użytkownika toohello `end_session_endpoint` oznacza to wymienione w hello samego dokumentu metadanych OpenID Connect opisanego w [weryfikacji hello identyfikator tokenu](#validate-the-id-token).</span><span class="sxs-lookup"><span data-stu-id="e9bb2-367">You can simply redirect hello user toohello `end_session_endpoint` that is listed in hello same OpenID Connect metadata document described in [Validate hello ID token](#validate-the-id-token).</span></span> <span data-ttu-id="e9bb2-368">Na przykład:</span><span class="sxs-lookup"><span data-stu-id="e9bb2-368">For example:</span></span>

```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/logout?
p=b2c_1_sign_in
&post_logout_redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
```

| <span data-ttu-id="e9bb2-369">Parametr</span><span class="sxs-lookup"><span data-stu-id="e9bb2-369">Parameter</span></span> | <span data-ttu-id="e9bb2-370">Wymagana?</span><span class="sxs-lookup"><span data-stu-id="e9bb2-370">Required?</span></span> | <span data-ttu-id="e9bb2-371">Opis</span><span class="sxs-lookup"><span data-stu-id="e9bb2-371">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="e9bb2-372">P</span><span class="sxs-lookup"><span data-stu-id="e9bb2-372">p</span></span> |<span data-ttu-id="e9bb2-373">Wymagane</span><span class="sxs-lookup"><span data-stu-id="e9bb2-373">Required</span></span> |<span data-ttu-id="e9bb2-374">Witaj zasad toouse toosign hello użytkownika z aplikacji.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-374">hello policy toouse toosign hello user out of your application.</span></span> |
| <span data-ttu-id="e9bb2-375">post_logout_redirect_uri</span><span class="sxs-lookup"><span data-stu-id="e9bb2-375">post_logout_redirect_uri</span></span> |<span data-ttu-id="e9bb2-376">Zalecane</span><span class="sxs-lookup"><span data-stu-id="e9bb2-376">Recommended</span></span> |<span data-ttu-id="e9bb2-377">Witaj adres URL tego użytkownika hello powinien być przekierowanego tooafter pomyślnie wylogowania. Jeśli nie zostanie włączony, usługi Azure AD B2C wyświetla komunikat ogólny toohello użytkownika.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-377">hello URL that hello user should be redirected tooafter successful sign-out. If it is not included, Azure AD B2C displays a generic message toohello user.</span></span> |

> [!NOTE]
> <span data-ttu-id="e9bb2-378">Kierowanie hello użytkownika toohello `end_session_endpoint` czyści niektóre użytkownika hello pojedynczego logowania jednokrotnego stanu z usługi Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-378">Directing hello user toohello `end_session_endpoint` clears some of hello user's single sign-on state with Azure AD B2C.</span></span> <span data-ttu-id="e9bb2-379">Jednak nie go podpisać hello użytkownika z sesji dostawcy tożsamości społecznościowych hello użytkownika.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-379">However, it doesn't sign hello user out of hello user's social identity provider session.</span></span> <span data-ttu-id="e9bb2-380">Jeśli hello użytkownik wybiera hello dostawcy sam identyfikację podczas kolejnych logowanie, hello użytkownika jest ponownie uwierzytelnić bez wprowadzania poświadczeń.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-380">If hello user selects hello same identify provider during a subsequent sign-in, hello user is reauthenticated, without entering their credentials.</span></span> <span data-ttu-id="e9bb2-381">Jeśli użytkownik chce toosign poza aplikacji usługi Azure AD B2C, go nie musi oznaczać, że chcą toocompletely Wyloguj swojego konta usługi Facebook, na przykład.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-381">If a user wants toosign out of your Azure AD B2C application, it does not necessarily mean they want toocompletely sign out of their Facebook account, for example.</span></span> <span data-ttu-id="e9bb2-382">Jednak dla kont lokalnych hello sesja zostanie zakończona poprawnie.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-382">However, for local accounts, hello user's session will be ended properly.</span></span>
> 
> 

## <a name="use-your-own-azure-ad-b2c-tenant"></a><span data-ttu-id="e9bb2-383">Użyj dzierżawy usługi Azure AD B2C</span><span class="sxs-lookup"><span data-stu-id="e9bb2-383">Use your own Azure AD B2C tenant</span></span>
<span data-ttu-id="e9bb2-384">tootry żądań użytkownika, je ukończyć powitalnych następujące trzy kroki.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-384">tootry these requests yourself, complete hello following three steps.</span></span> <span data-ttu-id="e9bb2-385">Zastąp hello przykładowe wartości używanej w tym artykule i własne wartości:</span><span class="sxs-lookup"><span data-stu-id="e9bb2-385">Replace hello example values we use in this article with your own values:</span></span>

1. <span data-ttu-id="e9bb2-386">[Tworzenie dzierżawy usługi Azure AD B2C](active-directory-b2c-get-started.md).</span><span class="sxs-lookup"><span data-stu-id="e9bb2-386">[Create an Azure AD B2C tenant](active-directory-b2c-get-started.md).</span></span> <span data-ttu-id="e9bb2-387">Użyj nazwy hello dzierżawy w żądaniach hello.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-387">Use hello name of your tenant in hello requests.</span></span>
2. <span data-ttu-id="e9bb2-388">[Tworzenie aplikacji](active-directory-b2c-app-registration.md) tooobtain identyfikator aplikacji i `redirect_uri` wartość.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-388">[Create an application](active-directory-b2c-app-registration.md) tooobtain an application ID and a `redirect_uri` value.</span></span> <span data-ttu-id="e9bb2-389">Uwzględnij aplikację sieci web lub interfejsu API sieci web w aplikacji.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-389">Include a web app or web API in your app.</span></span> <span data-ttu-id="e9bb2-390">Opcjonalnie możesz utworzyć klucz tajny aplikacji.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-390">Optionally, you can create an application secret.</span></span>
3. <span data-ttu-id="e9bb2-391">[Tworzenie zasad](active-directory-b2c-reference-policies.md) tooobtain nazwy zasad.</span><span class="sxs-lookup"><span data-stu-id="e9bb2-391">[Create your policies](active-directory-b2c-reference-policies.md) tooobtain your policy names.</span></span>

## <a name="samples"></a><span data-ttu-id="e9bb2-392">Przykłady</span><span class="sxs-lookup"><span data-stu-id="e9bb2-392">Samples</span></span>

* [<span data-ttu-id="e9bb2-393">Tworzenie aplikacji jednej strony przy użyciu środowiska Node.js</span><span class="sxs-lookup"><span data-stu-id="e9bb2-393">Create a single-page app by using Node.js</span></span>](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-nodejs-webapi)
* [<span data-ttu-id="e9bb2-394">Tworzenie aplikacji jednej strony przy użyciu programu .NET</span><span class="sxs-lookup"><span data-stu-id="e9bb2-394">Create a single-page app by using .NET</span></span>](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-dotnet-webapi)

