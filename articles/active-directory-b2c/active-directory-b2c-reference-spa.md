---
title: "Usługa Azure Active Directory B2C: Jednostronicowej aplikacji przy użyciu niejawnego przepływu | Dokumentacja firmy Microsoft"
description: "Dowiedz się, jak tworzyć aplikacje jednej strony bezpośrednio przez przy użyciu niejawnego przepływu OAuth 2.0 w usłudze Azure Active Directory B2C."
services: active-directory-b2c
documentationcenter: 
author: parakhj
manager: krassk
editor: parakhj
ms.assetid: a45cc74c-a37e-453f-b08b-af75855e0792
ms.service: active-directory-b2c
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 02/06/2017
ms.author: parakhj
ms.openlocfilehash: 44ff168599e9078506e1afdd0f1dc4657ef0964d
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 07/11/2017
---
# <a name="azure-ad-b2c-single-page-app-sign-in-by-using-oauth-20-implicit-flow"></a><span data-ttu-id="23d26-103">Usługa Azure AD B2C: Jednostronicowej aplikacji logowania przy użyciu niejawnego przepływu OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="23d26-103">Azure AD B2C: Single-page app sign-in by using OAuth 2.0 implicit flow</span></span>

> [!NOTE]
> <span data-ttu-id="23d26-104">Ta funkcja jest dostępna w wersji zapoznawczej.</span><span class="sxs-lookup"><span data-stu-id="23d26-104">This feature is in preview.</span></span>
> 

<span data-ttu-id="23d26-105">Wiele nowoczesnych aplikacji ma jednostronicowej aplikacji fronton głównie napisany w języku JavaScript.</span><span class="sxs-lookup"><span data-stu-id="23d26-105">Many modern apps have a single-page app front end that primarily is written in JavaScript.</span></span> <span data-ttu-id="23d26-106">Często napisano aplikację przy użyciu framework, takich jak AngularJS, Ember.js lub Durandal.</span><span class="sxs-lookup"><span data-stu-id="23d26-106">Often, the app is written by using a framework like AngularJS, Ember.js, or Durandal.</span></span> <span data-ttu-id="23d26-107">Aplikacje jednej strony i innych aplikacji JavaScript, które można uruchamiać głównie w przeglądarce ma pewne dodatkowe problemy dotyczące uwierzytelniania:</span><span class="sxs-lookup"><span data-stu-id="23d26-107">Single-page apps and other JavaScript apps that run primarily in a browser have some additional challenges for authentication:</span></span>

* <span data-ttu-id="23d26-108">Właściwości zabezpieczeń te aplikacje są znacznie różni się od tradycyjnych na serwerze sieci web aplikacji.</span><span class="sxs-lookup"><span data-stu-id="23d26-108">The security characteristics of these apps are significantly different from traditional server-based web applications.</span></span>
* <span data-ttu-id="23d26-109">Wiele serwerów autoryzacji i dostawców tożsamości nie obsługują współużytkowanie zasobów między źródłami (CORS) żądania udostępniania.</span><span class="sxs-lookup"><span data-stu-id="23d26-109">Many authorization servers and identity providers do not support cross-origin resource sharing (CORS) requests.</span></span>
* <span data-ttu-id="23d26-110">Przekierowania całej strony przeglądarki w kierunku od aplikacji może być znacznie inwazyjne środowiska użytkownika.</span><span class="sxs-lookup"><span data-stu-id="23d26-110">Full-page browser redirects away from the app can be significantly invasive to the user experience.</span></span>

<span data-ttu-id="23d26-111">Aby umożliwić obsługę tych aplikacji usługi Azure Active Directory B2C (Azure AD B2C) używa niejawnego przepływu OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="23d26-111">To support these applications, Azure Active Directory B2C (Azure AD B2C) uses the OAuth 2.0 implicit flow.</span></span> <span data-ttu-id="23d26-112">Przepływ niejawne Przyznaj autoryzacji OAuth 2.0 jest opisany w [sekcji 4.2 specyfikacji protokołu OAuth 2.0](http://tools.ietf.org/html/rfc6749).</span><span class="sxs-lookup"><span data-stu-id="23d26-112">The OAuth 2.0 authorization implicit grant flow is described in [section 4.2 of the OAuth 2.0 specification](http://tools.ietf.org/html/rfc6749).</span></span> <span data-ttu-id="23d26-113">W przepływu niejawnego aplikacja odbiera tokeny bezpośrednio z usługi Azure Active Directory (Azure AD) punktu końcowego, bez żadnych wymiany serwera serwera autoryzacji.</span><span class="sxs-lookup"><span data-stu-id="23d26-113">In implicit flow, the app receives tokens directly from the Azure Active Directory (Azure AD) authorize endpoint, without any server-to-server exchange.</span></span> <span data-ttu-id="23d26-114">Wszystkie logika uwierzytelniania i sesji obsługi ma umieścić w całości klienta JavaScript, bez dodatkowa strona przekierowania.</span><span class="sxs-lookup"><span data-stu-id="23d26-114">All authentication logic and session handling takes place entirely in the JavaScript client, without additional page redirects.</span></span>

<span data-ttu-id="23d26-115">Usługa Azure AD B2C rozszerza standardowe niejawnego przepływu OAuth 2.0 do więcej niż prostego uwierzytelniania i autoryzacji.</span><span class="sxs-lookup"><span data-stu-id="23d26-115">Azure AD B2C extends the standard OAuth 2.0 implicit flow to more than simple authentication and authorization.</span></span> <span data-ttu-id="23d26-116">Usługa Azure AD B2C wprowadza [parametru zasad](active-directory-b2c-reference-policies.md).</span><span class="sxs-lookup"><span data-stu-id="23d26-116">Azure AD B2C introduces the [policy parameter](active-directory-b2c-reference-policies.md).</span></span> <span data-ttu-id="23d26-117">Z parametrem zasad umożliwia OAuth 2.0 Dodawanie użytkowników do aplikacji, takich jak konta, logowania i zarządzania profilami.</span><span class="sxs-lookup"><span data-stu-id="23d26-117">With the policy parameter, you can use OAuth 2.0 to add user experiences to your app, such as sign-up, sign-in, and profile management.</span></span> <span data-ttu-id="23d26-118">W tym artykule zostanie przedstawiony zostanie sposób używania przepływu niejawnego i Azure AD do wdrożenia każdego z tych środowisk w aplikacji jednej strony.</span><span class="sxs-lookup"><span data-stu-id="23d26-118">In this article, we show you how to use the implicit flow and Azure AD to implement each of these experiences in your single-page applications.</span></span> <span data-ttu-id="23d26-119">Aby pomóc Ci rozpocząć, Przyjrzyjmy się naszych [Node.js](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-nodejs-webapi) i [programu Microsoft .NET](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-dotnet-webapi) próbek.</span><span class="sxs-lookup"><span data-stu-id="23d26-119">To help you get started, take a look at our [Node.js](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-nodejs-webapi) and [Microsoft .NET](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-dotnet-webapi) samples.</span></span>

<span data-ttu-id="23d26-120">W żądaniach przykład HTTP w tym artykule, korzystamy z naszych katalog usługi Azure AD B2C przykładu **fabrikamb2c.onmicrosoft.com**.</span><span class="sxs-lookup"><span data-stu-id="23d26-120">In the example HTTP requests in this article, we use our sample Azure AD B2C directory, **fabrikamb2c.onmicrosoft.com**.</span></span> <span data-ttu-id="23d26-121">Możemy również użyć własnej przykładowej aplikacji i zasad.</span><span class="sxs-lookup"><span data-stu-id="23d26-121">We also use our own sample application and policies.</span></span> <span data-ttu-id="23d26-122">Można spróbować żądania samodzielnie przy użyciu tych wartości, lub należy je zastąpić własne wartości.</span><span class="sxs-lookup"><span data-stu-id="23d26-122">You can try the requests yourself by using these values, or you can replace them with your own values.</span></span>
<span data-ttu-id="23d26-123">Dowiedz się, jak [uzyskać własnego katalogu usługi Azure AD B2C, aplikacji i zasad](#use-your-own-b2c-tenant).</span><span class="sxs-lookup"><span data-stu-id="23d26-123">Learn how to [get your own Azure AD B2C directory, application, and policies](#use-your-own-b2c-tenant).</span></span>


## <a name="protocol-diagram"></a><span data-ttu-id="23d26-124">Diagram protokołu</span><span class="sxs-lookup"><span data-stu-id="23d26-124">Protocol diagram</span></span>

<span data-ttu-id="23d26-125">Niejawne przepływu logowania może wyglądać poniższej ilustracji.</span><span class="sxs-lookup"><span data-stu-id="23d26-125">The implicit sign-in flow looks something like the following figure.</span></span> <span data-ttu-id="23d26-126">Każdy krok jest szczegółowo opisane w dalszej części tego artykułu.</span><span class="sxs-lookup"><span data-stu-id="23d26-126">Each step is described in detail later in the article.</span></span>

![OpenID Connect ścieżek](../media/active-directory-v2-flows/convergence_scenarios_implicit.png)

## <a name="send-authentication-requests"></a><span data-ttu-id="23d26-128">Wysyłanie żądania uwierzytelniania</span><span class="sxs-lookup"><span data-stu-id="23d26-128">Send authentication requests</span></span>
<span data-ttu-id="23d26-129">Gdy aplikacja sieci web musi uwierzytelnić użytkownika i wykonywanie zasad, kieruje go użytkownikowi `/authorize` punktu końcowego.</span><span class="sxs-lookup"><span data-stu-id="23d26-129">When your web app needs to authenticate the user and execute a policy, it directs the user to the `/authorize` endpoint.</span></span> <span data-ttu-id="23d26-130">Jest to interakcyjne część przepływu, gdy użytkownik wykona akcję w zależności od zasad.</span><span class="sxs-lookup"><span data-stu-id="23d26-130">This is the interactive portion of the flow, where the user takes action, depending on the policy.</span></span> <span data-ttu-id="23d26-131">Użytkownik uzyskuje identyfikator tokenu z punktu końcowego usługi Azure AD.</span><span class="sxs-lookup"><span data-stu-id="23d26-131">The user gets an ID token from the Azure AD endpoint.</span></span>

<span data-ttu-id="23d26-132">W tym żądaniu klienta wskazuje w `scope` parametru uprawnienia, które należy uzyskać od użytkownika.</span><span class="sxs-lookup"><span data-stu-id="23d26-132">In this request, the client indicates in the `scope` parameter the permissions that it needs to acquire from the user.</span></span> <span data-ttu-id="23d26-133">W `p` parametr wskazuje zasad do wykonania.</span><span class="sxs-lookup"><span data-stu-id="23d26-133">In the `p` parameter, it indicates the policy to execute.</span></span> <span data-ttu-id="23d26-134">Poniższe trzy przykłady (podziałami wierszy dla czytelności) każdego używają różnych zasad.</span><span class="sxs-lookup"><span data-stu-id="23d26-134">The following three examples (with line breaks for readability) each use a different policy.</span></span> <span data-ttu-id="23d26-135">Aby uzyskać pewne pojęcie o sposób działania każdego żądania, spróbuj wkleić żądania do przeglądarki i uruchomić go.</span><span class="sxs-lookup"><span data-stu-id="23d26-135">To get a feel for how each request works, try pasting the request into a browser and running it.</span></span>

### <a name="use-a-sign-in-policy"></a><span data-ttu-id="23d26-136">Użyj zasad logowania</span><span class="sxs-lookup"><span data-stu-id="23d26-136">Use a sign-in policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=id_token+token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&response_mode=fragment
&scope=openid%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&p=b2c_1_sign_in
```

### <a name="use-a-sign-up-policy"></a><span data-ttu-id="23d26-137">Użyj zasad rejestracji</span><span class="sxs-lookup"><span data-stu-id="23d26-137">Use a sign-up policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=id_token+token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&response_mode=fragment
&scope=openid%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&p=b2c_1_sign_up
```

### <a name="use-an-edit-profile-policy"></a><span data-ttu-id="23d26-138">Użyj zasad edycji profilu</span><span class="sxs-lookup"><span data-stu-id="23d26-138">Use an edit-profile policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=id_token+token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&response_mode=fragment
&scope=openid%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&p=b2c_1_edit_profile
```

| <span data-ttu-id="23d26-139">Parametr</span><span class="sxs-lookup"><span data-stu-id="23d26-139">Parameter</span></span> | <span data-ttu-id="23d26-140">Wymagane?</span><span class="sxs-lookup"><span data-stu-id="23d26-140">Required?</span></span> | <span data-ttu-id="23d26-141">Opis</span><span class="sxs-lookup"><span data-stu-id="23d26-141">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="23d26-142">client_id</span><span class="sxs-lookup"><span data-stu-id="23d26-142">client_id</span></span> |<span data-ttu-id="23d26-143">Wymagane</span><span class="sxs-lookup"><span data-stu-id="23d26-143">Required</span></span> |<span data-ttu-id="23d26-144">Identyfikator aplikacji przypisany do aplikacji w [portalu Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="23d26-144">The application ID assigned to your app in the [Azure portal](https://portal.azure.com).</span></span> |
| <span data-ttu-id="23d26-145">response_type</span><span class="sxs-lookup"><span data-stu-id="23d26-145">response_type</span></span> |<span data-ttu-id="23d26-146">Wymagane</span><span class="sxs-lookup"><span data-stu-id="23d26-146">Required</span></span> |<span data-ttu-id="23d26-147">Musi zawierać `id_token` OpenID Connect logowaniu.</span><span class="sxs-lookup"><span data-stu-id="23d26-147">Must include `id_token` for OpenID Connect sign-in.</span></span> <span data-ttu-id="23d26-148">Ponadto może zawierać typ odpowiedzi `token`.</span><span class="sxs-lookup"><span data-stu-id="23d26-148">It also can include the response type `token`.</span></span> <span data-ttu-id="23d26-149">Jeśli używasz `token`, aplikacja może bezpośrednio odbierać token dostępu z punktu końcowego autoryzacji bez wprowadzania drugie żądanie do punktu końcowego autoryzacji.</span><span class="sxs-lookup"><span data-stu-id="23d26-149">If you use `token`, your app can immediately receive an access token from the authorize endpoint, without making a second request to the authorize endpoint.</span></span>  <span data-ttu-id="23d26-150">Jeśli używasz `token` typ odpowiedzi `scope` parametr musi zawierać zakres, który wskazuje, którego zasobu należy wystawić token dla.</span><span class="sxs-lookup"><span data-stu-id="23d26-150">If you use the `token` response type, the `scope` parameter must contain a scope that indicates which resource to issue the token for.</span></span> |
| <span data-ttu-id="23d26-151">redirect_uri</span><span class="sxs-lookup"><span data-stu-id="23d26-151">redirect_uri</span></span> |<span data-ttu-id="23d26-152">Zalecane</span><span class="sxs-lookup"><span data-stu-id="23d26-152">Recommended</span></span> |<span data-ttu-id="23d26-153">Identyfikator URI przekierowania w aplikacji, w którym można wysłanych i odebranych przez aplikację odpowiedzi uwierzytelniania.</span><span class="sxs-lookup"><span data-stu-id="23d26-153">The redirect URI of your app, where authentication responses can be sent and received by your app.</span></span> <span data-ttu-id="23d26-154">Go musi dokładnie odpowiadać jeden przekierowania URI, który został zarejestrowany w portalu, z wyjątkiem tego, że musi być zakodowane w adresie URL.</span><span class="sxs-lookup"><span data-stu-id="23d26-154">It must exactly match one of the redirect URIs that you registered in the portal, except that it must be URL-encoded.</span></span> |
| <span data-ttu-id="23d26-155">response_mode</span><span class="sxs-lookup"><span data-stu-id="23d26-155">response_mode</span></span> |<span data-ttu-id="23d26-156">Zalecane</span><span class="sxs-lookup"><span data-stu-id="23d26-156">Recommended</span></span> |<span data-ttu-id="23d26-157">Określa metodę używaną do wysyłania wynikowy token wstecz do aplikacji.</span><span class="sxs-lookup"><span data-stu-id="23d26-157">Specifies the method to use to send the resulting token back to your app.</span></span>  <span data-ttu-id="23d26-158">Niejawne przepływów, użyj `fragment`.</span><span class="sxs-lookup"><span data-stu-id="23d26-158">For implicit flows, use `fragment`.</span></span> |
| <span data-ttu-id="23d26-159">Zakres</span><span class="sxs-lookup"><span data-stu-id="23d26-159">scope</span></span> |<span data-ttu-id="23d26-160">Wymagane</span><span class="sxs-lookup"><span data-stu-id="23d26-160">Required</span></span> |<span data-ttu-id="23d26-161">Rozdzieloną spacjami listę zakresów.</span><span class="sxs-lookup"><span data-stu-id="23d26-161">A space-separated list of scopes.</span></span> <span data-ttu-id="23d26-162">Wskazuje wartość pojedynczy zakres do usługi Azure AD zarówno uprawnienia, które są żądane.</span><span class="sxs-lookup"><span data-stu-id="23d26-162">A single scope value indicates to Azure AD both of the permissions that are being requested.</span></span> <span data-ttu-id="23d26-163">`openid` Uprawnienia, aby zalogować użytkownika i Pobierz dane o użytkowniku w formie tokenów identyfikator wskazuje zakres.</span><span class="sxs-lookup"><span data-stu-id="23d26-163">The `openid` scope indicates a permission to sign in the user and get data about the user in the form of ID tokens.</span></span> <span data-ttu-id="23d26-164">(Będzie omawianiu to bardziej dalszej części tego artykułu.) `offline_access` Zakres jest opcjonalne dla aplikacji sieci web.</span><span class="sxs-lookup"><span data-stu-id="23d26-164">(We'll talk about this more later in the article.) The `offline_access` scope is optional for web apps.</span></span> <span data-ttu-id="23d26-165">Oznacza to, że Twoja aplikacja powinna token odświeżania długotrwałe dostępu do zasobów.</span><span class="sxs-lookup"><span data-stu-id="23d26-165">It indicates that your app needs a refresh token for long-lived access to resources.</span></span> |
| <span data-ttu-id="23d26-166">state</span><span class="sxs-lookup"><span data-stu-id="23d26-166">state</span></span> |<span data-ttu-id="23d26-167">Zalecane</span><span class="sxs-lookup"><span data-stu-id="23d26-167">Recommended</span></span> |<span data-ttu-id="23d26-168">Wartość zawarte w żądaniu, który jest także zwracany w odpowiedzi tokenu.</span><span class="sxs-lookup"><span data-stu-id="23d26-168">A value included in the request that also is returned in the token response.</span></span> <span data-ttu-id="23d26-169">Można go ciągiem zawartość, która ma być używany.</span><span class="sxs-lookup"><span data-stu-id="23d26-169">It can be a string of any content that you want to use.</span></span> <span data-ttu-id="23d26-170">Zazwyczaj wartość losowo generowany, unikatowy jest używana, aby zapobiec fałszerstwie żądania międzywitrynowego.</span><span class="sxs-lookup"><span data-stu-id="23d26-170">Usually, a randomly generated, unique value is used, to prevent cross-site request forgery attacks.</span></span> <span data-ttu-id="23d26-171">Stan jest również używany do kodowania informacje o stanie użytkownika w aplikacji, przed wystąpieniem żądania uwierzytelniania, takich jak znajdowały się na stronie.</span><span class="sxs-lookup"><span data-stu-id="23d26-171">The state is also used to encode information about the user's state in the app before the authentication request occurred, like the page they were on.</span></span> |
| <span data-ttu-id="23d26-172">Identyfikator jednorazowy</span><span class="sxs-lookup"><span data-stu-id="23d26-172">nonce</span></span> |<span data-ttu-id="23d26-173">Wymagane</span><span class="sxs-lookup"><span data-stu-id="23d26-173">Required</span></span> |<span data-ttu-id="23d26-174">Wartość zawarte w żądaniu (wygenerowany przez aplikację), który znajduje się w jego identyfikator tokenu jako oświadczenia.</span><span class="sxs-lookup"><span data-stu-id="23d26-174">A value included in the request (generated by the app) that is included in the resulting ID token as a claim.</span></span> <span data-ttu-id="23d26-175">Aplikacja może zweryfikować tę wartość, aby ograniczyć ataków powtórzeń tokenów.</span><span class="sxs-lookup"><span data-stu-id="23d26-175">The app can then verify this value to mitigate token replay attacks.</span></span> <span data-ttu-id="23d26-176">Wartość jest zazwyczaj losowego, unikatowy ciąg, który może służyć do identyfikowania pochodzenia żądania.</span><span class="sxs-lookup"><span data-stu-id="23d26-176">Usually, the value is a randomized, unique string that can be used to identify the origin of the request.</span></span> |
| <span data-ttu-id="23d26-177">P</span><span class="sxs-lookup"><span data-stu-id="23d26-177">p</span></span> |<span data-ttu-id="23d26-178">Wymagane</span><span class="sxs-lookup"><span data-stu-id="23d26-178">Required</span></span> |<span data-ttu-id="23d26-179">Zasady do wykonania.</span><span class="sxs-lookup"><span data-stu-id="23d26-179">The policy to execute.</span></span> <span data-ttu-id="23d26-180">Jest to nazwa zasad, która jest tworzona w dzierżawie usługi Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="23d26-180">It's the name of a policy that is created in your Azure AD B2C tenant.</span></span> <span data-ttu-id="23d26-181">Wartość Nazwa zasad powinny rozpoczynać się od **b2c\_1\_**.</span><span class="sxs-lookup"><span data-stu-id="23d26-181">The policy name value should begin with **b2c\_1\_**.</span></span> <span data-ttu-id="23d26-182">Aby uzyskać więcej informacji, zobacz [wbudowane zasady usługi Azure AD B2C](active-directory-b2c-reference-policies.md).</span><span class="sxs-lookup"><span data-stu-id="23d26-182">For more information, see [Azure AD B2C built-in policies](active-directory-b2c-reference-policies.md).</span></span> |
| <span data-ttu-id="23d26-183">wiersz</span><span class="sxs-lookup"><span data-stu-id="23d26-183">prompt</span></span> |<span data-ttu-id="23d26-184">Optional (Opcjonalność)</span><span class="sxs-lookup"><span data-stu-id="23d26-184">Optional</span></span> |<span data-ttu-id="23d26-185">Typ interakcji z użytkownikiem, które są wymagane.</span><span class="sxs-lookup"><span data-stu-id="23d26-185">The type of user interaction that's required.</span></span> <span data-ttu-id="23d26-186">Obecnie jest jedyną poprawną wartością `login`.</span><span class="sxs-lookup"><span data-stu-id="23d26-186">Currently, the only valid value is `login`.</span></span> <span data-ttu-id="23d26-187">Dzięki temu użytkownik musi wprowadzić swoje poświadczenia dla tego żądania.</span><span class="sxs-lookup"><span data-stu-id="23d26-187">This forces the user to enter their credentials on that request.</span></span> <span data-ttu-id="23d26-188">Logowanie jednokrotne nie zacznie obowiązywać.</span><span class="sxs-lookup"><span data-stu-id="23d26-188">Single sign-on will not take effect.</span></span> |

<span data-ttu-id="23d26-189">W tym momencie użytkownik jest proszony o ukończenia przepływu pracy zasad.</span><span class="sxs-lookup"><span data-stu-id="23d26-189">At this point, the user is asked to complete the policy's workflow.</span></span> <span data-ttu-id="23d26-190">Może to obejmować wprowadzić swoją nazwę użytkownika i hasło, użytkownik zalogować społecznościowych tożsamości, podczas tworzenia katalogu lub dowolnej liczby kroków.</span><span class="sxs-lookup"><span data-stu-id="23d26-190">This might involve the user entering their username and password, signing in with a social identity, signing up for the directory, or any other number of steps.</span></span> <span data-ttu-id="23d26-191">Akcje użytkownika zależą od tego, jak zdefiniowano zasad.</span><span class="sxs-lookup"><span data-stu-id="23d26-191">User actions depend on how the policy is defined.</span></span>

<span data-ttu-id="23d26-192">Po wypełnieniu zasad przez użytkownika, usługi Azure AD zwraca odpowiedź do aplikacji przy wartości używane dla `redirect_uri`.</span><span class="sxs-lookup"><span data-stu-id="23d26-192">After the user completes the policy, Azure AD returns a response to your app at the value you used for `redirect_uri`.</span></span> <span data-ttu-id="23d26-193">Używa metody określonej w `response_mode` parametru.</span><span class="sxs-lookup"><span data-stu-id="23d26-193">It uses the method specified in the `response_mode` parameter.</span></span> <span data-ttu-id="23d26-194">Odpowiedź jest dokładnie taka sama dla każdego z scenariuszy akcji użytkownika, niezależnie od zasady, które zostało wykonane.</span><span class="sxs-lookup"><span data-stu-id="23d26-194">The response is exactly the same for each of the user action scenarios, independent of the policy that was executed.</span></span>

### <a name="successful-response"></a><span data-ttu-id="23d26-195">Odpowiedź oznaczająca Powodzenie</span><span class="sxs-lookup"><span data-stu-id="23d26-195">Successful response</span></span>
<span data-ttu-id="23d26-196">Odpowiedź oznaczająca Powodzenie, która używa `response_mode=fragment` i `response_type=id_token+token` wygląda podobnie do następującego podziałami wierszy dla czytelności:</span><span class="sxs-lookup"><span data-stu-id="23d26-196">A successful response that uses `response_mode=fragment` and `response_type=id_token+token` looks like the following, with line breaks for legibility:</span></span>

```
GET https://aadb2cplayground.azurewebsites.net/#
access_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...
&token_type=Bearer
&expires_in=3599
&scope="90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6 offline_access",
&id_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...
&state=arbitrary_data_you_sent_earlier
```

| <span data-ttu-id="23d26-197">Parametr</span><span class="sxs-lookup"><span data-stu-id="23d26-197">Parameter</span></span> | <span data-ttu-id="23d26-198">Opis</span><span class="sxs-lookup"><span data-stu-id="23d26-198">Description</span></span> |
| --- | --- |
| <span data-ttu-id="23d26-199">' access_token '</span><span class="sxs-lookup"><span data-stu-id="23d26-199">access_token</span></span> |<span data-ttu-id="23d26-200">Token dostępu do żądanej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="23d26-200">The access token that the app requested.</span></span>  <span data-ttu-id="23d26-201">Nie można zdekodować lub w przeciwnym razie sprawdził tokenu dostępu.</span><span class="sxs-lookup"><span data-stu-id="23d26-201">The access token should not be decoded or otherwise inspected.</span></span> <span data-ttu-id="23d26-202">Może być traktowana jako ciąg z ogólnym opisem.</span><span class="sxs-lookup"><span data-stu-id="23d26-202">It can be treated as an opaque string.</span></span> |
| <span data-ttu-id="23d26-203">token_type</span><span class="sxs-lookup"><span data-stu-id="23d26-203">token_type</span></span> |<span data-ttu-id="23d26-204">Wartość typu tokenu.</span><span class="sxs-lookup"><span data-stu-id="23d26-204">The token type value.</span></span> <span data-ttu-id="23d26-205">Jedynym typem, który obsługuje usługę Azure AD jest elementu nośnego.</span><span class="sxs-lookup"><span data-stu-id="23d26-205">The only type that Azure AD supports is Bearer.</span></span> |
| <span data-ttu-id="23d26-206">expires_in</span><span class="sxs-lookup"><span data-stu-id="23d26-206">expires_in</span></span> |<span data-ttu-id="23d26-207">Długość czasu, przez który token dostępu jest nieprawidłowy (w sekundach).</span><span class="sxs-lookup"><span data-stu-id="23d26-207">The length of time that the access token is valid (in seconds).</span></span> |
| <span data-ttu-id="23d26-208">Zakres</span><span class="sxs-lookup"><span data-stu-id="23d26-208">scope</span></span> |<span data-ttu-id="23d26-209">Token jest prawidłowy dla zakresów.</span><span class="sxs-lookup"><span data-stu-id="23d26-209">The scopes that the token is valid for.</span></span> <span data-ttu-id="23d26-210">Możesz również zakresów można użyć do pamięci podręcznej tokenów do późniejszego użycia.</span><span class="sxs-lookup"><span data-stu-id="23d26-210">You also can use scopes to cache tokens for later use.</span></span> |
| <span data-ttu-id="23d26-211">żądaniu</span><span class="sxs-lookup"><span data-stu-id="23d26-211">id_token</span></span> |<span data-ttu-id="23d26-212">Token ID żądanej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="23d26-212">The ID token that the app requested.</span></span> <span data-ttu-id="23d26-213">Token identyfikator służy do weryfikacji tożsamości użytkownika i rozpocząć sesję użytkownika.</span><span class="sxs-lookup"><span data-stu-id="23d26-213">You can use the ID token to verify the user's identity and begin a session with the user.</span></span> <span data-ttu-id="23d26-214">Aby uzyskać więcej informacji o identyfikatorze tokeny i ich zawartość, zobacz [odwołania do tokenu usługi Azure AD B2C](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="23d26-214">For more information about ID tokens and their contents, see the [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span> |
| <span data-ttu-id="23d26-215">state</span><span class="sxs-lookup"><span data-stu-id="23d26-215">state</span></span> |<span data-ttu-id="23d26-216">Jeśli `state` parametru jest zawarte w żądaniu, tę samą wartość powinna być widoczna w odpowiedzi.</span><span class="sxs-lookup"><span data-stu-id="23d26-216">If a `state` parameter is included in the request, the same value should appear in the response.</span></span> <span data-ttu-id="23d26-217">Aplikację należy sprawdzić, czy `state` wartości żądań i odpowiedzi są identyczne.</span><span class="sxs-lookup"><span data-stu-id="23d26-217">The app should verify that the `state` values in the request and response are identical.</span></span> |

### <a name="error-response"></a><span data-ttu-id="23d26-218">Odpowiedzi na błąd</span><span class="sxs-lookup"><span data-stu-id="23d26-218">Error response</span></span>
<span data-ttu-id="23d26-219">Odpowiedzi na błędy również mogą być wysyłane identyfikator URI przekierowania, dzięki czemu aplikacja może je odpowiednią obsługę:</span><span class="sxs-lookup"><span data-stu-id="23d26-219">Error responses also can be sent to the redirect URI so that the app can handle them appropriately:</span></span>

```
GET https://aadb2cplayground.azurewebsites.net/#
error=access_denied
&error_description=the+user+canceled+the+authentication
&state=arbitrary_data_you_can_receive_in_the_response
```

| <span data-ttu-id="23d26-220">Parametr</span><span class="sxs-lookup"><span data-stu-id="23d26-220">Parameter</span></span> | <span data-ttu-id="23d26-221">Opis</span><span class="sxs-lookup"><span data-stu-id="23d26-221">Description</span></span> |
| --- | --- |
| <span data-ttu-id="23d26-222">error</span><span class="sxs-lookup"><span data-stu-id="23d26-222">error</span></span> |<span data-ttu-id="23d26-223">Służy do klasyfikowania typy błędów występujących ciąg kod błędu.</span><span class="sxs-lookup"><span data-stu-id="23d26-223">An error code string used to classify types of errors that occur.</span></span> <span data-ttu-id="23d26-224">Kod błędu: można również użyć do obsługi błędów.</span><span class="sxs-lookup"><span data-stu-id="23d26-224">You also can use the error code for error handling.</span></span> |
| <span data-ttu-id="23d26-225">error_description</span><span class="sxs-lookup"><span data-stu-id="23d26-225">error_description</span></span> |<span data-ttu-id="23d26-226">Komunikat o błędzie, które mogą pomóc Określ przyczynę błędu uwierzytelniania.</span><span class="sxs-lookup"><span data-stu-id="23d26-226">A specific error message that can help you identify the root cause of an authentication error.</span></span> |
| <span data-ttu-id="23d26-227">state</span><span class="sxs-lookup"><span data-stu-id="23d26-227">state</span></span> |<span data-ttu-id="23d26-228">Zobacz pełną opisu w powyższej tabeli.</span><span class="sxs-lookup"><span data-stu-id="23d26-228">See the full description in the preceding table.</span></span> <span data-ttu-id="23d26-229">Jeśli `state` parametru jest zawarte w żądaniu, tę samą wartość powinna być widoczna w odpowiedzi.</span><span class="sxs-lookup"><span data-stu-id="23d26-229">If a `state` parameter is included in the request, the same value should appear in the response.</span></span> <span data-ttu-id="23d26-230">Aplikację należy sprawdzić, czy `state` wartości żądań i odpowiedzi są identyczne.</span><span class="sxs-lookup"><span data-stu-id="23d26-230">The app should verify that the `state` values in the request and response are identical.</span></span>|

## <a name="validate-the-id-token"></a><span data-ttu-id="23d26-231">Zweryfikuj token Identyfikatora</span><span class="sxs-lookup"><span data-stu-id="23d26-231">Validate the ID token</span></span>
<span data-ttu-id="23d26-232">Odbieranie identyfikator tokenu jest niewystarczająca do uwierzytelnienia użytkownika.</span><span class="sxs-lookup"><span data-stu-id="23d26-232">Receiving an ID token is not enough to authenticate the user.</span></span> <span data-ttu-id="23d26-233">Musisz zweryfikować podpisu tokenu identyfikator i sprawdzić oświadczenia w tokenie na wymagania dotyczące Twojej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="23d26-233">You must validate the ID token's signature, and verify the claims in the token per your app's requirements.</span></span> <span data-ttu-id="23d26-234">Używa usługi Azure AD B2C [tokenów sieci Web JSON (Jwt)](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html) i kryptografii klucza publicznego do podpisywania tokenów i sprawdź, czy są prawidłowe.</span><span class="sxs-lookup"><span data-stu-id="23d26-234">Azure AD B2C uses [JSON Web Tokens (JWTs)](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html) and public key cryptography to sign tokens and verify that they are valid.</span></span>

<span data-ttu-id="23d26-235">Wiele bibliotek open source dostępnych sprawdzania poprawności tokenów Jwt, w zależności od języka, w którym można skorzystać.</span><span class="sxs-lookup"><span data-stu-id="23d26-235">Many open-source libraries are available for validating JWTs, depending on the language you prefer to use.</span></span> <span data-ttu-id="23d26-236">Należy wziąć pod uwagę eksploracji dostępnych bibliotek open source, a nie implementacji logiki weryfikacji.</span><span class="sxs-lookup"><span data-stu-id="23d26-236">Consider exploring available open-source libraries rather than implementing your own validation logic.</span></span> <span data-ttu-id="23d26-237">Informacje w tym artykule służy do zapoznawania się jak poprawnie używać tych bibliotek.</span><span class="sxs-lookup"><span data-stu-id="23d26-237">You can use the information in this article to help you learn how to properly use those libraries.</span></span>

<span data-ttu-id="23d26-238">Usługa Azure AD B2C ma punkt końcowy metadanych OpenID Connect.</span><span class="sxs-lookup"><span data-stu-id="23d26-238">Azure AD B2C has an OpenID Connect metadata endpoint.</span></span> <span data-ttu-id="23d26-239">Aplikacja można używać punktu końcowego można pobrać informacji na temat usługi Azure AD B2C w czasie wykonywania.</span><span class="sxs-lookup"><span data-stu-id="23d26-239">An app can use the endpoint to fetch information about Azure AD B2C at runtime.</span></span> <span data-ttu-id="23d26-240">Informacje te obejmują punkty końcowe, zawartość tokenu i klucze podpisywania tokenu.</span><span class="sxs-lookup"><span data-stu-id="23d26-240">This information includes endpoints, token contents, and token signing keys.</span></span> <span data-ttu-id="23d26-241">Brak dokument metadanych JSON dla każdej zasady w dzierżawie usługi Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="23d26-241">There is a JSON metadata document for each policy in your Azure AD B2C tenant.</span></span> <span data-ttu-id="23d26-242">Na przykład dokument metadanych dla zasad b2c_1_sign_in w dzierżawie fabrikamb2c.onmicrosoft.com znajduje się na:</span><span class="sxs-lookup"><span data-stu-id="23d26-242">For example, the metadata document for the b2c_1_sign_in policy in the fabrikamb2c.onmicrosoft.com tenant is located at:</span></span>

`https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/v2.0/.well-known/openid-configuration?p=b2c_1_sign_in`

<span data-ttu-id="23d26-243">Jedna z właściwości tego dokumentu konfiguracji jest `jwks_uri`.</span><span class="sxs-lookup"><span data-stu-id="23d26-243">One of the properties of this configuration document is the `jwks_uri`.</span></span> <span data-ttu-id="23d26-244">Wartość dla tych samych zasad, będzie:</span><span class="sxs-lookup"><span data-stu-id="23d26-244">The value for the same policy would be:</span></span>

`https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/discovery/v2.0/keys?p=b2c_1_sign_in`

<span data-ttu-id="23d26-245">Aby określić zasady, które zostało użyte do podpisywania tokenu identyfikator (i miejsca do pobierania metadanych z), są dostępne dwie opcje.</span><span class="sxs-lookup"><span data-stu-id="23d26-245">To determine which policy was used to sign an ID token (and where to fetch the metadata from), you have two options.</span></span> <span data-ttu-id="23d26-246">Po pierwsze, nazwa zasady jest dołączona do `acr` oświadczeń w `id_token`.</span><span class="sxs-lookup"><span data-stu-id="23d26-246">First, the policy name is included in the `acr` claim in `id_token`.</span></span> <span data-ttu-id="23d26-247">Informacje o tym, jak można przeanalizować oświadczeń z tokenem identyfikator, zobacz [odwołania do tokenu usługi Azure AD B2C](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="23d26-247">For information about how to parse the claims from an ID token, see the [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span> <span data-ttu-id="23d26-248">Drugą opcją jest do kodowania zasad wartości `state` parametru w przypadku wysyłania żądania.</span><span class="sxs-lookup"><span data-stu-id="23d26-248">Your other option is to encode the policy in the value of the `state` parameter when you issue the request.</span></span> <span data-ttu-id="23d26-249">Następnie dekodowania `state` parametr, aby określić zasady, które zostało użyte.</span><span class="sxs-lookup"><span data-stu-id="23d26-249">Then, decode the `state` parameter to determine which policy was used.</span></span> <span data-ttu-id="23d26-250">Każda metoda jest prawidłowa.</span><span class="sxs-lookup"><span data-stu-id="23d26-250">Either method is valid.</span></span>

<span data-ttu-id="23d26-251">Po zostały nabyte dokument metadanych z punktem końcowym metadanych OpenID Connect, możesz użyć klucze publiczne RSA-256 (znajdujące się w tym punkcie końcowym) można zweryfikować podpisu tokenu identyfikator.</span><span class="sxs-lookup"><span data-stu-id="23d26-251">After you've acquired the metadata document from the OpenID Connect metadata endpoint, you can use the RSA-256 public keys (located at this endpoint) to validate the signature of the ID token.</span></span> <span data-ttu-id="23d26-252">Może istnieć wiele kluczy wymienione w tym punkcie końcowym w dowolnym momencie, identyfikowanych przez `kid`.</span><span class="sxs-lookup"><span data-stu-id="23d26-252">There might be multiple keys listed at this endpoint at any given time, each identified by a `kid`.</span></span> <span data-ttu-id="23d26-253">Nagłówek `id_token` zawiera także `kid` oświadczeń.</span><span class="sxs-lookup"><span data-stu-id="23d26-253">The header of `id_token` also contains a `kid` claim.</span></span> <span data-ttu-id="23d26-254">Wskazuje on, która z tych kluczy został użyty do podpisania token Identyfikatora.</span><span class="sxs-lookup"><span data-stu-id="23d26-254">It indicates which of these keys was used to sign the ID token.</span></span> <span data-ttu-id="23d26-255">Aby uzyskać więcej informacji, łącznie z zapoznawanie [sprawdzanie poprawności tokenów](active-directory-b2c-reference-tokens.md#token-validation), zobacz [odwołania do tokenu usługi Azure AD B2C](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="23d26-255">For more information, including learning about [validating tokens](active-directory-b2c-reference-tokens.md#token-validation), see the [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span>
<!--TODO: Improve the information on this-->

<span data-ttu-id="23d26-256">Po weryfikacji podpisu tokenu identyfikator oświadczenia kilka Żądaj weryfikacji.</span><span class="sxs-lookup"><span data-stu-id="23d26-256">After you validate the signature of the ID token, several claims require verification.</span></span> <span data-ttu-id="23d26-257">Na przykład:</span><span class="sxs-lookup"><span data-stu-id="23d26-257">For example:</span></span>

* <span data-ttu-id="23d26-258">Sprawdź poprawność `nonce` oświadczeń zapobiec atakom powtórzeń tokenów.</span><span class="sxs-lookup"><span data-stu-id="23d26-258">Validate the `nonce` claim to prevent token replay attacks.</span></span> <span data-ttu-id="23d26-259">Jego wartość musi być określony w żądaniu logowania.</span><span class="sxs-lookup"><span data-stu-id="23d26-259">Its value should be what you specified in the sign-in request.</span></span>
* <span data-ttu-id="23d26-260">Sprawdź poprawność `aud` oświadczeń upewnić się, czy identyfikator token został wystawiony dla aplikacji.</span><span class="sxs-lookup"><span data-stu-id="23d26-260">Validate the `aud` claim to ensure that the ID token was issued for your app.</span></span> <span data-ttu-id="23d26-261">Jego wartość powinna być identyfikator aplikacji.</span><span class="sxs-lookup"><span data-stu-id="23d26-261">Its value should be the application ID of your app.</span></span>
* <span data-ttu-id="23d26-262">Sprawdź poprawność `iat` i `exp` oświadczeń upewnić się, że identyfikator token nie wygasł.</span><span class="sxs-lookup"><span data-stu-id="23d26-262">Validate the `iat` and `exp` claims to ensure that the ID token has not expired.</span></span>

<span data-ttu-id="23d26-263">Kilka więcej operacji sprawdzania poprawności, które należy wykonać opisane szczegółowo w [OpenID Connect podstawowych specyfikacji](http://openid.net/specs/openid-connect-core-1_0.html).</span><span class="sxs-lookup"><span data-stu-id="23d26-263">Several more validations that you should perform are described in detail in the [OpenID Connect Core Spec](http://openid.net/specs/openid-connect-core-1_0.html).</span></span> <span data-ttu-id="23d26-264">Można również sprawdzić dodatkowe roszczenia, w zależności od danego scenariusza.</span><span class="sxs-lookup"><span data-stu-id="23d26-264">You might also want to validate additional claims, depending on your scenario.</span></span> <span data-ttu-id="23d26-265">Niektóre typowe operacje sprawdzania poprawności obejmują:</span><span class="sxs-lookup"><span data-stu-id="23d26-265">Some common validations include:</span></span>

* <span data-ttu-id="23d26-266">Zapewnienie, że użytkownik lub organizacja po zarejestrowaniu aplikacji.</span><span class="sxs-lookup"><span data-stu-id="23d26-266">Ensuring that the user or organization has signed up for the app.</span></span>
* <span data-ttu-id="23d26-267">Zapewnienie, że użytkownik ma odpowiednią autoryzacją i uprawnienia.</span><span class="sxs-lookup"><span data-stu-id="23d26-267">Ensuring that the user has proper authorization and privileges.</span></span>
* <span data-ttu-id="23d26-268">Zapewnienie, że niektóre siły uwierzytelniania wystąpił, takie jak przy użyciu usługi Azure Multi-Factor Authentication.</span><span class="sxs-lookup"><span data-stu-id="23d26-268">Ensuring that a certain strength of authentication has occurred, such as by using Azure Multi-Factor Authentication.</span></span>

<span data-ttu-id="23d26-269">Aby uzyskać więcej informacji na temat oświadczenia w tokenie identyfikator, zobacz [odwołania do tokenu usługi Azure AD B2C](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="23d26-269">For more information about the claims in an ID token, see the [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span>

<span data-ttu-id="23d26-270">Po całkowicie poprawności tokenu identyfikator można rozpocząć sesji z użytkownikiem.</span><span class="sxs-lookup"><span data-stu-id="23d26-270">After you have completely validated the ID token, you can begin a session with the user.</span></span> <span data-ttu-id="23d26-271">W aplikacji należy użyć oświadczeń token identyfikator, aby uzyskać informacje o użytkowniku.</span><span class="sxs-lookup"><span data-stu-id="23d26-271">In your app, use the claims in the ID token to obtain information about the user.</span></span> <span data-ttu-id="23d26-272">Te informacje może służyć do wyświetlania, rekordy, autoryzacji i tak dalej.</span><span class="sxs-lookup"><span data-stu-id="23d26-272">This information can be used for display, records, authorization, and so on.</span></span>

## <a name="get-access-tokens"></a><span data-ttu-id="23d26-273">Pobieranie tokenów dostępu</span><span class="sxs-lookup"><span data-stu-id="23d26-273">Get access tokens</span></span>
<span data-ttu-id="23d26-274">Jeśli zasady wykonywania jedynym elementem aplikacji sieci web musi wykonać, można pominąć kilka kolejnych sekcjach.</span><span class="sxs-lookup"><span data-stu-id="23d26-274">If the only thing your web apps needs to do is execute policies, you can skip the next few sections.</span></span> <span data-ttu-id="23d26-275">Informacje w poniższych sekcjach mają zastosowanie tylko do aplikacji sieci web, które należy uwierzytelnieni wywołań interfejsu API sieci web, a które są chronione przez usługę Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="23d26-275">The information in the following sections are applicable only to web apps that need to make authenticated calls to a web API, and which are protected by Azure AD B2C.</span></span>

<span data-ttu-id="23d26-276">Teraz, gdy użytkownik został zalogowany, aplikacji jednej strony, możesz też uzyskać tokenów dostępu do sieci web wywoływania interfejsów API, które są zabezpieczone przez usługę Azure AD.</span><span class="sxs-lookup"><span data-stu-id="23d26-276">Now that you've signed the user in to your single-page app, you can get access tokens for calling web APIs that are secured by Azure AD.</span></span> <span data-ttu-id="23d26-277">Nawet jeśli już uzyskały tokenu przy użyciu `token` typ odpowiedzi, można używać tej metody można uzyskać tokeny, aby uzyskać dodatkowe zasoby bez przekierowanie użytkownika do logowania się ponownie.</span><span class="sxs-lookup"><span data-stu-id="23d26-277">Even if you have already received a token by using the `token` response type, you can use this method to acquire tokens for additional resources without redirecting the user to sign in again.</span></span>

<span data-ttu-id="23d26-278">W typowej sieci web przepływu aplikacji, można to zrobić przez żądanie `/token` punktu końcowego.</span><span class="sxs-lookup"><span data-stu-id="23d26-278">In a typical web app flow, you would do this by making a request to the `/token` endpoint.</span></span>  <span data-ttu-id="23d26-279">Punkt końcowy nie obsługuje jednak żądań CORPS, więc wywołań AJAX do pobrania i tokenów odświeżania nie jest opcją.</span><span class="sxs-lookup"><span data-stu-id="23d26-279">However, the endpoint does not support CORS requests, so making AJAX calls to get and refresh tokens is not an option.</span></span> <span data-ttu-id="23d26-280">Zamiast tego można przepływu niejawnego w ukrytym elemencie iframe HTML pobrać nowe tokeny dla innych interfejsów API sieci web.</span><span class="sxs-lookup"><span data-stu-id="23d26-280">Instead, you can use the implicit flow in a hidden HTML iframe element to get new tokens for other web APIs.</span></span> <span data-ttu-id="23d26-281">Oto przykład podziałami wierszy dla czytelności:</span><span class="sxs-lookup"><span data-stu-id="23d26-281">Here's an example, with line breaks for legibility:</span></span>

```

https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&scope=https%3A%2F%2Fapi.contoso.com%2Ftasks.read
&response_mode=fragment
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&prompt=none
&domain_hint=organizations
&login_hint=myuser@mycompany.com
&p=b2c_1_sign_in
```

| <span data-ttu-id="23d26-282">Parametr</span><span class="sxs-lookup"><span data-stu-id="23d26-282">Parameter</span></span> | <span data-ttu-id="23d26-283">Wymagane?</span><span class="sxs-lookup"><span data-stu-id="23d26-283">Required?</span></span> | <span data-ttu-id="23d26-284">Opis</span><span class="sxs-lookup"><span data-stu-id="23d26-284">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="23d26-285">client_id</span><span class="sxs-lookup"><span data-stu-id="23d26-285">client_id</span></span> |<span data-ttu-id="23d26-286">Wymagane</span><span class="sxs-lookup"><span data-stu-id="23d26-286">Required</span></span> |<span data-ttu-id="23d26-287">Identyfikator aplikacji przypisany do aplikacji w [portalu Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="23d26-287">The application ID assigned to your app in the [Azure portal](https://portal.azure.com).</span></span> |
| <span data-ttu-id="23d26-288">response_type</span><span class="sxs-lookup"><span data-stu-id="23d26-288">response_type</span></span> |<span data-ttu-id="23d26-289">Wymagane</span><span class="sxs-lookup"><span data-stu-id="23d26-289">Required</span></span> |<span data-ttu-id="23d26-290">Musi zawierać `id_token` OpenID Connect logowaniu.</span><span class="sxs-lookup"><span data-stu-id="23d26-290">Must include `id_token` for OpenID Connect sign-in.</span></span>  <span data-ttu-id="23d26-291">Może również zawierać typ odpowiedzi `token`.</span><span class="sxs-lookup"><span data-stu-id="23d26-291">It might also include the response type `token`.</span></span> <span data-ttu-id="23d26-292">Jeśli używasz `token` , aplikacja może bezpośrednio odbierać token dostępu z punktu końcowego autoryzacji bez wprowadzania drugie żądanie do punktu końcowego autoryzacji.</span><span class="sxs-lookup"><span data-stu-id="23d26-292">If you use `token` here, your app can immediately receive an access token from the authorize endpoint, without making a second request to the authorize endpoint.</span></span> <span data-ttu-id="23d26-293">Jeśli używasz `token` typ odpowiedzi `scope` parametr musi zawierać zakres, który wskazuje, którego zasobu należy wystawić token dla.</span><span class="sxs-lookup"><span data-stu-id="23d26-293">If you use the `token` response type, the `scope` parameter must contain a scope that indicates which resource to issue the token for.</span></span> |
| <span data-ttu-id="23d26-294">redirect_uri</span><span class="sxs-lookup"><span data-stu-id="23d26-294">redirect_uri</span></span> |<span data-ttu-id="23d26-295">Zalecane</span><span class="sxs-lookup"><span data-stu-id="23d26-295">Recommended</span></span> |<span data-ttu-id="23d26-296">Identyfikator URI przekierowania w aplikacji, w którym można wysłanych i odebranych przez aplikację odpowiedzi uwierzytelniania.</span><span class="sxs-lookup"><span data-stu-id="23d26-296">The redirect URI of your app, where authentication responses can be sent and received by your app.</span></span> <span data-ttu-id="23d26-297">Go musi dokładnie odpowiadać jeden przekierowania URI zarejestrowany w portalu, z wyjątkiem tego, że musi być zakodowane w adresie URL.</span><span class="sxs-lookup"><span data-stu-id="23d26-297">It must exactly match one of the redirect URIs you registered in the portal, except that it must be URL-encoded.</span></span> |
| <span data-ttu-id="23d26-298">Zakres</span><span class="sxs-lookup"><span data-stu-id="23d26-298">scope</span></span> |<span data-ttu-id="23d26-299">Wymagane</span><span class="sxs-lookup"><span data-stu-id="23d26-299">Required</span></span> |<span data-ttu-id="23d26-300">Rozdzieloną spacjami listę zakresów.</span><span class="sxs-lookup"><span data-stu-id="23d26-300">A space-separated list of scopes.</span></span>  <span data-ttu-id="23d26-301">W przypadku uzyskiwania tokenów, zawiera wszystkie zakresy, które wymagają danego zasobu.</span><span class="sxs-lookup"><span data-stu-id="23d26-301">For getting tokens, include all scopes that you require for the intended resource.</span></span> |
| <span data-ttu-id="23d26-302">response_mode</span><span class="sxs-lookup"><span data-stu-id="23d26-302">response_mode</span></span> |<span data-ttu-id="23d26-303">Zalecane</span><span class="sxs-lookup"><span data-stu-id="23d26-303">Recommended</span></span> |<span data-ttu-id="23d26-304">Określa metodę, która służy do wysyłania wynikowy token wstecz do aplikacji.</span><span class="sxs-lookup"><span data-stu-id="23d26-304">Specifies the method that is used to send the resulting token back to your app.</span></span>  <span data-ttu-id="23d26-305">Może być `query`, `form_post`, lub `fragment`.</span><span class="sxs-lookup"><span data-stu-id="23d26-305">Can be `query`, `form_post`, or `fragment`.</span></span> |
| <span data-ttu-id="23d26-306">state</span><span class="sxs-lookup"><span data-stu-id="23d26-306">state</span></span> |<span data-ttu-id="23d26-307">Zalecane</span><span class="sxs-lookup"><span data-stu-id="23d26-307">Recommended</span></span> |<span data-ttu-id="23d26-308">Wartość zawarte w żądaniu, który jest zwracany w odpowiedzi tokenu.</span><span class="sxs-lookup"><span data-stu-id="23d26-308">A value included in the request that is returned in the token response.</span></span>  <span data-ttu-id="23d26-309">Można go ciągiem zawartość, która ma być używany.</span><span class="sxs-lookup"><span data-stu-id="23d26-309">It can be a string of any content that you want to use.</span></span>  <span data-ttu-id="23d26-310">Zazwyczaj wartość losowo generowany, unikatowy jest używana, aby zapobiec fałszerstwie żądania międzywitrynowego.</span><span class="sxs-lookup"><span data-stu-id="23d26-310">Usually, a randomly generated, unique value is used, to prevent cross-site request forgery attacks.</span></span>  <span data-ttu-id="23d26-311">Stan jest również używany do kodowania informacje o stanie użytkownika w aplikacji przed wystąpieniem żądania uwierzytelnienia.</span><span class="sxs-lookup"><span data-stu-id="23d26-311">The state also is used to encode information about the user's state in the app before the authentication request occurred.</span></span> <span data-ttu-id="23d26-312">Na przykład strony lub widoku użytkownik był na.</span><span class="sxs-lookup"><span data-stu-id="23d26-312">For example, the page or view the user was on.</span></span> |
| <span data-ttu-id="23d26-313">Identyfikator jednorazowy</span><span class="sxs-lookup"><span data-stu-id="23d26-313">nonce</span></span> |<span data-ttu-id="23d26-314">Wymagane</span><span class="sxs-lookup"><span data-stu-id="23d26-314">Required</span></span> |<span data-ttu-id="23d26-315">Wartość zawarte w żądaniu wygenerowany przez aplikację, który znajduje się w jego identyfikator tokenu jako oświadczenia.</span><span class="sxs-lookup"><span data-stu-id="23d26-315">A value included in the request, generated by the app, that is included in the resulting ID token as a claim.</span></span>  <span data-ttu-id="23d26-316">Aplikacja może zweryfikować tę wartość, aby ograniczyć ataków powtórzeń tokenów.</span><span class="sxs-lookup"><span data-stu-id="23d26-316">The app can then verify this value to mitigate token replay attacks.</span></span> <span data-ttu-id="23d26-317">Wartość jest zazwyczaj losowego, unikatowy ciąg identyfikujący pochodzenia żądania.</span><span class="sxs-lookup"><span data-stu-id="23d26-317">Usually, the value is a randomized, unique string that identifies the origin of the request.</span></span> |
| <span data-ttu-id="23d26-318">wiersz</span><span class="sxs-lookup"><span data-stu-id="23d26-318">prompt</span></span> |<span data-ttu-id="23d26-319">Wymagane</span><span class="sxs-lookup"><span data-stu-id="23d26-319">Required</span></span> |<span data-ttu-id="23d26-320">Aby odświeżyć i uzyskać tokenów w ukrytym iframe, użyj `prompt=none` do zapewnienia, że element iframe nie zostać zablokowane na stronie logowania i natychmiast zwraca.</span><span class="sxs-lookup"><span data-stu-id="23d26-320">To refresh and get tokens in a hidden iframe, use `prompt=none` to ensure that the iframe does not get stuck on the sign-in page, and returns immediately.</span></span> |
| <span data-ttu-id="23d26-321">login_hint</span><span class="sxs-lookup"><span data-stu-id="23d26-321">login_hint</span></span> |<span data-ttu-id="23d26-322">Wymagane</span><span class="sxs-lookup"><span data-stu-id="23d26-322">Required</span></span> |<span data-ttu-id="23d26-323">Aby odświeżyć i uzyskać tokenów w ukrytym iframe, dołączyć tę wskazówkę odróżnienie wiele sesji użytkownika nazwa użytkownika może być w danym momencie.</span><span class="sxs-lookup"><span data-stu-id="23d26-323">To refresh and get tokens in a hidden iframe, include the username of the user in this hint to distinguish between multiple sessions the user might have at a given  time.</span></span> <span data-ttu-id="23d26-324">Można wyodrębnić nazwy użytkownika z wcześniejszych logowanie przy użyciu `preferred_username` oświadczeń.</span><span class="sxs-lookup"><span data-stu-id="23d26-324">You can extract the username from an earlier sign-in by using the `preferred_username` claim.</span></span> |
| <span data-ttu-id="23d26-325">domain_hint</span><span class="sxs-lookup"><span data-stu-id="23d26-325">domain_hint</span></span> |<span data-ttu-id="23d26-326">Wymagane</span><span class="sxs-lookup"><span data-stu-id="23d26-326">Required</span></span> |<span data-ttu-id="23d26-327">Może być `consumers` lub `organizations`.</span><span class="sxs-lookup"><span data-stu-id="23d26-327">Can be `consumers` or `organizations`.</span></span>  <span data-ttu-id="23d26-328">Odświeżanie i uzyskiwania tokenów w ukrytym iframe, należy uwzględnić `domain_hint` wartość w żądaniu.</span><span class="sxs-lookup"><span data-stu-id="23d26-328">For refreshing and getting tokens in a hidden iframe, you must include the `domain_hint` value in the request.</span></span>  <span data-ttu-id="23d26-329">Wyodrębnij `tid` oświadczeń z tokenu identyfikator wcześniejszych logowania można określić wartość, która do użycia.</span><span class="sxs-lookup"><span data-stu-id="23d26-329">Extract the `tid` claim from the ID token of an earlier sign-in to determine which value to use.</span></span>  <span data-ttu-id="23d26-330">Jeśli `tid` oświadczeń, wartość jest `9188040d-6c67-4c5b-b112-36a304b66dad`, użyj `domain_hint=consumers`.</span><span class="sxs-lookup"><span data-stu-id="23d26-330">If the `tid` claim value is `9188040d-6c67-4c5b-b112-36a304b66dad`,  use `domain_hint=consumers`.</span></span>  <span data-ttu-id="23d26-331">W przeciwnym razie użyj `domain_hint=organizations`.</span><span class="sxs-lookup"><span data-stu-id="23d26-331">Otherwise, use `domain_hint=organizations`.</span></span> |

<span data-ttu-id="23d26-332">Przez ustawienie `prompt=none` , to żądanie albo powiedzie się albo natychmiast kończy się niepowodzeniem i zwraca do aplikacji.</span><span class="sxs-lookup"><span data-stu-id="23d26-332">By setting the `prompt=none` parameter, this request either succeeds or fails immediately, and returns to your application.</span></span>  <span data-ttu-id="23d26-333">Odpowiedź oznaczająca Powodzenie są wysyłane do aplikacji na wskazanych przekierowania URI, za pomocą metody określonej w `response_mode` parametru.</span><span class="sxs-lookup"><span data-stu-id="23d26-333">A successful response is sent to your app at the indicated redirect URI, by using the method specified in the `response_mode` parameter.</span></span>

### <a name="successful-response"></a><span data-ttu-id="23d26-334">Odpowiedź oznaczająca Powodzenie</span><span class="sxs-lookup"><span data-stu-id="23d26-334">Successful response</span></span>
<span data-ttu-id="23d26-335">Odpowiedź oznaczająca Powodzenie przy użyciu `response_mode=fragment` wygląda podobnie do następującej:</span><span class="sxs-lookup"><span data-stu-id="23d26-335">A successful response by using `response_mode=fragment` looks like this:</span></span>

```
GET https://aadb2cplayground.azurewebsites.net/#
access_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...
&state=arbitrary_data_you_sent_earlier
&token_type=Bearer
&expires_in=3599
&scope=https%3A%2F%2Fapi.contoso.com%2Ftasks.read
```

| <span data-ttu-id="23d26-336">Parametr</span><span class="sxs-lookup"><span data-stu-id="23d26-336">Parameter</span></span> | <span data-ttu-id="23d26-337">Opis</span><span class="sxs-lookup"><span data-stu-id="23d26-337">Description</span></span> |
| --- | --- |
| <span data-ttu-id="23d26-338">' access_token '</span><span class="sxs-lookup"><span data-stu-id="23d26-338">access_token</span></span> |<span data-ttu-id="23d26-339">Token, który żądanej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="23d26-339">The token that the app requested.</span></span> |
| <span data-ttu-id="23d26-340">token_type</span><span class="sxs-lookup"><span data-stu-id="23d26-340">token_type</span></span> |<span data-ttu-id="23d26-341">Typ tokenu jest zawsze elementu nośnego.</span><span class="sxs-lookup"><span data-stu-id="23d26-341">The token type will always be Bearer.</span></span> |
| <span data-ttu-id="23d26-342">state</span><span class="sxs-lookup"><span data-stu-id="23d26-342">state</span></span> |<span data-ttu-id="23d26-343">Jeśli `state` parametru jest zawarte w żądaniu, tę samą wartość powinna być widoczna w odpowiedzi.</span><span class="sxs-lookup"><span data-stu-id="23d26-343">If a `state` parameter is included in the request, the same value should appear in the response.</span></span> <span data-ttu-id="23d26-344">Aplikację należy sprawdzić, czy `state` wartości żądań i odpowiedzi są identyczne.</span><span class="sxs-lookup"><span data-stu-id="23d26-344">The app should verify that the `state` values in the request and response are identical.</span></span> |
| <span data-ttu-id="23d26-345">expires_in</span><span class="sxs-lookup"><span data-stu-id="23d26-345">expires_in</span></span> |<span data-ttu-id="23d26-346">Jak długo token dostępu jest nieprawidłowy (w sekundach).</span><span class="sxs-lookup"><span data-stu-id="23d26-346">How long the access token is valid (in seconds).</span></span> |
| <span data-ttu-id="23d26-347">Zakres</span><span class="sxs-lookup"><span data-stu-id="23d26-347">scope</span></span> |<span data-ttu-id="23d26-348">Token dostępu jest nieprawidłowy dla zakresów.</span><span class="sxs-lookup"><span data-stu-id="23d26-348">The scopes that the access token is valid for.</span></span> |

### <a name="error-response"></a><span data-ttu-id="23d26-349">Odpowiedzi na błąd</span><span class="sxs-lookup"><span data-stu-id="23d26-349">Error response</span></span>
<span data-ttu-id="23d26-350">Odpowiedzi na błędy również mogą być wysyłane do identyfikatora URI przekierowania, dzięki czemu aplikacja może je odpowiednią obsługę.</span><span class="sxs-lookup"><span data-stu-id="23d26-350">Error responses also can be sent to the redirect URI so that the app can handle them appropriately.</span></span>  <span data-ttu-id="23d26-351">Aby uzyskać `prompt=none`, oczekiwany błąd wygląda następująco:</span><span class="sxs-lookup"><span data-stu-id="23d26-351">For `prompt=none`, an expected error looks like this:</span></span>

```
GET https://aadb2cplayground.azurewebsites.net/#
error=user_authentication_required
&error_description=the+request+could+not+be+completed+silently
```

| <span data-ttu-id="23d26-352">Parametr</span><span class="sxs-lookup"><span data-stu-id="23d26-352">Parameter</span></span> | <span data-ttu-id="23d26-353">Opis</span><span class="sxs-lookup"><span data-stu-id="23d26-353">Description</span></span> |
| --- | --- |
| <span data-ttu-id="23d26-354">error</span><span class="sxs-lookup"><span data-stu-id="23d26-354">error</span></span> |<span data-ttu-id="23d26-355">Ciąg kodu błędu, który może służyć do klasyfikowania typy błędów występujących.</span><span class="sxs-lookup"><span data-stu-id="23d26-355">An error code string that can be used to classify types of errors that occur.</span></span> <span data-ttu-id="23d26-356">Możesz również umożliwia ciąg reagowania na błędy.</span><span class="sxs-lookup"><span data-stu-id="23d26-356">You also can use the string to react to errors.</span></span> |
| <span data-ttu-id="23d26-357">error_description</span><span class="sxs-lookup"><span data-stu-id="23d26-357">error_description</span></span> |<span data-ttu-id="23d26-358">Komunikat o błędzie, które mogą pomóc Określ przyczynę błędu uwierzytelniania.</span><span class="sxs-lookup"><span data-stu-id="23d26-358">A specific error message that can help you identify the root cause of an authentication error.</span></span> |

<span data-ttu-id="23d26-359">Jeśli ten błąd jest wyświetlany w żądaniu iframe, użytkownik interakcyjnie zalogować się ponownie do pobrania nowego tokenu.</span><span class="sxs-lookup"><span data-stu-id="23d26-359">If you receive this error in the iframe request, the user must interactively sign in again to retrieve a new token.</span></span> <span data-ttu-id="23d26-360">Problem można rozwiązać w taki sposób, który ma sens dla aplikacji.</span><span class="sxs-lookup"><span data-stu-id="23d26-360">You can handle this in a way that makes sense for your application.</span></span>

## <a name="refresh-tokens"></a><span data-ttu-id="23d26-361">Tokenów odświeżania</span><span class="sxs-lookup"><span data-stu-id="23d26-361">Refresh tokens</span></span>
<span data-ttu-id="23d26-362">Tokeny Identyfikatora i tokenów dostępu wygasają po krótkim czasie.</span><span class="sxs-lookup"><span data-stu-id="23d26-362">ID tokens and access tokens both expire after a short period of time.</span></span> <span data-ttu-id="23d26-363">Aby odświeżyć te tokeny okresowo muszą być przygotowane aplikacji.</span><span class="sxs-lookup"><span data-stu-id="23d26-363">Your app must be prepared to refresh these tokens periodically.</span></span>  <span data-ttu-id="23d26-364">Aby odświeżyć albo typ tokenu, wykonania tego samego żądania ukryte iframe użyliśmy w poprzedniego przykładu, za pomocą `prompt=none` parametru do kontrolowania kroków usługi Azure AD.</span><span class="sxs-lookup"><span data-stu-id="23d26-364">To refresh either type of token, perform the same hidden iframe request we used in an earlier example, by using the `prompt=none` parameter to control Azure AD steps.</span></span>  <span data-ttu-id="23d26-365">Aby otrzymać nowe `id_token` wartość, należy użyć `response_type=id_token` i `scope=openid`, a `nonce` parametru.</span><span class="sxs-lookup"><span data-stu-id="23d26-365">To receive a new `id_token` value, be sure to use `response_type=id_token` and `scope=openid`, and a `nonce` parameter.</span></span>

## <a name="send-a-sign-out-request"></a><span data-ttu-id="23d26-366">Wyślij żądanie wylogowania</span><span class="sxs-lookup"><span data-stu-id="23d26-366">Send a sign-out request</span></span>
<span data-ttu-id="23d26-367">Jeśli chcesz zalogować użytkownika poza aplikacją przekierowuje użytkownika do usługi Azure AD, aby się wylogować.</span><span class="sxs-lookup"><span data-stu-id="23d26-367">When you want to sign the user out of the app, redirect the user to Azure AD to sign out.</span></span> <span data-ttu-id="23d26-368">Jeśli tego nie zrobisz, użytkownik może mieć możliwość ponownego uwierzytelnienia do aplikacji bez konieczności ponownego wprowadzania poświadczeń.</span><span class="sxs-lookup"><span data-stu-id="23d26-368">If you don't do this, the user might be able to reauthenticate to your app without entering their credentials again.</span></span> <span data-ttu-id="23d26-369">Jest tak, ponieważ mają one nieprawidłowy jednej logowania jednokrotnego sesji z usługą Azure AD.</span><span class="sxs-lookup"><span data-stu-id="23d26-369">This is because they will have a valid single sign-on session with Azure AD.</span></span>

<span data-ttu-id="23d26-370">Po prostu można przekierować użytkownika do `end_session_endpoint` wymieniony w tej samej OpenID Connect dokument metadanych opisanego w [Zweryfikuj token Identyfikatora](#validate-the-id-token).</span><span class="sxs-lookup"><span data-stu-id="23d26-370">You can simply redirect the user to the `end_session_endpoint` that is listed in the same OpenID Connect metadata document described in [Validate the ID token](#validate-the-id-token).</span></span> <span data-ttu-id="23d26-371">Na przykład:</span><span class="sxs-lookup"><span data-stu-id="23d26-371">For example:</span></span>

```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/logout?
p=b2c_1_sign_in
&post_logout_redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
```

| <span data-ttu-id="23d26-372">Parametr</span><span class="sxs-lookup"><span data-stu-id="23d26-372">Parameter</span></span> | <span data-ttu-id="23d26-373">Wymagane?</span><span class="sxs-lookup"><span data-stu-id="23d26-373">Required?</span></span> | <span data-ttu-id="23d26-374">Opis</span><span class="sxs-lookup"><span data-stu-id="23d26-374">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="23d26-375">P</span><span class="sxs-lookup"><span data-stu-id="23d26-375">p</span></span> |<span data-ttu-id="23d26-376">Wymagane</span><span class="sxs-lookup"><span data-stu-id="23d26-376">Required</span></span> |<span data-ttu-id="23d26-377">Zasady, które mają być używane do podpisywania użytkownika z aplikacji.</span><span class="sxs-lookup"><span data-stu-id="23d26-377">The policy to use to sign the user out of your application.</span></span> |
| <span data-ttu-id="23d26-378">post_logout_redirect_uri</span><span class="sxs-lookup"><span data-stu-id="23d26-378">post_logout_redirect_uri</span></span> |<span data-ttu-id="23d26-379">Zalecane</span><span class="sxs-lookup"><span data-stu-id="23d26-379">Recommended</span></span> |<span data-ttu-id="23d26-380">Adres URL, który użytkownik powinien być przekierowywany użytkownik po pomyślnym wylogowania.</span><span class="sxs-lookup"><span data-stu-id="23d26-380">The URL that the user should be redirected to after successful sign-out.</span></span> <span data-ttu-id="23d26-381">Jeśli nie zostanie włączony, usługi Azure AD B2C jest wyświetlany komunikat ogólny.</span><span class="sxs-lookup"><span data-stu-id="23d26-381">If it is not included, Azure AD B2C displays a generic message to the user.</span></span> |

> [!NOTE]
> <span data-ttu-id="23d26-382">Kierowanie użytkownikowi `end_session_endpoint` czyści niektóre użytkownika pojedynczego logowania jednokrotnego stanu z usługi Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="23d26-382">Directing the user to the `end_session_endpoint` clears some of the user's single sign-on state with Azure AD B2C.</span></span> <span data-ttu-id="23d26-383">Jednak nie go podpisać użytkownika z sesji dostawcy społecznościowych tożsamości użytkownika.</span><span class="sxs-lookup"><span data-stu-id="23d26-383">However, it doesn't sign the user out of the user's social identity provider session.</span></span> <span data-ttu-id="23d26-384">Jeśli użytkownik wybierze dostawcy takie same identyfikację podczas kolejnych logowanie, użytkownik jest ponownie uwierzytelnić bez wprowadzania poświadczeń.</span><span class="sxs-lookup"><span data-stu-id="23d26-384">If the user selects the same identify provider during a subsequent sign-in, the user is reauthenticated, without entering their credentials.</span></span> <span data-ttu-id="23d26-385">Jeśli użytkownik chce, aby wylogować się z aplikacji Azure AD B2C, go nie musi oznaczać, że mają być całkowicie wylogować się z konta usługi Facebook, na przykład.</span><span class="sxs-lookup"><span data-stu-id="23d26-385">If a user wants to sign out of your Azure AD B2C application, it does not necessarily mean they want to completely sign out of their Facebook account, for example.</span></span> <span data-ttu-id="23d26-386">Jednak dla kont lokalnych sesji użytkownika zostanie zakończona poprawnie.</span><span class="sxs-lookup"><span data-stu-id="23d26-386">However, for local accounts, the user's session will be ended properly.</span></span>
> 
> 

## <a name="use-your-own-azure-ad-b2c-tenant"></a><span data-ttu-id="23d26-387">Użyj dzierżawy usługi Azure AD B2C</span><span class="sxs-lookup"><span data-stu-id="23d26-387">Use your own Azure AD B2C tenant</span></span>
<span data-ttu-id="23d26-388">Aby samodzielnie wypróbować te żądania, wykonaj następujące trzy kroki.</span><span class="sxs-lookup"><span data-stu-id="23d26-388">To try these requests yourself, complete the following three steps.</span></span> <span data-ttu-id="23d26-389">Zastąp przykładowe wartości używanej w tym artykule i własne wartości:</span><span class="sxs-lookup"><span data-stu-id="23d26-389">Replace the example values we use in this article with your own values:</span></span>

1. <span data-ttu-id="23d26-390">[Tworzenie dzierżawy usługi Azure AD B2C](active-directory-b2c-get-started.md).</span><span class="sxs-lookup"><span data-stu-id="23d26-390">[Create an Azure AD B2C tenant](active-directory-b2c-get-started.md).</span></span> <span data-ttu-id="23d26-391">Użyj nazwy dzierżawy w żądaniach.</span><span class="sxs-lookup"><span data-stu-id="23d26-391">Use the name of your tenant in the requests.</span></span>
2. <span data-ttu-id="23d26-392">[Tworzenie aplikacji](active-directory-b2c-app-registration.md) uzyskać identyfikator aplikacji i `redirect_uri` wartość.</span><span class="sxs-lookup"><span data-stu-id="23d26-392">[Create an application](active-directory-b2c-app-registration.md) to obtain an application ID and a `redirect_uri` value.</span></span> <span data-ttu-id="23d26-393">Uwzględnij aplikację sieci web lub interfejsu API sieci web w aplikacji.</span><span class="sxs-lookup"><span data-stu-id="23d26-393">Include a web app or web API in your app.</span></span> <span data-ttu-id="23d26-394">Opcjonalnie możesz utworzyć klucz tajny aplikacji.</span><span class="sxs-lookup"><span data-stu-id="23d26-394">Optionally, you can create an application secret.</span></span>
3. <span data-ttu-id="23d26-395">[Tworzenie zasad](active-directory-b2c-reference-policies.md) można uzyskać nazwy zasad.</span><span class="sxs-lookup"><span data-stu-id="23d26-395">[Create your policies](active-directory-b2c-reference-policies.md) to obtain your policy names.</span></span>

## <a name="samples"></a><span data-ttu-id="23d26-396">Przykłady</span><span class="sxs-lookup"><span data-stu-id="23d26-396">Samples</span></span>

* [<span data-ttu-id="23d26-397">Tworzenie aplikacji jednej strony przy użyciu środowiska Node.js</span><span class="sxs-lookup"><span data-stu-id="23d26-397">Create a single-page app by using Node.js</span></span>](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-nodejs-webapi)
* [<span data-ttu-id="23d26-398">Tworzenie aplikacji jednej strony przy użyciu programu .NET</span><span class="sxs-lookup"><span data-stu-id="23d26-398">Create a single-page app by using .NET</span></span>](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-dotnet-webapi)

