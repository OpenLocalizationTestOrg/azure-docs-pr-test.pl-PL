---
title: "Uwierzytelnianie usługi Service Bus aaaAzure za pomocą sygnatury dostępu współdzielonego | Dokumentacja firmy Microsoft"
description: "Omówienie uwierzytelniania magistrali usług przy użyciu sygnatury dostępu współdzielonego Przegląd, szczegółowe informacje dotyczące uwierzytelniania sygnatury dostępu Współdzielonego za pomocą usługi Azure Service Bus."
services: service-bus-messaging
documentationcenter: na
author: sethmanheim
manager: timlt
editor: 
ms.assetid: 
ms.service: service-bus-messaging
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 08/23/2017
ms.author: sethm
ms.openlocfilehash: 773bb11720384d7245820b56dc25b8e064ffa746
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="service-bus-authentication-with-shared-access-signatures"></a><span data-ttu-id="25815-103">Uwierzytelnianie usługi Service Bus za pomocą sygnatury dostępu współdzielonego</span><span class="sxs-lookup"><span data-stu-id="25815-103">Service Bus authentication with Shared Access Signatures</span></span>

<span data-ttu-id="25815-104">*Sygnatury dostępu współdzielonego* (SAS) są hello zabezpieczeń podstawowego mechanizmu komunikatów usługi Service Bus.</span><span class="sxs-lookup"><span data-stu-id="25815-104">*Shared Access Signatures* (SAS) are hello primary security mechanism for Service Bus messaging.</span></span> <span data-ttu-id="25815-105">W tym artykule omówiono SAS, jak działają i jak toouse ich w sposób niezależny od platformy.</span><span class="sxs-lookup"><span data-stu-id="25815-105">This article discusses SAS, how they work, and how toouse them in a platform-agnostic way.</span></span>

<span data-ttu-id="25815-106">Uwierzytelniania sygnatury dostępu Współdzielonego umożliwia aplikacji tooauthenticate tooService magistrali przy użyciu klawisza dostępu skonfigurowane na powitania przestrzeni nazw lub na powitania wiadomości jednostki (kolejka lub temat) określone prawa, które są skojarzone.</span><span class="sxs-lookup"><span data-stu-id="25815-106">SAS authentication enables applications tooauthenticate tooService Bus using an access key configured on hello namespace, or on hello messaging entity (queue or topic) with which specific rights are associated.</span></span> <span data-ttu-id="25815-107">Następnie można użyć tego klucza toogenerate tokenu sygnatury dostępu Współdzielonego, którego klienci mogą z kolei używać tooService tooauthenticate magistrali.</span><span class="sxs-lookup"><span data-stu-id="25815-107">You can then use this key toogenerate a SAS token that clients can in turn use tooauthenticate tooService Bus.</span></span>

<span data-ttu-id="25815-108">Obsługa uwierzytelniania sygnatury dostępu Współdzielonego jest dostępna w hello Azure SDK w wersji 2.0 lub nowszej.</span><span class="sxs-lookup"><span data-stu-id="25815-108">SAS authentication support is included in hello Azure SDK version 2.0 and later.</span></span>

## <a name="overview-of-sas"></a><span data-ttu-id="25815-109">Omówienie SAS</span><span class="sxs-lookup"><span data-stu-id="25815-109">Overview of SAS</span></span>

<span data-ttu-id="25815-110">Udostępniony sygnatur dostępu są mechanizmu uwierzytelniania na podstawie bezpiecznego wartości skrótu SHA-256 lub identyfikatorów URI.</span><span class="sxs-lookup"><span data-stu-id="25815-110">Shared Access Signatures are an authentication mechanism based on SHA-256 secure hashes or URIs.</span></span> <span data-ttu-id="25815-111">Jest bardzo zaawansowanym mechanizmem, który jest używany przez wszystkie usługi Service Bus.</span><span class="sxs-lookup"><span data-stu-id="25815-111">SAS is an extremely powerful mechanism that is used by all Service Bus services.</span></span> <span data-ttu-id="25815-112">W rzeczywistości SAS ma dwa składniki: *udostępnionych zasad dostępu* i *udostępnionego sygnatury dostępu* (często nazywane *tokenu*).</span><span class="sxs-lookup"><span data-stu-id="25815-112">In actual use, SAS has two components: a *shared access policy* and a *Shared Access Signature* (often called a *token*).</span></span>

<span data-ttu-id="25815-113">Skojarzenia zabezpieczeń uwierzytelniania w usłudze Service Bus wymaga konfiguracji hello klucza kryptograficznego ze skojarzonymi prawami do zasobu usługi Service Bus.</span><span class="sxs-lookup"><span data-stu-id="25815-113">SAS authentication in Service Bus involves hello configuration of a cryptographic key with associated rights on a Service Bus resource.</span></span> <span data-ttu-id="25815-114">Klienci oświadczeń dostępu tooService magistrali zasoby z uwzględnieniem tokenu sygnatury dostępu Współdzielonego.</span><span class="sxs-lookup"><span data-stu-id="25815-114">Clients claim access tooService Bus resources by presenting a SAS token.</span></span> <span data-ttu-id="25815-115">Token ten składa się z zasobów hello identyfikatora URI, do której uzyskuje dostęp i wygaśnięcia podpisany hello skonfigurowany klucz.</span><span class="sxs-lookup"><span data-stu-id="25815-115">This token consists of hello resource URI being accessed, and an expiry signed with hello configured key.</span></span>

<span data-ttu-id="25815-116">Można konfigurować reguły autoryzacji sygnatura dostępu współdzielonego usługi Service Bus [przekazuje](service-bus-fundamentals-hybrid-solutions.md#relays), [kolejek](service-bus-fundamentals-hybrid-solutions.md#queues), i [tematy](service-bus-fundamentals-hybrid-solutions.md#topics).</span><span class="sxs-lookup"><span data-stu-id="25815-116">You can configure Shared Access Signature authorization rules on Service Bus [relays](service-bus-fundamentals-hybrid-solutions.md#relays), [queues](service-bus-fundamentals-hybrid-solutions.md#queues), and [topics](service-bus-fundamentals-hybrid-solutions.md#topics).</span></span>

<span data-ttu-id="25815-117">Uwierzytelniania sygnatury dostępu Współdzielonego przy użyciu hello następujące elementy:</span><span class="sxs-lookup"><span data-stu-id="25815-117">SAS authentication uses hello following elements:</span></span>

* <span data-ttu-id="25815-118">[Reguły autoryzacji dostępu do udostępnionych](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule): A 256-bitowego szyfrowania klucza podstawowego w reprezentacji Base64, opcjonalny klucz pomocniczy i nazwę klucza i skojarzonymi prawami (kolekcja *nasłuchiwania*, *wysyłania*, lub *Zarządzaj* praw).</span><span class="sxs-lookup"><span data-stu-id="25815-118">[Shared Access authorization rule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule): A 256-bit primary cryptographic key in Base64 representation, an optional secondary key, and a key name and associated rights (a collection of *Listen*, *Send*, or *Manage* rights).</span></span>
* <span data-ttu-id="25815-119">[Udostępnione sygnatury dostępu](/dotnet/api/microsoft.servicebus.sharedaccesssignaturetokenprovider) tokenu: wygenerowanych przy użyciu hello HMAC SHA256 ciągu zasobu, składające się z hello identyfikatora URI zasobu hello, który jest dostępny i wygaśnięcia za hello klucza kryptograficznego.</span><span class="sxs-lookup"><span data-stu-id="25815-119">[Shared Access Signature](/dotnet/api/microsoft.servicebus.sharedaccesssignaturetokenprovider) token: Generated using hello HMAC-SHA256 of a resource string, consisting of hello URI of hello resource that is accessed and an expiry, with hello cryptographic key.</span></span> <span data-ttu-id="25815-120">Podpis Hello i inne elementy opisane w hello następujące sekcje są sformatowane na ciąg hello tooform tokenu sygnatury dostępu Współdzielonego.</span><span class="sxs-lookup"><span data-stu-id="25815-120">hello signature and other elements described in hello following sections are formatted into a string tooform hello SAS token.</span></span>

## <a name="shared-access-policy"></a><span data-ttu-id="25815-121">Zasady dostępu współużytkowanego</span><span class="sxs-lookup"><span data-stu-id="25815-121">Shared access policy</span></span>

<span data-ttu-id="25815-122">Ważną kwestią toounderstand temat sygnatury dostępu Współdzielonego jest jego rozpoczyna się od zasad.</span><span class="sxs-lookup"><span data-stu-id="25815-122">An important thing toounderstand about SAS is that it starts with a policy.</span></span> <span data-ttu-id="25815-123">Dla każdej zasady zdecydujesz się na trzy informacje: **nazwa**, **zakres**, i **uprawnienia**.</span><span class="sxs-lookup"><span data-stu-id="25815-123">For each policy, you decide on three pieces of information: **name**, **scope**, and **permissions**.</span></span> <span data-ttu-id="25815-124">Witaj **nazwa** jest po prostu; unikatową nazwę w ramach tego zakresu.</span><span class="sxs-lookup"><span data-stu-id="25815-124">hello **name** is just that; a unique name within that scope.</span></span> <span data-ttu-id="25815-125">Witaj zakres jest dość proste: jego hello identyfikator URI zasobu hello.</span><span class="sxs-lookup"><span data-stu-id="25815-125">hello scope is easy enough: it's hello URI of hello resource in question.</span></span> <span data-ttu-id="25815-126">W przypadku przestrzeni nazw usługi Service Bus zakres hello jest hello pełną nazwę domeny (FQDN), takich jak `https://<yournamespace>.servicebus.windows.net/`.</span><span class="sxs-lookup"><span data-stu-id="25815-126">For a Service Bus namespace, hello scope is hello fully qualified domain name (FQDN), such as `https://<yournamespace>.servicebus.windows.net/`.</span></span>

<span data-ttu-id="25815-127">przede wszystkim wyjaśnień Hello uprawnienia dostępne dla zasad:</span><span class="sxs-lookup"><span data-stu-id="25815-127">hello available permissions for a policy are largely self-explanatory:</span></span>

* <span data-ttu-id="25815-128">Send</span><span class="sxs-lookup"><span data-stu-id="25815-128">Send</span></span>
* <span data-ttu-id="25815-129">Nasłuchiwanie</span><span class="sxs-lookup"><span data-stu-id="25815-129">Listen</span></span>
* <span data-ttu-id="25815-130">Zarządzanie</span><span class="sxs-lookup"><span data-stu-id="25815-130">Manage</span></span>

<span data-ttu-id="25815-131">Po utworzeniu zasad hello jest przypisany *klucza podstawowego* i *klucza pomocniczego*.</span><span class="sxs-lookup"><span data-stu-id="25815-131">After you create hello policy, it is assigned a *Primary Key* and a *Secondary Key*.</span></span> <span data-ttu-id="25815-132">Są to silną kryptograficznie kluczy.</span><span class="sxs-lookup"><span data-stu-id="25815-132">These are cryptographically strong keys.</span></span> <span data-ttu-id="25815-133">Nie utracone lub ich wyciek — zawsze będzie dostępna w hello [portalu Azure][Azure portal].</span><span class="sxs-lookup"><span data-stu-id="25815-133">Don't lose them or leak them - they'll always be available in hello [Azure portal][Azure portal].</span></span> <span data-ttu-id="25815-134">Możesz użyć dowolnej hello wygenerowane klucze i można je odtworzyć w dowolnym momencie.</span><span class="sxs-lookup"><span data-stu-id="25815-134">You can use either of hello generated keys, and you can regenerate them at any time.</span></span> <span data-ttu-id="25815-135">Jednak jeśli ponownie wygenerować lub zmienić hello klucza podstawowego w zasadach hello żadnych sygnatur dostępu współdzielonego z niej utworzyć zostaną unieważnione.</span><span class="sxs-lookup"><span data-stu-id="25815-135">However, if you regenerate or change hello primary key in hello policy, any Shared Access Signatures created from it will be invalidated.</span></span>

<span data-ttu-id="25815-136">Po utworzeniu przestrzeni nazw usługi Service Bus automatycznie utworzone zasady dla całej przestrzeni nazw hello o nazwie **RootManageSharedAccessKey**, a ta zasada ma wszystkie uprawnienia.</span><span class="sxs-lookup"><span data-stu-id="25815-136">When you create a Service Bus namespace, a policy is automatically created for hello entire namespace called **RootManageSharedAccessKey**, and this policy has all permissions.</span></span> <span data-ttu-id="25815-137">Nie Zaloguj się jako **głównego**, dlatego nie używaj tej zasady, chyba że naprawdę powody.</span><span class="sxs-lookup"><span data-stu-id="25815-137">You don't log on as **root**, so don't use this policy unless there's a really good reason.</span></span> <span data-ttu-id="25815-138">Możesz utworzyć dodatkowe zasady w hello **Konfiguruj** kartę dla przestrzeni nazw hello w portalu hello.</span><span class="sxs-lookup"><span data-stu-id="25815-138">You can create additional policies in hello **Configure** tab for hello namespace in hello portal.</span></span> <span data-ttu-id="25815-139">Jest ważne toonote, który poziomu drzewa pojedynczego w usłudze Service Bus (przestrzeń nazw, kolejki, itp.) tylko może zawierać maksymalnie too12 tooit zasady dołączone.</span><span class="sxs-lookup"><span data-stu-id="25815-139">It's important toonote that a single tree level in Service Bus (namespace, queue, etc.) can only have up too12 policies attached tooit.</span></span>

## <a name="configuration-for-shared-access-signature-authentication"></a><span data-ttu-id="25815-140">Konfiguracja uwierzytelniania sygnatura dostępu współdzielonego</span><span class="sxs-lookup"><span data-stu-id="25815-140">Configuration for Shared Access Signature authentication</span></span>
<span data-ttu-id="25815-141">Można skonfigurować hello [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) reguły w przestrzeni nazw usługi Service Bus, kolejki i tematy.</span><span class="sxs-lookup"><span data-stu-id="25815-141">You can configure hello [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) rule on Service Bus namespaces, queues, or topics.</span></span> <span data-ttu-id="25815-142">Konfigurowanie [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) usługi Service Bus subskrypcji nie jest obecnie obsługiwane, ale może użyć reguły skonfigurowane na przestrzeń nazw lub temat toosubscriptions dostępu toosecure.</span><span class="sxs-lookup"><span data-stu-id="25815-142">Configuring a [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) on a Service Bus subscription is currently not supported, but you can use rules configured on a namespace or topic toosecure access toosubscriptions.</span></span> <span data-ttu-id="25815-143">Dla przykładu pracy, która ilustruje tę procedurę, zobacz hello [uwierzytelniania przy użyciu dostępu sygnatury dostępu Współdzielonego z subskrypcjami magistrali usługi](http://code.msdn.microsoft.com/Using-Shared-Access-e605b37c) próbki.</span><span class="sxs-lookup"><span data-stu-id="25815-143">For a working sample that illustrates this procedure, see hello [Using Shared Access Signature (SAS) authentication with Service Bus Subscriptions](http://code.msdn.microsoft.com/Using-Shared-Access-e605b37c) sample.</span></span>

<span data-ttu-id="25815-144">Maksymalnie 12 tych zasad można skonfigurować dla przestrzeni nazw usługi Service Bus, kolejka lub temat.</span><span class="sxs-lookup"><span data-stu-id="25815-144">A maximum of 12 such rules can be configured on a Service Bus namespace, queue, or topic.</span></span> <span data-ttu-id="25815-145">Zasady, które są skonfigurowane w przestrzeni nazw usługi Service Bus zastosować tooall jednostki w tej przestrzeni nazw.</span><span class="sxs-lookup"><span data-stu-id="25815-145">Rules that are configured on a Service Bus namespace apply tooall entities in that namespace.</span></span>

![SYGNATURY DOSTĘPU WSPÓŁDZIELONEGO](./media/service-bus-sas/service-bus-namespace.png)

<span data-ttu-id="25815-147">Na tym rysunku hello *manageRuleNS*, *sendRuleNS*, i *listenRuleNS* zastosować reguły autoryzacji tooboth kolejka K1 i tematu T1, podczas gdy *listenRuleQ*  i *sendRuleQ* zastosować tooqueue P1 i *sendRuleT* ma zastosowanie tylko tootopic T1.</span><span class="sxs-lookup"><span data-stu-id="25815-147">In this figure, hello *manageRuleNS*, *sendRuleNS*, and *listenRuleNS* authorization rules apply tooboth queue Q1 and topic T1, while *listenRuleQ* and *sendRuleQ* apply only tooqueue Q1 and *sendRuleT* applies only tootopic T1.</span></span>

<span data-ttu-id="25815-148">Witaj parametrów klucza [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) są następujące:</span><span class="sxs-lookup"><span data-stu-id="25815-148">hello key parameters of a [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) are as follows:</span></span>

| <span data-ttu-id="25815-149">Parametr</span><span class="sxs-lookup"><span data-stu-id="25815-149">Parameter</span></span> | <span data-ttu-id="25815-150">Opis</span><span class="sxs-lookup"><span data-stu-id="25815-150">Description</span></span> |
| --- | --- |
| <span data-ttu-id="25815-151">*Nazwa klucza*</span><span class="sxs-lookup"><span data-stu-id="25815-151">*KeyName*</span></span> |<span data-ttu-id="25815-152">Ciąg opisujący hello reguły autoryzacji.</span><span class="sxs-lookup"><span data-stu-id="25815-152">A string that describes hello authorization rule.</span></span> |
| <span data-ttu-id="25815-153">*PrimaryKey*</span><span class="sxs-lookup"><span data-stu-id="25815-153">*PrimaryKey*</span></span> |<span data-ttu-id="25815-154">Algorytmem Base64 256-bitowego klucza podstawowego dla podpisywania i sprawdzania poprawności tokenu sygnatury dostępu Współdzielonego hello.</span><span class="sxs-lookup"><span data-stu-id="25815-154">A base64-encoded 256-bit primary key for signing and validating hello SAS token.</span></span> |
| <span data-ttu-id="25815-155">*Klucz pomocniczy*</span><span class="sxs-lookup"><span data-stu-id="25815-155">*SecondaryKey*</span></span> |<span data-ttu-id="25815-156">Algorytmem Base64 256-bitowego klucza pomocniczego do podpisywania i sprawdzania poprawności tokenu sygnatury dostępu Współdzielonego hello.</span><span class="sxs-lookup"><span data-stu-id="25815-156">A base64-encoded 256-bit secondary key for signing and validating hello SAS token.</span></span> |
| <span data-ttu-id="25815-157">*AccessRights*</span><span class="sxs-lookup"><span data-stu-id="25815-157">*AccessRights*</span></span> |<span data-ttu-id="25815-158">Lista prawa dostępu przyznane przez regułę autoryzacji hello.</span><span class="sxs-lookup"><span data-stu-id="25815-158">A list of access rights granted by hello authorization rule.</span></span> <span data-ttu-id="25815-159">Te prawa można dowolną kolekcję nasłuchiwania, wysyłania i Zarządzanie prawami.</span><span class="sxs-lookup"><span data-stu-id="25815-159">These rights can be any collection of Listen, Send, and Manage rights.</span></span> |

<span data-ttu-id="25815-160">Po zainicjowaniu obsługi przestrzeni nazw usługi Service Bus, [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule), z [KeyName](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_KeyName) ustawić także**RootManageSharedAccessKey**, domyślnie zostanie utworzona.</span><span class="sxs-lookup"><span data-stu-id="25815-160">When a Service Bus namespace is provisioned, a [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule), with [KeyName](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_KeyName) set too**RootManageSharedAccessKey**, is created by default.</span></span>

## <a name="generate-a-shared-access-signature-token"></a><span data-ttu-id="25815-161">Generowanie sygnaturą dostępu współdzielonego (token)</span><span class="sxs-lookup"><span data-stu-id="25815-161">Generate a Shared Access Signature (token)</span></span>

<span data-ttu-id="25815-162">same zasady Hello nie jest hello tokenu dostępu dla usługi Service Bus.</span><span class="sxs-lookup"><span data-stu-id="25815-162">hello policy itself is not hello access token for Service Bus.</span></span> <span data-ttu-id="25815-163">Jest obiekt hello, z których hello token dostępu jest generowany — przy użyciu albo hello klucz podstawowy lub pomocniczy.</span><span class="sxs-lookup"><span data-stu-id="25815-163">It is hello object from which hello access token is generated - using either hello primary or secondary key.</span></span> <span data-ttu-id="25815-164">Każdy klient, który ma określone w regule autoryzacji dostępu współdzielonego hello kluczy podpisywania toohello dostępu mogą generować hello tokenu sygnatury dostępu Współdzielonego.</span><span class="sxs-lookup"><span data-stu-id="25815-164">Any client that has access toohello signing keys specified in hello shared access authorization rule can generate hello SAS token.</span></span> <span data-ttu-id="25815-165">Hello token jest generowany przez dokładnie obsługuje tworzenie ciągu w hello następującego formatu:</span><span class="sxs-lookup"><span data-stu-id="25815-165">hello token is generated by carefully crafting a string in hello following format:</span></span>

```
SharedAccessSignature sig=<signature-string>&se=<expiry>&skn=<keyName>&sr=<URL-encoded-resourceURI>
```

<span data-ttu-id="25815-166">Gdzie `signature-string` jest skrót hello algorytmu SHA-256 zakresu hello hello tokenu (**zakres** zgodnie z opisem w poprzedniej sekcji hello) z znaku CRLF dołączany i czas wygaśnięcia (w sekundach od epoki hello: `00:00:00 UTC` na 1 stycznia 1970).</span><span class="sxs-lookup"><span data-stu-id="25815-166">Where `signature-string` is hello SHA-256 hash of hello scope of hello token (**scope** as described in hello previous section) with a CRLF appended and an expiry time (in seconds since hello epoch: `00:00:00 UTC` on 1 January 1970).</span></span> 

> [!NOTE]
> <span data-ttu-id="25815-167">tooavoid czas wygaśnięcia tokenu krótkie, zaleca się kodowania wartość czasu wygaśnięcia hello jako liczbę całkowitą bez znaku przynajmniej 32-bitowej lub najlepiej całkowitą long (64-bitowe).</span><span class="sxs-lookup"><span data-stu-id="25815-167">tooavoid a short token expiry time, it is recommended that you encode hello expiry time value as at least a 32-bit unsigned integer, or preferably a long (64-bit) integer.</span></span>  
> 
> 

<span data-ttu-id="25815-168">Skrót Hello wygląda podobnie toohello po pseudo kod i zwraca 32 bajtów.</span><span class="sxs-lookup"><span data-stu-id="25815-168">hello hash looks similar toohello following pseudo code and returns 32 bytes.</span></span>

```
SHA-256('https://<yournamespace>.servicebus.windows.net/'+'\n'+ 1438205742)
```

<span data-ttu-id="25815-169">wartości nie mieszane Hello są w hello **SharedAccessSignature** ciąg, dzięki czemu hello adresata można obliczyć skrótu hello z hello takie same parametry, toobe się upewnić, że zwraca hello takiego samego wyniku.</span><span class="sxs-lookup"><span data-stu-id="25815-169">hello non-hashed values are in hello **SharedAccessSignature** string so that hello recipient can compute hello hash with hello same parameters, toobe sure that it returns hello same result.</span></span> <span data-ttu-id="25815-170">Hello identyfikator URI określa zakres hello i nazwę klucza hello identyfikuje hello zasad toobe używane toocompute hello wyznaczania wartości skrótu.</span><span class="sxs-lookup"><span data-stu-id="25815-170">hello URI specifies hello scope, and hello key name identifies hello policy toobe used toocompute hello hash.</span></span> <span data-ttu-id="25815-171">Jest to ważne z punktu widzenia zabezpieczeń.</span><span class="sxs-lookup"><span data-stu-id="25815-171">This is important from a security standpoint.</span></span> <span data-ttu-id="25815-172">Jeśli nie jest zgodna z którego odbiorca hello (usługi Service Bus) oblicza hello podpisu, nastąpi odmowa dostępu.</span><span class="sxs-lookup"><span data-stu-id="25815-172">If hello signature doesn't match that which hello recipient (Service Bus) calculates, then access is denied.</span></span> <span data-ttu-id="25815-173">W tym momencie można się tego nadawcy hello ma klucz toohello dostępu i powinny mieć przyznane prawa hello określonym w zasadach hello.</span><span class="sxs-lookup"><span data-stu-id="25815-173">At this point you can be sure that hello sender had access toohello key and should be granted hello rights specified in hello policy.</span></span>

<span data-ttu-id="25815-174">Należy pamiętać, że należy używać hello zakodowany identyfikator URI zasobu dla tej operacji.</span><span class="sxs-lookup"><span data-stu-id="25815-174">Note that you should use hello encoded resource URI for this operation.</span></span> <span data-ttu-id="25815-175">Identyfikator URI zasobu Hello jest powitalne pełny identyfikator URI hello dostęp do toowhich zasobów usługi Service Bus jest określona.</span><span class="sxs-lookup"><span data-stu-id="25815-175">hello resource URI is hello full URI of hello Service Bus resource toowhich access is claimed.</span></span> <span data-ttu-id="25815-176">Na przykład `http://<namespace>.servicebus.windows.net/<entityPath>` lub `sb://<namespace>.servicebus.windows.net/<entityPath>`, `http://contoso.servicebus.windows.net/contosoTopics/T1/Subscriptions/S3`.</span><span class="sxs-lookup"><span data-stu-id="25815-176">For example, `http://<namespace>.servicebus.windows.net/<entityPath>` or `sb://<namespace>.servicebus.windows.net/<entityPath>`; that is, `http://contoso.servicebus.windows.net/contosoTopics/T1/Subscriptions/S3`.</span></span>

<span data-ttu-id="25815-177">reguły autoryzacji dostępu współdzielonego Hello używany do podpisywania musi być skonfigurowany w jednostce hello określona przez ten identyfikator URI lub za pomocą jednej z jej nadrzędnych hierarchicznej.</span><span class="sxs-lookup"><span data-stu-id="25815-177">hello shared access authorization rule used for signing must be configured on hello entity specified by this URI, or by one of its hierarchical parents.</span></span> <span data-ttu-id="25815-178">Na przykład `http://contoso.servicebus.windows.net/contosoTopics/T1` lub `http://contoso.servicebus.windows.net` w poprzednim przykładzie hello.</span><span class="sxs-lookup"><span data-stu-id="25815-178">For example, `http://contoso.servicebus.windows.net/contosoTopics/T1` or `http://contoso.servicebus.windows.net` in hello previous example.</span></span>

<span data-ttu-id="25815-179">Token sygnatury dostępu Współdzielonego jest prawidłowa dla wszystkich zasobów w ramach hello `<resourceURI>` używane w hello `signature-string`.</span><span class="sxs-lookup"><span data-stu-id="25815-179">A SAS token is valid for all resources under hello `<resourceURI>` used in hello `signature-string`.</span></span>

<span data-ttu-id="25815-180">Witaj [KeyName](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_KeyName) w hello SAS token odnosi się toohello **keyName** z hello toogenerate hello token używany reguły autoryzacji dostępu współdzielonego.</span><span class="sxs-lookup"><span data-stu-id="25815-180">hello [KeyName](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_KeyName) in hello SAS token refers toohello **keyName** of hello shared access authorization rule used toogenerate hello token.</span></span>

<span data-ttu-id="25815-181">Hello *adresu URL-zakodowane resourceURI* musi być hello tak samo jak hello identyfikator URI używany w ciągu znak hello podczas obliczania hello hello podpisu.</span><span class="sxs-lookup"><span data-stu-id="25815-181">hello *URL-encoded-resourceURI* must be hello same as hello URI used in hello string-to-sign during hello computation of hello signature.</span></span> <span data-ttu-id="25815-182">Powinien być [procent, kodowane](https://msdn.microsoft.com/library/4fkewx0t.aspx).</span><span class="sxs-lookup"><span data-stu-id="25815-182">It should be [percent-encoded](https://msdn.microsoft.com/library/4fkewx0t.aspx).</span></span>

<span data-ttu-id="25815-183">Zalecane jest okresowo generować ponownie klucze hello używane w hello [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) obiektu.</span><span class="sxs-lookup"><span data-stu-id="25815-183">It is recommended that you periodically regenerate hello keys used in hello [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) object.</span></span> <span data-ttu-id="25815-184">Aplikacje powinny używać zazwyczaj hello [PrimaryKey](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_PrimaryKey) toogenerate tokenu sygnatury dostępu Współdzielonego.</span><span class="sxs-lookup"><span data-stu-id="25815-184">Applications should generally use hello [PrimaryKey](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_PrimaryKey) toogenerate a SAS token.</span></span> <span data-ttu-id="25815-185">Podczas ponownego generowania kluczy hello, należy zastąpić hello [klucz pomocniczy](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_SecondaryKey) z hello stary serwer podstawowy, a dla klucza wygenerowanie nowego klucza hello nowego klucza podstawowego.</span><span class="sxs-lookup"><span data-stu-id="25815-185">When regenerating hello keys, you should replace hello [SecondaryKey](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_SecondaryKey) with hello old primary key, and generate a new key as hello new primary key.</span></span> <span data-ttu-id="25815-186">Dzięki temu toocontinue tokeny do autoryzacji, które zostały wydane z hello starego klucza podstawowego i które nie zostały jeszcze wygasnąć.</span><span class="sxs-lookup"><span data-stu-id="25815-186">This enables you toocontinue using tokens for authorization that were issued with hello old primary key, and that have not yet expired.</span></span>

<span data-ttu-id="25815-187">Jeśli masz klucze hello toorevoke klucz zostanie naruszony, można ponownie wygenerować zarówno hello [PrimaryKey](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_PrimaryKey) i hello [klucz pomocniczy](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_SecondaryKey) z [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule), zastępowane nowych kluczy.</span><span class="sxs-lookup"><span data-stu-id="25815-187">If a key is compromised and you have toorevoke hello keys, you can regenerate both hello [PrimaryKey](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_PrimaryKey) and hello [SecondaryKey](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_SecondaryKey) of a [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule), replacing them with new keys.</span></span> <span data-ttu-id="25815-188">Ta procedura powoduje unieważnienie wszystkie tokeny podpisane z kluczami starego hello.</span><span class="sxs-lookup"><span data-stu-id="25815-188">This procedure invalidates all tokens signed with hello old keys.</span></span>

## <a name="how-toouse-shared-access-signature-authentication-with-service-bus"></a><span data-ttu-id="25815-189">Jak toouse sygnatura dostępu współdzielonego uwierzytelniania za pomocą usługi Service Bus</span><span class="sxs-lookup"><span data-stu-id="25815-189">How toouse Shared Access Signature authentication with Service Bus</span></span>

<span data-ttu-id="25815-190">Witaj następujące scenariusze obejmują konfigurowanie reguł autoryzacji, generowanie tokeny sygnatury dostępu Współdzielonego i uwierzytelnianiem klienta.</span><span class="sxs-lookup"><span data-stu-id="25815-190">hello following scenarios include configuration of authorization rules, generation of SAS tokens, and client authorization.</span></span>

<span data-ttu-id="25815-191">Dla pełnej pracy przykładowej aplikacji usługi Service Bus, która ilustruje hello konfiguracji i używa autoryzacji sygnatury dostępu Współdzielonego, zobacz [sygnatura dostępu współdzielonego uwierzytelniania za pomocą usługi Service Bus](http://code.msdn.microsoft.com/Shared-Access-Signature-0a88adf8).</span><span class="sxs-lookup"><span data-stu-id="25815-191">For a full working sample of a Service Bus application that illustrates hello configuration and uses SAS authorization, see [Shared Access Signature authentication with Service Bus](http://code.msdn.microsoft.com/Shared-Access-Signature-0a88adf8).</span></span> <span data-ttu-id="25815-192">Powiązane próbki, która ilustruje hello stosowania reguły autoryzacji sygnatury dostępu Współdzielonego skonfigurowane na przestrzeni nazw lub tematy subskrypcje usługi Service Bus toosecure jest dostępnych tutaj: [uwierzytelniania przy użyciu dostępu sygnatury dostępu Współdzielonego z subskrypcji magistrali usług ](http://code.msdn.microsoft.com/Using-Shared-Access-e605b37c).</span><span class="sxs-lookup"><span data-stu-id="25815-192">A related sample that illustrates hello use of SAS authorization rules configured on namespaces or topics toosecure Service Bus subscriptions is available here: [Using Shared Access Signature (SAS) authentication with Service Bus Subscriptions](http://code.msdn.microsoft.com/Using-Shared-Access-e605b37c).</span></span>

## <a name="access-shared-access-authorization-rules-on-a-namespace"></a><span data-ttu-id="25815-193">Reguły dostępu do udostępnionych autoryzacji dostępu na przestrzeni nazw</span><span class="sxs-lookup"><span data-stu-id="25815-193">Access Shared Access Authorization rules on a namespace</span></span>

<span data-ttu-id="25815-194">Operacje na głównych nazw usługi Service Bus hello wymagają uwierzytelniania certyfikatów.</span><span class="sxs-lookup"><span data-stu-id="25815-194">Operations on hello Service Bus namespace root require certificate authentication.</span></span> <span data-ttu-id="25815-195">Należy przekazać certyfikatu zarządzania dla subskrypcji platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="25815-195">You must upload a management certificate for your Azure subscription.</span></span> <span data-ttu-id="25815-196">tooupload certyfikat zarządzania, wykonaj kroki hello [tutaj](../cloud-services/cloud-services-configure-ssl-certificate-portal.md#step-3-upload-a-certificate), przy użyciu hello [portalu Azure][Azure portal].</span><span class="sxs-lookup"><span data-stu-id="25815-196">tooupload a management certificate, follow hello steps [here](../cloud-services/cloud-services-configure-ssl-certificate-portal.md#step-3-upload-a-certificate), using hello [Azure portal][Azure portal].</span></span> <span data-ttu-id="25815-197">Aby uzyskać więcej informacji o certyfikatach zarządzania platformy Azure, zobacz hello [Omówienie certyfikatów Azure](../cloud-services/cloud-services-certs-create.md#what-are-management-certificates).</span><span class="sxs-lookup"><span data-stu-id="25815-197">For more information about Azure management certificates, see hello [Azure certificates overview](../cloud-services/cloud-services-certs-create.md#what-are-management-certificates).</span></span>

<span data-ttu-id="25815-198">punkt końcowy Hello dla uzyskiwania dostępu do reguł autoryzacji dostępu współdzielonego w przestrzeni nazw usługi Service Bus jest następujący:</span><span class="sxs-lookup"><span data-stu-id="25815-198">hello endpoint for accessing shared access authorization rules on a Service Bus namespace is as follows:</span></span>

```http
https://management.core.windows.net/{subscriptionId}/services/ServiceBus/namespaces/{namespace}/AuthorizationRules/
```

<span data-ttu-id="25815-199">toocreate [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) obiektu w przestrzeni nazw usługi Service Bus, wykonaj operację POST na ten punkt końcowy z informacjami o reguły hello zserializowanym w formacie JSON i XML.</span><span class="sxs-lookup"><span data-stu-id="25815-199">toocreate a [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) object on a Service Bus namespace, execute a POST operation on this endpoint with hello rule information serialized as JSON or XML.</span></span> <span data-ttu-id="25815-200">Na przykład:</span><span class="sxs-lookup"><span data-stu-id="25815-200">For example:</span></span>

```csharp
// Base address for accessing authorization rules on a namespace
string baseAddress = @"https://management.core.windows.net/<subscriptionId>/services/ServiceBus/namespaces/<namespace>/AuthorizationRules/";

// Configure authorization rule with base64-encoded 256-bit key and Send rights
var sendRule = new SharedAccessAuthorizationRule("contosoSendAll",
    SharedAccessAuthorizationRule.GenerateRandomKey(),
    new[] { AccessRights.Send });

// Operations on hello Service Bus namespace root require certificate authentication.
WebRequestHandler handler = new WebRequestHandler
{
    ClientCertificateOptions = ClientCertificateOption.Manual
};
// Access hello management certificate by subject name
handler.ClientCertificates.Add(GetCertificate(<certificateSN>));

HttpClient httpClient = new HttpClient(handler)
{
    BaseAddress = new Uri(baseAddress)
};
httpClient.DefaultRequestHeaders.Accept.Add(
    new MediaTypeWithQualityHeaderValue("application/json"));
httpClient.DefaultRequestHeaders.Add("x-ms-version", "2015-01-01");

// Execute a POST operation on hello baseAddress above toocreate an auth rule
var postResult = httpClient.PostAsJsonAsync("", sendRule).Result;
```

<span data-ttu-id="25815-201">Podobnie za pomocą operacji GET, na hello punktu końcowego tooread hello autoryzacji reguły skonfigurowane na powitania przestrzeni nazw.</span><span class="sxs-lookup"><span data-stu-id="25815-201">Similarly, use a GET operation on hello endpoint tooread hello authorization rules configured on hello namespace.</span></span>

<span data-ttu-id="25815-202">tooupdate lub Usuń regułę autoryzacji określonych Użyj hello następującego punktu końcowego:</span><span class="sxs-lookup"><span data-stu-id="25815-202">tooupdate or delete a specific authorization rule, use hello following endpoint:</span></span>

```http
https://management.core.windows.net/{subscriptionId}/services/ServiceBus/namespaces/{namespace}/AuthorizationRules/{KeyName}
```

## <a name="access-shared-access-authorization-rules-on-an-entity"></a><span data-ttu-id="25815-203">Reguły dostępu do udostępnionych autoryzacji dostępu na jednostkę</span><span class="sxs-lookup"><span data-stu-id="25815-203">Access Shared Access Authorization rules on an entity</span></span>

<span data-ttu-id="25815-204">Dostęp można uzyskać [Microsoft.ServiceBus.Messaging.SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) obiektu skonfigurowany dla kolejki usługi Service Bus lub temat za pośrednictwem hello [AuthorizationRules](/dotnet/api/microsoft.servicebus.messaging.authorizationrules) kolekcji w hello odpowiadającego [QueueDescription](/dotnet/api/microsoft.servicebus.messaging.queuedescription) lub [TopicDescription](/dotnet/api/microsoft.servicebus.messaging.topicdescription).</span><span class="sxs-lookup"><span data-stu-id="25815-204">You can access a [Microsoft.ServiceBus.Messaging.SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) object configured on a Service Bus queue or topic through hello [AuthorizationRules](/dotnet/api/microsoft.servicebus.messaging.authorizationrules) collection in hello corresponding [QueueDescription](/dotnet/api/microsoft.servicebus.messaging.queuedescription) or [TopicDescription](/dotnet/api/microsoft.servicebus.messaging.topicdescription).</span></span>

<span data-ttu-id="25815-205">Witaj następującego kodu pokazuje, jak reguły autoryzacji tooadd dla kolejki.</span><span class="sxs-lookup"><span data-stu-id="25815-205">hello following code shows how tooadd authorization rules for a queue.</span></span>

```csharp
// Create an instance of NamespaceManager for hello operation
NamespaceManager nsm = NamespaceManager.CreateFromConnectionString(
    <connectionString> );
QueueDescription qd = new QueueDescription( <qPath> );

// Create a rule with send rights with keyName as "contosoQSendKey"
// and add it toohello queue description.
qd.Authorization.Add(new SharedAccessAuthorizationRule("contosoSendKey",
    SharedAccessAuthorizationRule.GenerateRandomKey(),
    new[] { AccessRights.Send }));

// Create a rule with listen rights with keyName as "contosoQListenKey"
// and add it toohello queue description.
qd.Authorization.Add(new SharedAccessAuthorizationRule("contosoQListenKey",
    SharedAccessAuthorizationRule.GenerateRandomKey(),
    new[] { AccessRights.Listen }));

// Create a rule with manage rights with keyName as "contosoQManageKey"
// and add it toohello queue description.
// A rule with manage rights must also have send and receive rights.
qd.Authorization.Add(new SharedAccessAuthorizationRule("contosoQManageKey",
    SharedAccessAuthorizationRule.GenerateRandomKey(),
    new[] {AccessRights.Manage, AccessRights.Listen, AccessRights.Send }));

// Create hello queue.
nsm.CreateQueue(qd);
```

## <a name="use-shared-access-signature-authorization"></a><span data-ttu-id="25815-206">Użyj autoryzacji sygnatura dostępu współdzielonego</span><span class="sxs-lookup"><span data-stu-id="25815-206">Use Shared Access Signature authorization</span></span>

<span data-ttu-id="25815-207">Aplikacje przy użyciu hello Azure .NET SDK z bibliotekami .NET magistrali usługi hello mogą używać autoryzacji sygnatury dostępu Współdzielonego za pośrednictwem hello [SharedAccessSignatureTokenProvider](/dotnet/api/microsoft.servicebus.sharedaccesssignaturetokenprovider) klasy.</span><span class="sxs-lookup"><span data-stu-id="25815-207">Applications using hello Azure .NET SDK with hello Service Bus .NET libraries can use SAS authorization through hello [SharedAccessSignatureTokenProvider](/dotnet/api/microsoft.servicebus.sharedaccesssignaturetokenprovider) class.</span></span> <span data-ttu-id="25815-208">Witaj poniższy kod przedstawia użycie hello kolejki usługi Service Bus tooa toosend wiadomości powitania dostawcy tokenu.</span><span class="sxs-lookup"><span data-stu-id="25815-208">hello following code illustrates hello use of hello token provider toosend messages tooa Service Bus queue.</span></span>

```csharp
Uri runtimeUri = ServiceBusEnvironment.CreateServiceUri("sb",
    <yourServiceNamespace>, string.Empty);
MessagingFactory mf = MessagingFactory.Create(runtimeUri,
    TokenProvider.CreateSharedAccessSignatureTokenProvider(keyName, key));
QueueClient sendClient = mf.CreateQueueClient(qPath);

//Sending hello message tooqueue.
BrokeredMessage helloMessage = new BrokeredMessage("Hello, Service Bus!");
helloMessage.MessageId = "SAS-Sample-Message";
sendClient.Send(helloMessage);
```

<span data-ttu-id="25815-209">Aplikacje umożliwia także SAS do uwierzytelniania przy użyciu ciągu połączenia SAS w metodach, które akceptują parametrów połączenia.</span><span class="sxs-lookup"><span data-stu-id="25815-209">Applications can also use SAS for authentication by using a SAS connection string in methods that accept connection strings.</span></span>

<span data-ttu-id="25815-210">Należy pamiętać, że toouse autoryzacji sygnatury dostępu Współdzielonego z przekaźników usługi Service Bus, można użyć klawiszy SAS skonfigurowane na powitania przestrzeń nazw magistrali usług.</span><span class="sxs-lookup"><span data-stu-id="25815-210">Note that toouse SAS authorization with Service Bus relays, you can use SAS keys configured on hello Service Bus namespace.</span></span> <span data-ttu-id="25815-211">W przypadku utworzenia jawnie przekaźnik na powitania przestrzeni nazw ([NamespaceManager](/dotnet/api/microsoft.servicebus.namespacemanager) z [RelayDescription](/dotnet/api/microsoft.servicebus.messaging.relaydescription)) obiektu, można ustawić zasady sygnatury dostępu Współdzielonego hello tylko dla tego przekazywania.</span><span class="sxs-lookup"><span data-stu-id="25815-211">If you explicitly create a relay on hello namespace ([NamespaceManager](/dotnet/api/microsoft.servicebus.namespacemanager) with a [RelayDescription](/dotnet/api/microsoft.servicebus.messaging.relaydescription)) object, you can set hello SAS rules just for that relay.</span></span> <span data-ttu-id="25815-212">toouse autoryzacji sygnatury dostępu Współdzielonego z subskrypcji usługi Service Bus, można użyć skonfigurowane na przestrzeni nazw usługi Service Bus lub na temat kluczy sygnatury dostępu Współdzielonego.</span><span class="sxs-lookup"><span data-stu-id="25815-212">toouse SAS authorization with Service Bus subscriptions, you can use SAS keys configured on a Service Bus namespace or on a topic.</span></span>

## <a name="use-hello-shared-access-signature-at-http-level"></a><span data-ttu-id="25815-213">Użyj hello Shared Access Signature (na poziomie protokołu HTTP)</span><span class="sxs-lookup"><span data-stu-id="25815-213">Use hello Shared Access Signature (at HTTP level)</span></span>

<span data-ttu-id="25815-214">Teraz, gdy wiesz, jak toocreate sygnatury dostępu współdzielonego dla dowolnego jednostek usługi Service Bus, jesteś gotowe tooperform HTTP POST:</span><span class="sxs-lookup"><span data-stu-id="25815-214">Now that you know how toocreate Shared Access Signatures for any entities in Service Bus, you are ready tooperform an HTTP POST:</span></span>

```http
POST https://<yournamespace>.servicebus.windows.net/<yourentity>/messages
Content-Type: application/json
Authorization: SharedAccessSignature sr=https%3A%2F%2F<yournamespace>.servicebus.windows.net%2F<yourentity>&sig=<yoursignature from code above>&se=1438205742&skn=KeyName
ContentType: application/atom+xml;type=entry;charset=utf-8
``` 

<span data-ttu-id="25815-215">Należy pamiętać, że wszystko działa.</span><span class="sxs-lookup"><span data-stu-id="25815-215">Remember, this works for everything.</span></span> <span data-ttu-id="25815-216">Można utworzyć sygnatury dostępu Współdzielonego dla kolejki, tematu lub subskrypcji.</span><span class="sxs-lookup"><span data-stu-id="25815-216">You can create SAS for a queue, topic, or subscription.</span></span> 

<span data-ttu-id="25815-217">Jeśli przekażesz klienta lub nadawcy tokenu sygnatury dostępu Współdzielonego, nie ma klucza hello bezpośrednio i ich nie można wycofać hello skrótu tooobtain go.</span><span class="sxs-lookup"><span data-stu-id="25815-217">If you give a sender or client a SAS token, they don't have hello key directly, and they cannot reverse hello hash tooobtain it.</span></span> <span data-ttu-id="25815-218">W efekcie masz kontroli nad co mogą uzyskiwać dostęp do, jak długo.</span><span class="sxs-lookup"><span data-stu-id="25815-218">As such, you have control over what they can access, and for how long.</span></span> <span data-ttu-id="25815-219">Tooremember ważne jest, że zmiana hello klucza podstawowego w zasadach hello żadnych sygnatur dostępu współdzielonego z niej utworzyć zostaną unieważnione.</span><span class="sxs-lookup"><span data-stu-id="25815-219">An important thing tooremember is that if you change hello primary key in hello policy, any Shared Access Signatures created from it will be invalidated.</span></span>

## <a name="use-hello-shared-access-signature-at-amqp-level"></a><span data-ttu-id="25815-220">Użyj hello Shared Access Signature (na poziomie protokołu AMQP)</span><span class="sxs-lookup"><span data-stu-id="25815-220">Use hello Shared Access Signature (at AMQP level)</span></span>

<span data-ttu-id="25815-221">W poprzedniej sekcji hello widać, jak toouse hello tokenu sygnatury dostępu Współdzielonego z żądaniem HTTP POST do wysyłania danych toohello usługi Service Bus.</span><span class="sxs-lookup"><span data-stu-id="25815-221">In hello previous section, you saw how toouse hello SAS token with an HTTP POST request for sending data toohello Service Bus.</span></span> <span data-ttu-id="25815-222">Wiesz, można uzyskać dostępu do usługi Service Bus przy użyciu hello zaawansowane komunikatów usługi kolejkowania wiadomości protokołu (AMQP) będący toouse protokołu hello preferowana ze względu na wydajność w wielu scenariuszach.</span><span class="sxs-lookup"><span data-stu-id="25815-222">As you know, you can access Service Bus using hello Advanced Message Queuing Protocol (AMQP) that is hello preferred protocol toouse for performance reasons, in many scenarios.</span></span> <span data-ttu-id="25815-223">w dokumencie hello opisano Hello użycia tokenu sygnatury dostępu Współdzielonego za pomocą protokołu AMQP [AMQP Claim-Based zabezpieczeń wersja 1.0](https://www.oasis-open.org/committees/download.php/50506/amqp-cbs-v1%200-wd02%202013-08-12.doc) będący w pracy projekt od 2013, ale dobrze obsługiwane przez platformę Azure dzisiaj.</span><span class="sxs-lookup"><span data-stu-id="25815-223">hello SAS token usage with AMQP is described in hello document [AMQP Claim-Based Security Version 1.0](https://www.oasis-open.org/committees/download.php/50506/amqp-cbs-v1%200-wd02%202013-08-12.doc) that is in working draft since 2013 but well-supported by Azure today.</span></span>

<span data-ttu-id="25815-224">Przed rozpoczęciem toosend danych tooService magistrali wydawcy hello musi wysłać tokenu sygnatury dostępu Współdzielonego hello wewnątrz protokołu AMQP tooa dobrze zdefiniowany AMQP węzła komunikatu o nazwie **$cbs** (możesz wyświetlić go jako "specjalne" kolejki używane przez hello tooacquire usługi i sprawdź poprawność wszystkich tokeny sygnatury dostępu Współdzielonego Hello).</span><span class="sxs-lookup"><span data-stu-id="25815-224">Before starting toosend data tooService Bus, hello publisher must send hello SAS token inside an AMQP message tooa well-defined AMQP node named **$cbs** (you can see it as a "special" queue used by hello service tooacquire and validate all hello SAS tokens).</span></span> <span data-ttu-id="25815-225">Wydawca Hello musi określać hello **ReplyTo** pól wewnątrz wiadomości powitania protokołu AMQP; to jest węzeł hello, w których hello usługi odpowiedzi wydawcy toohello o hello wynik weryfikacji tokenu hello (żądania/odpowiedzi prostego wzorca między Wydawca i usługi).</span><span class="sxs-lookup"><span data-stu-id="25815-225">hello publisher must specify hello **ReplyTo** field inside hello AMQP message; this is hello node in which hello service replies toohello publisher with hello result of hello token validation (a simple request/reply pattern between publisher and service).</span></span> <span data-ttu-id="25815-226">Ten węzeł odpowiedzi jest tworzona "na powitania bieżąco," mówiąc o "dynamiczne tworzenie zdalnego węzła", zgodnie z opisem w specyfikacji hello protokołu AMQP 1.0.</span><span class="sxs-lookup"><span data-stu-id="25815-226">This reply node is created "on hello fly," speaking about "dynamic creation of remote node" as described by hello AMQP 1.0 specification.</span></span> <span data-ttu-id="25815-227">Po sprawdzeniu, czy tokenu sygnatury dostępu Współdzielonego hello jest prawidłowy, hello wydawcy Przejdź dalej i uruchomić usługę toohello danych toosend.</span><span class="sxs-lookup"><span data-stu-id="25815-227">After checking that hello SAS token is valid, hello publisher can go forward and start toosend data toohello service.</span></span>

<span data-ttu-id="25815-228">Witaj poniższej procedurze pokazano, jak toosend hello tokenu sygnatury dostępu Współdzielonego przy użyciu hello protokołu AMQP [AMQP.Net Lite](https://github.com/Azure/amqpnetlite) biblioteki.</span><span class="sxs-lookup"><span data-stu-id="25815-228">hello following steps show how toosend hello SAS token with AMQP protocol using hello [AMQP.Net Lite](https://github.com/Azure/amqpnetlite) library.</span></span> <span data-ttu-id="25815-229">Jest to przydatne, jeśli nie możesz użyć oficjalne hello zestaw SDK usługi Service Bus (na przykład na WinRT, .net Compact Framework, .net Micro Framework i Mono) opracowywanie w języku C\#.</span><span class="sxs-lookup"><span data-stu-id="25815-229">This is useful if you can't use hello official Service Bus SDK (for example on WinRT, .Net Compact Framework, .Net Micro Framework and Mono) developing in C\#.</span></span> <span data-ttu-id="25815-230">Oczywiście Ta biblioteka jest przydatne toohelp zrozumieć, jak opartego na oświadczeniach zabezpieczeń działa na poziomie protokołu AMQP hello, jak przedstawiono, jak to działa na poziomie hello HTTP (z POST protokołu HTTP żądania i hello SAS token wysłany wewnątrz hello "" Nagłówek uwierzytelnienia).</span><span class="sxs-lookup"><span data-stu-id="25815-230">Of course, this library is useful toohelp understand how claims-based security works at hello AMQP level, as you saw how it works at hello HTTP level (with an HTTP POST request and hello SAS token sent inside hello "Authorization" header).</span></span> <span data-ttu-id="25815-231">Jeśli nie ma potrzeby takich głębokie wiedzą na temat protokołu AMQP, możesz użyć oficjalne hello zestawu SDK magistrali usług z platformą .net Framework aplikacji, co zrobić to za Ciebie.</span><span class="sxs-lookup"><span data-stu-id="25815-231">If you don't need such deep knowledge about AMQP, you can use hello official Service Bus SDK with .Net Framework applications, which will do it for you.</span></span>

### <a name="c35"></a><span data-ttu-id="25815-232">C&#35;</span><span class="sxs-lookup"><span data-stu-id="25815-232">C&#35;</span></span>

```csharp
/// <summary>
/// Send claim-based security (CBS) token
/// </summary>
/// <param name="shareAccessSignature">Shared access signature (token) toosend</param>
private bool PutCbsToken(Connection connection, string sasToken)
{
    bool result = true;
    Session session = new Session(connection);

    string cbsClientAddress = "cbs-client-reply-to";
    var cbsSender = new SenderLink(session, "cbs-sender", "$cbs");
    var cbsReceiver = new ReceiverLink(session, cbsClientAddress, "$cbs");

    // construct hello put-token message
    var request = new Message(sasToken);
    request.Properties = new Properties();
    request.Properties.MessageId = Guid.NewGuid().ToString();
    request.Properties.ReplyTo = cbsClientAddress;
    request.ApplicationProperties = new ApplicationProperties();
    request.ApplicationProperties["operation"] = "put-token";
    request.ApplicationProperties["type"] = "servicebus.windows.net:sastoken";
    request.ApplicationProperties["name"] = Fx.Format("amqp://{0}/{1}", sbNamespace, entity);
    cbsSender.Send(request);

    // receive hello response
    var response = cbsReceiver.Receive();
    if (response == null || response.Properties == null || response.ApplicationProperties == null)
    {
        result = false;
    }
    else
    {
        int statusCode = (int)response.ApplicationProperties["status-code"];
        if (statusCode != (int)HttpStatusCode.Accepted && statusCode != (int)HttpStatusCode.OK)
        {
            result = false;
        }
    }

    // hello sender/receiver may be kept open for refreshing tokens
    cbsSender.Close();
    cbsReceiver.Close();
    session.Close();

    return result;
}
```

<span data-ttu-id="25815-233">Hello `PutCbsToken()` metody odbiera hello *połączenia* (wystąpienie klasy połączenia protokołu AMQP zgodnie z hello [AMQP .NET Lite biblioteki](https://github.com/Azure/amqpnetlite)) reprezentujący usługi toohello połączeń TCP hello i hello *sasToken* parametr, który jest toosend tokenu sygnatury dostępu Współdzielonego hello.</span><span class="sxs-lookup"><span data-stu-id="25815-233">hello `PutCbsToken()` method receives hello *connection* (AMQP connection class instance as provided by hello [AMQP .NET Lite library](https://github.com/Azure/amqpnetlite)) that represents hello TCP connection toohello service and hello *sasToken* parameter that is hello SAS token toosend.</span></span> 

> [!NOTE]
> <span data-ttu-id="25815-234">Należy pamiętać, że połączenie hello jest utworzone za pomocą **mechanizmu uwierzytelniania SASL ustawić tooEXTERNAL** (i nie hello zwykły domyślne nazwy użytkownika i hasło używany, gdy nie ma potrzeby tokenu sygnatury dostępu Współdzielonego hello toosend).</span><span class="sxs-lookup"><span data-stu-id="25815-234">It's important that hello connection is created with **SASL authentication mechanism set tooEXTERNAL** (and not hello default PLAIN with username and password used when you don't need toosend hello SAS token).</span></span>
> 
> 

<span data-ttu-id="25815-235">Następnie wydawcy hello tworzy dwa łącza AMQP wysyłania tokenu sygnatury dostępu Współdzielonego hello i odbierania odpowiedzi hello (wynik weryfikacji tokenu hello) z usługi hello.</span><span class="sxs-lookup"><span data-stu-id="25815-235">Next, hello publisher creates two AMQP links for sending hello SAS token and receiving hello reply (hello token validation result) from hello service.</span></span>

<span data-ttu-id="25815-236">wiadomości powitania AMQP zawiera zbiór właściwości i dodatkowe informacje od prostego komunikatu.</span><span class="sxs-lookup"><span data-stu-id="25815-236">hello AMQP message contains a set of properties, and more information than a simple message.</span></span> <span data-ttu-id="25815-237">token sygnatury dostępu Współdzielonego Hello jest hello treści wiadomości powitania (przy użyciu jego konstruktora).</span><span class="sxs-lookup"><span data-stu-id="25815-237">hello SAS token is hello body of hello message (using its constructor).</span></span> <span data-ttu-id="25815-238">Witaj **"ReplyTo"** właściwość jest ustawiona nazwa węzła toohello do odbierania wynik weryfikacji hello łącze odbiornika hello (można zmienić jego nazwę, i zostanie utworzony dynamicznie przez usługę hello).</span><span class="sxs-lookup"><span data-stu-id="25815-238">hello **"ReplyTo"** property is set toohello node name for receiving hello validation result on hello receiver link (you can change its name if you want, and it will be created dynamically by hello service).</span></span> <span data-ttu-id="25815-239">Hello ostatnich trzech właściwości aplikacji/niestandardowe są używane przez tooindicate usługi hello jakie działanie ma tooexecute.</span><span class="sxs-lookup"><span data-stu-id="25815-239">hello last three application/custom properties are used by hello service tooindicate what kind of operation it has tooexecute.</span></span> <span data-ttu-id="25815-240">Zgodnie z opisem w hello CBS specyfikacji wersji roboczej, muszą one być hello **nazwy operacji** hello ("put-token"), **typu tokenu** (w tym przypadku "servicebus.windows.net:sastoken"), a hello **" Nazwa"hello odbiorców** toowhich hello token dotyczy (jednostka całego hello).</span><span class="sxs-lookup"><span data-stu-id="25815-240">As described by hello CBS draft specification, they must be hello **operation name** ("put-token"), hello **type of token** (in this case, a "servicebus.windows.net:sastoken"), and hello **"name" of hello audience** toowhich hello token applies (hello entire entity).</span></span>

<span data-ttu-id="25815-241">Po wysłaniu tokenu sygnatury dostępu Współdzielonego hello hello nadawcy łącze, hello wydawcy musi odczytu odpowiedzi hello hello odbiornika łącze.</span><span class="sxs-lookup"><span data-stu-id="25815-241">After sending hello SAS token on hello sender link, hello publisher must read hello reply on hello receiver link.</span></span> <span data-ttu-id="25815-242">odpowiedź Hello jest prosty komunikat protokołu AMQP z właściwością aplikacji o nazwie **"Kod stanu"** zawierających hello takie same wartości jak kod stanu HTTP.</span><span class="sxs-lookup"><span data-stu-id="25815-242">hello reply is a simple AMQP message with an application property named **"status-code"** that can contain hello same values as an HTTP status code.</span></span>

## <a name="rights-required-for-service-bus-operations"></a><span data-ttu-id="25815-243">Uprawnienia wymagane dla operacji usługi Service Bus</span><span class="sxs-lookup"><span data-stu-id="25815-243">Rights required for Service Bus operations</span></span>

<span data-ttu-id="25815-244">Witaj poniższej tabeli przedstawiono hello prawa dostępu wymagane przez różne operacje na zasobów usługi Service Bus.</span><span class="sxs-lookup"><span data-stu-id="25815-244">hello following table shows hello access rights required for various operations on Service Bus resources.</span></span>

| <span data-ttu-id="25815-245">Operacja</span><span class="sxs-lookup"><span data-stu-id="25815-245">Operation</span></span> | <span data-ttu-id="25815-246">Oświadczenia wymagane</span><span class="sxs-lookup"><span data-stu-id="25815-246">Claim Required</span></span> | <span data-ttu-id="25815-247">Zakres oświadczeń</span><span class="sxs-lookup"><span data-stu-id="25815-247">Claim Scope</span></span> |
| --- | --- | --- |
| <span data-ttu-id="25815-248">**Namespace**</span><span class="sxs-lookup"><span data-stu-id="25815-248">**Namespace**</span></span> | | |
| <span data-ttu-id="25815-249">Konfiguruj reguły autoryzacji w przestrzeni nazw</span><span class="sxs-lookup"><span data-stu-id="25815-249">Configure authorization rule on a namespace</span></span> |<span data-ttu-id="25815-250">Zarządzanie</span><span class="sxs-lookup"><span data-stu-id="25815-250">Manage</span></span> |<span data-ttu-id="25815-251">Każdy adres przestrzeni nazw</span><span class="sxs-lookup"><span data-stu-id="25815-251">Any namespace address</span></span> |
| <span data-ttu-id="25815-252">**Rejestr usługi**</span><span class="sxs-lookup"><span data-stu-id="25815-252">**Service Registry**</span></span> | | |
| <span data-ttu-id="25815-253">Wyliczanie zasad prywatnych</span><span class="sxs-lookup"><span data-stu-id="25815-253">Enumerate Private Policies</span></span> |<span data-ttu-id="25815-254">Zarządzanie</span><span class="sxs-lookup"><span data-stu-id="25815-254">Manage</span></span> |<span data-ttu-id="25815-255">Każdy adres przestrzeni nazw</span><span class="sxs-lookup"><span data-stu-id="25815-255">Any namespace address</span></span> |
| <span data-ttu-id="25815-256">Rozpoczęcie nasłuchiwania na przestrzeni nazw</span><span class="sxs-lookup"><span data-stu-id="25815-256">Begin listening on a namespace</span></span> |<span data-ttu-id="25815-257">Nasłuchiwanie</span><span class="sxs-lookup"><span data-stu-id="25815-257">Listen</span></span> |<span data-ttu-id="25815-258">Każdy adres przestrzeni nazw</span><span class="sxs-lookup"><span data-stu-id="25815-258">Any namespace address</span></span> |
| <span data-ttu-id="25815-259">Wysyłanie wiadomości tooa odbiornika w przestrzeni nazw</span><span class="sxs-lookup"><span data-stu-id="25815-259">Send messages tooa listener at a namespace</span></span> |<span data-ttu-id="25815-260">Send</span><span class="sxs-lookup"><span data-stu-id="25815-260">Send</span></span> |<span data-ttu-id="25815-261">Każdy adres przestrzeni nazw</span><span class="sxs-lookup"><span data-stu-id="25815-261">Any namespace address</span></span> |
| <span data-ttu-id="25815-262">**Kolejki**</span><span class="sxs-lookup"><span data-stu-id="25815-262">**Queue**</span></span> | | |
| <span data-ttu-id="25815-263">Tworzenie kolejki</span><span class="sxs-lookup"><span data-stu-id="25815-263">Create a queue</span></span> |<span data-ttu-id="25815-264">Zarządzanie</span><span class="sxs-lookup"><span data-stu-id="25815-264">Manage</span></span> |<span data-ttu-id="25815-265">Każdy adres przestrzeni nazw</span><span class="sxs-lookup"><span data-stu-id="25815-265">Any namespace address</span></span> |
| <span data-ttu-id="25815-266">Usuwanie kolejki</span><span class="sxs-lookup"><span data-stu-id="25815-266">Delete a queue</span></span> |<span data-ttu-id="25815-267">Zarządzanie</span><span class="sxs-lookup"><span data-stu-id="25815-267">Manage</span></span> |<span data-ttu-id="25815-268">Każdy adres prawidłową kolejką</span><span class="sxs-lookup"><span data-stu-id="25815-268">Any valid queue address</span></span> |
| <span data-ttu-id="25815-269">Wyliczanie kolejek</span><span class="sxs-lookup"><span data-stu-id="25815-269">Enumerate queues</span></span> |<span data-ttu-id="25815-270">Zarządzanie</span><span class="sxs-lookup"><span data-stu-id="25815-270">Manage</span></span> |<span data-ttu-id="25815-271">Katalogu zasobów/kolejek</span><span class="sxs-lookup"><span data-stu-id="25815-271">/$Resources/Queues</span></span> |
| <span data-ttu-id="25815-272">Opis kolejki hello pobierania</span><span class="sxs-lookup"><span data-stu-id="25815-272">Get hello queue description</span></span> |<span data-ttu-id="25815-273">Zarządzanie</span><span class="sxs-lookup"><span data-stu-id="25815-273">Manage</span></span> |<span data-ttu-id="25815-274">Każdy adres prawidłową kolejką</span><span class="sxs-lookup"><span data-stu-id="25815-274">Any valid queue address</span></span> |
| <span data-ttu-id="25815-275">Konfigurowanie reguł autoryzacji dla kolejki</span><span class="sxs-lookup"><span data-stu-id="25815-275">Configure authorization rule for a queue</span></span> |<span data-ttu-id="25815-276">Zarządzanie</span><span class="sxs-lookup"><span data-stu-id="25815-276">Manage</span></span> |<span data-ttu-id="25815-277">Każdy adres prawidłową kolejką</span><span class="sxs-lookup"><span data-stu-id="25815-277">Any valid queue address</span></span> |
| <span data-ttu-id="25815-278">Wyślij do kolejki toohello</span><span class="sxs-lookup"><span data-stu-id="25815-278">Send into toohello queue</span></span> |<span data-ttu-id="25815-279">Send</span><span class="sxs-lookup"><span data-stu-id="25815-279">Send</span></span> |<span data-ttu-id="25815-280">Każdy adres prawidłową kolejką</span><span class="sxs-lookup"><span data-stu-id="25815-280">Any valid queue address</span></span> |
| <span data-ttu-id="25815-281">Odbieranie komunikatów z kolejki</span><span class="sxs-lookup"><span data-stu-id="25815-281">Receive messages from a queue</span></span> |<span data-ttu-id="25815-282">Nasłuchiwanie</span><span class="sxs-lookup"><span data-stu-id="25815-282">Listen</span></span> |<span data-ttu-id="25815-283">Każdy adres prawidłową kolejką</span><span class="sxs-lookup"><span data-stu-id="25815-283">Any valid queue address</span></span> |
| <span data-ttu-id="25815-284">Porzuć lub wykonać wiadomości po otrzymaniu wiadomości powitania w trybie blokady podglądu</span><span class="sxs-lookup"><span data-stu-id="25815-284">Abandon or complete messages after receiving hello message in peek-lock mode</span></span> |<span data-ttu-id="25815-285">Nasłuchiwanie</span><span class="sxs-lookup"><span data-stu-id="25815-285">Listen</span></span> |<span data-ttu-id="25815-286">Każdy adres prawidłową kolejką</span><span class="sxs-lookup"><span data-stu-id="25815-286">Any valid queue address</span></span> |
| <span data-ttu-id="25815-287">Odroczenie komunikat dla nowszej pobierania</span><span class="sxs-lookup"><span data-stu-id="25815-287">Defer a message for later retrieval</span></span> |<span data-ttu-id="25815-288">Nasłuchiwanie</span><span class="sxs-lookup"><span data-stu-id="25815-288">Listen</span></span> |<span data-ttu-id="25815-289">Każdy adres prawidłową kolejką</span><span class="sxs-lookup"><span data-stu-id="25815-289">Any valid queue address</span></span> |
| <span data-ttu-id="25815-290">Wiadomości utraconych wiadomości</span><span class="sxs-lookup"><span data-stu-id="25815-290">Deadletter a message</span></span> |<span data-ttu-id="25815-291">Nasłuchiwanie</span><span class="sxs-lookup"><span data-stu-id="25815-291">Listen</span></span> |<span data-ttu-id="25815-292">Każdy adres prawidłową kolejką</span><span class="sxs-lookup"><span data-stu-id="25815-292">Any valid queue address</span></span> |
| <span data-ttu-id="25815-293">Pobierz stan hello skojarzony z sesją kolejki komunikatów</span><span class="sxs-lookup"><span data-stu-id="25815-293">Get hello state associated with a message queue session</span></span> |<span data-ttu-id="25815-294">Nasłuchiwanie</span><span class="sxs-lookup"><span data-stu-id="25815-294">Listen</span></span> |<span data-ttu-id="25815-295">Każdy adres prawidłową kolejką</span><span class="sxs-lookup"><span data-stu-id="25815-295">Any valid queue address</span></span> |
| <span data-ttu-id="25815-296">Ustaw stan hello skojarzonych z sesją kolejki komunikatów</span><span class="sxs-lookup"><span data-stu-id="25815-296">Set hello state associated with a message queue session</span></span> |<span data-ttu-id="25815-297">Nasłuchiwanie</span><span class="sxs-lookup"><span data-stu-id="25815-297">Listen</span></span> |<span data-ttu-id="25815-298">Każdy adres prawidłową kolejką</span><span class="sxs-lookup"><span data-stu-id="25815-298">Any valid queue address</span></span> |
| <span data-ttu-id="25815-299">**Temat**</span><span class="sxs-lookup"><span data-stu-id="25815-299">**Topic**</span></span> | | |
| <span data-ttu-id="25815-300">Tworzenie tematu</span><span class="sxs-lookup"><span data-stu-id="25815-300">Create a topic</span></span> |<span data-ttu-id="25815-301">Zarządzanie</span><span class="sxs-lookup"><span data-stu-id="25815-301">Manage</span></span> |<span data-ttu-id="25815-302">Każdy adres przestrzeni nazw</span><span class="sxs-lookup"><span data-stu-id="25815-302">Any namespace address</span></span> |
| <span data-ttu-id="25815-303">Usunięcie tematu</span><span class="sxs-lookup"><span data-stu-id="25815-303">Delete a topic</span></span> |<span data-ttu-id="25815-304">Zarządzanie</span><span class="sxs-lookup"><span data-stu-id="25815-304">Manage</span></span> |<span data-ttu-id="25815-305">Każdy adres nieprawidłowy temat</span><span class="sxs-lookup"><span data-stu-id="25815-305">Any valid topic address</span></span> |
| <span data-ttu-id="25815-306">Wyliczanie — tematy</span><span class="sxs-lookup"><span data-stu-id="25815-306">Enumerate topics</span></span> |<span data-ttu-id="25815-307">Zarządzanie</span><span class="sxs-lookup"><span data-stu-id="25815-307">Manage</span></span> |<span data-ttu-id="25815-308">Katalogu zasobów/tematy</span><span class="sxs-lookup"><span data-stu-id="25815-308">/$Resources/Topics</span></span> |
| <span data-ttu-id="25815-309">Opis tematu hello pobierania</span><span class="sxs-lookup"><span data-stu-id="25815-309">Get hello topic description</span></span> |<span data-ttu-id="25815-310">Zarządzanie</span><span class="sxs-lookup"><span data-stu-id="25815-310">Manage</span></span> |<span data-ttu-id="25815-311">Każdy adres nieprawidłowy temat</span><span class="sxs-lookup"><span data-stu-id="25815-311">Any valid topic address</span></span> |
| <span data-ttu-id="25815-312">Konfigurowanie reguł autoryzacji dla tematu</span><span class="sxs-lookup"><span data-stu-id="25815-312">Configure authorization rule for a topic</span></span> |<span data-ttu-id="25815-313">Zarządzanie</span><span class="sxs-lookup"><span data-stu-id="25815-313">Manage</span></span> |<span data-ttu-id="25815-314">Każdy adres nieprawidłowy temat</span><span class="sxs-lookup"><span data-stu-id="25815-314">Any valid topic address</span></span> |
| <span data-ttu-id="25815-315">Wyślij toohello tematu</span><span class="sxs-lookup"><span data-stu-id="25815-315">Send toohello topic</span></span> |<span data-ttu-id="25815-316">Send</span><span class="sxs-lookup"><span data-stu-id="25815-316">Send</span></span> |<span data-ttu-id="25815-317">Każdy adres nieprawidłowy temat</span><span class="sxs-lookup"><span data-stu-id="25815-317">Any valid topic address</span></span> |
| <span data-ttu-id="25815-318">**Subskrypcja**</span><span class="sxs-lookup"><span data-stu-id="25815-318">**Subscription**</span></span> | | |
| <span data-ttu-id="25815-319">Tworzenie subskrypcji</span><span class="sxs-lookup"><span data-stu-id="25815-319">Create a subscription</span></span> |<span data-ttu-id="25815-320">Zarządzanie</span><span class="sxs-lookup"><span data-stu-id="25815-320">Manage</span></span> |<span data-ttu-id="25815-321">Każdy adres przestrzeni nazw</span><span class="sxs-lookup"><span data-stu-id="25815-321">Any namespace address</span></span> |
| <span data-ttu-id="25815-322">Usuń subskrypcję</span><span class="sxs-lookup"><span data-stu-id="25815-322">Delete subscription</span></span> |<span data-ttu-id="25815-323">Zarządzanie</span><span class="sxs-lookup"><span data-stu-id="25815-323">Manage</span></span> |<span data-ttu-id="25815-324">.. /myTopic/Subscriptions/mySubscription</span><span class="sxs-lookup"><span data-stu-id="25815-324">../myTopic/Subscriptions/mySubscription</span></span> |
| <span data-ttu-id="25815-325">Wyliczanie subskrypcji</span><span class="sxs-lookup"><span data-stu-id="25815-325">Enumerate subscriptions</span></span> |<span data-ttu-id="25815-326">Zarządzanie</span><span class="sxs-lookup"><span data-stu-id="25815-326">Manage</span></span> |<span data-ttu-id="25815-327">.. / myTopic/subskrypcji</span><span class="sxs-lookup"><span data-stu-id="25815-327">../myTopic/Subscriptions</span></span> |
| <span data-ttu-id="25815-328">Pobrać opisu subskrypcji</span><span class="sxs-lookup"><span data-stu-id="25815-328">Get subscription description</span></span> |<span data-ttu-id="25815-329">Zarządzanie</span><span class="sxs-lookup"><span data-stu-id="25815-329">Manage</span></span> |<span data-ttu-id="25815-330">.. /myTopic/Subscriptions/mySubscription</span><span class="sxs-lookup"><span data-stu-id="25815-330">../myTopic/Subscriptions/mySubscription</span></span> |
| <span data-ttu-id="25815-331">Porzuć lub wykonać wiadomości po otrzymaniu wiadomości powitania w trybie blokady podglądu</span><span class="sxs-lookup"><span data-stu-id="25815-331">Abandon or complete messages after receiving hello message in peek-lock mode</span></span> |<span data-ttu-id="25815-332">Nasłuchiwanie</span><span class="sxs-lookup"><span data-stu-id="25815-332">Listen</span></span> |<span data-ttu-id="25815-333">.. /myTopic/Subscriptions/mySubscription</span><span class="sxs-lookup"><span data-stu-id="25815-333">../myTopic/Subscriptions/mySubscription</span></span> |
| <span data-ttu-id="25815-334">Odroczenie komunikat dla nowszej pobierania</span><span class="sxs-lookup"><span data-stu-id="25815-334">Defer a message for later retrieval</span></span> |<span data-ttu-id="25815-335">Nasłuchiwanie</span><span class="sxs-lookup"><span data-stu-id="25815-335">Listen</span></span> |<span data-ttu-id="25815-336">.. /myTopic/Subscriptions/mySubscription</span><span class="sxs-lookup"><span data-stu-id="25815-336">../myTopic/Subscriptions/mySubscription</span></span> |
| <span data-ttu-id="25815-337">Wiadomości utraconych wiadomości</span><span class="sxs-lookup"><span data-stu-id="25815-337">Deadletter a message</span></span> |<span data-ttu-id="25815-338">Nasłuchiwanie</span><span class="sxs-lookup"><span data-stu-id="25815-338">Listen</span></span> |<span data-ttu-id="25815-339">.. /myTopic/Subscriptions/mySubscription</span><span class="sxs-lookup"><span data-stu-id="25815-339">../myTopic/Subscriptions/mySubscription</span></span> |
| <span data-ttu-id="25815-340">Pobierz stan hello skojarzony z sesją tematu</span><span class="sxs-lookup"><span data-stu-id="25815-340">Get hello state associated with a topic session</span></span> |<span data-ttu-id="25815-341">Nasłuchiwanie</span><span class="sxs-lookup"><span data-stu-id="25815-341">Listen</span></span> |<span data-ttu-id="25815-342">.. /myTopic/Subscriptions/mySubscription</span><span class="sxs-lookup"><span data-stu-id="25815-342">../myTopic/Subscriptions/mySubscription</span></span> |
| <span data-ttu-id="25815-343">Ustaw stan hello skojarzonych z sesją tematu</span><span class="sxs-lookup"><span data-stu-id="25815-343">Set hello state associated with a topic session</span></span> |<span data-ttu-id="25815-344">Nasłuchiwanie</span><span class="sxs-lookup"><span data-stu-id="25815-344">Listen</span></span> |<span data-ttu-id="25815-345">.. /myTopic/Subscriptions/mySubscription</span><span class="sxs-lookup"><span data-stu-id="25815-345">../myTopic/Subscriptions/mySubscription</span></span> |
| <span data-ttu-id="25815-346">**Reguły**</span><span class="sxs-lookup"><span data-stu-id="25815-346">**Rules**</span></span> | | |
| <span data-ttu-id="25815-347">Utwórz regułę</span><span class="sxs-lookup"><span data-stu-id="25815-347">Create a rule</span></span> |<span data-ttu-id="25815-348">Zarządzanie</span><span class="sxs-lookup"><span data-stu-id="25815-348">Manage</span></span> |<span data-ttu-id="25815-349">.. /myTopic/Subscriptions/mySubscription</span><span class="sxs-lookup"><span data-stu-id="25815-349">../myTopic/Subscriptions/mySubscription</span></span> |
| <span data-ttu-id="25815-350">Usuwanie reguły</span><span class="sxs-lookup"><span data-stu-id="25815-350">Delete a rule</span></span> |<span data-ttu-id="25815-351">Zarządzanie</span><span class="sxs-lookup"><span data-stu-id="25815-351">Manage</span></span> |<span data-ttu-id="25815-352">.. /myTopic/Subscriptions/mySubscription</span><span class="sxs-lookup"><span data-stu-id="25815-352">../myTopic/Subscriptions/mySubscription</span></span> |
| <span data-ttu-id="25815-353">Wyliczanie zasad</span><span class="sxs-lookup"><span data-stu-id="25815-353">Enumerate rules</span></span> |<span data-ttu-id="25815-354">Zarządzanie lub nasłuchiwania</span><span class="sxs-lookup"><span data-stu-id="25815-354">Manage or Listen</span></span> |<span data-ttu-id="25815-355">.. /myTopic/Subscriptions/mySubscription/Rules</span><span class="sxs-lookup"><span data-stu-id="25815-355">../myTopic/Subscriptions/mySubscription/Rules</span></span> 

## <a name="next-steps"></a><span data-ttu-id="25815-356">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="25815-356">Next steps</span></span>

<span data-ttu-id="25815-357">toolearn więcej informacji na temat komunikatów usługi Service Bus, zobacz następujące tematy hello.</span><span class="sxs-lookup"><span data-stu-id="25815-357">toolearn more about Service Bus messaging, see hello following topics.</span></span>

* [<span data-ttu-id="25815-358">Podstawy usługi Service Bus</span><span class="sxs-lookup"><span data-stu-id="25815-358">Service Bus fundamentals</span></span>](service-bus-fundamentals-hybrid-solutions.md)
* [<span data-ttu-id="25815-359">Kolejki, tematy i subskrypcje usługi Service Bus</span><span class="sxs-lookup"><span data-stu-id="25815-359">Service Bus queues, topics, and subscriptions</span></span>](service-bus-queues-topics-subscriptions.md)
* [<span data-ttu-id="25815-360">Jak toouse kolejek usługi Service Bus</span><span class="sxs-lookup"><span data-stu-id="25815-360">How toouse Service Bus queues</span></span>](service-bus-dotnet-get-started-with-queues.md)
* [<span data-ttu-id="25815-361">Jak toouse usługi Service Bus tematów i subskrypcji</span><span class="sxs-lookup"><span data-stu-id="25815-361">How toouse Service Bus topics and subscriptions</span></span>](service-bus-dotnet-how-to-use-topics-subscriptions.md)

[Azure portal]: https://portal.azure.com