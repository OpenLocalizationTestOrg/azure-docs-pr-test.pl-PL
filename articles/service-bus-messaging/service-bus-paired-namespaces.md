---
title: "przestrzenie nazw łączyć aaaAzure usługi Service Bus | Dokumentacja firmy Microsoft"
description: "Szczegóły implementacji par nazw i kosztów"
services: service-bus-messaging
documentationcenter: na
author: sethmanheim
manager: timlt
editor: 
ms.assetid: 2440c8d3-ed2e-47e0-93cf-ab7fbb855d2e
ms.service: service-bus-messaging
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 05/25/2017
ms.author: sethm
ms.openlocfilehash: 4c44b2b95d2228e1ad8075b52634d88a1593d3b1
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="paired-namespace-implementation-details-and-cost-implications"></a><span data-ttu-id="4e19d-103">Skojarzone szczegóły implementacji przestrzeni nazw i kosztów efekty</span><span class="sxs-lookup"><span data-stu-id="4e19d-103">Paired namespace implementation details and cost implications</span></span>
<span data-ttu-id="4e19d-104">Witaj [PairNamespaceAsync] [ PairNamespaceAsync] — metoda, za pomocą [SendAvailabilityPairedNamespaceOptions] [ SendAvailabilityPairedNamespaceOptions] wystąpienia, wykonuje zadania widoczne w Twoim imieniu.</span><span class="sxs-lookup"><span data-stu-id="4e19d-104">hello [PairNamespaceAsync][PairNamespaceAsync] method, using a [SendAvailabilityPairedNamespaceOptions][SendAvailabilityPairedNamespaceOptions] instance, performs visible tasks on your behalf.</span></span> <span data-ttu-id="4e19d-105">Ponieważ są koszt zagadnienia, podczas używania funkcji hello, jest przydatne toounderstand tych zadań, aby oczekiwać hello zachowanie, gdy nastąpi.</span><span class="sxs-lookup"><span data-stu-id="4e19d-105">Because there are cost considerations when using hello feature, it is useful toounderstand those tasks so that you expect hello behavior when it happens.</span></span> <span data-ttu-id="4e19d-106">Witaj interfejsu API angażujący hello następujące zachowanie automatyczne w Twoim imieniu:</span><span class="sxs-lookup"><span data-stu-id="4e19d-106">hello API engages hello following automatic behavior on your behalf:</span></span>

* <span data-ttu-id="4e19d-107">Tworzenie zaległości kolejki.</span><span class="sxs-lookup"><span data-stu-id="4e19d-107">Creation of backlog queues.</span></span>
* <span data-ttu-id="4e19d-108">Tworzenie [MessageSender] [ MessageSender] obiekt, który zawiera tooqueues lub tematów.</span><span class="sxs-lookup"><span data-stu-id="4e19d-108">Creation of a [MessageSender][MessageSender] object that talks tooqueues or topics.</span></span>
* <span data-ttu-id="4e19d-109">Gdy jednostka obsługi komunikatów staje się niedostępny, wysyła komunikaty ping toohello jednostki w toodetect próba podczas jednostkę znowu dostępne.</span><span class="sxs-lookup"><span data-stu-id="4e19d-109">When a messaging entity becomes unavailable, sends ping messages toohello entity in an attempt toodetect when that entity becomes available again.</span></span>
* <span data-ttu-id="4e19d-110">Opcjonalnie tworzy zestawu pomp"komunikat" czy przenoszenia wiadomości z hello zaległości kolejki toohello głównej kolejek.</span><span class="sxs-lookup"><span data-stu-id="4e19d-110">Optionally creates of a set of “message pumps” that move messages from hello backlog queues toohello primary queues.</span></span>
* <span data-ttu-id="4e19d-111">Współrzędne zamknięcia/spowodowaniem błędu z hello podstawowych i pomocniczych [MessagingFactory] [ MessagingFactory] wystąpień.</span><span class="sxs-lookup"><span data-stu-id="4e19d-111">Coordinates closing/faulting of hello primary and secondary [MessagingFactory][MessagingFactory] instances.</span></span>

<span data-ttu-id="4e19d-112">Na wysokim poziomie, funkcja hello działa w następujący sposób: obiekt podstawowy hello jest w dobrej kondycji, żadne zmiany zachowania nastąpić.</span><span class="sxs-lookup"><span data-stu-id="4e19d-112">At a high level, hello feature works as follows: when hello primary entity is healthy, no behavior changes occur.</span></span> <span data-ttu-id="4e19d-113">Gdy hello [FailoverInterval] [ FailoverInterval] upłynie czas trwania, a obiekt podstawowy hello zobaczy nie powiodło się wysyła po z systemem innym niż przejściowy [MessagingException] [ MessagingException] lub [TimeoutException][TimeoutException], występuje hello następujące zachowanie:</span><span class="sxs-lookup"><span data-stu-id="4e19d-113">When hello [FailoverInterval][FailoverInterval] duration elapses, and hello primary entity sees no successful sends after a non-transient [MessagingException][MessagingException] or a [TimeoutException][TimeoutException], hello following behavior occurs:</span></span>

1. <span data-ttu-id="4e19d-114">Wyślij toohello operacji podstawowej jednostki są wyłączone i pakietów systemu hello hello podstawowej jednostki, aż pomyślnie dostarczony polecenia ping.</span><span class="sxs-lookup"><span data-stu-id="4e19d-114">Send operations toohello primary entity are disabled and hello system pings hello primary entity until pings can be successfully delivered.</span></span>
2. <span data-ttu-id="4e19d-115">Wybrano losowe zaległości kolejki.</span><span class="sxs-lookup"><span data-stu-id="4e19d-115">A random backlog queue is selected.</span></span>
3. <span data-ttu-id="4e19d-116">[BrokeredMessage] [ BrokeredMessage] obiekty są routingiem toohello wybrany zaległości kolejki.</span><span class="sxs-lookup"><span data-stu-id="4e19d-116">[BrokeredMessage][BrokeredMessage] objects are routed toohello chosen backlog queue.</span></span>
4. <span data-ttu-id="4e19d-117">W przypadku niepowodzenia toohello operacji wysyłania, wybierany zaległości kolejki tej kolejki są pobierane z obrotu hello i Nowa kolejka jest zaznaczone.</span><span class="sxs-lookup"><span data-stu-id="4e19d-117">If a send operation toohello chosen backlog queue fails, that queue is pulled from hello rotation and a new queue is selected.</span></span> <span data-ttu-id="4e19d-118">Wszystkich nadawców na powitania [MessagingFactory] [ MessagingFactory] wystąpienia Dowiedz się hello awarii.</span><span class="sxs-lookup"><span data-stu-id="4e19d-118">All senders on hello [MessagingFactory][MessagingFactory] instance learn of hello failure.</span></span>

<span data-ttu-id="4e19d-119">Witaj następującej liczby przedstawiać hello sekwencji.</span><span class="sxs-lookup"><span data-stu-id="4e19d-119">hello following figures depict hello sequence.</span></span> <span data-ttu-id="4e19d-120">Po pierwsze hello Nadawca wysyła wiadomości.</span><span class="sxs-lookup"><span data-stu-id="4e19d-120">First, hello sender sends messages.</span></span>

![Sparowanego przestrzenie nazw][0]

<span data-ttu-id="4e19d-122">Po awarii toosend toohello podstawowej kolejki hello nadawca zaczyna, wysyłania wiadomości tooa losowo wybrany zaległości kolejki.</span><span class="sxs-lookup"><span data-stu-id="4e19d-122">Upon failure toosend toohello primary queue, hello sender begins sending messages tooa randomly chosen backlog queue.</span></span> <span data-ttu-id="4e19d-123">Rozpoczyna się jednocześnie, zadanie ping.</span><span class="sxs-lookup"><span data-stu-id="4e19d-123">Simultaneously, it starts a ping task.</span></span>

![Sparowanego przestrzenie nazw][1]

<span data-ttu-id="4e19d-125">W tym momencie wiadomości powitania są nadal w hello kolejki dodatkowej, a nie została dostarczona toohello kolejki głównej.</span><span class="sxs-lookup"><span data-stu-id="4e19d-125">At this point hello messages are still in hello secondary queue and have not been delivered toohello primary queue.</span></span> <span data-ttu-id="4e19d-126">Po kolejki głównej hello jest w dobrej kondycji ponownie, co najmniej jednego procesu powinna działać hello syphon.</span><span class="sxs-lookup"><span data-stu-id="4e19d-126">Once hello primary queue is healthy again, at least one process should be running hello syphon.</span></span> <span data-ttu-id="4e19d-127">Hello syphon dostarcza wiadomości powitania z wszystkich powitalne różnych zaległości kolejki toohello właściwe miejsce docelowe jednostek (kolejki i tematy).</span><span class="sxs-lookup"><span data-stu-id="4e19d-127">hello syphon delivers hello messages from all hello various backlog queues toohello proper destination entities (queues and topics).</span></span>

![Sparowanego przestrzenie nazw][2]

<span data-ttu-id="4e19d-129">Hello pozostałej części tematu opisano hello konkretne szczegółowe informacje, jak te elementy pracy.</span><span class="sxs-lookup"><span data-stu-id="4e19d-129">hello remainder of this topic discusses hello specific details of how these pieces work.</span></span>

## <a name="creation-of-backlog-queues"></a><span data-ttu-id="4e19d-130">Tworzenie zaległości kolejki</span><span class="sxs-lookup"><span data-stu-id="4e19d-130">Creation of backlog queues</span></span>
<span data-ttu-id="4e19d-131">Witaj [SendAvailabilityPairedNamespaceOptions] [ SendAvailabilityPairedNamespaceOptions] obiekt przekazany toohello [PairNamespaceAsync] [ PairNamespaceAsync] hello wskazuje — metoda Liczba zaległości kolejki możesz mają toouse.</span><span class="sxs-lookup"><span data-stu-id="4e19d-131">hello [SendAvailabilityPairedNamespaceOptions][SendAvailabilityPairedNamespaceOptions] object passed toohello [PairNamespaceAsync][PairNamespaceAsync] method indicates hello number of backlog queues you want toouse.</span></span> <span data-ttu-id="4e19d-132">Każdej kolejki zaległości zostanie utworzona z hello następujące właściwości jawnie ustaw (wszystkie inne wartości są ustawiane toohello [QueueDescription] [ QueueDescription] ustawień domyślnych):</span><span class="sxs-lookup"><span data-stu-id="4e19d-132">Each backlog queue is then created with hello following properties explicitly set (all other values are set toohello [QueueDescription][QueueDescription] defaults):</span></span>

| <span data-ttu-id="4e19d-133">Ścieżka</span><span class="sxs-lookup"><span data-stu-id="4e19d-133">Path</span></span> | <span data-ttu-id="4e19d-134">[głównej przestrzeni nazw] / x magistrali usług transferu / [Indeks] [Indeks] w przypadku wartości [0, BacklogQueueCount)</span><span class="sxs-lookup"><span data-stu-id="4e19d-134">[primary namespace]/x-servicebus-transfer/[index] where [index] is a value in [0, BacklogQueueCount)</span></span> |
| --- | --- |
| <span data-ttu-id="4e19d-135">MaxSizeInMegabytes</span><span class="sxs-lookup"><span data-stu-id="4e19d-135">MaxSizeInMegabytes</span></span> |<span data-ttu-id="4e19d-136">5120</span><span class="sxs-lookup"><span data-stu-id="4e19d-136">5120</span></span> |
| <span data-ttu-id="4e19d-137">maxDeliveryCount</span><span class="sxs-lookup"><span data-stu-id="4e19d-137">MaxDeliveryCount</span></span> |<span data-ttu-id="4e19d-138">int. MaxValue</span><span class="sxs-lookup"><span data-stu-id="4e19d-138">int.MaxValue</span></span> |
| <span data-ttu-id="4e19d-139">DefaultMessageTimeToLive</span><span class="sxs-lookup"><span data-stu-id="4e19d-139">DefaultMessageTimeToLive</span></span> |<span data-ttu-id="4e19d-140">Wartość TimeSpan.MaxValue</span><span class="sxs-lookup"><span data-stu-id="4e19d-140">TimeSpan.MaxValue</span></span> |
| <span data-ttu-id="4e19d-141">AutoDeleteOnIdle</span><span class="sxs-lookup"><span data-stu-id="4e19d-141">AutoDeleteOnIdle</span></span> |<span data-ttu-id="4e19d-142">Wartość TimeSpan.MaxValue</span><span class="sxs-lookup"><span data-stu-id="4e19d-142">TimeSpan.MaxValue</span></span> |
| <span data-ttu-id="4e19d-143">LockDuration</span><span class="sxs-lookup"><span data-stu-id="4e19d-143">LockDuration</span></span> |<span data-ttu-id="4e19d-144">1 minuta</span><span class="sxs-lookup"><span data-stu-id="4e19d-144">1 minute</span></span> |
| <span data-ttu-id="4e19d-145">EnableDeadLetteringOnMessageExpiration</span><span class="sxs-lookup"><span data-stu-id="4e19d-145">EnableDeadLetteringOnMessageExpiration</span></span> |<span data-ttu-id="4e19d-146">Wartość true</span><span class="sxs-lookup"><span data-stu-id="4e19d-146">true</span></span> |
| <span data-ttu-id="4e19d-147">EnableBatchedOperations</span><span class="sxs-lookup"><span data-stu-id="4e19d-147">EnableBatchedOperations</span></span> |<span data-ttu-id="4e19d-148">Wartość true</span><span class="sxs-lookup"><span data-stu-id="4e19d-148">true</span></span> |

<span data-ttu-id="4e19d-149">Na przykład hello pierwszej zaległości kolejki utworzone dla przestrzeni nazw **contoso** nosi nazwę `contoso/x-servicebus-transfer/0`.</span><span class="sxs-lookup"><span data-stu-id="4e19d-149">For example, hello first backlog queue created for namespace **contoso** is named `contoso/x-servicebus-transfer/0`.</span></span>

<span data-ttu-id="4e19d-150">Podczas tworzenia kolejki hello, kod hello najpierw sprawdza toosee, jeśli istnieje takiej kolejki.</span><span class="sxs-lookup"><span data-stu-id="4e19d-150">When creating hello queues, hello code first checks toosee if such a queue exists.</span></span> <span data-ttu-id="4e19d-151">Jeśli hello kolejka nie istnieje, kolejka hello jest tworzona.</span><span class="sxs-lookup"><span data-stu-id="4e19d-151">If hello queue does not exist, then hello queue is created.</span></span> <span data-ttu-id="4e19d-152">nie ma kodu Hello oczyszczania "dodatkowe" zaległości kolejki.</span><span class="sxs-lookup"><span data-stu-id="4e19d-152">hello code does not clean up "extra" backlog queues.</span></span> <span data-ttu-id="4e19d-153">W szczególności, jeśli hello aplikacji hello głównej przestrzeni nazw **contoso** żądań w pięciu kolejkach zaległości, ale zaległości kolejki ze ścieżką hello `contoso/x-servicebus-transfer/7` istnieje, jest nadal znajdują się dodatkowe zaległości kolejki, ale nie są używane.</span><span class="sxs-lookup"><span data-stu-id="4e19d-153">Specifically, if hello application with hello primary namespace **contoso** requests five backlog queues but a backlog queue with hello path `contoso/x-servicebus-transfer/7` exists, that extra backlog queue is still present but is not used.</span></span> <span data-ttu-id="4e19d-154">Hello system jawnie zezwala na dodatkowe zaległości kolejki tooexist, który nie jest używany.</span><span class="sxs-lookup"><span data-stu-id="4e19d-154">hello system explicitly allows extra backlog queues tooexist that would not be used.</span></span> <span data-ttu-id="4e19d-155">Właściciel przestrzeni nazw hello jest odpowiedzialny za czyszczenie wszystkie nieużywane/niechciane zaległości kolejki.</span><span class="sxs-lookup"><span data-stu-id="4e19d-155">As hello namespace owner, you are responsible for cleaning up any unused/unwanted backlog queues.</span></span> <span data-ttu-id="4e19d-156">Witaj tej decyzji są usługi Service Bus nie wiadomo, jakich celów istnieje dla wszystkich kolejek hello w przestrzeni nazw.</span><span class="sxs-lookup"><span data-stu-id="4e19d-156">hello reason for this decision is that Service Bus cannot know what purposes exist for all hello queues in your namespace.</span></span> <span data-ttu-id="4e19d-157">Ponadto jeśli kolejka o hello podanej nazwie istnieje, ale nie spełnia hello zakłada, że [QueueDescription][QueueDescription], nie można używać z powodów własne do zmieniających się hello domyślne zachowanie.</span><span class="sxs-lookup"><span data-stu-id="4e19d-157">Furthermore, if a queue exists with hello given name but does not meet hello assumed [QueueDescription][QueueDescription], then your reasons are your own for changing hello default behavior.</span></span> <span data-ttu-id="4e19d-158">Żadnych gwarancji są wykonywane dla kolejki zaległości toohello zmian w kodzie.</span><span class="sxs-lookup"><span data-stu-id="4e19d-158">No guarantees are made for modifications toohello backlog queues by your code.</span></span> <span data-ttu-id="4e19d-159">Wprowadź zmiany tootest się dokładnie.</span><span class="sxs-lookup"><span data-stu-id="4e19d-159">Make sure tootest your changes thoroughly.</span></span>

## <a name="custom-messagesender"></a><span data-ttu-id="4e19d-160">Niestandardowe MessageSender</span><span class="sxs-lookup"><span data-stu-id="4e19d-160">Custom MessageSender</span></span>
<span data-ttu-id="4e19d-161">Podczas wysyłania, wszystkie komunikaty go za pośrednictwem wewnętrznego [MessageSender] [ MessageSender] obiekt, który działa normalnie, kiedy wszystko działa i przekierowuje toohello zaległości kolejki, gdy elementy "break."</span><span class="sxs-lookup"><span data-stu-id="4e19d-161">When sending, all messages go through an internal [MessageSender][MessageSender] object that behaves normally when everything works, and redirects toohello backlog queues when things "break."</span></span> <span data-ttu-id="4e19d-162">Po odebraniu Błąd przejściowy z systemem innym niż, uruchamia czasomierz.</span><span class="sxs-lookup"><span data-stu-id="4e19d-162">Upon receiving a non-transient failure, a timer starts.</span></span> <span data-ttu-id="4e19d-163">Po [TimeSpan] [ TimeSpan] okres składające się z hello [FailoverInterval] [ FailoverInterval] wartość właściwości, w którym nie wysłano żadnych komunikatów powiodło się , pracy awaryjnej hello jest włączone.</span><span class="sxs-lookup"><span data-stu-id="4e19d-163">After a [TimeSpan][TimeSpan] period consisting of hello [FailoverInterval][FailoverInterval] property value during which no successful messages are sent, hello failover is engaged.</span></span> <span data-ttu-id="4e19d-164">W tym momencie hello następujących czynności stanie dla każdego obiektu:</span><span class="sxs-lookup"><span data-stu-id="4e19d-164">At this point, hello following things happen for each entity:</span></span>

* <span data-ttu-id="4e19d-165">Wykonuje zadanie ping co [PingPrimaryInterval] [ PingPrimaryInterval] toocheck, jeśli jednostka hello jest dostępna.</span><span class="sxs-lookup"><span data-stu-id="4e19d-165">A ping task executes every [PingPrimaryInterval][PingPrimaryInterval] toocheck if hello entity is available.</span></span> <span data-ttu-id="4e19d-166">Gdy to zadanie zakończy się powodzeniem, żadnego kodu klienta, który używa jednostki hello natychmiast rozpoczyna wysyłanie nowej wiadomości toohello głównej przestrzeni nazw.</span><span class="sxs-lookup"><span data-stu-id="4e19d-166">Once this task succeeds, all client code that uses hello entity immediately starts sending new messages toohello primary namespace.</span></span>
* <span data-ttu-id="4e19d-167">Tej samej jednostki z innych nadawców spowoduje hello toothat toosend przyszłych żądań [BrokeredMessage] [ BrokeredMessage] wysyłane toobe zmodyfikować toosit hello zaległości kolejki.</span><span class="sxs-lookup"><span data-stu-id="4e19d-167">Future requests toosend toothat same entity from any other senders will result in hello [BrokeredMessage][BrokeredMessage] being sent toobe modified toosit in hello backlog queue.</span></span> <span data-ttu-id="4e19d-168">Modyfikacja Hello usuwa hello niektóre właściwości [BrokeredMessage] [ BrokeredMessage] obiektu i przechowuje je w innym miejscu.</span><span class="sxs-lookup"><span data-stu-id="4e19d-168">hello modification removes some properties from hello [BrokeredMessage][BrokeredMessage] object and stores them elsewhere.</span></span> <span data-ttu-id="4e19d-169">Witaj następujące właściwości są wyczyszczone i dodany w obszarze Nowy alias, umożliwiając usługi Service Bus i hello wiadomości tooprocess SDK jednolicie:</span><span class="sxs-lookup"><span data-stu-id="4e19d-169">hello following properties are cleared and added under a new alias, allowing Service Bus and hello SDK tooprocess messages uniformly:</span></span>

| <span data-ttu-id="4e19d-170">Stara nazwa właściwości</span><span class="sxs-lookup"><span data-stu-id="4e19d-170">Old Property Name</span></span> | <span data-ttu-id="4e19d-171">Nowa nazwa właściwości</span><span class="sxs-lookup"><span data-stu-id="4e19d-171">New Property Name</span></span> |
| --- | --- |
| <span data-ttu-id="4e19d-172">Identyfikator sesji</span><span class="sxs-lookup"><span data-stu-id="4e19d-172">SessionId</span></span> |<span data-ttu-id="4e19d-173">x-ms-sessionid</span><span class="sxs-lookup"><span data-stu-id="4e19d-173">x-ms-sessionid</span></span> |
| <span data-ttu-id="4e19d-174">TimeToLive</span><span class="sxs-lookup"><span data-stu-id="4e19d-174">TimeToLive</span></span> |<span data-ttu-id="4e19d-175">x-ms-timetolive</span><span class="sxs-lookup"><span data-stu-id="4e19d-175">x-ms-timetolive</span></span> |
| <span data-ttu-id="4e19d-176">ScheduledEnqueueTimeUtc</span><span class="sxs-lookup"><span data-stu-id="4e19d-176">ScheduledEnqueueTimeUtc</span></span> |<span data-ttu-id="4e19d-177">x-ms-path.</span><span class="sxs-lookup"><span data-stu-id="4e19d-177">x-ms-path</span></span> |

<span data-ttu-id="4e19d-178">Oryginalna ścieżka docelowa Hello jest również przechowywane w wiadomości powitania jako właściwość o nazwie x-ms-path.</span><span class="sxs-lookup"><span data-stu-id="4e19d-178">hello original destination path is also stored within hello message as a property named x-ms-path.</span></span> <span data-ttu-id="4e19d-179">Ten projekt umożliwia komunikatów dla wielu toocoexist jednostek w jednym zaległości kolejki.</span><span class="sxs-lookup"><span data-stu-id="4e19d-179">This design allows messages for many entities toocoexist in a single backlog queue.</span></span> <span data-ttu-id="4e19d-180">właściwości Hello są tłumaczone przez hello syphon.</span><span class="sxs-lookup"><span data-stu-id="4e19d-180">hello properties are translated back by hello syphon.</span></span>

<span data-ttu-id="4e19d-181">niestandardowe Hello [MessageSender] [ MessageSender] obiektu można napotkania problemów podczas wiadomości podejścia limit 256 KB hello i pracy awaryjnej jest włączone.</span><span class="sxs-lookup"><span data-stu-id="4e19d-181">hello custom [MessageSender][MessageSender] object can encounter issues when messages approach hello 256-KB limit and failover is engaged.</span></span> <span data-ttu-id="4e19d-182">niestandardowe Hello [MessageSender] [ MessageSender] obiekt przechowuje komunikaty wszystkich kolejek i tematów w hello zaległości kolejki.</span><span class="sxs-lookup"><span data-stu-id="4e19d-182">hello custom [MessageSender][MessageSender] object stores messages for all queues and topics together in hello backlog queues.</span></span> <span data-ttu-id="4e19d-183">Ten obiekt łączy komunikaty z wielu kolory podstawowe w ramach hello zaległości kolejki.</span><span class="sxs-lookup"><span data-stu-id="4e19d-183">This object mixes messages from many primaries together within hello backlog queues.</span></span> <span data-ttu-id="4e19d-184">obciążenia toohandle zrównoważyć wielu klientów, których nie wiadomo, każdy inny, hello SDK losowo wybiera jeden zaległości kolejki dla każdego [QueueClient] [ QueueClient] lub [TopicClient] [ TopicClient] tworzenie w kodzie.</span><span class="sxs-lookup"><span data-stu-id="4e19d-184">toohandle load balancing among many clients that do not know each other, hello SDK randomly picks one backlog queue for each [QueueClient][QueueClient] or [TopicClient][TopicClient] you create in code.</span></span>

## <a name="pings"></a><span data-ttu-id="4e19d-185">Polecenia ping</span><span class="sxs-lookup"><span data-stu-id="4e19d-185">Pings</span></span>
<span data-ttu-id="4e19d-186">Wiadomość ping jest pusta [BrokeredMessage] [ BrokeredMessage] z jego [ContentType] [ ContentType] tooapplication/vnd.ms-magistrali usług ping ustawić właściwości i [TimeToLive] [ TimeToLive] wartość 1 sekundę.</span><span class="sxs-lookup"><span data-stu-id="4e19d-186">A ping message is an empty [BrokeredMessage][BrokeredMessage] with its [ContentType][ContentType] property set tooapplication/vnd.ms-servicebus-ping and a [TimeToLive][TimeToLive] value of 1 second.</span></span> <span data-ttu-id="4e19d-187">To polecenie ping ma jeden właściwości specjalne w usłudze Service Bus: serwer hello nigdy nie zapewnia polecenia ping, gdy zażąda każdego obiektu wywołującego [BrokeredMessage][BrokeredMessage].</span><span class="sxs-lookup"><span data-stu-id="4e19d-187">This ping has one special characteristic in Service Bus: hello server never delivers a ping when any caller requests a [BrokeredMessage][BrokeredMessage].</span></span> <span data-ttu-id="4e19d-188">W związku z tym, że nie musisz toolearn jak tooreceive i Ignoruj tych wiadomości.</span><span class="sxs-lookup"><span data-stu-id="4e19d-188">Thus, you never have toolearn how tooreceive and ignore these messages.</span></span> <span data-ttu-id="4e19d-189">Każdy obiekt (unikatowe kolejka lub temat) na [MessagingFactory] [ MessagingFactory] wystąpienia na klienta będzie można wykonywać polecenia ping, gdy są one uznawane za toobe niedostępny.</span><span class="sxs-lookup"><span data-stu-id="4e19d-189">Each entity (unique queue or topic) per [MessagingFactory][MessagingFactory] instance per client will be pinged when they are considered toobe unavailable.</span></span> <span data-ttu-id="4e19d-190">Domyślnie to odbywa się raz na minutę.</span><span class="sxs-lookup"><span data-stu-id="4e19d-190">By default, this happens once per minute.</span></span> <span data-ttu-id="4e19d-191">Wiadomości ping są traktowane jako toobe regularne komunikatów usługi Service Bus i może spowodować opłaty za przepustowości i komunikatów.</span><span class="sxs-lookup"><span data-stu-id="4e19d-191">Ping messages are considered toobe regular Service Bus messages, and can result in charges for bandwidth and messages.</span></span> <span data-ttu-id="4e19d-192">Jak hello klienci wykrywają, że hello system jest dostępny, Zatrzymaj wiadomości powitania.</span><span class="sxs-lookup"><span data-stu-id="4e19d-192">As soon as hello clients detect that hello system is available, hello messages stop.</span></span>

## <a name="hello-syphon"></a><span data-ttu-id="4e19d-193">Witaj syphon</span><span class="sxs-lookup"><span data-stu-id="4e19d-193">hello syphon</span></span>
<span data-ttu-id="4e19d-194">Co najmniej jeden program wykonywalny w aplikacji hello aktywnie powinna działać hello syphon.</span><span class="sxs-lookup"><span data-stu-id="4e19d-194">At least one executable program in hello application should be actively running hello syphon.</span></span> <span data-ttu-id="4e19d-195">Witaj syphon wykonuje długi sondowania odbierania, które to 15 minut.</span><span class="sxs-lookup"><span data-stu-id="4e19d-195">hello syphon performs a long poll receive that lasts 15 minutes.</span></span> <span data-ttu-id="4e19d-196">Gdy wszystkie obiekty są dostępne i masz 10 zaległości kolejki, hello aplikacji, która obsługuje wywołania syphon hello hello odbierania operacji 40 razy na godzinę, 960 razy dziennie i 28800 razy w ciągu 30 dni.</span><span class="sxs-lookup"><span data-stu-id="4e19d-196">When all entities are available and you have 10 backlog queues, hello application that hosts hello syphon calls hello receive operation 40 times per hour, 960 times per day, and 28800 times in 30 days.</span></span> <span data-ttu-id="4e19d-197">Podczas hello syphon jest aktywnie przenoszenia wiadomości z kolejki głównej hello zaległości toohello, każdy komunikat napotyka powitania po opłaty (standardowe opłaty za rozmiaru wiadomości i przepustowości dotyczy wszystkich etapach):</span><span class="sxs-lookup"><span data-stu-id="4e19d-197">When hello syphon is actively moving messages from hello backlog toohello primary queue, each message experiences hello following charges (standard charges for message size and bandwidth apply in all stages):</span></span>

1. <span data-ttu-id="4e19d-198">Wyślij toohello zaległości.</span><span class="sxs-lookup"><span data-stu-id="4e19d-198">Send toohello backlog.</span></span>
2. <span data-ttu-id="4e19d-199">Otrzymywać hello zaległości.</span><span class="sxs-lookup"><span data-stu-id="4e19d-199">Receive from hello backlog.</span></span>
3. <span data-ttu-id="4e19d-200">Wyślij toohello podstawowego.</span><span class="sxs-lookup"><span data-stu-id="4e19d-200">Send toohello primary.</span></span>
4. <span data-ttu-id="4e19d-201">Otrzymywać hello podstawowego.</span><span class="sxs-lookup"><span data-stu-id="4e19d-201">Receive from hello primary.</span></span>

## <a name="closefault-behavior"></a><span data-ttu-id="4e19d-202">Zamknij/błędów zachowanie</span><span class="sxs-lookup"><span data-stu-id="4e19d-202">Close/fault behavior</span></span>
<span data-ttu-id="4e19d-203">W aplikacji, która obsługuje hello syphon, raz hello podstawowej lub pomocniczej [MessagingFactory] [ MessagingFactory] błędów lub zostanie zamknięty bez jej partnerów również błędny/zamknięte i hello syphon wykrywa tego stanu , hello syphon działa.</span><span class="sxs-lookup"><span data-stu-id="4e19d-203">Within an application that hosts hello syphon, once hello primary or secondary [MessagingFactory][MessagingFactory] faults or is closed without its partner also being faulted/closed and hello syphon detects this state, hello syphon acts.</span></span> <span data-ttu-id="4e19d-204">Jeśli inne hello [MessagingFactory] [ MessagingFactory] nie są zamknięte w ciągu 5 sekund hello syphon będzie fault Otwórz nadal hello [MessagingFactory] [ MessagingFactory] .</span><span class="sxs-lookup"><span data-stu-id="4e19d-204">If hello other [MessagingFactory][MessagingFactory] is not closed within 5 seconds, hello syphon will fault hello still open [MessagingFactory][MessagingFactory].</span></span>

## <a name="next-steps"></a><span data-ttu-id="4e19d-205">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="4e19d-205">Next steps</span></span>
<span data-ttu-id="4e19d-206">Zobacz [asynchroniczne wzorce i wysokiej dostępności do obsługi komunikatów] [ Asynchronous messaging patterns and high availability] szczegółowe omówienie asynchroniczne komunikatów usługi Service Bus.</span><span class="sxs-lookup"><span data-stu-id="4e19d-206">See [Asynchronous messaging patterns and high availability][Asynchronous messaging patterns and high availability] for a detailed discussion of Service Bus asynchronous messaging.</span></span> 

[PairNamespaceAsync]: /dotnet/api/microsoft.servicebus.messaging.messagingfactory#Microsoft_ServiceBus_Messaging_MessagingFactory_PairNamespaceAsync_Microsoft_ServiceBus_Messaging_PairedNamespaceOptions_
[SendAvailabilityPairedNamespaceOptions]: /dotnet/api/microsoft.servicebus.messaging.sendavailabilitypairednamespaceoptions
[MessageSender]: /dotnet/api/microsoft.servicebus.messaging.messagesender
[MessagingFactory]: /dotnet/api/microsoft.servicebus.messaging.messagingfactory
[FailoverInterval]: /dotnet/api/microsoft.servicebus.messaging.pairednamespaceoptions#Microsoft_ServiceBus_Messaging_PairedNamespaceOptions_FailoverInterval
[MessagingException]: /dotnet/api/microsoft.servicebus.messaging.messagingexception
[TimeoutException]: https://msdn.microsoft.com/library/azure/system.timeoutexception.aspx
[BrokeredMessage]: /dotnet/api/microsoft.servicebus.messaging.brokeredmessage
[QueueDescription]: /dotnet/api/microsoft.servicebus.messaging.queuedescription
[TimeSpan]: https://msdn.microsoft.com/library/azure/system.timespan.aspx
[PingPrimaryInterval]: /dotnet/api/microsoft.servicebus.messaging.sendavailabilitypairednamespaceoptions#Microsoft_ServiceBus_Messaging_SendAvailabilityPairedNamespaceOptions_PingPrimaryInterval
[QueueClient]: /dotnet/api/microsoft.servicebus.messaging.queueclient
[TopicClient]: /dotnet/api/microsoft.servicebus.messaging.topicclient
[ContentType]: /dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_ContentType
[TimeToLive]: /dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_TimeToLive
[Asynchronous messaging patterns and high availability]: service-bus-async-messaging.md
[0]: ./media/service-bus-paired-namespaces/IC673405.png
[1]: ./media/service-bus-paired-namespaces/IC673406.png
[2]: ./media/service-bus-paired-namespaces/IC673407.png
