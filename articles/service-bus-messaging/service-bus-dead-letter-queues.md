---
title: "kolejki utraconych wiadomości magistrali aaaService | Dokumentacja firmy Microsoft"
description: "Omówienie usługi Azure Service Bus kolejki utraconych wiadomości"
services: service-bus-messaging
documentationcenter: .net
author: sethmanheim
manager: timlt
editor: 
ms.assetid: 68b2aa38-dba7-491a-9c26-0289bc15d397
ms.service: service-bus-messaging
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 05/17/2017
ms.author: clemensv;sethm
ms.openlocfilehash: 1638272085b8a3a59e8814f6f943caee35a2bfdc
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="overview-of-service-bus-dead-letter-queues"></a><span data-ttu-id="83fb5-103">Omówienie kolejki utraconych wiadomości usługi Service Bus</span><span class="sxs-lookup"><span data-stu-id="83fb5-103">Overview of Service Bus dead-letter queues</span></span>

<span data-ttu-id="83fb5-104">Kolejki usługi Service Bus i subskrypcje tematu zapewniają podrzędnej kolejki dodatkowej, nazywany *kolejki utraconych wiadomości* (DLQ).</span><span class="sxs-lookup"><span data-stu-id="83fb5-104">Service Bus queues and topic subscriptions provide a secondary sub-queue, called a *dead-letter queue* (DLQ).</span></span> <span data-ttu-id="83fb5-105">kolejki utraconych wiadomości powitania nie jest konieczne toobe jawnie utworzone i nie może być usunięty lub w inny sposób niezależny od zarządzanych hello głównego jednostki.</span><span class="sxs-lookup"><span data-stu-id="83fb5-105">hello dead-letter queue does not need toobe explicitly created and cannot be deleted or otherwise managed independent of hello main entity.</span></span>

<span data-ttu-id="83fb5-106">W tym artykule omówiono kolejki utraconych wiadomości w Azure Service Bus.</span><span class="sxs-lookup"><span data-stu-id="83fb5-106">This article discusses dead-letter queues in Azure Service Bus.</span></span> <span data-ttu-id="83fb5-107">Większość dyskusji hello jest zilustrowane hello [próbki kolejki utraconych wiadomości](https://github.com/Azure/azure-service-bus/tree/master/samples/DotNet/Microsoft.ServiceBus.Messaging/DeadletterQueue) w witrynie GitHub.</span><span class="sxs-lookup"><span data-stu-id="83fb5-107">Much of hello discussion is illustrated by hello [Dead-Letter Queues sample](https://github.com/Azure/azure-service-bus/tree/master/samples/DotNet/Microsoft.ServiceBus.Messaging/DeadletterQueue) on GitHub.</span></span>
 
## <a name="hello-dead-letter-queue"></a><span data-ttu-id="83fb5-108">kolejki utraconych wiadomości powitania</span><span class="sxs-lookup"><span data-stu-id="83fb5-108">hello dead-letter queue</span></span>

<span data-ttu-id="83fb5-109">Witaj kolejki utraconych wiadomości powitania służy toohold wiadomości, których nie można dostarczyć odbiornika tooany lub wiadomości, których nie można przetworzyć.</span><span class="sxs-lookup"><span data-stu-id="83fb5-109">hello purpose of hello dead-letter queue is toohold messages that cannot be delivered tooany receiver, or messages that could not be processed.</span></span> <span data-ttu-id="83fb5-110">Komunikaty można następnie usuwane z hello DLQ i inspekcji.</span><span class="sxs-lookup"><span data-stu-id="83fb5-110">Messages can then be removed from hello DLQ and inspected.</span></span> <span data-ttu-id="83fb5-111">Aplikacji może za pomocą operatora, rozwiązać problemy i ponownie prześlij wiadomość hello, dziennika hello fakt, że wystąpił błąd i podjęcia działań naprawczych.</span><span class="sxs-lookup"><span data-stu-id="83fb5-111">An application might, with help of an operator, correct issues and resubmit hello message, log hello fact that there was an error, and take corrective action.</span></span> 

<span data-ttu-id="83fb5-112">Z perspektywy interfejsu API i protokół hello DLQ jest przeważnie podobne tooany innych kolejki z tą różnicą, że komunikaty mogą zostać przesłane tylko za pomocą gestu utraconych wiadomości powitania hello nadrzędnej jednostki.</span><span class="sxs-lookup"><span data-stu-id="83fb5-112">From an API and protocol perspective, hello DLQ is mostly similar tooany other queue, except that messages can only be submitted via hello dead-letter gesture of hello parent entity.</span></span> <span data-ttu-id="83fb5-113">Ponadto, time-to-live nie zostaną spełnione, a nie utraconych komunikatów z DLQ.</span><span class="sxs-lookup"><span data-stu-id="83fb5-113">In addition, time-to-live is not observed, and you can't dead-letter a message from a DLQ.</span></span> <span data-ttu-id="83fb5-114">kolejki utraconych wiadomości powitania w pełni obsługuje operacje transakcyjne i dostarczania peek blokady.</span><span class="sxs-lookup"><span data-stu-id="83fb5-114">hello dead-letter queue fully supports peek-lock delivery and transactional operations.</span></span>

<span data-ttu-id="83fb5-115">Należy zauważyć, że nie jest Brak automatycznego oczyszczania hello DLQ.</span><span class="sxs-lookup"><span data-stu-id="83fb5-115">Note that there is no automatic cleanup of hello DLQ.</span></span> <span data-ttu-id="83fb5-116">Wiadomości pozostaną w hello DLQ, dopóki jawnie je odzyskać z hello DLQ i wywołanie [Complete()](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_CompleteAsync) hello utraconych wiadomości.</span><span class="sxs-lookup"><span data-stu-id="83fb5-116">Messages remain in hello DLQ until you explicitly retrieve them from hello DLQ and call [Complete()](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_CompleteAsync) on hello dead-letter message.</span></span>

## <a name="moving-messages-toohello-dlq"></a><span data-ttu-id="83fb5-117">Przenoszenie wiadomości toohello DLQ</span><span class="sxs-lookup"><span data-stu-id="83fb5-117">Moving messages toohello DLQ</span></span>

<span data-ttu-id="83fb5-118">Ma kilka działań w usłudze Service Bus, powodujących tooget komunikatów wypchniętych toohello DLQ od w hello aparat się do obsługi komunikatów.</span><span class="sxs-lookup"><span data-stu-id="83fb5-118">There are several activities in Service Bus that cause messages tooget pushed toohello DLQ from within hello messaging engine itself.</span></span> <span data-ttu-id="83fb5-119">Aplikacja również jawnie można przenosić wiadomości toohello DLQ.</span><span class="sxs-lookup"><span data-stu-id="83fb5-119">An application can also explicitly move messages toohello DLQ.</span></span> 

<span data-ttu-id="83fb5-120">Jako Broker hello pobiera przenieść tej wiadomości powitania, dwie właściwości są dodawane komunikat toohello jako hello broker wywołuje jego wewnętrznego wersja hello [utraconych wiadomości](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_DeadLetter_System_String_System_String_) metody na wiadomość powitania: `DeadLetterReason` i `DeadLetterErrorDescription`.</span><span class="sxs-lookup"><span data-stu-id="83fb5-120">As hello message gets moved by hello broker, two properties are added toohello message as hello broker calls its internal version of hello [DeadLetter](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_DeadLetter_System_String_System_String_) method on hello message: `DeadLetterReason` and `DeadLetterErrorDescription`.</span></span>

<span data-ttu-id="83fb5-121">Aplikacje mogą definiować własne kody hello `DeadLetterReason` właściwości, ale hello zestawów systemu hello następujące wartości.</span><span class="sxs-lookup"><span data-stu-id="83fb5-121">Applications can define their own codes for hello `DeadLetterReason` property, but hello system sets hello following values.</span></span>

| <span data-ttu-id="83fb5-122">Warunek</span><span class="sxs-lookup"><span data-stu-id="83fb5-122">Condition</span></span> | <span data-ttu-id="83fb5-123">DeadLetterReason</span><span class="sxs-lookup"><span data-stu-id="83fb5-123">DeadLetterReason</span></span> | <span data-ttu-id="83fb5-124">DeadLetterErrorDescription</span><span class="sxs-lookup"><span data-stu-id="83fb5-124">DeadLetterErrorDescription</span></span> |
| --- | --- | --- |
| <span data-ttu-id="83fb5-125">Zawsze</span><span class="sxs-lookup"><span data-stu-id="83fb5-125">Always</span></span> |<span data-ttu-id="83fb5-126">HeaderSizeExceeded</span><span class="sxs-lookup"><span data-stu-id="83fb5-126">HeaderSizeExceeded</span></span> |<span data-ttu-id="83fb5-127">Przekroczono przydział rozmiaru powitania dla tego strumienia.</span><span class="sxs-lookup"><span data-stu-id="83fb5-127">hello size quota for this stream has been exceeded.</span></span> |
| <span data-ttu-id="83fb5-128">! TopicDescription.</span><span class="sxs-lookup"><span data-stu-id="83fb5-128">!TopicDescription.</span></span><br /><span data-ttu-id="83fb5-129">EnableFilteringMessagesBeforePublishing i SubscriptionDescription.</span><span class="sxs-lookup"><span data-stu-id="83fb5-129">EnableFilteringMessagesBeforePublishing and SubscriptionDescription.</span></span><br /><span data-ttu-id="83fb5-130">EnableDeadLetteringOnFilterEvaluationExceptions</span><span class="sxs-lookup"><span data-stu-id="83fb5-130">EnableDeadLetteringOnFilterEvaluationExceptions</span></span> |<span data-ttu-id="83fb5-131">wyjątek. GetType(). Nazwa</span><span class="sxs-lookup"><span data-stu-id="83fb5-131">exception.GetType().Name</span></span> |<span data-ttu-id="83fb5-132">wyjątek. Komunikat</span><span class="sxs-lookup"><span data-stu-id="83fb5-132">exception.Message</span></span> |
| <span data-ttu-id="83fb5-133">EnableDeadLetteringOnMessageExpiration</span><span class="sxs-lookup"><span data-stu-id="83fb5-133">EnableDeadLetteringOnMessageExpiration</span></span> |<span data-ttu-id="83fb5-134">TTLExpiredException</span><span class="sxs-lookup"><span data-stu-id="83fb5-134">TTLExpiredException</span></span> |<span data-ttu-id="83fb5-135">wiadomości powitania wygasła i została martwych lettered.</span><span class="sxs-lookup"><span data-stu-id="83fb5-135">hello message expired and was dead lettered.</span></span> |
| <span data-ttu-id="83fb5-136">SubscriptionDescription.RequiresSession</span><span class="sxs-lookup"><span data-stu-id="83fb5-136">SubscriptionDescription.RequiresSession</span></span> |<span data-ttu-id="83fb5-137">Identyfikator sesji ma wartość null.</span><span class="sxs-lookup"><span data-stu-id="83fb5-137">Session id is null.</span></span> |<span data-ttu-id="83fb5-138">Jednostki włączone sesji nie pozwala na komunikat, którego identyfikator sesji ma wartość null.</span><span class="sxs-lookup"><span data-stu-id="83fb5-138">Session enabled entity doesn't allow a message whose session identifier is null.</span></span> |
| <span data-ttu-id="83fb5-139">! kolejki utraconych wiadomości</span><span class="sxs-lookup"><span data-stu-id="83fb5-139">!dead letter queue</span></span> |<span data-ttu-id="83fb5-140">MaxTransferHopCountExceeded</span><span class="sxs-lookup"><span data-stu-id="83fb5-140">MaxTransferHopCountExceeded</span></span> |<span data-ttu-id="83fb5-141">Wartość null</span><span class="sxs-lookup"><span data-stu-id="83fb5-141">Null</span></span> |
| <span data-ttu-id="83fb5-142">Jawne martwych drukiem aplikacji</span><span class="sxs-lookup"><span data-stu-id="83fb5-142">Application explicit dead lettering</span></span> |<span data-ttu-id="83fb5-143">Określone przez aplikację</span><span class="sxs-lookup"><span data-stu-id="83fb5-143">Specified by application</span></span> |<span data-ttu-id="83fb5-144">Określone przez aplikację</span><span class="sxs-lookup"><span data-stu-id="83fb5-144">Specified by application</span></span> |

## <a name="exceeding-maxdeliverycount"></a><span data-ttu-id="83fb5-145">Powyżej MaxDeliveryCount</span><span class="sxs-lookup"><span data-stu-id="83fb5-145">Exceeding MaxDeliveryCount</span></span>
<span data-ttu-id="83fb5-146">Kolejki, jak i subskrypcje mają [QueueDescription.MaxDeliveryCount](/dotnet/api/microsoft.servicebus.messaging.queuedescription#Microsoft_ServiceBus_Messaging_QueueDescription_MaxDeliveryCount) i [SubscriptionDescription.MaxDeliveryCount](/dotnet/api/microsoft.servicebus.messaging.subscriptiondescription#Microsoft_ServiceBus_Messaging_SubscriptionDescription_MaxDeliveryCount) właściwości odpowiednio; hello wartość domyślna to 10.</span><span class="sxs-lookup"><span data-stu-id="83fb5-146">Queues and subscriptions each have a [QueueDescription.MaxDeliveryCount](/dotnet/api/microsoft.servicebus.messaging.queuedescription#Microsoft_ServiceBus_Messaging_QueueDescription_MaxDeliveryCount) and [SubscriptionDescription.MaxDeliveryCount](/dotnet/api/microsoft.servicebus.messaging.subscriptiondescription#Microsoft_ServiceBus_Messaging_SubscriptionDescription_MaxDeliveryCount) property respectively; hello default value is 10.</span></span> <span data-ttu-id="83fb5-147">Zawsze, gdy wiadomość została dostarczona w obszarze blokady ([ReceiveMode.PeekLock](/dotnet/api/microsoft.servicebus.messaging.receivemode)), ale został albo jawnie porzucone lub blokady hello wygasło wiadomości powitania [BrokeredMessage.DeliveryCount](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_DeliveryCount) jest zwiększany.</span><span class="sxs-lookup"><span data-stu-id="83fb5-147">Whenever a message has been delivered under a lock ([ReceiveMode.PeekLock](/dotnet/api/microsoft.servicebus.messaging.receivemode)), but has been either explicitly abandoned or hello lock has expired, hello message's [BrokeredMessage.DeliveryCount](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_DeliveryCount) is incremented.</span></span> <span data-ttu-id="83fb5-148">Gdy [DeliveryCount](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_DeliveryCount) przekracza [MaxDeliveryCount](/dotnet/api/microsoft.servicebus.messaging.queuedescription#Microsoft_ServiceBus_Messaging_QueueDescription_MaxDeliveryCount), wiadomość hello jest przeniesionego toohello DLQ, określając hello `MaxDeliveryCountExceeded` kod przyczyny.</span><span class="sxs-lookup"><span data-stu-id="83fb5-148">When [DeliveryCount](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_DeliveryCount) exceeds [MaxDeliveryCount](/dotnet/api/microsoft.servicebus.messaging.queuedescription#Microsoft_ServiceBus_Messaging_QueueDescription_MaxDeliveryCount), hello message is moved toohello DLQ, specifying hello `MaxDeliveryCountExceeded` reason code.</span></span>

<span data-ttu-id="83fb5-149">Nie można wyłączyć to zachowanie, ale możesz ustawić [MaxDeliveryCount](/dotnet/api/microsoft.servicebus.messaging.queuedescription#Microsoft_ServiceBus_Messaging_QueueDescription_MaxDeliveryCount) tooa bardzo dużą liczbą.</span><span class="sxs-lookup"><span data-stu-id="83fb5-149">This behavior cannot be disabled, but you can set [MaxDeliveryCount](/dotnet/api/microsoft.servicebus.messaging.queuedescription#Microsoft_ServiceBus_Messaging_QueueDescription_MaxDeliveryCount) tooa very large number.</span></span>

## <a name="exceeding-timetolive"></a><span data-ttu-id="83fb5-150">Wartość TimeToLive powyżej</span><span class="sxs-lookup"><span data-stu-id="83fb5-150">Exceeding TimeToLive</span></span>
<span data-ttu-id="83fb5-151">Gdy hello [QueueDescription.EnableDeadLetteringOnMessageExpiration](/dotnet/api/microsoft.servicebus.messaging.queuedescription#Microsoft_ServiceBus_Messaging_QueueDescription_EnableDeadLetteringOnMessageExpiration) lub [SubscriptionDescription.EnableDeadLetteringOnMessageExpiration](/dotnet/api/microsoft.servicebus.messaging.subscriptiondescription#Microsoft_ServiceBus_Messaging_SubscriptionDescription_EnableDeadLetteringOnMessageExpiration) właściwość jest ustawiona zbyt**true** (domyślnie hello **false**), wszystkie komunikaty wygaszenie są przeniesionego toohello DLQ, określając hello `TTLExpiredException` kod przyczyny.</span><span class="sxs-lookup"><span data-stu-id="83fb5-151">When hello [QueueDescription.EnableDeadLetteringOnMessageExpiration](/dotnet/api/microsoft.servicebus.messaging.queuedescription#Microsoft_ServiceBus_Messaging_QueueDescription_EnableDeadLetteringOnMessageExpiration) or [SubscriptionDescription.EnableDeadLetteringOnMessageExpiration](/dotnet/api/microsoft.servicebus.messaging.subscriptiondescription#Microsoft_ServiceBus_Messaging_SubscriptionDescription_EnableDeadLetteringOnMessageExpiration) property is set too**true** (hello default is **false**), all expiring messages are moved toohello DLQ, specifying hello  `TTLExpiredException` reason code.</span></span>

<span data-ttu-id="83fb5-152">Zauważ, że komunikaty wygasłe są tylko usunięte i w związku z tym przeniesiony toohello DLQ, gdy istnieje co najmniej jeden odbiornik active ściąganie kolejki głównej hello lub subskrypcji; to zachowanie jest celowe.</span><span class="sxs-lookup"><span data-stu-id="83fb5-152">Note that expired messages are only purged and therefore moved toohello DLQ when there is at least one active receiver pulling on hello main queue or subscription; that behavior is by design.</span></span>

## <a name="errors-while-processing-subscription-rules"></a><span data-ttu-id="83fb5-153">Wystąpiły błędy podczas przetwarzania reguły subskrypcji</span><span class="sxs-lookup"><span data-stu-id="83fb5-153">Errors while processing subscription rules</span></span>
<span data-ttu-id="83fb5-154">Gdy hello [SubscriptionDescription.EnableDeadLetteringOnFilterEvaluationExceptions](/dotnet/api/microsoft.servicebus.messaging.subscriptiondescription#Microsoft_ServiceBus_Messaging_SubscriptionDescription_EnableDeadLetteringOnFilterEvaluationExceptions) właściwości jest włączony dla subskrypcji, wszystkie błędy, które są wykonywane, gdy wykonuje regułę filtru SQL subskrypcji są przechwytywane hello DLQ wraz z naruszeń wiadomość hello.</span><span class="sxs-lookup"><span data-stu-id="83fb5-154">When hello [SubscriptionDescription.EnableDeadLetteringOnFilterEvaluationExceptions](/dotnet/api/microsoft.servicebus.messaging.subscriptiondescription#Microsoft_ServiceBus_Messaging_SubscriptionDescription_EnableDeadLetteringOnFilterEvaluationExceptions) property is enabled for a subscription, any errors that occur while a subscription's SQL filter rule executes are captured in hello DLQ along with hello offending message.</span></span>

## <a name="application-level-dead-lettering"></a><span data-ttu-id="83fb5-155">Poziom aplikacji obsługa utraconych komunikatów</span><span class="sxs-lookup"><span data-stu-id="83fb5-155">Application-level dead-lettering</span></span>
<span data-ttu-id="83fb5-156">Dodanie toohello dostarczane przez system Obsługa utraconych komunikatów funkcji aplikacje mogą używać wiadomości powitania od DLQ tooexplicitly Odrzuć nie do przyjęcia.</span><span class="sxs-lookup"><span data-stu-id="83fb5-156">In addition toohello system-provided dead-lettering features, applications can use hello DLQ tooexplicitly reject unacceptable messages.</span></span> <span data-ttu-id="83fb5-157">Może to obejmować wiadomości, które nie mogą być przetwarzane prawidłowo powodu sortowania tooany problem systemowy, komunikatów zawierających nieprawidłowo sformułowany ładunek lub wiadomości, które niepowodzenia uwierzytelniania, gdy jest używany schemat niektórych zabezpieczenia na poziomie komunikatu.</span><span class="sxs-lookup"><span data-stu-id="83fb5-157">This may include messages that cannot be properly processed due tooany sort of system issue, messages that hold malformed payloads, or messages that fail authentication when some message-level security scheme is used.</span></span>

## <a name="dead-lettering-in-forwardto-or-sendvia-scenarios"></a><span data-ttu-id="83fb5-158">Obsługa utraconych komunikatów w scenariuszach ForwardTo lub SendVia</span><span class="sxs-lookup"><span data-stu-id="83fb5-158">Dead-lettering in ForwardTo or SendVia scenarios</span></span>

<span data-ttu-id="83fb5-159">Wiadomości zostaną wysłane toohello transfer kolejkę z utraconymi komunikatami w obszarze hello następujące warunki:</span><span class="sxs-lookup"><span data-stu-id="83fb5-159">Messages will be sent toohello transfer dead-letter queue under hello following conditions:</span></span>

- <span data-ttu-id="83fb5-160">Komunikat przechodzi przez więcej niż 3 kolejki i tematy, które są [połączonych ze sobą](service-bus-auto-forwarding.md).</span><span class="sxs-lookup"><span data-stu-id="83fb5-160">A message passes through more than 3 queues or topics that are [chained together](service-bus-auto-forwarding.md).</span></span>
- <span data-ttu-id="83fb5-161">Kolejka docelowa Hello lub temat zostało wyłączone lub usunięte.</span><span class="sxs-lookup"><span data-stu-id="83fb5-161">hello destination queue or topic is disabled or deleted.</span></span>
- <span data-ttu-id="83fb5-162">kolejki docelowej Hello lub temat przekracza rozmiar maksymalny jednostki hello.</span><span class="sxs-lookup"><span data-stu-id="83fb5-162">hello destination queue or topic exceeds hello maximum entity size.</span></span>

<span data-ttu-id="83fb5-163">tooretrieve te komunikaty lettered wiadomości, można utworzyć odbiornika za pomocą hello [FormatTransferDeadletterPath](/dotnet/api/microsoft.servicebus.messaging.queueclient#Microsoft_ServiceBus_Messaging_QueueClient_FormatTransferDeadLetterPath_System_String_) narzędzie metody.</span><span class="sxs-lookup"><span data-stu-id="83fb5-163">tooretrieve these dead-lettered messages, you can create a receiver using hello [FormatTransferDeadletterPath](/dotnet/api/microsoft.servicebus.messaging.queueclient#Microsoft_ServiceBus_Messaging_QueueClient_FormatTransferDeadLetterPath_System_String_) utility method.</span></span>

## <a name="example"></a><span data-ttu-id="83fb5-164">Przykład</span><span class="sxs-lookup"><span data-stu-id="83fb5-164">Example</span></span>
<span data-ttu-id="83fb5-165">Witaj następującego fragmentu kodu tworzy odbiorcy wiadomości.</span><span class="sxs-lookup"><span data-stu-id="83fb5-165">hello following code snippet creates a message receiver.</span></span> <span data-ttu-id="83fb5-166">W hello pętlę do kolejki głównej hello odbierania, hello kod pobiera wiadomość hello [Receive(TimeSpan.Zero)](/dotnet/api/microsoft.servicebus.messaging.messagereceiver#Microsoft_ServiceBus_Messaging_MessageReceiver_Receive_System_TimeSpan_), z pytaniem, zwracany tooinstantly brokera hello wszystkie dostępne wiadomości lub tooreturn z żadnego wyniku.</span><span class="sxs-lookup"><span data-stu-id="83fb5-166">In hello receive loop for hello main queue, hello code retrieves hello message with [Receive(TimeSpan.Zero)](/dotnet/api/microsoft.servicebus.messaging.messagereceiver#Microsoft_ServiceBus_Messaging_MessageReceiver_Receive_System_TimeSpan_), which asks hello broker tooinstantly return any message readily available, or tooreturn with no result.</span></span> <span data-ttu-id="83fb5-167">Jeśli kod hello odbiera wiadomości, jego natychmiast odstępuje, która zwiększa hello `DeliveryCount`.</span><span class="sxs-lookup"><span data-stu-id="83fb5-167">If hello code receives a message, it immediately abandons it, which increments hello  `DeliveryCount`.</span></span> <span data-ttu-id="83fb5-168">Po hello system przeniesie toohello wiadomość hello DLQ, kolejki głównej hello jest pusty i hello wyjścia z pętli, jako [metody ReceiveAsync](/dotnet/api/microsoft.servicebus.messaging.messagereceiver#Microsoft_ServiceBus_Messaging_MessageReceiver_ReceiveAsync_System_TimeSpan_) zwraca **null**.</span><span class="sxs-lookup"><span data-stu-id="83fb5-168">Once hello system moves hello message toohello DLQ, hello main queue is empty and hello loop exits, as [ReceiveAsync](/dotnet/api/microsoft.servicebus.messaging.messagereceiver#Microsoft_ServiceBus_Messaging_MessageReceiver_ReceiveAsync_System_TimeSpan_) returns **null**.</span></span>

```csharp
var receiver = await receiverFactory.CreateMessageReceiverAsync(queueName, ReceiveMode.PeekLock);
while(true)
{
    var msg = await receiver.ReceiveAsync(TimeSpan.Zero);
    if (msg != null)
    {
        Console.WriteLine("Picked up message; DeliveryCount {0}", msg.DeliveryCount);
        await msg.AbandonAsync();
    }
    else
    {
        break;
    }
}
```

## <a name="next-steps"></a><span data-ttu-id="83fb5-169">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="83fb5-169">Next steps</span></span>
<span data-ttu-id="83fb5-170">Zobacz następujące artykuły, aby uzyskać więcej informacji na temat kolejek usługi Service Bus hello:</span><span class="sxs-lookup"><span data-stu-id="83fb5-170">See hello following articles for more information about Service Bus queues:</span></span>

* [<span data-ttu-id="83fb5-171">Wprowadzenie do kolejek usługi Service Bus</span><span class="sxs-lookup"><span data-stu-id="83fb5-171">Get started with Service Bus queues</span></span>](service-bus-dotnet-get-started-with-queues.md)
* [<span data-ttu-id="83fb5-172">Azure kolejki i usługi Service Bus w porównaniu kolejek</span><span class="sxs-lookup"><span data-stu-id="83fb5-172">Azure Queues and Service Bus queues compared</span></span>](service-bus-azure-and-service-bus-queues-compared-contrasted.md)

