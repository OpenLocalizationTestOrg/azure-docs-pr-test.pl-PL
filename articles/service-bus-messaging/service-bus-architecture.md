---
title: "Przegląd architektury przetwarzania komunikatów usługi Service Bus aaaAzure | Dokumentacja firmy Microsoft"
description: "Zawiera opis architektury przetwarzania wiadomość hello Azure Service Bus."
services: service-bus-messaging
documentationcenter: na
author: sethmanheim
manager: timlt
editor: 
ms.assetid: baf94c2d-0e58-4d5d-a588-767f996ccf7f
ms.service: service-bus-messaging
ms.devlang: na
ms.topic: get-started-article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 08/23/2017
ms.author: sethm
ms.openlocfilehash: f7606e40cdf6db3797a0db2de9365453ff2a158e
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="service-bus-architecture"></a><span data-ttu-id="7b8d7-103">Architektura usługi Service Bus</span><span class="sxs-lookup"><span data-stu-id="7b8d7-103">Service Bus architecture</span></span>
<span data-ttu-id="7b8d7-104">W tym artykule opisano architekturę przetwarzania komunikatu hello Azure Service Bus.</span><span class="sxs-lookup"><span data-stu-id="7b8d7-104">This article describes hello message processing architecture of Azure Service Bus.</span></span>

## <a name="service-bus-scale-units"></a><span data-ttu-id="7b8d7-105">Jednostki skalowania usługi Service Bus</span><span class="sxs-lookup"><span data-stu-id="7b8d7-105">Service Bus scale units</span></span>
<span data-ttu-id="7b8d7-106">Usługa Service Bus jest zorganizowana według *jednostek skalowania*.</span><span class="sxs-lookup"><span data-stu-id="7b8d7-106">Service Bus is organized by *scale units*.</span></span> <span data-ttu-id="7b8d7-107">Jednostką skalowania jest jednostką wdrożenia i zawiera wszystkie składniki wymagane hello Uruchom usługę.</span><span class="sxs-lookup"><span data-stu-id="7b8d7-107">A scale unit is a unit of deployment and contains all components required run hello service.</span></span> <span data-ttu-id="7b8d7-108">Każdy region wdraża co najmniej jedną jednostkę skalowania usługi Service Bus.</span><span class="sxs-lookup"><span data-stu-id="7b8d7-108">Each region deploys one or more Service Bus scale units.</span></span>

<span data-ttu-id="7b8d7-109">Przestrzeń nazw usługi Service Bus jest jednostką skalowania tooa mapowane.</span><span class="sxs-lookup"><span data-stu-id="7b8d7-109">A Service Bus namespace is mapped tooa scale unit.</span></span> <span data-ttu-id="7b8d7-110">Witaj jednostka skalowania obsługuje wszystkie typy jednostek usługi Service Bus (kolejki, tematy, subskrypcje).</span><span class="sxs-lookup"><span data-stu-id="7b8d7-110">hello scale unit handles all types of Service Bus entities (queues, topics, subscriptions).</span></span> <span data-ttu-id="7b8d7-111">Jednostki skalowania usługi Service Bus składa się z hello następujące składniki:</span><span class="sxs-lookup"><span data-stu-id="7b8d7-111">A Service Bus scale unit consists of hello following components:</span></span>

* <span data-ttu-id="7b8d7-112">**Zestaw węzłów bramy.**</span><span class="sxs-lookup"><span data-stu-id="7b8d7-112">**A set of gateway nodes.**</span></span> <span data-ttu-id="7b8d7-113">Węzły bramy uwierzytelniają żądania przychodzące.</span><span class="sxs-lookup"><span data-stu-id="7b8d7-113">Gateway nodes authenticate incoming requests.</span></span> <span data-ttu-id="7b8d7-114">Każdy węzeł bramy ma publiczny adres IP.</span><span class="sxs-lookup"><span data-stu-id="7b8d7-114">Each gateway node has a public IP address.</span></span>
* <span data-ttu-id="7b8d7-115">**Zestaw węzłów brokera komunikatów.**</span><span class="sxs-lookup"><span data-stu-id="7b8d7-115">**A set of messaging broker nodes.**</span></span> <span data-ttu-id="7b8d7-116">Węzły brokera komunikatów przetwarzają żądania dotyczące jednostek obsługi komunikatów.</span><span class="sxs-lookup"><span data-stu-id="7b8d7-116">Messaging broker nodes process requests concerning messaging entities.</span></span>
* <span data-ttu-id="7b8d7-117">**Jeden magazyn bramy.**</span><span class="sxs-lookup"><span data-stu-id="7b8d7-117">**One gateway store.**</span></span> <span data-ttu-id="7b8d7-118">Witaj magazyn bramy przechowuje dane hello dla każdej jednostki, która jest zdefiniowana w tej jednostce skalowania.</span><span class="sxs-lookup"><span data-stu-id="7b8d7-118">hello gateway store holds hello data for every entity that is defined in this scale unit.</span></span> <span data-ttu-id="7b8d7-119">Magazyn bramy Hello jest wdrażany w oparciu o bazę danych SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="7b8d7-119">hello gateway store is implemented on top of a SQL Azure database.</span></span>
* <span data-ttu-id="7b8d7-120">**Wiele magazynów obsługi komunikatów.**</span><span class="sxs-lookup"><span data-stu-id="7b8d7-120">**Multiple messaging stores.**</span></span> <span data-ttu-id="7b8d7-121">Usługa obsługi komunikatów przechowuje wiadomości powitania kolejki, tematy i subskrypcje, które są zdefiniowane w tej jednostce skalowania.</span><span class="sxs-lookup"><span data-stu-id="7b8d7-121">Messaging stores hold hello messages of all queues, topics and subscriptions that are defined in this scale unit.</span></span> <span data-ttu-id="7b8d7-122">Zawiera również wszystkie dane subskrypcji.</span><span class="sxs-lookup"><span data-stu-id="7b8d7-122">It also contains all subscription data.</span></span> <span data-ttu-id="7b8d7-123">O ile [partycjonowania jednostek obsługi komunikatów](service-bus-partitioning.md) jest włączona, kolejka lub temat jest mapowanych tooone magazynie obsługi komunikatów.</span><span class="sxs-lookup"><span data-stu-id="7b8d7-123">Unless [partitioning messaging entities](service-bus-partitioning.md) is enabled, a queue or topic is mapped tooone messaging store.</span></span> <span data-ttu-id="7b8d7-124">Subskrypcje są przechowywane w hello samym magazynie obsługi komunikatów jako ich temat nadrzędny.</span><span class="sxs-lookup"><span data-stu-id="7b8d7-124">Subscriptions are stored in hello same messaging store as their parent topic.</span></span> <span data-ttu-id="7b8d7-125">Z wyjątkiem usługi Service Bus [Premium Messaging](service-bus-premium-messaging.md), magazyny obsługi komunikatów hello są wdrażane na podstawie baz danych SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="7b8d7-125">Except for Service Bus [Premium Messaging](service-bus-premium-messaging.md), hello messaging stores are implemented on top of SQL Azure databases.</span></span>

## <a name="containers"></a><span data-ttu-id="7b8d7-126">Kontenery</span><span class="sxs-lookup"><span data-stu-id="7b8d7-126">Containers</span></span>
<span data-ttu-id="7b8d7-127">Każda jednostka obsługi komunikatów ma przypisany określony kontener.</span><span class="sxs-lookup"><span data-stu-id="7b8d7-127">Each messaging entity is assigned a specific container.</span></span> <span data-ttu-id="7b8d7-128">Kontener jest konstrukcją logiczną, który używa dokładnie jeden toostore magazynie obsługi komunikatów wszystkich odpowiednich danych dla tego kontenera.</span><span class="sxs-lookup"><span data-stu-id="7b8d7-128">A container is a logical construct that uses exactly one messaging store toostore all relevant data for this container.</span></span> <span data-ttu-id="7b8d7-129">Każdy kontener jest przypisany tooa węzła brokera komunikatów.</span><span class="sxs-lookup"><span data-stu-id="7b8d7-129">Each container is assigned tooa messaging broker node.</span></span> <span data-ttu-id="7b8d7-130">Zazwyczaj kontenerów jest więcej niż węzłów brokera obsługi komunikatów.</span><span class="sxs-lookup"><span data-stu-id="7b8d7-130">Typically, there are more containers than messaging broker nodes.</span></span> <span data-ttu-id="7b8d7-131">W związku z tym każdy węzeł brokera obsługi komunikatów ładuje wiele kontenerów.</span><span class="sxs-lookup"><span data-stu-id="7b8d7-131">Therefore, each messaging broker node loads multiple containers.</span></span> <span data-ttu-id="7b8d7-132">Hello dystrybucja kontenerów węzeł brokera obsługi komunikatów tooa jest zorganizowana w taki sposób, że wszystkie węzły brokera obsługi komunikatów są równo obciążone.</span><span class="sxs-lookup"><span data-stu-id="7b8d7-132">hello distribution of containers tooa messaging broker node is organized such that all messaging broker nodes are equally loaded.</span></span> <span data-ttu-id="7b8d7-133">Jeśli hello hello obciążenia wzorzec zmiany (na przykład jeden z pobiera kontenery hello jest bardzo zajęty) lub jeśli węzeł brokera obsługi komunikatów staje się tymczasowo niedostępny, kontenery są redystrybuowane między hello węzłów brokera komunikatów.</span><span class="sxs-lookup"><span data-stu-id="7b8d7-133">If hello load pattern changes (for example, one of hello containers gets very busy), or if a messaging broker node becomes temporarily unavailable, hello containers are redistributed among hello messaging broker nodes.</span></span>

## <a name="processing-of-incoming-messaging-requests"></a><span data-ttu-id="7b8d7-134">Przetwarzanie przychodzących żądań obsługi komunikatów</span><span class="sxs-lookup"><span data-stu-id="7b8d7-134">Processing of incoming messaging requests</span></span>
<span data-ttu-id="7b8d7-135">Gdy klient wysyła żądanie tooService magistrali, hello Azure load balancer kieruje je tooany hello węzłów bramy.</span><span class="sxs-lookup"><span data-stu-id="7b8d7-135">When a client sends a request tooService Bus, hello Azure load balancer routes it tooany of hello gateway nodes.</span></span> <span data-ttu-id="7b8d7-136">Witaj, węzeł bramy autoryzuje żądanie hello.</span><span class="sxs-lookup"><span data-stu-id="7b8d7-136">hello gateway node authorizes hello request.</span></span> <span data-ttu-id="7b8d7-137">Jeśli hello żądanie dotyczy jednostki obsługi komunikatów (kolejki, tematu, subskrypcji), hello węzeł bramy wyszukuje jednostkę hello w magazynie bramy hello i określa, w których wiadomości powitania magazynu znajduje się jednostki.</span><span class="sxs-lookup"><span data-stu-id="7b8d7-137">If hello request concerns a messaging entity (queue, topic, subscription), hello gateway node looks up hello entity in hello gateway store and determines in which messaging store hello entity is located.</span></span> <span data-ttu-id="7b8d7-138">Następnie wyszukuje które węzeł brokera obsługi komunikatów aktualnie obsługujący ten kontener i wysyła toothat żądania hello węzła brokera komunikatów.</span><span class="sxs-lookup"><span data-stu-id="7b8d7-138">It then looks up which messaging broker node is currently servicing this container, and sends hello request toothat messaging broker node.</span></span> <span data-ttu-id="7b8d7-139">węzeł brokera wiadomości powitania przetwarza żądanie hello i aktualizuje stan jednostki hello hello kontenera magazynu.</span><span class="sxs-lookup"><span data-stu-id="7b8d7-139">hello messaging broker node processes hello request and updates hello entity state in hello container store.</span></span> <span data-ttu-id="7b8d7-140">Hello wiadomości węzła brokera następnie wysyła hello odpowiedzi toohello wstecz bramy węzła, który wysyła klientowi wstecz toohello właściwą odpowiedź tego wystawione hello oryginalne żądanie.</span><span class="sxs-lookup"><span data-stu-id="7b8d7-140">hello messaging broker node then sends hello response back toohello gateway node, which sends an appropriate response back toohello client that issued hello original request.</span></span>

![Przetwarzanie przychodzących żądań obsługi komunikatów](./media/service-bus-architecture/ic690644.png)

## <a name="next-steps"></a><span data-ttu-id="7b8d7-142">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="7b8d7-142">Next steps</span></span>
<span data-ttu-id="7b8d7-143">Teraz, gdy zostały przeczytane omówienie architektury usługi Service Bus, odwiedź hello następującego łącza Aby uzyskać więcej informacji:</span><span class="sxs-lookup"><span data-stu-id="7b8d7-143">Now that you've read an overview of Service Bus architecture, visit hello following links for more information:</span></span>

* [<span data-ttu-id="7b8d7-144">Omówienie obsługi komunikatów w usłudze Service Bus</span><span class="sxs-lookup"><span data-stu-id="7b8d7-144">Service Bus messaging overview</span></span>](service-bus-messaging-overview.md)
* [<span data-ttu-id="7b8d7-145">Podstawy usługi Service Bus</span><span class="sxs-lookup"><span data-stu-id="7b8d7-145">Service Bus fundamentals</span></span>](service-bus-fundamentals-hybrid-solutions.md)
* [<span data-ttu-id="7b8d7-146">Rozwiązanie do obsługi komunikatów kolejek korzystające z funkcji kolejek usługi Service Bus</span><span class="sxs-lookup"><span data-stu-id="7b8d7-146">A queued messaging solution using Service Bus queues</span></span>](service-bus-dotnet-multi-tier-app-using-service-bus-queues.md)


