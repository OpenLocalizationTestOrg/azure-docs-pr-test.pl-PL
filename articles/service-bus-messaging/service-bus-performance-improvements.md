---
title: "Najlepsze rozwiązania dotyczące poprawy wydajności przy użyciu usługi Azure Service Bus | Dokumentacja firmy Microsoft"
description: "Informacje dotyczące używania usługi Service Bus w celu zoptymalizowania wydajności podczas wymiany komunikatów obsługiwanych przez brokera."
services: service-bus-messaging
documentationcenter: na
author: sethmanheim
manager: timlt
editor: 
ms.assetid: e756c15d-31fc-45c0-8df4-0bca0da10bb2
ms.service: service-bus-messaging
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 05/10/2017
ms.author: sethm
ms.openlocfilehash: e6a0e480f7748f12f5e566cf4059b5b2c4242c09
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 07/11/2017
---
# <a name="best-practices-for-performance-improvements-using-service-bus-messaging"></a><span data-ttu-id="9d37c-103">Najlepsze rozwiązania dotyczące poprawy wydajności przy użyciu usługi magistrali komunikatów</span><span class="sxs-lookup"><span data-stu-id="9d37c-103">Best Practices for performance improvements using Service Bus Messaging</span></span>

<span data-ttu-id="9d37c-104">W tym artykule opisano sposób użycia [komunikatów usługi Azure Service Bus](https://azure.microsoft.com/services/service-bus/) w celu zoptymalizowania wydajności podczas wymiany komunikatów obsługiwanych przez brokera.</span><span class="sxs-lookup"><span data-stu-id="9d37c-104">This article describes how to use [Azure Service Bus messaging](https://azure.microsoft.com/services/service-bus/) to optimize performance when exchanging brokered messages.</span></span> <span data-ttu-id="9d37c-105">Pierwsza część w tym temacie opisano różne mechanizmy, które są oferowane w celu zwiększenia wydajności.</span><span class="sxs-lookup"><span data-stu-id="9d37c-105">The first part of this topic describes the different mechanisms that are offered to help increase performance.</span></span> <span data-ttu-id="9d37c-106">Druga sekcja zawiera wskazówki dotyczące sposobu używania usługi Service Bus w sposób, który można zaoferować najlepszą wydajność w danym scenariuszu.</span><span class="sxs-lookup"><span data-stu-id="9d37c-106">The second part provides guidance on how to use Service Bus in a way that can offer the best performance in a given scenario.</span></span>

<span data-ttu-id="9d37c-107">W tym temacie termin "klient" oznacza każda jednostka, która uzyskuje dostęp do usługi Service Bus.</span><span class="sxs-lookup"><span data-stu-id="9d37c-107">Throughout this topic, the term "client" refers to any entity that accesses Service Bus.</span></span> <span data-ttu-id="9d37c-108">Klient może zająć roli nadawcy i adresata.</span><span class="sxs-lookup"><span data-stu-id="9d37c-108">A client can take the role of a sender or a receiver.</span></span> <span data-ttu-id="9d37c-109">Termin "sender" jest używana dla usługi Service Bus kolejka lub temat klienta, który wysyła wiadomości do kolejki usługi Service Bus lub temat.</span><span class="sxs-lookup"><span data-stu-id="9d37c-109">The term "sender" is used for a Service Bus queue or topic client that sends messages to a Service Bus queue or topic.</span></span> <span data-ttu-id="9d37c-110">Termin "odbiorcy" odnosi się do usługi Service Bus kolejki lub subskrypcji klienta, który odbiera komunikaty z kolejki usługi Service Bus lub subskrypcji.</span><span class="sxs-lookup"><span data-stu-id="9d37c-110">The term "receiver" refers to a Service Bus queue or subscription client that receives messages from a Service Bus queue or subscription.</span></span>

<span data-ttu-id="9d37c-111">Tych sekcjach przedstawiono kilka pojęcia, które używa usługi Service Bus, aby ułatwić wydajnością.</span><span class="sxs-lookup"><span data-stu-id="9d37c-111">These sections introduce several concepts that Service Bus uses to help boost performance.</span></span>

## <a name="protocols"></a><span data-ttu-id="9d37c-112">Protokoły</span><span class="sxs-lookup"><span data-stu-id="9d37c-112">Protocols</span></span>
<span data-ttu-id="9d37c-113">Usługa Service Bus umożliwia klientom wysyłanie i odbieranie wiadomości za pomocą jednego z trzech protokołów:</span><span class="sxs-lookup"><span data-stu-id="9d37c-113">Service Bus enables clients to send and receive messages via one of three protocols:</span></span>

1. <span data-ttu-id="9d37c-114">Zaawansowane kolejkowania wiadomości protokołu (protokół AMQP)</span><span class="sxs-lookup"><span data-stu-id="9d37c-114">Advanced Message Queuing Protocol (AMQP)</span></span>
2. <span data-ttu-id="9d37c-115">Protokół (SBMP) do obsługi komunikatów usługi Service Bus</span><span class="sxs-lookup"><span data-stu-id="9d37c-115">Service Bus Messaging Protocol (SBMP)</span></span>
3. <span data-ttu-id="9d37c-116">HTTP</span><span class="sxs-lookup"><span data-stu-id="9d37c-116">HTTP</span></span>

<span data-ttu-id="9d37c-117">Protokół AMQP i SBMP są bardziej wydajne, ponieważ utrzymują one połączenia usługi Service Bus, tak długo, jak istnieje fabryki obsługi komunikatów.</span><span class="sxs-lookup"><span data-stu-id="9d37c-117">AMQP and SBMP are more efficient, because they maintain the connection to Service Bus as long as the messaging factory exists.</span></span> <span data-ttu-id="9d37c-118">Implementuje również przetwarzanie wsadowe i Odczyt z wyprzedzeniem.</span><span class="sxs-lookup"><span data-stu-id="9d37c-118">It also implements batching and prefetching.</span></span> <span data-ttu-id="9d37c-119">Chyba że jawnie wspomniano, całej zawartości w tym temacie założono użycie protokołu AMQP lub SBMP.</span><span class="sxs-lookup"><span data-stu-id="9d37c-119">Unless explicitly mentioned, all content in this topic assumes the use of AMQP or SBMP.</span></span>

## <a name="reusing-factories-and-clients"></a><span data-ttu-id="9d37c-120">Ponowne wykorzystywanie fabryk i klientów</span><span class="sxs-lookup"><span data-stu-id="9d37c-120">Reusing factories and clients</span></span>
<span data-ttu-id="9d37c-121">Klient usługi Service Bus obiekty, takie jak [QueueClient] [ QueueClient] lub [MessageSender][MessageSender], są tworzone za pomocą [ MessagingFactory] [ MessagingFactory] obiektu, który udostępnia również wewnętrznego zarządzania połączenia.</span><span class="sxs-lookup"><span data-stu-id="9d37c-121">Service Bus client objects, such as [QueueClient][QueueClient] or [MessageSender][MessageSender], are created through a [MessagingFactory][MessagingFactory] object, which also provides internal management of connections.</span></span> <span data-ttu-id="9d37c-122">Fabryki obsługi komunikatów lub kolejki, tematu i subskrypcji klientów należy zamknąć nie po wysłać wiadomość, a następnie utwórz je podczas wysyłania komunikatów dalej.</span><span class="sxs-lookup"><span data-stu-id="9d37c-122">You should not close messaging factories or queue, topic, and subscription clients after you send a message, and then re-create them when you send the next message.</span></span> <span data-ttu-id="9d37c-123">Zamykanie fabryki obsługi komunikatów Usuwa połączenie z usługą Service Bus i nawiązaniem nowego połączenia podczas odtwarzania fabryka.</span><span class="sxs-lookup"><span data-stu-id="9d37c-123">Closing a messaging factory deletes the connection to the Service Bus service, and a new connection is established when recreating the factory.</span></span> <span data-ttu-id="9d37c-124">Ustanowienie połączenia jest kosztowna operacja, która można uniknąć ponownie używając tej samej fabryki i obiektów klientów w wielu operacjach.</span><span class="sxs-lookup"><span data-stu-id="9d37c-124">Establishing a connection is an expensive operation that you can avoid by re-using the same factory and client objects for multiple operations.</span></span> <span data-ttu-id="9d37c-125">Można bezpiecznie [QueueClient] [ QueueClient] obiekt do wysyłania wiadomości z równoczesnych operacji asynchronicznych i wiele wątków.</span><span class="sxs-lookup"><span data-stu-id="9d37c-125">You can safely use the [QueueClient][QueueClient] object for sending messages from concurrent asynchronous operations and multiple threads.</span></span> 

## <a name="concurrent-operations"></a><span data-ttu-id="9d37c-126">Równoczesne wykonywanie operacji</span><span class="sxs-lookup"><span data-stu-id="9d37c-126">Concurrent operations</span></span>
<span data-ttu-id="9d37c-127">Wykonywanie operacji (wysyłanie, odbierania, usuwanie, itp.) dopiero po pewnym czasie.</span><span class="sxs-lookup"><span data-stu-id="9d37c-127">Performing an operation (send, receive, delete, etc.) takes some time.</span></span> <span data-ttu-id="9d37c-128">Teraz obejmuje przetwarzanie operacji przez usługi Service Bus, oprócz opóźnienia żądania i odpowiedzi.</span><span class="sxs-lookup"><span data-stu-id="9d37c-128">This time includes the processing of the operation by the Service Bus service in addition to the latency of the request and the reply.</span></span> <span data-ttu-id="9d37c-129">Aby zwiększyć liczbę operacji na czas, operacji musi być wykonywany współbieżnie.</span><span class="sxs-lookup"><span data-stu-id="9d37c-129">To increase the number of operations per time, operations must execute concurrently.</span></span> <span data-ttu-id="9d37c-130">Można to zrobić na kilka różnych sposobów:</span><span class="sxs-lookup"><span data-stu-id="9d37c-130">You can do this in several different ways:</span></span>

* <span data-ttu-id="9d37c-131">**Operacje asynchroniczne**: klient planuje operacji przez wykonanie operacji asynchronicznych.</span><span class="sxs-lookup"><span data-stu-id="9d37c-131">**Asynchronous operations**: the client schedules operations by performing asynchronous operations.</span></span> <span data-ttu-id="9d37c-132">Przy następnym żądaniu została uruchomiona przed zakończeniem poprzedniego żądania.</span><span class="sxs-lookup"><span data-stu-id="9d37c-132">The next request is started before the previous request is completed.</span></span> <span data-ttu-id="9d37c-133">Poniżej przedstawiono przykład operacja asynchronicznego wysyłania:</span><span class="sxs-lookup"><span data-stu-id="9d37c-133">The following is an example of an asynchronous send operation:</span></span>
  
 ```csharp
  BrokeredMessage m1 = new BrokeredMessage(body);
  BrokeredMessage m2 = new BrokeredMessage(body);
  
  Task send1 = queueClient.SendAsync(m1).ContinueWith((t) => 
    {
      Console.WriteLine("Sent message #1");
    });
  Task send2 = queueClient.SendAsync(m2).ContinueWith((t) => 
    {
      Console.WriteLine("Sent message #2");
    });
  Task.WaitAll(send1, send2);
  Console.WriteLine("All messages sent");
  ```
  
  <span data-ttu-id="9d37c-134">To jest przykład asynchronicznego odbioru operacji:</span><span class="sxs-lookup"><span data-stu-id="9d37c-134">This is an example of an asynchronous receive operation:</span></span>
  
  ```csharp
  Task receive1 = queueClient.ReceiveAsync().ContinueWith(ProcessReceivedMessage);
  Task receive2 = queueClient.ReceiveAsync().ContinueWith(ProcessReceivedMessage);
  
  Task.WaitAll(receive1, receive2);
  Console.WriteLine("All messages received");
  
  async void ProcessReceivedMessage(Task<BrokeredMessage> t)
  {
    BrokeredMessage m = t.Result;
    Console.WriteLine("{0} received", m.Label);
    await m.CompleteAsync();
    Console.WriteLine("{0} complete", m.Label);
  }
  ```
* <span data-ttu-id="9d37c-135">**Wiele fabryk**: wszystkich klientów (nadawców oprócz odbiorniki), które zostały utworzone przy użyciu tej samej fabryki udostępniania jednego połączenia TCP.</span><span class="sxs-lookup"><span data-stu-id="9d37c-135">**Multiple factories**: all clients (senders in addition to receivers) that are created by the same factory share one TCP connection.</span></span> <span data-ttu-id="9d37c-136">Przepustowość maksymalna wiadomości jest ograniczona liczba operacji, które może przejść przez to połączenie TCP.</span><span class="sxs-lookup"><span data-stu-id="9d37c-136">The maximum message throughput is limited by the number of operations that can go through this TCP connection.</span></span> <span data-ttu-id="9d37c-137">Przepływność, którą można uzyskać za pomocą pojedynczego fabryki różny czasami opóźnienia TCP i rozmiar wiadomości.</span><span class="sxs-lookup"><span data-stu-id="9d37c-137">The throughput that can be obtained with a single factory varies greatly with TCP round-trip times and message size.</span></span> <span data-ttu-id="9d37c-138">Do uzyskania wyższych przepływności, należy używać wielu fabryki obsługi komunikatów.</span><span class="sxs-lookup"><span data-stu-id="9d37c-138">To obtain higher throughput rates, you should use multiple messaging factories.</span></span>

## <a name="receive-mode"></a><span data-ttu-id="9d37c-139">Tryb odbierania</span><span class="sxs-lookup"><span data-stu-id="9d37c-139">Receive mode</span></span>
<span data-ttu-id="9d37c-140">Podczas tworzenia kolejki lub subskrypcji klienta, można określić tryb odbierania: *blokady Peek* lub *odbieranie i usuwanie*.</span><span class="sxs-lookup"><span data-stu-id="9d37c-140">When creating a queue or subscription client, you can specify a receive mode: *Peek-lock* or *Receive and Delete*.</span></span> <span data-ttu-id="9d37c-141">Domyślny tryb odbierania jest [PeekLock][PeekLock].</span><span class="sxs-lookup"><span data-stu-id="9d37c-141">The default receive mode is [PeekLock][PeekLock].</span></span> <span data-ttu-id="9d37c-142">Podczas działania w tym trybie, klient wysyła żądanie komunikat o błędzie z usługi Service Bus.</span><span class="sxs-lookup"><span data-stu-id="9d37c-142">When operating in this mode, the client sends a request to receive a message from Service Bus.</span></span> <span data-ttu-id="9d37c-143">Po odebraniu komunikatu klient wysyła żądanie do ukończenia wiadomości.</span><span class="sxs-lookup"><span data-stu-id="9d37c-143">After the client has received the message, it sends a request to complete the message.</span></span>

<span data-ttu-id="9d37c-144">Po ustawieniu trybu receive na [ReceiveAndDelete][ReceiveAndDelete], oba kroki są łączone w ramach pojedynczego żądania.</span><span class="sxs-lookup"><span data-stu-id="9d37c-144">When setting the receive mode to [ReceiveAndDelete][ReceiveAndDelete], both steps are combined in a single request.</span></span> <span data-ttu-id="9d37c-145">Zmniejsza ogólną liczbę operacji i może zwiększyć ogólną wydajność obsługi wiadomości.</span><span class="sxs-lookup"><span data-stu-id="9d37c-145">This reduces the overall number of operations, and can improve the overall message throughput.</span></span> <span data-ttu-id="9d37c-146">Jest to bardziej wydajne ryzyko utraty wiadomości.</span><span class="sxs-lookup"><span data-stu-id="9d37c-146">This performance gain comes at the risk of losing messages.</span></span>

<span data-ttu-id="9d37c-147">Usługa Service Bus nie obsługuje transakcji dla operacji odbierania i usuwania.</span><span class="sxs-lookup"><span data-stu-id="9d37c-147">Service Bus does not support transactions for receive-and-delete operations.</span></span> <span data-ttu-id="9d37c-148">Ponadto semantyki peek blokady są wymagane dla wszelkie scenariusze, w których klient będzie chciał odroczenie lub [utraconych](service-bus-dead-letter-queues.md) wiadomości.</span><span class="sxs-lookup"><span data-stu-id="9d37c-148">In addition, peek-lock semantics are required for any scenarios in which the client wants to defer or [dead-letter](service-bus-dead-letter-queues.md) a message.</span></span>

## <a name="client-side-batching"></a><span data-ttu-id="9d37c-149">Przetwarzanie wsadowe po stronie klienta</span><span class="sxs-lookup"><span data-stu-id="9d37c-149">Client-side batching</span></span>
<span data-ttu-id="9d37c-150">Przetwarzanie wsadowe po stronie klienta umożliwia kolejka lub temat klientowi Opóźnij wysyłanie wiadomości w danym okresie czasu.</span><span class="sxs-lookup"><span data-stu-id="9d37c-150">Client-side batching enables a queue or topic client to delay the sending of a message for a certain period of time.</span></span> <span data-ttu-id="9d37c-151">Jeśli klient wysyła dodatkowe komunikaty w trakcie tego okresu, przesyłanie komunikatów w jednym zadaniu wsadowym.</span><span class="sxs-lookup"><span data-stu-id="9d37c-151">If the client sends additional messages during this time period, it transmits the messages in a single batch.</span></span> <span data-ttu-id="9d37c-152">Przetwarzanie wsadowe po stronie klienta powoduje także, że kolejka lub subskrypcji klientowi partii wielu **Complete** żądań do pojedynczego żądania.</span><span class="sxs-lookup"><span data-stu-id="9d37c-152">Client-side batching also causes a queue or subscription client to batch multiple **Complete** requests into a single request.</span></span> <span data-ttu-id="9d37c-153">Tworzenie plików wsadowych jest dostępna tylko dla asynchronicznego **wysyłania** i **Complete** operacji.</span><span class="sxs-lookup"><span data-stu-id="9d37c-153">Batching is only available for asynchronous **Send** and **Complete** operations.</span></span> <span data-ttu-id="9d37c-154">Operacje synchroniczne są natychmiast wysyłane do usługi Service Bus.</span><span class="sxs-lookup"><span data-stu-id="9d37c-154">Synchronous operations are immediately sent to the Service Bus service.</span></span> <span data-ttu-id="9d37c-155">Przetwarzanie wsadowe nie nastąpić peek ani operacji pobrania nie jest przetwarzanie wsadowe wykonywane przez klientów.</span><span class="sxs-lookup"><span data-stu-id="9d37c-155">Batching does not occur for peek or receive operations, nor does batching occur across clients.</span></span>

<span data-ttu-id="9d37c-156">Domyślnie klient używa się w przedziale partii 20ms.</span><span class="sxs-lookup"><span data-stu-id="9d37c-156">By default, a client uses a batch interval of 20ms.</span></span> <span data-ttu-id="9d37c-157">Można zmienić interwał partii ustawiając [BatchFlushInterval] [ BatchFlushInterval] właściwości przed utworzeniem fabryki obsługi komunikatów.</span><span class="sxs-lookup"><span data-stu-id="9d37c-157">You can change the batch interval by setting the [BatchFlushInterval][BatchFlushInterval] property before creating the messaging factory.</span></span> <span data-ttu-id="9d37c-158">To ustawienie dotyczy wszystkich klientów, które zostały utworzone przy użyciu tej fabryki.</span><span class="sxs-lookup"><span data-stu-id="9d37c-158">This setting affects all clients that are created by this factory.</span></span>

<span data-ttu-id="9d37c-159">Aby wyłączyć tworzenie plików wsadowych, ustaw [BatchFlushInterval] [ BatchFlushInterval] właściwości **TimeSpan.Zero**.</span><span class="sxs-lookup"><span data-stu-id="9d37c-159">To disable batching, set the [BatchFlushInterval][BatchFlushInterval] property to **TimeSpan.Zero**.</span></span> <span data-ttu-id="9d37c-160">Na przykład:</span><span class="sxs-lookup"><span data-stu-id="9d37c-160">For example:</span></span>

```csharp
MessagingFactorySettings mfs = new MessagingFactorySettings();
mfs.TokenProvider = tokenProvider;
mfs.NetMessagingTransportSettings.BatchFlushInterval = TimeSpan.FromSeconds(0.05);
MessagingFactory messagingFactory = MessagingFactory.Create(namespaceUri, mfs);
```

<span data-ttu-id="9d37c-161">Przetwarzanie wsadowe nie wpływa na liczbę rozliczeniowy operacji obsługi wiadomości i jest dostępna tylko dla protokołu klienta usługi Service Bus.</span><span class="sxs-lookup"><span data-stu-id="9d37c-161">Batching does not affect the number of billable messaging operations, and is available only for the Service Bus client protocol.</span></span> <span data-ttu-id="9d37c-162">Protokół HTTP nie obsługuje przetwarzanie wsadowe.</span><span class="sxs-lookup"><span data-stu-id="9d37c-162">The HTTP protocol does not support batching.</span></span>

## <a name="batching-store-access"></a><span data-ttu-id="9d37c-163">Przetwarzanie wsadowe dostęp do sklepu</span><span class="sxs-lookup"><span data-stu-id="9d37c-163">Batching store access</span></span>
<span data-ttu-id="9d37c-164">W celu zwiększenia przepływności kolejki, tematu lub subskrypcji, usługi Service Bus partii wiele komunikatów, czy jest zapisywany do magazynu wewnętrznej.</span><span class="sxs-lookup"><span data-stu-id="9d37c-164">To increase the throughput of a queue, topic, or subscription, Service Bus batches multiple messages when it writes to its internal store.</span></span> <span data-ttu-id="9d37c-165">Jeśli jest włączona kolejka lub temat, zapisywania komunikatów w magazynie będzie można umieścić w partii.</span><span class="sxs-lookup"><span data-stu-id="9d37c-165">If enabled on a queue or topic, writing messages into the store will be batched.</span></span> <span data-ttu-id="9d37c-166">Jeśli włączona dla kolejki lub subskrypcji, usuwania komunikatów w sklepie będzie można umieścić w partii.</span><span class="sxs-lookup"><span data-stu-id="9d37c-166">If enabled on a queue or subscription, deleting messages from the store will be batched.</span></span> <span data-ttu-id="9d37c-167">Po włączeniu dostępu do sklepu wsadów dla jednostki usługi Service Bus opóźnienia operacji zapisu magazynu dotyczących tego obiektu przez maksymalnie 20 MS.</span><span class="sxs-lookup"><span data-stu-id="9d37c-167">If batched store access is enabled for an entity, Service Bus delays a store write operation regarding that entity by up to 20ms.</span></span> <span data-ttu-id="9d37c-168">Operacji dodatkowego magazynu, które występują w danym przedziale czasu są dodawane do wykonywania zadania wsadowego.</span><span class="sxs-lookup"><span data-stu-id="9d37c-168">Additional store operations that occur during this interval are added to the batch.</span></span> <span data-ttu-id="9d37c-169">Umieścić w zadaniu wsadowym wpływa jedynie na dostęp do magazynu **wysyłania** i **Complete** operacji; odbierania nie wpływ na operacje.</span><span class="sxs-lookup"><span data-stu-id="9d37c-169">Batched store access only affects **Send** and **Complete** operations; receive operations are not affected.</span></span> <span data-ttu-id="9d37c-170">Dostęp do sklepu wsadów jest właściwością w jednostce.</span><span class="sxs-lookup"><span data-stu-id="9d37c-170">Batched store access is a property on an entity.</span></span> <span data-ttu-id="9d37c-171">Przetwarzanie wsadowe występuje we wszystkich jednostek, które umożliwiają dostęp do sklepu wsadowej.</span><span class="sxs-lookup"><span data-stu-id="9d37c-171">Batching occurs across all entities that enable batched store access.</span></span>

<span data-ttu-id="9d37c-172">Podczas tworzenia nowej kolejki, tematu lub subskrypcji, dostęp do sklepu wsadów jest domyślnie włączona.</span><span class="sxs-lookup"><span data-stu-id="9d37c-172">When creating a new queue, topic or subscription, batched store access is enabled by default.</span></span> <span data-ttu-id="9d37c-173">Aby wyłączyć dostęp do sklepu wsadów, ustaw [EnableBatchedOperations] [ EnableBatchedOperations] właściwości **false** przed utworzeniem jednostki.</span><span class="sxs-lookup"><span data-stu-id="9d37c-173">To disable batched store access, set the [EnableBatchedOperations][EnableBatchedOperations] property to **false** before creating the entity.</span></span> <span data-ttu-id="9d37c-174">Na przykład:</span><span class="sxs-lookup"><span data-stu-id="9d37c-174">For example:</span></span>

```csharp
QueueDescription qd = new QueueDescription();
qd.EnableBatchedOperations = false;
Queue q = namespaceManager.CreateQueue(qd);
```

<span data-ttu-id="9d37c-175">Dostęp do sklepu wsadów nie wpływa na liczbę rozliczeniowy operacji obsługi wiadomości i jest właściwością kolejki, tematu lub subskrypcji.</span><span class="sxs-lookup"><span data-stu-id="9d37c-175">Batched store access does not affect the number of billable messaging operations, and is a property of a queue, topic, or subscription.</span></span> <span data-ttu-id="9d37c-176">Jest niezależna od trybu receive i protokół, który jest używany między klientem a usługi Service Bus.</span><span class="sxs-lookup"><span data-stu-id="9d37c-176">It is independent of the receive mode and the protocol that is used between a client and the Service Bus service.</span></span>

## <a name="prefetching"></a><span data-ttu-id="9d37c-177">Odczyt z wyprzedzeniem</span><span class="sxs-lookup"><span data-stu-id="9d37c-177">Prefetching</span></span>
<span data-ttu-id="9d37c-178">Odczyt z wyprzedzeniem umożliwia klienta kolejki lub subskrypcji, aby załadować dodatkowych komunikatów z usługi, podczas wykonywania operacji odbierania.</span><span class="sxs-lookup"><span data-stu-id="9d37c-178">Prefetching enables the queue or subscription client to load additional messages from the service when it performs a receive operation.</span></span> <span data-ttu-id="9d37c-179">Klient przechowuje te komunikaty w lokalnej pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="9d37c-179">The client stores these messages in a local cache.</span></span> <span data-ttu-id="9d37c-180">Rozmiar pamięci podręcznej jest określany przez [QueueClient.PrefetchCount] [ QueueClient.PrefetchCount] lub [SubscriptionClient.PrefetchCount] [ SubscriptionClient.PrefetchCount] właściwości.</span><span class="sxs-lookup"><span data-stu-id="9d37c-180">The size of the cache is determined by the [QueueClient.PrefetchCount][QueueClient.PrefetchCount] or [SubscriptionClient.PrefetchCount][SubscriptionClient.PrefetchCount] properties.</span></span> <span data-ttu-id="9d37c-181">Każdy klient, który umożliwia odczyt z wyprzedzeniem zachowuje własną pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="9d37c-181">Each client that enables prefetching maintains its own cache.</span></span> <span data-ttu-id="9d37c-182">Pamięć podręczna nie jest współużytkowana przez klientów.</span><span class="sxs-lookup"><span data-stu-id="9d37c-182">A cache is not shared across clients.</span></span> <span data-ttu-id="9d37c-183">Jeśli klient inicjuje operacji odbierania i pamięci podręcznej jest pusta, usługa przesyła partia komunikatów.</span><span class="sxs-lookup"><span data-stu-id="9d37c-183">If the client initiates a receive operation and its cache is empty, the service transmits a batch of messages.</span></span> <span data-ttu-id="9d37c-184">Rozmiar partii jest równe rozmiar pamięci podręcznej lub 256 KB, w zależności od jest mniejsza.</span><span class="sxs-lookup"><span data-stu-id="9d37c-184">The size of the batch equals the size of the cache or 256 KB, whichever is smaller.</span></span> <span data-ttu-id="9d37c-185">Jeśli klient inicjuje operacji odbierania i pamięci podręcznej zawiera komunikat, wiadomość jest pobierana z pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="9d37c-185">If the client initiates a receive operation and the cache contains a message, the message is taken from the cache.</span></span>

<span data-ttu-id="9d37c-186">Gdy komunikat jest prefetched, usługa blokuje prefetched wiadomości.</span><span class="sxs-lookup"><span data-stu-id="9d37c-186">When a message is prefetched, the service locks the prefetched message.</span></span> <span data-ttu-id="9d37c-187">Dzięki temu prefetched wiadomości nie można odebrać przez inny odbiornik.</span><span class="sxs-lookup"><span data-stu-id="9d37c-187">By doing this, the prefetched message cannot be received by a different receiver.</span></span> <span data-ttu-id="9d37c-188">Jeśli odbiornik nie może ukończyć komunikatu przed upływem blokady, komunikat staną się dostępne dla innych odbiorców.</span><span class="sxs-lookup"><span data-stu-id="9d37c-188">If the receiver cannot complete the message before the lock expires, the message becomes available to other receivers.</span></span> <span data-ttu-id="9d37c-189">Prefetched kopia wiadomości pozostaje w pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="9d37c-189">The prefetched copy of the message remains in the cache.</span></span> <span data-ttu-id="9d37c-190">Odbiornik, który wykorzystuje wygasłe buforowanej kopii otrzyma Wystąpił wyjątek podczas próby wykonania tej wiadomości.</span><span class="sxs-lookup"><span data-stu-id="9d37c-190">The receiver that consumes the expired cached copy will receive an exception when it tries to complete that message.</span></span> <span data-ttu-id="9d37c-191">Domyślnie blokady komunikat wygasa po 60 sekund.</span><span class="sxs-lookup"><span data-stu-id="9d37c-191">By default, the message lock expires after 60 seconds.</span></span> <span data-ttu-id="9d37c-192">Ta wartość może zostać rozszerzony do 5 minut.</span><span class="sxs-lookup"><span data-stu-id="9d37c-192">This value can be extended to 5 minutes.</span></span> <span data-ttu-id="9d37c-193">Aby zapobiec wykorzystywaniu komunikaty wygasłe, rozmiar pamięci podręcznej zawsze powinna być krótsza niż liczba wiadomości, które mogą być używane przez klienta w ramach interwał limitu czasu blokady.</span><span class="sxs-lookup"><span data-stu-id="9d37c-193">To prevent the consumption of expired messages, the cache size should always be smaller than the number of messages that can be consumed by a client within the lock time-out interval.</span></span>

<span data-ttu-id="9d37c-194">Korzystając z okresu ważności blokady domyślne 60 sekund, wartość jest dobrą [SubscriptionClient.PrefetchCount] [ SubscriptionClient.PrefetchCount] 20 razy maksymalną przetwarza stawki wszystkich odbiorników fabryki.</span><span class="sxs-lookup"><span data-stu-id="9d37c-194">When using the default lock expiration of 60 seconds, a good value for [SubscriptionClient.PrefetchCount][SubscriptionClient.PrefetchCount] is 20 times the maximum processing rates of all receivers of the factory.</span></span> <span data-ttu-id="9d37c-195">Na przykład fabrykę tworzy odbiorniki 3, a każdy odbiorca może przetwarzać maksymalnie 10 komunikatów na sekundę.</span><span class="sxs-lookup"><span data-stu-id="9d37c-195">For example, a factory creates 3 receivers, and each receiver can process up to 10 messages per second.</span></span> <span data-ttu-id="9d37c-196">Liczba pobierania z wyprzedzeniem nie może przekraczać 20 X 3 X 10 = 600.</span><span class="sxs-lookup"><span data-stu-id="9d37c-196">The prefetch count should not exceed 20 X 3 X 10 = 600.</span></span> <span data-ttu-id="9d37c-197">Domyślnie [QueueClient.PrefetchCount] [ QueueClient.PrefetchCount] jest ustawiona na 0, co oznacza, że pobrane żadnych dodatkowych komunikatów z usługi.</span><span class="sxs-lookup"><span data-stu-id="9d37c-197">By default, [QueueClient.PrefetchCount][QueueClient.PrefetchCount] is set to 0, which means that no additional messages are fetched from the service.</span></span>

<span data-ttu-id="9d37c-198">Odczyt z wyprzedzeniem wiadomości zwiększa ogólną przepustowość kolejki lub subskrypcji, ponieważ zmniejsza ogólną liczbę operacje dotyczące komunikatów lub rund.</span><span class="sxs-lookup"><span data-stu-id="9d37c-198">Prefetching messages increases the overall throughput for a queue or subscription because it reduces the overall number of message operations, or round trips.</span></span> <span data-ttu-id="9d37c-199">Pobieranie pierwszej wiadomości, jednak będzie trwało dłużej (ze względu na rozmiar komunikatu zwiększona).</span><span class="sxs-lookup"><span data-stu-id="9d37c-199">Fetching the first message, however, will take longer (due to the increased message size).</span></span> <span data-ttu-id="9d37c-200">Odbieranie komunikatów prefetched będzie przebiegać szybciej, ponieważ komunikaty te zostały już pobrane przez klienta.</span><span class="sxs-lookup"><span data-stu-id="9d37c-200">Receiving prefetched messages will be faster because these messages have already been downloaded by the client.</span></span>

<span data-ttu-id="9d37c-201">Czas wygaśnięcia (TTL) właściwość wiadomości jest sprawdzana przez serwer w momencie serwer wysyła wiadomość do klienta.</span><span class="sxs-lookup"><span data-stu-id="9d37c-201">The time-to-live (TTL) property of a message is checked by the server at the time the server sends the message to the client.</span></span> <span data-ttu-id="9d37c-202">Klient nie sprawdza właściwości czas wygaśnięcia wiadomości podczas odbioru wiadomości.</span><span class="sxs-lookup"><span data-stu-id="9d37c-202">The client does not check the message’s TTL property when the message is received.</span></span> <span data-ttu-id="9d37c-203">Zamiast tego można można odebrać wiadomości, nawet jeśli czas wygaśnięcia wiadomości minęła, gdy komunikat był buforowany przez klienta.</span><span class="sxs-lookup"><span data-stu-id="9d37c-203">Instead, the message can be received even if the message’s TTL has passed while the message was cached by the client.</span></span>

<span data-ttu-id="9d37c-204">Odczyt z wyprzedzeniem nie wpływa na liczbę rozliczeniowy operacji obsługi wiadomości i jest dostępna tylko dla protokołu klienta usługi Service Bus.</span><span class="sxs-lookup"><span data-stu-id="9d37c-204">Prefetching does not affect the number of billable messaging operations, and is available only for the Service Bus client protocol.</span></span> <span data-ttu-id="9d37c-205">Protokół HTTP nie obsługuje odczyt z wyprzedzeniem.</span><span class="sxs-lookup"><span data-stu-id="9d37c-205">The HTTP protocol does not support prefetching.</span></span> <span data-ttu-id="9d37c-206">Odczyt z wyprzedzeniem jest dostępna dla operacji odbioru synchroniczne i asynchroniczne.</span><span class="sxs-lookup"><span data-stu-id="9d37c-206">Prefetching is available for both synchronous and asynchronous receive operations.</span></span>

## <a name="express-queues-and-topics"></a><span data-ttu-id="9d37c-207">Express kolejek i tematów</span><span class="sxs-lookup"><span data-stu-id="9d37c-207">Express queues and topics</span></span>

<span data-ttu-id="9d37c-208">Jednostki ekspresowe włączyć uzyskać wysoką przepustowość i mniejsze opóźnienia scenariuszy i są obsługiwane tylko w warstwie standardowej obsługi wiadomości.</span><span class="sxs-lookup"><span data-stu-id="9d37c-208">Express entities enable high throughput and reduced latency scenarios, and are supported only in the Standard messaging tier.</span></span> <span data-ttu-id="9d37c-209">Jednostki utworzone w [przestrzeniach nazw warstwy Premium](service-bus-premium-messaging.md) nie obsługują opcji express.</span><span class="sxs-lookup"><span data-stu-id="9d37c-209">Entities created in [Premium namespaces](service-bus-premium-messaging.md) do not support the express option.</span></span> <span data-ttu-id="9d37c-210">Z jednostki ekspresowe Jeśli jest wysyłany komunikat do kolejki lub tematu, wiadomości nie są natychmiast przechowywane w magazynie obsługi komunikatów.</span><span class="sxs-lookup"><span data-stu-id="9d37c-210">With express entities, if a message is sent to a queue or topic, the message is not immediately stored in the messaging store.</span></span> <span data-ttu-id="9d37c-211">Zamiast tego są buforowane w pamięci.</span><span class="sxs-lookup"><span data-stu-id="9d37c-211">Instead, it is cached in memory.</span></span> <span data-ttu-id="9d37c-212">Jeśli wiadomość pozostaje w kolejce przez więcej niż kilka sekund, są automatycznie zapisywane do stabilnego magazynu, w związku z tym ochrony przed utratą z powodu awarii.</span><span class="sxs-lookup"><span data-stu-id="9d37c-212">If a message remains in the queue for more than a few seconds, it is automatically written to stable storage, thus protecting it against loss due to an outage.</span></span> <span data-ttu-id="9d37c-213">Zapisywanie wiadomości w pamięci podręcznej zwiększa przepustowość i zmniejsza opóźnienia, ponieważ nie ma dostępu do magazynu stanu stabilnego w czasie, który jest wysyłany komunikat.</span><span class="sxs-lookup"><span data-stu-id="9d37c-213">Writing the message into a memory cache increases throughput and reduces latency because there is no access to stable storage at the time the message is sent.</span></span> <span data-ttu-id="9d37c-214">Komunikaty, które są używane w ciągu kilku sekund nie są zapisywane w magazynie obsługi komunikatów.</span><span class="sxs-lookup"><span data-stu-id="9d37c-214">Messages that are consumed within a few seconds are not written to the messaging store.</span></span> <span data-ttu-id="9d37c-215">Poniższy przykład tworzy express tematu.</span><span class="sxs-lookup"><span data-stu-id="9d37c-215">The following example creates an express topic.</span></span>

```csharp
TopicDescription td = new TopicDescription(TopicName);
td.EnableExpress = true;
namespaceManager.CreateTopic(td);
```

<span data-ttu-id="9d37c-216">Jeśli wiadomość zawierającą krytyczne informacje, które nie mogą być utracone są wysyłane do jednostki ekspresowe, nadawca wymusić usługi Service Bus, aby natychmiast utrwalić komunikat do stabilnego magazynu przez ustawienie [ForcePersistence] [ ForcePersistence] właściwości **true**.</span><span class="sxs-lookup"><span data-stu-id="9d37c-216">If a message containing critical information that must not be lost is sent to an express entity, the sender can force Service Bus to immediately persist the message to stable storage by setting the [ForcePersistence][ForcePersistence] property to **true**.</span></span>

> [!NOTE]
> <span data-ttu-id="9d37c-217">Jednostki ekspresowe nie obsługuje transakcji.</span><span class="sxs-lookup"><span data-stu-id="9d37c-217">Express entities do not support transactions.</span></span>

## <a name="use-of-partitioned-queues-or-topics"></a><span data-ttu-id="9d37c-218">Korzystanie z podzielonym na partycje kolejki i tematy</span><span class="sxs-lookup"><span data-stu-id="9d37c-218">Use of partitioned queues or topics</span></span>
<span data-ttu-id="9d37c-219">Wewnętrznie Usługa Service Bus używa tego samego węzła i magazynu do obsługi komunikatów do przetwarzania i przechowywania wszystkie komunikaty dla jednostki obsługi komunikatów (kolejki lub tematu).</span><span class="sxs-lookup"><span data-stu-id="9d37c-219">Internally, Service Bus uses the same node and messaging store to process and store all messages for a messaging entity (queue or topic).</span></span> <span data-ttu-id="9d37c-220">Partycjonowane kolejka lub temat, z drugiej strony, będzie rozmieszczona na wielu węzłach i magazyny obsługi komunikatów.</span><span class="sxs-lookup"><span data-stu-id="9d37c-220">A partitioned queue or topic, on the other hand, is distributed across multiple nodes and messaging stores.</span></span> <span data-ttu-id="9d37c-221">Partycjonowane kolejek i tematów nie tylko uzyskanie wyższej przepustowości niż regularne kolejek i tematów, charakteryzują wysokiej dostępności.</span><span class="sxs-lookup"><span data-stu-id="9d37c-221">Partitioned queues and topics not only yield a higher throughput than regular queues and topics, they also exhibit superior availability.</span></span> <span data-ttu-id="9d37c-222">Aby utworzyć partycjonowane jednostki, ustaw [parametr EnablePartitioning] [ EnablePartitioning] właściwości **true**, jak pokazano w poniższym przykładzie.</span><span class="sxs-lookup"><span data-stu-id="9d37c-222">To create a partitioned entity, set the [EnablePartitioning][EnablePartitioning] property to **true**, as shown in the following example.</span></span> <span data-ttu-id="9d37c-223">Aby uzyskać więcej informacji na temat partycjonowane jednostki, zobacz [partycjonowane jednostki do obsługi komunikatów][Partitioned messaging entities].</span><span class="sxs-lookup"><span data-stu-id="9d37c-223">For more information about partitioned entities, see [Partitioned messaging entities][Partitioned messaging entities].</span></span>

```csharp
// Create partitioned queue.
QueueDescription qd = new QueueDescription(QueueName);
qd.EnablePartitioning = true;
namespaceManager.CreateQueue(qd);
```

## <a name="use-of-multiple-queues"></a><span data-ttu-id="9d37c-224">Korzystanie z wielu kolejek</span><span class="sxs-lookup"><span data-stu-id="9d37c-224">Use of multiple queues</span></span>

<span data-ttu-id="9d37c-225">Jeśli nie jest możliwe za pomocą partycjonowanego kolejki lub tematu lub spodziewane obciążenie nie mogą być obsługiwane przez partycjonowanej kolejka lub temat, należy użyć wiele jednostek obsługi komunikatów.</span><span class="sxs-lookup"><span data-stu-id="9d37c-225">If it is not possible to use a partitioned queue or topic, or the expected load cannot be handled by a single partitioned queue or topic, you must use multiple messaging entities.</span></span> <span data-ttu-id="9d37c-226">Korzystając z wielu jednostek, Utwórz dedykowane klienta dla każdej jednostki, zamiast używać tego samego klienta dla wszystkich obiektów.</span><span class="sxs-lookup"><span data-stu-id="9d37c-226">When using multiple entities, create a dedicated client for each entity, instead of using the same client for all entities.</span></span>

## <a name="development-and-testing-features"></a><span data-ttu-id="9d37c-227">Programowanie i testowanie funkcji</span><span class="sxs-lookup"><span data-stu-id="9d37c-227">Development and testing features</span></span>

<span data-ttu-id="9d37c-228">Usługa Service Bus ma jedną funkcję używanego specjalnie z myślą o programowanie którego **nie mogą być używane w konfiguracjach produkcji**: [TopicDescription.EnableFilteringMessagesBeforePublishing][].</span><span class="sxs-lookup"><span data-stu-id="9d37c-228">Service Bus has one feature that is used specifically for development which **should never be used in production configurations**: [TopicDescription.EnableFilteringMessagesBeforePublishing][].</span></span>

<span data-ttu-id="9d37c-229">Jeśli nowe reguły lub filtry są dodawane do tematu, możesz użyć [TopicDescription.EnableFilteringMessagesBeforePublishing][] Aby sprawdzić, czy nowe wyrażenie filtru działa zgodnie z oczekiwaniami.</span><span class="sxs-lookup"><span data-stu-id="9d37c-229">When new rules or filters are added to the topic, you can use [TopicDescription.EnableFilteringMessagesBeforePublishing][] to verify that the new filter expression is working as expected.</span></span>

## <a name="scenarios"></a><span data-ttu-id="9d37c-230">Scenariusze</span><span class="sxs-lookup"><span data-stu-id="9d37c-230">Scenarios</span></span>
<span data-ttu-id="9d37c-231">W poniższych sekcjach opisano typowe scenariusze obsługi wiadomości i przedstawiają preferowanych ustawień usługi Service Bus.</span><span class="sxs-lookup"><span data-stu-id="9d37c-231">The following sections describe typical messaging scenarios and outline the preferred Service Bus settings.</span></span> <span data-ttu-id="9d37c-232">Przepływności są sklasyfikowane jako mały (mniej niż 1 komunikatów na sekundę), średni (1 komunikatów na sekundę lub większą, ale mniej niż 100 komunikatów na sekundę) i wysoki (100 wiadomości/sekundę lub większą).</span><span class="sxs-lookup"><span data-stu-id="9d37c-232">Throughput rates are classified as small (less than 1 message/second), moderate (1 message/second or greater but less than 100 messages/second) and high (100 messages/second or greater).</span></span> <span data-ttu-id="9d37c-233">Liczba klientów są sklasyfikowane jako mała liczba godzin (5 lub mniej), umiarkowany (więcej niż 5, ale mniej niż 20) i duże (więcej niż 20).</span><span class="sxs-lookup"><span data-stu-id="9d37c-233">The number of clients are classified as small (5 or fewer), moderate (more than 5 but less than or equal to 20), and large (more than 20).</span></span>

### <a name="high-throughput-queue"></a><span data-ttu-id="9d37c-234">Kolejki wysokiej przepustowości</span><span class="sxs-lookup"><span data-stu-id="9d37c-234">High-throughput queue</span></span>
<span data-ttu-id="9d37c-235">Cel: Zmaksymalizować przepustowość pojedynczej kolejki.</span><span class="sxs-lookup"><span data-stu-id="9d37c-235">Goal: Maximize the throughput of a single queue.</span></span> <span data-ttu-id="9d37c-236">Liczba nadawcami a odbiornikami jest mała.</span><span class="sxs-lookup"><span data-stu-id="9d37c-236">The number of senders and receivers is small.</span></span>

* <span data-ttu-id="9d37c-237">Użyj kolejki partycjonowanej większą wydajność i dostępność.</span><span class="sxs-lookup"><span data-stu-id="9d37c-237">Use a partitioned queue for improved performance and availability.</span></span>
* <span data-ttu-id="9d37c-238">Aby zwiększyć ogólną szybkość wysyłania w kolejce, umożliwiają utworzenie nadawców wiele fabryk komunikatów.</span><span class="sxs-lookup"><span data-stu-id="9d37c-238">To increase the overall send rate into the queue, use multiple message factories to create senders.</span></span> <span data-ttu-id="9d37c-239">Dla każdego nadawcy użyj operacji asynchronicznych lub wiele wątków.</span><span class="sxs-lookup"><span data-stu-id="9d37c-239">For each sender, use asynchronous operations or multiple threads.</span></span>
* <span data-ttu-id="9d37c-240">Aby zwiększyć ogólną szybkość odbierania z kolejki, umożliwiają utworzenie odbiorców wiele fabryk komunikatów.</span><span class="sxs-lookup"><span data-stu-id="9d37c-240">To increase the overall receive rate from the queue, use multiple message factories to create receivers.</span></span>
* <span data-ttu-id="9d37c-241">Aby skorzystać z przetwarzanie wsadowe po stronie klienta, należy użyć operacji asynchronicznych.</span><span class="sxs-lookup"><span data-stu-id="9d37c-241">Use asynchronous operations to take advantage of client-side batching.</span></span>
* <span data-ttu-id="9d37c-242">Ustaw interwał łączenia we wsady do 50ms, aby zmniejszyć liczbę transmisji protokołu klienta usługi Service Bus.</span><span class="sxs-lookup"><span data-stu-id="9d37c-242">Set the batching interval to 50ms to reduce the number of Service Bus client protocol transmissions.</span></span> <span data-ttu-id="9d37c-243">Użycie wielu nadawców zwiększyć interwał 100ms o przetwarzanie wsadowe.</span><span class="sxs-lookup"><span data-stu-id="9d37c-243">If multiple senders are used, increase the batching interval to 100ms.</span></span>
* <span data-ttu-id="9d37c-244">Pozostaw włączony dostęp do magazynu wsadowej.</span><span class="sxs-lookup"><span data-stu-id="9d37c-244">Leave batched store access enabled.</span></span> <span data-ttu-id="9d37c-245">Zwiększa ogólną szybkość, w którym można pisać wiadomości do kolejki.</span><span class="sxs-lookup"><span data-stu-id="9d37c-245">This increases the overall rate at which messages can be written into the queue.</span></span>
* <span data-ttu-id="9d37c-246">Ustaw liczbę pobierania z wyprzedzeniem do 20 razy maksymalnej szybkości przetwarzania wszystkich odbiorników fabryki.</span><span class="sxs-lookup"><span data-stu-id="9d37c-246">Set the prefetch count to 20 times the maximum processing rates of all receivers of a factory.</span></span> <span data-ttu-id="9d37c-247">Pozwala to zmniejszyć liczbę transmisji protokołu klienta usługi Service Bus.</span><span class="sxs-lookup"><span data-stu-id="9d37c-247">This reduces the number of Service Bus client protocol transmissions.</span></span>

### <a name="multiple-high-throughput-queues"></a><span data-ttu-id="9d37c-248">Wielu kolejek wysokiej przepustowości</span><span class="sxs-lookup"><span data-stu-id="9d37c-248">Multiple high-throughput queues</span></span>
<span data-ttu-id="9d37c-249">Cel: Zmaksymalizować ogólną przepustowość wielu kolejek.</span><span class="sxs-lookup"><span data-stu-id="9d37c-249">Goal: Maximize overall throughput of multiple queues.</span></span> <span data-ttu-id="9d37c-250">Przepływność pojedynczej kolejki jest średni czy wysoki.</span><span class="sxs-lookup"><span data-stu-id="9d37c-250">The throughput of an individual queue is moderate or high.</span></span>

<span data-ttu-id="9d37c-251">Aby uzyskać maksymalną przepływność wiele kolejek, użyj ustawienia opisane w celu zwiększenia przepływności pojedynczej kolejki.</span><span class="sxs-lookup"><span data-stu-id="9d37c-251">To obtain maximum throughput across multiple queues, use the settings outlined to maximize the throughput of a single queue.</span></span> <span data-ttu-id="9d37c-252">Ponadto użyj innego fabryki, aby utworzyć klientów, którzy wysłać lub odebrać z różnych kolejek.</span><span class="sxs-lookup"><span data-stu-id="9d37c-252">In addition, use different factories to create clients that send or receive from different queues.</span></span>

### <a name="low-latency-queue"></a><span data-ttu-id="9d37c-253">Małe opóźnienia kolejki</span><span class="sxs-lookup"><span data-stu-id="9d37c-253">Low latency queue</span></span>
<span data-ttu-id="9d37c-254">Cel: Zminimalizować czas oczekiwania na trasie kolejka lub temat.</span><span class="sxs-lookup"><span data-stu-id="9d37c-254">Goal: Minimize end-to-end latency of a queue or topic.</span></span> <span data-ttu-id="9d37c-255">Liczba nadawcami a odbiornikami jest mała.</span><span class="sxs-lookup"><span data-stu-id="9d37c-255">The number of senders and receivers is small.</span></span> <span data-ttu-id="9d37c-256">Przepływność kolejki jest mała lub średniego.</span><span class="sxs-lookup"><span data-stu-id="9d37c-256">The throughput of the queue is small or moderate.</span></span>

* <span data-ttu-id="9d37c-257">Użyj kolejki podzielonym na partycje do zwiększenia dostępności.</span><span class="sxs-lookup"><span data-stu-id="9d37c-257">Use a partitioned queue for improved availability.</span></span>
* <span data-ttu-id="9d37c-258">Wyłącz przetwarzanie wsadowe po stronie klienta.</span><span class="sxs-lookup"><span data-stu-id="9d37c-258">Disable client-side batching.</span></span> <span data-ttu-id="9d37c-259">Natychmiast wysyła wiadomość.</span><span class="sxs-lookup"><span data-stu-id="9d37c-259">The client immediately sends a message.</span></span>
* <span data-ttu-id="9d37c-260">Wyłącz dostęp do sklepu wsadowej.</span><span class="sxs-lookup"><span data-stu-id="9d37c-260">Disable batched store access.</span></span> <span data-ttu-id="9d37c-261">Usługa natychmiast zapisuje komunikat w magazynie.</span><span class="sxs-lookup"><span data-stu-id="9d37c-261">The service immediately writes the message to the store.</span></span>
* <span data-ttu-id="9d37c-262">Jeśli przy użyciu jednego klienta, ustaw 20 razy szybkości przetwarzania odbiornika liczba pobierania z wyprzedzeniem.</span><span class="sxs-lookup"><span data-stu-id="9d37c-262">If using a single client, set the prefetch count to 20 times the processing rate of the receiver.</span></span> <span data-ttu-id="9d37c-263">Jeśli wiele wiadomości do kolejki w tym samym czasie, protokół klienta usługi Service Bus umożliwiają przesyłanie wszystko na tym samym czasie.</span><span class="sxs-lookup"><span data-stu-id="9d37c-263">If multiple messages arrive at the queue at the same time, the Service Bus client protocol transmits them all at the same time.</span></span> <span data-ttu-id="9d37c-264">Gdy klient odbierze następny komunikat, ten komunikat jest już w lokalnej pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="9d37c-264">When the client receives the next message, that message is already in the local cache.</span></span> <span data-ttu-id="9d37c-265">Pamięć podręczna powinna być niewielka.</span><span class="sxs-lookup"><span data-stu-id="9d37c-265">The cache should be small.</span></span>
* <span data-ttu-id="9d37c-266">Jeśli używasz wielu klientów, liczba pobierania z wyprzedzeniem wartości 0.</span><span class="sxs-lookup"><span data-stu-id="9d37c-266">If using multiple clients, set the prefetch count to 0.</span></span> <span data-ttu-id="9d37c-267">Dzięki temu drugi klient może odbierać to drugi komunikat, gdy pierwszy klient nadal przetwarza pierwszego komunikatu.</span><span class="sxs-lookup"><span data-stu-id="9d37c-267">By doing this, the second client can receive the second message while the first client is still processing the first message.</span></span>

### <a name="queue-with-a-large-number-of-senders"></a><span data-ttu-id="9d37c-268">Kolejka z dużą liczbą nadawców</span><span class="sxs-lookup"><span data-stu-id="9d37c-268">Queue with a large number of senders</span></span>
<span data-ttu-id="9d37c-269">Cel: Zmaksymalizować przepustowość kolejka lub temat z dużą liczbą nadawcy.</span><span class="sxs-lookup"><span data-stu-id="9d37c-269">Goal: Maximize throughput of a queue or topic with a large number of senders.</span></span> <span data-ttu-id="9d37c-270">Każdy Nadawca wysyła komunikaty z wartością średnią.</span><span class="sxs-lookup"><span data-stu-id="9d37c-270">Each sender sends messages with a moderate rate.</span></span> <span data-ttu-id="9d37c-271">Liczba odbiorcy jest mała.</span><span class="sxs-lookup"><span data-stu-id="9d37c-271">The number of receivers is small.</span></span>

<span data-ttu-id="9d37c-272">Usługa Service Bus umożliwia do 1000 równoczesnych połączeń jednostki obsługi komunikatów (lub 5000 za pomocą protokołu AMQP).</span><span class="sxs-lookup"><span data-stu-id="9d37c-272">Service Bus enables up to 1000 concurrent connections to a messaging entity (or 5000 using AMQP).</span></span> <span data-ttu-id="9d37c-273">Ten limit jest wymuszane na poziomie przestrzeni nazw i kolejek/tematy/subskrypcje są ograniczone przez limit równoczesnych połączeń na przestrzeni nazw.</span><span class="sxs-lookup"><span data-stu-id="9d37c-273">This limit is enforced at the namespace level, and queues/topics/subscriptions are capped by the limit of concurrent connections per namespace.</span></span> <span data-ttu-id="9d37c-274">W przypadku kolejek ta liczba jest udostępniana między nadawcami a odbiornikami.</span><span class="sxs-lookup"><span data-stu-id="9d37c-274">For queues, this number is shared between senders and receivers.</span></span> <span data-ttu-id="9d37c-275">Jeśli wszystkie połączenia 1000 są wymagane dla nadawców, należy zastąpić kolejki z tematu i jedną subskrypcją.</span><span class="sxs-lookup"><span data-stu-id="9d37c-275">If all 1000 connections are required for senders, you should replace the queue with a topic and a single subscription.</span></span> <span data-ttu-id="9d37c-276">Temat akceptuje do 1000 równoczesnych połączeń od nadawcy, natomiast subskrypcji akceptuje dodatkowych 1000 równoczesnych połączeń od odbiorcy.</span><span class="sxs-lookup"><span data-stu-id="9d37c-276">A topic accepts up to 1000 concurrent connections from senders, whereas the subscription accepts an additional 1000 concurrent connections from receivers.</span></span> <span data-ttu-id="9d37c-277">Jeśli wymaganych jest więcej niż 1000 równoczesnych nadawców nadawców powinien wysyłać wiadomości protokołu usługi Service Bus za pośrednictwem protokołu HTTP.</span><span class="sxs-lookup"><span data-stu-id="9d37c-277">If more than 1000 concurrent senders are required, the senders should send messages to the Service Bus protocol via HTTP.</span></span>

<span data-ttu-id="9d37c-278">Aby zmaksymalizować przepustowość, wykonaj następujące czynności:</span><span class="sxs-lookup"><span data-stu-id="9d37c-278">To maximize throughput, do the following:</span></span>

* <span data-ttu-id="9d37c-279">Użyj kolejki partycjonowanej większą wydajność i dostępność.</span><span class="sxs-lookup"><span data-stu-id="9d37c-279">Use a partitioned queue for improved performance and availability.</span></span>
* <span data-ttu-id="9d37c-280">Jeśli każdego nadawcy znajduje się w ramach innego procesu, należy użyć tylko jednej fabryki na proces.</span><span class="sxs-lookup"><span data-stu-id="9d37c-280">If each sender resides in a different process, use only a single factory per process.</span></span>
* <span data-ttu-id="9d37c-281">Aby skorzystać z przetwarzanie wsadowe po stronie klienta, należy użyć operacji asynchronicznych.</span><span class="sxs-lookup"><span data-stu-id="9d37c-281">Use asynchronous operations to take advantage of client-side batching.</span></span>
* <span data-ttu-id="9d37c-282">Użyj domyślnej przetwarzanie wsadowe interwał 20ms, aby zmniejszyć liczbę transmisji protokołu klienta usługi Service Bus.</span><span class="sxs-lookup"><span data-stu-id="9d37c-282">Use the default batching interval of 20ms to reduce the number of Service Bus client protocol transmissions.</span></span>
* <span data-ttu-id="9d37c-283">Pozostaw włączony dostęp do magazynu wsadowej.</span><span class="sxs-lookup"><span data-stu-id="9d37c-283">Leave batched store access enabled.</span></span> <span data-ttu-id="9d37c-284">Zwiększa ogólną szybkość, jaką można pisać wiadomości do kolejki lub temat.</span><span class="sxs-lookup"><span data-stu-id="9d37c-284">This increases the overall rate at which messages can be written into the queue or topic.</span></span>
* <span data-ttu-id="9d37c-285">Ustaw liczbę pobierania z wyprzedzeniem do 20 razy maksymalnej szybkości przetwarzania wszystkich odbiorników fabryki.</span><span class="sxs-lookup"><span data-stu-id="9d37c-285">Set the prefetch count to 20 times the maximum processing rates of all receivers of a factory.</span></span> <span data-ttu-id="9d37c-286">Pozwala to zmniejszyć liczbę transmisji protokołu klienta usługi Service Bus.</span><span class="sxs-lookup"><span data-stu-id="9d37c-286">This reduces the number of Service Bus client protocol transmissions.</span></span>

### <a name="queue-with-a-large-number-of-receivers"></a><span data-ttu-id="9d37c-287">Kolejka z wieloma odbiornikami</span><span class="sxs-lookup"><span data-stu-id="9d37c-287">Queue with a large number of receivers</span></span>
<span data-ttu-id="9d37c-288">Cel: Maksymalizuj szybkość odbierania kolejki lub subskrypcji z dużą liczbą odbiorników.</span><span class="sxs-lookup"><span data-stu-id="9d37c-288">Goal: Maximize the receive rate of a queue or subscription with a large number of receivers.</span></span> <span data-ttu-id="9d37c-289">Każdy odbiorca odbiera komunikaty z umiarkowane szybkością.</span><span class="sxs-lookup"><span data-stu-id="9d37c-289">Each receiver receives messages at a moderate rate.</span></span> <span data-ttu-id="9d37c-290">Liczba nadawców jest mała.</span><span class="sxs-lookup"><span data-stu-id="9d37c-290">The number of senders is small.</span></span>

<span data-ttu-id="9d37c-291">Usługa Service Bus umożliwia do 1000 równoczesnych połączeń z jednostką.</span><span class="sxs-lookup"><span data-stu-id="9d37c-291">Service Bus enables up to 1000 concurrent connections to an entity.</span></span> <span data-ttu-id="9d37c-292">Jeśli kolejka wymaga więcej niż 1000 odbiorcy, należy zastąpić kolejki z tematu i subskrypcji.</span><span class="sxs-lookup"><span data-stu-id="9d37c-292">If a queue requires more than 1000 receivers, you should replace the queue with a topic and multiple subscriptions.</span></span> <span data-ttu-id="9d37c-293">Każda subskrypcja może obsługiwać maksymalnie 1000 równoczesnych połączeń.</span><span class="sxs-lookup"><span data-stu-id="9d37c-293">Each subscription can support up to 1000 concurrent connections.</span></span> <span data-ttu-id="9d37c-294">Alternatywnie odbiorcy mają dostęp do kolejki przy użyciu protokołu HTTP.</span><span class="sxs-lookup"><span data-stu-id="9d37c-294">Alternatively, receivers can access the queue via the HTTP protocol.</span></span>

<span data-ttu-id="9d37c-295">Aby zmaksymalizować przepustowość, wykonaj następujące czynności:</span><span class="sxs-lookup"><span data-stu-id="9d37c-295">To maximize throughput, do the following:</span></span>

* <span data-ttu-id="9d37c-296">Użyj kolejki partycjonowanej większą wydajność i dostępność.</span><span class="sxs-lookup"><span data-stu-id="9d37c-296">Use a partitioned queue for improved performance and availability.</span></span>
* <span data-ttu-id="9d37c-297">Każdy odbiorca znajduje się w ramach innego procesu, należy użyć tylko jednej fabryki na proces.</span><span class="sxs-lookup"><span data-stu-id="9d37c-297">If each receiver resides in a different process, use only a single factory per process.</span></span>
* <span data-ttu-id="9d37c-298">Odbiorniki można używać operacji synchroniczna lub asynchroniczna.</span><span class="sxs-lookup"><span data-stu-id="9d37c-298">Receivers can use synchronous or asynchronous operations.</span></span> <span data-ttu-id="9d37c-299">Biorąc pod uwagę szybkość odbierania umiarkowane poszczególnych odbiornika, wykonać żądanie przetwarzanie wsadowe po stronie klienta nie wpływa na przepływność odbiorcy.</span><span class="sxs-lookup"><span data-stu-id="9d37c-299">Given the moderate receive rate of an individual receiver, client-side batching of a Complete request does not affect receiver throughput.</span></span>
* <span data-ttu-id="9d37c-300">Pozostaw włączony dostęp do magazynu wsadowej.</span><span class="sxs-lookup"><span data-stu-id="9d37c-300">Leave batched store access enabled.</span></span> <span data-ttu-id="9d37c-301">Zmniejsza całkowite obciążenie jednostki.</span><span class="sxs-lookup"><span data-stu-id="9d37c-301">This reduces the overall load of the entity.</span></span> <span data-ttu-id="9d37c-302">Zmniejsza ogólną szybkość, jaką można pisać wiadomości do kolejki lub temat.</span><span class="sxs-lookup"><span data-stu-id="9d37c-302">It also reduces the overall rate at which messages can be written into the queue or topic.</span></span>
* <span data-ttu-id="9d37c-303">Ustaw wyprzedzeniem liczbę małej wartości (na przykład PrefetchCount = 10).</span><span class="sxs-lookup"><span data-stu-id="9d37c-303">Set the prefetch count to a small value (for example, PrefetchCount = 10).</span></span> <span data-ttu-id="9d37c-304">Zapobiega to odbiorcy ze stanu bezczynności podczas innym odbiornikom ma dużą liczbę komunikatów w pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="9d37c-304">This prevents receivers from being idle while other receivers have large numbers of messages cached.</span></span>

### <a name="topic-with-a-small-number-of-subscriptions"></a><span data-ttu-id="9d37c-305">Temat z małą liczbą subskrypcji</span><span class="sxs-lookup"><span data-stu-id="9d37c-305">Topic with a small number of subscriptions</span></span>
<span data-ttu-id="9d37c-306">Cel: Zmaksymalizować przepustowość tematu z mniejszą liczbą subskrypcji.</span><span class="sxs-lookup"><span data-stu-id="9d37c-306">Goal: Maximize the throughput of a topic with a small number of subscriptions.</span></span> <span data-ttu-id="9d37c-307">Odebraniu komunikatu przez wiele subskrypcji, co oznacza, że szybkość odbierania połączonych za pośrednictwem wszystkie subskrypcje jest większa niż częstotliwość wysyłania.</span><span class="sxs-lookup"><span data-stu-id="9d37c-307">A message is received by many subscriptions, which means the combined receive rate over all subscriptions is larger than the send rate.</span></span> <span data-ttu-id="9d37c-308">Liczba nadawców jest mała.</span><span class="sxs-lookup"><span data-stu-id="9d37c-308">The number of senders is small.</span></span> <span data-ttu-id="9d37c-309">Liczba odbiorcy dla subskrypcji jest mała.</span><span class="sxs-lookup"><span data-stu-id="9d37c-309">The number of receivers per subscription is small.</span></span>

<span data-ttu-id="9d37c-310">Aby zmaksymalizować przepustowość, wykonaj następujące czynności:</span><span class="sxs-lookup"><span data-stu-id="9d37c-310">To maximize throughput, do the following:</span></span>

* <span data-ttu-id="9d37c-311">Skorzystaj z podzielonym na partycje tematu, aby uzyskać lepszą wydajność i dostępność.</span><span class="sxs-lookup"><span data-stu-id="9d37c-311">Use a partitioned topic for improved performance and availability.</span></span>
* <span data-ttu-id="9d37c-312">Aby zwiększyć ogólną szybkość wysyłania do tematu, umożliwiają utworzenie nadawców wiele fabryk komunikatów.</span><span class="sxs-lookup"><span data-stu-id="9d37c-312">To increase the overall send rate into the topic, use multiple message factories to create senders.</span></span> <span data-ttu-id="9d37c-313">Dla każdego nadawcy użyj operacji asynchronicznych lub wiele wątków.</span><span class="sxs-lookup"><span data-stu-id="9d37c-313">For each sender, use asynchronous operations or multiple threads.</span></span>
* <span data-ttu-id="9d37c-314">Aby zwiększyć ogólną szybkość odbierania z subskrypcji, umożliwiają utworzenie odbiorców wiele fabryk komunikatów.</span><span class="sxs-lookup"><span data-stu-id="9d37c-314">To increase the overall receive rate from a subscription, use multiple message factories to create receivers.</span></span> <span data-ttu-id="9d37c-315">Dla każdego adresata użyj operacji asynchronicznych lub wiele wątków.</span><span class="sxs-lookup"><span data-stu-id="9d37c-315">For each receiver, use asynchronous operations or multiple threads.</span></span>
* <span data-ttu-id="9d37c-316">Aby skorzystać z przetwarzanie wsadowe po stronie klienta, należy użyć operacji asynchronicznych.</span><span class="sxs-lookup"><span data-stu-id="9d37c-316">Use asynchronous operations to take advantage of client-side batching.</span></span>
* <span data-ttu-id="9d37c-317">Użyj domyślnej przetwarzanie wsadowe interwał 20ms, aby zmniejszyć liczbę transmisji protokołu klienta usługi Service Bus.</span><span class="sxs-lookup"><span data-stu-id="9d37c-317">Use the default batching interval of 20ms to reduce the number of Service Bus client protocol transmissions.</span></span>
* <span data-ttu-id="9d37c-318">Pozostaw włączony dostęp do magazynu wsadowej.</span><span class="sxs-lookup"><span data-stu-id="9d37c-318">Leave batched store access enabled.</span></span> <span data-ttu-id="9d37c-319">Zwiększa ogólną szybkość jaką komunikaty mogą być zapisywane w temacie.</span><span class="sxs-lookup"><span data-stu-id="9d37c-319">This increases the overall rate at which messages can be written into the topic.</span></span>
* <span data-ttu-id="9d37c-320">Ustaw liczbę pobierania z wyprzedzeniem do 20 razy maksymalnej szybkości przetwarzania wszystkich odbiorników fabryki.</span><span class="sxs-lookup"><span data-stu-id="9d37c-320">Set the prefetch count to 20 times the maximum processing rates of all receivers of a factory.</span></span> <span data-ttu-id="9d37c-321">Pozwala to zmniejszyć liczbę transmisji protokołu klienta usługi Service Bus.</span><span class="sxs-lookup"><span data-stu-id="9d37c-321">This reduces the number of Service Bus client protocol transmissions.</span></span>

### <a name="topic-with-a-large-number-of-subscriptions"></a><span data-ttu-id="9d37c-322">Temat z dużą liczbą subskrypcji</span><span class="sxs-lookup"><span data-stu-id="9d37c-322">Topic with a large number of subscriptions</span></span>
<span data-ttu-id="9d37c-323">Cel: Zmaksymalizować przepustowość tematu z dużą liczbą subskrypcji.</span><span class="sxs-lookup"><span data-stu-id="9d37c-323">Goal: Maximize the throughput of a topic with a large number of subscriptions.</span></span> <span data-ttu-id="9d37c-324">Komunikat jest odbierany przez wiele subskrypcji, co oznacza, że szybkość odbierania połączonych za pośrednictwem wszystkie subskrypcje jest znacznie większa niż częstotliwość wysyłania.</span><span class="sxs-lookup"><span data-stu-id="9d37c-324">A message is received by many subscriptions, which means the combined receive rate over all subscriptions is much larger than the send rate.</span></span> <span data-ttu-id="9d37c-325">Liczba nadawców jest mała.</span><span class="sxs-lookup"><span data-stu-id="9d37c-325">The number of senders is small.</span></span> <span data-ttu-id="9d37c-326">Liczba odbiorcy dla subskrypcji jest mała.</span><span class="sxs-lookup"><span data-stu-id="9d37c-326">The number of receivers per subscription is small.</span></span>

<span data-ttu-id="9d37c-327">Tematy z dużą liczbą subskrypcji zwykle ujawnia niski ogólną przepustowość, jeśli wszystkie komunikaty są kierowane do wszystkich subskrypcji.</span><span class="sxs-lookup"><span data-stu-id="9d37c-327">Topics with a large number of subscriptions typically expose a low overall throughput if all messages are routed to all subscriptions.</span></span> <span data-ttu-id="9d37c-328">Przyczyną jest fakt, że każdy komunikat jest odbierany tyle razy, a wszystkie komunikaty, które znajdują się w temacie i wszystkie jego subskrypcje są przechowywane w tym samym magazynie.</span><span class="sxs-lookup"><span data-stu-id="9d37c-328">This is caused by the fact that each message is received many times, and all messages that are contained in a topic and all its subscriptions are stored in the same store.</span></span> <span data-ttu-id="9d37c-329">Zakłada się, liczba nadawców i liczbę odbiorników dla subskrypcji jest mała.</span><span class="sxs-lookup"><span data-stu-id="9d37c-329">It is assumed that the number of senders and number of receivers per subscription is small.</span></span> <span data-ttu-id="9d37c-330">Usługa Service Bus obsługuje maksymalnie 2000 subskrypcji na temat.</span><span class="sxs-lookup"><span data-stu-id="9d37c-330">Service Bus supports up to 2,000 subscriptions per topic.</span></span>

<span data-ttu-id="9d37c-331">Aby zmaksymalizować przepustowość, wykonaj następujące czynności:</span><span class="sxs-lookup"><span data-stu-id="9d37c-331">To maximize throughput, do the following:</span></span>

* <span data-ttu-id="9d37c-332">Skorzystaj z podzielonym na partycje tematu, aby uzyskać lepszą wydajność i dostępność.</span><span class="sxs-lookup"><span data-stu-id="9d37c-332">Use a partitioned topic for improved performance and availability.</span></span>
* <span data-ttu-id="9d37c-333">Aby skorzystać z przetwarzanie wsadowe po stronie klienta, należy użyć operacji asynchronicznych.</span><span class="sxs-lookup"><span data-stu-id="9d37c-333">Use asynchronous operations to take advantage of client-side batching.</span></span>
* <span data-ttu-id="9d37c-334">Użyj domyślnej przetwarzanie wsadowe interwał 20ms, aby zmniejszyć liczbę transmisji protokołu klienta usługi Service Bus.</span><span class="sxs-lookup"><span data-stu-id="9d37c-334">Use the default batching interval of 20ms to reduce the number of Service Bus client protocol transmissions.</span></span>
* <span data-ttu-id="9d37c-335">Pozostaw włączony dostęp do magazynu wsadowej.</span><span class="sxs-lookup"><span data-stu-id="9d37c-335">Leave batched store access enabled.</span></span> <span data-ttu-id="9d37c-336">Zwiększa ogólną szybkość jaką komunikaty mogą być zapisywane w temacie.</span><span class="sxs-lookup"><span data-stu-id="9d37c-336">This increases the overall rate at which messages can be written into the topic.</span></span>
* <span data-ttu-id="9d37c-337">Ustaw liczbę pobierania z wyprzedzeniem 20 razy szybkość odbierania oczekiwanego, w sekundach.</span><span class="sxs-lookup"><span data-stu-id="9d37c-337">Set the prefetch count to 20 times the expected receive rate in seconds.</span></span> <span data-ttu-id="9d37c-338">Pozwala to zmniejszyć liczbę transmisji protokołu klienta usługi Service Bus.</span><span class="sxs-lookup"><span data-stu-id="9d37c-338">This reduces the number of Service Bus client protocol transmissions.</span></span>

## <a name="next-steps"></a><span data-ttu-id="9d37c-339">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="9d37c-339">Next steps</span></span>
<span data-ttu-id="9d37c-340">Aby dowiedzieć się więcej na temat optymalizacji wydajności usługi Service Bus, zobacz [partycjonowane jednostki do obsługi komunikatów][Partitioned messaging entities].</span><span class="sxs-lookup"><span data-stu-id="9d37c-340">To learn more about optimizing Service Bus performance, see [Partitioned messaging entities][Partitioned messaging entities].</span></span>

[QueueClient]: /dotnet/api/microsoft.servicebus.messaging.queueclient
[MessageSender]: /dotnet/api/microsoft.servicebus.messaging.messagesender
[MessagingFactory]: /dotnet/api/microsoft.servicebus.messaging.messagingfactory
[PeekLock]: /dotnet/api/microsoft.servicebus.messaging.receivemode
[ReceiveAndDelete]: /dotnet/api/microsoft.servicebus.messaging.receivemode
[BatchFlushInterval]: /dotnet/api/microsoft.servicebus.messaging.netmessagingtransportsettings.batchflushinterval#Microsoft_ServiceBus_Messaging_NetMessagingTransportSettings_BatchFlushInterval
[EnableBatchedOperations]: /dotnet/api/microsoft.servicebus.messaging.queuedescription.enablebatchedoperations#Microsoft_ServiceBus_Messaging_QueueDescription_EnableBatchedOperations
[QueueClient.PrefetchCount]: /dotnet/api/microsoft.servicebus.messaging.queueclient.prefetchcount#Microsoft_ServiceBus_Messaging_QueueClient_PrefetchCount
[SubscriptionClient.PrefetchCount]: /dotnet/api/microsoft.servicebus.messaging.subscriptionclient.prefetchcount#Microsoft_ServiceBus_Messaging_SubscriptionClient_PrefetchCount
[ForcePersistence]: /dotnet/api/microsoft.servicebus.messaging.brokeredmessage.forcepersistence#Microsoft_ServiceBus_Messaging_BrokeredMessage_ForcePersistence
[EnablePartitioning]: /dotnet/api/microsoft.servicebus.messaging.queuedescription.enablepartitioning#Microsoft_ServiceBus_Messaging_QueueDescription_EnablePartitioning
[Partitioned messaging entities]: service-bus-partitioning.md
<span data-ttu-id="9d37c-341">[TopicDescription.EnableFilteringMessagesBeforePublishing]: /dotnet/api/microsoft.servicebus.messaging.topicdescription.enablefilteringmessagesbeforepublishing#Microsoft_ServiceBus_Messaging_TopicDescription_EnableFilteringMessagesBeforePublishing</span><span class="sxs-lookup"><span data-stu-id="9d37c-341">[TopicDescription.EnableFilteringMessagesBeforePublishing]: /dotnet/api/microsoft.servicebus.messaging.topicdescription.enablefilteringmessagesbeforepublishing#Microsoft_ServiceBus_Messaging_TopicDescription_EnableFilteringMessagesBeforePublishing</span></span>
