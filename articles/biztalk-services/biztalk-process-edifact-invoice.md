---
title: "Samouczek: Przetworzyć EDIFACT faktury za pomocą usług Azure BizTalk | Dokumentacja firmy Microsoft"
description: "Jak utworzyć i skonfigurować łącznik pole lub interfejsu API aplikacji i użyć go w aplikacji logiki w usłudze Azure App Service"
services: biztalk-services
documentationcenter: .net,nodejs,java
author: msftman
manager: erikre
editor: 
ms.assetid: 7e0b93fa-3e2b-4a9c-89ef-abf1d3aa8fa9
ms.service: biztalk-services
ms.devlang: multiple
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: integration
ms.date: 05/31/2016
ms.author: deonhe
ms.openlocfilehash: 4597ee28e4c3b797c0ab050b21a126a95d9e8191
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 08/03/2017
---
# <a name="tutorial-process-edifact-invoices-using-azure-biztalk-services"></a><span data-ttu-id="11cb2-103">Samouczek: Proces EDIFACT faktury za pomocą usługi Azure BizTalk Services</span><span class="sxs-lookup"><span data-stu-id="11cb2-103">Tutorial: Process EDIFACT invoices using Azure BizTalk Services</span></span>

> [!INCLUDE [BizTalk Services is being retired, and replaced with Azure Logic Apps](../../includes/biztalk-services-retirement.md)]

<span data-ttu-id="11cb2-104">Portal usługi BizTalk umożliwia konfigurowanie i wdrażanie X12 i umów EDIFACT.</span><span class="sxs-lookup"><span data-stu-id="11cb2-104">You can use the BizTalk Services Portal to configure and deploy X12 and EDIFACT agreements.</span></span> <span data-ttu-id="11cb2-105">W ramach tego samouczka przyjrzymy się Tworzenie umów EDIFACT wymiany faktury między partnerami handlowymi.</span><span class="sxs-lookup"><span data-stu-id="11cb2-105">In this tutorial, we look at how to create an EDIFACT agreement for exchanging invoices between trading partners.</span></span> <span data-ttu-id="11cb2-106">Ten samouczek jest przeznaczony wokół obejmujące dwoma partnerami handlowymi Northwind i Contoso, które wymiany wiadomości EDIFACT firm end-to-end.</span><span class="sxs-lookup"><span data-stu-id="11cb2-106">This tutorial is written around an end-to-end business solution involving two trading partners, Northwind and Contoso that exchange EDIFACT messages.</span></span>  

## <a name="sample-based-on-this-tutorial"></a><span data-ttu-id="11cb2-107">Przykładowe na podstawie w tym samouczku</span><span class="sxs-lookup"><span data-stu-id="11cb2-107">Sample based on this tutorial</span></span>
<span data-ttu-id="11cb2-108">Ten samouczek jest przeznaczony wokół próbki **wysyłania EDIFACT faktury za pomocą usługi BizTalk Services**, który jest dostępny do pobrania z [galerii kodu MSDN](http://go.microsoft.com/fwlink/?LinkId=401005).</span><span class="sxs-lookup"><span data-stu-id="11cb2-108">This tutorial is written around a sample, **Sending EDIFACT Invoices Using BizTalk Services**, which is available to download from the [MSDN Code Gallery](http://go.microsoft.com/fwlink/?LinkId=401005).</span></span> <span data-ttu-id="11cb2-109">Można użyć próbki i przejść opisanych w tym samouczku, aby zrozumieć, jak próbki został skompilowany.</span><span class="sxs-lookup"><span data-stu-id="11cb2-109">You could use the sample and go through this tutorial to understand how the sample was built.</span></span> <span data-ttu-id="11cb2-110">Lub, w tym samouczku można użyć do utworzenia podstaw własne rozwiązania.</span><span class="sxs-lookup"><span data-stu-id="11cb2-110">Or, you could use this tutorial to create your own solution ground-up.</span></span> <span data-ttu-id="11cb2-111">W tym samouczku jest przeznaczona do drugiej metody, aby zrozumieć, jak to rozwiązanie został skompilowany.</span><span class="sxs-lookup"><span data-stu-id="11cb2-111">This tutorial is targeted towards the second approach so that you understand how this solution was built.</span></span> <span data-ttu-id="11cb2-112">Również jak to możliwe, samouczka są zgodne z próbki i używa tych samych nazw artefaktów (na przykład, schematów, przekształceń) co w przykładzie.</span><span class="sxs-lookup"><span data-stu-id="11cb2-112">Also, as much as possible, the tutorial is consistent with the sample and uses the same names for artifacts (for example, schemas, transforms) as used in the sample.</span></span>  

> [!NOTE]
> <span data-ttu-id="11cb2-113">Ponieważ to rozwiązanie polega na wysyłanie wiadomości z mostka EAI Mostek EDI, ponownie [Mostek usługi BizTalk łańcucha próbki](http://code.msdn.microsoft.com/BizTalk-Bridge-chaining-2246b104) próbki.</span><span class="sxs-lookup"><span data-stu-id="11cb2-113">Because this solution involves sending a message from an EAI bridge to an EDI bridge, it reuses the [BizTalk Services Bridge chaining sample](http://code.msdn.microsoft.com/BizTalk-Bridge-chaining-2246b104) sample.</span></span>  
> 
> 

## <a name="what-does-the-solution-do"></a><span data-ttu-id="11cb2-114">Do czego służy rozwiązania?</span><span class="sxs-lookup"><span data-stu-id="11cb2-114">What does the solution do?</span></span>
<span data-ttu-id="11cb2-115">W tym rozwiązaniu Northwind odbiera faktury EDIFACT z firmy Contoso.</span><span class="sxs-lookup"><span data-stu-id="11cb2-115">In this solution, Northwind receives EDIFACT invoices from Contoso.</span></span> <span data-ttu-id="11cb2-116">Te faktury nie znajdują się w standardowym formacie EDI.</span><span class="sxs-lookup"><span data-stu-id="11cb2-116">These invoices are not in a standard EDI format.</span></span> <span data-ttu-id="11cb2-117">Tak przed wysłaniem faktury Northwind, go musi zostać przekształcone do dokumentu EDIFACT faktury (nazywanych również ZALICZKOWĄ).</span><span class="sxs-lookup"><span data-stu-id="11cb2-117">So, before sending the invoice to Northwind, it must be transformed to an EDIFACT invoice (also called INVOIC) document.</span></span> <span data-ttu-id="11cb2-118">Po otrzymaniu Northwind musi przetworzyć faktury EDIFACT i Przywróć komunikat kontrolny (nazywanych również CONTRL) firmy Contoso.</span><span class="sxs-lookup"><span data-stu-id="11cb2-118">On receipt, Northwind must process the EDIFACT invoice, and return a control message (also called CONTRL) to Contoso.</span></span>

![][1]  

<span data-ttu-id="11cb2-119">Aby osiągnąć tego scenariusza biznesowego, firma Contoso używa funkcji dostarczane z usługi Microsoft Azure BizTalk.</span><span class="sxs-lookup"><span data-stu-id="11cb2-119">To achieve this business scenario, Contoso uses the features provided with Microsoft Azure BizTalk Services.</span></span>

* <span data-ttu-id="11cb2-120">Firma Contoso używa mostków EAI oryginalną fakturę ZALICZKOWĄ EDIFACT transformacji.</span><span class="sxs-lookup"><span data-stu-id="11cb2-120">Contoso uses EAI bridges to transform the original invoice to EDIFACT INVOIC.</span></span>
* <span data-ttu-id="11cb2-121">Mostek EAI następnie wysyła wiadomość do wysłania EDI mostka wdrożenia w ramach umowy skonfigurowane w portalu usługi BizTalk.</span><span class="sxs-lookup"><span data-stu-id="11cb2-121">The EAI bridge then sends the message to an EDI send bridge deployed as part of an agreement configured in the BizTalk Services Portal.</span></span>
* <span data-ttu-id="11cb2-122">Mostek wysyłania EDI przetwarza ZALICZKOWĄ EDIFACT i kieruje je do Northwind.</span><span class="sxs-lookup"><span data-stu-id="11cb2-122">The EDI send bridge processes the EDIFACT INVOIC and routes it to Northwind.</span></span>
* <span data-ttu-id="11cb2-123">Po otrzymaniu faktury, zwraca Northwind CONTRL komunikatów do EDI odbierać Mostek wdrożenia w ramach niniejszej Umowy.</span><span class="sxs-lookup"><span data-stu-id="11cb2-123">After receiving the invoice, Northwind returns a CONTRL message to the EDI receive bridge deployed as part of the agreement.</span></span>  

> [!NOTE]
> <span data-ttu-id="11cb2-124">Opcjonalnie to rozwiązanie także przedstawiono sposób na potrzeby przetwarzania wsadowego wysłać faktury w partii, zamiast wysyłać każdej faktury oddzielnie.</span><span class="sxs-lookup"><span data-stu-id="11cb2-124">Optionally, this solution also demonstrates how to use batching to send the invoices in batches, instead of sending each invoice separately.</span></span>  
> 
> 

<span data-ttu-id="11cb2-125">Aby ukończyć scenariusz, używamy kolejek usługi Service Bus Faktura z domeny Contoso do Northwind lub odebrać potwierdzenia z Northwind.</span><span class="sxs-lookup"><span data-stu-id="11cb2-125">To complete the scenario, we use Service Bus queues to send invoice from Contoso to Northwind or receive acknowledgement from Northwind.</span></span> <span data-ttu-id="11cb2-126">Te kolejki mogą być tworzone za pomocą aplikacji klienckiej, która jest dostępna do pobrania i znajduje się w pakiecie próbki, który jest dostępny w ramach tego samouczka.</span><span class="sxs-lookup"><span data-stu-id="11cb2-126">These queues can be created using a client application, which is available as a download and is included in the sample package that is available as part of this tutorial.</span></span>  

## <a name="prerequisites"></a><span data-ttu-id="11cb2-127">Wymagania wstępne</span><span class="sxs-lookup"><span data-stu-id="11cb2-127">Prerequisites</span></span>
* <span data-ttu-id="11cb2-128">Musi mieć nazw usługi Service Bus.</span><span class="sxs-lookup"><span data-stu-id="11cb2-128">You must have a Service Bus namespace.</span></span> <span data-ttu-id="11cb2-129">Aby uzyskać instrukcje dotyczące tworzenia przestrzeni nazw, zobacz [jak: utworzyć lub zmodyfikować Namespace usługi magistrali usługi](https://msdn.microsoft.com/library/azure/hh674478.aspx).</span><span class="sxs-lookup"><span data-stu-id="11cb2-129">For instructions on creating a namespace, see [How To: Create or Modify a Service Bus Service Namespace](https://msdn.microsoft.com/library/azure/hh674478.aspx).</span></span> <span data-ttu-id="11cb2-130">Załóżmy już przestrzeń nazw magistrali usług alokacji o nazwie **edifactbts**.</span><span class="sxs-lookup"><span data-stu-id="11cb2-130">Let us assume that you already have a Service Bus namespace provisioned, called **edifactbts**.</span></span>
* <span data-ttu-id="11cb2-131">Musisz mieć subskrypcję usługi BizTalk Services.</span><span class="sxs-lookup"><span data-stu-id="11cb2-131">You must have a BizTalk Services subscription.</span></span> <span data-ttu-id="11cb2-132">Aby uzyskać instrukcje, zobacz [Utwórz usługę BizTalk przy użyciu klasycznego portalu Azure](http://go.microsoft.com/fwlink/?LinkID=302280).</span><span class="sxs-lookup"><span data-stu-id="11cb2-132">For instructions, see [Create a BizTalk Service using Azure classic portal](http://go.microsoft.com/fwlink/?LinkID=302280).</span></span> <span data-ttu-id="11cb2-133">W tym samouczku, poinformuj nas założono, że masz subskrypcję usługi BizTalk Services o nazwie **contosowabs**.</span><span class="sxs-lookup"><span data-stu-id="11cb2-133">For this tutorial, let us assume you have a BizTalk Services subscription, called **contosowabs**.</span></span>
* <span data-ttu-id="11cb2-134">Zarejestruj subskrypcję usługi BizTalk Services w portalu usługi BizTalk.</span><span class="sxs-lookup"><span data-stu-id="11cb2-134">Register your BizTalk Services subscription on the BizTalk Services Portal.</span></span> <span data-ttu-id="11cb2-135">Aby uzyskać instrukcje, zobacz [rejestrowanie wdrożenia usługi BizTalk w portalu usługi BizTalk](https://msdn.microsoft.com/library/hh689837.aspx)</span><span class="sxs-lookup"><span data-stu-id="11cb2-135">For instructions, see [Registering a BizTalk Service Deployment on the BizTalk Services Portal](https://msdn.microsoft.com/library/hh689837.aspx)</span></span>
* <span data-ttu-id="11cb2-136">Musi mieć zainstalowanego programu Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="11cb2-136">You must have Visual Studio installed.</span></span>
* <span data-ttu-id="11cb2-137">Musisz mieć zainstalowany zestaw SDK usług BizTalk.</span><span class="sxs-lookup"><span data-stu-id="11cb2-137">You must have BizTalk Services SDK installed.</span></span> <span data-ttu-id="11cb2-138">Możesz pobrać zestaw SDK z [http://go.microsoft.com/fwlink/?LinkId=235057](http://go.microsoft.com/fwlink/?LinkId=235057)</span><span class="sxs-lookup"><span data-stu-id="11cb2-138">You can download the SDK from [http://go.microsoft.com/fwlink/?LinkId=235057](http://go.microsoft.com/fwlink/?LinkId=235057)</span></span>  

## <a name="step-1-create-the-service-bus-queues"></a><span data-ttu-id="11cb2-139">Krok 1: Tworzenie kolejek usługi Service Bus</span><span class="sxs-lookup"><span data-stu-id="11cb2-139">Step 1: Create the Service Bus queues</span></span>
<span data-ttu-id="11cb2-140">To rozwiązanie używa kolejek usługi Service Bus do wymiany wiadomości między partnerami handlowymi.</span><span class="sxs-lookup"><span data-stu-id="11cb2-140">This solution uses Service Bus queues to exchange messages between trading partners.</span></span> <span data-ttu-id="11cb2-141">Contoso i Northwind wysyłać wiadomości do kolejki, z którym mostków EAI i/lub EDI mogły ich używać.</span><span class="sxs-lookup"><span data-stu-id="11cb2-141">Contoso and Northwind send messages to the queues from where the EAI and/or EDI bridges consume them.</span></span> <span data-ttu-id="11cb2-142">W tym rozwiązaniu są potrzebne trzy kolejek usługi Service Bus:</span><span class="sxs-lookup"><span data-stu-id="11cb2-142">For this solution, you need three Service Bus queues:</span></span>

* <span data-ttu-id="11cb2-143">**northwindreceive** — Northwind odebrał faktury z Contoso za pośrednictwem tej kolejki.</span><span class="sxs-lookup"><span data-stu-id="11cb2-143">**northwindreceive** – Northwind receives the invoice from Contoso over this queue.</span></span>
* <span data-ttu-id="11cb2-144">**contosoreceive** — Contoso odebrał potwierdzenia z Northwind za pośrednictwem tej kolejki.</span><span class="sxs-lookup"><span data-stu-id="11cb2-144">**contosoreceive** – Contoso receives the acknowledgement from Northwind over this queue.</span></span>
* <span data-ttu-id="11cb2-145">**zawieszone** — wszystkie wstrzymane komunikaty są kierowane do tej kolejki.</span><span class="sxs-lookup"><span data-stu-id="11cb2-145">**suspended** – All suspended messages are routed to this queue.</span></span> <span data-ttu-id="11cb2-146">Komunikaty są wstrzymane w razie awarii podczas przetwarzania.</span><span class="sxs-lookup"><span data-stu-id="11cb2-146">Messages are suspended if they fail during processing.</span></span>

<span data-ttu-id="11cb2-147">Te kolejki usługi Service Bus można utworzyć za pomocą aplikacji klienckiej uwzględniony w pakiecie w próbce.</span><span class="sxs-lookup"><span data-stu-id="11cb2-147">You can create these Service Bus queues by using a client application included in the sample package.</span></span>  

1. <span data-ttu-id="11cb2-148">Z lokalizacji, do którego pobrano próbki, należy otworzyć **samouczek wysyłania faktury za pomocą usług BizTalk — wersja usługi EDI Bridges.sln**.</span><span class="sxs-lookup"><span data-stu-id="11cb2-148">From the location where you downloaded the sample, open **Tutorial Sending Invoices Using BizTalk Services EDI Bridges.sln**.</span></span>
2. <span data-ttu-id="11cb2-149">Naciśnij klawisz **F5** Aby skompilować i uruchomić **klienta samouczek** aplikacji.</span><span class="sxs-lookup"><span data-stu-id="11cb2-149">Press **F5** to build and start the **Tutorial Client** application.</span></span>
3. <span data-ttu-id="11cb2-150">Na ekranie wprowadź przestrzeń nazw usługi ACS magistrali, nazwa wystawcy i klucza wystawcy.</span><span class="sxs-lookup"><span data-stu-id="11cb2-150">In the screen, enter the Service Bus ACS namespace, issuer name, and issuer key.</span></span>
   
   ![][2]  
4. <span data-ttu-id="11cb2-151">Okno komunikatu monituje o tym, że zostaną utworzone trzy kolejki w przestrzeni nazw magistrali usług.</span><span class="sxs-lookup"><span data-stu-id="11cb2-151">A message box prompts that three queues will be created in your Service Bus namespace.</span></span> <span data-ttu-id="11cb2-152">Kliknij przycisk **OK**.</span><span class="sxs-lookup"><span data-stu-id="11cb2-152">Click **OK**.</span></span>
5. <span data-ttu-id="11cb2-153">Pozostaw klient Samouczek systemu.</span><span class="sxs-lookup"><span data-stu-id="11cb2-153">Leave the Tutorial Client running.</span></span> <span data-ttu-id="11cb2-154">Otwórz kliknij **usługi Service Bus** > ***przestrzeni nazw usługi Service Bus*** > **kolejek**i sprawdź, czy są tworzone trzy kolejki.</span><span class="sxs-lookup"><span data-stu-id="11cb2-154">Open the , click **Service Bus** > ***your Service Bus namespace*** > **Queues**, and verify that the three queues are created.</span></span>  

## <a name="step-2-create-and-deploy-trading-partner-agreement"></a><span data-ttu-id="11cb2-155">Krok 2: Tworzenie i wdrażanie umowy z partnerem handlowym</span><span class="sxs-lookup"><span data-stu-id="11cb2-155">Step 2: Create and deploy trading partner agreement</span></span>
<span data-ttu-id="11cb2-156">Tworzenie umowy z partnerem handlowym między Contoso i Northwind.</span><span class="sxs-lookup"><span data-stu-id="11cb2-156">Create a trading partner agreement between Contoso and Northwind.</span></span> <span data-ttu-id="11cb2-157">Umowy z partnerem handlowym definiuje kontrakt handlu partnerów biznesowych dwa, takich jak które schematu komunikat do użycia, które obsługi wiadomości protokołu itp. Umowy z partnerem handlowym obejmuje dwa mostków EDI, jednego do wysyłania komunikatów do partnerami handlowymi (o nazwie **wysyłania EDI Mostek**) i jeden do odbierania wiadomości z partnerami handlowymi (o nazwie **odbierania EDI Mostek**).</span><span class="sxs-lookup"><span data-stu-id="11cb2-157">A trading partner agreement defines a trade contract between the two business partners, such as which message schema to use, which messaging protocol to use, etc. A trading partner agreement includes two EDI bridges, one to send messages to trading partners (called the **EDI Send bridge**) and one to receive messages from trading partners (called the **EDI Receive bridge**).</span></span>

<span data-ttu-id="11cb2-158">W kontekście tego rozwiązania Mostek wysyłania EDI odpowiada stronie wysyłającej umowy i jest używany do wysyłania faktury EDIFACT z domeny Contoso do Northwind.</span><span class="sxs-lookup"><span data-stu-id="11cb2-158">In the context of this solution, the EDI send bridge corresponds to the send-side of the agreement and is used to send the EDIFACT invoice from Contoso to Northwind.</span></span> <span data-ttu-id="11cb2-159">Podobnie Mostek receive EDI odpowiada skalowanie po stronie umowy i jest używany do odbierania potwierdzeń z Northwind.</span><span class="sxs-lookup"><span data-stu-id="11cb2-159">Similarly, the EDI receive bridge corresponds to the receive-side of the agreement and is used to receive acknowledgements from Northwind.</span></span>  

### <a name="create-the-trading-partners"></a><span data-ttu-id="11cb2-160">Utwórz partnerami handlowymi</span><span class="sxs-lookup"><span data-stu-id="11cb2-160">Create the trading partners</span></span>
<span data-ttu-id="11cb2-161">Do utworzenia partnerami handlowymi Contoso i Northwind.</span><span class="sxs-lookup"><span data-stu-id="11cb2-161">To start with, create trading partners for Contoso and Northwind.</span></span>  

1. <span data-ttu-id="11cb2-162">W portalu usługi BizTalk na **partnerów** , kliknij pozycję **Dodaj**.</span><span class="sxs-lookup"><span data-stu-id="11cb2-162">In the BizTalk Services Portal, on the **Partners** tab, click **Add**.</span></span>
2. <span data-ttu-id="11cb2-163">W nowej strony partnera, wprowadź **Contoso** Nazwa partnera, a następnie kliknij przycisk **zapisać**.</span><span class="sxs-lookup"><span data-stu-id="11cb2-163">In the New partner page, enter **Contoso** as a partner name, and then click **Save**.</span></span>
3. <span data-ttu-id="11cb2-164">Powtórz krok, aby utworzyć drugiego partnera, **Northwind**.</span><span class="sxs-lookup"><span data-stu-id="11cb2-164">Repeat the step to create the second partner, **Northwind**.</span></span>  

### <a name="create-the-agreement"></a><span data-ttu-id="11cb2-165">Tworzenie umowy</span><span class="sxs-lookup"><span data-stu-id="11cb2-165">Create the agreement</span></span>
<span data-ttu-id="11cb2-166">Umowy z partnerami handlowymi są tworzone profilom biznesowych z partnerami handlowymi.</span><span class="sxs-lookup"><span data-stu-id="11cb2-166">Trading partner agreements are created between business profiles of trading partners.</span></span> <span data-ttu-id="11cb2-167">To rozwiązanie używa domyślnych profilów partnera, które są automatycznie tworzone podczas utworzyliśmy partnerów.</span><span class="sxs-lookup"><span data-stu-id="11cb2-167">This solution uses the default partner profiles that are automatically created when we created the partners.</span></span>  

1. <span data-ttu-id="11cb2-168">W portalu usługi BizTalk, kliknij przycisk **umowy** > **Dodaj**.</span><span class="sxs-lookup"><span data-stu-id="11cb2-168">In the BizTalk Services Portal, click **Agreements** > **Add**.</span></span>
2. <span data-ttu-id="11cb2-169">W nowej umowy **ustawienia ogólne** określić wartości, jak pokazano na poniższej ilustracji, a następnie kliknij pozycję **Kontynuuj**.</span><span class="sxs-lookup"><span data-stu-id="11cb2-169">In the new agreement’s **General Settings** page, specify the values as shown in the image below, and then click **Continue**.</span></span>
   
   ![][3]  
   
   <span data-ttu-id="11cb2-170">Po kliknięciu **Kontynuuj**, dwie karty, **ustawienia odbierania** i **ustawienia wysyłania** staną się dostępne.</span><span class="sxs-lookup"><span data-stu-id="11cb2-170">After you click **Continue**, two tabs, **Receive Settings** and **Send Settings** become available.</span></span>
3. <span data-ttu-id="11cb2-171">Tworzenie umowy wysyłania między Contoso i Northwind.</span><span class="sxs-lookup"><span data-stu-id="11cb2-171">Create the send agreement between Contoso and Northwind.</span></span> <span data-ttu-id="11cb2-172">Niniejsza Umowa decyduje o tym, jak Contoso wysyła faktury EDIFACT Northwind.</span><span class="sxs-lookup"><span data-stu-id="11cb2-172">This agreement governs how Contoso sends the EDIFACT invoice to Northwind.</span></span>
   
   1. <span data-ttu-id="11cb2-173">Kliknij przycisk **ustawień wysyłania**.</span><span class="sxs-lookup"><span data-stu-id="11cb2-173">Click **Send Settings**.</span></span>
   2. <span data-ttu-id="11cb2-174">Zachowaj wartości domyślne na **adres URL komunikatów przychodzących**, **przekształcenie**, i **wsadowe** karty.</span><span class="sxs-lookup"><span data-stu-id="11cb2-174">Retain the default values on the **Inbound URL**, **Transform**, and **Batching** tabs.</span></span>
   3. <span data-ttu-id="11cb2-175">Na **protokołu** , w obszarze **schematy** sekcji, Przekaż **EFACT_D93A_INVOIC.xsd** schematu.</span><span class="sxs-lookup"><span data-stu-id="11cb2-175">On the **Protocol** tab, under the **Schemas** section, upload the **EFACT_D93A_INVOIC.xsd** schema.</span></span> <span data-ttu-id="11cb2-176">Ten schemat jest dostępna z pakietem próbki.</span><span class="sxs-lookup"><span data-stu-id="11cb2-176">This schema is available with the sample package.</span></span>
      
      ![][4]  
   4. <span data-ttu-id="11cb2-177">Na **transportu** karcie, określ szczegóły dla kolejek usługi Service Bus.</span><span class="sxs-lookup"><span data-stu-id="11cb2-177">On the **Transport** tab, specify the details for the Service Bus queues.</span></span> <span data-ttu-id="11cb2-178">Umowy po stronie send stosujemy **northwindreceive** kolejkę do wysyłania do Northwind, faktury EDIFACT i **zawieszone** kolejki rozesłać komunikaty zakończyć się niepowodzeniem podczas przetwarzania, które są wstrzymane.</span><span class="sxs-lookup"><span data-stu-id="11cb2-178">For the send-side agreement, we use the **northwindreceive** queue to send the EDIFACT invoice to Northwind, and the **suspended** queue to route any messages that fail during processing and are suspended.</span></span> <span data-ttu-id="11cb2-179">Utworzono te kolejki w **krok 1: tworzenie kolejek usługi Service Bus** (w tym temacie).</span><span class="sxs-lookup"><span data-stu-id="11cb2-179">You created these queues in **Step 1: Create the Service Bus queues** (in this topic).</span></span>
      
      ![][5]  
      
      <span data-ttu-id="11cb2-180">W obszarze **ustawienia transportu > Typ transportu** i **ustawienia zawieszenia wiadomości > Typ transportu**, wybierz usługi Azure Service Bus i podaj wartości, jak pokazano w obrazie.</span><span class="sxs-lookup"><span data-stu-id="11cb2-180">Under **Transport Settings > Transport type** and **Message Suspension Settings > Transport type**, select Azure Service Bus and provide the values as shown in the image.</span></span>
4. <span data-ttu-id="11cb2-181">Tworzenie umowy receive między Contoso i Northwind.</span><span class="sxs-lookup"><span data-stu-id="11cb2-181">Create the receive agreement between Contoso and Northwind.</span></span> <span data-ttu-id="11cb2-182">Niniejsza Umowa decyduje o tym, jak Contoso odbiera potwierdzenia z Northwind.</span><span class="sxs-lookup"><span data-stu-id="11cb2-182">This agreement governs how Contoso receives the acknowledgement from Northwind.</span></span>
   
   1. <span data-ttu-id="11cb2-183">Kliknij przycisk **odbierają ustawienia**.</span><span class="sxs-lookup"><span data-stu-id="11cb2-183">Click **Receive Settings**.</span></span>
   2. <span data-ttu-id="11cb2-184">Zachowaj wartości domyślne na **transportu** i **przekształcenie** karty.</span><span class="sxs-lookup"><span data-stu-id="11cb2-184">Retain the default values on the **Transport** and **Transform** tabs.</span></span>
   3. <span data-ttu-id="11cb2-185">Na **protokołu** , w obszarze **schematy** sekcji, Przekaż **EFACT_4.1_CONTRL.xsd** schematu.</span><span class="sxs-lookup"><span data-stu-id="11cb2-185">On the **Protocol** tab, under the **Schemas** section, upload the **EFACT_4.1_CONTRL.xsd** schema.</span></span> <span data-ttu-id="11cb2-186">Ten schemat jest dostępna z pakietem próbki.</span><span class="sxs-lookup"><span data-stu-id="11cb2-186">This schema is available with the sample package.</span></span>
   4. <span data-ttu-id="11cb2-187">Na **trasy** pozycję Utwórz filtr w celu zapewnienia, że tylko potwierdzeń z Northwind są kierowane do firmy Contoso.</span><span class="sxs-lookup"><span data-stu-id="11cb2-187">On the **Route** tab, create a filter to ensure that only acknowledgements from Northwind are routed to Contoso.</span></span> <span data-ttu-id="11cb2-188">W obszarze **ustawienia trasy**, kliknij przycisk **Dodaj** do tworzenia filtru routingu.</span><span class="sxs-lookup"><span data-stu-id="11cb2-188">Under **Route Settings**, click **Add** to create the routing filter.</span></span>
      
      ![][6]  
      
      1. <span data-ttu-id="11cb2-189">Podaj wartości dla **Nazwa reguły**, **reguły trasy**, i **docelowy trasy** jak pokazano w obrazie.</span><span class="sxs-lookup"><span data-stu-id="11cb2-189">Provide values for **Rule Name**, **Route rule**, and **Route destination** as shown in the image.</span></span>
      2. <span data-ttu-id="11cb2-190">Kliknij pozycję **Zapisz**.</span><span class="sxs-lookup"><span data-stu-id="11cb2-190">Click **Save**.</span></span>
   5. <span data-ttu-id="11cb2-191">Na **trasy** ponownie karcie, określ, gdzie potwierdzeń zawieszone (potwierdzeń, które nie są podczas przetwarzania) są kierowane do.</span><span class="sxs-lookup"><span data-stu-id="11cb2-191">On the **Route** tab again, specify where suspended acknowledgements (acknowledgements that fail during processing) are routed to.</span></span> <span data-ttu-id="11cb2-192">Ustaw typ transportu do usługi Azure Service Bus, route typ docelowy **kolejki**, typ uwierzytelniania do **sygnatura dostępu współdzielonego** (SAS), podaj ciąg połączenia SAS nazw usługi Service Bus a następnie wprowadź nazwę kolejki jako **zawieszone**.</span><span class="sxs-lookup"><span data-stu-id="11cb2-192">Set the transport type to Azure Service Bus, route destination type to **Queue**, authentication type to **Shared Access Signature** (SAS), provide the SAS connection string for the Service Bus namespace, and then enter the queue name as **suspended**.</span></span>
5. <span data-ttu-id="11cb2-193">Na koniec kliknij **Wdróż** wdrażania umowy.</span><span class="sxs-lookup"><span data-stu-id="11cb2-193">Finally, click **Deploy** to deploy the agreement.</span></span> <span data-ttu-id="11cb2-194">Należy pamiętać, punkty końcowe gdzie wysyłania i odbierania wdrożony umowy.</span><span class="sxs-lookup"><span data-stu-id="11cb2-194">Note the endpoints where the send and receive agreements get deployed.</span></span>
   
   * <span data-ttu-id="11cb2-195">Na **ustawienia wysyłania** , w obszarze **adres URL komunikatów przychodzących**, należy zwrócić uwagę punktu końcowego.</span><span class="sxs-lookup"><span data-stu-id="11cb2-195">On the **Send Settings** tab, under **Inbound URL**, note the endpoint.</span></span> <span data-ttu-id="11cb2-196">Aby wysłać wiadomość z domeny Contoso do Northwind przy użyciu mostu wysyłania EDI, możesz wysłać wiadomość do tego punktu końcowego.</span><span class="sxs-lookup"><span data-stu-id="11cb2-196">To send a message from Contoso to Northwind using the EDI send bridge, you must send a message to this endpoint.</span></span>
   * <span data-ttu-id="11cb2-197">Na **ustawienia odbierania** , w obszarze **transportu**, należy zwrócić uwagę punktu końcowego.</span><span class="sxs-lookup"><span data-stu-id="11cb2-197">On the **Receive Settings** tab, under **Transport**, note the endpoint.</span></span> <span data-ttu-id="11cb2-198">Aby wysłać wiadomość z Northwind w firmie Contoso za pomocą EDI odbierania Mostek musi wysłać wiadomość do tego punktu końcowego.</span><span class="sxs-lookup"><span data-stu-id="11cb2-198">To send a message from Northwind to Contoso using the EDI receive bridge, you must send a message to this endpoint.</span></span>  

## <a name="step-3-create-and-deploy-the-biztalk-services-project"></a><span data-ttu-id="11cb2-199">Krok 3: Tworzenie i wdrażanie projektu usługi BizTalk Services</span><span class="sxs-lookup"><span data-stu-id="11cb2-199">Step 3: Create and deploy the BizTalk Services project</span></span>
<span data-ttu-id="11cb2-200">W poprzednim kroku wdrożone EDI wysyłania i odbierania umowy, aby przetworzyć EDIFACT faktury i potwierdzeń.</span><span class="sxs-lookup"><span data-stu-id="11cb2-200">In the previous step, you deployed the EDI send and receive agreements to process EDIFACT invoices and acknowledgements.</span></span> <span data-ttu-id="11cb2-201">Umowy te mogą tylko przetwarzania komunikatów o zgodnych ze standardami standardowe schematu EDIFACT w wiadomości.</span><span class="sxs-lookup"><span data-stu-id="11cb2-201">These agreements can only process messages that conform to the standard EDIFACT message schema.</span></span> <span data-ttu-id="11cb2-202">Jednak na scenariuszu w przypadku tego rozwiązania firmy Contoso wysyła faktury Northwind w schemacie zastrzeżonych wewnętrznych.</span><span class="sxs-lookup"><span data-stu-id="11cb2-202">However, per the scenario for this solution, Contoso sends an invoice to Northwind in an in-house proprietary schema.</span></span> <span data-ttu-id="11cb2-203">Tak przed wysłaniem wiadomości do mostka wysyłania EDI, go musi zostać przekształcone ze schematu wewnętrznych standardowe schematu faktury EDIFACT.</span><span class="sxs-lookup"><span data-stu-id="11cb2-203">So, before the message is sent to the EDI send bridge, it must be transformed from the in-house schema to the standard EDIFACT invoice schema.</span></span> <span data-ttu-id="11cb2-204">Projekt BizTalk EAI usług robi to.</span><span class="sxs-lookup"><span data-stu-id="11cb2-204">The BizTalk Services EAI project does that.</span></span>

<span data-ttu-id="11cb2-205">Projekt usługi BizTalk Services **InvoiceProcessingBridge**, że transformacje wiadomość jest również uwzględniane jako część próbki został pobrany.</span><span class="sxs-lookup"><span data-stu-id="11cb2-205">The BizTalk Services project, **InvoiceProcessingBridge**, that transforms the message is also included as part of the sample you downloaded.</span></span> <span data-ttu-id="11cb2-206">Projekt zawiera następujące artefakty:</span><span class="sxs-lookup"><span data-stu-id="11cb2-206">The project includes the following artifacts:</span></span>

* <span data-ttu-id="11cb2-207">**INHOUSEINVOICE. XSD** — schematu wewnętrznych faktury, które są wysyłane do Northwind.</span><span class="sxs-lookup"><span data-stu-id="11cb2-207">**INHOUSEINVOICE.XSD** – Schema of the in-house invoice that is sent to Northwind.</span></span>
* <span data-ttu-id="11cb2-208">**EFACT_D93A_INVOIC. XSD** — schematu standardowe EDIFACT faktury.</span><span class="sxs-lookup"><span data-stu-id="11cb2-208">**EFACT_D93A_INVOIC.XSD** – Schema of the standard EDIFACT invoice.</span></span>
* <span data-ttu-id="11cb2-209">**EFACT_4.1_CONTRL. XSD** — schematu potwierdzenia EDIFACT, która Northwind wysyła do firmy Contoso.</span><span class="sxs-lookup"><span data-stu-id="11cb2-209">**EFACT_4.1_CONTRL.XSD** – Schema of the EDIFACT acknowledgement that Northwind sends to Contoso.</span></span>
* <span data-ttu-id="11cb2-210">**INHOUSEINVOICE_to_D93AINVOIC. TRFM** — mapowanego schematu wewnętrznych faktury standardowe schematu faktury EDIFACT transformacji.</span><span class="sxs-lookup"><span data-stu-id="11cb2-210">**INHOUSEINVOICE_to_D93AINVOIC.TRFM** – The transform that maps the in-house invoice schema to the standard EDIFACT invoice schema.</span></span>  

### <a name="create-the-biztalk-services-project"></a><span data-ttu-id="11cb2-211">Tworzenie projektu usługi BizTalk Services</span><span class="sxs-lookup"><span data-stu-id="11cb2-211">Create the BizTalk Services project</span></span>
1. <span data-ttu-id="11cb2-212">W rozwiązaniu Visual Studio rozwiń projekt InvoiceProcessingBridge, a następnie otwórz **MessageFlowItinerary.bcs** pliku.</span><span class="sxs-lookup"><span data-stu-id="11cb2-212">In the Visual Studio solution, expand the InvoiceProcessingBridge project, and then open the **MessageFlowItinerary.bcs** file.</span></span>
2. <span data-ttu-id="11cb2-213">Kliknij w dowolnym miejscu w obszarze roboczym i ustaw **adres URL usługi BizTalk** w polu właściwości, aby określić nazwę subskrypcji usługi BizTalk Services.</span><span class="sxs-lookup"><span data-stu-id="11cb2-213">Click anywhere on the canvas and set the **BizTalk Service URL** in the property box to specify your BizTalk Services subscription name.</span></span> <span data-ttu-id="11cb2-214">Na przykład `https://contosowabs.biztalk.windows.net`.</span><span class="sxs-lookup"><span data-stu-id="11cb2-214">For example, `https://contosowabs.biztalk.windows.net`.</span></span>
   
   ![][7]  
3. <span data-ttu-id="11cb2-215">Przeciągnij z przybornika, **Mostek One-Way Xml** do obszaru roboczego.</span><span class="sxs-lookup"><span data-stu-id="11cb2-215">From the toolbox, drag an **Xml One-Way Bridge** to the canvas.</span></span> <span data-ttu-id="11cb2-216">Ustaw **nazwa jednostki** i **adres względny** właściwości mostek z **ProcessInvoiceBridge**.</span><span class="sxs-lookup"><span data-stu-id="11cb2-216">Set the **Entity Name** and **Relative Address** properties of the bridge to **ProcessInvoiceBridge**.</span></span> <span data-ttu-id="11cb2-217">Kliknij dwukrotnie **ProcessInvoiceBridge** aby otworzyć obszar konfiguracji mostu.</span><span class="sxs-lookup"><span data-stu-id="11cb2-217">Double-click **ProcessInvoiceBridge** to open the bridge configuration surface.</span></span>
4. <span data-ttu-id="11cb2-218">W ramach **typów komunikatów** , kliknij przycisk plus (**+**) przycisk, aby określić schematu wiadomości przychodzącej.</span><span class="sxs-lookup"><span data-stu-id="11cb2-218">Within the **Message Types** box, click the plus (**+**) button to specify the schema of the incoming message.</span></span> <span data-ttu-id="11cb2-219">Ponieważ komunikat przychodzący dla mostu EAI jest zawsze wewnętrznych faktury, ustaw tę wartość na **INHOUSEINVOICE**.</span><span class="sxs-lookup"><span data-stu-id="11cb2-219">Because the incoming message for the EAI bridge is always the in-house invoice, set this to **INHOUSEINVOICE**.</span></span>
   
   ![][8]  
5. <span data-ttu-id="11cb2-220">Kliknij przycisk **transformacji Xml** kształtu, a w polu właściwości dla **mapy** właściwości, kliknij przycisk wielokropka (**...** ) przycisku.</span><span class="sxs-lookup"><span data-stu-id="11cb2-220">Click the **Xml Transform** shape, and in the property box, for the **Maps** property, click the ellipsis (**...**) button.</span></span> <span data-ttu-id="11cb2-221">W **wybór mapy** okno dialogowe, wybierz opcję **INHOUSEINVOICE_to_D93AINVOIC** Przekształć plik, a następnie kliknij przycisk **OK**.</span><span class="sxs-lookup"><span data-stu-id="11cb2-221">In the **Maps Selection** dialog box, select the **INHOUSEINVOICE_to_D93AINVOIC** transform file, and then click **OK**.</span></span>
   
   ![][9]  
6. <span data-ttu-id="11cb2-222">Wróć do **MessageFlowItinerary.bcs**i przeciągnij z przybornika, **dwustronny zewnętrznego punktu końcowego usługi** z prawej strony **ProcessInvoiceBridge**.</span><span class="sxs-lookup"><span data-stu-id="11cb2-222">Go back to **MessageFlowItinerary.bcs**, and from the toolbox, drag a **Two-Way External Service Endpoint** to the right of the **ProcessInvoiceBridge**.</span></span> <span data-ttu-id="11cb2-223">Ustaw jego **nazwa jednostki** właściwości **EDIBridge**.</span><span class="sxs-lookup"><span data-stu-id="11cb2-223">Set its **Entity Name** property to **EDIBridge**.</span></span>
7. <span data-ttu-id="11cb2-224">W Eksploratorze rozwiązań rozwiń **MessageFlowItinerary.bcs** i kliknij dwukrotnie **EDIBridge.config** pliku.</span><span class="sxs-lookup"><span data-stu-id="11cb2-224">In the Solution Explorer, expand the **MessageFlowItinerary.bcs** and double-click the **EDIBridge.config** file.</span></span> <span data-ttu-id="11cb2-225">Zamień zawartość **EDIBridge.config** następującym kodem.</span><span class="sxs-lookup"><span data-stu-id="11cb2-225">Replace the content of the **EDIBridge.config** with the following.</span></span>
   
   > [!NOTE]
   > <span data-ttu-id="11cb2-226">Dlaczego trzeba edytować pliku .config?</span><span class="sxs-lookup"><span data-stu-id="11cb2-226">Why do I need to edit the .config file?</span></span> <span data-ttu-id="11cb2-227">Punkt końcowy zewnętrznej usługi, który dodano do obszaru projektowania Mostek reprezentuje mostków EDI, które wcześniej wdrożone.</span><span class="sxs-lookup"><span data-stu-id="11cb2-227">The external service endpoint that we added to the bridge designer canvas represents the EDI bridges that we deployed earlier.</span></span> <span data-ttu-id="11cb2-228">Mostków EDI są mostków dwukierunkowe, z send i skalowanie po stronie.</span><span class="sxs-lookup"><span data-stu-id="11cb2-228">EDI bridges are two-way bridges, with a send and receive side.</span></span> <span data-ttu-id="11cb2-229">Mostek EAI dodaną do projektanta mostek jest jednak Mostek jednokierunkowe.</span><span class="sxs-lookup"><span data-stu-id="11cb2-229">However, the EAI bridge that we added to the bridge designer is a one-way bridge.</span></span> <span data-ttu-id="11cb2-230">Tak do obsługi wzorców exchange inny komunikat dwóch mostków, używamy zachowanie niestandardowych Mostek przez dołączenie jego konfigurację do pliku .config.</span><span class="sxs-lookup"><span data-stu-id="11cb2-230">So, to handle the different message exchange patterns of the two bridges, we use a custom bridge behavior by including its configuration in the .config file.</span></span> <span data-ttu-id="11cb2-231">Ponadto niestandardowe zachowanie również obsługę uwierzytelniania do punktu końcowego mostka wysyłania EDI. To zachowanie niestandardowych jest dostępna jako osobne próbki w [Mostek usługi BizTalk łańcucha próbki - EAI do EDI](http://code.msdn.microsoft.com/BizTalk-Bridge-chaining-2246b104).</span><span class="sxs-lookup"><span data-stu-id="11cb2-231">Additionally, the custom behavior also handles the authentication to the EDI send bridge endpoint.This custom behavior is available as a separate sample at [BizTalk Services Bridge chaining sample - EAI to EDI](http://code.msdn.microsoft.com/BizTalk-Bridge-chaining-2246b104).</span></span> <span data-ttu-id="11cb2-232">To rozwiązanie próbki są ponownie używane.</span><span class="sxs-lookup"><span data-stu-id="11cb2-232">This solution reuses the sample.</span></span>  
   > 
   > 
   
   ```
   <?xml version="1.0" encoding="utf-8"?>
   <configuration>
     <system.serviceModel>
       <extensions>
         <behaviorExtensions>
           <add name="BridgeAuthentication" 
                 type="Microsoft.BizTalk.Bridge.Behaviour.BridgeBehaviorElement, Microsoft.BizTalk.Bridge.Behaviour, Version=1.0.0.0, Culture=neutral, PublicKeyToken=ae58f69b69495c05" />
         </behaviorExtensions>
       </extensions>
       <behaviors>
         <endpointBehaviors>
           <behavior name="BridgeAuthenticationConfiguration">
             <!-- Enter the ACS namespace, issuer name and issuer secret of the BizTalk Services deployment -->
             <BridgeAuthentication acsnamespace="[YOUR ACS NAMESPACE]" 
                                   issuername="owner" 
                                   issuersecret="[YOUR ACS SECRET]" />
             <webHttp />
           </behavior>
         </endpointBehaviors>
       </behaviors>
       <bindings>
         <webHttpBinding>
           <binding name="BridgeBindingConfiguration">
             <security mode="Transport" />
           </binding>
         </webHttpBinding>
       </bindings>
       <client>
         <clear />
         <!--
           Go BizTalk Portal > Agreement > Send Settings > Inbound URL
           Copy the Endpoint URL and paste it in the below address field
         -->
         <endpoint name="TwoWayExternalServiceEndpointReference1" 
                   address="[YOUR EDI BRIDGE SEND URI]" 
                   behaviorConfiguration="BridgeAuthenticationConfiguration" 
                   binding="webHttpBinding" 
                   bindingConfiguration="BridgeBindingConfiguration" 
                   contract="System.ServiceModel.Routing.IRequestReplyRouter" />
       </client>
     </system.serviceModel>
   </configuration>
   
   ```
8. <span data-ttu-id="11cb2-233">Zaktualizuj plik EDIBridge.config uwzględnienie szczegółów konfiguracji</span><span class="sxs-lookup"><span data-stu-id="11cb2-233">Update the EDIBridge.config file to include configuration details</span></span>
   
   * <span data-ttu-id="11cb2-234">W obszarze  *<behaviors>* , podaj ACS przestrzeni nazw i klucz skojarzony z subskrypcją usługi BizTalk Services.</span><span class="sxs-lookup"><span data-stu-id="11cb2-234">Under *<behaviors>*, provide the ACS namespace and key associated with the BizTalk Services subscription.</span></span>
   * <span data-ttu-id="11cb2-235">W obszarze  *<client>* , podaj wdrożonym umowy wysyłania EDI punktu końcowego.</span><span class="sxs-lookup"><span data-stu-id="11cb2-235">Under *<client>*, provide the endpoint where the EDI send agreement is deployed.</span></span>
   
   <span data-ttu-id="11cb2-236">Zapisz zmiany i zamknij plik konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="11cb2-236">Save changes and close the configuration file.</span></span>
9. <span data-ttu-id="11cb2-237">Z przybornika, kliknij przycisk **łącznik** , a następnie dołącz **ProcessInvoiceBridge** i **EDIBridge** składników.</span><span class="sxs-lookup"><span data-stu-id="11cb2-237">From the Toolbox, click the **Connector** and join the **ProcessInvoiceBridge** and **EDIBridge** components.</span></span> <span data-ttu-id="11cb2-238">Wybierz łącznik, a w polu właściwości należy ustawić **warunek filtru** do **dopasowanie wszystkich**.</span><span class="sxs-lookup"><span data-stu-id="11cb2-238">Select the connector, and in Properties box, set **Filter Condition** to **Match All**.</span></span> <span data-ttu-id="11cb2-239">Daje to pewność, że wszystkie komunikaty przetwarzane przez mostek EAI są kierowane do Mostek EDI.</span><span class="sxs-lookup"><span data-stu-id="11cb2-239">This ensures that all messages processed by the EAI bridge are routed to the EDI bridge.</span></span>
   
   ![][10]  
10. <span data-ttu-id="11cb2-240">Zapisz zmiany w rozwiązaniu.</span><span class="sxs-lookup"><span data-stu-id="11cb2-240">Save changes to the solution.</span></span>  

### <a name="deploy-the-project"></a><span data-ttu-id="11cb2-241">Wdrażanie projektu</span><span class="sxs-lookup"><span data-stu-id="11cb2-241">Deploy the project</span></span>
1. <span data-ttu-id="11cb2-242">Na komputerze, na którym utworzono projekt usługi BizTalk Services Pobierz i zainstaluj certyfikat SSL dla Twojej subskrypcji usługi BizTalk Services.</span><span class="sxs-lookup"><span data-stu-id="11cb2-242">On the computer where you created the BizTalk Services project, download and install the SSL certificate for your BizTalk Services subscription.</span></span> <span data-ttu-id="11cb2-243">W obszarze usługi BizTalk Services kliknij **pulpitu nawigacyjnego**, a następnie kliknij przycisk **Pobierz certyfikat SSL**.</span><span class="sxs-lookup"><span data-stu-id="11cb2-243">From , under BizTalk Services, click **Dashboard**, and then click **Download SSL Certificate**.</span></span> <span data-ttu-id="11cb2-244">Kliknij dwukrotnie certyfikat i wykonaj wiersz, aby zakończyć instalację.</span><span class="sxs-lookup"><span data-stu-id="11cb2-244">Double-click the certificate and follow the prompt to complete the installation.</span></span> <span data-ttu-id="11cb2-245">Upewnij się, zainstaluj certyfikat w obszarze **zaufane główne urzędy certyfikacji** magazynu certyfikatów.</span><span class="sxs-lookup"><span data-stu-id="11cb2-245">Make sure you install the certificate under **Trusted Root Certification Authorities** certificate store.</span></span>
2. <span data-ttu-id="11cb2-246">W Eksploratorze rozwiązań programu Visual Studio, kliknij prawym przyciskiem myszy **InvoiceProcessingBridge** projektu, a następnie kliknij przycisk **Wdróż**.</span><span class="sxs-lookup"><span data-stu-id="11cb2-246">In Visual Studio Solution Explorer, right-click the **InvoiceProcessingBridge** project, and then click **Deploy**.</span></span>
3. <span data-ttu-id="11cb2-247">Podaj wartości, jak pokazano na ilustracji, a następnie kliknij przycisk **Wdróż**.</span><span class="sxs-lookup"><span data-stu-id="11cb2-247">Provide the values as shown in the image, and then click **Deploy**.</span></span> <span data-ttu-id="11cb2-248">Możesz też uzyskać poświadczenia ACS usługi BizTalk, klikając **informacje o połączeniu** na pulpicie nawigacyjnym usługi BizTalk Services.</span><span class="sxs-lookup"><span data-stu-id="11cb2-248">You can get the ACS credentials for BizTalk Services by clicking **Connection Information** from the BizTalk Services dashboard.</span></span>
   
   ![][11]  
   
   <span data-ttu-id="11cb2-249">W okienku danych wyjściowych, skopiuj punktu końcowego mostka EAI wdrożonym, na przykład `https://contosowabs.biztalk.windows.net/default/ProcessInvoiceBridge`.</span><span class="sxs-lookup"><span data-stu-id="11cb2-249">From the output pane, copy the endpoint where the EAI bridge is deployed, for example, `https://contosowabs.biztalk.windows.net/default/ProcessInvoiceBridge`.</span></span> <span data-ttu-id="11cb2-250">Ten adres URL punktu końcowego będą potrzebne później.</span><span class="sxs-lookup"><span data-stu-id="11cb2-250">You will need this endpoint URL later.</span></span>  

## <a name="step-4-test-the-solution"></a><span data-ttu-id="11cb2-251">Krok 4: Testowanie rozwiązania</span><span class="sxs-lookup"><span data-stu-id="11cb2-251">Step 4: Test the solution</span></span>
<span data-ttu-id="11cb2-252">W tym temacie opisano, jak przetestować rozwiązania przy użyciu **klienta samouczek** aplikacji w ramach przykładu.</span><span class="sxs-lookup"><span data-stu-id="11cb2-252">In this topic, we look at how to test the solution by using the **Tutorial Client** application provided as part of the sample.</span></span>  

1. <span data-ttu-id="11cb2-253">W programie Visual Studio, naciśnij klawisz F5, aby uruchomić **klienta samouczek**.</span><span class="sxs-lookup"><span data-stu-id="11cb2-253">In Visual Studio, press F5 to start the **Tutorial Client**.</span></span>
2. <span data-ttu-id="11cb2-254">Ekran musi mieć wartości wstępnie z kroku, gdzie utworzyliśmy kolejek usługi Service Bus.</span><span class="sxs-lookup"><span data-stu-id="11cb2-254">The screen must have the values prepopulated from the step where we created the Service Bus queues.</span></span> <span data-ttu-id="11cb2-255">Kliknij przycisk **Dalej**.</span><span class="sxs-lookup"><span data-stu-id="11cb2-255">Click **Next**.</span></span>
3. <span data-ttu-id="11cb2-256">W następnym oknie, podaj poświadczenia usługi ACS dla subskrypcji usługi BizTalk Services i punkty końcowe gdzie EAI i EDI (odbierać) mostków są wdrażane.</span><span class="sxs-lookup"><span data-stu-id="11cb2-256">In the next window, provide ACS credentials for BizTalk Services subscription, and the endpoints where EAI and EDI (receive) bridges are deployed.</span></span>
   
   <span data-ttu-id="11cb2-257">Punkt końcowy usługi EAI Mostek skopiowany w poprzednim kroku.</span><span class="sxs-lookup"><span data-stu-id="11cb2-257">You had copied the EAI bridge endpoint in the previous step.</span></span> <span data-ttu-id="11cb2-258">W przypadku EDI odbierać Mostek punktu końcowego, w portalu usługi BizTalk, przejdź do Porozumienia > Ustawienia odbierania > transportu > punktu końcowego.</span><span class="sxs-lookup"><span data-stu-id="11cb2-258">For EDI receive bridge endpoint, in the BizTalk Services Portal, go to the agreement > Receive Settings > Transport > Endpoint.</span></span>
   
   ![][12]  
4. <span data-ttu-id="11cb2-259">W następnym oknie, w obszarze Contoso, kliknij przycisk **Wyślij fakturę wewnętrznych** przycisku.</span><span class="sxs-lookup"><span data-stu-id="11cb2-259">In the next window, under Contoso, click the **Send In-house Invoice** button.</span></span> <span data-ttu-id="11cb2-260">W pliku — okno dialogowe, otwórz plik INHOUSEINVOICE.txt.</span><span class="sxs-lookup"><span data-stu-id="11cb2-260">In the File open dialog box, open the INHOUSEINVOICE.txt file.</span></span> <span data-ttu-id="11cb2-261">Sprawdź zawartość pliku, a następnie kliknij przycisk **OK** wysłać faktury.</span><span class="sxs-lookup"><span data-stu-id="11cb2-261">Examine the content of the file and then click **OK** to send the invoice.</span></span>
   
   ![][13]  
5. <span data-ttu-id="11cb2-262">W ciągu kilku sekund faktury odebraniu Northwind.</span><span class="sxs-lookup"><span data-stu-id="11cb2-262">In a few seconds the invoice is received at Northwind.</span></span> <span data-ttu-id="11cb2-263">Kliknij przycisk **komunikat widoku** łącze, aby wyświetlić faktury odebranych przez Northwind.</span><span class="sxs-lookup"><span data-stu-id="11cb2-263">Click the **View Message** link to see the invoice received by Northwind.</span></span> <span data-ttu-id="11cb2-264">Należy zauważyć, jak faktury odebranych przez Northwind jest w schemacie EDIFACT standardowe podczas sygnaturą wysłaną przez firmę Contoso wewnętrznych schematu.</span><span class="sxs-lookup"><span data-stu-id="11cb2-264">Notice how the invoice received by Northwind is in standard EDIFACT schema while the one sent by Contoso was an in-house schema.</span></span>
   
   ![][14]  
6. <span data-ttu-id="11cb2-265">Wybierz faktury, a następnie kliknij przycisk **potwierdzenia wysyłania**.</span><span class="sxs-lookup"><span data-stu-id="11cb2-265">Select the invoice and then click **Send Acknowledgement**.</span></span> <span data-ttu-id="11cb2-266">W oknie dialogowym, które pojawia się należy zauważyć, że identyfikator wymiany jest tej samej otrzymanej faktury i potwierdzenie są wysyłane.</span><span class="sxs-lookup"><span data-stu-id="11cb2-266">In the dialog box that pops up, notice that the interchange ID is same in the received invoice and the acknowledgement being sent.</span></span> <span data-ttu-id="11cb2-267">Kliknij przycisk OK w **potwierdzenia wysyłania** okno dialogowe.</span><span class="sxs-lookup"><span data-stu-id="11cb2-267">Click OK in the **Send Acknowledgement** dialog box.</span></span>
   
   ![][15]  
7. <span data-ttu-id="11cb2-268">W ciągu kilku sekund potwierdzenia została odebrana pomyślnie w firmie Contoso.</span><span class="sxs-lookup"><span data-stu-id="11cb2-268">In a few seconds, the acknowledgement is successfully received at Contoso.</span></span>
   
   ![][16]  

## <a name="step-5-optional-send-edifact-invoice-in-batches"></a><span data-ttu-id="11cb2-269">Krok 5 (opcjonalny): faktury wysyłania EDIFACT w partiach</span><span class="sxs-lookup"><span data-stu-id="11cb2-269">Step 5 (optional): Send EDIFACT invoice in batches</span></span>
<span data-ttu-id="11cb2-270">Mostków EDI usługi BizTalk obsługuje również tworzenie partii komunikatów wychodzących.</span><span class="sxs-lookup"><span data-stu-id="11cb2-270">BizTalk Services EDI bridges also supports batching of outgoing messages.</span></span> <span data-ttu-id="11cb2-271">Ta funkcja jest przydatna do odbierania partnerów, którzy preferują partii wiadomości (spełniające określone kryterium) zamiast poszczególnych wiadomości.</span><span class="sxs-lookup"><span data-stu-id="11cb2-271">This feature is useful for receiving partners that prefer to receive a batch of messages (meeting certain criterion) instead of individual messages.</span></span>

<span data-ttu-id="11cb2-272">Najważniejszym aspektem podczas pracy z partii jest rzeczywista wersja partii, nazywany również kryteria wersji.</span><span class="sxs-lookup"><span data-stu-id="11cb2-272">The most important aspect when working with batches is the actual release of the batch, also called the release criteria.</span></span> <span data-ttu-id="11cb2-273">Kryteria zlecenia może bazować na sposób odbierania partnera chce odbierać wiadomości.</span><span class="sxs-lookup"><span data-stu-id="11cb2-273">The release criteria can be based on how the receiving partner wants to receive messages.</span></span> <span data-ttu-id="11cb2-274">Jeśli włączono tworzenie plików wsadowych Mostek EDI nie wysyła komunikatu wychodzącego do odbierania partnera do momentu wypełnienia kryteriów wersji.</span><span class="sxs-lookup"><span data-stu-id="11cb2-274">If batching is enabled, the EDI bridge does not send the outgoing message to the receiving partner until the release criteria is fulfilled.</span></span> <span data-ttu-id="11cb2-275">Na przykład, przetwarzanie wsadowe kryteria na podstawie komunikatów wysyła rozmiar partii tylko wtedy, gdy "n" wiadomości są przetwarzane wsadowo.</span><span class="sxs-lookup"><span data-stu-id="11cb2-275">For example, a batching criteria based on message size dispatches a batch only when ‘n’ messages are batched.</span></span> <span data-ttu-id="11cb2-276">Kryteria partii można też na podstawie czasu taki sposób, że plik wsadowy jest wysyłany o stałej godzinie każdego dnia.</span><span class="sxs-lookup"><span data-stu-id="11cb2-276">A batch criteria can also be time-based, such that a batch is sent at a fixed time every day.</span></span> <span data-ttu-id="11cb2-277">W tym rozwiązaniu spróbujemy kryteriów na podstawie rozmiaru dla wiadomości.</span><span class="sxs-lookup"><span data-stu-id="11cb2-277">In this solution, we try the message-size based criteria.</span></span>

1. <span data-ttu-id="11cb2-278">W portalu usługi BizTalk kliknij umowę, utworzony wcześniej.</span><span class="sxs-lookup"><span data-stu-id="11cb2-278">In the BizTalk Services Portal, click the agreement you created earlier.</span></span> <span data-ttu-id="11cb2-279">Kliknij przycisk Wyślij Ustawienia > Przetwarzanie wsadowe > Dodaj partii.</span><span class="sxs-lookup"><span data-stu-id="11cb2-279">Click Send Settings > Batching > Add Batch.</span></span>
2. <span data-ttu-id="11cb2-280">Wprowadź nazwę usługi partia zadań **InvoiceBatch**, podaj opis, a następnie kliknij przycisk **dalej**.</span><span class="sxs-lookup"><span data-stu-id="11cb2-280">For batch name, enter **InvoiceBatch**, provide a description, and then click **Next**.</span></span>
3. <span data-ttu-id="11cb2-281">Określ kryteria partii, które definiuje, które wiadomości musi można umieścić w partii.</span><span class="sxs-lookup"><span data-stu-id="11cb2-281">Specify a batch criteria, that defines which messages must be batched.</span></span> <span data-ttu-id="11cb2-282">W tym rozwiązaniu możemy partii wszystkie komunikaty.</span><span class="sxs-lookup"><span data-stu-id="11cb2-282">In this solution, we batch all messages.</span></span> <span data-ttu-id="11cb2-283">Tak, wybrać zaawansowanych opcji definicje i wprowadź **1 = 1**.</span><span class="sxs-lookup"><span data-stu-id="11cb2-283">So, select the Use advanced definitions option, and enter **1 = 1**.</span></span> <span data-ttu-id="11cb2-284">To jest warunek, który będzie zawsze równa true, i dlatego wszystkie komunikaty będzie można umieścić w partii.</span><span class="sxs-lookup"><span data-stu-id="11cb2-284">This is a condition which will always be true, and hence all messages will be batched.</span></span> <span data-ttu-id="11cb2-285">Kliknij przycisk **Dalej**.</span><span class="sxs-lookup"><span data-stu-id="11cb2-285">Click **Next**.</span></span>
   
   ![][17]  
4. <span data-ttu-id="11cb2-286">Określ kryteria wersji partii.</span><span class="sxs-lookup"><span data-stu-id="11cb2-286">Specify a batch release criteria.</span></span> <span data-ttu-id="11cb2-287">W polu listy, wybierz **MessageCountBased**oraz **liczba**, określ **3**.</span><span class="sxs-lookup"><span data-stu-id="11cb2-287">From the drop-box, select **MessageCountBased**, and for **Count**, specify **3**.</span></span> <span data-ttu-id="11cb2-288">Oznacza to, że trzy komunikaty zbiorczo zostaną wysłane do Northwind.</span><span class="sxs-lookup"><span data-stu-id="11cb2-288">This means that a batch of three messages will be sent to Northwind.</span></span> <span data-ttu-id="11cb2-289">Kliknij przycisk **Dalej**.</span><span class="sxs-lookup"><span data-stu-id="11cb2-289">Click **Next**.</span></span>
   
   ![][18]  
5. <span data-ttu-id="11cb2-290">Przejrzyj podsumowanie, a następnie kliknij przycisk **zapisać**.</span><span class="sxs-lookup"><span data-stu-id="11cb2-290">Review the summary and then click **Save**.</span></span> <span data-ttu-id="11cb2-291">Kliknij przycisk **Wdróż** można wdrożyć ponownie umowy.</span><span class="sxs-lookup"><span data-stu-id="11cb2-291">Click **Deploy** to redeploy the agreement.</span></span>
6. <span data-ttu-id="11cb2-292">Wróć do **klienta samouczek**, kliknij przycisk **Wyślij fakturę wewnętrznych**i postępuj zgodnie z monitami, aby wysłać faktury.</span><span class="sxs-lookup"><span data-stu-id="11cb2-292">Go back to the **Tutorial Client**, click **Send In-house Invoice**, and follow the prompts to send the invoice.</span></span> <span data-ttu-id="11cb2-293">Można zauważyć, że w firmie Northwind nieodebrania nie faktury, ponieważ rozmiar partii nie są spełnione.</span><span class="sxs-lookup"><span data-stu-id="11cb2-293">You will notice that no invoice is received at Northwind because the batch size is not met.</span></span> <span data-ttu-id="11cb2-294">Powtórz ten krok dwa razy, tak aby było możliwe faktury wiadomości wysyłane do Northwind.</span><span class="sxs-lookup"><span data-stu-id="11cb2-294">Repeat this step two more times, so that you have three invoice messages sent to Northwind.</span></span> <span data-ttu-id="11cb2-295">To nie będzie spełniał kryteriów wersji partii, 3 wiadomości i powinien zostać wyświetlony w firmie Northwind faktury.</span><span class="sxs-lookup"><span data-stu-id="11cb2-295">This satisfies the batch release criteria of 3 messages and you should now see an invoice at Northwind.</span></span>

<!--Image references-->
[1]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-1.PNG  
[2]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-2.PNG  
[3]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-3.PNG
[4]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-4.PNG  
[5]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-5.PNG  
[6]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-6.PNG  
[7]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-7.PNG  
[8]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-8.PNG
[9]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-9.PNG  
[10]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-10.PNG  
[11]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-11.PNG  
[12]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-12.PNG  
[13]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-13.PNG
[14]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-14.PNG  
[15]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-15.PNG  
[16]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-16.PNG  
[17]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-17.PNG  
[18]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-18.PNG

