---
title: Application Insights Telemetrii korelacji aaaAzure | Dokumentacja firmy Microsoft
description: Application Insights telemetrii korelacji
services: application-insights
documentationcenter: .net
author: SergeyKanzhelev
manager: carmonm
ms.service: application-insights
ms.workload: TBD
ms.tgt_pltfrm: ibiza
ms.devlang: multiple
ms.topic: article
ms.date: 04/25/2017
ms.author: bwren
ms.openlocfilehash: 3ed8c589d237cac5daceac939ca893b7d81a2967
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="telemetry-correlation-in-application-insights"></a><span data-ttu-id="74d17-103">Korelacji telemetrii w usłudze Application Insights</span><span class="sxs-lookup"><span data-stu-id="74d17-103">Telemetry correlation in Application Insights</span></span>

<span data-ttu-id="74d17-104">Witaj świecie micro usług każda operacja logiczna wymaga pracować w różnych składników usługi hello.</span><span class="sxs-lookup"><span data-stu-id="74d17-104">In hello world of micro services, every logical operation requires work done in various components of hello service.</span></span> <span data-ttu-id="74d17-105">Każdy z tych składników mogą być oddzielnie monitorowane przez [usługi Application Insights](app-insights-overview.md).</span><span class="sxs-lookup"><span data-stu-id="74d17-105">Each of these components can be separately monitored by [Application Insights](app-insights-overview.md).</span></span> <span data-ttu-id="74d17-106">Składnik aplikacji sieci web Hello komunikuje się z poświadczeniami użytkownika toovalidate składnik dostawcy uwierzytelniania i danymi hello interfejsu API składnika tooget dla wizualizacji.</span><span class="sxs-lookup"><span data-stu-id="74d17-106">hello web app component communicates with authentication provider component toovalidate user credentials, and with hello API component tooget data for visualization.</span></span> <span data-ttu-id="74d17-107">Hello składnika interfejsu API z kolei może zapytania na danych z innych usług i użyj składników dostawcy pamięci podręcznej i powiadom hello składnika rozliczeń o tego wywołania.</span><span class="sxs-lookup"><span data-stu-id="74d17-107">hello API component in its turn can query data from other services and use cache-provider components and notify hello billing component about this call.</span></span> <span data-ttu-id="74d17-108">Aplikacji Insights obsługuje rozproszonej telemetrii korelacji.</span><span class="sxs-lookup"><span data-stu-id="74d17-108">Application Insights supports distributed telemetry correlation.</span></span> <span data-ttu-id="74d17-109">Pozwala ona toodetect, który składnik jest odpowiedzialny za błędy lub spadek wydajności.</span><span class="sxs-lookup"><span data-stu-id="74d17-109">It allows you toodetect which component is responsible for failures or performance degradation.</span></span>

<span data-ttu-id="74d17-110">W tym artykule opisano model danych hello używane przez usługi Application Insights toocorrelate telemetrii wysyłane przez kilka składników.</span><span class="sxs-lookup"><span data-stu-id="74d17-110">This article explains hello data model used by Application Insights toocorrelate telemetry sent by multiple components.</span></span> <span data-ttu-id="74d17-111">Obejmuje ona hello kontekstu propagacji technik i protokołów.</span><span class="sxs-lookup"><span data-stu-id="74d17-111">It covers hello context propagation techniques and protocols.</span></span> <span data-ttu-id="74d17-112">Obejmuje ona również implementacja hello hello korelacji pojęcia dotyczące różnych języków i platform.</span><span class="sxs-lookup"><span data-stu-id="74d17-112">It also covers hello implementation of hello correlation concepts on different languages and platforms.</span></span>

## <a name="telemetry-correlation-data-model"></a><span data-ttu-id="74d17-113">Model danych telemetrycznych korelacji</span><span class="sxs-lookup"><span data-stu-id="74d17-113">Telemetry correlation data model</span></span>

<span data-ttu-id="74d17-114">Definiuje usługi Application Insights [modelu danych](application-insights-data-model.md) dla rozproszonych telemetrii korelacji.</span><span class="sxs-lookup"><span data-stu-id="74d17-114">Application Insights defines a [data model](application-insights-data-model.md) for distributed telemetry correlation.</span></span> <span data-ttu-id="74d17-115">telemetrii tooassociate operacja logiczna hello, każdy element telemetrii ma pole kontekstu o nazwie `operation_Id`.</span><span class="sxs-lookup"><span data-stu-id="74d17-115">tooassociate telemetry with hello logical operation, every telemetry item has a context field called `operation_Id`.</span></span> <span data-ttu-id="74d17-116">Ten identyfikator jest współużytkowany przez każdy element dane telemetryczne w śladzie hello rozproszonych.</span><span class="sxs-lookup"><span data-stu-id="74d17-116">This identifier is shared by every telemetry item in hello distributed trace.</span></span> <span data-ttu-id="74d17-117">Dlatego nawet w przypadku utraty danych telemetrycznych z jedną warstwę nadal można skojarzyć dane telemetryczne zgłoszone przez inne składniki.</span><span class="sxs-lookup"><span data-stu-id="74d17-117">So even with loss of telemetry from a single layer you still can associate telemetry reported by other components.</span></span>

<span data-ttu-id="74d17-118">Operacja logiczna rozproszonej zazwyczaj składa się z zestaw operacji mniejsze - żądań przetwarzanych przez jeden ze składników hello.</span><span class="sxs-lookup"><span data-stu-id="74d17-118">Distributed logical operation typically consists of a set of smaller operations - requests processed by one of hello components.</span></span> <span data-ttu-id="74d17-119">Te operacje są definiowane przez [żądanie telemetrii](application-insights-data-model-request-telemetry.md).</span><span class="sxs-lookup"><span data-stu-id="74d17-119">Those operations are defined by [request telemetry](application-insights-data-model-request-telemetry.md).</span></span> <span data-ttu-id="74d17-120">Co dane telemetryczne żądania ma własną `id` identyfikującym jednoznacznie globalnie.</span><span class="sxs-lookup"><span data-stu-id="74d17-120">Every request telemetry has its own `id` that uniquely globally identifies it.</span></span> <span data-ttu-id="74d17-121">Wszystkie dane telemetryczne - śladów, wyjątków, skojarzony z tym żądaniem itp. należy określić hello `operation_parentId` toohello wartości żądania hello `id`.</span><span class="sxs-lookup"><span data-stu-id="74d17-121">And all telemetry - traces, exceptions, etc. associated with this request should set hello `operation_parentId` toohello value of hello request `id`.</span></span>

<span data-ttu-id="74d17-122">Każdej operacji wychodzących, takich jak składnika tooanother wywołanie http reprezentowany przez [dane telemetryczne zależności](application-insights-data-model-dependency-telemetry.md).</span><span class="sxs-lookup"><span data-stu-id="74d17-122">Every outgoing operation like http call tooanother component represented by [dependency telemetry](application-insights-data-model-dependency-telemetry.md).</span></span> <span data-ttu-id="74d17-123">Dane telemetryczne zależności definiuje również własną `id` jest globalnie unikatowa.</span><span class="sxs-lookup"><span data-stu-id="74d17-123">Dependency telemetry also defines its own `id` that is globally unique.</span></span> <span data-ttu-id="74d17-124">Dane telemetryczne żądania, inicjowane przez wywołanie zależności, używa go jako `operation_parentId`.</span><span class="sxs-lookup"><span data-stu-id="74d17-124">Request telemetry, initiated by this dependency call, uses it as `operation_parentId`.</span></span>

<span data-ttu-id="74d17-125">Można utworzyć widoku hello przy użyciu operacji logicznych rozproszonej `operation_Id`, `operation_parentId`, i `request.id` z `dependency.id`.</span><span class="sxs-lookup"><span data-stu-id="74d17-125">You can build hello view of distributed logical operation using `operation_Id`, `operation_parentId`, and `request.id` with `dependency.id`.</span></span> <span data-ttu-id="74d17-126">Te pola również definiować hello przyczynowości kolejność wywołań telemetrii.</span><span class="sxs-lookup"><span data-stu-id="74d17-126">Those fields also define hello causality order of telemetry calls.</span></span>

<span data-ttu-id="74d17-127">W środowisku usług micro śladów ze składników przejść toohello różnych miejsc.</span><span class="sxs-lookup"><span data-stu-id="74d17-127">In micro services environment, traces from components may go toohello different storages.</span></span> <span data-ttu-id="74d17-128">Każda część może mieć własną klucza Instrumentacji w usłudze Application Insights.</span><span class="sxs-lookup"><span data-stu-id="74d17-128">Every component may have its own instrumentation key in Application Insights.</span></span> <span data-ttu-id="74d17-129">tooget telemetrii dla operacji logicznych hello, należy tooquery danych z każdego magazynu.</span><span class="sxs-lookup"><span data-stu-id="74d17-129">tooget telemetry for hello logical operation, you need tooquery data from every storage.</span></span> <span data-ttu-id="74d17-130">W przypadku dużych liczbę miejsc o tym, gdzie należy toohave wskazówkę toolook dalej.</span><span class="sxs-lookup"><span data-stu-id="74d17-130">When number of storages is huge, you need toohave a hint on where toolook next.</span></span>

<span data-ttu-id="74d17-131">Model danych definiuje dwie usługi Application Insights pola toosolve ten problem: `request.source` i `dependency.target`.</span><span class="sxs-lookup"><span data-stu-id="74d17-131">Application Insights data model defines two fields toosolve this problem: `request.source` and `dependency.target`.</span></span> <span data-ttu-id="74d17-132">pierwsze pole Hello identyfikuje hello składnika, który zainicjował żądanie zależności hello i hello identyfikuje drugiego składnika, który zwrócił odpowiedź hello wywołania zależności hello.</span><span class="sxs-lookup"><span data-stu-id="74d17-132">hello first field identifies hello component that initiated hello dependency request, and hello second identifies which component returned hello response of hello dependency call.</span></span>


## <a name="example"></a><span data-ttu-id="74d17-133">Przykład</span><span class="sxs-lookup"><span data-stu-id="74d17-133">Example</span></span>

<span data-ttu-id="74d17-134">Spójrzmy na przykład cen GIEŁDOWYCH aplikacji przedstawiający hello bieżącego rynku ceny akcji przy użyciu zewnętrznego interfejsu API hello wywołuje interfejs API zasobów.</span><span class="sxs-lookup"><span data-stu-id="74d17-134">Let's take an example of an application STOCK PRICES showing hello current market price of a stock using hello external API called STOCKS API.</span></span> <span data-ttu-id="74d17-135">CENY zasobów aplikacji Hello jest strona `Stock page` otworzyć za pomocą przeglądarki sieci web powitania klienta `GET /Home/Stock`.</span><span class="sxs-lookup"><span data-stu-id="74d17-135">hello STOCK PRICES application has a page `Stock page` opened by hello client web browser using `GET /Home/Stock`.</span></span> <span data-ttu-id="74d17-136">zapytania aplikacji Hello hello API zasobów przy użyciu wywołania HTTP `GET /api/stock/value`.</span><span class="sxs-lookup"><span data-stu-id="74d17-136">hello application queries hello STOCK API by using an HTTP call `GET /api/stock/value`.</span></span>

<span data-ttu-id="74d17-137">Można analizować wynikowy telemetrii kwerendy:</span><span class="sxs-lookup"><span data-stu-id="74d17-137">You can analyze resulting telemetry running a query:</span></span>

```
(requests | union dependencies | union pageViews) 
| where operation_Id == "STYz"
| project timestamp, itemType, name, id, operation_ParentId, operation_Id
```

<span data-ttu-id="74d17-138">Hello wynik widoku uwagi, że wszystkie elementy telemetrii udostępniać głównego hello `operation_Id`.</span><span class="sxs-lookup"><span data-stu-id="74d17-138">In hello result view note that all telemetry items share hello root `operation_Id`.</span></span> <span data-ttu-id="74d17-139">Gdy wywołanie ajax wprowadzone na stronie powitania — nowy unikatowy identyfikator `qJSXU` jest przypisany toohello dane telemetryczne zależności i widok strony jego identyfikator jest używany jako `operation_ParentId`.</span><span class="sxs-lookup"><span data-stu-id="74d17-139">When ajax call made from hello page - new unique id `qJSXU` is assigned toohello dependency telemetry and pageView's id is used as `operation_ParentId`.</span></span> <span data-ttu-id="74d17-140">Z kolei żądanie serwera używa identyfikatora w technologii ajax jako `operation_ParentId`itp.</span><span class="sxs-lookup"><span data-stu-id="74d17-140">In turn server request uses ajax's id as `operation_ParentId`, etc.</span></span>

| <span data-ttu-id="74d17-141">ItemType</span><span class="sxs-lookup"><span data-stu-id="74d17-141">itemType</span></span>   | <span data-ttu-id="74d17-142">name</span><span class="sxs-lookup"><span data-stu-id="74d17-142">name</span></span>                      | <span data-ttu-id="74d17-143">id</span><span class="sxs-lookup"><span data-stu-id="74d17-143">id</span></span>           | <span data-ttu-id="74d17-144">operation_ParentId</span><span class="sxs-lookup"><span data-stu-id="74d17-144">operation_ParentId</span></span> | <span data-ttu-id="74d17-145">operation_Id</span><span class="sxs-lookup"><span data-stu-id="74d17-145">operation_Id</span></span> |
|------------|---------------------------|--------------|--------------------|--------------|
| <span data-ttu-id="74d17-146">Widok strony</span><span class="sxs-lookup"><span data-stu-id="74d17-146">pageView</span></span>   | <span data-ttu-id="74d17-147">Strona standardowych</span><span class="sxs-lookup"><span data-stu-id="74d17-147">Stock page</span></span>                |              | <span data-ttu-id="74d17-148">STYz</span><span class="sxs-lookup"><span data-stu-id="74d17-148">STYz</span></span>               | <span data-ttu-id="74d17-149">STYz</span><span class="sxs-lookup"><span data-stu-id="74d17-149">STYz</span></span>         |
| <span data-ttu-id="74d17-150">zależności</span><span class="sxs-lookup"><span data-stu-id="74d17-150">dependency</span></span> | <span data-ttu-id="74d17-151">GET /Home/Stock</span><span class="sxs-lookup"><span data-stu-id="74d17-151">GET /Home/Stock</span></span>           | <span data-ttu-id="74d17-152">qJSXU</span><span class="sxs-lookup"><span data-stu-id="74d17-152">qJSXU</span></span>        | <span data-ttu-id="74d17-153">STYz</span><span class="sxs-lookup"><span data-stu-id="74d17-153">STYz</span></span>               | <span data-ttu-id="74d17-154">STYz</span><span class="sxs-lookup"><span data-stu-id="74d17-154">STYz</span></span>         |
| <span data-ttu-id="74d17-155">Żądanie</span><span class="sxs-lookup"><span data-stu-id="74d17-155">request</span></span>    | <span data-ttu-id="74d17-156">Strona główna GET/Stock</span><span class="sxs-lookup"><span data-stu-id="74d17-156">GET Home/Stock</span></span>            | <span data-ttu-id="74d17-157">KqKwlrSt9PA =</span><span class="sxs-lookup"><span data-stu-id="74d17-157">KqKwlrSt9PA=</span></span> | <span data-ttu-id="74d17-158">qJSXU</span><span class="sxs-lookup"><span data-stu-id="74d17-158">qJSXU</span></span>              | <span data-ttu-id="74d17-159">STYz</span><span class="sxs-lookup"><span data-stu-id="74d17-159">STYz</span></span>         |
| <span data-ttu-id="74d17-160">zależności</span><span class="sxs-lookup"><span data-stu-id="74d17-160">dependency</span></span> | <span data-ttu-id="74d17-161">Pobierz /api/stock/value</span><span class="sxs-lookup"><span data-stu-id="74d17-161">GET /api/stock/value</span></span>      | <span data-ttu-id="74d17-162">bBrf2L7mm2g =</span><span class="sxs-lookup"><span data-stu-id="74d17-162">bBrf2L7mm2g=</span></span> | <span data-ttu-id="74d17-163">KqKwlrSt9PA =</span><span class="sxs-lookup"><span data-stu-id="74d17-163">KqKwlrSt9PA=</span></span>       | <span data-ttu-id="74d17-164">STYz</span><span class="sxs-lookup"><span data-stu-id="74d17-164">STYz</span></span>         |

<span data-ttu-id="74d17-165">Teraz po hello wywołania `GET /api/stock/value` wprowadzone tooan zewnętrzna usługa ma tożsamość hello tooknow tego serwera.</span><span class="sxs-lookup"><span data-stu-id="74d17-165">Now when hello call `GET /api/stock/value` made tooan external service you want tooknow hello identity of that server.</span></span> <span data-ttu-id="74d17-166">Można ustawić `dependency.target` odpowiednio do pola.</span><span class="sxs-lookup"><span data-stu-id="74d17-166">So you can set `dependency.target` field appropriately.</span></span> <span data-ttu-id="74d17-167">Gdy hello zewnętrzna usługa nie obsługuje monitorowania - `target` jest ustawiona na nazwę hosta toohello hello usługi, takiej jak `stock-prices-api.com`.</span><span class="sxs-lookup"><span data-stu-id="74d17-167">When hello external service does not support monitoring - `target` is set toohello host name of hello service like `stock-prices-api.com`.</span></span> <span data-ttu-id="74d17-168">Jednak jeśli czy usługa identyfikuje zwracając wstępnie zdefiniowanej nagłówka HTTP - `target` zawiera tożsamość usługi hello umożliwiający śledzenia toobuild rozproszonego usługi Application Insights, badając dane telemetryczne z tej usługi.</span><span class="sxs-lookup"><span data-stu-id="74d17-168">However if that service identifies itself by returning a predefined HTTP header - `target` contains hello service identity that allows Application Insights toobuild distributed trace by querying telemetry from that service.</span></span> 

## <a name="correlation-headers"></a><span data-ttu-id="74d17-169">Nagłówki korelacji</span><span class="sxs-lookup"><span data-stu-id="74d17-169">Correlation headers</span></span>

<span data-ttu-id="74d17-170">Pracujemy nad RFC propozycję hello [korelacji protokołu HTTP](https://github.com/lmolkova/correlation/blob/master/http_protocol_proposal_v1.md).</span><span class="sxs-lookup"><span data-stu-id="74d17-170">We are working on RFC proposal for hello [correlation HTTP protocol](https://github.com/lmolkova/correlation/blob/master/http_protocol_proposal_v1.md).</span></span> <span data-ttu-id="74d17-171">Propozycja ta definiuje dwa nagłówki:</span><span class="sxs-lookup"><span data-stu-id="74d17-171">This proposal defines two headers:</span></span>

- <span data-ttu-id="74d17-172">`Request-Id`globalnie unikatowy identyfikator hello wywołania hello przenoszenia</span><span class="sxs-lookup"><span data-stu-id="74d17-172">`Request-Id` carry hello globally unique id of hello call</span></span>
- <span data-ttu-id="74d17-173">`Correlation-Context`-przenoszenia hello nazwa wartość pary kolekcję właściwości śledzenia hello rozproszonych</span><span class="sxs-lookup"><span data-stu-id="74d17-173">`Correlation-Context` - carry hello name value pairs collection of hello distributed trace properties</span></span>

<span data-ttu-id="74d17-174">Standardowa Hello definiuje również dwa schematy `Request-Id` generowania - płaskiego i hierarchicznego.</span><span class="sxs-lookup"><span data-stu-id="74d17-174">hello standard also defines two schemas of `Request-Id` generation - flat and hierarchical.</span></span> <span data-ttu-id="74d17-175">Ze schematem płaskiej hello, jest dobrze znanym `Id` klucz zdefiniowany dla hello `Correlation-Context` kolekcji.</span><span class="sxs-lookup"><span data-stu-id="74d17-175">With hello flat schema, there is a well-known `Id` key defined for hello `Correlation-Context` collection.</span></span>

<span data-ttu-id="74d17-176">Usługa Application Insights definiuje hello [rozszerzenia](https://github.com/lmolkova/correlation/blob/master/http_protocol_proposal_v2.md) dla korelacji hello protokołu HTTP.</span><span class="sxs-lookup"><span data-stu-id="74d17-176">Application Insights defines hello [extension](https://github.com/lmolkova/correlation/blob/master/http_protocol_proposal_v2.md) for hello correlation HTTP protocol.</span></span> <span data-ttu-id="74d17-177">Używa `Request-Context` nazwa pary wartości toopropagate hello zbiór właściwości używanych przez hello natychmiastowego wywołujący lub wywoływany.</span><span class="sxs-lookup"><span data-stu-id="74d17-177">It uses `Request-Context` name value pairs toopropagate hello collection of properties used by hello immediate caller or callee.</span></span> <span data-ttu-id="74d17-178">Zestaw SDK usługi Application Insights używa tego nagłówka tooset `dependency.target` i `request.source` pól.</span><span class="sxs-lookup"><span data-stu-id="74d17-178">Application Insights SDK uses this header tooset `dependency.target` and `request.source` fields.</span></span>

## <a name="open-tracing-and-application-insights"></a><span data-ttu-id="74d17-179">Otwórz śledzenie i usługi Application Insights</span><span class="sxs-lookup"><span data-stu-id="74d17-179">Open tracing and Application Insights</span></span>

<span data-ttu-id="74d17-180">[Otwórz śledzenie](http://opentracing.io/) i wygląda modeli danych usługi Application Insights</span><span class="sxs-lookup"><span data-stu-id="74d17-180">[Open Tracing](http://opentracing.io/) and Application Insights data models looks</span></span> 

- <span data-ttu-id="74d17-181">`request`, `pageView` mapy zbyt**zakres** z`span.kind = server`</span><span class="sxs-lookup"><span data-stu-id="74d17-181">`request`, `pageView` maps too**Span** with `span.kind = server`</span></span>
- <span data-ttu-id="74d17-182">`dependency`mapuje zbyt**zakres** z`span.kind = client`</span><span class="sxs-lookup"><span data-stu-id="74d17-182">`dependency` maps too**Span** with `span.kind = client`</span></span>
- <span data-ttu-id="74d17-183">`id`z `request` i `dependency` mapy zbyt**Span.Id**</span><span class="sxs-lookup"><span data-stu-id="74d17-183">`id` of a `request` and `dependency` maps too**Span.Id**</span></span>
- <span data-ttu-id="74d17-184">`operation_Id`mapuje zbyt**TraceId**</span><span class="sxs-lookup"><span data-stu-id="74d17-184">`operation_Id` maps too**TraceId**</span></span>
- <span data-ttu-id="74d17-185">`operation_ParentId`mapuje zbyt**odwołania** typu`ChileOf`</span><span class="sxs-lookup"><span data-stu-id="74d17-185">`operation_ParentId` maps too**Reference** of type `ChileOf`</span></span>

<span data-ttu-id="74d17-186">Zobacz [modelu danych](application-insights-data-model.md) dla modelu danych i typów usługi Application Insights.</span><span class="sxs-lookup"><span data-stu-id="74d17-186">See [data model](application-insights-data-model.md) for Application Insights types and data model.</span></span>

<span data-ttu-id="74d17-187">Zobacz [specyfikacji](https://github.com/opentracing/specification/blob/master/specification.md) i [semantic_conventions](https://github.com/opentracing/specification/blob/master/semantic_conventions.md) definicji śledzenia Otwórz pojęcia.</span><span class="sxs-lookup"><span data-stu-id="74d17-187">See [specification](https://github.com/opentracing/specification/blob/master/specification.md) and [semantic_conventions](https://github.com/opentracing/specification/blob/master/semantic_conventions.md) for definitions of Open Tracing concepts.</span></span>


## <a name="telemetry-correlation-in-net"></a><span data-ttu-id="74d17-188">Korelacja telemetrii w .NET</span><span class="sxs-lookup"><span data-stu-id="74d17-188">Telemetry correlation in .NET</span></span>

<span data-ttu-id="74d17-189">Wraz z upływem czasu .NET zdefiniowanych wiele sposobów toocorrelate telemetrii i informacji diagnostycznych dzienników.</span><span class="sxs-lookup"><span data-stu-id="74d17-189">Over time .NET defined number of ways toocorrelate telemetry and diagnostics logs.</span></span> <span data-ttu-id="74d17-190">Brak `System.Diagnostics.CorrelationManager` stosowanie tootrack [LogicalOperationStack i ActivityId](https://msdn.microsoft.com/library/system.diagnostics.correlationmanager.aspx).</span><span class="sxs-lookup"><span data-stu-id="74d17-190">There is `System.Diagnostics.CorrelationManager` allowing tootrack [LogicalOperationStack and ActivityId](https://msdn.microsoft.com/library/system.diagnostics.correlationmanager.aspx).</span></span> <span data-ttu-id="74d17-191">`System.Diagnostics.Tracing.EventSource`i Windows ETW zdefiniować metody hello [SetCurrentThreadActivityId](https://msdn.microsoft.com/library/system.diagnostics.tracing.eventsource.setcurrentthreadactivityid.aspx).</span><span class="sxs-lookup"><span data-stu-id="74d17-191">`System.Diagnostics.Tracing.EventSource` and Windows ETW define hello method [SetCurrentThreadActivityId](https://msdn.microsoft.com/library/system.diagnostics.tracing.eventsource.setcurrentthreadactivityid.aspx).</span></span> <span data-ttu-id="74d17-192">`ILogger`używa [zakresy dziennika](https://docs.microsoft.com/aspnet/core/fundamentals/logging#log-scopes).</span><span class="sxs-lookup"><span data-stu-id="74d17-192">`ILogger` uses [Log Scopes](https://docs.microsoft.com/aspnet/core/fundamentals/logging#log-scopes).</span></span> <span data-ttu-id="74d17-193">Usługi WCF i Http podczas transmisji się "bieżący" propagacji kontekstu.</span><span class="sxs-lookup"><span data-stu-id="74d17-193">WCF and Http wire up "current" context propagation.</span></span>

<span data-ttu-id="74d17-194">Jednak tych metod nie umożliwia automatycznego śledzenia rozproszonych.</span><span class="sxs-lookup"><span data-stu-id="74d17-194">However those methods didn't enable automatic distributed tracing support.</span></span> <span data-ttu-id="74d17-195">`DiagnosticsSource`toosupport sposób odbywa się automatycznie cross korelacji maszyny.</span><span class="sxs-lookup"><span data-stu-id="74d17-195">`DiagnosticsSource` is a way toosupport automatic cross machine correlation.</span></span> <span data-ttu-id="74d17-196">Biblioteki .NET obsługuje źródła diagnostyki i Zezwalaj na automatyczne maszyny krzyżowego propagacji hello korelacji kontekstu za pomocą transportu hello, takich jak http.</span><span class="sxs-lookup"><span data-stu-id="74d17-196">.NET libraries support Diagnostics Source and allow automatic cross machine propagation of hello correlation context via hello transport like http.</span></span>

<span data-ttu-id="74d17-197">Witaj [przewodnik tooActivities](https://github.com/dotnet/corefx/blob/master/src/System.Diagnostics.DiagnosticSource/src/ActivityUserGuide.md) w źródle diagnostyki opisano podstawy hello śledzenie działań.</span><span class="sxs-lookup"><span data-stu-id="74d17-197">hello [guide tooActivities](https://github.com/dotnet/corefx/blob/master/src/System.Diagnostics.DiagnosticSource/src/ActivityUserGuide.md) in Diagnostics Source explains hello basics of tracking Activities.</span></span> 

<span data-ttu-id="74d17-198">Wyodrębniania nagłówków Http obsługuje podstawowe ASP.NET 2.0 i uruchamianie hello nowe działanie.</span><span class="sxs-lookup"><span data-stu-id="74d17-198">ASP.NET Core 2.0 supports extraction of Http Headers and starting hello new Activity.</span></span> 

<span data-ttu-id="74d17-199">`System.Net.HttpClient`wersję początkową `<fill in>` obsługuje automatyczne uruchomienie korelacji hello nagłówków Http i śledzenia hello wywołanie http jako działania.</span><span class="sxs-lookup"><span data-stu-id="74d17-199">`System.Net.HttpClient` starting version `<fill in>` supports automatic injection of hello correlation Http Headers and tracking hello http call as an Activity.</span></span>

<span data-ttu-id="74d17-200">Moduł Http jest nowy [Microsoft.AspNet.TelemetryCorrelation](https://www.nuget.org/packages/Microsoft.AspNet.TelemetryCorrelation/) dla hello ASP.NET Classic.</span><span class="sxs-lookup"><span data-stu-id="74d17-200">There is a new Http Module [Microsoft.AspNet.TelemetryCorrelation](https://www.nuget.org/packages/Microsoft.AspNet.TelemetryCorrelation/) for hello ASP.NET Classic.</span></span> <span data-ttu-id="74d17-201">Ten moduł stanowi wdrożenie przy użyciu DiagnosticsSource korelacji telemetrii.</span><span class="sxs-lookup"><span data-stu-id="74d17-201">This module implements telemetry correlation using DiagnosticsSource.</span></span> <span data-ttu-id="74d17-202">Rozpoczyna działania od nagłówków żądań przychodzących.</span><span class="sxs-lookup"><span data-stu-id="74d17-202">It starts activity based on incoming request headers.</span></span> <span data-ttu-id="74d17-203">Są również powiązane dane telemetryczne z różnych etapów hello przetwarzania żądania.</span><span class="sxs-lookup"><span data-stu-id="74d17-203">It also correlates telemetry from hello different stages of request processing.</span></span> <span data-ttu-id="74d17-204">Nawet w przypadku przypadków powitania po uruchomieniu każdego etapu przetwarzania usług IIS w wątkach różnych zarządzanie.</span><span class="sxs-lookup"><span data-stu-id="74d17-204">Even for hello cases when every stage of IIS processing runs on a different manage threads.</span></span>

<span data-ttu-id="74d17-205">Wersję początkową aplikacji zestawu SDK Insights `2.4.0-beta1` używa telemetrii toocollect DiagnosticsSource i działania i powiązać ją z hello bieżącego działania.</span><span class="sxs-lookup"><span data-stu-id="74d17-205">Application Insights SDK starting version `2.4.0-beta1` uses DiagnosticsSource and Activity toocollect telemetry and associate it with hello current activity.</span></span> 

## <a name="next-steps"></a><span data-ttu-id="74d17-206">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="74d17-206">Next steps</span></span>

- [<span data-ttu-id="74d17-207">Telemetria niestandardowa zapisu</span><span class="sxs-lookup"><span data-stu-id="74d17-207">Write custom telemetry</span></span>](app-insights-api-custom-events-metrics.md)
- <span data-ttu-id="74d17-208">Dołączyć wszystkie składniki usługi micro na usługi Application Insights.</span><span class="sxs-lookup"><span data-stu-id="74d17-208">Onboard all components of your micro service on Application Insights.</span></span> <span data-ttu-id="74d17-209">Zapoznaj się z [obsługiwanych platform](app-insights-platforms.md).</span><span class="sxs-lookup"><span data-stu-id="74d17-209">Check out [supported platforms](app-insights-platforms.md).</span></span>
- <span data-ttu-id="74d17-210">Zobacz [modelu danych](application-insights-data-model.md) dla modelu danych i typów usługi Application Insights.</span><span class="sxs-lookup"><span data-stu-id="74d17-210">See [data model](application-insights-data-model.md) for Application Insights types and data model.</span></span>
- <span data-ttu-id="74d17-211">Dowiedz się, jak za[rozszerzanie i filtrować dane telemetryczne](app-insights-api-filtering-sampling.md).</span><span class="sxs-lookup"><span data-stu-id="74d17-211">Learn how too[extend and filter telemetry](app-insights-api-filtering-sampling.md).</span></span>
