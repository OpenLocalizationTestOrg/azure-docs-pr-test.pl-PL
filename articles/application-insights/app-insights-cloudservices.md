---
title: "aaaApplication Insights dla usługi w chmurze Azure | Dokumentacja firmy Microsoft"
description: "Skutecznie monitoruj role sieci Web i procesu roboczego za pomocą usługi Application Insights"
services: application-insights
documentationcenter: 
keywords: WAD2AI, diagnostyka platformy Azure
author: CFreemanwa
manager: carmonm
editor: alancameronwills
ms.assetid: 5c7a5b34-329e-42b7-9330-9dcbb9ff1f88
ms.service: application-insights
ms.devlang: na
ms.tgt_pltfrm: ibiza
ms.topic: get-started-article
ms.workload: tbd
ms.date: 05/05/2017
ms.author: bwren
ms.openlocfilehash: 6956ce423eea1e2cf387bd98250bae32d9501ed0
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="application-insights-for-azure-cloud-services"></a><span data-ttu-id="be180-104">Usługa Application Insights dla usług Azure Cloud Services</span><span class="sxs-lookup"><span data-stu-id="be180-104">Application Insights for Azure Cloud Services</span></span>
<span data-ttu-id="be180-105">[Aplikacje usługi Microsoft Azure Cloud](https://azure.microsoft.com/services/cloud-services/) mogą być monitorowane przez [usługi Application Insights][start] w celu sprawdzania ich dostępności, wydajności, błędów i użycia. W tym celu dane z zestawów SDK usługi Application Insights są łączone z danymi z usługi [Azure Diagnotics](https://docs.microsoft.com/en-us/azure/monitoring-and-diagnostics/azure-diagnostics) pochodzącymi z usług w chmurze.</span><span class="sxs-lookup"><span data-stu-id="be180-105">[Microsoft Azure Cloud service apps](https://azure.microsoft.com/services/cloud-services/) can be monitored by [Application Insights][start] for availability, performance, failures, and usage by combining data from Application Insights' SDKs with [Azure Diagnotics](https://docs.microsoft.com/en-us/azure/monitoring-and-diagnostics/azure-diagnostics) data from your Cloud Services.</span></span> <span data-ttu-id="be180-106">Opinii hello Ci o hello wydajność i skuteczność aplikacji w hello wild można wybrać opcje informowane o kierunku hello hello projektu w każdym cyklu programistycznym.</span><span class="sxs-lookup"><span data-stu-id="be180-106">With hello feedback you get about hello performance and effectiveness of your app in hello wild, you can make informed choices about hello direction of hello design in each development lifecycle.</span></span>

![Przykład](./media/app-insights-cloudservices/sample.png)

## <a name="before-you-start"></a><span data-ttu-id="be180-108">Przed rozpoczęciem</span><span class="sxs-lookup"><span data-stu-id="be180-108">Before you start</span></span>
<span data-ttu-id="be180-109">Będą potrzebne:</span><span class="sxs-lookup"><span data-stu-id="be180-109">You'll need:</span></span>

* <span data-ttu-id="be180-110">Subskrypcja platformy [Microsoft Azure](http://azure.com).</span><span class="sxs-lookup"><span data-stu-id="be180-110">A subscription with [Microsoft Azure](http://azure.com).</span></span> <span data-ttu-id="be180-111">Zaloguj się przy użyciu konta Microsoft, które możesz mieć dla systemu Windows, usługi XBox Live lub innych usług w chmurze firmy Microsoft.</span><span class="sxs-lookup"><span data-stu-id="be180-111">Sign in with a Microsoft account, which you might have for Windows, XBox Live, or other Microsoft cloud services.</span></span> 
* <span data-ttu-id="be180-112">Narzędzia Microsoft Azure Tools 2.9 lub nowsze.</span><span class="sxs-lookup"><span data-stu-id="be180-112">Microsoft Azure tools 2.9 or later</span></span>
* <span data-ttu-id="be180-113">Narzędzia Developer Analytics Tools 7.10 lub nowsze.</span><span class="sxs-lookup"><span data-stu-id="be180-113">Developer Analytics Tools 7.10 or later</span></span>

## <a name="quick-start"></a><span data-ttu-id="be180-114">Szybki start</span><span class="sxs-lookup"><span data-stu-id="be180-114">Quick start</span></span>
<span data-ttu-id="be180-115">Witaj toomonitor najszybszym i Najprostszym sposobem, które usługi w chmurze z usługą Application Insights jest toochoose, która opcja publikowania tooAzure Twojej usługi.</span><span class="sxs-lookup"><span data-stu-id="be180-115">hello quickest and easiest way toomonitor your cloud service with Application Insights is toochoose that option when you publish your service tooAzure.</span></span>

![Przykład](./media/app-insights-cloudservices/azure-cloud-application-insights.png)

<span data-ttu-id="be180-117">Dokumenty tej opcji aplikacji w czasie wykonywania, umożliwiając wszystkie hello dane telemetryczne należy toomonitor żądań, wyjątków i zależności w roli sieci web, jak również wydajności liczników z Twojej roli proces roboczy.</span><span class="sxs-lookup"><span data-stu-id="be180-117">This option instruments your app at run time, giving you all hello telemetry you need toomonitor requests, exceptions, and dependencies in your web role, as well as performance counters from your worker roles.</span></span> <span data-ttu-id="be180-118">Wszystkie dane śledzenia diagnostycznego wygenerowany przez aplikację są także wysyłane tooApplication szczegółowych informacji.</span><span class="sxs-lookup"><span data-stu-id="be180-118">Any diagnostic traces generated by your app are also sent tooApplication Insights.</span></span>

<span data-ttu-id="be180-119">Jeśli to wszystko, czego potrzebujesz, to koniec!</span><span class="sxs-lookup"><span data-stu-id="be180-119">If that's all you need, you're done!</span></span> <span data-ttu-id="be180-120">Następne kroki to [wyświetlanie metryk z poziomu aplikacji](app-insights-metrics-explorer.md), [wykonywanie zapytań do danych za pomocą funkcji analizy](app-insights-analytics.md) i, być może, konfigurowanie [pulpitu nawigacyjnego](app-insights-dashboards.md).</span><span class="sxs-lookup"><span data-stu-id="be180-120">Next steps are [viewing metrics from your app](app-insights-metrics-explorer.md), [querying your data with Analytics](app-insights-analytics.md), and maybe setting up a [dashboard](app-insights-dashboards.md).</span></span> <span data-ttu-id="be180-121">Może być tooset się [testów dostępności](app-insights-monitor-web-app-availability.md) i [Dodawanie stron sieci web tooyour kodu](app-insights-javascript.md) toomonitor wydajności w przeglądarce hello.</span><span class="sxs-lookup"><span data-stu-id="be180-121">You might want tooset up [availability tests](app-insights-monitor-web-app-availability.md) and [add code tooyour web pages](app-insights-javascript.md) toomonitor performance in hello browser.</span></span>

<span data-ttu-id="be180-122">Ale możesz również korzystać z dodatkowych opcji:</span><span class="sxs-lookup"><span data-stu-id="be180-122">But you can also get more options:</span></span>

* <span data-ttu-id="be180-123">Wysyłanie danych z różnych składników i konfiguracje kompilacji tooseparate zasobów.</span><span class="sxs-lookup"><span data-stu-id="be180-123">Send data from different components and build configurations tooseparate resources.</span></span>
* <span data-ttu-id="be180-124">Dodawanie niestandardowej telemetrii z aplikacji.</span><span class="sxs-lookup"><span data-stu-id="be180-124">Add custom telemetry from your app.</span></span>

<span data-ttu-id="be180-125">Jeśli te opcje są tooyou zainteresowań, poniżej.</span><span class="sxs-lookup"><span data-stu-id="be180-125">If those options are of interest tooyou, read on.</span></span>

## <a name="sample-application-instrumented-with-application-insights"></a><span data-ttu-id="be180-126">Przykładowa aplikacja z instrumentacją zapewnianą przez usługę Application Insights</span><span class="sxs-lookup"><span data-stu-id="be180-126">Sample Application instrumented with Application Insights</span></span>
<span data-ttu-id="be180-127">Spójrz na to [Przykładowa aplikacja](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService) w którym usługi Application Insights zostanie dodany tooa usługi w chmurze z dwóch roli proces roboczy hostowana na platformie Azure.</span><span class="sxs-lookup"><span data-stu-id="be180-127">Take a look at this [sample application](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService) in which Application Insights is added tooa cloud service with two worker roles hosted in Azure.</span></span> 

<span data-ttu-id="be180-128">Poniżej informuje, jak tooadapt usługi chmury projektu w hello tak samo.</span><span class="sxs-lookup"><span data-stu-id="be180-128">What follows tells you how tooadapt your own cloud service project in hello same way.</span></span>

## <a name="plan-resources-and-resource-groups"></a><span data-ttu-id="be180-129">Planowanie zasobów i grup zasobów</span><span class="sxs-lookup"><span data-stu-id="be180-129">Plan resources and resource groups</span></span>
<span data-ttu-id="be180-130">telemetrii Hello z aplikacji są przechowywane, przeanalizowane i wyświetlane w zasobów platformy Azure typu usługi Application Insights.</span><span class="sxs-lookup"><span data-stu-id="be180-130">hello telemetry from your app is stored, analyzed and displayed in an Azure resource of type Application Insights.</span></span> 

<span data-ttu-id="be180-131">Każdy zasób należy tooa grupy zasobów.</span><span class="sxs-lookup"><span data-stu-id="be180-131">Each resource belongs tooa resource group.</span></span> <span data-ttu-id="be180-132">Grupy zasobów są używane do zarządzania kosztów za udzielanie dostępu członków tooteam i toodeploy aktualizacje w ramach jednej skoordynowanej transakcji.</span><span class="sxs-lookup"><span data-stu-id="be180-132">Resource groups are used for managing costs, for granting access tooteam members, and toodeploy updates in a single coordinated transaction.</span></span> <span data-ttu-id="be180-133">Na przykład można [zapisu toodeploy skryptu](../azure-resource-manager/resource-group-template-deploy.md) usługi w chmurze platformy Azure i jej monitorowanie zasobów w jednej operacji usługi Application Insights.</span><span class="sxs-lookup"><span data-stu-id="be180-133">For example, you could [write a script toodeploy](../azure-resource-manager/resource-group-template-deploy.md) an Azure Cloud Service and its Application Insights monitoring resources all in one operation.</span></span>

### <a name="resources-for-components"></a><span data-ttu-id="be180-134">Zasoby dla składników</span><span class="sxs-lookup"><span data-stu-id="be180-134">Resources for components</span></span>
<span data-ttu-id="be180-135">Hello zaleca się, że system jest toocreate oddzielnych zasobów dla każdego składnika aplikacji - oznacza to, że wszystkie role sieci web i roli proces roboczy.</span><span class="sxs-lookup"><span data-stu-id="be180-135">hello recommended scheme is toocreate a separate resource for each component of your application - that is, each web role and worker role.</span></span> <span data-ttu-id="be180-136">Poszczególne składniki można analizować oddzielnie, ale można utworzyć [pulpitu nawigacyjnego](app-insights-dashboards.md) który gromadzi wykresy klucza hello ze wszystkich składników hello, dzięki czemu można porównać i monitorować je razem.</span><span class="sxs-lookup"><span data-stu-id="be180-136">You can analyze each component separately, but can create a [dashboard](app-insights-dashboards.md) that brings together hello key charts from all hello components, so that you can compare and monitor them together.</span></span> 

<span data-ttu-id="be180-137">Alternatywnego systemu jest telemetrii hello toosend z więcej niż jednej roli toohello tego samego zasobu, ale [Dodaj element danych telemetrycznych tooeach właściwości wymiaru](app-insights-api-filtering-sampling.md#add-properties-itelemetryinitializer) , które identyfikują swojej roli źródła.</span><span class="sxs-lookup"><span data-stu-id="be180-137">An alternative scheme is toosend hello telemetry from more than one role toohello same resource, but [add a dimension property tooeach telemetry item](app-insights-api-filtering-sampling.md#add-properties-itelemetryinitializer) that identifies its source role.</span></span> <span data-ttu-id="be180-138">W tym schemacie metryki takich jak wyjątki zwykle na wykresach agregacji hello liczników z hello różnych ról, ale można podzielić hello wykresu za pomocą identyfikatora roli hello, gdy jest to wymagane.</span><span class="sxs-lookup"><span data-stu-id="be180-138">In this scheme, metric charts such as exceptions normally show an aggregation of hello counts from hello different roles, but you can segment hello chart by hello role identifier when required.</span></span> <span data-ttu-id="be180-139">Wyszukiwanie można również filtrować według hello tego samego wymiaru.</span><span class="sxs-lookup"><span data-stu-id="be180-139">Searches can also be filtered by hello same dimension.</span></span> <span data-ttu-id="be180-140">To alternatywne umożliwia łatwiejsze nieco tooview wszystko na powitania sam czasu, ale również może prowadzić pomyłek toosome między rolami hello.</span><span class="sxs-lookup"><span data-stu-id="be180-140">This alternative makes it a bit easier tooview everything at hello same time, but could also lead toosome confusion between hello roles.</span></span>

<span data-ttu-id="be180-141">Dane telemetryczne przeglądarki zazwyczaj znajduje się w hello tego samego zasobu jako swojej roli sieci web po stronie serwera.</span><span class="sxs-lookup"><span data-stu-id="be180-141">Browser telemetry is usually included in hello same resource as its server-side web role.</span></span>

<span data-ttu-id="be180-142">Umieść hello zasobów usługi Application Insights dla różnych składników hello w jednej grupie zasobów.</span><span class="sxs-lookup"><span data-stu-id="be180-142">Put hello Application Insights resources for hello different components in one resource group.</span></span> <span data-ttu-id="be180-143">Dzięki temu można łatwo toomanage je razem.</span><span class="sxs-lookup"><span data-stu-id="be180-143">This makes it easy toomanage them together.</span></span> 

### <a name="separating-development-test-and-production"></a><span data-ttu-id="be180-144">Oddzielanie tworzenia, testowania i produkcji</span><span class="sxs-lookup"><span data-stu-id="be180-144">Separating development, test, and production</span></span>
<span data-ttu-id="be180-145">Jeśli tworzysz zdarzeń niestandardowych dla Twojego dalej funkcji podczas poprzedniej wersji hello jest aktywne, ma toosend hello programowanie telemetrii tooa oddzielne zasobu usługi Application Insights.</span><span class="sxs-lookup"><span data-stu-id="be180-145">If you are developing custom events for your next feature while hello previous version is live, you want toosend hello development telemetry tooa separate Application Insights resource.</span></span> <span data-ttu-id="be180-146">W przeciwnym razie będzie twardych toofind telemetrii testów wśród wszystkich hello ruch z hello działającą witrynę.</span><span class="sxs-lookup"><span data-stu-id="be180-146">Otherwise it will be hard toofind your test telemetry among all hello traffic from hello live site.</span></span>

<span data-ttu-id="be180-147">tooavoid tej sytuacji, Utwórz oddzielne zasoby dla każdej konfiguracji kompilacji lub "sygnatury" (Programowanie, testu, produkcji,...) systemu.</span><span class="sxs-lookup"><span data-stu-id="be180-147">tooavoid this situation, create separate resources for each build configuration or 'stamp' (development, test, production, ...) of your system.</span></span> <span data-ttu-id="be180-148">Umieść hello zasobów dla każdej konfiguracji kompilacji w oddzielnej grupie zasobów.</span><span class="sxs-lookup"><span data-stu-id="be180-148">Put hello resources for each build configuration in a separate resource group.</span></span> 

<span data-ttu-id="be180-149">toosend hello telemetrii toohello odpowiednich zasobów, można skonfigurować hello zestaw SDK usługi Application Insights, aby go przejmuje klucz Instrumentacji różne w zależności od konfiguracji kompilacji hello.</span><span class="sxs-lookup"><span data-stu-id="be180-149">toosend hello telemetry toohello appropriate resources, you can set up hello Application Insights SDK so that it picks up a different instrumentation key depending on hello build configuration.</span></span> 

## <a name="create-an-application-insights-resource-for-each-role"></a><span data-ttu-id="be180-150">Tworzenie zasobu usługi Application Insights dla każdej roli</span><span class="sxs-lookup"><span data-stu-id="be180-150">Create an Application Insights resource for each role</span></span>
<span data-ttu-id="be180-151">Jeśli decydujesz się toocreate oddzielnych zasobów dla każdej roli - i może ustawić oddzielnie dla każdej konfiguracji kompilacji — to jest najprostszym toocreate ich w portalu usługi Application Insights hello.</span><span class="sxs-lookup"><span data-stu-id="be180-151">If you've decided toocreate a separate resource for each role - and perhaps a separate set for each build configuration - then it's easiest toocreate them all in hello Application Insights portal.</span></span> <span data-ttu-id="be180-152">(Jeśli tworzysz wiele zasobów, możesz [automatyzacji procesu hello](app-insights-powershell.md).</span><span class="sxs-lookup"><span data-stu-id="be180-152">(If you create resources a lot, you can [automate hello process](app-insights-powershell.md).</span></span>

1. <span data-ttu-id="be180-153">W hello [portalu Azure][portal], Utwórz nowy zasób usługi Application Insights.</span><span class="sxs-lookup"><span data-stu-id="be180-153">In hello [Azure portal][portal], create a new Application Insights resource.</span></span> <span data-ttu-id="be180-154">Jako typ aplikacji wybierz ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="be180-154">For application type, choose ASP.NET app.</span></span> 

    ![Kliknij kolejno polecenia Nowy, Application Insights](./media/app-insights-cloudservices/01-new.png)
2. <span data-ttu-id="be180-156">Należy pamiętać, że każdy zasób jest identyfikowany przez klucz instrumentacji.</span><span class="sxs-lookup"><span data-stu-id="be180-156">Note that each resource is identified by an Instrumentation Key.</span></span> <span data-ttu-id="be180-157">Może być potrzebny to później mają toomanually skonfigurowane lub zweryfikować konfigurację hello hello zestawu SDK.</span><span class="sxs-lookup"><span data-stu-id="be180-157">You might need this later if you want toomanually configure or verify hello configuration of hello SDK.</span></span>

    ![Kliknij polecenie Właściwości, wybierz hello klucza, a następnie naciśnij klawisze ctrl + C](./media/app-insights-cloudservices/02-props.png) 

## <a name="set-up-azure-diagnostics-for-each-role"></a><span data-ttu-id="be180-159">Konfigurowanie diagnostyki platformy Azure dla każdej roli</span><span class="sxs-lookup"><span data-stu-id="be180-159">Set up Azure Diagnostics for each role</span></span>
<span data-ttu-id="be180-160">Ustaw ten toomonitor opcji aplikacji za pomocą usługi Application Insights.</span><span class="sxs-lookup"><span data-stu-id="be180-160">Set this option toomonitor your app with Application Insights.</span></span> <span data-ttu-id="be180-161">W przypadku ról sieci Web zapewnia to monitorowanie wydajności, alerty i diagnostykę oraz analizę użycia.</span><span class="sxs-lookup"><span data-stu-id="be180-161">For web roles, this provides performance monitoring, alerts, and diagnostics, as well as usage analysis.</span></span> <span data-ttu-id="be180-162">Dla innych ról można wyszukiwać i monitorować diagnostycznych platformy Azure, takie jak ponowne uruchomienie, liczniki wydajności i tooSystem.Diagnostics.Trace wywołania.</span><span class="sxs-lookup"><span data-stu-id="be180-162">For other roles, you can search and monitor Azure diagnostics such as restart, performance counters, and calls tooSystem.Diagnostics.Trace.</span></span> 

1. <span data-ttu-id="be180-163">W Eksploratorze rozwiązań programu Visual Studio w obszarze &lt;YourCloudService&gt;, ról, otwórz właściwości hello poszczególnych ról.</span><span class="sxs-lookup"><span data-stu-id="be180-163">In Visual Studio Solution Explorer, under &lt;YourCloudService&gt;, Roles, open hello properties of each role.</span></span>
2. <span data-ttu-id="be180-164">W **konfiguracji**ustaw **wysyłania tooApplication danych diagnostycznych Insights** i wybierz hello odpowiedniego zasobu usługi Application Insights, który został utworzony wcześniej.</span><span class="sxs-lookup"><span data-stu-id="be180-164">In **Configuration**, set **Send diagnostics data tooApplication Insights** and select hello appropriate Application Insights resource that you created earlier.</span></span>

<span data-ttu-id="be180-165">Jeśli zdecydujesz się toouse oddzielne zasobu usługi Application Insights dla każdej konfiguracji kompilacji, należy najpierw wybrać hello konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="be180-165">If you have decided toouse a separate Application Insights resource for each build configuration, select hello configuration first.</span></span>

![We właściwościach hello poszczególnych ról platformy Azure Konfiguruj usługę Application Insights](./media/app-insights-cloudservices/configure-azure-diagnostics.png)

<span data-ttu-id="be180-167">Ma to wpływ hello Wstawianie klucze Instrumentacji usługi Application Insights do hello pliki o nazwie `ServiceConfiguration.*.cscfg`.</span><span class="sxs-lookup"><span data-stu-id="be180-167">This has hello effect of inserting your Application Insights instrumentation keys into hello files named `ServiceConfiguration.*.cscfg`.</span></span> <span data-ttu-id="be180-168">([Przykładowy kod](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/AzureEmailService/ServiceConfiguration.Cloud.cscfg)).</span><span class="sxs-lookup"><span data-stu-id="be180-168">([Sample code](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/AzureEmailService/ServiceConfiguration.Cloud.cscfg)).</span></span>

<span data-ttu-id="be180-169">Jeśli chcesz, aby poziom hello toovary tooApplication informacje diagnostyczne wysyłane szczegółowe informacje, możesz to zrobić [, edytując hello `.cscfg` pliki bezpośrednio](app-insights-azure-diagnostics.md).</span><span class="sxs-lookup"><span data-stu-id="be180-169">If you want toovary hello level of diagnostic information sent tooApplication Insights, you can do so [by editing hello `.cscfg` files directly](app-insights-azure-diagnostics.md).</span></span>

## <span data-ttu-id="be180-170"><a name="sdk"></a>Zainstaluj zestaw SDK hello w każdym projekcie</span><span class="sxs-lookup"><span data-stu-id="be180-170"><a name="sdk"></a>Install hello SDK in each project</span></span>
<span data-ttu-id="be180-171">Ta opcja dodaje hello możliwości tooadd niestandardowych firm telemetrii tooany rolę, bliżej analizy jak aplikacja jest używana i wykonuje.</span><span class="sxs-lookup"><span data-stu-id="be180-171">This option adds hello ability tooadd custom business telemetry tooany role, for a closer analysis of how your application is used and performs.</span></span>

<span data-ttu-id="be180-172">W programie Visual Studio skonfiguruj hello zestaw SDK usługi Application Insights dla każdego projektu aplikacji w chmurze.</span><span class="sxs-lookup"><span data-stu-id="be180-172">In Visual Studio, configure hello Application Insights SDK for each cloud app project.</span></span>

1. <span data-ttu-id="be180-173">**Role w sieci Web**: kliknij prawym przyciskiem myszy projekt hello i wybierz polecenie **Konfiguruj usługę Application Insights** lub **Dodaj > telemetrii usługi Application Insights**.</span><span class="sxs-lookup"><span data-stu-id="be180-173">**Web roles**: Right-click hello project and choose **Configure Application Insights** or **Add > Application Insights telemetry**.</span></span>

2. <span data-ttu-id="be180-174">**Role procesów roboczych**:</span><span class="sxs-lookup"><span data-stu-id="be180-174">**Worker roles**:</span></span> 
 * <span data-ttu-id="be180-175">Kliknij prawym przyciskiem myszy projekt hello i wybierz **Zarządzaj pakietami Nuget**.</span><span class="sxs-lookup"><span data-stu-id="be180-175">Right-click hello project and select **Manage Nuget Packages**.</span></span>
 * <span data-ttu-id="be180-176">Dodaj pozycję [Usługa Application Insights dla serwerów systemu Windows](https://www.nuget.org/packages/Microsoft.ApplicationInsights.WindowsServer/).</span><span class="sxs-lookup"><span data-stu-id="be180-176">Add [Application Insights for Windows Servers](https://www.nuget.org/packages/Microsoft.ApplicationInsights.WindowsServer/).</span></span>

    ![Wyszukaj „Application Insights”](./media/app-insights-cloudservices/04-ai-nuget.png)

3. <span data-ttu-id="be180-178">Skonfiguruj hello SDK toosend danych toohello zasobu usługi Application Insights.</span><span class="sxs-lookup"><span data-stu-id="be180-178">Configure hello SDK toosend data toohello Application Insights resource.</span></span>

    <span data-ttu-id="be180-179">W odpowiednich uruchamiania funkcji należy ustawić klucz Instrumentacji hello z hello ustawienia konfiguracji w pliku .cscfg hello:</span><span class="sxs-lookup"><span data-stu-id="be180-179">In a suitable startup function, set hello instrumentation key from hello configuration setting in hello .cscfg file:</span></span>
 
    ```C#
   
     TelemetryConfiguration.Active.InstrumentationKey = RoleEnvironment.GetConfigurationSettingValue("APPINSIGHTS_INSTRUMENTATIONKEY");
    ```
   
    <span data-ttu-id="be180-180">Zrób to dla każdej roli w aplikacji.</span><span class="sxs-lookup"><span data-stu-id="be180-180">Do this for each role in your application.</span></span> <span data-ttu-id="be180-181">Przykłady hello:</span><span class="sxs-lookup"><span data-stu-id="be180-181">See hello examples:</span></span>
   
   * [<span data-ttu-id="be180-182">Rola sieci Web</span><span class="sxs-lookup"><span data-stu-id="be180-182">Web role</span></span>](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/Global.asax.cs#L27)
   * [<span data-ttu-id="be180-183">Rola procesu roboczego</span><span class="sxs-lookup"><span data-stu-id="be180-183">Worker role</span></span>](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/WorkerRoleA.cs#L232)
   * [<span data-ttu-id="be180-184">W przypadku stron sieci Web</span><span class="sxs-lookup"><span data-stu-id="be180-184">For web pages</span></span>](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/Views/Shared/_Layout.cshtml#L13) 
4. <span data-ttu-id="be180-185">Toobe pliku ApplicationInsights.config hello zestaw zawsze kopiowane toohello katalogu wyjściowego.</span><span class="sxs-lookup"><span data-stu-id="be180-185">Set hello ApplicationInsights.config file toobe copied always toohello output directory.</span></span> 
   
    <span data-ttu-id="be180-186">(W pliku .config hello, zostanie wyświetlone komunikaty pytania należy tooplace hello klucza Instrumentacji istnieje.</span><span class="sxs-lookup"><span data-stu-id="be180-186">(In hello .config file, you'll see messages asking you tooplace hello instrumentation key there.</span></span> <span data-ttu-id="be180-187">Jednak dla aplikacji w chmurze jest lepsze tooset z hello pliku .cscfg.</span><span class="sxs-lookup"><span data-stu-id="be180-187">However, for cloud applications it's better tooset it from hello .cscfg file.</span></span> <span data-ttu-id="be180-188">Dzięki temu ta rola hello jest prawidłowo zidentyfikowany w portalu hello.)</span><span class="sxs-lookup"><span data-stu-id="be180-188">This ensures that hello role is correctly identified in hello portal.)</span></span>

#### <a name="run-and-publish-hello-app"></a><span data-ttu-id="be180-189">Uruchamianie i publikowanie aplikacji hello</span><span class="sxs-lookup"><span data-stu-id="be180-189">Run and publish hello app</span></span>
<span data-ttu-id="be180-190">Uruchom aplikację, a następnie zaloguj się na platformie Azure.</span><span class="sxs-lookup"><span data-stu-id="be180-190">Run your app, and sign into Azure.</span></span> <span data-ttu-id="be180-191">Utworzenie zasobów usługi Application Insights hello otwarte i zobaczysz pojedynczych punktów danych znajdujących się w [wyszukiwania](app-insights-diagnostic-search.md), i agregować dane w [Explorer Metryka](app-insights-metrics-explorer.md).</span><span class="sxs-lookup"><span data-stu-id="be180-191">Open hello Application Insights resources you created, and you'll see individual data points appearing in [Search](app-insights-diagnostic-search.md), and aggregated data in [Metric Explorer](app-insights-metrics-explorer.md).</span></span> 

<span data-ttu-id="be180-192">Dodaj więcej danych telemetrycznych — zobacz sekcje hello poniżej -, a następnie Opublikuj aplikację tooget na żywo diagnostycznych i użycia opinii.</span><span class="sxs-lookup"><span data-stu-id="be180-192">Add more telemetry - see hello sections below - and then publish your app tooget live diagnostic and usage feedback.</span></span> 

#### <a name="no-data"></a><span data-ttu-id="be180-193">Brak danych?</span><span class="sxs-lookup"><span data-stu-id="be180-193">No data?</span></span>
* <span data-ttu-id="be180-194">Otwórz hello [wyszukiwania] [ diagnostic] Kafelek toosee pojedynczych zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="be180-194">Open hello [Search][diagnostic] tile, toosee individual events.</span></span>
* <span data-ttu-id="be180-195">Za pomocą aplikacji hello, otwieranie stron różnych, dzięki czemu generuje niektóre dane telemetryczne.</span><span class="sxs-lookup"><span data-stu-id="be180-195">Use hello application, opening different pages so that it generates some telemetry.</span></span>
* <span data-ttu-id="be180-196">Odczekaj kilka sekund, a następnie kliknij przycisk Odśwież.</span><span class="sxs-lookup"><span data-stu-id="be180-196">Wait a few seconds and click Refresh.</span></span>
* <span data-ttu-id="be180-197">Zobacz [Rozwiązywanie problemów][qna].</span><span class="sxs-lookup"><span data-stu-id="be180-197">See [Troubleshooting][qna].</span></span>

## <a name="view-azure-diagnostic-events"></a><span data-ttu-id="be180-198">Wyświetlanie zdarzeń diagnostycznych platformy Azure</span><span class="sxs-lookup"><span data-stu-id="be180-198">View Azure Diagnostic events</span></span>
<span data-ttu-id="be180-199">Gdzie toofind hello [diagnostyki Azure](https://docs.microsoft.com/en-us/azure/monitoring-and-diagnostics/azure-diagnostics) informacji w usłudze Application Insights:</span><span class="sxs-lookup"><span data-stu-id="be180-199">Where toofind hello [Azure Diagnostics](https://docs.microsoft.com/en-us/azure/monitoring-and-diagnostics/azure-diagnostics) information in Application Insights:</span></span>

* <span data-ttu-id="be180-200">Liczniki wydajności są wyświetlane jako metryki niestandardowe.</span><span class="sxs-lookup"><span data-stu-id="be180-200">Performance counters are displayed as custom metrics.</span></span> 
* <span data-ttu-id="be180-201">Dzienniki zdarzeń systemu Windows są wyświetlane jako ślady i zdarzenia niestandardowe.</span><span class="sxs-lookup"><span data-stu-id="be180-201">Windows event logs are shown as traces and custom events.</span></span>
* <span data-ttu-id="be180-202">Dzienniki aplikacji, dzienniki śledzenia zdarzeń systemu Windows i wszelkie dzienniki infrastruktury diagnostycznej są wyświetlane jako ślady.</span><span class="sxs-lookup"><span data-stu-id="be180-202">Application logs, ETW logs, and any diagnostics infrastructure logs appear as traces.</span></span>

<span data-ttu-id="be180-203">liczniki wydajności toosee i liczby zdarzeń, otwórz [Eksploratora metryk](app-insights-metrics-explorer.md) i Dodaj nowy wykres:</span><span class="sxs-lookup"><span data-stu-id="be180-203">toosee performance counters and counts of events, open [Metrics Explorer](app-insights-metrics-explorer.md) and add a new chart:</span></span>

![Dane diagnostyczne platformy Azure](./media/app-insights-cloudservices/23-wad.png)

<span data-ttu-id="be180-205">Użyj [wyszukiwania](app-insights-diagnostic-search.md) lub [Analytics query](app-insights-analytics-tour.md) toosearch między hello śledzenia różne dzienniki wysyłane przez diagnostyki Azure.</span><span class="sxs-lookup"><span data-stu-id="be180-205">Use [Search](app-insights-diagnostic-search.md) or an [Analytics query](app-insights-analytics-tour.md) toosearch across hello various trace logs sent by Azure Diagnostics.</span></span> <span data-ttu-id="be180-206">Na przykład załóżmy, że masz nieobsłużony wyjątek, który spowodował toocrash roli i odtworzenia.</span><span class="sxs-lookup"><span data-stu-id="be180-206">For example, suppose you have an unhandled exception which caused a Role toocrash and recycle.</span></span> <span data-ttu-id="be180-207">Te informacje będą wyświetlane w hello aplikacji kanału z dziennika zdarzeń systemu Windows.</span><span class="sxs-lookup"><span data-stu-id="be180-207">That information would show up in hello Application channel of Windows Event Log.</span></span> <span data-ttu-id="be180-208">Można użyć wyszukiwania toolook na powitania błędu dziennika zdarzeń systemu Windows i uzyskać ślad stosu pełne hello hello wyjątku.</span><span class="sxs-lookup"><span data-stu-id="be180-208">You can use Search toolook at hello Windows Event Log error and get hello full stack trace for hello exception.</span></span> <span data-ttu-id="be180-209">Który pomoże Ci znaleźć hello główną przyczynę problemu, hello.</span><span class="sxs-lookup"><span data-stu-id="be180-209">That will help you find hello root cause of hello issue.</span></span>

![Wyszukiwanie diagnostyki platformy Azure](./media/app-insights-cloudservices/25-wad.png)

## <a name="more-telemetry"></a><span data-ttu-id="be180-211">Dalsze funkcje telemetrii</span><span class="sxs-lookup"><span data-stu-id="be180-211">More telemetry</span></span>
<span data-ttu-id="be180-212">Witaj sekcjami Pokaż jak tooget dodatkowe dane telemetryczne z różnych aspektów aplikacji.</span><span class="sxs-lookup"><span data-stu-id="be180-212">hello sections below show how tooget additional telemetry from different aspects of your application.</span></span>

## <a name="track-requests-from-worker-roles"></a><span data-ttu-id="be180-213">Śledzenie żądań z ról procesów roboczych</span><span class="sxs-lookup"><span data-stu-id="be180-213">Track Requests from Worker roles</span></span>
<span data-ttu-id="be180-214">W role sieci web hello żądań modułu automatycznie zbiera dane o żądaniach HTTP.</span><span class="sxs-lookup"><span data-stu-id="be180-214">In web roles, hello requests module automatically collects data about HTTP requests.</span></span> <span data-ttu-id="be180-215">Zobacz hello [przykładowe MVCWebRole](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService/MvcWebRole) przykłady tego, jak można zastąpić hello domyślne zachowanie kolekcji.</span><span class="sxs-lookup"><span data-stu-id="be180-215">See hello [sample MVCWebRole](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService/MvcWebRole) for examples of how you can override hello default collection behavior.</span></span> 

<span data-ttu-id="be180-216">Można przechwytywać hello wydajności wywołania tooworker ról śledząc w hello tak samo jak żądania HTTP.</span><span class="sxs-lookup"><span data-stu-id="be180-216">You can capture hello performance of calls tooworker roles by tracking them in hello same way as HTTP requests.</span></span> <span data-ttu-id="be180-217">W usłudze Application Insights typ telemetrii żądania hello mierzy jednostki o nazwie pracy po stronie serwera, który może upłynął i niezależnie można powodzenie lub niepowodzenie.</span><span class="sxs-lookup"><span data-stu-id="be180-217">In Application Insights, hello Request telemetry type measures a unit of named server-side work that can be timed and can independently succeed or fail.</span></span> <span data-ttu-id="be180-218">Podczas żądania HTTP są automatycznie przechwycone przez hello zestawu SDK, można wstawić kodu tootrack żądań tooworker role.</span><span class="sxs-lookup"><span data-stu-id="be180-218">While HTTP requests are captured automatically by hello SDK, you can insert your own code tootrack requests tooworker roles.</span></span>

<span data-ttu-id="be180-219">Zobacz hello dwa przykładowe procesu roboczego ról instrumentowanych tooreport żądania: [WorkerRoleA](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService/WorkerRoleA) i [WorkerRoleB](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService/WorkerRoleB)</span><span class="sxs-lookup"><span data-stu-id="be180-219">See hello two sample worker roles instrumented tooreport requests: [WorkerRoleA](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService/WorkerRoleA) and [WorkerRoleB](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService/WorkerRoleB)</span></span>

## <a name="exceptions"></a><span data-ttu-id="be180-220">Wyjątki</span><span class="sxs-lookup"><span data-stu-id="be180-220">Exceptions</span></span>
<span data-ttu-id="be180-221">Zobacz [Monitoring Exceptions in Application Insights](app-insights-asp-net-exceptions.md) (Monitorowanie wyjątków w usłudze Application Insights), aby uzyskać informacje, w jaki sposób możesz gromadzić nieobsługiwane wyjątki z różnych typów aplikacji sieci Web.</span><span class="sxs-lookup"><span data-stu-id="be180-221">See [Monitoring Exceptions in Application Insights](app-insights-asp-net-exceptions.md) for information on how you can collect unhandled exceptions from different web application types.</span></span>

<span data-ttu-id="be180-222">rola sieci web przykładowej Hello ma MVC5 i Web API 2 kontrolerów.</span><span class="sxs-lookup"><span data-stu-id="be180-222">hello sample web role has MVC5 and Web API 2 controllers.</span></span> <span data-ttu-id="be180-223">Witaj nieobsłużonych wyjątków z dwoma hello są przechwytywane z hello następujące programy obsługi:</span><span class="sxs-lookup"><span data-stu-id="be180-223">hello unhandled exceptions from hello two are captured with hello following handlers:</span></span>

* <span data-ttu-id="be180-224">[AiHandleErrorAttribute](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/Telemetry/AiHandleErrorAttribute.cs) konfigurowanego [tutaj](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/App_Start/FilterConfig.cs#L12) dla kontrolerów MVC5</span><span class="sxs-lookup"><span data-stu-id="be180-224">[AiHandleErrorAttribute](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/Telemetry/AiHandleErrorAttribute.cs) set up [here](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/App_Start/FilterConfig.cs#L12) for MVC5 controllers</span></span>
* <span data-ttu-id="be180-225">[AiWebApiExceptionLogger](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/Telemetry/AiWebApiExceptionLogger.cs) konfigurowanego [tutaj](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/App_Start/WebApiConfig.cs#L25) dla kontrolerów Web API 2</span><span class="sxs-lookup"><span data-stu-id="be180-225">[AiWebApiExceptionLogger](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/Telemetry/AiWebApiExceptionLogger.cs) set up [here](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/App_Start/WebApiConfig.cs#L25) for Web API 2 controllers</span></span>

<span data-ttu-id="be180-226">Dla roli proces roboczy istnieją dwa sposoby tootrack wyjątki:</span><span class="sxs-lookup"><span data-stu-id="be180-226">For worker roles, there are two ways tootrack exceptions:</span></span>

* <span data-ttu-id="be180-227">TrackException(ex)</span><span class="sxs-lookup"><span data-stu-id="be180-227">TrackException(ex)</span></span>
* <span data-ttu-id="be180-228">Jeśli dodano pakiet NuGet odbiornika śledzenia usługi Application Insights hello, możesz użyć **System.Diagnostics.Trace** toolog wyjątków.</span><span class="sxs-lookup"><span data-stu-id="be180-228">If you have added hello Application Insights trace listener NuGet package, you can use **System.Diagnostics.Trace** toolog exceptions.</span></span> [<span data-ttu-id="be180-229">Przykładowy kod.</span><span class="sxs-lookup"><span data-stu-id="be180-229">Code example.</span></span>](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/WorkerRoleA.cs#L107)

## <a name="performance-counters"></a><span data-ttu-id="be180-230">Liczniki wydajności</span><span class="sxs-lookup"><span data-stu-id="be180-230">Performance Counters</span></span>
<span data-ttu-id="be180-231">Domyślnie są zbierane Hello następujące liczniki:</span><span class="sxs-lookup"><span data-stu-id="be180-231">hello following counters are collected by default:</span></span>

    * <span data-ttu-id="be180-232">\Process(??. APP_WIN32_PROC??)\% Czas procesora</span><span class="sxs-lookup"><span data-stu-id="be180-232">\Process(??APP_WIN32_PROC??)\% Processor Time</span></span>
    * <span data-ttu-id="be180-233">\Memory\Available Bytes</span><span class="sxs-lookup"><span data-stu-id="be180-233">\Memory\Available Bytes</span></span>
    * <span data-ttu-id="be180-234">\.NET CLR Exceptions(??APP_CLR_PROC??)\# of Exceps Thrown / sec</span><span class="sxs-lookup"><span data-stu-id="be180-234">\.NET CLR Exceptions(??APP_CLR_PROC??)\# of Exceps Thrown / sec</span></span>
    * <span data-ttu-id="be180-235">\Process(??APP_WIN32_PROC??)\Private Bytes</span><span class="sxs-lookup"><span data-stu-id="be180-235">\Process(??APP_WIN32_PROC??)\Private Bytes</span></span>
    * <span data-ttu-id="be180-236">\Process(??APP_WIN32_PROC??)\IO Data Bytes/sec</span><span class="sxs-lookup"><span data-stu-id="be180-236">\Process(??APP_WIN32_PROC??)\IO Data Bytes/sec</span></span>
    * <span data-ttu-id="be180-237">\Processor(_Total)\% Processor Time</span><span class="sxs-lookup"><span data-stu-id="be180-237">\Processor(_Total)\% Processor Time</span></span>

<span data-ttu-id="be180-238">Następujące liczniki są również zbierane dla ról sieci Web:</span><span class="sxs-lookup"><span data-stu-id="be180-238">For web roles, these counters are also collected:</span></span>

    * <span data-ttu-id="be180-239">\ASP.NET Applications(??APP_W3SVC_PROC??)\Requests/Sec</span><span class="sxs-lookup"><span data-stu-id="be180-239">\ASP.NET Applications(??APP_W3SVC_PROC??)\Requests/Sec</span></span>
    * <span data-ttu-id="be180-240">\ASP.NET Applications(??APP_W3SVC_PROC??)\Request Execution Time</span><span class="sxs-lookup"><span data-stu-id="be180-240">\ASP.NET Applications(??APP_W3SVC_PROC??)\Request Execution Time</span></span>
    * <span data-ttu-id="be180-241">\ASP.NET Applications(??APP_W3SVC_PROC??)\Requests In Application Queue</span><span class="sxs-lookup"><span data-stu-id="be180-241">\ASP.NET Applications(??APP_W3SVC_PROC??)\Requests In Application Queue</span></span>

<span data-ttu-id="be180-242">Możesz określić dodatkowe niestandardowe lub inne liczniki wydajności systemu Windows, edytując plik ApplicationInsights.config [jak w poniższym przykładzie](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/ApplicationInsights.config#L14).</span><span class="sxs-lookup"><span data-stu-id="be180-242">You can specify additional custom or other windows performance counters by editing ApplicationInsights.config [as in this example](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/ApplicationInsights.config#L14).</span></span>

  ![Liczniki wydajności](./media/app-insights-cloudservices/OLfMo2f.png)

## <a name="correlated-telemetry-for-worker-roles"></a><span data-ttu-id="be180-244">Skorelowana telemetria dla ról procesów roboczych</span><span class="sxs-lookup"><span data-stu-id="be180-244">Correlated Telemetry for Worker Roles</span></span>
<span data-ttu-id="be180-245">Po wyświetleniu jakiego spowodował tooa nie powiodło się lub duże opóźnienie żądania jest zaawansowane środowisko diagnostycznych.</span><span class="sxs-lookup"><span data-stu-id="be180-245">It is a rich diagnostic experience, when you can see what led tooa failed or high latency request.</span></span> <span data-ttu-id="be180-246">Z rolami sieci web powitalne SDK automatycznie konfiguruje korelacji między powiązanych danych telemetrii.</span><span class="sxs-lookup"><span data-stu-id="be180-246">With web roles, hello SDK automatically sets up correlation between related telemetry.</span></span> <span data-ttu-id="be180-247">Dla roli proces roboczy służy tooset inicjatora telemetria niestandardowa wspólnej atrybutu kontekstu Operation.Id dla wszystkich tooachieve telemetrii hello to.</span><span class="sxs-lookup"><span data-stu-id="be180-247">For worker roles, you can use a custom telemetry initializer tooset a common Operation.Id context attribute for all hello telemetry tooachieve this.</span></span> <span data-ttu-id="be180-248">Dzięki temu można toosee czy hello opóźnienia/niepowodzeń problem zostało wywołane tooa zależności lub kodu, w skrócie!</span><span class="sxs-lookup"><span data-stu-id="be180-248">This allows you toosee whether hello latency/failure issue was caused due tooa dependency or your code, at a glance!</span></span> 

<span data-ttu-id="be180-249">Oto kroki tej procedury:</span><span class="sxs-lookup"><span data-stu-id="be180-249">Here's how:</span></span>

* <span data-ttu-id="be180-250">Ustaw hello korelacji identyfikator do parametr CallContext, jak pokazano [tutaj](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/WorkerRoleA.cs#L36).</span><span class="sxs-lookup"><span data-stu-id="be180-250">Set hello correlation Id into a CallContext as shown [here](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/WorkerRoleA.cs#L36).</span></span> <span data-ttu-id="be180-251">W tym przypadku użyto hello identyfikator żądania jako identyfikator korelacji hello</span><span class="sxs-lookup"><span data-stu-id="be180-251">In this case, we are using hello Request ID as hello correlation id</span></span>
* <span data-ttu-id="be180-252">Dodawanie niestandardowej implementacji TelemetryInitializer tooset hello Operation.Id toohello correlationId powyżej.</span><span class="sxs-lookup"><span data-stu-id="be180-252">Add a custom TelemetryInitializer implementation, tooset hello Operation.Id toohello correlationId set above.</span></span> <span data-ttu-id="be180-253">Tutaj znajduje się przykład: [ItemCorrelationTelemetryInitializer](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/Telemetry/ItemCorrelationTelemetryInitializer.cs#L13)</span><span class="sxs-lookup"><span data-stu-id="be180-253">There's an example here: [ItemCorrelationTelemetryInitializer](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/Telemetry/ItemCorrelationTelemetryInitializer.cs#L13)</span></span>
* <span data-ttu-id="be180-254">Dodaj hello telemetria niestandardowa inicjatora.</span><span class="sxs-lookup"><span data-stu-id="be180-254">Add hello custom telemetry initializer.</span></span> <span data-ttu-id="be180-255">Możesz to zrobić w pliku ApplicationInsights.config hello lub kod przedstawiony [tutaj](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/WorkerRoleA.cs#L233)</span><span class="sxs-lookup"><span data-stu-id="be180-255">You could do that in hello ApplicationInsights.config file, or in code as shown [here](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/WorkerRoleA.cs#L233)</span></span>

<span data-ttu-id="be180-256">Gotowe.</span><span class="sxs-lookup"><span data-stu-id="be180-256">That's it!</span></span> <span data-ttu-id="be180-257">środowisko portalu Hello jest już sieci przewodowej się toohelp Zobacz wszystkie skojarzone dane telemetryczne w skrócie:</span><span class="sxs-lookup"><span data-stu-id="be180-257">hello portal experience is already wired up toohelp you see all associated telemetry at a glance:</span></span>

![Skorelowana telemetria](./media/app-insights-cloudservices/bHxuUhd.png)

## <a name="client-telemetry"></a><span data-ttu-id="be180-259">Telemetria klienta</span><span class="sxs-lookup"><span data-stu-id="be180-259">Client telemetry</span></span>
<span data-ttu-id="be180-260">[Dodaj hello stron sieci web tooyour JavaScript SDK] [ client] tooget telemetrii przeglądarki, takich jak liczby widoku strony, czas ładowania strony wyjątków skryptów i toolet zapisu telemetria niestandardowa w skryptach strony.</span><span class="sxs-lookup"><span data-stu-id="be180-260">[Add hello JavaScript SDK tooyour web pages][client] tooget browser-based telemetry such as page view counts, page load times, script exceptions, and toolet you write custom telemetry in your page scripts.</span></span>

## <a name="availability-tests"></a><span data-ttu-id="be180-261">Testy dostępności</span><span class="sxs-lookup"><span data-stu-id="be180-261">Availability tests</span></span>
<span data-ttu-id="be180-262">[Ustawianie testów sieci web] [ availability] toomake się, że aplikacja pozostaje na żywo i szybko reagowały.</span><span class="sxs-lookup"><span data-stu-id="be180-262">[Set up web tests][availability] toomake sure your application stays live and responsive.</span></span>

## <a name="display-everything-together"></a><span data-ttu-id="be180-263">Wyświetlanie wszystkich elementów razem</span><span class="sxs-lookup"><span data-stu-id="be180-263">Display everything together</span></span>
<span data-ttu-id="be180-264">tooget ogólny obraz systemu, można przełączyć klucza hello monitorowania wykresy razem na jednej [pulpitu nawigacyjnego](app-insights-dashboards.md).</span><span class="sxs-lookup"><span data-stu-id="be180-264">tooget an overall picture of your system, you can bring hello key monitoring charts together on one [dashboard](app-insights-dashboards.md).</span></span> <span data-ttu-id="be180-265">Na przykład można przypiąć hello żądania i liczby awarii poszczególnych ról.</span><span class="sxs-lookup"><span data-stu-id="be180-265">For example, you could pin hello request and failure counts of each role.</span></span> 

<span data-ttu-id="be180-266">Jeśli system używa innych usług platformy Azure, takich jak Stream Analytics, należy również uwzględnić wykresy ich monitorowania.</span><span class="sxs-lookup"><span data-stu-id="be180-266">If your system uses other Azure services such as Stream Analytics, include their monitoring charts as well.</span></span> 

<span data-ttu-id="be180-267">Jeśli klient aplikacji mobilnej, Wstaw niektóre zdarzenia niestandardowe toosend kodu dla operacji klucza użytkowników i Utwórz [Mostek HockeyApp](app-insights-hockeyapp-bridge-app.md).</span><span class="sxs-lookup"><span data-stu-id="be180-267">If you have a client mobile app, insert some code toosend custom events on key user operations, and create a [HockeyApp bridge](app-insights-hockeyapp-bridge-app.md).</span></span> <span data-ttu-id="be180-268">Tworzenie zapytań w programie [Analytics](app-insights-analytics.md) toodisplay hello liczby zdarzeń i przypiąć je toohello pulpitu nawigacyjnego.</span><span class="sxs-lookup"><span data-stu-id="be180-268">Create queries in [Analytics](app-insights-analytics.md) toodisplay hello event counts, and pin them toohello dashboard.</span></span>

## <a name="example"></a><span data-ttu-id="be180-269">Przykład</span><span class="sxs-lookup"><span data-stu-id="be180-269">Example</span></span>
<span data-ttu-id="be180-270">[przykład Witaj](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService) monitoruje usługi, która ma rolę sieci web i dwie role proces roboczy.</span><span class="sxs-lookup"><span data-stu-id="be180-270">[hello example](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService) monitors a service that has a web role and two worker roles.</span></span>

## <a name="exception-method-not-found-on-running-in-azure-cloud-services"></a><span data-ttu-id="be180-271">Wyjątek „nie można odnaleźć metody” podczas uruchamiania w usługach Azure Cloud Services</span><span class="sxs-lookup"><span data-stu-id="be180-271">Exception "method not found" on running in Azure Cloud Services</span></span>
<span data-ttu-id="be180-272">Czy to kompilacja dla .NET 4.6?</span><span class="sxs-lookup"><span data-stu-id="be180-272">Did you build for .NET 4.6?</span></span> <span data-ttu-id="be180-273">Wersja 4.6 nie jest automatycznie obsługiwana w rolach usług Azure Cloud Services.</span><span class="sxs-lookup"><span data-stu-id="be180-273">4.6 is not automatically supported in Azure Cloud Services roles.</span></span> <span data-ttu-id="be180-274">[Zainstaluj wersję 4.6 w każdej roli](../cloud-services/cloud-services-dotnet-install-dotnet.md) przed uruchomieniem aplikacji.</span><span class="sxs-lookup"><span data-stu-id="be180-274">[Install 4.6 on each role](../cloud-services/cloud-services-dotnet-install-dotnet.md) before running your app.</span></span>

## <a name="video"></a><span data-ttu-id="be180-275">Połączenia wideo</span><span class="sxs-lookup"><span data-stu-id="be180-275">Video</span></span>

> [!VIDEO https://channel9.msdn.com/events/Connect/2016/100/player]

## <a name="next-steps"></a><span data-ttu-id="be180-276">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="be180-276">Next steps</span></span>
* [<span data-ttu-id="be180-277">Skonfiguruj wysyłanie Insights tooApplication diagnostyki Azure</span><span class="sxs-lookup"><span data-stu-id="be180-277">Configure sending Azure Diagnostics tooApplication Insights</span></span>](app-insights-azure-diagnostics.md)
* [<span data-ttu-id="be180-278">Automatyczne tworzenie zasobów usługi Application Insights</span><span class="sxs-lookup"><span data-stu-id="be180-278">Automate creation of Application Insights resources</span></span>](app-insights-powershell.md)
* [<span data-ttu-id="be180-279">Automatyzacja usługi Diagnostyka Azure</span><span class="sxs-lookup"><span data-stu-id="be180-279">Automate Azure diagnostics</span></span>](app-insights-powershell-azure-diagnostics.md)
* [<span data-ttu-id="be180-280">Azure Functions</span><span class="sxs-lookup"><span data-stu-id="be180-280">Azure Functions</span></span>](https://github.com/christopheranderson/azure-functions-app-insights-sample)

[api]: app-insights-api-custom-events-metrics.md
[availability]: app-insights-monitor-web-app-availability.md
[azure]: app-insights-azure.md
[client]: app-insights-javascript.md
[diagnostic]: app-insights-diagnostic-search.md
[netlogs]: app-insights-asp-net-trace-logs.md
[portal]: http://portal.azure.com/
[qna]: app-insights-troubleshoot-faq.md
[redfield]: app-insights-monitor-performance-live-website-now.md
[start]: app-insights-overview.md 
