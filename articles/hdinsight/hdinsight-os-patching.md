---
title: "Harmonogram stosowania poprawek aaaConfigure systemu operacyjnego dla opartych na systemie Linux klastrów usługi HDInsight - Azure | Dokumentacja firmy Microsoft"
description: "Dowiedz się, jak harmonogram stosowania poprawek tooconfigure systemu operacyjnego dla usługi HDInsight opartej na systemie Linux klastrów."
services: hdinsight
documentationcenter: 
author: bprakash
manager: asadk
editor: bprakash
ms.assetid: 
ms.service: hdinsight
ms.custom: hdinsightactive
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 03/21/2017
ms.author: bhanupr
ms.openlocfilehash: 1598d64e594d7e8a68573fc63dd86051a5a9d025
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="os-patching-for-hdinsight"></a><span data-ttu-id="2c880-103">Poprawki dla usługi HDInsight systemu operacyjnego</span><span class="sxs-lookup"><span data-stu-id="2c880-103">OS patching for HDInsight</span></span> 
<span data-ttu-id="2c880-104">Jako zarządzanej usługi Hadoop HDInsight zapewnia obsługę poprawki hello systemu operacyjnego hello podstawowej maszyn wirtualnych używanych przez klastry usługi HDInsight.</span><span class="sxs-lookup"><span data-stu-id="2c880-104">As a managed Hadoop service, HDInsight takes care of patching hello OS of hello underlying VMs used by HDInsight clusters.</span></span> <span data-ttu-id="2c880-105">Począwszy od 1 sierpnia 2016 zmieniono zasady stosowania poprawek systemu operacyjnego gościa powitania dla opartych na systemie Linux klastrów usługi HDInsight (w wersji 3.4 lub nowszej).</span><span class="sxs-lookup"><span data-stu-id="2c880-105">As of August 1, 2016, we have changed hello guest OS patching policy for Linux-based HDInsight clusters (version 3.4 or greater).</span></span> <span data-ttu-id="2c880-106">Celem Hello hello nowych zasad jest toosignificantly zmniejszyć hello liczby ponownych uruchomień komputera toopatching ukończenia.</span><span class="sxs-lookup"><span data-stu-id="2c880-106">hello goal of hello new policy is toosignificantly reduce hello number of reboots due toopatching.</span></span> <span data-ttu-id="2c880-107">Witaj nowych zasad będą nadal toopatch maszynach wirtualnych (VM) w systemie Linux klastrów każdego poniedziałek i czwartek, zaczynając od 00: 00 czasu UTC, w sposób rozłożone w węzłach żadnego danego klastra.</span><span class="sxs-lookup"><span data-stu-id="2c880-107">hello new policy will continue toopatch virtual machines (VMs) on Linux clusters every Monday or Thursday starting at 12AM UTC in a staggered fashion across nodes in any given cluster.</span></span> <span data-ttu-id="2c880-108">Jednak żadnej danej maszyny Wirtualnej zostanie uruchomiony tylko co najwyżej raz na 30 dni powodu poprawki tooguest systemu operacyjnego.</span><span class="sxs-lookup"><span data-stu-id="2c880-108">However, any given VM will only reboot at most once every 30 days due tooguest OS patching.</span></span> <span data-ttu-id="2c880-109">Ponadto hello ponownym nowo utworzony klaster nie nastąpi szybciej niż 30 dni od daty utworzenia hello klastra.</span><span class="sxs-lookup"><span data-stu-id="2c880-109">In addition, hello first reboot for a newly created cluster will not happen sooner than 30 days from hello cluster creation date.</span></span> <span data-ttu-id="2c880-110">Poprawki zostaną zastosowane po hello maszyny wirtualne są ponownie uruchamiane.</span><span class="sxs-lookup"><span data-stu-id="2c880-110">Patches will be effective once hello VMs are rebooted.</span></span>

## <a name="how-tooconfigure-hello-os-patching-schedule-for-linux-based-hdinsight-clusters"></a><span data-ttu-id="2c880-111">Jak tooconfigure hello harmonogram stosowania poprawek systemu operacyjnego dla klastrów usługi HDInsight opartych na systemie Linux</span><span class="sxs-lookup"><span data-stu-id="2c880-111">How tooconfigure hello OS patching schedule for Linux-based HDInsight clusters</span></span>
<span data-ttu-id="2c880-112">Witaj maszyny wirtualne w klastrze HDInsight muszą toobe od czasu do czasu ponownego uruchomienia, dzięki czemu można zainstalować poprawki zabezpieczeń ważne.</span><span class="sxs-lookup"><span data-stu-id="2c880-112">hello virtual machines in an HDInsight cluster need toobe rebooted occasionally so that important security patches can be installed.</span></span> <span data-ttu-id="2c880-113">Począwszy od 1 sierpnia 2016 nowych klastrów usługi HDInsight opartej na systemie Linux (w wersji 3.4 lub nowszego) są ponownie uruchamiane przy użyciu hello według harmonogramu:</span><span class="sxs-lookup"><span data-stu-id="2c880-113">As of August 1, 2016, new Linux-based HDInsight clusters (version 3.4 or greater,) are rebooted using hello following schedule:</span></span>

1. <span data-ttu-id="2c880-114">Maszyny wirtualnej w klastrze hello można tylko ponownego uruchomienia dla poprawek co najwyżej jeden raz w ciągu 30-dniowego okresu.</span><span class="sxs-lookup"><span data-stu-id="2c880-114">A virtual machine in hello cluster can only reboot for patches at most, once within a 30-day period.</span></span>
2. <span data-ttu-id="2c880-115">ponowne uruchomienie Hello występuje, zaczynając od 00: 00 czasu UTC.</span><span class="sxs-lookup"><span data-stu-id="2c880-115">hello reboot occurs starting at 12AM UTC.</span></span>
3. <span data-ttu-id="2c880-116">proces ponownego uruchomienia Hello jest rozłożona między maszynami wirtualnymi w klastrze hello, tak klastra hello jest nadal dostępny podczas procesu ponownego uruchomienia hello.</span><span class="sxs-lookup"><span data-stu-id="2c880-116">hello reboot process is staggered across virtual machines in hello cluster, so hello cluster is still available during hello reboot process.</span></span>
4. <span data-ttu-id="2c880-117">Witaj ponownym nowo utworzony klaster nie nastąpi szybciej niż 30 dni od daty utworzenia klastra hello.</span><span class="sxs-lookup"><span data-stu-id="2c880-117">hello first reboot for a newly created cluster will not happen sooner than 30 days after hello cluster creation date.</span></span>

<span data-ttu-id="2c880-118">Za pomocą akcji skryptu hello opisane w tym artykule, można zmodyfikować harmonogram stosowania poprawek hello systemu operacyjnego w następujący sposób:</span><span class="sxs-lookup"><span data-stu-id="2c880-118">Using hello script action described in this article, you can modify hello OS patching schedule as follows:</span></span>
1. <span data-ttu-id="2c880-119">Włącz lub wyłącz automatyczne ponowne uruchomienie</span><span class="sxs-lookup"><span data-stu-id="2c880-119">Enable or disable automatic reboots</span></span>
2. <span data-ttu-id="2c880-120">Ustaw częstotliwość hello rozruchu (w dniach od ponownego uruchomienia)</span><span class="sxs-lookup"><span data-stu-id="2c880-120">Set hello frequency of reboots (days between reboots)</span></span>
3. <span data-ttu-id="2c880-121">Ustaw hello dzień tygodnia powitania po wystąpieniu ponowny rozruch</span><span class="sxs-lookup"><span data-stu-id="2c880-121">Set hello day of hello week when a reboot occurs</span></span>

> [!NOTE]
> <span data-ttu-id="2c880-122">Ta akcja skryptu działa tylko z klastrami HDInsight opartych na systemie Linux utworzone po 1 sierpnia 2016.</span><span class="sxs-lookup"><span data-stu-id="2c880-122">This script action will only work with Linux-based HDInsight clusters created after August 1st, 2016.</span></span> <span data-ttu-id="2c880-123">Poprawki zostaną zastosowane tylko wtedy, gdy maszyny wirtualne są ponownie uruchamiane.</span><span class="sxs-lookup"><span data-stu-id="2c880-123">Patches will be effective only when VMs are rebooted.</span></span> 
>

## <a name="how-toouse-hello-script"></a><span data-ttu-id="2c880-124">Jak toouse hello skryptu</span><span class="sxs-lookup"><span data-stu-id="2c880-124">How toouse hello script</span></span> 

<span data-ttu-id="2c880-125">Kiedy za pomocą tego skryptu wymaga hello następujących informacji:</span><span class="sxs-lookup"><span data-stu-id="2c880-125">When using this script requires hello following information:</span></span>
1. <span data-ttu-id="2c880-126">Lokalizacja skryptu Hello: https://hdiconfigactions.blob.core.windows.net/linuxospatchingrebootconfigv01/os-patching-reboot-config.sh.  HDInsight używa tego identyfikatora URI toofind i uruchom skrypt hello na wszystkich maszynach wirtualnych hello hello klastra.</span><span class="sxs-lookup"><span data-stu-id="2c880-126">hello script location: https://hdiconfigactions.blob.core.windows.net/linuxospatchingrebootconfigv01/os-patching-reboot-config.sh.  HDInsight uses this URI toofind and run hello script on all hello virtual machines in hello cluster.</span></span>
  
2. <span data-ttu-id="2c880-127">typy węzłów klastra, zastosowane do skryptu hello Hello: headnode, workernode, dozorcy.</span><span class="sxs-lookup"><span data-stu-id="2c880-127">hello cluster node types that hello script is applied to: headnode, workernode, zookeeper.</span></span> <span data-ttu-id="2c880-128">Ten skrypt musi być zastosowany tooall typy węzłów w klastrze hello.</span><span class="sxs-lookup"><span data-stu-id="2c880-128">This script must be applied tooall node types in hello cluster.</span></span> <span data-ttu-id="2c880-129">Jeśli nie jest typu węzła tooa zastosowane, a następnie hello wirtualnej maszyny dla tego typu węzła będzie toouse hello poprzedni harmonogram stosowania poprawek.</span><span class="sxs-lookup"><span data-stu-id="2c880-129">If it is not applied tooa node type, then hello virtual machines for that node type will continue toouse hello previous patching schedule.</span></span>


3.  <span data-ttu-id="2c880-130">Parametr: Ten skrypt akceptuje trzy parametry liczbowe:</span><span class="sxs-lookup"><span data-stu-id="2c880-130">Parameter: This script accepts three numeric parameters:</span></span>

    | <span data-ttu-id="2c880-131">Parametr</span><span class="sxs-lookup"><span data-stu-id="2c880-131">Parameter</span></span> | <span data-ttu-id="2c880-132">Definicja</span><span class="sxs-lookup"><span data-stu-id="2c880-132">Definition</span></span> |
    | --- | --- |
    | <span data-ttu-id="2c880-133">Włączanie/wyłączanie automatycznego ponownego uruchamiania</span><span class="sxs-lookup"><span data-stu-id="2c880-133">Enable/disable automatic reboots</span></span> |<span data-ttu-id="2c880-134">0 lub 1.</span><span class="sxs-lookup"><span data-stu-id="2c880-134">0 or 1.</span></span> <span data-ttu-id="2c880-135">Wartość 0 wyłącza automatyczne ponowne uruchomienie, gdy 1 umożliwia automatyczne ponowne uruchomienie.</span><span class="sxs-lookup"><span data-stu-id="2c880-135">A value of 0 disables automatic reboots while 1 enables automatic reboots.</span></span> |
    | <span data-ttu-id="2c880-136">częstotliwość</span><span class="sxs-lookup"><span data-stu-id="2c880-136">Frequency</span></span> |<span data-ttu-id="2c880-137">too90 7 (włącznie).</span><span class="sxs-lookup"><span data-stu-id="2c880-137">7 too90 (inclusive).</span></span> <span data-ttu-id="2c880-138">Liczba Hello toowait dni przed ponownym rozruchem hello maszyn wirtualnych do poprawki, które wymagają ponownego uruchomienia komputera.</span><span class="sxs-lookup"><span data-stu-id="2c880-138">hello number of days toowait before rebooting hello virtual machines for patches that require a reboot.</span></span> |
    | <span data-ttu-id="2c880-139">Dzień tygodnia</span><span class="sxs-lookup"><span data-stu-id="2c880-139">Day of week</span></span> |<span data-ttu-id="2c880-140">1 too7 (włącznie).</span><span class="sxs-lookup"><span data-stu-id="2c880-140">1 too7 (inclusive).</span></span> <span data-ttu-id="2c880-141">Wartość 1 oznacza ponowny rozruch hello powinna wystąpić w poniedziałek i 7 wskazuje przykładzie Sunday.For przy użyciu parametrów 2 60 1 powoduje automatyczne ponowne uruchomienie co 60 dni (maksymalnie) wtorek.</span><span class="sxs-lookup"><span data-stu-id="2c880-141">A value of 1 indicates hello reboot should occur on a Monday, and 7 indicates a Sunday.For example, using parameters of 1 60 2 results in automatic reboots every 60 days (at most) on Tuesday.</span></span> |
    | <span data-ttu-id="2c880-142">Trwałość</span><span class="sxs-lookup"><span data-stu-id="2c880-142">Persistence</span></span> |<span data-ttu-id="2c880-143">Podczas stosowania istniejącego klastra tooan akcji skryptu, skrypt hello mogą zostać oznaczone jako utrwalone.</span><span class="sxs-lookup"><span data-stu-id="2c880-143">When applying a script action tooan existing cluster, you can mark hello script as persisted.</span></span> <span data-ttu-id="2c880-144">Utrwalonych skryptów są stosowane po dodaniu nowego workernodes toohello klastra za pomocą operacji skalowania.</span><span class="sxs-lookup"><span data-stu-id="2c880-144">Persisted scripts are applied when new workernodes are added toohello cluster through scaling operations.</span></span> |

> [!NOTE]
> <span data-ttu-id="2c880-145">Ten skrypt musi zostać oznaczone jako zachowywane w przypadku stosowania tooan istniejącego klastra.</span><span class="sxs-lookup"><span data-stu-id="2c880-145">You must mark this script as persisted when applying tooan existing cluster.</span></span> <span data-ttu-id="2c880-146">W przeciwnym razie wszelkie nowe węzły został utworzony za pomocą operacji skalowania użyje domyślnego hello poprawki harmonogramu.</span><span class="sxs-lookup"><span data-stu-id="2c880-146">Otherwise, any new nodes created through scaling      operations will use hello default patching schedule.</span></span>
<span data-ttu-id="2c880-147">Jeśli stosujesz hello skryptu w ramach procesu tworzenia klastra hello jest trwały automatycznie.</span><span class="sxs-lookup"><span data-stu-id="2c880-147">If you apply hello script as part of hello cluster creation process, it is persisted automatically.</span></span>
>

## <a name="next-steps"></a><span data-ttu-id="2c880-148">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="2c880-148">Next steps</span></span>

<span data-ttu-id="2c880-149">Do wykonania określonych kroków przy użyciu akcji skryptu hello, zobacz następujące sekcje w hello hello [klastrów usługi HDInsight opartej na Linuz dostosować za pomocą akcji skryptu](hdinsight-hadoop-customize-cluster-linux.md):</span><span class="sxs-lookup"><span data-stu-id="2c880-149">For specific steps on using hello script action, see hello following sections in hello [Customize Linuz-based HDInsight clusters using script action](hdinsight-hadoop-customize-cluster-linux.md):</span></span>

* [<span data-ttu-id="2c880-150">Za pomocą akcji skryptu, podczas tworzenia klastra</span><span class="sxs-lookup"><span data-stu-id="2c880-150">Use a script action during cluster creation</span></span>](hdinsight-hadoop-customize-cluster-linux.md#use-a-script-action-during-cluster-creation)
* [<span data-ttu-id="2c880-151">Zastosuj tooa akcji skryptu, z klastra</span><span class="sxs-lookup"><span data-stu-id="2c880-151">Apply a script action tooa running cluster</span></span>](hdinsight-hadoop-customize-cluster-linux.md#apply-a-script-action-to-a-running-cluster)
