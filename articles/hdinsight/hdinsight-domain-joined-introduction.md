---
title: "Zabezpieczenia usługi Hadoop — klastry usługi HDInsight przyłączone do domeny — Azure | Microsoft Docs"
description: "Dowiedz się..."
services: hdinsight
documentationcenter: 
author: saurinsh
manager: jhubbard
editor: cgronlun
tags: azure-portal
ms.assetid: 7dc6847d-10d4-4b5c-9c83-cc513cf91965
ms.service: hdinsight
ms.custom: hdinsightactive
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 10/31/2016
ms.author: saurinsh
ms.openlocfilehash: 303be1d303df8074283cb1d37c74923cca80ae59
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 08/29/2017
---
# <a name="an-introduction-to-hadoop-security-with-domain-joined-hdinsight-clusters-preview"></a><span data-ttu-id="d170f-103">Wprowadzenie do zabezpieczeń usługi Hadoop z przyłączonymi do domeny klastrami usługi HDInsight (wersja zapoznawcza)</span><span class="sxs-lookup"><span data-stu-id="d170f-103">An introduction to Hadoop security with domain-joined HDInsight clusters (Preview)</span></span>

<span data-ttu-id="d170f-104">Do tej pory usługa Azure HDInsight obsługiwała tylko jednego użytkownika z uprawnieniami lokalnego administratora. Bardzo dobrze funkcjonowało to dla mniejszych zespołów aplikacji lub działów.</span><span class="sxs-lookup"><span data-stu-id="d170f-104">Azure HDInsight until today supported only a single user local admin. This worked great for smaller application teams or departments.</span></span> <span data-ttu-id="d170f-105">W miarę zwiększania popularności obciążeń opartych na usłudze Hadoop w sektorze przedsiębiorstw potrzeba dysponowania funkcjami klasy korporacyjnej, takimi jak uwierzytelnianie w oparciu o usługę Active Directory, obsługa wielu użytkowników oraz kontrola dostępu oparta na rolach, staje się coraz ważniejsza.</span><span class="sxs-lookup"><span data-stu-id="d170f-105">As Hadoop based workloads gained more popularity in the enterprise sector, the need for enterprise grade capabilities like active directory based authentication, multi-user support, and role based access control became increasingly important.</span></span> <span data-ttu-id="d170f-106">Za pomocą przyłączonych do domeny klastrów usługi HDInsight można utworzyć klaster usługi HDInsight przyłączony do domeny usługi Active Directory i skonfigurować listę pracowników przedsiębiorstwa, którzy mogą uwierzytelniać się za pomocą usługi Azure Active Directory podczas logowania się do klastra usługi HDInsight.</span><span class="sxs-lookup"><span data-stu-id="d170f-106">Using Domain-joined HDInsight clusters, you can create an HDInsight cluster joined to an Active Directory domain, configure a list of employees from the enterprise who can authenticate through Azure Active Directory to log on to HDInsight cluster.</span></span> <span data-ttu-id="d170f-107">Żadna osoba spoza przedsiębiorstwa nie może zalogować się lub uzyskać dostępu do klastra usługi HDInsight.</span><span class="sxs-lookup"><span data-stu-id="d170f-107">Anyone outside the enterprise cannot log on or access the HDInsight cluster.</span></span> <span data-ttu-id="d170f-108">Administrator w przedsiębiorstwie może skonfigurować kontrolę dostępu opartą na rolach dla zabezpieczeń Hive przy użyciu środowiska [Apache Ranger](http://hortonworks.com/apache/ranger/), ograniczając w ten sposób dostęp do danych tylko do niezbędnego zakresu.</span><span class="sxs-lookup"><span data-stu-id="d170f-108">The enterprise admin can configure role based access control for Hive security using [Apache Ranger](http://hortonworks.com/apache/ranger/), thus restricting access to data to only as much as needed.</span></span> <span data-ttu-id="d170f-109">Poza tym administrator może przeprowadzać inspekcje dostępu do danych przez pracowników oraz wszystkich zmian w zasadach kontroli dostępu, osiągając w ten sposób wysoki poziom nadzoru nad zasobami firmy.</span><span class="sxs-lookup"><span data-stu-id="d170f-109">Finally, the admin can audit the data access by employees, and any changes done to access control policies, thus achieving a high degree of governance of their corporate resources.</span></span>

> [!NOTE]
> <span data-ttu-id="d170f-110">Nowe funkcje opisane w tej wersji zapoznawczej są dostępne tylko w klastrach usługi HDInsight opartych na systemie Linux w odniesieniu do obciążenia Hive.</span><span class="sxs-lookup"><span data-stu-id="d170f-110">The new features described in this preview are available only on Linux-based HDInsight clusters for Hive workload.</span></span> <span data-ttu-id="d170f-111">Inne obciążenia, takie jak HBase, Spark, Storm i Kafka, zostaną włączone w przyszłych wersjach.</span><span class="sxs-lookup"><span data-stu-id="d170f-111">The other workloads, such as HBase, Spark, Storm and Kafka, will be enabled in future releases.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="d170f-112">Oozie nie jest włączona w usłudze HDInsight z przyłączonych do domeny.</span><span class="sxs-lookup"><span data-stu-id="d170f-112">Oozie is not enabled on domain-joined HDInsight.</span></span>

## <a name="benefits"></a><span data-ttu-id="d170f-113">Korzyści</span><span class="sxs-lookup"><span data-stu-id="d170f-113">Benefits</span></span>
<span data-ttu-id="d170f-114">Na zabezpieczenia przedsiębiorstwa składają się cztery wielkie filary — zabezpieczenia brzegowe, uwierzytelnianie, autoryzacja i szyfrowanie.</span><span class="sxs-lookup"><span data-stu-id="d170f-114">Enterprise Security contains four big pillars – Perimeter Security, Authentication, Authorization, and Encryption.</span></span>

![Filary korzyści z zastosowania przyłączonych do domeny klastrów usługi HDInsight](./media/hdinsight-domain-joined-introduction/hdinsight-domain-joined-four-pillars.png)<span data-ttu-id="d170f-116">.</span><span class="sxs-lookup"><span data-stu-id="d170f-116">.</span></span>

### <a name="perimeter-security"></a><span data-ttu-id="d170f-117">Zabezpieczenia brzegowe</span><span class="sxs-lookup"><span data-stu-id="d170f-117">Perimeter Security</span></span>
<span data-ttu-id="d170f-118">Zabezpieczenia brzegowe w usłudze HDInsight są realizowane za pomocą sieci wirtualnych i usługi bramy.</span><span class="sxs-lookup"><span data-stu-id="d170f-118">Perimeter security in HDInsight is achieved using virtual networks and Gateway service.</span></span> <span data-ttu-id="d170f-119">Obecnie administrator przedsiębiorstwa może utworzyć klaster usługi HDInsight wewnątrz sieci wirtualnej i wykorzystać grupy zabezpieczeń sieci (reguły zapory dla ruchu przychodzącego lub wychodzącego) do ograniczenia dostępu do sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="d170f-119">Today, an enterprise admin can create an HDInsight cluster inside a virtual network and use Network Security Groups (inbound or outbound firewall rules) to restrict access to the virtual network.</span></span> <span data-ttu-id="d170f-120">Tylko adresy IP określone w regułach zapory dla ruchu przychodzącego będą mogły nawiązać połączenia z klastrem usługi HDInsight, zapewniając w ten sposób działanie zabezpieczeń brzegowych.</span><span class="sxs-lookup"><span data-stu-id="d170f-120">Only the IP addresses defined in the inbound firewall rules will be able to communicate with the HDInsight cluster, thus providing perimeter security.</span></span> <span data-ttu-id="d170f-121">Inna warstwa zabezpieczeń brzegowych jest realizowana przy użyciu usługi bramy.</span><span class="sxs-lookup"><span data-stu-id="d170f-121">Another layer of perimeter security is achieved using Gateway service.</span></span> <span data-ttu-id="d170f-122">Brama to usługa, która działa jako pierwsza linia obrony w przypadku wszystkich żądań przychodzących do klastra usługi HDInsight.</span><span class="sxs-lookup"><span data-stu-id="d170f-122">The Gateway is the service which acts as first line of defense for any incoming request to the HDInsight cluster.</span></span> <span data-ttu-id="d170f-123">Akceptuje żądanie, sprawdza jego poprawność, a następnie zezwala na przekazanie go do innych węzłów w klastrze, zapewniając w ten sposób zabezpieczenia brzegowe dla innych węzłów nazw i danych w klastrze.</span><span class="sxs-lookup"><span data-stu-id="d170f-123">It accepts the request, validates it and only then allows the request to pass to the other nodes in cluster, thus providing perimeter security to other name and data nodes in the cluster.</span></span>

### <a name="authentication"></a><span data-ttu-id="d170f-124">Authentication</span><span class="sxs-lookup"><span data-stu-id="d170f-124">Authentication</span></span>
<span data-ttu-id="d170f-125">W tej publicznej wersji zapoznawczej administrator przedsiębiorstwa może udostępnić przyłączony do domeny klaster usługi HDInsight w [sieci wirtualnej](https://azure.microsoft.com/services/virtual-network/).</span><span class="sxs-lookup"><span data-stu-id="d170f-125">With this public preview, an enterprise admin can provision a Domain-joined HDInsight cluster, in a [virtual network](https://azure.microsoft.com/services/virtual-network/).</span></span> <span data-ttu-id="d170f-126">Węzły klastra usługi HDInsight zostaną dołączone do domeny zarządzanej przez przedsiębiorstwo.</span><span class="sxs-lookup"><span data-stu-id="d170f-126">The nodes of the HDInsight cluster will be joined to the domain managed by the enterprise.</span></span> <span data-ttu-id="d170f-127">Jest to realizowane poprzez użycie [usług Azure Active Directory Domain Services](../active-directory-domain-services/active-directory-ds-overview.md).</span><span class="sxs-lookup"><span data-stu-id="d170f-127">This is achieved through use of [Azure Active Directory Domain Services](../active-directory-domain-services/active-directory-ds-overview.md).</span></span> <span data-ttu-id="d170f-128">Wszystkie węzły w klastrze są przyłączone do domeny, którą zarządza przedsiębiorstwo.</span><span class="sxs-lookup"><span data-stu-id="d170f-128">All the nodes in the cluster are joined to a domain that the enterprise manages.</span></span> <span data-ttu-id="d170f-129">W przypadku takiej konfiguracji pracownicy przedsiębiorstwa mogą logować się do węzłów klastra przy użyciu poświadczeń domeny.</span><span class="sxs-lookup"><span data-stu-id="d170f-129">With this setup, the enterprise employees can log on to the cluster nodes using their domain credentials.</span></span> <span data-ttu-id="d170f-130">Mogą również korzystać z poświadczeń domeny w celu uwierzytelniania za pomocą innych zatwierdzonych punktów końcowych, takich jak Hue, Ambari Views, ODBC, JDBC, PowerShell i interfejsy API REST do interakcji z klastrem.</span><span class="sxs-lookup"><span data-stu-id="d170f-130">They can also use their domain credentials to authenticate with other approved endpoints like Hue, Ambari Views, ODBC, JDBC, PowerShell and REST APIs to interact with the cluster.</span></span> <span data-ttu-id="d170f-131">Administrator ma pełną kontrolę nad ograniczaniem liczby użytkowników wchodzących w interakcję z klastrem za pośrednictwem tych punktów końcowych.</span><span class="sxs-lookup"><span data-stu-id="d170f-131">The admin has full control over limiting the number of users interacting with the cluster via these endpoints.</span></span>

### <a name="authorization"></a><span data-ttu-id="d170f-132">Autoryzacja</span><span class="sxs-lookup"><span data-stu-id="d170f-132">Authorization</span></span>
<span data-ttu-id="d170f-133">Najlepsze rozwiązanie stosowane przez większość przedsiębiorstw polega na tym, że nie każdy pracownik ma dostęp do wszystkich zasobów organizacji.</span><span class="sxs-lookup"><span data-stu-id="d170f-133">A best practice followed by most enterprises is that not every employee has access to all enterprise resources.</span></span> <span data-ttu-id="d170f-134">W tej wersji oprogramowania administrator może zdefiniować dla zasobów klastra zasady kontroli dostępu opartej na rolach.</span><span class="sxs-lookup"><span data-stu-id="d170f-134">Likewise, with this release, the admin can define role based access control policies for the cluster resources.</span></span> <span data-ttu-id="d170f-135">Na przykład administrator może skonfigurować środowisko [Apache Ranger](http://hortonworks.com/apache/ranger/) do ustawiania zasad kontroli dostępu dla usługi Hive.</span><span class="sxs-lookup"><span data-stu-id="d170f-135">For example, the admin can configure [Apache Ranger](http://hortonworks.com/apache/ranger/) to set access control policies for Hive.</span></span> <span data-ttu-id="d170f-136">Ta funkcja zapewnia, że pracownicy będą mieli dostęp tylko do tych danych, które są im potrzebne do skutecznego wykonywania swoich zadań.</span><span class="sxs-lookup"><span data-stu-id="d170f-136">This functionality ensures that employees will be able to access only as much data as they need to be successful in their jobs.</span></span> <span data-ttu-id="d170f-137">Także dostęp do klastra przy użyciu protokołu SSH jest ograniczony tylko do administratora.</span><span class="sxs-lookup"><span data-stu-id="d170f-137">SSH access to the cluster is also restricted only to the administrator.</span></span>

### <a name="auditing"></a><span data-ttu-id="d170f-138">Inspekcja</span><span class="sxs-lookup"><span data-stu-id="d170f-138">Auditing</span></span>
<span data-ttu-id="d170f-139">Wraz z ochroną zasobów klastra usługi HDInsight przed dostępem ze strony nieautoryzowanych użytkowników oraz zabezpieczaniem danych niezbędna jest inspekcja wszystkich przypadków dostępu do zasobów klastra i danych w celu śledzenia prób nieautoryzowanego lub niezamierzonego dostępu do zasobów.</span><span class="sxs-lookup"><span data-stu-id="d170f-139">Along with protecting the HDInsight cluster resources from unauthorized users, and securing the data, auditing of all access to the cluster resources, and the data is necessary to track unauthorized or unintentional access of the resources.</span></span> <span data-ttu-id="d170f-140">W tej wersji zapoznawczej administrator może wyświetlać i raportować wszystkie przypadki dostępu do zasobów klastra usługi HDInsight i danych.</span><span class="sxs-lookup"><span data-stu-id="d170f-140">With this preview, the admin can view and report all access to the HDInsight cluster resources and data.</span></span> <span data-ttu-id="d170f-141">Administrator może także przeglądać i raportować wszystkie zmiany wprowadzane do zasad kontroli dostępu poprzez punkty końcowe obsługiwane przez środowisko Apache Ranger.</span><span class="sxs-lookup"><span data-stu-id="d170f-141">The admin can also view and report all changes to the access control policies done in Apache Ranger supported endpoints.</span></span> <span data-ttu-id="d170f-142">Przyłączony do domeny klaster usługi HDInsight używa znanego interfejsu użytkownika środowiska Apache Ranger do wyszukiwania dzienników inspekcji.</span><span class="sxs-lookup"><span data-stu-id="d170f-142">A Domain-joined HDInsight cluster uses the familiar Apache Ranger UI to search audit logs.</span></span> <span data-ttu-id="d170f-143">W wewnętrznej bazie danych do przechowywania i wyszukiwania dzienników środowisko Ranger używa rozwiązania [Apache Solr](http://hortonworks.com/apache/solr/).</span><span class="sxs-lookup"><span data-stu-id="d170f-143">On the backend, Ranger uses [Apache Solr](http://hortonworks.com/apache/solr/) for storing and searching the logs.</span></span>

### <a name="encryption"></a><span data-ttu-id="d170f-144">Szyfrowanie</span><span class="sxs-lookup"><span data-stu-id="d170f-144">Encryption</span></span>
<span data-ttu-id="d170f-145">Ochrona danych ma duże znaczenie dla spełniania wymagań organizacyjnych w zakresie zgodności z przepisami i zabezpieczeń, dlatego poza ograniczaniem dostępu do danych przez nieautoryzowanych pracowników powinna uwzględniać również ich szyfrowanie.</span><span class="sxs-lookup"><span data-stu-id="d170f-145">Protecting data is important for meeting organizational security and compliance requirements, and along with restricting access to data from unauthorized employees, it should also be secured by encrypting it.</span></span> <span data-ttu-id="d170f-146">Oba rodzaje magazynów danych dla klastrów usługi HDInsight, czyli magazyn usługi Azure Storage Blob i magazyn usługi Azure Data Lake, obsługują przezroczyste [szyfrowanie danych](../storage/common/storage-service-encryption.md) po stronie serwera w odniesieniu do danych magazynowanych.</span><span class="sxs-lookup"><span data-stu-id="d170f-146">Both the data stores for HDInsight clusters, Azure Storage Blob, and Azure Data Lake Storage support transparent server-side [encryption of data](../storage/common/storage-service-encryption.md) at rest.</span></span> <span data-ttu-id="d170f-147">Zabezpieczanie klastrów usługi HDInsight funkcjonuje bezproblemowo przy użyciu funkcji szyfrowania danych magazynowanych po stronie serwera.</span><span class="sxs-lookup"><span data-stu-id="d170f-147">Secure HDInsight clusters will seamlessly work with this server side encryption of data at rest capability.</span></span>

## <a name="next-steps"></a><span data-ttu-id="d170f-148">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="d170f-148">Next steps</span></span>
* <span data-ttu-id="d170f-149">Aby skonfigurować przyłączony do domeny klaster usługi HDInsight, zobacz [Configure Domain-joined HDInsight clusters](hdinsight-domain-joined-configure.md) (Konfigurowanie przyłączonych do domeny klastrów usługi HDInsight).</span><span class="sxs-lookup"><span data-stu-id="d170f-149">For configuring a Domain-joined HDInsight cluster, see [Configure Domain-joined HDInsight clusters](hdinsight-domain-joined-configure.md).</span></span>
* <span data-ttu-id="d170f-150">Aby zarządzać przyłączonymi do domeny klastrami usługi HDInsight, zobacz [Manage Domain-joined HDInsight clusters](hdinsight-domain-joined-manage.md) (Zarządzanie przyłączonymi do domeny klastrami usługi HDInsight).</span><span class="sxs-lookup"><span data-stu-id="d170f-150">For managing a Domain-joined HDInsight clusters, see [Manage Domain-joined HDInsight clusters](hdinsight-domain-joined-manage.md).</span></span>
* <span data-ttu-id="d170f-151">Aby znaleźć informacje na temat konfigurowania zasad Hive i uruchamiania kwerend Hive, zobacz [Konfigurowanie zasad usługi Hive dla przyłączonych do domeny klastrów usługi HDInsight](hdinsight-domain-joined-run-hive.md).</span><span class="sxs-lookup"><span data-stu-id="d170f-151">For configuring Hive policies and run Hive queries, see [Configure Hive policies for Domain-joined HDInsight clusters](hdinsight-domain-joined-run-hive.md).</span></span>
* <span data-ttu-id="d170f-152">Do uruchamiania zapytań Hive przy użyciu protokołu SSH w klastrach HDInsight przyłączonych do domeny, zobacz [używanie SSH z usługą HDInsight](hdinsight-hadoop-linux-use-ssh-unix.md#domainjoined).</span><span class="sxs-lookup"><span data-stu-id="d170f-152">For running Hive queries using SSH on Domain-joined HDInsight clusters, see [Use SSH with HDInsight](hdinsight-hadoop-linux-use-ssh-unix.md#domainjoined).</span></span>
