---
title: "aaaSpark BI za pomocą narzędzi wizualizacji danych w usłudze Azure HDInsight | Dokumentacja firmy Microsoft"
description: "Użycie narzędzi do wizualizacji danych analytics przy użyciu analizy Biznesowej programu Apache Spark w klastrach HDInsight"
keywords: "Platforma spark jest Apache spark analizy biznesowej, spark analizy biznesowej, spark wizualizację danych, analiza biznesowa"
services: hdinsight
documentationcenter: 
author: nitinme
manager: jhubbard
editor: cgronlun
tags: azure-portal
ms.assetid: 1448b536-9bc8-46bc-bbc6-d7001623642a
ms.service: hdinsight
ms.custom: hdinsightactive,hdiseo17may2017
ms.workload: big-data
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/21/2017
ms.author: nitinme
ms.openlocfilehash: ba4bfff737ce80ffca5c24f1c2c82a1447f467fb
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="apache-spark-bi-using-data-visualization-tools-with-azure-hdinsight"></a><span data-ttu-id="1b69a-104">Apache Spark BI z usługą Azure HDInsight przy użyciu narzędzi do wizualizacji danych</span><span class="sxs-lookup"><span data-stu-id="1b69a-104">Apache Spark BI using data visualization tools with Azure HDInsight</span></span>

<span data-ttu-id="1b69a-105">Dowiedz się, jak narzędzia toouse wizualizacji danych w takich jak Power BI i Tableau tooanalyze zestawu danych pierwotnych próbki przy użyciu Apache Spark w usłudze BI w klastrach usługi HDInsight.</span><span class="sxs-lookup"><span data-stu-id="1b69a-105">Learn how toouse data visualization tools such as Power BI and Tableau tooanalyze a raw sample data set using Apache Spark BI on HDInsight clusters.</span></span>

> [!NOTE]
> <span data-ttu-id="1b69a-106">Łączność z narzędzi do analizy Biznesowej opisane w tym artykule nie jest obsługiwana na 2.1 Spark on Azure HDInsight 3,6 Preview.</span><span class="sxs-lookup"><span data-stu-id="1b69a-106">Connectivity with BI tools described in this article is not supported on Spark 2.1 on Azure HDInsight 3.6 Preview.</span></span> <span data-ttu-id="1b69a-107">Tylko Spark w wersji 1.6 i 2.0 (HDInsight 3.4, 3.5 odpowiednio) są obsługiwane.</span><span class="sxs-lookup"><span data-stu-id="1b69a-107">Only Spark versions 1.6 and 2.0 (HDInsight 3.4, 3.5 respectively) are supported.</span></span>
>

<span data-ttu-id="1b69a-108">W tym samouczku jest również dostępny jako notesu Jupyter w klastrze Spark w usłudze HDInsight.</span><span class="sxs-lookup"><span data-stu-id="1b69a-108">This tutorial is also available as a Jupyter notebook on an HDInsight Spark cluster.</span></span> <span data-ttu-id="1b69a-109">środowisko notesu Hello umożliwia uruchamianie hello Python wstawki z notesu hello, sama.</span><span class="sxs-lookup"><span data-stu-id="1b69a-109">hello notebook experience lets you run hello Python snippets from hello notebook itself.</span></span> <span data-ttu-id="1b69a-110">Samouczek hello tooperform z poziomu Notes, tworzenie klastra Spark, uruchom notesu Jupyter (`https://CLUSTERNAME.azurehdinsight.net/jupyter`), a następnie uruchom notesu hello **narzędzi do analizy Biznesowej użycia z platformy Apache Spark w HDInsight.ipynb** w obszarze hello **języka Python**  folderu.</span><span class="sxs-lookup"><span data-stu-id="1b69a-110">tooperform hello tutorial from within a notebook, create a Spark cluster, launch a Jupyter notebook (`https://CLUSTERNAME.azurehdinsight.net/jupyter`), and then run hello notebook **Use BI tools with Apache Spark on HDInsight.ipynb** under hello **Python** folder.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="1b69a-111">Wymagania wstępne</span><span class="sxs-lookup"><span data-stu-id="1b69a-111">Prerequisites</span></span>

* <span data-ttu-id="1b69a-112">Klaster Apache Spark w usłudze HDInsight.</span><span class="sxs-lookup"><span data-stu-id="1b69a-112">An Apache Spark cluster on HDInsight.</span></span> <span data-ttu-id="1b69a-113">Aby uzyskać instrukcje, zobacz [klastrów utworzyć Apache Spark w usłudze Azure HDInsight](hdinsight-apache-spark-jupyter-spark-sql.md).</span><span class="sxs-lookup"><span data-stu-id="1b69a-113">For instructions, see [Create Apache Spark clusters in Azure HDInsight](hdinsight-apache-spark-jupyter-spark-sql.md).</span></span>


## <span data-ttu-id="1b69a-114"><a name="hivetable"></a>Przygotowanie danych do wizualizacji danych Spark</span><span class="sxs-lookup"><span data-stu-id="1b69a-114"><a name="hivetable"></a>Prepare data for Spark data visualization</span></span>

<span data-ttu-id="1b69a-115">W tej sekcji użyjesz hello [Jupyter](https://jupyter.org) notesu z zadań toorun klastra Spark w usłudze HDInsight, które przetwarzają przykładowe nieprzetworzone dane i zapisz go jako tabelę.</span><span class="sxs-lookup"><span data-stu-id="1b69a-115">In this section, we use hello [Jupyter](https://jupyter.org) notebook from an HDInsight Spark cluster toorun jobs that process your raw sample data and save it as a table.</span></span> <span data-ttu-id="1b69a-116">Witaj przykładowych danych jest plik CSV (hvac.csv) dostępne na wszystkich klastrach domyślnie.</span><span class="sxs-lookup"><span data-stu-id="1b69a-116">hello sample data is a .csv file (hvac.csv) available on all clusters by default.</span></span> <span data-ttu-id="1b69a-117">Gdy dane są zapisywane jako tabelę, w następnej sekcji hello firma Microsoft BI narzędzia tooconnect toohello tabeli i wykonywać wizualizacje danych.</span><span class="sxs-lookup"><span data-stu-id="1b69a-117">Once your data is saved as a table, in hello next section we use BI tools tooconnect toohello table and perform data visualizations.</span></span>

> [!NOTE]
> <span data-ttu-id="1b69a-118">Jeśli przeprowadzasz hello kroki opisane w tym artykule po ukończeniu instrukcjami hello [uruchamianie interakcyjnych zapytań w klastrze Spark w usłudze HDInsight](hdinsight-apache-spark-load-data-run-query.md), możesz pominąć tooStep 8 poniżej.</span><span class="sxs-lookup"><span data-stu-id="1b69a-118">If you are performing hello steps in this article after completing hello instructions in [Run interactive queries on an HDInsight Spark cluster](hdinsight-apache-spark-load-data-run-query.md), you can skip tooStep 8 below.</span></span>
>

1. <span data-ttu-id="1b69a-119">Z hello [portalu Azure](https://portal.azure.com/), hello tablicy startowej, kliknij Kafelek hello klastra Spark (jeśli został przypięty toohello tablicy startowej).</span><span class="sxs-lookup"><span data-stu-id="1b69a-119">From hello [Azure portal](https://portal.azure.com/), from hello startboard, click hello tile for your Spark cluster (if you pinned it toohello startboard).</span></span> <span data-ttu-id="1b69a-120">Można także przechodzić tooyour klastra w obszarze **Przeglądaj wszystko** > **klastrów usługi HDInsight**.</span><span class="sxs-lookup"><span data-stu-id="1b69a-120">You can also navigate tooyour cluster under **Browse All** > **HDInsight Clusters**.</span></span>   

2. <span data-ttu-id="1b69a-121">W bloku klastra Spark powitania kliknij **pulpit nawigacyjny klastra**, a następnie kliknij przycisk **notesu Jupyter**.</span><span class="sxs-lookup"><span data-stu-id="1b69a-121">From hello Spark cluster blade, click **Cluster Dashboard**, and then click **Jupyter Notebook**.</span></span> <span data-ttu-id="1b69a-122">Jeśli zostanie wyświetlony monit, wprowadź poświadczenia administratora hello hello klastra.</span><span class="sxs-lookup"><span data-stu-id="1b69a-122">If prompted, enter hello admin credentials for hello cluster.</span></span>

   > [!NOTE]
   > <span data-ttu-id="1b69a-123">Można również przejść hello Jupyter Notebook dla klastra przez hello otwarcia następującego adresu URL w przeglądarce.</span><span class="sxs-lookup"><span data-stu-id="1b69a-123">You may also reach hello Jupyter Notebook for your cluster by opening hello following URL in your browser.</span></span> <span data-ttu-id="1b69a-124">Zastąp **CLUSTERNAME** o nazwie hello klastra:</span><span class="sxs-lookup"><span data-stu-id="1b69a-124">Replace **CLUSTERNAME** with hello name of your cluster:</span></span>
   >
   > `https://CLUSTERNAME.azurehdinsight.net/jupyter`
   >
   >

3. <span data-ttu-id="1b69a-125">Utwórz notes.</span><span class="sxs-lookup"><span data-stu-id="1b69a-125">Create a notebook.</span></span> <span data-ttu-id="1b69a-126">Kliknij opcję **New** (Nowy), a następnie kliknij pozycję **PySpark**.</span><span class="sxs-lookup"><span data-stu-id="1b69a-126">Click **New**, and then click **PySpark**.</span></span>

    <span data-ttu-id="1b69a-127">![Tworzenie notesu Jupyter dla Apache Spark w usłudze BI](./media/hdinsight-apache-spark-use-bi-tools/create-jupyter-notebook-for-spark-bi.png "tworzenie notesu Jupyter do analizy Biznesowej programu Apache Spark")</span><span class="sxs-lookup"><span data-stu-id="1b69a-127">![Create a Jupyter notebook for Apache Spark BI](./media/hdinsight-apache-spark-use-bi-tools/create-jupyter-notebook-for-spark-bi.png "Create a Jupyter notebook for Apache Spark BI")</span></span>

4. <span data-ttu-id="1b69a-128">Nowy notes jest utworzony i otwarty z hello nazwie Untitled.pynb.</span><span class="sxs-lookup"><span data-stu-id="1b69a-128">A new notebook is created and opened with hello name Untitled.pynb.</span></span> <span data-ttu-id="1b69a-129">Kliknij nazwę notesu hello u góry hello, a następnie wprowadź przyjazną nazwę.</span><span class="sxs-lookup"><span data-stu-id="1b69a-129">Click hello notebook name at hello top, and enter a friendly name.</span></span>

    <span data-ttu-id="1b69a-130">![Podaj nazwę notesu powitania dla Apache Spark w usłudze BI](./media/hdinsight-apache-spark-use-bi-tools/jupyter-notebook-name-for-spark-bi.png "podanie nazwę notesu hello Apache Spark w usłudze BI")</span><span class="sxs-lookup"><span data-stu-id="1b69a-130">![Provide a name for hello notebook for Apache Spark BI](./media/hdinsight-apache-spark-use-bi-tools/jupyter-notebook-name-for-spark-bi.png "Provide a name for hello notebook for Apache Spark BI")</span></span>

5. <span data-ttu-id="1b69a-131">Ponieważ Notes jądro PySpark hello został utworzony, nie trzeba toocreate kontekstów jawnie.</span><span class="sxs-lookup"><span data-stu-id="1b69a-131">Because you created a notebook using hello PySpark kernel, you do not need toocreate any contexts explicitly.</span></span> <span data-ttu-id="1b69a-132">konteksty Spark i Hive Hello są utworzony automatycznie po uruchomieniu pierwszej komórki kodu hello.</span><span class="sxs-lookup"><span data-stu-id="1b69a-132">hello Spark and Hive contexts are automatically created for you when you run hello first code cell.</span></span> <span data-ttu-id="1b69a-133">Możesz zacząć od importowania typów hello wymaganych dla tego scenariusza.</span><span class="sxs-lookup"><span data-stu-id="1b69a-133">You can start by importing hello types required for this scenario.</span></span> <span data-ttu-id="1b69a-134">toodo tak, umieść kursor hello w komórce hello i naciśnij klawisze **SHIFT + ENTER**.</span><span class="sxs-lookup"><span data-stu-id="1b69a-134">toodo so, place hello cursor in hello cell and press **SHIFT + ENTER**.</span></span>

        from pyspark.sql import *

6. <span data-ttu-id="1b69a-135">Załaduj przykładowe dane do tabeli tymczasowej.</span><span class="sxs-lookup"><span data-stu-id="1b69a-135">Load sample data into a temporary table.</span></span> <span data-ttu-id="1b69a-136">Podczas tworzenia klastra Spark w usłudze HDInsight, hello przykładowy plik danych **hvac.csv**, jest skopiowany toohello skojarzone konto magazynu w obszarze **\HdiSamples\HdiSamples\SensorSampleData\hvac**.</span><span class="sxs-lookup"><span data-stu-id="1b69a-136">When you create a Spark cluster in HDInsight, hello sample data file, **hvac.csv**, is copied toohello associated storage account under **\HdiSamples\HdiSamples\SensorSampleData\hvac**.</span></span>

    <span data-ttu-id="1b69a-137">W pustej komórce Wklej hello następujący fragment kodu i naciśnij klawisz **SHIFT + ENTER**.</span><span class="sxs-lookup"><span data-stu-id="1b69a-137">In an empty cell, paste hello following snippet and press **SHIFT + ENTER**.</span></span> <span data-ttu-id="1b69a-138">Ta Wstawka kodu rejestruje dane hello w tabeli o nazwie **hvac**.</span><span class="sxs-lookup"><span data-stu-id="1b69a-138">This snippet registers hello data into a table called **hvac**.</span></span>

        # Create an RDD from sample data
        hvacText = sc.textFile("wasb:///HdiSamples/HdiSamples/SensorSampleData/hvac/HVAC.csv")

        # Create a schema for our data
        Entry = Row('Date', 'Time', 'TargetTemp', 'ActualTemp', 'BuildingID')

        # Parse hello data and create a schema
        hvacParts = hvacText.map(lambda s: s.split(',')).filter(lambda s: s[0] != 'Date')
        hvac = hvacParts.map(lambda p: Entry(str(p[0]), str(p[1]), int(p[2]), int(p[3]), int(p[6])))

        # Infer hello schema and create a table       
        hvacTable = sqlContext.createDataFrame(hvac)
        hvacTable.registerTempTable('hvactemptable')
        dfw = DataFrameWriter(hvacTable)
        dfw.saveAsTable('hvac')

7. <span data-ttu-id="1b69a-139">Sprawdź, czy tabela hello została pomyślnie utworzona.</span><span class="sxs-lookup"><span data-stu-id="1b69a-139">Verify that hello table was successfully created.</span></span> <span data-ttu-id="1b69a-140">Można użyć hello `%%sql` Magiczna toorun zapytań Hive bezpośrednio.</span><span class="sxs-lookup"><span data-stu-id="1b69a-140">You can use hello `%%sql` magic toorun Hive queries directly.</span></span> <span data-ttu-id="1b69a-141">Aby uzyskać więcej informacji na temat hello `%%sql` magic i innych poleceń magicznych dostępnych z użyciem jądra PySpark hello, zobacz [jądra dostępne dla notesu Jupyter w klastrze z klastrami Spark w usłudze HDInsight](hdinsight-apache-spark-jupyter-notebook-kernels.md#parameters-supported-with-the-sql-magic).</span><span class="sxs-lookup"><span data-stu-id="1b69a-141">For more information about hello `%%sql` magic, and other magics available with hello PySpark kernel, see [Kernels available on Jupyter notebooks with Spark HDInsight clusters](hdinsight-apache-spark-jupyter-notebook-kernels.md#parameters-supported-with-the-sql-magic).</span></span>

        %%sql
        SHOW TABLES

    <span data-ttu-id="1b69a-142">Pojawić się dane wyjściowe, jak pokazano poniżej:</span><span class="sxs-lookup"><span data-stu-id="1b69a-142">You see an output like shown below:</span></span>

        +---------------+-------------+
        |tableName      |isTemporary  |
        +---------------+-------------+
        |hvactemptable  |true        |
        |hivesampletable|false        |
        |hvac           |false        |
        +---------------+-------------+

    <span data-ttu-id="1b69a-143">Tylko hello tabel, które mają wartość false w obszarze hello **isTemporary** kolumny są są przechowywane w hello potrzeby magazynu metadanych, które są dostępne z narzędzi do analizy Biznesowej hello tabele programu hive.</span><span class="sxs-lookup"><span data-stu-id="1b69a-143">Only hello tables that have false under hello **isTemporary** column are hive tables that are stored in hello metastore and can be accessed from hello BI tools.</span></span> <span data-ttu-id="1b69a-144">W tym samouczku połączymy toohello **hvac** utworzyliśmy tabeli.</span><span class="sxs-lookup"><span data-stu-id="1b69a-144">In this tutorial, we connect toohello **hvac** table we created.</span></span>

8. <span data-ttu-id="1b69a-145">Sprawdź, czy hello zawierającej dane hello przeznaczone.</span><span class="sxs-lookup"><span data-stu-id="1b69a-145">Verify that hello table contains hello intended data.</span></span> <span data-ttu-id="1b69a-146">W pustej komórce w notesie hello, skopiuj następujące hello fragment kodu i naciśnij klawisz **SHIFT + ENTER**.</span><span class="sxs-lookup"><span data-stu-id="1b69a-146">In an empty cell in hello notebook, copy hello following snippet and press **SHIFT + ENTER**.</span></span>

        %%sql
        SELECT * FROM hvac LIMIT 10

9. <span data-ttu-id="1b69a-147">Zamknij hello notesu toorelease hello zasobów.</span><span class="sxs-lookup"><span data-stu-id="1b69a-147">Shut down hello notebook toorelease hello resources.</span></span> <span data-ttu-id="1b69a-148">toodo tak, z hello **pliku** kliknij menu notesu hello **zamknąć i zatrzymuje**.</span><span class="sxs-lookup"><span data-stu-id="1b69a-148">toodo so, from hello **File** menu on hello notebook, click **Close and Halt**.</span></span>

## <span data-ttu-id="1b69a-149"><a name="powerbi"></a>Użyj usługi Power BI dla Spark wizualizacji danych</span><span class="sxs-lookup"><span data-stu-id="1b69a-149"><a name="powerbi"></a>Use Power BI for Spark data visualization</span></span>

> [!NOTE]
> <span data-ttu-id="1b69a-150">Ta sekcja ma zastosowanie tylko do wersji 1.6 Spark w usłudze HDInsight w wersji 3.4 i 2.0 Spark w usłudze HDInsight 3.5.</span><span class="sxs-lookup"><span data-stu-id="1b69a-150">This section is applicable only for Spark 1.6 on HDInsight 3.4 and Spark 2.0 on HDInsight 3.5.</span></span>
>
>

<span data-ttu-id="1b69a-151">Po zapisaniu hello danych jako tabelę, za pomocą usługi Power BI tooconnect toohello danych i wizualizacji go toocreate raporty, pulpity nawigacyjne,... itd.</span><span class="sxs-lookup"><span data-stu-id="1b69a-151">Once you have saved hello data as a table, you can use Power BI tooconnect toohello data and visualize it toocreate reports, dashboards, etc.</span></span>

1. <span data-ttu-id="1b69a-152">Upewnij się, że masz dostęp tooPower BI.</span><span class="sxs-lookup"><span data-stu-id="1b69a-152">Make sure you have access tooPower BI.</span></span> <span data-ttu-id="1b69a-153">Możesz uzyskać bezpłatne sprawdzenie subskrypcji usługi Power BI z [http://www.powerbi.com/](http://www.powerbi.com/).</span><span class="sxs-lookup"><span data-stu-id="1b69a-153">You can get a free preview subscription of Power BI from [http://www.powerbi.com/](http://www.powerbi.com/).</span></span>

2. <span data-ttu-id="1b69a-154">Zaloguj się za[usługi Power BI](http://www.powerbi.com/).</span><span class="sxs-lookup"><span data-stu-id="1b69a-154">Sign in too[Power BI](http://www.powerbi.com/).</span></span>

3. <span data-ttu-id="1b69a-155">Hello dolnej części okienka po lewej stronie powitania kliknij **Pobierz dane**.</span><span class="sxs-lookup"><span data-stu-id="1b69a-155">From hello bottom of hello left pane, click **Get Data**.</span></span>

4. <span data-ttu-id="1b69a-156">Na powitania **Pobierz dane** w obszarze **importowanie danych lub łączenie tooData**, dla **baz danych**, kliknij przycisk **uzyskać**.</span><span class="sxs-lookup"><span data-stu-id="1b69a-156">On hello **Get Data** page, under **Import or Connect tooData**, for **Databases**, click **Get**.</span></span>

    <span data-ttu-id="1b69a-157">![Pobieranie danych do usługi Power BI dla Apache Spark w usłudze BI](./media/hdinsight-apache-spark-use-bi-tools/apache-spark-bi-import-data-power-bi.png "pobieranie danych do usługi Power BI dla Apache Spark w usłudze BI")</span><span class="sxs-lookup"><span data-stu-id="1b69a-157">![Get data into Power BI for Apache Spark BI](./media/hdinsight-apache-spark-use-bi-tools/apache-spark-bi-import-data-power-bi.png "Get data into Power BI for Apache Spark BI")</span></span>

5. <span data-ttu-id="1b69a-158">Na następnym ekranie powitania kliknij **Spark w usłudze Azure HDInsight** , a następnie kliknij przycisk **Connect**.</span><span class="sxs-lookup"><span data-stu-id="1b69a-158">On hello next screen, click **Spark on Azure HDInsight** and then click **Connect**.</span></span> <span data-ttu-id="1b69a-159">Po wyświetleniu monitu wprowadź adres URL klastra hello (`mysparkcluster.azurehdinsight.net`) i hello poświadczenia tooconnect toohello klastra.</span><span class="sxs-lookup"><span data-stu-id="1b69a-159">When prompted, enter hello cluster URL (`mysparkcluster.azurehdinsight.net`) and hello credentials tooconnect toohello cluster.</span></span>

    <span data-ttu-id="1b69a-160">![Połącz tooApache Spark BI](./media/hdinsight-apache-spark-use-bi-tools/connect-to-apache-spark-bi.png "połączyć tooApache Spark BI")</span><span class="sxs-lookup"><span data-stu-id="1b69a-160">![Connect tooApache Spark BI](./media/hdinsight-apache-spark-use-bi-tools/connect-to-apache-spark-bi.png "Connect tooApache Spark BI")</span></span>

    <span data-ttu-id="1b69a-161">Po nawiązaniu połączenia hello usługi Power BI uruchamia importowania danych z hello klastra Spark w usłudze HDInsight.</span><span class="sxs-lookup"><span data-stu-id="1b69a-161">After hello connection is established, Power BI starts importing data from hello Spark cluster on HDInsight.</span></span>

6. <span data-ttu-id="1b69a-162">Usługa Power BI importuje dane hello i dodaje **Spark** zestawu danych w obszarze hello **zestawów danych** nagłówka.</span><span class="sxs-lookup"><span data-stu-id="1b69a-162">Power BI imports hello data and adds a **Spark** dataset under hello **Datasets** heading.</span></span> <span data-ttu-id="1b69a-163">Kliknij przycisk tooopen zestawu danych hello nowe dane hello toovisualize arkusza.</span><span class="sxs-lookup"><span data-stu-id="1b69a-163">Click hello data set tooopen a new worksheet toovisualize hello data.</span></span> <span data-ttu-id="1b69a-164">Można również zapisać arkusza hello jako raport.</span><span class="sxs-lookup"><span data-stu-id="1b69a-164">You can also save hello worksheet as a report.</span></span> <span data-ttu-id="1b69a-165">Arkusz z hello toosave **pliku** menu, kliknij przycisk **zapisać**.</span><span class="sxs-lookup"><span data-stu-id="1b69a-165">toosave a worksheet, from hello **File** menu, click **Save**.</span></span>

    <span data-ttu-id="1b69a-166">![Apache Spark w usłudze BI kafelka pulpitu nawigacyjnego usługi Power BI](./media/hdinsight-apache-spark-use-bi-tools/apache-spark-bi-tile-dashboard.png "Apache Spark w usłudze BI kafelka pulpitu nawigacyjnego usługi Power BI")</span><span class="sxs-lookup"><span data-stu-id="1b69a-166">![Apache Spark BI tile on Power BI dashboard](./media/hdinsight-apache-spark-use-bi-tools/apache-spark-bi-tile-dashboard.png "Apache Spark BI tile on Power BI dashboard")</span></span>
7. <span data-ttu-id="1b69a-167">Zwróć uwagę, że hello **pola** lista po prawej stronie powitania listy hello **hvac** tabeli utworzony wcześniej.</span><span class="sxs-lookup"><span data-stu-id="1b69a-167">Notice that hello **Fields** list on hello right lists hello **hvac** table you created earlier.</span></span> <span data-ttu-id="1b69a-168">Rozwiń hello tabeli toosee hello pola w tabeli hello zgodnie z definicją w notesie wcześniej.</span><span class="sxs-lookup"><span data-stu-id="1b69a-168">Expand hello table toosee hello fields in hello table, as you defined in notebook earlier.</span></span>

      <span data-ttu-id="1b69a-169">![Lista tabel na pulpicie nawigacyjnym Apache Spark w usłudze BI](./media/hdinsight-apache-spark-use-bi-tools/apache-spark-bi-display-tables.png "listy tabel na pulpicie nawigacyjnym Apache Spark w usłudze BI")</span><span class="sxs-lookup"><span data-stu-id="1b69a-169">![List tables on Apache Spark BI dashboard](./media/hdinsight-apache-spark-use-bi-tools/apache-spark-bi-display-tables.png "List tables on Apache Spark BI dashboard")</span></span>

8. <span data-ttu-id="1b69a-170">Tworzenie wizualizacji tooshow hello odchylenie temperatury docelowy rzeczywiste temperatury dla każdego tworzenia.</span><span class="sxs-lookup"><span data-stu-id="1b69a-170">Build a visualization tooshow hello variance between target temperature and actual temperature for each building.</span></span> <span data-ttu-id="1b69a-171">Wybierz dane yoru toovisualize, **obszaru wykresu** (pokazywaną w czerwonym prostokątem).</span><span class="sxs-lookup"><span data-stu-id="1b69a-171">toovisualize yoru data, select **Area Chart** (shown in red box).</span></span> <span data-ttu-id="1b69a-172">toodefine hello osi, przeciągnij i upuść hello **BuildingID** pole w obszarze **osi**, i **ActualTemp**/**TargetTemp** pola w obszarze **wartość**.</span><span class="sxs-lookup"><span data-stu-id="1b69a-172">toodefine hello axis, drag-and-drop hello **BuildingID** field under **Axis**, and **ActualTemp**/**TargetTemp** fields under **Value**.</span></span>

    <span data-ttu-id="1b69a-173">![Tworzenie wizualizacji danych przy użyciu Apache Spark w usłudze BI Spark](./media/hdinsight-apache-spark-use-bi-tools/apache-spark-bi-add-value-columns.png "wizualizacje danych utworzyć Spark przy użyciu Apache Spark w usłudze BI")</span><span class="sxs-lookup"><span data-stu-id="1b69a-173">![Create Spark data visualizations using Apache Spark BI](./media/hdinsight-apache-spark-use-bi-tools/apache-spark-bi-add-value-columns.png "Create Spark data visualizations using Apache Spark BI")</span></span>

9. <span data-ttu-id="1b69a-174">Domyślnie wizualizacji hello przedstawia sumę hello **ActualTemp** i **TargetTemp**.</span><span class="sxs-lookup"><span data-stu-id="1b69a-174">By default hello visualization shows hello sum for **ActualTemp** and **TargetTemp**.</span></span> <span data-ttu-id="1b69a-175">Witaj oba pola z listy rozwijanej hello wybierz **średni** tooget średniej rzeczywistego i temperatury docelowy dla obu budynków.</span><span class="sxs-lookup"><span data-stu-id="1b69a-175">For both hello fields, from hello drop-down, select **Average** tooget an average of actual and target temperatures for both buildings.</span></span>

    <span data-ttu-id="1b69a-176">![Tworzenie wizualizacji danych przy użyciu Apache Spark w usłudze BI Spark](./media/hdinsight-apache-spark-use-bi-tools/apache-spark-bi-average-of-values.png "wizualizacje danych utworzyć Spark przy użyciu Apache Spark w usłudze BI")</span><span class="sxs-lookup"><span data-stu-id="1b69a-176">![Create Spark data visualizations using Apache Spark BI](./media/hdinsight-apache-spark-use-bi-tools/apache-spark-bi-average-of-values.png "Create Spark data visualizations using Apache Spark BI")</span></span>

10. <span data-ttu-id="1b69a-177">Twoje wizualizacji danych powinny być podobne jedną toohello hello zrzucie ekranu.</span><span class="sxs-lookup"><span data-stu-id="1b69a-177">Your data visualization should be similar toohello one in hello screenshot.</span></span> <span data-ttu-id="1b69a-178">Przesuń kursor nad hello wizualizacji tooget podpowiedzi z właściwymi danymi.</span><span class="sxs-lookup"><span data-stu-id="1b69a-178">Move your cursor over hello visualization tooget tool tips with relevant data.</span></span>

    <span data-ttu-id="1b69a-179">![Tworzenie wizualizacji danych przy użyciu Apache Spark w usłudze BI Spark](./media/hdinsight-apache-spark-use-bi-tools/apache-spark-bi-area-graph.png "wizualizacje danych utworzyć Spark przy użyciu Apache Spark w usłudze BI")</span><span class="sxs-lookup"><span data-stu-id="1b69a-179">![Create Spark data visualizations using Apache Spark BI](./media/hdinsight-apache-spark-use-bi-tools/apache-spark-bi-area-graph.png "Create Spark data visualizations using Apache Spark BI")</span></span>

11. <span data-ttu-id="1b69a-180">Kliknij przycisk **zapisać** z hello menu z góry i podaj nazwę raportu.</span><span class="sxs-lookup"><span data-stu-id="1b69a-180">Click **Save** from hello top menu and provide a report name.</span></span> <span data-ttu-id="1b69a-181">Możesz również przypiąć hello visual.</span><span class="sxs-lookup"><span data-stu-id="1b69a-181">You can also pin hello visual.</span></span> <span data-ttu-id="1b69a-182">Przypnij wizualizacje, są przechowywane na pulpicie nawigacyjnym, więc można śledzić hello najpóźniejszą wartość jeden rzut oka.</span><span class="sxs-lookup"><span data-stu-id="1b69a-182">When you pin a visualization, it is stored on your dashboard so you can track hello latest value at a glance.</span></span>

   <span data-ttu-id="1b69a-183">Możesz dodać dowolną liczbę wizualizacje chcesz hello tego samego zestawu danych i przypiąć je toohello, odwiedź pulpit nawigacyjny migawki danych.</span><span class="sxs-lookup"><span data-stu-id="1b69a-183">You can add as many visualizations as you want for hello same dataset and pin them toohello dashboard for a snapshot of your data.</span></span> <span data-ttu-id="1b69a-184">Ponadto klastry Spark w usłudze HDInsight są połączone tooPower połączyć BI bezpośrednio.</span><span class="sxs-lookup"><span data-stu-id="1b69a-184">Also, Spark clusters on HDInsight are connected tooPower BI with direct connect.</span></span> <span data-ttu-id="1b69a-185">Daje to pewność, że usługi Power BI ma zawsze hello większości aktualne dane z klastra, nie trzeba odświeża tooschedule hello zestawu danych.</span><span class="sxs-lookup"><span data-stu-id="1b69a-185">This ensures that Power BI always has hello most up-to-date data from your cluster so you do not need tooschedule refreshes for hello dataset.</span></span>

## <span data-ttu-id="1b69a-186"><a name="tableau"></a>Za pomocą pulpitu Tableau dla Spark wizualizacji danych</span><span class="sxs-lookup"><span data-stu-id="1b69a-186"><a name="tableau"></a>Use Tableau Desktop for Spark data visualization</span></span>

> [!NOTE]
> <span data-ttu-id="1b69a-187">Ta sekcja dotyczy tylko klastry Spark 1.5.2 utworzone w usłudze Azure HDInsight.</span><span class="sxs-lookup"><span data-stu-id="1b69a-187">This section is applicable only for Spark 1.5.2 clusters created in Azure HDInsight.</span></span>
>
>

1. <span data-ttu-id="1b69a-188">Zainstaluj [pulpitu Tableau](http://www.tableau.com/products/desktop) na komputerze hello, w którym są uruchomione w tym samouczku Apache Spark w usłudze BI.</span><span class="sxs-lookup"><span data-stu-id="1b69a-188">Install [Tableau Desktop](http://www.tableau.com/products/desktop) on hello computer where you are running this Apache Spark BI tutorial.</span></span>

2. <span data-ttu-id="1b69a-189">Upewnij się, że ten komputer ma również zainstalowanego sterownika Microsoft Spark ODBC.</span><span class="sxs-lookup"><span data-stu-id="1b69a-189">Make sure that computer also has Microsoft Spark ODBC driver installed.</span></span> <span data-ttu-id="1b69a-190">Można zainstalować sterownik hello z [tutaj](http://go.microsoft.com/fwlink/?LinkId=616229).</span><span class="sxs-lookup"><span data-stu-id="1b69a-190">You can install hello driver from [here](http://go.microsoft.com/fwlink/?LinkId=616229).</span></span>

1. <span data-ttu-id="1b69a-191">Uruchom Tableau pulpitu.</span><span class="sxs-lookup"><span data-stu-id="1b69a-191">Launch Tableau Desktop.</span></span> <span data-ttu-id="1b69a-192">W okienku po lewej stronie powitania, z listy hello tooconnect serwera, kliknij przycisk **Spark SQL**.</span><span class="sxs-lookup"><span data-stu-id="1b69a-192">In hello left pane, from hello list of server tooconnect to, click **Spark SQL**.</span></span> <span data-ttu-id="1b69a-193">Jeśli Spark SQL nie znajduje się domyślnie w okienku po lewej stronie powitania, możesz go znaleźć, kliknij przycisk **więcej serwerów**.</span><span class="sxs-lookup"><span data-stu-id="1b69a-193">If Spark SQL is not listed by default in hello left pane, you can find it by click **More Servers**.</span></span>
2. <span data-ttu-id="1b69a-194">W powitalne okno dialogowe połączenia Spark SQL, podaj wartości hello, jak pokazano w hello zrzut ekranu, a następnie kliknij przycisk **OK**.</span><span class="sxs-lookup"><span data-stu-id="1b69a-194">In hello Spark SQL connection dialog box, provide hello values as shown in hello screenshot, and then click **OK**.</span></span>

    <span data-ttu-id="1b69a-195">![Połącz tooa klastra Apache Spark w usłudze BI](./media/hdinsight-apache-spark-use-bi-tools/connect-to-tableau-apache-spark-bi.png "Connect tooa klastra Apache Spark w usłudze BI")</span><span class="sxs-lookup"><span data-stu-id="1b69a-195">![Connect tooa cluster for Apache Spark BI](./media/hdinsight-apache-spark-use-bi-tools/connect-to-tableau-apache-spark-bi.png "Connect tooa cluster for Apache Spark BI")</span></span>

    <span data-ttu-id="1b69a-196">Witaj list rozwijanych uwierzytelniania **usługi Microsoft Azure HDInsight** opcjonalnie tylko w przypadku zainstalowania hello [sterownika Microsoft Spark ODBC](http://go.microsoft.com/fwlink/?LinkId=616229) na komputerze hello.</span><span class="sxs-lookup"><span data-stu-id="1b69a-196">hello authentication drop-down lists **Microsoft Azure HDInsight Service** as an option, only if you installed hello [Microsoft Spark ODBC Driver](http://go.microsoft.com/fwlink/?LinkId=616229) on hello computer.</span></span>
3. <span data-ttu-id="1b69a-197">Na następnym ekranie powitania od hello **schematu** listy rozwijanej, kliknij przycisk hello **znaleźć** ikonę, a następnie kliknij przycisk **domyślne**.</span><span class="sxs-lookup"><span data-stu-id="1b69a-197">On hello next screen, from hello **Schema** drop-down, click hello **Find** icon, and then click **default**.</span></span>

    <span data-ttu-id="1b69a-198">![Znaleźć schematu dla Apache Spark w usłudze BI](./media/hdinsight-apache-spark-use-bi-tools/tableau-find-schema-apache-spark-bi.png "Znajdź schematu dla Apache Spark w usłudze BI")</span><span class="sxs-lookup"><span data-stu-id="1b69a-198">![Find schema for Apache Spark BI](./media/hdinsight-apache-spark-use-bi-tools/tableau-find-schema-apache-spark-bi.png "Find schema for Apache Spark BI")</span></span>
4. <span data-ttu-id="1b69a-199">Dla hello **tabeli** kliknij hello **znaleźć** ikonę ponownie toolist wszystkie hello Hive tabel dostępnych w klastrze hello.</span><span class="sxs-lookup"><span data-stu-id="1b69a-199">For hello **Table** field, click hello **Find** icon again toolist all hello Hive tables available in hello cluster.</span></span> <span data-ttu-id="1b69a-200">Powinny pojawić się hello **hvac** tabeli zostały utworzone wcześniej za pomocą notesu hello.</span><span class="sxs-lookup"><span data-stu-id="1b69a-200">You should see hello **hvac** table you created earlier using hello notebook.</span></span>

    <span data-ttu-id="1b69a-201">![Znajdź tabeli dla Apache Spark w usłudze BI](./media/hdinsight-apache-spark-use-bi-tools/tableau-find-table-apache-spark-bi.png "tabeli Znajdź Apache Spark w usłudze BI")</span><span class="sxs-lookup"><span data-stu-id="1b69a-201">![Find table for Apache Spark BI](./media/hdinsight-apache-spark-use-bi-tools/tableau-find-table-apache-spark-bi.png "Find table for Apache Spark BI")</span></span>
5. <span data-ttu-id="1b69a-202">Przeciągnij i upuść górnej liście toohello tabeli hello na powitania prawo.</span><span class="sxs-lookup"><span data-stu-id="1b69a-202">Drag and drop hello table toohello top box on hello right.</span></span> <span data-ttu-id="1b69a-203">TABLEAU importuje dane hello i wyświetla schematu hello jak wyróżniono hello czerwonym polem.</span><span class="sxs-lookup"><span data-stu-id="1b69a-203">Tableau imports hello data and displays hello schema as highlighted by hello red box.</span></span>

    <span data-ttu-id="1b69a-204">![Dodawanie tabel tooTableau dla Apache Spark w usłudze BI](./media/hdinsight-apache-spark-use-bi-tools/tableau-add-table-apache-spark-bi.png "dodać tooTableau tabel dla Apache Spark w usłudze BI")</span><span class="sxs-lookup"><span data-stu-id="1b69a-204">![Add tables tooTableau for Apache Spark BI](./media/hdinsight-apache-spark-use-bi-tools/tableau-add-table-apache-spark-bi.png "Add tables tooTableau for Apache Spark BI")</span></span>
6. <span data-ttu-id="1b69a-205">Kliknij przycisk hello **Sheet1 —** karty u dołu hello w lewo.</span><span class="sxs-lookup"><span data-stu-id="1b69a-205">Click hello **Sheet1** tab at hello bottom left.</span></span> <span data-ttu-id="1b69a-206">Należy wizualizacji, pokazujący hello średni docelowy i rzeczywistego temperatur w budynkach wszystkie dla każdego dnia.</span><span class="sxs-lookup"><span data-stu-id="1b69a-206">Make a visualization that shows hello average target and actual temperatures for all buildings for each date.</span></span> <span data-ttu-id="1b69a-207">Przeciągnij **data** i **identyfikator budynku** zbyt**kolumn** i **rzeczywiste Temp**/**Temp docelowej**za**wierszy**.</span><span class="sxs-lookup"><span data-stu-id="1b69a-207">Drag **Date** and **Building ID** too**Columns** and **Actual Temp**/**Target Temp** too**Rows**.</span></span> <span data-ttu-id="1b69a-208">W obszarze **znaczniki**, wybierz pozycję **obszaru** toouse obszaru mapy do wizualizacji danych platformy Spark.</span><span class="sxs-lookup"><span data-stu-id="1b69a-208">Under **Marks**, select **Area** toouse an area map for Spark data visualization.</span></span>

     <span data-ttu-id="1b69a-209">![Dodawanie pól do wizualizacji danych Spark](./media/hdinsight-apache-spark-use-bi-tools/spark-data-visualization-add-fields.png "Dodawanie pól do wizualizacji danych Spark")</span><span class="sxs-lookup"><span data-stu-id="1b69a-209">![Add fields for Spark data visualization](./media/hdinsight-apache-spark-use-bi-tools/spark-data-visualization-add-fields.png "Add fields for Spark data visualization")</span></span>
7. <span data-ttu-id="1b69a-210">Domyślnie program hello temperatury pola są wyświetlane jako agregacji.</span><span class="sxs-lookup"><span data-stu-id="1b69a-210">By default, hello temperature fields are shown as aggregate.</span></span> <span data-ttu-id="1b69a-211">Jeśli zamiast tego chcesz tooshow hello średnia temperatura, możesz to zrobić z rozwijanej hello, jak pokazano poniżej.</span><span class="sxs-lookup"><span data-stu-id="1b69a-211">If you want tooshow hello average temperatures instead, you can do so from hello drop-down, as shown below.</span></span>

    <span data-ttu-id="1b69a-212">![Zająć średnia temperatura wizualizacji danych Spark](./media/hdinsight-apache-spark-use-bi-tools/spark-data-visualization-average-temperature.png "zająć średnia temperatura Spark wizualizacji danych")</span><span class="sxs-lookup"><span data-stu-id="1b69a-212">![Take average of temperature for Spark data visualization](./media/hdinsight-apache-spark-use-bi-tools/spark-data-visualization-average-temperature.png "Take average of temperature for Spark data visualization")</span></span>

8. <span data-ttu-id="1b69a-213">Można również super skonfigurować jedną mapę temperatury ponad hello innych tooget lepszego działania różnica między temperatury rzeczywiste i docelowe.</span><span class="sxs-lookup"><span data-stu-id="1b69a-213">You can also super-impose one temperature map over hello other tooget a better feel of difference between target and actual temperatures.</span></span> <span data-ttu-id="1b69a-214">Przenieś hello myszy toohello rogu hello niższe obszaru mapy, dopóki Zobacz kształtu uchwyt hello wyróżnione kolorem czerwonym kółku.</span><span class="sxs-lookup"><span data-stu-id="1b69a-214">Move hello mouse toohello corner of hello lower area map till you see hello handle shape highlighted in a red circle.</span></span> <span data-ttu-id="1b69a-215">Przeciągnij toohello mapy hello innych mapy hello top i wersji hello myszy po wyświetleniu kształtu hello wyróżnione kolorem czerwonym prostokątem.</span><span class="sxs-lookup"><span data-stu-id="1b69a-215">Drag hello map toohello other map on hello top and release hello mouse when you see hello shape highlighted in red rectangle.</span></span>

    <span data-ttu-id="1b69a-216">![Scal mapy do wizualizacji danych Spark](./media/hdinsight-apache-spark-use-bi-tools/spark-data-visualization-merge-maps.png "scalania mapy dla Spark wizualizacji danych")</span><span class="sxs-lookup"><span data-stu-id="1b69a-216">![Merge maps for Spark data visualization](./media/hdinsight-apache-spark-use-bi-tools/spark-data-visualization-merge-maps.png "Merge maps for Spark data visualization")</span></span>

     <span data-ttu-id="1b69a-217">Twoje wizualizacji danych należy zmieniać, jak pokazano w hello zrzut ekranu:</span><span class="sxs-lookup"><span data-stu-id="1b69a-217">Your data visualization should change as shown in hello screenshot:</span></span>

    <span data-ttu-id="1b69a-218">![Dane wyjściowe TABLEAU do wizualizacji danych Spark](./media/hdinsight-apache-spark-use-bi-tools/spark-data-visualization-tableau-output.png "Tableau danych wyjściowych Spark wizualizacji danych")</span><span class="sxs-lookup"><span data-stu-id="1b69a-218">![Tableau output for Spark data visualization](./media/hdinsight-apache-spark-use-bi-tools/spark-data-visualization-tableau-output.png "Tableau output for Spark data visualization")</span></span>
9. <span data-ttu-id="1b69a-219">Kliknij przycisk **zapisać** toosave hello arkusza.</span><span class="sxs-lookup"><span data-stu-id="1b69a-219">Click **Save** toosave hello worksheet.</span></span> <span data-ttu-id="1b69a-220">Można tworzyć pulpity nawigacyjne i Dodaj jeden lub więcej arkuszy tooit.</span><span class="sxs-lookup"><span data-stu-id="1b69a-220">You can create dashboards and add one or more sheets tooit.</span></span>

## <a name="next-steps"></a><span data-ttu-id="1b69a-221">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="1b69a-221">Next steps</span></span>

<span data-ttu-id="1b69a-222">Do tej pory przedstawiono sposób toocreate klastra, Utwórz tooquery Spark danych ramki, a następnie przejść danych z narzędzi do analizy Biznesowej.</span><span class="sxs-lookup"><span data-stu-id="1b69a-222">So far you learned how toocreate a cluster, create Spark data frames tooquery data, and then access that data from BI tools.</span></span> <span data-ttu-id="1b69a-223">Teraz można przeglądać informacje dotyczące sposobu toomanage hello zasobów klastra i debugowania zadania, które są uruchomione w klastrze Spark w usłudze HDInsight.</span><span class="sxs-lookup"><span data-stu-id="1b69a-223">You can now look at instructions on how toomanage hello cluster resources and debug jobs that are running in an HDInsight Spark cluster.</span></span>

* [<span data-ttu-id="1b69a-224">Zarządzanie zasobami hello klastra Apache Spark w usłudze Azure HDInsight</span><span class="sxs-lookup"><span data-stu-id="1b69a-224">Manage resources for hello Apache Spark cluster in Azure HDInsight</span></span>](hdinsight-apache-spark-resource-manager.md)
* [<span data-ttu-id="1b69a-225">Śledzenie i debugowanie zadań uruchamianych w klastrze Apache Spark w usłudze HDInsight</span><span class="sxs-lookup"><span data-stu-id="1b69a-225">Track and debug jobs running on an Apache Spark cluster in HDInsight</span></span>](hdinsight-apache-spark-job-debugging.md)

