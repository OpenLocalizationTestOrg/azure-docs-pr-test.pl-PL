---
title: "HDInsight wielu klastrów przy użyciu konta usługi Azure Data Lake Store - Azure aaaUse | Dokumentacja firmy Microsoft"
description: "Dowiedz się, jak klaster toouse więcej niż jeden HDInsight z jednego konta usługi Data Lake Store"
keywords: "magazynu usługi hdinsight, system plików hdfs, danych strukturalnych, bez struktury danych, data lake — Magazyn"
services: hdinsight,storage
documentationcenter: 
tags: azure-portal
author: nitinme
manager: jhubbard
editor: cgronlun
ms.service: hdinsight
ms.custom: hdinsightactive
ms.workload: big-data
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/02/2017
ms.author: nitinme
ms.openlocfilehash: 3a125b91fcc1e436270a1bd349f7a2d8f27e06fb
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="use-multiple-hdinsight-clusters-with-an-azure-data-lake-store-account"></a><span data-ttu-id="34eee-104">Użyj wielu klastrów usługi HDInsight przy użyciu konta usługi Azure Data Lake Store</span><span class="sxs-lookup"><span data-stu-id="34eee-104">Use multiple HDInsight clusters with an Azure Data Lake Store account</span></span>

<span data-ttu-id="34eee-105">Począwszy od usługi HDInsight w wersji 3.5, można utworzyć klastry usługi HDInsight przy użyciu kont usługi Azure Data Lake Store jako hello domyślne w systemie plików.</span><span class="sxs-lookup"><span data-stu-id="34eee-105">Starting with HDInsight version 3.5, you can create HDInsight clusters with  Azure Data Lake Store accounts as hello default filesystem.</span></span>
<span data-ttu-id="34eee-106">Data Lake Store obsługuje nieograniczony magazyn, który to idealny nie tylko do obsługi dużych ilości danych. można jednak również hostingu HDInsight wielu klastrów korzystających z jednego konta magazynu Data Lake.</span><span class="sxs-lookup"><span data-stu-id="34eee-106">Data Lake Store supports unlimited storage that makes it ideal not only for hosting large amounts of data; but also for hosting multiple HDInsight clusters that share a single Data Lake Store Account.</span></span> <span data-ttu-id="34eee-107">Aby instructionson jak toocreate HDInsight klaster z usługi Data Lake Store jako hello magazynu, zobacz [Tworzenie klastrów usługi HDInsight z usługą Data Lake Store](../data-lake-store/data-lake-store-hdinsight-hadoop-use-portal.md).</span><span class="sxs-lookup"><span data-stu-id="34eee-107">For instructionson how toocreate an HDInsight cluster with Data Lake Store as hello storage, see [Create HDInsight clusters with Data Lake Store](../data-lake-store/data-lake-store-hdinsight-hadoop-use-portal.md).</span></span>

<span data-ttu-id="34eee-108">Ten artykuł zawiera administratorem magazynu Data Lake toohello zalecenia dotyczące konfigurowania pojedynczego i udostępnionych przechowywania konta usługi Data Lake używany w wielu **active** klastrów usługi HDInsight.</span><span class="sxs-lookup"><span data-stu-id="34eee-108">This article provides recommendations toohello Data Lake store administrator for setting up a single and shared Data Lake Store Account that can be used across multiple **active** HDInsight clusters.</span></span> <span data-ttu-id="34eee-109">Zalecenia te mają zastosowanie toohosting wiele Hadoop bezpieczny, a także niezabezpieczonego klastrów udostępnionego konta sklepu usługi Data Lake.</span><span class="sxs-lookup"><span data-stu-id="34eee-109">These recommendations apply toohosting multiple secure as well as non-secure Hadoop clusters on a shared Data Lake store account.</span></span>


## <a name="data-lake-store-file-and-folder-level-acls"></a><span data-ttu-id="34eee-110">Data Lake — magazyn plików i folderów na poziomie listy kontroli dostępu</span><span class="sxs-lookup"><span data-stu-id="34eee-110">Data Lake Store file and folder level ACLs</span></span>

<span data-ttu-id="34eee-111">Witaj dalszej części tego artykułu założono, że dobrą znajomość poziomu plików i folderów listy kontroli dostępu w usłudze Azure Data Lake Store, które opisano szczegółowo w [kontroli dostępu w usłudze Azure Data Lake Store](../data-lake-store/data-lake-store-access-control.md).</span><span class="sxs-lookup"><span data-stu-id="34eee-111">hello rest of this article assumes that you have a good knowledge of file and folder level ACLs in Azure Data Lake Store, which is described in detail at [Access control in Azure Data Lake Store](../data-lake-store/data-lake-store-access-control.md).</span></span>

## <a name="data-lake-store-setup-for-multiple-hdinsight-clusters"></a><span data-ttu-id="34eee-112">Instalator usługi Data Lake Store dla wielu klastrów usługi HDInsight</span><span class="sxs-lookup"><span data-stu-id="34eee-112">Data Lake Store setup for multiple HDInsight clusters</span></span>
<span data-ttu-id="34eee-113">Daj nam zająć hierarchię folderów dwupoziomowej tooexplain hello zalecenia dotyczące używania wiele klastrów usługi HDInsight przy użyciu konta usługi Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="34eee-113">Let us take a two-level folder hierarchy tooexplain hello recommendations for using mutilple HDInsight clusters with a Data Lake Store account.</span></span> <span data-ttu-id="34eee-114">Należy wziąć pod uwagę konta usługi Data Lake Store z struktury folderów hello **/klastrów/finance**.</span><span class="sxs-lookup"><span data-stu-id="34eee-114">Consider you have a Data Lake Store account with hello folder structure **/clusters/finance**.</span></span> <span data-ttu-id="34eee-115">Z tej struktury wszystkich klastrach hello wymagane przez organizację Finance hello służy /clusters/finance hello lokalizacji magazynu.</span><span class="sxs-lookup"><span data-stu-id="34eee-115">With this structure, all hello clusters required by hello Finance organization can use /clusters/finance as hello storage location.</span></span> <span data-ttu-id="34eee-116">W przyszłości, jeśli innej organizacji, powiedz Marketing, chce toocreate klastrów usługi HDInsight przy użyciu hello tego samego konta usługi Data Lake Store, można ich utworzyć /clusters/marketing hello.</span><span class="sxs-lookup"><span data-stu-id="34eee-116">In hello future, if another organization, say Marketing, wants toocreate HDInsight clusters using hello same Data Lake Store account, they could create /clusters/marketing.</span></span> <span data-ttu-id="34eee-117">Teraz, po prostu Użyjmy **/klastrów/finance**.</span><span class="sxs-lookup"><span data-stu-id="34eee-117">For now, let's just use **/clusters/finance**.</span></span>

<span data-ttu-id="34eee-118">tooenable tego toobe struktury folderu skutecznie używanych przez klastry usługi HDInsight, administrator usługi Data Lake Store hello musi przypisać odpowiednie uprawnienia, zgodnie z opisem w tabeli hello.</span><span class="sxs-lookup"><span data-stu-id="34eee-118">tooenable this folder structure toobe effectively used by HDInsight clusters, hello Data Lake Store administrator must assign appropriate permissions, as described in hello table.</span></span> <span data-ttu-id="34eee-119">uprawnienia Hello tabelą hello odpowiada listy ACL tooAccess, a nie domyślnej ACL.</span><span class="sxs-lookup"><span data-stu-id="34eee-119">hello permissions shown in hello table correspond tooAccess-ACLs, and not Default-ACLs.</span></span> 


|<span data-ttu-id="34eee-120">Folder</span><span class="sxs-lookup"><span data-stu-id="34eee-120">Folder</span></span>  |<span data-ttu-id="34eee-121">Uprawnienia</span><span class="sxs-lookup"><span data-stu-id="34eee-121">Permissions</span></span>  |<span data-ttu-id="34eee-122">Użytkownik będący właścicielem</span><span class="sxs-lookup"><span data-stu-id="34eee-122">Owning user</span></span>  |<span data-ttu-id="34eee-123">Grupa będąca właścicielem</span><span class="sxs-lookup"><span data-stu-id="34eee-123">Owning group</span></span>  | <span data-ttu-id="34eee-124">Użytkownik nazwany</span><span class="sxs-lookup"><span data-stu-id="34eee-124">Named user</span></span> | <span data-ttu-id="34eee-125">Uprawnienia użytkownika o nazwie</span><span class="sxs-lookup"><span data-stu-id="34eee-125">Named user permissions</span></span> | <span data-ttu-id="34eee-126">Grupa o nazwie</span><span class="sxs-lookup"><span data-stu-id="34eee-126">Named group</span></span> | <span data-ttu-id="34eee-127">Uprawnienia grupy o nazwie</span><span class="sxs-lookup"><span data-stu-id="34eee-127">Named group permissions</span></span> |
|---------|---------|---------|---------|---------|---------|---------|---------|
|/ | <span data-ttu-id="34eee-128">rwxr-x - x</span><span class="sxs-lookup"><span data-stu-id="34eee-128">rwxr-x--x</span></span>  |<span data-ttu-id="34eee-129">Administrator</span><span class="sxs-lookup"><span data-stu-id="34eee-129">admin</span></span> |<span data-ttu-id="34eee-130">Administrator</span><span class="sxs-lookup"><span data-stu-id="34eee-130">admin</span></span>  |<span data-ttu-id="34eee-131">Nazwy głównej usługi</span><span class="sxs-lookup"><span data-stu-id="34eee-131">Service principal</span></span> |<span data-ttu-id="34eee-132">--x</span><span class="sxs-lookup"><span data-stu-id="34eee-132">--x</span></span>  |<span data-ttu-id="34eee-133">FINGRP</span><span class="sxs-lookup"><span data-stu-id="34eee-133">FINGRP</span></span>   |<span data-ttu-id="34eee-134">r-x</span><span class="sxs-lookup"><span data-stu-id="34eee-134">r-x</span></span>         |
|<span data-ttu-id="34eee-135">/Clusters</span><span class="sxs-lookup"><span data-stu-id="34eee-135">/clusters</span></span> | <span data-ttu-id="34eee-136">rwxr-x - x</span><span class="sxs-lookup"><span data-stu-id="34eee-136">rwxr-x--x</span></span> |<span data-ttu-id="34eee-137">Administrator</span><span class="sxs-lookup"><span data-stu-id="34eee-137">admin</span></span> |<span data-ttu-id="34eee-138">Administrator</span><span class="sxs-lookup"><span data-stu-id="34eee-138">admin</span></span> |<span data-ttu-id="34eee-139">Nazwy głównej usługi</span><span class="sxs-lookup"><span data-stu-id="34eee-139">Service principal</span></span> |<span data-ttu-id="34eee-140">--x</span><span class="sxs-lookup"><span data-stu-id="34eee-140">--x</span></span>  |<span data-ttu-id="34eee-141">FINGRP</span><span class="sxs-lookup"><span data-stu-id="34eee-141">FINGRP</span></span> |<span data-ttu-id="34eee-142">r-x</span><span class="sxs-lookup"><span data-stu-id="34eee-142">r-x</span></span>         |
|<span data-ttu-id="34eee-143">/ klastrów/finance</span><span class="sxs-lookup"><span data-stu-id="34eee-143">/clusters/finance</span></span> | <span data-ttu-id="34eee-144">rwxr-x - t</span><span class="sxs-lookup"><span data-stu-id="34eee-144">rwxr-x--t</span></span> |<span data-ttu-id="34eee-145">Administrator</span><span class="sxs-lookup"><span data-stu-id="34eee-145">admin</span></span> |<span data-ttu-id="34eee-146">FINGRP</span><span class="sxs-lookup"><span data-stu-id="34eee-146">FINGRP</span></span>  |<span data-ttu-id="34eee-147">Nazwy głównej usługi</span><span class="sxs-lookup"><span data-stu-id="34eee-147">Service principal</span></span> |<span data-ttu-id="34eee-148">rwx</span><span class="sxs-lookup"><span data-stu-id="34eee-148">rwx</span></span>  |-  |-     |

<span data-ttu-id="34eee-149">W tabeli hello</span><span class="sxs-lookup"><span data-stu-id="34eee-149">In hello table,</span></span>

- <span data-ttu-id="34eee-150">**Administrator** jest twórcy Witaj i administrator hello konta usługi Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="34eee-150">**admin** is hello creator and administrator of hello Data Lake Store account.</span></span>
- <span data-ttu-id="34eee-151">**Nazwy głównej usługi** jest hello Azure Active Directory (AAD) nazwy głównej usługi skojarzone z kontem hello.</span><span class="sxs-lookup"><span data-stu-id="34eee-151">**Service principal** is hello Azure Active Directory (AAD) service principal associated with hello account.</span></span>
- <span data-ttu-id="34eee-152">**FINGRP** to grupa użytkowników utworzone w usłudze AAD, zawierającą użytkowników z hello finansowych organizacji.</span><span class="sxs-lookup"><span data-stu-id="34eee-152">**FINGRP** is a user group created in AAD that contains users from hello Finance organization.</span></span>

<span data-ttu-id="34eee-153">Aby uzyskać instrukcje dotyczące toocreate aplikację AAD (która także tworzy nazwy głównej usługi), zobacz temat [utworzyć aplikację AAD](../azure-resource-manager/resource-group-create-service-principal-portal.md#create-an-azure-active-directory-application).</span><span class="sxs-lookup"><span data-stu-id="34eee-153">For instructions on how toocreate an AAD application (that also creates a Service Principal), see [Create an AAD application](../azure-resource-manager/resource-group-create-service-principal-portal.md#create-an-azure-active-directory-application).</span></span> <span data-ttu-id="34eee-154">Aby uzyskać instrukcje dotyczące toocreate grupę użytkowników w usłudze AAD, zobacz temat [Zarządzanie grupami w usłudze Azure Active Directory](../active-directory/active-directory-accessmanagement-manage-groups.md).</span><span class="sxs-lookup"><span data-stu-id="34eee-154">For instructions on how toocreate a user group in AAD, see [Managing groups in Azure Active Directory](../active-directory/active-directory-accessmanagement-manage-groups.md).</span></span>

<span data-ttu-id="34eee-155">Niektóre najważniejsze tooconsider.</span><span class="sxs-lookup"><span data-stu-id="34eee-155">Some key points tooconsider.</span></span>

- <span data-ttu-id="34eee-156">Struktura folderów poziomu Hello dwa (**/klastrów/finance/**) muszą być utworzone i udostępnione z odpowiednimi uprawnieniami przy Witaj, Administratorze usługi Data Lake Store **przed** za pomocą hello konta magazynu dla klastrów.</span><span class="sxs-lookup"><span data-stu-id="34eee-156">hello two level folder structure (**/clusters/finance/**) must be created and provisioned with appropriate permissions by hello Data Lake Store admin **before** using hello storage account for clusters.</span></span> <span data-ttu-id="34eee-157">Ta struktura nie jest tworzona automatycznie podczas tworzenia klastrów.</span><span class="sxs-lookup"><span data-stu-id="34eee-157">This structure is not created automatically while creating clusters.</span></span>
- <span data-ttu-id="34eee-158">w powyższym przykładzie Hello zaleca ustawienie hello będący właścicielem grupy **/klastrów/finance** jako **FINGRP** i umożliwiający **r x** dostępu tooFINGRP toohello cały folder, w hierarchii począwszy od głównego hello.</span><span class="sxs-lookup"><span data-stu-id="34eee-158">hello example above recommends setting hello owning group of **/clusters/finance** as **FINGRP** and permitting **r-x** access tooFINGRP toohello entire folder hierarchy starting from hello root.</span></span> <span data-ttu-id="34eee-159">Dzięki temu, że hello członkami FINGRP można przechodzić hello struktury folderów, począwszy od katalogu głównego.</span><span class="sxs-lookup"><span data-stu-id="34eee-159">This ensures that hello members of FINGRP can navigate hello folder structure starting from root.</span></span>
- <span data-ttu-id="34eee-160">W przypadku hello różne jednostki usługi AAD może tworzenia klastrów w obszarze **/klastrów/finance**, hello trwałe z bitowego (ustawionej dla hello **finance** folder) zapewnia, że foldery utworzone przez jedną usługę Podmiot zabezpieczeń nie można usunąć przez hello innych.</span><span class="sxs-lookup"><span data-stu-id="34eee-160">In hello case when different AAD Service Principals can create clusters under **/clusters/finance**, hello sticky-bit (when set on hello **finance** folder) ensures that folders created by one Service Principal cannot be deleted by hello other.</span></span>
- <span data-ttu-id="34eee-161">Po zatwierdzeniu hello struktury folderów i uprawnienia w miejscu, procesu tworzenia klastra usługi HDInsight tworzy lokalizacja magazynu specyficznych dla klastra, w obszarze **/klastrów/finance/**.</span><span class="sxs-lookup"><span data-stu-id="34eee-161">Once hello folder structure and permissions are in place, HDInsight cluster creation process creates a cluster-specific storage loaction under **/clusters/finance/**.</span></span> <span data-ttu-id="34eee-162">Na przykład można hello magazynu dla klastra z hello nazwa fincluster01 **/clusters/finance/fincluster01**.</span><span class="sxs-lookup"><span data-stu-id="34eee-162">For example, hello storage for a cluster with hello name fincluster01 could be **/clusters/finance/fincluster01**.</span></span> <span data-ttu-id="34eee-163">Witaj własności i uprawnienia do folderów hello utworzoną przez klaster usługi HDInsight w hello tabeli przedstawiono w tym miejscu.</span><span class="sxs-lookup"><span data-stu-id="34eee-163">hello ownership and permissions for hello folders created by HDInsight cluster is shown in hello table here.</span></span>

    |<span data-ttu-id="34eee-164">Folder</span><span class="sxs-lookup"><span data-stu-id="34eee-164">Folder</span></span>  |<span data-ttu-id="34eee-165">Uprawnienia</span><span class="sxs-lookup"><span data-stu-id="34eee-165">Permissions</span></span>  |<span data-ttu-id="34eee-166">Użytkownik będący właścicielem</span><span class="sxs-lookup"><span data-stu-id="34eee-166">Owning user</span></span>  |<span data-ttu-id="34eee-167">Grupa będąca właścicielem</span><span class="sxs-lookup"><span data-stu-id="34eee-167">Owning group</span></span>  | <span data-ttu-id="34eee-168">Użytkownik nazwany</span><span class="sxs-lookup"><span data-stu-id="34eee-168">Named user</span></span> | <span data-ttu-id="34eee-169">Uprawnienia użytkownika o nazwie</span><span class="sxs-lookup"><span data-stu-id="34eee-169">Named user permissions</span></span> | <span data-ttu-id="34eee-170">Grupa o nazwie</span><span class="sxs-lookup"><span data-stu-id="34eee-170">Named group</span></span> | <span data-ttu-id="34eee-171">Uprawnienia grupy o nazwie</span><span class="sxs-lookup"><span data-stu-id="34eee-171">Named group permissions</span></span> |
    |---------|---------|---------|---------|---------|---------|---------|---------|
    |<span data-ttu-id="34eee-172">/Clusters/finanace/fincluster01</span><span class="sxs-lookup"><span data-stu-id="34eee-172">/clusters/finanace/ fincluster01</span></span> | <span data-ttu-id="34eee-173">rwxr-x---</span><span class="sxs-lookup"><span data-stu-id="34eee-173">rwxr-x---</span></span>  |<span data-ttu-id="34eee-174">Nazwy głównej usługi</span><span class="sxs-lookup"><span data-stu-id="34eee-174">Service Principal</span></span> |<span data-ttu-id="34eee-175">FINGRP</span><span class="sxs-lookup"><span data-stu-id="34eee-175">FINGRP</span></span>  |- |-  |-   |-  | 
   


## <a name="recommendations-for-job-input-and-output-data"></a><span data-ttu-id="34eee-176">Zalecenia dotyczące zadania danych wejściowych i wyjściowych</span><span class="sxs-lookup"><span data-stu-id="34eee-176">Recommendations for job input and output data</span></span>

<span data-ttu-id="34eee-177">Firma Microsoft zaleca się zadania tooa danych wejściowych, którą hello dane wyjściowe z zadania być przechowywane w folderze poza **/klastrów**.</span><span class="sxs-lookup"><span data-stu-id="34eee-177">We recommend that input data tooa job, and hello outputs from a job be stored in a folder outside **/clusters**.</span></span> <span data-ttu-id="34eee-178">Dzięki temu nawet, jeśli folder specyficznych dla klastra hello jest tooreclaim usunięte niektóre miejsca do magazynowania, dane wejściowe zadania hello i dane wyjściowe są nadal dostępne do użycia w przyszłości.</span><span class="sxs-lookup"><span data-stu-id="34eee-178">This ensures that even if hello cluster-specific folder is deleted tooreclaim some storage space,hello job inputs and outputs are still available for future use.</span></span> <span data-ttu-id="34eee-179">W takim przypadku sprawdź, czy hierarchia folderów hello do przechowywania hello zadania wejściami i wyjściami pozwalają odpowiedni poziom dostępu dla hello nazwy głównej usługi.</span><span class="sxs-lookup"><span data-stu-id="34eee-179">In such a case, ensure that hello folder hierarchy for storing hello job inputs and outputs allows appropriate level of access for hello Service Principal.</span></span>

## <a name="limit-on-clusters-sharing-a-single-storage-account"></a><span data-ttu-id="34eee-180">Ograniczenia w klastrach udostępnianie konta jednego magazynu</span><span class="sxs-lookup"><span data-stu-id="34eee-180">Limit on clusters sharing a single storage account</span></span>

<span data-ttu-id="34eee-181">limit Hello hello liczby klastrów, które współużytkują jedno konto usługi Data Lake Store, zależy od obciążenia hello uruchomione na tych klastrach.</span><span class="sxs-lookup"><span data-stu-id="34eee-181">hello limit on hello number of clusters that can share a single Data Lake Store account depends on hello workload being run on those clusters.</span></span> <span data-ttu-id="34eee-182">O zbyt wielu klastrów lub bardzo duże obciążenie pracą w klastrach hello, które mają konto magazynu może spowodować hello magazynu konta wejście/wyjście tooget ograniczany.</span><span class="sxs-lookup"><span data-stu-id="34eee-182">Having too many clusters or very heavy workloads on hello clusters that share a storage account might cause hello storage account ingress/egress tooget throttled.</span></span>

## <a name="support-for-default-acls"></a><span data-ttu-id="34eee-183">Obsługa listy ACL domyślne</span><span class="sxs-lookup"><span data-stu-id="34eee-183">Support for Default-ACLs</span></span>

<span data-ttu-id="34eee-184">Podczas tworzenia nazwy głównej usługi z dostępem użytkownika o nazwie (zgodnie z informacjami podanymi w powyższej tabeli hello), zaleca się **nie** Dodawanie hello o nazwie użytkownika z domyślnej listy ACL.</span><span class="sxs-lookup"><span data-stu-id="34eee-184">When creating a Service Principal with named-user access (as shown in hello table above), we recommend **not** adding hello named-user with a default-ACL.</span></span> <span data-ttu-id="34eee-185">Inicjowanie obsługi o nazwie użytkownika dostęp przy użyciu list ACL domyślne wyniki w hello przypisanie uprawnień 770 użytkownik właściciel, będący właścicielem grupy i inne.</span><span class="sxs-lookup"><span data-stu-id="34eee-185">Provisioning named-user access using default-ACLs results in hello assignment of 770 permissions for owning-user, owning-group, and others.</span></span> <span data-ttu-id="34eee-186">Gdy ta wartość domyślną 770 nie odbieranie uprawnień z użytkownik właściciel (7) lub grupy będącej właścicielem [7], optymalizacji trwa wszystkie uprawnienia dla innych użytkowników (0).</span><span class="sxs-lookup"><span data-stu-id="34eee-186">While this default value of 770 does not take away permissions from owning-user (7) or owning-group (7), it takes away all permissions for others (0).</span></span> <span data-ttu-id="34eee-187">Powoduje to znany problem dotyczący jednego określonego przypadek użycia, która została omówiona szczegółowo w hello [— znane problemy i rozwiązania](#known-issues-and-workarounds) sekcji.</span><span class="sxs-lookup"><span data-stu-id="34eee-187">This results in a known issue with one particular use-case that is discussed in detail in hello [Known issues and workarounds](#known-issues-and-workarounds) section.</span></span>

## <a name="known-issues-and-workarounds"></a><span data-ttu-id="34eee-188">Znane problemy i rozwiązania</span><span class="sxs-lookup"><span data-stu-id="34eee-188">Known issues and workarounds</span></span>

<span data-ttu-id="34eee-189">W tej sekcji wymieniono znane problemy dotyczące korzystania z usługi Data Lake Store i ich obejścia HDInsight hello.</span><span class="sxs-lookup"><span data-stu-id="34eee-189">This section lists hello known issues for using HDInsight with Data Lake Store, and their workarounds.</span></span>

### <a name="publicly-visible-localized-yarn-resources"></a><span data-ttu-id="34eee-190">Widocznego publicznie zlokalizowanych zasobów YARN</span><span class="sxs-lookup"><span data-stu-id="34eee-190">Publicly visible localized YARN resources</span></span>

<span data-ttu-id="34eee-191">Po utworzeniu nowego konta magazynu usługi Azure Data Lake katalog główny hello jest automatycznie udostępniane z too770 zestawu usługi bits uprawnienia dostępu ACL.</span><span class="sxs-lookup"><span data-stu-id="34eee-191">When a new Azure Data Lake store account is created, hello root directory is automatically provisioned with Access-ACL permission bits set too770.</span></span> <span data-ttu-id="34eee-192">folder główny Hello będący właścicielem użytkownika użytkownik toohello zestawu, który utworzył konto hello (Witaj, Administratorze usługi Data Lake Store), a właścicielem grupy hello jest ustawiana toohello grupą podstawową hello użytkownik, który utworzył konto hello.</span><span class="sxs-lookup"><span data-stu-id="34eee-192">hello root folder’s owning user is set toohello user that created hello account (hello Data Lake Store admin) and hello owning group is set toohello primary group of hello user that created hello account.</span></span> <span data-ttu-id="34eee-193">Brak dostępu jest dostępna dla "inne".</span><span class="sxs-lookup"><span data-stu-id="34eee-193">No access is provided for "others".</span></span>

<span data-ttu-id="34eee-194">Te ustawienia są znane tooaffect jednego określonego HDInsight przypadek użycia przechwytywane [YARN 247](https://hwxmonarch.atlassian.net/browse/YARN-247).</span><span class="sxs-lookup"><span data-stu-id="34eee-194">These settings are known tooaffect one specific HDInsight use-case captured in [YARN 247](https://hwxmonarch.atlassian.net/browse/YARN-247).</span></span> <span data-ttu-id="34eee-195">Przesyłanie zadań może zakończyć się niepowodzeniem z toothis podobne komunikat błędu:</span><span class="sxs-lookup"><span data-stu-id="34eee-195">Job submissions could fail with an error message similar toothis:</span></span>

    Resource XXXX is not publicly accessible and as such cannot be part of hello public cache.

<span data-ttu-id="34eee-196">Zgodnie z hello YARN JIRA połączony wcześniej, podczas lokalizowania zasobów publicznych hello się, że lokalizatora sprawdza, czy wszystkie hello wymagane zasoby są w rzeczywistości publicznego, sprawdzając swoje uprawnienia w zdalnym systemie plików hello.</span><span class="sxs-lookup"><span data-stu-id="34eee-196">As stated in hello YARN JIRA linked earlier, while localizing public resources, hello localizer validates that all hello requested resources are indeed public by checking their permissions on hello remote file-system.</span></span> <span data-ttu-id="34eee-197">Lokalizacja odrzucenia żadnych LocalResource, który nie mieści się tego warunku.</span><span class="sxs-lookup"><span data-stu-id="34eee-197">Any LocalResource that does not fit that condition is rejected for localization.</span></span> <span data-ttu-id="34eee-198">Witaj wyboru dla uprawnień, obejmuje toohello dostęp do odczytu pliku "inne".</span><span class="sxs-lookup"><span data-stu-id="34eee-198">hello check for permissions, includes read-access toohello file for "others".</span></span> <span data-ttu-id="34eee-199">W tym scenariuszu nie działa poza pole odnośnie do hostowania klastrów HDInsight w usłudze Azure Data Lake, ponieważ usługa Azure Data Lake nie zezwala na dostęp za "inne" na poziomie folderu głównego.</span><span class="sxs-lookup"><span data-stu-id="34eee-199">This scenario does not work out-of-the-box when hosting HDInsight clusters on Azure Data Lake, since Azure Data Lake denies all access too"others" at root folder level.</span></span>

#### <a name="workaround"></a><span data-ttu-id="34eee-200">Obejście problemu</span><span class="sxs-lookup"><span data-stu-id="34eee-200">Workaround</span></span>
<span data-ttu-id="34eee-201">Zestaw odczytu-uprawnienia do uruchamiania **innym** przez hierarchię hello, na przykład  **/** , **/klastrów** i   **/klastrów/finance**  opisane w powyższej tabeli hello.</span><span class="sxs-lookup"><span data-stu-id="34eee-201">Set read-execute permissions for **others** through hello hierarchy, for example,  at **/**, **/clusters** and **/clusters/finance** as shown in hello table above.</span></span>

## <a name="see-also"></a><span data-ttu-id="34eee-202">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="34eee-202">See also</span></span>

* [<span data-ttu-id="34eee-203">Tworzenie klastra usługi HDInsight z usługą Data Lake Store jako magazyn</span><span class="sxs-lookup"><span data-stu-id="34eee-203">Create an HDInsight cluster with Data Lake Store as storage</span></span>](../data-lake-store/data-lake-store-hdinsight-hadoop-use-portal.md)


