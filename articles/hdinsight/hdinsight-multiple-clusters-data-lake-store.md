---
title: "Użyj wielu klastrów usługi HDInsight przy użyciu konta usługi Azure Data Lake Store - Azure | Dokumentacja firmy Microsoft"
description: "Dowiedz się, jak używać więcej niż jednego klastra usługi HDInsight przy użyciu pojedynczego konta usługi Data Lake Store"
keywords: "magazynu usługi hdinsight, system plików hdfs, danych strukturalnych, bez struktury danych, data lake — Magazyn"
services: hdinsight,storage
documentationcenter: 
tags: azure-portal
author: nitinme
manager: jhubbard
editor: cgronlun
ms.service: hdinsight
ms.custom: hdinsightactive
ms.workload: big-data
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/02/2017
ms.author: nitinme
ms.openlocfilehash: 043141e8496a947f54564d29a1d7fb724fac5cda
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 07/11/2017
---
# <a name="use-multiple-hdinsight-clusters-with-an-azure-data-lake-store-account"></a><span data-ttu-id="da706-104">Użyj wielu klastrów usługi HDInsight przy użyciu konta usługi Azure Data Lake Store</span><span class="sxs-lookup"><span data-stu-id="da706-104">Use multiple HDInsight clusters with an Azure Data Lake Store account</span></span>

<span data-ttu-id="da706-105">Począwszy od usługi HDInsight w wersji 3.5, można utworzyć klastry usługi HDInsight przy użyciu kont usługi Azure Data Lake Store jako domyślny system plików.</span><span class="sxs-lookup"><span data-stu-id="da706-105">Starting with HDInsight version 3.5, you can create HDInsight clusters with  Azure Data Lake Store accounts as the default filesystem.</span></span>
<span data-ttu-id="da706-106">Data Lake Store obsługuje nieograniczony magazyn, który to idealny nie tylko do obsługi dużych ilości danych. można jednak również hostingu HDInsight wielu klastrów korzystających z jednego konta magazynu Data Lake.</span><span class="sxs-lookup"><span data-stu-id="da706-106">Data Lake Store supports unlimited storage that makes it ideal not only for hosting large amounts of data; but also for hosting multiple HDInsight clusters that share a single Data Lake Store Account.</span></span> <span data-ttu-id="da706-107">Aby uzyskać instructionson do tworzenia klastra usługi HDInsight z danymi Lake przechowywane jako magazynu, zobacz [Tworzenie klastrów usługi HDInsight z usługą Data Lake Store](../data-lake-store/data-lake-store-hdinsight-hadoop-use-portal.md).</span><span class="sxs-lookup"><span data-stu-id="da706-107">For instructionson how to create an HDInsight cluster with Data Lake Store as the storage, see [Create HDInsight clusters with Data Lake Store](../data-lake-store/data-lake-store-hdinsight-hadoop-use-portal.md).</span></span>

<span data-ttu-id="da706-108">Ten artykuł zawiera zalecenia dotyczące usługi Data Lake administratora magazynu do konfigurowania pojedynczego i udostępnionych przechowywania konta usługi Data Lake używany w wielu **active** klastrów usługi HDInsight.</span><span class="sxs-lookup"><span data-stu-id="da706-108">This article provides recommendations to the Data Lake store administrator for setting up a single and shared Data Lake Store Account that can be used across multiple **active** HDInsight clusters.</span></span> <span data-ttu-id="da706-109">Te zalecenia dotyczą hosting wielu klastrów platformy Hadoop bezpieczny, a także niezabezpieczonego udostępnionego konta sklepu usługi Data Lake.</span><span class="sxs-lookup"><span data-stu-id="da706-109">These recommendations apply to hosting multiple secure as well as non-secure Hadoop clusters on a shared Data Lake store account.</span></span>


## <a name="data-lake-store-file-and-folder-level-acls"></a><span data-ttu-id="da706-110">Data Lake — magazyn plików i folderów na poziomie listy kontroli dostępu</span><span class="sxs-lookup"><span data-stu-id="da706-110">Data Lake Store file and folder level ACLs</span></span>

<span data-ttu-id="da706-111">Dalszej części tego artykułu założono, że dobrą znajomość poziomu plików i folderów listy kontroli dostępu w usłudze Azure Data Lake Store, które opisano szczegółowo w [kontroli dostępu w usłudze Azure Data Lake Store](../data-lake-store/data-lake-store-access-control.md).</span><span class="sxs-lookup"><span data-stu-id="da706-111">The rest of this article assumes that you have a good knowledge of file and folder level ACLs in Azure Data Lake Store, which is described in detail at [Access control in Azure Data Lake Store](../data-lake-store/data-lake-store-access-control.md).</span></span>

## <a name="data-lake-store-setup-for-multiple-hdinsight-clusters"></a><span data-ttu-id="da706-112">Instalator usługi Data Lake Store dla wielu klastrów usługi HDInsight</span><span class="sxs-lookup"><span data-stu-id="da706-112">Data Lake Store setup for multiple HDInsight clusters</span></span>
<span data-ttu-id="da706-113">Daj nam zająć hierarchię folderów dwupoziomowej wyjaśnić zalecenia dotyczące używania wiele klastrów usługi HDInsight przy użyciu konta usługi Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="da706-113">Let us take a two-level folder hierarchy to explain the recommendations for using mutilple HDInsight clusters with a Data Lake Store account.</span></span> <span data-ttu-id="da706-114">Należy wziąć pod uwagę konta usługi Data Lake Store z tej struktury folderów **/klastrów/finance**.</span><span class="sxs-lookup"><span data-stu-id="da706-114">Consider you have a Data Lake Store account with the folder structure **/clusters/finance**.</span></span> <span data-ttu-id="da706-115">Ta struktura wszystkich klastrów, które są wymagane przez organizację Finance można za pomocą /clusters/finance jako lokalizacji magazynu.</span><span class="sxs-lookup"><span data-stu-id="da706-115">With this structure, all the clusters required by the Finance organization can use /clusters/finance as the storage location.</span></span> <span data-ttu-id="da706-116">W przyszłości, jeśli innej organizacji powiedz marketingu chce utworzyć klastry przy użyciu tego samego konta usługi Data Lake Store, ich można utworzyć/klastrów/marketing HDInsight.</span><span class="sxs-lookup"><span data-stu-id="da706-116">In the future, if another organization, say Marketing, wants to create HDInsight clusters using the same Data Lake Store account, they could create /clusters/marketing.</span></span> <span data-ttu-id="da706-117">Teraz, po prostu Użyjmy **/klastrów/finance**.</span><span class="sxs-lookup"><span data-stu-id="da706-117">For now, let's just use **/clusters/finance**.</span></span>

<span data-ttu-id="da706-118">Aby włączyć tę strukturę folderów skutecznie używanego przez klastry usługi HDInsight, administrator usługi Data Lake Store przypisać odpowiednie uprawnienia, zgodnie z opisem w tabeli.</span><span class="sxs-lookup"><span data-stu-id="da706-118">To enable this folder structure to be effectively used by HDInsight clusters, the Data Lake Store administrator must assign appropriate permissions, as described in the table.</span></span> <span data-ttu-id="da706-119">Uprawnienia wymienione w tabeli odpowiadają dostępu ACL, a nie domyślnej ACL.</span><span class="sxs-lookup"><span data-stu-id="da706-119">The permissions shown in the table correspond to Access-ACLs, and not Default-ACLs.</span></span> 


|<span data-ttu-id="da706-120">Folder</span><span class="sxs-lookup"><span data-stu-id="da706-120">Folder</span></span>  |<span data-ttu-id="da706-121">Uprawnienia</span><span class="sxs-lookup"><span data-stu-id="da706-121">Permissions</span></span>  |<span data-ttu-id="da706-122">Użytkownik będący właścicielem</span><span class="sxs-lookup"><span data-stu-id="da706-122">Owning user</span></span>  |<span data-ttu-id="da706-123">Grupa będąca właścicielem</span><span class="sxs-lookup"><span data-stu-id="da706-123">Owning group</span></span>  | <span data-ttu-id="da706-124">Użytkownik nazwany</span><span class="sxs-lookup"><span data-stu-id="da706-124">Named user</span></span> | <span data-ttu-id="da706-125">Uprawnienia użytkownika o nazwie</span><span class="sxs-lookup"><span data-stu-id="da706-125">Named user permissions</span></span> | <span data-ttu-id="da706-126">Grupa o nazwie</span><span class="sxs-lookup"><span data-stu-id="da706-126">Named group</span></span> | <span data-ttu-id="da706-127">Uprawnienia grupy o nazwie</span><span class="sxs-lookup"><span data-stu-id="da706-127">Named group permissions</span></span> |
|---------|---------|---------|---------|---------|---------|---------|---------|
|/ | <span data-ttu-id="da706-128">rwxr-x - x</span><span class="sxs-lookup"><span data-stu-id="da706-128">rwxr-x--x</span></span>  |<span data-ttu-id="da706-129">Administrator</span><span class="sxs-lookup"><span data-stu-id="da706-129">admin</span></span> |<span data-ttu-id="da706-130">Administrator</span><span class="sxs-lookup"><span data-stu-id="da706-130">admin</span></span>  |<span data-ttu-id="da706-131">Nazwy głównej usługi</span><span class="sxs-lookup"><span data-stu-id="da706-131">Service principal</span></span> |<span data-ttu-id="da706-132">--x</span><span class="sxs-lookup"><span data-stu-id="da706-132">--x</span></span>  |<span data-ttu-id="da706-133">FINGRP</span><span class="sxs-lookup"><span data-stu-id="da706-133">FINGRP</span></span>   |<span data-ttu-id="da706-134">r-x</span><span class="sxs-lookup"><span data-stu-id="da706-134">r-x</span></span>         |
|<span data-ttu-id="da706-135">/Clusters</span><span class="sxs-lookup"><span data-stu-id="da706-135">/clusters</span></span> | <span data-ttu-id="da706-136">rwxr-x - x</span><span class="sxs-lookup"><span data-stu-id="da706-136">rwxr-x--x</span></span> |<span data-ttu-id="da706-137">Administrator</span><span class="sxs-lookup"><span data-stu-id="da706-137">admin</span></span> |<span data-ttu-id="da706-138">Administrator</span><span class="sxs-lookup"><span data-stu-id="da706-138">admin</span></span> |<span data-ttu-id="da706-139">Nazwy głównej usługi</span><span class="sxs-lookup"><span data-stu-id="da706-139">Service principal</span></span> |<span data-ttu-id="da706-140">--x</span><span class="sxs-lookup"><span data-stu-id="da706-140">--x</span></span>  |<span data-ttu-id="da706-141">FINGRP</span><span class="sxs-lookup"><span data-stu-id="da706-141">FINGRP</span></span> |<span data-ttu-id="da706-142">r-x</span><span class="sxs-lookup"><span data-stu-id="da706-142">r-x</span></span>         |
|<span data-ttu-id="da706-143">/ klastrów/finance</span><span class="sxs-lookup"><span data-stu-id="da706-143">/clusters/finance</span></span> | <span data-ttu-id="da706-144">rwxr-x - t</span><span class="sxs-lookup"><span data-stu-id="da706-144">rwxr-x--t</span></span> |<span data-ttu-id="da706-145">Administrator</span><span class="sxs-lookup"><span data-stu-id="da706-145">admin</span></span> |<span data-ttu-id="da706-146">FINGRP</span><span class="sxs-lookup"><span data-stu-id="da706-146">FINGRP</span></span>  |<span data-ttu-id="da706-147">Nazwy głównej usługi</span><span class="sxs-lookup"><span data-stu-id="da706-147">Service principal</span></span> |<span data-ttu-id="da706-148">rwx</span><span class="sxs-lookup"><span data-stu-id="da706-148">rwx</span></span>  |-  |-     |

<span data-ttu-id="da706-149">W tabeli</span><span class="sxs-lookup"><span data-stu-id="da706-149">In the table,</span></span>

- <span data-ttu-id="da706-150">**Administrator** jest twórcę i administratora konta usługi Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="da706-150">**admin** is the creator and administrator of the Data Lake Store account.</span></span>
- <span data-ttu-id="da706-151">**Nazwy głównej usługi** jest nazwy głównej usługi Azure Active Directory (AAD), które zostały skojarzone z kontem.</span><span class="sxs-lookup"><span data-stu-id="da706-151">**Service principal** is the Azure Active Directory (AAD) service principal associated with the account.</span></span>
- <span data-ttu-id="da706-152">**FINGRP** to grupa użytkowników utworzone w usłudze AAD, zawierającą użytkowników z finansowych organizacji.</span><span class="sxs-lookup"><span data-stu-id="da706-152">**FINGRP** is a user group created in AAD that contains users from the Finance organization.</span></span>

<span data-ttu-id="da706-153">Aby uzyskać instrukcje dotyczące tworzenia aplikacji usługi AAD (która także tworzy nazwy głównej usługi), zobacz [utworzyć aplikację AAD](../azure-resource-manager/resource-group-create-service-principal-portal.md#create-an-azure-active-directory-application).</span><span class="sxs-lookup"><span data-stu-id="da706-153">For instructions on how to create an AAD application (that also creates a Service Principal), see [Create an AAD application](../azure-resource-manager/resource-group-create-service-principal-portal.md#create-an-azure-active-directory-application).</span></span> <span data-ttu-id="da706-154">Aby uzyskać instrukcje, jak utworzyć grupę użytkowników w usłudze AAD, zobacz [Zarządzanie grupami w usłudze Azure Active Directory](../active-directory/active-directory-accessmanagement-manage-groups.md).</span><span class="sxs-lookup"><span data-stu-id="da706-154">For instructions on how to create a user group in AAD, see [Managing groups in Azure Active Directory](../active-directory/active-directory-accessmanagement-manage-groups.md).</span></span>

<span data-ttu-id="da706-155">Niektóre kluczowe kwestie do rozważenia.</span><span class="sxs-lookup"><span data-stu-id="da706-155">Some key points to consider.</span></span>

- <span data-ttu-id="da706-156">Struktura folderów na poziomie dwa (**/klastrów/finance/**) muszą być utworzone i udostępnione z odpowiednimi uprawnieniami przez administratora usługi Data Lake Store **przed** przy użyciu konta magazynu dla klastrów.</span><span class="sxs-lookup"><span data-stu-id="da706-156">The two level folder structure (**/clusters/finance/**) must be created and provisioned with appropriate permissions by the Data Lake Store admin **before** using the storage account for clusters.</span></span> <span data-ttu-id="da706-157">Ta struktura nie jest tworzona automatycznie podczas tworzenia klastrów.</span><span class="sxs-lookup"><span data-stu-id="da706-157">This structure is not created automatically while creating clusters.</span></span>
- <span data-ttu-id="da706-158">W powyższym przykładzie zaleca ustawienie będący właścicielem grupy **/klastrów/finance** jako **FINGRP** i umożliwiający **r x** dostęp do FINGRP do hierarchii cały folder początkowy z katalogu głównego.</span><span class="sxs-lookup"><span data-stu-id="da706-158">The example above recommends setting the owning group of **/clusters/finance** as **FINGRP** and permitting **r-x** access to FINGRP to the entire folder hierarchy starting from the root.</span></span> <span data-ttu-id="da706-159">Dzięki temu, że członkowie FINGRP można przechodzić struktury folderów, począwszy od katalogu głównego.</span><span class="sxs-lookup"><span data-stu-id="da706-159">This ensures that the members of FINGRP can navigate the folder structure starting from root.</span></span>
- <span data-ttu-id="da706-160">W przypadku, gdy różne jednostki usługi AAD można utworzyć klastry w obszarze **/klastrów/finance**, trwałe bitowe (ustawionej dla **finance** folder) zapewnia, że foldery utworzone przez nazwę główną usługi jeden Nie można usunąć przez innych.</span><span class="sxs-lookup"><span data-stu-id="da706-160">In the case when different AAD Service Principals can create clusters under **/clusters/finance**, the sticky-bit (when set on the **finance** folder) ensures that folders created by one Service Principal cannot be deleted by the other.</span></span>
- <span data-ttu-id="da706-161">Po zatwierdzeniu struktury folderów i uprawnienia w miejscu, procesu tworzenia klastra usługi HDInsight tworzy lokalizacja magazynu specyficznych dla klastra, w obszarze **/klastrów/finance/**.</span><span class="sxs-lookup"><span data-stu-id="da706-161">Once the folder structure and permissions are in place, HDInsight cluster creation process creates a cluster-specific storage loaction under **/clusters/finance/**.</span></span> <span data-ttu-id="da706-162">Na przykład można magazynu dla klastra o nazwie fincluster01 **/clusters/finance/fincluster01**.</span><span class="sxs-lookup"><span data-stu-id="da706-162">For example, the storage for a cluster with the name fincluster01 could be **/clusters/finance/fincluster01**.</span></span> <span data-ttu-id="da706-163">Własność i uprawnienia do folderów utworzoną przez klaster usługi HDInsight są widoczne w tabeli poniżej.</span><span class="sxs-lookup"><span data-stu-id="da706-163">The ownership and permissions for the folders created by HDInsight cluster is shown in the table here.</span></span>

    |<span data-ttu-id="da706-164">Folder</span><span class="sxs-lookup"><span data-stu-id="da706-164">Folder</span></span>  |<span data-ttu-id="da706-165">Uprawnienia</span><span class="sxs-lookup"><span data-stu-id="da706-165">Permissions</span></span>  |<span data-ttu-id="da706-166">Użytkownik będący właścicielem</span><span class="sxs-lookup"><span data-stu-id="da706-166">Owning user</span></span>  |<span data-ttu-id="da706-167">Grupa będąca właścicielem</span><span class="sxs-lookup"><span data-stu-id="da706-167">Owning group</span></span>  | <span data-ttu-id="da706-168">Użytkownik nazwany</span><span class="sxs-lookup"><span data-stu-id="da706-168">Named user</span></span> | <span data-ttu-id="da706-169">Uprawnienia użytkownika o nazwie</span><span class="sxs-lookup"><span data-stu-id="da706-169">Named user permissions</span></span> | <span data-ttu-id="da706-170">Grupa o nazwie</span><span class="sxs-lookup"><span data-stu-id="da706-170">Named group</span></span> | <span data-ttu-id="da706-171">Uprawnienia grupy o nazwie</span><span class="sxs-lookup"><span data-stu-id="da706-171">Named group permissions</span></span> |
    |---------|---------|---------|---------|---------|---------|---------|---------|
    |<span data-ttu-id="da706-172">/Clusters/finanace/fincluster01</span><span class="sxs-lookup"><span data-stu-id="da706-172">/clusters/finanace/ fincluster01</span></span> | <span data-ttu-id="da706-173">rwxr-x---</span><span class="sxs-lookup"><span data-stu-id="da706-173">rwxr-x---</span></span>  |<span data-ttu-id="da706-174">Nazwy głównej usługi</span><span class="sxs-lookup"><span data-stu-id="da706-174">Service Principal</span></span> |<span data-ttu-id="da706-175">FINGRP</span><span class="sxs-lookup"><span data-stu-id="da706-175">FINGRP</span></span>  |- |-  |-   |-  | 
   


## <a name="recommendations-for-job-input-and-output-data"></a><span data-ttu-id="da706-176">Zalecenia dotyczące zadania danych wejściowych i wyjściowych</span><span class="sxs-lookup"><span data-stu-id="da706-176">Recommendations for job input and output data</span></span>

<span data-ttu-id="da706-177">Zalecamy przechowywanie danych wejściowych do zadania i dane wyjściowe z zadania w folderze poza **/klastrów**.</span><span class="sxs-lookup"><span data-stu-id="da706-177">We recommend that input data to a job, and the outputs from a job be stored in a folder outside **/clusters**.</span></span> <span data-ttu-id="da706-178">Dzięki temu nawet, jeśli folder specyficznych dla klastra jest usuwany odzyskiwaniu niektóre miejsca do magazynowania, dane wejściowe zadania i dane wyjściowe są nadal dostępne do użycia w przyszłości.</span><span class="sxs-lookup"><span data-stu-id="da706-178">This ensures that even if the cluster-specific folder is deleted to reclaim some storage space,the job inputs and outputs are still available for future use.</span></span> <span data-ttu-id="da706-179">W takim przypadku sprawdź, czy hierarchia folderów do przechowywania zadania wejściami i wyjściami pozwalają odpowiedni poziom dostępu dla nazwy głównej usługi.</span><span class="sxs-lookup"><span data-stu-id="da706-179">In such a case, ensure that the folder hierarchy for storing the job inputs and outputs allows appropriate level of access for the Service Principal.</span></span>

## <a name="limit-on-clusters-sharing-a-single-storage-account"></a><span data-ttu-id="da706-180">Ograniczenia w klastrach udostępnianie konta jednego magazynu</span><span class="sxs-lookup"><span data-stu-id="da706-180">Limit on clusters sharing a single storage account</span></span>

<span data-ttu-id="da706-181">Limit liczby klastrów, które współużytkują jedno konto usługi Data Lake Store zależy od obciążenia uruchomione na tych klastrach.</span><span class="sxs-lookup"><span data-stu-id="da706-181">The limit on the number of clusters that can share a single Data Lake Store account depends on the workload being run on those clusters.</span></span> <span data-ttu-id="da706-182">O zbyt wielu klastrów lub bardzo duże obciążenia w klastrze, które mają konto magazynu może spowodować magazynu konta wejście/wyjście do pobrania ograniczany.</span><span class="sxs-lookup"><span data-stu-id="da706-182">Having too many clusters or very heavy workloads on the clusters that share a storage account might cause the storage account ingress/egress to get throttled.</span></span>

## <a name="support-for-default-acls"></a><span data-ttu-id="da706-183">Obsługa listy ACL domyślne</span><span class="sxs-lookup"><span data-stu-id="da706-183">Support for Default-ACLs</span></span>

<span data-ttu-id="da706-184">Podczas tworzenia nazwy głównej usługi z dostępem użytkownika o nazwie (zgodnie z informacjami podanymi w powyższej tabeli), zaleca się **nie** Dodawanie o nazwie użytkownika z domyślnej listy ACL.</span><span class="sxs-lookup"><span data-stu-id="da706-184">When creating a Service Principal with named-user access (as shown in the table above), we recommend **not** adding the named-user with a default-ACL.</span></span> <span data-ttu-id="da706-185">Inicjowanie obsługi o nazwie użytkownika dostęp przy użyciu list ACL domyślne wyniki przypisania uprawnień 770 użytkownik właściciel, będący właścicielem grupy i inne.</span><span class="sxs-lookup"><span data-stu-id="da706-185">Provisioning named-user access using default-ACLs results in the assignment of 770 permissions for owning-user, owning-group, and others.</span></span> <span data-ttu-id="da706-186">Gdy ta wartość domyślną 770 nie odbieranie uprawnień z użytkownik właściciel (7) lub grupy będącej właścicielem [7], optymalizacji trwa wszystkie uprawnienia dla innych użytkowników (0).</span><span class="sxs-lookup"><span data-stu-id="da706-186">While this default value of 770 does not take away permissions from owning-user (7) or owning-group (7), it takes away all permissions for others (0).</span></span> <span data-ttu-id="da706-187">Powoduje to znany problem dotyczący jednego określonego przypadek użycia, która została omówiona szczegółowo w [— znane problemy i rozwiązania](#known-issues-and-workarounds) sekcji.</span><span class="sxs-lookup"><span data-stu-id="da706-187">This results in a known issue with one particular use-case that is discussed in detail in the [Known issues and workarounds](#known-issues-and-workarounds) section.</span></span>

## <a name="known-issues-and-workarounds"></a><span data-ttu-id="da706-188">Znane problemy i rozwiązania</span><span class="sxs-lookup"><span data-stu-id="da706-188">Known issues and workarounds</span></span>

<span data-ttu-id="da706-189">W tej sekcji wymieniono znane problemy dotyczące korzystania z usługi HDInsight z usługą Data Lake Store i ich obejścia.</span><span class="sxs-lookup"><span data-stu-id="da706-189">This section lists the known issues for using HDInsight with Data Lake Store, and their workarounds.</span></span>

### <a name="publicly-visible-localized-yarn-resources"></a><span data-ttu-id="da706-190">Widocznego publicznie zlokalizowanych zasobów YARN</span><span class="sxs-lookup"><span data-stu-id="da706-190">Publicly visible localized YARN resources</span></span>

<span data-ttu-id="da706-191">Po utworzeniu nowego konta magazynu usługi Azure Data Lake katalogu głównego jest automatycznie udostępniane z ustawioną 770 bity uprawnienia dostępu ACL.</span><span class="sxs-lookup"><span data-stu-id="da706-191">When a new Azure Data Lake store account is created, the root directory is automatically provisioned with Access-ACL permission bits set to 770.</span></span> <span data-ttu-id="da706-192">Folder główny będącej właścicielem, jeśli użytkownik ma ustawioną wartość użytkownik, który utworzył konto (administratora usługi Data Lake Store) i grupy będący właścicielem jest równa grupą podstawową użytkownik, który utworzył konto.</span><span class="sxs-lookup"><span data-stu-id="da706-192">The root folder’s owning user is set to the user that created the account (the Data Lake Store admin) and the owning group is set to the primary group of the user that created the account.</span></span> <span data-ttu-id="da706-193">Brak dostępu jest dostępna dla "inne".</span><span class="sxs-lookup"><span data-stu-id="da706-193">No access is provided for "others".</span></span>

<span data-ttu-id="da706-194">Wiadomo, że te ustawienia mają wpływ na jednego określonego HDInsight przypadek użycia przechwyconych w trakcie [YARN 247](https://hwxmonarch.atlassian.net/browse/YARN-247).</span><span class="sxs-lookup"><span data-stu-id="da706-194">These settings are known to affect one specific HDInsight use-case captured in [YARN 247](https://hwxmonarch.atlassian.net/browse/YARN-247).</span></span> <span data-ttu-id="da706-195">Przesyłanie zadań może zakończyć się niepowodzeniem z komunikatem o błędzie podobny do poniższego:</span><span class="sxs-lookup"><span data-stu-id="da706-195">Job submissions could fail with an error message similar to this:</span></span>

    Resource XXXX is not publicly accessible and as such cannot be part of the public cache.

<span data-ttu-id="da706-196">Zgodnie z JIRA YARN połączone wcześniej, podczas lokalizowania publicznego zasobów lokalizatora sprawdza, czy wszystkie wymagane zasoby są rzeczywiście publiczny, sprawdzając uprawnień w zdalnym systemie plików.</span><span class="sxs-lookup"><span data-stu-id="da706-196">As stated in the YARN JIRA linked earlier, while localizing public resources, the localizer validates that all the requested resources are indeed public by checking their permissions on the remote file-system.</span></span> <span data-ttu-id="da706-197">Lokalizacja odrzucenia żadnych LocalResource, który nie mieści się tego warunku.</span><span class="sxs-lookup"><span data-stu-id="da706-197">Any LocalResource that does not fit that condition is rejected for localization.</span></span> <span data-ttu-id="da706-198">Sprawdzanie uprawnień, obejmuje dostęp do odczytu do pliku "inne".</span><span class="sxs-lookup"><span data-stu-id="da706-198">The check for permissions, includes read-access to the file for "others".</span></span> <span data-ttu-id="da706-199">W tym scenariuszu nie działa poza pole odnośnie do hostowania klastrów HDInsight w usłudze Azure Data Lake, ponieważ usługa Azure Data Lake nie zezwala na dostęp do "inne" na poziomie folderu głównego.</span><span class="sxs-lookup"><span data-stu-id="da706-199">This scenario does not work out-of-the-box when hosting HDInsight clusters on Azure Data Lake, since Azure Data Lake denies all access to "others" at root folder level.</span></span>

#### <a name="workaround"></a><span data-ttu-id="da706-200">Obejście problemu</span><span class="sxs-lookup"><span data-stu-id="da706-200">Workaround</span></span>
<span data-ttu-id="da706-201">Zestaw odczytu-uprawnienia do uruchamiania **innym** w hierarchii, na przykład  **/** , **/klastrów** i   **/klastrów/finance** opisane w powyższej tabeli.</span><span class="sxs-lookup"><span data-stu-id="da706-201">Set read-execute permissions for **others** through the hierarchy, for example,  at **/**, **/clusters** and **/clusters/finance** as shown in the table above.</span></span>

## <a name="see-also"></a><span data-ttu-id="da706-202">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="da706-202">See also</span></span>

* [<span data-ttu-id="da706-203">Tworzenie klastra usługi HDInsight z usługą Data Lake Store jako magazyn</span><span class="sxs-lookup"><span data-stu-id="da706-203">Create an HDInsight cluster with Data Lake Store as storage</span></span>](../data-lake-store/data-lake-store-hdinsight-hadoop-use-portal.md)


