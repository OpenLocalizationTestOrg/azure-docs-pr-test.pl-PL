---
title: "dane czujników vehicle aaaProcess z systemu Apache Storm w usłudze HDInsight | Dokumentacja firmy Microsoft"
description: "Dowiedz się, jak dane czujników vehicle tooprocess z usługi Event Hubs przy użyciu platformy Apache Storm w usłudze HDInsight. Dodawanie modelu danych z bazy danych usługi Azure rozwiązania Cosmos i przechowywać toostorage danych wyjściowych."
services: hdinsight,documentdb,notification-hubs
documentationcenter: 
author: Blackmist
manager: jhubbard
editor: cgronlun
ms.assetid: 78980635-8bef-4c33-96c3-fae50e932e31
ms.service: hdinsight
ms.custom: hdinsightactive
ms.devlang: java
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 05/03/2017
ms.author: larryfr
ms.openlocfilehash: 8f7b1dbb9072e095ea32160bb731bedd071288af
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="process-vehicle-sensor-data-from-azure-event-hubs-using-apache-storm-on-hdinsight"></a><span data-ttu-id="dfdfd-104">Przetwarzania danych czujnika vehicle z usługi Azure Event Hubs przy użyciu platformy Apache Storm w usłudze HDInsight</span><span class="sxs-lookup"><span data-stu-id="dfdfd-104">Process vehicle sensor data from Azure Event Hubs using Apache Storm on HDInsight</span></span>

<span data-ttu-id="dfdfd-105">Dowiedz się, jak dane czujników vehicle tooprocess z usługi Azure Event Hubs przy użyciu platformy Apache Storm w usłudze HDInsight.</span><span class="sxs-lookup"><span data-stu-id="dfdfd-105">Learn how tooprocess vehicle sensor data from Azure Event Hubs using Apache Storm on HDInsight.</span></span> <span data-ttu-id="dfdfd-106">Ten przykład odczytuje danych czujnika z usługi Azure Event Hubs, poszerza hello danych odwołuje się do danych przechowywanych w usłudze Azure DB rozwiązania Cosmos.</span><span class="sxs-lookup"><span data-stu-id="dfdfd-106">This example reads sensor data from Azure Event Hubs, enriches hello data by referencing data stored in Azure Cosmos DB.</span></span> <span data-ttu-id="dfdfd-107">Witaj dane są przechowywane w magazynie Azure za pomocą hello systemu plików Hadoop (HDFS).</span><span class="sxs-lookup"><span data-stu-id="dfdfd-107">hello data is stored into Azure Storage using hello Hadoop File System (HDFS).</span></span>

![HDInsight i hello diagram architektury Internetu rzeczy (IoT)](./media/hdinsight-storm-iot-eventhub-documentdb/iot.png)

## <a name="overview"></a><span data-ttu-id="dfdfd-109">Omówienie</span><span class="sxs-lookup"><span data-stu-id="dfdfd-109">Overview</span></span>

<span data-ttu-id="dfdfd-110">Dodawanie czujników toovehicles umożliwia toopredict problemów urządzenia na podstawie danych historycznych trendów.</span><span class="sxs-lookup"><span data-stu-id="dfdfd-110">Adding sensors toovehicles allows you toopredict equipment problems based on historical data trends.</span></span> <span data-ttu-id="dfdfd-111">Umożliwia także ulepszenia toomake wersje toofuture oparte na analizie wzorca użycia.</span><span class="sxs-lookup"><span data-stu-id="dfdfd-111">It also allows you toomake improvements toofuture versions based on usage pattern analysis.</span></span> <span data-ttu-id="dfdfd-112">Muszą być stanie tooquickly i efektywnie ładowanie hello danych z wszystkich pojazdów do Hadoop zanim nastąpi przetwarzanie MapReduce.</span><span class="sxs-lookup"><span data-stu-id="dfdfd-112">You must be able tooquickly and efficiently load hello data from all vehicles into Hadoop before MapReduce processing can occur.</span></span> <span data-ttu-id="dfdfd-113">Ponadto możesz analizy toodo ścieżek błąd krytyczny (aparat temperatury, hamulców itp.) w czasie rzeczywistym.</span><span class="sxs-lookup"><span data-stu-id="dfdfd-113">Additionally, you may wish toodo analysis for critical failure paths (engine temperature, brakes, etc.) in real time.</span></span>

<span data-ttu-id="dfdfd-114">Usługa Azure Event Hubs jest wbudowana toohandle hello olbrzymich ilości danych wygenerowanych przez czujniki.</span><span class="sxs-lookup"><span data-stu-id="dfdfd-114">Azure Event Hubs is built toohandle hello massive volume of data generated by sensors.</span></span> <span data-ttu-id="dfdfd-115">Apache Storm może być używane tooload i przetwarzania hello danych przed przekazaniem jej do systemu plików HDFS.</span><span class="sxs-lookup"><span data-stu-id="dfdfd-115">Apache Storm can be used tooload and process hello data before storing it into HDFS.</span></span>

## <a name="solution"></a><span data-ttu-id="dfdfd-116">Rozwiązanie</span><span class="sxs-lookup"><span data-stu-id="dfdfd-116">Solution</span></span>

<span data-ttu-id="dfdfd-117">Dane telemetryczne temperatury aparatu, temperatury otoczenia i prędkość są rejestrowane przez czujniki.</span><span class="sxs-lookup"><span data-stu-id="dfdfd-117">Telemetry data for engine temperature, ambient temperature, and vehicle speed is recorded by sensors.</span></span> <span data-ttu-id="dfdfd-118">Dane są następnie wysyłane koncentratory tooEvent oraz hello samochodu Vehicle identyfikacji numer (VIN) i sygnaturę czasową.</span><span class="sxs-lookup"><span data-stu-id="dfdfd-118">Data is then sent tooEvent Hubs along with hello car's Vehicle Identification Number (VIN) and a time stamp.</span></span> <span data-ttu-id="dfdfd-119">Z tego miejsca topologii Storm systemem Apache Storm w klastrze usługi HDInsight odczytuje dane hello, procesy i zapisze go w systemie plików HDFS.</span><span class="sxs-lookup"><span data-stu-id="dfdfd-119">From there, a Storm Topology running on an Apache Storm on HDInsight cluster reads hello data, processes it, and stores it into HDFS.</span></span>

<span data-ttu-id="dfdfd-120">Podczas przetwarzania hello VIN jest używane tooretrieve modelu informacji z bazy danych rozwiązania Cosmos.</span><span class="sxs-lookup"><span data-stu-id="dfdfd-120">During processing, hello VIN is used tooretrieve model information from Cosmos DB.</span></span> <span data-ttu-id="dfdfd-121">Te dane jest dodawana toohello strumienia danych, zanim zostanie zachowana.</span><span class="sxs-lookup"><span data-stu-id="dfdfd-121">This data is added toohello data stream before it is stored.</span></span>

<span data-ttu-id="dfdfd-122">składniki Hello używana w topologii Storm hello są:</span><span class="sxs-lookup"><span data-stu-id="dfdfd-122">hello components used in hello Storm Topology are:</span></span>

* <span data-ttu-id="dfdfd-123">**EventHubSpout** -odczytuje dane z usługi Azure Event Hubs</span><span class="sxs-lookup"><span data-stu-id="dfdfd-123">**EventHubSpout** - reads data from Azure Event Hubs</span></span>
* <span data-ttu-id="dfdfd-124">**TypeConversionBolt** — konwertuje hello ciągu JSON z centrów zdarzeń do spójnych kolekcji zawierający hello następujące dane czujników:</span><span class="sxs-lookup"><span data-stu-id="dfdfd-124">**TypeConversionBolt** - converts hello JSON string from Event Hubs into a tuple containing hello following sensor data:</span></span>
    * <span data-ttu-id="dfdfd-125">Aparat temperatury</span><span class="sxs-lookup"><span data-stu-id="dfdfd-125">Engine temperature</span></span>
    * <span data-ttu-id="dfdfd-126">Temperatury otoczenia</span><span class="sxs-lookup"><span data-stu-id="dfdfd-126">Ambient temperature</span></span>
    * <span data-ttu-id="dfdfd-127">Szybkość</span><span class="sxs-lookup"><span data-stu-id="dfdfd-127">Speed</span></span>
    * <span data-ttu-id="dfdfd-128">VIN</span><span class="sxs-lookup"><span data-stu-id="dfdfd-128">VIN</span></span>
    * <span data-ttu-id="dfdfd-129">Znacznik czasu</span><span class="sxs-lookup"><span data-stu-id="dfdfd-129">Timestamp</span></span>
* <span data-ttu-id="dfdfd-130">**DataReferencBolt** -wyszukuje hello vehicle modelu z rozwiązania Cosmos bazy danych przy użyciu hello VIN</span><span class="sxs-lookup"><span data-stu-id="dfdfd-130">**DataReferencBolt** - looks up hello vehicle model from Cosmos DB using hello VIN</span></span>
* <span data-ttu-id="dfdfd-131">**WasbStoreBolt** -magazynów hello tooHDFS danych (magazyn Azure)</span><span class="sxs-lookup"><span data-stu-id="dfdfd-131">**WasbStoreBolt** - stores hello data tooHDFS (Azure Storage)</span></span>

<span data-ttu-id="dfdfd-132">powitania po obrazu jest diagram tego rozwiązania:</span><span class="sxs-lookup"><span data-stu-id="dfdfd-132">hello following image is a diagram of this solution:</span></span>

![Topologii STORM](./media/hdinsight-storm-iot-eventhub-documentdb/iottopology.png)

## <a name="implementation"></a><span data-ttu-id="dfdfd-134">Wdrażanie</span><span class="sxs-lookup"><span data-stu-id="dfdfd-134">Implementation</span></span>

<span data-ttu-id="dfdfd-135">Pełnego, automatycznego rozwiązania dla tego scenariusza są dostępne jako część hello [HDInsight-Storm-przykłady](https://github.com/hdinsight/hdinsight-storm-examples) repozytorium w witrynie GitHub.</span><span class="sxs-lookup"><span data-stu-id="dfdfd-135">A complete, automated solution for this scenario is available as part of hello [HDInsight-Storm-Examples](https://github.com/hdinsight/hdinsight-storm-examples) repository on GitHub.</span></span> <span data-ttu-id="dfdfd-136">toouse w tym przykładzie, wykonaj kroki hello hello [IoTExample Plik README. MD](https://github.com/hdinsight/hdinsight-storm-examples/blob/master/IotExample/README.md).</span><span class="sxs-lookup"><span data-stu-id="dfdfd-136">toouse this example, follow hello steps in hello [IoTExample README.MD](https://github.com/hdinsight/hdinsight-storm-examples/blob/master/IotExample/README.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="dfdfd-137">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="dfdfd-137">Next Steps</span></span>

<span data-ttu-id="dfdfd-138">Aby uzyskać więcej przykładowych topologii Storm, zobacz [przykładowe topologie dla systemu Storm w usłudze HDInsight](hdinsight-storm-example-topology.md).</span><span class="sxs-lookup"><span data-stu-id="dfdfd-138">For more example Storm topologies, see [Example topologies for Storm on HDInsight](hdinsight-storm-example-topology.md).</span></span>

