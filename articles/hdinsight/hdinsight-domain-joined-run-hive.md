---
title: "Konfigurowanie zasad Hive w usłudze HDInsight przyłączonych do domeny - Azure | Dokumentacja firmy Microsoft"
description: "Dowiedz się..."
services: hdinsight
documentationcenter: 
author: saurinsh
manager: jhubbard
editor: cgronlun
tags: azure-portal
ms.assetid: 3fade1e5-c2e1-4ad5-b371-f95caea23f6d
ms.service: hdinsight
ms.custom: hdinsightactive
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 10/25/2016
ms.author: saurinsh
ms.openlocfilehash: de537d5e39dd0d3f75ff802948c7372e4d65d127
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 07/11/2017
---
# <a name="configure-hive-policies-in-domain-joined-hdinsight-preview"></a><span data-ttu-id="269de-103">Konfigurowanie zasad usługi Hive dla przyłączonych do domeny klastrów usługi HDInsight (wersja zapoznawcza)</span><span class="sxs-lookup"><span data-stu-id="269de-103">Configure Hive policies in Domain-joined HDInsight (Preview)</span></span>
<span data-ttu-id="269de-104">Dowiedz się, jak skonfigurować zasady platformy Apache Ranger dla usługi Hive.</span><span class="sxs-lookup"><span data-stu-id="269de-104">Learn how to configure Apache Ranger policies for Hive.</span></span> <span data-ttu-id="269de-105">Korzystając z tego artykułu, utworzysz dwie zasady platformy Ranger, aby ograniczyć dostęp do tabeli hivesampletable.</span><span class="sxs-lookup"><span data-stu-id="269de-105">In this article, you create two Ranger policies to restrict access to the hivesampletable.</span></span> <span data-ttu-id="269de-106">Tabela hivesampletable jest dołączana do klastrów usługi HDInsight.</span><span class="sxs-lookup"><span data-stu-id="269de-106">The hivesampletable comes with HDInsight clusters.</span></span> <span data-ttu-id="269de-107">Po skonfigurowaniu zasad łączysz się z tabelami usługi Hive w usłudze HDInsight przy użyciu sterownika ODBC i programu Excel.</span><span class="sxs-lookup"><span data-stu-id="269de-107">After you have configured the policies, you use Excel and ODBC driver to connect to Hive tables in HDInsight.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="269de-108">Wymagania wstępne</span><span class="sxs-lookup"><span data-stu-id="269de-108">Prerequisites</span></span>
* <span data-ttu-id="269de-109">Przyłączony do domeny klaster usługi HDInsight.</span><span class="sxs-lookup"><span data-stu-id="269de-109">A Domain-joined HDInsight cluster.</span></span> <span data-ttu-id="269de-110">Zobacz [Configure Domain-joined HDInsight clusters](hdinsight-domain-joined-configure.md) (Konfigurowanie przyłączonych do domeny klastrów usługi HDInsight).</span><span class="sxs-lookup"><span data-stu-id="269de-110">See [Configure Domain-joined HDInsight clusters](hdinsight-domain-joined-configure.md).</span></span>
* <span data-ttu-id="269de-111">Stacja robocza z pakietem Office 2016, pakietem Office 2013 Professional Plus, usługą Office 365 Pro Plus, programem Excel 2013 Standalone lub pakietem Office 2010 Professional Plus.</span><span class="sxs-lookup"><span data-stu-id="269de-111">A workstation with Office 2016, Office 2013 Professional Plus, Office 365 Pro Plus, Excel 2013 Standalone, or Office 2010 Professional Plus.</span></span>

## <a name="connect-to-apache-ranger-admin-ui"></a><span data-ttu-id="269de-112">Łączenie z interfejsem użytkownika administratora platformy Apache Ranger</span><span class="sxs-lookup"><span data-stu-id="269de-112">Connect to Apache Ranger Admin UI</span></span>
<span data-ttu-id="269de-113">**Aby połączyć się z interfejsem użytkownika administratora platformy Ranger**</span><span class="sxs-lookup"><span data-stu-id="269de-113">**To connect to Ranger Admin UI**</span></span>

1. <span data-ttu-id="269de-114">W przeglądarce połącz się z interfejsem użytkownika administratora platformy Ranger.</span><span class="sxs-lookup"><span data-stu-id="269de-114">From a browser, connect to Ranger Admin UI.</span></span> <span data-ttu-id="269de-115">Adres URL: https://&lt;nazwa_klastra>.azurehdinsight.net/Ranger/.</span><span class="sxs-lookup"><span data-stu-id="269de-115">The URL is https://&lt;ClusterName>.azurehdinsight.net/Ranger/.</span></span>

   > [!NOTE]
   > <span data-ttu-id="269de-116">Poświadczenia używane na platformie Ranger są inne niż w klastrze usługi Hadoop.</span><span class="sxs-lookup"><span data-stu-id="269de-116">Ranger uses different credentials than Hadoop cluster.</span></span> <span data-ttu-id="269de-117">Aby zapobiec używaniu w przeglądarce buforowanych poświadczeń usługi Hadoop, należy połączyć się z interfejsem użytkownika administratora platformy Ranger w nowym oknie przeglądarki InPrivate.</span><span class="sxs-lookup"><span data-stu-id="269de-117">To prevent browsers using cached Hadoop credentials, use new inprivate browser window to connect to the Ranger Admin UI.</span></span>
   >
   >
2. <span data-ttu-id="269de-118">Zaloguj się za pomocą nazwy i hasła użytkownika domeny administratora klastra:</span><span class="sxs-lookup"><span data-stu-id="269de-118">Log in using the cluster administrator domain user name and password:</span></span>

    ![Strona główna platformy Ranger z przyłączonym do domeny klastrem usługi HDInsight](./media/hdinsight-domain-joined-run-hive/hdinsight-domain-joined-ranger-home-page.png)

    <span data-ttu-id="269de-120">Obecnie platforma Ranger współpracuje tylko z usługami Yarn i Hive.</span><span class="sxs-lookup"><span data-stu-id="269de-120">Currently, Ranger only works with Yarn and Hive.</span></span>

## <a name="create-domain-users"></a><span data-ttu-id="269de-121">Tworzenie użytkowników domeny</span><span class="sxs-lookup"><span data-stu-id="269de-121">Create Domain users</span></span>
<span data-ttu-id="269de-122">W temacie [Configure Domain-joined HDInsight clusters](hdinsight-domain-joined-configure.md#create-and-configure-azure-ad-ds-for-your-azure-ad) (Konfigurowanie przyłączonych do domeny klastrów usługi HDInsight) utworzono użytkowników hiveuser1 i hiveuser2.</span><span class="sxs-lookup"><span data-stu-id="269de-122">In [Configure Domain-joined HDInsight clusters](hdinsight-domain-joined-configure.md#create-and-configure-azure-ad-ds-for-your-azure-ad), you have created hiveruser1 and hiveuser2.</span></span> <span data-ttu-id="269de-123">Dane tych dwóch kont użytkowników zostaną użyte w tym samouczku.</span><span class="sxs-lookup"><span data-stu-id="269de-123">You will use the two user account in this tutorial.</span></span>

## <a name="create-ranger-policies"></a><span data-ttu-id="269de-124">Tworzenie zasad platformy Ranger</span><span class="sxs-lookup"><span data-stu-id="269de-124">Create Ranger policies</span></span>
<span data-ttu-id="269de-125">W tej sekcji utworzysz dwie zasady platformy Ranger umożliwiające uzyskiwanie dostępu do tabeli hivesampletable.</span><span class="sxs-lookup"><span data-stu-id="269de-125">In this section, you will create two Ranger policies for accessing hivesampletable.</span></span> <span data-ttu-id="269de-126">Możesz przydzielić uprawnienie select (wybór) do innego zestawu kolumn.</span><span class="sxs-lookup"><span data-stu-id="269de-126">You give select permission on different set of columns.</span></span> <span data-ttu-id="269de-127">Obydwaj użytkownicy zostali utworzeni przy użyciu instrukcji podanych w temacie [Configure Domain-joined HDInsight clusters](hdinsight-domain-joined-configure.md#create-and-configure-azure-ad-ds-for-your-azure-ad) (Konfigurowanie przyłączonych do domeny klastrów usługi HDInsight).</span><span class="sxs-lookup"><span data-stu-id="269de-127">Both users were created in [Configure Domain-joined HDInsight clusters](hdinsight-domain-joined-configure.md#create-and-configure-azure-ad-ds-for-your-azure-ad).</span></span>  <span data-ttu-id="269de-128">W następnej sekcji przetestujesz dwie zasady w programie Excel.</span><span class="sxs-lookup"><span data-stu-id="269de-128">In the next section, you will test the two policies in Excel.</span></span>

<span data-ttu-id="269de-129">**Aby utworzyć zasady platformy Ranger**</span><span class="sxs-lookup"><span data-stu-id="269de-129">**To create Ranger policies**</span></span>

1. <span data-ttu-id="269de-130">Otwórz interfejs użytkownika administratora platformy Ranger.</span><span class="sxs-lookup"><span data-stu-id="269de-130">Open Ranger Admin UI.</span></span> <span data-ttu-id="269de-131">Zobacz sekcję [Łączenie z interfejsem użytkownika administratora platformy Apache Ranger](#connect-to-apache-ranager-admin-ui).</span><span class="sxs-lookup"><span data-stu-id="269de-131">See [Connect to Apache Ranger Admin UI](#connect-to-apache-ranager-admin-ui).</span></span>
2. <span data-ttu-id="269de-132">Kliknij pozycję **&lt;nazwa_klastra>_hive** w obszarze **Hive**.</span><span class="sxs-lookup"><span data-stu-id="269de-132">Click **&lt;ClusterName>_hive**, under **Hive**.</span></span> <span data-ttu-id="269de-133">Zostaną wyświetlone dwie wstępnie skonfigurowane zasady.</span><span class="sxs-lookup"><span data-stu-id="269de-133">You shall see two pre-configure policies.</span></span>
3. <span data-ttu-id="269de-134">Kliknij pozycję **Add New Policy** (Dodaj nowe zasady), a następnie wprowadź następujące wartości:</span><span class="sxs-lookup"><span data-stu-id="269de-134">Click **Add New Policy**, and then enter the following values:</span></span>

   * <span data-ttu-id="269de-135">Policy Name (Nazwa zasad): read-hivesampletable-all</span><span class="sxs-lookup"><span data-stu-id="269de-135">Policy name: read-hivesampletable-all</span></span>
   * <span data-ttu-id="269de-136">Hive Database (Baza danych Hive): default</span><span class="sxs-lookup"><span data-stu-id="269de-136">Hive Database: default</span></span>
   * <span data-ttu-id="269de-137">table (tabela): hivesampletable</span><span class="sxs-lookup"><span data-stu-id="269de-137">table: hivesampletable</span></span>
   * <span data-ttu-id="269de-138">Hive Column (Kolumna usługi Hive): *</span><span class="sxs-lookup"><span data-stu-id="269de-138">Hive column: *</span></span>
   * <span data-ttu-id="269de-139">Select User (Wybierz użytkownika): hiveuser1</span><span class="sxs-lookup"><span data-stu-id="269de-139">Select User: hiveuser1</span></span>
   * <span data-ttu-id="269de-140">Permissions (Uprawnienia): select</span><span class="sxs-lookup"><span data-stu-id="269de-140">Permissions: select</span></span>

     ![Konfigurowanie zasad usługi Hive na platformie Ranger z przyłączonym do domeny klastrem usługi HDInsight](./media/hdinsight-domain-joined-run-hive/hdinsight-domain-joined-configure-ranger-policy.png)<span data-ttu-id="269de-142">.</span><span class="sxs-lookup"><span data-stu-id="269de-142">.</span></span>

     > [!NOTE]
     > <span data-ttu-id="269de-143">Jeśli pole Select User (Wybierz użytkownika) nie zostało wypełnione przy użyciu danych użytkownika domeny, zaczekaj kilka minut na zsynchronizowanie platformy Ranger z usługą AAD.</span><span class="sxs-lookup"><span data-stu-id="269de-143">If a domain user is not populated in Select User, wait a few moments for Ranger to sync with AAD.</span></span>
     >
     >
4. <span data-ttu-id="269de-144">Kliknij pozycję **Add** (Dodaj), aby zapisać zasady.</span><span class="sxs-lookup"><span data-stu-id="269de-144">Click **Add** to save the policy.</span></span>
5. <span data-ttu-id="269de-145">Powtórz dwa ostatnie kroki, aby utworzyć inne zasady o następujących właściwościach:</span><span class="sxs-lookup"><span data-stu-id="269de-145">Repeat the last two steps to create another policy with the following properties:</span></span>

   * <span data-ttu-id="269de-146">Policy Name (Nazwa zasad): read-hivesampletable-devicemake</span><span class="sxs-lookup"><span data-stu-id="269de-146">Policy name: read-hivesampletable-devicemake</span></span>
   * <span data-ttu-id="269de-147">Hive Database (Baza danych Hive): default</span><span class="sxs-lookup"><span data-stu-id="269de-147">Hive Database: default</span></span>
   * <span data-ttu-id="269de-148">table (tabela): hivesampletable</span><span class="sxs-lookup"><span data-stu-id="269de-148">table: hivesampletable</span></span>
   * <span data-ttu-id="269de-149">Hive Column (Kolumna usługi Hive): clientid, devicemake</span><span class="sxs-lookup"><span data-stu-id="269de-149">Hive column: clientid, devicemake</span></span>
   * <span data-ttu-id="269de-150">Select User (Wybierz użytkownika): hiveuser2</span><span class="sxs-lookup"><span data-stu-id="269de-150">Select User: hiveuser2</span></span>
   * <span data-ttu-id="269de-151">Permissions (Uprawnienia): select</span><span class="sxs-lookup"><span data-stu-id="269de-151">Permissions: select</span></span>

## <a name="create-hive-odbc-data-source"></a><span data-ttu-id="269de-152">Tworzenie źródła danych ODBC usługi Hive</span><span class="sxs-lookup"><span data-stu-id="269de-152">Create Hive ODBC data source</span></span>
<span data-ttu-id="269de-153">Instrukcje można znaleźć w sekcji [Create Hive ODBC data source](hdinsight-connect-excel-hive-odbc-driver.md) (Tworzenie źródła danych ODBC usługi Hive).</span><span class="sxs-lookup"><span data-stu-id="269de-153">The instructions can be found in [Create Hive ODBC data source](hdinsight-connect-excel-hive-odbc-driver.md).</span></span>  

    <span data-ttu-id="269de-154">Właściwość</span><span class="sxs-lookup"><span data-stu-id="269de-154">Property</span></span>|<span data-ttu-id="269de-155">Opis</span><span class="sxs-lookup"><span data-stu-id="269de-155">Description</span></span>
    ---|---
    <span data-ttu-id="269de-156">Data Source Name (Nazwa źródła danych)</span><span class="sxs-lookup"><span data-stu-id="269de-156">Data Source Name</span></span>|<span data-ttu-id="269de-157">Nadaj nazwę źródła danych.</span><span class="sxs-lookup"><span data-stu-id="269de-157">Give a name to your data source</span></span>
    <span data-ttu-id="269de-158">Host</span><span class="sxs-lookup"><span data-stu-id="269de-158">Host</span></span>|<span data-ttu-id="269de-159">Wprowadź ciąg &lt;nazwa_klastra_usługi_HDInsight>.azurehdinsight.net,</span><span class="sxs-lookup"><span data-stu-id="269de-159">Enter &lt;HDInsightClusterName>.azurehdinsight.net.</span></span> <span data-ttu-id="269de-160">np. myHDICluster.azurehdinsight.net.</span><span class="sxs-lookup"><span data-stu-id="269de-160">For example, myHDICluster.azurehdinsight.net</span></span>
    <span data-ttu-id="269de-161">Port</span><span class="sxs-lookup"><span data-stu-id="269de-161">Port</span></span>|<span data-ttu-id="269de-162">Użyj portu <strong>443</strong>.</span><span class="sxs-lookup"><span data-stu-id="269de-162">Use <strong>443</strong>.</span></span> <span data-ttu-id="269de-163">(Ten port został zmieniony z 563 na 443).</span><span class="sxs-lookup"><span data-stu-id="269de-163">(This port has been changed from 563 to 443.)</span></span>
    <span data-ttu-id="269de-164">Database (Baza danych)</span><span class="sxs-lookup"><span data-stu-id="269de-164">Database</span></span>|<span data-ttu-id="269de-165">Użyj wartości <strong>Default</strong> (Domyślna).</span><span class="sxs-lookup"><span data-stu-id="269de-165">Use <strong>Default</strong>.</span></span>
    <span data-ttu-id="269de-166">Hive Server Type (Typ serwera Hive)</span><span class="sxs-lookup"><span data-stu-id="269de-166">Hive Server Type</span></span>|<span data-ttu-id="269de-167">Wybierz wartość <strong>Hive Server 2</strong>.</span><span class="sxs-lookup"><span data-stu-id="269de-167">Select <strong>Hive Server 2</strong></span></span>
    <span data-ttu-id="269de-168">Mechanism (Mechanizm)</span><span class="sxs-lookup"><span data-stu-id="269de-168">Mechanism</span></span>|<span data-ttu-id="269de-169">Wybierz wartość <strong>Azure HDInsight Service</strong> (Usługa Azure HDInsight).</span><span class="sxs-lookup"><span data-stu-id="269de-169">Select <strong>Azure HDInsight Service</strong></span></span>
    <span data-ttu-id="269de-170">HTTP Path (Ścieżka HTTP)</span><span class="sxs-lookup"><span data-stu-id="269de-170">HTTP Path</span></span>|<span data-ttu-id="269de-171">Pozostaw to pole puste.</span><span class="sxs-lookup"><span data-stu-id="269de-171">Leave it blank.</span></span>
    <span data-ttu-id="269de-172">Nazwa użytkownika</span><span class="sxs-lookup"><span data-stu-id="269de-172">User Name</span></span>|<span data-ttu-id="269de-173">Wprowadź hiveuser1@contoso158.onmicrosoft.com.</span><span class="sxs-lookup"><span data-stu-id="269de-173">Enter hiveuser1@contoso158.onmicrosoft.com.</span></span> <span data-ttu-id="269de-174">Zaktualizuj nazwę domeny, jeśli jest inny.</span><span class="sxs-lookup"><span data-stu-id="269de-174">Update the domain name if it is different.</span></span>
    <span data-ttu-id="269de-175">Hasło</span><span class="sxs-lookup"><span data-stu-id="269de-175">Password</span></span>|<span data-ttu-id="269de-176">Wprowadź hasło użytkownika hiveuser1.</span><span class="sxs-lookup"><span data-stu-id="269de-176">Enter the password for hiveuser1.</span></span>
    </table>

<span data-ttu-id="269de-177">Pamiętaj o kliknięciu przycisku **Test** (Testuj) przed zapisaniem źródła danych.</span><span class="sxs-lookup"><span data-stu-id="269de-177">Make sure to click **Test** before saving the data source.</span></span>

## <a name="import-data-into-excel-from-hdinsight"></a><span data-ttu-id="269de-178">Importowanie danych do programu Excel z usługi HDInsight</span><span class="sxs-lookup"><span data-stu-id="269de-178">Import data into Excel from HDInsight</span></span>
<span data-ttu-id="269de-179">W ostatniej sekcji zostały skonfigurowane dwie zasady.</span><span class="sxs-lookup"><span data-stu-id="269de-179">In the last section, you have configured two policies.</span></span>  <span data-ttu-id="269de-180">Użytkownik hiveuser1 ma uprawnienia select (wybór) we wszystkich kolumnach, a użytkownik hiveuser2 ma uprawnienia select w dwóch kolumnach.</span><span class="sxs-lookup"><span data-stu-id="269de-180">hiveuser1 has the select permission on all the columns, and hiveuser2 has the select permission on two columns.</span></span> <span data-ttu-id="269de-181">W tej sekcji będziesz personifikować dwóch użytkowników w celu zaimportowania danych do programu Excel.</span><span class="sxs-lookup"><span data-stu-id="269de-181">In this section, you impersonate the two users to import data into Excel.</span></span>

1. <span data-ttu-id="269de-182">Otwórz nowy lub istniejący skoroszyt w programie Excel.</span><span class="sxs-lookup"><span data-stu-id="269de-182">Open a new or existing workbook in Excel.</span></span>
2. <span data-ttu-id="269de-183">Na karcie **Dane** kliknij pozycję **Z innych źródeł danych**, a następnie kliknij pozycję **Z Kreatora połączenia danych**, aby uruchomić **Kreatora połączenia danych**.</span><span class="sxs-lookup"><span data-stu-id="269de-183">From the **Data** tab, click **From Other Data Sources**, and then click **From Data Connection Wizard** to launch the **Data Connection Wizard**.</span></span>

    <span data-ttu-id="269de-184">![Otwieranie Kreatora połączenia danych][img-hdi-simbahiveodbc.excel.dataconnection]</span><span class="sxs-lookup"><span data-stu-id="269de-184">![Open data connection wizard][img-hdi-simbahiveodbc.excel.dataconnection]</span></span>
3. <span data-ttu-id="269de-185">Wybierz źródło danych **ODBC DSN**, a następnie kliknij przycisk **Dalej**.</span><span class="sxs-lookup"><span data-stu-id="269de-185">Select **ODBC DSN** as the data source, and then click **Next**.</span></span>
4. <span data-ttu-id="269de-186">Spośród źródeł danych ODBC wybierz nazwę źródła danych utworzonego w poprzednim kroku, a następnie kliknij przycisk **Dalej**.</span><span class="sxs-lookup"><span data-stu-id="269de-186">From ODBC data sources, select the data source name that you created in the previous step, and then  click **Next**.</span></span>
5. <span data-ttu-id="269de-187">W kreatorze wprowadź ponownie hasło klastra, a następnie kliknij przycisk **OK**.</span><span class="sxs-lookup"><span data-stu-id="269de-187">Re-enter the password for the cluster in the wizard, and then click **OK**.</span></span> <span data-ttu-id="269de-188">Zaczekaj na otwarcie okna dialogowego **Wybieranie bazy danych i tabeli**.</span><span class="sxs-lookup"><span data-stu-id="269de-188">Wait for the **Select Database and Table** dialog to open.</span></span> <span data-ttu-id="269de-189">Może to potrwać kilka sekund.</span><span class="sxs-lookup"><span data-stu-id="269de-189">This can take a few seconds.</span></span>
6. <span data-ttu-id="269de-190">Wybierz pozycję **hivesampletable**, a następnie kliknij przycisk **Dalej**.</span><span class="sxs-lookup"><span data-stu-id="269de-190">Select **hivesampletable**, and then click **Next**.</span></span>
7. <span data-ttu-id="269de-191">Kliknij przycisk **Finish** (Zakończ).</span><span class="sxs-lookup"><span data-stu-id="269de-191">Click **Finish**.</span></span>
8. <span data-ttu-id="269de-192">W oknie dialogowym **Importowanie danych** możesz zmienić lub określić zapytanie.</span><span class="sxs-lookup"><span data-stu-id="269de-192">In the **Import Data** dialog, you can change or specify the query.</span></span> <span data-ttu-id="269de-193">W tym celu kliknij pozycję **Właściwości**.</span><span class="sxs-lookup"><span data-stu-id="269de-193">To do so, click **Properties**.</span></span> <span data-ttu-id="269de-194">Może to potrwać kilka sekund.</span><span class="sxs-lookup"><span data-stu-id="269de-194">This can take a few seconds.</span></span>
9. <span data-ttu-id="269de-195">Kliknij kartę **Definicje**.</span><span class="sxs-lookup"><span data-stu-id="269de-195">Click the **Definition** tab.</span></span> <span data-ttu-id="269de-196">Tekst polecenia to:</span><span class="sxs-lookup"><span data-stu-id="269de-196">The command text is:</span></span>

       SELECT * FROM "HIVE"."default"."hivesampletable"

   <span data-ttu-id="269de-197">Zgodnie ze zdefiniowanymi zasadami platformy Ranger użytkownik hiveuser1 ma uprawnienia select (wybór) we wszystkich kolumnach.</span><span class="sxs-lookup"><span data-stu-id="269de-197">By the Ranger policies you defined,  hiveuser1 has select permission on all the columns.</span></span>  <span data-ttu-id="269de-198">To zapytanie działa z poświadczeniami użytkownika hiveuser1, ale nie z poświadczeniami użytkownika hiveuser2.</span><span class="sxs-lookup"><span data-stu-id="269de-198">So this query works with hiveuser1's credentials, but this query does not not work with hiveuser2's credentials.</span></span>

   <span data-ttu-id="269de-199">![Właściwości połączenia][img-hdi-simbahiveodbc-excel-connectionproperties]</span><span class="sxs-lookup"><span data-stu-id="269de-199">![Connection Properties][img-hdi-simbahiveodbc-excel-connectionproperties]</span></span>
10. <span data-ttu-id="269de-200">Kliknij przycisk **OK**, aby zamknąć okno dialogowe Właściwości połączenia.</span><span class="sxs-lookup"><span data-stu-id="269de-200">Click **OK** to close the Connection Properties dialog.</span></span>
11. <span data-ttu-id="269de-201">Kliknij przycisk **OK**, aby zamknąć okno dialogowe **Importowanie danych**.</span><span class="sxs-lookup"><span data-stu-id="269de-201">Click **OK** to close the **Import Data** dialog.</span></span>  
12. <span data-ttu-id="269de-202">Wprowadź ponownie hasło użytkownika hiveuser1, a następnie kliknij przycisk **OK**.</span><span class="sxs-lookup"><span data-stu-id="269de-202">Reenter the password for hiveuser1, and then click **OK**.</span></span> <span data-ttu-id="269de-203">Importowanie danych do programu Excel może potrwać kilka sekund.</span><span class="sxs-lookup"><span data-stu-id="269de-203">It takes a few seconds before data gets imported to Excel.</span></span> <span data-ttu-id="269de-204">Po zakończeniu zobaczysz 11 kolumn danych.</span><span class="sxs-lookup"><span data-stu-id="269de-204">When it is done, you shall see 11 columns of data.</span></span>

<span data-ttu-id="269de-205">Aby przetestować drugie zasady (read-hivesampletable-devicemake) utworzone w poprzedniej sekcji</span><span class="sxs-lookup"><span data-stu-id="269de-205">To test the second policy (read-hivesampletable-devicemake) you created in the last section</span></span>

1. <span data-ttu-id="269de-206">Dodaj nowy arkusz w programie Excel.</span><span class="sxs-lookup"><span data-stu-id="269de-206">Add a new sheet in Excel.</span></span>
2. <span data-ttu-id="269de-207">Wykonaj kroki ostatniej procedury, aby zaimportować dane.</span><span class="sxs-lookup"><span data-stu-id="269de-207">Follow the last procedure to import the data.</span></span>  <span data-ttu-id="269de-208">Jedyna zmiana to użycie poświadczeń użytkownika hiveuser2 zamiast użytkownika hiveuser1.</span><span class="sxs-lookup"><span data-stu-id="269de-208">The only change you will make is to use hiveuser2's credentials instead of hiveuser1's.</span></span> <span data-ttu-id="269de-209">Ta czynność zakończy się niepowodzeniem, ponieważ użytkownik hiveuser2 ma uprawnienia tylko do wyświetlania dwóch kolumn.</span><span class="sxs-lookup"><span data-stu-id="269de-209">This will fail because hiveuser2 only has permission to see two columns.</span></span> <span data-ttu-id="269de-210">Wystąpi następujący błąd:</span><span class="sxs-lookup"><span data-stu-id="269de-210">You shall get the following error:</span></span>

        [Microsoft][HiveODBC] (35) Error from Hive: error code: '40000' error message: 'Error while compiling statement: FAILED: HiveAccessControlException Permission denied: user [hiveuser2] does not have [SELECT] privilege on [default/hivesampletable/clientid,country ...]'.
3. <span data-ttu-id="269de-211">Wykonaj kroki tej samej procedury, aby zaimportować dane.</span><span class="sxs-lookup"><span data-stu-id="269de-211">Follow the same procedure to import data.</span></span> <span data-ttu-id="269de-212">Tym razem użyj poświadczeń użytkownika hiveuser2 i zmień instrukcję select z:</span><span class="sxs-lookup"><span data-stu-id="269de-212">This time, use hiveuser2's credentials, and also modify the select statement from:</span></span>

        SELECT * FROM "HIVE"."default"."hivesampletable"

    <span data-ttu-id="269de-213">na:</span><span class="sxs-lookup"><span data-stu-id="269de-213">to:</span></span>

        SELECT clientid, devicemake FROM "HIVE"."default"."hivesampletable"

    <span data-ttu-id="269de-214">Po zakończeniu zobaczysz dwie kolumny zaimportowanych danych.</span><span class="sxs-lookup"><span data-stu-id="269de-214">When it is done, you shall see two columns of data imported.</span></span>

## <a name="next-steps"></a><span data-ttu-id="269de-215">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="269de-215">Next steps</span></span>
* <span data-ttu-id="269de-216">Aby skonfigurować przyłączony do domeny klaster usługi HDInsight, zobacz [Configure Domain-joined HDInsight clusters](hdinsight-domain-joined-configure.md) (Konfigurowanie przyłączonych do domeny klastrów usługi HDInsight).</span><span class="sxs-lookup"><span data-stu-id="269de-216">For configuring a Domain-joined HDInsight cluster, see [Configure Domain-joined HDInsight clusters](hdinsight-domain-joined-configure.md).</span></span>
* <span data-ttu-id="269de-217">Aby zarządzać przyłączonymi do domeny klastrami usługi HDInsight, zobacz [Manage Domain-joined HDInsight clusters](hdinsight-domain-joined-manage.md) (Zarządzanie przyłączonymi do domeny klastrami usługi HDInsight).</span><span class="sxs-lookup"><span data-stu-id="269de-217">For managing a Domain-joined HDInsight clusters, see [Manage Domain-joined HDInsight clusters](hdinsight-domain-joined-manage.md).</span></span>
* <span data-ttu-id="269de-218">Do uruchamiania zapytań Hive przy użyciu protokołu SSH w klastrach HDInsight przyłączonych do domeny, zobacz [używanie SSH z usługą HDInsight](hdinsight-hadoop-linux-use-ssh-unix.md#domainjoined).</span><span class="sxs-lookup"><span data-stu-id="269de-218">For running Hive queries using SSH on Domain-joined HDInsight clusters, see [Use SSH with HDInsight](hdinsight-hadoop-linux-use-ssh-unix.md#domainjoined).</span></span>
* <span data-ttu-id="269de-219">Aby połączyć się z usługą Hive za pomocą interfejsu JDBC usługi Hive, zobacz [Connect to Hive on Azure HDInsight using the Hive JDBC driver](hdinsight-connect-hive-jdbc-driver.md) (Łączenie z usługą Hive w usłudze Azure HDInsight przy użyciu sterownika JDBC usługi Hive).</span><span class="sxs-lookup"><span data-stu-id="269de-219">For Connecting Hive using Hive JDBC, see [Connect to Hive on Azure HDInsight using the Hive JDBC driver](hdinsight-connect-hive-jdbc-driver.md)</span></span>
* <span data-ttu-id="269de-220">Aby połączyć program Excel z usługą Hadoop przy użyciu interfejsu ODBC usługi Hive, zobacz [Connect Excel to Hadoop with the Microsoft Hive ODBC drive](hdinsight-connect-excel-hive-odbc-driver.md) (Łączenie programu Excel z usługą Hadoop przy użyciu sterownika Microsoft Hive ODBC).</span><span class="sxs-lookup"><span data-stu-id="269de-220">For connecting Excel to Hadoop using Hive ODBC, see [Connect Excel to Hadoop with the Microsoft Hive ODBC drive](hdinsight-connect-excel-hive-odbc-driver.md)</span></span>
* <span data-ttu-id="269de-221">Aby połączyć program Excel z usługą Hadoop przy użyciu dodatku Power Query, zobacz [Connect Excel to Hadoop by using Power Query](hdinsight-connect-excel-power-query.md) (Łączenie programu Excel z usługą Hadoop przy użyciu dodatku Power Query).</span><span class="sxs-lookup"><span data-stu-id="269de-221">For connecting Excel to Hadoop using Power Query, see [Connect Excel to Hadoop by using Power Query](hdinsight-connect-excel-power-query.md)</span></span>
