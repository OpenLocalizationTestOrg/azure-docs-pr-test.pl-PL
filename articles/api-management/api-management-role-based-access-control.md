---
title: "Jak używać kontroli dostępu opartej na rolach w usłudze Azure API Management | Dokumentacja firmy Microsoft"
description: "Dowiedz się, jak użyć wbudowanych ról i tworzyć role niestandardowe w usłudze Azure API Management"
services: api-management
documentationcenter: 
author: miaojiang
manager: erikre
editor: 
ms.assetid: 364cd53e-88fb-4301-a093-f132fa1f88f5
ms.service: api-management
ms.workload: mobile
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/30/2017
ms.author: apimpm
ms.openlocfilehash: fa757a591d788f52d759bc24accedd3c55149ae7
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 07/11/2017
---
# <a name="how-to-use-role-based-access-control-in-azure-api-management"></a><span data-ttu-id="98931-103">Jak używać kontroli dostępu opartej na rolach w usłudze Azure API Management</span><span class="sxs-lookup"><span data-stu-id="98931-103">How to Use Role-Based Access Control in Azure API Management</span></span>
<span data-ttu-id="98931-104">Zarządzanie interfejsami API Azure polega na kontroli dostępu based (RBAC) umożliwia precyzyjne zarządzanie dostępem dla usługi interfejsu API zarządzania i jednostek (np. interfejsów API, zasady).</span><span class="sxs-lookup"><span data-stu-id="98931-104">Azure API Management relies on Azure Role-Based Access Control (RBAC) to enable fine-grained access management for API Management services and entities (e.g., APIs, policies).</span></span> <span data-ttu-id="98931-105">Ten artykuł zawiera przegląd ról wbudowanych i niestandardowych w usłudze API Management.</span><span class="sxs-lookup"><span data-stu-id="98931-105">This article gives you an overview of the built-in and custom roles in API Management.</span></span> <span data-ttu-id="98931-106">Aby uzyskać więcej informacji na temat zarządzania dostępem w portalu Azure, zobacz [wprowadzenie do zarządzania dostępem w portalu Azure](https://azure.microsoft.com/en-us/documentation/articles/role-based-access-control-what-is/)</span><span class="sxs-lookup"><span data-stu-id="98931-106">If you want more details on access management in the Azure portal, see [Get started with access management in the Azure portal](https://azure.microsoft.com/en-us/documentation/articles/role-based-access-control-what-is/)</span></span>

## <a name="built-in-roles"></a><span data-ttu-id="98931-107">Wbudowane role</span><span class="sxs-lookup"><span data-stu-id="98931-107">Built-in Roles</span></span>
<span data-ttu-id="98931-108">Zarządzanie interfejsami API obecnie zawiera wbudowane role 3 i doda 2 jedną rolę w najbliższej przyszłości.</span><span class="sxs-lookup"><span data-stu-id="98931-108">API Management currently provides 3 built-in roles and will add 2 more roles in the near future.</span></span> <span data-ttu-id="98931-109">W innych zakresach, łącznie z subskrypcji, grupy zasobów, a poszczególne wystąpienia interfejsu API zarządzania można przypisać tych ról.</span><span class="sxs-lookup"><span data-stu-id="98931-109">These roles can be assigned at differnt scopes including subscription, resource group, and individual API Management instance.</span></span> <span data-ttu-id="98931-110">Na przykład jeśli rola "Azure API Management usługi czytnika" jest przypisana do użytkownika na poziomie grupy zasobów, użytkownik ma dostęp do odczytu do wszystkich wystąpień usługi API Management znajdującej się w grupie zasobów.</span><span class="sxs-lookup"><span data-stu-id="98931-110">For instance, if the "Azure API Management Service Reader" role is assigned to an user at the resource group level, then the user will have read access to all API Management instances inside the resource group.</span></span> 

<span data-ttu-id="98931-111">Poniższa tabela zawiera krótkie opisy wbudowane role.</span><span class="sxs-lookup"><span data-stu-id="98931-111">The following table provides brief descriptions of the built-in roles.</span></span> <span data-ttu-id="98931-112">Można przypisać te role przy użyciu portalu Azure lub innych narzędzi, w tym na platformie Azure [PowerShell](https://docs.microsoft.com/en-us/azure/active-directory/role-based-access-control-manage-access-powershell), Azure [interfejsu wiersza polecenia](https://docs.microsoft.com/en-us/azure/active-directory/role-based-access-control-manage-access-azure-cli), i [interfejsu API REST](https://docs.microsoft.com/en-us/azure/active-directory/role-based-access-control-manage-access-rest).</span><span class="sxs-lookup"><span data-stu-id="98931-112">You can assign these roles using the Azure Portal or other tools including Azure [PowerShell](https://docs.microsoft.com/en-us/azure/active-directory/role-based-access-control-manage-access-powershell), Azure [Command-line interface](https://docs.microsoft.com/en-us/azure/active-directory/role-based-access-control-manage-access-azure-cli), and [REST API](https://docs.microsoft.com/en-us/azure/active-directory/role-based-access-control-manage-access-rest).</span></span> <span data-ttu-id="98931-113">Aby uzyskać szczegółowe informacje dotyczące sposobu przypisywania ról wbudowanych, zobacz [zarządzanie dostępem do zasobów subskrypcji platformy Azure za pomocą przypisań ról](https://azure.microsoft.com/en-us/documentation/articles/role-based-access-control-what-is/).</span><span class="sxs-lookup"><span data-stu-id="98931-113">For details about how to assign built-in roles, see [Use role assignments to manage access to your Azure subscription resources](https://azure.microsoft.com/en-us/documentation/articles/role-based-access-control-what-is/).</span></span>

| <span data-ttu-id="98931-114">Rola</span><span class="sxs-lookup"><span data-stu-id="98931-114">Role</span></span>          | <span data-ttu-id="98931-115">Dostęp do odczytu<sup>[1]</sup></span><span class="sxs-lookup"><span data-stu-id="98931-115">Read access<sup>[1]</sup></span></span> | <span data-ttu-id="98931-116">Dostęp do zapisu<sup>[2]</sup></span><span class="sxs-lookup"><span data-stu-id="98931-116">Write access<sup>[2]</sup></span></span> | <span data-ttu-id="98931-117">Tworzenie usług, usuwanie, skalowanie sieci VPN i Konfiguracja domeny niestandardowej</span><span class="sxs-lookup"><span data-stu-id="98931-117">Service creation, deletion, scaling, VPN and custom domain configuration</span></span> | <span data-ttu-id="98931-118">Dostęp do portalu Publsiher starszej wersji</span><span class="sxs-lookup"><span data-stu-id="98931-118">Access to legacy Publsiher Portal</span></span> | <span data-ttu-id="98931-119">Opis</span><span class="sxs-lookup"><span data-stu-id="98931-119">Description</span></span>
| ------------- | ---- | ---- | ---- | ---- | ---- | ---- |
| <span data-ttu-id="98931-120">Azure API Management usługi współautora</span><span class="sxs-lookup"><span data-stu-id="98931-120">Azure API Management Service Contributor</span></span> | <span data-ttu-id="98931-121">✓</span><span class="sxs-lookup"><span data-stu-id="98931-121">✓</span></span> | <span data-ttu-id="98931-122">✓</span><span class="sxs-lookup"><span data-stu-id="98931-122">✓</span></span> | <span data-ttu-id="98931-123">✓</span><span class="sxs-lookup"><span data-stu-id="98931-123">✓</span></span> | <span data-ttu-id="98931-124">✓</span><span class="sxs-lookup"><span data-stu-id="98931-124">✓</span></span> | <span data-ttu-id="98931-125">Użytkownika nadrzędnego.</span><span class="sxs-lookup"><span data-stu-id="98931-125">Super user.</span></span> <span data-ttu-id="98931-126">Ma pełny dostęp CRUD do usługi API Management i jednostek (np. interfejsów API, zasady).</span><span class="sxs-lookup"><span data-stu-id="98931-126">Has full CRUD access to API Management services and entities (e.g., APIs, Policies).</span></span> <span data-ttu-id="98931-127">Ma dostęp do portalu starszych wydawcy.</span><span class="sxs-lookup"><span data-stu-id="98931-127">Has access to the legacy publisher portal.</span></span> |
| <span data-ttu-id="98931-128">Czytnik usługi zarządzania interfejsu API platformy Azure</span><span class="sxs-lookup"><span data-stu-id="98931-128">Azure API Management Service Reader</span></span> | <span data-ttu-id="98931-129">✓</span><span class="sxs-lookup"><span data-stu-id="98931-129">✓</span></span> | | || <span data-ttu-id="98931-130">Ma dostęp tylko do odczytu do usługi API Management i jednostek.</span><span class="sxs-lookup"><span data-stu-id="98931-130">Has read-only access to API Management services and entities.</span></span> |
| <span data-ttu-id="98931-131">Operator usługi zarządzania interfejsu API platformy Azure</span><span class="sxs-lookup"><span data-stu-id="98931-131">Azure API Management Service Operator</span></span> | <span data-ttu-id="98931-132">✓</span><span class="sxs-lookup"><span data-stu-id="98931-132">✓</span></span> | | <span data-ttu-id="98931-133">✓</span><span class="sxs-lookup"><span data-stu-id="98931-133">✓</span></span> | | <span data-ttu-id="98931-134">Można zarządzać usługi API Management, ale nie jednostek.</span><span class="sxs-lookup"><span data-stu-id="98931-134">Can manage API Management services but not entities.</span></span>|
| <span data-ttu-id="98931-135">Edytor usługi zarządzania w usłudze Azure interfejsu API<sup>*</sup></span><span class="sxs-lookup"><span data-stu-id="98931-135">Azure API Management Service Editor<sup>*</sup></span></span> | <span data-ttu-id="98931-136">✓</span><span class="sxs-lookup"><span data-stu-id="98931-136">✓</span></span> | <span data-ttu-id="98931-137">✓</span><span class="sxs-lookup"><span data-stu-id="98931-137">✓</span></span> | |  | <span data-ttu-id="98931-138">Można zarządzać zarządzanie interfejsami API jednostek, ale nie usług.</span><span class="sxs-lookup"><span data-stu-id="98931-138">Can manage API Management entities but not services.</span></span>|
| <span data-ttu-id="98931-139">Azure API Management Content Manager<sup>*</sup></span><span class="sxs-lookup"><span data-stu-id="98931-139">Azure API Management Content Manager<sup>*</sup></span></span> | <span data-ttu-id="98931-140">✓</span><span class="sxs-lookup"><span data-stu-id="98931-140">✓</span></span> | | | <span data-ttu-id="98931-141">✓</span><span class="sxs-lookup"><span data-stu-id="98931-141">✓</span></span> | <span data-ttu-id="98931-142">Można zarządzać portalu dla deweloperów.</span><span class="sxs-lookup"><span data-stu-id="98931-142">Can manage developer portal.</span></span> <span data-ttu-id="98931-143">Dostęp tylko do odczytu do usługi i jednostek.</span><span class="sxs-lookup"><span data-stu-id="98931-143">Read-only access to services and entities.</span></span>|

<span data-ttu-id="98931-144"><sup>[1] dostęp do odczytu do usługi API Management i jednostek (np. interfejsów API, zasad)</sup></span><span class="sxs-lookup"><span data-stu-id="98931-144"><sup>[1] Read access to API Management services and entities (e.g., APIs, policies)</sup></span></span>

<span data-ttu-id="98931-145"><sup>[2] do zapisu usługi interfejsu API zarządzania i jednostkami, z wyjątkiem następujących opeartions: 1) wystąpienia tworzenie, usuwanie i skalowanie Konfigurowanie nazwy domeny niestandardowe 3) konfiguracji sieci VPN 2)</sup></span><span class="sxs-lookup"><span data-stu-id="98931-145"><sup>[2] Write access to API Management services and entities except following opeartions: 1) Instance creation, deletion, and scaling 2) VPN configuration  3) Custom domain name setup</sup></span></span>

<span data-ttu-id="98931-146"><sup>\*Edytor usługi roli będą dostępne po możemy migracji wszystkich admin interfejsu użytkownika z istniejącego portalu wydawcy do portalu Azure. Rola menedżera zawartości będą dostępne po portalu wydawcy został zrefaktoryzowany obejmowało tylko funkcje związane z zarządzaniem portalu dla deweloperów.</sup></span><span class="sxs-lookup"><span data-stu-id="98931-146"><sup>\* The Service Editor role will be available after we migrate all admin UI from the existing publisher portal to the Azure portal. The Content Manager role will be available after the publisher portal is refactored to only contain functionalities related to managing the developer portal.</sup></span></span>  


## <a name="custom-roles"></a><span data-ttu-id="98931-147">Role niestandardowe</span><span class="sxs-lookup"><span data-stu-id="98931-147">Custom Roles</span></span>
<span data-ttu-id="98931-148">Jeśli żadna z wbudowanych ról nie spełnia określonych potrzeb, można tworzyć role niestandardowe do zapewnienia bardziej szczegółowe zarządzanie dostępem dla interfejsu API zarządzania jednostek.</span><span class="sxs-lookup"><span data-stu-id="98931-148">If none of the built-in roles meet your specific needs, custom roles can be created to provide more granular access management for API Management entities.</span></span> <span data-ttu-id="98931-149">Na przykład można utworzyć niestandardową rolę, który ma dostęp tylko do odczytu do usługi API Management, ale ma zapisu dostęp tylko do jednego interfejsu API.</span><span class="sxs-lookup"><span data-stu-id="98931-149">For example, you can create a custom role which has read-only access to an API Management service but only has write access to one specific API.</span></span> <span data-ttu-id="98931-150">Aby uzyskać więcej informacji o niestandardowych rolach, zobacz [role niestandardowe w Azure RBAC](https://docs.microsoft.com/en-us/azure/active-directory/role-based-access-control-custom-roles).</span><span class="sxs-lookup"><span data-stu-id="98931-150">To learn more details about custom roles, see [Custom Roles in Azure RBAC](https://docs.microsoft.com/en-us/azure/active-directory/role-based-access-control-custom-roles).</span></span> 

<span data-ttu-id="98931-151">Po utworzeniu niestandardowej roli zabezpieczeń, łatwiej rozpocząć od jednego z wbudowanych ról.</span><span class="sxs-lookup"><span data-stu-id="98931-151">When you create a custom role, it is easier to start with one of the built-in roles.</span></span> <span data-ttu-id="98931-152">Edytuj atrybuty dodawanie działań, NotActions lub AssignableScopes, a następnie zapisz zmiany jako nową rolę.</span><span class="sxs-lookup"><span data-stu-id="98931-152">Edit the attributes to add the Actions, NotActions, or AssignableScopes, then save the changes as a new role.</span></span> <span data-ttu-id="98931-153">W poniższym przykładzie rozpoczyna się od roli "Czytnika usługi Managment interfejsu API platformy Azure" i tworzy niestandardowej roli zabezpieczeń o nazwie "Kalkulator Edytor interfejsu API".</span><span class="sxs-lookup"><span data-stu-id="98931-153">The following example begins with the "Azure API Managment Service Reader" role and creates a custom role called "Calculator API Editor".</span></span> <span data-ttu-id="98931-154">Tworzona rola niestandardowa można przypisać tylko do określonego interfejsu API w związku z tym będzie ma dostęp tylko do tego interfejsu API.</span><span class="sxs-lookup"><span data-stu-id="98931-154">The custom role can be assigned only to a specific API therefore will only has access to that API.</span></span> 

```
$role = Get-AzureRmRoleDefinition "API Management Service Reader Role"
$role.Id = $null
$role.Name = 'Calculator API Contributor'
$role.Description = 'Has read access to Contoso APIM instance and write access to the Calculator API.'
$role.Actions.Add('Microsoft.ApiManagement/service/apis/write')
$role.AssignableScopes.Clear()
$role.AssignableScopes.Add('/subscriptions/<subscription ID>/resourceGroups/<resource group name>/providers/Microsoft.ApiManagement/service/<service name>/apis/<api ID>')
New-AzureRmRoleDefinition -Role $role
New-AzureRmRoleAssignment -ObjectId <object ID of the user account> -RoleDefinitionName 'Calculator API Contributor' -Scope '/subscriptions/<subscription ID>/resourceGroups/<resource group name>/providers/Microsoft.ApiManagement/service/<service name>/apis/<api ID>'
```

## <a name="watch-a-video-overview"></a><span data-ttu-id="98931-155">Obejrzyj film wideo</span><span class="sxs-lookup"><span data-stu-id="98931-155">Watch a Video Overview</span></span>

> [!VIDEO https://channel9.msdn.com/Blogs/AzureApiMgmt/Role-Based-Access-Control-in-API-Management/player]
> 
> 

## <a name="next-steps"></a><span data-ttu-id="98931-156">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="98931-156">Next Steps</span></span>

* <span data-ttu-id="98931-157">Dowiedz się więcej o opartej na rolach kontroli dostępu na platformie Azure</span><span class="sxs-lookup"><span data-stu-id="98931-157">Learn more about Role-Based Access Control in Azure</span></span>
  * [<span data-ttu-id="98931-158">Wprowadzenie do zarządzania dostępem w witrynie Azure Portal</span><span class="sxs-lookup"><span data-stu-id="98931-158">Get started with access management in the Azure portal</span></span>](https://azure.microsoft.com/en-us/documentation/articles/role-based-access-control-what-is/)
  * [<span data-ttu-id="98931-159">Zarządzanie dostępem do zasobów subskrypcji platformy Azure za pomocą przypisań ról</span><span class="sxs-lookup"><span data-stu-id="98931-159">Use role assignments to manage access to your Azure subscription resources</span></span>](https://azure.microsoft.com/en-us/documentation/articles/role-based-access-control-what-is/)
  * [<span data-ttu-id="98931-160">Role niestandardowe w Azure RBAC</span><span class="sxs-lookup"><span data-stu-id="98931-160">Custom Roles in Azure RBAC</span></span>](https://docs.microsoft.com/en-us/azure/active-directory/role-based-access-control-custom-roles)
