---
title: "aaaAccess interfejsu API usługi Azure Media Services przy użyciu uwierzytelniania usługi Azure Active Directory | Dokumentacja firmy Microsoft"
description: "Więcej informacji na temat pojęć i kroki tootake toouse usługi Azure Active Directory (Azure AD) tooauthenticate dostępu toohello interfejsu API usługi Azure Media Services."
services: media-services
documentationcenter: 
author: Juliako
manager: cfowler
editor: 
ms.service: media-services
ms.workload: media
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/17/2017
ms.author: juliako
ms.openlocfilehash: bb8f75f39100dc37098260c24ab4a199ef689d46
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="access-hello-azure-media-services-api-with-azure-ad-authentication"></a><span data-ttu-id="a6276-103">Witaj dostępu do interfejsu API usługi Azure Media Services przy użyciu uwierzytelniania usługi Azure AD</span><span class="sxs-lookup"><span data-stu-id="a6276-103">Access hello Azure Media Services API with Azure AD authentication</span></span>
 
<span data-ttu-id="a6276-104">Witaj interfejsu API usługi Azure Media Services jest interfejs API RESTful.</span><span class="sxs-lookup"><span data-stu-id="a6276-104">hello Azure Media Services API is a RESTful API.</span></span> <span data-ttu-id="a6276-105">Służy on tooperform operacje na zasobach nośnika przy użyciu interfejsu API REST lub przy użyciu zestawów SDK klienta dostępne.</span><span class="sxs-lookup"><span data-stu-id="a6276-105">You can use it tooperform operations on media resources by using a REST API or by using available client SDKs.</span></span> <span data-ttu-id="a6276-106">Usługa Azure Media Services udostępnia klienta usługi Media Services SDK dla programu Microsoft .NET.</span><span class="sxs-lookup"><span data-stu-id="a6276-106">Azure Media Services offers a Media Services client SDK for Microsoft .NET.</span></span> <span data-ttu-id="a6276-107">toobe autoryzowanych zasobów usługi Media Services tooaccess i hello Media Services API, musisz najpierw musi zostać uwierzytelniony.</span><span class="sxs-lookup"><span data-stu-id="a6276-107">toobe authorized tooaccess Media Services resources and hello Media Services API, you must first be authenticated.</span></span> 

<span data-ttu-id="a6276-108">Usługa Media Services obsługuje [usługi Azure Active Directory (Azure AD)-uwierzytelniania opartego na](../active-directory/active-directory-whatis.md).</span><span class="sxs-lookup"><span data-stu-id="a6276-108">Media Services supports [Azure Active Directory (Azure AD)-based authentication](../active-directory/active-directory-whatis.md).</span></span> <span data-ttu-id="a6276-109">Witaj usługi Azure Media REST musi mieć hello użytkownika lub aplikacji, która sprawia, że żądania interfejsu API REST hello albo hello **współautora** lub **właściciela** tooaccess roli hello zasobów.</span><span class="sxs-lookup"><span data-stu-id="a6276-109">hello Azure Media REST service requires that hello user or application that makes hello REST API requests have either hello **Contributor** or **Owner** role tooaccess hello resources.</span></span> <span data-ttu-id="a6276-110">Aby uzyskać więcej informacji, zobacz [wprowadzenie opartej na rolach kontrola dostępu w portalu Azure hello](../active-directory/role-based-access-control-what-is.md).</span><span class="sxs-lookup"><span data-stu-id="a6276-110">For more information, see [Get started with Role-Based Access Control in hello Azure portal](../active-directory/role-based-access-control-what-is.md).</span></span>  

> [!IMPORTANT]
> <span data-ttu-id="a6276-111">Obecnie usługa Media Services obsługuje hello Azure kontroli dostępu usługi uwierzytelniania modelu.</span><span class="sxs-lookup"><span data-stu-id="a6276-111">Currently, Media Services supports hello Azure Access Control service authentication model.</span></span> <span data-ttu-id="a6276-112">Jednak na 1 czerwca 2018 zostaną wycofane autoryzacji kontroli dostępu.</span><span class="sxs-lookup"><span data-stu-id="a6276-112">However, Access Control authorization will be deprecated on June 1, 2018.</span></span> <span data-ttu-id="a6276-113">Zaleca się, jak najszybciej migracji model uwierzytelniania toohello usługi Azure AD.</span><span class="sxs-lookup"><span data-stu-id="a6276-113">We recommend that you migrate toohello Azure AD authentication model as soon as possible.</span></span>

<span data-ttu-id="a6276-114">Ten dokument zawiera omówienie sposobu tooaccess hello interfejsu API usług Media Services przy użyciu REST lub interfejsów API architektury .NET.</span><span class="sxs-lookup"><span data-stu-id="a6276-114">This document gives an overview of how tooaccess hello Media Services API by using REST or .NET APIs.</span></span>

## <a name="access-control"></a><span data-ttu-id="a6276-115">Kontrola dostępu</span><span class="sxs-lookup"><span data-stu-id="a6276-115">Access control</span></span>

<span data-ttu-id="a6276-116">Hello Azure Media REST żądania toosucceed hello wywoływania użytkownik musi mieć rolę współautora lub właściciela do hello jest próby tooaccess konta usługi Media Services.</span><span class="sxs-lookup"><span data-stu-id="a6276-116">For hello Azure Media REST request toosucceed, hello calling user must have a Contributor or Owner role for hello Media Services account it is trying tooaccess.</span></span>  
<span data-ttu-id="a6276-117">Tylko użytkownik mający rolę właściciela hello można przekazać nośnika zasobów (konto) dostępu toonew użytkowników lub aplikacji.</span><span class="sxs-lookup"><span data-stu-id="a6276-117">Only a user with hello Owner role can give media resource (account) access toonew users or apps.</span></span> <span data-ttu-id="a6276-118">Rola współautora Hello mogą uzyskiwać dostęp tylko hello zasobu multimediów.</span><span class="sxs-lookup"><span data-stu-id="a6276-118">hello Contributor role can access only hello media resource.</span></span>
<span data-ttu-id="a6276-119">Nieautoryzowanych żądań zakończyć się niepowodzeniem z kodem stanu 401.</span><span class="sxs-lookup"><span data-stu-id="a6276-119">Unauthorized requests fail, with status code of 401.</span></span> <span data-ttu-id="a6276-120">Jeśli widzisz tego kodu błędu, sprawdź, czy użytkownika ma hello współautora lub rolę właściciela przypisane do konta usługi Media Services hello użytkownika.</span><span class="sxs-lookup"><span data-stu-id="a6276-120">If you see this error code, check whether your user has hello Contributor or Owner role assigned for hello user's Media Services account.</span></span> <span data-ttu-id="a6276-121">Można to sprawdzić, w hello portalu Azure.</span><span class="sxs-lookup"><span data-stu-id="a6276-121">You can check this in hello Azure portal.</span></span> <span data-ttu-id="a6276-122">Wyszukaj konta nośnika, a następnie kliknij hello **kontrola dostępu** kartę.</span><span class="sxs-lookup"><span data-stu-id="a6276-122">Search for your media account, and then click hello **Access control** tab.</span></span> 

![Karta kontroli dostępu](./media/media-services-use-aad-auth-to-access-ams-api/media-services-access-control.png)

## <a name="types-of-authentication"></a><span data-ttu-id="a6276-124">Typy uwierzytelniania</span><span class="sxs-lookup"><span data-stu-id="a6276-124">Types of authentication</span></span> 
 
<span data-ttu-id="a6276-125">Korzystając z uwierzytelniania usługi Azure AD z usługi Azure Media Services, masz dwie opcje uwierzytelniania:</span><span class="sxs-lookup"><span data-stu-id="a6276-125">When you use Azure AD authentication with Azure Media Services, you have two authentication options:</span></span>

- <span data-ttu-id="a6276-126">**Uwierzytelnianie użytkownika**.</span><span class="sxs-lookup"><span data-stu-id="a6276-126">**User authentication**.</span></span> <span data-ttu-id="a6276-127">Uwierzytelnianie osoby, która używa toointeract aplikacji hello z zasobami usługi Media Services.</span><span class="sxs-lookup"><span data-stu-id="a6276-127">Authenticate a person who is using hello app toointeract with Media Services resources.</span></span> <span data-ttu-id="a6276-128">Interaktywna aplikacja Hello należy najpierw Monituj użytkownika o hello na powitania poświadczeń.</span><span class="sxs-lookup"><span data-stu-id="a6276-128">hello interactive application should first prompt hello user for hello user's credentials.</span></span> <span data-ttu-id="a6276-129">Przykładem jest aplikacja konsoli zarządzania używane przez zadania kodowania toomonitor autoryzowanych użytkowników lub transmisji strumieniowej na żywo.</span><span class="sxs-lookup"><span data-stu-id="a6276-129">An example is a management console app used by authorized users toomonitor encoding jobs or live streaming.</span></span> 
- <span data-ttu-id="a6276-130">**Uwierzytelnianie głównej usługi**.</span><span class="sxs-lookup"><span data-stu-id="a6276-130">**Service principal authentication**.</span></span> <span data-ttu-id="a6276-131">Uwierzytelniania usługi.</span><span class="sxs-lookup"><span data-stu-id="a6276-131">Authenticate a service.</span></span> <span data-ttu-id="a6276-132">Aplikacje, które zazwyczaj używają tej metody uwierzytelniania są aplikacji uruchamianych demon usługi, usługi warstwy środkowej lub zaplanowanych zadań.</span><span class="sxs-lookup"><span data-stu-id="a6276-132">Applications that commonly use this authentication method are apps that run daemon services, middle-tier services, or scheduled jobs.</span></span> <span data-ttu-id="a6276-133">Przykłady są aplikacje sieci web, aplikacje funkcji aplikacji logiki, interfejsu API i mikrousług.</span><span class="sxs-lookup"><span data-stu-id="a6276-133">Examples are web apps, function apps, logic apps, API, and microservices.</span></span>

### <a name="user-authentication"></a><span data-ttu-id="a6276-134">Uwierzytelnianie użytkowników</span><span class="sxs-lookup"><span data-stu-id="a6276-134">User authentication</span></span> 

<span data-ttu-id="a6276-135">Aplikacje, które powinny używać metody uwierzytelniania użytkownika hello są zarządzanie i monitorowanie natywnych aplikacji: aplikacje mobilne, aplikacje systemu Windows i aplikacji konsoli.</span><span class="sxs-lookup"><span data-stu-id="a6276-135">Applications that should use hello user authentication method are management or monitoring native apps: mobile apps, Windows apps, and Console applications.</span></span> <span data-ttu-id="a6276-136">Tego typu rozwiązanie jest przydatne, gdy chcesz interakcji z usługą hello w jednym z hello następujące scenariusze:</span><span class="sxs-lookup"><span data-stu-id="a6276-136">This type of solution is useful when you want human interaction with hello service in one of hello following scenarios:</span></span>

- <span data-ttu-id="a6276-137">Pulpit nawigacyjny do kodowania zadań monitorowania.</span><span class="sxs-lookup"><span data-stu-id="a6276-137">Monitoring dashboard for your encoding jobs.</span></span>
- <span data-ttu-id="a6276-138">Monitorowanie, odwiedź pulpit nawigacyjny strumienie na żywo.</span><span class="sxs-lookup"><span data-stu-id="a6276-138">Monitoring dashboard for your live streams.</span></span>
- <span data-ttu-id="a6276-139">Aplikacji do zarządzania desktop lub mobile użytkownikom tooadminister zasobów w ramach konta usługi Media Services.</span><span class="sxs-lookup"><span data-stu-id="a6276-139">Management application for desktop or mobile users tooadminister resources in a Media Services account.</span></span>

> [!NOTE]
> <span data-ttu-id="a6276-140">Nie można używać tej metody uwierzytelniania dla aplikacji dla użytkowników.</span><span class="sxs-lookup"><span data-stu-id="a6276-140">This authentication method should not be used for consumer-facing applications.</span></span> 

<span data-ttu-id="a6276-141">Natywnych aplikacji musi najpierw uzyskać token dostępu z usługi Azure AD, a następnie użyć go po wprowadzeniu HTTP żądania toohello nośnika interfejsu API REST usług.</span><span class="sxs-lookup"><span data-stu-id="a6276-141">A native application must first acquire an access token from Azure AD, and then use it when you make HTTP requests toohello Media Services REST API.</span></span> <span data-ttu-id="a6276-142">Dodaj nagłówek żądania toohello tokenu dostępu hello.</span><span class="sxs-lookup"><span data-stu-id="a6276-142">Add hello access token toohello request header.</span></span> 

<span data-ttu-id="a6276-143">powitania po diagram przedstawia przepływ uwierzytelniania typowych aplikacji:</span><span class="sxs-lookup"><span data-stu-id="a6276-143">hello following diagram shows a typical interactive application authentication flow:</span></span> 

![Diagram aplikacje natywne](./media/media-services-use-aad-auth-to-access-ams-api/media-services-native-aad-app1.png)

<span data-ttu-id="a6276-145">W hello poprzedzających diagramu hello liczby reprezentują hello przepływ żądań hello w kolejności chronologicznej.</span><span class="sxs-lookup"><span data-stu-id="a6276-145">In hello preceding diagram, hello numbers represent hello flow of hello requests in chronological order.</span></span>

> [!NOTE]
> <span data-ttu-id="a6276-146">Korzystając z metody uwierzytelniania użytkownika hello, wszystkie aplikacje udostępnianie hello tego samego Identyfikatora klienta aplikacji natywnej (ustawienie domyślne) i aplikacji natywnej identyfikator URI przekierowania.</span><span class="sxs-lookup"><span data-stu-id="a6276-146">When you use hello user authentication method, all apps share hello same (default) native application client ID and native application redirect URI.</span></span> 

1. <span data-ttu-id="a6276-147">Monituj użytkownika o poświadczenia.</span><span class="sxs-lookup"><span data-stu-id="a6276-147">Prompt a user for credentials.</span></span>
2. <span data-ttu-id="a6276-148">Żądanie tokenu dostępu usługi Azure AD z hello następujące parametry:</span><span class="sxs-lookup"><span data-stu-id="a6276-148">Request an Azure AD access token with hello following parameters:</span></span>  

    * <span data-ttu-id="a6276-149">Punkt końcowy dzierżawy usługi Azure AD.</span><span class="sxs-lookup"><span data-stu-id="a6276-149">Azure AD tenant endpoint.</span></span>

        <span data-ttu-id="a6276-150">Witaj dzierżawy informacje mogą zostać pobrane z hello portalu Azure.</span><span class="sxs-lookup"><span data-stu-id="a6276-150">hello tenant information can be retrieved from hello Azure portal.</span></span> <span data-ttu-id="a6276-151">Umieść kursor nad nazwą hello hello zalogowanego użytkownika w prawym górnym rogu hello.</span><span class="sxs-lookup"><span data-stu-id="a6276-151">Place your cursor over hello name of hello signed-in user in hello top right corner.</span></span>
    * <span data-ttu-id="a6276-152">Identyfikator URI zasobu usługi Media Services.</span><span class="sxs-lookup"><span data-stu-id="a6276-152">Media Services resource URI.</span></span> 

        <span data-ttu-id="a6276-153">Ten identyfikator URI jest hello takie same dla konta usługi Media Services, które znajdują się w hello tego samego środowiska platformy Azure (na przykład https://rest.media.azure.net).</span><span class="sxs-lookup"><span data-stu-id="a6276-153">This URI is hello same for Media Services accounts that are in hello same Azure environment (for example, https://rest.media.azure.net).</span></span>

    * <span data-ttu-id="a6276-154">Identyfikator klienta aplikacji usługi Media Services (macierzysty).</span><span class="sxs-lookup"><span data-stu-id="a6276-154">Media Services (native) application client ID.</span></span>
    * <span data-ttu-id="a6276-155">Identyfikator URI przekierowania aplikacji usługi Media Services (macierzysty).</span><span class="sxs-lookup"><span data-stu-id="a6276-155">Media Services (native) application redirect URI.</span></span>
    * <span data-ttu-id="a6276-156">Identyfikator URI dla usługi REST Media Services zasobu.</span><span class="sxs-lookup"><span data-stu-id="a6276-156">Resource URI for REST Media Services.</span></span>
        
        <span data-ttu-id="a6276-157">Witaj identyfikator URI reprezentuje punkt końcowy interfejsu API REST hello (na przykład https://test03.restv2.westus.media.azure.net/api/).</span><span class="sxs-lookup"><span data-stu-id="a6276-157">hello URI represents hello REST API endpoint (for example, https://test03.restv2.westus.media.azure.net/api/).</span></span>

    <span data-ttu-id="a6276-158">tooget wartości tych parametrów, zobacz [za pomocą ustawień uwierzytelniania Azure tooaccess portalu usługi Azure AD hello](media-services-portal-get-started-with-aad.md) przy użyciu opcji uwierzytelniania użytkownika hello.</span><span class="sxs-lookup"><span data-stu-id="a6276-158">tooget values for these parameters, see [Use hello Azure portal tooaccess Azure AD authentication settings](media-services-portal-get-started-with-aad.md) using hello user authentication option.</span></span>

3. <span data-ttu-id="a6276-159">token dostępu Hello Azure AD jest wysyłany toohello klienta.</span><span class="sxs-lookup"><span data-stu-id="a6276-159">hello Azure AD access token is sent toohello client.</span></span>
4. <span data-ttu-id="a6276-160">Witaj klient wysyła żądanie toohello interfejsu API REST multimediów Azure z tokenem dostępu hello Azure AD.</span><span class="sxs-lookup"><span data-stu-id="a6276-160">hello client sends a request toohello Azure Media REST API with hello Azure AD access token.</span></span>
5. <span data-ttu-id="a6276-161">powitania klienta pobiera ponownie hello dane z usługi Media Services.</span><span class="sxs-lookup"><span data-stu-id="a6276-161">hello client gets back hello data from Media Services.</span></span>

<span data-ttu-id="a6276-162">Aby dowiedzieć się jak toocommunicate uwierzytelniania toouse usługi Azure AD z pozostałych żądań przy użyciu powitania klienta Media Services na platformie .NET SDK, zobacz [użycia usługi Azure AD authentication tooaccess hello Media Services API z platformą .NET](media-services-dotnet-get-started-with-aad.md).</span><span class="sxs-lookup"><span data-stu-id="a6276-162">For information about how toouse Azure AD authentication toocommunicate with REST requests by using hello Media Services .NET client SDK, see [Use Azure AD authentication tooaccess hello Media Services API with .NET](media-services-dotnet-get-started-with-aad.md).</span></span> 

<span data-ttu-id="a6276-163">Jeśli nie używasz powitania klienta Media Services na platformie .NET SDK, należy ręcznie utworzyć żądania tokenu dostępu do usługi Azure AD przy użyciu parametrów hello opisany w kroku 2.</span><span class="sxs-lookup"><span data-stu-id="a6276-163">If you are not using hello Media Services .NET client SDK, you must manually create an Azure AD access token request by using hello parameters described in step 2.</span></span> <span data-ttu-id="a6276-164">Aby uzyskać więcej informacji, zobacz [jak toouse hello Azure AD Authentication Library tooget hello tokenu usługi Azure AD](../active-directory/develop/active-directory-authentication-libraries.md).</span><span class="sxs-lookup"><span data-stu-id="a6276-164">For more information, see [How toouse hello Azure AD Authentication Library tooget hello Azure AD token](../active-directory/develop/active-directory-authentication-libraries.md).</span></span>

### <a name="service-principal-authentication"></a><span data-ttu-id="a6276-165">Uwierzytelnianie jednostki usługi</span><span class="sxs-lookup"><span data-stu-id="a6276-165">Service principal authentication</span></span>

<span data-ttu-id="a6276-166">Aplikacje, które zazwyczaj używają tej metody uwierzytelniania są aplikacji uruchamianych usług warstwy środkowej i zaplanowanych zadań: sieci web aplikacji, aplikacje funkcji aplikacji logiki, interfejsów API i mikrousług.</span><span class="sxs-lookup"><span data-stu-id="a6276-166">Applications that commonly use this authentication method are apps that run middle-tier services and scheduled jobs: web apps, function apps, logic apps, APIs, and microservices.</span></span> <span data-ttu-id="a6276-167">Ta metoda uwierzytelniania jest również odpowiedni dla aplikacji interaktywnych, w których można toouse toomanage zasobów konta usługi.</span><span class="sxs-lookup"><span data-stu-id="a6276-167">This authentication method also is suitable for interactive applications in which you might want toouse a service account toomanage resources.</span></span>

<span data-ttu-id="a6276-168">Gdy używasz scenariusze konsumenckie toobuild hello usługi uwierzytelniania główna — metoda uwierzytelniania zwykle odbywa się hello warstwy środkowej (za pośrednictwem niektórych interfejsu API), a nie bezpośrednio w aplikacji mobilnych lub komputerowych.</span><span class="sxs-lookup"><span data-stu-id="a6276-168">When you use hello service principal authentication method toobuild consumer scenarios, authentication typically is handled in hello middle tier (through some API) and not directly in a mobile or desktop application.</span></span> 

<span data-ttu-id="a6276-169">toouse ta metoda tworzy aplikację usługi Azure AD i dodatki service principal w jego własnej dzierżawy.</span><span class="sxs-lookup"><span data-stu-id="a6276-169">toouse this method, create an Azure AD application and service principal in its own tenant.</span></span> <span data-ttu-id="a6276-170">Po utworzeniu aplikacji hello nadaj hello aplikacji współautora lub właściciela roli dostępu toohello konta usługi Media Services.</span><span class="sxs-lookup"><span data-stu-id="a6276-170">After you create hello application, give hello app Contributor or Owner role access toohello Media Services account.</span></span> <span data-ttu-id="a6276-171">Można to zrobić w hello portalu Azure za pomocą wiersza polecenia platformy Azure lub za pomocą skryptu programu PowerShell.</span><span class="sxs-lookup"><span data-stu-id="a6276-171">You can do this in hello Azure portal, by using Azure CLI, or with a PowerShell script.</span></span> <span data-ttu-id="a6276-172">Można również użyć istniejącej aplikacji usługi Azure AD.</span><span class="sxs-lookup"><span data-stu-id="a6276-172">You also can use an existing Azure AD application.</span></span> <span data-ttu-id="a6276-173">Możesz zarejestrować i zarządzanie aplikacji usługi Azure AD i nazwę główną usługi [w portalu Azure hello](media-services-portal-get-started-with-aad.md).</span><span class="sxs-lookup"><span data-stu-id="a6276-173">You can register and manage your Azure AD app and service principal [in hello Azure portal](media-services-portal-get-started-with-aad.md).</span></span> <span data-ttu-id="a6276-174">Możesz również można to zrobić przy użyciu [Azure CLI 2.0](media-services-use-aad-auth-to-access-ams-api.md) lub [PowerShell](media-services-powershell-create-and-configure-aad-app.md).</span><span class="sxs-lookup"><span data-stu-id="a6276-174">You also can do this by using [Azure CLI 2.0](media-services-use-aad-auth-to-access-ams-api.md) or [PowerShell](media-services-powershell-create-and-configure-aad-app.md).</span></span> 

![Aplikacje warstwy środkowej](./media/media-services-use-aad-auth-to-access-ams-api/media-services-principal-service-aad-app1.png)

<span data-ttu-id="a6276-176">Po utworzeniu aplikacji usługi Azure AD, możesz uzyskać wartości hello następujące ustawienia.</span><span class="sxs-lookup"><span data-stu-id="a6276-176">After you create your Azure AD application, you get values for hello following settings.</span></span> <span data-ttu-id="a6276-177">Te wartości są wymagane do uwierzytelniania:</span><span class="sxs-lookup"><span data-stu-id="a6276-177">You need these values for authentication:</span></span>

- <span data-ttu-id="a6276-178">Identyfikator klienta</span><span class="sxs-lookup"><span data-stu-id="a6276-178">Client ID</span></span> 
- <span data-ttu-id="a6276-179">Klucz tajny klienta</span><span class="sxs-lookup"><span data-stu-id="a6276-179">Client secret</span></span> 

<span data-ttu-id="a6276-180">W powyższej ilustracji hello hello liczby reprezentują hello przepływ żądań hello w kolejności chronologicznej:</span><span class="sxs-lookup"><span data-stu-id="a6276-180">In hello preceding figure, hello numbers represent hello flow of hello requests in chronological order:</span></span>
    
1. <span data-ttu-id="a6276-181">Aplikacja warstwy środkowej (interfejs API sieci web lub aplikacji sieci web) żądania tokenu dostępu usługi Azure AD, który ma następujące parametry hello:</span><span class="sxs-lookup"><span data-stu-id="a6276-181">A middle-tier app (web API or web application) requests an Azure AD access token that has hello following parameters:</span></span>  

    * <span data-ttu-id="a6276-182">Punkt końcowy dzierżawy usługi Azure AD.</span><span class="sxs-lookup"><span data-stu-id="a6276-182">Azure AD tenant endpoint.</span></span>

        <span data-ttu-id="a6276-183">Witaj dzierżawy informacje mogą zostać pobrane z hello portalu Azure.</span><span class="sxs-lookup"><span data-stu-id="a6276-183">hello tenant information can be retrieved from hello Azure portal.</span></span> <span data-ttu-id="a6276-184">Umieść kursor nad nazwą hello hello zalogowanego użytkownika w prawym górnym rogu hello.</span><span class="sxs-lookup"><span data-stu-id="a6276-184">Place your cursor over hello name of hello signed-in user in hello top right corner.</span></span>
    * <span data-ttu-id="a6276-185">Identyfikator URI zasobu usługi Media Services.</span><span class="sxs-lookup"><span data-stu-id="a6276-185">Media Services resource URI.</span></span> 

        <span data-ttu-id="a6276-186">Ten identyfikator URI jest hello takie same dla konta usługi Media Services, które znajdują się w hello tego samego środowiska platformy Azure (na przykład https://rest.media.azure.net).</span><span class="sxs-lookup"><span data-stu-id="a6276-186">This URI is hello same for Media Services accounts that are located in hello same Azure environment (for example, https://rest.media.azure.net).</span></span>

    * <span data-ttu-id="a6276-187">Identyfikator URI dla usługi REST Media Services zasobu.</span><span class="sxs-lookup"><span data-stu-id="a6276-187">Resource URI for REST Media Services.</span></span>

        <span data-ttu-id="a6276-188">Witaj identyfikator URI reprezentuje punkt końcowy interfejsu API REST hello (na przykład https://test03.restv2.westus.media.azure.net/api/).</span><span class="sxs-lookup"><span data-stu-id="a6276-188">hello URI represents hello REST API endpoint (for example, https://test03.restv2.westus.media.azure.net/api/).</span></span>

    * <span data-ttu-id="a6276-189">Wartości aplikacji w usłudze Azure AD: hello identyfikator klienta i klucz tajny klienta.</span><span class="sxs-lookup"><span data-stu-id="a6276-189">Azure AD application values: hello client ID and client secret.</span></span>
    
    <span data-ttu-id="a6276-190">tooget wartości tych parametrów, zobacz [za pomocą ustawień uwierzytelniania Azure tooaccess portalu usługi Azure AD hello](media-services-portal-get-started-with-aad.md) przy użyciu opcji uwierzytelniania głównej usługi hello.</span><span class="sxs-lookup"><span data-stu-id="a6276-190">tooget values for these parameters, see [Use hello Azure portal tooaccess Azure AD authentication settings](media-services-portal-get-started-with-aad.md) by using hello service principal authentication option.</span></span>

2. <span data-ttu-id="a6276-191">token dostępu Hello Azure AD jest wysyłany toohello warstwy środkowej.</span><span class="sxs-lookup"><span data-stu-id="a6276-191">hello Azure AD access token is sent toohello middle tier.</span></span>
4. <span data-ttu-id="a6276-192">warstwy środkowej Hello wysyła żądanie toohello interfejsu API REST multimediów Azure tokenem hello Azure AD.</span><span class="sxs-lookup"><span data-stu-id="a6276-192">hello middle tier sends request toohello Azure Media REST API with hello Azure AD token.</span></span>
5. <span data-ttu-id="a6276-193">warstwy środkowej Hello pobiera ponownie hello dane z usługi Media Services.</span><span class="sxs-lookup"><span data-stu-id="a6276-193">hello middle tier gets back hello data from Media Services.</span></span>

<span data-ttu-id="a6276-194">Aby uzyskać więcej informacji dotyczących sposobu toocommunicate uwierzytelniania toouse usługi Azure AD z POZOSTAŁĄ żądań przy użyciu powitania klienta Media Services na platformie .NET SDK, zobacz [użycia usługi Azure AD authentication tooaccess Azure Media Services API z platformą .NET](media-services-dotnet-get-started-with-aad.md).</span><span class="sxs-lookup"><span data-stu-id="a6276-194">For more information about how toouse Azure AD authentication toocommunicate with REST requests by using hello Media Services .NET client SDK, see [Use Azure AD authentication tooaccess Azure Media Services API with .NET](media-services-dotnet-get-started-with-aad.md).</span></span> 

<span data-ttu-id="a6276-195">Jeśli nie używasz powitania klienta Media Services na platformie .NET SDK, należy ręcznie utworzyć żądania tokenu usługi Azure AD przy użyciu parametrów opisanych w kroku 1.</span><span class="sxs-lookup"><span data-stu-id="a6276-195">If you are not using hello Media Services .NET client SDK, you must manually create an Azure AD token request by using parameters described in step 1.</span></span> <span data-ttu-id="a6276-196">Aby uzyskać więcej informacji, zobacz [jak toouse hello Azure AD Authentication Library tooget hello tokenu usługi Azure AD](../active-directory/develop/active-directory-authentication-libraries.md).</span><span class="sxs-lookup"><span data-stu-id="a6276-196">For more information, see [How toouse hello Azure AD Authentication Library tooget hello Azure AD token](../active-directory/develop/active-directory-authentication-libraries.md).</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="a6276-197">Rozwiązywanie problemów</span><span class="sxs-lookup"><span data-stu-id="a6276-197">Troubleshooting</span></span>

<span data-ttu-id="a6276-198">Wyjątek: "hello serwer zdalny zwrócił błąd: Brak autoryzacji (401)."</span><span class="sxs-lookup"><span data-stu-id="a6276-198">Exception: "hello remote server returned an error: (401) Unauthorized."</span></span>

<span data-ttu-id="a6276-199">Rozwiązanie: Hello Media Services REST żądania toosucceed, hello wywoływania użytkownik musi być Rola współautora lub właściciela hello konto usługi Media Services, które chce tooaccess.</span><span class="sxs-lookup"><span data-stu-id="a6276-199">Solution: For hello Media Services REST request toosucceed, hello calling user must be a Contributor or Owner role in hello Media Services account it is trying tooaccess.</span></span> <span data-ttu-id="a6276-200">Aby uzyskać więcej informacji, zobacz hello [kontrola dostępu](media-services-use-aad-auth-to-access-ams-api.md#access-control) sekcji.</span><span class="sxs-lookup"><span data-stu-id="a6276-200">For more information, see hello [Access control](media-services-use-aad-auth-to-access-ams-api.md#access-control) section.</span></span>

## <a name="resources"></a><span data-ttu-id="a6276-201">Zasoby</span><span class="sxs-lookup"><span data-stu-id="a6276-201">Resources</span></span>

<span data-ttu-id="a6276-202">następujące artykuły Hello są omówienie pojęć dotyczących uwierzytelniania usługi Azure AD:</span><span class="sxs-lookup"><span data-stu-id="a6276-202">hello following articles are overviews of Azure AD authentication concepts:</span></span> 

- [<span data-ttu-id="a6276-203">Uwierzytelnianie scenariusze związane z usługą Azure AD</span><span class="sxs-lookup"><span data-stu-id="a6276-203">Authentication scenarios addressed by Azure AD</span></span>](../active-directory/develop/active-directory-authentication-scenarios.md#basics-of-authentication-in-azure-ad)
- [<span data-ttu-id="a6276-204">Dodawanie, aktualizowanie lub usuwanie aplikacji w usłudze Azure AD</span><span class="sxs-lookup"><span data-stu-id="a6276-204">Add, update, or remove an application in Azure AD</span></span>](../active-directory/develop/active-directory-integrating-applications.md)
- [<span data-ttu-id="a6276-205">Konfigurowanie i zarządzanie nimi kontroli dostępu opartej na rolach przy użyciu programu PowerShell</span><span class="sxs-lookup"><span data-stu-id="a6276-205">Configure and manage Role-Based Access Control by using PowerShell</span></span>](../active-directory/role-based-access-control-manage-access-powershell.md)

## <a name="next-steps"></a><span data-ttu-id="a6276-206">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="a6276-206">Next steps</span></span>

* <span data-ttu-id="a6276-207">Za pomocą hello portalu Azure[dostęp do usługi Azure AD authentication tooconsume interfejsu API usługi Azure Media Services](media-services-portal-get-started-with-aad.md).</span><span class="sxs-lookup"><span data-stu-id="a6276-207">Use hello Azure portal too[access Azure AD authentication tooconsume Azure Media Services API](media-services-portal-get-started-with-aad.md).</span></span>
* <span data-ttu-id="a6276-208">Za pomocą uwierzytelniania usługi Azure AD[dostępu Azure Media Services API z platformą .NET](media-services-dotnet-get-started-with-aad.md).</span><span class="sxs-lookup"><span data-stu-id="a6276-208">Use Azure AD authentication too[access Azure Media Services API with .NET](media-services-dotnet-get-started-with-aad.md).</span></span>

