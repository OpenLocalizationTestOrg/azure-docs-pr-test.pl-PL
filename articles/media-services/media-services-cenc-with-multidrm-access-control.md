---
title: "CENC z wieloma DRM i kontrolą dostępu: odwołanie do projektu i wdrożenia na platformie Azure i usługi Azure Media Services | Dokumentacja firmy Microsoft"
description: "Więcej informacji na temat sposobu toolicensing hello Microsoft® Smooth Streaming klienta Eksportowanie zestawu."
services: media-services
documentationcenter: 
author: willzhan
manager: cfowler
editor: 
ms.assetid: 7814739b-cea9-4b9b-8370-538702e5c615
ms.service: media-services
ms.workload: media
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/19/2017
ms.author: willzhan;kilroyh;yanmf;juliako
ms.openlocfilehash: 033fb618650c4fbe9069d467159a8734da759bba
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="cenc-with-multi-drm-and-access-control-a-reference-design-and-implementation-on-azure-and-azure-media-services"></a><span data-ttu-id="eb899-103">Szyfrowanie CENC przy użyciu technologii Multi-DRM i kontroli dostępu: odwołanie do projektowania i implementacji na platformie Azure i w usłudze Azure Media Services</span><span class="sxs-lookup"><span data-stu-id="eb899-103">CENC with Multi-DRM and Access Control: A Reference Design and Implementation on Azure and Azure Media Services</span></span>
 
## <a name="introduction"></a><span data-ttu-id="eb899-104">Wprowadzenie</span><span class="sxs-lookup"><span data-stu-id="eb899-104">Introduction</span></span>
<span data-ttu-id="eb899-105">Należy dobrze znany jest toodesign złożonych zadań i tworzenie Podsystem DRM dla OTT lub w trybie online, rozwiązań do przesyłania strumieniowego.</span><span class="sxs-lookup"><span data-stu-id="eb899-105">It is well known that it is a complex task toodesign and build a DRM subsystem for an OTT or online streaming solution.</span></span> <span data-ttu-id="eb899-106">I jest wspólny rozwiązaniem dla operatorów/online toooutsource dostawców wideo tej części toospecialized DRM usługodawców.</span><span class="sxs-lookup"><span data-stu-id="eb899-106">And it is a common practice for operators/online video providers toooutsource this part toospecialized DRM service providers.</span></span> <span data-ttu-id="eb899-107">Hello celem niniejszego dokumentu jest toopresent odwołanie do projektu i implementacji w OTT lub online rozwiązania do przesyłania strumieniowego podsystemu DRM end-to-end.</span><span class="sxs-lookup"><span data-stu-id="eb899-107">hello goal of this document is toopresent a reference design and implementation of end-to-end DRM subsystem in OTT or online streaming solution.</span></span>

<span data-ttu-id="eb899-108">czytniki Hello celem tego dokumentu są Inżynierowie pracujący w podsystemie DRM OTT online przesyłania strumieniowego/kilku-screen rozwiązania lub dowolnego czytników zainteresowane w podsystemie DRM.</span><span class="sxs-lookup"><span data-stu-id="eb899-108">hello targeted readers of this document are engineers working in DRM subsystem of OTT or online streaming/multi-screen solutions, or any readers interested in DRM subsystem.</span></span> <span data-ttu-id="eb899-109">Hello zakłada się, że czytników zapoznali się z co najmniej jednej z technologii DRM hello na rynku hello, takich jak PlayReady i Widevine, FairPlay Adobe dostępu.</span><span class="sxs-lookup"><span data-stu-id="eb899-109">hello assumption is that readers are familiar with at least one of hello DRM technologies on hello market, such as PlayReady, Widevine, FairPlay or Adobe Access.</span></span>

<span data-ttu-id="eb899-110">Przez DRM będziemy również obejmować (Common Encryption) CENC z wieloma DRM.</span><span class="sxs-lookup"><span data-stu-id="eb899-110">By DRM, we also include CENC (Common Encryption) with multi-DRM.</span></span> <span data-ttu-id="eb899-111">Główne trendu w online przesyłania strumieniowego oraz z branży OTT jest toouse CENC z kilku-native DRM na różnych platformach klienckich, jest shift z poprzednich trend hello przy użyciu pojedynczego DRM i zestawu SDK klienta dla różnych platform klienta.</span><span class="sxs-lookup"><span data-stu-id="eb899-111">A major trend in online streaming and OTT industry is toouse CENC with multi-native-DRM on various client platforms, which is a shift from hello previous trend of using a single DRM and its client SDK for various client platforms.</span></span> <span data-ttu-id="eb899-112">Jeśli używasz CENC z kilku native DRM, zarówno PlayReady i Widevine są szyfrowane na powitania [Common Encryption (ISO/IEC 23001-7 CENC)](http://www.iso.org/iso/home/store/catalogue_ics/catalogue_detail_ics.htm?csnumber=65271/) specyfikacji.</span><span class="sxs-lookup"><span data-stu-id="eb899-112">When using CENC with multi-native-DRM, both PlayReady and Widevine are encrypted per hello [Common Encryption (ISO/IEC 23001-7 CENC)](http://www.iso.org/iso/home/store/catalogue_ics/catalogue_detail_ics.htm?csnumber=65271/) specification.</span></span>

<span data-ttu-id="eb899-113">Witaj zalet CENC z wieloma DRM są następujące:</span><span class="sxs-lookup"><span data-stu-id="eb899-113">hello benefits of CENC with multi-DRM are as follows:</span></span>

1. <span data-ttu-id="eb899-114">Zmniejsza koszt, ponieważ przetwarzanie pojedynczego szyfrowania jest używany przeznaczonych dla różnych platform z jego DRMs natywnego; szyfrowania</span><span class="sxs-lookup"><span data-stu-id="eb899-114">Reduces encryption cost since a single encryption processing is used targeting different platforms with its native DRMs;</span></span>
2. <span data-ttu-id="eb899-115">Zmniejsza koszt hello zarządzanie zasobami zaszyfrowane, ponieważ jest wymagana tylko jednej kopii zaszyfrowanych zasoby;</span><span class="sxs-lookup"><span data-stu-id="eb899-115">Reduces hello cost of managing encrypted assets since only a single copy of encrypted assets is needed;</span></span>
3. <span data-ttu-id="eb899-116">Eliminuje licencjonowania koszt, ponieważ aplikacja native client DRM hello jest zwykle wolnego miejsca na jego natywnego platformy klientów DRM.</span><span class="sxs-lookup"><span data-stu-id="eb899-116">Eliminates DRM client licensing cost since hello native DRM client is usually free on its native platform.</span></span>

<span data-ttu-id="eb899-117">Microsoft została active promotor kreska i CENC wraz z niektórych odtwarzaczy branży głównych.</span><span class="sxs-lookup"><span data-stu-id="eb899-117">Microsoft has been an active promoter of DASH and CENC together with some major industry players.</span></span> <span data-ttu-id="eb899-118">Microsoft Azure Media Services obsługiwał obsługę kreska i CENC.</span><span class="sxs-lookup"><span data-stu-id="eb899-118">Microsoft Azure Media Services has been providing support of DASH and CENC.</span></span> <span data-ttu-id="eb899-119">Ostatnie anonsów, zobacz Mingfei w blogach: [usług dostarczania licencji Announcing Google Widevine w usłudze Azure Media Services](https://azure.microsoft.com/blog/announcing-general-availability-of-google-widevine-license-services/), i [usługi Azure Media Services dodaje tworzenia pakietów Google Widevine dostarczania strumienia wieloma DRM](https://azure.microsoft.com/blog/azure-media-services-adds-google-widevine-packaging-for-delivering-multi-drm-stream/).</span><span class="sxs-lookup"><span data-stu-id="eb899-119">For recent announcements, please see Mingfei’s blogs: [Announcing Google Widevine license delivery services in Azure Media Services](https://azure.microsoft.com/blog/announcing-general-availability-of-google-widevine-license-services/), and [Azure Media Services adds Google Widevine packaging for delivering multi-DRM stream](https://azure.microsoft.com/blog/azure-media-services-adds-google-widevine-packaging-for-delivering-multi-drm-stream/).</span></span>  

### <a name="overview-of-this-article"></a><span data-ttu-id="eb899-120">Informacje w tym artykule</span><span class="sxs-lookup"><span data-stu-id="eb899-120">Overview of this article</span></span>
<span data-ttu-id="eb899-121">Celem Hello w tym artykule obejmuje następujące hello:</span><span class="sxs-lookup"><span data-stu-id="eb899-121">hello goal of this article includes hello following:</span></span>

1. <span data-ttu-id="eb899-122">Zawiera odwołanie do projektu podsystemu DRM przy użyciu CENC z wieloma DRM;</span><span class="sxs-lookup"><span data-stu-id="eb899-122">Provides a reference design of DRM subsystem using CENC with multi-DRM;</span></span>
2. <span data-ttu-id="eb899-123">Udostępnia implementację odwołania na platformie Microsoft Azure/usługi Azure Media Services;</span><span class="sxs-lookup"><span data-stu-id="eb899-123">Provides a reference implementation on Microsoft Azure/Azure Media Services platform;</span></span>
3. <span data-ttu-id="eb899-124">W tym artykule omówiono niektóre tematy projekt i implementację.</span><span class="sxs-lookup"><span data-stu-id="eb899-124">Discusses some design and implementation topics.</span></span>

<span data-ttu-id="eb899-125">W artykule Witaj "wieloma DRM" obejmuje następujące hello:</span><span class="sxs-lookup"><span data-stu-id="eb899-125">In hello article, “multi-DRM” covers hello following:</span></span>

1. <span data-ttu-id="eb899-126">Microsoft PlayReady</span><span class="sxs-lookup"><span data-stu-id="eb899-126">Microsoft PlayReady</span></span>
2. <span data-ttu-id="eb899-127">Google Widevine</span><span class="sxs-lookup"><span data-stu-id="eb899-127">Google Widevine</span></span>
3. <span data-ttu-id="eb899-128">FairPlay firmy Apple</span><span class="sxs-lookup"><span data-stu-id="eb899-128">Apple FairPlay</span></span> 

<span data-ttu-id="eb899-129">Witaj Poniższa tabela zawiera podsumowanie hello aplikacji natywnych platformy lub natywne i przeglądarek obsługiwanych przez każdy DRM.</span><span class="sxs-lookup"><span data-stu-id="eb899-129">hello following table summarizes hello native platform/native app, and browsers supported by each DRM.</span></span>

| <span data-ttu-id="eb899-130">**Platforma klienta**</span><span class="sxs-lookup"><span data-stu-id="eb899-130">**Client Platform**</span></span> | <span data-ttu-id="eb899-131">**Obsługa natywnego DRM**</span><span class="sxs-lookup"><span data-stu-id="eb899-131">**Native DRM Support**</span></span> | <span data-ttu-id="eb899-132">**Przeglądarka/aplikacji**</span><span class="sxs-lookup"><span data-stu-id="eb899-132">**Browser/App**</span></span> | <span data-ttu-id="eb899-133">**Formatów przesyłania strumieniowego**</span><span class="sxs-lookup"><span data-stu-id="eb899-133">**Streaming Formats**</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="eb899-134">**Inteligentne telewizorach, operator odbiornikami, odbiornikami OTT**</span><span class="sxs-lookup"><span data-stu-id="eb899-134">**Smart TVs, operator STBs, OTT STBs**</span></span> |<span data-ttu-id="eb899-135">PlayReady przede wszystkim i/lub Widevine i/lub innych</span><span class="sxs-lookup"><span data-stu-id="eb899-135">PlayReady primarily, and/or Widevine, and/or other</span></span> |<span data-ttu-id="eb899-136">Linux, Opera, WebKit, innych</span><span class="sxs-lookup"><span data-stu-id="eb899-136">Linux, Opera, WebKit, Other</span></span> |<span data-ttu-id="eb899-137">Różne formaty.</span><span class="sxs-lookup"><span data-stu-id="eb899-137">Various formats</span></span> |
| <span data-ttu-id="eb899-138">**Urządzenia z systemem Windows 10 (komputera z systemem Windows, tablety z systemem Windows, Windows Phone, Xbox)**</span><span class="sxs-lookup"><span data-stu-id="eb899-138">**Windows 10 devices (Windows PC, Windows Tablets, Windows Phone, Xbox)**</span></span> |<span data-ttu-id="eb899-139">PlayReady</span><span class="sxs-lookup"><span data-stu-id="eb899-139">PlayReady</span></span> |<span data-ttu-id="eb899-140">MS krawędzi/IE11/EME</span><span class="sxs-lookup"><span data-stu-id="eb899-140">MS Edge/IE11/EME</span></span><br/><br/><br/><span data-ttu-id="eb899-141">PLATFORMY UNIWERSALNEJ SYSTEMU WINDOWS</span><span class="sxs-lookup"><span data-stu-id="eb899-141">UWP</span></span> |<span data-ttu-id="eb899-142">DASH (dla protokołu HLS, PlayReady nie jest obsługiwane)</span><span class="sxs-lookup"><span data-stu-id="eb899-142">DASH (For HLS, PlayReady is not supported)</span></span><br/><br/><span data-ttu-id="eb899-143">DASH, Smooth Streaming (HLS dla, PlayReady nie jest obsługiwane)</span><span class="sxs-lookup"><span data-stu-id="eb899-143">DASH, Smooth Streaming (For HLS, PlayReady is not supported)</span></span> |
| <span data-ttu-id="eb899-144">**Urządzenia z systemem android (telefon i Tablet, TV)**</span><span class="sxs-lookup"><span data-stu-id="eb899-144">**Android devices (Phone, Tablet, TV)**</span></span> |<span data-ttu-id="eb899-145">Widevine</span><span class="sxs-lookup"><span data-stu-id="eb899-145">Widevine</span></span> |<span data-ttu-id="eb899-146">Chrome/EME</span><span class="sxs-lookup"><span data-stu-id="eb899-146">Chrome/EME</span></span> |<span data-ttu-id="eb899-147">DASH, HLS</span><span class="sxs-lookup"><span data-stu-id="eb899-147">DASH,HLS</span></span> |
| <span data-ttu-id="eb899-148">**iOS (iPhone, iPad), OS X, klientów i Apple TV**</span><span class="sxs-lookup"><span data-stu-id="eb899-148">**iOS (iPhone, iPad), OS X clients and Apple TV**</span></span> |<span data-ttu-id="eb899-149">FairPlay</span><span class="sxs-lookup"><span data-stu-id="eb899-149">FairPlay</span></span> |<span data-ttu-id="eb899-150">Safari 8 +/ EME</span><span class="sxs-lookup"><span data-stu-id="eb899-150">Safari 8+/EME</span></span> |<span data-ttu-id="eb899-151">HLS</span><span class="sxs-lookup"><span data-stu-id="eb899-151">HLS</span></span> |


<span data-ttu-id="eb899-152">Biorąc pod uwagę hello bieżący stan wdrożenia dla każdego DRM, usługi będą zazwyczaj toomake DRMs tooimplement 2 lub 3 się, że adres wszystkie typy hello punktów końcowych w hello najlepsze sposób.</span><span class="sxs-lookup"><span data-stu-id="eb899-152">Considering hello current state of deployment for each DRM, a service will typically want tooimplement 2 or 3 DRMs toomake sure you address all hello types of endpoints in hello best way.</span></span>

<span data-ttu-id="eb899-153">Zależności między złożoności hello hello usługi logiki i złożoności hello na powitania klienta po stronie tooreach poziom użytkownika doświadczenia w hello różnych klientów.</span><span class="sxs-lookup"><span data-stu-id="eb899-153">There is a tradeoff between hello complexity of hello service logic and hello complexity on hello client side tooreach a certain level of user experience on hello various clients.</span></span>

<span data-ttu-id="eb899-154">toomake wybór, należy uwzględnić następujące kwestie następujące fakty:</span><span class="sxs-lookup"><span data-stu-id="eb899-154">toomake your selection, keep in mind these facts:</span></span>

* <span data-ttu-id="eb899-155">PlayReady natywnie jest zaimplementowana w każde urządzenie z systemem Windows, na niektórych urządzeniach z systemem Android i dostępne za pośrednictwem zestawów SDK oprogramowania w praktycznie dowolnej platformie</span><span class="sxs-lookup"><span data-stu-id="eb899-155">PlayReady is natively implemented in every Windows device, on some Android devices, and available through software SDKs on virtually any platform</span></span>
* <span data-ttu-id="eb899-156">Natywnie zaimplementowano Widevine, każde urządzenie z systemem Android, Chrome i niektóre inne urządzenia</span><span class="sxs-lookup"><span data-stu-id="eb899-156">Widevine is natively implemented in every Android device, in Chrome, and in some other devices</span></span>
* <span data-ttu-id="eb899-157">FairPlay jest dostępna tylko w systemach iOS i Mac OS klientów lub za pomocą programu iTunes.</span><span class="sxs-lookup"><span data-stu-id="eb899-157">FairPlay is available only on iOS and Mac OS clients or through iTunes.</span></span>

<span data-ttu-id="eb899-158">Dlatego typowe wieloma DRM mogą być następujące:</span><span class="sxs-lookup"><span data-stu-id="eb899-158">So a typical multi-DRM would be:</span></span>

* <span data-ttu-id="eb899-159">Opcja 1: PlayReady i Widevine</span><span class="sxs-lookup"><span data-stu-id="eb899-159">Option 1: PlayReady and Widevine</span></span>
* <span data-ttu-id="eb899-160">Opcja 2: PlayReady i Widevine FairPlay</span><span class="sxs-lookup"><span data-stu-id="eb899-160">Option 2: PlayReady, Widevine and FairPlay</span></span>

## <a name="a-reference-design"></a><span data-ttu-id="eb899-161">Odwołanie do projektu</span><span class="sxs-lookup"><span data-stu-id="eb899-161">A reference design</span></span>
<span data-ttu-id="eb899-162">W tej sekcji możemy przedstawić projekt odwołania, który jest niezależny tootechnologies używane tooimplement go.</span><span class="sxs-lookup"><span data-stu-id="eb899-162">In this section, we will present a reference design which is agnostic tootechnologies used tooimplement it.</span></span>

<span data-ttu-id="eb899-163">Podsystem DRM może zawierać hello następujące składniki:</span><span class="sxs-lookup"><span data-stu-id="eb899-163">A DRM subsystem may contain hello following components:</span></span>

1. <span data-ttu-id="eb899-164">Zarządzanie kluczami</span><span class="sxs-lookup"><span data-stu-id="eb899-164">Key management</span></span>
2. <span data-ttu-id="eb899-165">OPAKOWYWANIE DRM</span><span class="sxs-lookup"><span data-stu-id="eb899-165">DRM packaging</span></span>
3. <span data-ttu-id="eb899-166">Dostarczanie licencji DRM</span><span class="sxs-lookup"><span data-stu-id="eb899-166">DRM license delivery</span></span>
4. <span data-ttu-id="eb899-167">Sprawdź uprawnienia</span><span class="sxs-lookup"><span data-stu-id="eb899-167">Entitlement check</span></span>
5. <span data-ttu-id="eb899-168">Uwierzytelniania/autoryzacji</span><span class="sxs-lookup"><span data-stu-id="eb899-168">Authentication/authorization</span></span>
6. <span data-ttu-id="eb899-169">Player</span><span class="sxs-lookup"><span data-stu-id="eb899-169">Player</span></span>
7. <span data-ttu-id="eb899-170">Pochodzenie/CDN</span><span class="sxs-lookup"><span data-stu-id="eb899-170">Origin/CDN</span></span>

<span data-ttu-id="eb899-171">Witaj poniższym diagramie przedstawiono hello wysokiego poziomu interakcji między składnikami hello w podsystemie DRM.</span><span class="sxs-lookup"><span data-stu-id="eb899-171">hello following diagram illustrates hello high level interaction among hello components in a DRM subsystem.</span></span>

![Podsystem DRM z CENC](./media/media-services-cenc-with-multidrm-access-control/media-services-generic-drm-subsystem-with-cenc.png)

<span data-ttu-id="eb899-173">Istnieją trzy podstawowe "warstwy" w projekcie hello:</span><span class="sxs-lookup"><span data-stu-id="eb899-173">There are three basic “layers” in hello design:</span></span>

1. <span data-ttu-id="eb899-174">Warstwa zaplecza (w kolorze czarnym), które nie są widoczne na zewnątrz;</span><span class="sxs-lookup"><span data-stu-id="eb899-174">Back office layer (in black) which are not exposed externally;</span></span>
2. <span data-ttu-id="eb899-175">Warstwa "DMZ" (niebieski) zawierający wszystkie hello punkty końcowe skierowane publicznych;</span><span class="sxs-lookup"><span data-stu-id="eb899-175">“DMZ” layer (blue) containing all hello endpoints facing public;</span></span>
3. <span data-ttu-id="eb899-176">Publiczny Internet warstwę (niebieski światła) zawierającą CDN i odtwarzacze z ruchem w publicznej sieci Internet.</span><span class="sxs-lookup"><span data-stu-id="eb899-176">Public Internet layer (light blue) containing CDN and players with traffic across public Internet.</span></span>

<span data-ttu-id="eb899-177">Powinien być narzędziem do zarządzania zawartością kontrolowania ochrony DRM, niezależnie od szyfrowania statyczne lub dynamiczne.</span><span class="sxs-lookup"><span data-stu-id="eb899-177">There should be a content management tool for controlling DRM protection, regardless it is static or dynamic encryption.</span></span> <span data-ttu-id="eb899-178">dane wejściowe Hello szyfrowania DRM powinna zawierać:</span><span class="sxs-lookup"><span data-stu-id="eb899-178">hello inputs for DRM encryption should include:</span></span>

1. <span data-ttu-id="eb899-179">Zawartość wideo MBR;</span><span class="sxs-lookup"><span data-stu-id="eb899-179">MBR video content;</span></span>
2. <span data-ttu-id="eb899-180">Klucz zawartości;</span><span class="sxs-lookup"><span data-stu-id="eb899-180">Content key;</span></span>
3. <span data-ttu-id="eb899-181">Adresy URL pozyskiwania licencji.</span><span class="sxs-lookup"><span data-stu-id="eb899-181">License acquisition URLs.</span></span>

<span data-ttu-id="eb899-182">Podczas odtwarzania hello wysokiego poziomu przebieg jest:</span><span class="sxs-lookup"><span data-stu-id="eb899-182">During playback time, hello high level flow is:</span></span>

1. <span data-ttu-id="eb899-183">Użytkownik jest uwierzytelniony;</span><span class="sxs-lookup"><span data-stu-id="eb899-183">User is authenticated;</span></span>
2. <span data-ttu-id="eb899-184">Token autoryzacji jest tworzony dla użytkownika hello;</span><span class="sxs-lookup"><span data-stu-id="eb899-184">Authorization token is created for hello user;</span></span>
3. <span data-ttu-id="eb899-185">Zawartość DRM chronione (manifest) jest pobrany tooplayer;</span><span class="sxs-lookup"><span data-stu-id="eb899-185">DRM protected content (manifest) is downloaded tooplayer;</span></span>
4. <span data-ttu-id="eb899-186">Odtwarzacz przesyła serwerów toolicense żądania nabycie licencji wraz z klucza identyfikator i autoryzacji tokenu.</span><span class="sxs-lookup"><span data-stu-id="eb899-186">Player submits license acquisition request toolicense servers together with key ID and authorization token.</span></span>

<span data-ttu-id="eb899-187">Przed przenoszenie toohello następnego tematu kilka słów na temat hello projekt zarządzania kluczami.</span><span class="sxs-lookup"><span data-stu-id="eb899-187">Before moving toohello next topic, a few words about hello design of key management.</span></span>

| <span data-ttu-id="eb899-188">**ContentKey — zasobów**</span><span class="sxs-lookup"><span data-stu-id="eb899-188">**ContentKey–to-Asset**</span></span> | <span data-ttu-id="eb899-189">**Scenariusz**</span><span class="sxs-lookup"><span data-stu-id="eb899-189">**Scenario**</span></span> |
| --- | --- |
| <span data-ttu-id="eb899-190">1 – 1</span><span class="sxs-lookup"><span data-stu-id="eb899-190">1–to-1</span></span> |<span data-ttu-id="eb899-191">najprostszym przypadku Hello.</span><span class="sxs-lookup"><span data-stu-id="eb899-191">hello simplest case.</span></span> <span data-ttu-id="eb899-192">Zapewnia on hello Najdrobniejsze formantu.</span><span class="sxs-lookup"><span data-stu-id="eb899-192">It provides hello finest control.</span></span> <span data-ttu-id="eb899-193">Jednak to zazwyczaj wynikiem hello najwyższy koszt dostarczania licencji.</span><span class="sxs-lookup"><span data-stu-id="eb899-193">But this generally results in hello highest license delivery cost.</span></span> <span data-ttu-id="eb899-194">W minimalnej jedną licencję żądania jest wymagana dla każdego chronionego zasobu.</span><span class="sxs-lookup"><span data-stu-id="eb899-194">At minimum one license request is required for each protected asset.</span></span> |
| <span data-ttu-id="eb899-195">1-do wielu</span><span class="sxs-lookup"><span data-stu-id="eb899-195">1–to-Many</span></span> |<span data-ttu-id="eb899-196">Można użyć hello zawartości klucza dla wielu zasobów.</span><span class="sxs-lookup"><span data-stu-id="eb899-196">You could use hello same content key for multiple assets.</span></span> <span data-ttu-id="eb899-197">Na przykład dla wszystkich zasobów hello w grupę logiczną, takie jak genre lub podzbiór genre (lub gen film), można użyć jednego klucza zawartości.</span><span class="sxs-lookup"><span data-stu-id="eb899-197">For example, for all hello assets in a logical group such as a genre or subset of genre (or Movie Gene), you could use a single content key.</span></span> |
| <span data-ttu-id="eb899-198">Wiele do-1</span><span class="sxs-lookup"><span data-stu-id="eb899-198">Many–to-1</span></span> |<span data-ttu-id="eb899-199">Wiele kluczy zawartości są wymagane dla każdego zasobu.</span><span class="sxs-lookup"><span data-stu-id="eb899-199">Multiple content keys are needed for each asset.</span></span> <br/><br/><span data-ttu-id="eb899-200">Na przykład jeśli potrzebujesz tooapply dynamicznej ochrony CENC z wieloma DRM MPEG DASH i dynamicznego szyfrowania AES-128 dla protokołu HLS należy dwa osobne klucze zawartości, każdy z własną ContentKeyType.</span><span class="sxs-lookup"><span data-stu-id="eb899-200">For example, if you need tooapply dynamic CENC protection with multi-DRM for MPEG-DASH, and dynamic AES-128 encryption for HLS, you need two separate content keys, each with its own ContentKeyType.</span></span> <span data-ttu-id="eb899-201">(Używana na potrzeby dynamicznej CENC ochrony klucza zawartości hello, ContentKeyType.CommonEncryption należy używać, natomiast w przypadku zawartości, powinien zostać użyty klucz używany do dynamicznego szyfrowania AES-128, ContentKeyType.EnvelopeEncryption hello.)</span><span class="sxs-lookup"><span data-stu-id="eb899-201">(For hello content key used for dynamic CENC protection, ContentKeyType.CommonEncryption should be used, while for hello content key used for dynamic AES-128 encryption, ContentKeyType.EnvelopeEncryption should be used.)</span></span><br/><br/><span data-ttu-id="eb899-202">Inny przykład DASH CENC ochrony zawartości, teoretycznie, jeden klucz zawartości mogą być używane tooprotect strumienia wideo i innej zawartości klucza tooprotect strumieniem audio.</span><span class="sxs-lookup"><span data-stu-id="eb899-202">Another example, in CENC protection of DASH content, in theory, one content key can be used tooprotect video stream and another content key tooprotect audio stream.</span></span> |
| <span data-ttu-id="eb899-203">Wiele — zbyt wielu</span><span class="sxs-lookup"><span data-stu-id="eb899-203">Many – too- Many</span></span> |<span data-ttu-id="eb899-204">Kombinacja hello powyżej dwóch scenariuszy: jeden zestaw zawartości klucze są używane dla każdego z hello wiele zasobów w hello zasobów tego samego "grupy".</span><span class="sxs-lookup"><span data-stu-id="eb899-204">Combination of hello above two scenarios: one set of content keys are used for each of hello multiple assets in hello same asset “group”.</span></span> |

<span data-ttu-id="eb899-205">Innym ważnym czynnikiem tooconsider jest wykorzystanie hello stałe i nietrwałe licencji.</span><span class="sxs-lookup"><span data-stu-id="eb899-205">Another important factor tooconsider is hello use of persistent and non-persistent licenses.</span></span>

<span data-ttu-id="eb899-206">Te zagadnienia są ważne</span><span class="sxs-lookup"><span data-stu-id="eb899-206">Why are these considerations important?</span></span>

<span data-ttu-id="eb899-207">Mają one bezpośredni wpływ toolicense dostarczania koszt użycie chmury publicznej w celu dostarczania licencji.</span><span class="sxs-lookup"><span data-stu-id="eb899-207">They have direct impact toolicense delivery cost if you use public cloud for license delivery.</span></span> <span data-ttu-id="eb899-208">Zastanówmy hello następujące dwa tooillustrate przypadków projektowania:</span><span class="sxs-lookup"><span data-stu-id="eb899-208">Let’s consider hello following two different design cases tooillustrate:</span></span>

1. <span data-ttu-id="eb899-209">Miesięczna subskrypcja: Użyj trwałego licencji i 1-do wielu zawartości mapowanie klucz do zasobów.</span><span class="sxs-lookup"><span data-stu-id="eb899-209">Monthly subscription: Use persistent license, and 1-to-many content key-to-asset mapping.</span></span> <span data-ttu-id="eb899-210">Na przykład</span><span class="sxs-lookup"><span data-stu-id="eb899-210">E.g.</span></span> <span data-ttu-id="eb899-211">wszystkie filmy dzieci hello używamy jednego klucza zawartości do szyfrowania.</span><span class="sxs-lookup"><span data-stu-id="eb899-211">for all hello kids movies, we use a single content key for encryption.</span></span> <span data-ttu-id="eb899-212">W takim przypadku:</span><span class="sxs-lookup"><span data-stu-id="eb899-212">In this case:</span></span>

    <span data-ttu-id="eb899-213">Łączna liczba licencji # wymagane dla wszystkich dzieci filmy urządzenia = 1</span><span class="sxs-lookup"><span data-stu-id="eb899-213">Total # licenses requested for all kids movies/device = 1</span></span>
2. <span data-ttu-id="eb899-214">Miesięczna subskrypcja: Użyj nietrwałe licencji i 1-do-1 mapowanie między klucz zawartości i zasobów.</span><span class="sxs-lookup"><span data-stu-id="eb899-214">Monthly subscription: Use non-persistent license, and 1-to-1 mapping between content key and asset.</span></span> <span data-ttu-id="eb899-215">W takim przypadku:</span><span class="sxs-lookup"><span data-stu-id="eb899-215">In this case:</span></span>

    <span data-ttu-id="eb899-216">Łączna liczba licencji # wymagane dla wszystkich dzieci filmy urządzenia = [filmy # obserwowane] x [sesji #]</span><span class="sxs-lookup"><span data-stu-id="eb899-216">Total # licenses requested for all kids movies/device = [# movies watched] x [# sessions]</span></span>

<span data-ttu-id="eb899-217">Jak łatwo można zauważyć, powitalne dwóch różnych projektów spowodować licencji bardzo różnią się żądanie dlatego wzorców dostarczania licencji kosztów w przypadku usługi dostarczania licencji przez chmury publicznej, takich jak usługi Azure Media Services.</span><span class="sxs-lookup"><span data-stu-id="eb899-217">As you can easily see, hello two different designs result in very different license request patterns hence license delivery cost if license delivery service is provided by a public cloud such as Azure Media Services.</span></span>

## <a name="mapping-design-tootechnology-for-implementation"></a><span data-ttu-id="eb899-218">Mapowanie projektu tootechnology dla implementacji</span><span class="sxs-lookup"><span data-stu-id="eb899-218">Mapping design tootechnology for implementation</span></span>
<span data-ttu-id="eb899-219">Następnie możemy mapy naszych tootechnologies ogólnego projektu na platformie Microsoft Azure/usługi Azure Media Services, określając toouse technologii, które dla każdego bloku konstrukcyjnego.</span><span class="sxs-lookup"><span data-stu-id="eb899-219">Next, we map our generic design tootechnologies on Microsoft Azure/Azure Media Services platform, by specifying which technology toouse for each building block.</span></span>

<span data-ttu-id="eb899-220">Witaj poniższej tabeli przedstawiono hello mapowania:</span><span class="sxs-lookup"><span data-stu-id="eb899-220">hello following table shows hello mapping:</span></span>

| <span data-ttu-id="eb899-221">**Bloków konstrukcyjnych**</span><span class="sxs-lookup"><span data-stu-id="eb899-221">**Building Block**</span></span> | <span data-ttu-id="eb899-222">**Technologia**</span><span class="sxs-lookup"><span data-stu-id="eb899-222">**Technology**</span></span> |
| --- | --- |
| <span data-ttu-id="eb899-223">**Player**</span><span class="sxs-lookup"><span data-stu-id="eb899-223">**Player**</span></span> |[<span data-ttu-id="eb899-224">Azure Media Player</span><span class="sxs-lookup"><span data-stu-id="eb899-224">Azure Media Player</span></span>](https://azure.microsoft.com/services/media-services/media-player/) |
| <span data-ttu-id="eb899-225">**Dostawcy tożsamości (IDP)**</span><span class="sxs-lookup"><span data-stu-id="eb899-225">**Identity Provider (IDP)**</span></span> |<span data-ttu-id="eb899-226">Usługa Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="eb899-226">Azure Active Directory</span></span> |
| <span data-ttu-id="eb899-227">**Bezpieczne usługi tokenów (STS)**</span><span class="sxs-lookup"><span data-stu-id="eb899-227">**Secure Token Service (STS)**</span></span> |<span data-ttu-id="eb899-228">Usługa Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="eb899-228">Azure Active Directory</span></span> |
| <span data-ttu-id="eb899-229">**Przepływ pracy ochrony DRM**</span><span class="sxs-lookup"><span data-stu-id="eb899-229">**DRM Protection Workflow**</span></span> |<span data-ttu-id="eb899-230">Dynamiczne ochrony usługi Azure Media Services</span><span class="sxs-lookup"><span data-stu-id="eb899-230">Azure Media Services Dynamic Protection</span></span> |
| <span data-ttu-id="eb899-231">**Dostarczania licencji DRM**</span><span class="sxs-lookup"><span data-stu-id="eb899-231">**DRM License Delivery**</span></span> |<span data-ttu-id="eb899-232">1. Usługi Azure Media Services licencji dostarczania (PlayReady i Widevine, FairPlay), lub</span><span class="sxs-lookup"><span data-stu-id="eb899-232">1. Azure Media Services License Delivery (PlayReady, Widevine, FairPlay), or</span></span> <br/><span data-ttu-id="eb899-233">2. Serwer licencji Axinom</span><span class="sxs-lookup"><span data-stu-id="eb899-233">2. Axinom License Server,</span></span> <br/><span data-ttu-id="eb899-234">3. Serwer licencji PlayReady niestandardowych</span><span class="sxs-lookup"><span data-stu-id="eb899-234">3. Custom PlayReady License Server</span></span> |
| <span data-ttu-id="eb899-235">**Punkt początkowy**</span><span class="sxs-lookup"><span data-stu-id="eb899-235">**Origin**</span></span> |<span data-ttu-id="eb899-236">Punkt końcowy przesyłania strumieniowego usługi Azure Media Services</span><span class="sxs-lookup"><span data-stu-id="eb899-236">Azure Media Services Streaming Endpoint</span></span> |
| <span data-ttu-id="eb899-237">**Zarządzanie kluczami**</span><span class="sxs-lookup"><span data-stu-id="eb899-237">**Key Management**</span></span> |<span data-ttu-id="eb899-238">Nie jest wymagane dla implementacji</span><span class="sxs-lookup"><span data-stu-id="eb899-238">Not needed for reference implementation</span></span> |
| <span data-ttu-id="eb899-239">**Zarządzanie zawartością**</span><span class="sxs-lookup"><span data-stu-id="eb899-239">**Content Management**</span></span> |<span data-ttu-id="eb899-240">Aplikacji konsolowej C#</span><span class="sxs-lookup"><span data-stu-id="eb899-240">A C# console application</span></span> |

<span data-ttu-id="eb899-241">Innymi słowy zarówno dostawcy tożsamości (IDP) i Secure Token Service (STS) będzie usługi Azure AD.</span><span class="sxs-lookup"><span data-stu-id="eb899-241">In other words, both Identity Provider (IDP) and Secure Token Service (STS) will be Azure AD.</span></span> <span data-ttu-id="eb899-242">Dla odtwarzacza, użyjemy [interfejsu API usługi Azure Media Player](http://amp.azure.net/libs/amp/latest/docs/).</span><span class="sxs-lookup"><span data-stu-id="eb899-242">For player, we will use [Azure Media Player API](http://amp.azure.net/libs/amp/latest/docs/).</span></span> <span data-ttu-id="eb899-243">Zarówno usługi Azure Media Services, jak i usługi Azure Media Player obsługuje kreska i CENC z wieloma DRM.</span><span class="sxs-lookup"><span data-stu-id="eb899-243">Both Azure Media Services and Azure Media Player support DASH and CENC with multi-DRM.</span></span>

<span data-ttu-id="eb899-244">powitania po diagramie przedstawiono hello ogólną strukturę i przepływ z hello powyżej technologii mapowania.</span><span class="sxs-lookup"><span data-stu-id="eb899-244">hello following diagram shows hello overall structure and flow with hello above technology mapping.</span></span>

![CENC na AMS](./media/media-services-cenc-with-multidrm-access-control/media-services-cenc-subsystem-on-AMS-platform.png)

<span data-ttu-id="eb899-246">W kolejności tooset dynamiczne szyfrowanie CENC narzędzie do zarządzania zawartością hello użyje hello następujące dane wejściowe:</span><span class="sxs-lookup"><span data-stu-id="eb899-246">In order tooset up dynamic CENC encryption, hello content management tool will use hello following inputs:</span></span>

1. <span data-ttu-id="eb899-247">Otwórz zawartość;</span><span class="sxs-lookup"><span data-stu-id="eb899-247">Open content;</span></span>
2. <span data-ttu-id="eb899-248">Klucz zawartości z klucza generowania i zarządzania nimi;</span><span class="sxs-lookup"><span data-stu-id="eb899-248">Content key from key generation/management;</span></span>
3. <span data-ttu-id="eb899-249">Adresy URL pozyskiwania licencji;</span><span class="sxs-lookup"><span data-stu-id="eb899-249">License acquisition URLs;</span></span>
4. <span data-ttu-id="eb899-250">Lista informacji z usługi Azure AD.</span><span class="sxs-lookup"><span data-stu-id="eb899-250">A list of information from Azure AD.</span></span>

<span data-ttu-id="eb899-251">Witaj dane wyjściowe narzędzia do zarządzania zawartością hello będą:</span><span class="sxs-lookup"><span data-stu-id="eb899-251">hello output of hello content management tool will be:</span></span>

1. <span data-ttu-id="eb899-252">ContentKeyAuthorizationPolicy zawierający specyfikacji hello na sposób dostarczania licencji weryfikuje JWT token i specyfikacji licencji DRM.</span><span class="sxs-lookup"><span data-stu-id="eb899-252">ContentKeyAuthorizationPolicy containing hello specification on how license delivery verifies a JWT token and DRM license specifications;</span></span>
2. <span data-ttu-id="eb899-253">AssetDeliveryPolicy zawierający specyfikacje na format, ochrony DRM i adresy URL pozyskiwania licencji przesyłania strumieniowego.</span><span class="sxs-lookup"><span data-stu-id="eb899-253">AssetDeliveryPolicy containing specifications on streaming format, DRM protection and license acquisition URLs.</span></span>

<span data-ttu-id="eb899-254">W czasie wykonywania, przepływ hello jest jak poniżej:</span><span class="sxs-lookup"><span data-stu-id="eb899-254">During runtime, hello flow is as below:</span></span>

1. <span data-ttu-id="eb899-255">Podczas uwierzytelniania użytkownika zostanie wygenerowany JWT token;</span><span class="sxs-lookup"><span data-stu-id="eb899-255">Upon user authentication, a JWT token is generated;</span></span>
2. <span data-ttu-id="eb899-256">Jednym z hello oświadczeń zawartych w hello JWT token jest "grupy" oświadczenie zawierające Identyfikatora obiektu grupy hello "EntitledUserGroup".</span><span class="sxs-lookup"><span data-stu-id="eb899-256">One of hello claims contained in hello JWT token is “groups” claim containing hello group object ID of “EntitledUserGroup”.</span></span> <span data-ttu-id="eb899-257">To oświadczenie będzie służyć do przekazywania "Sprawdź uprawnienia".</span><span class="sxs-lookup"><span data-stu-id="eb899-257">This claim will be used for passing “entitlement check”.</span></span>
3. <span data-ttu-id="eb899-258">Pliki do pobrania odtwarzacz klienta manifest CENC zawartości chronionej i "widzi" hello poniżej:</span><span class="sxs-lookup"><span data-stu-id="eb899-258">Player downloads client manifest of a CENC protected content and “sees” hello following:</span></span>

   1. <span data-ttu-id="eb899-259">Identyfikator, klucza</span><span class="sxs-lookup"><span data-stu-id="eb899-259">key ID,</span></span>
   2. <span data-ttu-id="eb899-260">zawartość Hello jest chroniony, CENC</span><span class="sxs-lookup"><span data-stu-id="eb899-260">hello content is CENC protected,</span></span>
   3. <span data-ttu-id="eb899-261">Adresy URL pozyskiwania licencji.</span><span class="sxs-lookup"><span data-stu-id="eb899-261">License acquisition URLs.</span></span>
4. <span data-ttu-id="eb899-262">Odtwarzacz wysyła żądanie nabycie licencji oparte na powitania przeglądarki/DRM obsługiwane.</span><span class="sxs-lookup"><span data-stu-id="eb899-262">Player makes a license acquisition request based on hello browser/DRM supported.</span></span> <span data-ttu-id="eb899-263">Żądanie nabycie licencji hello, identyfikator klucza i hello JWT również zostaną przesłane tokenu.</span><span class="sxs-lookup"><span data-stu-id="eb899-263">In hello license acquisition request, key ID and hello JWT token will also be submitted.</span></span> <span data-ttu-id="eb899-264">Usługi dostarczania licencji zweryfikuje tokenu JWT hello i oświadczenia hello zawierała przed wystawieniem hello potrzebnych licencji.</span><span class="sxs-lookup"><span data-stu-id="eb899-264">License delivery service will verify hello JWT token and hello claims contained before issuing hello needed license.</span></span>

## <a name="implementation"></a><span data-ttu-id="eb899-265">Wdrażanie</span><span class="sxs-lookup"><span data-stu-id="eb899-265">Implementation</span></span>
### <a name="implementation-procedures"></a><span data-ttu-id="eb899-266">Procedury implementacji</span><span class="sxs-lookup"><span data-stu-id="eb899-266">Implementation procedures</span></span>
<span data-ttu-id="eb899-267">Implementacja Hello obejmuje hello następujące kroki:</span><span class="sxs-lookup"><span data-stu-id="eb899-267">hello implementation will include hello following steps:</span></span>

1. <span data-ttu-id="eb899-268">Przygotowanie ich testu: kodowanie/pakietów testów wideo toomulti szybkości transmisji bitów pofragmentowany plik MP4 w usłudze Azure Media Services.</span><span class="sxs-lookup"><span data-stu-id="eb899-268">Prepare test asset(s): encode/package a test video toomulti-bitrate fragmented MP4 in Azure Media Services.</span></span> <span data-ttu-id="eb899-269">Ten zasób nie jest chroniony DRM.</span><span class="sxs-lookup"><span data-stu-id="eb899-269">This asset is NOT DRM protected.</span></span> <span data-ttu-id="eb899-270">DRM ochrony zostaną wykonane przez dynamiczne ochrony później.</span><span class="sxs-lookup"><span data-stu-id="eb899-270">DRM protection will be done by dynamic protection later.</span></span>
2. <span data-ttu-id="eb899-271">Tworzenie klucza identyfikator i zawartości kluczy (opcjonalnie z klucza inicjatora).</span><span class="sxs-lookup"><span data-stu-id="eb899-271">Create key ID and content key (optionally from key seed).</span></span> <span data-ttu-id="eb899-272">W tym przypadku systemem zarządzania kluczami nie jest potrzebna, ponieważ firma Microsoft ma do czynienia z tylko jednego zestawu kluczy identyfikator i klucz zawartości do kilku zasobów testu;</span><span class="sxs-lookup"><span data-stu-id="eb899-272">For our purpose, key management system is not needed since we are dealing with only a single set of key ID and content key for a couple of test assets;</span></span>
3. <span data-ttu-id="eb899-273">Za pomocą interfejsu API usług AMS tooconfigure wieloma DRM licencji dostarczania usług hello testu zasobów.</span><span class="sxs-lookup"><span data-stu-id="eb899-273">Use AMS API tooconfigure multi-DRM license delivery services for hello test asset.</span></span> <span data-ttu-id="eb899-274">Jeśli używasz serwerów licencji niestandardowych przez firmy lub dostawców firmy zamiast usług licencyjnych w usłudze Azure Media Services, można pominąć ten krok i określ adresy URL pozyskiwania licencji w kroku hello konfigurowania dostarczania licencji.</span><span class="sxs-lookup"><span data-stu-id="eb899-274">If you are using custom license servers by your company or your company’s vendors instead of license services in Azure Media Services, you can skip this step and specify license acquisition URLs in hello step for configuring license delivery.</span></span> <span data-ttu-id="eb899-275">Interfejs API usług AMS jest wymagane toospecify niektóre szczegółowe konfiguracje, takie jak ograniczenia zasad autoryzacji, licencji szablonów odpowiedzi dla różnych usług licencji DRM, itd. W tej chwili hello portalu Azure nie obsługuje jeszcze zapewnić hello potrzebne interfejsu użytkownika dla tej konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="eb899-275">AMS API is needed toospecify some detailed configurations, such as authorization policy restriction, license response templates for different DRM license services, etc. At this time, hello Azure portal does not yet provide hello needed UI for this configuration.</span></span> <span data-ttu-id="eb899-276">Można znaleźć informacji o poziomie interfejsu API i przykładowy kod w dokumencie Julia Kornich: [za pomocą PlayReady i Widevine, dynamicznego szyfrowania Common Encryption](media-services-protect-with-drm.md).</span><span class="sxs-lookup"><span data-stu-id="eb899-276">You can find API level info and sample code in Julia Kornich’s document: [Using PlayReady and/or Widevine Dynamic Common Encryption](media-services-protect-with-drm.md).</span></span>
4. <span data-ttu-id="eb899-277">Użyj zasad dostarczania elementów zawartości tooconfigure interfejsu API usług AMS hello trwałego testu.</span><span class="sxs-lookup"><span data-stu-id="eb899-277">Use AMS API tooconfigure asset delivery policy for hello test asset.</span></span> <span data-ttu-id="eb899-278">Można znaleźć informacji o poziomie interfejsu API i przykładowy kod w dokumencie Julia Kornich: [za pomocą PlayReady i Widevine, dynamicznego szyfrowania Common Encryption](media-services-protect-with-drm.md).</span><span class="sxs-lookup"><span data-stu-id="eb899-278">You can find API level info and sample code in Julia Kornich’s document: [Using PlayReady and/or Widevine Dynamic Common Encryption](media-services-protect-with-drm.md).</span></span>
5. <span data-ttu-id="eb899-279">Tworzenie i konfigurowanie dzierżawy usługi Azure Active Directory w środowisku Azure.</span><span class="sxs-lookup"><span data-stu-id="eb899-279">Create and configure an Azure Active Directory tenant in Azure;</span></span>
6. <span data-ttu-id="eb899-280">Utworzyć kilka grup i kont użytkowników w dzierżawie usługi Azure Active Directory: należy utworzyć co najmniej "EntitledUser" grupy i Dodaj grupę użytkowników toothis.</span><span class="sxs-lookup"><span data-stu-id="eb899-280">Create a few user accounts and groups in your Azure Active Directory tenant: you should create at least “EntitledUser” group and add a user toothis group.</span></span> <span data-ttu-id="eb899-281">Użytkownicy w tej grupie, przechodzą wyboru uprawnień w nabycie licencji i użytkowników w tej grupie nie powiedzie się uwierzytelnianie toopass i nie będą mogli tooacquire licencji.</span><span class="sxs-lookup"><span data-stu-id="eb899-281">Users in this group will pass entitlement check in license acquisition and users not in this group will fail toopass authentication check and will not be able tooacquire any license.</span></span> <span data-ttu-id="eb899-282">Bycia członkiem tej grupy "EntitledUser" to oświadczenie wymagane "grupy" hello tokenu JWT wystawione przez usługę Azure AD.</span><span class="sxs-lookup"><span data-stu-id="eb899-282">Being a member of this “EntitledUser” group is a required “groups” claim in hello JWT token issued by Azure AD.</span></span> <span data-ttu-id="eb899-283">To wymaganie oświadczeń powinny być określone w kroku usługi dostarczania licencji DRM wielu Konfigurowanie.</span><span class="sxs-lookup"><span data-stu-id="eb899-283">This claim requirement should be specified in configuring multi-DRM license delivery services step.</span></span>
7. <span data-ttu-id="eb899-284">Tworzenie aplikacji platformy ASP.NET MVC, która będzie obsługiwać odtwarzacza wideo.</span><span class="sxs-lookup"><span data-stu-id="eb899-284">Create an ASP.NET MVC app which will be hosting your video player.</span></span> <span data-ttu-id="eb899-285">Ta aplikacja ASP.NET będą chronione przy użyciu uwierzytelniania użytkownika względem hello dzierżawy usługi Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="eb899-285">This ASP.NET app will be protected with user authentication against hello Azure Active Directory tenant.</span></span> <span data-ttu-id="eb899-286">Oświadczenia właściwe zostaną uwzględnione w tokenów dostępu hello uzyskane po uwierzytelnieniu użytkownika.</span><span class="sxs-lookup"><span data-stu-id="eb899-286">Proper claims will be included in hello access tokens obtained after user authentication.</span></span> <span data-ttu-id="eb899-287">Interfejs API OpenID Connect jest zalecane dla tego kroku.</span><span class="sxs-lookup"><span data-stu-id="eb899-287">OpenID Connect API is recommended for this step.</span></span> <span data-ttu-id="eb899-288">Należy hello tooinstall następujące pakiety NuGet:</span><span class="sxs-lookup"><span data-stu-id="eb899-288">You need tooinstall hello following NuGet packages:</span></span>
   * <span data-ttu-id="eb899-289">Pakiet instalacyjny Microsoft.Azure.ActiveDirectory.GraphClient</span><span class="sxs-lookup"><span data-stu-id="eb899-289">Install-Package Microsoft.Azure.ActiveDirectory.GraphClient</span></span>
   * <span data-ttu-id="eb899-290">Pakiet instalacyjny Microsoft.Owin.Security.OpenIdConnect</span><span class="sxs-lookup"><span data-stu-id="eb899-290">Install-Package Microsoft.Owin.Security.OpenIdConnect</span></span>
   * <span data-ttu-id="eb899-291">Pakiet instalacyjny Microsoft.Owin.Security.Cookies</span><span class="sxs-lookup"><span data-stu-id="eb899-291">Install-Package Microsoft.Owin.Security.Cookies</span></span>
   * <span data-ttu-id="eb899-292">Instalacja pakietu Microsoft.Owin.Host.SystemWeb</span><span class="sxs-lookup"><span data-stu-id="eb899-292">Install-Package Microsoft.Owin.Host.SystemWeb</span></span>
   * <span data-ttu-id="eb899-293">Pakiet instalacyjny Microsoft.IdentityModel.Clients.ActiveDirectory</span><span class="sxs-lookup"><span data-stu-id="eb899-293">Install-Package Microsoft.IdentityModel.Clients.ActiveDirectory</span></span>
8. <span data-ttu-id="eb899-294">Tworzenie przy użyciu odtwarzacza [interfejsu API usługi Azure Media Player](http://amp.azure.net/libs/amp/latest/docs/).</span><span class="sxs-lookup"><span data-stu-id="eb899-294">Create a player using [Azure Media Player API](http://amp.azure.net/libs/amp/latest/docs/).</span></span> <span data-ttu-id="eb899-295">[Interfejs API ProtectionInfo Azure Media Player](http://amp.azure.net/libs/amp/latest/docs/) pozwala toospecify toouse technologii DRM, które na innej platformie DRM.</span><span class="sxs-lookup"><span data-stu-id="eb899-295">[Azure Media Player’s ProtectionInfo API](http://amp.azure.net/libs/amp/latest/docs/) allows you toospecify which DRM technology toouse on different DRM platform.</span></span>
9. <span data-ttu-id="eb899-296">Macierzy testów:</span><span class="sxs-lookup"><span data-stu-id="eb899-296">Test matrix:</span></span>

| <span data-ttu-id="eb899-297">**DRM**</span><span class="sxs-lookup"><span data-stu-id="eb899-297">**DRM**</span></span> | <span data-ttu-id="eb899-298">**Przeglądarka**</span><span class="sxs-lookup"><span data-stu-id="eb899-298">**Browser**</span></span> | <span data-ttu-id="eb899-299">**Wynik dla prawo użytkownika**</span><span class="sxs-lookup"><span data-stu-id="eb899-299">**Result for Entitled User**</span></span> | <span data-ttu-id="eb899-300">**Wynik nie jest uprawniony użytkownik**</span><span class="sxs-lookup"><span data-stu-id="eb899-300">**Result for Un-entitled User**</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="eb899-301">**PlayReady**</span><span class="sxs-lookup"><span data-stu-id="eb899-301">**PlayReady**</span></span> |<span data-ttu-id="eb899-302">Krawędź MS lub IE11 w systemie Windows 10</span><span class="sxs-lookup"><span data-stu-id="eb899-302">MS Edge or IE11 on Windows 10</span></span> |<span data-ttu-id="eb899-303">Powiodło się</span><span class="sxs-lookup"><span data-stu-id="eb899-303">Succeed</span></span> |<span data-ttu-id="eb899-304">Niepowodzenie</span><span class="sxs-lookup"><span data-stu-id="eb899-304">Fail</span></span> |
| <span data-ttu-id="eb899-305">**Widevine**</span><span class="sxs-lookup"><span data-stu-id="eb899-305">**Widevine**</span></span> |<span data-ttu-id="eb899-306">Chrome w systemie Windows 10</span><span class="sxs-lookup"><span data-stu-id="eb899-306">Chrome on Windows 10</span></span> |<span data-ttu-id="eb899-307">Powiodło się</span><span class="sxs-lookup"><span data-stu-id="eb899-307">Succeed</span></span> |<span data-ttu-id="eb899-308">Niepowodzenie</span><span class="sxs-lookup"><span data-stu-id="eb899-308">Fail</span></span> |
| <span data-ttu-id="eb899-309">**FairPlay**</span><span class="sxs-lookup"><span data-stu-id="eb899-309">**FairPlay**</span></span> |<span data-ttu-id="eb899-310">TBD</span><span class="sxs-lookup"><span data-stu-id="eb899-310">TBD</span></span> | | |

<span data-ttu-id="eb899-311">George Trifonov Azure Media Services zespołu został zapisany blogu udostępnia szczegółowe kroki w procesie konfigurowania usługi Azure Active Directory dla aplikacji ASP.NET MVC player: [integracji Azure Media Services OWIN MVC na podstawie aplikacji w usłudze Azure Active Directory i ograniczenie klucza dostarczania zawartości na podstawie oświadczeń JWT](http://gtrifonov.com/2015/01/24/mvc-owin-azure-media-services-ad-integration/).</span><span class="sxs-lookup"><span data-stu-id="eb899-311">George Trifonov of Azure Media Services Team has written a blog providing detailed steps in setting up Azure Active Directory for an ASP.NET MVC player app: [Integrate Azure Media Services OWIN MVC based app with Azure Active Directory and restrict content key delivery based on JWT claims](http://gtrifonov.com/2015/01/24/mvc-owin-azure-media-services-ad-integration/).</span></span>

<span data-ttu-id="eb899-312">George również został zapisany na blogu [JWT token uwierzytelniania w usłudze Azure Media Services i szyfrowania dynamicznego](http://gtrifonov.com/2015/01/03/jwt-token-authentication-in-azure-media-services-and-dynamic-encryption/).</span><span class="sxs-lookup"><span data-stu-id="eb899-312">George has also written a blog on [JWT token Authentication in Azure Media Services and Dynamic Encryption](http://gtrifonov.com/2015/01/03/jwt-token-authentication-in-azure-media-services-and-dynamic-encryption/).</span></span> <span data-ttu-id="eb899-313">A Oto jego [w integracji usługi Azure AD z usługi Azure Media Services klucza dostawy](https://github.com/AzureMediaServicesSamples/Key-delivery-with-AAD-integration/).</span><span class="sxs-lookup"><span data-stu-id="eb899-313">And here is his [sample on Azure AD integration with Azure Media Services key delivery](https://github.com/AzureMediaServicesSamples/Key-delivery-with-AAD-integration/).</span></span>

<span data-ttu-id="eb899-314">Aby uzyskać informacje dotyczące usługi Azure Active Directory:</span><span class="sxs-lookup"><span data-stu-id="eb899-314">For information on Azure Active Directory:</span></span>

* <span data-ttu-id="eb899-315">Możesz znaleźć informacje dla deweloperów w [Azure Active Directory przewodnik dewelopera](../active-directory/active-directory-developers-guide.md).</span><span class="sxs-lookup"><span data-stu-id="eb899-315">You can find developer information in [Azure Active Directory Developer’s Guide](../active-directory/active-directory-developers-guide.md).</span></span>
* <span data-ttu-id="eb899-316">Można znaleźć informacje o Administratorze w [administrowania Your Azure AD Directory](../active-directory/active-directory-administer.md).</span><span class="sxs-lookup"><span data-stu-id="eb899-316">You can find administrator information in [Administer Your Azure AD Directory](../active-directory/active-directory-administer.md).</span></span>

### <a name="some-gotchas-in-implementation"></a><span data-ttu-id="eb899-317">Niektóre pytań w implementacji</span><span class="sxs-lookup"><span data-stu-id="eb899-317">Some gotchas in implementation</span></span>
<span data-ttu-id="eb899-318">W implementacji hello istnieją pewne "pytań".</span><span class="sxs-lookup"><span data-stu-id="eb899-318">There are some “gotchas” in hello implementation.</span></span> <span data-ttu-id="eb899-319">Miejmy nadzieję, że następujące listy "pytań" hello ułatwiają rozwiązywanie problemów w przypadku napotkania problemów.</span><span class="sxs-lookup"><span data-stu-id="eb899-319">Hopefully hello following list of “gotchas” can help you troubleshooting in case you run into issues.</span></span>

1. <span data-ttu-id="eb899-320">**Wystawca** URL powinien kończyć się **"/"**.</span><span class="sxs-lookup"><span data-stu-id="eb899-320">**Issuer** URL should end with **"/"**.</span></span>  

    <span data-ttu-id="eb899-321">**Grupy odbiorców** powinny być hello identyfikator klienta aplikacji odtwarzacza i należy również dodać **"/"** na końcu hello hello adres URL wystawcy.</span><span class="sxs-lookup"><span data-stu-id="eb899-321">**Audience** should be hello player application client ID and you should also add **"/"** at hello end of hello issuer URL.</span></span>

        <add key="ida:audience" value="[Application Client ID GUID]" />
        <add key="ida:issuer" value="https://sts.windows.net/[AAD Tenant ID]/" />

    <span data-ttu-id="eb899-322">W [dekodera tokenów JWT](http://jwt.calebb.net/), powinny pojawić się **lub** i **iss** jak poniżej w hello JWT token:</span><span class="sxs-lookup"><span data-stu-id="eb899-322">In [JWT Decoder](http://jwt.calebb.net/), you should see **aud** and **iss** as below in hello JWT token:</span></span>

    ![gotcha 1.](./media/media-services-cenc-with-multidrm-access-control/media-services-1st-gotcha.png)
2. <span data-ttu-id="eb899-324">Dodaj uprawnienia toohello aplikacji w usłudze AAD (na karcie Konfiguracja aplikacji hello).</span><span class="sxs-lookup"><span data-stu-id="eb899-324">Add Permissions toohello application in AAD (on Configure tab of hello application).</span></span> <span data-ttu-id="eb899-325">Jest to wymagane dla każdej aplikacji (w wersji lokalnej i wdrożone).</span><span class="sxs-lookup"><span data-stu-id="eb899-325">This is required for each application (local and deployed versions).</span></span>

    ![gotcha 2](./media/media-services-cenc-with-multidrm-access-control/media-services-perms-to-other-apps.png)
3. <span data-ttu-id="eb899-327">Użyj wystawcy prawo hello w konfigurowaniu dynamiczne CENC ochrony:</span><span class="sxs-lookup"><span data-stu-id="eb899-327">Use hello right issuer in setting up dynamic CENC protection:</span></span>

        <add key="ida:issuer" value="https://sts.windows.net/[AAD Tenant ID]/"/>

    <span data-ttu-id="eb899-328">Witaj następujące działania będą nieprawidłowe:</span><span class="sxs-lookup"><span data-stu-id="eb899-328">hello following will not work:</span></span>

        <add key="ida:issuer" value="https://willzhanad.onmicrosoft.com/" />

    <span data-ttu-id="eb899-329">Hello identyfikator GUID to identyfikator hello AAD dzierżawcy.</span><span class="sxs-lookup"><span data-stu-id="eb899-329">hello GUID is hello AAD tenant ID.</span></span> <span data-ttu-id="eb899-330">Witaj identyfikator GUID można znaleźć w menu podręcznym punktów końcowych w portalu Azure.</span><span class="sxs-lookup"><span data-stu-id="eb899-330">hello GUID can be found in Endpoints popup in Azure portal.</span></span>
4. <span data-ttu-id="eb899-331">Członkostwo w grupie GRANT oświadczeń uprawnień.</span><span class="sxs-lookup"><span data-stu-id="eb899-331">Grant group membership claims privileges.</span></span> <span data-ttu-id="eb899-332">Upewnij się, że w pliku manifestu aplikacji usługi AAD, będziemy mieć następujące hello</span><span class="sxs-lookup"><span data-stu-id="eb899-332">Make sure in AAD application manifest file, we have hello following</span></span>

    <span data-ttu-id="eb899-333">"groupMembershipClaims": "All" (wartość domyślna hello ma wartość null)</span><span class="sxs-lookup"><span data-stu-id="eb899-333">"groupMembershipClaims": "All",    (hello default value is null)</span></span>
5. <span data-ttu-id="eb899-334">TokenType odpowiednie ustawienie podczas tworzenia wymagania ograniczeń.</span><span class="sxs-lookup"><span data-stu-id="eb899-334">Setting proper TokenType when creating restriction requirements.</span></span>

        objTokenRestrictionTemplate.TokenType = TokenType.JWT;

    <span data-ttu-id="eb899-335">Dodawanie obsługi JWT (AAD) dodatkowo tooSWT (ACS), domyślne hello TokenType to TokenType.JWT.</span><span class="sxs-lookup"><span data-stu-id="eb899-335">Since adding support of JWT (AAD) in addition tooSWT (ACS), hello default TokenType is TokenType.JWT.</span></span> <span data-ttu-id="eb899-336">Jeśli używasz SWT/ACS, należy ustawić tooTokenType.SWT.</span><span class="sxs-lookup"><span data-stu-id="eb899-336">If you use SWT/ACS, you must set tooTokenType.SWT.</span></span>

## <a name="additional-topics-for-implementation"></a><span data-ttu-id="eb899-337">Dodatkowe tematy dotyczące implementacji</span><span class="sxs-lookup"><span data-stu-id="eb899-337">Additional Topics for Implementation</span></span>
<span data-ttu-id="eb899-338">Następnie firma Microsoft będzie dysk uss niektóre dodatkowe tematy w naszym projektowania i implementacji.</span><span class="sxs-lookup"><span data-stu-id="eb899-338">Next we will disc uss some additional topics in our design and implementation.</span></span>

### <a name="http-or-https"></a><span data-ttu-id="eb899-339">HTTP lub HTTPS?</span><span class="sxs-lookup"><span data-stu-id="eb899-339">HTTP or HTTPS?</span></span>
<span data-ttu-id="eb899-340">Hello aplikacja odtwarzacza ASP.NET MVC, który budujemy musi spełniać następujące hello:</span><span class="sxs-lookup"><span data-stu-id="eb899-340">hello ASP.NET MVC player application we built must support hello following:</span></span>

1. <span data-ttu-id="eb899-341">Uwierzytelnianie użytkowników za pomocą usługi Azure AD, którą należy toobe w obszarze protokołu HTTPS.</span><span class="sxs-lookup"><span data-stu-id="eb899-341">User authentication through Azure AD which needs toobe under HTTPS;</span></span>
2. <span data-ttu-id="eb899-342">Wymiany tokenu JWT między klientem a usługą Azure AD, wymagający toobe w obszarze protokołu HTTPS.</span><span class="sxs-lookup"><span data-stu-id="eb899-342">JWT token exchange between client and Azure AD which needs toobe under HTTPS;</span></span>
3. <span data-ttu-id="eb899-343">Nabycie licencji DRM przez powitania klienta, co jest wymagane toobe w obszarze HTTPS, jeśli dostarczania licencji są dostarczane przez usługi Azure Media Services.</span><span class="sxs-lookup"><span data-stu-id="eb899-343">DRM license acquisition by hello client which is required toobe under HTTPS if license delivery is provided by Azure Media Services.</span></span> <span data-ttu-id="eb899-344">Oczywiście pakiet produktów PlayReady nie wprowadzić HTTPS w celu dostarczania licencji.</span><span class="sxs-lookup"><span data-stu-id="eb899-344">Of course, PlayReady product suite does not mandate HTTPS for license delivery.</span></span> <span data-ttu-id="eb899-345">Jeśli serwer licencji PlayReady znajduje się poza usługi Azure Media Services, można użyć protokołu HTTP lub HTTPS.</span><span class="sxs-lookup"><span data-stu-id="eb899-345">If your PlayReady license server is outside of Azure Media Services, either HTTP or HTTPS could be used.</span></span>

<span data-ttu-id="eb899-346">W związku z tym hello aplikacja odtwarzacza ASP.NET będzie używać protokołu HTTPS, najlepszym rozwiązaniem.</span><span class="sxs-lookup"><span data-stu-id="eb899-346">Therefore, hello ASP.NET player application will use HTTPS as a best practice.</span></span> <span data-ttu-id="eb899-347">Oznacza to hello Azure Media Player się na stronie w obszarze HTTPS.</span><span class="sxs-lookup"><span data-stu-id="eb899-347">This means hello Azure Media Player will be on a page under HTTPS.</span></span> <span data-ttu-id="eb899-348">Niemniej jednak w przypadku przesyłania strumieniowego możemy użyć protokołu HTTP, dlatego potrzebujemy tooconsider mieszanym problem zawartości.</span><span class="sxs-lookup"><span data-stu-id="eb899-348">However, for streaming we prefer HTTP, hence we need tooconsider mixed content issue.</span></span>

1. <span data-ttu-id="eb899-349">Przeglądarka nie zezwala na zawartość mieszana.</span><span class="sxs-lookup"><span data-stu-id="eb899-349">Browser does not allow mixed content.</span></span> <span data-ttu-id="eb899-350">Ale zezwalaj na wtyczki dodatku Silverlight i OSMF do sprawnego i KRESKI.</span><span class="sxs-lookup"><span data-stu-id="eb899-350">But plugins like Silverlight and OSMF plugin for smooth and DASH allow.</span></span> <span data-ttu-id="eb899-351">Zawartość mieszana jest problem dotyczący zabezpieczeń — ze względu na zagrożenie toohello z tooinject możliwości hello złośliwego JS, co może powodować hello toobe danych klienta na ryzyko.</span><span class="sxs-lookup"><span data-stu-id="eb899-351">Mixed content is a security concern - This is due toohello threat of hello ability tooinject malicious JS which can cause hello customer data toobe at risk.</span></span>  <span data-ttu-id="eb899-352">Przeglądarki blokować to domyślnie i wykonanej do tej pory jest hello tylko sposób toowork wokół niego w po stronie serwera (źródło) hello tooallow wszystkich domenach (niezależnie od tego, https lub http).</span><span class="sxs-lookup"><span data-stu-id="eb899-352">Browsers block this by default and so far hello only way toowork around it is on hello server (origin) side, tooallow all domains (regardless https or http).</span></span> <span data-ttu-id="eb899-353">To prawdopodobnie nie jest dobrze albo.</span><span class="sxs-lookup"><span data-stu-id="eb899-353">This is probably not a good idea either.</span></span>
2. <span data-ttu-id="eb899-354">Firma Microsoft należy unikać zawartości mieszanej: zarówno za pomocą protokołu HTTP albo oba rozwiązania używają protokołu HTTPS.</span><span class="sxs-lookup"><span data-stu-id="eb899-354">We should avoid mixed content: either both use HTTP or both use HTTPS.</span></span> <span data-ttu-id="eb899-355">Podczas odtwarzania zawartości mieszanej techniczna silverlightSS wymaga wyczyszczenia mieszanych ostrzeżenie zawartości.</span><span class="sxs-lookup"><span data-stu-id="eb899-355">When playing mixed content, silverlightSS tech requires clearing a mixed content warning.</span></span> <span data-ttu-id="eb899-356">techniczna flashSS obsługuje zawartość mieszaną bez mieszanych ostrzeżenia zawartości.</span><span class="sxs-lookup"><span data-stu-id="eb899-356">flashSS tech handles mixed content without mixed content warning.</span></span>
3. <span data-ttu-id="eb899-357">Jeśli punkt końcowy przesyłania strumieniowego został utworzony przed 2014 sierpnia, nie obsługuje protokołu HTTPS.</span><span class="sxs-lookup"><span data-stu-id="eb899-357">If your streaming endpoint was created before August 2014, it will not support HTTPS.</span></span> <span data-ttu-id="eb899-358">W takim przypadku Utwórz i używać nowego punktu końcowego przesyłania strumieniowego dla protokołu HTTPS.</span><span class="sxs-lookup"><span data-stu-id="eb899-358">In this case, please create and use a new streaming endpoint for HTTPS.</span></span>

<span data-ttu-id="eb899-359">W implementacji odwołanie hello, dla zawartości DRM chronionych aplikacji i przesyłania strumieniowego będą HTTTPS.</span><span class="sxs-lookup"><span data-stu-id="eb899-359">In hello reference implementation, for DRM protected contents, both application and streaming will be under HTTTPS.</span></span> <span data-ttu-id="eb899-360">Otwórz zawartość hello player nie być konieczne uwierzytelniania lub licencji, dlatego należy hello liberty toouse albo protokołu HTTP lub HTTPS.</span><span class="sxs-lookup"><span data-stu-id="eb899-360">For open contents, hello player does not need authentication or license, so you have hello liberty toouse either HTTP or HTTPS.</span></span>

### <a name="azure-active-directory-signing-key-rollover"></a><span data-ttu-id="eb899-361">Usługa Azure Active Directory Przerzucanie klucza podpisywania</span><span class="sxs-lookup"><span data-stu-id="eb899-361">Azure Active Directory signing key rollover</span></span>
<span data-ttu-id="eb899-362">Jest to ważne tootake punktu pod uwagę implementacji.</span><span class="sxs-lookup"><span data-stu-id="eb899-362">This is an important point tootake into consideration of your implementation.</span></span> <span data-ttu-id="eb899-363">Jeśli użytkownik nie należy traktować to w implementacji, system ukończyć powitalnych ostatecznie przestaną działać całkowicie w ciągu maksymalnie 6 tygodni.</span><span class="sxs-lookup"><span data-stu-id="eb899-363">If you do not consider this in your implementation, hello completed system will eventually stop working completely within at most 6 weeks.</span></span>

<span data-ttu-id="eb899-364">Usługi Azure AD używa branżowy standard tooestablish zaufania między sobą i aplikacji przy użyciu usługi Azure AD.</span><span class="sxs-lookup"><span data-stu-id="eb899-364">Azure AD uses industry standard tooestablish trust between itself and applications using Azure AD.</span></span> <span data-ttu-id="eb899-365">W szczególności usługi Azure AD używa klucza podpisywania, który składa się z pary kluczy publicznych i prywatnych.</span><span class="sxs-lookup"><span data-stu-id="eb899-365">Specifically, Azure AD uses a signing key that consists of a public and private key pair.</span></span> <span data-ttu-id="eb899-366">W usłudze Azure AD tworzy token zabezpieczający, który zawiera informacje o użytkowniku hello, token ten jest podpisany przez usługę Azure AD przy użyciu jego klucz prywatny, przed wysłaniem wstecz toohello aplikacji.</span><span class="sxs-lookup"><span data-stu-id="eb899-366">When Azure AD creates a security token that contains information about hello user, this token is signed by Azure AD using its private key before it is sent back toohello application.</span></span> <span data-ttu-id="eb899-367">tooverify, który hello token jest prawidłowy i faktycznie zdalnych z usługi Azure AD, aplikacja hello zweryfikować podpisu tokenu hello przy użyciu klucza publicznego hello udostępnianych przez usługi Azure AD, zawarte w dokument metadanych usług federacyjnych hello dzierżawy.</span><span class="sxs-lookup"><span data-stu-id="eb899-367">tooverify that hello token is valid and actually originated from Azure AD, hello application must validate hello token’s signature using hello public key exposed by Azure AD that is contained in hello tenant’s federation metadata document.</span></span> <span data-ttu-id="eb899-368">Ten publiczny klucz — Witaj, z którego pochodzi klucza podpisywania — jest hello używaną tego samego dla wszystkich dzierżawców w usłudze Azure AD.</span><span class="sxs-lookup"><span data-stu-id="eb899-368">This public key – and hello signing key from which it derives – is hello same one used for all tenants in Azure AD.</span></span>

<span data-ttu-id="eb899-369">Szczegółowe informacje o Przerzucanie klucza usługi Azure AD można znaleźć w dokumencie hello: [ważne informacje dotyczące podpisywania przerzucania klucza w usłudze Azure AD](../active-directory/active-directory-signing-key-rollover.md).</span><span class="sxs-lookup"><span data-stu-id="eb899-369">Detailed info on Azure AD key rollover can be found in hello document: [Important Information about Signing Key Rollover in Azure AD](../active-directory/active-directory-signing-key-rollover.md).</span></span>

<span data-ttu-id="eb899-370">Między hello [pary kluczy publiczno prywatnych](https://login.microsoftonline.com/common/discovery/keys/),</span><span class="sxs-lookup"><span data-stu-id="eb899-370">Between hello [public-private key pair](https://login.microsoftonline.com/common/discovery/keys/),</span></span>

* <span data-ttu-id="eb899-371">klucz prywatny Hello jest używany przez usługi Azure Active Directory toogenerate tokenu JWT;</span><span class="sxs-lookup"><span data-stu-id="eb899-371">hello private key is used by Azure Active Directory toogenerate a JWT token;</span></span>
* <span data-ttu-id="eb899-372">klucz publiczny Hello jest używany przez aplikację takie jak usługi dostarczania licencji DRM w AMS tooverify hello JWT token;</span><span class="sxs-lookup"><span data-stu-id="eb899-372">hello public key is used by an application such as DRM License Delivery Services in AMS tooverify hello JWT token;</span></span>

<span data-ttu-id="eb899-373">W celu zabezpieczenia usługi Azure Active Directory obraca tego certyfikatu okresowo (co tydzień).</span><span class="sxs-lookup"><span data-stu-id="eb899-373">For security purpose, Azure Active Directory rotates this certificate periodically (every 6 weeks).</span></span> <span data-ttu-id="eb899-374">W przypadku naruszenia zabezpieczeń Przerzucanie klucza hello może wystąpić dowolnej chwili.</span><span class="sxs-lookup"><span data-stu-id="eb899-374">In case of security breaches, hello key rollover can occur any time.</span></span> <span data-ttu-id="eb899-375">W związku z tym usługi dostarczania licencji hello w AMS należy tooupdate hello klucza publicznego używany jako pary kluczy hello obraca usługi Azure AD, w przeciwnym razie token uwierzytelniania w AMS zakończy się niepowodzeniem i pojawi się żadna licencja.</span><span class="sxs-lookup"><span data-stu-id="eb899-375">Therefore, hello license delivery services in AMS need tooupdate hello public key used as Azure AD rotates hello key pair, otherwise token authentication in AMS will fail and no license will be issued.</span></span>

<span data-ttu-id="eb899-376">Jest to osiągane przez ustawienie TokenRestrictionTemplate.OpenIdConnectDiscoveryDocument podczas konfigurowania usług dostarczania licencji DRM.</span><span class="sxs-lookup"><span data-stu-id="eb899-376">This is achieved by setting TokenRestrictionTemplate.OpenIdConnectDiscoveryDocument when configuring DRM license delivery services.</span></span>

<span data-ttu-id="eb899-377">Hello przepływu tokenu JWT jest poniżej:</span><span class="sxs-lookup"><span data-stu-id="eb899-377">hello JWT token flow is as below:</span></span>

1. <span data-ttu-id="eb899-378">Usługi Azure AD wystawia hello JWT token hello bieżącego klucza prywatnego dla użytkowników uwierzytelnionych;</span><span class="sxs-lookup"><span data-stu-id="eb899-378">Azure AD will issue hello JWT token with hello current private key for an authenticated user;</span></span>
2. <span data-ttu-id="eb899-379">Gdy odtwarzacza widzi CENC z wieloma DRM chroniona zawartość, najpierw zlokalizuje hello tokenu JWT wystawione przez usługę Azure AD.</span><span class="sxs-lookup"><span data-stu-id="eb899-379">When a player sees a CENC with multi-DRM protected content, it will first locate hello JWT token issued by Azure AD.</span></span>
3. <span data-ttu-id="eb899-380">Odtwarzacz Hello wysyła żądanie nabycie licencji z usługi dostarczania toolicense tokenu JWT hello w AMS;</span><span class="sxs-lookup"><span data-stu-id="eb899-380">hello player sends license acquisition request with hello JWT token toolicense delivery services in AMS;</span></span>
4. <span data-ttu-id="eb899-381">Witaj usług dostarczania licencji w AMS użyje hello bieżącego/prawidłowy klucz publiczny z tokenu JWT hello tooverify usługi Azure AD, przed wystawieniem licencji.</span><span class="sxs-lookup"><span data-stu-id="eb899-381">hello license delivery services in AMS will use hello current/valid public key from Azure AD tooverify hello JWT token, before issuing licenses.</span></span>

<span data-ttu-id="eb899-382">Będzie można zawsze sprawdzanie usług dostarczania licencji DRM hello bieżącego/prawidłowy klucz publiczny z usługi Azure AD.</span><span class="sxs-lookup"><span data-stu-id="eb899-382">DRM license delivery services will always be checking for hello current/valid public key from Azure AD.</span></span> <span data-ttu-id="eb899-383">klucz publiczny Hello przedstawiony przez usługę Azure AD będzie hello klucz używany do weryfikowania tokenu JWT wystawione przez usługę Azure AD.</span><span class="sxs-lookup"><span data-stu-id="eb899-383">hello public key presented by Azure AD will be hello key used for verifying a JWT token issued by Azure AD.</span></span>

<span data-ttu-id="eb899-384">Co zrobić, jeśli Przerzucanie klucza hello się stanie po AAD generuje JWT token, ale przed hello JWT token jest wysyłany przez odtwarzacze tooDRM usług dostarczania licencji w AMS na potrzeby weryfikacji?</span><span class="sxs-lookup"><span data-stu-id="eb899-384">What if hello key rollover happens after AAD generates a JWT token but before hello JWT token is sent by players tooDRM license delivery services in AMS for verification?</span></span>

<span data-ttu-id="eb899-385">Ponieważ klucz mogła zostać wycofana w dowolnym momencie, jest zawsze więcej niż jeden prawidłowy klucz publiczny dostępna hello dokument metadanych usług federacyjnych.</span><span class="sxs-lookup"><span data-stu-id="eb899-385">Because a key may be rolled at any moment, there is always more than one valid public key available in hello federation metadata document.</span></span> <span data-ttu-id="eb899-386">Azure dostarczania licencji Media Services można użyć dowolnego z hello określić klucze w dokumencie hello, ponieważ jeden klucz mogła zostać wycofana wkrótce innego mogą być zastąpienia i tak dalej.</span><span class="sxs-lookup"><span data-stu-id="eb899-386">Azure Media Services license delivery can use any of hello keys specified in hello document, since one key may be rolled soon, another may be its replacement, and so forth.</span></span>

### <a name="where-is-hello-access-token"></a><span data-ttu-id="eb899-387">Gdzie jest hello tokenu dostępu?</span><span class="sxs-lookup"><span data-stu-id="eb899-387">Where is hello Access Token?</span></span>
<span data-ttu-id="eb899-388">Jeśli przyjrzymy się jak aplikacji sieci web wywołuje aplikację interfejsu API w obszarze [tożsamość aplikacji z OAuth 2.0 klienta poświadczenia Grant](../active-directory/develop/active-directory-authentication-scenarios.md#web-application-to-web-api), przepływ uwierzytelniania hello jest poniżej:</span><span class="sxs-lookup"><span data-stu-id="eb899-388">If you look at how a web app calls an API app under [Application Identity with OAuth 2.0 Client Credentials Grant](../active-directory/develop/active-directory-authentication-scenarios.md#web-application-to-web-api), hello authentication flow is as below:</span></span>

1. <span data-ttu-id="eb899-389">Użytkownik jest zalogowany tooAzure AD w aplikacji sieci web hello (zobacz hello [tooWeb przeglądarki sieci Web aplikacji](../active-directory/develop/active-directory-authentication-scenarios.md#web-browser-to-web-application).</span><span class="sxs-lookup"><span data-stu-id="eb899-389">A user is signed in tooAzure AD in hello web application (see hello [Web Browser tooWeb Application](../active-directory/develop/active-directory-authentication-scenarios.md#web-browser-to-web-application).</span></span>
2. <span data-ttu-id="eb899-390">punkt końcowy autoryzacji Hello Azure AD przekierowuje hello aplikacji klienckiej wstecz toohello agenta użytkownika z kodem autoryzacji.</span><span class="sxs-lookup"><span data-stu-id="eb899-390">hello Azure AD authorization endpoint redirects hello user agent back toohello client application with an authorization code.</span></span> <span data-ttu-id="eb899-391">agent użytkownika Hello zwraca identyfikator URI przekierowania autoryzacji kodu toohello aplikacji klienckiej.</span><span class="sxs-lookup"><span data-stu-id="eb899-391">hello user agent returns authorization code toohello client application’s redirect URI.</span></span>
3. <span data-ttu-id="eb899-392">Aplikacja sieci web Hello musi tooacquire tokenu dostępu, który można uwierzytelnić interfejsu API sieci web toohello i pobrać hello żądanego zasobu.</span><span class="sxs-lookup"><span data-stu-id="eb899-392">hello web application needs tooacquire an access token so that it can authenticate toohello web API and retrieve hello desired resource.</span></span> <span data-ttu-id="eb899-393">Powoduje to dodanie tooAzure żądania AD dla punktu końcowego tokena, hello poświadczeń, identyfikator klienta i aplikacji sieci web interfejsu API identyfikator URI.</span><span class="sxs-lookup"><span data-stu-id="eb899-393">It makes a request tooAzure AD’s token endpoint, providing hello credential, client ID, and web API’s application ID URI.</span></span> <span data-ttu-id="eb899-394">Przedstawia tooprove kod autoryzacji hello tego hello użytkownik zgodził.</span><span class="sxs-lookup"><span data-stu-id="eb899-394">It presents hello authorization code tooprove that hello user has consented.</span></span>
4. <span data-ttu-id="eb899-395">Usługi Azure AD uwierzytelnia aplikacji hello i zwraca token dostępu JWT jest interfejs API sieci web hello toocall używane.</span><span class="sxs-lookup"><span data-stu-id="eb899-395">Azure AD authenticates hello application and returns a JWT access token that is used toocall hello web API.</span></span>
5. <span data-ttu-id="eb899-396">Przy użyciu protokołu HTTPS aplikacja sieci web hello używa hello zwracane hello tooadd tokenu dostępu JWT ciąg tokenu JWT z oznaczeniem "Bearer" w nagłówku autoryzacji hello hello żądanie toohello interfejsu API sieci web.</span><span class="sxs-lookup"><span data-stu-id="eb899-396">Over HTTPS, hello web application uses hello returned JWT access token tooadd hello JWT string with a “Bearer” designation in hello Authorization header of hello request toohello web API.</span></span> <span data-ttu-id="eb899-397">Interfejs API sieci web Hello następnie weryfikuje hello JWT token, a Jeśli weryfikacja zakończy się pomyślnie, zwraca hello żądanego zasobu.</span><span class="sxs-lookup"><span data-stu-id="eb899-397">hello web API then validates hello JWT token, and if validation is successful, returns hello desired resource.</span></span>

<span data-ttu-id="eb899-398">W tym przepływie "tożsamość aplikacji" hello interfejsu API sieci web ufa tego hello sieci web aplikacji hello uwierzytelnionego użytkownika.</span><span class="sxs-lookup"><span data-stu-id="eb899-398">In this “application identity” flow, hello web API trusts that hello web application authenticated hello user.</span></span> <span data-ttu-id="eb899-399">Z tego powodu ten wzorzec jest wywoływana zaufany podsystem.</span><span class="sxs-lookup"><span data-stu-id="eb899-399">For this reason, this pattern is called a trusted subsystem.</span></span> <span data-ttu-id="eb899-400">Witaj [diagramu na tej stronie](https://docs.microsoft.com/azure/active-directory/active-directory-protocols-oauth-code) w tym artykule opisano, jak kod autoryzacji przyznać przepływ działania.</span><span class="sxs-lookup"><span data-stu-id="eb899-400">hello [diagram on this page](https://docs.microsoft.com/azure/active-directory/active-directory-protocols-oauth-code) describes how authorization code grant flow works.</span></span>

<span data-ttu-id="eb899-401">W nabycie licencji z ograniczenia tokenu, możemy po hello tego samego wzorca zaufany podsystem.</span><span class="sxs-lookup"><span data-stu-id="eb899-401">In license acquisition with token restriction, we are following hello same trusted subsystem pattern.</span></span> <span data-ttu-id="eb899-402">I usługi dostarczania licencji hello w usłudze Azure Media Services jest hello zasobu interfejsu API sieci web, hello "zasobu wewnętrznej bazy danych" tooaccess wymaga aplikacji sieci web.</span><span class="sxs-lookup"><span data-stu-id="eb899-402">And hello license delivery service in Azure Media Services is hello web API resource, hello “backend resource” a web application needs tooaccess.</span></span> <span data-ttu-id="eb899-403">Dlatego w przypadku hello tokenu dostępu?</span><span class="sxs-lookup"><span data-stu-id="eb899-403">So where is hello access token?</span></span>

<span data-ttu-id="eb899-404">Firma Microsoft są w rzeczywistości uzyskiwania tokenu dostępu z usługi Azure AD.</span><span class="sxs-lookup"><span data-stu-id="eb899-404">Indeed, we are obtaining access token from Azure AD.</span></span> <span data-ttu-id="eb899-405">Po uwierzytelnieniu użytkownik pomyślnie zostanie zwrócony kod autoryzacji.</span><span class="sxs-lookup"><span data-stu-id="eb899-405">After successful user authentication, authorization code is returned.</span></span> <span data-ttu-id="eb899-406">Kod autoryzacji Hello jest następnie używany razem z identyfikator i aplikacji klucz klienta, tooexchange tokenu dostępu.</span><span class="sxs-lookup"><span data-stu-id="eb899-406">hello authorization code is then used, together with client ID and app key, tooexchange for access token.</span></span> <span data-ttu-id="eb899-407">I token dostępu hello dla uzyskiwania dostępu do aplikacji "wskaźnik" wskazuje lub reprezentujący usługi dostarczania licencji usługi Azure Media Services.</span><span class="sxs-lookup"><span data-stu-id="eb899-407">And hello access token is for accessing a “pointer” application pointing or representing Azure Media Services license delivery service.</span></span>

<span data-ttu-id="eb899-408">Firma Microsoft muszą tooregister i skonfigurować aplikację "wskaźnik" hello w usłudze Azure AD, wykonując poniższe kroki hello:</span><span class="sxs-lookup"><span data-stu-id="eb899-408">We need tooregister and configure hello “pointer” app in Azure AD by following hello steps below:</span></span>

1. <span data-ttu-id="eb899-409">W dzierżawie powitalnych usługi Azure AD</span><span class="sxs-lookup"><span data-stu-id="eb899-409">In hello Azure AD tenant</span></span>

   * <span data-ttu-id="eb899-410">Dodawanie aplikacji (zasobów) z adresem URL logowania:</span><span class="sxs-lookup"><span data-stu-id="eb899-410">add an application (resource) with sign-on URL:</span></span>

   <span data-ttu-id="eb899-411">https://[resource_name].azurewebsites.NET/ i</span><span class="sxs-lookup"><span data-stu-id="eb899-411">https://[resource_name].azurewebsites.net/ and</span></span>

   * <span data-ttu-id="eb899-412">adres URL Identyfikatora aplikacji:</span><span class="sxs-lookup"><span data-stu-id="eb899-412">app ID URL:</span></span>

   <span data-ttu-id="eb899-413">https://[aad_tenant_name].onmicrosoft.com/[resource_name];</span><span class="sxs-lookup"><span data-stu-id="eb899-413">https://[aad_tenant_name].onmicrosoft.com/[resource_name];</span></span>
2. <span data-ttu-id="eb899-414">Dodaj nowy klucz hello zasobów aplikacji;</span><span class="sxs-lookup"><span data-stu-id="eb899-414">Add a new key for hello resource app;</span></span>
3. <span data-ttu-id="eb899-415">Aktualizacja pliku manifestu aplikacji hello tak, aby właściwość groupMembershipClaims hello hello następujące wartości: "groupMembershipClaims": "Wszystkie",</span><span class="sxs-lookup"><span data-stu-id="eb899-415">Update hello app manifest file so that hello groupMembershipClaims property has hello following value: "groupMembershipClaims": "All",</span></span>  
4. <span data-ttu-id="eb899-416">W aplikacji usługi Azure AD hello wskazanie toohello aplikacji sieci web player, w sekcji hello "aplikacje tooother uprawnienia" Dodaj hello zasobów aplikacji, która została dodana w kroku 1.</span><span class="sxs-lookup"><span data-stu-id="eb899-416">In hello Azure AD app pointing toohello player web app, in hello section “permissions tooother applications”, add hello resource app which was added in step 1 above.</span></span> <span data-ttu-id="eb899-417">Sprawdź znacznik "Dostępu [resource_name]" w obszarze "delegowane uprawnienia".</span><span class="sxs-lookup"><span data-stu-id="eb899-417">Under “delegated permissions” check “Access [resource_name]” checkmark.</span></span> <span data-ttu-id="eb899-418">Daje to uprawnienia aplikacji sieci web hello toocreate tokenów dostępu do uzyskiwania dostępu do hello zasobów aplikacji.</span><span class="sxs-lookup"><span data-stu-id="eb899-418">This gives hello web app permission toocreate access tokens for accessing hello resource app.</span></span> <span data-ttu-id="eb899-419">Ten krok należy wykonać dla wersji zarówno lokalnych, jak i wdrożonej aplikacji sieci web hello Jeśli tworzysz aplikację sieci web programu Visual Studio i platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="eb899-419">You should do this for both local and deployed version of hello web app if you are developing with Visual Studio and Azure web app.</span></span>

<span data-ttu-id="eb899-420">W związku z tym hello tokenu JWT wystawione przez usługę Azure AD jest token dostępu hello dla uzyskiwania dostępu do tego zasobu "wskaźnik".</span><span class="sxs-lookup"><span data-stu-id="eb899-420">Therefore, hello JWT token issued by Azure AD is indeed hello access token for accessing this “pointer” resource.</span></span>

### <a name="what-about-live-streaming"></a><span data-ttu-id="eb899-421">Jak Live przesyłania strumieniowego?</span><span class="sxs-lookup"><span data-stu-id="eb899-421">What about Live Streaming?</span></span>
<span data-ttu-id="eb899-422">W powyższym hello naszych dyskusji ma zostały koncentrujących się na zasoby na żądanie.</span><span class="sxs-lookup"><span data-stu-id="eb899-422">In hello above, our discussion has been focusing on on-demand assets.</span></span> <span data-ttu-id="eb899-423">Jak transmisja strumieniowa na żywo?</span><span class="sxs-lookup"><span data-stu-id="eb899-423">What about live streaming?</span></span>

<span data-ttu-id="eb899-424">Witaj szczęście jest której można dokładnie hello sam projekt i implementację ochrony transmisja strumieniowa na żywo w usłudze Azure Media Services, traktując zasobów hello skojarzonego z programem jako zasób"VOD".</span><span class="sxs-lookup"><span data-stu-id="eb899-424">hello good news is that you can use exactly hello same design and implementation for protecting live streaming in Azure Media Services, by treating hello asset associated with a program as a “VOD asset”.</span></span>

<span data-ttu-id="eb899-425">W szczególności jest dobrze znanych czy toodo live streaming w usłudze Azure Media Services, należy toocreate kanał, a następnie program hello kanału.</span><span class="sxs-lookup"><span data-stu-id="eb899-425">Specifically, it is well known that toodo live streaming in Azure Media Services, you need toocreate a channel, then a program under hello channel.</span></span> <span data-ttu-id="eb899-426">toocreate hello program, należy toocreate zasób będzie zawierać hello na żywo archiwum hello programu.</span><span class="sxs-lookup"><span data-stu-id="eb899-426">toocreate hello program, you need toocreate an asset which will contain hello live archive for hello program.</span></span> <span data-ttu-id="eb899-427">W kolejności tooprovide CENC z wieloma DRM ochrony zawartości na żywo hello, wszystko, czego potrzebujesz toodo, jest tooapply hello tego samego zasobu toohello instalacji/przetwarzania tak, jakby było "zasobów VOD" przed rozpoczęciem powitalne program.</span><span class="sxs-lookup"><span data-stu-id="eb899-427">In order tooprovide CENC with multi-DRM protection of hello live content, all you need toodo, is tooapply hello same setup/processing toohello asset as if it was a “VOD asset” before you start hello program.</span></span>

### <a name="what-about-license-servers-outside-of-azure-media-services"></a><span data-ttu-id="eb899-428">Co serwerów licencji poza usługi Azure Media Services?</span><span class="sxs-lookup"><span data-stu-id="eb899-428">What about license servers outside of Azure Media Services?</span></span>
<span data-ttu-id="eb899-429">Często klienci mogą zainwestowały w licencji farmy serwerów jest w ich własnych danych Centrum lub hostowanej przez dostawców usług DRM.</span><span class="sxs-lookup"><span data-stu-id="eb899-429">Often, customers may have invested in license server farm either in their own data center or hosted by DRM service providers.</span></span> <span data-ttu-id="eb899-430">Na szczęście ochrony zawartości Azure Media Services umożliwia toooperate w trybie hybrydowego: zawartości hostowanej i dynamicznie chroniony w usłudze Azure Media Services, podczas gdy licencji DRM są dostarczane przez serwery poza usługi Azure Media Services.</span><span class="sxs-lookup"><span data-stu-id="eb899-430">Fortunately, Azure Media Services Content Protection allows you toooperate in hybrid mode: contents hosted and dynamically protected in Azure Media Services, while DRM licenses are delivered by servers outside Azure Media Services.</span></span> <span data-ttu-id="eb899-431">W tym przypadku są hello następujące zagadnienia dotyczące zmian:</span><span class="sxs-lookup"><span data-stu-id="eb899-431">In this case, there are hello following considerations of changes:</span></span>

1. <span data-ttu-id="eb899-432">Hello Secure Token Service musi tooissue tokeny są akceptowane i można sprawdzić w farmie serwerów licencji hello.</span><span class="sxs-lookup"><span data-stu-id="eb899-432">hello Secure Token Service needs tooissue tokens which are acceptable and can be verified by hello license server farm.</span></span> <span data-ttu-id="eb899-433">Na przykład serwerów licencji Widevine hello udostępnionych przez Axinom wymaga określonych token JWT, zawierający "uprawnienie komunikat".</span><span class="sxs-lookup"><span data-stu-id="eb899-433">For example, hello Widevine license servers provided by Axinom requires a specific JWT token which contains “entitlement message”.</span></span> <span data-ttu-id="eb899-434">W związku z tym należy toohave tooissue STS takie tokenu JWT.</span><span class="sxs-lookup"><span data-stu-id="eb899-434">Therefore, you need toohave an STS tooissue such JWT token.</span></span> <span data-ttu-id="eb899-435">Autorzy Hello zakończył takie implementację i hello szczegółowe informacje można znaleźć w powitania po dokumentu w [Centrum dokumentacji platformy Azure](https://azure.microsoft.com/documentation/): [toodeliver przy użyciu Axinom Widevine licencje tooAzure Media Services](media-services-axinom-integration.md).</span><span class="sxs-lookup"><span data-stu-id="eb899-435">hello authors have completed such an implementation and you can find hello details in hello following document in [Azure Documentation Center](https://azure.microsoft.com/documentation/): [Using Axinom toodeliver Widevine licenses tooAzure Media Services](media-services-axinom-integration.md).</span></span>
2. <span data-ttu-id="eb899-436">Usługi dostarczania licencji tooconfigure (ContentKeyAuthorizationPolicy) w usłudze Azure Media Services nie są już potrzebne.</span><span class="sxs-lookup"><span data-stu-id="eb899-436">You no longer need tooconfigure license delivery service (ContentKeyAuthorizationPolicy) in Azure Media Services.</span></span> <span data-ttu-id="eb899-437">Co należy toodo jest adresy URL pozyskiwania licencji hello tooprovide (w przypadku PlayReady i Widevine FairPlay) podczas konfigurowania AssetDeliveryPolicy z konfigurowaniem CENC z wieloma DRM.</span><span class="sxs-lookup"><span data-stu-id="eb899-437">What you need toodo is tooprovide hello license acquisition URLs (for PlayReady, Widevine and FairPlay) when you configure AssetDeliveryPolicy in setting up CENC with multi-DRM.</span></span>

### <a name="what-if-i-want-toouse-a-custom-sts"></a><span data-ttu-id="eb899-438">Co zrobić, jeśli ma toouse STS niestandardowych?</span><span class="sxs-lookup"><span data-stu-id="eb899-438">What if I want toouse a custom STS?</span></span>
<span data-ttu-id="eb899-439">Może istnieć kilka przyczyn, które klient może wybrać toouse niestandardowych STS (Secure Token Service) udostępnia tokenów JWT.</span><span class="sxs-lookup"><span data-stu-id="eb899-439">There could be a few reasons that a customer may choose toouse a custom STS (Secure Token Service) for providing JWT tokens.</span></span> <span data-ttu-id="eb899-440">Niektóre z nich są:</span><span class="sxs-lookup"><span data-stu-id="eb899-440">Some of them are:</span></span>

1. <span data-ttu-id="eb899-441">Witaj dostawcy tożsamości (IDP) używany przez powitania klienta nie obsługuje usługi STS.</span><span class="sxs-lookup"><span data-stu-id="eb899-441">hello Identity Provider (IDP) used by hello customer does not support STS.</span></span> <span data-ttu-id="eb899-442">W takim przypadku niestandardowych STS może być opcję.</span><span class="sxs-lookup"><span data-stu-id="eb899-442">In this case a custom STS may be an option.</span></span>
2. <span data-ttu-id="eb899-443">powitania klienta może być konieczne bardziej elastyczne lub zwiększenie poziomu kontroli w integracji usługi STS z systemem rozliczeniowym subskrybenta klienta.</span><span class="sxs-lookup"><span data-stu-id="eb899-443">hello customer may need more flexible or tighter control in integrating STS with customer’s subscriber billing system.</span></span> <span data-ttu-id="eb899-444">Na przykład MVPD operator mogą oferować wielu pakietów subskrybenta OTT, takie jak sportowy — wersja premium, podstawowa, operator hello itp. może być toomatch hello oświadczenia do tokenu z pakietem subskrybenta, tak aby tylko zawartości w pakiecie prawo hello jest udostępniana.</span><span class="sxs-lookup"><span data-stu-id="eb899-444">For example, an MVPD operator may offer multiple OTT subscriber packages such as premium, basic, sports, etc. hello operator may want toomatch hello claims in a token with a subscriber’s package so that only contents in hello right package is made available.</span></span> <span data-ttu-id="eb899-445">W takim przypadku niestandardowych STS zawiera hello potrzebne elastyczność i kontrolę.</span><span class="sxs-lookup"><span data-stu-id="eb899-445">In this case, a custom STS provides hello needed flexibility and control.</span></span>

<span data-ttu-id="eb899-446">Dwie zmiany należy toobe podjęta, gdy przy użyciu niestandardowych STS:</span><span class="sxs-lookup"><span data-stu-id="eb899-446">Two changes need toobe made when using a custom STS:</span></span>

1. <span data-ttu-id="eb899-447">Podczas konfigurowania usługi dostarczania licencji dla zasobu, należy klucz zabezpieczeń hello toospecify używany do weryfikacji przez hello niestandardowych STS (więcej szczegóły poniżej) zamiast hello bieżącego klucza z usługi Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="eb899-447">When configuring license delivery service for an asset, you need toospecify hello security key used for verification by hello custom STS (more details below) instead of hello current key from Azure Active Directory.</span></span>
2. <span data-ttu-id="eb899-448">Po wygenerowaniu tokenu JTW klucza zabezpieczeń określono zamiast hello klucza prywatnego certyfikatu hello bieżącego X509 w usłudze Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="eb899-448">When a JTW token is generated, a security key is specified instead of hello private key of hello current X509 certificate in Azure Active Directory.</span></span>

<span data-ttu-id="eb899-449">Istnieją dwa typy kluczy zabezpieczeń:</span><span class="sxs-lookup"><span data-stu-id="eb899-449">There are two types of security keys:</span></span>

1. <span data-ttu-id="eb899-450">Klucz symetryczny: hello takim samym kluczu jest używany zarówno generowania i weryfikowania tokenu JWT;</span><span class="sxs-lookup"><span data-stu-id="eb899-450">Symmetric key: hello same key is used for both generating and verifying a JWT token;</span></span>
2. <span data-ttu-id="eb899-451">Klucza asymetrycznego: pary kluczy publiczno prywatnych w X509 używany jest certyfikat z kluczem prywatnym do szyfrowania/generowania JWT token i hello klucz publiczny do weryfikowania hello tokenu.</span><span class="sxs-lookup"><span data-stu-id="eb899-451">Asymmetric key: a public-private key pair in an X509 certificate is used with private key for encrypting/generating a JWT token and hello public key for verifying hello token.</span></span>

#### <a name="tech-note"></a><span data-ttu-id="eb899-452">Uwaga techniczna</span><span class="sxs-lookup"><span data-stu-id="eb899-452">Tech note</span></span>
<span data-ttu-id="eb899-453">Jeśli używasz .NET Framework / C# jako platformy programowanie hello X509 certyfikat używany dla klucza asymetrycznego zabezpieczeń musi mieć klucz o długości co najmniej 2048.</span><span class="sxs-lookup"><span data-stu-id="eb899-453">If you use .NET Framework/C# as your development platform, hello X509 certificate used for asymmetric security key must have key length at least 2048.</span></span> <span data-ttu-id="eb899-454">Jest to wymagane klasy hello System.IdentityModel.Tokens.X509AsymmetricSecurityKey w programie .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="eb899-454">This is a requirement of hello class System.IdentityModel.Tokens.X509AsymmetricSecurityKey in .NET Framework.</span></span> <span data-ttu-id="eb899-455">W przeciwnym razie zostanie wygenerowany hello następujący wyjątek:</span><span class="sxs-lookup"><span data-stu-id="eb899-455">Otherwise, hello following exception will be thrown:</span></span>

<span data-ttu-id="eb899-456">IDX10630: hello "System.IdentityModel.Tokens.X509AsymmetricSecurityKey" do podpisywania nie może być mniejsza niż "2048" bitów.</span><span class="sxs-lookup"><span data-stu-id="eb899-456">IDX10630: hello 'System.IdentityModel.Tokens.X509AsymmetricSecurityKey' for signing cannot be smaller than '2048' bits.</span></span>

## <a name="hello-completed-system-and-test"></a><span data-ttu-id="eb899-457">system Hello ukończone i testu</span><span class="sxs-lookup"><span data-stu-id="eb899-457">hello completed system and test</span></span>
<span data-ttu-id="eb899-458">Firma Microsoft przeprowadzi kilka scenariuszy w systemie end-to-end ukończyć powitalnych tak, aby czytelnicy mogą mieć basic "obraz" hello zachowanie przed pobraniem konta logowania.</span><span class="sxs-lookup"><span data-stu-id="eb899-458">We will walk through a few scenarios in hello completed end-to-end system so that readers can have a basic “picture” of hello behavior before getting a login account.</span></span>

<span data-ttu-id="eb899-459">Witaj player aplikacji sieci web i jej logowania można znaleźć [tutaj](https://openidconnectweb.azurewebsites.net/).</span><span class="sxs-lookup"><span data-stu-id="eb899-459">hello player web application and its login can be found [here](https://openidconnectweb.azurewebsites.net/).</span></span>

<span data-ttu-id="eb899-460">Jeśli potrzebne jest "bez zintegrowany" scenariusz: zasoby wideo hostowanych w usłudze Azure Media Services, które są albo niechronionej lub DRM chronione, ale bez tokenu uwierzytelniania (toowhoever licencji, ją wystawiania), możesz przetestować go bez logowania (przełączanie tooHTTP Jeśli Twoje strumieniowe przesyłanie wideo za pośrednictwem protokołu HTTP).</span><span class="sxs-lookup"><span data-stu-id="eb899-460">If what you need is “non-integrated” scenario: video assets hosted in Azure Media Services which are either unprotected, or DRM protected but without token authentication (issuing a license toowhoever requesting it), you can test it without login (by switching tooHTTP if your video streaming is over HTTP).</span></span>

<span data-ttu-id="eb899-461">Jeśli potrzebne jest na trasie zintegrowane scenariusz: zasoby wideo podlega dynamicznej ochrony DRM w usłudze Azure Media Services z tokenu uwierzytelniania i tokenu JWT generowane przez usługę Azure AD, należy toologin.</span><span class="sxs-lookup"><span data-stu-id="eb899-461">If what you need is end-to-end integrated scenario: video assets is under dynamic DRM protection in Azure Media Services, with token authentication and JWT token being generated by Azure AD, you need toologin.</span></span>

### <a name="user-login"></a><span data-ttu-id="eb899-462">Dane logowania użytkownika</span><span class="sxs-lookup"><span data-stu-id="eb899-462">User login</span></span>
<span data-ttu-id="eb899-463">W kolejności tootest hello end-to-end zintegrowanego DRM systemu należy toohave "konto", utworzone lub dodane.</span><span class="sxs-lookup"><span data-stu-id="eb899-463">In order tootest hello end-to-end integrated DRM system, you need toohave an “account” created or added.</span></span>

<span data-ttu-id="eb899-464">Jakiego konta?</span><span class="sxs-lookup"><span data-stu-id="eb899-464">What account?</span></span>

<span data-ttu-id="eb899-465">Mimo że Azure pierwotnie zezwalała na dostęp tylko przez użytkowników kont Microsoft, teraz zezwala na dostęp przez użytkowników z tymi dwoma systemami.</span><span class="sxs-lookup"><span data-stu-id="eb899-465">Although Azure originally allowed access only by Microsoft account users, it now allows access by users from both systems.</span></span> <span data-ttu-id="eb899-466">To została wykonana przez o wszystkich hello właściwości platformy Azure ufają usłudze Azure AD do uwierzytelniania, o usłudze Azure AD uwierzytelnia użytkowników w organizacji i istnieje relacja Federacji gdzie usługa Azure AD ufa hello Microsoft systemowi obsługi tożsamości konsumentów tooauthenticate konsumentów.</span><span class="sxs-lookup"><span data-stu-id="eb899-466">This was done by having all hello Azure properties trust Azure AD for authentication, having Azure AD authenticate organizational users, and by creating a federation relationship where Azure AD trusts hello Microsoft account consumer identity system tooauthenticate consumer users.</span></span> <span data-ttu-id="eb899-467">W związku z tym usługi Azure AD jest konta Microsoft "Gość" tooauthenticate stanie, a także "natywne" konta usługi Azure AD.</span><span class="sxs-lookup"><span data-stu-id="eb899-467">As a result, Azure AD is able tooauthenticate “guest” Microsoft accounts as well as “native” Azure AD accounts.</span></span>

<span data-ttu-id="eb899-468">Ponieważ usługa Azure AD ufa domeny konta Microsoft (MSA), można dodać wszystkich kont z dowolnej powitania po toohello domen niestandardowych usługi Azure AD dzierżawy i użyj toologin konta hello:</span><span class="sxs-lookup"><span data-stu-id="eb899-468">Since Azure AD trusts Microsoft Account (MSA) domain, you can add any accounts from any of hello following domains toohello custom Azure AD tenant and use hello account toologin:</span></span>

| <span data-ttu-id="eb899-469">**Nazwa domeny**</span><span class="sxs-lookup"><span data-stu-id="eb899-469">**Domain Name**</span></span> | <span data-ttu-id="eb899-470">**Domeny**</span><span class="sxs-lookup"><span data-stu-id="eb899-470">**Domain**</span></span> |
| --- | --- |
| <span data-ttu-id="eb899-471">**Domena dzierżawy niestandardowych usługi Azure AD**</span><span class="sxs-lookup"><span data-stu-id="eb899-471">**Custom Azure AD tenant domain**</span></span> |<span data-ttu-id="eb899-472">somename.onmicrosoft.com</span><span class="sxs-lookup"><span data-stu-id="eb899-472">somename.onmicrosoft.com</span></span> |
| <span data-ttu-id="eb899-473">**Domeny firmowej**</span><span class="sxs-lookup"><span data-stu-id="eb899-473">**Corporate domain**</span></span> |<span data-ttu-id="eb899-474">Microsoft.com</span><span class="sxs-lookup"><span data-stu-id="eb899-474">microsoft.com</span></span> |
| <span data-ttu-id="eb899-475">**Domena konta Microsoft (MSA)**</span><span class="sxs-lookup"><span data-stu-id="eb899-475">**Microsoft Account (MSA) domain**</span></span> |<span data-ttu-id="eb899-476">Outlook.com, live.com, hotmail.com</span><span class="sxs-lookup"><span data-stu-id="eb899-476">outlook.com, live.com, hotmail.com</span></span> |

<span data-ttu-id="eb899-477">Możesz skontaktować się żadnego hello autorów toohave konto utworzone lub dodane.</span><span class="sxs-lookup"><span data-stu-id="eb899-477">You may contact any of hello authors toohave an account created or added for you.</span></span>

<span data-ttu-id="eb899-478">Poniżej przedstawiono hello zrzuty ekranu strony logowania innego używany przez inną domenę konta.</span><span class="sxs-lookup"><span data-stu-id="eb899-478">Below are hello screenshots of different login pages used by different domain accounts.</span></span>

<span data-ttu-id="eb899-479">**Konto domeny dzierżawy niestandardowych usługi Azure AD**: W tym przypadku, zobacz stronę logowania dostosowane hello domeny dzierżawcy hello niestandardowych usługi Azure AD.</span><span class="sxs-lookup"><span data-stu-id="eb899-479">**Custom Azure AD tenant domain account**: In this case, you see hello customized login page of hello custom Azure AD tenant domain.</span></span>

![Konto domeny dzierżawcy niestandardowe usługi Azure AD](./media/media-services-cenc-with-multidrm-access-control/media-services-ad-tenant-domain1.png)

<span data-ttu-id="eb899-481">**Konto domeny firmy Microsoft z kartami inteligentnymi**: W tym przypadku zobacz stronę logowania hello dostosowane przez firmę Microsoft firmowej IT z uwierzytelniania dwuskładnikowego.</span><span class="sxs-lookup"><span data-stu-id="eb899-481">**Microsoft domain account with smart card**: In this case you see hello login page customized by Microsoft corporate IT with two-factor authentication.</span></span>

![Konto domeny dzierżawcy niestandardowe usługi Azure AD](./media/media-services-cenc-with-multidrm-access-control/media-services-ad-tenant-domain2.png)

<span data-ttu-id="eb899-483">**Konto Microsoft (MSA)**: W tym przypadku zostanie wyświetlona strona logowania hello Account firmy Microsoft dla konsumentów.</span><span class="sxs-lookup"><span data-stu-id="eb899-483">**Microsoft Account (MSA)**: In this case, you see hello login page of Microsoft Account for consumers.</span></span>

![Konto domeny dzierżawcy niestandardowe usługi Azure AD](./media/media-services-cenc-with-multidrm-access-control/media-services-ad-tenant-domain3.png)

### <a name="using-encrypted-media-extensions-for-playready"></a><span data-ttu-id="eb899-485">Przy użyciu nośnika zaszyfrowanych rozszerzeń dla PlayReady</span><span class="sxs-lookup"><span data-stu-id="eb899-485">Using Encrypted Media Extensions for PlayReady</span></span>
<span data-ttu-id="eb899-486">W przeglądarce nowoczesnych z zaszyfrowanych nośnika rozszerzenia (EME) dla PlayReady będzie pomocy technicznej, takich jak przeglądarki programu Internet Explorer 11 na Windows 8.1 lub nowszej i Microsoft Edge w systemie Windows 10, PlayReady hello podstawowej DRM dla EME.</span><span class="sxs-lookup"><span data-stu-id="eb899-486">On a modern browser with Encrypted Media Extensions (EME) for PlayReady support, such as IE 11 on Windows 8.1 and up, and Microsoft Edge browser on Windows 10, PlayReady will be hello underlying DRM for EME.</span></span>

![Przy użyciu EME PlayReady](./media/media-services-cenc-with-multidrm-access-control/media-services-eme-for-playready1.png)

<span data-ttu-id="eb899-488">obszar ciemny player Hello jest ze względu na fakt toohello PlayReady ochrony uniemożliwia z wprowadzeniem Przechwytywanie ekranu chronionego wideo.</span><span class="sxs-lookup"><span data-stu-id="eb899-488">hello dark player area is due toohello fact that PlayReady protection prevents one from making screen capture of protected video.</span></span>

<span data-ttu-id="eb899-489">Witaj następujący ekran pokazuje hello player wtyczek i MSE/EME pomocy technicznej.</span><span class="sxs-lookup"><span data-stu-id="eb899-489">hello following screen shows hello player plugins and MSE/EME support.</span></span>

![Przy użyciu EME PlayReady](./media/media-services-cenc-with-multidrm-access-control/media-services-eme-for-playready2.png)

<span data-ttu-id="eb899-491">EME Microsoft Edge i 11 programu Internet Explorer w systemie Windows 10 umożliwia wywoływanie z [PlayReady SL3000](https://www.microsoft.com/playready/features/EnhancedContentProtection.aspx/) na urządzeniach z systemem Windows 10, które obsługują.</span><span class="sxs-lookup"><span data-stu-id="eb899-491">EME in Microsoft Edge and IE 11 on Windows 10 allows invoking of [PlayReady SL3000](https://www.microsoft.com/playready/features/EnhancedContentProtection.aspx/) on Windows 10 devices which support it.</span></span> <span data-ttu-id="eb899-492">PlayReady SL3000 odblokowuje przepływu hello zawartości rozszerzone premium (4K, HDR, itp.) i nowe modele dostarczania zawartości (wczesne okno rozszerzone zawartości).</span><span class="sxs-lookup"><span data-stu-id="eb899-492">PlayReady SL3000 unlocks hello flow of enhanced premium content (4K, HDR, etc.) and new content delivery models (early window for Enhanced Content).</span></span>

<span data-ttu-id="eb899-493">Skupić się na urządzeniach z systemem Windows hello: PlayReady jest hello tylko DRM w sprz hello dostępnej na urządzeniach z systemem Windows (PlayReady SL3000).</span><span class="sxs-lookup"><span data-stu-id="eb899-493">Focus on hello Windows devices: PlayReady is hello only DRM in hello HW available on Windows devices (PlayReady SL3000).</span></span> <span data-ttu-id="eb899-494">Usługi przesyłania strumieniowego za pomocą PlayReady za pośrednictwem EME lub aplikacji platformy uniwersalnej systemu Windows i oferują wyższej jakości wideo za pomocą PlayReady SL3000 niż innym DRM.</span><span class="sxs-lookup"><span data-stu-id="eb899-494">A streaming service can use PlayReady through EME or through a UWP application and offer a higher video quality using PlayReady SL3000 than another DRM.</span></span> <span data-ttu-id="eb899-495">Zwykle zawartości 2K będzie przechodził przez Chrome lub Firefox i 4 K zawartości za pomocą programu Microsoft Edge/IE11 lub aplikacji platformy uniwersalnej systemu Windows na hello tym samym urządzeniu (w zależności od ustawienia usługi i implementację).</span><span class="sxs-lookup"><span data-stu-id="eb899-495">Typically, 2K content will flow through Chrome or Firefox, and 4K content through Microsoft Edge/IE11 or a UWP application on hello same device (depending on service settings and implementation).</span></span>

#### <a name="using-eme-for-widevine"></a><span data-ttu-id="eb899-496">Przy użyciu EME Widevine</span><span class="sxs-lookup"><span data-stu-id="eb899-496">Using EME for Widevine</span></span>
<span data-ttu-id="eb899-497">Na nowoczesne przeglądarki z obsługą EME/Widevine, takie jak Chrome 41 + w systemie Windows 10, Windows 8.1, Mac OS x Yosemite i Chrome na Android 4.4.4 Google Widevine jest hello DRM za EME.</span><span class="sxs-lookup"><span data-stu-id="eb899-497">On a modern browser with EME/Widevine support, such as Chrome 41+ on Windows 10, Windows 8.1, Mac OSX Yosemite, and Chrome on Android 4.4.4, Google Widevine is hello DRM behind EME.</span></span>

![Przy użyciu EME Widevine](./media/media-services-cenc-with-multidrm-access-control/media-services-eme-for-widevine1.png)

<span data-ttu-id="eb899-499">Należy zauważyć, że Widevine nie zapobiega z wprowadzeniem przechwytywania ekranu chronione wideo.</span><span class="sxs-lookup"><span data-stu-id="eb899-499">Notice that Widevine does not prevent one from making screen capture of protected video.</span></span>

![Przy użyciu EME Widevine](./media/media-services-cenc-with-multidrm-access-control/media-services-eme-for-widevine2.png)

### <a name="not-entitled-users"></a><span data-ttu-id="eb899-501">Użytkownicy nie prawo</span><span class="sxs-lookup"><span data-stu-id="eb899-501">Not entitled users</span></span>
<span data-ttu-id="eb899-502">Jeśli użytkownik nie jest członkiem grupy "Użytkownicy pod tytułem", użytkownik hello nie będzie możliwe toopass "Sprawdź uprawnienia" i usługi licencji multi DRM hello odmówi tooissue hello żądanej licencji, jak pokazano poniżej.</span><span class="sxs-lookup"><span data-stu-id="eb899-502">If a user is not a member of "Entitled Users" group, hello user will not be able toopass “entitlement check” and hello multi-DRM license service will refuse tooissue hello requested license as shown below.</span></span> <span data-ttu-id="eb899-503">Witaj szczegółowy opis jest "uzyskania licencji nie powiodło się", który jest zgodnie z założeniami.</span><span class="sxs-lookup"><span data-stu-id="eb899-503">hello detailed description is “License acquire failed”, which is as designed.</span></span>

![Cofanie przysługujących użytkowników](./media/media-services-cenc-with-multidrm-access-control/media-services-unentitledusers.png)

### <a name="running-custom-secure-token-service"></a><span data-ttu-id="eb899-505">Usługą niestandardowych Secure Token</span><span class="sxs-lookup"><span data-stu-id="eb899-505">Running custom Secure Token Service</span></span>
<span data-ttu-id="eb899-506">W scenariuszu hello uruchomionych niestandardowych Secure Token Service (STS) tokenu JWT hello zostaną wystawione przez usługę STS niestandardowych hello przy użyciu klucza w konfiguracji symetrycznej lub asymetrycznej.</span><span class="sxs-lookup"><span data-stu-id="eb899-506">For hello scenario of running custom Secure Token Service (STS), hello JWT token will be issued by hello custom STS using either symmetric or asymmetric key.</span></span>

<span data-ttu-id="eb899-507">Witaj przypadek użycia klucza symetrycznego (za pomocą przeglądarki Chrome):</span><span class="sxs-lookup"><span data-stu-id="eb899-507">hello case of using symmetric key (using Chrome):</span></span>

![Uruchomiona STS niestandardowych](./media/media-services-cenc-with-multidrm-access-control/media-services-running-sts1.png)

<span data-ttu-id="eb899-509">Witaj przypadek użycia klucza asymetrycznego za pośrednictwem X509 certyfikatu (przy użyciu nowoczesnych przeglądarka firmy Microsoft).</span><span class="sxs-lookup"><span data-stu-id="eb899-509">hello case of using asymmetric key via an X509 certificate (using Microsoft modern browser).</span></span>

![Uruchomiona STS niestandardowych](./media/media-services-cenc-with-multidrm-access-control/media-services-running-sts2.png)

<span data-ttu-id="eb899-511">W obu hello powyżej przypadkach pozostaje uwierzytelniania użytkownika hello sam — za pomocą usługi Azure AD.</span><span class="sxs-lookup"><span data-stu-id="eb899-511">In both of hello above cases, user authentication stays hello same – through Azure AD.</span></span> <span data-ttu-id="eb899-512">Witaj jedyna różnica polega na tym, że tokeny JWT są wystawiane przez hello STS niestandardowych zamiast usługi Azure AD.</span><span class="sxs-lookup"><span data-stu-id="eb899-512">hello only difference is that JWT tokens are issued by hello custom STS instead of Azure AD.</span></span> <span data-ttu-id="eb899-513">Oczywiście, podczas konfigurowania ochrony CENC dynamicznych, hello ograniczenia usługi dostarczania licencji określa hello typ tokenu JWT klucza w konfiguracji symetrycznej lub asymetrycznej.</span><span class="sxs-lookup"><span data-stu-id="eb899-513">Of course, when configuring dynamic CENC protection, hello restriction of license delivery service specifies hello type of JWT token, either symmetric or asymmetric key.</span></span>

## <a name="summary"></a><span data-ttu-id="eb899-514">Podsumowanie</span><span class="sxs-lookup"><span data-stu-id="eb899-514">Summary</span></span>
<span data-ttu-id="eb899-515">W tym dokumencie omówiono CENC z kilku native DRM i kontroli dostępu za pośrednictwem tokenu uwierzytelniania: projekt i jego wdrożenie za pomocą usługi Azure, Azure Media Services i usługi Azure Media Player.</span><span class="sxs-lookup"><span data-stu-id="eb899-515">In this document, we discussed CENC with multi-native-DRM and access control via token authentication: its design and its implementation using Azure, Azure Media Services and Azure Media Player.</span></span>

* <span data-ttu-id="eb899-516">Odwołania projektu są prezentowane zawierający wszystkie składniki wymagane hello w podsystemie DRM/CENC;</span><span class="sxs-lookup"><span data-stu-id="eb899-516">A reference design is presented which contains all hello necessary components in a DRM/CENC subsystem;</span></span>
* <span data-ttu-id="eb899-517">Odwołanie do implementacji na platformie Azure, Azure Media Services i Azure Media Player.</span><span class="sxs-lookup"><span data-stu-id="eb899-517">A reference implementation on Azure, Azure Media Services and Azure Media Player.</span></span>
* <span data-ttu-id="eb899-518">Omówiono także niektóre tematy, które są bezpośrednio związane z hello projektowania i implementacji.</span><span class="sxs-lookup"><span data-stu-id="eb899-518">Some topics directly involved in hello design and implementation are also discussed.</span></span>

## <a name="media-services-learning-paths"></a><span data-ttu-id="eb899-519">Ścieżki szkoleniowe dotyczące usługi Media Services</span><span class="sxs-lookup"><span data-stu-id="eb899-519">Media Services learning paths</span></span>
[!INCLUDE [media-services-learning-paths-include](../../includes/media-services-learning-paths-include.md)]

## <a name="provide-feedback"></a><span data-ttu-id="eb899-520">Przekazywanie opinii</span><span class="sxs-lookup"><span data-stu-id="eb899-520">Provide feedback</span></span>
[!INCLUDE [media-services-user-voice-include](../../includes/media-services-user-voice-include.md)]
 
