---
title: "aaaAzure Media Services na żywo pofragmentowane MP4 pozyskiwania specyfikacji | Dokumentacja firmy Microsoft"
description: "Określenie tej wartości opisano hello protokołu i format pofragmentowane na podstawie MP4 na żywo przesyłania strumieniowego wprowadzanie do usługi Azure Media Services. Można użyć usługi Azure Media Services toostream wydarzeń na żywo i emisji zawartości w czasie rzeczywistym za pomocą jako hello chmury platformy Azure. W tym dokumencie omówiono również najlepsze rozwiązania dotyczące tworzenia wysoce nadmiarowe i niezawodne na żywo pozyskiwania mechanizmów."
services: media-services
documentationcenter: 
author: cenkdin
manager: cfowler
editor: 
ms.assetid: 43fac263-a5ea-44af-8dd5-cc88e423b4de
ms.service: media-services
ms.workload: media
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/29/2017
ms.author: cenkd;juliako
ms.openlocfilehash: 0c191f8d6c5a595621feaba0e571fb984b666f34
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="azure-media-services-fragmented-mp4-live-ingest-specification"></a><span data-ttu-id="21f0d-105">Specyfikacja pozyskiwania Azure Media Services MP4 pofragmentowane na żywo</span><span class="sxs-lookup"><span data-stu-id="21f0d-105">Azure Media Services fragmented MP4 live ingest specification</span></span>
<span data-ttu-id="21f0d-106">Określenie tej wartości opisano hello protokołu i format pofragmentowane na podstawie MP4 na żywo przesyłania strumieniowego wprowadzanie do usługi Azure Media Services.</span><span class="sxs-lookup"><span data-stu-id="21f0d-106">This specification describes hello protocol and format for fragmented MP4-based live streaming ingestion for Azure Media Services.</span></span> <span data-ttu-id="21f0d-107">Usługa Media Services udostępnia usługi transmisji strumieniowej na żywo klientów może używać toostream wydarzeń na żywo i emisji zawartości w czasie rzeczywistym za pomocą jako hello chmury platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="21f0d-107">Media Services provides a live streaming service that customers can use toostream live events and broadcast content in real time by using Azure as hello cloud platform.</span></span> <span data-ttu-id="21f0d-108">W tym dokumencie omówiono również najlepsze rozwiązania dotyczące tworzenia wysoce nadmiarowe i niezawodne na żywo pozyskiwania mechanizmów.</span><span class="sxs-lookup"><span data-stu-id="21f0d-108">This document also discusses best practices for building highly redundant and robust live ingest mechanisms.</span></span>

## <a name="1-conformance-notation"></a><span data-ttu-id="21f0d-109">1. Notacja zgodność</span><span class="sxs-lookup"><span data-stu-id="21f0d-109">1. Conformance notation</span></span>
<span data-ttu-id="21f0d-110">Hello słów kluczowych "musi," ",""Wymagane", "SHALL", "są nie może," "SHOULD", "Nie powinien," "Zalecane", "Może" i "OPTIONAL", w tym dokumencie są toobe interpretowany jako opisano w dokumencie RFC 2119.</span><span class="sxs-lookup"><span data-stu-id="21f0d-110">hello key words "MUST," "MUST NOT," "REQUIRED," "SHALL," "SHALL NOT," "SHOULD," "SHOULD NOT," "RECOMMENDED," "MAY," and "OPTIONAL" in this document are toobe interpreted as they are described in RFC 2119.</span></span>

## <a name="2-service-diagram"></a><span data-ttu-id="21f0d-111">2. Diagram usługi</span><span class="sxs-lookup"><span data-stu-id="21f0d-111">2. Service diagram</span></span>
<span data-ttu-id="21f0d-112">Witaj Poniższy diagram przedstawia hello Architektura wysokiego poziomu hello na żywo, przesyłania strumieniowego usługi Media Services:</span><span class="sxs-lookup"><span data-stu-id="21f0d-112">hello following diagram shows hello high-level architecture of hello live streaming service in Media Services:</span></span>

1. <span data-ttu-id="21f0d-113">Koder na żywo wypycha toochannels źródeł danych na żywo, które są tworzone i udostępniane za pośrednictwem hello Azure Media Services SDK.</span><span class="sxs-lookup"><span data-stu-id="21f0d-113">A live encoder pushes live feeds toochannels that are created and provisioned via hello Azure Media Services SDK.</span></span>
2. <span data-ttu-id="21f0d-114">Kanały, programów i punktów końcowych przesyłania strumieniowego w dojścia usługi Media Services wszystkie hello live streaming funkcje, w tym pozyskiwanie, formatowanie, chmury DVR, zabezpieczenia, skalowalność i nadmiarowość.</span><span class="sxs-lookup"><span data-stu-id="21f0d-114">Channels, programs, and streaming endpoints in Media Services handle all hello live streaming functionalities, including ingest, formatting, cloud DVR, security, scalability, and redundancy.</span></span>
3. <span data-ttu-id="21f0d-115">Opcjonalnie klienci mogą wybrać toodeploy warstwa Azure Content Delivery Network między hello punktu końcowego i powitania klienta z punktów końcowych przesyłania strumieniowego.</span><span class="sxs-lookup"><span data-stu-id="21f0d-115">Optionally, customers can choose toodeploy an Azure Content Delivery Network layer between hello streaming endpoint and hello client endpoints.</span></span>
4. <span data-ttu-id="21f0d-116">Strumień punktów końcowych klienta z punktu końcowego przesyłania strumieniowego przy użyciu protokołów HTTP adaptacyjne przesyłanie strumieniowe hello.</span><span class="sxs-lookup"><span data-stu-id="21f0d-116">Client endpoints stream from hello streaming endpoint by using HTTP Adaptive Streaming protocols.</span></span> <span data-ttu-id="21f0d-117">Przykładami Microsoft Smooth Streaming, dynamiczne adaptacyjne przesyłanie strumieniowe za pośrednictwem protokołu HTTP (DASH lub MPEG-DASH) i Apple HTTP Live Streaming (HLS).</span><span class="sxs-lookup"><span data-stu-id="21f0d-117">Examples include Microsoft Smooth Streaming, Dynamic Adaptive Streaming over HTTP (DASH, or MPEG-DASH), and Apple HTTP Live Streaming (HLS).</span></span>

![pozyskiwania przepływu][image1]

## <a name="3-bitstream-format--iso-14496-12-fragmented-mp4"></a><span data-ttu-id="21f0d-119">3. Format Bitstream — ISO 14496 12 pofragmentowany plik MP4</span><span class="sxs-lookup"><span data-stu-id="21f0d-119">3. Bitstream format – ISO 14496-12 fragmented MP4</span></span>
<span data-ttu-id="21f0d-120">Hello formatu podczas transmisji na żywo przesyłanie strumieniowe pozyskiwania omówione w tym dokumencie jest oparta na [ISO-14496-12].</span><span class="sxs-lookup"><span data-stu-id="21f0d-120">hello wire format for live streaming ingest discussed in this document is based on [ISO-14496-12].</span></span> <span data-ttu-id="21f0d-121">Aby uzyskać szczegółowy opis pofragmentowane formacie MP4 i rozszerzeń zarówno dla plików wideo na żądanie i wprowadzanie transmisji strumieniowej na żywo, zobacz [[MS-SSTR]](http://msdn.microsoft.com/library/ff469518.aspx).</span><span class="sxs-lookup"><span data-stu-id="21f0d-121">For a detailed explanation of fragmented MP4 format and extensions both for video-on-demand files and live streaming ingestion, see [[MS-SSTR]](http://msdn.microsoft.com/library/ff469518.aspx).</span></span>

### <a name="live-ingest-format-definitions"></a><span data-ttu-id="21f0d-122">Na żywo pozyskiwania definicje formatu</span><span class="sxs-lookup"><span data-stu-id="21f0d-122">Live ingest format definitions</span></span>
<span data-ttu-id="21f0d-123">Witaj Poniższa lista zawiera opis format specjalnych definicji, które są stosowane toolive pozyskiwania do usługi Azure Media Services:</span><span class="sxs-lookup"><span data-stu-id="21f0d-123">hello following list describes special format definitions that apply toolive ingest into Azure Media Services:</span></span>

1. <span data-ttu-id="21f0d-124">Witaj **ftyp zawiera informacje**, **aktywne okno manifestu serwera**, i **moov** pola muszą być wysyłane z każdym żądaniem (HTTP POST).</span><span class="sxs-lookup"><span data-stu-id="21f0d-124">hello **ftyp**, **Live Server Manifest Box**, and **moov** boxes MUST be sent with each request (HTTP POST).</span></span> <span data-ttu-id="21f0d-125">Te pola muszą być wysyłane na początku hello hello strumienia i pozyskiwania w dowolnym momencie kodera hello należy nawiązać ponownie połączenie tooresume strumienia.</span><span class="sxs-lookup"><span data-stu-id="21f0d-125">These boxes MUST be sent at hello beginning of hello stream and any time hello encoder must reconnect tooresume stream ingest.</span></span> <span data-ttu-id="21f0d-126">Aby uzyskać więcej informacji zobacz sekcja 6 w [1].</span><span class="sxs-lookup"><span data-stu-id="21f0d-126">For more information, see Section 6 in [1].</span></span>
2. <span data-ttu-id="21f0d-127">3.3.2 części [1] określa opcjonalne pola o nazwie **StreamManifestBox** dla pozyskiwania na żywo.</span><span class="sxs-lookup"><span data-stu-id="21f0d-127">Section 3.3.2 in [1] defines an optional box called **StreamManifestBox** for live ingest.</span></span> <span data-ttu-id="21f0d-128">Powodu logiki routingu toohello usługi równoważenia obciążenia Azure hello przy użyciu tego pola jest przestarzały.</span><span class="sxs-lookup"><span data-stu-id="21f0d-128">Due toohello routing logic of hello Azure load balancer, using this box is deprecated.</span></span> <span data-ttu-id="21f0d-129">pole Hello nie powinny znajdować się podczas wprowadzania do usługi Media Services.</span><span class="sxs-lookup"><span data-stu-id="21f0d-129">hello box SHOULD NOT be present when ingesting into Media Services.</span></span> <span data-ttu-id="21f0d-130">Jeśli to pole jest obecne, Media Services dyskretnie zignoruje ją.</span><span class="sxs-lookup"><span data-stu-id="21f0d-130">If this box is present, Media Services silently ignores it.</span></span>
3. <span data-ttu-id="21f0d-131">Witaj **TrackFragmentExtendedHeaderBox** pola zdefiniowane w 3.2.3.2 [1] musi być obecny dla każdego fragmentu.</span><span class="sxs-lookup"><span data-stu-id="21f0d-131">hello **TrackFragmentExtendedHeaderBox** box defined in 3.2.3.2 in [1] MUST be present for each fragment.</span></span>
4. <span data-ttu-id="21f0d-132">W wersji 2 hello **TrackFragmentExtendedHeaderBox** pole powinno być używane toogenerate nośnika segmentów, które mają identyczne adresów URL w wielu centrach danych.</span><span class="sxs-lookup"><span data-stu-id="21f0d-132">Version 2 of hello **TrackFragmentExtendedHeaderBox** box SHOULD be used toogenerate media segments that have identical URLs in multiple datacenters.</span></span> <span data-ttu-id="21f0d-133">Witaj fragmentu indeksu pole jest wymagane w trybie failover między datacenter opartego na indeksie formatów przesyłania strumieniowego, takich jak Apple HLS i MPEG-DASH opartego na indeksie.</span><span class="sxs-lookup"><span data-stu-id="21f0d-133">hello fragment index field is REQUIRED for cross-datacenter failover of index-based streaming formats such as Apple HLS and index-based MPEG-DASH.</span></span> <span data-ttu-id="21f0d-134">tooenable centrum danych między przejścia w tryb failover hello fragmentu indeksu musi synchronizowane między wieloma koderów i zwiększyć o 1 dla każdego fragmentu nośnika kolejnych nawet przez koder ponownego uruchomienia lub w przypadku awarii.</span><span class="sxs-lookup"><span data-stu-id="21f0d-134">tooenable cross-datacenter failover, hello fragment index MUST be synced across multiple encoders and be increased by 1 for each successive media fragment, even across encoder restarts or failures.</span></span>
5. <span data-ttu-id="21f0d-135">Pole o nazwie definiuje 3.3.6 części [1] **MovieFragmentRandomAccessBox** (**mfra**) mogą być wysyłane na końcu hello na żywo wprowadzanie tooindicate zakończenia elementu strumienia (EOS) toohello kanału.</span><span class="sxs-lookup"><span data-stu-id="21f0d-135">Section 3.3.6 in [1] defines a box called **MovieFragmentRandomAccessBox** (**mfra**) that MAY be sent at hello end of live ingestion tooindicate end-of-stream (EOS) toohello channel.</span></span> <span data-ttu-id="21f0d-136">Z powodu toohello pozyskiwania logiki usługi Media Services przy użyciu EOS jest przestarzałe i hello **mfra** polu dla wprowadzanie na żywo nie mają być wysyłane.</span><span class="sxs-lookup"><span data-stu-id="21f0d-136">Due toohello ingest logic of Media Services, using EOS is deprecated, and hello **mfra** box for live ingestion SHOULD NOT be sent.</span></span> <span data-ttu-id="21f0d-137">Jeśli wysyłane, Media Services dyskretnie zignoruje ją.</span><span class="sxs-lookup"><span data-stu-id="21f0d-137">If sent, Media Services silently ignores it.</span></span> <span data-ttu-id="21f0d-138">Stan hello tooreset hello pozyskiwania punktu, firma Microsoft zaleca użycie [Resetowanie kanału](https://docs.microsoft.com/rest/api/media/operations/channel#reset_channels).</span><span class="sxs-lookup"><span data-stu-id="21f0d-138">tooreset hello state of hello ingest point, we recommend that you use [Channel Reset](https://docs.microsoft.com/rest/api/media/operations/channel#reset_channels).</span></span> <span data-ttu-id="21f0d-139">Zalecamy również użycie [Zatrzymaj Program](https://msdn.microsoft.com/library/azure/dn783463.aspx#stop_programs) tooend prezentacji i strumienia.</span><span class="sxs-lookup"><span data-stu-id="21f0d-139">We also recommend that you use [Program Stop](https://msdn.microsoft.com/library/azure/dn783463.aspx#stop_programs) tooend a presentation and stream.</span></span>
6. <span data-ttu-id="21f0d-140">czas trwania fragmentu Hello MP4 powinna być stała, rozmiar hello tooreduce hello manifesty na kliencie.</span><span class="sxs-lookup"><span data-stu-id="21f0d-140">hello MP4 fragment duration SHOULD be constant, tooreduce hello size of hello client manifests.</span></span> <span data-ttu-id="21f0d-141">Stałe czas trwania fragmentu MP4 także usprawnia heurystyki pobierania klienta przy użyciu hello powtarzania tagów.</span><span class="sxs-lookup"><span data-stu-id="21f0d-141">A constant MP4 fragment duration also improves client download heuristics through hello use of repeat tags.</span></span> <span data-ttu-id="21f0d-142">czas trwania Hello mogą ulegać zmianie toocompensate dla szybkości odtwarzania nie jest liczbą całkowitą.</span><span class="sxs-lookup"><span data-stu-id="21f0d-142">hello duration MAY fluctuate toocompensate for non-integer frame rates.</span></span>
7. <span data-ttu-id="21f0d-143">czas trwania fragmentu Hello MP4 powinna wynosić około 2 do 6 w sekundach.</span><span class="sxs-lookup"><span data-stu-id="21f0d-143">hello MP4 fragment duration SHOULD be between approximately 2 and 6 seconds.</span></span>
8. <span data-ttu-id="21f0d-144">MP4 fragmentu sygnatury czasowe i indeksów (**TrackFragmentExtendedHeaderBox** `fragment_ absolute_ time` i `fragment_index`) powinna odbierane w kolejności rosnącej.</span><span class="sxs-lookup"><span data-stu-id="21f0d-144">MP4 fragment timestamps and indexes (**TrackFragmentExtendedHeaderBox** `fragment_ absolute_ time` and `fragment_index`) SHOULD arrive in increasing order.</span></span> <span data-ttu-id="21f0d-145">Chociaż usługi Media Services jest odporność tooduplicate fragmenty, ograniczył fragmenty tooreorder możliwości zgodnie z toohello nośnika w osi czasu.</span><span class="sxs-lookup"><span data-stu-id="21f0d-145">Although Media Services is resilient tooduplicate fragments, it has limited ability tooreorder fragments according toohello media timeline.</span></span>

## <a name="4-protocol-format--http"></a><span data-ttu-id="21f0d-146">4. Format protokołu — HTTP</span><span class="sxs-lookup"><span data-stu-id="21f0d-146">4. Protocol format – HTTP</span></span>
<span data-ttu-id="21f0d-147">ISO fragmentacji na podstawie MP4 na żywo pozyskiwania dla usługi Media Services używa standardowych długotrwałe POST protokołu HTTP żądania tootransmit zakodowane nośnika danych spakowanego pofragmentowane usługi toohello formacie MP4.</span><span class="sxs-lookup"><span data-stu-id="21f0d-147">ISO fragmented MP4-based live ingest for Media Services uses a standard long-running HTTP POST request tootransmit encoded media data that is packaged in fragmented MP4 format toohello service.</span></span> <span data-ttu-id="21f0d-148">Każdy HTTP POST wysyła kompletna pofragmentowany bitstream MP4 ("strumień"), zaczynając od początku hello z pola nagłówka (**ftyp zawiera informacje**, **aktywne okno manifestu serwera**, i **moov** pola) i kontynuowanie sekwencję fragmenty (**moof** i **mdat** pól).</span><span class="sxs-lookup"><span data-stu-id="21f0d-148">Each HTTP POST sends a complete fragmented MP4 bitstream ("stream"), starting from hello beginning with header boxes (**ftyp**, **Live Server Manifest Box**, and **moov** boxes), and continuing with a sequence of fragments (**moof** and **mdat** boxes).</span></span> <span data-ttu-id="21f0d-149">Aby składni adresu URL dla żądania HTTP POST hello zobacz sekcję 9.2 w [1].</span><span class="sxs-lookup"><span data-stu-id="21f0d-149">For URL syntax for hello HTTP POST request, see section 9.2 in [1].</span></span> <span data-ttu-id="21f0d-150">Przykład Witaj adresu URL przesyłania to:</span><span class="sxs-lookup"><span data-stu-id="21f0d-150">An example of hello POST URL is:</span></span> 

    http://customer.channel.mediaservices.windows.net/ingest.isml/streams(720p)

### <a name="requirements"></a><span data-ttu-id="21f0d-151">Wymagania</span><span class="sxs-lookup"><span data-stu-id="21f0d-151">Requirements</span></span>
<span data-ttu-id="21f0d-152">Poniżej przedstawiono hello szczegółowe wymagania:</span><span class="sxs-lookup"><span data-stu-id="21f0d-152">Here are hello detailed requirements:</span></span>

1. <span data-ttu-id="21f0d-153">Witaj kodera powinien rozpocząć hello emisji, wysyłając żądanie HTTP POST z pustą "treść" (zerowej długości zawartości) przy użyciu hello samego wprowadzanie adresu URL.</span><span class="sxs-lookup"><span data-stu-id="21f0d-153">hello encoder SHOULD start hello broadcast by sending an HTTP POST request with an empty “body” (zero content length) by using hello same ingestion URL.</span></span> <span data-ttu-id="21f0d-154">Może to ułatwić kodera hello szybko wykryć, czy punkt końcowy na żywo wprowadzanie hello jest prawidłowy, a jeśli ma żadnego uwierzytelniania lub inne warunki wymagane.</span><span class="sxs-lookup"><span data-stu-id="21f0d-154">This can help hello encoder quickly detect whether hello live ingestion endpoint is valid, and if there are any authentication or other conditions required.</span></span> <span data-ttu-id="21f0d-155">Dla protokołu HTTP powitania serwera nie odesłania odpowiedzi HTTP do momentu hello całego, w tym treść wpisu hello, zostanie odebrane żądanie.</span><span class="sxs-lookup"><span data-stu-id="21f0d-155">Per HTTP protocol, hello server can't send back an HTTP response until hello entire request, including hello POST body, is received.</span></span> <span data-ttu-id="21f0d-156">Charakter długotrwałe hello wydarzenia na żywo bez tego kroku kodera hello może nie być toodetect stanie błędu do momentu zakończenia wszystkich danych hello wysyłania.</span><span class="sxs-lookup"><span data-stu-id="21f0d-156">Given hello long-running nature of a live event, without this step, hello encoder might not be able toodetect any error until it finishes sending all hello data.</span></span>
2. <span data-ttu-id="21f0d-157">Koder Hello musi obsługiwać żadnych błędów lub wezwań do uwierzytelnienia z powodu (1).</span><span class="sxs-lookup"><span data-stu-id="21f0d-157">hello encoder MUST handle any errors or authentication challenges because of (1).</span></span> <span data-ttu-id="21f0d-158">Jeśli (1) zakończy się pomyślnie z odpowiedzi 200, będzie kontynuowane.</span><span class="sxs-lookup"><span data-stu-id="21f0d-158">If (1) succeeds with a 200 response, continue.</span></span>
3. <span data-ttu-id="21f0d-159">Koder Hello musi rozpoczynać nowe żądanie HTTP POST hello pofragmentowany strumień MP4.</span><span class="sxs-lookup"><span data-stu-id="21f0d-159">hello encoder MUST start a new HTTP POST request with hello fragmented MP4 stream.</span></span> <span data-ttu-id="21f0d-160">ładunek Hello musi rozpoczynać się od pola nagłówka hello, następuje fragmenty.</span><span class="sxs-lookup"><span data-stu-id="21f0d-160">hello payload MUST start with hello header boxes, followed by fragments.</span></span> <span data-ttu-id="21f0d-161">Należy pamiętać, że hello **ftyp zawiera informacje**, **aktywne okno manifestu serwera**, i **moov** pola (w podanej kolejności) muszą być wysyłane z każdym żądaniem, nawet jeśli koder hello należy nawiązać ponownie połączenie, ponieważ hello poprzednie żądanie zostało przerwane przed toohello koniec strumienia hello.</span><span class="sxs-lookup"><span data-stu-id="21f0d-161">Note that hello **ftyp**, **Live Server Manifest Box**, and **moov** boxes (in this order) MUST be sent with each request, even if hello encoder must reconnect because hello previous request was terminated prior toohello end of hello stream.</span></span> 
4. <span data-ttu-id="21f0d-162">Koder Hello musi używać przekazywania kodowanie transferu pakietowego, ponieważ jest niemożliwe toopredict hello całej zawartości długości hello na żywo zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="21f0d-162">hello encoder MUST use chunked transfer encoding for uploading, because it’s impossible toopredict hello entire content length of hello live event.</span></span>
5. <span data-ttu-id="21f0d-163">Po zdarzeń hello umieszczeniu po wysłaniu hello ostatniego fragmentu, koder hello bezpiecznie musi kończyć się transfer hello fragmentaryczne Kodowanie komunikatu sekwencji (większość stosy klienta HTTP jego obsługa automatycznie).</span><span class="sxs-lookup"><span data-stu-id="21f0d-163">When hello event is over, after sending hello last fragment, hello encoder MUST gracefully end hello chunked transfer encoding message sequence (most HTTP client stacks handle it automatically).</span></span> <span data-ttu-id="21f0d-164">Koder Hello musi poczekaj hello usługi tooreturn hello ostatecznej odpowiedzi kod, a następnie przerywania połączenia hello.</span><span class="sxs-lookup"><span data-stu-id="21f0d-164">hello encoder MUST wait for hello service tooreturn hello final response code, and then terminate hello connection.</span></span> 
6. <span data-ttu-id="21f0d-165">Koder Hello nie może używać hello `Events()` rzeczownik zgodnie z opisem w 9.2 w [1] na żywo wprowadzanie do usługi Media Services.</span><span class="sxs-lookup"><span data-stu-id="21f0d-165">hello encoder MUST NOT use hello `Events()` noun as described in 9.2 in [1] for live ingestion into Media Services.</span></span>
7. <span data-ttu-id="21f0d-166">Jeśli kończy żądanie HTTP POST hello lub razy ze TCP błąd toohello przed końcem strumienia hello kodera hello musi wygenerowanie nowego żądania POST, używając nowego połączenia i wykonaj hello powyższych wymagań.</span><span class="sxs-lookup"><span data-stu-id="21f0d-166">If hello HTTP POST request terminates or times out with a TCP error prior toohello end of hello stream, hello encoder MUST issue a new POST request by using a new connection, and follow hello preceding requirements.</span></span> <span data-ttu-id="21f0d-167">Ponadto kodera hello musi ponownie wysłać hello poprzednich dwóch fragmenty MP4 dla każdej ścieżki w strumieniu hello i wznowienie bez wprowadzania brak ciągłości w osi czasu nośnika hello.</span><span class="sxs-lookup"><span data-stu-id="21f0d-167">Additionally, hello encoder MUST resend hello previous two MP4 fragments for each track in hello stream, and resume without introducing a discontinuity in hello media timeline.</span></span> <span data-ttu-id="21f0d-168">Ponowne wysyłanie hello ostatnie dwa fragmenty MP4 dla każdej ścieżki gwarantuje, że jest bez utraty danych.</span><span class="sxs-lookup"><span data-stu-id="21f0d-168">Resending hello last two MP4 fragments for each track ensures that there is no data loss.</span></span> <span data-ttu-id="21f0d-169">Innymi słowy jeśli zawiera strumień audio i wideo ścieżkę, a nie bieżącego żądania POST hello, koder hello należy nawiązać ponownie połączenie i Wyślij ponownie hello ostatnie dwa fragmenty hello ścieżki audio, które wcześniej zostały pomyślnie wysłane, oraz hello ostatnie dwa fragmenty dla Ścieżka wideo Hello, które wcześniej zostały pomyślnie wysłane tooensure, że nie ma bez utraty danych.</span><span class="sxs-lookup"><span data-stu-id="21f0d-169">In other words, if a stream contains both an audio and a video track, and hello current POST request fails, hello encoder must reconnect and resend hello last two fragments for hello audio track, which were previously successfully sent, and hello last two fragments for hello video track, which were previously successfully sent, tooensure that there is no data loss.</span></span> <span data-ttu-id="21f0d-170">Koder Hello muszą zachować "do przodu" bufora fragmentów nośnika, które wysyła go ponownie po wznowieniu połączenia.</span><span class="sxs-lookup"><span data-stu-id="21f0d-170">hello encoder MUST maintain a “forward” buffer of media fragments, which it resends when it reconnects.</span></span>

## <a name="5-timescale"></a><span data-ttu-id="21f0d-171">5. skali czasu</span><span class="sxs-lookup"><span data-stu-id="21f0d-171">5. Timescale</span></span>
<span data-ttu-id="21f0d-172">[[MS-SSTR] ](https://msdn.microsoft.com/library/ff469518.aspx) opisuje hello użycia skali czasu dla **SmoothStreamingMedia** (sekcja 2.2.2.1) **StreamElement** (sekcja 2.2.2.3) **StreamFragmentElement**(Sekcja 2.2.2.6), a **LiveSMIL** (2.2.7.3.1 sekcji).</span><span class="sxs-lookup"><span data-stu-id="21f0d-172">[[MS-SSTR]](https://msdn.microsoft.com/library/ff469518.aspx) describes hello usage of timescale for **SmoothStreamingMedia** (Section 2.2.2.1), **StreamElement** (Section 2.2.2.3), **StreamFragmentElement** (Section 2.2.2.6), and **LiveSMIL** (Section 2.2.7.3.1).</span></span> <span data-ttu-id="21f0d-173">Jeśli nie ma wartości skali czasu hello, hello wartość domyślna używana jest 10 000 000 (10 MHz).</span><span class="sxs-lookup"><span data-stu-id="21f0d-173">If hello timescale value is not present, hello default value used is 10,000,000 (10 MHz).</span></span> <span data-ttu-id="21f0d-174">Mimo że hello Smooth Streaming specyfikacji formatu nie blokuje użycia innych wartości skali czasu, większości implementacji kodera użyć to ustawienie domyślne toogenerate wartość (10 MHz), Smooth Streaming pozyskiwania danych.</span><span class="sxs-lookup"><span data-stu-id="21f0d-174">Although hello Smooth Streaming format specification doesn’t block usage of other timescale values, most encoder implementations use this default value (10 MHz) toogenerate Smooth Streaming ingest data.</span></span> <span data-ttu-id="21f0d-175">Z powodu toohello [dynamicznego tworzenia pakietów Azure Media](media-services-dynamic-packaging-overview.md) funkcji zalecane użycie 90 KHz Skala czasu dla strumieni wideo i 44,1 KHz lub 48.1 KHz dla strumieni audio.</span><span class="sxs-lookup"><span data-stu-id="21f0d-175">Due toohello [Azure Media Dynamic Packaging](media-services-dynamic-packaging-overview.md) feature, we recommend that you use a 90-KHz timescale for video streams and 44.1 KHz or 48.1 KHz for audio streams.</span></span> <span data-ttu-id="21f0d-176">Jeśli wartości różnych skali czasu są używane do różnych strumieni, należy wysłać hello poziomu strumienia w skali czasu.</span><span class="sxs-lookup"><span data-stu-id="21f0d-176">If different timescale values are used for different streams, hello stream-level timescale MUST be sent.</span></span> <span data-ttu-id="21f0d-177">Aby uzyskać więcej informacji, zobacz [[MS-SSTR]](https://msdn.microsoft.com/library/ff469518.aspx).</span><span class="sxs-lookup"><span data-stu-id="21f0d-177">For more information, see [[MS-SSTR]](https://msdn.microsoft.com/library/ff469518.aspx).</span></span>     

## <a name="6-definition-of-stream"></a><span data-ttu-id="21f0d-178">6. Definicja "strumień"</span><span class="sxs-lookup"><span data-stu-id="21f0d-178">6. Definition of “stream”</span></span>
<span data-ttu-id="21f0d-179">Strumień jest podstawowa jednostka hello operacji w wprowadzanie na żywo do tworzenia prezentacji na żywo, obsługę przesyłania strumieniowego trybu failover i scenariusze nadmiarowości.</span><span class="sxs-lookup"><span data-stu-id="21f0d-179">Stream is hello basic unit of operation in live ingestion for composing live presentations, handling streaming failover, and redundancy scenarios.</span></span> <span data-ttu-id="21f0d-180">Strumień jest zdefiniowany jako jeden unikatowy, pofragmentowane bitstream MP4, który może zawierać pojedynczą ścieżkę lub wiele ścieżek.</span><span class="sxs-lookup"><span data-stu-id="21f0d-180">Stream is defined as one unique, fragmented MP4 bitstream that might contain a single track or multiple tracks.</span></span> <span data-ttu-id="21f0d-181">Prezentacja pełnej na żywo może zawierać jeden lub więcej strumieni, w zależności od konfiguracji hello hello koderów na żywo.</span><span class="sxs-lookup"><span data-stu-id="21f0d-181">A full live presentation might contain one or more streams, depending on hello configuration of hello live encoders.</span></span> <span data-ttu-id="21f0d-182">Hello następujące przykłady przedstawiają różne opcje użycia toocompose strumieni prezentacji pełnej na żywo.</span><span class="sxs-lookup"><span data-stu-id="21f0d-182">hello following examples illustrate various options of using streams toocompose a full live presentation.</span></span>

<span data-ttu-id="21f0d-183">**Przykład:**</span><span class="sxs-lookup"><span data-stu-id="21f0d-183">**Example:**</span></span> 

<span data-ttu-id="21f0d-184">Odbiorca chce otrzymywać toocreate na żywo prezentacji przesyłania strumieniowego, która obejmuje powitania po audio/wideo szybkości transmisji bitów:</span><span class="sxs-lookup"><span data-stu-id="21f0d-184">A customer wants toocreate a live streaming presentation that includes hello following audio/video bitrates:</span></span>

<span data-ttu-id="21f0d-185">Wideo — 3000 KB/s, 1500 KB/s, 750 Kb/s</span><span class="sxs-lookup"><span data-stu-id="21f0d-185">Video – 3000 kbps, 1500 kbps, 750 kbps</span></span>

<span data-ttu-id="21f0d-186">Audio – 128 Kb/s</span><span class="sxs-lookup"><span data-stu-id="21f0d-186">Audio – 128 kbps</span></span>

### <a name="option-1-all-tracks-in-one-stream"></a><span data-ttu-id="21f0d-187">Opcja 1: Wszystkie ścieżki w jednego strumienia</span><span class="sxs-lookup"><span data-stu-id="21f0d-187">Option 1: All tracks in one stream</span></span>
<span data-ttu-id="21f0d-188">W przypadku tej opcji jeden koder generuje wszystkie ścieżki audio/wideo i zawiera ich w jednym pofragmentowane bitstream MP4.</span><span class="sxs-lookup"><span data-stu-id="21f0d-188">In this option, a single encoder generates all audio/video tracks, and then bundles them into one fragmented MP4 bitstream.</span></span> <span data-ttu-id="21f0d-189">Witaj pofragmentowany plik MP4, bitstream jest następnie wysyłana za pośrednictwem jednego połączenia HTTP POST.</span><span class="sxs-lookup"><span data-stu-id="21f0d-189">hello fragmented MP4 bitstream is then sent via a single HTTP POST connection.</span></span> <span data-ttu-id="21f0d-190">W tym przykładzie jest tylko jeden strumień w tej prezentacji na żywo.</span><span class="sxs-lookup"><span data-stu-id="21f0d-190">In this example, there is only one stream for this live presentation.</span></span>

![Śledź strumieni-do-jednego.][image2]

### <a name="option-2-each-track-in-a-separate-stream"></a><span data-ttu-id="21f0d-192">Opcja 2: Każdej ścieżki w oddzielnych strumienia</span><span class="sxs-lookup"><span data-stu-id="21f0d-192">Option 2: Each track in a separate stream</span></span>
<span data-ttu-id="21f0d-193">W przypadku tej opcji kodera hello umieszcza jedną ścieżkę bitstream każdego fragmentu MP4 i zapisuje wszystkie strumienie hello przez oddzielne połączenia HTTP.</span><span class="sxs-lookup"><span data-stu-id="21f0d-193">In this option, hello encoder puts one track into each fragment MP4 bitstream, and then posts all of hello streams over separate HTTP connections.</span></span> <span data-ttu-id="21f0d-194">Można to zrobić za pomocą kodera jednego lub wielu koderów.</span><span class="sxs-lookup"><span data-stu-id="21f0d-194">This can be done with one encoder or with multiple encoders.</span></span> <span data-ttu-id="21f0d-195">wprowadzanie na żywo Hello widzi tej prezentacji na żywo, jak składa się z czterech strumieni.</span><span class="sxs-lookup"><span data-stu-id="21f0d-195">hello live ingestion sees this live presentation as composed of four streams.</span></span>

![Śledzi oddzielne strumienie][image3]

### <a name="option-3-bundle-audio-track-with-hello-lowest-bitrate-video-track-into-one-stream"></a><span data-ttu-id="21f0d-197">Opcja 3: Ścieżka audio pakietu z hello najniższa szybkość transmisji bitów Ścieżka wideo do jednego strumienia</span><span class="sxs-lookup"><span data-stu-id="21f0d-197">Option 3: Bundle audio track with hello lowest bitrate video track into one stream</span></span>
<span data-ttu-id="21f0d-198">W przypadku tej opcji powitania klienta wybiera ścieżkę toobundle hello audio z hello Ścieżka wideo najniższa szybkość transmisji bitów w jednym fragmencie MP4 bitstream i pozostaw hello innych dwóch ścieżek wideo jako oddzielne strumienie.</span><span class="sxs-lookup"><span data-stu-id="21f0d-198">In this option, hello customer chooses toobundle hello audio track with hello lowest-bitrate video track in one fragment MP4 bitstream, and leave hello other two video tracks as separate streams.</span></span> 

![Śledzi strumieni audio i wideo][image4]

### <a name="summary"></a><span data-ttu-id="21f0d-200">Podsumowanie</span><span class="sxs-lookup"><span data-stu-id="21f0d-200">Summary</span></span>
<span data-ttu-id="21f0d-201">Nie jest to pełna lista wszystkich opcji wprowadzanie możliwe w ramach tego przykładu.</span><span class="sxs-lookup"><span data-stu-id="21f0d-201">This is not an exhaustive list of all possible ingestion options for this example.</span></span> <span data-ttu-id="21f0d-202">Jak rzeczy zgrupowania ścieżki do strumieni jest obsługiwana przez wprowadzanie na żywo.</span><span class="sxs-lookup"><span data-stu-id="21f0d-202">As a matter of fact, any grouping of tracks into streams is supported by live ingestion.</span></span> <span data-ttu-id="21f0d-203">Klienci i dostawcy kodera można wybrać własne implementacje na podstawie engineering złożoności, pojemność koder i nadmiarowości i zagadnienia dotyczące trybu failover.</span><span class="sxs-lookup"><span data-stu-id="21f0d-203">Customers and encoder vendors can choose their own implementations based on engineering complexity, encoder capacity, and redundancy and failover considerations.</span></span> <span data-ttu-id="21f0d-204">Jednak w większości przypadków jest tylko jedną ścieżkę audio hello całej prezentacji na żywo.</span><span class="sxs-lookup"><span data-stu-id="21f0d-204">However, in most cases, there is only one audio track for hello entire live presentation.</span></span> <span data-ttu-id="21f0d-205">Tak jego ważne tooensure hello healthiness z hello pozyskiwania strumienia, który zawiera hello ścieżki audio. Ta kwestia często powoduje umieszczenie hello ścieżki audio w jego własnej strumienia (jak opcja 2) lub funkcję tworzenia pakietów z hello Ścieżka wideo najniższa szybkość transmisji bitów (jak opcja 3).</span><span class="sxs-lookup"><span data-stu-id="21f0d-205">So, it’s important tooensure hello healthiness of hello ingest stream that contains hello audio track. This consideration often results in putting hello audio track in its own stream (as in Option 2) or bundling it with hello lowest-bitrate video track (as in Option 3).</span></span> <span data-ttu-id="21f0d-206">Ponadto dla lepszej nadmiarowość i odporność na uszkodzenia, wysyłanie hello tej samej ścieżki audio w dwóch różnych strumieni (opcja 2 z nadmiarowe ścieżki audio) lub ścieżkę audio hello powiązanego z co najmniej dwie ścieżki wideo hello najniższa szybkość transmisji bitów (opcja 3 o audio powiązane w w co najmniej dwóch strumieni wideo) zdecydowanie zaleca się na żywo pozyskiwania do usługi Media Services.</span><span class="sxs-lookup"><span data-stu-id="21f0d-206">Also, for better redundancy and fault tolerance, sending hello same audio track in two different streams (Option 2 with redundant audio tracks) or bundling hello audio track with at least two of hello lowest-bitrate video tracks (Option 3 with audio bundled in at least two video streams) is highly recommended for live ingest into Media Services.</span></span>

## <a name="7-service-failover"></a><span data-ttu-id="21f0d-207">7. Usługa trybu failover</span><span class="sxs-lookup"><span data-stu-id="21f0d-207">7. Service failover</span></span>
<span data-ttu-id="21f0d-208">Podany charakter hello transmisja strumieniowa na żywo obsługę pracy awaryjnej dobrej jest istotne dla zapewnienia dostępności hello hello usługi.</span><span class="sxs-lookup"><span data-stu-id="21f0d-208">Given hello nature of live streaming, good failover support is critical for ensuring hello availability of hello service.</span></span> <span data-ttu-id="21f0d-209">Usługa Media Services jest zaprojektowana toohandle różnego typu awarii, w tym błędy sieci, serwer błędów i problemów z magazynowaniem.</span><span class="sxs-lookup"><span data-stu-id="21f0d-209">Media Services is designed toohandle various types of failures, including network errors, server errors, and storage issues.</span></span> <span data-ttu-id="21f0d-210">Gdy jest używany w połączeniu z logiką prawidłowego trybu failover z hello strony kodera na żywo, klientów można osiągnąć wysoce niezawodne usługa transmisji strumieniowej na żywo z hello chmury.</span><span class="sxs-lookup"><span data-stu-id="21f0d-210">When used in conjunction with proper failover logic from hello live encoder side, customers can achieve a highly reliable live streaming service from hello cloud.</span></span>

<span data-ttu-id="21f0d-211">W tej sekcji omówiono scenariuszach pracy awaryjnej usługi.</span><span class="sxs-lookup"><span data-stu-id="21f0d-211">In this section, we discuss service failover scenarios.</span></span> <span data-ttu-id="21f0d-212">W takim przypadku niepowodzenia hello sytuacji gdzieś w ramach usługi hello i ujawnia się jako błąd sieciowy.</span><span class="sxs-lookup"><span data-stu-id="21f0d-212">In this case, hello failure happens somewhere within hello service, and it manifests itself as a network error.</span></span> <span data-ttu-id="21f0d-213">Poniżej przedstawiono kilka zaleceń dla implementacji kodera hello obsługę pracy awaryjnej usługi:</span><span class="sxs-lookup"><span data-stu-id="21f0d-213">Here are some recommendations for hello encoder implementation for handling service failover:</span></span>

1. <span data-ttu-id="21f0d-214">Użyj limitu 10 sekundy do nawiązywania połączeń TCP hello.</span><span class="sxs-lookup"><span data-stu-id="21f0d-214">Use a 10-second timeout for establishing hello TCP connection.</span></span> <span data-ttu-id="21f0d-215">Jeśli próba tooestablish hello połączenia trwa dłużej niż 10 sekund, przerwać hello operację i spróbuj ponownie.</span><span class="sxs-lookup"><span data-stu-id="21f0d-215">If an attempt tooestablish hello connection takes longer than 10 seconds, abort hello operation and try again.</span></span> 
2. <span data-ttu-id="21f0d-216">Użyj krótki limit czasu wysyłania fragmentów komunikatu żądania hello HTTP.</span><span class="sxs-lookup"><span data-stu-id="21f0d-216">Use a short timeout for sending hello HTTP request message chunks.</span></span> <span data-ttu-id="21f0d-217">Jeśli hello docelowy MP4 fragmentu duration N sekund, użyj limit czasu wysyłania, od N do 2 N sekund; na przykład jeśli czas trwania fragmentu MP4 hello 6 sekund, Użyj limitu czasu w sekundach too12 6.</span><span class="sxs-lookup"><span data-stu-id="21f0d-217">If hello target MP4 fragment duration is N seconds, use a send timeout between N and 2 N seconds; for example, if hello MP4 fragment duration is 6 seconds, use a timeout of 6 too12 seconds.</span></span> <span data-ttu-id="21f0d-218">Jeśli zostanie przekroczony limit czasu, resetowania hello połączenia, Otwórz nowe połączenie i Wznów strumienia pozyskiwania na powitania nowego połączenia.</span><span class="sxs-lookup"><span data-stu-id="21f0d-218">If a timeout occurs, reset hello connection, open a new connection, and resume stream ingest on hello new connection.</span></span> 
3. <span data-ttu-id="21f0d-219">Obsługa stopniowego buforu, który ma hello ostatnie dwa fragmenty dla każdej ścieżki wysłanych pomyślnie i całkowicie toohello usługi.</span><span class="sxs-lookup"><span data-stu-id="21f0d-219">Maintain a rolling buffer that has hello last two fragments for each track that were successfully and completely sent toohello service.</span></span>  <span data-ttu-id="21f0d-220">Jeśli hello żądanie HTTP POST dla strumienia zostało zakończone lub upłynął jej czas przed toohello koniec strumienia hello, otworzyć nowe połączenie i rozpocząć kolejnego żądania HTTP POST, wysłania nagłówków strumienia hello Wyślij ponownie hello ostatnie dwa fragmenty dla każdej ścieżki i wznowić strumienia hello bez Prezentacja brak ciągłości w osi czasu nośnika hello.</span><span class="sxs-lookup"><span data-stu-id="21f0d-220">If hello HTTP POST request for a stream is terminated or times out prior toohello end of hello stream, open a new connection and begin another HTTP POST request, resend hello stream headers, resend hello last two fragments for each track, and resume hello stream without introducing a discontinuity in hello media timeline.</span></span> <span data-ttu-id="21f0d-221">Zmniejsza hello ryzyko utraty danych.</span><span class="sxs-lookup"><span data-stu-id="21f0d-221">This reduces hello chance of data loss.</span></span>
4. <span data-ttu-id="21f0d-222">Firma Microsoft zaleca tego kodera hello nie Ogranicz liczbę ponownych prób tooestablish połączenie hello lub wznowić przesyłania strumieniowego po wystąpieniu błędu TCP.</span><span class="sxs-lookup"><span data-stu-id="21f0d-222">We recommend that hello encoder does NOT limit hello number of retries tooestablish a connection or resume streaming after a TCP error occurs.</span></span>
5. <span data-ttu-id="21f0d-223">Po wystąpieniu błędu TCP:</span><span class="sxs-lookup"><span data-stu-id="21f0d-223">After a TCP error:</span></span>
  
    <span data-ttu-id="21f0d-224">a.</span><span class="sxs-lookup"><span data-stu-id="21f0d-224">a.</span></span> <span data-ttu-id="21f0d-225">bieżące połączenie Hello muszą zostać zamknięte, a nowe połączenie musi zostać utworzony dla nowego żądania HTTP POST.</span><span class="sxs-lookup"><span data-stu-id="21f0d-225">hello current connection MUST be closed, and a new connection MUST be created for a new HTTP POST request.</span></span>

    <span data-ttu-id="21f0d-226">b.</span><span class="sxs-lookup"><span data-stu-id="21f0d-226">b.</span></span> <span data-ttu-id="21f0d-227">Witaj nowe HTTP POST adres URL musi być hello tak samo jak hello początkowego adresu URL przesyłania.</span><span class="sxs-lookup"><span data-stu-id="21f0d-227">hello new HTTP POST URL MUST be hello same as hello initial POST URL.</span></span>
  
    <span data-ttu-id="21f0d-228">c.</span><span class="sxs-lookup"><span data-stu-id="21f0d-228">c.</span></span> <span data-ttu-id="21f0d-229">Hello nowe HTTP POST musi zawierać nagłówki strumienia (**ftyp zawiera informacje**, **aktywne okno manifestu serwera**, i **moov** pól), które są identyczne toohello strumienia nagłówków w hello początkowa POST.</span><span class="sxs-lookup"><span data-stu-id="21f0d-229">hello new HTTP POST MUST include stream headers (**ftyp**, **Live Server Manifest Box**, and **moov** boxes) that are identical toohello stream headers in hello initial POST.</span></span>
  
    <span data-ttu-id="21f0d-230">d.</span><span class="sxs-lookup"><span data-stu-id="21f0d-230">d.</span></span> <span data-ttu-id="21f0d-231">ostatnie dwa fragmenty Hello wysłane dla każdej ścieżki, należy ponownie wysłać i przesyłania strumieniowego wznowienia bez wprowadzania brak ciągłości w osi czasu nośnika hello.</span><span class="sxs-lookup"><span data-stu-id="21f0d-231">hello last two fragments sent for each track must be resent, and streaming must resume without introducing a discontinuity in hello media timeline.</span></span> <span data-ttu-id="21f0d-232">Hello sygnatury czasowe fragmentu MP4 należy zwiększyć stale, nawet przez żądania HTTP POST.</span><span class="sxs-lookup"><span data-stu-id="21f0d-232">hello MP4 fragment timestamps must increase continuously, even across HTTP POST requests.</span></span>
6. <span data-ttu-id="21f0d-233">Koder Hello powinien przerwanie hello żądanie HTTP POST, jeśli dane nie są wysyłane z szybkością proporcjonalnie do czasu trwania fragmentu MP4 hello.</span><span class="sxs-lookup"><span data-stu-id="21f0d-233">hello encoder SHOULD terminate hello HTTP POST request if data is not being sent at a rate commensurate with hello MP4 fragment duration.</span></span>  <span data-ttu-id="21f0d-234">Żądanie HTTP POST, który nie będzie przesyłał dane mogą uniemożliwić szybko odłączanie kodera hello w zdarzeniu hello aktualizacji usługi Media Services.</span><span class="sxs-lookup"><span data-stu-id="21f0d-234">An HTTP POST request that does not send data can prevent Media Services from quickly disconnecting from hello encoder in hello event of a service update.</span></span> <span data-ttu-id="21f0d-235">Z tego powodu hello HTTP POST do rozrzedzonych ścieżki (sygnał ad) powinna być krótkotrwały i przerywa jak fragmentu rozrzedzonych hello są wysyłane.</span><span class="sxs-lookup"><span data-stu-id="21f0d-235">For this reason, hello HTTP POST for sparse (ad signal) tracks SHOULD be short-lived, terminating as soon as hello sparse fragment is sent.</span></span>

## <a name="8-encoder-failover"></a><span data-ttu-id="21f0d-236">8. Koder trybu failover</span><span class="sxs-lookup"><span data-stu-id="21f0d-236">8. Encoder failover</span></span>
<span data-ttu-id="21f0d-237">Koder pracy awaryjnej jest hello drugiego typu scenariusz trybu failover, który wymaga toobe skierowane do dostarczania transmisji strumieniowej na żywo na trasie.</span><span class="sxs-lookup"><span data-stu-id="21f0d-237">Encoder failover is hello second type of failover scenario that needs toobe addressed for end-to-end live streaming delivery.</span></span> <span data-ttu-id="21f0d-238">W tym scenariuszu hello wystąpi błąd po stronie kodera hello.</span><span class="sxs-lookup"><span data-stu-id="21f0d-238">In this scenario, hello error condition occurs on hello encoder side.</span></span> 

![Koder trybu failover][image5]

<span data-ttu-id="21f0d-240">powitania od oczekiwań się punkt końcowy na żywo wprowadzanie hello w przypadku pracy awaryjnej kodera:</span><span class="sxs-lookup"><span data-stu-id="21f0d-240">hello following expectations apply from hello live ingestion endpoint when encoder failover happens:</span></span>

1. <span data-ttu-id="21f0d-241">Nowe wystąpienie kodera należy utworzyć toocontinue przesyłania strumieniowego, jak pokazano na diagramie hello (strumienia wideo z linii kreskowanej k 3000).</span><span class="sxs-lookup"><span data-stu-id="21f0d-241">A new encoder instance SHOULD be created toocontinue streaming, as illustrated in hello diagram (Stream for 3000k video, with dashed line).</span></span>
2. <span data-ttu-id="21f0d-242">Koder nowe Hello musi Użyj hello sam adres URL dla metody POST protokołu HTTP żądania jako hello nie wystąpienia.</span><span class="sxs-lookup"><span data-stu-id="21f0d-242">hello new encoder MUST use hello same URL for HTTP POST requests as hello failed instance.</span></span>
3. <span data-ttu-id="21f0d-243">Hello kodera nowego żądania POST musi zawierać hello sam pofragmentowany pola nagłówka MP4 jako hello wystąpienia nie powiodło się.</span><span class="sxs-lookup"><span data-stu-id="21f0d-243">hello new encoder’s POST request MUST include hello same fragmented MP4 header boxes as hello failed instance.</span></span>
4. <span data-ttu-id="21f0d-244">Koder nowe Hello musi prawidłowo zsynchronizowane z wszystkie inne uruchomione koderów dla hello tego samego toogenerate prezentacji na żywo zsynchronizowane przykłady audio i wideo z granice wyrównany fragmentu.</span><span class="sxs-lookup"><span data-stu-id="21f0d-244">hello new encoder MUST be properly synced with all other running encoders for hello same live presentation toogenerate synced audio/video samples with aligned fragment boundaries.</span></span>
5. <span data-ttu-id="21f0d-245">Witaj nowego strumienia musi być semantycznie równoważne z poprzednich strumienia hello i wymienne poziomach hello nagłówka i fragmentu.</span><span class="sxs-lookup"><span data-stu-id="21f0d-245">hello new stream MUST be semantically equivalent with hello previous stream, and interchangeable at hello header and fragment levels.</span></span>
6. <span data-ttu-id="21f0d-246">Koder nowe Hello należy spróbować toominimize utraty danych.</span><span class="sxs-lookup"><span data-stu-id="21f0d-246">hello new encoder SHOULD try toominimize data loss.</span></span> <span data-ttu-id="21f0d-247">Witaj `fragment_absolute_time` i `fragment_index` nośnika fragmenty należy zwiększyć z punktu hello których ostatnio zatrzymano hello kodera.</span><span class="sxs-lookup"><span data-stu-id="21f0d-247">hello `fragment_absolute_time` and `fragment_index` of media fragments SHOULD increase from hello point where hello encoder last stopped.</span></span> <span data-ttu-id="21f0d-248">Witaj `fragment_absolute_time` i `fragment_index` należy zwiększyć w sposób ciągły, ale jest dopuszczalna toointroduce brak ciągłości, jeśli to konieczne.</span><span class="sxs-lookup"><span data-stu-id="21f0d-248">hello `fragment_absolute_time` and `fragment_index` SHOULD increase in a continuous manner, but it is permissible toointroduce a discontinuity, if necessary.</span></span> <span data-ttu-id="21f0d-249">Usługi Media Services ignoruje fragmentów, które ma już odbierane i przetwarzane, tak aby lepiej tooerr po stronie powitania ponowne wysyłanie fragmenty niż przerw toointroduce hello osi czasu z nośnika.</span><span class="sxs-lookup"><span data-stu-id="21f0d-249">Media Services ignores fragments that it has already received and processed, so it's better tooerr on hello side of resending fragments than toointroduce discontinuities in hello media timeline.</span></span> 

## <a name="9-encoder-redundancy"></a><span data-ttu-id="21f0d-250">9. nadmiarowość kodera</span><span class="sxs-lookup"><span data-stu-id="21f0d-250">9. Encoder redundancy</span></span>
<span data-ttu-id="21f0d-251">Krytyczne dla niektórych wydarzeń na żywo że żądanie nawet wyższej dostępności i jakości obsługi, zaleca się używać nadmiarowych koderów aktywny aktywny tooachieve płynnego trybu failover bez utraty danych.</span><span class="sxs-lookup"><span data-stu-id="21f0d-251">For certain critical live events that demand even higher availability and quality of experience, we recommended that you use active-active redundant encoders tooachieve seamless failover with no data loss.</span></span>

![nadmiarowość kodera][image6]

<span data-ttu-id="21f0d-253">Jak pokazano na tym diagramie, dwie grupy koderów wypchnąć dwie kopie każdego strumienia jednocześnie do hello usługi na żywo.</span><span class="sxs-lookup"><span data-stu-id="21f0d-253">As illustrated in this diagram, two groups of encoders push two copies of each stream simultaneously into hello live service.</span></span> <span data-ttu-id="21f0d-254">Ta konfiguracja jest obsługiwana, ponieważ usługi Media Services można odfiltrować zduplikowane fragmenty oparte na sygnatury czasowej ID i fragment strumienia.</span><span class="sxs-lookup"><span data-stu-id="21f0d-254">This setup is supported because Media Services can filter out duplicate fragments based on stream ID and fragment timestamp.</span></span> <span data-ttu-id="21f0d-255">Witaj wynikowy strumień na żywo i archiwum jest pojedynczej kopii wszystkich strumieni hello będący hello najlepsze możliwe agregacji z hello dwóch źródeł.</span><span class="sxs-lookup"><span data-stu-id="21f0d-255">hello resulting live stream and archive is a single copy of all hello streams that is hello best possible aggregation from hello two sources.</span></span> <span data-ttu-id="21f0d-256">Na przykład w przypadku extreme hipotetyczny tak długo, jak istnieje jeden koder (nie ma hello toobe dyskiem) działania na dowolnym etapie w czasie dla każdego strumienia hello wynikowa strumień na żywo z usługi hello jest ciągłe bez utraty danych.</span><span class="sxs-lookup"><span data-stu-id="21f0d-256">For example, in a hypothetical extreme case, as long as there is one encoder (it doesn’t have toobe hello same one) running at any given point in time for each stream, hello resulting live stream from hello service is continuous without data loss.</span></span> 

<span data-ttu-id="21f0d-257">Hello wymagań dotyczących tego scenariusza są prawie takie same hello jako hello wymagań w przypadku "Kodera trybu failover" hello, z wyjątkiem hello, drugi zestaw koderów hello uruchomionych na powitania sam czas hello koderów podstawowego.</span><span class="sxs-lookup"><span data-stu-id="21f0d-257">hello requirements for this scenario are almost hello same as hello requirements in hello "Encoder failover" case, with hello exception that hello second set of encoders are running at hello same time as hello primary encoders.</span></span>

## <a name="10-service-redundancy"></a><span data-ttu-id="21f0d-258">10. nadmiarowość usługi</span><span class="sxs-lookup"><span data-stu-id="21f0d-258">10. Service redundancy</span></span>
<span data-ttu-id="21f0d-259">Czasami wysokiej nadmiarowe dystrybucji globalnych, musi mieć regionalnej awarii między region toohandle kopii zapasowej.</span><span class="sxs-lookup"><span data-stu-id="21f0d-259">For highly redundant global distribution, sometimes you must have cross-region backup toohandle regional disasters.</span></span> <span data-ttu-id="21f0d-260">Rozszerzając topologii "Kodera nadmiarowość" hello, klienci mogą wybrać toohave wdrożenia usługi nadmiarowego w innym regionie, który jest połączony z drugiego zestawu koderów hello.</span><span class="sxs-lookup"><span data-stu-id="21f0d-260">Expanding on hello “Encoder redundancy” topology, customers can choose toohave a redundant service deployment in a different region that's connected with hello second set of encoders.</span></span> <span data-ttu-id="21f0d-261">Klienci również może współpracować z toodeploy dostawcy Content Delivery Network globalne Menedżera ruchu przed hello dwa wdrożenia tooseamlessly trasy klienta ruchu w ramach usługi.</span><span class="sxs-lookup"><span data-stu-id="21f0d-261">Customers also can work with a Content Delivery Network provider toodeploy a Global Traffic Manager in front of hello two service deployments tooseamlessly route client traffic.</span></span> <span data-ttu-id="21f0d-262">Hello wymagania dotyczące koderów hello są tak samo jak w przypadku "Kodera nadmiarowość" hello hello.</span><span class="sxs-lookup"><span data-stu-id="21f0d-262">hello requirements for hello encoders are hello same as hello “Encoder redundancy” case.</span></span> <span data-ttu-id="21f0d-263">Hello tylko wyjątku jest drugi zestaw hello toobe potrzeb koderów na żywo wskazywana tooa różnych pozyskiwania punktu końcowego.</span><span class="sxs-lookup"><span data-stu-id="21f0d-263">hello only exception is that hello second set of encoders needs toobe pointed tooa different live ingest endpoint.</span></span> <span data-ttu-id="21f0d-264">Witaj Poniższy diagram przedstawia Instalatora:</span><span class="sxs-lookup"><span data-stu-id="21f0d-264">hello following diagram shows this setup:</span></span>

![nadmiarowość usługi][image7]

## <a name="11-special-types-of-ingestion-formats"></a><span data-ttu-id="21f0d-266">11. Specjalne rodzaje wprowadzanie formatów</span><span class="sxs-lookup"><span data-stu-id="21f0d-266">11. Special types of ingestion formats</span></span>
<span data-ttu-id="21f0d-267">W tej sekcji omówiono specjalne rodzaje formatów wprowadzanie na żywo, które są zaprojektowane toohandle określonych scenariuszy.</span><span class="sxs-lookup"><span data-stu-id="21f0d-267">This section discusses special types of live ingestion formats that are designed toohandle specific scenarios.</span></span>

### <a name="sparse-track"></a><span data-ttu-id="21f0d-268">Śledź rozrzedzony</span><span class="sxs-lookup"><span data-stu-id="21f0d-268">Sparse track</span></span>
<span data-ttu-id="21f0d-269">W celu dostarczenia prezentacji transmisji strumieniowej na żywo przy użyciu środowiska wzbogaconego klienta, często jest niezbędne tootransmit zsynchronizowany czas zdarzenia lub sygnały wewnątrzpasmowe hello głównym nośnika danych.</span><span class="sxs-lookup"><span data-stu-id="21f0d-269">When delivering a live streaming presentation with a rich client experience, often it's necessary tootransmit time-synced events or signals in-band with hello main media data.</span></span> <span data-ttu-id="21f0d-270">Na przykład jest wstawiania reklam na żywo dynamicznych.</span><span class="sxs-lookup"><span data-stu-id="21f0d-270">An example of this is dynamic live ad insertion.</span></span> <span data-ttu-id="21f0d-271">Ten typ zdarzenia sygnalizowania różni się od przesyłania strumieniowego z powodu natury rozrzedzonych regularne audio/wideo.</span><span class="sxs-lookup"><span data-stu-id="21f0d-271">This type of event signaling is different from regular audio/video streaming because of its sparse nature.</span></span> <span data-ttu-id="21f0d-272">Innymi słowy hello sygnalizowania danych zwykle odbywa się stale i interwał powitania może być toopredict twardych.</span><span class="sxs-lookup"><span data-stu-id="21f0d-272">In other words, hello signaling data usually does not happen continuously, and hello interval can be hard toopredict.</span></span> <span data-ttu-id="21f0d-273">pojęcie Hello rozrzedzonych Śledź została zaprojektowana tooingest i emisji wewnątrzpasmowe sygnalizowania danych.</span><span class="sxs-lookup"><span data-stu-id="21f0d-273">hello concept of sparse track was designed tooingest and broadcast in-band signaling data.</span></span>

<span data-ttu-id="21f0d-274">Witaj następujące czynności są zalecane implementacji służy do wprowadzania rozrzedzonych Śledź:</span><span class="sxs-lookup"><span data-stu-id="21f0d-274">hello following steps are a recommended implementation for ingesting sparse track:</span></span>

1. <span data-ttu-id="21f0d-275">Utwórz oddzielne bitstream MP4 pofragmentowane zawierający tylko rozrzedzonych ścieżki, bez ścieżki audio i wideo.</span><span class="sxs-lookup"><span data-stu-id="21f0d-275">Create a separate fragmented MP4 bitstream that contains only sparse tracks, without audio/video tracks.</span></span>
2. <span data-ttu-id="21f0d-276">W hello **aktywne okno manifestu serwera** zgodnie z definicją w sekcji 6 w [1], użyj hello *parentTrackName* nazwa hello toospecify parametru hello ścieżki nadrzędnej. Aby uzyskać więcej informacji zobacz sekcję 4.2.1.2.1.2 w [1].</span><span class="sxs-lookup"><span data-stu-id="21f0d-276">In hello **Live Server Manifest Box** as defined in Section 6 in [1], use hello *parentTrackName* parameter toospecify hello name of hello parent track. For more information, see section 4.2.1.2.1.2 in [1].</span></span>
3. <span data-ttu-id="21f0d-277">W hello **aktywne okno manifestu serwera**, **manifestOutput** musi być ustawiona zbyt**true**.</span><span class="sxs-lookup"><span data-stu-id="21f0d-277">In hello **Live Server Manifest Box**, **manifestOutput** MUST be set too**true**.</span></span>
4. <span data-ttu-id="21f0d-278">Podana hello rozrzedzonych rodzaj hello sygnalizowania zdarzenia, zaleca się następujące hello:</span><span class="sxs-lookup"><span data-stu-id="21f0d-278">Given hello sparse nature of hello signaling event, we recommended hello following:</span></span>
   
    <span data-ttu-id="21f0d-279">a.</span><span class="sxs-lookup"><span data-stu-id="21f0d-279">a.</span></span> <span data-ttu-id="21f0d-280">Na początku hello hello wydarzenia na żywo, koder hello wysyła pola nagłówka początkowej hello toohello usługi, która umożliwia śledzenie rozrzedzonych tooregister hello hello usługi w manifeście klienta hello.</span><span class="sxs-lookup"><span data-stu-id="21f0d-280">At hello beginning of hello live event, hello encoder sends hello initial header boxes toohello service, which allows hello service tooregister hello sparse track in hello client manifest.</span></span>
   
    <span data-ttu-id="21f0d-281">b.</span><span class="sxs-lookup"><span data-stu-id="21f0d-281">b.</span></span> <span data-ttu-id="21f0d-282">Koder Hello powinien z chwilą żądanie HTTP POST hello dane nie są wysyłane.</span><span class="sxs-lookup"><span data-stu-id="21f0d-282">hello encoder SHOULD terminate hello HTTP POST request when data is not being sent.</span></span> <span data-ttu-id="21f0d-283">Długotrwałe HTTP POST nie wysyła dane mogą uniemożliwić szybko odłączanie kodera hello w przypadku hello ponowny rozruch update lub usługi Media Services.</span><span class="sxs-lookup"><span data-stu-id="21f0d-283">A long-running HTTP POST that does not send data can prevent Media Services from quickly disconnecting from hello encoder in hello event of a service update or server reboot.</span></span> <span data-ttu-id="21f0d-284">W takich przypadkach hello serwer multimediów jest tymczasowo zablokowany w operacji odbierania dla gniazda hello.</span><span class="sxs-lookup"><span data-stu-id="21f0d-284">In these cases, hello media server is temporarily blocked in a receive operation on hello socket.</span></span>
   
    <span data-ttu-id="21f0d-285">c.</span><span class="sxs-lookup"><span data-stu-id="21f0d-285">c.</span></span> <span data-ttu-id="21f0d-286">W czasie hello gdy sygnalizowania danych nie jest dostępna koder hello powinna zamykać hello żądanie HTTP POST.</span><span class="sxs-lookup"><span data-stu-id="21f0d-286">During hello time when signaling data is not available, hello encoder SHOULD close hello HTTP POST request.</span></span> <span data-ttu-id="21f0d-287">Podczas żądania POST hello jest aktywny, koder hello należy wysłać danych.</span><span class="sxs-lookup"><span data-stu-id="21f0d-287">While hello POST request is active, hello encoder SHOULD send data.</span></span>

    <span data-ttu-id="21f0d-288">d.</span><span class="sxs-lookup"><span data-stu-id="21f0d-288">d.</span></span> <span data-ttu-id="21f0d-289">Podczas wysyłania rozrzedzonych fragmenty, koder hello można ustawić jawne nagłówek content-length, jeśli jest dostępna.</span><span class="sxs-lookup"><span data-stu-id="21f0d-289">When sending sparse fragments, hello encoder can set an explicit content-length header, if it’s available.</span></span>

    <span data-ttu-id="21f0d-290">e.</span><span class="sxs-lookup"><span data-stu-id="21f0d-290">e.</span></span> <span data-ttu-id="21f0d-291">Podczas wysyłania rozrzedzonych fragmenty o nowe połączenie, koder hello należy zacząć wysyłania z pola nagłówka hello, następuje hello nowych fragmentów.</span><span class="sxs-lookup"><span data-stu-id="21f0d-291">When sending sparse fragments with a new connection, hello encoder SHOULD start sending from hello header boxes, followed by hello new fragments.</span></span> <span data-ttu-id="21f0d-292">To w przypadku sytuacji między w pracą w trybie failover, a nowe połączenie rozrzedzonych hello są ustalonych tooa nowy serwer, który nie otrzymała hello Śledź rozrzedzonych przed.</span><span class="sxs-lookup"><span data-stu-id="21f0d-292">This is for cases in which failover happens in-between, and hello new sparse connection is being established tooa new server that has not seen hello sparse track before.</span></span>

    <span data-ttu-id="21f0d-293">f.</span><span class="sxs-lookup"><span data-stu-id="21f0d-293">f.</span></span> <span data-ttu-id="21f0d-294">fragment rozrzedzonych Śledź Hello staje się dostępne toohello klienta podczas hello odpowiedniego nadrzędnego śledzenie fragment, który ma wartość równą lub większą sygnatury czasowej staje się dostępna toohello klienta.</span><span class="sxs-lookup"><span data-stu-id="21f0d-294">hello sparse track fragment becomes available toohello client when hello corresponding parent track fragment that has an equal or larger timestamp value is made available toohello client.</span></span> <span data-ttu-id="21f0d-295">Na przykład, jeśli fragmentu rozrzedzonych hello ma sygnaturę czasową t = 1000, oczekuje się, które po powitania klienta widzi "wideo" (przy założeniu nazwa ścieżki nadrzędnej hello "wideo") fragmentu sygnatury czasowej 1000 lub nowszych, można pobrać hello rozrzedzonych fragmentu t = 1000.</span><span class="sxs-lookup"><span data-stu-id="21f0d-295">For example, if hello sparse fragment has a timestamp of t=1000, it is expected that after hello client sees "video" (assuming hello parent track name is "video") fragment timestamp 1000 or beyond, it can download hello sparse fragment t=1000.</span></span> <span data-ttu-id="21f0d-296">Należy pamiętać, że hello rzeczywiste sygnału może służyć do inne położenie na osi czasu prezentacji hello wyznaczone z przeznaczeniem.</span><span class="sxs-lookup"><span data-stu-id="21f0d-296">Note that hello actual signal could be used for a different position in hello presentation timeline for its designated purpose.</span></span> <span data-ttu-id="21f0d-297">W tym przykładzie tego możliwe, że hello rozrzedzonych fragmentu t = 1000 ma ładunek XML, czyli wstawiania ad w pozycji, która jest kilka sekund później.</span><span class="sxs-lookup"><span data-stu-id="21f0d-297">In this example, it’s possible that hello sparse fragment of t=1000 has an XML payload, which is for inserting an ad in a position that’s a few seconds later.</span></span>

    <span data-ttu-id="21f0d-298">g.</span><span class="sxs-lookup"><span data-stu-id="21f0d-298">g.</span></span> <span data-ttu-id="21f0d-299">ładunek Hello fragmentów Śledź rozrzedzonych może być w różnych formatach (na przykład XML, tekst lub binarny), w zależności od scenariusza hello.</span><span class="sxs-lookup"><span data-stu-id="21f0d-299">hello payload of sparse track fragments can be in different formats (such as XML, text, or binary), depending on hello scenario.</span></span>

### <a name="redundant-audio-track"></a><span data-ttu-id="21f0d-300">Nadmiarowe ścieżki audio</span><span class="sxs-lookup"><span data-stu-id="21f0d-300">Redundant audio track</span></span>
<span data-ttu-id="21f0d-301">W typowym HTTP adaptacyjnego przesyłania strumieniowego scenariuszu (na przykład, Smooth Streaming lub kreska) często istnieje tylko jedną ścieżkę audio w hello całej prezentacji.</span><span class="sxs-lookup"><span data-stu-id="21f0d-301">In a typical HTTP adaptive streaming scenario (for example, Smooth Streaming or DASH), often, there's only one audio track in hello entire presentation.</span></span> <span data-ttu-id="21f0d-302">W odróżnieniu od wideo ścieżek, które mają wiele poziomy jakości powitania klienta toochoose od w warunkach błędu, ścieżka audio hello może być pojedynczym punktem awarii, jeśli hello wprowadzanie hello strumienia, który zawiera ścieżki audio hello jest uszkodzona.</span><span class="sxs-lookup"><span data-stu-id="21f0d-302">Unlike video tracks, which have multiple quality levels for hello client toochoose from in error conditions, hello audio track can be a single point of failure if hello ingestion of hello stream that contains hello audio track is broken.</span></span> 

<span data-ttu-id="21f0d-303">Ten problem, usługi Media Services obsługuje toosolve live wprowadzanie nadmiarowe ścieżki audio.</span><span class="sxs-lookup"><span data-stu-id="21f0d-303">toosolve this problem, Media Services supports live ingestion of redundant audio tracks.</span></span> <span data-ttu-id="21f0d-304">pomysł Hello jest hello, tej samej ścieżki audio może być wysyłana wielokrotnie w różnych strumieni.</span><span class="sxs-lookup"><span data-stu-id="21f0d-304">hello idea is that hello same audio track can be sent multiple times in different streams.</span></span> <span data-ttu-id="21f0d-305">Mimo że hello usługa tylko rejestruje ścieżki audio hello raz w manifeście klienta hello, może używać nadmiarowe ścieżki audio jako zapasowe pobierania audio fragmenty, jeśli hello głównej ścieżki audio występują problemy.</span><span class="sxs-lookup"><span data-stu-id="21f0d-305">Although hello service only registers hello audio track once in hello client manifest, it can use redundant audio tracks as backups for retrieving audio fragments if hello primary audio track has issues.</span></span> <span data-ttu-id="21f0d-306">nadmiarowe ścieżki audio tooingest, koder hello musi:</span><span class="sxs-lookup"><span data-stu-id="21f0d-306">tooingest redundant audio tracks, hello encoder needs to:</span></span>

1. <span data-ttu-id="21f0d-307">Utwórz hello ścieżka tego samego audio w wielu fragmentu MP4 bitstreams.</span><span class="sxs-lookup"><span data-stu-id="21f0d-307">Create hello same audio track in multiple fragment MP4 bitstreams.</span></span> <span data-ttu-id="21f0d-308">nadmiarowe ścieżki audio Hello, należy mieć semantycznie równoważne z hello sam fragmentu sygnatury czasowe i być wymienne na poziomach fragmentu i hello nagłówka.</span><span class="sxs-lookup"><span data-stu-id="21f0d-308">hello redundant audio tracks MUST be semantically equivalent, with hello same fragment timestamps, and be interchangeable at hello header and fragment levels.</span></span>
2. <span data-ttu-id="21f0d-309">Upewnij się, że wpis "audio" hello w hello aktywnego serwera manifestu (sekcja 6 [1]) jest hello takie same dla wszystkich nadmiarowe ścieżki audio.</span><span class="sxs-lookup"><span data-stu-id="21f0d-309">Ensure that hello “audio” entry in hello Live Server Manifest (Section 6 in [1]) is hello same for all redundant audio tracks.</span></span>

<span data-ttu-id="21f0d-310">nadmiarowe ścieżki audio zaleca się powitania po implementacji:</span><span class="sxs-lookup"><span data-stu-id="21f0d-310">hello following implementation is recommended for redundant audio tracks:</span></span>

1. <span data-ttu-id="21f0d-311">Wyślij każdego unikatową ścieżkę audio w strumieniu samodzielnie.</span><span class="sxs-lookup"><span data-stu-id="21f0d-311">Send each unique audio track in a stream by itself.</span></span> <span data-ttu-id="21f0d-312">Także wysłać strumień nadmiarowe dla każdego z tych strumieni ścieżki audio, gdy strumień drugi hello różni się od hello najpierw tylko przez identyfikator hello w hello adresu URL HTTP POST: {protokołu} :// {adres serwera} / {publikowanie path}/Streams({identifier}) punktu.</span><span class="sxs-lookup"><span data-stu-id="21f0d-312">Also, send a redundant stream for each of these audio track streams, where hello second stream differs from hello first only by hello identifier in hello HTTP POST URL: {protocol}://{server address}/{publishing point path}/Streams({identifier}).</span></span>
2. <span data-ttu-id="21f0d-313">Użyj oddzielnych strumienie toosend hello dwóch najniższy wideo szybkości transmisji bitów.</span><span class="sxs-lookup"><span data-stu-id="21f0d-313">Use separate streams toosend hello two lowest video bitrates.</span></span> <span data-ttu-id="21f0d-314">Każdy z tych strumieni powinien również zawierać kopię każdego unikatową ścieżkę audio. Na przykład jeśli obsługuje wiele języków, tych strumieni powinien zawierać ścieżek audio dla każdego języka.</span><span class="sxs-lookup"><span data-stu-id="21f0d-314">Each of these streams SHOULD also contain a copy of each unique audio track. For example, when multiple languages are supported, these streams SHOULD contain audio tracks for each language.</span></span>
3. <span data-ttu-id="21f0d-315">Użyj tooencode wystąpień oddzielny serwer (koder) i wysłać hello strumieni nadmiarowe wspomnianego (1) i (2).</span><span class="sxs-lookup"><span data-stu-id="21f0d-315">Use separate server (encoder) instances tooencode and send hello redundant streams mentioned in (1) and (2).</span></span> 

## <a name="media-services-learning-paths"></a><span data-ttu-id="21f0d-316">Ścieżki szkoleniowe dotyczące usługi Media Services</span><span class="sxs-lookup"><span data-stu-id="21f0d-316">Media Services learning paths</span></span>
[!INCLUDE [media-services-learning-paths-include](../../includes/media-services-learning-paths-include.md)]

## <a name="provide-feedback"></a><span data-ttu-id="21f0d-317">Przekazywanie opinii</span><span class="sxs-lookup"><span data-stu-id="21f0d-317">Provide feedback</span></span>
[!INCLUDE [media-services-user-voice-include](../../includes/media-services-user-voice-include.md)]

[image1]: ./media/media-services-fmp4-live-ingest-overview/media-services-image1.png
[image2]: ./media/media-services-fmp4-live-ingest-overview/media-services-image2.png
[image3]: ./media/media-services-fmp4-live-ingest-overview/media-services-image3.png
[image4]: ./media/media-services-fmp4-live-ingest-overview/media-services-image4.png
[image5]: ./media/media-services-fmp4-live-ingest-overview/media-services-image5.png
[image6]: ./media/media-services-fmp4-live-ingest-overview/media-services-image6.png
[image7]: ./media/media-services-fmp4-live-ingest-overview/media-services-image7.png
