---
title: "Azure Media Services na żywo pofragmentowane MP4 pozyskiwania specyfikacji | Dokumentacja firmy Microsoft"
description: "Określenie tej wartości opisano protokołu i format pofragmentowane na podstawie MP4 na żywo przesyłania strumieniowego wprowadzanie do usługi Azure Media Services. Azure Media Services umożliwia strumienia wydarzeń na żywo i emisji zawartości w czasie rzeczywistym za pomocą usługi Azure jako platformy w chmurze. W tym dokumencie omówiono również najlepsze rozwiązania dotyczące tworzenia wysoce nadmiarowe i niezawodne na żywo pozyskiwania mechanizmów."
services: media-services
documentationcenter: 
author: cenkdin
manager: cfowler
editor: 
ms.assetid: 43fac263-a5ea-44af-8dd5-cc88e423b4de
ms.service: media-services
ms.workload: media
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/29/2017
ms.author: cenkd;juliako
ms.openlocfilehash: 6250b73504bec765b8299060a29e84e771791cc9
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 08/29/2017
---
# <a name="azure-media-services-fragmented-mp4-live-ingest-specification"></a><span data-ttu-id="494ea-105">Specyfikacja pozyskiwania Azure Media Services MP4 pofragmentowane na żywo</span><span class="sxs-lookup"><span data-stu-id="494ea-105">Azure Media Services fragmented MP4 live ingest specification</span></span>
<span data-ttu-id="494ea-106">Określenie tej wartości opisano protokołu i format pofragmentowane na podstawie MP4 na żywo przesyłania strumieniowego wprowadzanie do usługi Azure Media Services.</span><span class="sxs-lookup"><span data-stu-id="494ea-106">This specification describes the protocol and format for fragmented MP4-based live streaming ingestion for Azure Media Services.</span></span> <span data-ttu-id="494ea-107">Usługa Media Services udostępnia usługi transmisji strumieniowej na żywo, używanego przez klientów do strumienia wydarzeń na żywo i emisji zawartości w czasie rzeczywistym za pomocą usługi Azure jako platformy w chmurze.</span><span class="sxs-lookup"><span data-stu-id="494ea-107">Media Services provides a live streaming service that customers can use to stream live events and broadcast content in real time by using Azure as the cloud platform.</span></span> <span data-ttu-id="494ea-108">W tym dokumencie omówiono również najlepsze rozwiązania dotyczące tworzenia wysoce nadmiarowe i niezawodne na żywo pozyskiwania mechanizmów.</span><span class="sxs-lookup"><span data-stu-id="494ea-108">This document also discusses best practices for building highly redundant and robust live ingest mechanisms.</span></span>

## <a name="1-conformance-notation"></a><span data-ttu-id="494ea-109">1. Notacja zgodność</span><span class="sxs-lookup"><span data-stu-id="494ea-109">1. Conformance notation</span></span>
<span data-ttu-id="494ea-110">Klucz ",""Nie może," "Wymagane", "SHALL", "są nie może," "SHOULD", "Nie powinien," wyrazy "Zalecane", "Może" i "Opcjonalne" w tym dokumencie mają być interpretowane opisanych w dokumencie RFC 2119.</span><span class="sxs-lookup"><span data-stu-id="494ea-110">The key words "MUST," "MUST NOT," "REQUIRED," "SHALL," "SHALL NOT," "SHOULD," "SHOULD NOT," "RECOMMENDED," "MAY," and "OPTIONAL" in this document are to be interpreted as they are described in RFC 2119.</span></span>

## <a name="2-service-diagram"></a><span data-ttu-id="494ea-111">2. Diagram usługi</span><span class="sxs-lookup"><span data-stu-id="494ea-111">2. Service diagram</span></span>
<span data-ttu-id="494ea-112">Na poniższym diagramie przedstawiono wysokiego poziomu architektury usługi transmisji strumieniowej na żywo w usłudze Media Services:</span><span class="sxs-lookup"><span data-stu-id="494ea-112">The following diagram shows the high-level architecture of the live streaming service in Media Services:</span></span>

1. <span data-ttu-id="494ea-113">Koder na żywo wypychanie źródeł danych na żywo do kanałów, które są tworzone i udostępniane za pomocą zestawu SDK usługi Azure Media Services.</span><span class="sxs-lookup"><span data-stu-id="494ea-113">A live encoder pushes live feeds to channels that are created and provisioned via the Azure Media Services SDK.</span></span>
2. <span data-ttu-id="494ea-114">Kanały, programów i punktów końcowych przesyłania strumieniowego w usłudze Media Services obsłużyć wszystkie na żywo przesyłania strumieniowego funkcje, w tym pozyskiwanie, formatowanie, chmury DVR, zabezpieczenia, skalowalność i nadmiarowość.</span><span class="sxs-lookup"><span data-stu-id="494ea-114">Channels, programs, and streaming endpoints in Media Services handle all the live streaming functionalities, including ingest, formatting, cloud DVR, security, scalability, and redundancy.</span></span>
3. <span data-ttu-id="494ea-115">Opcjonalnie klienci mogą wybrać do wdrożenia warstwa Azure Content Delivery Network między punktu końcowego przesyłania strumieniowego i punktów końcowych klienta.</span><span class="sxs-lookup"><span data-stu-id="494ea-115">Optionally, customers can choose to deploy an Azure Content Delivery Network layer between the streaming endpoint and the client endpoints.</span></span>
4. <span data-ttu-id="494ea-116">Strumień punktów końcowych klienta z punktu końcowego przesyłania strumieniowego przy użyciu protokołów HTTP adaptacyjnego przesyłania strumieniowego.</span><span class="sxs-lookup"><span data-stu-id="494ea-116">Client endpoints stream from the streaming endpoint by using HTTP Adaptive Streaming protocols.</span></span> <span data-ttu-id="494ea-117">Przykładami Microsoft Smooth Streaming, dynamiczne adaptacyjne przesyłanie strumieniowe za pośrednictwem protokołu HTTP (DASH lub MPEG-DASH) i Apple HTTP Live Streaming (HLS).</span><span class="sxs-lookup"><span data-stu-id="494ea-117">Examples include Microsoft Smooth Streaming, Dynamic Adaptive Streaming over HTTP (DASH, or MPEG-DASH), and Apple HTTP Live Streaming (HLS).</span></span>

![pozyskiwania przepływu][image1]

## <a name="3-bitstream-format--iso-14496-12-fragmented-mp4"></a><span data-ttu-id="494ea-119">3. Format Bitstream — ISO 14496 12 pofragmentowany plik MP4</span><span class="sxs-lookup"><span data-stu-id="494ea-119">3. Bitstream format – ISO 14496-12 fragmented MP4</span></span>
<span data-ttu-id="494ea-120">Format danych przesyłanych w sieci dla transmisji strumieniowych na żywo pozyskiwania omówione w tym dokumencie jest oparta na [ISO-14496-12].</span><span class="sxs-lookup"><span data-stu-id="494ea-120">The wire format for live streaming ingest discussed in this document is based on [ISO-14496-12].</span></span> <span data-ttu-id="494ea-121">Aby uzyskać szczegółowy opis pofragmentowane formacie MP4 i rozszerzeń zarówno dla plików wideo na żądanie i wprowadzanie transmisji strumieniowej na żywo, zobacz [[MS-SSTR]](http://msdn.microsoft.com/library/ff469518.aspx).</span><span class="sxs-lookup"><span data-stu-id="494ea-121">For a detailed explanation of fragmented MP4 format and extensions both for video-on-demand files and live streaming ingestion, see [[MS-SSTR]](http://msdn.microsoft.com/library/ff469518.aspx).</span></span>

### <a name="live-ingest-format-definitions"></a><span data-ttu-id="494ea-122">Na żywo pozyskiwania definicje formatu</span><span class="sxs-lookup"><span data-stu-id="494ea-122">Live ingest format definitions</span></span>
<span data-ttu-id="494ea-123">Poniższa lista zawiera opis format specjalnych definicji, które mają zastosowanie do aktywnego pozyskiwania do usługi Azure Media Services:</span><span class="sxs-lookup"><span data-stu-id="494ea-123">The following list describes special format definitions that apply to live ingest into Azure Media Services:</span></span>

1. <span data-ttu-id="494ea-124">**Ftyp zawiera informacje**, **aktywne okno manifestu serwera**, i **moov** pola muszą być wysyłane z każdym żądaniem (HTTP POST).</span><span class="sxs-lookup"><span data-stu-id="494ea-124">The **ftyp**, **Live Server Manifest Box**, and **moov** boxes MUST be sent with each request (HTTP POST).</span></span> <span data-ttu-id="494ea-125">Te pola muszą być wysyłane na początku strumienia i pozyskiwania koder należy nawiązać ponownie połączenie wznowienie strumienia za każdym razem.</span><span class="sxs-lookup"><span data-stu-id="494ea-125">These boxes MUST be sent at the beginning of the stream and any time the encoder must reconnect to resume stream ingest.</span></span> <span data-ttu-id="494ea-126">Aby uzyskać więcej informacji zobacz sekcja 6 w [1].</span><span class="sxs-lookup"><span data-stu-id="494ea-126">For more information, see Section 6 in [1].</span></span>
2. <span data-ttu-id="494ea-127">3.3.2 części [1] określa opcjonalne pola o nazwie **StreamManifestBox** dla pozyskiwania na żywo.</span><span class="sxs-lookup"><span data-stu-id="494ea-127">Section 3.3.2 in [1] defines an optional box called **StreamManifestBox** for live ingest.</span></span> <span data-ttu-id="494ea-128">Z powodu logiki routingu usługi równoważenia obciążenia Azure przy użyciu tego pola jest przestarzały.</span><span class="sxs-lookup"><span data-stu-id="494ea-128">Due to the routing logic of the Azure load balancer, using this box is deprecated.</span></span> <span data-ttu-id="494ea-129">Pole nie powinien być obecny podczas wprowadzania do usługi Media Services.</span><span class="sxs-lookup"><span data-stu-id="494ea-129">The box SHOULD NOT be present when ingesting into Media Services.</span></span> <span data-ttu-id="494ea-130">Jeśli to pole jest obecne, Media Services dyskretnie zignoruje ją.</span><span class="sxs-lookup"><span data-stu-id="494ea-130">If this box is present, Media Services silently ignores it.</span></span>
3. <span data-ttu-id="494ea-131">**TrackFragmentExtendedHeaderBox** pola zdefiniowane w 3.2.3.2 [1] musi być obecny dla każdego fragmentu.</span><span class="sxs-lookup"><span data-stu-id="494ea-131">The **TrackFragmentExtendedHeaderBox** box defined in 3.2.3.2 in [1] MUST be present for each fragment.</span></span>
4. <span data-ttu-id="494ea-132">Wersja 2 **TrackFragmentExtendedHeaderBox** pole powinien być używany do generowania segmentów nośnika, które mają identyczne adresów URL w wielu centrach danych.</span><span class="sxs-lookup"><span data-stu-id="494ea-132">Version 2 of the **TrackFragmentExtendedHeaderBox** box SHOULD be used to generate media segments that have identical URLs in multiple datacenters.</span></span> <span data-ttu-id="494ea-133">Pole indeksu fragment jest wymagane w trybie failover między datacenter opartego na indeksie formatów przesyłania strumieniowego, takich jak Apple HLS i MPEG-DASH opartego na indeksie.</span><span class="sxs-lookup"><span data-stu-id="494ea-133">The fragment index field is REQUIRED for cross-datacenter failover of index-based streaming formats such as Apple HLS and index-based MPEG-DASH.</span></span> <span data-ttu-id="494ea-134">Aby włączyć tryb failover między datacenter, indeks fragmentu musi synchronizowane między wieloma koderów i zwiększyć o 1 dla każdego fragmentu nośnika kolejnych nawet przez koder ponownego uruchomienia lub w przypadku awarii.</span><span class="sxs-lookup"><span data-stu-id="494ea-134">To enable cross-datacenter failover, the fragment index MUST be synced across multiple encoders and be increased by 1 for each successive media fragment, even across encoder restarts or failures.</span></span>
5. <span data-ttu-id="494ea-135">Pole o nazwie definiuje 3.3.6 części [1] **MovieFragmentRandomAccessBox** (**mfra**) które mogą być wysyłane na końcu na żywo wprowadzanie wskazująca zakończenia z strumienia (EOS) do kanału.</span><span class="sxs-lookup"><span data-stu-id="494ea-135">Section 3.3.6 in [1] defines a box called **MovieFragmentRandomAccessBox** (**mfra**) that MAY be sent at the end of live ingestion to indicate end-of-stream (EOS) to the channel.</span></span> <span data-ttu-id="494ea-136">Z powodu logiki pozyskiwania Media Services, przy użyciu EOS jest przestarzałe i **mfra** polu dla wprowadzanie na żywo nie mają być wysyłane.</span><span class="sxs-lookup"><span data-stu-id="494ea-136">Due to the ingest logic of Media Services, using EOS is deprecated, and the **mfra** box for live ingestion SHOULD NOT be sent.</span></span> <span data-ttu-id="494ea-137">Jeśli wysyłane, Media Services dyskretnie zignoruje ją.</span><span class="sxs-lookup"><span data-stu-id="494ea-137">If sent, Media Services silently ignores it.</span></span> <span data-ttu-id="494ea-138">Resetowanie stanu punktu pozyskiwania, firma Microsoft zaleca się używanie [Resetowanie kanału](https://docs.microsoft.com/rest/api/media/operations/channel#reset_channels).</span><span class="sxs-lookup"><span data-stu-id="494ea-138">To reset the state of the ingest point, we recommend that you use [Channel Reset](https://docs.microsoft.com/rest/api/media/operations/channel#reset_channels).</span></span> <span data-ttu-id="494ea-139">Zalecamy również użycie [Zatrzymaj Program](https://msdn.microsoft.com/library/azure/dn783463.aspx#stop_programs) do końca prezentacji i strumienia.</span><span class="sxs-lookup"><span data-stu-id="494ea-139">We also recommend that you use [Program Stop](https://msdn.microsoft.com/library/azure/dn783463.aspx#stop_programs) to end a presentation and stream.</span></span>
6. <span data-ttu-id="494ea-140">Czas trwania fragmentu MP4 powinna być stała, aby zmniejszyć rozmiar manifesty na kliencie.</span><span class="sxs-lookup"><span data-stu-id="494ea-140">The MP4 fragment duration SHOULD be constant, to reduce the size of the client manifests.</span></span> <span data-ttu-id="494ea-141">Stałe MP4, czas trwania fragmentu zwiększa również Algorytm heurystyczny Pobierz klienta za pośrednictwem Powtórz tagów.</span><span class="sxs-lookup"><span data-stu-id="494ea-141">A constant MP4 fragment duration also improves client download heuristics through the use of repeat tags.</span></span> <span data-ttu-id="494ea-142">Czas trwania mogą ulegać zmianie w celu kompensacji szybkość klatek nie jest liczbą całkowitą.</span><span class="sxs-lookup"><span data-stu-id="494ea-142">The duration MAY fluctuate to compensate for non-integer frame rates.</span></span>
7. <span data-ttu-id="494ea-143">Czas trwania fragmentu MP4 powinna wynosić około 2 do 6 w sekundach.</span><span class="sxs-lookup"><span data-stu-id="494ea-143">The MP4 fragment duration SHOULD be between approximately 2 and 6 seconds.</span></span>
8. <span data-ttu-id="494ea-144">MP4 fragmentu sygnatury czasowe i indeksów (**TrackFragmentExtendedHeaderBox** `fragment_ absolute_ time` i `fragment_index`) powinna odbierane w kolejności rosnącej.</span><span class="sxs-lookup"><span data-stu-id="494ea-144">MP4 fragment timestamps and indexes (**TrackFragmentExtendedHeaderBox** `fragment_ absolute_ time` and `fragment_index`) SHOULD arrive in increasing order.</span></span> <span data-ttu-id="494ea-145">Chociaż usługi Media Services jest odporność na zduplikowane fragmenty, ograniczył możliwość zmiany kolejności fragmenty zgodnie z nośnika osi czasu.</span><span class="sxs-lookup"><span data-stu-id="494ea-145">Although Media Services is resilient to duplicate fragments, it has limited ability to reorder fragments according to the media timeline.</span></span>

## <a name="4-protocol-format--http"></a><span data-ttu-id="494ea-146">4. Format protokołu — HTTP</span><span class="sxs-lookup"><span data-stu-id="494ea-146">4. Protocol format – HTTP</span></span>
<span data-ttu-id="494ea-147">ISO fragmentacji na podstawie MP4 na żywo pozyskiwania dla usługi Media Services używa standardowego żądania HTTP POST długotrwałe do przesyłania danych zakodowanego nośnika, który jest spakowany w formacie MP4 pofragmentowane usługi.</span><span class="sxs-lookup"><span data-stu-id="494ea-147">ISO fragmented MP4-based live ingest for Media Services uses a standard long-running HTTP POST request to transmit encoded media data that is packaged in fragmented MP4 format to the service.</span></span> <span data-ttu-id="494ea-148">Każdy HTTP POST wysyła kompletna pofragmentowany bitstream MP4 ("strumień"), od początku z pola nagłówka (**ftyp zawiera informacje**, **aktywne okno manifestu serwera**, i **moov** pola ) i kontynuowanie sekwencję fragmenty (**moof** i **mdat** pól).</span><span class="sxs-lookup"><span data-stu-id="494ea-148">Each HTTP POST sends a complete fragmented MP4 bitstream ("stream"), starting from the beginning with header boxes (**ftyp**, **Live Server Manifest Box**, and **moov** boxes), and continuing with a sequence of fragments (**moof** and **mdat** boxes).</span></span> <span data-ttu-id="494ea-149">Aby składni adresu URL dla żądania HTTP POST zobacz sekcję 9.2 w [1].</span><span class="sxs-lookup"><span data-stu-id="494ea-149">For URL syntax for the HTTP POST request, see section 9.2 in [1].</span></span> <span data-ttu-id="494ea-150">Przykład adresu URL przesyłania to:</span><span class="sxs-lookup"><span data-stu-id="494ea-150">An example of the POST URL is:</span></span> 

    http://customer.channel.mediaservices.windows.net/ingest.isml/streams(720p)

### <a name="requirements"></a><span data-ttu-id="494ea-151">Wymagania</span><span class="sxs-lookup"><span data-stu-id="494ea-151">Requirements</span></span>
<span data-ttu-id="494ea-152">Poniżej przedstawiono szczegółowe wymagania:</span><span class="sxs-lookup"><span data-stu-id="494ea-152">Here are the detailed requirements:</span></span>

1. <span data-ttu-id="494ea-153">Koder należy uruchomić emisję, wysyłając żądanie HTTP POST z pustym "treść" (zerowej długości zawartości) przy użyciu tego samego adresu URL wprowadzanie.</span><span class="sxs-lookup"><span data-stu-id="494ea-153">The encoder SHOULD start the broadcast by sending an HTTP POST request with an empty “body” (zero content length) by using the same ingestion URL.</span></span> <span data-ttu-id="494ea-154">Może to ułatwić koder szybko wykryć, czy punkt końcowy na żywo wprowadzanie jest prawidłowy, a jeśli ma żadnego uwierzytelniania lub inne warunki wymagane.</span><span class="sxs-lookup"><span data-stu-id="494ea-154">This can help the encoder quickly detect whether the live ingestion endpoint is valid, and if there are any authentication or other conditions required.</span></span> <span data-ttu-id="494ea-155">Dla protokołu HTTP serwer nie może odesłania odpowiedzi HTTP do momentu otrzymania całego żądania, w tym treść wpisu.</span><span class="sxs-lookup"><span data-stu-id="494ea-155">Per HTTP protocol, the server can't send back an HTTP response until the entire request, including the POST body, is received.</span></span> <span data-ttu-id="494ea-156">Charakter długotrwałe wydarzenia na żywo bez tego kroku koder może nie móc wykrywać wszelkie błędy, aż do zakończeniem wysyłania wszystkie dane.</span><span class="sxs-lookup"><span data-stu-id="494ea-156">Given the long-running nature of a live event, without this step, the encoder might not be able to detect any error until it finishes sending all the data.</span></span>
2. <span data-ttu-id="494ea-157">Koder musi obsługiwać żadnych błędów lub wezwań do uwierzytelnienia z powodu (1).</span><span class="sxs-lookup"><span data-stu-id="494ea-157">The encoder MUST handle any errors or authentication challenges because of (1).</span></span> <span data-ttu-id="494ea-158">Jeśli (1) zakończy się pomyślnie z odpowiedzi 200, będzie kontynuowane.</span><span class="sxs-lookup"><span data-stu-id="494ea-158">If (1) succeeds with a 200 response, continue.</span></span>
3. <span data-ttu-id="494ea-159">Koder musi rozpoczynać nowe żądanie HTTP POST pofragmentowany strumień MP4.</span><span class="sxs-lookup"><span data-stu-id="494ea-159">The encoder MUST start a new HTTP POST request with the fragmented MP4 stream.</span></span> <span data-ttu-id="494ea-160">Ładunek musi rozpoczynać się od pola nagłówka, a następnie fragmenty.</span><span class="sxs-lookup"><span data-stu-id="494ea-160">The payload MUST start with the header boxes, followed by fragments.</span></span> <span data-ttu-id="494ea-161">Należy pamiętać, że **ftyp zawiera informacje**, **aktywne okno manifestu serwera**, i **moov** pola (w podanej kolejności) muszą być wysyłane z każdym żądaniem, nawet jeśli koder należy nawiązać ponownie połączenie, ponieważ poprzednie żądanie zostało przerwane przed końcem strumienia.</span><span class="sxs-lookup"><span data-stu-id="494ea-161">Note that the **ftyp**, **Live Server Manifest Box**, and **moov** boxes (in this order) MUST be sent with each request, even if the encoder must reconnect because the previous request was terminated prior to the end of the stream.</span></span> 
4. <span data-ttu-id="494ea-162">Koder muszą używać transferu pakietowego kodowanie przekazywania, ponieważ nie jest możliwe do prognozowania całej długości zawartości wydarzenia na żywo.</span><span class="sxs-lookup"><span data-stu-id="494ea-162">The encoder MUST use chunked transfer encoding for uploading, because it’s impossible to predict the entire content length of the live event.</span></span>
5. <span data-ttu-id="494ea-163">Po zdarzeniu umieszczeniu po wysłaniu ostatniego fragment koder bezpiecznie musi kończyć się transferu pakietowego Kodowanie komunikatu sekwencji (większość stosy klienta HTTP jego obsługa automatycznie).</span><span class="sxs-lookup"><span data-stu-id="494ea-163">When the event is over, after sending the last fragment, the encoder MUST gracefully end the chunked transfer encoding message sequence (most HTTP client stacks handle it automatically).</span></span> <span data-ttu-id="494ea-164">Koder musi Trwa oczekiwanie na kod odpowiedzi końcowego powrotu usługi, a następnie zakończenie połączenia.</span><span class="sxs-lookup"><span data-stu-id="494ea-164">The encoder MUST wait for the service to return the final response code, and then terminate the connection.</span></span> 
6. <span data-ttu-id="494ea-165">Koder nie może użyj `Events()` rzeczownik zgodnie z opisem w 9.2 w [1] na żywo wprowadzanie do usługi Media Services.</span><span class="sxs-lookup"><span data-stu-id="494ea-165">The encoder MUST NOT use the `Events()` noun as described in 9.2 in [1] for live ingestion into Media Services.</span></span>
7. <span data-ttu-id="494ea-166">Jeśli żądanie HTTP POST kończy lub limitu czasu z powodu błędu TCP przed końcem strumienia, koder musi wygenerowanie nowego żądania POST, używając nowego połączenia, a następnie postępuj zgodnie z powyższych wymagań.</span><span class="sxs-lookup"><span data-stu-id="494ea-166">If the HTTP POST request terminates or times out with a TCP error prior to the end of the stream, the encoder MUST issue a new POST request by using a new connection, and follow the preceding requirements.</span></span> <span data-ttu-id="494ea-167">Koder musi ponadto Wyślij ponownie poprzednie dwa fragmenty MP4 dla każdej ścieżki w strumieniu i wznowienie bez wprowadzania brak ciągłości w osi czasu nośnika.</span><span class="sxs-lookup"><span data-stu-id="494ea-167">Additionally, the encoder MUST resend the previous two MP4 fragments for each track in the stream, and resume without introducing a discontinuity in the media timeline.</span></span> <span data-ttu-id="494ea-168">Ponowne wysyłanie ostatnie dwa fragmenty MP4 dla każdej ścieżki gwarantuje, że jest bez utraty danych.</span><span class="sxs-lookup"><span data-stu-id="494ea-168">Resending the last two MP4 fragments for each track ensures that there is no data loss.</span></span> <span data-ttu-id="494ea-169">Innymi słowy jeśli zawiera strumień audio i wideo ścieżkę, a nie bieżącego żądania POST, koder musi ponownie i Wyślij ponownie ostatnie dwa fragmenty ścieżki audio, które wcześniej zostały wysłane pomyślnie, a ostatnie dwa fragmenty wideo śledzenie, które zostały pomyślnie wysłane, aby upewnić się, że istnieje nie powoduje utraty danych.</span><span class="sxs-lookup"><span data-stu-id="494ea-169">In other words, if a stream contains both an audio and a video track, and the current POST request fails, the encoder must reconnect and resend the last two fragments for the audio track, which were previously successfully sent, and the last two fragments for the video track, which were previously successfully sent, to ensure that there is no data loss.</span></span> <span data-ttu-id="494ea-170">Koder muszą zachować "do przodu" bufora fragmentów nośnika, które wysyła go ponownie po wznowieniu połączenia.</span><span class="sxs-lookup"><span data-stu-id="494ea-170">The encoder MUST maintain a “forward” buffer of media fragments, which it resends when it reconnects.</span></span>

## <a name="5-timescale"></a><span data-ttu-id="494ea-171">5. skali czasu</span><span class="sxs-lookup"><span data-stu-id="494ea-171">5. Timescale</span></span>
<span data-ttu-id="494ea-172">[[MS-SSTR] ](https://msdn.microsoft.com/library/ff469518.aspx) w tym artykule opisano sposób użycia skali czasu dla **SmoothStreamingMedia** (sekcja 2.2.2.1) **StreamElement** (sekcja 2.2.2.3) **StreamFragmentElement**(Sekcja 2.2.2.6), a **LiveSMIL** (2.2.7.3.1 sekcji).</span><span class="sxs-lookup"><span data-stu-id="494ea-172">[[MS-SSTR]](https://msdn.microsoft.com/library/ff469518.aspx) describes the usage of timescale for **SmoothStreamingMedia** (Section 2.2.2.1), **StreamElement** (Section 2.2.2.3), **StreamFragmentElement** (Section 2.2.2.6), and **LiveSMIL** (Section 2.2.7.3.1).</span></span> <span data-ttu-id="494ea-173">Jeśli nie ma wartości skali czasu, wartość domyślna używana jest 10 000 000 (10 MHz).</span><span class="sxs-lookup"><span data-stu-id="494ea-173">If the timescale value is not present, the default value used is 10,000,000 (10 MHz).</span></span> <span data-ttu-id="494ea-174">Mimo że specyfikacji formatu Smooth Streaming nie blokuje użycia innych wartości skali czasu, większości implementacji kodera użyć domyślną wartość (10 MHz) do generowania Smooth Streaming pozyskiwania danych.</span><span class="sxs-lookup"><span data-stu-id="494ea-174">Although the Smooth Streaming format specification doesn’t block usage of other timescale values, most encoder implementations use this default value (10 MHz) to generate Smooth Streaming ingest data.</span></span> <span data-ttu-id="494ea-175">Ze względu na [dynamicznego tworzenia pakietów Azure Media](media-services-dynamic-packaging-overview.md) funkcji zalecane użycie 90 KHz Skala czasu dla strumieni wideo i 44,1 KHz lub 48.1 KHz dla strumieni audio.</span><span class="sxs-lookup"><span data-stu-id="494ea-175">Due to the [Azure Media Dynamic Packaging](media-services-dynamic-packaging-overview.md) feature, we recommend that you use a 90-KHz timescale for video streams and 44.1 KHz or 48.1 KHz for audio streams.</span></span> <span data-ttu-id="494ea-176">Jeśli wartości różnych skali czasu są używane do różnych strumieni, należy wysłać strumień poziom skali czasu.</span><span class="sxs-lookup"><span data-stu-id="494ea-176">If different timescale values are used for different streams, the stream-level timescale MUST be sent.</span></span> <span data-ttu-id="494ea-177">Aby uzyskać więcej informacji, zobacz [[MS-SSTR]](https://msdn.microsoft.com/library/ff469518.aspx).</span><span class="sxs-lookup"><span data-stu-id="494ea-177">For more information, see [[MS-SSTR]](https://msdn.microsoft.com/library/ff469518.aspx).</span></span>     

## <a name="6-definition-of-stream"></a><span data-ttu-id="494ea-178">6. Definicja "strumień"</span><span class="sxs-lookup"><span data-stu-id="494ea-178">6. Definition of “stream”</span></span>
<span data-ttu-id="494ea-179">Strumień to podstawowa jednostka operacji w wprowadzanie na żywo do tworzenia prezentacji na żywo, obsługę przesyłania strumieniowego trybu failover i scenariusze nadmiarowości.</span><span class="sxs-lookup"><span data-stu-id="494ea-179">Stream is the basic unit of operation in live ingestion for composing live presentations, handling streaming failover, and redundancy scenarios.</span></span> <span data-ttu-id="494ea-180">Strumień jest zdefiniowany jako jeden unikatowy, pofragmentowane bitstream MP4, który może zawierać pojedynczą ścieżkę lub wiele ścieżek.</span><span class="sxs-lookup"><span data-stu-id="494ea-180">Stream is defined as one unique, fragmented MP4 bitstream that might contain a single track or multiple tracks.</span></span> <span data-ttu-id="494ea-181">Prezentacja pełnej na żywo może zawierać jeden lub więcej strumieni, w zależności od konfiguracji koderów na żywo.</span><span class="sxs-lookup"><span data-stu-id="494ea-181">A full live presentation might contain one or more streams, depending on the configuration of the live encoders.</span></span> <span data-ttu-id="494ea-182">Poniższe przykłady przedstawiają różne opcje użycia strumieni utworzenie pełnej na żywo prezentacji.</span><span class="sxs-lookup"><span data-stu-id="494ea-182">The following examples illustrate various options of using streams to compose a full live presentation.</span></span>

<span data-ttu-id="494ea-183">**Przykład:**</span><span class="sxs-lookup"><span data-stu-id="494ea-183">**Example:**</span></span> 

<span data-ttu-id="494ea-184">Klient chce utworzyć prezentację transmisji strumieniowej na żywo obejmuje następujące szybkości transmisji bitów audio/wideo:</span><span class="sxs-lookup"><span data-stu-id="494ea-184">A customer wants to create a live streaming presentation that includes the following audio/video bitrates:</span></span>

<span data-ttu-id="494ea-185">Wideo — 3000 KB/s, 1500 KB/s, 750 Kb/s</span><span class="sxs-lookup"><span data-stu-id="494ea-185">Video – 3000 kbps, 1500 kbps, 750 kbps</span></span>

<span data-ttu-id="494ea-186">Audio – 128 Kb/s</span><span class="sxs-lookup"><span data-stu-id="494ea-186">Audio – 128 kbps</span></span>

### <a name="option-1-all-tracks-in-one-stream"></a><span data-ttu-id="494ea-187">Opcja 1: Wszystkie ścieżki w jednego strumienia</span><span class="sxs-lookup"><span data-stu-id="494ea-187">Option 1: All tracks in one stream</span></span>
<span data-ttu-id="494ea-188">W przypadku tej opcji jeden koder generuje wszystkie ścieżki audio/wideo i zawiera ich w jednym pofragmentowane bitstream MP4.</span><span class="sxs-lookup"><span data-stu-id="494ea-188">In this option, a single encoder generates all audio/video tracks, and then bundles them into one fragmented MP4 bitstream.</span></span> <span data-ttu-id="494ea-189">Pofragmentowane bitstream MP4 jest następnie wysyłana za pośrednictwem jednego połączenia HTTP POST.</span><span class="sxs-lookup"><span data-stu-id="494ea-189">The fragmented MP4 bitstream is then sent via a single HTTP POST connection.</span></span> <span data-ttu-id="494ea-190">W tym przykładzie jest tylko jeden strumień w tej prezentacji na żywo.</span><span class="sxs-lookup"><span data-stu-id="494ea-190">In this example, there is only one stream for this live presentation.</span></span>

![Śledź strumieni-do-jednego.][image2]

### <a name="option-2-each-track-in-a-separate-stream"></a><span data-ttu-id="494ea-192">Opcja 2: Każdej ścieżki w oddzielnych strumienia</span><span class="sxs-lookup"><span data-stu-id="494ea-192">Option 2: Each track in a separate stream</span></span>
<span data-ttu-id="494ea-193">W przypadku tej opcji koder umieszcza jedną ścieżkę bitstream każdego fragmentu MP4 i zapisuje wszystkie strumienie przez oddzielne połączenia HTTP.</span><span class="sxs-lookup"><span data-stu-id="494ea-193">In this option, the encoder puts one track into each fragment MP4 bitstream, and then posts all of the streams over separate HTTP connections.</span></span> <span data-ttu-id="494ea-194">Można to zrobić za pomocą kodera jednego lub wielu koderów.</span><span class="sxs-lookup"><span data-stu-id="494ea-194">This can be done with one encoder or with multiple encoders.</span></span> <span data-ttu-id="494ea-195">Wprowadzanie na żywo widzi tej prezentacji na żywo, jak składa się z czterech strumieni.</span><span class="sxs-lookup"><span data-stu-id="494ea-195">The live ingestion sees this live presentation as composed of four streams.</span></span>

![Śledzi oddzielne strumienie][image3]

### <a name="option-3-bundle-audio-track-with-the-lowest-bitrate-video-track-into-one-stream"></a><span data-ttu-id="494ea-197">Opcja 3: Ścieżka audio pakietu z najniższą Ścieżka wideo szybkości transmisji bitów do jednego strumienia</span><span class="sxs-lookup"><span data-stu-id="494ea-197">Option 3: Bundle audio track with the lowest bitrate video track into one stream</span></span>
<span data-ttu-id="494ea-198">W przypadku tej opcji odbiorcy zdecydował się pakietu ścieżki audio ze ścieżką wideo najniższa szybkość transmisji bitów w jednym fragmencie MP4 bitstream i pozostawić innych dwóch ścieżek wideo jako osobne strumieni.</span><span class="sxs-lookup"><span data-stu-id="494ea-198">In this option, the customer chooses to bundle the audio track with the lowest-bitrate video track in one fragment MP4 bitstream, and leave the other two video tracks as separate streams.</span></span> 

![Śledzi strumieni audio i wideo][image4]

### <a name="summary"></a><span data-ttu-id="494ea-200">Podsumowanie</span><span class="sxs-lookup"><span data-stu-id="494ea-200">Summary</span></span>
<span data-ttu-id="494ea-201">Nie jest to pełna lista wszystkich opcji wprowadzanie możliwe w ramach tego przykładu.</span><span class="sxs-lookup"><span data-stu-id="494ea-201">This is not an exhaustive list of all possible ingestion options for this example.</span></span> <span data-ttu-id="494ea-202">Jak rzeczy zgrupowania ścieżki do strumieni jest obsługiwana przez wprowadzanie na żywo.</span><span class="sxs-lookup"><span data-stu-id="494ea-202">As a matter of fact, any grouping of tracks into streams is supported by live ingestion.</span></span> <span data-ttu-id="494ea-203">Klienci i dostawcy kodera można wybrać własne implementacje na podstawie engineering złożoności, pojemność koder i nadmiarowości i zagadnienia dotyczące trybu failover.</span><span class="sxs-lookup"><span data-stu-id="494ea-203">Customers and encoder vendors can choose their own implementations based on engineering complexity, encoder capacity, and redundancy and failover considerations.</span></span> <span data-ttu-id="494ea-204">Jednak w większości przypadków jest tylko jedną ścieżkę audio dla całej prezentacji na żywo.</span><span class="sxs-lookup"><span data-stu-id="494ea-204">However, in most cases, there is only one audio track for the entire live presentation.</span></span> <span data-ttu-id="494ea-205">Tak ważne jest zapewnienie healthiness strumienia pozyskiwania, zawierającą ścieżkę audio. Ta kwestia często powoduje umieszczenie ścieżki audio w jego własnej strumienia (jak opcja 2) lub funkcję tworzenia pakietów z Ścieżka wideo najniższa szybkość transmisji bitów (jak opcja 3).</span><span class="sxs-lookup"><span data-stu-id="494ea-205">So, it’s important to ensure the healthiness of the ingest stream that contains the audio track. This consideration often results in putting the audio track in its own stream (as in Option 2) or bundling it with the lowest-bitrate video track (as in Option 3).</span></span> <span data-ttu-id="494ea-206">Ponadto dla lepszej nadmiarowość i odporność na uszkodzenia, wysyłanie tej samej ścieżki audio w dwóch różnych strumieni (opcja 2 z nadmiarowe ścieżki audio) lub ścieżkę audio przy użyciu co najmniej dwóch ścieżek wideo najniższa szybkość transmisji bitów (opcja 3 o audio dołączone do co najmniej dwa grupowania strumienie wideo) zdecydowanie zaleca się na żywo pozyskiwania do usługi Media Services.</span><span class="sxs-lookup"><span data-stu-id="494ea-206">Also, for better redundancy and fault tolerance, sending the same audio track in two different streams (Option 2 with redundant audio tracks) or bundling the audio track with at least two of the lowest-bitrate video tracks (Option 3 with audio bundled in at least two video streams) is highly recommended for live ingest into Media Services.</span></span>

## <a name="7-service-failover"></a><span data-ttu-id="494ea-207">7. Usługa trybu failover</span><span class="sxs-lookup"><span data-stu-id="494ea-207">7. Service failover</span></span>
<span data-ttu-id="494ea-208">Podany rodzaj transmisja strumieniowa na żywo obsługę pracy awaryjnej dobrej jest istotne dla zapewnienia dostępności usługi.</span><span class="sxs-lookup"><span data-stu-id="494ea-208">Given the nature of live streaming, good failover support is critical for ensuring the availability of the service.</span></span> <span data-ttu-id="494ea-209">Usługa Media Services jest przeznaczona do obsługi różnych typów awarii, w tym błędy sieci, serwer błędów i problemów z magazynowaniem.</span><span class="sxs-lookup"><span data-stu-id="494ea-209">Media Services is designed to handle various types of failures, including network errors, server errors, and storage issues.</span></span> <span data-ttu-id="494ea-210">Gdy jest używany w połączeniu z logiką prawidłowego trybu failover po stronie kodera na żywo, klientów można osiągnąć wysoce niezawodne usługa transmisji strumieniowej na żywo z chmury.</span><span class="sxs-lookup"><span data-stu-id="494ea-210">When used in conjunction with proper failover logic from the live encoder side, customers can achieve a highly reliable live streaming service from the cloud.</span></span>

<span data-ttu-id="494ea-211">W tej sekcji omówiono scenariuszach pracy awaryjnej usługi.</span><span class="sxs-lookup"><span data-stu-id="494ea-211">In this section, we discuss service failover scenarios.</span></span> <span data-ttu-id="494ea-212">W takim przypadku niepowodzenia wykonywany jest gdzieś w ramach usługi, i ujawnia się jako błąd sieciowy.</span><span class="sxs-lookup"><span data-stu-id="494ea-212">In this case, the failure happens somewhere within the service, and it manifests itself as a network error.</span></span> <span data-ttu-id="494ea-213">Poniżej przedstawiono kilka zaleceń dla implementacji kodera do obsługi trybu failover usługi:</span><span class="sxs-lookup"><span data-stu-id="494ea-213">Here are some recommendations for the encoder implementation for handling service failover:</span></span>

1. <span data-ttu-id="494ea-214">Użyj limitu 10 sekundy do nawiązywania połączeń TCP.</span><span class="sxs-lookup"><span data-stu-id="494ea-214">Use a 10-second timeout for establishing the TCP connection.</span></span> <span data-ttu-id="494ea-215">Jeśli próba nawiązania połączenia trwa dłużej niż 10 sekund, przerwać operację i spróbuj ponownie.</span><span class="sxs-lookup"><span data-stu-id="494ea-215">If an attempt to establish the connection takes longer than 10 seconds, abort the operation and try again.</span></span> 
2. <span data-ttu-id="494ea-216">Użyj krótki limit czasu wysyłania żądania HTTP fragmentów komunikatów.</span><span class="sxs-lookup"><span data-stu-id="494ea-216">Use a short timeout for sending the HTTP request message chunks.</span></span> <span data-ttu-id="494ea-217">Jeśli czas fragmentu MP4 docelowy to N sekund, użyj limit czasu wysyłania, od N do 2 N sekund; na przykład jeśli czas trwania fragmentu MP4 6 sekund, Użyj limitu czasu w sekundach 6 i 12.</span><span class="sxs-lookup"><span data-stu-id="494ea-217">If the target MP4 fragment duration is N seconds, use a send timeout between N and 2 N seconds; for example, if the MP4 fragment duration is 6 seconds, use a timeout of 6 to 12 seconds.</span></span> <span data-ttu-id="494ea-218">Jeśli zostanie przekroczony limit czasu, zresetować połączenia, Otwórz nowe połączenie i wznowić strumienia pozyskiwania na nowe połączenie.</span><span class="sxs-lookup"><span data-stu-id="494ea-218">If a timeout occurs, reset the connection, open a new connection, and resume stream ingest on the new connection.</span></span> 
3. <span data-ttu-id="494ea-219">Obsługa stopniowego buforu, który ma ostatnich dwóch fragmenty dla każdej ścieżki, które zostały pomyślnie i całkowicie wysłane do usługi.</span><span class="sxs-lookup"><span data-stu-id="494ea-219">Maintain a rolling buffer that has the last two fragments for each track that were successfully and completely sent to the service.</span></span>  <span data-ttu-id="494ea-220">Jeśli żądanie HTTP POST dla strumienia zostało zakończone lub limit czasu przed koniec strumienia, otworzyć nowe połączenie i rozpocząć kolejnego żądania HTTP POST, Wyślij ponownie nagłówki strumienia wysłania ostatniego dwa fragmenty dla każdej ścieżki i wznowić strumienia bez wprowadzania d iscontinuity na osi czasu nośnika.</span><span class="sxs-lookup"><span data-stu-id="494ea-220">If the HTTP POST request for a stream is terminated or times out prior to the end of the stream, open a new connection and begin another HTTP POST request, resend the stream headers, resend the last two fragments for each track, and resume the stream without introducing a discontinuity in the media timeline.</span></span> <span data-ttu-id="494ea-221">Zmniejsza ryzyko utraty danych.</span><span class="sxs-lookup"><span data-stu-id="494ea-221">This reduces the chance of data loss.</span></span>
4. <span data-ttu-id="494ea-222">Zaleca się, że koder nie istnieje limit liczby ponownych prób nawiązania połączenia lub wznowić przesyłania strumieniowego po wystąpieniu błędu TCP.</span><span class="sxs-lookup"><span data-stu-id="494ea-222">We recommend that the encoder does NOT limit the number of retries to establish a connection or resume streaming after a TCP error occurs.</span></span>
5. <span data-ttu-id="494ea-223">Po wystąpieniu błędu TCP:</span><span class="sxs-lookup"><span data-stu-id="494ea-223">After a TCP error:</span></span>
  
    <span data-ttu-id="494ea-224">a.</span><span class="sxs-lookup"><span data-stu-id="494ea-224">a.</span></span> <span data-ttu-id="494ea-225">Należy zamknąć bieżące połączenie, a nowe połączenie musi zostać utworzony dla nowego żądania HTTP POST.</span><span class="sxs-lookup"><span data-stu-id="494ea-225">The current connection MUST be closed, and a new connection MUST be created for a new HTTP POST request.</span></span>

    <span data-ttu-id="494ea-226">b.</span><span class="sxs-lookup"><span data-stu-id="494ea-226">b.</span></span> <span data-ttu-id="494ea-227">Nowe HTTP POST adres URL musi być taka sama jak początkowego adresu URL przesyłania.</span><span class="sxs-lookup"><span data-stu-id="494ea-227">The new HTTP POST URL MUST be the same as the initial POST URL.</span></span>
  
    <span data-ttu-id="494ea-228">c.</span><span class="sxs-lookup"><span data-stu-id="494ea-228">c.</span></span> <span data-ttu-id="494ea-229">Nowe HTTP POST musi zawierać nagłówki strumienia (**ftyp zawiera informacje**, **aktywne okno manifestu serwera**, i **moov** pól), które są takie same jak nagłówków strumienia początkowej POST.</span><span class="sxs-lookup"><span data-stu-id="494ea-229">The new HTTP POST MUST include stream headers (**ftyp**, **Live Server Manifest Box**, and **moov** boxes) that are identical to the stream headers in the initial POST.</span></span>
  
    <span data-ttu-id="494ea-230">d.</span><span class="sxs-lookup"><span data-stu-id="494ea-230">d.</span></span> <span data-ttu-id="494ea-231">Ostatnie dwa fragmenty, wysyłane dla każdej ścieżki, należy ponownie wysłać i przesyłania strumieniowego wznowienia bez wprowadzania brak ciągłości w osi czasu nośnika.</span><span class="sxs-lookup"><span data-stu-id="494ea-231">The last two fragments sent for each track must be resent, and streaming must resume without introducing a discontinuity in the media timeline.</span></span> <span data-ttu-id="494ea-232">Sygnatury czasowe fragmentu MP4 należy zwiększyć stale, nawet przez żądania HTTP POST.</span><span class="sxs-lookup"><span data-stu-id="494ea-232">The MP4 fragment timestamps must increase continuously, even across HTTP POST requests.</span></span>
6. <span data-ttu-id="494ea-233">Koder należy zakończyć żądanie HTTP POST, jeśli dane nie są wysyłane z szybkością proporcjonalnie do czasu trwania fragmentu MP4.</span><span class="sxs-lookup"><span data-stu-id="494ea-233">The encoder SHOULD terminate the HTTP POST request if data is not being sent at a rate commensurate with the MP4 fragment duration.</span></span>  <span data-ttu-id="494ea-234">Żądanie HTTP POST, który nie będzie przesyłał dane mogą uniemożliwić szybko odłączanie koder w przypadku aktualizacji usługi Media Services.</span><span class="sxs-lookup"><span data-stu-id="494ea-234">An HTTP POST request that does not send data can prevent Media Services from quickly disconnecting from the encoder in the event of a service update.</span></span> <span data-ttu-id="494ea-235">Z tego powodu HTTP POST do rozrzedzonych ścieżki (sygnał ad) powinna być krótkotrwały i przerywa jak rozrzedzonych fragmentu są wysyłane.</span><span class="sxs-lookup"><span data-stu-id="494ea-235">For this reason, the HTTP POST for sparse (ad signal) tracks SHOULD be short-lived, terminating as soon as the sparse fragment is sent.</span></span>

## <a name="8-encoder-failover"></a><span data-ttu-id="494ea-236">8. Koder trybu failover</span><span class="sxs-lookup"><span data-stu-id="494ea-236">8. Encoder failover</span></span>
<span data-ttu-id="494ea-237">Koder pracy awaryjnej jest drugi typ scenariusza trybu failover, który musi być kierowane do dostarczania transmisji strumieniowej na żywo na trasie.</span><span class="sxs-lookup"><span data-stu-id="494ea-237">Encoder failover is the second type of failover scenario that needs to be addressed for end-to-end live streaming delivery.</span></span> <span data-ttu-id="494ea-238">W tym scenariuszu wystąpi błąd na stronie kodera.</span><span class="sxs-lookup"><span data-stu-id="494ea-238">In this scenario, the error condition occurs on the encoder side.</span></span> 

![Koder trybu failover][image5]

<span data-ttu-id="494ea-240">Następujące oczekiwań Zastosuj z punktu końcowego wprowadzanie na żywo w przypadku pracy awaryjnej kodera:</span><span class="sxs-lookup"><span data-stu-id="494ea-240">The following expectations apply from the live ingestion endpoint when encoder failover happens:</span></span>

1. <span data-ttu-id="494ea-241">NALEŻY utworzyć nowe wystąpienie kodera kontynuowanie przesyłania strumieniowego, zgodnie z opisami na diagramie (strumienia wideo z linii kreskowanej k 3000).</span><span class="sxs-lookup"><span data-stu-id="494ea-241">A new encoder instance SHOULD be created to continue streaming, as illustrated in the diagram (Stream for 3000k video, with dashed line).</span></span>
2. <span data-ttu-id="494ea-242">Koder nowe musi używać tego samego adresu URL dla żądania HTTP POST, co wystąpienia nie powiodło się.</span><span class="sxs-lookup"><span data-stu-id="494ea-242">The new encoder MUST use the same URL for HTTP POST requests as the failed instance.</span></span>
3. <span data-ttu-id="494ea-243">Koder nowego żądania POST musi zawierać pola tego samego nagłówka MP4 pofragmentowane jako wystąpienie nie powiodło się.</span><span class="sxs-lookup"><span data-stu-id="494ea-243">The new encoder’s POST request MUST include the same fragmented MP4 header boxes as the failed instance.</span></span>
4. <span data-ttu-id="494ea-244">Koder nowe musi poprawnie synchronizowane za pomocą wszystkich innych uruchomionych koderów dla tej samej prezentacji na żywo można wygenerować zsynchronizowanej przykłady audio i wideo z granice wyrównany fragmentu.</span><span class="sxs-lookup"><span data-stu-id="494ea-244">The new encoder MUST be properly synced with all other running encoders for the same live presentation to generate synced audio/video samples with aligned fragment boundaries.</span></span>
5. <span data-ttu-id="494ea-245">Nowy strumień musi być semantycznie równoważne z poprzednich strumienia i wymienne poziomach nagłówka i fragmentu.</span><span class="sxs-lookup"><span data-stu-id="494ea-245">The new stream MUST be semantically equivalent with the previous stream, and interchangeable at the header and fragment levels.</span></span>
6. <span data-ttu-id="494ea-246">Nowy koder należy spróbować zminimalizować ryzyko utraty danych.</span><span class="sxs-lookup"><span data-stu-id="494ea-246">The new encoder SHOULD try to minimize data loss.</span></span> <span data-ttu-id="494ea-247">`fragment_absolute_time` i `fragment_index` nośnika fragmenty należy zwiększyć od punktu, w którym koder ostatnio zatrzymano.</span><span class="sxs-lookup"><span data-stu-id="494ea-247">The `fragment_absolute_time` and `fragment_index` of media fragments SHOULD increase from the point where the encoder last stopped.</span></span> <span data-ttu-id="494ea-248">`fragment_absolute_time` i `fragment_index` należy zwiększyć w sposób ciągły, ale dozwolone jest wprowadzenie brak ciągłości, jeśli to konieczne.</span><span class="sxs-lookup"><span data-stu-id="494ea-248">The `fragment_absolute_time` and `fragment_index` SHOULD increase in a continuous manner, but it is permissible to introduce a discontinuity, if necessary.</span></span> <span data-ttu-id="494ea-249">Usługi Media Services ignoruje fragmentów, które ma już odbierane i przetwarzane, więc lepiej błąd boku ponowne wysyłanie fragmenty, niż można wprowadzić przerw na osi czasu nośnika.</span><span class="sxs-lookup"><span data-stu-id="494ea-249">Media Services ignores fragments that it has already received and processed, so it's better to err on the side of resending fragments than to introduce discontinuities in the media timeline.</span></span> 

## <a name="9-encoder-redundancy"></a><span data-ttu-id="494ea-250">9. nadmiarowość kodera</span><span class="sxs-lookup"><span data-stu-id="494ea-250">9. Encoder redundancy</span></span>
<span data-ttu-id="494ea-251">Krytyczne dla niektórych wydarzeń na żywo że żądanie nawet wyższej dostępności i jakości obsługi, zaleca się użycie aktywny aktywny nadmiarowych koderów w celu uzyskania płynnego trybu failover bez utraty danych.</span><span class="sxs-lookup"><span data-stu-id="494ea-251">For certain critical live events that demand even higher availability and quality of experience, we recommended that you use active-active redundant encoders to achieve seamless failover with no data loss.</span></span>

![nadmiarowość kodera][image6]

<span data-ttu-id="494ea-253">Zgodnie z opisami na tym diagramie, dwie grupy koderów push dwie kopie każdego strumienia jednocześnie w ramach usługi na żywo.</span><span class="sxs-lookup"><span data-stu-id="494ea-253">As illustrated in this diagram, two groups of encoders push two copies of each stream simultaneously into the live service.</span></span> <span data-ttu-id="494ea-254">Ta konfiguracja jest obsługiwana, ponieważ usługi Media Services można odfiltrować zduplikowane fragmenty oparte na sygnatury czasowej ID i fragment strumienia.</span><span class="sxs-lookup"><span data-stu-id="494ea-254">This setup is supported because Media Services can filter out duplicate fragments based on stream ID and fragment timestamp.</span></span> <span data-ttu-id="494ea-255">Wynikowa strumień na żywo i archiwum jest pojedynczej kopii wszystkich strumieni, który jest najlepsze możliwe agregacji z dwóch źródeł.</span><span class="sxs-lookup"><span data-stu-id="494ea-255">The resulting live stream and archive is a single copy of all the streams that is the best possible aggregation from the two sources.</span></span> <span data-ttu-id="494ea-256">Na przykład w hipotetyczny przypadków, tak długo, jak istnieje jeden koder (nie musi on być taki sam) jest uruchomiona na dowolnym etapie w czasie dla każdego strumienia, wynikowy strumień na żywo z usługi jest ciągły bez utraty danych.</span><span class="sxs-lookup"><span data-stu-id="494ea-256">For example, in a hypothetical extreme case, as long as there is one encoder (it doesn’t have to be the same one) running at any given point in time for each stream, the resulting live stream from the service is continuous without data loss.</span></span> 

<span data-ttu-id="494ea-257">Wymagania dotyczące tego scenariusza są prawie takie same, jak wymagania w przypadku "Kodera trybu failover", z wyjątkiem drugi zestaw koderów uruchomionych w tym samym czasie jako podstawowy koderów.</span><span class="sxs-lookup"><span data-stu-id="494ea-257">The requirements for this scenario are almost the same as the requirements in the "Encoder failover" case, with the exception that the second set of encoders are running at the same time as the primary encoders.</span></span>

## <a name="10-service-redundancy"></a><span data-ttu-id="494ea-258">10. nadmiarowość usługi</span><span class="sxs-lookup"><span data-stu-id="494ea-258">10. Service redundancy</span></span>
<span data-ttu-id="494ea-259">Czasami wysokiej nadmiarowe dystrybucji globalnych, musi mieć między region tworzenia kopii zapasowej do obsługi regionalnej awarii.</span><span class="sxs-lookup"><span data-stu-id="494ea-259">For highly redundant global distribution, sometimes you must have cross-region backup to handle regional disasters.</span></span> <span data-ttu-id="494ea-260">Rozszerzając topologii "Kodera nadmiarowość", klienci można wybrać wdrożenia nadmiarowe usługi w innym regionie, który jest połączony z drugiego zestawu koderów.</span><span class="sxs-lookup"><span data-stu-id="494ea-260">Expanding on the “Encoder redundancy” topology, customers can choose to have a redundant service deployment in a different region that's connected with the second set of encoders.</span></span> <span data-ttu-id="494ea-261">Klienci mogą również współpracować z dostawcy Content Delivery Network, aby wdrożyć globalne Menedżera ruchu przed wdrożenia usługi dwóch bezproblemowo przekierowujący ruch z klientów.</span><span class="sxs-lookup"><span data-stu-id="494ea-261">Customers also can work with a Content Delivery Network provider to deploy a Global Traffic Manager in front of the two service deployments to seamlessly route client traffic.</span></span> <span data-ttu-id="494ea-262">Wymagania dotyczące koderów są takie same jak przypadek "Kodera nadmiarowość".</span><span class="sxs-lookup"><span data-stu-id="494ea-262">The requirements for the encoders are the same as the “Encoder redundancy” case.</span></span> <span data-ttu-id="494ea-263">Jedynym wyjątkiem jest to, że drugi zestaw musi koderów na żywo wskazać inny pozyskiwania punktu końcowego.</span><span class="sxs-lookup"><span data-stu-id="494ea-263">The only exception is that the second set of encoders needs to be pointed to a different live ingest endpoint.</span></span> <span data-ttu-id="494ea-264">Na poniższym diagramie przedstawiono Instalatora:</span><span class="sxs-lookup"><span data-stu-id="494ea-264">The following diagram shows this setup:</span></span>

![nadmiarowość usługi][image7]

## <a name="11-special-types-of-ingestion-formats"></a><span data-ttu-id="494ea-266">11. Specjalne rodzaje wprowadzanie formatów</span><span class="sxs-lookup"><span data-stu-id="494ea-266">11. Special types of ingestion formats</span></span>
<span data-ttu-id="494ea-267">W tej sekcji omówiono specjalne rodzaje formatów wprowadzanie na żywo, które są przeznaczone do obsługi określonych scenariuszy.</span><span class="sxs-lookup"><span data-stu-id="494ea-267">This section discusses special types of live ingestion formats that are designed to handle specific scenarios.</span></span>

### <a name="sparse-track"></a><span data-ttu-id="494ea-268">Śledź rozrzedzony</span><span class="sxs-lookup"><span data-stu-id="494ea-268">Sparse track</span></span>
<span data-ttu-id="494ea-269">W celu dostarczenia prezentacji transmisji strumieniowej na żywo przy użyciu środowiska wzbogaconego klienta, często jest niezbędne do przekazywania zdarzenia zsynchronizowany czas lub sygnały wewnątrzpasmowe przy użyciu danych głównych nośnika.</span><span class="sxs-lookup"><span data-stu-id="494ea-269">When delivering a live streaming presentation with a rich client experience, often it's necessary to transmit time-synced events or signals in-band with the main media data.</span></span> <span data-ttu-id="494ea-270">Na przykład jest wstawiania reklam na żywo dynamicznych.</span><span class="sxs-lookup"><span data-stu-id="494ea-270">An example of this is dynamic live ad insertion.</span></span> <span data-ttu-id="494ea-271">Ten typ zdarzenia sygnalizowania różni się od przesyłania strumieniowego z powodu natury rozrzedzonych regularne audio/wideo.</span><span class="sxs-lookup"><span data-stu-id="494ea-271">This type of event signaling is different from regular audio/video streaming because of its sparse nature.</span></span> <span data-ttu-id="494ea-272">Innymi słowy sygnalizowania danych zwykle odbywa się stale i interwał może być trudna do przewidzenia.</span><span class="sxs-lookup"><span data-stu-id="494ea-272">In other words, the signaling data usually does not happen continuously, and the interval can be hard to predict.</span></span> <span data-ttu-id="494ea-273">Pojęcie rozrzedzonych Śledź została zaprojektowana w celu pozyskiwania i emisji wewnątrzpasmowe sygnalizowania danych.</span><span class="sxs-lookup"><span data-stu-id="494ea-273">The concept of sparse track was designed to ingest and broadcast in-band signaling data.</span></span>

<span data-ttu-id="494ea-274">Poniższe kroki są zalecane implementacji służy do wprowadzania rozrzedzonych Śledź:</span><span class="sxs-lookup"><span data-stu-id="494ea-274">The following steps are a recommended implementation for ingesting sparse track:</span></span>

1. <span data-ttu-id="494ea-275">Utwórz oddzielne bitstream MP4 pofragmentowane zawierający tylko rozrzedzonych ścieżki, bez ścieżki audio i wideo.</span><span class="sxs-lookup"><span data-stu-id="494ea-275">Create a separate fragmented MP4 bitstream that contains only sparse tracks, without audio/video tracks.</span></span>
2. <span data-ttu-id="494ea-276">W **aktywne okno manifestu serwera** zgodnie z definicją w sekcji 6 w [1], użyj *parentTrackName* parametru w celu określenia nazwy ścieżki nadrzędnej. Aby uzyskać więcej informacji zobacz sekcję 4.2.1.2.1.2 w [1].</span><span class="sxs-lookup"><span data-stu-id="494ea-276">In the **Live Server Manifest Box** as defined in Section 6 in [1], use the *parentTrackName* parameter to specify the name of the parent track. For more information, see section 4.2.1.2.1.2 in [1].</span></span>
3. <span data-ttu-id="494ea-277">W **aktywne okno manifestu serwera**, **manifestOutput** musi mieć ustawioną **true**.</span><span class="sxs-lookup"><span data-stu-id="494ea-277">In the **Live Server Manifest Box**, **manifestOutput** MUST be set to **true**.</span></span>
4. <span data-ttu-id="494ea-278">Rozrzedzony charakter sygnalizowania zdarzenia, zaleca się następujące czynności:</span><span class="sxs-lookup"><span data-stu-id="494ea-278">Given the sparse nature of the signaling event, we recommended the following:</span></span>
   
    <span data-ttu-id="494ea-279">a.</span><span class="sxs-lookup"><span data-stu-id="494ea-279">a.</span></span> <span data-ttu-id="494ea-280">Na początku wydarzenia na żywo, koder wysyła pola nagłówka początkowej z usługą, dzięki czemu usługa do zarejestrowania rozrzedzonych śledzenie w manifeście klienta.</span><span class="sxs-lookup"><span data-stu-id="494ea-280">At the beginning of the live event, the encoder sends the initial header boxes to the service, which allows the service to register the sparse track in the client manifest.</span></span>
   
    <span data-ttu-id="494ea-281">b.</span><span class="sxs-lookup"><span data-stu-id="494ea-281">b.</span></span> <span data-ttu-id="494ea-282">Koder powinien przerwanie żądanie HTTP POST, gdy dane nie są wysyłane.</span><span class="sxs-lookup"><span data-stu-id="494ea-282">The encoder SHOULD terminate the HTTP POST request when data is not being sent.</span></span> <span data-ttu-id="494ea-283">Długotrwałe HTTP POST nie wysyła dane mogą uniemożliwić szybko odłączanie koder w przypadku ponownego uruchomienia aktualizacji lub serwera usługi Media Services.</span><span class="sxs-lookup"><span data-stu-id="494ea-283">A long-running HTTP POST that does not send data can prevent Media Services from quickly disconnecting from the encoder in the event of a service update or server reboot.</span></span> <span data-ttu-id="494ea-284">W takich przypadkach serwer multimediów jest tymczasowo zablokowany w operacji odbierania dla gniazda.</span><span class="sxs-lookup"><span data-stu-id="494ea-284">In these cases, the media server is temporarily blocked in a receive operation on the socket.</span></span>
   
    <span data-ttu-id="494ea-285">c.</span><span class="sxs-lookup"><span data-stu-id="494ea-285">c.</span></span> <span data-ttu-id="494ea-286">W czasie, gdy nie są dostępne dane sygnalizowania koder SHOULD Zamknij POST protokołu HTTP żądania.</span><span class="sxs-lookup"><span data-stu-id="494ea-286">During the time when signaling data is not available, the encoder SHOULD close the HTTP POST request.</span></span> <span data-ttu-id="494ea-287">Gdy żądanie POST jest aktywny, koder należy wysłać danych.</span><span class="sxs-lookup"><span data-stu-id="494ea-287">While the POST request is active, the encoder SHOULD send data.</span></span>

    <span data-ttu-id="494ea-288">d.</span><span class="sxs-lookup"><span data-stu-id="494ea-288">d.</span></span> <span data-ttu-id="494ea-289">Podczas wysyłania rozrzedzonych fragmenty, koder można ustawić jawne nagłówek content-length, jeśli jest dostępna.</span><span class="sxs-lookup"><span data-stu-id="494ea-289">When sending sparse fragments, the encoder can set an explicit content-length header, if it’s available.</span></span>

    <span data-ttu-id="494ea-290">e.</span><span class="sxs-lookup"><span data-stu-id="494ea-290">e.</span></span> <span data-ttu-id="494ea-291">Podczas wysyłania rozrzedzonych fragmenty o nowe połączenie, koder powinno Rozpocznij wysyłanie pól nagłówka, następuje nowych fragmentów.</span><span class="sxs-lookup"><span data-stu-id="494ea-291">When sending sparse fragments with a new connection, the encoder SHOULD start sending from the header boxes, followed by the new fragments.</span></span> <span data-ttu-id="494ea-292">Dotyczy to przypadków, w których trybu failover wykonywany między nimi, i ustanowiono nowe połączenie rozrzedzonych na nowy serwer, który nie otrzymała rozrzedzonych Śledź przed.</span><span class="sxs-lookup"><span data-stu-id="494ea-292">This is for cases in which failover happens in-between, and the new sparse connection is being established to a new server that has not seen the sparse track before.</span></span>

    <span data-ttu-id="494ea-293">f.</span><span class="sxs-lookup"><span data-stu-id="494ea-293">f.</span></span> <span data-ttu-id="494ea-294">Fragment rozrzedzonych Śledź staje się dostępnych dla klienta, gdy odpowiedni fragment Śledź nadrzędnego, który ma wartość równą lub większą sygnatury czasowej jest udostępniana do klienta.</span><span class="sxs-lookup"><span data-stu-id="494ea-294">The sparse track fragment becomes available to the client when the corresponding parent track fragment that has an equal or larger timestamp value is made available to the client.</span></span> <span data-ttu-id="494ea-295">Na przykład, jeśli rozrzedzonych fragmentu zawiera sygnaturę czasową t = 1000, oczekuje się, że po klienta widzi "wideo" (przy założeniu nazwa ścieżki nadrzędnej "wideo") fragmentu sygnatury czasowej 1000 lub nowszych, można pobrać fragmentu rozrzedzonych t = 1000.</span><span class="sxs-lookup"><span data-stu-id="494ea-295">For example, if the sparse fragment has a timestamp of t=1000, it is expected that after the client sees "video" (assuming the parent track name is "video") fragment timestamp 1000 or beyond, it can download the sparse fragment t=1000.</span></span> <span data-ttu-id="494ea-296">Należy pamiętać, że rzeczywiste sygnał mogłyby zostać użyte do w inne miejsce na osi czasu prezentacji wyznaczone z przeznaczeniem.</span><span class="sxs-lookup"><span data-stu-id="494ea-296">Note that the actual signal could be used for a different position in the presentation timeline for its designated purpose.</span></span> <span data-ttu-id="494ea-297">W tym przykładzie możliwe jest który fragment rozrzedzonych t = 1000 ma ładunek XML, czyli wstawiania ad w pozycji, która jest kilka sekund później.</span><span class="sxs-lookup"><span data-stu-id="494ea-297">In this example, it’s possible that the sparse fragment of t=1000 has an XML payload, which is for inserting an ad in a position that’s a few seconds later.</span></span>

    <span data-ttu-id="494ea-298">g.</span><span class="sxs-lookup"><span data-stu-id="494ea-298">g.</span></span> <span data-ttu-id="494ea-299">Ładunek fragmenty Śledź rozrzedzonych może być w różnych formatach (na przykład XML, tekst lub binarny), w zależności od scenariusza.</span><span class="sxs-lookup"><span data-stu-id="494ea-299">The payload of sparse track fragments can be in different formats (such as XML, text, or binary), depending on the scenario.</span></span>

### <a name="redundant-audio-track"></a><span data-ttu-id="494ea-300">Nadmiarowe ścieżki audio</span><span class="sxs-lookup"><span data-stu-id="494ea-300">Redundant audio track</span></span>
<span data-ttu-id="494ea-301">W typowym HTTP adaptacyjnego przesyłania strumieniowego scenariuszu (na przykład, Smooth Streaming lub kreska) często istnieje tylko jedną ścieżkę audio w całej prezentacji.</span><span class="sxs-lookup"><span data-stu-id="494ea-301">In a typical HTTP adaptive streaming scenario (for example, Smooth Streaming or DASH), often, there's only one audio track in the entire presentation.</span></span> <span data-ttu-id="494ea-302">W przeciwieństwie do ścieżki wideo, które mają wiele poziomów jakości klienta do wyboru w warunkach błędu, ścieżka audio może być pojedynczym punktem awarii, jeśli wprowadzanie strumienia, który zawiera ścieżkę audio zostało przerwane.</span><span class="sxs-lookup"><span data-stu-id="494ea-302">Unlike video tracks, which have multiple quality levels for the client to choose from in error conditions, the audio track can be a single point of failure if the ingestion of the stream that contains the audio track is broken.</span></span> 

<span data-ttu-id="494ea-303">Aby rozwiązać ten problem, usługi Media Services obsługuje wprowadzanie na żywo z nadmiarowe ścieżki audio.</span><span class="sxs-lookup"><span data-stu-id="494ea-303">To solve this problem, Media Services supports live ingestion of redundant audio tracks.</span></span> <span data-ttu-id="494ea-304">Koncepcja jest, że tej samej ścieżki audio mogą być wysyłane wielokrotnie w różnych strumieni.</span><span class="sxs-lookup"><span data-stu-id="494ea-304">The idea is that the same audio track can be sent multiple times in different streams.</span></span> <span data-ttu-id="494ea-305">Chociaż usługa tylko rejestruje ścieżki audio raz w manifeście klienta, może używać nadmiarowe ścieżki audio jako zapasowe pobierania audio fragmenty, jeśli głównej ścieżki audio występują problemy.</span><span class="sxs-lookup"><span data-stu-id="494ea-305">Although the service only registers the audio track once in the client manifest, it can use redundant audio tracks as backups for retrieving audio fragments if the primary audio track has issues.</span></span> <span data-ttu-id="494ea-306">Aby pozyskiwania nadmiarowe ścieżki audio, koder musi:</span><span class="sxs-lookup"><span data-stu-id="494ea-306">To ingest redundant audio tracks, the encoder needs to:</span></span>

1. <span data-ttu-id="494ea-307">Utwórz tej samej ścieżki audio w wielu fragmentu MP4 bitstreams.</span><span class="sxs-lookup"><span data-stu-id="494ea-307">Create the same audio track in multiple fragment MP4 bitstreams.</span></span> <span data-ttu-id="494ea-308">Nadmiarowe ścieżki audio musi być semantycznie równoważne z tego samego fragmentu sygnatury czasowe, a wymienne poziomach nagłówka i fragmentu.</span><span class="sxs-lookup"><span data-stu-id="494ea-308">The redundant audio tracks MUST be semantically equivalent, with the same fragment timestamps, and be interchangeable at the header and fragment levels.</span></span>
2. <span data-ttu-id="494ea-309">Upewnij się, że wpis "audio" w aktywnego serwera manifestu (sekcja 6 [1]) jest taka sama dla wszystkich nadmiarowe ścieżki audio.</span><span class="sxs-lookup"><span data-stu-id="494ea-309">Ensure that the “audio” entry in the Live Server Manifest (Section 6 in [1]) is the same for all redundant audio tracks.</span></span>

<span data-ttu-id="494ea-310">Nadmiarowe ścieżki audio zaleca się wykonanie następujących:</span><span class="sxs-lookup"><span data-stu-id="494ea-310">The following implementation is recommended for redundant audio tracks:</span></span>

1. <span data-ttu-id="494ea-311">Wyślij każdego unikatową ścieżkę audio w strumieniu samodzielnie.</span><span class="sxs-lookup"><span data-stu-id="494ea-311">Send each unique audio track in a stream by itself.</span></span> <span data-ttu-id="494ea-312">Także wysłać strumień nadmiarowe dla każdego z tych strumieni ścieżki audio, gdy drugi strumienia różni się od pierwszego tylko przez identyfikator w adresie URL HTTP POST: {protokołu} :// {adres serwera} / {publikowanie path}/Streams({identifier}) punktu.</span><span class="sxs-lookup"><span data-stu-id="494ea-312">Also, send a redundant stream for each of these audio track streams, where the second stream differs from the first only by the identifier in the HTTP POST URL: {protocol}://{server address}/{publishing point path}/Streams({identifier}).</span></span>
2. <span data-ttu-id="494ea-313">Oddzielne strumienie umożliwia wysłanie dwóch najniższy wideo szybkości transmisji bitów.</span><span class="sxs-lookup"><span data-stu-id="494ea-313">Use separate streams to send the two lowest video bitrates.</span></span> <span data-ttu-id="494ea-314">Każdy z tych strumieni powinien również zawierać kopię każdego unikatową ścieżkę audio. Na przykład jeśli obsługuje wiele języków, tych strumieni powinien zawierać ścieżek audio dla każdego języka.</span><span class="sxs-lookup"><span data-stu-id="494ea-314">Each of these streams SHOULD also contain a copy of each unique audio track. For example, when multiple languages are supported, these streams SHOULD contain audio tracks for each language.</span></span>
3. <span data-ttu-id="494ea-315">Użyj wystąpienia oddzielny serwer (koder) do kodowania i wysyłania strumienia nadmiarowe wspomnianego (1) i (2).</span><span class="sxs-lookup"><span data-stu-id="494ea-315">Use separate server (encoder) instances to encode and send the redundant streams mentioned in (1) and (2).</span></span> 

## <a name="media-services-learning-paths"></a><span data-ttu-id="494ea-316">Ścieżki szkoleniowe dotyczące usługi Media Services</span><span class="sxs-lookup"><span data-stu-id="494ea-316">Media Services learning paths</span></span>
[!INCLUDE [media-services-learning-paths-include](../../includes/media-services-learning-paths-include.md)]

## <a name="provide-feedback"></a><span data-ttu-id="494ea-317">Przekazywanie opinii</span><span class="sxs-lookup"><span data-stu-id="494ea-317">Provide feedback</span></span>
[!INCLUDE [media-services-user-voice-include](../../includes/media-services-user-voice-include.md)]

[image1]: ./media/media-services-fmp4-live-ingest-overview/media-services-image1.png
[image2]: ./media/media-services-fmp4-live-ingest-overview/media-services-image2.png
[image3]: ./media/media-services-fmp4-live-ingest-overview/media-services-image3.png
[image4]: ./media/media-services-fmp4-live-ingest-overview/media-services-image4.png
[image5]: ./media/media-services-fmp4-live-ingest-overview/media-services-image5.png
[image6]: ./media/media-services-fmp4-live-ingest-overview/media-services-image6.png
[image7]: ./media/media-services-fmp4-live-ingest-overview/media-services-image7.png
