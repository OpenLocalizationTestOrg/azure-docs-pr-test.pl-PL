---
title: "Centrum IoT wysokiej dostępności i odzyskiwania po awarii aaaAzure | Dokumentacja firmy Microsoft"
description: "Zawiera opis funkcji platformy Azure i Centrum IoT hello ułatwiające toobuild wysokiej dostępności rozwiązania Azure IoT o możliwości odzyskiwania po awarii."
services: iot-hub
documentationcenter: 
author: fsautomata
manager: timlt
editor: 
ms.assetid: ae320e58-aa20-45b9-abdc-fa4faae8e6dd
ms.service: iot-hub
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 11/16/2016
ms.author: elioda
ms.openlocfilehash: 74e1fa1682258819ffb3fd84eb79e42fc6e4120f
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="iot-hub-high-availability-and-disaster-recovery"></a><span data-ttu-id="da91f-103">Centrum IoT wysokiej dostępności i odzyskiwania po awarii</span><span class="sxs-lookup"><span data-stu-id="da91f-103">IoT Hub high availability and disaster recovery</span></span>
<span data-ttu-id="da91f-104">Jako usługi Azure IoT Hub zapewnia wysokiej dostępności (HA), za pomocą zwolnienia na poziomie hello region platformy Azure, bez konieczności wykonywania dodatkowych działań, wymagany przez rozwiązanie hello.</span><span class="sxs-lookup"><span data-stu-id="da91f-104">As an Azure service, IoT Hub provides high availability (HA) using redundancies at hello Azure region level, without any additional work required by hello solution.</span></span> <span data-ttu-id="da91f-105">platformy Microsoft Azure Hello także toohelp funkcje tworzenia rozwiązań z możliwości odzyskiwanie po awarii lub dostępności między regionu.</span><span class="sxs-lookup"><span data-stu-id="da91f-105">hello Microsoft Azure platform also includes features toohelp you build solutions with disaster recovery (DR) capabilities or cross-region availability.</span></span> <span data-ttu-id="da91f-106">Chcąc tooprovide globalnych, region między wysoką dostępność dla urządzeń lub użytkowników, projektowania i przygotowanie rozwiązań tootake korzystać z tych funkcji Azure odzyskiwania po awarii.</span><span class="sxs-lookup"><span data-stu-id="da91f-106">If you want tooprovide global, cross-region high availability for devices or users, design and prepare your solutions tootake advantage of these Azure DR features.</span></span> <span data-ttu-id="da91f-107">Artykuł Hello [wskazówki techniczne ciągłości biznesowej Azure](../resiliency/resiliency-technical-guidance.md) opisuje hello wbudowanych funkcji na platformie Azure ciągłość prowadzenia działalności biznesowej i odzyskiwania po awarii.</span><span class="sxs-lookup"><span data-stu-id="da91f-107">hello article [Azure Business Continuity Technical Guidance](../resiliency/resiliency-technical-guidance.md) describes hello built-in features in Azure for business continuity and DR.</span></span> <span data-ttu-id="da91f-108">Witaj [odzyskiwania po awarii i wysoką dostępność aplikacji Azure] [ Disaster recovery and high availability for Azure applications] papieru znajdują się wskazówki dotyczące architektury dotyczące strategii tooachieve aplikacji Azure wysokiej dostępności i odzyskiwania po awarii.</span><span class="sxs-lookup"><span data-stu-id="da91f-108">hello [Disaster recovery and high availability for Azure applications][Disaster recovery and high availability for Azure applications] paper provides architecture guidance on strategies for Azure applications tooachieve HA and DR.</span></span>

## <a name="azure-iot-hub-dr"></a><span data-ttu-id="da91f-109">DR Centrum IoT Azure</span><span class="sxs-lookup"><span data-stu-id="da91f-109">Azure IoT Hub DR</span></span>
<span data-ttu-id="da91f-110">Ponadto HA toointra region Centrum IoT implementuje mechanizmów pracy awaryjnej dla odzyskiwania po awarii, które wymagają interwencji użytkownika hello.</span><span class="sxs-lookup"><span data-stu-id="da91f-110">In addition toointra-region HA, IoT Hub implements failover mechanisms for disaster recovery that require no intervention from hello user.</span></span> <span data-ttu-id="da91f-111">DR Centrum IoT własnym jest inicjowane i ma celu czasu odzyskiwania (RTO), 2-26 godzin i hello następujących celów punktu odzyskiwania (RPO).</span><span class="sxs-lookup"><span data-stu-id="da91f-111">IoT Hub DR is self-initiated and has a recovery time objective (RTO) of 2-26 hours, and hello following recovery point objectives (RPOs).</span></span>

| <span data-ttu-id="da91f-112">Funkcjonalność</span><span class="sxs-lookup"><span data-stu-id="da91f-112">Functionality</span></span> | <span data-ttu-id="da91f-113">CEL PUNKTU ODZYSKIWANIA</span><span class="sxs-lookup"><span data-stu-id="da91f-113">RPO</span></span> |
| --- | --- |
| <span data-ttu-id="da91f-114">Dostępność usługi dla operacji rejestru i komunikacji</span><span class="sxs-lookup"><span data-stu-id="da91f-114">Service availability for registry and communication operations</span></span> |<span data-ttu-id="da91f-115">Możliwa utrata CName</span><span class="sxs-lookup"><span data-stu-id="da91f-115">Possible CName loss</span></span> |
| <span data-ttu-id="da91f-116">Danych tożsamości w rejestrze tożsamości</span><span class="sxs-lookup"><span data-stu-id="da91f-116">Identity data in identity registry</span></span> |<span data-ttu-id="da91f-117">0 – 5 minutach utrata danych</span><span class="sxs-lookup"><span data-stu-id="da91f-117">0-5 mins data loss</span></span> |
| <span data-ttu-id="da91f-118">Komunikaty z urządzenia do chmury</span><span class="sxs-lookup"><span data-stu-id="da91f-118">Device-to-cloud messages</span></span> |<span data-ttu-id="da91f-119">Wszystkie komunikaty nieprzeczytana zostaną utracone</span><span class="sxs-lookup"><span data-stu-id="da91f-119">All unread messages are lost</span></span> |
| <span data-ttu-id="da91f-120">Operacje monitorowania wiadomości</span><span class="sxs-lookup"><span data-stu-id="da91f-120">Operations monitoring messages</span></span> |<span data-ttu-id="da91f-121">Wszystkie komunikaty nieprzeczytana zostaną utracone</span><span class="sxs-lookup"><span data-stu-id="da91f-121">All unread messages are lost</span></span> |
| <span data-ttu-id="da91f-122">Komunikaty chmury do urządzenia</span><span class="sxs-lookup"><span data-stu-id="da91f-122">Cloud-to-device messages</span></span> |<span data-ttu-id="da91f-123">0 – 5 minutach utrata danych</span><span class="sxs-lookup"><span data-stu-id="da91f-123">0-5 mins data loss</span></span> |
| <span data-ttu-id="da91f-124">Kolejki opinii chmury do urządzenia</span><span class="sxs-lookup"><span data-stu-id="da91f-124">Cloud-to-device feedback queue</span></span> |<span data-ttu-id="da91f-125">Wszystkie komunikaty nieprzeczytana zostaną utracone</span><span class="sxs-lookup"><span data-stu-id="da91f-125">All unread messages are lost</span></span> |

## <a name="regional-failover-with-iot-hub"></a><span data-ttu-id="da91f-126">Regionalne trybu failover z Centrum IoT</span><span class="sxs-lookup"><span data-stu-id="da91f-126">Regional failover with IoT Hub</span></span>
<span data-ttu-id="da91f-127">Zakończenie traktowania topologii wdrażania w rozwiązania IoT znajduje się poza hello zakres tego artykułu.</span><span class="sxs-lookup"><span data-stu-id="da91f-127">A complete treatment of deployment topologies in IoT solutions is outside hello scope of this article.</span></span> <span data-ttu-id="da91f-128">Witaj omówiono hello *regionalnej pracy awaryjnej* modelu wdrażania hello w celu wysokiej dostępności i odzyskiwania po awarii.</span><span class="sxs-lookup"><span data-stu-id="da91f-128">hello article discusses hello *regional failover* deployment model for hello purpose of high availability and disaster recovery.</span></span>

<span data-ttu-id="da91f-129">W modelu regionalnej pracy awaryjnej hello rozwiązania wstecz końcowy uruchomień głównie w centrum danych w jednej lokalizacji, a dodatkowej Centrum IoT i zaplecza są wdrażane w innym miejscu centrum danych.</span><span class="sxs-lookup"><span data-stu-id="da91f-129">In a regional failover model, hello solution back end runs primarily in one datacenter location, and a secondary IoT hub and back end are deployed in another datacenter location.</span></span> <span data-ttu-id="da91f-130">Jeśli Centrum IoT hello w centrum danych głównej hello wystąpi awaria lub hello połączenia sieciowego z hello urządzenia toohello podstawowego centrum danych zostało przerwane.</span><span class="sxs-lookup"><span data-stu-id="da91f-130">If hello IoT hub in hello primary datacenter suffers an outage or hello network connectivity from hello device toohello primary datacenter is interrupted.</span></span> <span data-ttu-id="da91f-131">Urządzenia używają punkt końcowy usługi dodatkowej zawsze, gdy nie można nawiązać połączenia z bramą głównej hello.</span><span class="sxs-lookup"><span data-stu-id="da91f-131">Devices use a secondary service endpoint whenever hello primary gateway cannot be reached.</span></span> <span data-ttu-id="da91f-132">Dzięki możliwości trybu failover między regionu można zwiększyć dostępności rozwiązania hello poza hello wysokiej dostępności z jednego regionu.</span><span class="sxs-lookup"><span data-stu-id="da91f-132">With a cross-region failover capability, hello solution availability can be improved beyond hello high availability of a single region.</span></span>

<span data-ttu-id="da91f-133">Na wysokim poziomie tooimplement modelu regionalnej pracy awaryjnej z Centrum IoT należy hello następujące czynności:</span><span class="sxs-lookup"><span data-stu-id="da91f-133">At a high level, tooimplement a regional failover model with IoT Hub, you need hello following:</span></span>

* <span data-ttu-id="da91f-134">**Dodatkowej Centrum IoT i urządzenia routingu logiki**: W przypadku hello przerw w działaniu usługi w danym regionie podstawowym, urządzenia musi rozpoczynać się łączącego tooyour regionie pomocniczym.</span><span class="sxs-lookup"><span data-stu-id="da91f-134">**A secondary IoT hub and device routing logic**: In hello case of a service disruption in your primary region, devices must start connecting tooyour secondary region.</span></span> <span data-ttu-id="da91f-135">Biorąc pod uwagę hello obsługujący stanu rodzaj większość usług, jest typowe dla rozwiązania Administratorzy tootrigger hello trybu failover między region procesu.</span><span class="sxs-lookup"><span data-stu-id="da91f-135">Given hello state-aware nature of most services involved, it is common for solution administrators tootrigger hello inter-region failover process.</span></span> <span data-ttu-id="da91f-136">Hello najlepsze sposób toocommunicate hello nowego punktu końcowego toodevices, przy zachowaniu kontroli procesu hello jest ich regularne sprawdzanie toohave *Konsjerż* hello bieżącego aktywnego punktu końcowego usługi.</span><span class="sxs-lookup"><span data-stu-id="da91f-136">hello best way toocommunicate hello new endpoint toodevices, while maintaining control of hello process, is toohave them regularly check a *concierge* service for hello current active endpoint.</span></span> <span data-ttu-id="da91f-137">Witaj Konsjerż usługi mogą być replikowane i przechowywane dostępny aplikacji sieci web przy użyciu technik przekierowania DNS (na przykład za pomocą [usługi Azure Traffic Manager][Azure Traffic Manager]).</span><span class="sxs-lookup"><span data-stu-id="da91f-137">hello concierge service can be a web application that is replicated and kept reachable using DNS-redirection techniques (for example, using [Azure Traffic Manager][Azure Traffic Manager]).</span></span>
* <span data-ttu-id="da91f-138">**Replikacja rejestru tożsamości** -toobe można używać, pomocniczego Centrum IoT hello musi zawierać wszystkie tożsamości urządzenia, które można połączyć rozwiązanie toohello.</span><span class="sxs-lookup"><span data-stu-id="da91f-138">**Identity registry replication** - toobe usable, hello secondary IoT hub must contain all device identities that can connect toohello solution.</span></span> <span data-ttu-id="da91f-139">Hello rozwiązania należy zachować replikacją geograficzną kopii zapasowych tożsamości urządzenia i przekazać je toohello dodatkowej Centrum IoT przed przełączeniem hello aktywnego punktu końcowego dla urządzeń hello.</span><span class="sxs-lookup"><span data-stu-id="da91f-139">hello solution should keep geo-replicated backups of device identities, and upload them toohello secondary IoT hub before switching hello active endpoint for hello devices.</span></span> <span data-ttu-id="da91f-140">Funkcja eksportu tożsamości urządzenia Hello Centrum IoT jest przydatne w tym kontekście.</span><span class="sxs-lookup"><span data-stu-id="da91f-140">hello device identity export functionality of IoT Hub is useful in this context.</span></span> <span data-ttu-id="da91f-141">Aby uzyskać więcej informacji, zobacz [Centrum IoT — przewodnik dewelopera - rejestru tożsamości][IoT Hub developer guide - identity registry].</span><span class="sxs-lookup"><span data-stu-id="da91f-141">For more information, see [IoT Hub developer guide - identity registry][IoT Hub developer guide - identity registry].</span></span>
* <span data-ttu-id="da91f-142">**Scalanie logiki** — po regionu podstawowego hello znowu dostępne, wszystkie hello stan i dane, które zostały utworzone w lokacji dodatkowej hello musi być regionu podstawowego migrowanych toohello Wstecz.</span><span class="sxs-lookup"><span data-stu-id="da91f-142">**Merging logic** - When hello primary region becomes available again, all hello state and data that have been created in hello secondary site must be migrated back toohello primary region.</span></span> <span data-ttu-id="da91f-143">Ten stan i dane dotyczy przede wszystkim toodevice tożsamości i metadane aplikacji, które muszą zostać połączone z Centrum IoT głównej hello i innych magazynach specyficzne dla aplikacji w regionie podstawowym hello.</span><span class="sxs-lookup"><span data-stu-id="da91f-143">This state and data mostly relates toodevice identities and application metadata, which must be merged with hello primary IoT hub and any other application-specific stores in hello primary region.</span></span> <span data-ttu-id="da91f-144">toosimplify ten krok, należy użyć operacji idempotentności.</span><span class="sxs-lookup"><span data-stu-id="da91f-144">toosimplify this step, you should use idempotent operations.</span></span> <span data-ttu-id="da91f-145">Operacje idempotentności zminimalizować hello efekty uboczne hello ostatecznego spójne dystrybucję zdarzeń i duplikatów ani poza kolejnością dostarczania zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="da91f-145">Idempotent operations minimize hello side-effects from hello eventual consistent distribution of events, and from duplicates or out-of-order delivery of events.</span></span> <span data-ttu-id="da91f-146">Ponadto logiki aplikacji hello powinien być zaprojektowana tootolerate potencjalnych niespójności lub "nieco" Data-ze stanu.</span><span class="sxs-lookup"><span data-stu-id="da91f-146">In addition, hello application logic should be designed tootolerate potential inconsistencies or "slightly" out of date-state.</span></span> <span data-ttu-id="da91f-147">Taka sytuacja może wystąpić powodu toohello dodatkowe czasu potrzebnego dla systemu hello zbyt "poprawianego" oparta na celów punktu odzyskiwania (RPO).</span><span class="sxs-lookup"><span data-stu-id="da91f-147">This situation can occur due toohello additional time it takes for hello system too"heal" based on recovery point objectives (RPO).</span></span>

## <a name="next-steps"></a><span data-ttu-id="da91f-148">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="da91f-148">Next steps</span></span>
<span data-ttu-id="da91f-149">Wykonaj te toolearn łącza więcej informacji na temat Centrum IoT Azure:</span><span class="sxs-lookup"><span data-stu-id="da91f-149">Follow these links toolearn more about Azure IoT Hub:</span></span>

* <span data-ttu-id="da91f-150">[Rozpoczynanie pracy z centra IoT (samouczek)][lnk-get-started]</span><span class="sxs-lookup"><span data-stu-id="da91f-150">[Get started with IoT Hubs (Tutorial)][lnk-get-started]</span></span>
* <span data-ttu-id="da91f-151">[Co to jest Centrum IoT Azure?][What is Azure IoT Hub?]</span><span class="sxs-lookup"><span data-stu-id="da91f-151">[What is Azure IoT Hub?][What is Azure IoT Hub?]</span></span>

[Disaster recovery and high availability for Azure applications]: ../resiliency/resiliency-disaster-recovery-high-availability-azure-applications.md
[Azure Business Continuity Technical Guidance]: https://azure.microsoft.com/documentation/articles/resiliency-technical-guidance/
[Azure Traffic Manager]: https://azure.microsoft.com/documentation/services/traffic-manager/
[IoT Hub developer guide - identity registry]: iot-hub-devguide-identity-registry.md

[lnk-get-started]: iot-hub-csharp-csharp-getstarted.md
[What is Azure IoT Hub?]: iot-hub-what-is-iot-hub.md
