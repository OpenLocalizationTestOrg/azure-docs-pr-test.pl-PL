---
title: "Kopia zapasowa Azure: Odzyskiwanie plików i folderów z kopii zapasowej maszyny Wirtualnej platformy Azure | Dokumentacja firmy Microsoft"
description: "Odzyskiwanie plików z punktu odzyskiwania maszyny wirtualnej platformy Azure"
services: backup
documentationcenter: dev-center-name
author: pvrk
manager: shivamg
keywords: "odzyskiwanie na poziomie elementu; odzyskiwanie plików z kopii zapasowej maszyny Wirtualnej platformy Azure. Przywróć pliki z maszyny Wirtualnej Azure"
ms.assetid: f1c067a2-4826-4da4-b97a-c5fd6c189a77
ms.service: backup
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: storage-backup-recovery
ms.date: 07/20/2017
ms.author: pullabhk;markgal
ms.openlocfilehash: 1a62a0ed83d61272c032ac0377a54099ed118db4
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="recover-files-from-azure-virtual-machine-backup"></a><span data-ttu-id="e3f04-104">Odzyskiwanie plików z kopii zapasowej maszyny wirtualnej platformy Azure</span><span class="sxs-lookup"><span data-stu-id="e3f04-104">Recover files from Azure virtual machine backup</span></span>

<span data-ttu-id="e3f04-105">Kopia zapasowa Azure stanowi hello możliwości toorestore [maszynach wirtualnych platformy Azure i dyski](./backup-azure-arm-restore-vms.md) z kopii zapasowych maszyny Wirtualnej platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="e3f04-105">Azure backup provides hello capability toorestore [Azure VMs and disks](./backup-azure-arm-restore-vms.md) from Azure VM backups.</span></span> <span data-ttu-id="e3f04-106">Teraz w tym artykule opisano, jak można odzyskać elementy, takie jak pliki i foldery z kopii zapasowej maszyny Wirtualnej platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="e3f04-106">Now this article explains how you can recover items such as files and folders from an Azure VM backup.</span></span>

> [!Note]
> <span data-ttu-id="e3f04-107">Ta funkcja jest dostępna dla maszyn wirtualnych Azure wdrażane za pomocą modelu usługi Resource Manager hello i chronionych tooa magazynu usług odzyskiwania.</span><span class="sxs-lookup"><span data-stu-id="e3f04-107">This feature is available for Azure VMs deployed using hello Resource Manager model and protected tooa Recovery services vault.</span></span>
> <span data-ttu-id="e3f04-108">Odzyskiwanie plików z zaszyfrowanej kopii zapasowej maszyny Wirtualnej nie jest obsługiwane.</span><span class="sxs-lookup"><span data-stu-id="e3f04-108">File recovery from an encrypted VM backup is not supported.</span></span>
>

## <a name="mount-hello-volume-and-copy-files"></a><span data-ttu-id="e3f04-109">Zainstaluj hello woluminu i kopiować pliki</span><span class="sxs-lookup"><span data-stu-id="e3f04-109">Mount hello volume and copy files</span></span>

1. <span data-ttu-id="e3f04-110">Zaloguj się na powitania [portalu Azure](http://portal.Azure.com).</span><span class="sxs-lookup"><span data-stu-id="e3f04-110">Sign into hello [Azure portal](http://portal.Azure.com).</span></span> <span data-ttu-id="e3f04-111">Znajdowanie hello odpowiedniego magazynu usług odzyskiwania i hello wymagany element kopii zapasowej.</span><span class="sxs-lookup"><span data-stu-id="e3f04-111">Find hello relevant Recovery services vault and hello required backup item.</span></span>

2. <span data-ttu-id="e3f04-112">W bloku kopia zapasowa elementu hello, kliknij **odzyskiwanie plików**</span><span class="sxs-lookup"><span data-stu-id="e3f04-112">On hello Backup Item blade, click **File Recovery**</span></span>

    ![Otwórz element kopii zapasowej magazynu usług odzyskiwania](./media/backup-azure-restore-files-from-vm/open-vault-item.png)

    <span data-ttu-id="e3f04-114">Witaj **odzyskiwanie plików** zostanie otwarty blok.</span><span class="sxs-lookup"><span data-stu-id="e3f04-114">hello **File Recovery** blade opens.</span></span>

    ![Blok odzyskiwania plików](./media/backup-azure-restore-files-from-vm/file-recovery-blade.png)

3. <span data-ttu-id="e3f04-116">Z hello **wybierz punkt odzyskiwania** menu rozwijanego, hello wybierz punkt odzyskiwania, który zawiera pliki hello ma.</span><span class="sxs-lookup"><span data-stu-id="e3f04-116">From hello **Select recovery point** drop-down menu, select hello recovery point that contains hello files you want.</span></span> <span data-ttu-id="e3f04-117">Domyślnie program hello najnowszy punkt odzyskiwania została już wybrana.</span><span class="sxs-lookup"><span data-stu-id="e3f04-117">By default, hello latest recovery point is already selected.</span></span>

4. <span data-ttu-id="e3f04-118">Kliknij przycisk **Pobierz plik wykonywalny** (dla systemu Windows Azure maszyny Wirtualnej) lub **Pobierz skrypt** (dla systemu Linux maszyny Wirtualnej platformy Azure) oprogramowania hello toodownload użyjesz toocopy pliki z punktu odzyskiwania hello.</span><span class="sxs-lookup"><span data-stu-id="e3f04-118">Click **Download Executable** (for Windows Azure VM) or **Download Script** (for Linux Azure VM) toodownload hello software that you'll use toocopy files from hello recovery point.</span></span>

  <span data-ttu-id="e3f04-119">Witaj skryptu lub pliku wykonywalnego tworzy połączenie między hello komputera lokalnego i hello określony punkt odzyskiwania.</span><span class="sxs-lookup"><span data-stu-id="e3f04-119">hello executable/script creates a connection between hello local computer and hello specified recovery point.</span></span>

5. <span data-ttu-id="e3f04-120">Należy hasła toorun hello pobrane skryptu/pliku wykonywalnego.</span><span class="sxs-lookup"><span data-stu-id="e3f04-120">You need a password toorun hello downloaded script/executable.</span></span> <span data-ttu-id="e3f04-121">Możesz skopiować hello hasła z portalu hello za pomocą przycisku Kopiuj hello obok hello wygenerowane hasło</span><span class="sxs-lookup"><span data-stu-id="e3f04-121">You can copy hello password from hello portal using hello copy button beside hello generated password</span></span>

    ![Wygenerowane hasło](./media/backup-azure-restore-files-from-vm/generated-pswd.png)

6. <span data-ttu-id="e3f04-123">Na komputerze hello miejscu toorecover hello plików Uruchom hello skryptu lub pliku wykonywalnego.</span><span class="sxs-lookup"><span data-stu-id="e3f04-123">On hello computer where you want toorecover hello files, run hello executable/script.</span></span> <span data-ttu-id="e3f04-124">Należy uruchomić je przy użyciu poświadczeń administratora.</span><span class="sxs-lookup"><span data-stu-id="e3f04-124">You must run it with Administrator credentials.</span></span> <span data-ttu-id="e3f04-125">Po uruchomieniu skryptu hello na komputerze z ograniczonym dostępem, upewnij się, Brak dostępu do:</span><span class="sxs-lookup"><span data-stu-id="e3f04-125">If you run hello script on a computer with restricted access, ensure there is access to:</span></span>

    - <span data-ttu-id="e3f04-126">witrynie Download.microsoft.com</span><span class="sxs-lookup"><span data-stu-id="e3f04-126">download.microsoft.com</span></span>
    - <span data-ttu-id="e3f04-127">Punkty końcowe systemu Azure, używany do tworzenia kopii zapasowych maszyny Wirtualnej Azure</span><span class="sxs-lookup"><span data-stu-id="e3f04-127">Azure endpoints used for Azure VM backups</span></span>
    - <span data-ttu-id="e3f04-128">wychodzące port 3260</span><span class="sxs-lookup"><span data-stu-id="e3f04-128">outbound port 3260</span></span>

   <span data-ttu-id="e3f04-129">Dla systemu Linux, skrypt hello wymaga składników "open-iscsi" i "lshw" punkt odzyskiwania toohello tooconnect.</span><span class="sxs-lookup"><span data-stu-id="e3f04-129">For Linux, hello script requires 'open-iscsi' and 'lshw' components tooconnect toohello recovery point.</span></span> <span data-ttu-id="e3f04-130">Jeśli te nie istnieją na komputerze hello, w którym jest uruchomiony, prosi o uprawnienie tooinstall hello odpowiednie składniki i instaluje je na zgody.</span><span class="sxs-lookup"><span data-stu-id="e3f04-130">If those do not exist on hello machine where it is run, it asks for permission tooinstall hello relevant components and installs them upon consent.</span></span>
   
   <span data-ttu-id="e3f04-131">Wprowadź hasło hello skopiowany z portalu powitania po wyświetleniu monitu.</span><span class="sxs-lookup"><span data-stu-id="e3f04-131">Enter hello password copied from hello portal when prompted.</span></span> <span data-ttu-id="e3f04-132">Po wprowadzeniu prawidłowego hasła hello skrypty hello łączy toohello punktu odzyskiwania.</span><span class="sxs-lookup"><span data-stu-id="e3f04-132">Once hello valid password is entered hello scripts connects toohello recovery point.</span></span>
      
    ![Blok odzyskiwania plików](./media/backup-azure-restore-files-from-vm/executable-output.png)
    
   
   <span data-ttu-id="e3f04-134">Witaj skrypt można uruchomić na dowolnym komputerze, który zawiera system operacyjny hello tego samego (lub zgodne) w hello kopii zapasowej maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="e3f04-134">You can run hello script on any machine that has hello same (or compatible) operating system as hello backed-up VM.</span></span> <span data-ttu-id="e3f04-135">Zobacz hello [tabeli zgodny system operacyjny](backup-azure-restore-files-from-vm.md#compatible-os) dla zgodnych systemów operacyjnych.</span><span class="sxs-lookup"><span data-stu-id="e3f04-135">See hello [Compatible OS table](backup-azure-restore-files-from-vm.md#compatible-os) for compatible operating systems.</span></span> <span data-ttu-id="e3f04-136">Jeśli hello chroniony wirtualnej platformy Azure jest używana maszyny miejsca do magazynowania systemu Windows (w przypadku maszyn wirtualnych systemu Windows Azure) lub Arrays(for Linux VMs) LVM/RAID, to nie można uruchomić skryptu lub pliku wykonywalnego hello na hello tej samej maszyny wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="e3f04-136">If hello protected Azure virtual machine uses Windows Storage Spaces (for Windows Azure VMs) or LVM/RAID Arrays(for Linux VMs), then you can't run hello executable/script on hello same virtual machine.</span></span> <span data-ttu-id="e3f04-137">Zamiast tego należy uruchomić ją na innym komputerze z zgodny system operacyjny.</span><span class="sxs-lookup"><span data-stu-id="e3f04-137">Instead, run it on any other machine with a compatible operating system.</span></span>

### <a name="compatible-os"></a><span data-ttu-id="e3f04-138">Zgodny system operacyjny</span><span class="sxs-lookup"><span data-stu-id="e3f04-138">Compatible OS</span></span>

#### <a name="for-windows"></a><span data-ttu-id="e3f04-139">Dla systemu Windows</span><span class="sxs-lookup"><span data-stu-id="e3f04-139">For Windows</span></span>

<span data-ttu-id="e3f04-140">Witaj, w następującej tabeli przedstawiono hello zgodności między systemami operacyjnymi serwera i komputera.</span><span class="sxs-lookup"><span data-stu-id="e3f04-140">hello following table shows hello compatibility between server and computer operating systems.</span></span> <span data-ttu-id="e3f04-141">Podczas odzyskiwania plików, nie można przywrócić plików między systemy operacyjne niezgodne.</span><span class="sxs-lookup"><span data-stu-id="e3f04-141">When recovering files, you can't restore files between incompatible operating systems.</span></span>

|<span data-ttu-id="e3f04-142">System operacyjny serwera</span><span class="sxs-lookup"><span data-stu-id="e3f04-142">Server OS</span></span> | <span data-ttu-id="e3f04-143">Zgodny system operacyjny klienta</span><span class="sxs-lookup"><span data-stu-id="e3f04-143">Compatible client OS</span></span>  |
| --------------- | ---- |
| <span data-ttu-id="e3f04-144">Windows Server 2012 R2</span><span class="sxs-lookup"><span data-stu-id="e3f04-144">Windows Server 2012 R2</span></span> | <span data-ttu-id="e3f04-145">Windows 8.1</span><span class="sxs-lookup"><span data-stu-id="e3f04-145">Windows 8.1</span></span> |
| <span data-ttu-id="e3f04-146">Windows Server 2012</span><span class="sxs-lookup"><span data-stu-id="e3f04-146">Windows Server 2012</span></span>    | <span data-ttu-id="e3f04-147">Windows 8</span><span class="sxs-lookup"><span data-stu-id="e3f04-147">Windows 8</span></span>  |
| <span data-ttu-id="e3f04-148">Windows Server 2008 R2</span><span class="sxs-lookup"><span data-stu-id="e3f04-148">Windows Server 2008 R2</span></span> | <span data-ttu-id="e3f04-149">Windows 7</span><span class="sxs-lookup"><span data-stu-id="e3f04-149">Windows 7</span></span>   |

#### <a name="for-linux"></a><span data-ttu-id="e3f04-150">Dla systemu Linux</span><span class="sxs-lookup"><span data-stu-id="e3f04-150">For Linux</span></span>

<span data-ttu-id="e3f04-151">W systemie Linux, podstawowy wymóg hello jest hello tego systemu operacyjnego maszyny hello gdzie hello skrypt jest uruchamiany powinna obsługiwać hello filesystem z hello w hello pliki kopii zapasowej maszyny Wirtualnej systemu Linux.</span><span class="sxs-lookup"><span data-stu-id="e3f04-151">In Linux, hello fundamental requirement is that hello OS of hello machine where hello script is run should support hello filesystem of hello files present in hello backed-up Linux VM.</span></span> <span data-ttu-id="e3f04-152">Podczas wybierania skryptu hello toorun maszyny, upewnij się, że ma niezgodne wersje systemu operacyjnego i hello hello wymienionych w poniższej tabeli hello.</span><span class="sxs-lookup"><span data-stu-id="e3f04-152">While selecting a machine toorun hello script, please ensure it has hello compatible OS and hello versions as mentioned in hello table below.</span></span>

|<span data-ttu-id="e3f04-153">System operacyjny Linux</span><span class="sxs-lookup"><span data-stu-id="e3f04-153">Linux OS</span></span> | <span data-ttu-id="e3f04-154">Wersje</span><span class="sxs-lookup"><span data-stu-id="e3f04-154">Versions</span></span>  |
| --------------- | ---- |
| <span data-ttu-id="e3f04-155">Ubuntu</span><span class="sxs-lookup"><span data-stu-id="e3f04-155">Ubuntu</span></span> | <span data-ttu-id="e3f04-156">12.04 i powyżej.</span><span class="sxs-lookup"><span data-stu-id="e3f04-156">12.04 and above</span></span> |
| <span data-ttu-id="e3f04-157">CentOS</span><span class="sxs-lookup"><span data-stu-id="e3f04-157">CentOS</span></span> | <span data-ttu-id="e3f04-158">6.5 i powyżej.</span><span class="sxs-lookup"><span data-stu-id="e3f04-158">6.5 and above</span></span>  |
| <span data-ttu-id="e3f04-159">RHEL</span><span class="sxs-lookup"><span data-stu-id="e3f04-159">RHEL</span></span> | <span data-ttu-id="e3f04-160">6.7 i powyżej.</span><span class="sxs-lookup"><span data-stu-id="e3f04-160">6.7 and above</span></span> |
| <span data-ttu-id="e3f04-161">Debian</span><span class="sxs-lookup"><span data-stu-id="e3f04-161">Debian</span></span> | <span data-ttu-id="e3f04-162">7 i nowsze</span><span class="sxs-lookup"><span data-stu-id="e3f04-162">7 and above</span></span> |
| <span data-ttu-id="e3f04-163">Oracle Linux</span><span class="sxs-lookup"><span data-stu-id="e3f04-163">Oracle Linux</span></span> | <span data-ttu-id="e3f04-164">6.4 i powyżej.</span><span class="sxs-lookup"><span data-stu-id="e3f04-164">6.4 and above</span></span> |

<span data-ttu-id="e3f04-165">skrypt Hello również wymaga python i bash tooexecute składników i bezpieczne łączenie toohello punktu odzyskiwania.</span><span class="sxs-lookup"><span data-stu-id="e3f04-165">hello script also requires python and bash components tooexecute and connect securely toohello recovery point.</span></span>

|<span data-ttu-id="e3f04-166">Składnik</span><span class="sxs-lookup"><span data-stu-id="e3f04-166">Component</span></span> | <span data-ttu-id="e3f04-167">Wersja</span><span class="sxs-lookup"><span data-stu-id="e3f04-167">Version</span></span>  |
| --------------- | ---- |
| <span data-ttu-id="e3f04-168">Bash</span><span class="sxs-lookup"><span data-stu-id="e3f04-168">bash</span></span> | <span data-ttu-id="e3f04-169">4 i nowsze</span><span class="sxs-lookup"><span data-stu-id="e3f04-169">4 and above</span></span> |
| <span data-ttu-id="e3f04-170">python</span><span class="sxs-lookup"><span data-stu-id="e3f04-170">python</span></span> | <span data-ttu-id="e3f04-171">2.6.6 i powyżej.</span><span class="sxs-lookup"><span data-stu-id="e3f04-171">2.6.6 and above</span></span>  |


### <a name="identifying-volumes"></a><span data-ttu-id="e3f04-172">Identyfikowanie woluminów</span><span class="sxs-lookup"><span data-stu-id="e3f04-172">Identifying Volumes</span></span>

#### <a name="for-windows"></a><span data-ttu-id="e3f04-173">Dla systemu Windows</span><span class="sxs-lookup"><span data-stu-id="e3f04-173">For Windows</span></span>

<span data-ttu-id="e3f04-174">Po uruchomieniu hello exectuable systemu operacyjnego hello instaluje hello nowe woluminy i przypisuje litery dysku.</span><span class="sxs-lookup"><span data-stu-id="e3f04-174">When you run hello exectuable, hello operating system mounts hello new volumes and assigns drive letters.</span></span> <span data-ttu-id="e3f04-175">Eksplorator Windows lub w Eksploratorze plików toobrowse można używać tych dysków.</span><span class="sxs-lookup"><span data-stu-id="e3f04-175">You can use Windows Explorer or File Explorer toobrowse those drives.</span></span> <span data-ttu-id="e3f04-176">Hello przypisane woluminów toohello litery dysków mogą nie być powitalne tych samych liter jak hello oryginalna maszyna wirtualna, jednak hello nazwa woluminu jest zachowywana.</span><span class="sxs-lookup"><span data-stu-id="e3f04-176">hello drive letters assigned toohello volumes may not be hello same letters as hello original virtual machine, however, hello volume name is preserved.</span></span> <span data-ttu-id="e3f04-177">Na przykład, jeśli hello woluminu na powitania oryginalna maszyna wirtualna została "dysk danych (E:\)", można dołączyć jako woluminu "dysk danych ("Wszystkie litery dysków dostępne":\) hello komputera lokalnego.</span><span class="sxs-lookup"><span data-stu-id="e3f04-177">For example, if hello volume on hello original virtual machine was “Data Disk (E:\)”, that volume can be attached as “Data Disk ('Any drive letter available':\) on hello local computer.</span></span> <span data-ttu-id="e3f04-178">Przeglądaj wszystkie woluminy wymienionych w danych wyjściowych skryptu hello do momentu znalezienia plików/folderów.</span><span class="sxs-lookup"><span data-stu-id="e3f04-178">Browse through all volumes mentioned in hello script output until you find your files/folder.</span></span>  
       
   ![Blok odzyskiwania plików](./media/backup-azure-restore-files-from-vm/volumes-attached.png)
           
#### <a name="for-linux"></a><span data-ttu-id="e3f04-180">Dla systemu Linux</span><span class="sxs-lookup"><span data-stu-id="e3f04-180">For Linux</span></span>

<span data-ttu-id="e3f04-181">W systemie Linux powitania woluminy punktu odzyskiwania hello są toohello zainstalowanego folderu, gdzie hello skrypt jest uruchamiany.</span><span class="sxs-lookup"><span data-stu-id="e3f04-181">In Linux, hello volumes of hello recovery point are mounted toohello folder where hello script is run.</span></span> <span data-ttu-id="e3f04-182">Witaj dołączonych dysków, woluminów i instalowania odpowiedniej hello ścieżki są wyświetlane odpowiednio.</span><span class="sxs-lookup"><span data-stu-id="e3f04-182">hello attached disks, volumes and hello corresponding mount paths are shown accordingly.</span></span> <span data-ttu-id="e3f04-183">Zainstaluj tych ścieżek są widoczne toousers mające dostęp na poziomie głównym.</span><span class="sxs-lookup"><span data-stu-id="e3f04-183">These mount paths are visible toousers having root level access.</span></span> <span data-ttu-id="e3f04-184">Przeglądaj woluminów hello wymienionych w danych wyjściowych skryptu hello.</span><span class="sxs-lookup"><span data-stu-id="e3f04-184">Browse through hello volumes mentioned in hello script output.</span></span>

  ![Blok odzyskiwania plików systemu Linux](./media/backup-azure-restore-files-from-vm/linux-mount-paths.png)
  

## <a name="closing-hello-connection"></a><span data-ttu-id="e3f04-186">Zamykanie połączenia hello</span><span class="sxs-lookup"><span data-stu-id="e3f04-186">Closing hello connection</span></span>

<span data-ttu-id="e3f04-187">Po zidentyfikowaniu hello plików i ich kopiowanie tooa lokalizacji magazynu lokalnego, usunąć lub odinstalować hello dodatkowych dysków.</span><span class="sxs-lookup"><span data-stu-id="e3f04-187">After identifying hello files and copying them tooa local storage location, remove (or unmount) hello additional drives.</span></span> <span data-ttu-id="e3f04-188">toounmount hello dysków, na powitania **odzyskiwanie plików** bloku w hello portalu Azure, kliknij przycisk **odinstalować dyski**.</span><span class="sxs-lookup"><span data-stu-id="e3f04-188">toounmount hello drives, on hello **File Recovery** blade in hello Azure portal, click **Unmount Disks**.</span></span>

![Odinstaluj dysków](./media/backup-azure-restore-files-from-vm/unmount-disks3.png)

<span data-ttu-id="e3f04-190">Po hello dyski zostały odinstalowane, pojawi się komunikat informujący o pomyślnym zakończeniu go.</span><span class="sxs-lookup"><span data-stu-id="e3f04-190">Once hello disks have been unmounted, you receive a message letting you know it was successful.</span></span> <span data-ttu-id="e3f04-191">Tak, aby usunąć dyski hello może potrwać kilka minut, aż hello toorefresh połączenia.</span><span class="sxs-lookup"><span data-stu-id="e3f04-191">It may take a few minutes for hello connection toorefresh so that you can remove hello disks.</span></span>

<span data-ttu-id="e3f04-192">W systemie Linux, po punkt odzyskiwania toohello połączenia hello jest Przerwano, hello systemu operacyjnego nie powoduje usunięcia hello odpowiadające im ścieżki instalacji automatycznie.</span><span class="sxs-lookup"><span data-stu-id="e3f04-192">In Linux, after hello connection toohello recovery point is severed, hello OS doesn't remove hello corresponding mount paths automatically.</span></span> <span data-ttu-id="e3f04-193">Istnieją one jako woluminy "oddzielony" i są widoczne, ale zgłoszenie błędu, gdy użytkownik dostępu i zapisu plików hello.</span><span class="sxs-lookup"><span data-stu-id="e3f04-193">These exist as "orphan" volumes and they are visible but throw an error when you access/write hello files.</span></span> <span data-ttu-id="e3f04-194">Można je ręcznie usunąć.</span><span class="sxs-lookup"><span data-stu-id="e3f04-194">They can be manually removed.</span></span> <span data-ttu-id="e3f04-195">skrypt Hello, uruchamiania, identyfikuje wszelkie istniejące z poprzednich punktów odzyskiwania woluminy i czyści po zgody.</span><span class="sxs-lookup"><span data-stu-id="e3f04-195">hello script, when run, identifies any such volumes existing from any previous recovery points and cleans them up upon consent.</span></span>

## <a name="special-configurations"></a><span data-ttu-id="e3f04-196">Konfiguracje specjalne</span><span class="sxs-lookup"><span data-stu-id="e3f04-196">Special configurations</span></span>

### <a name="dynamic-disks"></a><span data-ttu-id="e3f04-197">Dyski dynamiczne</span><span class="sxs-lookup"><span data-stu-id="e3f04-197">Dynamic Disks</span></span>

<span data-ttu-id="e3f04-198">Jeśli hello maszyny Wirtualnej platformy Azure, która została utworzona kopia zapasowa ma woluminów obejmujących wiele dysków (woluminy łączone i rozłożone) i/lub odpornej na uszkodzenia (woluminy dublowane i RAID-5) w przypadku dysków dynamicznych nie można uruchomić pliku wykonywalnego skryptu hello na hello tej samej maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="e3f04-198">If hello Azure VM that was backed up has volumes that span multiple disks (spanned and striped volumes) and/or fault-tolerant volumes (mirrored and RAID-5 volumes) on dynamic disks, then you can't run hello executable script on hello same VM.</span></span> <span data-ttu-id="e3f04-199">Zamiast tego należy uruchomić skrypt wykonywalnego hello na innym komputerze z zgodny system operacyjny.</span><span class="sxs-lookup"><span data-stu-id="e3f04-199">Instead, run hello executable script on any other machine with a compatible operating system.</span></span>

### <a name="windows-storage-spaces"></a><span data-ttu-id="e3f04-200">Miejsca do magazynowania systemu Windows</span><span class="sxs-lookup"><span data-stu-id="e3f04-200">Windows Storage Spaces</span></span>

<span data-ttu-id="e3f04-201">Miejsca do magazynowania systemu Windows jest to technologia magazynu systemu Windows, który pozwala toovirtualize magazynu.</span><span class="sxs-lookup"><span data-stu-id="e3f04-201">Windows Storage Spaces is a technology in Windows storage that enables you toovirtualize storage.</span></span> <span data-ttu-id="e3f04-202">Z miejscami do magazynowania systemu Windows można grupowanie standardowych dysków w pule magazynu, a następnie tworzyć dyski wirtualne miejsca do magazynowania, z hello dostępnego miejsca w tych pul magazynów.</span><span class="sxs-lookup"><span data-stu-id="e3f04-202">With Windows Storage Spaces you can group industry-standard disks into storage pools, and then create virtual disks, called storage spaces, from hello available space in those storage pools.</span></span>

<span data-ttu-id="e3f04-203">Jeśli hello maszyny Wirtualnej platformy Azure, która została utworzona kopia zapasowa używa funkcji miejsca do magazynowania systemu Windows, a następnie hello wykonywalnego skryptu nie można uruchomić na hello tej samej maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="e3f04-203">If hello Azure VM that was backed up uses Windows Storage Spaces, then you can't run hello executable script on hello same VM.</span></span> <span data-ttu-id="e3f04-204">Zamiast tego należy uruchomić skrypt wykonywalnego hello na innym komputerze z zgodny system operacyjny.</span><span class="sxs-lookup"><span data-stu-id="e3f04-204">Instead, run hello executable script on any other machine with a compatible operating system.</span></span>

### <a name="lvmraid-arrays"></a><span data-ttu-id="e3f04-205">Tablice LVM/RAID</span><span class="sxs-lookup"><span data-stu-id="e3f04-205">LVM/RAID Arrays</span></span>

<span data-ttu-id="e3f04-206">W systemie Linux, Menedżer woluminów logicznych (LVM) i/lub oprogramowania macierzy RAID są woluminy logiczne toomanage używane przez wiele dysków.</span><span class="sxs-lookup"><span data-stu-id="e3f04-206">In Linux, Logical volume manager (LVM) and/or software RAID Arrays are used toomanage logical volumes over multiple disks.</span></span> <span data-ttu-id="e3f04-207">Jeśli hello kopii zapasowej maszyny Wirtualnej systemu Linux używa LVM i/lub macierzy RAID, nie można uruchomić skryptu hello na powitania tej samej maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="e3f04-207">If hello backed up Linux VM uses LVM and/or RAID Arrays, you can't run hello script on hello same VM.</span></span> <span data-ttu-id="e3f04-208">Zamiast tego uruchomić skrypt hello na żadną inną maszynę z systemem operacyjnym zgodny i który obsługuje filesystem hello kopii zapasowej maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="e3f04-208">Instead run hello script on any other machine with compatible OS and which supports filesystem of hello backed up VM.</span></span>

<span data-ttu-id="e3f04-209">Wyświetla dane wyjściowe skryptu Hello hello LVM i/lub macierzy RAID dyski i woluminy hello hello typu partycji, jak pokazano poniżej</span><span class="sxs-lookup"><span data-stu-id="e3f04-209">hello script output displays hello LVM and/or RAID Arrays disks and hello volumes with hello partition type as shown below</span></span>

   ![Blok danych wyjściowych LVM systemu Linux](./media/backup-azure-restore-files-from-vm/linux-LVMOutput.png)
   
<span data-ttu-id="e3f04-211">Witaj następujące polecenia, toobe uruchomić przez toobring użytkownika hello tych partycji w trybie online.</span><span class="sxs-lookup"><span data-stu-id="e3f04-211">hello following commands need toobe run by hello user toobring these partitions online.</span></span> 

<span data-ttu-id="e3f04-212">**W przypadku partycji LVM**</span><span class="sxs-lookup"><span data-stu-id="e3f04-212">**For LVM Partitions**</span></span>

```
$ pvs <volume name as shown above in hello script output> 
```
<span data-ttu-id="e3f04-213">Ta lista zawiera nazwy grupy woluminów hello w woluminie fizycznym.</span><span class="sxs-lookup"><span data-stu-id="e3f04-213">This lists hello volume group names under a physical volume.</span></span>

```
$ lvdisplay <volume-group-name from hello pvs command’s results> 
```
<span data-ttu-id="e3f04-214">Ta lista zawiera wszystkie woluminy logiczne, nazwy i ich ścieżki w grupie woluminu.</span><span class="sxs-lookup"><span data-stu-id="e3f04-214">This lists all logical volumes, names and their paths in a volume group.</span></span>

```
$ mount <LV path> </mountpath>
```
<span data-ttu-id="e3f04-215">toomount hello woluminy logiczne toohello ścieżka wybranych przez użytkownika.</span><span class="sxs-lookup"><span data-stu-id="e3f04-215">toomount hello logical volumes toohello path of your choice.</span></span>


<span data-ttu-id="e3f04-216">**Dla macierzy RAID**</span><span class="sxs-lookup"><span data-stu-id="e3f04-216">**For RAID Arrays**</span></span>

```
$ mdadm –detail –scan
```
<span data-ttu-id="e3f04-217">Zostaną wyświetlone szczegółowe informacje o wszystkich dysków raid.</span><span class="sxs-lookup"><span data-stu-id="e3f04-217">This displays details about all raid disks.</span></span> <span data-ttu-id="e3f04-218">odpowiedni dysk RAID Hello będą wyświetlane jako`/dev/mdm/<RAID array name in hello backed up VM>`</span><span class="sxs-lookup"><span data-stu-id="e3f04-218">hello relevant RAID disk will be displayed as `/dev/mdm/<RAID array name in hello backed up VM>`</span></span>

<span data-ttu-id="e3f04-219">Jeśli na dysku RAID hello woluminy fizyczne, należy użyć polecenia instalacji hello.</span><span class="sxs-lookup"><span data-stu-id="e3f04-219">Use hello mount command if hello RAID disk has physical volumes.</span></span>
```
$ mount [RAID Disk Path] [/mounthpath]
```

<span data-ttu-id="e3f04-220">Jeśli ten dysk RAID inny LVM skonfigurowane w nim postępuj hello tej samej procedury, zgodnie z powyższym LVM partycji o nazwie woluminu hello hello nazwy dysku RAID</span><span class="sxs-lookup"><span data-stu-id="e3f04-220">If this RAID disk has another LVM configured in it then follow hello same procedure as outlined above for LVM partitions with hello volume name being hello RAID Disk name</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="e3f04-221">Rozwiązywanie problemów</span><span class="sxs-lookup"><span data-stu-id="e3f04-221">Troubleshooting</span></span>

<span data-ttu-id="e3f04-222">Jeśli masz problemy podczas przywracania plików z maszyn wirtualnych hello Sprawdź hello w poniższej tabeli, aby uzyskać dodatkowe informacje.</span><span class="sxs-lookup"><span data-stu-id="e3f04-222">If you have problems while recovering files from hello virtual machines, check hello following table for additional information.</span></span>

| <span data-ttu-id="e3f04-223">Komunikat o błędzie / scenariusza</span><span class="sxs-lookup"><span data-stu-id="e3f04-223">Error Message / Scenario</span></span> | <span data-ttu-id="e3f04-224">Prawdopodobna przyczyna</span><span class="sxs-lookup"><span data-stu-id="e3f04-224">Probable Cause</span></span> | <span data-ttu-id="e3f04-225">Zalecane działanie</span><span class="sxs-lookup"><span data-stu-id="e3f04-225">Recommended action</span></span> |
| ------------------------ | -------------- | ------------------ |
| <span data-ttu-id="e3f04-226">Dane wyjściowe exe: *wyjątek łączenie toohello docelowego*</span><span class="sxs-lookup"><span data-stu-id="e3f04-226">Exe output: *Exception connecting toohello target*</span></span> |<span data-ttu-id="e3f04-227">Skrypt nie jest punkt odzyskiwania może tooaccess hello</span><span class="sxs-lookup"><span data-stu-id="e3f04-227">Script is not able tooaccess hello recovery point</span></span> | <span data-ttu-id="e3f04-228">Sprawdź, czy maszyna hello spełnia wymagania dotyczące dostępu hello wymienione powyżej</span><span class="sxs-lookup"><span data-stu-id="e3f04-228">Check whether hello machine fulfills hello access requirements mentioned above</span></span>|  
|   <span data-ttu-id="e3f04-229">Dane wyjściowe exe: *hello docelowy ma już zalogowany za pośrednictwem sesji ISCSI.*</span><span class="sxs-lookup"><span data-stu-id="e3f04-229">Exe output: *hello target has already been logged in via an ISCSI session.*</span></span> |   <span data-ttu-id="e3f04-230">skrypt Hello już zostało wykonane na powitalne tego samego komputera i hello dyski zostały dołączone</span><span class="sxs-lookup"><span data-stu-id="e3f04-230">hello script was already executed on hello same machine and hello drives have been attached</span></span> |   <span data-ttu-id="e3f04-231">już zostały dołączone woluminy Hello hello punktu odzyskiwania.</span><span class="sxs-lookup"><span data-stu-id="e3f04-231">hello volumes of hello recovery point have already been attached.</span></span> <span data-ttu-id="e3f04-232">NIE mogą one zainstalowane z hello sam dysk liter hello oryginalna maszyna wirtualna.</span><span class="sxs-lookup"><span data-stu-id="e3f04-232">They may NOT be mounted with hello same drive letters of hello original VM.</span></span> <span data-ttu-id="e3f04-233">Przeglądanie wszystkich dostępnych woluminów hello w Eksploratorze plików hello pliku</span><span class="sxs-lookup"><span data-stu-id="e3f04-233">Browse through all hello available volumes in hello file explorer for your file</span></span> |
| <span data-ttu-id="e3f04-234">Dane wyjściowe exe: *tego skryptu jest nieprawidłowa, ponieważ dyski hello ma został odinstalowany przez hello portal/przekroczyła limit 12 hr. Pobierz nowy skrypt z hello portalu.*</span><span class="sxs-lookup"><span data-stu-id="e3f04-234">Exe output: *This script is invalid because hello disks have been dismounted via portal/exceeded hello 12-hr limit. Please download a new script from hello portal.*</span></span> |    <span data-ttu-id="e3f04-235">dyski Hello ma został odinstalowany z portalu hello lub przekroczono limit 12 hr hello</span><span class="sxs-lookup"><span data-stu-id="e3f04-235">hello disks have been dismounted from hello portal or hello 12-hr limit exceeded</span></span> |  <span data-ttu-id="e3f04-236">Tego konkretnego pliku exe teraz jest nieprawidłowy i nie można uruchomić.</span><span class="sxs-lookup"><span data-stu-id="e3f04-236">This particular exe is now invalid and can’t be run.</span></span> <span data-ttu-id="e3f04-237">Jeśli chcesz się, że tooaccess hello pliki tego odzyskiwania w momencie, odwiedź portal powitania dla nowego pliku exe</span><span class="sxs-lookup"><span data-stu-id="e3f04-237">If you want tooaccess hello files of that recovery point-in-time, visit hello portal for a new exe</span></span>|
| <span data-ttu-id="e3f04-238">Na komputerze hello, w którym uruchomiono hello exe: hello nowe woluminy nie są odinstalowany po kliknięciu przycisku dismount hello</span><span class="sxs-lookup"><span data-stu-id="e3f04-238">On hello machine where hello exe is run: hello new volumes are not dismounted after hello dismount button is clicked</span></span> |    <span data-ttu-id="e3f04-239">Hello inicjatora ISCSI na maszynie hello nie jest elementem docelowym toohello połączenia odpowiada/odświeżanie i obsługi pamięci podręcznej hello</span><span class="sxs-lookup"><span data-stu-id="e3f04-239">hello ISCSI initiator on hello machine is not responding/refreshing its connection toohello target and maintaining hello cache</span></span> |    <span data-ttu-id="e3f04-240">Poczekaj kilka minut po naciśnięciu przycisku dismount hello.</span><span class="sxs-lookup"><span data-stu-id="e3f04-240">Wait for some mins after hello dismount button is pressed.</span></span> <span data-ttu-id="e3f04-241">Jeśli hello nowe woluminy nadal są nie odinstalowana, przejdź do wszystkich woluminów hello.</span><span class="sxs-lookup"><span data-stu-id="e3f04-241">If hello new volumes are still not dismounted, please browse through all hello volumes.</span></span> <span data-ttu-id="e3f04-242">Ten wymusza, który hello inicjatora toorefresh hello połączenia i hello wolumin został odinstalowany z komunikatem o błędzie które hello dysku nie jest dostępna</span><span class="sxs-lookup"><span data-stu-id="e3f04-242">This forces hello initiator toorefresh hello connection and hello volume is dismounted with an error message that hello disk is not available</span></span>|
| <span data-ttu-id="e3f04-243">Dane wyjściowe exe: skrypt jest uruchamiany pomyślnie, ale "Nowe woluminy dołączony" nie jest wyświetlany w danych wyjściowych skryptu hello</span><span class="sxs-lookup"><span data-stu-id="e3f04-243">Exe output: Script is run successfully but “New volumes attached” is not displayed on hello script output</span></span> |   <span data-ttu-id="e3f04-244">Jest to przejściowy błąd</span><span class="sxs-lookup"><span data-stu-id="e3f04-244">This is a transient error</span></span>   | <span data-ttu-id="e3f04-245">woluminy Hello czy zostały już dołączone.</span><span class="sxs-lookup"><span data-stu-id="e3f04-245">hello volumes would have been already attached.</span></span> <span data-ttu-id="e3f04-246">Otwórz Eksploratora toobrowse.</span><span class="sxs-lookup"><span data-stu-id="e3f04-246">Open Explorer toobrowse.</span></span> <span data-ttu-id="e3f04-247">Jeśli używasz hello sam maszyny do uruchamiania skryptów zawsze, rozważ ponowne uruchomienie komputera hello i ma być wyświetlana lista hello w hello kolejnych exe uruchamia.</span><span class="sxs-lookup"><span data-stu-id="e3f04-247">If you are using hello same machine for running scripts every time, consider restarting hello machine and hello list should be displayed in hello subsequent exe runs.</span></span> |
| <span data-ttu-id="e3f04-248">Właściwe dla systemu Linux: hello nie jest w stanie tooview żądanego woluminów</span><span class="sxs-lookup"><span data-stu-id="e3f04-248">Linux specific: Not able tooview hello desired volumes</span></span> | <span data-ttu-id="e3f04-249">Witaj systemu operacyjnego maszyny hello gdzie hello skrypt jest uruchamiany nie może rozpoznać hello źródłowy system plików z hello kopii zapasowej maszyny Wirtualnej</span><span class="sxs-lookup"><span data-stu-id="e3f04-249">hello OS of hello machine where hello script is run may not recognize hello underlying filesystem of hello backed up VM</span></span> | <span data-ttu-id="e3f04-250">Sprawdź, czy punkt odzyskiwania hello jest awarii zgodne lub zgodne z plikami.</span><span class="sxs-lookup"><span data-stu-id="e3f04-250">Check whether hello recovery point is crash consistent or file-consistent.</span></span> <span data-ttu-id="e3f04-251">Jeśli skrypt hello spójne, uruchom plik na innym komputerze, w których system operacyjny rozpoznaje hello kopię zapasową plików maszyny Wirtualnej</span><span class="sxs-lookup"><span data-stu-id="e3f04-251">If file consistent, run hello script on another machine whose OS recognizes hello backed up VM's filesystem</span></span> |
| <span data-ttu-id="e3f04-252">Właściwe dla systemu Windows: hello nie jest w stanie tooview żądanego woluminów</span><span class="sxs-lookup"><span data-stu-id="e3f04-252">Windows specific: Not able tooview hello desired volumes</span></span> | <span data-ttu-id="e3f04-253">może dołączone dyski Hello, ale woluminów hello nie zostały skonfigurowane.</span><span class="sxs-lookup"><span data-stu-id="e3f04-253">hello disks may have been attached but hello volumes were not configured</span></span> | <span data-ttu-id="e3f04-254">Z ekranu zarządzania dysku hello Zidentyfikuj punktu odzyskiwania powiązanego toohello dodatkowych dysków hello.</span><span class="sxs-lookup"><span data-stu-id="e3f04-254">From hello disk management screen, identify hello additional disks related toohello recovery point.</span></span> <span data-ttu-id="e3f04-255">Jeśli którykolwiek z tych dysków znajduje się w trybie offline stan spróbuj je w trybie online klikając prawym przyciskiem myszy na powitania dysku, a następnie kliknij przycisk "Online"</span><span class="sxs-lookup"><span data-stu-id="e3f04-255">If any of these disks are in offline state try making them online by right-clicking on hello disk and click 'Online'</span></span>|
