---
title: "aaaHandling kolejność zdarzeń i opóźnienie z usługą Azure Stream Analytics | Dokumentacja firmy Microsoft"
description: "Dowiedz się więcej na temat działania usługi analiza strumienia poza kolejnością lub opóźnione zdarzenia w strumieniach danych."
keywords: "zdarzenia poza kolejnością, późne,"
documentationcenter: 
services: stream-analytics
author: jeffstokes72
manager: jhubbard
editor: cgronlun
ms.assetid: 
ms.service: stream-analytics
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: data-services
ms.date: 04/20/2017
ms.author: jeffstok
ms.openlocfilehash: 87c028662fbafbf4f72f57f215d017f65bb649f0
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="azure-stream-analytics-event-order-handling"></a><span data-ttu-id="237de-104">Obsługa kolejność zdarzeń w usłudze Azure Stream Analytics</span><span class="sxs-lookup"><span data-stu-id="237de-104">Azure Stream Analytics event order handling</span></span>

<span data-ttu-id="237de-105">W strumieniu danych czasowych zdarzeń każde zdarzenie jest rejestrowane z czasem hello otrzymania tego zdarzenia hello.</span><span class="sxs-lookup"><span data-stu-id="237de-105">In a temporal data stream of events, each event is recorded with hello time that hello event is received.</span></span> <span data-ttu-id="237de-106">Niektóre warunki może spowodować strumieni zdarzeń toooccasionally odbierać niektóre zdarzenia w innym porządku niż, które zostały wysłane.</span><span class="sxs-lookup"><span data-stu-id="237de-106">Some conditions might cause event streams toooccasionally receive some events in a different order than which they were sent.</span></span> <span data-ttu-id="237de-107">Przesłania prosty protokół TCP lub nawet niedokładność zegara między hello wysyłania urządzenia i hello odbieranie Centrum zdarzeń może spowodować, że ten toooccur.</span><span class="sxs-lookup"><span data-stu-id="237de-107">A simple TCP retransmit, or even a clock skew between hello sending device and hello receiving event hub might cause this toooccur.</span></span> <span data-ttu-id="237de-108">"Znaki interpunkcyjne" zdarzenia również są dodawane strumieni zdarzeń tooreceived, tooadvance hello czasu braku hello Przyjazdy zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="237de-108">“Punctuation” events also are added tooreceived event streams, tooadvance hello time in hello absence of event arrivals.</span></span> <span data-ttu-id="237de-109">Są potrzebne w scenariuszach, takich jak "Powiadom mnie, jeśli nie logowania dla 3 minuty występują."</span><span class="sxs-lookup"><span data-stu-id="237de-109">These are needed in scenarios like “Notify me when no logins occur for 3 minutes."</span></span>

<span data-ttu-id="237de-110">Strumienie wejściowe, które nie znajdują się w kolejności są:</span><span class="sxs-lookup"><span data-stu-id="237de-110">Input streams that are not in order are either:</span></span>
* <span data-ttu-id="237de-111">Sortowane (i w związku z tym **opóźnione**).</span><span class="sxs-lookup"><span data-stu-id="237de-111">Sorted (and therefore **delayed**).</span></span>
* <span data-ttu-id="237de-112">Dostosowane przez system hello, zgodnie z tooa zasad określonych przez użytkownika.</span><span class="sxs-lookup"><span data-stu-id="237de-112">Adjusted by hello system, according tooa user-specified policy.</span></span>


## <a name="lateness-tolerance"></a><span data-ttu-id="237de-113">Opóźnienie tolerancji</span><span class="sxs-lookup"><span data-stu-id="237de-113">Lateness tolerance</span></span>
<span data-ttu-id="237de-114">Analiza strumienia zaakceptować tego rodzaju scenariusze.</span><span class="sxs-lookup"><span data-stu-id="237de-114">Stream Analytics tolerates these types of scenarios.</span></span> <span data-ttu-id="237de-115">Analiza strumienia ma obsługi dla zdarzenia "poza kolejnością" i "późne".</span><span class="sxs-lookup"><span data-stu-id="237de-115">Stream Analytics has handling for "out-of-order" and "late" events.</span></span> <span data-ttu-id="237de-116">Obsługuje on tych zdarzeń w hello następujące sposoby:</span><span class="sxs-lookup"><span data-stu-id="237de-116">It handles these events in hello following ways:</span></span>

* <span data-ttu-id="237de-117">Zdarzenia, które pojawiają się poza kolejnością, ale w ramach hello ustawiona tolerancja są **ponownie uporządkowane według znaczników czasu**.</span><span class="sxs-lookup"><span data-stu-id="237de-117">Events that arrive out of order but within hello set tolerance are **reordered by timestamp**.</span></span>
* <span data-ttu-id="237de-118">Zdarzenia przychodzące później niż uszkodzenia są **porzucone lub dostosowywana**.</span><span class="sxs-lookup"><span data-stu-id="237de-118">Events that arrive later than tolerance are **dropped or adjusted**.</span></span>
    * <span data-ttu-id="237de-119">**Dostosowana**: toohave tooappear skorygowaną dotarły akceptowalnego czasu najnowszych hello.</span><span class="sxs-lookup"><span data-stu-id="237de-119">**Adjusted**: Adjusted tooappear toohave arrived at hello latest acceptable time.</span></span>
    * <span data-ttu-id="237de-120">**Porzucone**: odrzucone.</span><span class="sxs-lookup"><span data-stu-id="237de-120">**Dropped**: Discarded.</span></span>

![Obsługa zdarzeń usługi analiza strumienia](media/stream-analytics-event-handling/stream-analytics-event-handling.png)

## <a name="reduce-hello-number-of-out-of-order-events"></a><span data-ttu-id="237de-122">Zmniejsz liczbę hello zdarzenia poza kolejnością.</span><span class="sxs-lookup"><span data-stu-id="237de-122">Reduce hello number of out-of-order events</span></span>

<span data-ttu-id="237de-123">Ponieważ Stream Analytics stosuje transformację danych czasowych podczas przetwarzania zdarzenia przychodzącego (na przykład w przypadku agregacjami lub sprzężenia danych czasowych), Stream Analytics sortuje zdarzenia przychodzące według kolejności znaczników czasu.</span><span class="sxs-lookup"><span data-stu-id="237de-123">Because Stream Analytics applies a temporal transformation when it processes incoming events (for example, for windowed aggregates or temporal joins), Stream Analytics sorts incoming events by timestamp order.</span></span>

<span data-ttu-id="237de-124">Gdy jest słowo kluczowe hello "sygnatury czasowej przez" **nie** , czas umieścić w kolejce zdarzenia usługi Azure Event Hubs hello jest używany domyślnie.</span><span class="sxs-lookup"><span data-stu-id="237de-124">When hello “timestamp by” keyword is **not** used, hello Azure Event Hubs event enqueue time is used by default.</span></span> <span data-ttu-id="237de-125">Centra zdarzeń gwarantuje monotonicity sygnatury czasowej hello na każdej partycji Centrum zdarzeń hello.</span><span class="sxs-lookup"><span data-stu-id="237de-125">Event Hubs guarantees monotonicity of hello timestamp on each partition of hello event hub.</span></span> <span data-ttu-id="237de-126">Gwarantuje również, że zostaną scalone zdarzenia ze wszystkich partycji w kolejności sygnatury czasowej.</span><span class="sxs-lookup"><span data-stu-id="237de-126">It also guarantees that events from all partitions will be merged in timestamp order.</span></span> <span data-ttu-id="237de-127">Upewnij się, te dwie usługi Event Hubs gwarancje żadne zdarzenia poza kolejnością.</span><span class="sxs-lookup"><span data-stu-id="237de-127">These two Event Hubs guarantees ensure no out-of-order events.</span></span>

<span data-ttu-id="237de-128">Czasami jest ważne w przypadku sygnatury czasowej należy toouse hello nadawcy.</span><span class="sxs-lookup"><span data-stu-id="237de-128">Sometimes, it’s important for you toouse hello sender’s timestamp.</span></span> <span data-ttu-id="237de-129">W takim przypadku sygnatury czasowej z hello ładunku zdarzenia jest wybierany przy użyciu "sygnatura czasowa przez".</span><span class="sxs-lookup"><span data-stu-id="237de-129">In that case, a timestamp from hello event payload is chosen by using “timestamp by.”</span></span> <span data-ttu-id="237de-130">W tych scenariuszach może zostać wprowadzony jeden lub więcej źródeł zdarzeń misorder:</span><span class="sxs-lookup"><span data-stu-id="237de-130">In these scenarios, one or more sources of event misorder might be introduced:</span></span>

* <span data-ttu-id="237de-131">Producenci zdarzeń ma pochyla zegara.</span><span class="sxs-lookup"><span data-stu-id="237de-131">Event producers have clock skews.</span></span> <span data-ttu-id="237de-132">Jest to typowe, gdy producentów są z różnych komputerów, więc mają różne zegary.</span><span class="sxs-lookup"><span data-stu-id="237de-132">This is common when producers are from different computers, so they have different clocks.</span></span>
* <span data-ttu-id="237de-133">Opóźnienie sieci ze źródła hello Centrum zdarzeń hello zdarzenia toohello docelowy nie istnieje.</span><span class="sxs-lookup"><span data-stu-id="237de-133">There's a network delay from hello source of hello events toohello destination event hub.</span></span>
* <span data-ttu-id="237de-134">Zegar pochyla istnieje między partycji Centrum zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="237de-134">Clock skews exist between event hub partitions.</span></span> <span data-ttu-id="237de-135">Analiza strumienia najpierw sortuje zdarzenia ze wszystkich partycji Centrum zdarzeń przez czas trwania zdarzenia umieścić w kolejce.</span><span class="sxs-lookup"><span data-stu-id="237de-135">Stream Analytics first sorts events from all event hub partitions by event enqueue time.</span></span> <span data-ttu-id="237de-136">Następnie bada hello strumień danych zdarzeń w nieprawidłowej kolejności.</span><span class="sxs-lookup"><span data-stu-id="237de-136">Then, it examines hello data stream for misordered events.</span></span>

<span data-ttu-id="237de-137">Na karcie Konfiguracja hello zobacz temat hello następujące wartości domyślne:</span><span class="sxs-lookup"><span data-stu-id="237de-137">On hello configuration tab, you see hello following defaults:</span></span>

![Obsługa poza kolejnością analiza strumienia](media/stream-analytics-event-handling/stream-analytics-out-of-order-handling.png)

<span data-ttu-id="237de-139">Jeśli używasz 0 sekund jako hello poza kolejnością tolerancji są potwierdzające, że wszystkie zdarzenia są w kolejności cały czas hello.</span><span class="sxs-lookup"><span data-stu-id="237de-139">If you use 0 seconds as hello out-of-order tolerance window, you are asserting that all events are in order all hello time.</span></span> <span data-ttu-id="237de-140">Podana hello trzech źródeł zdarzeń w nieprawidłowej kolejności, jest mało prawdopodobne, że jest to true.</span><span class="sxs-lookup"><span data-stu-id="237de-140">Given hello three sources of misordered events, it’s unlikely that this is true.</span></span> 

<span data-ttu-id="237de-141">toocorrect Stream Analytics tooallow misorder zdarzeń, można określić tolerancji niezerowy poza kolejnością.</span><span class="sxs-lookup"><span data-stu-id="237de-141">tooallow Stream Analytics toocorrect an event misorder, you can specify a non-zero out-of-order tolerance window.</span></span> <span data-ttu-id="237de-142">Stream Analytics buforuje zdarzenia zapasowej toothat okna, a następnie ponowne zamówienia hello nimi przy użyciu sygnatury czasowej, którą wybrano.</span><span class="sxs-lookup"><span data-stu-id="237de-142">Stream Analytics buffers events up toothat window, and then reorders them by using hello timestamp you chose.</span></span> <span data-ttu-id="237de-143">Następnie stosowane hello przekształcania danych czasowych.</span><span class="sxs-lookup"><span data-stu-id="237de-143">It then applies hello temporal transformation.</span></span> <span data-ttu-id="237de-144">Można rozpoczynać okna 3 sekundy i dostrajania hello wartość tooreduce hello liczbę zdarzeń, które są dostosowywane w czasie.</span><span class="sxs-lookup"><span data-stu-id="237de-144">You can start with a 3-second window, and tune hello value tooreduce hello number of events that are time-adjusted.</span></span> 

<span data-ttu-id="237de-145">Efektem ubocznym buforowanie hello jest dane wyjściowe hello **opóźniony o hello sam czas**.</span><span class="sxs-lookup"><span data-stu-id="237de-145">A side effect of hello buffering is that hello output is **delayed by hello same amount of time**.</span></span> <span data-ttu-id="237de-146">Dostosuj hello wartość tooreduce hello liczbą zdarzeń poza kolejnością i zachować opóźnienie zadania hello niski.</span><span class="sxs-lookup"><span data-stu-id="237de-146">You can tune hello value tooreduce hello number of out-of-order events, and keep hello job latency low.</span></span>

## <a name="get-help"></a><span data-ttu-id="237de-147">Uzyskiwanie pomocy</span><span class="sxs-lookup"><span data-stu-id="237de-147">Get help</span></span>
<span data-ttu-id="237de-148">Aby uzyskać dodatkową pomoc, spróbuj naszych [forum usługi Azure Stream Analytics](https://social.msdn.microsoft.com/Forums/en-US/home?forum=AzureStreamAnalytics).</span><span class="sxs-lookup"><span data-stu-id="237de-148">For additional assistance, try our [Azure Stream Analytics forum](https://social.msdn.microsoft.com/Forums/en-US/home?forum=AzureStreamAnalytics).</span></span>

## <a name="next-steps"></a><span data-ttu-id="237de-149">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="237de-149">Next steps</span></span>
* [<span data-ttu-id="237de-150">Wprowadzenie tooStream analityka</span><span class="sxs-lookup"><span data-stu-id="237de-150">Introduction tooStream Analytics</span></span>](stream-analytics-introduction.md)
* [<span data-ttu-id="237de-151">Wprowadzenie do usługi analiza strumienia</span><span class="sxs-lookup"><span data-stu-id="237de-151">Get started with Stream Analytics</span></span>](stream-analytics-real-time-fraud-detection.md)
* [<span data-ttu-id="237de-152">Zadania usługi analiza strumienia skali</span><span class="sxs-lookup"><span data-stu-id="237de-152">Scale Stream Analytics jobs</span></span>](stream-analytics-scale-jobs.md)
* [<span data-ttu-id="237de-153">Dokumentacja języka zapytania usługi analiza strumienia</span><span class="sxs-lookup"><span data-stu-id="237de-153">Stream Analytics query language reference</span></span>](https://msdn.microsoft.com/library/azure/dn834998.aspx)
* [<span data-ttu-id="237de-154">Strumienia Analytics management REST API reference</span><span class="sxs-lookup"><span data-stu-id="237de-154">Stream Analytics management REST API reference</span></span>](https://msdn.microsoft.com/library/azure/dn835031.aspx)