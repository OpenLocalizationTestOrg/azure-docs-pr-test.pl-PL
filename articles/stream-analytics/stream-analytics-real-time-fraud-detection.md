# <a name="get-started-using-azure-stream-analytics-real-time-fraud-detection"></a><span data-ttu-id="0d5d8-101">Rozpoczynanie pracy przy użyciu usługi Azure Stream Analytics: wykrywanie oszustw w czasie rzeczywistym</span><span class="sxs-lookup"><span data-stu-id="0d5d8-101">Get started using Azure Stream Analytics: Real-time fraud detection</span></span>

<span data-ttu-id="0d5d8-102">Ten samouczek zawiera ilustrację end-to-end jak toouse Azure Stream Analytics.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-102">This tutorial provides an end-to-end illustration of how toouse Azure Stream Analytics.</span></span> <span data-ttu-id="0d5d8-103">Omawiane kwestie:</span><span class="sxs-lookup"><span data-stu-id="0d5d8-103">You learn how to:</span></span> 

* <span data-ttu-id="0d5d8-104">Przełącz strumienia zdarzeń do wystąpienia usługi Azure Event hubs.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-104">Bring streaming events into an instance of Azure Event Hubs.</span></span> <span data-ttu-id="0d5d8-105">W tym samouczku użyjesz aplikacji, która udostępniamy symulujący strumienia rekordów metadanych telefonu komórkowego.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-105">In this tutorial, you'll use an app that we provide that simulates a stream of mobile-phone metadata records.</span></span>

* <span data-ttu-id="0d5d8-106">Zapisane przypominającego SQL Stream Analytics zapytania tootransform, agregowanie informacji lub będzie zaglądać wzorców.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-106">Write SQL-like Stream Analytics queries tootransform data, aggregating information or looking for patterns.</span></span> <span data-ttu-id="0d5d8-107">Zobaczysz, jak toouse tooexamine zapytania hello strumienia przychodzącego i wyszukaj wywołania, które mogą być fałszywe.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-107">You will see how toouse a query tooexamine hello incoming stream and look for calls that might be fraudulent.</span></span>

* <span data-ttu-id="0d5d8-108">Wyślij hello wyniki tooan dane wyjściowe zbiornika (magazyn), który można analizować, aby uzyskać dodatkowe informacje szczegółowe.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-108">Send hello results tooan output sink (storage) that you can analyze for additional insights.</span></span> <span data-ttu-id="0d5d8-109">W takim przypadku użytkownik wyśle magazynu obiektów Blob tooAzure hello podejrzane połączenia danych.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-109">In this case, you'll send hello suspicious call data tooAzure Blob storage.</span></span>

<span data-ttu-id="0d5d8-110">W tym samouczku używamy przykład Witaj wykrywania oszustw w czasie rzeczywistym na podstawie danych z połączenia telefonicznego.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-110">In  this tutorial, we use hello example of real-time fraud detection based on phone-call data.</span></span> <span data-ttu-id="0d5d8-111">Ale możemy ilustrują technika hello również nadaje się do innych typów wykrywania oszustw, takie jak karty kredytowej oszustwa lub kradzieży tożsamości.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-111">But hello technique we illustrate is also suited for other types of fraud detection, such as credit card fraud or identity theft.</span></span> 

## <a name="scenario-telecommunications-and-sim-fraud-detection-in-real-time"></a><span data-ttu-id="0d5d8-112">Scenariusz: Telekomunikacyjnych i SIM wykrywanie oszustw w czasie rzeczywistym</span><span class="sxs-lookup"><span data-stu-id="0d5d8-112">Scenario: Telecommunications and SIM fraud detection in real time</span></span>

<span data-ttu-id="0d5d8-113">Firmy telekomunikacyjnych ma duże ilości danych na połączenia przychodzące.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-113">A telecommunications company has a large volume of data for incoming calls.</span></span> <span data-ttu-id="0d5d8-114">Witaj firma chce się, że toodetect fałszywych wywoływanych w czasie rzeczywistym, aby mogli powiadamiać klientów lub wyłączyć usługi dla określonej liczby.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-114">hello company wants toodetect fraudulent calls in real time so that they can notify customers or shut down service for a specific number.</span></span> <span data-ttu-id="0d5d8-115">Jeden typ oszustwa SIM obejmuje wiele wywołań z hello tej samej tożsamości wokół hello w sam czas jednak geograficznie różnych lokalizacjach.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-115">One type of SIM fraud involves multiple calls from hello same identity around hello same time but in geographically different locations.</span></span> <span data-ttu-id="0d5d8-116">toodetect ten typ oszustwa, hello firmy potrzeb tooexamine przychodzące phone rekordów i szukania wzorców określone — w takim przypadku dla wywołań wokół hello jednocześnie w różnych krajach.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-116">toodetect this type of fraud, hello company needs tooexamine incoming phone records and look for specific patterns—in this case, for calls made around hello same time in different countries.</span></span> <span data-ttu-id="0d5d8-117">Rekordy telefonu, które należą do tej kategorii są zapisywane toostorage do dalszej analizy.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-117">Any phone records that fall into this category are written toostorage for subsequent analysis.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="0d5d8-118">Wymagania wstępne</span><span class="sxs-lookup"><span data-stu-id="0d5d8-118">Prerequisites</span></span>

<span data-ttu-id="0d5d8-119">W tym samouczku będzie symulować rozmowy telefonicznej danych przy użyciu aplikacji klienta, która generuje próbki rozmowy telefonicznej metadanych.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-119">In this tutorial, you'll simulate phone-call data by using a client app that generates sample phone call metadata.</span></span> <span data-ttu-id="0d5d8-120">Niektóre rekordy hello, które aplikacji hello tworzy wygląd fałszywych wywołania.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-120">Some of hello records that hello app produces look like fraudulent calls.</span></span> 

<span data-ttu-id="0d5d8-121">Przed rozpoczęciem upewnij się, że masz następujące hello:</span><span class="sxs-lookup"><span data-stu-id="0d5d8-121">Before you start, make sure you have hello following:</span></span>

* <span data-ttu-id="0d5d8-122">Konto platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-122">An Azure account.</span></span>
* <span data-ttu-id="0d5d8-123">Witaj zdarzenie wywołania generator aplikacji.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-123">hello call-event generator app.</span></span> <span data-ttu-id="0d5d8-124">Możesz uzyskać dostęp do tej pobierając hello [pliku TelcoGenerator.zip](http://download.microsoft.com/download/8/B/D/8BD50991-8D54-4F59-AB83-3354B69C8A7E/TelcoGenerator.zip) z hello Microsoft Download Center.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-124">You can get this by downloading hello [TelcoGenerator.zip file](http://download.microsoft.com/download/8/B/D/8BD50991-8D54-4F59-AB83-3354B69C8A7E/TelcoGenerator.zip) from hello Microsoft Download Center.</span></span> <span data-ttu-id="0d5d8-125">Rozpakuj pakiet do folderu na komputerze.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-125">Unzip this package into a folder on your computer.</span></span> <span data-ttu-id="0d5d8-126">Aby kod źródłowy hello toosee i aplikacji hello uruchamiania w debugerze, można pobrać kodu źródłowego aplikacji hello z [GitHub](https://aka.ms/azure-stream-analytics-telcogenerator).</span><span class="sxs-lookup"><span data-stu-id="0d5d8-126">If you want toosee hello source code and run hello app in a debugger, you can get hello app source code from [GitHub](https://aka.ms/azure-stream-analytics-telcogenerator).</span></span> 

    >[!NOTE]
    ><span data-ttu-id="0d5d8-127">System Windows może blokować hello pobrany plik zip.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-127">Windows might block hello downloaded .zip file.</span></span> <span data-ttu-id="0d5d8-128">Jeśli nie można rozpakować go, kliknij prawym przyciskiem myszy plik hello i wybierz **właściwości**.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-128">If you can't unzip it, right-click hello file and select **Properties**.</span></span> <span data-ttu-id="0d5d8-129">Jeśli widzisz hello komunikat "ten plik pochodzi z innego komputera i może być zablokowany toohelp ochrony tego komputera", wybierz hello **Odblokuj** opcji, a następnie kliknij przycisk **Zastosuj**.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-129">If you see hello "This file came from another computer and might be blocked toohelp protect this computer" message, select hello **Unblock** option and then click **Apply**.</span></span>

<span data-ttu-id="0d5d8-130">Jeśli chcesz, aby wyniki hello tooexamine zadanie analizy przesyłania strumieniowego hello, należy również narzędzia do wyświetlania zawartości hello kontenera magazynu obiektów Blob Azure.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-130">If you want tooexamine hello results of hello Streaming Analytics job, you also need a tool for viewing hello contents of a Azure Blob Storage container.</span></span> <span data-ttu-id="0d5d8-131">Jeśli używasz programu Visual Studio, możesz użyć [Azure Tools dla programu Visual Studio](https://docs.microsoft.com/en-us/azure/vs-azure-tools-storage-resources-server-explorer-browse-manage) lub [programu Visual Studio Cloud Explorer](https://docs.microsoft.com/en-us/azure/vs-azure-tools-resources-managing-with-cloud-explorer).</span><span class="sxs-lookup"><span data-stu-id="0d5d8-131">If you use Visual Studio, you can use [Azure Tools for Visual Studio](https://docs.microsoft.com/en-us/azure/vs-azure-tools-storage-resources-server-explorer-browse-manage) or [Visual Studio Cloud Explorer](https://docs.microsoft.com/en-us/azure/vs-azure-tools-resources-managing-with-cloud-explorer).</span></span> <span data-ttu-id="0d5d8-132">Alternatywnie można zainstalować narzędzi autonomicznych, takich jak [Eksploratora usługi Storage Azure](http://storageexplorer.com/) lub [Eksploratora Azure](http://www.cerebrata.com/products/azure-explorer/introduction).</span><span class="sxs-lookup"><span data-stu-id="0d5d8-132">Alternatively, you can install standalone tools like [Azure Storage Explorer](http://storageexplorer.com/) or [Azure Explorer](http://www.cerebrata.com/products/azure-explorer/introduction).</span></span> 

## <a name="create-an-azure-event-hubs-tooingest-events"></a><span data-ttu-id="0d5d8-133">Utworzyć usługi Azure event hubs tooingest zdarzeń</span><span class="sxs-lookup"><span data-stu-id="0d5d8-133">Create an Azure event hubs tooingest events</span></span>

<span data-ttu-id="0d5d8-134">tooanalyze strumień danych możesz *pozyskiwania* go na platformie Azure.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-134">tooanalyze a data stream, you *ingest* it into Azure.</span></span> <span data-ttu-id="0d5d8-135">Dane tooingest spotykaną metodą jest toouse [Azure Event Hubs](../event-hubs/event-hubs-what-is-event-hubs.md), które pozwala obsługiwać miliony zdarzeń na sekundę, a następnie przetwarzania i przechowywania informacji o zdarzeniu hello.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-135">A typical way tooingest data is toouse [Azure Event Hubs](../event-hubs/event-hubs-what-is-event-hubs.md), which lets you ingest millions of events per second and then process and store hello event information.</span></span> <span data-ttu-id="0d5d8-136">W tym samouczku tworzenia Centrum zdarzeń i mieć hello zdarzenie wywołania generator aplikacji wysyłania wywołania danych toothat Centrum zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-136">For this tutorial, you create an event hub and then have hello call-event generator app send call data toothat event hub.</span></span> <span data-ttu-id="0d5d8-137">Aby uzyskać więcej informacji na temat usługi event hubs, zobacz hello [dokumentacji usługi Azure Service Bus](https://docs.microsoft.com/en-us/azure/service-bus/).</span><span class="sxs-lookup"><span data-stu-id="0d5d8-137">For more about event hubs, see hello [Azure Service Bus documentation](https://docs.microsoft.com/en-us/azure/service-bus/).</span></span>

>[!NOTE]
><span data-ttu-id="0d5d8-138">Bardziej szczegółowe wersja tej procedury dla [tworzenie przestrzeni nazw usługi Event Hubs i Centrum zdarzeń za pomocą hello portalu Azure](../event-hubs/event-hubs-create.md).</span><span class="sxs-lookup"><span data-stu-id="0d5d8-138">For a more detailed version of this procedure, see [Create an Event Hubs namespace and an event hub using hello Azure portal](../event-hubs/event-hubs-create.md).</span></span> 

### <a name="create-a-namespace-and-event-hub"></a><span data-ttu-id="0d5d8-139">Tworzenie Centrum przestrzeń nazw i zdarzeń</span><span class="sxs-lookup"><span data-stu-id="0d5d8-139">Create a namespace and event hub</span></span>
<span data-ttu-id="0d5d8-140">W tej procedurze należy najpierw utworzyć przestrzeń nazw Centrum zdarzeń, a następnie dodaj namepsace toothat Centrum zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-140">In this procedure, you first create an event hub namespace, and then you add an event hub toothat namepsace.</span></span> <span data-ttu-id="0d5d8-141">Przestrzenie nazw Centrum zdarzeń są używane grupy toologically związane z wystąpień magistrali zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-141">Event hub namespaces are used toologically group related event bus instances.</span></span> 

1. <span data-ttu-id="0d5d8-142">Zaloguj się do hello portalu Azure i kliknij przycisk **nowy** > **Internetu rzeczy** > **Centrum zdarzeń**.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-142">Log  into hello Azure portal and click **New** > **Internet of Things** > **Event Hub**.</span></span> 

2. <span data-ttu-id="0d5d8-143">W hello **tworzenie przestrzeni nazw** bloku, wprowadź nazwę przestrzeni nazw, takich jak `<yourname>-eh-ns-demo`.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-143">In hello **Create namespace** blade, enter a namespace name such as `<yourname>-eh-ns-demo`.</span></span> <span data-ttu-id="0d5d8-144">Można użyć dowolnej nazwy przestrzeni nazw hello, ale hello nazwa musi być prawidłowa dla danego adresu URL i między Azure musi być unikatowa.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-144">You can use any name for hello namespace, but hello name must be valid for a URL and it must be unique across Azure.</span></span> 
    
3. <span data-ttu-id="0d5d8-145">Wybierz subskrypcję i Utwórz lub wybierz grupę zasobów, a następnie kliknij przycisk **Utwórz**.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-145">Select a subscription and create or choose a resource group , then click **Create**.</span></span> 

    ![Tworzenie przestrzeni nazw Centrum zdarzeń](./media/stream-analytics-real-time-fraud-detection/stream-analytics-create-eventhub-namespace-new-portal.png)
 
4. <span data-ttu-id="0d5d8-147">Po zakończeniu przestrzeni nazw hello wdrażania można znaleźć przestrzeni nazw Centrum zdarzeń hello na liście zasobów platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-147">When hello namespace has finished deploying, find hello event hub namespace in your list of Azure resources.</span></span> 

5. <span data-ttu-id="0d5d8-148">Kliknij hello nowej przestrzeni nazw, a w bloku przestrzeni nazw powitania kliknij  **+ &nbsp;Centrum zdarzeń**.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-148">Click hello new namespace, and in hello namespace blade, click **+&nbsp;Event Hub**.</span></span> 

    ![<span data-ttu-id="0d5d8-149">przycisk Dodaj Centrum zdarzeń Hello do tworzenia nowego Centrum zdarzeń</span><span class="sxs-lookup"><span data-stu-id="0d5d8-149">hello Add Event Hub button for creating a new event hub</span></span> ](./media/stream-analytics-real-time-fraud-detection/stream-analytics-create-eventhub-button-new-portal.png)    
 
6. <span data-ttu-id="0d5d8-150">Nazwa hello nowym Centrum zdarzeń `sa-eh-frauddetection-demo`.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-150">Name hello new event hub `sa-eh-frauddetection-demo`.</span></span> <span data-ttu-id="0d5d8-151">Można użyć innej nazwy.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-151">You can use a different name.</span></span> <span data-ttu-id="0d5d8-152">Jeśli to zrobisz, zanotuj, ponieważ potrzebna nazwa hello później.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-152">If you do, make a note of it, because you need hello name later.</span></span> <span data-ttu-id="0d5d8-153">Nie trzeba tooset inne opcje dla Centrum zdarzeń powitania od razu.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-153">You don't need tooset any other options for hello event hub right now.</span></span>

    ![Blok do tworzenia nowego Centrum zdarzeń](./media/stream-analytics-real-time-fraud-detection/stream-analytics-create-eventhub-new-portal.png)
    
 
7. <span data-ttu-id="0d5d8-155">Kliknij przycisk **Utwórz**.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-155">Click **Create**.</span></span>
### <a name="grant-access-toohello-event-hub-and-get-a-connection-string"></a><span data-ttu-id="0d5d8-156">Udziel Centrum zdarzeń toohello dostępu i pobrać ciągu połączenia</span><span class="sxs-lookup"><span data-stu-id="0d5d8-156">Grant access toohello event hub and get a connection string</span></span>

<span data-ttu-id="0d5d8-157">Aby proces może wysłać Centrum zdarzeń tooan danych, Centrum zdarzeń hello musi mieć zasadę, która umożliwia uzyskanie odpowiedniego dostępu.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-157">Before a process can send data tooan event hub, hello event hub must have a policy that allows appropriate access.</span></span> <span data-ttu-id="0d5d8-158">zasady dostępu Hello generuje ciąg połączenia, który zawiera informacje o autoryzacji.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-158">hello access policy produces a connection string that includes authorization information.</span></span>

1.  <span data-ttu-id="0d5d8-159">W bloku przestrzeni nazw zdarzeń powitania kliknij **usługi Event Hubs** a następnie kliknij nazwę hello nowe Centrum zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-159">In hello event namespace blade, click **Event Hubs** and then click hello name of your new event hub.</span></span>

2.  <span data-ttu-id="0d5d8-160">W bloku Centrum zdarzeń hello, kliknij przycisk **zasady dostępu współużytkowanego** , a następnie kliknij przycisk  **+ &nbsp;Dodaj**.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-160">In hello event hub blade, click **Shared access policies** and then click **+&nbsp;Add**.</span></span>

    >[!NOTE]
    ><span data-ttu-id="0d5d8-161">Upewnij się, że pracujesz z Centrum zdarzeń hello, nie hello Centrum przestrzeni nazw zdarzenia.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-161">Make sure you're working with hello event hub, not hello event hub namespace.</span></span>

3.  <span data-ttu-id="0d5d8-162">Dodaj zasady o nazwie `sa-policy-manage-demo` i **oświadczeń**, wybierz pozycję **Zarządzaj**.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-162">Add a policy named `sa-policy-manage-demo` and for **Claim**, select **Manage**.</span></span>

    ![Blok do tworzenia nowych zasad dostępu do Centrum zdarzeń](./media/stream-analytics-real-time-fraud-detection/stream-analytics-create-shared-access-policy-manage-new-portal.png)
 
4.  <span data-ttu-id="0d5d8-164">Kliknij przycisk **Utwórz**.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-164">Click **Create**.</span></span>

5.  <span data-ttu-id="0d5d8-165">Po wdrożeniu zasad powitania kliknij go hello liście zasady dostępu współdzielonego.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-165">After hello policy has been deployed, click it in hello list of shared access policies.</span></span>

6.  <span data-ttu-id="0d5d8-166">Znajdź pole hello **klucz podstawowy ciąg połączenia** i kliknij przycisk hello kopiowania przycisku Dalej toohello parametry połączenia.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-166">Find hello box labeled **CONNECTION STRING-PRIMARY KEY** and click hello copy button next toohello connection string.</span></span> 
    
    ![Kopiowanie klucza ciąg połączenia głównej hello hello zasady dostępu](./media/stream-analytics-real-time-fraud-detection/stream-analytics-shared-access-policy-copy-connection-string-new-portal.png)
 
7.  <span data-ttu-id="0d5d8-168">Wklej parametry połączenia hello w edytorze tekstu.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-168">Paste hello connection string into a text editor.</span></span> <span data-ttu-id="0d5d8-169">Należy tego ciągu połączenia dla następnej sekcji hello, po wprowadzeniu niektórych tooit małych edycji.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-169">You need this connection string for hello next section, after you make some small edits tooit.</span></span>

    <span data-ttu-id="0d5d8-170">Parametry połączenia Hello wygląda następująco:</span><span class="sxs-lookup"><span data-stu-id="0d5d8-170">hello connection string looks like this:</span></span>

        Endpoint=sb://YOURNAME-eh-ns-demo.servicebus.windows.net/;SharedAccessKeyName=sa-policy-manage-demo;SharedAccessKey=Gw2NFZwU1Di+rxA2T+6hJYAtFExKRXaC2oSQa0ZsPkI=;EntityPath=sa-eh-frauddetection-demo

    <span data-ttu-id="0d5d8-171">Powiadomienie, że parametry połączenia hello zawiera wiele par klucz wartość, oddzielając je średnikami: `Endpoint`, `SharedAccessKeyName`, `SharedAccessKey`, i `EntityPath`.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-171">Notice that hello connection string contains multiple key-value pairs, separated with semicolons: `Endpoint`, `SharedAccessKeyName`, `SharedAccessKey`, and `EntityPath`.</span></span>  

## <a name="configure-and-start-hello-event-generator-application"></a><span data-ttu-id="0d5d8-172">Skonfigurować i uruchomić hello zdarzeń generator aplikacji</span><span class="sxs-lookup"><span data-stu-id="0d5d8-172">Configure and start hello event generator application</span></span>

<span data-ttu-id="0d5d8-173">Przed rozpoczęciem powitalne TelcoGenerator aplikacji, możesz ją skonfigurować tak, aby wysyła Centrum zdarzeń toohello rekordów wywołania, które właśnie utworzony.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-173">Before you start hello TelcoGenerator app, you configure it so that it will send call records toohello event hub you just created.</span></span>

### <a name="configure-hello-telcogeneratorapp"></a><span data-ttu-id="0d5d8-174">Skonfiguruj hello TelcoGeneratorapp</span><span class="sxs-lookup"><span data-stu-id="0d5d8-174">Configure hello TelcoGeneratorapp</span></span>

1.  <span data-ttu-id="0d5d8-175">W edytorze hello jest kopiowany hello parametry połączenia, zanotuj hello `EntityPath` wartość, a następnie usuń hello `EntityPath` pary (nie zapomnij tooremove hello średnika, przechwyceniem).</span><span class="sxs-lookup"><span data-stu-id="0d5d8-175">In hello editor where you copied hello connection string, make a note of hello `EntityPath` value, and then remove hello `EntityPath` pair (don't forget tooremove hello semicolon that precedes it).</span></span> 

2.  <span data-ttu-id="0d5d8-176">W folderze hello, gdzie można rozpakować pliku TelcoGenerator.zip hello Otwórz plik telcodatagen.exe.config hello w edytorze.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-176">In hello folder where you unzipped hello TelcoGenerator.zip file, open hello telcodatagen.exe.config file in an editor.</span></span> <span data-ttu-id="0d5d8-177">(Istnieje więcej niż jednego pliku .config, dlatego należy po otwarciu prawo hello co.)</span><span class="sxs-lookup"><span data-stu-id="0d5d8-177">(There is more than one .config file, so be sure that you open hello right one.)</span></span>

3.  <span data-ttu-id="0d5d8-178">W hello `<appSettings>` element, w tym:</span><span class="sxs-lookup"><span data-stu-id="0d5d8-178">In hello `<appSettings>` element, do this:</span></span>

    * <span data-ttu-id="0d5d8-179">Ustaw wartość hello hello `EventHubName` nazwy Centrum zdarzeń toohello klucza (czyli toohello wartość hello jednostki ścieżki).</span><span class="sxs-lookup"><span data-stu-id="0d5d8-179">Set hello value of hello `EventHubName` key toohello event hub name (that is, toohello value of hello entity path).</span></span>
    * <span data-ttu-id="0d5d8-180">Ustaw wartość hello hello `Microsoft.ServiceBus.ConnectionString` klucza toohello parametry połączenia.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-180">Set hello value of hello `Microsoft.ServiceBus.ConnectionString` key toohello connection string.</span></span> 

    <span data-ttu-id="0d5d8-181">Witaj `<appSettings>` sekcji będzie wyglądać hello poniższy przykład.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-181">hello `<appSettings>` section will look like hello following example.</span></span> <span data-ttu-id="0d5d8-182">(Dla uzyskania przejrzystości, możemy opakowana hello wierszy i usunąć niektóre znaki z tokenu autoryzacji hello.)</span><span class="sxs-lookup"><span data-stu-id="0d5d8-182">(For clarity, we wrapped hello lines and removed some characters from hello authorization token.)</span></span>

    ![Plik konfiguracji aplikacji TelcoGenerator przedstawiający hello zdarzenia koncentratora nazwy i parametry połączenia](./media/stream-analytics-real-time-fraud-detection/stream-analytics-telcogenerator-config-file-app-settings.png)
 
4.  <span data-ttu-id="0d5d8-184">Zapisz plik hello.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-184">Save hello file.</span></span> 

### <a name="start-hello-app"></a><span data-ttu-id="0d5d8-185">Uruchamiają aplikację hello</span><span class="sxs-lookup"><span data-stu-id="0d5d8-185">Start hello app</span></span>
1.  <span data-ttu-id="0d5d8-186">Otwórz okno polecenia i zmień folder toohello, w którym jest rozpakowane hello TelcoGenerator aplikacji.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-186">Open a command window and change toohello folder where hello TelcoGenerator app is unzipped.</span></span>
2.  <span data-ttu-id="0d5d8-187">Wprowadź hello następujące polecenie:</span><span class="sxs-lookup"><span data-stu-id="0d5d8-187">Enter hello following command:</span></span>

        telcodatagen.exe 1000 .2 2

    <span data-ttu-id="0d5d8-188">Parametry Hello są:</span><span class="sxs-lookup"><span data-stu-id="0d5d8-188">hello parameters are:</span></span> 

    * <span data-ttu-id="0d5d8-189">Liczba CDR na godzinę.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-189">Number of CDRs per hour.</span></span> 
    * <span data-ttu-id="0d5d8-190">Prawdopodobieństwo oszustwa karta SIM: Jak często jako procent wszystkich wywołań, aplikacja hello, powinny symulować fałszywych wywołania.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-190">SIM Card Fraud Probability: How often, as a percentage of all calls, that hello app should simulate a fraudulent call.</span></span> <span data-ttu-id="0d5d8-191">wartość Hello.2 oznacza, że około 20% hello wywołania rekordy będą wyglądać fałszywe.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-191">hello value .2 means that about 20% of hello call records will look fraudulent.</span></span>
    * <span data-ttu-id="0d5d8-192">Czas trwania w godzinach.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-192">Duration in hours.</span></span> <span data-ttu-id="0d5d8-193">Witaj liczbę godzin, które hello aplikacji powinno być ono uruchomione.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-193">hello number of hours that hello app should run.</span></span> <span data-ttu-id="0d5d8-194">Można również zatrzymać aplikacji hello dowolnej chwili, naciskając klawisze Ctrl + C w wierszu polecenia hello.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-194">You can also stop hello app any time by pressing Ctrl+C at hello command line.</span></span>

    <span data-ttu-id="0d5d8-195">Po kilku sekundach uruchomieniu aplikacji hello wyświetlanie rekordy połączeń telefonicznych na ekranie powitania jako wysyła je toohello Centrum zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-195">After a few seconds, hello app starts displaying phone call records on hello screen as it sends them toohello event hub.</span></span>

<span data-ttu-id="0d5d8-196">Niektóre pola klucza hello, które będą używane w tej aplikacji wykrywanie oszustw w czasie rzeczywistym są następujące hello:</span><span class="sxs-lookup"><span data-stu-id="0d5d8-196">Some of hello key fields that you will be using in this real-time fraud detection application are hello following:</span></span>

|<span data-ttu-id="0d5d8-197">**Rekord**</span><span class="sxs-lookup"><span data-stu-id="0d5d8-197">**Record**</span></span>|<span data-ttu-id="0d5d8-198">**Definicja**</span><span class="sxs-lookup"><span data-stu-id="0d5d8-198">**Definition**</span></span>|
|----------|--------------|
|`CallrecTime`|<span data-ttu-id="0d5d8-199">Godzina rozpoczęcia sygnatury czasowej Hello hello wywołania.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-199">hello timestamp for hello call start time.</span></span> |
|`SwitchNum`|<span data-ttu-id="0d5d8-200">Przełącznik telefonu Hello używany tooconnect hello wywołania.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-200">hello telephone switch used tooconnect hello call.</span></span> <span data-ttu-id="0d5d8-201">Na przykład przełączniki hello są ciągów reprezentujących hello kraj pochodzenia (USA, Chin, UK, Niemcy lub Australii).</span><span class="sxs-lookup"><span data-stu-id="0d5d8-201">For this example, hello switches are strings that represent hello country of origin (US, China, UK, Germany, or Australia).</span></span> |
|`CallingNum`|<span data-ttu-id="0d5d8-202">numer telefonu Hello hello wywołującego.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-202">hello phone number of hello caller.</span></span> |
|`CallingIMSI`|<span data-ttu-id="0d5d8-203">Witaj międzynarodowej Mobile subskrybenta tożsamości IMSI.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-203">hello International Mobile Subscriber Identity (IMSI).</span></span> <span data-ttu-id="0d5d8-204">Jest to unikatowy identyfikator wywołującego hello hello.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-204">This is hello Unique identifier of hello caller.</span></span> |
|`CalledNum`|<span data-ttu-id="0d5d8-205">numer telefonu Hello hello wywołania adresata.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-205">hello phone number of hello call recipient.</span></span> |
|`CalledIMSI`|<span data-ttu-id="0d5d8-206">Subskrybent międzynarodowy przenośnych tożsamość (firmy IMSI).</span><span class="sxs-lookup"><span data-stu-id="0d5d8-206">International Mobile Subscriber Identity (IMSI).</span></span> <span data-ttu-id="0d5d8-207">Jest to unikatowy identyfikator hello hello wywołania odbiorcy.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-207">This is hello unique identifier of hello call recipient.</span></span> |


## <a name="create-a-stream-analytics-job-toomanage-streaming-data"></a><span data-ttu-id="0d5d8-208">Utwórz toomanage zadania Stream Analytics, przesyłanie strumieniowe danych</span><span class="sxs-lookup"><span data-stu-id="0d5d8-208">Create a Stream Analytics job toomanage streaming data</span></span>

<span data-ttu-id="0d5d8-209">Teraz, gdy masz strumienia zdarzeń wywołania można skonfigurować zadania usługi analiza strumienia.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-209">Now that you have a stream of call events, you can set up a Stream Analytics job.</span></span> <span data-ttu-id="0d5d8-210">zadanie Hello będzie odczytywać dane z Centrum zdarzeń hello ustawiony.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-210">hello job will read data from hello event hub that you set up.</span></span> 

### <a name="create-hello-job"></a><span data-ttu-id="0d5d8-211">Utwórz zadanie hello</span><span class="sxs-lookup"><span data-stu-id="0d5d8-211">Create hello job</span></span> 

1. <span data-ttu-id="0d5d8-212">W portalu Azure hello, kliknij przycisk **nowy** > **Internetu rzeczy** > **zadanie usługi Stream Analytics**.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-212">In hello Azure portal, click **New** > **Internet of Things** > **Stream Analytics job**.</span></span>

2. <span data-ttu-id="0d5d8-213">Nazwa zadania hello `sa_frauddetection_job_demo`, określ subskrypcję, lokalizacji i grupy zasobów.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-213">Name hello job `sa_frauddetection_job_demo`, specify a subscription, resource group, and location.</span></span>

    <span data-ttu-id="0d5d8-214">Z dobrze tooplace hello zadania i hello Centrum zdarzeń w hello jest tym samym regionie, aby uzyskać najlepszą wydajność i dlatego nie zwracania tootransfer danych między regionami.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-214">It's a good idea tooplace hello job and hello event hub in hello same region for best performance and so that you don't pay tootransfer data between regions.</span></span>

    ![Tworzenie nowego zadania usługi analiza strumienia](./media/stream-analytics-real-time-fraud-detection/stream-analytics-create-sa-job-new-portal.png)

3. <span data-ttu-id="0d5d8-216">Kliknij przycisk **Utwórz**.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-216">Click **Create**.</span></span>

    <span data-ttu-id="0d5d8-217">Utworzono zadanie Hello i hello portal Wyświetla szczegóły zadania.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-217">hello job is created and hello portal displays job details.</span></span> <span data-ttu-id="0d5d8-218">Nic nie jest jeszcze uruchomiona, ale — masz tooconfigure hello zadania, aby można było uruchomić.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-218">Nothing is running yet, though—you have tooconfigure hello job before it can be started.</span></span>

### <a name="configure-job-input"></a><span data-ttu-id="0d5d8-219">Skonfiguruj zadania w danych wejściowych</span><span class="sxs-lookup"><span data-stu-id="0d5d8-219">Configure job input</span></span>

1. <span data-ttu-id="0d5d8-220">W pulpicie nawigacyjnym hello lub hello **wszystkie zasoby** bloku, Znajdź i wybierz hello `sa_frauddetection_job_demo` zadania usługi analiza strumienia.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-220">In hello dashboard or hello **All resources** blade, find and select hello `sa_frauddetection_job_demo` Stream Analytics job.</span></span> 
2. <span data-ttu-id="0d5d8-221">W hello **topologii zadania** sekcji hello bloku zadania Stream Analytics, kliknij przycisk hello **dane wejściowe** pole.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-221">In hello **Job Topology** section of hello Stream Analytics job blade, click hello **Input** box.</span></span>

    ![Pole wprowadzania w topologii w bloku zadania przesyłania strumieniowego Analytics hello](./media/stream-analytics-real-time-fraud-detection/stream-analytics-sa-job-input-box-new-portal.png)
 
3. <span data-ttu-id="0d5d8-223">Kliknij przycisk  **+ &nbsp;Dodaj** , a następnie wypełnij bloku hello z tymi wartościami:</span><span class="sxs-lookup"><span data-stu-id="0d5d8-223">Click **+&nbsp;Add** and then fill out hello blade with these values:</span></span>

    * <span data-ttu-id="0d5d8-224">**Alias wejściowy**: Użyj nazwy hello `CallStream`.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-224">**Input alias**: Use hello name `CallStream`.</span></span> <span data-ttu-id="0d5d8-225">Użyj innej nazwy, aby je zapisać, ponieważ będzie on potrzebny później.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-225">If you use a different name, make a note of it because you'll need it later.</span></span>
    * <span data-ttu-id="0d5d8-226">**Typ źródła**: Wybierz **strumienia danych**.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-226">**Source type**: Select **Data stream**.</span></span> <span data-ttu-id="0d5d8-227">(**Danych referencyjnych** odwołuje się toostatic wyszukiwania danych, które nie będą korzystać z tego samouczka.)</span><span class="sxs-lookup"><span data-stu-id="0d5d8-227">(**Reference data** refers toostatic lookup data, which you won't use in this tutorial.)</span></span>
    * <span data-ttu-id="0d5d8-228">**Źródło**: Wybierz **Centrum zdarzeń**.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-228">**Source**: Select **Event hub**.</span></span>
    * <span data-ttu-id="0d5d8-229">**Opcji importowania**: Wybierz **Użyj Centrum zdarzeń z bieżącej subskrypcji**.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-229">**Import option**: Select **Use event hub from current subscription**.</span></span> 
    * <span data-ttu-id="0d5d8-230">**Przestrzeń nazw magistrali usług**: Wybierz hello Centrum przestrzeni nazw zdarzenia utworzonego wcześniej (`<yourname>-eh-ns-demo`).</span><span class="sxs-lookup"><span data-stu-id="0d5d8-230">**Service bus namespace**: Select hello event hub namespace that you created earlier (`<yourname>-eh-ns-demo`).</span></span>
    * <span data-ttu-id="0d5d8-231">**Centrum zdarzeń**: Centrum zdarzeń hello wybierz utworzony wcześniej (`sa-eh-frauddetection-demo`).</span><span class="sxs-lookup"><span data-stu-id="0d5d8-231">**Event hub**: Select hello event hub that you created earlier (`sa-eh-frauddetection-demo`).</span></span>
    * <span data-ttu-id="0d5d8-232">**Nazwa zasad Centrum zdarzeń**: Wybierz zasady dostępu hello utworzonego wcześniej (`sa-policy-manage-demo`).</span><span class="sxs-lookup"><span data-stu-id="0d5d8-232">**Event hub policy name**: Select hello access policy that you created earlier (`sa-policy-manage-demo`).</span></span>

    ![Utwórz nowe dane wejściowe zadania przesyłania strumieniowego usługi analiza](./media/stream-analytics-real-time-fraud-detection/stream-analytics-create-sa-input-new-portal.png)

4. <span data-ttu-id="0d5d8-234">Kliknij przycisk **Utwórz**.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-234">Click **Create**.</span></span>

## <a name="create-queries-tootransform-real-time-data"></a><span data-ttu-id="0d5d8-235">Tworzenie zapytań tootransform danych w czasie rzeczywistym</span><span class="sxs-lookup"><span data-stu-id="0d5d8-235">Create queries tootransform real-time data</span></span>

<span data-ttu-id="0d5d8-236">W tym momencie masz zadanie usługi Stream Analytics, skonfiguruj tooread przychodzącego strumienia danych.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-236">At this point, you have a Stream Analytics job set up tooread an incoming data stream.</span></span> <span data-ttu-id="0d5d8-237">Witaj następnym krokiem jest toocreate transformację analizuje dane hello w czasie rzeczywistym.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-237">hello next step is toocreate a transformation that analyzes hello data in real time.</span></span> <span data-ttu-id="0d5d8-238">Można to zrobić, tworząc kwerendy.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-238">You do this by creating a query.</span></span> <span data-ttu-id="0d5d8-239">Analiza strumienia obsługuje prosty, deklaratywny model zapytań opisujący przekształceń do przetworzenia w czasie rzeczywistym.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-239">Stream Analytics supports a simple, declarative query model that describes transformations for real-time processing.</span></span> <span data-ttu-id="0d5d8-240">zapytania Hello używać języka przypominającego SQL, którego niektóre rozszerzenia toostream określonego analityka.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-240">hello queries use a SQL-like language that has some extensions specific toostream analytics.</span></span> 

<span data-ttu-id="0d5d8-241">Bardzo proste zapytanie po prostu może odczytać wszystkich danych przychodzących hello.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-241">A very simple query might simply read all hello incoming data.</span></span> <span data-ttu-id="0d5d8-242">Jednak często tworzyć zapytania, które wyglądają dla określonych danych lub w przypadku relacji w danych hello.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-242">However, you often create queries that look for specific data or for relationships in hello data.</span></span> <span data-ttu-id="0d5d8-243">W tej sekcji samouczka hello będzie tworzenie i testowanie kilka toolearn kwerendy na kilka sposobów, w których można przekształcać strumień wejściowy do analizy.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-243">In this section of hello tutorial, you will create and test several queries toolearn a few ways in which you can transform an input stream for analysis.</span></span> 

<span data-ttu-id="0d5d8-244">tutaj tworzonych kwerend Hello wyświetli tylko hello przekształcone dane toohello ekranu.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-244">hello queries you create here will just display hello transformed data toohello screen.</span></span> <span data-ttu-id="0d5d8-245">W dalszej części artykułu należy skonfigurować ujście danych wyjściowych i kwerendę, która zapisuje hello przekształcone dane toothat ujścia.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-245">In a later section, you'll configure an output sink and a query that writes hello transformed data toothat sink.</span></span>

<span data-ttu-id="0d5d8-246">toolearn więcej informacji na temat języka hello, zobacz hello [Azure Stream Analytics zapytania Language Reference](https://msdn.microsoft.com/library/dn834998.aspx).</span><span class="sxs-lookup"><span data-stu-id="0d5d8-246">toolearn more about hello language, see hello [Azure Stream Analytics Query Language Reference](https://msdn.microsoft.com/library/dn834998.aspx).</span></span>

### <a name="get-sample-data-for-testing-queries"></a><span data-ttu-id="0d5d8-247">Pobierz przykładowe dane do testowania zapytań</span><span class="sxs-lookup"><span data-stu-id="0d5d8-247">Get sample data for testing queries</span></span>

<span data-ttu-id="0d5d8-248">Hello TelcoGenerator aplikacji wysyła Centrum zdarzeń toohello rekordów wywołania i zadania usługi Stream Analytics jest skonfigurowany tooread z Centrum zdarzeń hello.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-248">hello TelcoGenerator app is sending call records toohello event hub, and your Stream Analytics job is configured tooread from hello event hub.</span></span> <span data-ttu-id="0d5d8-249">Można użyć zapytania tootest hello zadania toomake się upewnić, że jest poprawnie odczytywania.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-249">You can use a query tootest hello job toomake sure that it's reading correctly.</span></span> <span data-ttu-id="0d5d8-250">zbyt test kwerendy w hello konsoli platformy Azure, należy przykładowych danych.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-250">too test a query in hello Azure console, you need sample data.</span></span> <span data-ttu-id="0d5d8-251">W ramach tego przewodnika będą Wyodrębnij przykładowych danych ze strumienia hello, która będzie dostępna w Centrum zdarzeń hello.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-251">For this walkthrough, you'll extract sample data from hello stream that's coming into hello event hub.</span></span>

1. <span data-ttu-id="0d5d8-252">Upewnij się, aplikacja TelcoGenerator hello jest uruchomiona i tworzenie rekordów wywołania.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-252">Make sure that hello TelcoGenerator app is running and producing call records.</span></span>
2. <span data-ttu-id="0d5d8-253">W portalu hello zwracać bloku zadanie analizy przesyłania strumieniowego toohello.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-253">In hello portal, return toohello Streaming Analytics job blade.</span></span> <span data-ttu-id="0d5d8-254">(Jeśli został zamknięty hello bloku, wyszukaj `sa_frauddetection_job_demo` w hello **wszystkie zasoby** bloku.)</span><span class="sxs-lookup"><span data-stu-id="0d5d8-254">(If you closed hello blade, search for `sa_frauddetection_job_demo` in hello **All resources** blade.)</span></span>
3. <span data-ttu-id="0d5d8-255">Kliknij przycisk hello **zapytania** pole.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-255">Click hello **Query** box.</span></span> <span data-ttu-id="0d5d8-256">Azure zawiera dane wejściowe hello i dane wyjściowe, które są skonfigurowane dla zadania hello i pozwala utworzyć kwerendę, która umożliwia przekształcenie strumienia wejściowego hello podczas przesyłania danych wyjściowych toohello.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-256">Azure lists hello inputs and outputs that are configured for hello job, and lets you create a query that lets you transform hello input stream as it is sent toohello output.</span></span>
4. <span data-ttu-id="0d5d8-257">W hello **zapytania** bloku, kliknij przycisk Dalej toohello punktów hello `CallStream` danych wejściowych, a następnie wybierz **przykładowe dane z danych wejściowych**.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-257">In hello **Query** blade, click hello dots next toohello `CallStream` input and then select **Sample data from input**.</span></span>

    ![Menu Opcje toouse przykładowych danych do hello wpis "Przykładowych danych z danych wejściowych" wybrane zadania przesyłania strumieniowego Analytics](./media/stream-analytics-real-time-fraud-detection/stream-analytics-create-sample-data-from-input.png)

    <span data-ttu-id="0d5d8-259">Spowoduje to otwarcie bloku, który pozwala określić, ile tooget dane przykładowe, zdefiniowanych pod względem jak długo tooread hello wejściowych strumienia.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-259">This opens a blade that lets you specify how much sample data tooget, defined in terms of how long tooread hello input stream.</span></span>

5. <span data-ttu-id="0d5d8-260">Ustaw **minut** too3, a następnie kliknij przycisk **OK**.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-260">Set **Minutes** too3 and then click **OK**.</span></span> 
    
    ![Próbkowanie hello strumienia wejściowego, z "3 minuty" wybrane opcje.](./media/stream-analytics-real-time-fraud-detection/stream-analytics-input-create-sample-data.png)

    <span data-ttu-id="0d5d8-262">Azure przykłady 3 minut, przez które danych ze strumienia wejściowego hello i powiadamia użytkownika, gdy będzie gotowy hello przykładowych danych.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-262">Azure samples 3 minutes' worth of data from hello input stream and notifies you when hello sample data is ready.</span></span> <span data-ttu-id="0d5d8-263">(Trwa to krótki czas).</span><span class="sxs-lookup"><span data-stu-id="0d5d8-263">(This takes a short while.)</span></span> 

<span data-ttu-id="0d5d8-264">Hello przykładowe dane są tymczasowo przechowywane i jest dostępny, gdy masz hello okna kwerendy.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-264">hello sample data is stored temporarily and is available while you have hello query window open.</span></span> <span data-ttu-id="0d5d8-265">Jeśli zamkniesz okno kwerendy hello hello przykładowe dane są usuwane i będziesz mieć toocreate nowy zestaw przykładowych danych.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-265">If you close hello query window, hello sample data is discarded, and you'll have toocreate a new set of sample data.</span></span> 

<span data-ttu-id="0d5d8-266">Alternatywnie, można uzyskać pliku JSON, który zawiera przykładowe dane w nim [z usługi GitHub](https://github.com/Azure/azure-stream-analytics/blob/master/Sample%20Data/telco.json), a następnie przekaż tego toouse pliku JSON jako dane przykładowe dla hello `CallStream` wejściowego.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-266">As an alternative, you can get a .json file that has sample data in it [from GitHub](https://github.com/Azure/azure-stream-analytics/blob/master/Sample%20Data/telco.json), and then upload that .json file toouse as sample data for hello `CallStream` input .</span></span> 

### <a name="test-using-a-pass-through-query"></a><span data-ttu-id="0d5d8-267">Testowanie przy użyciu zapytania przekazującego</span><span class="sxs-lookup"><span data-stu-id="0d5d8-267">Test using a pass-through query</span></span>

<span data-ttu-id="0d5d8-268">Jeśli chcesz tooarchive każde zdarzenie, można użyć tooread zapytania przekazującego wszystkie pola hello w ładunku hello hello zdarzenia.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-268">If you want tooarchive every event, you can use a pass-through query tooread all hello fields in hello payload of hello event.</span></span>

1. <span data-ttu-id="0d5d8-269">W oknie zapytania hello wprowadź tego zapytania:</span><span class="sxs-lookup"><span data-stu-id="0d5d8-269">In hello query window, enter this query:</span></span>

        SELECT 
            *
        FROM 
            CallStream

    >[!NOTE]
    ><span data-ttu-id="0d5d8-270">Podobnie jak w przypadku SQL, słowa kluczowe nie jest uwzględniana wielkość liter, a odstępem, nie ma znaczenia.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-270">As with SQL, keywords are not case sensitive, and whitespace is not significant.</span></span>

    <span data-ttu-id="0d5d8-271">W tym zapytaniu `CallStream` jest hello alias określony podczas tworzenia hello danych wejściowych.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-271">In this query, `CallStream` is hello alias that you specified when you created hello input.</span></span> <span data-ttu-id="0d5d8-272">Jeśli używasz inny alias, należy użyć tej nazwy.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-272">If you used a different alias, use that name instead.</span></span>

2. <span data-ttu-id="0d5d8-273">Kliknij przycisk **testu**.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-273">Click **Test**.</span></span>

    <span data-ttu-id="0d5d8-274">zadanie Stream Analytics Hello jest uruchamiana hello zapytania dla hello przykładowych danych i wyświetla dane wyjściowe hello u dołu okna hello hello.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-274">hello Stream Analytics job runs hello query against hello sample data and displays hello output at hello bottom of hello window.</span></span> <span data-ttu-id="0d5d8-275">Oznacza to, że hello Centrum zdarzeń i zadanie analizy przesyłania strumieniowego hello są prawidłowo skonfigurowane.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-275">This tells you that hello event hub and hello Streaming Analytics job are configured correctly.</span></span> <span data-ttu-id="0d5d8-276">(Jak wspomniano, później należy utworzyć ujście danych wyjściowych tego hello zapytania można zapisywać danych.)</span><span class="sxs-lookup"><span data-stu-id="0d5d8-276">(As noted, later you'll create an output sink that hello query can write data to.)</span></span>

    ![Zadania usługi analiza strumienia wyjściowego, wyświetlanie 73 rekordów wygenerowany](./media/stream-analytics-real-time-fraud-detection/stream-analytics-sa-job-sample-output.png)

    <span data-ttu-id="0d5d8-278">Dokładna liczba rekordów wyświetlanych Hello będzie zależeć od liczbę rekordów zostały przechwycone w Twoim przykładzie 3 minuty.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-278">hello exact number of records you see will depend on how many records were captured in your 3-minute sample.</span></span>
 
### <a name="reduce-hello-number-of-fields-using-a-column-projection"></a><span data-ttu-id="0d5d8-279">Zmniejsz liczbę hello pola przy użyciu projekcji kolumny</span><span class="sxs-lookup"><span data-stu-id="0d5d8-279">Reduce hello number of fields using a column projection</span></span>

<span data-ttu-id="0d5d8-280">W wielu przypadkach analizy nie potrzebuje wszystkich kolumn hello ze strumienia wejściowego hello.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-280">In many cases, your analysis doesn't need all hello columns from hello input stream.</span></span> <span data-ttu-id="0d5d8-281">Możesz użyć tooproject zapytania, mniejszy zestaw zwrócony pól niż w hello zapytania przekazującego.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-281">You can use a query tooproject a smaller set of returned fields than in hello pass-through query.</span></span>

1. <span data-ttu-id="0d5d8-282">Zmień zapytanie hello w następujących toohello edytora kodu hello:</span><span class="sxs-lookup"><span data-stu-id="0d5d8-282">Change hello query in hello code editor toohello following:</span></span>

        SELECT CallRecTime, SwitchNum, CallingIMSI, CallingNum, CalledNum 
        FROM 
            CallStream

2. <span data-ttu-id="0d5d8-283">Kliknij przycisk **testu** ponownie.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-283">Click **Test** again.</span></span> 

    ![Zadania Stream Analytics wyjściowego dla projekcji, wyświetlanie 25 rekordów wygenerowany](./media/stream-analytics-real-time-fraud-detection/stream-analytics-sa-job-sample-output-projection.png)
 
### <a name="count-incoming-calls-by-region-tumbling-window-with-aggregation"></a><span data-ttu-id="0d5d8-285">Liczba przychodzących wywołuje według regionu: okno wirowania z agregacją</span><span class="sxs-lookup"><span data-stu-id="0d5d8-285">Count incoming calls by region: Tumbling window with aggregation</span></span>

<span data-ttu-id="0d5d8-286">Załóżmy, że chcesz toocount hello liczba połączeń przychodzących na region.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-286">Suppose you want toocount hello number of incoming calls per region.</span></span> <span data-ttu-id="0d5d8-287">W strumieniowego przesyłania danych, należy tooperform funkcje agregujące, takie jak zliczanie, należy toosegment hello strumienia do jednostki danych czasowych (ponieważ sam strumień danych hello jest skutecznie nieskończone).</span><span class="sxs-lookup"><span data-stu-id="0d5d8-287">In streaming data, when you want tooperform aggregate functions like counting, you need toosegment hello stream into temporal units (since hello data stream itself is effectively endless).</span></span> <span data-ttu-id="0d5d8-288">Można to zrobić przy użyciu usługi analiza strumienia [funkcji okna](stream-analytics-window-functions.md).</span><span class="sxs-lookup"><span data-stu-id="0d5d8-288">You do this using a Streaming Analytics [window function](stream-analytics-window-functions.md).</span></span> <span data-ttu-id="0d5d8-289">Możesz następnie pracować z danymi hello wewnątrz tego okna jako jednostka.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-289">You can then work with hello data inside that window as a unit.</span></span>

<span data-ttu-id="0d5d8-290">Dla tej transformacji sekwencja danych czasowych systemu Windows, które nie nakładają się na — każde okno będzie mieć odrębny zestaw danych, które można grupować i agregacji.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-290">For this transformation, you want a sequence of temporal windows that don't overlap—each window will have a discrete set of data that you can group and aggregate.</span></span> <span data-ttu-id="0d5d8-291">Ten typ okna jest określony tooas *okno wirowania* .</span><span class="sxs-lookup"><span data-stu-id="0d5d8-291">This type of window is referred tooas a *Tumbling window* .</span></span> <span data-ttu-id="0d5d8-292">W ramach okno wirowania hello, możesz uzyskać liczbę przychodzących hello pogrupowane według `SwitchNum`, reprezentuje kraj hello pochodzenie hello wywołania.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-292">Within hello Tumbling window, you can get a count of hello incoming calls grouped by `SwitchNum`, which represents hello country where hello call originated.</span></span> 

1. <span data-ttu-id="0d5d8-293">Zmień zapytanie hello w następujących toohello edytora kodu hello:</span><span class="sxs-lookup"><span data-stu-id="0d5d8-293">Change hello query in hello code editor toohello following:</span></span>

        SELECT 
            System.Timestamp as WindowEnd, SwitchNum, COUNT(*) as CallCount 
        FROM
            CallStream TIMESTAMP BY CallRecTime 
        GROUP BY TUMBLINGWINDOW(s, 5), SwitchNum

    <span data-ttu-id="0d5d8-294">To zapytanie używa hello `Timestamp By` — słowo kluczowe w hello `FROM` toospecify klauzuli pola sygnatury czasowej w hello wejściowych okno wirowania hello toodefine toouse strumienia.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-294">This query uses hello `Timestamp By` keyword in hello `FROM` clause toospecify which timestamp field in hello input stream toouse toodefine hello Tumbling window.</span></span> <span data-ttu-id="0d5d8-295">W takim przypadku okna hello dzieli dane hello segmentów przez hello `CallRecTime` w każdego rekordu.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-295">In this case, hello window divides hello data into segments by hello `CallRecTime` field in each record.</span></span> <span data-ttu-id="0d5d8-296">(Jeśli żadne pole nie zostanie określony, operacja okien hello używa czas hello każdego zdarzenia dociera hello Centrum zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-296">(If no field is specified, hello windowing operation uses hello time that each event arrives at hello event hub.</span></span> <span data-ttu-id="0d5d8-297">Zobacz sekcję "Godzina aplikacji Vs Godzina nadejścia" w [strumienia Analytics Query Language Reference](https://msdn.microsoft.com/library/azure/dn834998.aspx).</span><span class="sxs-lookup"><span data-stu-id="0d5d8-297">See "Arrival Time Vs Application Time" in [Stream Analytics Query Language Reference](https://msdn.microsoft.com/library/azure/dn834998.aspx).</span></span> 

    <span data-ttu-id="0d5d8-298">obejmuje projekcji Hello `System.Timestamp`, która zwraca sygnatury czasowej do hello koniec każdego okna.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-298">hello projection includes `System.Timestamp`, which returns a timestamp for hello end of each window.</span></span> 

    <span data-ttu-id="0d5d8-299">toospecify, które mają toouse okno wirowania, użyj hello [TUMBLINGWINDOW](https://msdn.microsoft.com/library/dn835055.aspx) funkcji w hello `GROUP BY `klauzuli.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-299">toospecify that you want toouse a Tumbling window, you use hello [TUMBLINGWINDOW](https://msdn.microsoft.com/library/dn835055.aspx) function in hello `GROUP BY `clause.</span></span> <span data-ttu-id="0d5d8-300">W funkcji hello należy określić jednostkę czasu (dowolnym z dziennie tooa mikrosekund) i rozmiaru okna (liczbę jednostek).</span><span class="sxs-lookup"><span data-stu-id="0d5d8-300">In hello function, you specify a time unit (anywhere from a microsecond tooa day) and a window size (how many units).</span></span> <span data-ttu-id="0d5d8-301">W tym przykładzie okno wirowania hello składa się z 5 sekund, tak liczba według kraju będzie uzyskać co 5 sekund, przez które wywołania.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-301">In this example, hello Tumbling window consists of 5-second intervals, so you will get a count by country for every 5 seconds' worth of calls.</span></span>

2. <span data-ttu-id="0d5d8-302">Kliknij przycisk **testu** ponownie.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-302">Click **Test** again.</span></span> <span data-ttu-id="0d5d8-303">W wynikach hello, zwróć uwagę, że sygnatury czasowe hello w obszarze **WindowEnd** w przyrostach 5 sekund.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-303">In hello results, notice that hello timestamps under **WindowEnd** are in 5-second increments.</span></span>

    ![Zadania Stream Analytics dane wyjściowe do agregacji, wyświetlanie rekordów 13 wygenerowany](./media/stream-analytics-real-time-fraud-detection/stream-analytics-sa-job-sample-output-aggregation.png)
 
### <a name="detect-sim-fraud-using-a-self-join"></a><span data-ttu-id="0d5d8-305">Wykrywanie oszustw SIM przy użyciu samosprzężenie</span><span class="sxs-lookup"><span data-stu-id="0d5d8-305">Detect SIM fraud using a self-join</span></span>

<span data-ttu-id="0d5d8-306">Na przykład możemy Rozważ użycie fałszywych wywołania toobe, które pochodzą ze hello sam użytkownika, ale w różnych lokalizacjach w ciągu 5 sekund od siebie.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-306">For this example, we can consider fraudulent usage toobe calls that originate from hello same user but in different locations within 5 seconds of one another.</span></span> <span data-ttu-id="0d5d8-307">Na przykład hello tego samego użytkownika nie legalnie wywoływania z hello Stanów Zjednoczonych oraz Australii na powitania tym samym czasie.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-307">For example, hello same user can't legitimately make a call from hello US and Australia at hello same time.</span></span> 

<span data-ttu-id="0d5d8-308">toocheck dla tych przypadków, korzystając z własnym join hello przesyłanie strumieniowe danych toojoin hello strumienia tooitself oparte na powitania `CallRecTime` wartość.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-308">toocheck for these cases, you can use a self-join of hello streaming data toojoin hello stream tooitself based on hello `CallRecTime` value.</span></span> <span data-ttu-id="0d5d8-309">Następnie można sprawdzić dla wywołania rejestruje gdzie hello `CallingIMSI` wartość (hello pochodzących numer) jest hello takie same, ale hello `SwitchNum` wartość (kraj pochodzenia) nie jest hello takie same.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-309">You can then look for call records where hello `CallingIMSI` value (hello originating number) is hello same, but hello `SwitchNum` value (country of origin) is not hello same.</span></span>

<span data-ttu-id="0d5d8-310">Użycie sprzężenia na danych przesyłanych strumieniowo, sprzężenia hello należy udostępnić niektóre limity jak daleko hello pasujących wierszy mogą być oddzielone w czasie.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-310">When you use a join with streaming data, hello join must provide some limits on how far hello matching rows can be separated in time.</span></span> <span data-ttu-id="0d5d8-311">(Jak wspomniano wcześniej, hello przesyłanie strumieniowe danych jest skutecznie nieskończone). określono Hello zakresem czasu dla relacji hello wewnątrz hello `ON` klauzuli sprzężenia hello, przy użyciu hello `DATEDIFF` funkcji.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-311">(As noted earlier, hello streaming data is effectively endless.) hello time bounds for hello relationship are specified inside hello `ON` clause of hello join, using hello `DATEDIFF` function .</span></span> <span data-ttu-id="0d5d8-312">W takim przypadku sprzężenia hello jest oparta na interwał 5 sekund, połączenie danych.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-312">In this case, hello join is based on a 5-second interval of call data .</span></span>

1. <span data-ttu-id="0d5d8-313">Zmień zapytanie hello w następujących toohello edytora kodu hello:</span><span class="sxs-lookup"><span data-stu-id="0d5d8-313">Change hello query in hello code editor toohello following:</span></span> 

        SELECT  System.Timestamp as Time, 
            CS1.CallingIMSI, 
            CS1.CallingNum as CallingNum1, 
            CS2.CallingNum as CallingNum2, 
            CS1.SwitchNum as Switch1, 
            CS2.SwitchNum as Switch2 
        FROM CallStream CS1 TIMESTAMP BY CallRecTime 
            JOIN CallStream CS2 TIMESTAMP BY CallRecTime 
            ON CS1.CallingIMSI = CS2.CallingIMSI 
            AND DATEDIFF(ss, CS1, CS2) BETWEEN 1 AND 5 
        WHERE CS1.SwitchNum != CS2.SwitchNum

    <span data-ttu-id="0d5d8-314">To zapytanie jest podobna wszelkich sprzężenia SQL, z wyjątkiem hello `DATEDIFF` funkcja hello sprzężenia.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-314">This query is like any SQL join except for hello `DATEDIFF` function in hello join.</span></span> <span data-ttu-id="0d5d8-315">To jest wersja `DATEDIFF` to tooStreaming określonego analityka i musi znajdować się w hello `ON...BETWEEN` klauzuli.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-315">This is a version of `DATEDIFF` that's specific tooStreaming Analytics, and it must appear in hello `ON...BETWEEN` clause.</span></span> <span data-ttu-id="0d5d8-316">Parametry Hello jest jednostka czasu (w sekundach w tym przykładzie) i aliasy hello dwóch źródeł hello w celu utworzenia sprzężenia hello.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-316">hello parameters are a time unit (seconds in this example) and hello aliases of hello two sources for hello join.</span></span> <span data-ttu-id="0d5d8-317">(Ta różni się od hello standardowe SQL `DATEDIFF` funkcji.)</span><span class="sxs-lookup"><span data-stu-id="0d5d8-317">(This is different from hello standard SQL `DATEDIFF` function.)</span></span> 

    <span data-ttu-id="0d5d8-318">Hello `WHERE` klauzula zawiera warunek hello flagi wywołania fałszywych hello: hello przełączniki źródłowego nie są hello takie same.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-318">hello `WHERE` clause includes hello condition that flags hello fraudulent call: hello originating switches are not hello same.</span></span> 

2. <span data-ttu-id="0d5d8-319">Kliknij przycisk **testu** ponownie.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-319">Click **Test** again.</span></span> 

    ![Dane wyjściowe samosprzężenie, wyświetlony 6 rekordy generowane zadania Stream Analytics](./media/stream-analytics-real-time-fraud-detection/stream-analytics-sa-job-sample-output-self-join.png)

3. <span data-ttu-id="0d5d8-321">Kliknij pozycję **Zapisz**.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-321">Click **Save**.</span></span> <span data-ttu-id="0d5d8-322">Spowoduje to zapisanie hello samosprzężenie zapytania jako część zadania przesyłania strumieniowego Analytics hello.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-322">This saves hello self-join query as part of hello Streaming Analytics job.</span></span> <span data-ttu-id="0d5d8-323">(Nie zostanie on zapisany hello przykładowe dane).</span><span class="sxs-lookup"><span data-stu-id="0d5d8-323">(It doesn't save hello sample data.)</span></span>

    ![Zapisz zadanie usługi analiza strumienia](./media/stream-analytics-real-time-fraud-detection/stream-analytics-query-editor-save-button-new-portal.png)

## <a name="create-an-output-sink-toostore-transformed-data"></a><span data-ttu-id="0d5d8-325">Utworzenie danych wyjściowych zbiornika toostore przekształcone dane</span><span class="sxs-lookup"><span data-stu-id="0d5d8-325">Create an output sink toostore transformed data</span></span>

<span data-ttu-id="0d5d8-326">Zdefiniowany przez użytkownika strumienia zdarzeń, zdarzenia wejściowe tooingest Centrum zdarzeń i tooperform zapytania transformację za pośrednictwem hello strumienia.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-326">You've defined an event stream, an event hub input tooingest events, and a query tooperform a transformation over hello stream.</span></span> <span data-ttu-id="0d5d8-327">ostatni krok Hello jest toodefine ujście danych wyjściowych zadania hello — to znaczy hello toowrite miejsce przekształcone strumienia do.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-327">hello last step is toodefine an output sink for hello job—that is, a place toowrite hello transformed stream to.</span></span> 

<span data-ttu-id="0d5d8-328">Wiele zasobów można używać jako dane wyjściowe wychwytywanie — bazy danych programu SQL Server, Magazyn tabel, Data Lake storage, usługi Power BI i nawet innej Centrum zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-328">You can use many resources as output sinks—a SQL Server database, table storage, Data Lake storage, Power BI, and even another event hub.</span></span> <span data-ttu-id="0d5d8-329">W tym samouczku przedstawiono tworzenie hello strumienia tooAzure magazynu obiektów Blob, który jest typowy wyborem do zbierania informacji o zdarzeniach dotyczących późniejszej analizy, ponieważ bierze pod uwagę danych bez struktury.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-329">For this tutorial, you'll write hello stream tooAzure Blob Storage, which is a typical choice for collecting event information for later analysis, since it accommodates unstructured data .</span></span>

<span data-ttu-id="0d5d8-330">Jeśli masz istniejące konto magazynu obiektów blob, można użyć, który.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-330">If you have an existing blob storage account, you can use that.</span></span> <span data-ttu-id="0d5d8-331">W tym samouczku pokażemy ci jak toocreate nowego magazynu konta tylko do celów tego samouczka.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-331">For this tutorial, we'll show you how toocreate a new storage account just for this tutorial.</span></span>

### <a name="create-an-azure-blob-storage-account"></a><span data-ttu-id="0d5d8-332">Tworzenie konta usługi Magazyn obiektów Blob Azure</span><span class="sxs-lookup"><span data-stu-id="0d5d8-332">Create an Azure Blob Storage account</span></span>

1. <span data-ttu-id="0d5d8-333">W portalu Azure hello zwracać bloku zadanie analizy przesyłania strumieniowego toohello.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-333">In hello Azure portal, return toohello Streaming Analytics job blade.</span></span> <span data-ttu-id="0d5d8-334">(Jeśli został zamknięty hello bloku, wyszukaj `sa_frauddetection_job_demo` w hello **wszystkie zasoby** bloku.)</span><span class="sxs-lookup"><span data-stu-id="0d5d8-334">(If you closed hello blade, search for `sa_frauddetection_job_demo` in hello **All resources** blade.)</span></span>
2. <span data-ttu-id="0d5d8-335">W hello **topologii zadania** kliknij hello **dane wyjściowe** pole.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-335">In hello **Job Topology** section, click hello **Output** box.</span></span> 
3. <span data-ttu-id="0d5d8-336">W hello **dane wyjściowe** bloku, kliknij przycisk  **+ &nbsp;Dodaj** , a następnie wypełnij bloku hello z tymi wartościami:</span><span class="sxs-lookup"><span data-stu-id="0d5d8-336">In hello **Outputs** blade, click **+&nbsp;Add** and then fill out hello blade with these values:</span></span>

    * <span data-ttu-id="0d5d8-337">**Alias wyjściowy**: Użyj nazwy hello `CallStream-FraudulentCalls`.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-337">**Output alias**: Use hello name `CallStream-FraudulentCalls`.</span></span> 
    * <span data-ttu-id="0d5d8-338">**Obiekt sink**: Wybierz **magazynu obiektów Blob**.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-338">**Sink**: Select **Blob storage**.</span></span>
    * <span data-ttu-id="0d5d8-339">**Opcje importowania**: Wybierz **Użyj magazynu obiektów blob z bieżącej subskrypcji**.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-339">**Import options**: Select **Use blob storage from current subscription**.</span></span>
    * <span data-ttu-id="0d5d8-340">**Konto magazynu**.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-340">**Storage account**.</span></span> <span data-ttu-id="0d5d8-341">Wybierz **Utwórz nowe konto magazynu.**</span><span class="sxs-lookup"><span data-stu-id="0d5d8-341">Select **Create new storage account.**</span></span>
    * <span data-ttu-id="0d5d8-342">**Konto magazynu** (drugie pole).</span><span class="sxs-lookup"><span data-stu-id="0d5d8-342">**Storage account** (second box).</span></span> <span data-ttu-id="0d5d8-343">Wprowadź `YOURNAMEsademo`, gdzie `YOURNAME` jest nazwa użytkownika lub inny unikatowy ciąg.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-343">Enter `YOURNAMEsademo`, where `YOURNAME` is your name or another unique string.</span></span> <span data-ttu-id="0d5d8-344">Nazwa Hello można użyć tylko małe litery i cyfry, i między Azure musi być unikatowa.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-344">hello name can use only lowercase letters and numbers, and it must be unique across Azure.</span></span> 
    * <span data-ttu-id="0d5d8-345">**Kontener**.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-345">**Container**.</span></span> <span data-ttu-id="0d5d8-346">Wprowadź `sa-fraudulentcalls-demo`.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-346">Enter `sa-fraudulentcalls-demo`.</span></span>
    <span data-ttu-id="0d5d8-347">Nazwa konta magazynu Hello i nazwa kontenera są używane razem tooprovide identyfikator URI dla magazynu obiektów blob hello w następujący sposób:</span><span class="sxs-lookup"><span data-stu-id="0d5d8-347">hello storage account name and container name are used together tooprovide a URI for hello blob storage, like this:</span></span> 

    `http://yournamesademo.blob.core.windows.net/sa-fraudulentcalls-demo/...`
    
    ![Blok "Nowe dane wyjściowe" zadania usługi analiza strumienia](./media/stream-analytics-real-time-fraud-detection/stream-analytics-create-output-blob-storage-new-console.png)
    
4. <span data-ttu-id="0d5d8-349">Kliknij przycisk **Utwórz**.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-349">Click **Create**.</span></span> 

    <span data-ttu-id="0d5d8-350">Azure tworzy konto magazynu hello i automatycznie generuje klucz.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-350">Azure creates hello storage account and generates a key automatically.</span></span> 

5. <span data-ttu-id="0d5d8-351">Zamknij hello **dane wyjściowe** bloku.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-351">Close hello **Outputs** blade.</span></span> 

## <a name="start-hello-streaming-analytics-job"></a><span data-ttu-id="0d5d8-352">Uruchom zadanie analizy przesyłania strumieniowego hello</span><span class="sxs-lookup"><span data-stu-id="0d5d8-352">Start hello Streaming Analytics job</span></span>

<span data-ttu-id="0d5d8-353">zadanie Hello jest teraz skonfigurowany.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-353">hello job is now configured.</span></span> <span data-ttu-id="0d5d8-354">Zostały określone dane wejściowe (hello Centrum zdarzeń), transformacji (hello toolook zapytania dla fałszywych wywołań) i danych wyjściowych (magazynu obiektów blob).</span><span class="sxs-lookup"><span data-stu-id="0d5d8-354">You've specified an input (hello event hub), a transformation (hello query toolook for fraudulent calls), and an output (blob storage).</span></span> <span data-ttu-id="0d5d8-355">Można teraz uruchomić zadania hello.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-355">You can now start hello job.</span></span> 

1. <span data-ttu-id="0d5d8-356">Upewnij się, że aplikacja TelcoGenerator hello jest uruchomiona.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-356">Make sure hello TelcoGenerator app is running.</span></span>

2. <span data-ttu-id="0d5d8-357">W bloku zadania powitania kliknij **Start**.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-357">In hello job blade, click **Start**.</span></span>

    ![Uruchom zadanie usługi Stream Analytics hello](./media/stream-analytics-real-time-fraud-detection/stream-analytics-sa-job-start-output.png)

3. <span data-ttu-id="0d5d8-359">W hello **rozpoczęcia zadania** bloku dla danych wyjściowych czas uruchomienia zadania, wybierz opcję **teraz**.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-359">In hello **Start job** blade, for Job output start time, select **Now**.</span></span> 

4. <span data-ttu-id="0d5d8-360">Kliknij przycisk **Start**.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-360">Click **Start**.</span></span> 

    ![Blok "Uruchomić zadanie" hello zadania usługi analiza strumienia](./media/stream-analytics-real-time-fraud-detection/stream-analytics-sa-job-start-job-blade.png)

    <span data-ttu-id="0d5d8-362">Azure sygnalizuje hello zadań została uruchomiona, a następnie w bloku zadania hello, zostanie wyświetlony stan hello **systemem**.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-362">Azure notifies you when hello job has started, and in hello job blade, hello status is displayed as **Running**.</span></span>

    ![Stan zadania Stream Analytics, przedstawiający "Uruchomiona"](./media/stream-analytics-real-time-fraud-detection/stream-analytics-sa-job-running-status.png)
    

## <a name="examine-hello-transformed-data"></a><span data-ttu-id="0d5d8-364">Sprawdź hello przekształcenia danych</span><span class="sxs-lookup"><span data-stu-id="0d5d8-364">Examine hello transformed data</span></span>

<span data-ttu-id="0d5d8-365">Masz teraz pełną zadanie analizy przesyłania strumieniowego.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-365">You now have a complete Streaming Analytics job.</span></span> <span data-ttu-id="0d5d8-366">zadanie Hello jest badanie strumienia metadanych rozmowy telefonicznej, wyszukiwanie fałszywych rozmowy telefoniczne w czasie rzeczywistym i zapisywania informacji o tych toostorage fałszywych wywołania.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-366">hello job is examining a stream of phone call metadata, looking for fraudulent phone calls in real time, and writing information about those fraudulent calls toostorage.</span></span> 

<span data-ttu-id="0d5d8-367">toocomplete tego samouczka można toolook hello danych są przechwytywane przez zadanie analizy przesyłania strumieniowego hello.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-367">toocomplete this tutorial, you might want toolook at hello data being captured by hello Streaming Analytics job.</span></span> <span data-ttu-id="0d5d8-368">dane Hello jest zapisywana tooAzure magazynu blogu w fragmentów (pliki).</span><span class="sxs-lookup"><span data-stu-id="0d5d8-368">hello data is being written tooAzure Blog Storage in chunks (files).</span></span> <span data-ttu-id="0d5d8-369">Można użyć dowolnego narzędzia, które odczytuje magazynu obiektów Blob Azure.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-369">You can use any tool that reads Azure Blob Storage.</span></span> <span data-ttu-id="0d5d8-370">Jak wspomniano w sekcji wymagania wstępne hello, można użyć rozszerzeń Azure w programie Visual Studio lub skorzystać z narzędzia, takiego jak [Eksploratora usługi Storage Azure](http://storageexplorer.com/) lub [Eksploratora Azure](http://www.cerebrata.com/products/azure-explorer/introduction).</span><span class="sxs-lookup"><span data-stu-id="0d5d8-370">As noted in hello Prerequisites section, you can use Azure extensions in Visual Studio, or you can use a tool like [Azure Storage Explorer](http://storageexplorer.com/) or [Azure Explorer](http://www.cerebrata.com/products/azure-explorer/introduction).</span></span> 

<span data-ttu-id="0d5d8-371">Po sprawdzeniu hello zawartości pliku w magazynie obiektów blob może wyglądać hello następujące czynności:</span><span class="sxs-lookup"><span data-stu-id="0d5d8-371">When you examine hello contents of a file in blob storage, you see something like hello following :</span></span>

![Magazyn obiektów blob platformy Azure z analizy strumienia wyjściowego](./media/stream-analytics-real-time-fraud-detection/stream-analytics-sa-job-blob-storage-view.png)
 

## <a name="clean-up-resources"></a><span data-ttu-id="0d5d8-373">Oczyszczanie zasobów</span><span class="sxs-lookup"><span data-stu-id="0d5d8-373">Clean up resources</span></span>

<span data-ttu-id="0d5d8-374">Mamy dodatkowe artykuły, które nadal ze scenariuszem wykrywanie oszustw hello, które korzystają z zasobów hello, które zostały utworzone w tym samouczku.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-374">We have additional articles that continue with hello fraud-detection scenario and that use hello resources that you've created in this tutorial.</span></span> <span data-ttu-id="0d5d8-375">Jeśli chcesz toocontinue, zobacz sugestie hello w obszarze **następne kroki** później.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-375">If you want toocontinue, see hello suggestions under **Next steps** later.</span></span>

<span data-ttu-id="0d5d8-376">Jednak jeśli wszystko będzie gotowe, a nie ma potrzeby hello zasoby, które zostały utworzone, można usunąć je, aby nie wiąże się z opłatami Azure niepotrzebne.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-376">However, if you're done and you don't need hello resources you've created, you can delete them so that you don't incur unnecessary Azure charges.</span></span> <span data-ttu-id="0d5d8-377">W takim przypadku zaleca się, że hello następujące:</span><span class="sxs-lookup"><span data-stu-id="0d5d8-377">In that case, we suggest that you do hello following:</span></span>

1. <span data-ttu-id="0d5d8-378">Zatrzymaj zadanie analizy przesyłania strumieniowego hello.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-378">Stop hello Streaming Analytics job.</span></span> <span data-ttu-id="0d5d8-379">W hello **zadania** bloku, kliknij przycisk **zatrzymać** u góry hello.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-379">In hello **Jobs** blade, click **Stop** at hello top.</span></span>
2. <span data-ttu-id="0d5d8-380">Zatrzymać hello Telco Generator aplikacji.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-380">Stop hello Telco Generator app.</span></span> <span data-ttu-id="0d5d8-381">W oknie polecenia hello pierwotnego aplikacji hello naciśnij klawisze Ctrl + C.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-381">In hello command window where you started hello app, press Ctrl+C.</span></span>
3. <span data-ttu-id="0d5d8-382">Jeśli utworzono nowe konto magazynu obiektów blob tylko do celów tego samouczka, należy ją usunąć.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-382">If you created a new blob storage account just for this tutorial, delete it.</span></span> 
4. <span data-ttu-id="0d5d8-383">Usuń hello zadanie analizy przesyłania strumieniowego.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-383">Delete hello Streaming Analytics job.</span></span>
5. <span data-ttu-id="0d5d8-384">Usuń hello Centrum zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-384">Delete hello event hub.</span></span>
6. <span data-ttu-id="0d5d8-385">Usuń hello przestrzeni nazw z Centrum zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-385">Delete hello event hub namespace.</span></span>

## <a name="get-support"></a><span data-ttu-id="0d5d8-386">Uzyskiwanie pomocy technicznej</span><span class="sxs-lookup"><span data-stu-id="0d5d8-386">Get support</span></span>

<span data-ttu-id="0d5d8-387">Aby uzyskać dodatkową pomoc, spróbuj naszych [forum usługi Azure Stream Analytics](https://social.msdn.microsoft.com/Forums/en-US/home?forum=AzureStreamAnalytics).</span><span class="sxs-lookup"><span data-stu-id="0d5d8-387">For further assistance, try our [Azure Stream Analytics forum](https://social.msdn.microsoft.com/Forums/en-US/home?forum=AzureStreamAnalytics).</span></span>

## <a name="next-steps"></a><span data-ttu-id="0d5d8-388">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="0d5d8-388">Next steps</span></span>

<span data-ttu-id="0d5d8-389">W tym samouczku można kontynuować hello następujące artykuły:</span><span class="sxs-lookup"><span data-stu-id="0d5d8-389">You can continue this tutorial with hello following articles:</span></span>

* <span data-ttu-id="0d5d8-390">[Strumienia analizy i usługi Power BI: pulpitu nawigacyjnego analytics w czasie rzeczywistym do strumieniowego przesyłania danych](stream-analytics-power-bi-dashboard.md).</span><span class="sxs-lookup"><span data-stu-id="0d5d8-390">[Stream Analytics and Power BI: A real-time analytics dashboard for streaming data](stream-analytics-power-bi-dashboard.md).</span></span> <span data-ttu-id="0d5d8-391">W tym artykule opisano, jak hello toosend TelCo dane wyjściowe hello analiza strumienia zadania tooPower analizy Biznesowej w czasie rzeczywistym wizualizacji i analizy.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-391">This article shows you how toosend hello TelCo output of hello Stream Analytics job tooPower BI for real-time visualization and analysis.</span></span>
* <span data-ttu-id="0d5d8-392">[Jak toostore dane z usługi Azure Stream Analytics w pamięci podręcznej Redis Azure za pomocą usługi Azure Functions](stream-analytics-functions-redis.md).</span><span class="sxs-lookup"><span data-stu-id="0d5d8-392">[How toostore data from Azure Stream Analytics in an Azure Redis Cache using Azure Functions](stream-analytics-functions-redis.md).</span></span> <span data-ttu-id="0d5d8-393">W tym artykule opisano, jak toowrite usługi Azure Functions toouse fałszywych wywołuje pamięci podręcznej Azure Redis tooan za pośrednictwem kolejki usługi Service Bus.</span><span class="sxs-lookup"><span data-stu-id="0d5d8-393">This article shows how toouse Azure Functions toowrite fraudulent calls tooan Azure Redis cache via a Service Bus queue.</span></span>

<span data-ttu-id="0d5d8-394">Aby uzyskać więcej informacji na temat usługi Stream Analytics ogólnie rzecz biorąc, wypróbuj następujące artykuły:</span><span class="sxs-lookup"><span data-stu-id="0d5d8-394">For more information about Stream Analytics in general, try these articles:</span></span>

* [<span data-ttu-id="0d5d8-395">Wprowadzenie tooAzure analiza strumienia</span><span class="sxs-lookup"><span data-stu-id="0d5d8-395">Introduction tooAzure Stream Analytics</span></span>](stream-analytics-introduction.md)
* [<span data-ttu-id="0d5d8-396">Scale Azure Stream Analytics jobs (Skalowanie zadań usługi Azure Stream Analytics)</span><span class="sxs-lookup"><span data-stu-id="0d5d8-396">Scale Azure Stream Analytics jobs</span></span>](stream-analytics-scale-jobs.md)
* [<span data-ttu-id="0d5d8-397">Azure Stream Analytics Query Language Reference (Dokumentacja dotycząca języka zapytań usługi Azure Stream Analytics)</span><span class="sxs-lookup"><span data-stu-id="0d5d8-397">Azure Stream Analytics Query Language Reference</span></span>](https://msdn.microsoft.com/library/azure/dn834998.aspx)
* [<span data-ttu-id="0d5d8-398">Azure Stream Analytics Management REST API Reference (Dokumentacja interfejsu API REST zarządzania usługą Azure Stream Analytics)</span><span class="sxs-lookup"><span data-stu-id="0d5d8-398">Azure Stream Analytics Management REST API Reference</span></span>](https://msdn.microsoft.com/library/azure/dn835031.aspx)
