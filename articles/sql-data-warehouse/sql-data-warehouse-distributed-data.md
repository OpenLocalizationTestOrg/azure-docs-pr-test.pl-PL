---
title: "aaaHow rozproszonych danych działa w usłudze Azure SQL Data Warehouse | Dokumentacja firmy Microsoft"
description: "Dowiedz się, jak dane są przesyłane Massively Parallel przetwarzania (MPP) i hello opcje dystrybucji tabel w usłudze Azure SQL Data Warehouse i Parallel Data Warehouse."
services: sql-data-warehouse
documentationcenter: NA
author: jrowlandjones
manager: jhubbard
editor: 
ms.assetid: bae494a6-7ac5-4c38-8ca3-ab2696c63a9f
ms.service: sql-data-warehouse
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: data-services
ms.custom: tables
ms.date: 07/12/2017
ms.author: jrj;barbkess
ms.openlocfilehash: 9a712d8d5251e4391ede245105918283aaa4b193
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="distributed-data-and-distributed-tables-for-massively-parallel-processing-mpp"></a><span data-ttu-id="b03d5-103">Rozproszone danych i tabele rozproszone na ogromną skalę równoległego przetwarzania (MPP)</span><span class="sxs-lookup"><span data-stu-id="b03d5-103">Distributed data and distributed tables for Massively Parallel Processing (MPP)</span></span>
<span data-ttu-id="b03d5-104">Dowiedz się, jak dane użytkownika są przesyłane w Azure SQL Data Warehouse i Parallel Data Warehouse, które są systemy Massively Parallel przetwarzania (MPP) firmy Microsoft.</span><span class="sxs-lookup"><span data-stu-id="b03d5-104">Learn how user data is distributed in Azure SQL Data Warehouse and Parallel Data Warehouse, which are Microsoft's Massively Parallel Processing (MPP) systems.</span></span> <span data-ttu-id="b03d5-105">Projektowanie sieci toouse magazynu danych danych rozproszonych skutecznie pomaga możesz tooachieve hello przetwarzania zapytań zalet hello architektura MPP.</span><span class="sxs-lookup"><span data-stu-id="b03d5-105">Designing your data warehouse toouse distributed data effectively helps you tooachieve hello query processing benefits of hello MPP architecture.</span></span> <span data-ttu-id="b03d5-106">Kilka decyzji projektowych bazy danych może mieć znaczący wpływ na poprawę wydajności zapytań.</span><span class="sxs-lookup"><span data-stu-id="b03d5-106">A few database design choices can have a significant impact on improving query performance.</span></span>  

> [!NOTE]
> <span data-ttu-id="b03d5-107">Usługa Azure SQL Data Warehouse i Parallel Data Warehouse hello Użyj tego samego masowego przetwarzania równoległego (MPP) projektu, ale mają kilka różnic ze względu na powitania podstawowej platformy.</span><span class="sxs-lookup"><span data-stu-id="b03d5-107">Azure SQL Data Warehouse and Parallel Data Warehouse use hello same Massively Parallel Processing (MPP) design, but they have a few differences because of hello underlying platform.</span></span> <span data-ttu-id="b03d5-108">Usługa SQL Data Warehouse to platforma jako usługa (PaaS), która działa na platformie Azure.</span><span class="sxs-lookup"><span data-stu-id="b03d5-108">SQL Data Warehouse is a Platform as a Service (PaaS) that runs on Azure.</span></span> <span data-ttu-id="b03d5-109">Parallel Data Warehouse jest uruchamiane na Analytics Platform System (punktach dostępu) czyli lokalnego urządzenia z systemem Windows Server.</span><span class="sxs-lookup"><span data-stu-id="b03d5-109">Parallel Data Warehouse runs on Analytics Platform System (APS) which is an on-premises appliance that runs on Windows Server.</span></span>
> 
> 

## <a name="what-is-distributed-data"></a><span data-ttu-id="b03d5-110">Co to jest rozproszonej danych?</span><span class="sxs-lookup"><span data-stu-id="b03d5-110">What is distributed data?</span></span>
<span data-ttu-id="b03d5-111">Magazyn danych SQL i Parallel Data Warehouse danych rozproszonych odwołuje się toouser dane, które są przechowywane w wielu lokalizacjach w hello MPP systemu.</span><span class="sxs-lookup"><span data-stu-id="b03d5-111">In SQL Data Warehouse and Parallel Data Warehouse, distributed data refers toouser data that is stored in multiple locations across hello MPP system.</span></span> <span data-ttu-id="b03d5-112">Każdą z tych lokalizacji działa jako niezależnie od magazynu i jednostki przetwarzania, która obsługuje kwerendy w jego części hello danych.</span><span class="sxs-lookup"><span data-stu-id="b03d5-112">Each of those locations functions as an independent storage and processing unit that runs queries on its portion of hello data.</span></span> <span data-ttu-id="b03d5-113">Dane rozproszone są podstawowych toorunning zapytania w równoległych tooachieve wysoką wydajność zapytań.</span><span class="sxs-lookup"><span data-stu-id="b03d5-113">Distributed data is fundamental toorunning queries in parallel tooachieve high query performance.</span></span>

<span data-ttu-id="b03d5-114">danych toodistribute hurtowni danych hello przypisuje każdego wiersza w lokalizacji tooone rozproszonych tabeli użytkownika.</span><span class="sxs-lookup"><span data-stu-id="b03d5-114">toodistribute data, hello data warehouse assigns each row of a user table tooone distributed location.</span></span>  <span data-ttu-id="b03d5-115">Można rozpowszechniać tabel z metody dystrybucji mieszania lub metody okrężnego.</span><span class="sxs-lookup"><span data-stu-id="b03d5-115">You can distribute tables with a hash-distribution method or a round-robin method.</span></span> <span data-ttu-id="b03d5-116">Metoda dystrybucji Hello jest określona w instrukcji CREATE TABLE hello.</span><span class="sxs-lookup"><span data-stu-id="b03d5-116">hello distribution method is specified in hello CREATE TABLE statement.</span></span> 

## <a name="hash-distributed-tables"></a><span data-ttu-id="b03d5-117">Tabele rozproszonych wyznaczania wartości skrótu</span><span class="sxs-lookup"><span data-stu-id="b03d5-117">Hash-distributed tables</span></span>
<span data-ttu-id="b03d5-118">powitania po diagram ilustruje, jak Pełna (z systemem innym niż rozproszonych tabeli) pobiera przechowywane jako tabelę rozpowszechniane skrót.</span><span class="sxs-lookup"><span data-stu-id="b03d5-118">hello following diagram illustrates how a full (non-distributed table) gets stored as a hash-distributed table.</span></span> <span data-ttu-id="b03d5-119">Funkcja deterministyczne przypisuje dystrybucji tooone toobelong każdego wiersza.</span><span class="sxs-lookup"><span data-stu-id="b03d5-119">A deterministic function assigns each row toobelong tooone distribution.</span></span> <span data-ttu-id="b03d5-120">W definicji tabeli hello jednej z kolumn hello jest wyznaczona jako hello dystrybucji kolumna.</span><span class="sxs-lookup"><span data-stu-id="b03d5-120">In hello table definition, one of hello columns is designated as hello distribution column.</span></span> <span data-ttu-id="b03d5-121">Funkcja wyznaczania wartości skrótu Hello używa wartości hello w tooassign kolumny dystrybucji hello dystrybucji tooa każdego wiersza.</span><span class="sxs-lookup"><span data-stu-id="b03d5-121">hello hash function uses hello value in hello distribution column tooassign each row tooa distribution.</span></span>

<span data-ttu-id="b03d5-122">Brak wyboru hello kolumny dystrybucji, takie jak odrębności, Pochylenie danych i hello typów kwerend w systemie hello zagadnienia związane z wydajnością.</span><span class="sxs-lookup"><span data-stu-id="b03d5-122">There are performance considerations for hello selection of a distribution column, such as distinctness, data skew, and hello types of queries run on hello system.</span></span>

<span data-ttu-id="b03d5-123">![Tabela rozproszone](media/sql-data-warehouse-distributed-data/hash-distributed-table.png "tabeli rozproszonych")</span><span class="sxs-lookup"><span data-stu-id="b03d5-123">![Distributed table](media/sql-data-warehouse-distributed-data/hash-distributed-table.png "Distributed table")</span></span>  

* <span data-ttu-id="b03d5-124">Każdy wiersz należy tooone dystrybucji.</span><span class="sxs-lookup"><span data-stu-id="b03d5-124">Each row belongs tooone distribution.</span></span>  
* <span data-ttu-id="b03d5-125">Algorytm wyznaczania wartości skrótu deterministyczne przypisuje dystrybucji tooone każdego wiersza.</span><span class="sxs-lookup"><span data-stu-id="b03d5-125">A deterministic hash algorithm assigns each row tooone distribution.</span></span>  
* <span data-ttu-id="b03d5-126">Hello liczba wierszy tabeli w dystrybucji zależy, jak to przedstawiono różne rozmiary hello tabel.</span><span class="sxs-lookup"><span data-stu-id="b03d5-126">hello number of table rows per distribution varies as shown by hello different sizes of tables.</span></span>

## <a name="round-robin-distributed-tables"></a><span data-ttu-id="b03d5-127">Tabele rozproszonej okrężnego</span><span class="sxs-lookup"><span data-stu-id="b03d5-127">Round-robin distributed tables</span></span>
<span data-ttu-id="b03d5-128">Tabela rozproszona okrężnego dystrybuuje wiersze hello przez przypisanie każdego wiersza tooa dystrybucji sekwencyjnie.</span><span class="sxs-lookup"><span data-stu-id="b03d5-128">A round-robin distributed table distributes hello rows by assigning each row tooa distribution in a sequential manner.</span></span> <span data-ttu-id="b03d5-129">Jest szybkie tooload dane do tabeli okrężnego, ale wydajność kwerend może przebiegać wolniej.</span><span class="sxs-lookup"><span data-stu-id="b03d5-129">It is quick tooload data into a round-robin table, but query performance might be slower.</span></span>  <span data-ttu-id="b03d5-130">Sprzęganie tabeli okrężnego zwykle wymaga losowego grupowania hello wierszy tooenable hello zapytania tooproduce wynik dokładny czas.</span><span class="sxs-lookup"><span data-stu-id="b03d5-130">Joining a round-robin table usually requires reshuffling hello rows tooenable hello query tooproduce an accurate result, which takes time.</span></span>

## <a name="distributed-storage-locations-are-called-distributions"></a><span data-ttu-id="b03d5-131">Lokalizacje magazynu rozproszone są nazywane dystrybucji</span><span class="sxs-lookup"><span data-stu-id="b03d5-131">Distributed storage locations are called distributions</span></span>
<span data-ttu-id="b03d5-132">Każda lokalizacja rozproszonej jest nazywany dystrybucji.</span><span class="sxs-lookup"><span data-stu-id="b03d5-132">Each distributed location is called a distribution.</span></span> <span data-ttu-id="b03d5-133">Po uruchomieniu zapytania równolegle każdej dystrybucji wykonuje zapytanie SQL na jego część hello danych.</span><span class="sxs-lookup"><span data-stu-id="b03d5-133">When a query runs in parallel, each distribution performs a SQL query on its portion of hello data.</span></span> <span data-ttu-id="b03d5-134">Usługa SQL Data Warehouse używa zapytania hello toorun bazy danych SQL.</span><span class="sxs-lookup"><span data-stu-id="b03d5-134">SQL Data Warehouse uses SQL Database toorun hello query.</span></span> <span data-ttu-id="b03d5-135">Parallel Data Warehouse używa zapytania hello toorun programu SQL Server.</span><span class="sxs-lookup"><span data-stu-id="b03d5-135">Parallel Data Warehouse uses SQL Server toorun hello query.</span></span> <span data-ttu-id="b03d5-136">Ten projekt architektury nieudostępnianych jednostkach jest podstawowych tooachieving skalowalnego w poziomie przetwarzania równoległego.</span><span class="sxs-lookup"><span data-stu-id="b03d5-136">This shared-nothing architecture design is fundamental tooachieving scale-out parallel computing.</span></span>

### <a name="can-i-view-hello-distributions"></a><span data-ttu-id="b03d5-137">Czy można wyświetlić hello dystrybucji?</span><span class="sxs-lookup"><span data-stu-id="b03d5-137">Can I view hello distributions?</span></span>
<span data-ttu-id="b03d5-138">Każdy dystrybucji ma identyfikator dystrybucji i jest widoczny w widokach systemu, które odnoszą się tooSQL magazynu danych i Parallel Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="b03d5-138">Each distribution has a distribution ID and is visible in system views that pertain tooSQL Data Warehouse and Parallel Data Warehouse.</span></span> <span data-ttu-id="b03d5-139">Można użyć hello dystrybucji identyfikator tootroubleshoot kwerendy wydajności i innych problemów.</span><span class="sxs-lookup"><span data-stu-id="b03d5-139">You can use hello distribution ID tootroubleshoot query performance and other problems.</span></span> <span data-ttu-id="b03d5-140">Lista hello widoków systemowych, zobacz hello [widoku systemu MPP](sql-data-warehouse-reference-tsql-statements.md).</span><span class="sxs-lookup"><span data-stu-id="b03d5-140">For a list of hello system views, see hello [MPP system view](sql-data-warehouse-reference-tsql-statements.md).</span></span>

## <a name="difference-between-a-distribution-and-a-compute-node"></a><span data-ttu-id="b03d5-141">Różnica między dystrybucji i węzeł obliczeniowy</span><span class="sxs-lookup"><span data-stu-id="b03d5-141">Difference between a distribution and a Compute node</span></span>
<span data-ttu-id="b03d5-142">Dystrybucji to podstawowa jednostka hello do przechowywania danych rozproszonych i przetwarzania zapytania równoległe.</span><span class="sxs-lookup"><span data-stu-id="b03d5-142">A distribution is hello basic unit for storing distributed data and processing parallel queries.</span></span> <span data-ttu-id="b03d5-143">Dystrybucje są zgrupowane w węzłach obliczeniowych.</span><span class="sxs-lookup"><span data-stu-id="b03d5-143">Distributions are grouped into Compute nodes.</span></span> <span data-ttu-id="b03d5-144">Każdy węzeł obliczeniowy śledzi dystrybucje jeden lub więcej.</span><span class="sxs-lookup"><span data-stu-id="b03d5-144">Each Compute node tracks one or more distributions.</span></span>  

* <span data-ttu-id="b03d5-145">Analytics Platform System używa węzły obliczeniowe jako główny składnik możliwości sprzętu hello architektury i skalowalnego w poziomie.</span><span class="sxs-lookup"><span data-stu-id="b03d5-145">Analytics Platform System uses Compute nodes as a central component of hello hardware architecture and scale-out capabilities.</span></span> <span data-ttu-id="b03d5-146">Zawsze używa osiem dystrybucje na węźle obliczeń, jak pokazano na diagramie hello rozpowszechniane skrót tabel.</span><span class="sxs-lookup"><span data-stu-id="b03d5-146">It always uses eight distributions per Compute node, as shown in hello diagram for hash-distributed tables.</span></span> <span data-ttu-id="b03d5-147">Witaj liczba węzłów obliczeniowych i w związku z tym hello liczba dystrybucji, jest określany przez hello liczba węzłów obliczeniowych, zakupu hello urządzenia.</span><span class="sxs-lookup"><span data-stu-id="b03d5-147">hello number of Compute nodes, and therefore hello number of distributions, is determined by hello number of Compute nodes you purchase for hello appliance.</span></span> <span data-ttu-id="b03d5-148">Jeśli kupisz ośmiu węzłów obliczeniowych, na przykład get dystrybucje 64 (8 węzłów x 8 dystrybucje/węźle obliczeń).</span><span class="sxs-lookup"><span data-stu-id="b03d5-148">For example, if you purchase eight Compute nodes, you get 64 distributions (8 Compute nodes x 8 distributions/node).</span></span> 
* <span data-ttu-id="b03d5-149">Magazyn danych SQL ma stała liczba 60 dystrybucji i elastyczne liczba węzłów obliczeniowych.</span><span class="sxs-lookup"><span data-stu-id="b03d5-149">SQL Data Warehouse has a fixed number of 60 distributions and a flexible number of Compute nodes.</span></span> <span data-ttu-id="b03d5-150">węzły obliczeniowe Hello są implementowane przy użyciu zasobów obliczeniowych i magazynu systemu Azure.</span><span class="sxs-lookup"><span data-stu-id="b03d5-150">hello Compute nodes are implemented with Azure computing and storage resources.</span></span> <span data-ttu-id="b03d5-151">zgodnie z toohello wewnętrznej bazy danych usługi Obciążenie i mocy obliczeniowej hello (jednostek dwu) określone dla magazynu danych hello, można zmienić Hello liczba węzłów obliczeniowych.</span><span class="sxs-lookup"><span data-stu-id="b03d5-151">hello number of Compute nodes can change according toohello backend service workload and hello computing capacity (DWUs) you specify for hello data warehouse.</span></span> <span data-ttu-id="b03d5-152">Po zmianie hello liczba węzłów obliczeniowych hello liczba dystrybucji na węźle obliczeń jest również zmian.</span><span class="sxs-lookup"><span data-stu-id="b03d5-152">When hello number of Compute nodes changes, hello number of distributions per Compute node also changes.</span></span> 

### <a name="can-i-view-hello-compute-nodes"></a><span data-ttu-id="b03d5-153">Czy można wyświetlić węzły obliczeniowe hello?</span><span class="sxs-lookup"><span data-stu-id="b03d5-153">Can I view hello Compute nodes?</span></span>
<span data-ttu-id="b03d5-154">Każdy węzeł obliczeniowy ma identyfikator węzła i jest widoczny w widokach systemu, które odnoszą się tooSQL magazynu danych i Parallel Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="b03d5-154">Each Compute node has a node ID and is visible in system views that pertain tooSQL Data Warehouse and Parallel Data Warehouse.</span></span>  <span data-ttu-id="b03d5-155">Widać hello węźle obliczeń, wyszukując hello node_id kolumny w widokach systemu, których nazwy zaczynają się od sys.pdw_nodes.</span><span class="sxs-lookup"><span data-stu-id="b03d5-155">You can see hello Compute node by looking for hello node_id column in system views whose names begin with sys.pdw_nodes.</span></span> <span data-ttu-id="b03d5-156">Lista hello widoków systemowych, zobacz hello [widoku systemu MPP](sql-data-warehouse-reference-tsql-statements.md).</span><span class="sxs-lookup"><span data-stu-id="b03d5-156">For a list of hello system views, see hello [MPP system view](sql-data-warehouse-reference-tsql-statements.md).</span></span>

## <span data-ttu-id="b03d5-157"><a name="Replicated"></a>Zreplikowane tabele</span><span class="sxs-lookup"><span data-stu-id="b03d5-157"><a name="Replicated"></a>Replicated Tables</span></span>
<span data-ttu-id="b03d5-158">Tabela, który jest replikowany ma pełni przechowywać kopię tabeli hello w każdym węźle obliczeń.</span><span class="sxs-lookup"><span data-stu-id="b03d5-158">A table that is replicated has a fully copy of hello table stored on each Compute node.</span></span> <span data-ttu-id="b03d5-159">Replikowanie tabeli usuwa hello potrzeby tootransfer danych między węzłami obliczeniowymi przed join lub agregacji.</span><span class="sxs-lookup"><span data-stu-id="b03d5-159">Replicating a table removes hello need tootransfer data among Compute nodes before a join or aggregation.</span></span> <span data-ttu-id="b03d5-160">Zreplikowane tabele są tylko wykonalne małe tabele z powodu hello pełne tabeli hello toostore wymagane dodatkowe miejsce do magazynowania w każdym węźle obliczeń.</span><span class="sxs-lookup"><span data-stu-id="b03d5-160">Replicated tables are only feasible with small tables because of hello extra storage required toostore hello full table on each compute node.</span></span>  

<span data-ttu-id="b03d5-161">Witaj Poniższy diagram przedstawia zreplikowanej tabeli, który jest przechowywany w każdym węźle obliczeń.</span><span class="sxs-lookup"><span data-stu-id="b03d5-161">hello following diagram shows a replicated table that is stored on each Compute node.</span></span> <span data-ttu-id="b03d5-162">Dla usługi SQL Data Warehouse zreplikowanej tabeli hello jest bazy danych dystrybucji tooa całkowicie skopiowane na każdym węźle obliczeniowym.</span><span class="sxs-lookup"><span data-stu-id="b03d5-162">For SQL Data Warehouse, hello replicated table is fully copied tooa distribution database on each Compute node.</span></span> <span data-ttu-id="b03d5-163">Dla Parallel Data Warehouse hello zreplikowanej tabeli są przechowywane na wszystkich dyskach przypisane toohello węźle obliczeń.</span><span class="sxs-lookup"><span data-stu-id="b03d5-163">For Parallel Data Warehouse, hello replicated table is stored across all disks assigned toohello Compute node.</span></span>  <span data-ttu-id="b03d5-164">Ta strategia dysku jest implementowane za pomocą grup plików programu SQL Server.</span><span class="sxs-lookup"><span data-stu-id="b03d5-164">This disk strategy is implemented by using SQL Server filegroups.</span></span>  

<span data-ttu-id="b03d5-165">![Tabela zreplikowane](media/sql-data-warehouse-distributed-data/replicated-table.png "zreplikowane tabeli")</span><span class="sxs-lookup"><span data-stu-id="b03d5-165">![Replicated table](media/sql-data-warehouse-distributed-data/replicated-table.png "Replicated table")</span></span> 

## <a name="next-steps"></a><span data-ttu-id="b03d5-166">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="b03d5-166">Next steps</span></span>
<span data-ttu-id="b03d5-167">tabele toouse rozproszonych skutecznie, zobacz [Dystrybucja tabel w usłudze SQL Data Warehouse](sql-data-warehouse-tables-distribute.md)</span><span class="sxs-lookup"><span data-stu-id="b03d5-167">toouse distributed tables effectively, see [Distributing tables in SQL Data Warehouse](sql-data-warehouse-tables-distribute.md)</span></span>  

