---
title: Samouczek uaktualniania aplikacji sieci szkieletowej aaaService | Dokumentacja firmy Microsoft
description: "W tym artykule przedstawiono hello środowisko wdrażania aplikacji usługi Service Fabric, zmiana kodu hello i wprowadza uaktualnienia w programie Visual Studio."
services: service-fabric
documentationcenter: .net
author: mani-ramaswamy
manager: timlt
editor: 
ms.assetid: a3181a7a-9ab1-4216-b07a-05b79bd826a4
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 8/9/2017
ms.author: subramar
ms.openlocfilehash: d069ff0b291018dbac846e65cddff1e9d73d156c
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="service-fabric-application-upgrade-tutorial-using-visual-studio"></a><span data-ttu-id="0b3ea-103">Samouczek uaktualniania aplikacji sieci szkieletowej usług za pomocą programu Visual Studio</span><span class="sxs-lookup"><span data-stu-id="0b3ea-103">Service Fabric application upgrade tutorial using Visual Studio</span></span>
> [!div class="op_single_selector"]
> * [<span data-ttu-id="0b3ea-104">PowerShell</span><span class="sxs-lookup"><span data-stu-id="0b3ea-104">PowerShell</span></span>](service-fabric-application-upgrade-tutorial-powershell.md)
> * [<span data-ttu-id="0b3ea-105">Program Visual Studio</span><span class="sxs-lookup"><span data-stu-id="0b3ea-105">Visual Studio</span></span>](service-fabric-application-upgrade-tutorial.md)
> 
> 

<br/>

<span data-ttu-id="0b3ea-106">Sieć szkieletowa usług Azure upraszcza proces hello uaktualniania aplikacji w chmurze w celu zapewnienia uaktualnienia tylko zmienione usługi, i że kondycja aplikacji jest monitorowane w trakcie procesu uaktualniania hello.</span><span class="sxs-lookup"><span data-stu-id="0b3ea-106">Azure Service Fabric simplifies hello process of upgrading cloud applications by ensuring that only changed services are upgraded, and that application health is monitored throughout hello upgrade process.</span></span> <span data-ttu-id="0b3ea-107">On również automatycznie przywraca poprzedniej wersji toohello aplikacji hello przypadku napotkania problemów.</span><span class="sxs-lookup"><span data-stu-id="0b3ea-107">It also automatically rolls back hello application toohello previous version upon encountering issues.</span></span> <span data-ttu-id="0b3ea-108">Uaktualnienia aplikacji sieci szkieletowej usług są *przestój Zero*, ponieważ aplikacja hello można uaktualnić bez przestojów.</span><span class="sxs-lookup"><span data-stu-id="0b3ea-108">Service Fabric application upgrades are *Zero Downtime*, since hello application can be upgraded with no downtime.</span></span> <span data-ttu-id="0b3ea-109">W tym samouczku przedstawiono sposób toocomplete uaktualnienia stopniowego z programu Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="0b3ea-109">This tutorial covers how toocomplete a rolling upgrade from Visual Studio.</span></span>

## <a name="step-1-build-and-publish-hello-visual-objects-sample"></a><span data-ttu-id="0b3ea-110">Krok 1: Tworzenie i publikowanie przykład obiektów Visual hello</span><span class="sxs-lookup"><span data-stu-id="0b3ea-110">Step 1: Build and publish hello Visual Objects sample</span></span>
<span data-ttu-id="0b3ea-111">Najpierw pobierz hello [obiektów Visual](https://github.com/Azure-Samples/service-fabric-dotnet-getting-started/tree/classic/Actors/VisualObjects) aplikacji z usługi GitHub.</span><span class="sxs-lookup"><span data-stu-id="0b3ea-111">First, download hello [Visual Objects](https://github.com/Azure-Samples/service-fabric-dotnet-getting-started/tree/classic/Actors/VisualObjects) application from GitHub.</span></span> <span data-ttu-id="0b3ea-112">Następnie, tworzenie i publikowanie aplikacji hello, klikając prawym przyciskiem myszy projekt aplikacji hello, **VisualObjects**i wybierając hello **publikowania** w element menu hello sieci szkieletowej usług.</span><span class="sxs-lookup"><span data-stu-id="0b3ea-112">Then, build and publish hello application by right-clicking on hello application project, **VisualObjects**, and selecting hello **Publish** command in hello Service Fabric menu item.</span></span>

![Menu kontekstowe dla aplikacji sieci szkieletowej usług][image1]

<span data-ttu-id="0b3ea-114">Wybieranie **publikowania** powoduje wyświetlenie okna podręcznego, i można ustawić hello **docelowego profilu** za**PublishProfiles\Local.xml**.</span><span class="sxs-lookup"><span data-stu-id="0b3ea-114">Selecting **Publish** brings up a popup, and you can set hello **Target profile** too**PublishProfiles\Local.xml**.</span></span> <span data-ttu-id="0b3ea-115">Hello okno powinno wyglądać podobnie do następującego hello przed kliknięciem przycisku **publikowania**.</span><span class="sxs-lookup"><span data-stu-id="0b3ea-115">hello window should look like hello following before you click **Publish**.</span></span>

![Publikowanie aplikacji sieci szkieletowej usług][image2]

<span data-ttu-id="0b3ea-117">Teraz możesz kliknąć **publikowania** w oknie dialogowym hello.</span><span class="sxs-lookup"><span data-stu-id="0b3ea-117">Now you can click **Publish** in hello dialog box.</span></span> <span data-ttu-id="0b3ea-118">Można użyć [Service Fabric Explorer tooview hello klastra i hello aplikacji](service-fabric-visualizing-your-cluster.md).</span><span class="sxs-lookup"><span data-stu-id="0b3ea-118">You can use [Service Fabric Explorer tooview hello cluster and hello application](service-fabric-visualizing-your-cluster.md).</span></span> <span data-ttu-id="0b3ea-119">Obiekty Visual aplikacji Hello ma usługi sieci web, czy można przejść, wpisując tooby [http://localhost:8081/visualobjects/](http://localhost:8081/visualobjects/) hello pasku adresu przeglądarki.</span><span class="sxs-lookup"><span data-stu-id="0b3ea-119">hello Visual Objects application has a web service that you can go tooby typing [http://localhost:8081/visualobjects/](http://localhost:8081/visualobjects/) in hello address bar of your browser.</span></span>  <span data-ttu-id="0b3ea-120">10 obiektów visual przestawnych przenoszenia na ekranie powitania powinna zostać wyświetlona.</span><span class="sxs-lookup"><span data-stu-id="0b3ea-120">You should see 10 floating visual objects moving around on hello screen.</span></span>

<span data-ttu-id="0b3ea-121">**Uwaga:** wdrażania zbyt`Cloud.xml` profilu (sieć szkieletowa usług Azure,) aplikacji hello powinien być dostępny w **http://{ServiceFabricName}. { Region}.cloudapp.Azure.com:8081/visualobjects/**.</span><span class="sxs-lookup"><span data-stu-id="0b3ea-121">**NOTE:** If deploying too`Cloud.xml` profile (Azure Service Fabric), hello application should then be available at **http://{ServiceFabricName}.{Region}.cloudapp.azure.com:8081/visualobjects/**.</span></span> <span data-ttu-id="0b3ea-122">Upewnij się, że masz `8081/TCP` skonfigurowane w hello modułu równoważenia obciążenia (Znajdź hello modułu równoważenia obciążenia w hello tej samej grupie zasobów co hello wystąpienia usługi sieć szkieletowa).</span><span class="sxs-lookup"><span data-stu-id="0b3ea-122">Make sure you do have `8081/TCP` configured in hello Load Balancer (find hello Load Balancer in hello same resource group as hello Service Fabric instance).</span></span>

## <a name="step-2-update-hello-visual-objects-sample"></a><span data-ttu-id="0b3ea-123">Krok 2: Aktualizacja hello obiektów Visual próbki</span><span class="sxs-lookup"><span data-stu-id="0b3ea-123">Step 2: Update hello Visual Objects sample</span></span>
<span data-ttu-id="0b3ea-124">Można zauważyć, że z wersją hello, który został wdrożony w kroku 1, obiektów visual hello nie Obróć.</span><span class="sxs-lookup"><span data-stu-id="0b3ea-124">You might notice that with hello version that was deployed in step 1, hello visual objects do not rotate.</span></span> <span data-ttu-id="0b3ea-125">Uaktualnij teraz tooone tej aplikacji, gdzie obiektów visual hello również Obróć.</span><span class="sxs-lookup"><span data-stu-id="0b3ea-125">Let's upgrade this application tooone where hello visual objects also rotate.</span></span>

<span data-ttu-id="0b3ea-126">Wybierz projekt VisualObjects.ActorService hello w hello VisualObjects rozwiązania, a następnie otwórz hello **VisualObjectActor.cs** pliku.</span><span class="sxs-lookup"><span data-stu-id="0b3ea-126">Select hello VisualObjects.ActorService project within hello VisualObjects solution, and open hello **VisualObjectActor.cs** file.</span></span> <span data-ttu-id="0b3ea-127">W tym pliku Przejdź metody toohello `MoveObject`, komentarz `visualObject.Move(false)`i Usuń komentarz `visualObject.Move(true)`.</span><span class="sxs-lookup"><span data-stu-id="0b3ea-127">Within that file, go toohello method `MoveObject`, comment out `visualObject.Move(false)`, and uncomment `visualObject.Move(true)`.</span></span> <span data-ttu-id="0b3ea-128">Ta zmiana kodu obraca obiekty powitania po uaktualnieniu hello usługi.</span><span class="sxs-lookup"><span data-stu-id="0b3ea-128">This code change rotates hello objects after hello service is upgraded.</span></span>  <span data-ttu-id="0b3ea-129">**Teraz możesz utworzyć (nie kompilację) hello rozwiązanie**, które kompilacje hello zmodyfikowane projekty.</span><span class="sxs-lookup"><span data-stu-id="0b3ea-129">**Now you can build (not rebuild) hello solution**, which builds hello modified projects.</span></span> <span data-ttu-id="0b3ea-130">W przypadku wybrania *odbudowanie wszystkiego*, masz wersji hello tooupdate hello wszystkich projektów.</span><span class="sxs-lookup"><span data-stu-id="0b3ea-130">If you select *Rebuild all*, you have tooupdate hello versions for all hello projects.</span></span>

<span data-ttu-id="0b3ea-131">Należy również tooversion naszej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="0b3ea-131">We also need tooversion our application.</span></span> <span data-ttu-id="0b3ea-132">Wersja hello toomake zmienia się po kliknięciu prawym przyciskiem myszy na powitania **VisualObjects** projektu, można użyć hello Visual Studio **edytować wersji manifestu** opcji.</span><span class="sxs-lookup"><span data-stu-id="0b3ea-132">toomake hello version changes after you right-click on hello **VisualObjects** project, you can use hello Visual Studio **Edit Manifest Versions** option.</span></span> <span data-ttu-id="0b3ea-133">Wybranie tej opcji wywołuje hello dialogowe dla wersji edition w następujący sposób:</span><span class="sxs-lookup"><span data-stu-id="0b3ea-133">Selecting this option brings up hello dialog box for edition versions as follows:</span></span>

![Okno dialogowe kontroli wersji][image3]

<span data-ttu-id="0b3ea-135">Wersje hello aktualizacji dla hello zmodyfikować projektów i ich pakiety kodu, wraz z tooversion aplikacji hello 2.0.0.</span><span class="sxs-lookup"><span data-stu-id="0b3ea-135">Update hello versions for hello modified projects and their code packages, along with hello application tooversion 2.0.0.</span></span> <span data-ttu-id="0b3ea-136">Po dokonaniu zmiany hello hello manifest powinna wyglądać następujące hello (pogrubienie części Pokaż zmiany hello):</span><span class="sxs-lookup"><span data-stu-id="0b3ea-136">After hello changes are made, hello manifest should look like hello following (bold portions show hello changes):</span></span>

![Aktualizowanie wersji][image4]

<span data-ttu-id="0b3ea-138">narzędzia Visual Studio Hello można wykonać automatyczne pakiety zbiorcze wersji po wybraniu **automatycznie Aktualizuj wersje aplikacji i usługi**.</span><span class="sxs-lookup"><span data-stu-id="0b3ea-138">hello Visual Studio tools can do automatic rollups of versions upon selecting **Automatically update application and service versions**.</span></span> <span data-ttu-id="0b3ea-139">Jeśli używasz [programu SemVer](http://www.semver.org), należy tooupdate hello kod i/lub konfiguracji pakietu wersji tylko, jeśli opcja jest zaznaczona.</span><span class="sxs-lookup"><span data-stu-id="0b3ea-139">If you use [SemVer](http://www.semver.org), you need tooupdate hello code and/or configuration package version alone if that option is selected.</span></span>

<span data-ttu-id="0b3ea-140">Zapisz zmiany hello, a teraz sprawdzić hello **hello uaktualniania aplikacji** pole.</span><span class="sxs-lookup"><span data-stu-id="0b3ea-140">Save hello changes, and now check hello **Upgrade hello Application** box.</span></span>

## <a name="step-3--upgrade-your-application"></a><span data-ttu-id="0b3ea-141">Krok 3: Uaktualnienie aplikacji</span><span class="sxs-lookup"><span data-stu-id="0b3ea-141">Step 3:  Upgrade your application</span></span>
<span data-ttu-id="0b3ea-142">Zapoznaj się z hello [parametry uaktualniania aplikacji](service-fabric-application-upgrade-parameters.md) i hello [procesu uaktualniania](service-fabric-application-upgrade.md) tooget dobrą znajomość hello uaktualniania różnych parametrów, limity czasu i kryterium kondycji, które można można zastosować.</span><span class="sxs-lookup"><span data-stu-id="0b3ea-142">Familiarize yourself with hello [application upgrade parameters](service-fabric-application-upgrade-parameters.md) and hello [upgrade process](service-fabric-application-upgrade.md) tooget a good understanding of hello various upgrade parameters, time-outs, and health criterion that can be applied.</span></span> <span data-ttu-id="0b3ea-143">W ramach tego przewodnika kryterium oceny kondycji usługi hello ustawiono domyślne toohello (tryb niemonitorowane).</span><span class="sxs-lookup"><span data-stu-id="0b3ea-143">For this walkthrough, hello service health evaluation criterion is set toohello default (unmonitored mode).</span></span> <span data-ttu-id="0b3ea-144">Te ustawienia można skonfigurować, wybierając **skonfigurować ustawienia uaktualnienia** , a następnie modyfikując hello parametry zgodnie z potrzebami.</span><span class="sxs-lookup"><span data-stu-id="0b3ea-144">You can configure these settings by selecting **Configure Upgrade Settings** and then modifying hello parameters as desired.</span></span>

<span data-ttu-id="0b3ea-145">Teraz możemy wszystkie aplikacji hello toostart zestaw uaktualnienia, wybierając **publikowania**.</span><span class="sxs-lookup"><span data-stu-id="0b3ea-145">Now we are all set toostart hello application upgrade by selecting **Publish**.</span></span> <span data-ttu-id="0b3ea-146">Ta opcja uaktualnia Twojej aplikacji tooversion 2.0.0, w którym Obróć hello obiektów.</span><span class="sxs-lookup"><span data-stu-id="0b3ea-146">This option upgrades your application tooversion 2.0.0, in which hello objects rotate.</span></span> <span data-ttu-id="0b3ea-147">Sieć szkieletowa usług uaktualnia jednej domeny aktualizacji w czasie (niektóre obiekty są aktualizowane w pierwszej kolejności, zostały wykonane przez innych użytkowników) i hello usługi, pozostanie dostępne podczas uaktualniania hello.</span><span class="sxs-lookup"><span data-stu-id="0b3ea-147">Service Fabric upgrades one update domain at a time (some objects are updated first, followed by others), and hello service remains accessible during hello upgrade.</span></span> <span data-ttu-id="0b3ea-148">Usługa toohello dostępu można sprawdzić za pomocą klienta (przeglądarka).</span><span class="sxs-lookup"><span data-stu-id="0b3ea-148">Access toohello service can be checked through your client (browser).</span></span>  

<span data-ttu-id="0b3ea-149">Teraz, jak hello kontynuowane uaktualniania aplikacji, można go monitorować z Eksploratora usługi sieć szkieletowa, za pomocą hello **uaktualnień w toku** kartę w obszarze aplikacji hello.</span><span class="sxs-lookup"><span data-stu-id="0b3ea-149">Now, as hello application upgrade proceeds, you can monitor it with Service Fabric Explorer, by using hello **Upgrades in Progress** tab under hello applications.</span></span>

<span data-ttu-id="0b3ea-150">W ciągu kilku minut można uaktualnić wszystkie domeny aktualizacji (ukończone), a okno danych wyjściowych programu Visual Studio hello powinny prezentować również, że tego uaktualnienia hello zostało zakończone.</span><span class="sxs-lookup"><span data-stu-id="0b3ea-150">In a few minutes, all update domains should be upgraded (completed), and hello Visual Studio output window should also state that hello upgrade is completed.</span></span> <span data-ttu-id="0b3ea-151">I który należy odnaleźć *wszystkie* hello obiekty widoczne w oknie przeglądarki są teraz obracanie!</span><span class="sxs-lookup"><span data-stu-id="0b3ea-151">And you should find that *all* hello visual objects in your browser window are now rotating!</span></span>

<span data-ttu-id="0b3ea-152">Możesz mają tootry zmiana wersji hello i przenoszenie z wersji 2.0.0 tooversion 3.0.0 jako wykonywania, lub nawet z wersji 2.0.0 kopii tooversion 1.0.0.</span><span class="sxs-lookup"><span data-stu-id="0b3ea-152">You may want tootry changing hello versions, and moving from version 2.0.0 tooversion 3.0.0 as an exercise, or even from version 2.0.0 back tooversion 1.0.0.</span></span> <span data-ttu-id="0b3ea-153">Odtwarzanie z limitów czasu i toomake zasady kondycji samodzielnie z nich korzystać.</span><span class="sxs-lookup"><span data-stu-id="0b3ea-153">Play with time-outs and health policies toomake yourself familiar with them.</span></span> <span data-ttu-id="0b3ea-154">Podczas wdrażania klastra Azure jako tooan przeciwieństwie tooa klaster lokalny, hello parametry używane może być toodiffer.</span><span class="sxs-lookup"><span data-stu-id="0b3ea-154">When deploying tooan Azure cluster as opposed tooa local cluster, hello parameters used may have toodiffer.</span></span> <span data-ttu-id="0b3ea-155">Firma Microsoft zaleca, Ustaw limity czasu hello konserwatywnie.</span><span class="sxs-lookup"><span data-stu-id="0b3ea-155">We recommend that you set hello time-outs conservatively.</span></span>

## <a name="next-steps"></a><span data-ttu-id="0b3ea-156">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="0b3ea-156">Next steps</span></span>
<span data-ttu-id="0b3ea-157">[Uaktualnianie aplikacji przy użyciu programu PowerShell](service-fabric-application-upgrade-tutorial-powershell.md) przeprowadzi Cię przez proces uaktualnienia aplikacji przy użyciu programu PowerShell.</span><span class="sxs-lookup"><span data-stu-id="0b3ea-157">[Upgrading your application using PowerShell](service-fabric-application-upgrade-tutorial-powershell.md) walks you through an application upgrade using PowerShell.</span></span>

<span data-ttu-id="0b3ea-158">Kontrolowanie, jak aplikacja zostanie uaktualniony przy użyciu [parametry uaktualnienia](service-fabric-application-upgrade-parameters.md).</span><span class="sxs-lookup"><span data-stu-id="0b3ea-158">Control how your application is upgraded by using [upgrade parameters](service-fabric-application-upgrade-parameters.md).</span></span>

<span data-ttu-id="0b3ea-159">Uzyskania uaktualnień aplikacji zgodnych przez uczenia jak toouse [szeregowanie danych](service-fabric-application-upgrade-data-serialization.md).</span><span class="sxs-lookup"><span data-stu-id="0b3ea-159">Make your application upgrades compatible by learning how toouse [data serialization](service-fabric-application-upgrade-data-serialization.md).</span></span>

<span data-ttu-id="0b3ea-160">Dowiedz się, jak toouse zaawansowanych funkcji podczas uaktualniania aplikacji, odnosząc się zbyt[Tematy zaawansowane](service-fabric-application-upgrade-advanced.md).</span><span class="sxs-lookup"><span data-stu-id="0b3ea-160">Learn how toouse advanced functionality while upgrading your application by referring too[Advanced topics](service-fabric-application-upgrade-advanced.md).</span></span>

<span data-ttu-id="0b3ea-161">Rozwiązywania typowych problemów w aplikacji uaktualnień, odnosząc się kroki toohello [Rozwiązywanie problemów z uaktualnieniami aplikacji](service-fabric-application-upgrade-troubleshooting.md).</span><span class="sxs-lookup"><span data-stu-id="0b3ea-161">Fix common problems in application upgrades by referring toohello steps in [Troubleshooting application upgrades](service-fabric-application-upgrade-troubleshooting.md).</span></span>

[image1]: media/service-fabric-application-upgrade-tutorial/upgrade7.png
[image2]: media/service-fabric-application-upgrade-tutorial/upgrade1.png
[image3]: media/service-fabric-application-upgrade-tutorial/upgrade5.png
[image4]: media/service-fabric-application-upgrade-tutorial/upgrade6.png
