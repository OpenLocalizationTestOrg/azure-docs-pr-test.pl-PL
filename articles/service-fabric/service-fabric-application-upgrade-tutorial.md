---
title: "Samouczek uaktualniania aplikacji sieci szkieletowej usług | Dokumentacja firmy Microsoft"
description: "Ten artykuł przeprowadzi Cię przez proces wdrażania aplikacji usługi Service Fabric, zmiana kodu i wprowadza uaktualnienia w programie Visual Studio."
services: service-fabric
documentationcenter: .net
author: mani-ramaswamy
manager: timlt
editor: 
ms.assetid: a3181a7a-9ab1-4216-b07a-05b79bd826a4
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 8/9/2017
ms.author: subramar
ms.openlocfilehash: 940440688ec770a4aeb932b574bd6be173f494d4
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 08/18/2017
---
# <a name="service-fabric-application-upgrade-tutorial-using-visual-studio"></a><span data-ttu-id="b4f1b-103">Samouczek uaktualniania aplikacji sieci szkieletowej usług za pomocą programu Visual Studio</span><span class="sxs-lookup"><span data-stu-id="b4f1b-103">Service Fabric application upgrade tutorial using Visual Studio</span></span>
> [!div class="op_single_selector"]
> * [<span data-ttu-id="b4f1b-104">PowerShell</span><span class="sxs-lookup"><span data-stu-id="b4f1b-104">PowerShell</span></span>](service-fabric-application-upgrade-tutorial-powershell.md)
> * [<span data-ttu-id="b4f1b-105">Program Visual Studio</span><span class="sxs-lookup"><span data-stu-id="b4f1b-105">Visual Studio</span></span>](service-fabric-application-upgrade-tutorial.md)
> 
> 

<br/>

<span data-ttu-id="b4f1b-106">Sieć szkieletowa usług Azure upraszcza proces uaktualniania aplikacji w chmurze w celu zapewnienia uaktualnienia tylko zmienione usługi, i że kondycja aplikacji jest monitorowane w trakcie procesu uaktualniania.</span><span class="sxs-lookup"><span data-stu-id="b4f1b-106">Azure Service Fabric simplifies the process of upgrading cloud applications by ensuring that only changed services are upgraded, and that application health is monitored throughout the upgrade process.</span></span> <span data-ttu-id="b4f1b-107">Automatycznie wycofywaniu aplikacji z poprzednią wersją w przypadku napotkania problemów.</span><span class="sxs-lookup"><span data-stu-id="b4f1b-107">It also automatically rolls back the application to the previous version upon encountering issues.</span></span> <span data-ttu-id="b4f1b-108">Uaktualnienia aplikacji sieci szkieletowej usług są *przestój Zero*, ponieważ aplikacja można uaktualnić bez przestojów.</span><span class="sxs-lookup"><span data-stu-id="b4f1b-108">Service Fabric application upgrades are *Zero Downtime*, since the application can be upgraded with no downtime.</span></span> <span data-ttu-id="b4f1b-109">W tym samouczku przedstawiono sposób wykonania uaktualnienia stopniowego z programu Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="b4f1b-109">This tutorial covers how to complete a rolling upgrade from Visual Studio.</span></span>

## <a name="step-1-build-and-publish-the-visual-objects-sample"></a><span data-ttu-id="b4f1b-110">Krok 1: Tworzenie i publikowanie przykład Visual obiektów</span><span class="sxs-lookup"><span data-stu-id="b4f1b-110">Step 1: Build and publish the Visual Objects sample</span></span>
<span data-ttu-id="b4f1b-111">Najpierw pobierz [obiektów Visual](https://github.com/Azure-Samples/service-fabric-dotnet-getting-started/tree/classic/Actors/VisualObjects) aplikacji z usługi GitHub.</span><span class="sxs-lookup"><span data-stu-id="b4f1b-111">First, download the [Visual Objects](https://github.com/Azure-Samples/service-fabric-dotnet-getting-started/tree/classic/Actors/VisualObjects) application from GitHub.</span></span> <span data-ttu-id="b4f1b-112">Następnie utworzyć i opublikować aplikację, klikając prawym przyciskiem myszy projekt aplikacji **VisualObjects**i wybierając **publikowania** polecenia w elemencie menu sieci szkieletowej usług.</span><span class="sxs-lookup"><span data-stu-id="b4f1b-112">Then, build and publish the application by right-clicking on the application project, **VisualObjects**, and selecting the **Publish** command in the Service Fabric menu item.</span></span>

![Menu kontekstowe dla aplikacji sieci szkieletowej usług][image1]

<span data-ttu-id="b4f1b-114">Wybieranie **publikowania** powoduje wyświetlenie okna podręcznego, i można ustawić **docelowego profilu** do **PublishProfiles\Local.xml**.</span><span class="sxs-lookup"><span data-stu-id="b4f1b-114">Selecting **Publish** brings up a popup, and you can set the **Target profile** to **PublishProfiles\Local.xml**.</span></span> <span data-ttu-id="b4f1b-115">Okno powinna wyglądać następująco przed kliknięciem przycisku **publikowania**.</span><span class="sxs-lookup"><span data-stu-id="b4f1b-115">The window should look like the following before you click **Publish**.</span></span>

![Publikowanie aplikacji sieci szkieletowej usług][image2]

<span data-ttu-id="b4f1b-117">Teraz możesz kliknąć **publikowania** w oknie dialogowym.</span><span class="sxs-lookup"><span data-stu-id="b4f1b-117">Now you can click **Publish** in the dialog box.</span></span> <span data-ttu-id="b4f1b-118">Można użyć [Service Fabric Explorer, aby wyświetlić klastra i aplikacji](service-fabric-visualizing-your-cluster.md).</span><span class="sxs-lookup"><span data-stu-id="b4f1b-118">You can use [Service Fabric Explorer to view the cluster and the application](service-fabric-visualizing-your-cluster.md).</span></span> <span data-ttu-id="b4f1b-119">Aplikacja obiektów Visual ma usługi sieci web, który można przejść do wpisując [http://localhost:8081/visualobjects/](http://localhost:8081/visualobjects/) na pasku adresu przeglądarki.</span><span class="sxs-lookup"><span data-stu-id="b4f1b-119">The Visual Objects application has a web service that you can go to by typing [http://localhost:8081/visualobjects/](http://localhost:8081/visualobjects/) in the address bar of your browser.</span></span>  <span data-ttu-id="b4f1b-120">Powinny pojawić się 10 obiektów visual przestawnych przenoszenia na ekranie.</span><span class="sxs-lookup"><span data-stu-id="b4f1b-120">You should see 10 floating visual objects moving around on the screen.</span></span>

<span data-ttu-id="b4f1b-121">**Uwaga:** wdrażania do `Cloud.xml` profilu (sieć szkieletowa usług Azure,) aplikacja powinna być dostępna w **http://{ServiceFabricName}. { Region}.cloudapp.Azure.com:8081/visualobjects/**.</span><span class="sxs-lookup"><span data-stu-id="b4f1b-121">**NOTE:** If deploying to `Cloud.xml` profile (Azure Service Fabric), the application should then be available at **http://{ServiceFabricName}.{Region}.cloudapp.azure.com:8081/visualobjects/**.</span></span> <span data-ttu-id="b4f1b-122">Upewnij się, że masz `8081/TCP` skonfigurowany w usłudze równoważenia obciążenia (znaleźć usługi równoważenia obciążenia w tej samej grupie zasobów, gdy wystąpienie usługi sieć szkieletowa).</span><span class="sxs-lookup"><span data-stu-id="b4f1b-122">Make sure you do have `8081/TCP` configured in the Load Balancer (find the Load Balancer in the same resource group as the Service Fabric instance).</span></span>

## <a name="step-2-update-the-visual-objects-sample"></a><span data-ttu-id="b4f1b-123">Krok 2: Zaktualizuj próbka obiektów Visual</span><span class="sxs-lookup"><span data-stu-id="b4f1b-123">Step 2: Update the Visual Objects sample</span></span>
<span data-ttu-id="b4f1b-124">Można zauważyć, że przy użyciu wersji, który został wdrożony w kroku 1, obiekt visual nie Obróć.</span><span class="sxs-lookup"><span data-stu-id="b4f1b-124">You might notice that with the version that was deployed in step 1, the visual objects do not rotate.</span></span> <span data-ttu-id="b4f1b-125">Umożliwia uaktualnienie tej aplikacji na taki, gdzie obiekty widoczne również obracać.</span><span class="sxs-lookup"><span data-stu-id="b4f1b-125">Let's upgrade this application to one where the visual objects also rotate.</span></span>

<span data-ttu-id="b4f1b-126">Wybierz projekt VisualObjects.ActorService w ramach rozwiązania VisualObjects i Otwórz **VisualObjectActor.cs** pliku.</span><span class="sxs-lookup"><span data-stu-id="b4f1b-126">Select the VisualObjects.ActorService project within the VisualObjects solution, and open the **VisualObjectActor.cs** file.</span></span> <span data-ttu-id="b4f1b-127">W tym pliku, przejdź do metody `MoveObject`, komentarz `visualObject.Move(false)`i Usuń komentarz `visualObject.Move(true)`.</span><span class="sxs-lookup"><span data-stu-id="b4f1b-127">Within that file, go to the method `MoveObject`, comment out `visualObject.Move(false)`, and uncomment `visualObject.Move(true)`.</span></span> <span data-ttu-id="b4f1b-128">Ta zmiana kodu obraca obiekty po uaktualnieniu usługi.</span><span class="sxs-lookup"><span data-stu-id="b4f1b-128">This code change rotates the objects after the service is upgraded.</span></span>  <span data-ttu-id="b4f1b-129">**Teraz można tworzyć (nie kompilację) rozwiązania**, która tworzy zmodyfikowane projekty.</span><span class="sxs-lookup"><span data-stu-id="b4f1b-129">**Now you can build (not rebuild) the solution**, which builds the modified projects.</span></span> <span data-ttu-id="b4f1b-130">W przypadku wybrania *odbudowanie wszystkiego*, musisz zaktualizować wersje we wszystkich projektach.</span><span class="sxs-lookup"><span data-stu-id="b4f1b-130">If you select *Rebuild all*, you have to update the versions for all the projects.</span></span>

<span data-ttu-id="b4f1b-131">Również musimy wersji aplikacji.</span><span class="sxs-lookup"><span data-stu-id="b4f1b-131">We also need to version our application.</span></span> <span data-ttu-id="b4f1b-132">Aby wprowadzić zmiany wersji po kliknięciu prawym przyciskiem myszy na **VisualObjects** projektu, można użyć programu Visual Studio **edytować wersji manifestu** opcji.</span><span class="sxs-lookup"><span data-stu-id="b4f1b-132">To make the version changes after you right-click on the **VisualObjects** project, you can use the Visual Studio **Edit Manifest Versions** option.</span></span> <span data-ttu-id="b4f1b-133">Wybranie tej opcji wyświetlenie okna dialogowego dla wersji edition w następujący sposób:</span><span class="sxs-lookup"><span data-stu-id="b4f1b-133">Selecting this option brings up the dialog box for edition versions as follows:</span></span>

![Okno dialogowe kontroli wersji][image3]

<span data-ttu-id="b4f1b-135">Wersje aktualizacji dla zmodyfikowanych projektów i ich pakiety kodu, wraz z aplikacji do wersji 2.0.0.</span><span class="sxs-lookup"><span data-stu-id="b4f1b-135">Update the versions for the modified projects and their code packages, along with the application to version 2.0.0.</span></span> <span data-ttu-id="b4f1b-136">Po wprowadzeniu zmian plik manifestu powinien wyglądać następująco (pogrubienie części Pokaż zmiany):</span><span class="sxs-lookup"><span data-stu-id="b4f1b-136">After the changes are made, the manifest should look like the following (bold portions show the changes):</span></span>

![Aktualizowanie wersji][image4]

<span data-ttu-id="b4f1b-138">Visual Studio tools możliwość automatycznego pakiety zbiorcze wersji po wybraniu **automatycznie Aktualizuj wersje aplikacji i usługi**.</span><span class="sxs-lookup"><span data-stu-id="b4f1b-138">The Visual Studio tools can do automatic rollups of versions upon selecting **Automatically update application and service versions**.</span></span> <span data-ttu-id="b4f1b-139">Jeśli używasz [programu SemVer](http://www.semver.org), musisz zaktualizować kod i/lub konfiguracji pakietu wersji tylko, jeśli opcja jest zaznaczona.</span><span class="sxs-lookup"><span data-stu-id="b4f1b-139">If you use [SemVer](http://www.semver.org), you need to update the code and/or configuration package version alone if that option is selected.</span></span>

<span data-ttu-id="b4f1b-140">Zapisz zmiany, a teraz sprawdzić **uaktualnienie aplikacji** pole.</span><span class="sxs-lookup"><span data-stu-id="b4f1b-140">Save the changes, and now check the **Upgrade the Application** box.</span></span>

## <a name="step-3--upgrade-your-application"></a><span data-ttu-id="b4f1b-141">Krok 3: Uaktualnienie aplikacji</span><span class="sxs-lookup"><span data-stu-id="b4f1b-141">Step 3:  Upgrade your application</span></span>
<span data-ttu-id="b4f1b-142">Zapoznaj się z [parametry uaktualniania aplikacji](service-fabric-application-upgrade-parameters.md) i [procesu uaktualniania](service-fabric-application-upgrade.md) można uzyskać dobrą znajomością różnych parametrów uaktualnienia, limity czasu i kryterium kondycji, które mogą być stosowane.</span><span class="sxs-lookup"><span data-stu-id="b4f1b-142">Familiarize yourself with the [application upgrade parameters](service-fabric-application-upgrade-parameters.md) and the [upgrade process](service-fabric-application-upgrade.md) to get a good understanding of the various upgrade parameters, time-outs, and health criterion that can be applied.</span></span> <span data-ttu-id="b4f1b-143">W ramach tego przewodnika kryterium oceny kondycji usługi ma ustawioną wartość domyślna (tryb niemonitorowane).</span><span class="sxs-lookup"><span data-stu-id="b4f1b-143">For this walkthrough, the service health evaluation criterion is set to the default (unmonitored mode).</span></span> <span data-ttu-id="b4f1b-144">Te ustawienia można skonfigurować, wybierając **skonfigurować ustawienia uaktualnienia** , a następnie modyfikując parametry zgodnie z potrzebami.</span><span class="sxs-lookup"><span data-stu-id="b4f1b-144">You can configure these settings by selecting **Configure Upgrade Settings** and then modifying the parameters as desired.</span></span>

<span data-ttu-id="b4f1b-145">Teraz możemy mają ustawione uruchom operację uaktualniania aplikacji przez wybranie **publikowania**.</span><span class="sxs-lookup"><span data-stu-id="b4f1b-145">Now we are all set to start the application upgrade by selecting **Publish**.</span></span> <span data-ttu-id="b4f1b-146">Ta opcja uaktualnia aplikację do wersji 2.0.0, w którym Obróć obiektów.</span><span class="sxs-lookup"><span data-stu-id="b4f1b-146">This option upgrades your application to version 2.0.0, in which the objects rotate.</span></span> <span data-ttu-id="b4f1b-147">Sieć szkieletowa usług uaktualnia jednej domeny aktualizacji w czasie (niektóre obiekty są aktualizowane w pierwszej kolejności, zostały wykonane przez innych użytkowników), a usługa jest nadal dostępny podczas uaktualniania.</span><span class="sxs-lookup"><span data-stu-id="b4f1b-147">Service Fabric upgrades one update domain at a time (some objects are updated first, followed by others), and the service remains accessible during the upgrade.</span></span> <span data-ttu-id="b4f1b-148">Dostęp do usługi można sprawdzić za pomocą klienta (przeglądarka).</span><span class="sxs-lookup"><span data-stu-id="b4f1b-148">Access to the service can be checked through your client (browser).</span></span>  

<span data-ttu-id="b4f1b-149">Teraz kontynuowane uaktualniania aplikacji, można go monitorować z Eksploratora usługi sieć szkieletowa, za pomocą **uaktualnień w toku** kartę w aplikacji.</span><span class="sxs-lookup"><span data-stu-id="b4f1b-149">Now, as the application upgrade proceeds, you can monitor it with Service Fabric Explorer, by using the **Upgrades in Progress** tab under the applications.</span></span>

<span data-ttu-id="b4f1b-150">Za kilka minut można uaktualnić wszystkie domeny aktualizacji (ukończone), a następnie w oknie danych wyjściowych programu Visual Studio należy również podać zakończeniu uaktualniania.</span><span class="sxs-lookup"><span data-stu-id="b4f1b-150">In a few minutes, all update domains should be upgraded (completed), and the Visual Studio output window should also state that the upgrade is completed.</span></span> <span data-ttu-id="b4f1b-151">I który należy odnaleźć *wszystkie* visual obiektów w oknie przeglądarki są teraz obracanie!</span><span class="sxs-lookup"><span data-stu-id="b4f1b-151">And you should find that *all* the visual objects in your browser window are now rotating!</span></span>

<span data-ttu-id="b4f1b-152">Chcesz spróbować zmienić wersje i przenoszenie z wersji 2.0.0 na wersję 3.0.0 jako wykonywania, lub nawet wersji 2.0.0 wersji 1.0.0.</span><span class="sxs-lookup"><span data-stu-id="b4f1b-152">You may want to try changing the versions, and moving from version 2.0.0 to version 3.0.0 as an exercise, or even from version 2.0.0 back to version 1.0.0.</span></span> <span data-ttu-id="b4f1b-153">Odtwarzanie z limitów czasu i zasady dotyczące kondycji z siebie uczynić z nich korzystać.</span><span class="sxs-lookup"><span data-stu-id="b4f1b-153">Play with time-outs and health policies to make yourself familiar with them.</span></span> <span data-ttu-id="b4f1b-154">Podczas wdrażania na klastrze platformy Azure, w przeciwieństwie do klastra lokalnego, parametry używane może być mogą się różnić.</span><span class="sxs-lookup"><span data-stu-id="b4f1b-154">When deploying to an Azure cluster as opposed to a local cluster, the parameters used may have to differ.</span></span> <span data-ttu-id="b4f1b-155">Firma Microsoft zaleca konserwatywnie Ustaw limity czasu.</span><span class="sxs-lookup"><span data-stu-id="b4f1b-155">We recommend that you set the time-outs conservatively.</span></span>

## <a name="next-steps"></a><span data-ttu-id="b4f1b-156">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="b4f1b-156">Next steps</span></span>
<span data-ttu-id="b4f1b-157">[Uaktualnianie aplikacji przy użyciu programu PowerShell](service-fabric-application-upgrade-tutorial-powershell.md) przeprowadzi Cię przez proces uaktualnienia aplikacji przy użyciu programu PowerShell.</span><span class="sxs-lookup"><span data-stu-id="b4f1b-157">[Upgrading your application using PowerShell](service-fabric-application-upgrade-tutorial-powershell.md) walks you through an application upgrade using PowerShell.</span></span>

<span data-ttu-id="b4f1b-158">Kontrolowanie, jak aplikacja zostanie uaktualniony przy użyciu [parametry uaktualnienia](service-fabric-application-upgrade-parameters.md).</span><span class="sxs-lookup"><span data-stu-id="b4f1b-158">Control how your application is upgraded by using [upgrade parameters](service-fabric-application-upgrade-parameters.md).</span></span>

<span data-ttu-id="b4f1b-159">Uzyskania uaktualnień aplikacji zgodnych przez poznanie [szeregowanie danych](service-fabric-application-upgrade-data-serialization.md).</span><span class="sxs-lookup"><span data-stu-id="b4f1b-159">Make your application upgrades compatible by learning how to use [data serialization](service-fabric-application-upgrade-data-serialization.md).</span></span>

<span data-ttu-id="b4f1b-160">Dowiedz się, jak korzystać z zaawansowanych funkcji podczas uaktualniania aplikacji, odwołując się do [Tematy zaawansowane](service-fabric-application-upgrade-advanced.md).</span><span class="sxs-lookup"><span data-stu-id="b4f1b-160">Learn how to use advanced functionality while upgrading your application by referring to [Advanced topics](service-fabric-application-upgrade-advanced.md).</span></span>

<span data-ttu-id="b4f1b-161">Rozwiązywania typowych problemów w uaktualnień aplikacji, korzystając z procedury opisanej w [Rozwiązywanie problemów z uaktualnieniami aplikacji](service-fabric-application-upgrade-troubleshooting.md).</span><span class="sxs-lookup"><span data-stu-id="b4f1b-161">Fix common problems in application upgrades by referring to the steps in [Troubleshooting application upgrades](service-fabric-application-upgrade-troubleshooting.md).</span></span>

[image1]: media/service-fabric-application-upgrade-tutorial/upgrade7.png
[image2]: media/service-fabric-application-upgrade-tutorial/upgrade1.png
[image3]: media/service-fabric-application-upgrade-tutorial/upgrade5.png
[image4]: media/service-fabric-application-upgrade-tutorial/upgrade6.png
