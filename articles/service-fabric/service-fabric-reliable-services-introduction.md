---
title: "Omówienie modelu programowania usług sieci szkieletowej niezawodnej usługi | Dokumentacja firmy Microsoft"
description: "Dowiedz się więcej o modelu programowania niezawodnej usługi Service Fabric i rozpocząć pisanie własnych usług."
services: Service-Fabric
documentationcenter: .net
author: masnider
manager: timlt
editor: vturecek; mani-ramaswamy
ms.assetid: 0c88a533-73f8-4ae1-a939-67d17456ac06
ms.service: Service-Fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 8/9/2017
ms.author: masnider;
ms.openlocfilehash: 601b1c7713c9785d949c1c72000ec7f3f63dd682
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 08/18/2017
---
# <a name="reliable-services-overview"></a><span data-ttu-id="c9470-103">Omówienie usług Reliable Services</span><span class="sxs-lookup"><span data-stu-id="c9470-103">Reliable Services overview</span></span>
<span data-ttu-id="c9470-104">Sieć szkieletowa usług Azure upraszcza zapisywanie i bezstanowe i stanowe niezawodne usługi zarządzania.</span><span class="sxs-lookup"><span data-stu-id="c9470-104">Azure Service Fabric simplifies writing and managing stateless and stateful Reliable Services.</span></span> <span data-ttu-id="c9470-105">W tym temacie omówiono:</span><span class="sxs-lookup"><span data-stu-id="c9470-105">This topic covers:</span></span>

* <span data-ttu-id="c9470-106">Niezawodne usługi model programowania usług bezstanowych i stanowych.</span><span class="sxs-lookup"><span data-stu-id="c9470-106">The Reliable Services programming model for stateless and stateful services.</span></span>
* <span data-ttu-id="c9470-107">Opcje, które należy podjąć podczas zapisywania niezawodnej usługi.</span><span class="sxs-lookup"><span data-stu-id="c9470-107">The choices you have to make when writing a Reliable Service.</span></span>
* <span data-ttu-id="c9470-108">Niektóre scenariusze i przykłady, kiedy należy używać usługi niezawodnego i jak są one napisane.</span><span class="sxs-lookup"><span data-stu-id="c9470-108">Some scenarios and examples of when to use Reliable Services and how they are written.</span></span>

<span data-ttu-id="c9470-109">Niezawodne usługi jest jednym z modele programowania dostępne w sieci szkieletowej usług.</span><span class="sxs-lookup"><span data-stu-id="c9470-109">Reliable Services is one of the programming models available on Service Fabric.</span></span> <span data-ttu-id="c9470-110">Druga to modelu programowania niezawodnego aktora, który zapewnia wirtualnego model programowania aktora na podstawie modelu niezawodne usługi.</span><span class="sxs-lookup"><span data-stu-id="c9470-110">The other is the Reliable Actor programming model, which provides a virtual Actor programming model on top of the Reliable Services model.</span></span> <span data-ttu-id="c9470-111">Aby uzyskać więcej informacji o modelu programowania Reliable Actors, zobacz [wprowadzenie do usługi sieci szkieletowej Reliable Actors](service-fabric-reliable-actors-introduction.md).</span><span class="sxs-lookup"><span data-stu-id="c9470-111">For more information on the Reliable Actors programming model, see [Introduction to Service Fabric Reliable Actors](service-fabric-reliable-actors-introduction.md).</span></span>

<span data-ttu-id="c9470-112">Usługa Service Fabric zarządza czasem istnienia usług, od aprowizacji i wdrożenia w ramach uaktualniania i usuwania, za pośrednictwem [zarządzania aplikacjami sieci szkieletowej usług](service-fabric-deploy-remove-applications.md).</span><span class="sxs-lookup"><span data-stu-id="c9470-112">Service Fabric manages the lifetime of services, from provisioning and deployment through upgrade and deletion, via [Service Fabric application management](service-fabric-deploy-remove-applications.md).</span></span>

## <a name="what-are-reliable-services"></a><span data-ttu-id="c9470-113">Co to są niezawodne usługi?</span><span class="sxs-lookup"><span data-stu-id="c9470-113">What are Reliable Services?</span></span>
<span data-ttu-id="c9470-114">Niezawodne usługi zapewnia prosty, zaawansowane, najwyższego poziomu model programowania ułatwiające express, co jest ważne do tej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="c9470-114">Reliable Services gives you a simple, powerful, top-level programming model to help you express what is important to your application.</span></span> <span data-ttu-id="c9470-115">Z usługami Reliable Services modelu programowania można uzyskać:</span><span class="sxs-lookup"><span data-stu-id="c9470-115">With the Reliable Services programming model, you get:</span></span>

* <span data-ttu-id="c9470-116">Dostęp do pozostałej części sieci szkieletowej usług programowania interfejsów API.</span><span class="sxs-lookup"><span data-stu-id="c9470-116">Access to the rest of the Service Fabric programming APIs.</span></span> <span data-ttu-id="c9470-117">W przeciwieństwie do usługi sieci szkieletowej usług formę [pliki wykonywalne gościa](service-fabric-deploy-existing-app.md), Pobierz niezawodne usługi do użycia bezpośrednio z resztą interfejsów API usługi Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="c9470-117">Unlike Service Fabric Services modeled as [Guest Executables](service-fabric-deploy-existing-app.md), Reliable Services get to use the rest of the Service Fabric APIs directly.</span></span> <span data-ttu-id="c9470-118">Dzięki temu usługi do:</span><span class="sxs-lookup"><span data-stu-id="c9470-118">This allows services to:</span></span>
  * <span data-ttu-id="c9470-119">wykonywanie zapytań względem systemu</span><span class="sxs-lookup"><span data-stu-id="c9470-119">query the system</span></span>
  * <span data-ttu-id="c9470-120">Raport kondycji temat jednostek w klastrze</span><span class="sxs-lookup"><span data-stu-id="c9470-120">report health about entities in the cluster</span></span>
  * <span data-ttu-id="c9470-121">odbieranie powiadomień o zmianach dotyczących konfiguracji i kod</span><span class="sxs-lookup"><span data-stu-id="c9470-121">receive notifications about configuration and code changes</span></span>
  * <span data-ttu-id="c9470-122">Wyszukiwanie i komunikowanie się z innymi usługami</span><span class="sxs-lookup"><span data-stu-id="c9470-122">find and communicate with other services,</span></span>
  * <span data-ttu-id="c9470-123">(opcjonalnie) użyć [niezawodnej kolekcje](service-fabric-reliable-services-reliable-collections.md)</span><span class="sxs-lookup"><span data-stu-id="c9470-123">(optionally) use the [Reliable Collections](service-fabric-reliable-services-reliable-collections.md)</span></span>
  * <span data-ttu-id="c9470-124">.. .a udzieleniem im dostępu do wielu innych funkcji, wszystkie z pierwszej klasie model programowania w wielu językach programowania.</span><span class="sxs-lookup"><span data-stu-id="c9470-124">...and giving them access to many other capabilities, all from a first class programming model in several programming languages.</span></span>
* <span data-ttu-id="c9470-125">Prostego modelu do uruchamiania z własnego kodu, który wygląda jak modeli, które są używane do programowania.</span><span class="sxs-lookup"><span data-stu-id="c9470-125">A simple model for running your own code that looks like programming models you are used to.</span></span> <span data-ttu-id="c9470-126">Kod ma punktu wejścia dobrze zdefiniowany i łatwe do zarządzania cyklem życia.</span><span class="sxs-lookup"><span data-stu-id="c9470-126">Your code has a well-defined entry point and easily managed lifecycle.</span></span>
* <span data-ttu-id="c9470-127">Model podłączany komunikacji.</span><span class="sxs-lookup"><span data-stu-id="c9470-127">A pluggable communication model.</span></span> <span data-ttu-id="c9470-128">Użyj transportu wybranych przez użytkownika, takich jak HTTP z [interfejsu API sieci Web](service-fabric-reliable-services-communication-webapi.md), Websocket, niestandardowe protokoły TCP lub innych elementów.</span><span class="sxs-lookup"><span data-stu-id="c9470-128">Use the transport of your choice, such as HTTP with [Web API](service-fabric-reliable-services-communication-webapi.md), WebSockets, custom TCP protocols, or anything else.</span></span> <span data-ttu-id="c9470-129">Niezawodne usługi zapewniają dużą niektóre opcje poza pole można użyć lub Podaj własny.</span><span class="sxs-lookup"><span data-stu-id="c9470-129">Reliable Services provide some great out-of-the-box options you can use, or you can provide your own.</span></span>
* <span data-ttu-id="c9470-130">Dla stanowych usług modelu programowania usług niezawodnej pozwala na spójne i niezawodne przechowywanie swój stan wewnątrz usługi przy użyciu [niezawodnej kolekcje](service-fabric-reliable-services-reliable-collections.md).</span><span class="sxs-lookup"><span data-stu-id="c9470-130">For stateful services, the Reliable Services programming model allows you to consistently and reliably store your state right inside your service by using [Reliable Collections](service-fabric-reliable-services-reliable-collections.md).</span></span> <span data-ttu-id="c9470-131">Niezawodne kolekcje są prostym zestawem typu klas kolekcji wysokiej dostępności i niezawodne, znanych dla każdego, kto został użyty kolekcje C#.</span><span class="sxs-lookup"><span data-stu-id="c9470-131">Reliable Collections are a simple set of highly available and reliable collection classes that will be familiar to anyone who has used C# collections.</span></span> <span data-ttu-id="c9470-132">Tradycyjnie usług niezbędnych systemów zewnętrznych dla zarządzania stanem niezawodne.</span><span class="sxs-lookup"><span data-stu-id="c9470-132">Traditionally, services needed external systems for Reliable state management.</span></span> <span data-ttu-id="c9470-133">Z kolekcjami niezawodne można przechowywać swój stan obok obliczeniowych o tej samej wysokiej dostępności i niezawodności, które zostały NAS oczekiwać sklepach zewnętrznych wysokiej dostępności.</span><span class="sxs-lookup"><span data-stu-id="c9470-133">With Reliable Collections, you can store your state next to your compute with the same high availability and reliability you've come to expect from highly available external stores.</span></span> <span data-ttu-id="c9470-134">Ten model również poprawia czas oczekiwania, ponieważ kolokacja obliczeniowych i stan, jaki musi działać.</span><span class="sxs-lookup"><span data-stu-id="c9470-134">This model also improves latency because you are co-locating the compute and state it needs to function.</span></span>

<span data-ttu-id="c9470-135">Obejrzyj ten film Microsoft Virtual Academy omówienie niezawodne usługi:<center>
<a target="_blank" href="https://mva.microsoft.com/en-US/training-courses/building-microservices-applications-on-azure-service-fabric-16747?l=HhD9566yC_4106218965">
<img src="./media/service-fabric-reliable-services-introduction/ReliableServicesVid.png" WIDTH="360" HEIGHT="244" />
</a>
</center></span><span class="sxs-lookup"><span data-stu-id="c9470-135">Watch this Microsoft Virtual Academy video for an overview of Reliable services: <center>
<a target="_blank" href="https://mva.microsoft.com/en-US/training-courses/building-microservices-applications-on-azure-service-fabric-16747?l=HhD9566yC_4106218965">
<img src="./media/service-fabric-reliable-services-introduction/ReliableServicesVid.png" WIDTH="360" HEIGHT="244" />
</a>
</center></span></span>

## <a name="what-makes-reliable-services-different"></a><span data-ttu-id="c9470-136">Niezawodne usługi dzięki czemu różne?</span><span class="sxs-lookup"><span data-stu-id="c9470-136">What makes Reliable Services different?</span></span>
<span data-ttu-id="c9470-137">Niezawodne usługi w sieci szkieletowej usług różnią się od usługi, które zostały zapisane przed.</span><span class="sxs-lookup"><span data-stu-id="c9470-137">Reliable Services in Service Fabric are different from services you may have written before.</span></span> <span data-ttu-id="c9470-138">Usługa Service Fabric realizuje niezawodności, dostępności, spójność i skalowalność.</span><span class="sxs-lookup"><span data-stu-id="c9470-138">Service Fabric provides reliability, availability, consistency, and scalability.</span></span>

* <span data-ttu-id="c9470-139">**Niezawodność** — Twoja usługa pozostaje się nawet w środowiskach zawodnych gdzie maszynach się nie powieść lub kliknij przycisk problemy z siecią lub w przypadkach, gdy uwierzytelnienia usługi wystąpić błędów i awarii lub się nie powieść.</span><span class="sxs-lookup"><span data-stu-id="c9470-139">**Reliability** - Your service stays up even in unreliable environments where your machines fail or hit network issues, or in cases where the services themselves encounter errors and crash or fail.</span></span> <span data-ttu-id="c9470-140">Dla stanowych usług swój stan są zachowywane nawet obecności sieci lub inne błędy.</span><span class="sxs-lookup"><span data-stu-id="c9470-140">For stateful services, your state is preserved even in the presence of network or other failures.</span></span>
* <span data-ttu-id="c9470-141">**Dostępność** -usługa jest osiągalny i szybko reagowały.</span><span class="sxs-lookup"><span data-stu-id="c9470-141">**Availability** - Your service is reachable and responsive.</span></span> <span data-ttu-id="c9470-142">Sieć szkieletowa usług przechowuje żądaną liczbę kopii uruchomiona.</span><span class="sxs-lookup"><span data-stu-id="c9470-142">Service Fabric maintains your desired number of running copies.</span></span>
* <span data-ttu-id="c9470-143">**Skalowalność** — usługi są całkowicie niezależna od konkretnego sprzętu i ich można zwiększać i zmniejszać w razie potrzeby poprzez dodawanie lub usuwanie sprzętu lub inne zasoby.</span><span class="sxs-lookup"><span data-stu-id="c9470-143">**Scalability** - Services are decoupled from specific hardware, and they can grow or shrink as necessary through the addition or removal of hardware or other resources.</span></span> <span data-ttu-id="c9470-144">Usługi łatwo są dzielone (szczególnie w przypadku stanowego) aby upewnić się, że można skalować usługi oraz obsługi błędów częściowej.</span><span class="sxs-lookup"><span data-stu-id="c9470-144">Services are easily partitioned (especially in the stateful case) to ensure that the service can scale and handle partial failures.</span></span> <span data-ttu-id="c9470-145">Usługi mogą być tworzone i usuwane dynamicznie za pośrednictwem kodu, włączanie więcej wystąpień do przejścia można w razie potrzeby powiedzieć w odpowiedzi na żądania klientów.</span><span class="sxs-lookup"><span data-stu-id="c9470-145">Services can be created and deleted dynamically via code, enabling more instances to be spun up as necessary, say in response to customer requests.</span></span> <span data-ttu-id="c9470-146">Ponadto sieci szkieletowej usług zachęca usług jako lightweight.</span><span class="sxs-lookup"><span data-stu-id="c9470-146">Finally, Service Fabric encourages services to be lightweight.</span></span> <span data-ttu-id="c9470-147">Sieć szkieletowa usług umożliwia tysięcy usługi udostępniane w ramach jednego procesu, zamiast całego wymagające lub przypisywanie wystąpień systemu operacyjnego lub procesów do pojedynczego wystąpienia usługi.</span><span class="sxs-lookup"><span data-stu-id="c9470-147">Service Fabric allows thousands of services to be provisioned within a single process, rather than requiring or dedicating entire OS instances or processes to a single instance of a service.</span></span>
* <span data-ttu-id="c9470-148">**Spójność** -wszystkie informacje przechowywane w tej usłudze można zagwarantować aby było spójne.</span><span class="sxs-lookup"><span data-stu-id="c9470-148">**Consistency** - Any information stored in this service can be guaranteed to be consistent.</span></span> <span data-ttu-id="c9470-149">Dotyczy to nawet przez wiele kolekcji niezawodnej w ramach usługi.</span><span class="sxs-lookup"><span data-stu-id="c9470-149">This is true even across multiple reliable collections within a service.</span></span> <span data-ttu-id="c9470-150">Zmiany w kolekcjach, w ramach usługi można podjąć w sposób transakcyjnie atomic.</span><span class="sxs-lookup"><span data-stu-id="c9470-150">Changes across collections within a service can be made in a transactionally atomic manner.</span></span>

## <a name="service-lifecycle"></a><span data-ttu-id="c9470-151">Usługi cyklu życia</span><span class="sxs-lookup"><span data-stu-id="c9470-151">Service lifecycle</span></span>
<span data-ttu-id="c9470-152">Czy usługa jest stanowego lub bezstanowego, niezawodne usługi zapewniają prosty cykl pozwala szybko podłączenia w kodzie i rozpocząć pracę.</span><span class="sxs-lookup"><span data-stu-id="c9470-152">Whether your service is stateful or stateless, Reliable Services provide a simple lifecycle that lets you quickly plug in your code and get started.</span></span>  <span data-ttu-id="c9470-153">Istnieje tylko jedna lub dwie metody, które należy wdrożyć można pobrać usługi do pracy.</span><span class="sxs-lookup"><span data-stu-id="c9470-153">There are just one or two methods that you need to implement to get your service up and running.</span></span>

* <span data-ttu-id="c9470-154">**CreateServiceReplicaListeners/CreateServiceInstanceListeners** — ta metoda jest, gdzie usługa definiuje stack(s) komunikacji, który chce używać.</span><span class="sxs-lookup"><span data-stu-id="c9470-154">**CreateServiceReplicaListeners/CreateServiceInstanceListeners** - This method is where the service defines the communication stack(s) that it wants to use.</span></span> <span data-ttu-id="c9470-155">Komunikacja stosu, takich jak [interfejsu API sieci Web](service-fabric-reliable-services-communication-webapi.md), jest definiuje co punktu końcowego nasłuchiwania lub punktów końcowych usługi (jak klienci dotarcia do usługi).</span><span class="sxs-lookup"><span data-stu-id="c9470-155">The communication stack, such as [Web API](service-fabric-reliable-services-communication-webapi.md), is what defines the listening endpoint or endpoints for the service (how clients reach the service).</span></span> <span data-ttu-id="c9470-156">Definiuje również, jak komunikaty wyświetlane interakcję z resztą kodu usługi.</span><span class="sxs-lookup"><span data-stu-id="c9470-156">It also defines how the messages that appear interact with the rest of the service code.</span></span>
* <span data-ttu-id="c9470-157">**RunAsync** — ta metoda jest usługą, w którym odbywa się jej logiki biznesowej i gdzie może rozpocząć Wyłącz wszystkie zadania w tle, które powinny być uruchamiane przez czas ich istnienia usługi.</span><span class="sxs-lookup"><span data-stu-id="c9470-157">**RunAsync** - This method is where your service runs its business logic, and where it would kick off any background tasks that should run for the lifetime of the service.</span></span> <span data-ttu-id="c9470-158">Token anulowania, który został dostarczony jest sygnał dla podczas pracy ma zostać zatrzymana.</span><span class="sxs-lookup"><span data-stu-id="c9470-158">The cancellation token that is provided is a signal for when that work should stop.</span></span> <span data-ttu-id="c9470-159">Na przykład jeśli usługa wymaga ściągać komunikaty poza kolejka niezawodnych i przetwarzanie ich, to gdy się stanie, które współpracują.</span><span class="sxs-lookup"><span data-stu-id="c9470-159">For example, if the service needs to pull messages out of a Reliable Queue and process them, this is where that work happens.</span></span>

<span data-ttu-id="c9470-160">Jeśli zapoznawania się o usługach reliable services po raz pierwszy, przeczytaj na!</span><span class="sxs-lookup"><span data-stu-id="c9470-160">If you're learning about reliable services for the first time, read on!</span></span> <span data-ttu-id="c9470-161">Jeśli szukasz szczegółowy przewodnik życia niezawodne usługi użytkownik może przejdź do [w tym artykule](service-fabric-reliable-services-lifecycle.md).</span><span class="sxs-lookup"><span data-stu-id="c9470-161">If you're looking for a detailed walkthrough of the lifecycle of reliable services, you can head over to [this article](service-fabric-reliable-services-lifecycle.md).</span></span>

## <a name="example-services"></a><span data-ttu-id="c9470-162">Przykład usług</span><span class="sxs-lookup"><span data-stu-id="c9470-162">Example services</span></span>
<span data-ttu-id="c9470-163">Znajomość tego modelu programowania, Spójrzmy szybki w dwóch różnych usług, aby zobaczyć, jak te dopasowania.</span><span class="sxs-lookup"><span data-stu-id="c9470-163">Knowing this programming model, let's take a quick look at two different services to see how these pieces fit together.</span></span>

### <a name="stateless-reliable-services"></a><span data-ttu-id="c9470-164">Bezstanowej niezawodnej usługi</span><span class="sxs-lookup"><span data-stu-id="c9470-164">Stateless Reliable Services</span></span>
<span data-ttu-id="c9470-165">Usługi bezstanowej jest jeden, gdy stan jest niedostępny przechowywanych w ramach usługi w wielu wywołań.</span><span class="sxs-lookup"><span data-stu-id="c9470-165">A stateless service is one where there is no state maintained within the service across calls.</span></span> <span data-ttu-id="c9470-166">Stan jest obecny jest całkowicie jednorazowe i nie wymaga synchronizacji, replikacji, trwałości i wysokiej dostępności.</span><span class="sxs-lookup"><span data-stu-id="c9470-166">Any state that is present is entirely disposable and doesn't require synchronization, replication, persistence, or high availability.</span></span>

<span data-ttu-id="c9470-167">Rozważmy na przykład Kalkulator, Brak pamięci i odbiera wszystkie warunki i czynności do wykonania na raz.</span><span class="sxs-lookup"><span data-stu-id="c9470-167">For example, consider a calculator that has no memory and receives all terms and operations to perform at once.</span></span>

<span data-ttu-id="c9470-168">W takim przypadku `RunAsync()` (C#) lub `runAsync()` (Java) usługi może być pusta, ponieważ nie istnieje żadne zadania — przetwarzania w tle wymagającym czy usługa.</span><span class="sxs-lookup"><span data-stu-id="c9470-168">In this case, the `RunAsync()` (C#) or `runAsync()` (Java) of the service can be empty, since there is no background task-processing that the service needs to do.</span></span> <span data-ttu-id="c9470-169">Po utworzeniu usługi Kalkulator zwraca `ICommunicationListener` (C#) lub `CommunicationListener` (Java) (na przykład [interfejsu API sieci Web](service-fabric-reliable-services-communication-webapi.md)) która otwiera punktu końcowego nasłuchiwania na porcie niektórych.</span><span class="sxs-lookup"><span data-stu-id="c9470-169">When the calculator service is created, it returns an `ICommunicationListener` (C#) or `CommunicationListener` (Java) (for example [Web API](service-fabric-reliable-services-communication-webapi.md)) that opens up a listening endpoint on some port.</span></span> <span data-ttu-id="c9470-170">Tego punktu końcowego nasłuchiwania przechwytuje do metody innej obliczania (przykład: "Dodaj (n1, n2)") definiującą Kalkulator publiczny interfejs API.</span><span class="sxs-lookup"><span data-stu-id="c9470-170">This listening endpoint hooks up to the different calculation methods (example: "Add(n1, n2)") that define the calculator's public API.</span></span>

<span data-ttu-id="c9470-171">Gdy wywołanie z klienta odpowiedniej metody i Kalkulator wykonuje operacje na danych udostępnionych i zwraca wynik.</span><span class="sxs-lookup"><span data-stu-id="c9470-171">When a call is made from a client, the appropriate method is invoked, and the calculator service performs the operations on the data provided and returns the result.</span></span> <span data-ttu-id="c9470-172">Go nie przechowuje jakikolwiek stan.</span><span class="sxs-lookup"><span data-stu-id="c9470-172">It doesn't store any state.</span></span>

<span data-ttu-id="c9470-173">Nie są przechowywane wszystkie stan wewnętrzny upraszcza Kalkulator tego przykładu.</span><span class="sxs-lookup"><span data-stu-id="c9470-173">Not storing any internal state makes this example calculator simple.</span></span> <span data-ttu-id="c9470-174">Jednak większość usług nie są naprawdę bezstanowych.</span><span class="sxs-lookup"><span data-stu-id="c9470-174">But most services aren't truly stateless.</span></span> <span data-ttu-id="c9470-175">Zamiast tego należy ich oddzielenie ich stanu do niektórych innym magazynie.</span><span class="sxs-lookup"><span data-stu-id="c9470-175">Instead, they externalize their state to some other store.</span></span> <span data-ttu-id="c9470-176">(Na przykład dowolnej aplikacji sieci web, która opiera się na przechowywanie stanu sesji w sklepie zapasowy lub w pamięci podręcznej nie jest bezstanowych.)</span><span class="sxs-lookup"><span data-stu-id="c9470-176">(For example, any web app that relies on keeping session state in a backing store or cache is not stateless.)</span></span>

<span data-ttu-id="c9470-177">Typowym przykładem sposobu usługi bezstanowej są używane w sieci szkieletowej usług jest jako frontonu, która uwidacznia interfejs API publicznych dla aplikacji sieci web.</span><span class="sxs-lookup"><span data-stu-id="c9470-177">A common example of how stateless services are used in Service Fabric is as a front-end that exposes the public-facing API for a web application.</span></span> <span data-ttu-id="c9470-178">Usługi frontonu następnie komunikuje się stanowych usług do ukończenia żądania użytkownika.</span><span class="sxs-lookup"><span data-stu-id="c9470-178">The front-end service then talks to stateful services to complete a user request.</span></span> <span data-ttu-id="c9470-179">W takim przypadku wywołania z klientów są przekierowywane do znanego port, np. 80, którym nasłuchuje usługa bezstanowa.</span><span class="sxs-lookup"><span data-stu-id="c9470-179">In this case, calls from clients are directed to a known port, such as 80, where the stateless service is listening.</span></span> <span data-ttu-id="c9470-180">Tej usługi bezstanowej odbiera połączenie i określa, czy wywołanie pochodzi z zaufanego firm i której usługi jest przeznaczony do.</span><span class="sxs-lookup"><span data-stu-id="c9470-180">This stateless service receives the call and determines whether the call is from a trusted party and which service it's destined for.</span></span>  <span data-ttu-id="c9470-181">Następnie usługi bezstanowej przesłanie wywołania do poprawnej partycji usługi stanowej i czeka na odpowiedź.</span><span class="sxs-lookup"><span data-stu-id="c9470-181">Then, the stateless service forwards the call to the correct partition of the stateful service and waits for a response.</span></span> <span data-ttu-id="c9470-182">Gdy usługa bezstanowa odbiera odpowiedź, w odpowiedzi klienta oryginalnym.</span><span class="sxs-lookup"><span data-stu-id="c9470-182">When the stateless service receives a response, it replies to the original client.</span></span> <span data-ttu-id="c9470-183">Przykładem takiej usługi znajduje się w naszej próbki [C#](https://github.com/Azure-Samples/service-fabric-dotnet-getting-started) / [Java](https://github.com/Azure-Samples/service-fabric-java-getting-started/tree/master/Actors/VisualObjectActor/VisualObjectWebService).</span><span class="sxs-lookup"><span data-stu-id="c9470-183">An example of such a service is in our samples [C#](https://github.com/Azure-Samples/service-fabric-dotnet-getting-started) / [Java](https://github.com/Azure-Samples/service-fabric-java-getting-started/tree/master/Actors/VisualObjectActor/VisualObjectWebService).</span></span> <span data-ttu-id="c9470-184">To jest tylko jeden przykład tego wzorca w próbkach, inne osoby w istnieją także inne przykłady.</span><span class="sxs-lookup"><span data-stu-id="c9470-184">This is only one example of this pattern in the samples, there are others in other samples as well.</span></span>

### <a name="stateful-reliable-services"></a><span data-ttu-id="c9470-185">Stanowe niezawodne usługi</span><span class="sxs-lookup"><span data-stu-id="c9470-185">Stateful Reliable Services</span></span>
<span data-ttu-id="c9470-186">Usługi stanowej to taki, który musi mieć część stanu zachowano spójności i znajdują się w kolejności dla usługi funkcji.</span><span class="sxs-lookup"><span data-stu-id="c9470-186">A stateful service is one that must have some portion of state kept consistent and present in order for the service to function.</span></span> <span data-ttu-id="c9470-187">Należy wziąć pod uwagę to usługa, która stale oblicza średnią kroczącą pewnej wartości na podstawie aktualizacji, który odbiera.</span><span class="sxs-lookup"><span data-stu-id="c9470-187">Consider a service that constantly computes a rolling average of some value based on updates it receives.</span></span> <span data-ttu-id="c9470-188">Aby to zrobić, musi mieć bieżącego zestawu żądań przychodzących, wymaganych do przetworzenia oraz aktualny średni.</span><span class="sxs-lookup"><span data-stu-id="c9470-188">To do this, it must have the current set of incoming requests it needs to process and the current average.</span></span> <span data-ttu-id="c9470-189">Wszystkie usługi, która pobiera, procesów i zapisuje informacje w zewnętrznym sklepie (np. Azure blob lub tabeli magazynu dzisiaj) jest obiektem stanowym.</span><span class="sxs-lookup"><span data-stu-id="c9470-189">Any service that retrieves, processes, and stores information in an external store (such as an Azure blob or table store today) is stateful.</span></span> <span data-ttu-id="c9470-190">Śledzi tylko jego stanu w magazynie stanów zewnętrznych.</span><span class="sxs-lookup"><span data-stu-id="c9470-190">It just keeps its state in the external state store.</span></span>

<span data-ttu-id="c9470-191">Większość usług dzisiaj przechowywane zewnętrznie, ich stanie, ponieważ jest zewnętrznym sklepie, co zapewnia niezawodność, dostępność, skalowalność i spójności dla tego stanu.</span><span class="sxs-lookup"><span data-stu-id="c9470-191">Most services today store their state externally, since the external store is what provides reliability, availability, scalability, and consistency for that state.</span></span> <span data-ttu-id="c9470-192">W sieci szkieletowej usług usługi nie są wymagane do przechowywania ich stanu zewnętrznie.</span><span class="sxs-lookup"><span data-stu-id="c9470-192">In Service Fabric, services aren't required to store their state externally.</span></span> <span data-ttu-id="c9470-193">Sieć szkieletowa usług zapewnia obsługę tych wymagań dla kodu usługi i stan usługi.</span><span class="sxs-lookup"><span data-stu-id="c9470-193">Service Fabric takes care of these requirements for both the service code and the service state.</span></span>

> [!NOTE]
> <span data-ttu-id="c9470-194">Obsługa stanowych usług Reliable Services nie jest dostępna w systemie Linux jeszcze (dla C# lub języka Java).</span><span class="sxs-lookup"><span data-stu-id="c9470-194">Support for Stateful Reliable Services is not available on Linux yet (for C# or Java).</span></span>
>

<span data-ttu-id="c9470-195">Załóżmy, że jeśli chcesz zapisać to usługa, która przetwarza obrazów.</span><span class="sxs-lookup"><span data-stu-id="c9470-195">Let's say we want to write a service that processes images.</span></span> <span data-ttu-id="c9470-196">Aby to zrobić, usługa przyjmuje obrazu i serii konwersje do wykonania w tym obrazie.</span><span class="sxs-lookup"><span data-stu-id="c9470-196">To do this, the service takes in an image and the series of conversions to perform on that image.</span></span> <span data-ttu-id="c9470-197">Ta usługa zwraca odbiornik komunikacji (teraz załóżmy, że jest WebAPI) czy ujawnia interfejs API, takich jak `ConvertImage(Image i, IList<Conversion> conversions)`.</span><span class="sxs-lookup"><span data-stu-id="c9470-197">This service returns a communication listener (let's suppose it's a WebAPI) that exposes an API like `ConvertImage(Image i, IList<Conversion> conversions)`.</span></span> <span data-ttu-id="c9470-198">Po odebraniu żądania usługa zapisze go w `IReliableQueue`i zwraca identyfikator niektórych do klienta, więc można śledzić żądania.</span><span class="sxs-lookup"><span data-stu-id="c9470-198">When it receives a request, the service stores it in a `IReliableQueue`, and returns some id to the client so it can track the request.</span></span>

<span data-ttu-id="c9470-199">W tej usłudze `RunAsync()` może być bardziej złożonych.</span><span class="sxs-lookup"><span data-stu-id="c9470-199">In this service, `RunAsync()` could be more complex.</span></span> <span data-ttu-id="c9470-200">Usługa ma pętlę wewnątrz jego `RunAsync()` który ściąga żądań z `IReliableQueue` i wykonuje konwersje żądanie.</span><span class="sxs-lookup"><span data-stu-id="c9470-200">The service has a loop inside its `RunAsync()` that pulls requests out of `IReliableQueue` and performs the conversions requested.</span></span> <span data-ttu-id="c9470-201">Wyniki pobrać przechowywane w `IReliableDictionary` tak, aby po wróci klient może uzyskać przekonwertowanego obrazów.</span><span class="sxs-lookup"><span data-stu-id="c9470-201">The results get stored in an `IReliableDictionary` so that when the client comes back they can get their converted images.</span></span> <span data-ttu-id="c9470-202">Do upewnij się, że nawet jeśli coś nie powiedzie się obraz nie zostanie utracony, ta usługa niezawodnej będzie pobierać z kolejki, wykonywania konwersji i zapisać wynik w ramach pojedynczej transakcji.</span><span class="sxs-lookup"><span data-stu-id="c9470-202">To ensure that even if something fails the image isn't lost, this Reliable Service would pull out of the queue, perform the conversions, and store the result all in a single transaction.</span></span> <span data-ttu-id="c9470-203">W takim przypadku wiadomość zostanie usunięta z kolejki i wyniki są przechowywane w słowniku wynik tylko po ukończeniu konwersji.</span><span class="sxs-lookup"><span data-stu-id="c9470-203">In this case, the message is removed from the queue and the results are stored in the result dictionary only when the conversions are complete.</span></span> <span data-ttu-id="c9470-204">Alternatywnie usługa można ściągnąć obraz z kolejki i natychmiast przechowywania w magazynie zdalnym.</span><span class="sxs-lookup"><span data-stu-id="c9470-204">Alternatively, the service could pull the image out of the queue and immediately store it in a remote store.</span></span> <span data-ttu-id="c9470-205">Zmniejsza ilość stanu do zarządzania przez usługę, ale zwiększa złożoności, ponieważ usługa musi zachować metadane potrzebne do zarządzania zdalnego magazynu.</span><span class="sxs-lookup"><span data-stu-id="c9470-205">This reduces the amount of state the service has to manage, but increases complexity since the service has to keep the necessary metadata to manage the remote store.</span></span> <span data-ttu-id="c9470-206">Z obu podejście jeśli coś nie powiodła się w środku żądanie pozostaje w kolejce oczekujących na przetworzenie.</span><span class="sxs-lookup"><span data-stu-id="c9470-206">With either approach, if something failed in the middle the request remains in the queue waiting to be processed.</span></span>

<span data-ttu-id="c9470-207">Należy pamiętać o tej usługi jest to wydaje, takich jak usługi .NET w normalnym!</span><span class="sxs-lookup"><span data-stu-id="c9470-207">One thing to note about this service is that it sounds like a normal .NET service!</span></span> <span data-ttu-id="c9470-208">Jedyną różnicą jest to, że struktury danych używane (`IReliableQueue` i `IReliableDictionary`) są dostarczane przez sieć szkieletowa usług i są wysoce niezawodnych, dostępna i spójne.</span><span class="sxs-lookup"><span data-stu-id="c9470-208">The only difference is that the data structures being used (`IReliableQueue` and `IReliableDictionary`) are provided by Service Fabric, and are highly reliable, available, and consistent.</span></span>

## <a name="when-to-use-reliable-services-apis"></a><span data-ttu-id="c9470-209">Kiedy należy używać niezawodnej usługi interfejsów API</span><span class="sxs-lookup"><span data-stu-id="c9470-209">When to use Reliable Services APIs</span></span>
<span data-ttu-id="c9470-210">Jedną z następujących czynności scharakteryzowania wymagań usługi aplikacji, należy rozważyć niezawodnej usługi interfejsów API:</span><span class="sxs-lookup"><span data-stu-id="c9470-210">If any of the following characterize your application service needs, then you should consider Reliable Services APIs:</span></span>

* <span data-ttu-id="c9470-211">Kod z usługą (i opcjonalnie stanu) być wysokiej dostępności i niezawodnych</span><span class="sxs-lookup"><span data-stu-id="c9470-211">You want your service's code (and optionally state) to be highly available and reliable</span></span>
* <span data-ttu-id="c9470-212">Należy transakcyjne gwarancje w wielu jednostkach stanu (na przykład zleceń i kolejność pozycji).</span><span class="sxs-lookup"><span data-stu-id="c9470-212">You need transactional guarantees across multiple units of state (for example, orders and order line items).</span></span>
* <span data-ttu-id="c9470-213">Stan aplikacji mogą być naturalnie modelowane jako wiarygodnych słowniki i kolejek.</span><span class="sxs-lookup"><span data-stu-id="c9470-213">Your application’s state can be naturally modeled as Reliable Dictionaries and Queues.</span></span>
* <span data-ttu-id="c9470-214">Stan lub kodu aplikacji musi być wysokiej dostępności z niskim opóźnieniem odczyty i zapisy.</span><span class="sxs-lookup"><span data-stu-id="c9470-214">Your applications code or state needs to be highly available with low latency reads and writes.</span></span>
* <span data-ttu-id="c9470-215">Aplikacja wymaga kontrola współbieżności lub szczegółowości Operacje transakcyjne na co najmniej jednej kolekcji wiarygodne.</span><span class="sxs-lookup"><span data-stu-id="c9470-215">Your application needs to control the concurrency or granularity of transacted operations across one or more Reliable Collections.</span></span>
* <span data-ttu-id="c9470-216">Chcesz zarządzać komunikatów lub kontrolować schemat partycjonowania dla usługi.</span><span class="sxs-lookup"><span data-stu-id="c9470-216">You want to manage the communications or control the partitioning scheme for your service.</span></span>
* <span data-ttu-id="c9470-217">Kod wymaga środowiska uruchomieniowego bezwątkowy.</span><span class="sxs-lookup"><span data-stu-id="c9470-217">Your code needs a free-threaded runtime environment.</span></span>
* <span data-ttu-id="c9470-218">Aplikacja musi zostać dynamicznie utworzyć lub zniszczyć niezawodnej słowniki lub kolejek lub całej usługi w czasie wykonywania.</span><span class="sxs-lookup"><span data-stu-id="c9470-218">Your application needs to dynamically create or destroy Reliable Dictionaries or Queues or whole Services at runtime.</span></span>
* <span data-ttu-id="c9470-219">Należy programowo kontrolować wprowadzone do usługi Service Fabric kopii zapasowej i przywracania funkcji stanu usługi.</span><span class="sxs-lookup"><span data-stu-id="c9470-219">You need to programmatically control Service Fabric-provided backup and restore features for your service’s state.</span></span>
* <span data-ttu-id="c9470-220">Aplikacja wymaga przechowywania historii zmian dla jednostki jego stanu.</span><span class="sxs-lookup"><span data-stu-id="c9470-220">Your application needs to maintain change history for its units of state.</span></span>
* <span data-ttu-id="c9470-221">Chcesz rozwijać lub zużywać dostawców innych firm — rozwinięte, niestandardowe stanu.</span><span class="sxs-lookup"><span data-stu-id="c9470-221">You want to develop or consume third-party-developed, custom state providers.</span></span>

## <a name="next-steps"></a><span data-ttu-id="c9470-222">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="c9470-222">Next steps</span></span>
* [<span data-ttu-id="c9470-223">Niezawodne usługi szybki start</span><span class="sxs-lookup"><span data-stu-id="c9470-223">Reliable Services quick start</span></span>](service-fabric-reliable-services-quick-start.md)
* [<span data-ttu-id="c9470-224">Niezawodne usługi advanced użycia</span><span class="sxs-lookup"><span data-stu-id="c9470-224">Reliable Services advanced usage</span></span>](service-fabric-reliable-services-advanced-usage.md)
* [<span data-ttu-id="c9470-225">Model programowania Reliable Actors</span><span class="sxs-lookup"><span data-stu-id="c9470-225">The Reliable Actors programming model</span></span>](service-fabric-reliable-actors-introduction.md)
