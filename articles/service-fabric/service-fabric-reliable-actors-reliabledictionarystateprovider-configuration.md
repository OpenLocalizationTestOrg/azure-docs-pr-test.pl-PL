---
title: "Zmień ustawienia ReliableDictionaryActorStateProvider w Azure mikrousług | Dokumentacja firmy Microsoft"
description: "Informacje na temat konfigurowania stanowe uczestnikami typu ReliableDictionaryActorStateProvider sieć szkieletowa usług Azure."
services: Service-Fabric
documentationcenter: .net
author: sumukhs
manager: timlt
editor: 
ms.assetid: 79b48ffa-2474-4f1c-a857-3471f9590ded
ms.service: Service-Fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 6/29/2017
ms.author: sumukhs
ms.openlocfilehash: 2b5359412ebb4ea42f3e9c22db944aea9a666bb1
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 07/11/2017
---
# <a name="configuring-reliable-actors--reliabledictionaryactorstateprovider"></a><span data-ttu-id="715b7-103">Konfigurowanie Reliable Actors — ReliableDictionaryActorStateProvider</span><span class="sxs-lookup"><span data-stu-id="715b7-103">Configuring Reliable Actors--ReliableDictionaryActorStateProvider</span></span>
<span data-ttu-id="715b7-104">Domyślna konfiguracja ReliableDictionaryActorStateProvider można modyfikować, zmieniając pliku settings.xml generowane w głównym pakietu programu Visual Studio w folderze konfiguracji dla określonego aktora.</span><span class="sxs-lookup"><span data-stu-id="715b7-104">You can modify the default configuration of ReliableDictionaryActorStateProvider by changing the settings.xml file generated in the Visual Studio package root under the Config folder for the specified actor.</span></span>

<span data-ttu-id="715b7-105">Środowisko uruchomieniowe usługi sieć szkieletowa usług Azure szuka nazwy sekcji wstępnie zdefiniowanych w pliku settings.xml i wykorzystuje wartości konfiguracji podczas tworzenia podstawowych składników środowiska wykonawczego.</span><span class="sxs-lookup"><span data-stu-id="715b7-105">The Azure Service Fabric runtime looks for predefined section names in the settings.xml file and consumes the configuration values while creating the underlying runtime components.</span></span>

> [!NOTE]
> <span data-ttu-id="715b7-106">Czy **nie** usunięcia lub zmodyfikowania nazwy sekcji następujące konfiguracje w pliku settings.xml, który jest generowany w rozwiązaniu Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="715b7-106">Do **not** delete or modify the section names of the following configurations in the settings.xml file that is generated in the Visual Studio solution.</span></span>
> 
> 

<span data-ttu-id="715b7-107">Istnieją ustawienia globalne, które mają wpływ na konfigurację ReliableDictionaryActorStateProvider.</span><span class="sxs-lookup"><span data-stu-id="715b7-107">There are also global settings that affect the configuration of ReliableDictionaryActorStateProvider.</span></span>

## <a name="global-configuration"></a><span data-ttu-id="715b7-108">Konfigurację globalną</span><span class="sxs-lookup"><span data-stu-id="715b7-108">Global Configuration</span></span>
<span data-ttu-id="715b7-109">W manifeście klastra dla klastra, w sekcji KtlLogger określono jego konfigurację globalną.</span><span class="sxs-lookup"><span data-stu-id="715b7-109">The global configuration is specified in the cluster manifest for the cluster under the KtlLogger section.</span></span> <span data-ttu-id="715b7-110">Go umożliwia skonfigurowanie lokalizacji udostępnionej dziennika i rozmiaru i limity pamięci globalnej używane przez rejestratora.</span><span class="sxs-lookup"><span data-stu-id="715b7-110">It allows configuration of the shared log location and size plus the global memory limits used by the logger.</span></span> <span data-ttu-id="715b7-111">Należy pamiętać, że zmiany w manifeście klastra mają wpływ na wszystkich usług, które używają ReliableDictionaryActorStateProvider i niezawodnych usług stanowych.</span><span class="sxs-lookup"><span data-stu-id="715b7-111">Note that changes in the cluster manifest affect all services that use ReliableDictionaryActorStateProvider and reliable stateful services.</span></span>

<span data-ttu-id="715b7-112">Plik manifestu klastra to pojedynczy plik XML, który przechowuje ustawienia i konfiguracje, które są stosowane do wszystkich węzłów i usług w klastrze.</span><span class="sxs-lookup"><span data-stu-id="715b7-112">The cluster manifest is a single XML file that holds settings and configurations that apply to all nodes and services in the cluster.</span></span> <span data-ttu-id="715b7-113">Plik jest zwykle nazywany ClusterManifest.xml.</span><span class="sxs-lookup"><span data-stu-id="715b7-113">The file is typically called ClusterManifest.xml.</span></span> <span data-ttu-id="715b7-114">Widać klastra dla klastra przy użyciu polecenia programu powershell Get-ServiceFabricClusterManifest manifestu.</span><span class="sxs-lookup"><span data-stu-id="715b7-114">You can see the cluster manifest for your cluster using the Get-ServiceFabricClusterManifest powershell command.</span></span>

### <a name="configuration-names"></a><span data-ttu-id="715b7-115">Nazwy konfiguracji</span><span class="sxs-lookup"><span data-stu-id="715b7-115">Configuration names</span></span>
| <span data-ttu-id="715b7-116">Nazwa</span><span class="sxs-lookup"><span data-stu-id="715b7-116">Name</span></span> | <span data-ttu-id="715b7-117">Jednostka</span><span class="sxs-lookup"><span data-stu-id="715b7-117">Unit</span></span> | <span data-ttu-id="715b7-118">Wartość domyślna</span><span class="sxs-lookup"><span data-stu-id="715b7-118">Default value</span></span> | <span data-ttu-id="715b7-119">Uwagi</span><span class="sxs-lookup"><span data-stu-id="715b7-119">Remarks</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="715b7-120">WriteBufferMemoryPoolMinimumInKB</span><span class="sxs-lookup"><span data-stu-id="715b7-120">WriteBufferMemoryPoolMinimumInKB</span></span> |<span data-ttu-id="715b7-121">Kilobajtów</span><span class="sxs-lookup"><span data-stu-id="715b7-121">Kilobytes</span></span> |<span data-ttu-id="715b7-122">8388608</span><span class="sxs-lookup"><span data-stu-id="715b7-122">8388608</span></span> |<span data-ttu-id="715b7-123">Minimalna liczba KB przydzielić w trybie jądra dla puli pamięci buforu zapisu rejestratora.</span><span class="sxs-lookup"><span data-stu-id="715b7-123">Minimum number of KB to allocate in kernel mode for the logger write buffer memory pool.</span></span> <span data-ttu-id="715b7-124">Tej puli pamięci jest używana do buforowania informacji o stanie przed zapisu na dysku.</span><span class="sxs-lookup"><span data-stu-id="715b7-124">This memory pool is used for caching state information before writing to disk.</span></span> |
| <span data-ttu-id="715b7-125">WriteBufferMemoryPoolMaximumInKB</span><span class="sxs-lookup"><span data-stu-id="715b7-125">WriteBufferMemoryPoolMaximumInKB</span></span> |<span data-ttu-id="715b7-126">Kilobajtów</span><span class="sxs-lookup"><span data-stu-id="715b7-126">Kilobytes</span></span> |<span data-ttu-id="715b7-127">Bez ograniczeń</span><span class="sxs-lookup"><span data-stu-id="715b7-127">No Limit</span></span> |<span data-ttu-id="715b7-128">Maksymalny rozmiar, do którego rejestratora zapisu puli bufora pamięci można powiększać.</span><span class="sxs-lookup"><span data-stu-id="715b7-128">Maximum size to which the logger write buffer memory pool can grow.</span></span> |
| <span data-ttu-id="715b7-129">SharedLogId</span><span class="sxs-lookup"><span data-stu-id="715b7-129">SharedLogId</span></span> |<span data-ttu-id="715b7-130">IDENTYFIKATOR GUID</span><span class="sxs-lookup"><span data-stu-id="715b7-130">GUID</span></span> |<span data-ttu-id="715b7-131">""</span><span class="sxs-lookup"><span data-stu-id="715b7-131">""</span></span> |<span data-ttu-id="715b7-132">Określa unikatowy identyfikator GUID służących do identyfikowania domyślne udostępniony plik dziennika używanych przez wszystkie usługi niezawodnego we wszystkich węzłach w klastrze, które nie określają SharedLogId ich określonej konfiguracji usługi.</span><span class="sxs-lookup"><span data-stu-id="715b7-132">Specifies a unique GUID to use for identifying the default shared log file used by all reliable services on all nodes in the cluster that do not specify the SharedLogId in their service specific configuration.</span></span> <span data-ttu-id="715b7-133">Jeśli określono SharedLogId, to SharedLogPath należy również określić.</span><span class="sxs-lookup"><span data-stu-id="715b7-133">If SharedLogId is specified, then SharedLogPath must also be specified.</span></span> |
| <span data-ttu-id="715b7-134">SharedLogPath</span><span class="sxs-lookup"><span data-stu-id="715b7-134">SharedLogPath</span></span> |<span data-ttu-id="715b7-135">W pełni kwalifikowana nazwa</span><span class="sxs-lookup"><span data-stu-id="715b7-135">Fully qualified path name</span></span> |<span data-ttu-id="715b7-136">""</span><span class="sxs-lookup"><span data-stu-id="715b7-136">""</span></span> |<span data-ttu-id="715b7-137">Określa pełną ścieżkę, w którym plik dziennika udostępniony używany przez wszystkie niezawodnej usługi na wszystkich węzłach w klastrze, które nie określają SharedLogPath ich określonej konfiguracji usługi.</span><span class="sxs-lookup"><span data-stu-id="715b7-137">Specifies the fully qualified path where the shared log file used by all reliable services on all nodes in the cluster that do not specify the SharedLogPath in their service specific configuration.</span></span> <span data-ttu-id="715b7-138">Jednak jeśli SharedLogPath jest określona, to SharedLogId należy również określić.</span><span class="sxs-lookup"><span data-stu-id="715b7-138">However, if SharedLogPath is specified, then SharedLogId must also be specified.</span></span> |
| <span data-ttu-id="715b7-139">SharedLogSizeInMB</span><span class="sxs-lookup"><span data-stu-id="715b7-139">SharedLogSizeInMB</span></span> |<span data-ttu-id="715b7-140">Megabajtów</span><span class="sxs-lookup"><span data-stu-id="715b7-140">Megabytes</span></span> |<span data-ttu-id="715b7-141">8192</span><span class="sxs-lookup"><span data-stu-id="715b7-141">8192</span></span> |<span data-ttu-id="715b7-142">Określa liczbę MB miejsca na dysku przydzielić statycznie dla dziennika udostępniony.</span><span class="sxs-lookup"><span data-stu-id="715b7-142">Specifies the number of MB of disk space to statically allocate for the shared log.</span></span> <span data-ttu-id="715b7-143">Wartość musi być 2048 lub większy.</span><span class="sxs-lookup"><span data-stu-id="715b7-143">The value must be 2048 or larger.</span></span> |

### <a name="sample-cluster-manifest-section"></a><span data-ttu-id="715b7-144">Sekcja manifestu klastra próbki</span><span class="sxs-lookup"><span data-stu-id="715b7-144">Sample cluster manifest section</span></span>
```xml
   <Section Name="KtlLogger">
     <Parameter Name="WriteBufferMemoryPoolMinimumInKB" Value="8192" />
     <Parameter Name="WriteBufferMemoryPoolMaximumInKB" Value="8192" />
     <Parameter Name="SharedLogId" Value="{7668BB54-FE9C-48ed-81AC-FF89E60ED2EF}"/>
     <Parameter Name="SharedLogPath" Value="f:\SharedLog.Log"/>
     <Parameter Name="SharedLogSizeInMB" Value="16383"/>
   </Section>
```

### <a name="remarks"></a><span data-ttu-id="715b7-145">Uwagi</span><span class="sxs-lookup"><span data-stu-id="715b7-145">Remarks</span></span>
<span data-ttu-id="715b7-146">Rejestrator ma globalnej puli pamięci przydzielonej z pamięci niestronicowana jądra, która jest dostępna dla wszystkich usług niezawodnej w węźle do buforowania danych o stanie przed są zapisywane w dzienniku dedykowanych skojarzone z repliki niezawodnej usługi.</span><span class="sxs-lookup"><span data-stu-id="715b7-146">The logger has a global pool of memory allocated from non paged kernel memory that is available to all reliable services on a node for caching state data before being written to the dedicated log associated with the reliable service replica.</span></span> <span data-ttu-id="715b7-147">Rozmiar puli jest kontrolowana przez ustawienia WriteBufferMemoryPoolMinimumInKB i WriteBufferMemoryPoolMaximumInKB.</span><span class="sxs-lookup"><span data-stu-id="715b7-147">The pool size is controlled by the WriteBufferMemoryPoolMinimumInKB and WriteBufferMemoryPoolMaximumInKB settings.</span></span> <span data-ttu-id="715b7-148">WriteBufferMemoryPoolMinimumInKB Określa początkowy rozmiar tej puli pamięci i rozmiar najniższy, do której może zmniejszyć rozmiar puli pamięci.</span><span class="sxs-lookup"><span data-stu-id="715b7-148">WriteBufferMemoryPoolMinimumInKB specifies both the initial size of this memory pool and the lowest size to which the memory pool may shrink.</span></span> <span data-ttu-id="715b7-149">WriteBufferMemoryPoolMaximumInKB jest najwyższym rozmiar, do której może zwiększyć się pula pamięci.</span><span class="sxs-lookup"><span data-stu-id="715b7-149">WriteBufferMemoryPoolMaximumInKB is the highest size to which the memory pool may grow.</span></span> <span data-ttu-id="715b7-150">Każda replika niezawodnej usługi, która jest otwarta może zwiększyć rozmiar puli pamięci o kwotę systemu ustalić maksymalnie WriteBufferMemoryPoolMaximumInKB.</span><span class="sxs-lookup"><span data-stu-id="715b7-150">Each reliable service replica that is opened may increase the size of the memory pool by a system determined amount up to WriteBufferMemoryPoolMaximumInKB.</span></span> <span data-ttu-id="715b7-151">W przypadku żądanie więcej pamięci w puli pamięci niż jest dostępne, żądania dotyczące pamięci zostanie opóźnione aż do pamięci.</span><span class="sxs-lookup"><span data-stu-id="715b7-151">If there is more demand for memory from the memory pool than is available, requests for memory will be delayed until memory is available.</span></span> <span data-ttu-id="715b7-152">W związku z tym jeśli puli pamięci buforu zapisu jest zbyt mały dla konkretnej konfiguracji następnie to spowodować obniżenie wydajności.</span><span class="sxs-lookup"><span data-stu-id="715b7-152">Therefore if the write buffer memory pool is too small for a particular configuration then performance may suffer.</span></span>

<span data-ttu-id="715b7-153">Ustawienia SharedLogId i SharedLogPath zawsze są używane razem do definiowania identyfikator GUID i lokalizacja dziennika udostępniony domyślnego dla wszystkich węzłów w klastrze.</span><span class="sxs-lookup"><span data-stu-id="715b7-153">The SharedLogId and SharedLogPath settings are always used together to define the GUID and location for the default shared log for all nodes in the cluster.</span></span> <span data-ttu-id="715b7-154">Dziennika udostępniony domyślny jest używany dla wszystkich usług niezawodne, które nie określają ustawienia w pliku settings.xml dla określonej usługi.</span><span class="sxs-lookup"><span data-stu-id="715b7-154">The default shared log is used for all reliable services that do not specify the settings in the settings.xml for the specific service.</span></span> <span data-ttu-id="715b7-155">Aby uzyskać najlepszą wydajność udostępnione pliki dziennika należy umieścić na dyskach, które są używane wyłącznie do pliku dziennika udostępniony do zmniejszenia rywalizacji.</span><span class="sxs-lookup"><span data-stu-id="715b7-155">For best performance, shared log files should be placed on disks that are used solely for the shared log file to reduce contention.</span></span>

<span data-ttu-id="715b7-156">SharedLogSizeInMB określa ilość miejsca na dysku do przydzielenia dla dziennika udostępniony domyślne we wszystkich węzłach.</span><span class="sxs-lookup"><span data-stu-id="715b7-156">SharedLogSizeInMB specifies the amount of disk space to preallocate for the default shared log on all nodes.</span></span>  <span data-ttu-id="715b7-157">SharedLogId i SharedLogPath nie trzeba określać aby SharedLogSizeInMB należy określić.</span><span class="sxs-lookup"><span data-stu-id="715b7-157">SharedLogId and SharedLogPath do not need to be specified in order for SharedLogSizeInMB to be specified.</span></span>

## <a name="replicator-security-configuration"></a><span data-ttu-id="715b7-158">Konfiguracja zabezpieczeń replikatora</span><span class="sxs-lookup"><span data-stu-id="715b7-158">Replicator security configuration</span></span>
<span data-ttu-id="715b7-159">Replikator konfiguracji zabezpieczeń służą do zabezpieczania kanał komunikacyjny używany podczas replikacji.</span><span class="sxs-lookup"><span data-stu-id="715b7-159">Replicator security configurations are used to secure the communication channel that is used during replication.</span></span> <span data-ttu-id="715b7-160">Oznacza to, czy usługi nie widzi siebie nawzajem ruch związany z replikacją, zapewnienie, że dane, które jest zyskuje dużą dostępność również jest bezpieczne.</span><span class="sxs-lookup"><span data-stu-id="715b7-160">This means that services cannot see each other's replication traffic, ensuring the data that is made highly available is also secure.</span></span>
<span data-ttu-id="715b7-161">Domyślnie puste zabezpieczeń sekcji konfiguracji uniemożliwia zabezpieczeń replikacji.</span><span class="sxs-lookup"><span data-stu-id="715b7-161">By default, an empty security configuration section prevents replication security.</span></span>

### <a name="section-name"></a><span data-ttu-id="715b7-162">Nazwa sekcji</span><span class="sxs-lookup"><span data-stu-id="715b7-162">Section name</span></span>
<span data-ttu-id="715b7-163">&lt;ActorName&gt;ServiceReplicatorSecurityConfig</span><span class="sxs-lookup"><span data-stu-id="715b7-163">&lt;ActorName&gt;ServiceReplicatorSecurityConfig</span></span>

## <a name="replicator-configuration"></a><span data-ttu-id="715b7-164">Konfiguracja replikatora</span><span class="sxs-lookup"><span data-stu-id="715b7-164">Replicator configuration</span></span>
<span data-ttu-id="715b7-165">Konfiguracje replikatora służą do skonfigurowania replikatora odpowiedzialną za tworzenie stanu dostawcy stanu aktora wysoce niezawodne replikacji i przechowywanie stanu lokalnie.</span><span class="sxs-lookup"><span data-stu-id="715b7-165">Replicator configurations are used to configure the replicator that is responsible for making the Actor State Provider state highly reliable by replicating and persisting the state locally.</span></span>
<span data-ttu-id="715b7-166">Domyślna konfiguracja jest generowany przez szablon programu Visual Studio i powinny wystarczyć.</span><span class="sxs-lookup"><span data-stu-id="715b7-166">The default configuration is generated by the Visual Studio template and should suffice.</span></span> <span data-ttu-id="715b7-167">Ta sekcja zawiera informacje o dodatkowych konfiguracjach, które są dostępne dostroić replikatora.</span><span class="sxs-lookup"><span data-stu-id="715b7-167">This section talks about additional configurations that are available to tune the replicator.</span></span>

### <a name="section-name"></a><span data-ttu-id="715b7-168">Nazwa sekcji</span><span class="sxs-lookup"><span data-stu-id="715b7-168">Section name</span></span>
<span data-ttu-id="715b7-169">&lt;ActorName&gt;ServiceReplicatorConfig</span><span class="sxs-lookup"><span data-stu-id="715b7-169">&lt;ActorName&gt;ServiceReplicatorConfig</span></span>

### <a name="configuration-names"></a><span data-ttu-id="715b7-170">Nazwy konfiguracji</span><span class="sxs-lookup"><span data-stu-id="715b7-170">Configuration names</span></span>
| <span data-ttu-id="715b7-171">Nazwa</span><span class="sxs-lookup"><span data-stu-id="715b7-171">Name</span></span> | <span data-ttu-id="715b7-172">Jednostka</span><span class="sxs-lookup"><span data-stu-id="715b7-172">Unit</span></span> | <span data-ttu-id="715b7-173">Wartość domyślna</span><span class="sxs-lookup"><span data-stu-id="715b7-173">Default value</span></span> | <span data-ttu-id="715b7-174">Uwagi</span><span class="sxs-lookup"><span data-stu-id="715b7-174">Remarks</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="715b7-175">BatchAcknowledgementInterval</span><span class="sxs-lookup"><span data-stu-id="715b7-175">BatchAcknowledgementInterval</span></span> |<span data-ttu-id="715b7-176">Sekundy</span><span class="sxs-lookup"><span data-stu-id="715b7-176">Seconds</span></span> |<span data-ttu-id="715b7-177">0.015</span><span class="sxs-lookup"><span data-stu-id="715b7-177">0.015</span></span> |<span data-ttu-id="715b7-178">Okres, dla którego replikatora na dodatkowej czeka po otrzymaniu operacji przed wysłaniem z powrotem do podstawowej potwierdzenia.</span><span class="sxs-lookup"><span data-stu-id="715b7-178">Time period for which the replicator at the secondary waits after receiving an operation before sending back an acknowledgement to the primary.</span></span> <span data-ttu-id="715b7-179">Inne potwierdzeń na wysłanie operacji przetwarzane w ramach tego interwału są wysyłane jako jedna odpowiedź.</span><span class="sxs-lookup"><span data-stu-id="715b7-179">Any other acknowledgements to be sent for operations processed within this interval are sent as one response.</span></span> |
| <span data-ttu-id="715b7-180">ReplicatorEndpoint</span><span class="sxs-lookup"><span data-stu-id="715b7-180">ReplicatorEndpoint</span></span> |<span data-ttu-id="715b7-181">Nie dotyczy</span><span class="sxs-lookup"><span data-stu-id="715b7-181">N/A</span></span> |<span data-ttu-id="715b7-182">Brak wartości domyślnej — wymagany parametr</span><span class="sxs-lookup"><span data-stu-id="715b7-182">No default--required parameter</span></span> |<span data-ttu-id="715b7-183">Ustaw adres IP i port, który replikatora podstawowe i pomocnicze będzie używany do komunikowania się z innymi replikatorów w replice.</span><span class="sxs-lookup"><span data-stu-id="715b7-183">IP address and port that the primary/secondary replicator will use to communicate with other replicators in the replica set.</span></span> <span data-ttu-id="715b7-184">To powinien odwoływać się do zasobu punkt końcowy protokołu TCP w manifeście usługi.</span><span class="sxs-lookup"><span data-stu-id="715b7-184">This should reference a TCP resource endpoint in the service manifest.</span></span> <span data-ttu-id="715b7-185">Zapoznaj się [zasoby manifestu usługi](service-fabric-service-manifest-resources.md) Aby dowiedzieć się więcej o Definiowanie zasobów punktu końcowego manifestu usługi.</span><span class="sxs-lookup"><span data-stu-id="715b7-185">Refer to [Service manifest resources](service-fabric-service-manifest-resources.md) to read more about defining endpoint resources in service manifest.</span></span> |
| <span data-ttu-id="715b7-186">MaxReplicationMessageSize</span><span class="sxs-lookup"><span data-stu-id="715b7-186">MaxReplicationMessageSize</span></span> |<span data-ttu-id="715b7-187">Bajty</span><span class="sxs-lookup"><span data-stu-id="715b7-187">Bytes</span></span> |<span data-ttu-id="715b7-188">50 MB</span><span class="sxs-lookup"><span data-stu-id="715b7-188">50 MB</span></span> |<span data-ttu-id="715b7-189">Maksymalny rozmiar danych replikacji, które mogą być przenoszone w pojedynczym komunikacie.</span><span class="sxs-lookup"><span data-stu-id="715b7-189">Maximum size of replication data that can be transmitted in a single message.</span></span> |
| <span data-ttu-id="715b7-190">MaxPrimaryReplicationQueueSize</span><span class="sxs-lookup"><span data-stu-id="715b7-190">MaxPrimaryReplicationQueueSize</span></span> |<span data-ttu-id="715b7-191">Liczba operacji</span><span class="sxs-lookup"><span data-stu-id="715b7-191">Number of operations</span></span> |<span data-ttu-id="715b7-192">8192</span><span class="sxs-lookup"><span data-stu-id="715b7-192">8192</span></span> |<span data-ttu-id="715b7-193">Maksymalna liczba operacji w kolejce podstawowego.</span><span class="sxs-lookup"><span data-stu-id="715b7-193">Maximum number of operations in the primary queue.</span></span> <span data-ttu-id="715b7-194">Operacja są zwalniane, gdy Replikator podstawowy otrzyma potwierdzenia od wszystkich dodatkowej replikatorów.</span><span class="sxs-lookup"><span data-stu-id="715b7-194">An operation is freed up after the primary replicator receives an acknowledgement from all the secondary replicators.</span></span> <span data-ttu-id="715b7-195">Ta wartość musi być większa niż 64 i potęgą liczby 2.</span><span class="sxs-lookup"><span data-stu-id="715b7-195">This value must be greater than 64 and a power of 2.</span></span> |
| <span data-ttu-id="715b7-196">MaxSecondaryReplicationQueueSize</span><span class="sxs-lookup"><span data-stu-id="715b7-196">MaxSecondaryReplicationQueueSize</span></span> |<span data-ttu-id="715b7-197">Liczba operacji</span><span class="sxs-lookup"><span data-stu-id="715b7-197">Number of operations</span></span> |<span data-ttu-id="715b7-198">16384</span><span class="sxs-lookup"><span data-stu-id="715b7-198">16384</span></span> |<span data-ttu-id="715b7-199">Maksymalna liczba operacji w kolejce dodatkowej.</span><span class="sxs-lookup"><span data-stu-id="715b7-199">Maximum number of operations in the secondary queue.</span></span> <span data-ttu-id="715b7-200">Operacja są zwalniane po dokonaniu jej stan wysokiej dostępności za pośrednictwem trwałości.</span><span class="sxs-lookup"><span data-stu-id="715b7-200">An operation is freed up after making its state highly available through persistence.</span></span> <span data-ttu-id="715b7-201">Ta wartość musi być większa niż 64 i potęgą liczby 2.</span><span class="sxs-lookup"><span data-stu-id="715b7-201">This value must be greater than 64 and a power of 2.</span></span> |
| <span data-ttu-id="715b7-202">CheckpointThresholdInMB</span><span class="sxs-lookup"><span data-stu-id="715b7-202">CheckpointThresholdInMB</span></span> |<span data-ttu-id="715b7-203">MB</span><span class="sxs-lookup"><span data-stu-id="715b7-203">MB</span></span> |<span data-ttu-id="715b7-204">200</span><span class="sxs-lookup"><span data-stu-id="715b7-204">200</span></span> |<span data-ttu-id="715b7-205">Ilość miejsca pliku dziennika, po upływie którego stan jest w użyciu.</span><span class="sxs-lookup"><span data-stu-id="715b7-205">Amount of log file space after which the state is checkpointed.</span></span> |
| <span data-ttu-id="715b7-206">MaxRecordSizeInKB</span><span class="sxs-lookup"><span data-stu-id="715b7-206">MaxRecordSizeInKB</span></span> |<span data-ttu-id="715b7-207">KB</span><span class="sxs-lookup"><span data-stu-id="715b7-207">KB</span></span> |<span data-ttu-id="715b7-208">1024</span><span class="sxs-lookup"><span data-stu-id="715b7-208">1024</span></span> |<span data-ttu-id="715b7-209">Największy rozmiar rekordu, który replikatora może zapisywać w dzienniku.</span><span class="sxs-lookup"><span data-stu-id="715b7-209">Largest record size that the replicator may write in the log.</span></span> <span data-ttu-id="715b7-210">Ta wartość musi być wielokrotnością liczby 4 i większa niż 16.</span><span class="sxs-lookup"><span data-stu-id="715b7-210">This value must be a multiple of 4 and greater than 16.</span></span> |
| <span data-ttu-id="715b7-211">OptimizeLogForLowerDiskUsage</span><span class="sxs-lookup"><span data-stu-id="715b7-211">OptimizeLogForLowerDiskUsage</span></span> |<span data-ttu-id="715b7-212">Wartość logiczna</span><span class="sxs-lookup"><span data-stu-id="715b7-212">Boolean</span></span> |<span data-ttu-id="715b7-213">Wartość true</span><span class="sxs-lookup"><span data-stu-id="715b7-213">true</span></span> |<span data-ttu-id="715b7-214">W przypadku wartości true dziennika jest skonfigurowana tak, aby w pliku dziennika dedykowanego repliki jest tworzona przy użyciu pliku rozrzedzonego systemu plików NTFS.</span><span class="sxs-lookup"><span data-stu-id="715b7-214">When true, the log is configured so that the replica's dedicated log file is created by using an NTFS sparse file.</span></span> <span data-ttu-id="715b7-215">Zmniejsza to wykorzystanie miejsca rzeczywistego dysku dla pliku.</span><span class="sxs-lookup"><span data-stu-id="715b7-215">This lowers the actual disk space usage for the file.</span></span> <span data-ttu-id="715b7-216">Gdy ma wartość false, plik jest tworzony o stałej alokacji, które zapewniają najlepszą wydajność zapisu.</span><span class="sxs-lookup"><span data-stu-id="715b7-216">When false, the file is created with fixed allocations, which provide the best write performance.</span></span> |
| <span data-ttu-id="715b7-217">SharedLogId</span><span class="sxs-lookup"><span data-stu-id="715b7-217">SharedLogId</span></span> |<span data-ttu-id="715b7-218">Identyfikator GUID</span><span class="sxs-lookup"><span data-stu-id="715b7-218">guid</span></span> |<span data-ttu-id="715b7-219">""</span><span class="sxs-lookup"><span data-stu-id="715b7-219">""</span></span> |<span data-ttu-id="715b7-220">Określa unikatowy identyfikator guid służących do identyfikowania pliku dziennika udostępniony używany z tej repliki.</span><span class="sxs-lookup"><span data-stu-id="715b7-220">Specifies a unique guid to use for identifying the shared log file used with this replica.</span></span> <span data-ttu-id="715b7-221">Zazwyczaj usług nie należy używać tego ustawienia.</span><span class="sxs-lookup"><span data-stu-id="715b7-221">Typically, services should not use this setting.</span></span> <span data-ttu-id="715b7-222">Jednak jeśli SharedLogId jest określona, to SharedLogPath należy również określić.</span><span class="sxs-lookup"><span data-stu-id="715b7-222">However, if SharedLogId is specified, then SharedLogPath must also be specified.</span></span> |
| <span data-ttu-id="715b7-223">SharedLogPath</span><span class="sxs-lookup"><span data-stu-id="715b7-223">SharedLogPath</span></span> |<span data-ttu-id="715b7-224">W pełni kwalifikowana nazwa</span><span class="sxs-lookup"><span data-stu-id="715b7-224">Fully qualified path name</span></span> |<span data-ttu-id="715b7-225">""</span><span class="sxs-lookup"><span data-stu-id="715b7-225">""</span></span> |<span data-ttu-id="715b7-226">Określa pełną ścieżkę, w którym zostanie utworzony plik dziennika udostępniony dla tej repliki.</span><span class="sxs-lookup"><span data-stu-id="715b7-226">Specifies the fully qualified path where the shared log file for this replica will be created.</span></span> <span data-ttu-id="715b7-227">Zazwyczaj usług nie należy używać tego ustawienia.</span><span class="sxs-lookup"><span data-stu-id="715b7-227">Typically, services should not use this setting.</span></span> <span data-ttu-id="715b7-228">Jednak jeśli SharedLogPath jest określona, to SharedLogId należy również określić.</span><span class="sxs-lookup"><span data-stu-id="715b7-228">However, if SharedLogPath is specified, then SharedLogId must also be specified.</span></span> |

## <a name="sample-configuration-file"></a><span data-ttu-id="715b7-229">Przykładowy plik konfiguracyjny</span><span class="sxs-lookup"><span data-stu-id="715b7-229">Sample configuration file</span></span>
```xml
<?xml version="1.0" encoding="utf-8"?>
<Settings xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://schemas.microsoft.com/2011/01/fabric">
   <Section Name="MyActorServiceReplicatorConfig">
      <Parameter Name="ReplicatorEndpoint" Value="MyActorServiceReplicatorEndpoint" />
      <Parameter Name="BatchAcknowledgementInterval" Value="0.05"/>
      <Parameter Name="CheckpointThresholdInMB" Value="180" />
   </Section>
   <Section Name="MyActorServiceReplicatorSecurityConfig">
      <Parameter Name="CredentialType" Value="X509" />
      <Parameter Name="FindType" Value="FindByThumbprint" />
      <Parameter Name="FindValue" Value="9d c9 06 b1 69 dc 4f af fd 16 97 ac 78 1e 80 67 90 74 9d 2f" />
      <Parameter Name="StoreLocation" Value="LocalMachine" />
      <Parameter Name="StoreName" Value="My" />
      <Parameter Name="ProtectionLevel" Value="EncryptAndSign" />
      <Parameter Name="AllowedCommonNames" Value="My-Test-SAN1-Alice,My-Test-SAN1-Bob" />
   </Section>
</Settings>
```

## <a name="remarks"></a><span data-ttu-id="715b7-230">Uwagi</span><span class="sxs-lookup"><span data-stu-id="715b7-230">Remarks</span></span>
<span data-ttu-id="715b7-231">Parametr BatchAcknowledgementInterval Określa opóźnienie replikacji.</span><span class="sxs-lookup"><span data-stu-id="715b7-231">The BatchAcknowledgementInterval parameter controls replication latency.</span></span> <span data-ttu-id="715b7-232">Wartość "0" powoduje najniższym opóźnieniu możliwe, kosztem przepływności (jak więcej komunikatów potwierdzenia musi być wysyłane i przetwarzane, zawierający mniejszą liczbę potwierdzeń).</span><span class="sxs-lookup"><span data-stu-id="715b7-232">A value of '0' results in the lowest possible latency, at the cost of throughput (as more acknowledgement messages must be sent and processed, each containing fewer acknowledgements).</span></span>
<span data-ttu-id="715b7-233">Im większa wartość BatchAcknowledgementInterval, tym wyższy ogólną przepustowość replikacji, kosztem większego opóźnienia operacji.</span><span class="sxs-lookup"><span data-stu-id="715b7-233">The larger the value for BatchAcknowledgementInterval, the higher the overall replication throughput, at the cost of higher operation latency.</span></span> <span data-ttu-id="715b7-234">Bezpośrednio przekłada się to opóźnienie zatwierdzeń transakcji.</span><span class="sxs-lookup"><span data-stu-id="715b7-234">This directly translates to the latency of transaction commits.</span></span>

<span data-ttu-id="715b7-235">Parametr CheckpointThresholdInMB określa ilość miejsca na dysku używanego przez replikatora do przechowywania informacji o stanie w pliku dziennika dedykowanego repliki.</span><span class="sxs-lookup"><span data-stu-id="715b7-235">The CheckpointThresholdInMB parameter controls the amount of disk space that the replicator can use to store state information in the replica's dedicated log file.</span></span> <span data-ttu-id="715b7-236">Zwiększanie tego do wartości większej niż domyślny może spowodować szybsze ponownej konfiguracji po dodaniu nowej repliki do zestawu.</span><span class="sxs-lookup"><span data-stu-id="715b7-236">Increasing this to a higher value than the default could result in faster reconfiguration times when a new replica is added to the set.</span></span> <span data-ttu-id="715b7-237">Jest to spowodowane transferu stanu częściowego, który odbywa się z powodu dostępności historii więcej operacji w dzienniku.</span><span class="sxs-lookup"><span data-stu-id="715b7-237">This is due to the partial state transfer that takes place due to the availability of more history of operations in the log.</span></span> <span data-ttu-id="715b7-238">To potencjalnie spowodować wydłużenie czasu odzyskiwania repliki, po awarii.</span><span class="sxs-lookup"><span data-stu-id="715b7-238">This can potentially increase the recovery time of a replica after a crash.</span></span>

<span data-ttu-id="715b7-239">Jeśli OptimizeForLowerDiskUsage jest ustawiona na wartość true, miejsce w pliku dziennika będą nadmiernie elastycznie tak, aby aktywnej repliki można przechowywać więcej informacji o stanie w swoich plików dziennika, gdy nieaktywnych replik użyje mniej miejsca na dysku.</span><span class="sxs-lookup"><span data-stu-id="715b7-239">If you set OptimizeForLowerDiskUsage to true, log file space will be over-provisioned so that active replicas can store more state information in their log files, while inactive replicas will use less disk space.</span></span> <span data-ttu-id="715b7-240">Pozwala na hosta replik więcej w węźle.</span><span class="sxs-lookup"><span data-stu-id="715b7-240">This makes it possible to host more replicas on a node.</span></span> <span data-ttu-id="715b7-241">Jeśli OptimizeForLowerDiskUsage jest ustawiona na wartość false, informacje o stanie są zapisywane w plikach dziennika szybciej.</span><span class="sxs-lookup"><span data-stu-id="715b7-241">If you set OptimizeForLowerDiskUsage to false, the state information is written to the log files more quickly.</span></span>

<span data-ttu-id="715b7-242">Ustawienie MaxRecordSizeInKB określa maksymalny rozmiar rekordu, które mogą być zapisywane w pliku dziennika przez replikatora.</span><span class="sxs-lookup"><span data-stu-id="715b7-242">The MaxRecordSizeInKB setting defines the maximum size of a record that can be written by the replicator into the log file.</span></span> <span data-ttu-id="715b7-243">W większości przypadków domyślny rozmiar rekordu 1024 KB jest optymalna.</span><span class="sxs-lookup"><span data-stu-id="715b7-243">In most cases, the default 1024-KB record size is optimal.</span></span> <span data-ttu-id="715b7-244">Jednak jeśli usługa powoduje większe elementy danych jako część informacji o stanie, ta wartość może być konieczne zwiększenia.</span><span class="sxs-lookup"><span data-stu-id="715b7-244">However, if the service is causing larger data items to be part of the state information, then this value might need to be increased.</span></span> <span data-ttu-id="715b7-245">Brak małego korzyści w podejmowaniu MaxRecordSizeInKB mniejszych niż 1024, jak mniejsze rekordów tylko przestrzeń na mniejsze rekordu.</span><span class="sxs-lookup"><span data-stu-id="715b7-245">There is little benefit in making MaxRecordSizeInKB smaller than 1024, as smaller records use only the space needed for the smaller record.</span></span> <span data-ttu-id="715b7-246">Oczekuje się, że ta wartość musi można zmienić tylko w rzadkich przypadkach.</span><span class="sxs-lookup"><span data-stu-id="715b7-246">We expect that this value would need to be changed only in rare cases.</span></span>

<span data-ttu-id="715b7-247">Ustawienia SharedLogId i SharedLogPath zawsze są używane razem aby używać oddzielnego dziennika udostępniony z domyślnego dziennika udostępniony dla węzła usługi.</span><span class="sxs-lookup"><span data-stu-id="715b7-247">The SharedLogId and SharedLogPath settings are always used together to make a service use a separate shared log from the default shared log for the node.</span></span> <span data-ttu-id="715b7-248">Dla zapewnienia optymalnej wydajności dowolną liczbę usług, jak to możliwe, należy określić tego samego udostępnionego dziennika.</span><span class="sxs-lookup"><span data-stu-id="715b7-248">For best efficiency, as many services as possible should specify the same shared log.</span></span> <span data-ttu-id="715b7-249">Udostępnione pliki dziennika powinna zostać umieszczona na dyskach, które są używane wyłącznie do pliku dziennika udostępniony do zmniejszenia rywalizacji przepływu head.</span><span class="sxs-lookup"><span data-stu-id="715b7-249">Shared log files should be placed on disks that are used solely for the shared log file, to reduce head movement contention.</span></span> <span data-ttu-id="715b7-250">Oczekuje się, że te wartości muszą można zmienić tylko w rzadkich przypadkach.</span><span class="sxs-lookup"><span data-stu-id="715b7-250">We expect that these values would need to be changed only in rare cases.</span></span>

