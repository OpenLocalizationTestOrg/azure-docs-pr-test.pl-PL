---
title: "Planowanie pojemności klastra usługi sieć szkieletowa | Dokumentacja firmy Microsoft"
description: "Zagadnienia związane z planowaniem pojemności klastra sieci szkieletowej usług. Warstwy elementów NodeType, trwałości i niezawodności"
services: service-fabric
documentationcenter: .net
author: ChackDan
manager: timlt
editor: 
ms.assetid: 4c584f4a-cb1f-400c-b61f-1f797f11c982
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 07/24/2017
ms.author: chackdan
ms.openlocfilehash: 36b96360fabdcc64ffd2356540c580594637d48e
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 08/29/2017
---
# <a name="service-fabric-cluster-capacity-planning-considerations"></a><span data-ttu-id="fb118-104">Zagadnienia związane z planowaniem pojemności klastra sieci szkieletowej usług</span><span class="sxs-lookup"><span data-stu-id="fb118-104">Service Fabric cluster capacity planning considerations</span></span>
<span data-ttu-id="fb118-105">Wszystkie wdrożenia produkcyjnego planowania pojemności jest ważnym krokiem.</span><span class="sxs-lookup"><span data-stu-id="fb118-105">For any production deployment, capacity planning is an important step.</span></span> <span data-ttu-id="fb118-106">Poniżej przedstawiono niektóre elementy, które należy wziąć pod uwagę w ramach tego procesu.</span><span class="sxs-lookup"><span data-stu-id="fb118-106">Here are some of the items that you have to consider as a part of that process.</span></span>

* <span data-ttu-id="fb118-107">Liczba typów węzeł klastra musi zaczynać</span><span class="sxs-lookup"><span data-stu-id="fb118-107">The number of node types your cluster needs to start out with</span></span>
* <span data-ttu-id="fb118-108">Właściwości każdego typu węzła (rozmiar, podstawową, internetowy, liczba maszyn wirtualnych itd.)</span><span class="sxs-lookup"><span data-stu-id="fb118-108">The properties of each of node type (size, primary, internet facing, number of VMs, etc.)</span></span>
* <span data-ttu-id="fb118-109">Niezawodność i trwałość właściwości klastra</span><span class="sxs-lookup"><span data-stu-id="fb118-109">The reliability and durability characteristics of the cluster</span></span>

<span data-ttu-id="fb118-110">Daj nam krótko Sprawdź każdy z tych elementów.</span><span class="sxs-lookup"><span data-stu-id="fb118-110">Let us briefly review each of these items.</span></span>

## <a name="the-number-of-node-types-your-cluster-needs-to-start-out-with"></a><span data-ttu-id="fb118-111">Liczba typów węzeł klastra musi zaczynać</span><span class="sxs-lookup"><span data-stu-id="fb118-111">The number of node types your cluster needs to start out with</span></span>
<span data-ttu-id="fb118-112">Najpierw należy ustalić klastra, które tworzysz przechodzi do zastosowania w przypadku i jakiego rodzaju aplikacje planowane jest wdrożenie w tym klastrze.</span><span class="sxs-lookup"><span data-stu-id="fb118-112">First, you need to figure out what the cluster you are creating is going to be used for and what kinds of applications you are planning to deploy into this cluster.</span></span> <span data-ttu-id="fb118-113">Jeśli nie jest jasne celowo klastra, możesz najprawdopodobniej nie została jeszcze gotowy do wprowadź wydajność procesu planowania.</span><span class="sxs-lookup"><span data-stu-id="fb118-113">If you are not clear on the purpose of the cluster, you are most likely not yet ready to enter the capacity planning process.</span></span>

<span data-ttu-id="fb118-114">Ustal liczbę typy węzeł klastra musi zaczynać.</span><span class="sxs-lookup"><span data-stu-id="fb118-114">Establish the number of node types your cluster needs to start out with.</span></span>  <span data-ttu-id="fb118-115">Każdy typ węzła jest zamapowane do zestawu skalowania maszyn wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="fb118-115">Each node type is mapped to a Virtual Machine Scale Set.</span></span> <span data-ttu-id="fb118-116">Każdy typ węzła następnie można skalować w lub w dół niezależnie, mają różne zestawy otwartych portów i może mieć metryki pojemności różnych.</span><span class="sxs-lookup"><span data-stu-id="fb118-116">Each node type can then be scaled up or down independently, have different sets of ports open, and can have different capacity metrics.</span></span> <span data-ttu-id="fb118-117">Tak decyzji liczba typów węzła zasadniczo zawiera przedstawione poniżej zagadnienia:</span><span class="sxs-lookup"><span data-stu-id="fb118-117">So the decision of the number of node types essentially comes down to the following considerations:</span></span>

* <span data-ttu-id="fb118-118">Aplikacja ma wiele usług i ich wymaga jednak publicznego lub Internetem?</span><span class="sxs-lookup"><span data-stu-id="fb118-118">Does your application have multiple services, and do any of them need to be public or internet facing?</span></span> <span data-ttu-id="fb118-119">Typowe aplikacje zawierają usługi frontonu bramy, który odbiera dane wejściowe z klienta i co najmniej jeden zaplecza usług, które komunikują się z usługi frontonu.</span><span class="sxs-lookup"><span data-stu-id="fb118-119">Typical applications contain a front-end gateway service that receives input from a client, and one or more back-end services that communicate with the front-end services.</span></span> <span data-ttu-id="fb118-120">Dlatego w tym przypadku na końcu mających co najmniej dwa typy węzłów.</span><span class="sxs-lookup"><span data-stu-id="fb118-120">So in this case, you end up having at least two node types.</span></span>
* <span data-ttu-id="fb118-121">Usługi (wchodzące w skład aplikacji), czy mają potrzeb różnych infrastruktury, takich większa ilość pamięci RAM lub wyższej cykli Procesora?</span><span class="sxs-lookup"><span data-stu-id="fb118-121">Do your services (that make up your application) have different infrastructure needs such as greater RAM or higher CPU cycles?</span></span> <span data-ttu-id="fb118-122">Na przykład Poinformuj nas założono, że aplikacja, która ma zostać wdrożona zawiera usługi frontonu i zaplecza.</span><span class="sxs-lookup"><span data-stu-id="fb118-122">For example, let us assume that the application that you want to deploy contains a front-end service and a back-end service.</span></span> <span data-ttu-id="fb118-123">Usługi frontonu może działać na mniejsze maszyn wirtualnych (na przykład D2 rozmiarów maszyn wirtualnych), które mają porty niezbędne do Internetu.</span><span class="sxs-lookup"><span data-stu-id="fb118-123">The front-end service can run on smaller VMs (VM sizes like D2) that have ports open to the internet.</span></span>  <span data-ttu-id="fb118-124">Usługi zaplecza, jednak jest wymagające obliczenia i do uruchamiania na większych maszyn wirtualnych (o rozmiarów maszyn wirtualnych, takie jak D15 D4, D6,), które nie są internet skierowane.</span><span class="sxs-lookup"><span data-stu-id="fb118-124">The back-end service, however, is computation intensive and needs to run on larger VMs (with VM sizes like D4, D6, D15) that are not internet facing.</span></span>
  
  <span data-ttu-id="fb118-125">W tym przykładzie Chociaż można wybrać typu jeden węzeł, umieść wszystkie usługi zaleca się umieszczenie ich w klastrze dwa typy węzłów.</span><span class="sxs-lookup"><span data-stu-id="fb118-125">In this example, although you can decide to put all the services on one node type, we recommended that you place them in a cluster with two node types.</span></span>  <span data-ttu-id="fb118-126">Dzięki temu dla każdego typu węzła mają różne właściwości, takie jak łączność z Internetem lub rozmiar maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="fb118-126">This allows for each node type to have distinct properties such as internet connectivity or VM size.</span></span> <span data-ttu-id="fb118-127">Liczbę maszyn wirtualnych mogą być skalowane niezależnie, jak również.</span><span class="sxs-lookup"><span data-stu-id="fb118-127">The number of VMs can be scaled independently, as well.</span></span>  
* <span data-ttu-id="fb118-128">Ponieważ nie można przewidzieć przyszłe, przejść z faktów, które znasz i podejmowanie decyzji o liczbę typy węzłów, które aplikacje muszą rozpoczynać się nazwą.</span><span class="sxs-lookup"><span data-stu-id="fb118-128">Since you cannot predict the future, go with facts you know of and decide on the number of node types that your applications need to start with.</span></span> <span data-ttu-id="fb118-129">Można zawsze dodawać i usuwać typy węzłów później.</span><span class="sxs-lookup"><span data-stu-id="fb118-129">You can always add or remove node types later.</span></span> <span data-ttu-id="fb118-130">Klaster sieci szkieletowej usług musi mieć co najmniej jeden węzeł typu.</span><span class="sxs-lookup"><span data-stu-id="fb118-130">A Service Fabric cluster must have at least one node type.</span></span>

## <a name="the-properties-of-each-node-type"></a><span data-ttu-id="fb118-131">Właściwości każdego typu węzła</span><span class="sxs-lookup"><span data-stu-id="fb118-131">The properties of each node type</span></span>
<span data-ttu-id="fb118-132">**Typu węzła** są widoczne jako odpowiednik ról usług w chmurze.</span><span class="sxs-lookup"><span data-stu-id="fb118-132">The **node type** can be seen as equivalent to roles in Cloud Services.</span></span> <span data-ttu-id="fb118-133">Typy węzłów zdefiniować rozmiary maszyn wirtualnych, liczbę maszyn wirtualnych i ich właściwości.</span><span class="sxs-lookup"><span data-stu-id="fb118-133">Node types define the VM sizes, the number of VMs, and their properties.</span></span> <span data-ttu-id="fb118-134">Każdy typ węzła który jest zdefiniowany w klastrze usługi sieć szkieletowa jest skonfigurowany jako zestaw skali oddzielnej maszynie wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="fb118-134">Every node type that is defined in a Service Fabric cluster is set up as a separate virtual machine scale set.</span></span> <span data-ttu-id="fb118-135">Zestaw skali maszyny wirtualnej jest zasób obliczeń platformy Azure, który służy do wdrażania i zarządzania nimi jako zestaw kolekcji maszyn wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="fb118-135">Virtual machine scale set is an Azure compute resource you can use to deploy and manage a collection of virtual machines as a set.</span></span> <span data-ttu-id="fb118-136">Jest określone jako zestaw skali maszyny wirtualnej distinct, każdy typ węzła następnie można skalować w lub w dół niezależnie, mają różne zestawy otwartych portów, a może mieć inną pojemność metryki.</span><span class="sxs-lookup"><span data-stu-id="fb118-136">Being defined as distinct virtual machine scale set, each node type can then be scaled up or down independently, have different sets of ports open, and can have different capacity metrics.</span></span>

<span data-ttu-id="fb118-137">Odczyt [tego dokumentu](service-fabric-cluster-nodetypes.md) uzyskać więcej informacji dotyczących relacji elementów NodeType do zestawu skalowania maszyn wirtualnych, jak dla protokołu RDP w jedno wystąpienie, Otwórz nowe porty itp.</span><span class="sxs-lookup"><span data-stu-id="fb118-137">Read [this document](service-fabric-cluster-nodetypes.md) for more details on the relationship of Nodetypes to virtual machine scale set, how to RDP into one of the instances, open new ports etc.</span></span>

<span data-ttu-id="fb118-138">Klaster może mieć więcej niż jeden typ węzła, ale typ węzła podstawowego (pierwszego zdefiniowanego w portalu) musi mieć co najmniej pięć maszyn wirtualnych dla klastrów używanych w przypadku obciążeń produkcyjnych (lub co najmniej trzech maszyn wirtualnych dla klastrów testowych).</span><span class="sxs-lookup"><span data-stu-id="fb118-138">Your cluster can have more than one node type, but the primary node type (the first one that you define on the portal) must have at least five VMs for clusters used for production workloads (or at least three VMs for test clusters).</span></span> <span data-ttu-id="fb118-139">W przypadku tworzenia klastra przy użyciu szablonu usługi Resource Manager, następnie wyszukaj **jest podstawowym** atrybutu w definicji typu węzła.</span><span class="sxs-lookup"><span data-stu-id="fb118-139">If you are creating the cluster using a Resource Manager template, then look for **is Primary** attribute under the node type definition.</span></span> <span data-ttu-id="fb118-140">Typ węzła podstawowego jest typ węzła rozmieszczenia usługi sieć szkieletowa usług systemowych.</span><span class="sxs-lookup"><span data-stu-id="fb118-140">The primary node type is the node type where Service Fabric system services are placed.</span></span>  

### <a name="primary-node-type"></a><span data-ttu-id="fb118-141">Typ węzła podstawowego</span><span class="sxs-lookup"><span data-stu-id="fb118-141">Primary node type</span></span>
<span data-ttu-id="fb118-142">W przypadku klastra z wieloma typami węzła musisz wybrać jeden z nich jako podstawowy.</span><span class="sxs-lookup"><span data-stu-id="fb118-142">For a cluster with multiple node types, you need to choose one of them to be primary.</span></span> <span data-ttu-id="fb118-143">Poniżej przedstawiono charakterystyki typu węzła podstawowego:</span><span class="sxs-lookup"><span data-stu-id="fb118-143">Here are the characteristics of a primary node type:</span></span>

* <span data-ttu-id="fb118-144">**Minimalny rozmiar maszyn wirtualnych** węzeł podstawowy typ jest określany przez **warstwa trwałości** wybierzesz.</span><span class="sxs-lookup"><span data-stu-id="fb118-144">The **minimum size of VMs** for the primary node type is determined by the **durability tier** you choose.</span></span> <span data-ttu-id="fb118-145">Wartość domyślna warstwa trwałości to brązowa.</span><span class="sxs-lookup"><span data-stu-id="fb118-145">The default for the durability tier is Bronze.</span></span> <span data-ttu-id="fb118-146">Przewiń w dół szczegółowe informacje na temat nowości warstwa trwałości i wartości, które może potrwać.</span><span class="sxs-lookup"><span data-stu-id="fb118-146">Scroll down for details on what the durability tier is and the values it can take.</span></span>  
* <span data-ttu-id="fb118-147">**Minimalną liczbę maszyn wirtualnych** węzeł podstawowy typ jest określany przez **warstwa niezawodności** wybierzesz.</span><span class="sxs-lookup"><span data-stu-id="fb118-147">The **minimum number of VMs** for the primary node type is determined by the **reliability tier** you choose.</span></span> <span data-ttu-id="fb118-148">Wartość domyślna warstwa niezawodności to Silver.</span><span class="sxs-lookup"><span data-stu-id="fb118-148">The default for the reliability tier is Silver.</span></span> <span data-ttu-id="fb118-149">Przewiń w dół szczegółowe informacje na temat nowości warstwa niezawodności i wartości, które może potrwać.</span><span class="sxs-lookup"><span data-stu-id="fb118-149">Scroll down for details on what the reliability tier is and the values it can take.</span></span> 


* <span data-ttu-id="fb118-150">Usługi systemowe platformy Service Fabric (na przykład usługa Menedżera klastra lub usługi składnika Image Store) są umieszczane na typ węzła podstawowego i wartością, niezawodność i trwałość klastra jest określany przez warstwę wartość i trwałości warstwa niezawodności Wybierz typ węzła podstawowego.</span><span class="sxs-lookup"><span data-stu-id="fb118-150">The Service Fabric system services (for example, the Cluster Manager service or Image Store service) are placed on the primary node type and so the reliability and durability of the cluster is determined by the reliability tier value and durability tier value you select for the primary node type.</span></span>

![<span data-ttu-id="fb118-151">Zrzut ekranu przedstawiający klastra, która ma dwa typy węzłów</span><span class="sxs-lookup"><span data-stu-id="fb118-151">Screen shot of a cluster that has two Node Types</span></span> ][SystemServices]

### <a name="non-primary-node-type"></a><span data-ttu-id="fb118-152">Typ podstawowy nie węzła</span><span class="sxs-lookup"><span data-stu-id="fb118-152">Non-primary node type</span></span>
<span data-ttu-id="fb118-153">W przypadku klastra z wieloma typami węzła jest jeden typ węzła podstawowego i rest z nich są innych niż podstawowe.</span><span class="sxs-lookup"><span data-stu-id="fb118-153">For a cluster with multiple node types, there is one primary node type and the rest of them are non-primary.</span></span> <span data-ttu-id="fb118-154">Poniżej przedstawiono charakterystyki typu innego niż podstawowy węzła:</span><span class="sxs-lookup"><span data-stu-id="fb118-154">Here are the characteristics of a non-primary node type:</span></span>

* <span data-ttu-id="fb118-155">Minimalny rozmiar maszyn wirtualnych dla tego typu węzła jest określany przez warstwę trwałości, którą wybierzesz.</span><span class="sxs-lookup"><span data-stu-id="fb118-155">The minimum size of VMs for this node type is determined by the durability tier you choose.</span></span> <span data-ttu-id="fb118-156">Wartość domyślna warstwa trwałości to brązowa.</span><span class="sxs-lookup"><span data-stu-id="fb118-156">The default for the durability tier is Bronze.</span></span> <span data-ttu-id="fb118-157">Przewiń w dół szczegółowe informacje na temat nowości warstwa trwałości i wartości, które może potrwać.</span><span class="sxs-lookup"><span data-stu-id="fb118-157">Scroll down for details on what the durability tier is and the values it can take.</span></span>  
* <span data-ttu-id="fb118-158">Minimalna liczba maszyn wirtualnych dla tego typu węzła może być jednym.</span><span class="sxs-lookup"><span data-stu-id="fb118-158">The minimum number of VMs for this node type can be one.</span></span> <span data-ttu-id="fb118-159">Jednak należy wybrać ten numer, na podstawie liczby replik aplikacji/usługi, które ma zostać uruchomione w tym typem węzła.</span><span class="sxs-lookup"><span data-stu-id="fb118-159">However you should choose this number based on the number of replicas of the application/services that you would like to run in this node type.</span></span> <span data-ttu-id="fb118-160">Po wdrożeniu klastra można zwiększyć liczbę maszyn wirtualnych w typu węzła.</span><span class="sxs-lookup"><span data-stu-id="fb118-160">The number of VMs in a node type can be increased after you have deployed the cluster.</span></span>

## <a name="the-durability-characteristics-of-the-cluster"></a><span data-ttu-id="fb118-161">Właściwości trwałości klastra</span><span class="sxs-lookup"><span data-stu-id="fb118-161">The durability characteristics of the cluster</span></span>
<span data-ttu-id="fb118-162">Warstwa trwałości jest służy do wskazania systemowi uprawnienia, które mają maszyn wirtualnych z podstawowej infrastruktury platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="fb118-162">The durability tier is used to indicate to the system the privileges that your VMs have with the underlying Azure infrastructure.</span></span> <span data-ttu-id="fb118-163">W polu Typ węzła podstawowego to uprawnienie umożliwia sieci szkieletowej usług wstrzymać wszystkie maszyny Wirtualnej infrastruktury poziomu żądania (takie jak ponowne uruchomienie maszyny Wirtualnej, odtworzenia z obrazu maszyny Wirtualnej lub migracja maszyny Wirtualnej) wpływ kworum wymagania dotyczące usługi systemowe i stanowych usług.</span><span class="sxs-lookup"><span data-stu-id="fb118-163">In the primary node type, this privilege allows Service Fabric to pause any VM level infrastructure request (such as a VM reboot, VM reimage, or VM migration) that impact the quorum requirements for the system services and your stateful services.</span></span> <span data-ttu-id="fb118-164">W typach węzła innego niż podstawowy to uprawnienie umożliwia sieci szkieletowej usług wstrzymać maszyny Wirtualnej infrastruktury poziomu żądań takie jak ponowne uruchomienie maszyny Wirtualnej, odtworzenia z obrazu maszyny Wirtualnej, migracja maszyny Wirtualnej itp., które mają wpływ na wymagania dotyczące kworum dla stanowych usług uruchomionych w jej.</span><span class="sxs-lookup"><span data-stu-id="fb118-164">In the non-primary node types, this privilege allows Service Fabric to pause any VM level infrastructure requests like VM reboot, VM reimage, VM migration etc., that impact the quorum requirements for your stateful services running in it.</span></span>

<span data-ttu-id="fb118-165">To uprawnienie jest wyrażona w następujących wartości:</span><span class="sxs-lookup"><span data-stu-id="fb118-165">This privilege is expressed in the following values:</span></span>

* <span data-ttu-id="fb118-166">Czas trwania dwóch godzin na UD można wstrzymywać złota - infrastruktury zadań.</span><span class="sxs-lookup"><span data-stu-id="fb118-166">Gold - The infrastructure Jobs can be paused for a duration of two hours per UD.</span></span> <span data-ttu-id="fb118-167">Złoty trwałości można włączyć tylko dla jednostki SKU wirtualna pełne węzła jak D15_V2, G5 itp.</span><span class="sxs-lookup"><span data-stu-id="fb118-167">Gold durability can be enabled only on full node VM skus like D15_V2, G5 etc.</span></span>
* <span data-ttu-id="fb118-168">Srebrny - zadania infrastruktury może być wstrzymana na okres 10 minut na każdą UD i jest dostępny na wszystkich standardowych maszyn wirtualnych z pojedynczego rdzenia i powyżej.</span><span class="sxs-lookup"><span data-stu-id="fb118-168">Silver - The infrastructure Jobs can be paused for a duration of 10 minutes per UD and is available on all standard VMs of single core and above.</span></span>
* <span data-ttu-id="fb118-169">Brązowy - żadnych uprawnień.</span><span class="sxs-lookup"><span data-stu-id="fb118-169">Bronze - No privileges.</span></span> <span data-ttu-id="fb118-170">Jest to wartość domyślna.</span><span class="sxs-lookup"><span data-stu-id="fb118-170">This is the default.</span></span> <span data-ttu-id="fb118-171">Ten poziom trwałości należy używać tylko dla typów węzłów, które uruchamiane _tylko_ bezstanowe.</span><span class="sxs-lookup"><span data-stu-id="fb118-171">Only use this durability level for Node Types that run _only_ stateless workloads.</span></span> 

> [!WARNING]
> <span data-ttu-id="fb118-172">Uzyskiwanie elementów NodeType systemem trwałości brązowa _żadnych uprawnień_.</span><span class="sxs-lookup"><span data-stu-id="fb118-172">NodeTypes running with Bronze durability obtain _no privileges_.</span></span> <span data-ttu-id="fb118-173">Oznacza to, że zadania infrastruktury, które mają wpływ na obciążeń bezstanowych nie zostanie zatrzymana ani opóźnione.</span><span class="sxs-lookup"><span data-stu-id="fb118-173">This means that infrastructure jobs that impact your stateless workloads will not be stopped or delayed.</span></span> <span data-ttu-id="fb118-174">Istnieje możliwość, że takie zadania nadal może wpłynąć na obciążeń, powodując przestoje lub inne problemy.</span><span class="sxs-lookup"><span data-stu-id="fb118-174">It is possible that such jobs can still impact your workloads, causing downtime or other issues.</span></span> <span data-ttu-id="fb118-175">Rodzaj obciążenia produkcji systemem z co najmniej Silver jest zalecane.</span><span class="sxs-lookup"><span data-stu-id="fb118-175">For any sort of production workload, running with at least Silver is recommended.</span></span> 
> 

<span data-ttu-id="fb118-176">Otrzymasz wybierz poziom trwałości dla każdego z typów węzłów. Można wybrać jeden typ węzła, aby uzyskać odpowiedni poziom trwałości złota lub srebrna i innych ma brązowa w tym samym klastrze. **Wymagana minimalna liczba węzłów 5 dla dowolnego typu węzła mającego trwałości Gold lub silver**.</span><span class="sxs-lookup"><span data-stu-id="fb118-176">You get to choose durability level for each of your node-types.You can choose one node-type to have a durability level of Gold or silver and the other have Bronze in the same cluster.**You must maintain a minimum count of 5 nodes for any node-type that has a durability of Gold or silver**.</span></span> 

<span data-ttu-id="fb118-177">**Korzyści wynikające z używania Silver lub złota poziom trwałości**</span><span class="sxs-lookup"><span data-stu-id="fb118-177">**Advantages of using Silver or Gold durability levels**</span></span>
 
1. <span data-ttu-id="fb118-178">Zmniejsza liczbę czynności w ramach operacji skalowania (to znaczy dezaktywacji węzła i Usuń ServiceFabricNodeState jest wywoływana automatycznie)</span><span class="sxs-lookup"><span data-stu-id="fb118-178">Reduces the number of required steps in a scale-in operation (that is, node deactivation and Remove-ServiceFabricNodeState is called automatically)</span></span>
2. <span data-ttu-id="fb118-179">Zmniejsza ryzyko utraty danych z powodu operacji Zmień inicjowane przez klienta w miejscu SKU maszyny Wirtualnej lub operacji infrastruktury platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="fb118-179">Reduces the risk of data loss due to a customer-initiated in-place VM SKU change operation or Azure infrastructure operations.</span></span>
     
<span data-ttu-id="fb118-180">**Wady używania Silver lub złota poziom trwałości**</span><span class="sxs-lookup"><span data-stu-id="fb118-180">**Disadvantages of using Silver or Gold durability levels**</span></span>
 
1. <span data-ttu-id="fb118-181">Wdrożenia do zestawu skalowania maszyn wirtualnych i inne powiązane zasoby Azure) mogą być opóźnione, można przekroczyło limit czasu lub mogą zostać zablokowane całkowicie przez problemy w klastrze lub na poziomie infrastruktury.</span><span class="sxs-lookup"><span data-stu-id="fb118-181">Deployments to your Virtual Machine Scale Set and other related Azure resources) can be delayed, can time out, or can be blocked entirely by problems in your cluster or at the infrastructure level.</span></span> 
2. <span data-ttu-id="fb118-182">Zwiększa liczbę [zdarzenia cyklu życia repliki](service-fabric-reliable-services-advanced-usage.md#stateful-service-replica-lifecycle ) (na przykład podstawowego zamiany) ze względu na automatyczne deactivations węzła podczas operacji infrastruktury platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="fb118-182">Increases the number of [replica lifecycle events](service-fabric-reliable-services-advanced-usage.md#stateful-service-replica-lifecycle ) (for example, primary swaps) due to automated node deactivations during Azure infrastructure operations.</span></span>

### <a name="recommendations-on-when-to-use-silver-or-gold-durability-levels"></a><span data-ttu-id="fb118-183">Zalecenia dotyczące użycie Silver lub złota poziom trwałości</span><span class="sxs-lookup"><span data-stu-id="fb118-183">Recommendations on when to use Silver or Gold durability levels</span></span>

<span data-ttu-id="fb118-184">Użyj trwałości Silver lub Gold dla wszystkich typów węzłów zawierających usługi stanowej spodziewasz się w skali (zmniejszyć liczbę wystąpień maszyny Wirtualnej) często i wolisz opóźniony operacje wdrażania na rzecz uproszczenia tych operacji skalowania.</span><span class="sxs-lookup"><span data-stu-id="fb118-184">Use Silver or Gold durability for all node types that host stateful services you expect to scale-in (reduce VM instance count) frequently, and you would prefer that deployment operations be delayed in favor of simplifying these scale-in operations.</span></span> <span data-ttu-id="fb118-185">Scenariusze skalowalnego w poziomie (Dodawanie wystąpień maszyn wirtualnych) nie są odtwarzane w wybranym warstwa trwałości, tylko skali w jest.</span><span class="sxs-lookup"><span data-stu-id="fb118-185">The scale-out scenarios (adding VMs instances) do not play into your choice of the durability tier, only scale-in does.</span></span>

### <a name="operational-recommendations-for-the-node-type-that-you-have-set-to-silver-or-gold-durability-level"></a><span data-ttu-id="fb118-186">Operacyjne zalecenia dla węzła typu, że wybrano trwałości silver lub gold poziomu.</span><span class="sxs-lookup"><span data-stu-id="fb118-186">Operational Recommendations for the node type that you have set to silver or gold durability level.</span></span>

1. <span data-ttu-id="fb118-187">Zachowaj klastra, a aplikacje dobrej kondycji przez cały czas i upewnij się, że aplikacje odpowiadanie na wszystkie [usługi zdarzenia cyklu życia repliki](service-fabric-reliable-services-advanced-usage.md#stateful-service-replica-lifecycle) (np. repliki w kompilacji jest zablokowana) w odpowiednim czasie.</span><span class="sxs-lookup"><span data-stu-id="fb118-187">Keep your cluster and applications healthy at all times, and make sure that applications respond to all [Service replica lifecycle events](service-fabric-reliable-services-advanced-usage.md#stateful-service-replica-lifecycle) (like replica in build is stuck) in a timely fashion.</span></span>
2. <span data-ttu-id="fb118-188">Przyjmuje bezpieczniejsze sposoby zmiany jednostki SKU maszyny Wirtualnej (skalowanie w górę/dół): zmiana SKU maszyny Wirtualnej zestawu skali maszyny wirtualnej jest z założenia niebezpieczna operacja i dlatego należy unikać Jeśli to możliwe.</span><span class="sxs-lookup"><span data-stu-id="fb118-188">Adopt safer ways to make a VM SKU change (Scale up/down): Changing the VM SKU of a Virtual Machine Scale Set is inherently an unsafe operation and so should be avoided if possible.</span></span> <span data-ttu-id="fb118-189">Oto proces można wykonać w celu uniknięcia typowych problemów.</span><span class="sxs-lookup"><span data-stu-id="fb118-189">Here is the process you can follow to avoid common issues.</span></span>
    - <span data-ttu-id="fb118-190">**Dla elementów innych niż podstawowe NodeType:** zalecane jest, Utwórz nowy zestaw skali maszyny wirtualnej, zmodyfikuj ograniczenia umieszczania usług do uwzględnienia nowego typu węzeł zestaw skalowania maszyny wirtualnej, a następnie zmniejsz starego wystąpienia zestawu skalowania maszyn wirtualnych liczba 0, w jednym węźle naraz (jest to aby upewnić się, że usuwania węzłów nie wpływają na niezawodność klastra).</span><span class="sxs-lookup"><span data-stu-id="fb118-190">**For non-primary nodetypes:** It is recommended that you create new Virtual Machine Scale Set, modify the service placement constraint to include the new Virtual Machine Scale Set/node type and then reduce the old Virtual Machine Scale Set instance count to 0, one node at a time (this is to make sure that removal of the nodes do not impact the reliability of the cluster).</span></span>
    - <span data-ttu-id="fb118-191">**Dla podstawowy typ nodetype:** firma Microsoft zaleca, nie należy zmieniać SKU wirtualna tego typu węzła podstawowego.</span><span class="sxs-lookup"><span data-stu-id="fb118-191">**For the primary nodetype:** Our recommendation is that you do not change VM SKU of the primary node type.</span></span> <span data-ttu-id="fb118-192">Jeśli przyczyna dla nowej jednostki SKU pojemności, firma Microsoft zaleca, dodanie więcej wystąpień, lub jeśli to możliwe, Utwórz nowy klaster.</span><span class="sxs-lookup"><span data-stu-id="fb118-192">If the reason for the new SKU is capacity, we recommend adding more instances or if possible, create a new cluster.</span></span> <span data-ttu-id="fb118-193">Jeśli użytkownik nie mają wyboru, następnie wprowadzić modyfikacje definicję modelu ustawić skali maszyny wirtualnej w celu odzwierciedlenia nowej jednostki SKU.</span><span class="sxs-lookup"><span data-stu-id="fb118-193">If you have no choice, then make modifications to the Virtual Machine Scale Set Model definition to reflect the new SKU.</span></span> <span data-ttu-id="fb118-194">Jeśli klaster ma tylko jeden typ nodetype, następnie upewnij się, że wszystkie aplikacje stanowe odpowiadanie na wszystkie [usługi zdarzenia cyklu życia repliki](service-fabric-reliable-services-advanced-usage.md#stateful-service-replica-lifecycle) (np. repliki w kompilacji jest zablokowana) w odpowiednim czasie, który repliki usługi odbudować czas trwania jest mniej niż pięć minut (poziom trwałości srebrny).</span><span class="sxs-lookup"><span data-stu-id="fb118-194">If your cluster has only one nodetype, then make sure that all your stateful applications respond to all [Service replica lifecycle events](service-fabric-reliable-services-advanced-usage.md#stateful-service-replica-lifecycle) (like replica in build is stuck) in a timely fashion and that your service replica rebuild duration is less than five minutes (for Silver durability level).</span></span> 


> [!WARNING]
> <span data-ttu-id="fb118-195">Zmiana rozmiaru jednostki SKU maszyny Wirtualnej dla zestawy skalowania maszyny Wirtualnej nie działa przynajmniej srebrny trwałości nie jest zalecane.</span><span class="sxs-lookup"><span data-stu-id="fb118-195">Changing the VM SKU Size for VM Scale Sets not running at least Silver durability is not recommened.</span></span> <span data-ttu-id="fb118-196">Zmiana rozmiaru jednostki SKU maszyny Wirtualnej jest operacją destrukcyjnego danych w miejscu infrastruktury.</span><span class="sxs-lookup"><span data-stu-id="fb118-196">Changing VM SKU Size is a data-destructive in-place infrastructure operation.</span></span> <span data-ttu-id="fb118-197">Co najmniej możliwość opóźnienia lub monitora tę zmianę może to oznaczać, że operacji może spowodować dataloss dla stanowych usług lub późniejsze innych unforseen problemy z działaniem, nawet w przypadku obciążeń bezstanowych.</span><span class="sxs-lookup"><span data-stu-id="fb118-197">Without at least some ability to delay or monitor this change, it is possible that the operation can cause dataloss for stateful services or cause other unforseen operational issues, even for stateless workloads.</span></span> 
> 
    
3. <span data-ttu-id="fb118-198">Obsługa minimalna liczba pięć węzłów dla dowolnego zestawu skalowania maszyn wirtualnych z MR włączone</span><span class="sxs-lookup"><span data-stu-id="fb118-198">Maintain a minimum count of five nodes for any Virtual Machine Scale Set that has MR enabled</span></span>
4. <span data-ttu-id="fb118-199">Usunąć losowe wystąpień maszyn wirtualnych, nie zawsze używać zestawu skalowania maszyn wirtualnych skali w dół funkcji.</span><span class="sxs-lookup"><span data-stu-id="fb118-199">Do not delete random VM instances, always use Virtual Machine Scale Set scale down feature.</span></span> <span data-ttu-id="fb118-200">Usuwanie losowe wystąpień maszyny Wirtualnej ma możliwości nierówności w ich rozmieszczenie UD i FD wystąpienie maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="fb118-200">The deletion of random VM instances has a potential of creating imbalances in the VM instance spread across UD and FD.</span></span> <span data-ttu-id="fb118-201">Ta niezgodność może negatywnie wpłynąć na możliwość systemów poprawnie załadować równowagi między replik serwisu wystąpień usługi.</span><span class="sxs-lookup"><span data-stu-id="fb118-201">This imbalance could adversely affect the systems ability to properly load balance amongst the service instances/Service replicas.</span></span>
6. <span data-ttu-id="fb118-202">Przy użyciu automatycznego skalowania, następnie reguły tak ustawić skali w (usuwanie wystąpień maszyny Wirtualnej) są wykonywane tylko jeden węzeł naraz.</span><span class="sxs-lookup"><span data-stu-id="fb118-202">If using Autoscale, then set the rules such that scale in (removing of VM instances) are done only one node at a time.</span></span> <span data-ttu-id="fb118-203">W czasie skalowania więcej niż jedno wystąpienie nie jest bezpieczne.</span><span class="sxs-lookup"><span data-stu-id="fb118-203">Scaling down more than one instance at a time is not safe.</span></span>
7. <span data-ttu-id="fb118-204">Jeśli skalowania typu węzła podstawowego, nigdy nie należy go skalować w dół więcej niż zezwala warstwa niezawodności.</span><span class="sxs-lookup"><span data-stu-id="fb118-204">If Scaling down a primary node type, you should never scale it down more than what the reliability tier allows.</span></span>


## <a name="the-reliability-characteristics-of-the-cluster"></a><span data-ttu-id="fb118-205">Właściwości niezawodności klastra</span><span class="sxs-lookup"><span data-stu-id="fb118-205">The reliability characteristics of the cluster</span></span>
<span data-ttu-id="fb118-206">Warstwa niezawodności umożliwia określenie liczby replikami usług systemowych, które mają być uruchamiane w tym klastrze typu węzła podstawowego.</span><span class="sxs-lookup"><span data-stu-id="fb118-206">The reliability tier is used to set the number of replicas of the system services that you want to run in this cluster on the primary node type.</span></span> <span data-ttu-id="fb118-207">Zwiększenie liczby replik, bardziej niezawodne usługi systemowe są w klastrze.</span><span class="sxs-lookup"><span data-stu-id="fb118-207">The more the number of replicas, the more reliable the system services are in your cluster.</span></span>  

<span data-ttu-id="fb118-208">Warstwa niezawodności może przyjmować następujące wartości:</span><span class="sxs-lookup"><span data-stu-id="fb118-208">The reliability tier can take the following values:</span></span>

* <span data-ttu-id="fb118-209">Platynowa - uruchamiania usług systemowych z obiektu docelowego zestawu replik liczby 9</span><span class="sxs-lookup"><span data-stu-id="fb118-209">Platinum - Run the System services with a target replica set count of 9</span></span>
* <span data-ttu-id="fb118-210">Złota - uruchamiania usług systemowych z obiektu docelowego zestawu replik liczbę 7</span><span class="sxs-lookup"><span data-stu-id="fb118-210">Gold - Run the System services with a target replica set count of 7</span></span>
* <span data-ttu-id="fb118-211">Srebrny - uruchamiania usług systemowych z obiektu docelowego zestawu replik liczby 5</span><span class="sxs-lookup"><span data-stu-id="fb118-211">Silver - Run the System services with a target replica set count of 5</span></span> 
* <span data-ttu-id="fb118-212">Brązowy - uruchamiania usług systemowych z obiektu docelowego zestawu replik licznik 3</span><span class="sxs-lookup"><span data-stu-id="fb118-212">Bronze - Run the System services with a target replica set count of 3</span></span>

> [!NOTE]
> <span data-ttu-id="fb118-213">Warstwa niezawodności, którą wybierzesz określa minimalną liczbę węzłów, które muszą mieć typu węzła podstawowego.</span><span class="sxs-lookup"><span data-stu-id="fb118-213">The reliability tier you choose determines the minimum number of nodes your primary node type must have.</span></span> 
> 
> 


### <a name="recommendations-for-the-reliability-tier"></a><span data-ttu-id="fb118-214">Zalecenia dotyczące warstwy niezawodności.</span><span class="sxs-lookup"><span data-stu-id="fb118-214">Recommendations for the reliability tier.</span></span>

 <span data-ttu-id="fb118-215">W przypadku można zwiększyć lub zmniejszyć rozmiar klastra (suma wystąpień maszyn wirtualnych we wszystkich typach węzła), należy zaktualizować niezawodności klastra z jedną warstwę do innego.</span><span class="sxs-lookup"><span data-stu-id="fb118-215">When you increase or decrease the size of your cluster (the sum of VM instances in all node types), you must update the reliability of your cluster from one tier to another.</span></span> <span data-ttu-id="fb118-216">W ten sposób wyzwala uaktualnienia klastra konieczne zmiany repliki usługi systemu ustaw liczbę.</span><span class="sxs-lookup"><span data-stu-id="fb118-216">Doing this triggers the cluster upgrades needed to change the system services replica set count.</span></span> <span data-ttu-id="fb118-217">Poczekaj, aż uaktualnianie w toku, aby zakończyć przed wprowadzeniem jakichkolwiek innych zmian do klastra, takich jak dodawanie węzłów.</span><span class="sxs-lookup"><span data-stu-id="fb118-217">Wait for the upgrade in progress to complete before making any other changes to the cluster, like adding nodes.</span></span>  <span data-ttu-id="fb118-218">Można monitorować postępy uaktualniania w narzędziu Service Fabric Explorer lub uruchamiając [Get ServiceFabricClusterUpgrade](/powershell/module/servicefabric/get-servicefabricclusterupgrade?view=azureservicefabricps)</span><span class="sxs-lookup"><span data-stu-id="fb118-218">You can monitor the progress of the upgrade on Service Fabric Explorer or by running [Get-ServiceFabricClusterUpgrade](/powershell/module/servicefabric/get-servicefabricclusterupgrade?view=azureservicefabricps)</span></span>

<span data-ttu-id="fb118-219">Poniżej przedstawiono zalecenia o wyborze warstwa niezawodności.</span><span class="sxs-lookup"><span data-stu-id="fb118-219">Here is the recommendation on choosing the reliability tier.</span></span>

| <span data-ttu-id="fb118-220">**Rozmiar klastra**</span><span class="sxs-lookup"><span data-stu-id="fb118-220">**Cluster Size**</span></span> | <span data-ttu-id="fb118-221">**Warstwa niezawodności**</span><span class="sxs-lookup"><span data-stu-id="fb118-221">**Reliability Tier**</span></span> |
| --- | --- |
| <span data-ttu-id="fb118-222">1</span><span class="sxs-lookup"><span data-stu-id="fb118-222">1</span></span> |<span data-ttu-id="fb118-223">Nie określaj parametru warstwa niezawodności system oblicza ona</span><span class="sxs-lookup"><span data-stu-id="fb118-223">Do not specify the Reliability Tier parameter, the system calculates it</span></span> |
| <span data-ttu-id="fb118-224">3</span><span class="sxs-lookup"><span data-stu-id="fb118-224">3</span></span> |<span data-ttu-id="fb118-225">Brązowy</span><span class="sxs-lookup"><span data-stu-id="fb118-225">Bronze</span></span> |
| <span data-ttu-id="fb118-226">5 lub 6</span><span class="sxs-lookup"><span data-stu-id="fb118-226">5 or 6</span></span>|<span data-ttu-id="fb118-227">Srebrny</span><span class="sxs-lookup"><span data-stu-id="fb118-227">Silver</span></span> |
| <span data-ttu-id="fb118-228">7 lub 8</span><span class="sxs-lookup"><span data-stu-id="fb118-228">7 or 8</span></span> |<span data-ttu-id="fb118-229">Gold</span><span class="sxs-lookup"><span data-stu-id="fb118-229">Gold</span></span> |
| <span data-ttu-id="fb118-230">9 i nowsze</span><span class="sxs-lookup"><span data-stu-id="fb118-230">9 and up</span></span> |<span data-ttu-id="fb118-231">Platynowa</span><span class="sxs-lookup"><span data-stu-id="fb118-231">Platinum</span></span> |




## <a name="primary-node-type---capacity-guidance"></a><span data-ttu-id="fb118-232">Typ węzła podstawowego — wskazówki dotyczące wydajności</span><span class="sxs-lookup"><span data-stu-id="fb118-232">Primary node type - Capacity Guidance</span></span>

<span data-ttu-id="fb118-233">Poniżej przedstawiono wskazówki dotyczące planowania pojemności typu węzła podstawowego</span><span class="sxs-lookup"><span data-stu-id="fb118-233">Here is the guidance for planning the primary node type capacity</span></span>

1. <span data-ttu-id="fb118-234">**Liczba wystąpień maszyn wirtualnych do uruchomienia żadnych obciążeń produkcyjnych na platformie Azure:** należy określić minimalny rozmiar typu węzła podstawowego 5.</span><span class="sxs-lookup"><span data-stu-id="fb118-234">**Number of VM instances to run any production workload in Azure:** You must specify a minimum Primary Node type size of 5.</span></span> 
2. <span data-ttu-id="fb118-235">**Liczba wystąpień maszyn wirtualnych do uruchamiania testów obciążenia w Azure** można określić rozmiar typu węzła podstawowego minimalną 1 lub 3.</span><span class="sxs-lookup"><span data-stu-id="fb118-235">**Number of VM instances to run test workloads in Azure** You can specify a minimum primary node type size of 1 or 3.</span></span> <span data-ttu-id="fb118-236">Jeden węzeł klastra, uruchamia się przy użyciu specjalnej konfiguracji i dlatego, skalowania poza tego klastra nie jest obsługiwane.</span><span class="sxs-lookup"><span data-stu-id="fb118-236">The one node cluster, runs with a special configuration and so, scale out of that cluster is not supported.</span></span> <span data-ttu-id="fb118-237">Jeden węzeł klastra, nie ma żadnych niezawodności, więc w szablonie usługi Resource Manager można do usuwania nie określenia tej konfiguracji (to ustawienie nie zostanie wartość konfiguracji nie jest wystarczająco dużo).</span><span class="sxs-lookup"><span data-stu-id="fb118-237">The one node cluster, has no reliability and so in your Resource Manager template, you have to remove/not specify that configuration (not setting the configuration value is not enough).</span></span> <span data-ttu-id="fb118-238">Skonfigurowanie jednego węzła klastra skonfigurowane za pomocą portalu następnie konfiguracja jest automatycznie podjęte obsługę.</span><span class="sxs-lookup"><span data-stu-id="fb118-238">If you set up the one node cluster set up via portal, then the configuration is automatically taken care of.</span></span> <span data-ttu-id="fb118-239">1 i 3 klastrów nie są obsługiwane do uruchamiania obciążeń produkcyjnych.</span><span class="sxs-lookup"><span data-stu-id="fb118-239">1 and 3 node clusters are not supported for running production workloads.</span></span> 
3. <span data-ttu-id="fb118-240">**Maszyna wirtualna SKU:** typu węzła podstawowego jest gdzie uruchamiania usług systemowych, dlatego planowanie SKU maszyny Wirtualnej, możesz wybrać, musi uwzględniać konta ogólną szczytowego obciążenia można umieścić w klastrze.</span><span class="sxs-lookup"><span data-stu-id="fb118-240">**VM SKU:** Primary node type is where the system services run, so the VM SKU you choose for it, must take into account the overall peak load you plan to place into the cluster.</span></span> <span data-ttu-id="fb118-241">W tym miejscu jest odpowiednio do zilustrowania I znaczenie w tym miejscu — traktować typu węzła podstawowego jako sieci "płuca", jest to, co zapewnia tlenu do Twojej inteligencji, a więc jeśli inteligencji nie można uzyskać wystarczającą ilość tlenu, wystąpi treść.</span><span class="sxs-lookup"><span data-stu-id="fb118-241">Here is an analogy to illustrate what I mean here - Think of the primary node type as your "Lungs", it is what provides oxygen to your brain, and so if the brain does not get enough oxygen, your body suffers.</span></span> 

<span data-ttu-id="fb118-242">Ponieważ wymagana pojemność klastra zależy od obciążenia, który ma zostać uruchomiona w klastrze, firma Microsoft nie udostępnia jakościowe wskazówek dla określonego obciążenia, jednak w tym miejscu jest szerokie wskazówki ułatwiające rozpoczęcie pracy</span><span class="sxs-lookup"><span data-stu-id="fb118-242">Since the capacity needs of a cluster is determined by workload you plan to run in the cluster, we cannot provide you with qualitative guidance for your specific workload, however here is the broad guidance to help you get started</span></span>

<span data-ttu-id="fb118-243">W przypadku obciążeń produkcyjnych</span><span class="sxs-lookup"><span data-stu-id="fb118-243">For production workloads</span></span> 


- <span data-ttu-id="fb118-244">Zalecaną WERSJĘ maszyny Wirtualnej jest standardowe D3 lub standardowy D3_V2 lub równoważne z co najmniej 14 GB lokalny dysk SSD.</span><span class="sxs-lookup"><span data-stu-id="fb118-244">The recommended VM SKU is Standard D3 or Standard D3_V2 or equivalent with a minimum of 14 GB of local SSD.</span></span>
- <span data-ttu-id="fb118-245">Minimalne obsługiwane użycie SKU maszyny Wirtualnej jest standardowe D1 lub standardowy D1_V2 lub równoważne z co najmniej 14 GB lokalny dysk SSD.</span><span class="sxs-lookup"><span data-stu-id="fb118-245">The minimum supported use VM SKU is Standard D1 or Standard D1_V2 or equivalent with a minimum of 14 GB of local SSD.</span></span> 
- <span data-ttu-id="fb118-246">Częściowe podstawowej jednostki SKU maszyny Wirtualnej, podobnie jak standardowy A0 nie są obsługiwane w przypadku obciążeń produkcyjnych.</span><span class="sxs-lookup"><span data-stu-id="fb118-246">Partial core VM SKUs like Standard A0 are not supported for production workloads.</span></span>
- <span data-ttu-id="fb118-247">Standardowy SKU A1 nie jest obsługiwana w przypadku obciążeń produkcyjnych ze względu na wydajność.</span><span class="sxs-lookup"><span data-stu-id="fb118-247">Standard A1 SKU is not supported for production workloads for performance reasons.</span></span>


## <a name="non-primary-node-type---capacity-guidance-for-stateful-workloads"></a><span data-ttu-id="fb118-248">Typ węzła non-Primary — wskazówki dotyczące pojemności dla obciążeń stanowych</span><span class="sxs-lookup"><span data-stu-id="fb118-248">Non-Primary node type - Capacity Guidance for stateful workloads</span></span>

<span data-ttu-id="fb118-249">Są to wskazówki dla obciążeń stanowych przy użyciu usługi Service fabric [niezawodnej kolekcje lub reliable Actors](service-fabric-choose-framework.md) działającą w typie podstawowym z systemem innym niż węzeł.</span><span class="sxs-lookup"><span data-stu-id="fb118-249">This guidance is for stateful Workloads using Service fabric [reliable collections or reliable Actors](service-fabric-choose-framework.md) that you are running in the non-primary node type.</span></span>


<span data-ttu-id="fb118-250">**Liczba wystąpień maszyn wirtualnych:** dla obciążeń produkcyjnych, które nie jest obiektem stanowym, zalecane jest, uruchom je wraz z liczbą repliki minimalna i docelowa 5.</span><span class="sxs-lookup"><span data-stu-id="fb118-250">**Number of VM instances:** For production workloads that are stateful, it is recommended that you run them with a minimum and target replica count of 5.</span></span> <span data-ttu-id="fb118-251">Oznacza to, że w stanie stabilności na końcu repliki (z zestawu replik) w każdej domenie błędów i domeny uaktualnień.</span><span class="sxs-lookup"><span data-stu-id="fb118-251">This means that in steady state you end up with a replica (from a replica set) in each fault domain and upgrade domain.</span></span> <span data-ttu-id="fb118-252">Pojęcie warstwy niezawodności całego dla typu węzła podstawowego jest możliwość określenia tego ustawienia dla usług systemowych.</span><span class="sxs-lookup"><span data-stu-id="fb118-252">The whole reliability tier concept for the primary node type is a way to specify this setting for system services.</span></span> <span data-ttu-id="fb118-253">Tak samą opłatą dotyczy Twoich stanowych usług.</span><span class="sxs-lookup"><span data-stu-id="fb118-253">So the same consideration applies to your stateful services as well.</span></span>

<span data-ttu-id="fb118-254">Tak w przypadku obciążeń produkcyjnych minimalna zalecana z systemem innym niż — podstawowy typ rozmiaru węzła wynosi 5, jeśli używasz obciążeń stanowych w nim.</span><span class="sxs-lookup"><span data-stu-id="fb118-254">So for production workloads, the minimum recommended non-Primary Node type size is 5, if you are running stateful workloads in it.</span></span>


<span data-ttu-id="fb118-255">**Maszyna wirtualna SKU:** . to jest typ węzła którym działają usługi aplikacji, dlatego SKU maszyny Wirtualnej wybierz dla niego, należy wziąć pod uwagę obciążenia szczytowego planowane jest umieszczenie w każdym węźle.</span><span class="sxs-lookup"><span data-stu-id="fb118-255">**VM SKU:** This is the node type where your application services are running, so the VM SKU you choose for it, must take into account the peak load you plan to place into each Node.</span></span> <span data-ttu-id="fb118-256">Wymagana pojemność elementu nodetype, zależy od obciążenia, który ma zostać uruchomiona w klastrze, dlatego firma Microsoft nie może zapewnić jakościowe wskazówek dla określonego obciążenia, jednak w tym miejscu jest szerokie wskazówki ułatwiające rozpoczęcie pracy</span><span class="sxs-lookup"><span data-stu-id="fb118-256">The capacity needs of the nodetype, is determined by workload you plan to run in the cluster, so we cannot provide you with qualitative guidance for your specific workload, however here is the broad guidance to help you get started</span></span>

<span data-ttu-id="fb118-257">W przypadku obciążeń produkcyjnych</span><span class="sxs-lookup"><span data-stu-id="fb118-257">For production workloads</span></span> 

- <span data-ttu-id="fb118-258">Zalecaną WERSJĘ maszyny Wirtualnej jest standardowe D3 lub standardowy D3_V2 lub równoważne z co najmniej 14 GB lokalny dysk SSD.</span><span class="sxs-lookup"><span data-stu-id="fb118-258">The recommended VM SKU is Standard D3 or Standard D3_V2 or equivalent with a minimum of 14 GB of local SSD.</span></span>
- <span data-ttu-id="fb118-259">Minimalne obsługiwane użycie SKU maszyny Wirtualnej jest standardowe D1 lub standardowy D1_V2 lub równoważne z co najmniej 14 GB lokalny dysk SSD.</span><span class="sxs-lookup"><span data-stu-id="fb118-259">The minimum supported use VM SKU is Standard D1 or Standard D1_V2 or equivalent with a minimum of 14 GB of local SSD.</span></span> 
- <span data-ttu-id="fb118-260">Częściowe podstawowej jednostki SKU maszyny Wirtualnej, podobnie jak standardowy A0 nie są obsługiwane w przypadku obciążeń produkcyjnych.</span><span class="sxs-lookup"><span data-stu-id="fb118-260">Partial core VM SKUs like Standard A0 are not supported for production workloads.</span></span>
- <span data-ttu-id="fb118-261">Standardowy SKU A1 specjalnie nie jest obsługiwana w przypadku obciążeń produkcyjnych ze względu na wydajność.</span><span class="sxs-lookup"><span data-stu-id="fb118-261">Standard A1 SKU is specifically not supported for production workloads for performance reasons.</span></span>


## <a name="non-primary-node-type---capacity-guidance-for-stateless-workloads"></a><span data-ttu-id="fb118-262">Typ węzła non-Primary — wskazówki dotyczące wydajności w przypadku obciążeń bezstanowych</span><span class="sxs-lookup"><span data-stu-id="fb118-262">Non-Primary node type - Capacity Guidance for stateless workloads</span></span>

<span data-ttu-id="fb118-263">W tych wskazówkach bezstanowe uruchomionych na nodetype innej niż podstawowa.</span><span class="sxs-lookup"><span data-stu-id="fb118-263">This guidance of stateless Workloads that you are running on the non-primary nodetype.</span></span>

<span data-ttu-id="fb118-264">**Liczba wystąpień maszyn wirtualnych:** dla obciążeń produkcyjnych, które są bezstanowych, rozmiar typu minimalne obsługiwane z systemem innym niż podstawowy węzłami wynosi 2.</span><span class="sxs-lookup"><span data-stu-id="fb118-264">**Number of VM instances:** For production workloads that are stateless, the minimum supported non-Primary Node type size is 2.</span></span> <span data-ttu-id="fb118-265">Dzięki temu można przeprowadzić dwa bezstanowych wystąpienia aplikacji, dzięki czemu usługi na przetrwanie utraty wystąpienia maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="fb118-265">This allows you to run you two stateless instances of your application and allowing your service to survive the loss of a VM instance.</span></span> 

> [!NOTE]
> <span data-ttu-id="fb118-266">Jeśli klaster jest uruchomiona usługa sieci szkieletowej wersji mniejszej niż 5.6, z powodu wada środowiska uruchomieniowego (tego problemu w 5.6), skalowania typu innego niż podstawowy węzła na mniej niż 5 powoduje włączenie zła, dopóki wywołania kondycji klastra [ Usuń ServiceFabricNodeState cmd](https://docs.microsoft.com/powershell/servicefabric/vlatest/Remove-ServiceFabricNodeState) o nazwie odpowiedni węzeł.</span><span class="sxs-lookup"><span data-stu-id="fb118-266">If your cluster is running on a service fabric version less than 5.6, due to a defect in the runtime (this issue is fixed in 5.6), scaling down a non-primary node type to less than 5, results in cluster health turning unhealthy, till you call [Remove-ServiceFabricNodeState cmd](https://docs.microsoft.com/powershell/servicefabric/vlatest/Remove-ServiceFabricNodeState) with the appropriate node name.</span></span> <span data-ttu-id="fb118-267">Odczyt [wykonać klastra sieci szkieletowej usług lub](service-fabric-cluster-scale-up-down.md) więcej szczegółów</span><span class="sxs-lookup"><span data-stu-id="fb118-267">Read [perform Service Fabric cluster in or out](service-fabric-cluster-scale-up-down.md) for more details</span></span>
> 
>

<span data-ttu-id="fb118-268">**Maszyna wirtualna SKU:** . to jest typ węzła którym działają usługi aplikacji, dlatego SKU maszyny Wirtualnej wybierz dla niego, należy wziąć pod uwagę obciążenia szczytowego planowane jest umieszczenie w każdym węźle.</span><span class="sxs-lookup"><span data-stu-id="fb118-268">**VM SKU:** This is the node type where your application services are running, so the VM SKU you choose for it, must take into account the peak load you plan to place into each Node.</span></span> <span data-ttu-id="fb118-269">Wymagana pojemność elementu nodetype, zależy od obciążenia, który ma zostać uruchomiona w klastrze, dlatego firma Microsoft nie może zapewnić jakościowe wskazówek dla określonego obciążenia, jednak w tym miejscu jest szerokie wskazówki ułatwiające rozpoczęcie pracy</span><span class="sxs-lookup"><span data-stu-id="fb118-269">The capacity needs of the nodetype, is determined by workload you plan to run in the cluster, So we cannot provide you with qualitative guidance for your specific workload, however here is the broad guidance to help you get started</span></span>

<span data-ttu-id="fb118-270">W przypadku obciążeń produkcyjnych</span><span class="sxs-lookup"><span data-stu-id="fb118-270">For production workloads</span></span> 


- <span data-ttu-id="fb118-271">Zalecaną WERSJĘ maszyny Wirtualnej jest standardowe D3 lub standardowy D3_V2 lub równoważnej.</span><span class="sxs-lookup"><span data-stu-id="fb118-271">The recommended VM SKU is Standard D3 or Standard D3_V2 or equivalent.</span></span> 
- <span data-ttu-id="fb118-272">Minimalna użycie obsługiwanych SKU maszyny Wirtualnej jest standardowe D1 lub standardowy D1_V2 lub równoważnej.</span><span class="sxs-lookup"><span data-stu-id="fb118-272">The minimum supported use VM SKU is Standard D1 or Standard D1_V2 or equivalent.</span></span> 
- <span data-ttu-id="fb118-273">Częściowe podstawowej jednostki SKU maszyny Wirtualnej, podobnie jak standardowy A0 nie są obsługiwane w przypadku obciążeń produkcyjnych.</span><span class="sxs-lookup"><span data-stu-id="fb118-273">Partial core VM SKUs like Standard A0 are not supported for production workloads.</span></span>
- <span data-ttu-id="fb118-274">Standardowy SKU A1 nie jest obsługiwana w przypadku obciążeń produkcyjnych ze względu na wydajność.</span><span class="sxs-lookup"><span data-stu-id="fb118-274">Standard A1 SKU is not supported for production workloads for performance reasons.</span></span>

<!--Every topic should have next steps and links to the next logical set of content to keep the customer engaged-->

## <a name="next-steps"></a><span data-ttu-id="fb118-275">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="fb118-275">Next steps</span></span>
<span data-ttu-id="fb118-276">Po zakończeniu, planowanie pojemności i konfigurowanie klastra, przeczytaj następujące artykuły:</span><span class="sxs-lookup"><span data-stu-id="fb118-276">Once you finish your capacity planning and set up a cluster, read the following:</span></span>

* [<span data-ttu-id="fb118-277">Zabezpieczenia klastra sieci szkieletowej usług</span><span class="sxs-lookup"><span data-stu-id="fb118-277">Service Fabric cluster security</span></span>](service-fabric-cluster-security.md)
* [<span data-ttu-id="fb118-278">Wprowadzenie modelu kondycji sieci szkieletowej usług</span><span class="sxs-lookup"><span data-stu-id="fb118-278">Service Fabric health model introduction</span></span>](service-fabric-health-introduction.md)
* [<span data-ttu-id="fb118-279">Relacja z elementów NodeType skali maszyny wirtualnej</span><span class="sxs-lookup"><span data-stu-id="fb118-279">Relationship of Nodetypes to Virtual machine scale set</span></span>](service-fabric-cluster-nodetypes.md)

<!--Image references-->
[SystemServices]: ./media/service-fabric-cluster-capacity/SystemServices.png
