---
title: "Skalowalność usługi sieć szkieletowa usług | Dokumentacja firmy Microsoft"
description: "Opis zmiany skali usługi sieci szkieletowej usług"
services: service-fabric
documentationcenter: .net
author: masnider
manager: timlt
editor: 
ms.assetid: ed324f23-242f-47b7-af1a-e55c839e7d5d
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 08/18/2017
ms.author: masnider
ms.openlocfilehash: e2dd48341499b18ebd1433611063746e95a5ac62
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 08/29/2017
---
# <a name="scaling-in-service-fabric"></a><span data-ttu-id="42e89-103">Skalowanie w sieci szkieletowej usług</span><span class="sxs-lookup"><span data-stu-id="42e89-103">Scaling in Service Fabric</span></span>
<span data-ttu-id="42e89-104">Sieć szkieletowa usług Azure ułatwia tworzenie skalowalnych aplikacji dzięki zarządzaniu usług, partycji i replik w węzłach klastra.</span><span class="sxs-lookup"><span data-stu-id="42e89-104">Azure Service Fabric makes it easy to build scalable applications by managing the services, partitions, and replicas on the nodes of a cluster.</span></span> <span data-ttu-id="42e89-105">Uruchamianie wielu obciążeń na tym samym sprzęcie umożliwia wykorzystanie zasobów maksymalna, ale również zapewnia elastyczność pod względem sposobu wybranego skalowania obciążeń.</span><span class="sxs-lookup"><span data-stu-id="42e89-105">Running many workloads on the same hardware enables maximum resource utilization, but also provides flexibility in terms of how you choose to scale your workloads.</span></span> 

<span data-ttu-id="42e89-106">Skalowanie w sieci szkieletowej usług odbywa się na kilka różnych sposobów:</span><span class="sxs-lookup"><span data-stu-id="42e89-106">Scaling in Service Fabric is accomplished several different ways:</span></span>

1. <span data-ttu-id="42e89-107">Skalowanie przez tworzenie lub usuwanie wystąpienia usługi bezstanowej</span><span class="sxs-lookup"><span data-stu-id="42e89-107">Scaling by creating or removing stateless service instances</span></span>
2. <span data-ttu-id="42e89-108">Skalowanie przez tworzenia lub usuwania nowych o nazwie usługi</span><span class="sxs-lookup"><span data-stu-id="42e89-108">Scaling by creating or removing new named services</span></span>
3. <span data-ttu-id="42e89-109">Skalowanie przez tworzenia lub usuwania nowych nazwane wystąpienia aplikacji</span><span class="sxs-lookup"><span data-stu-id="42e89-109">Scaling by creating or removing new named application instances</span></span>
4. <span data-ttu-id="42e89-110">Skalowanie za pomocą usług podzielonym na partycje</span><span class="sxs-lookup"><span data-stu-id="42e89-110">Scaling by using partitioned services</span></span>
5. <span data-ttu-id="42e89-111">Skalowanie przez dodawanie i usuwanie węzłów z klastra</span><span class="sxs-lookup"><span data-stu-id="42e89-111">Scaling by adding and removing nodes from the cluster</span></span> 
6. <span data-ttu-id="42e89-112">Skalowanie przy użyciu metryk Menedżera zasobów klastra</span><span class="sxs-lookup"><span data-stu-id="42e89-112">Scaling by using Cluster Resource Manager metrics</span></span>

## <a name="scaling-by-creating-or-removing-stateless-service-instances"></a><span data-ttu-id="42e89-113">Skalowanie przez tworzenie lub usuwanie wystąpienia usługi bezstanowej</span><span class="sxs-lookup"><span data-stu-id="42e89-113">Scaling by creating or removing stateless service instances</span></span>
<span data-ttu-id="42e89-114">Jedną z najprostszych sposobów skalować w sieci szkieletowej usług współpracuje z usług bezstanowych.</span><span class="sxs-lookup"><span data-stu-id="42e89-114">One of the simplest ways to scale within Service Fabric works with stateless services.</span></span> <span data-ttu-id="42e89-115">Podczas tworzenia usługi bezstanowej, możesz uzyskać możliwość definiowania `InstanceCount`.</span><span class="sxs-lookup"><span data-stu-id="42e89-115">When you create a stateless service, you get a chance to define an `InstanceCount`.</span></span> <span data-ttu-id="42e89-116">`InstanceCount`Określa, ile działających kopii tej usługi kodu są tworzone po uruchomieniu usługi.</span><span class="sxs-lookup"><span data-stu-id="42e89-116">`InstanceCount` defines how many running copies of that service's code are created when the service starts up.</span></span> <span data-ttu-id="42e89-117">Załóżmy na przykład, czy 100 węzłów w klastrze.</span><span class="sxs-lookup"><span data-stu-id="42e89-117">Let's say, for example, that there are 100 nodes in the cluster.</span></span> <span data-ttu-id="42e89-118">Również Załóżmy, że usługa jest tworzony z `InstanceCount` 10.</span><span class="sxs-lookup"><span data-stu-id="42e89-118">Let's also say that a service is created with an `InstanceCount` of 10.</span></span> <span data-ttu-id="42e89-119">W czasie wykonywania te 10 uruchomionej kopii kodu może wszystkie stać się zbyt zajęty (lub może nie być wystarczająco zajęty).</span><span class="sxs-lookup"><span data-stu-id="42e89-119">During runtime, those 10 running copies of the code could all become too busy (or could be not busy enough).</span></span> <span data-ttu-id="42e89-120">Jednym ze sposobów skalować, aby obciążenie jest liczba wystąpień.</span><span class="sxs-lookup"><span data-stu-id="42e89-120">One way to scale that workload is to change the number of instances.</span></span> <span data-ttu-id="42e89-121">Na przykład niektóre fragment kodu, monitorowania i zarządzania można zmienić istniejące liczbę wystąpień 50 lub 5, w zależności od tego, czy obciążenie powinna skalować lub na podstawie obciążenia.</span><span class="sxs-lookup"><span data-stu-id="42e89-121">For example, some piece of monitoring or management code can change the existing number of instances to 50, or to 5, depending on whether the workload needs to scale in or out based on the load.</span></span> 

<span data-ttu-id="42e89-122">C#:</span><span class="sxs-lookup"><span data-stu-id="42e89-122">C#:</span></span>

```csharp
StatelessServiceUpdateDescription updateDescription = new StatelessServiceUpdateDescription(); 
updateDescription.InstanceCount = 50;
await fabricClient.ServiceManager.UpdateServiceAsync(new Uri("fabric:/app/service"), updateDescription);
```

<span data-ttu-id="42e89-123">Środowiska PowerShell:</span><span class="sxs-lookup"><span data-stu-id="42e89-123">Powershell:</span></span>

```posh
Update-ServiceFabricService -Stateless -ServiceName $serviceName -InstanceCount 50
```
### <a name="using-dynamic-instance-count"></a><span data-ttu-id="42e89-124">Przy użyciu dynamicznych liczba wystąpień</span><span class="sxs-lookup"><span data-stu-id="42e89-124">Using Dynamic Instance Count</span></span>
<span data-ttu-id="42e89-125">W szczególności w przypadku usług bezstanowych sieci szkieletowej usług oferuje automatyczny sposób, aby zmienić liczbę wystąpień.</span><span class="sxs-lookup"><span data-stu-id="42e89-125">Specifically for stateless services, Service Fabric offers an automatic way to change the instance count.</span></span> <span data-ttu-id="42e89-126">Dzięki temu usługa dynamicznie skalować liczbę węzłów, które są dostępne.</span><span class="sxs-lookup"><span data-stu-id="42e89-126">This allows the service to scale dynamically with the number of nodes that are available.</span></span> <span data-ttu-id="42e89-127">Sposobem uczestnictwa w to zachowanie jest ustawiona liczba wystąpień = -1.</span><span class="sxs-lookup"><span data-stu-id="42e89-127">The way to opt into this behavior is to set the instance count = -1.</span></span> <span data-ttu-id="42e89-128">Wartość InstanceCount = -1 jest instrukcją sieci szkieletowej usług informacją "Uruchamianie tej usługi bezstanowej na każdym węźle."</span><span class="sxs-lookup"><span data-stu-id="42e89-128">InstanceCount = -1 is an instruction to Service Fabric that says "Run this stateless service on every node."</span></span> <span data-ttu-id="42e89-129">W przypadku zmiany liczby węzłów, sieci szkieletowej usług automatycznie zmienia liczbę wystąpień do dopasowania, zapewnienie, że usługa jest uruchomiona na wszystkich węzłach prawidłowe.</span><span class="sxs-lookup"><span data-stu-id="42e89-129">If the number of nodes changes, Service Fabric automatically changes the instance count to match, ensuring that the service is running on all valid nodes.</span></span> 

<span data-ttu-id="42e89-130">C#:</span><span class="sxs-lookup"><span data-stu-id="42e89-130">C#:</span></span>

```csharp
StatelessServiceDescription serviceDescription = new StatelessServiceDescription();
//Set other service properties necessary for creation....
serviceDescription.InstanceCount = -1;
await fc.ServiceManager.CreateServiceAsync(serviceDescription);
```

<span data-ttu-id="42e89-131">Środowiska PowerShell:</span><span class="sxs-lookup"><span data-stu-id="42e89-131">Powershell:</span></span>

```posh
New-ServiceFabricService -ApplicationName $applicationName -ServiceName $serviceName -ServiceTypeName $serviceTypeName -Stateless -PartitionSchemeSingleton -InstanceCount "-1"
```

## <a name="scaling-by-creating-or-removing-new-named-services"></a><span data-ttu-id="42e89-132">Skalowanie przez tworzenia lub usuwania nowych o nazwie usługi</span><span class="sxs-lookup"><span data-stu-id="42e89-132">Scaling by creating or removing new named services</span></span>
<span data-ttu-id="42e89-133">Wystąpienie usługi o nazwie jest określonego wystąpienia typu usługi (zobacz [cyklu życia aplikacji w sieci szkieletowej usług](service-fabric-application-lifecycle.md)) w ramach niektóre wystąpienia nazwanego aplikacji w klastrze.</span><span class="sxs-lookup"><span data-stu-id="42e89-133">A named service instance is a specific instance of a service type (see [Service Fabric application life cycle](service-fabric-application-lifecycle.md)) within some named application instance in the cluster.</span></span> 

<span data-ttu-id="42e89-134">Nowe wystąpienia usługi o nazwie można utworzyć (lub usunięte) jako usługi staną się bardziej lub mniej zajęty.</span><span class="sxs-lookup"><span data-stu-id="42e89-134">New named service instances can be created (or removed) as services become more or less busy.</span></span> <span data-ttu-id="42e89-135">Dzięki temu żądań było ich rozmieszczenie więcej wystąpień usługi, zwykle zwiększając istniejących usług na zmniejszenie obciążenia.</span><span class="sxs-lookup"><span data-stu-id="42e89-135">This allows requests to be spread across more service instances, usually allowing load on existing services to decrease.</span></span> <span data-ttu-id="42e89-136">Podczas tworzenia usługi, Menedżer zasobów klastra sieci szkieletowej usług umieszcza usługi klastra w sposób rozproszonych.</span><span class="sxs-lookup"><span data-stu-id="42e89-136">When creating services, the Service Fabric Cluster Resource Manager places the services in the cluster in a distributed fashion.</span></span> <span data-ttu-id="42e89-137">Dokładne decyzje są regulowane przez [metryki](service-fabric-cluster-resource-manager-metrics.md) w klastrze i inne zasady umieszczania.</span><span class="sxs-lookup"><span data-stu-id="42e89-137">The exact decisions are governed by the [metrics](service-fabric-cluster-resource-manager-metrics.md) in the cluster and other placement rules.</span></span> <span data-ttu-id="42e89-138">Usługi mogą być tworzone na kilka różnych sposobów, ale są najczęściej używane przez działania administracyjne, takie jak ktoś wywoływania [ `New-ServiceFabricService` ](https://docs.microsoft.com/en-us/powershell/module/servicefabric/new-servicefabricservice?view=azureservicefabricps), lub przez wywołanie kodu [ `CreateServiceAsync` ](https://docs.microsoft.com/en-us/dotnet/api/system.fabric.fabricclient.servicemanagementclient.createserviceasync?view=azure-dotnet).</span><span class="sxs-lookup"><span data-stu-id="42e89-138">Services can be created several different ways, but the most common are either through administrative actions like someone calling [`New-ServiceFabricService`](https://docs.microsoft.com/en-us/powershell/module/servicefabric/new-servicefabricservice?view=azureservicefabricps), or by code calling [`CreateServiceAsync`](https://docs.microsoft.com/en-us/dotnet/api/system.fabric.fabricclient.servicemanagementclient.createserviceasync?view=azure-dotnet).</span></span> <span data-ttu-id="42e89-139">`CreateServiceAsync`Można nawet można wywoływać z wewnątrz innych usług uruchomionych w klastrze.</span><span class="sxs-lookup"><span data-stu-id="42e89-139">`CreateServiceAsync` can even be called from within other services running in the cluster.</span></span>

<span data-ttu-id="42e89-140">Dynamicznie tworzenie usług mogą być używane w szerokiej gamy scenariuszy i jest wspólnym wzorcem.</span><span class="sxs-lookup"><span data-stu-id="42e89-140">Creating services dynamically can be used in all sorts of scenarios, and is a common pattern.</span></span> <span data-ttu-id="42e89-141">Rozważmy na przykład usługi stanowej, która reprezentuje określonego przepływu pracy.</span><span class="sxs-lookup"><span data-stu-id="42e89-141">For example, consider a stateful service that represents a particular workflow.</span></span> <span data-ttu-id="42e89-142">Połączenia reprezentującą pracy mają być wyświetlane do tej usługi, a ta usługa ma wykonać kroki tego przepływu pracy i rejestrowanie postępu.</span><span class="sxs-lookup"><span data-stu-id="42e89-142">Calls representing work are going to show up to this service, and this service is going to execute the steps to that workflow and record progress.</span></span> 

<span data-ttu-id="42e89-143">Jak można utworzyć tej skali określonej usługi?</span><span class="sxs-lookup"><span data-stu-id="42e89-143">How would you make this particular service scale?</span></span> <span data-ttu-id="42e89-144">Usługa może być wielodostępne w pewnej formy i akceptować połączeń i zaczną działać jednocześnie poza kroki dla wielu różnych wystąpień tego samego przepływu pracy.</span><span class="sxs-lookup"><span data-stu-id="42e89-144">The service could be multi-tenant in some form, and accept calls and kick off steps for many different instances of the same workflow all at once.</span></span> <span data-ttu-id="42e89-145">Jednak który wprowadzić kod bardziej złożonej, ponieważ aktualnie martwić się o wiele różnych wystąpień tego samego przepływu pracy, wszystko na różnych etapach oraz od innych klientów.</span><span class="sxs-lookup"><span data-stu-id="42e89-145">However, that can make the code more complex, since now it has to worry about many different instances of the same workflow, all at different stages and from different customers.</span></span> <span data-ttu-id="42e89-146">Ponadto obsługa wielu przepływów pracy w tym samym czasie nie rozwiąże problemu skali.</span><span class="sxs-lookup"><span data-stu-id="42e89-146">Also, handling multiple workflows at the same time doesn't solve the scale problem.</span></span> <span data-ttu-id="42e89-147">Jest to spowodowane w pewnym momencie tej usługi zużywa zbyt wiele zasobów, aby pomieścić się na określonym komputerze.</span><span class="sxs-lookup"><span data-stu-id="42e89-147">This is because at some point this service will consume too many resources to fit on a particular machine.</span></span> <span data-ttu-id="42e89-148">Wiele usług nie jest skompilowany dla tego wzorca w pierwszej kolejności również wystąpić problemy z powodu niektóre związanego z używaniem "wąskie gardło" lub spowolnienie ich kodu.</span><span class="sxs-lookup"><span data-stu-id="42e89-148">Many services not built for this pattern in the first place also experience difficulty due to some inherent bottleneck or slowdown in their code.</span></span> <span data-ttu-id="42e89-149">Tego rodzaju problemy spowodować, że usługa nie będą działać również w przypadku pobiera większą liczbę jednoczesnych przepływów pracy, który go służy do śledzenia.</span><span class="sxs-lookup"><span data-stu-id="42e89-149">These types of issues cause the service not to work as well when the number of concurrent workflows it is tracking gets larger.</span></span>  

<span data-ttu-id="42e89-150">Rozwiązaniem jest utworzenie wystąpienia tej usługi, dla każdego innego wystąpienia przepływu pracy, które mają być śledzone. To jest doskonałym wzorca i działa, czy usługa jest bezstanowych i stanowych.</span><span class="sxs-lookup"><span data-stu-id="42e89-150">A solution is to create an instance of this service for every different instance of the workflow you want to track. This is a great pattern and works whether the service is stateless or stateful.</span></span> <span data-ttu-id="42e89-151">Ten wzorzec do pracy jest zazwyczaj innej usługi, która działa jako "Usługa Menedżera obciążenia".</span><span class="sxs-lookup"><span data-stu-id="42e89-151">For this pattern to work, there's usually another service that acts as a "Workload Manager Service".</span></span> <span data-ttu-id="42e89-152">Zadania tej usługi jest do odbierania żądań i kierować te żądania do innych usług.</span><span class="sxs-lookup"><span data-stu-id="42e89-152">The job of this service is to receive requests and to route those requests to other services.</span></span> <span data-ttu-id="42e89-153">Menedżer można dynamicznie utworzyć wystąpienia usługi Obciążenie, gdy odbierze komunikat, a następnie przekazać w odpowiedzi na żądania do tych usług.</span><span class="sxs-lookup"><span data-stu-id="42e89-153">The manager can dynamically create an instance of the workload service when it receives the message, and then pass on requests to those services.</span></span> <span data-ttu-id="42e89-154">Usługa Menedżera również otrzymać wywołania zwrotne usługi danego przepływu pracy wykonuje swojego zadania.</span><span class="sxs-lookup"><span data-stu-id="42e89-154">The manager service could also receive callbacks when a given workflow service completes its job.</span></span> <span data-ttu-id="42e89-155">Odebrania Menedżera tych wywołań zwrotnych go można usunąć to wystąpienie usługi przepływu pracy, lub pozostaw Jeśli oczekiwano kolejnych wywołań.</span><span class="sxs-lookup"><span data-stu-id="42e89-155">When the manager receives these callbacks it could delete that instance of the workflow service, or leave it if more calls are expected.</span></span> 

<span data-ttu-id="42e89-156">Zaawansowane wersje tego typu manager można również utworzyć pule usług, którymi zarządza.</span><span class="sxs-lookup"><span data-stu-id="42e89-156">Advanced versions of this type of manager can even create pools of the services that it manages.</span></span> <span data-ttu-id="42e89-157">Puli gwarantuje, że gdy nowe żądanie nie ma czekać, aż usługi.</span><span class="sxs-lookup"><span data-stu-id="42e89-157">The pool helps ensure that when a new request comes in it doesn't have to wait for the service to spin up.</span></span> <span data-ttu-id="42e89-158">Zamiast tego menedżera można po prostu wybierz usługi przepływu pracy, który nie jest aktualnie zajęty z puli, lub losowo trasy.</span><span class="sxs-lookup"><span data-stu-id="42e89-158">Instead, the manager can just pick a workflow service that is not currently busy from the pool, or route randomly.</span></span> <span data-ttu-id="42e89-159">Utrzymywanie puli usług dostępnych przyspiesza nowych żądań obsługi, ponieważ jest mniej prawdopodobne, że żądanie ma czekać na nową usługę do przejścia można.</span><span class="sxs-lookup"><span data-stu-id="42e89-159">Keeping a pool of services available makes handling new requests faster, since it is less likely that the request has to wait for a new service to be spun up.</span></span> <span data-ttu-id="42e89-160">Tworzenie nowych usług szybki, ale nie jest wolnego lub natychmiastowe.</span><span class="sxs-lookup"><span data-stu-id="42e89-160">Creating new services is quick, but not free or instantaneous.</span></span> <span data-ttu-id="42e89-161">Pula minimalizuje ilość czasu, żądanie musi odczekać są obsługiwane.</span><span class="sxs-lookup"><span data-stu-id="42e89-161">The pool helps minimize the amount of time the request has to wait before being serviced.</span></span> <span data-ttu-id="42e89-162">Często zobaczysz ten menedżer i wzorzec puli gdy czas reakcji niezależnie od tego, najczęściej.</span><span class="sxs-lookup"><span data-stu-id="42e89-162">You'll often see this manager and pool pattern when response times matter the most.</span></span> <span data-ttu-id="42e89-163">Kolejkowanie żądania i tworzenie usługi w tle i _następnie_ przekazanie jej jest również wzorzec popularnych Menedżera jako jest tworzenie i usuwanie usług w oparciu o niektórych śledzenie ilość pracy usługi aktualnie ma oczekujące.</span><span class="sxs-lookup"><span data-stu-id="42e89-163">Queuing the request and creating the service in the background and _then_ passing it on is also a popular manager pattern, as is creating and deleting services based on some tracking of the amount of work that service currently has pending.</span></span> 

## <a name="scaling-by-creating-or-removing-new-named-application-instances"></a><span data-ttu-id="42e89-164">Skalowanie przez tworzenia lub usuwania nowych nazwane wystąpienia aplikacji</span><span class="sxs-lookup"><span data-stu-id="42e89-164">Scaling by creating or removing new named application instances</span></span>
<span data-ttu-id="42e89-165">Tworzenie i usuwanie instancji całej aplikacji jest podobny do wzorca tworzenia i usuwania usług.</span><span class="sxs-lookup"><span data-stu-id="42e89-165">Creating and deleting whole application instances is similar to the pattern of creating and deleting services.</span></span> <span data-ttu-id="42e89-166">Ten wzorzec jest niektóre usługi Menedżera, która jest podejmowania decyzji na podstawie żądań, które go ma do czynienia i informacje, że odbiera z innymi usługami wewnątrz klastra.</span><span class="sxs-lookup"><span data-stu-id="42e89-166">For this pattern, there's some manager service that is making the decision based on the requests that it is seeing and the information it is receiving from the other services inside the cluster.</span></span> 

<span data-ttu-id="42e89-167">Podczas tworzenia nowego wystąpienia nazwanego aplikacji stosuje się zamiast tworzyć nowe wystąpienia usługi o nazwie w istniejącej aplikacji?</span><span class="sxs-lookup"><span data-stu-id="42e89-167">When should creating a new named application instance be used instead of creating a new named service instances in some already existing application?</span></span> <span data-ttu-id="42e89-168">Istnieje kilka przykładów:</span><span class="sxs-lookup"><span data-stu-id="42e89-168">There's a few cases:</span></span>

  * <span data-ttu-id="42e89-169">Nowe wystąpienie aplikacji jest dla danego klienta, którego kod musi być uruchamiane w ramach niektórych określonej tożsamości lub ustawienia zabezpieczeń.</span><span class="sxs-lookup"><span data-stu-id="42e89-169">The new application instance is for a customer whose code needs to run under some particular identity or security settings.</span></span>
    * <span data-ttu-id="42e89-170">Sieć szkieletowa usług umożliwia definiowanie pakietów inny kod do uruchamiania w określonej tożsamości.</span><span class="sxs-lookup"><span data-stu-id="42e89-170">Service Fabric allows defining different code packages to run under particular identities.</span></span> <span data-ttu-id="42e89-171">Aby uruchomić tego samego pakietu kodu w ramach tożsamości innego, aktywacji przez muszą zostać wykonane w innej aplikacji wystąpień.</span><span class="sxs-lookup"><span data-stu-id="42e89-171">In order to launch the same code package under different identities, the activations need to occur in different application instances.</span></span> <span data-ttu-id="42e89-172">Rozważmy, gdzie masz istniejący klient obciążeń wdrożonych.</span><span class="sxs-lookup"><span data-stu-id="42e89-172">Consider a case where you have an existing customer's workloads deployed.</span></span> <span data-ttu-id="42e89-173">Te może być uruchomiony w ramach określonej tożsamości, dzięki czemu może monitorować i kontrolowanie dostępu do innych zasobów, takie jak zdalne bazy danych lub innych systemów.</span><span class="sxs-lookup"><span data-stu-id="42e89-173">These may be running under a particular identity so you can monitor and control their access to other resources, such as remote databases or other systems.</span></span> <span data-ttu-id="42e89-174">W takim przypadku po zarejestrowaniu nowego klienta, prawdopodobnie nie chcesz aktywować swój kod w tym samym kontekście (proces miejsca).</span><span class="sxs-lookup"><span data-stu-id="42e89-174">In this case, when a new customer signs up, you probably don't want to activate their code in the same context (process space).</span></span> <span data-ttu-id="42e89-175">Gdy użytkownik może utrudnia dla kodu usługi do działania w ramach określonej tożsamości.</span><span class="sxs-lookup"><span data-stu-id="42e89-175">While you could, this makes it harder for your service code to act within the context of a particular identity.</span></span> <span data-ttu-id="42e89-176">Zazwyczaj należy więcej zabezpieczeń, izolacji i kod zarządzania tożsamościami.</span><span class="sxs-lookup"><span data-stu-id="42e89-176">You typically must have more security, isolation, and identity management code.</span></span> <span data-ttu-id="42e89-177">Zamiast różnych nazwane wystąpienia usługi w ramach tego samego wystąpienia aplikacji i dlatego tego samego procesu miejsca, można użyć różnych nazwane wystąpienia aplikacji sieci szkieletowej usług.</span><span class="sxs-lookup"><span data-stu-id="42e89-177">Instead of using different named service instances within the same application instance and hence the same process space, you can use different named Service Fabric Application instances.</span></span> <span data-ttu-id="42e89-178">Ułatwia określenie tożsamości różnych kontekstach.</span><span class="sxs-lookup"><span data-stu-id="42e89-178">This makes it easier to define different identity contexts.</span></span>
  * <span data-ttu-id="42e89-179">Nowe wystąpienie aplikacji służy również jako środek konfiguracji</span><span class="sxs-lookup"><span data-stu-id="42e89-179">The new application instance also serves as a means of configuration</span></span>
    * <span data-ttu-id="42e89-180">Domyślnie wszystkich wystąpień usługi o nazwie typu określonej usługi, w ramach wystąpienia aplikacji zostanie uruchomiony w ten sam proces danego węzła.</span><span class="sxs-lookup"><span data-stu-id="42e89-180">By default, all of the named service instances of a particular service type within an application instance will run in the same process on a given node.</span></span> <span data-ttu-id="42e89-181">Co to oznacza to, że podczas każdego wystąpienia usługi można skonfigurować inaczej, jest to skomplikowane.</span><span class="sxs-lookup"><span data-stu-id="42e89-181">What this means is that while you can configure each service instance differently, doing so is complicated.</span></span> <span data-ttu-id="42e89-182">Usługi muszą mieć niektóre token, używanych do wyszukiwania ich konfiguracji w ramach pakietu konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="42e89-182">Services must have some token they use to look up their config within a configuration package.</span></span> <span data-ttu-id="42e89-183">Zazwyczaj jest to tylko nazwę usługi.</span><span class="sxs-lookup"><span data-stu-id="42e89-183">Usually this is just the service's name.</span></span> <span data-ttu-id="42e89-184">To działa prawidłowo, ale jego couples konfiguracji do nazw wystąpień poszczególnych usługi o nazwie w ramach danego wystąpienia aplikacji.</span><span class="sxs-lookup"><span data-stu-id="42e89-184">This works fine, but it couples the configuration to the names of the individual named service instances within that application instance.</span></span> <span data-ttu-id="42e89-185">Może to być skomplikowane i trudne do zarządzania, ponieważ konfiguracja jest zwykle artefaktem czasu projektowania, z określonymi wartościami wystąpienie aplikacji.</span><span class="sxs-lookup"><span data-stu-id="42e89-185">This can be confusing and hard to manage since configuration is normally a design time artifact with application instance specific values.</span></span> <span data-ttu-id="42e89-186">Utworzenie większej liczby usług zawsze powoduje więcej uaktualnień aplikacji w celu zmiany informacji zawartych w pakietach konfiguracji lub wdrożyć nowe, tak aby nowych usług można wyszukiwać ich określone informacje.</span><span class="sxs-lookup"><span data-stu-id="42e89-186">Creating more services always means more application upgrades to change the information within the config packages or to deploy new ones so that the new services can look up their specific information.</span></span> <span data-ttu-id="42e89-187">Często łatwiej jest utworzyć całkiem nowe wystąpienie aplikacji o nazwie.</span><span class="sxs-lookup"><span data-stu-id="42e89-187">It's often easier to create a whole new named application instance.</span></span> <span data-ttu-id="42e89-188">Następnie można parametry aplikacji ustawić niezależnie od konfiguracji jest niezbędne dla usług.</span><span class="sxs-lookup"><span data-stu-id="42e89-188">Then you can use the application parameters to set whatever configuration is necessary for the services.</span></span> <span data-ttu-id="42e89-189">W ten sposób wszystkich usług, które są tworzone w ramach których nazwane wystąpienie aplikacji może dziedziczyć ustawień określonej konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="42e89-189">This way all of the services that are created within that named application instance can inherit particular configuration settings.</span></span> <span data-ttu-id="42e89-190">Na przykład zamiast pojedynczym pliku konfiguracji z ustawień i dostosowań dla każdego klienta, takich jak tajemnice lub na ograniczenia zasobów klienta, zamiast tego trzeba inną aplikację dla poszczególnych klientów przy użyciu tych ustawień przesłonięcia.</span><span class="sxs-lookup"><span data-stu-id="42e89-190">For example, instead of having a single configuration file with the settings and customizations for every customer, such as secrets or per customer resource limits, you'd instead have a different application instance for each customer with these settings overridden.</span></span> 
  * <span data-ttu-id="42e89-191">Nowa aplikacja służy jako granica uaktualnienia</span><span class="sxs-lookup"><span data-stu-id="42e89-191">The new application serves as an upgrade boundary</span></span>
    * <span data-ttu-id="42e89-192">W ramach usługi Service Fabric inną aplikację nazwanego wystąpienia służyć jako granic w celu uaktualnienia.</span><span class="sxs-lookup"><span data-stu-id="42e89-192">Within Service Fabric, different named application instances serve as boundaries for upgrade.</span></span> <span data-ttu-id="42e89-193">Uaktualnienie jednego wystąpienia nazwanego aplikacji nie ma wpływu na kod, który jest uruchomione inne wystąpienie nazwane aplikacji.</span><span class="sxs-lookup"><span data-stu-id="42e89-193">An upgrade of one named application instance will not impact the code that another named application instance is running.</span></span> <span data-ttu-id="42e89-194">Różnych aplikacji zakończą się z różnymi wersjami tego samego kodu na tych samych węzłów.</span><span class="sxs-lookup"><span data-stu-id="42e89-194">The different applications will end up running different versions of the same code on the same nodes.</span></span> <span data-ttu-id="42e89-195">Może to być czynnikiem, gdy trzeba podjąć decyzję skalowania, ponieważ można wybrać, czy nowy kod należy stosować tej samej uaktualnień jako inną usługę lub nie.</span><span class="sxs-lookup"><span data-stu-id="42e89-195">This can be a factor when you need to make a scaling decision because you can choose whether the new code should follow the same upgrades as another service or not.</span></span> <span data-ttu-id="42e89-196">Załóżmy, że wywołanie dociera usługę menedżera, która jest odpowiedzialny za skalowania obciążeń określonego klientów przez tworzenie i usuwanie usług dynamicznie.</span><span class="sxs-lookup"><span data-stu-id="42e89-196">For example, say that a call arrives at the manager service that is responsible for scaling a particular customer's workloads by creating and deleting services dynamically.</span></span> <span data-ttu-id="42e89-197">W takim przypadku jednak wywołanie jest dla obciążenia związane z _nowe_ klienta.</span><span class="sxs-lookup"><span data-stu-id="42e89-197">In this case however, the call is for a workload associated with a _new_ customer.</span></span> <span data-ttu-id="42e89-198">Większość klientów tak, jak są odizolowane od siebie nie tylko z powodów bezpieczeństwa i konfiguracji wymienionymi wcześniej, ale ponieważ zapewnia większą elastyczność pod względem określonych wersji oprogramowania i wybierania, gdy zostać uaktualniony.</span><span class="sxs-lookup"><span data-stu-id="42e89-198">Most customers like being isolated from each other not just for the security and configuration reasons listed previously, but because it provides more flexibility in terms of running specific versions of the software and choosing when they get upgraded.</span></span> <span data-ttu-id="42e89-199">Może także Utwórz nowe wystąpienie aplikacji oraz tworzenie usługi po prostu do dalszego partycji ilość Twojej usługi, które będzie touch żadnych jedno uaktualnienie.</span><span class="sxs-lookup"><span data-stu-id="42e89-199">You may also create a new application instance and create the service there simply to further partition the amount of your services that any one upgrade will touch.</span></span> <span data-ttu-id="42e89-200">Aplikacji osobnych wystąpień zapewniają większy poziom szczegółowości podczas wykonywania uaktualnienia aplikacji, a także włączyć A / B wdrożeń testowych i niebieski/zielony.</span><span class="sxs-lookup"><span data-stu-id="42e89-200">Separate application instances provide greater granularity when doing application upgrades, and also enable A/B testing and Blue/Green deployments.</span></span> 
  * <span data-ttu-id="42e89-201">Istniejące wystąpienie aplikacji jest pełny</span><span class="sxs-lookup"><span data-stu-id="42e89-201">The existing application instance is full</span></span>
    * <span data-ttu-id="42e89-202">W sieci szkieletowej usług [aplikacji, zdolność](service-fabric-cluster-resource-manager-application-groups.md) to pojęcie można użyć do kontrolowania ilości zasobów dostępnych dla wystąpień określonej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="42e89-202">In Service Fabric, [application capacity](service-fabric-cluster-resource-manager-application-groups.md) is a concept that you can use to control the amount of resources available for particular application instances.</span></span> <span data-ttu-id="42e89-203">Na przykład może zdecydować, że dana usługa musi mieć innego wystąpienia utworzone w celu skalowania.</span><span class="sxs-lookup"><span data-stu-id="42e89-203">For example, you may decide that a given service needs to have another instance created in order to scale.</span></span> <span data-ttu-id="42e89-204">Jednak to wystąpienie aplikacji jest poza pojemność dla niektórych metryki.</span><span class="sxs-lookup"><span data-stu-id="42e89-204">However, this application instance is out of capacity for a certain metric.</span></span> <span data-ttu-id="42e89-205">Jeśli tego konkretnego klienta lub obciążenie może nadal być przyznany więcej zasobów, następnie należy można zwiększyć pojemność istniejących dla tej aplikacji albo utwórz nową aplikację.</span><span class="sxs-lookup"><span data-stu-id="42e89-205">If this particular customer or workload should still be granted more resources, then you could either increase the existing capacity for that application or create a new application.</span></span> 

## <a name="scaling-at-the-partition-level"></a><span data-ttu-id="42e89-206">Skalowanie w poziomie partycji</span><span class="sxs-lookup"><span data-stu-id="42e89-206">Scaling at the partition level</span></span>
<span data-ttu-id="42e89-207">Sieć szkieletowa usług obsługuje partycjonowanie.</span><span class="sxs-lookup"><span data-stu-id="42e89-207">Service Fabric supports partitioning.</span></span> <span data-ttu-id="42e89-208">Partycjonowanie dzieli usługi na kilku sekcji logicznej i fizycznej, z których każdy działa niezależnie.</span><span class="sxs-lookup"><span data-stu-id="42e89-208">Partitioning splits a service into several logical and physical sections, each of which operates independently.</span></span> <span data-ttu-id="42e89-209">To jest przydatne w przypadku usługi stanowej, ponieważ nikt zestawu replik musi obsługiwać wszystkie wywołania i manipulowania wszystkie stanu na raz.</span><span class="sxs-lookup"><span data-stu-id="42e89-209">This is useful with stateful services, since no one set of replicas has to handle all the calls and manipulate all of the state at once.</span></span> <span data-ttu-id="42e89-210">[Partycjonowania omówienie](service-fabric-concepts-partitioning.md) zawiera informacje na temat typów partycjonowania systemów, które są obsługiwane.</span><span class="sxs-lookup"><span data-stu-id="42e89-210">The [partitioning overview](service-fabric-concepts-partitioning.md) provides information on the types of partitioning schemes that are supported.</span></span> <span data-ttu-id="42e89-211">Replik każdej partycji są rozkładane między węzłami w klastrze dystrybucji obciążenia tej usługi i zapewnienie, że żadna usługa jako całość lub dowolnej partycji ma pojedynczy punkt awarii.</span><span class="sxs-lookup"><span data-stu-id="42e89-211">The replicas of each partition are spread across the nodes in a cluster, distributing that service's load and ensuring that neither the service as a whole or any partition has a single point of failure.</span></span> 

<span data-ttu-id="42e89-212">Należy wziąć pod uwagę usługę korzystającą z ranged schemat partycjonowania niska wartość klucza o wartości 0, wysoka wartość klucza 99 i liczba partycji, 4.</span><span class="sxs-lookup"><span data-stu-id="42e89-212">Consider a service that uses a ranged partitioning scheme with a low key of 0, a high key of 99, and a partition count of 4.</span></span> <span data-ttu-id="42e89-213">W trzech węzłów klastra usługi może być rozmieszczona z czterech repliki, które mają zasoby w każdym węźle, jak pokazano poniżej:</span><span class="sxs-lookup"><span data-stu-id="42e89-213">In a three-node cluster, the service might be laid out with four replicas that share the resources on each node as shown here:</span></span>

<span data-ttu-id="42e89-214"><center>
![Układ partycji z trzech węzłów](./media/service-fabric-concepts-scalability/layout-three-nodes.png)
</center></span><span class="sxs-lookup"><span data-stu-id="42e89-214"><center>
![Partition layout with three nodes](./media/service-fabric-concepts-scalability/layout-three-nodes.png)
</center></span></span>

<span data-ttu-id="42e89-215">Zwiększenie liczby węzłów sieci szkieletowej usług przeniesie niektórych istniejących replik istnieje.</span><span class="sxs-lookup"><span data-stu-id="42e89-215">If you increase the number of nodes, Service Fabric will move some of the existing replicas there.</span></span> <span data-ttu-id="42e89-216">Na przykład załóżmy powiedz liczba wzrasta węzłów do czterech i replik uzyskać redystrybucji.</span><span class="sxs-lookup"><span data-stu-id="42e89-216">For example, let's say the number of nodes increases to four and the replicas get redistributed.</span></span> <span data-ttu-id="42e89-217">Obecnie usługa ma teraz replik trzy uruchomione na każdym węźle każdego należących do różnych partycji.</span><span class="sxs-lookup"><span data-stu-id="42e89-217">Now the service now has three replicas running on each node, each belonging to different partitions.</span></span> <span data-ttu-id="42e89-218">Umożliwia to lepsze wykorzystanie zasobów, ponieważ nowy węzeł nie jest zimnych.</span><span class="sxs-lookup"><span data-stu-id="42e89-218">This allows better resource utilization since the new node isn't cold.</span></span> <span data-ttu-id="42e89-219">Zazwyczaj również zwiększa wydajność, ponieważ każda usługa ma więcej dostępnych zasobów.</span><span class="sxs-lookup"><span data-stu-id="42e89-219">Typically, it also improves performance as each service has more resources available to it.</span></span>

<span data-ttu-id="42e89-220"><center>
![Układ partycji z czterech węzłów](./media/service-fabric-concepts-scalability/layout-four-nodes.png)
</center></span><span class="sxs-lookup"><span data-stu-id="42e89-220"><center>
![Partition layout with four nodes](./media/service-fabric-concepts-scalability/layout-four-nodes.png)
</center></span></span>

## <a name="scaling-by-using-the-service-fabric-cluster-resource-manager-and-metrics"></a><span data-ttu-id="42e89-221">Skalowanie za pomocą Menedżera zasobów klastra sieci szkieletowej usług i metryki</span><span class="sxs-lookup"><span data-stu-id="42e89-221">Scaling by using the Service Fabric Cluster Resource Manager and metrics</span></span>
<span data-ttu-id="42e89-222">[Metryki](service-fabric-cluster-resource-manager-metrics.md) są jak usługi express ich wykorzystania zasobów sieci szkieletowej usług.</span><span class="sxs-lookup"><span data-stu-id="42e89-222">[Metrics](service-fabric-cluster-resource-manager-metrics.md) are how services express their resource consumption to Service Fabric.</span></span> <span data-ttu-id="42e89-223">Przy użyciu metryk daje możliwość reorganizować i zoptymalizować układ klastra Menedżera zasobów klastra.</span><span class="sxs-lookup"><span data-stu-id="42e89-223">Using metrics gives the Cluster Resource Manager an opportunity to reorganize and optimize the layout of the cluster.</span></span> <span data-ttu-id="42e89-224">Przykładowo może istnieć wiele zasobów w klastrze, ale nie może zostać przydzielony do usług, które są aktualnie podczas pracy.</span><span class="sxs-lookup"><span data-stu-id="42e89-224">For example, there may be plenty of resources in the cluster, but they might not be allocated to the services that are currently doing work.</span></span> <span data-ttu-id="42e89-225">Przy użyciu metryk umożliwia Menedżera zasobów klastra, aby uporządkować klaster, aby upewnić się, że usługi mają dostęp do dostępnych zasobów.</span><span class="sxs-lookup"><span data-stu-id="42e89-225">Using metrics allows the Cluster Resource Manager to reorganize the cluster to ensure that services have access to the available resources.</span></span> 


## <a name="scaling-by-adding-and-removing-nodes-from-the-cluster"></a><span data-ttu-id="42e89-226">Skalowanie przez dodawanie i usuwanie węzłów z klastra</span><span class="sxs-lookup"><span data-stu-id="42e89-226">Scaling by adding and removing nodes from the cluster</span></span> 
<span data-ttu-id="42e89-227">Inną opcją w przypadku skalowania z sieci szkieletowej usług jest zmiana rozmiaru klastra.</span><span class="sxs-lookup"><span data-stu-id="42e89-227">Another option for scaling with Service Fabric is to change the size of the cluster.</span></span> <span data-ttu-id="42e89-228">Zmiana rozmiaru klastra oznacza dodawania lub usuwania węzłów z co najmniej jednego z typów węzłów w klastrze.</span><span class="sxs-lookup"><span data-stu-id="42e89-228">Changing the size of the cluster means adding or removing nodes for one or more of the node types in the cluster.</span></span> <span data-ttu-id="42e89-229">Rozważmy na przykład przypadek, gdzie są wszystkie węzły w klastrze dynamicznej.</span><span class="sxs-lookup"><span data-stu-id="42e89-229">For example, consider a case where all of the nodes in the cluster are hot.</span></span> <span data-ttu-id="42e89-230">Oznacza to, czy zasoby klastra są prawie wszystkie używane.</span><span class="sxs-lookup"><span data-stu-id="42e89-230">This means that the cluster's resources are almost all consumed.</span></span> <span data-ttu-id="42e89-231">W przypadku dodawania więcej węzłów do klastra jest najlepszym sposobem skalowania.</span><span class="sxs-lookup"><span data-stu-id="42e89-231">In this case, adding more nodes to the cluster is the best way to scale.</span></span> <span data-ttu-id="42e89-232">Po nowe węzły dołączą do klastra Menedżera zasobów klastra sieci szkieletowej usług przenosi usług, co mniej całkowita obciążenie istniejących węzłów.</span><span class="sxs-lookup"><span data-stu-id="42e89-232">Once the new nodes join the cluster the Service Fabric Cluster Resource Manager moves services to them, resulting in less total load on the existing nodes.</span></span> <span data-ttu-id="42e89-233">Dla usług bezstanowych z liczbą wystąpień = -1, usługa więcej wystąpień są tworzone automatycznie.</span><span class="sxs-lookup"><span data-stu-id="42e89-233">For stateless services with instance count = -1, more service instances are automatically created.</span></span> <span data-ttu-id="42e89-234">Dzięki temu niektóre połączenia przenieść z istniejących węzłów do nowych węzłów.</span><span class="sxs-lookup"><span data-stu-id="42e89-234">This allows some calls to move from the existing nodes to the new nodes.</span></span> 

<span data-ttu-id="42e89-235">Dodawanie i usuwanie węzłów do klastra można wykonać za pośrednictwem modułu programu PowerShell usługi Service Fabric Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="42e89-235">Adding and removing nodes to the cluster can be accomplished via the Service Fabric Azure Resource Manager PowerShell module.</span></span>

```posh
Add-AzureRmServiceFabricNode -ResourceGroupName $resourceGroupName -Name $clusterResourceName -NodeType $nodeTypeName  -NumberOfNodesToAdd 5 
Remove-AzureRmServiceFabricNode -ResourceGroupName $resourceGroupName -Name $clusterResourceName -NodeType $nodeTypeName -NumberOfNodesToRemove 5
```

## <a name="putting-it-all-together"></a><span data-ttu-id="42e89-236">Składanie wszystkiego razem</span><span class="sxs-lookup"><span data-stu-id="42e89-236">Putting it all together</span></span>
<span data-ttu-id="42e89-237">Rozwiąż wszystkie pomysły, które firma Microsoft zostały omówione w tym miejscu i komunikują się za pośrednictwem przykładem.</span><span class="sxs-lookup"><span data-stu-id="42e89-237">Let's take all the ideas that we've discussed here and talk through an example.</span></span> <span data-ttu-id="42e89-238">Należy wziąć pod uwagę następujące usługi: próbujesz kompilacji usługi, który działa jako książkę adresową, zawierający nazwy i informacje kontaktowe.</span><span class="sxs-lookup"><span data-stu-id="42e89-238">Consider the following service: you are trying to build a service that acts as an address book, holding on to names and contact information.</span></span> 

<span data-ttu-id="42e89-239">Prawo góry ma licznych zagadnień dotyczących skalowania: ilu użytkowników będą mieć?</span><span class="sxs-lookup"><span data-stu-id="42e89-239">Right up front you have a bunch of questions related to scale: How many users are you going to have?</span></span> <span data-ttu-id="42e89-240">Ile kontaktów zapisze każdego użytkownika?</span><span class="sxs-lookup"><span data-stu-id="42e89-240">How many contacts will each user store?</span></span> <span data-ttu-id="42e89-241">Próby rysunek to wszystkie limit kiedy są stały się usługi po raz pierwszy jest trudne.</span><span class="sxs-lookup"><span data-stu-id="42e89-241">Trying to figure this all out when you are standing up your service for the first time is difficult.</span></span> <span data-ttu-id="42e89-242">Załóżmy, że ma przejść z jedną usługą statycznych wraz z liczbą określonej partycji.</span><span class="sxs-lookup"><span data-stu-id="42e89-242">Let's say you were going to go with a single static service with a specific partition count.</span></span> <span data-ttu-id="42e89-243">Konsekwencje pobrania liczba partycji niewłaściwy może spowodować później mają problemy z skali.</span><span class="sxs-lookup"><span data-stu-id="42e89-243">The consequences of picking the wrong partition count could cause you to have scale issues later.</span></span> <span data-ttu-id="42e89-244">Podobnie nawet jeśli pobranie wszystkich informacji prawo licznik, nie może być konieczne.</span><span class="sxs-lookup"><span data-stu-id="42e89-244">Similarly, even if you pick the right count you might not have all the information you need.</span></span> <span data-ttu-id="42e89-245">Na przykład masz również zdecydować rozmiar klastra na początku w zakresie liczby węzłów i ich rozmiary.</span><span class="sxs-lookup"><span data-stu-id="42e89-245">For example, you also have to decide the size of the cluster up front, both in terms of the number of nodes and their sizes.</span></span> <span data-ttu-id="42e89-246">Jest to zwykle trudna do przewidzenia liczby zasobów, usługa ma używać swojego okresu istnienia.</span><span class="sxs-lookup"><span data-stu-id="42e89-246">It's usually hard to predict how many resources a service is going to consume over its lifetime.</span></span> <span data-ttu-id="42e89-247">Można go również wiadomo wcześniejsze wzorzec ruchu, który faktycznie widzi usługi.</span><span class="sxs-lookup"><span data-stu-id="42e89-247">It can also be hard to know ahead of time the traffic pattern that the service actually sees.</span></span> <span data-ttu-id="42e89-248">Na przykład osób może dodawać i usuwać kontakty ich w tylko po pierwsze w nocy lub może on jest równomiernie w ciągu dnia.</span><span class="sxs-lookup"><span data-stu-id="42e89-248">For example, maybe people add and remove their contacts only first thing in the morning, or maybe it's distributed evenly over the course of the day.</span></span> <span data-ttu-id="42e89-249">Na podstawie tych potrzebnych do skalowania i dynamicznie.</span><span class="sxs-lookup"><span data-stu-id="42e89-249">Based on this you might need to scale out and in dynamically.</span></span> <span data-ttu-id="42e89-250">Może być nauczysz prognozowania, gdy użytkownik chce musi przebiegać proces skalowania Wyloguj się i zaloguj, ale w obu przypadkach prawdopodobnie będzie konieczne reagować na zmieniające się zużycia zasobów przez usługę.</span><span class="sxs-lookup"><span data-stu-id="42e89-250">Maybe you can learn to predict when you're going to need to scale out and in, but either way you're probably going to need to react to changing resource consumption by your service.</span></span> <span data-ttu-id="42e89-251">Może to obejmować zmieniania rozmiaru klastra w celu zapewnienia większej ilości zasobów podczas reorganizacja korzystanie z istniejących zasobów nie jest wystarczająca.</span><span class="sxs-lookup"><span data-stu-id="42e89-251">This can involve changing the size of the cluster in order to provide more resources when reorganizing use of existing resources isn't enough.</span></span> 

<span data-ttu-id="42e89-252">Ale Dlaczego nawet próby wybrania schemat jednej partycji dla wszystkich użytkowników?</span><span class="sxs-lookup"><span data-stu-id="42e89-252">But why even try to pick a single partition scheme out for all users?</span></span> <span data-ttu-id="42e89-253">Dlaczego ograniczać się do jednej usługi i jeden klaster statycznych?</span><span class="sxs-lookup"><span data-stu-id="42e89-253">Why limit yourself to one service and one static cluster?</span></span> <span data-ttu-id="42e89-254">Rzeczywisty stan jest zazwyczaj bardziej dynamiczne.</span><span class="sxs-lookup"><span data-stu-id="42e89-254">The real situation is usually more dynamic.</span></span> 

<span data-ttu-id="42e89-255">Podczas budowania skali, należy wziąć pod uwagę następujące dynamiczne wzorca.</span><span class="sxs-lookup"><span data-stu-id="42e89-255">When building for scale, consider the following dynamic pattern.</span></span> <span data-ttu-id="42e89-256">Może być konieczne dostosowanie go do sytuacji:</span><span class="sxs-lookup"><span data-stu-id="42e89-256">You may need to adapt it to your situation:</span></span>

1. <span data-ttu-id="42e89-257">Zamiast w trakcie wybierz schemat partycjonowania dla wszystkich użytkowników na początku kompilacji "manager service".</span><span class="sxs-lookup"><span data-stu-id="42e89-257">Instead of trying to pick a partitioning scheme for everyone up front, build a "manager service".</span></span>
2. <span data-ttu-id="42e89-258">Zadania programu manager service jest przyjrzeć się informacje o kliencie rejestracji usługi.</span><span class="sxs-lookup"><span data-stu-id="42e89-258">The job of the manager service is to look at customer information when they sign up for your service.</span></span> <span data-ttu-id="42e89-259">A następnie w zależności od tego, że informacje tworzenia wystąpienia usługi Menedżera sieci _rzeczywiste_ skontaktuj się z magazynu usługi _tylko dla tego klienta_.</span><span class="sxs-lookup"><span data-stu-id="42e89-259">Then depending on that information the manager service create an instance of your _actual_ contact-storage service _just for that customer_.</span></span> <span data-ttu-id="42e89-260">Jeśli wymagają określonej konfiguracji, izolacji lub uaktualnień, można również określić pokrętła wystąpienia aplikacji dla tego klienta.</span><span class="sxs-lookup"><span data-stu-id="42e89-260">If they require particular configuration, isolation, or upgrades, you can also decide to spin up an Application instance for this customer.</span></span> 

<span data-ttu-id="42e89-261">To tworzenie dynamicznych wzorca wiele korzyści:</span><span class="sxs-lookup"><span data-stu-id="42e89-261">This dynamic creation pattern many benefits:</span></span>

  - <span data-ttu-id="42e89-262">Użytkownik nie próbuje odgadnąć liczby partycji poprawne dla wszystkich użytkowników na początku lub utworzyć pojedynczą usługą, która jest nieskończenie skalowalny na jego własnej.</span><span class="sxs-lookup"><span data-stu-id="42e89-262">You're not trying to guess the correct partition count for all users up front or build a single service that is infinitely scalable all on its own.</span></span> 
  - <span data-ttu-id="42e89-263">Różni użytkownicy nie muszą mieć tej samej liczby partycji, liczby replik, umieszczania ograniczeń, metryki, domyślne obciążeń, nazw usług, ustawienia dns lub innych właściwości określonego na poziomie aplikacji lub usługi.</span><span class="sxs-lookup"><span data-stu-id="42e89-263">Different users don't have to have the same partition count, replica count, placement constraints, metrics, default loads, service names, dns settings, or any of the other properties specified at the service or application level.</span></span> 
  - <span data-ttu-id="42e89-264">Możesz uzyskać segmentacji dodatkowe dane.</span><span class="sxs-lookup"><span data-stu-id="42e89-264">You gain additional data segmentation.</span></span> <span data-ttu-id="42e89-265">Każdy klient ma swoje własne kopie usługi</span><span class="sxs-lookup"><span data-stu-id="42e89-265">Each customer has their own copy of the service</span></span>
    - <span data-ttu-id="42e89-266">Można konfigurować inaczej i przyznane więcej lub mniej zasobów, przy więcej lub mniej partycji i replik w razie potrzeby, w oparciu o ich oczekiwana Skala każdej usługi klienta.</span><span class="sxs-lookup"><span data-stu-id="42e89-266">Each customer service can be configured differently and granted more or fewer resources, with more or fewer partitions or replicas as necessary based on their expected scale.</span></span>
      - <span data-ttu-id="42e89-267">Na przykład powiedzieć klienta płatnej dla warstwy "Złota" - ich można pobrać więcej repliki lub większa liczba partycji i potencjalnie zasobów dedykowanych do usług za pośrednictwem możliwości metryki i aplikacji.</span><span class="sxs-lookup"><span data-stu-id="42e89-267">For example, say the customer paid for the "Gold" tier - they could get more replicas or greater partition count, and potentially resources dedicated to their services via metrics and application capacities.</span></span>
      - <span data-ttu-id="42e89-268">Lub że one pod warunkiem, że informacje o wskazującą liczbę kontaktów zachodzi potrzeba były "Mała" — jak tylko kilka partycje lub nawet mogą być wprowadzane w puli usług udostępnionych z innymi klientami.</span><span class="sxs-lookup"><span data-stu-id="42e89-268">Or say they provided information indicating the number of contacts they needed was "Small" - they would get only a few partitions, or could even be put into a shared service pool with other customers.</span></span>
  - <span data-ttu-id="42e89-269">Nie używasz licznych wystąpienie usługi lub replik w czasie oczekiwania dla klientów wyświetlani</span><span class="sxs-lookup"><span data-stu-id="42e89-269">You're not running a bunch of service instances or replicas while you're waiting for customers to show up</span></span>
  - <span data-ttu-id="42e89-270">Jeśli kiedykolwiek wyjdzie klienta, następnie usuwania ich informacji z usługi jest tak proste, jak o manager Usuń tę usługę lub aplikację, utworzony.</span><span class="sxs-lookup"><span data-stu-id="42e89-270">If a customer ever leaves, then removing their information from your service is as simple as having the manager delete that service or application that it created.</span></span>

## <a name="next-steps"></a><span data-ttu-id="42e89-271">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="42e89-271">Next steps</span></span>
<span data-ttu-id="42e89-272">Aby uzyskać więcej informacji dotyczących pojęć sieci szkieletowej usług zobacz następujące artykuły:</span><span class="sxs-lookup"><span data-stu-id="42e89-272">For more information on Service Fabric concepts, see the following articles:</span></span>

* [<span data-ttu-id="42e89-273">Dostępność usług sieci szkieletowej usług</span><span class="sxs-lookup"><span data-stu-id="42e89-273">Availability of Service Fabric services</span></span>](service-fabric-availability-services.md)
* [<span data-ttu-id="42e89-274">Partycjonowanie usług sieci szkieletowej usług</span><span class="sxs-lookup"><span data-stu-id="42e89-274">Partitioning Service Fabric services</span></span>](service-fabric-concepts-partitioning.md)
