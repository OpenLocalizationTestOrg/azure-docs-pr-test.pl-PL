---
title: "aaaCommon pytania dotyczące usługi sieć szkieletowa usług Microsoft Azure | Dokumentacja firmy Microsoft"
description: "Często zadawane pytania dotyczące usługi Service Fabric i odpowiedzi"
services: service-fabric
documentationcenter: .net
author: chackdan
manager: timlt
editor: 
ms.assetid: 5a179703-ff0c-4b8e-98cd-377253295d12
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 08/18/2017
ms.author: chackdan
ms.openlocfilehash: 4cbe92d2a03f7a1ea5d077807fdc982288220a7e
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="commonly-asked-service-fabric-questions"></a><span data-ttu-id="97db8-103">Często zadawane pytania dotyczące sieci szkieletowej usług</span><span class="sxs-lookup"><span data-stu-id="97db8-103">Commonly asked Service Fabric questions</span></span>

<span data-ttu-id="97db8-104">Istnieje wiele często zadawane pytania dotyczące czynności sieci szkieletowej usług i jak należy jej używać.</span><span class="sxs-lookup"><span data-stu-id="97db8-104">There are many commonly asked questions about what Service Fabric can do and how it should be used.</span></span> <span data-ttu-id="97db8-105">W tym dokumencie opisano wiele z tych często zadawane pytania i odpowiedzi.</span><span class="sxs-lookup"><span data-stu-id="97db8-105">This document covers many of those common questions and their answers.</span></span>

## <a name="cluster-setup-and-management"></a><span data-ttu-id="97db8-106">Konfiguracja klastra i zarządzanie</span><span class="sxs-lookup"><span data-stu-id="97db8-106">Cluster setup and management</span></span>

### <a name="can-i-create-a-cluster-that-spans-multiple-azure-regions-or-my-own-datacenters"></a><span data-ttu-id="97db8-107">Można utworzyć klastra obejmującego wiele regiony platformy Azure lub własny centrów danych?</span><span class="sxs-lookup"><span data-stu-id="97db8-107">Can I create a cluster that spans multiple Azure regions or my own datacenters?</span></span>

<span data-ttu-id="97db8-108">Tak.</span><span class="sxs-lookup"><span data-stu-id="97db8-108">Yes.</span></span> 

<span data-ttu-id="97db8-109">Hello core sieci szkieletowej usług technologii klastrowania może być używane toocombine maszynami dowolne miejsce w Witaj świecie tak długo, jak długo mają tooeach łączności sieciowej innych.</span><span class="sxs-lookup"><span data-stu-id="97db8-109">hello core Service Fabric clustering technology can be used toocombine machines running anywhere in hello world, so long as they have network connectivity tooeach other.</span></span> <span data-ttu-id="97db8-110">Jednak tworzenia i uruchamiania taki klaster może być skomplikowane.</span><span class="sxs-lookup"><span data-stu-id="97db8-110">However, building and running such a cluster can be complicated.</span></span>

<span data-ttu-id="97db8-111">Jeśli interesuje Cię w tym scenariuszu, firma Microsoft zachęca tooget w kontakcie za pośrednictwem hello [listę problemów Github sieci szkieletowej usług](https://github.com/azure/service-fabric-issues) lub za pośrednictwem z przedstawicielem pomocy technicznej w kolejności tooobtain dodatkowych wskazówek.</span><span class="sxs-lookup"><span data-stu-id="97db8-111">If you are interested in this scenario, we encourage you tooget in contact either through hello [Service Fabric Github Issues List](https://github.com/azure/service-fabric-issues) or through your support representative in order tooobtain additional guidance.</span></span> <span data-ttu-id="97db8-112">Zespół usługi sieć szkieletowa Hello działa tooprovide dodatkowego wyjaśnienia, wskazówki i zalecenia dotyczące tego scenariusza.</span><span class="sxs-lookup"><span data-stu-id="97db8-112">hello Service Fabric team is working tooprovide additional clarity, guidance, and recommendations for this scenario.</span></span> 

<span data-ttu-id="97db8-113">Niektóre tooconsider rzeczy:</span><span class="sxs-lookup"><span data-stu-id="97db8-113">Some things tooconsider:</span></span> 

1. <span data-ttu-id="97db8-114">Hello zasobu klastra usługi sieć szkieletowa usług platformy Azure jest obecnie regionalnych, jak klastra hello zestawy skalowania maszyny wirtualnej hello jest oparty na.</span><span class="sxs-lookup"><span data-stu-id="97db8-114">hello Service Fabric cluster resource in Azure is regional today, as are hello virtual machine scale sets that hello cluster is built on.</span></span> <span data-ttu-id="97db8-115">Oznacza to, że w przypadku hello regionalnej awarii utrata hello możliwości toomanage hello klastra za pomocą usługi Azure Resource Manager hello lub hello portalu Azure.</span><span class="sxs-lookup"><span data-stu-id="97db8-115">This means that in hello event of a regional failure you may lose hello ability toomanage hello cluster via hello Azure Resource Manager or hello Azure Portal.</span></span> <span data-ttu-id="97db8-116">Może to nastąpić, mimo że hello klastrowania jest uruchomiona, a użytkownik będzie bezpośrednio stanie toointeract z nim.</span><span class="sxs-lookup"><span data-stu-id="97db8-116">This can happen even though hello cluster remains running and you'd be able toointeract with it directly.</span></span> <span data-ttu-id="97db8-117">Ponadto Azure obecnie nie oferuje toohave możliwości hello jednej sieci wirtualnej, który jest używany w regionach.</span><span class="sxs-lookup"><span data-stu-id="97db8-117">In addition, Azure today does not offer hello ability toohave a single virtual network that is usable across regions.</span></span> <span data-ttu-id="97db8-118">Oznacza to, że w przypadku klastra na platformie Azure wymaga [publicznych adresów IP dla każdej maszyny Wirtualnej w hello zestawy skalowania maszyny Wirtualnej](../virtual-machine-scale-sets/virtual-machine-scale-sets-networking.md#public-ipv4-per-virtual-machine) lub [bramy sieci VPN Azure](../vpn-gateway/vpn-gateway-about-vpngateways.md).</span><span class="sxs-lookup"><span data-stu-id="97db8-118">This means that a multi-region cluster in Azure requires either [Public IP Addresses for each VM in hello VM Scale Sets](../virtual-machine-scale-sets/virtual-machine-scale-sets-networking.md#public-ipv4-per-virtual-machine) or [Azure VPN Gateways](../vpn-gateway/vpn-gateway-about-vpngateways.md).</span></span> <span data-ttu-id="97db8-119">Te opcje sieciowe mieć wpływ różne na kosztów, wydajności i toosome stopnia aplikacja — projekt, aby zachować ostrożność podczas analizy i planowania jest wymagany dla stałego takiego środowiska.</span><span class="sxs-lookup"><span data-stu-id="97db8-119">These networking choices have different impacts on costs, performance, and toosome degree application design, so careful analysis and planning is required before standing up such an environment.</span></span>
2. <span data-ttu-id="97db8-120">Witaj obsługi, zarządzania i monitorowania tych komputerów może stać się skomplikowane, szczególnie w przypadku, gdy łączone na _typy_ środowisk, takich między aplikacjami zarządzanymi przez dostawców w innej chmurze lub między zasobami lokalnymi a Azure .</span><span class="sxs-lookup"><span data-stu-id="97db8-120">hello maintenance, management, and monitoring of these machines can become complicated, especially when spanned across _types_ of environments, such as between different cloud providers or between on-premises resources and Azure.</span></span> <span data-ttu-id="97db8-121">Należy zachować ostrożność tooensure aktualizującego, monitorowania, zarządzania i diagnostyki są zrozumiałe dla klastra hello i aplikacji hello przed uruchomieniem obciążeń produkcyjnych w środowisku z.</span><span class="sxs-lookup"><span data-stu-id="97db8-121">Care must be taken tooensure that upgrades, monitoring, management, and diagnostics are understood for both hello cluster and hello applications before running production workloads in such an environment.</span></span> <span data-ttu-id="97db8-122">Jeśli masz już doświadczonych rozwiązania tych problemów na platformie Azure lub w ramach własnego centrów danych, następnie jest prawdopodobne, że te tego samego rozwiązania można zastosować w przypadku kompilowania lub systemem klastra sieci szkieletowej usług.</span><span class="sxs-lookup"><span data-stu-id="97db8-122">If you already have lots of experience solving these problems in Azure or within your own datacenters, then it is likely that those same solutions can be applied when building out or running your Service Fabric cluster.</span></span> 

### <a name="do-service-fabric-nodes-automatically-receive-os-updates"></a><span data-ttu-id="97db8-123">Czy aktualizacje systemu operacyjnego jest automatycznie otrzymują węzłów sieci szkieletowej usług?</span><span class="sxs-lookup"><span data-stu-id="97db8-123">Do Service Fabric nodes automatically receive OS updates?</span></span>

<span data-ttu-id="97db8-124">Nie jest już dzisiaj ale jest wykonywane żądania, że Azure zamierza toodeliver.</span><span class="sxs-lookup"><span data-stu-id="97db8-124">Not today, but this is also a common request that Azure intends toodeliver.</span></span>

<span data-ttu-id="97db8-125">W hello tymczasowe, mamy [podana aplikacja](service-fabric-patch-orchestration-application.md) poprawioną oraz toodate komputery pozostaną systemów operacyjnych hello poniżej węzły sieci szkieletowej usług.</span><span class="sxs-lookup"><span data-stu-id="97db8-125">In hello interim, we have [provided an application](service-fabric-patch-orchestration-application.md) that hello operating systems underneath your Service Fabric nodes stay patched and up toodate.</span></span>

<span data-ttu-id="97db8-126">Żądanie hello z aktualizacje systemu operacyjnego jest zwykle potrzebują ponowny rozruch maszyny hello, co powoduje utratę dostępności tymczasowego.</span><span class="sxs-lookup"><span data-stu-id="97db8-126">hello challenge with OS updates is that they typically require a reboot of hello machine, which results in temporary availability loss.</span></span> <span data-ttu-id="97db8-127">Samodzielnie, który nie jest problem, ponieważ usługi sieć szkieletowa będzie automatycznie przekierowywania ruchu sieciowego dla tych węzłów tooother usług.</span><span class="sxs-lookup"><span data-stu-id="97db8-127">By itself, that is not a problem, since Service Fabric will automatically redirect traffic for those services tooother nodes.</span></span> <span data-ttu-id="97db8-128">Jednak jeśli aktualizacje systemu operacyjnego nie są koordynowane w klastrze hello, istnieje ryzyko hello przestaną działać jednocześnie wiele węzłów.</span><span class="sxs-lookup"><span data-stu-id="97db8-128">However, if OS updates are not coordinated across hello cluster, there is hello potential that many nodes go down at once.</span></span> <span data-ttu-id="97db8-129">Takie jednoczesnych ponowne uruchomienie może spowodować utratę dostępności pełną usługi lub w przynajmniej dla określonej partycji (dla usługi stanowej).</span><span class="sxs-lookup"><span data-stu-id="97db8-129">Such simultaneous reboots can cause complete availability loss for a service, or at least for a specific partition (for a stateful service).</span></span>

<span data-ttu-id="97db8-130">W przyszłości hello planujemy zasady aktualizacji toosupport systemu operacyjnego, która jest w pełni automatycznego i koordynowane między domenami aktualizacji sprawdzeniu, czy dostępność zostaje zachowana mimo ponownych uruchomień komputera oraz inne nieoczekiwane błędy.</span><span class="sxs-lookup"><span data-stu-id="97db8-130">In hello future, we plan toosupport an OS update policy that is fully automated and coordinated across update domains, ensuring that availability is maintained despite reboots and other unexpected failures.</span></span>

### <a name="can-i-use-large-virtual-machine-scale-sets-in-my-sf-cluster"></a><span data-ttu-id="97db8-131">Czy można użyć duże zestawy skalowania maszyny wirtualnej w klastrze Moje rz?</span><span class="sxs-lookup"><span data-stu-id="97db8-131">Can I use Large Virtual Machine Scale Sets in my SF cluster?</span></span> 

<span data-ttu-id="97db8-132">**Krótka odpowiedzi** — nie.</span><span class="sxs-lookup"><span data-stu-id="97db8-132">**Short answer** - No.</span></span> 

<span data-ttu-id="97db8-133">**Czas odpowiedzi** — mimo że hello duże zestawy skalowania maszyn wirtualnych pozwala tooscale zestawu skalowania maszyn wirtualnych maksymalnie 1000 wystąpień maszyn wirtualnych, robi to przy użyciu hello umieszczania grup (PGA).</span><span class="sxs-lookup"><span data-stu-id="97db8-133">**Long Answer** - Although hello Large Virtual Machine Scale Sets allow you tooscale a virtual machine scale set upto 1000 VM instances, it does so by hello use of Placement Groups (PGs).</span></span> <span data-ttu-id="97db8-134">Domen błędów (FDs) i domen uaktualnienia (UDs) tylko są spójne w ramach umieszczania grupy usługi sieci szkieletowej używana FDs UDs toomake umieszczania decyzje i wystąpień serwisu repliki usługi.</span><span class="sxs-lookup"><span data-stu-id="97db8-134">Fault domains (FDs) and upgrade domains (UDs) are only consistent within a placement group Service fabric uses FDs and UDs toomake placement decisions of your service replicas/Service instances.</span></span> <span data-ttu-id="97db8-135">Ponieważ hello FDs i UDs można porównywać tylko w obrębie grupy umieszczania rz nie można używać go.</span><span class="sxs-lookup"><span data-stu-id="97db8-135">Since hello FDs  and UDs are comparable only within a placement group SF cannot use it.</span></span> <span data-ttu-id="97db8-136">Na przykład, jeśli VM1 w PG1 ma topologii FD = 0 i VM9 w PG2 ma topologii FD = 4, nie oznacza to, że VM1 i maszyny VM2 znajdują się na dwóch różnych Stojakami sprzętu, dlatego rz nie można użyć wartości hello FD decyzjach umieszczania case toomake.</span><span class="sxs-lookup"><span data-stu-id="97db8-136">For example, If VM1 in PG1 has a topology of FD=0 and VM9 in PG2 has a topology of FD=4 , it does not mean that VM1 and VM2 are on two different Hardware Racks, hence SF cannot use hello FD values in this case toomake placement decisions.</span></span>

<span data-ttu-id="97db8-137">Obecnie nie istnieją inne problemy z zestawami skali dużą maszynę wirtualną, takie jak obsługa równoważenia obciążenia hello braku poziom 4.</span><span class="sxs-lookup"><span data-stu-id="97db8-137">There are other issues with Large virtual machine scale sets currently, like hello lack of level-4 Load balancing support.</span></span> <span data-ttu-id="97db8-138">Zobacz toofor [szczegółowe informacje o dużej skali zestawów](../virtual-machine-scale-sets/virtual-machine-scale-sets-placement-groups.md)</span><span class="sxs-lookup"><span data-stu-id="97db8-138">Refer toofor [details on Large scale sets](../virtual-machine-scale-sets/virtual-machine-scale-sets-placement-groups.md)</span></span>



### <a name="what-is-hello-minimum-size-of-a-service-fabric-cluster-why-cant-it-be-smaller"></a><span data-ttu-id="97db8-139">Co to jest hello minimalny rozmiar klastra sieci szkieletowej usług?</span><span class="sxs-lookup"><span data-stu-id="97db8-139">What is hello minimum size of a Service Fabric cluster?</span></span> <span data-ttu-id="97db8-140">Dlaczego nie może być mniejsze?</span><span class="sxs-lookup"><span data-stu-id="97db8-140">Why can't it be smaller?</span></span>

<span data-ttu-id="97db8-141">Minimalny rozmiar obsługiwanych Hello klastra usługi sieć szkieletowa uruchamiania obciążeń produkcyjnych jest pięć węzłów.</span><span class="sxs-lookup"><span data-stu-id="97db8-141">hello minimum supported size for a Service Fabric cluster running production workloads is five nodes.</span></span> <span data-ttu-id="97db8-142">Scenariusze tworzenia/testowania firma Microsoft obsługuje trzy klastry węzłów.</span><span class="sxs-lookup"><span data-stu-id="97db8-142">For dev/test scenarios, we support three node clusters.</span></span>

<span data-ttu-id="97db8-143">Te wymagania istnieje, ponieważ klaster sieci szkieletowej usług hello uruchamia zestaw usług stanowych systemu, takie jak Usługa nazewnictwa hello i hello menedżera trybu failover.</span><span class="sxs-lookup"><span data-stu-id="97db8-143">These minimums exist because hello Service Fabric cluster runs a set of stateful system services, including hello naming service and hello failover manager.</span></span> <span data-ttu-id="97db8-144">Tych usług, które śledzą co usługi zostały wdrożone toohello klastra, a w przypadku, gdy aktualnie są obsługiwane, zależą od wysoki poziom spójności.</span><span class="sxs-lookup"><span data-stu-id="97db8-144">These services, which track what services have been deployed toohello cluster and where they're currently hosted, depend on strong consistency.</span></span> <span data-ttu-id="97db8-145">Tego wysoki poziom spójności z kolei jest zależny od hello możliwości tooacquire *kworum* danego zaktualizowanie stanu toohello tych usług, gdzie kworum reprezentuje strict większość replik hello (N/2 + 1) dla danej usługi.</span><span class="sxs-lookup"><span data-stu-id="97db8-145">That strong consistency, in turn, depends on hello ability tooacquire a *quorum* for any given update toohello state of those services, where a quorum represents a strict majority of hello replicas (N/2 +1) for a given service.</span></span>

<span data-ttu-id="97db8-146">Tło Przeanalizujmy niektóre konfiguracje możliwy klastra:</span><span class="sxs-lookup"><span data-stu-id="97db8-146">With that background, let's examine some possible cluster configurations:</span></span>

<span data-ttu-id="97db8-147">**Jeden węzeł**: Ta opcja nie zapewniają wysoką dostępność, ponieważ hello utraty jednego węzła hello jakiegokolwiek powodu oznacza utraty hello hello całego klastra.</span><span class="sxs-lookup"><span data-stu-id="97db8-147">**One node**: this option does not provide high availability since hello loss of hello single node for any reason means hello loss of hello entire cluster.</span></span>

<span data-ttu-id="97db8-148">**Dwa węzły**: kworum dla usługi wdrożonego na dwóch węzłów (N = 2) jest 2 (+ 1, 2/2 = 2).</span><span class="sxs-lookup"><span data-stu-id="97db8-148">**Two nodes**: a quorum for a service deployed across two nodes (N = 2) is 2 (2/2 + 1 = 2).</span></span> <span data-ttu-id="97db8-149">W przypadku pojedynczej repliki zostaną utracone, jest niemożliwe toocreate kworum.</span><span class="sxs-lookup"><span data-stu-id="97db8-149">When a single replica is lost, it is impossible toocreate a quorum.</span></span> <span data-ttu-id="97db8-150">Ponieważ uaktualniania usługi wymaga tymczasowo biorąc dół repliki, nie jest przydatne w konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="97db8-150">Since performing a service upgrade requires temporarily taking down a replica, this is not a useful configuration.</span></span>

<span data-ttu-id="97db8-151">**Trzy węzły**: z trzema węzłami (N = 3), toocreate wymaganie hello kworum jest nadal dwóch węzłów (+ 1, 3/2 = 2).</span><span class="sxs-lookup"><span data-stu-id="97db8-151">**Three nodes**: with three nodes (N=3), hello requirement toocreate a quorum is still two nodes (3/2 + 1 = 2).</span></span> <span data-ttu-id="97db8-152">To oznacza, że można utracić oddzielnego węzła i zachować kworum.</span><span class="sxs-lookup"><span data-stu-id="97db8-152">This means that you can lose an individual node and still maintain quorum.</span></span>

<span data-ttu-id="97db8-153">Hello trzy węzła klastra konfiguracja jest obsługiwana do programowania i testowania ponieważ można bezpiecznie wykonać uaktualnienia, a po awarii jednego węzła, o ile nie występują jednocześnie.</span><span class="sxs-lookup"><span data-stu-id="97db8-153">hello three node cluster configuration is supported for dev/test because you can safely perform upgrades and survive individual node failures, as long as they don't happen simultaneously.</span></span> <span data-ttu-id="97db8-154">W przypadku obciążeń produkcyjnych musi być odporne toosuch równoczesnej awarii, więc pięć węzłów są wymagane.</span><span class="sxs-lookup"><span data-stu-id="97db8-154">For production workloads, you must be resilient toosuch a simultaneous failure, so five nodes are required.</span></span>

### <a name="can-i-turn-off-my-cluster-at-nightweekends-toosave-costs"></a><span data-ttu-id="97db8-155">Można wyłączyć Moje klastra w nocy/weekendów toosave kosztów?</span><span class="sxs-lookup"><span data-stu-id="97db8-155">Can I turn off my cluster at night/weekends toosave costs?</span></span>

<span data-ttu-id="97db8-156">Ogólnie rzecz biorąc, nie.</span><span class="sxs-lookup"><span data-stu-id="97db8-156">In general, no.</span></span> <span data-ttu-id="97db8-157">Sieć szkieletowa usług zapisuje stan na dyskach lokalnych, efemeryczne, co oznacza, że jeśli maszyna wirtualna hello jest tooa przeniesiony na inny host, dane hello nie przenosi z nim.</span><span class="sxs-lookup"><span data-stu-id="97db8-157">Service Fabric stores state on local, ephemeral disks, meaning that if hello virtual machine is moved tooa different host, hello data does not move with it.</span></span> <span data-ttu-id="97db8-158">W normalnych warunkach, który nie jest problem jako nowy węzeł hello jest włączane toodate przez inne węzły.</span><span class="sxs-lookup"><span data-stu-id="97db8-158">In normal operation, that is not a problem as hello new node is brought up toodate by other nodes.</span></span> <span data-ttu-id="97db8-159">Jednak jeśli zatrzymać wszystkie węzły i ponownie je później, istnieje możliwość znaczących że większość węzłów hello Rozpocznij na nowych hostach i toorecover hello systemu.</span><span class="sxs-lookup"><span data-stu-id="97db8-159">However, if you stop all nodes and restart them later, there is a significant possibility that most of hello nodes start on new hosts and make hello system unable toorecover.</span></span>

<span data-ttu-id="97db8-160">Jeśli chcesz toocreate klastrów w celu testowania aplikacji przed wdrożeniem zalecamy dynamicznie utworzyć te klastry w ramach Twojej [ciągłej integracji/ciągłego wdrażania potoku](service-fabric-set-up-continuous-integration.md).</span><span class="sxs-lookup"><span data-stu-id="97db8-160">If you would like toocreate clusters for testing your application before it is deployed, we recommend that you dynamically create those clusters as part of your [continuous integration/continuous deployment pipeline](service-fabric-set-up-continuous-integration.md).</span></span>


### <a name="how-do-i-upgrade-my-operating-system-for-example-from-windows-server-2012-toowindows-server-2016"></a><span data-ttu-id="97db8-161">Jak uaktualnić System operacyjny (na przykład z systemu Windows Server 2012 tooWindows Server 2016)?</span><span class="sxs-lookup"><span data-stu-id="97db8-161">How do I upgrade my Operating System (for example from Windows Server 2012 tooWindows Server 2016)?</span></span>

<span data-ttu-id="97db8-162">Gdy pracujemy nad udoskonalone środowisko obecnie jest odpowiedzialny za hello uaktualnienia.</span><span class="sxs-lookup"><span data-stu-id="97db8-162">While we're working on an improved experience, today, you are responsible for hello upgrade.</span></span> <span data-ttu-id="97db8-163">Należy uaktualnić obraz powitania systemu operacyjnego na powitania maszyn wirtualnych z hello klastra jedną maszynę Wirtualną w czasie.</span><span class="sxs-lookup"><span data-stu-id="97db8-163">You must upgrade hello OS image on hello virtual machines of hello cluster one VM at a time.</span></span> 

## <a name="container-support"></a><span data-ttu-id="97db8-164">Obsługa kontenerów</span><span class="sxs-lookup"><span data-stu-id="97db8-164">Container Support</span></span>

### <a name="why-are-my-containers-that-are-deployed-toosf-unable-tooresolve-dns-addresses"></a><span data-ttu-id="97db8-165">Dlaczego są moje kontenerów, które są wdrożone tooSF tooresolve DNS adresy?</span><span class="sxs-lookup"><span data-stu-id="97db8-165">Why are my containers that are deployed tooSF unable tooresolve DNS addresses?</span></span>

<span data-ttu-id="97db8-166">Ten problem został zgłoszony w klastrach, które znajdują się na 5.6.204.9494 wersji</span><span class="sxs-lookup"><span data-stu-id="97db8-166">This issue has been reported on clusters that are on 5.6.204.9494 version</span></span> 

<span data-ttu-id="97db8-167">**Środki zaradcze** : wykonaj [tego dokumentu](service-fabric-dnsservice.md) tooenable hello DNS usługi service fabric w klastrze.</span><span class="sxs-lookup"><span data-stu-id="97db8-167">**Mitigation** :  Follow [this document](service-fabric-dnsservice.md) tooenable hello DNS service fabric service in your cluster.</span></span>

<span data-ttu-id="97db8-168">**Usuń** : wersja klastra tooa uaktualniania obsługiwane jest większa niż 5.6.204.9494, gdy jest ona dostępna.</span><span class="sxs-lookup"><span data-stu-id="97db8-168">**Fix** :  Upgrade tooa supported cluster version that is higher than 5.6.204.9494, when it is available.</span></span> <span data-ttu-id="97db8-169">Jeśli klaster jest ustawiona tooautomatic uaktualnień, następnie hello klastra automatycznie zaktualizuje wersji toohello, którego dotyczy ten problem, stałej.</span><span class="sxs-lookup"><span data-stu-id="97db8-169">If your cluster is set tooautomatic upgrades, then hello cluster will automatically upgrade toohello version that has this issue fixed.</span></span>

  
## <a name="application-design"></a><span data-ttu-id="97db8-170">Aplikacja — projekt</span><span class="sxs-lookup"><span data-stu-id="97db8-170">Application Design</span></span>

### <a name="whats-hello-best-way-tooquery-data-across-partitions-of-a-reliable-collection"></a><span data-ttu-id="97db8-171">Co to jest hello najlepsze sposób tooquery danych między partycjami niezawodnej kolekcji?</span><span class="sxs-lookup"><span data-stu-id="97db8-171">What's hello best way tooquery data across partitions of a Reliable Collection?</span></span>

<span data-ttu-id="97db8-172">Niezawodne kolekcje są zwykle [partycjonowanej](service-fabric-concepts-partitioning.md) tooenable skalowania większą wydajność i przepływność.</span><span class="sxs-lookup"><span data-stu-id="97db8-172">Reliable collections are typically [partitioned](service-fabric-concepts-partitioning.md) tooenable scale out for greater performance and throughput.</span></span> <span data-ttu-id="97db8-173">Oznacza to, że hello stan dla danej usługi mogą rozprzestrzeniać się przez 10s lub 100s maszyn.</span><span class="sxs-lookup"><span data-stu-id="97db8-173">That means that hello state for a given service may be spread across 10s or 100s of machines.</span></span> <span data-ttu-id="97db8-174">operacje tooperform za pośrednictwem tego pełnego zestawu danych, masz kilka opcji:</span><span class="sxs-lookup"><span data-stu-id="97db8-174">tooperform operations over that full data set, you have a few options:</span></span>

- <span data-ttu-id="97db8-175">Tworzenie usługi, który odpytuje wszystkie partycje innego toopull usługi hello wymaganych danych.</span><span class="sxs-lookup"><span data-stu-id="97db8-175">Create a service that queries all partitions of another service toopull in hello required data.</span></span>
- <span data-ttu-id="97db8-176">Tworzenie usługi, który może odbierać dane z wszystkich partycji innej usługi.</span><span class="sxs-lookup"><span data-stu-id="97db8-176">Create a service that can receive data from all partitions of another service.</span></span>
- <span data-ttu-id="97db8-177">Okresowe wypychanie danych z magazynu zewnętrznego tooan każdej usługi.</span><span class="sxs-lookup"><span data-stu-id="97db8-177">Periodically push data from each service tooan external store.</span></span> <span data-ttu-id="97db8-178">Takie podejście jest tylko jeśli hello zapytań, które wykonujesz nie są częścią podstawowej logiki biznesowej.</span><span class="sxs-lookup"><span data-stu-id="97db8-178">This approach is only appropriate if hello queries you're performing are not part of your core business logic.</span></span>


### <a name="whats-hello-best-way-tooquery-data-across-my-actors"></a><span data-ttu-id="97db8-179">Co to jest hello najlepsze sposób tooquery danych między Moje złośliwych użytkowników?</span><span class="sxs-lookup"><span data-stu-id="97db8-179">What's hello best way tooquery data across my actors?</span></span>

<span data-ttu-id="97db8-180">Złośliwych użytkowników są zaprojektowane toobe jednostki niezależne stanu i obliczeń, więc nie jest zalecane tooperform szerokie kwerendy stanu aktora w czasie wykonywania.</span><span class="sxs-lookup"><span data-stu-id="97db8-180">Actors are designed toobe independent units of state and compute, so it is not recommended tooperform broad queries of actor state at runtime.</span></span> <span data-ttu-id="97db8-181">Jeśli masz tooquery potrzeby między hello pełny zestaw stanu aktora, należy rozważyć albo:</span><span class="sxs-lookup"><span data-stu-id="97db8-181">If you have a need tooquery across hello full set of actor state, you should consider either:</span></span>

- <span data-ttu-id="97db8-182">Zastępując usługi aktora niezawodne usługi stanowej, tak aby hello liczba sieci żądań toogather wszystkie dane z hello liczby uczestników toohello liczby partycji w usłudze.</span><span class="sxs-lookup"><span data-stu-id="97db8-182">Replacing your actor services with stateful reliable services, such that hello number of network requests toogather all data from hello number of actors toohello number of partitions in your service.</span></span>
- <span data-ttu-id="97db8-183">Projektowanie wypychania tooperiodically Twojego podmiotów ich stanu tooan zewnętrznym sklepie łatwiejsze zapytań.</span><span class="sxs-lookup"><span data-stu-id="97db8-183">Designing your actors tooperiodically push their state tooan external store for easier querying.</span></span> <span data-ttu-id="97db8-184">Jako powyżej, ta metoda jest tylko działało, jeśli hello zapytań, które wykonujesz nie są wymagane do zachowania w czasie wykonywania.</span><span class="sxs-lookup"><span data-stu-id="97db8-184">As above, this approach is only viable if hello queries you're performing are not required for your runtime behavior.</span></span>

### <a name="how-much-data-can-i-store-in-a-reliable-collection"></a><span data-ttu-id="97db8-185">Ilość danych można przechowywać w niezawodnej kolekcji?</span><span class="sxs-lookup"><span data-stu-id="97db8-185">How much data can I store in a Reliable Collection?</span></span>

<span data-ttu-id="97db8-186">Niezawodne usługi zwykle są dzielone, więc kwota hello, które można przechowywać jest ograniczona tylko przez hello liczbę komputerów w klastrze hello i hello ilość pamięci dostępnej na tych komputerach.</span><span class="sxs-lookup"><span data-stu-id="97db8-186">Reliable services are typically partitioned, so hello amount you can store is only limited by hello number of machines you have in hello cluster, and hello amount of memory available on those machines.</span></span>

<span data-ttu-id="97db8-187">Na przykład załóżmy, że zostały niezawodnej kolekcji w usłudze 100 partycji i replik 3 przechowywania obiektów, które średni o rozmiarze 1kb.</span><span class="sxs-lookup"><span data-stu-id="97db8-187">As an example, suppose that you have a reliable collection in a service with 100 partitions and 3 replicas, storing objects that average 1kb in size.</span></span> <span data-ttu-id="97db8-188">Teraz załóżmy, że masz klaster 10 maszyny z 16gb pamięci dla maszyny.</span><span class="sxs-lookup"><span data-stu-id="97db8-188">Now suppose that you have a 10 machine cluster with 16gb of memory per machine.</span></span> <span data-ttu-id="97db8-189">Dla uproszczenia i toobe bardzo zachowawcze założono, że 6gb pamięci, pozostawiając 10gb, dostępne dla poszczególnych komputerów lub 100gb dla klastra hello korzystać z systemu operacyjnego hello i usługi systemowe, środowisko uruchomieniowe usługi sieć szkieletowa hello i usług.</span><span class="sxs-lookup"><span data-stu-id="97db8-189">For simplicity and toobe very conservative, assume that hello operating system and system services, hello Service Fabric runtime, and your services consume 6gb of that, leaving 10gb available per machine, or 100gb for hello cluster.</span></span>

<span data-ttu-id="97db8-190">Pamiętając, że każdy obiekt musi być przechowywany trzy razy (podstawowego i dwie repliki), konieczne będzie wystarczającej ilości pamięci dla około 35 milionów obiektów z kolekcji działającego na pełną pojemność.</span><span class="sxs-lookup"><span data-stu-id="97db8-190">Keeping in mind that each object must be stored three times (one primary and two replicas), you would have sufficient memory for approximately 35 million objects in your collection when operating at full capacity.</span></span> <span data-ttu-id="97db8-191">Jednak zalecane jest odporność toohello jednoczesnych utraty domeny awarii i domeny uaktualnienia, który reprezentuje około 1/3 wydajności i ograniczy hello numer tooroughly 23 milionów.</span><span class="sxs-lookup"><span data-stu-id="97db8-191">However, we recommend being resilient toohello simultaneous loss of a failure domain and an upgrade domain, which represents about 1/3 of capacity, and would reduce hello number tooroughly 23 million.</span></span>

<span data-ttu-id="97db8-192">Należy pamiętać, że przyjęto również obliczona w ten sposób:</span><span class="sxs-lookup"><span data-stu-id="97db8-192">Note that this calculation also assumes:</span></span>

- <span data-ttu-id="97db8-193">Czy hello rozkład danych między partycjami hello jest około uniform lub że w przypadku raportowania toohello metryki obciążenia Menedżera zasobów klastra.</span><span class="sxs-lookup"><span data-stu-id="97db8-193">That hello distribution of data across hello partitions is roughly uniform or that you're reporting load metrics toohello Cluster Resource Manager.</span></span> <span data-ttu-id="97db8-194">Domyślnie usługa sieć szkieletowa załaduje Saldo na podstawie liczby replik.</span><span class="sxs-lookup"><span data-stu-id="97db8-194">By default, Service Fabric will load balance based on replica count.</span></span> <span data-ttu-id="97db8-195">W naszym przykładzie powyżej, która spowodowałaby 10 replik podstawowych i 20 replikach pomocniczych w każdym węźle klastra hello.</span><span class="sxs-lookup"><span data-stu-id="97db8-195">In our example above, that would put 10 primary replicas and 20 secondary replicas on each node in hello cluster.</span></span> <span data-ttu-id="97db8-196">Która dobrze się sprawdza obciążenia, które jest równomiernie rozłożona hello partycji.</span><span class="sxs-lookup"><span data-stu-id="97db8-196">That works well for load that is evenly distributed across hello partitions.</span></span> <span data-ttu-id="97db8-197">Jeśli obciążenie nie jest nawet, musisz zgłosić obciążenia, aby hello Resource Manager można ze sobą pakietu repliki mniejszy i umożliwić większej ilości pamięci większy tooconsume replik na oddzielnego węzła.</span><span class="sxs-lookup"><span data-stu-id="97db8-197">If load is not even, you must report load so that hello Resource Manager can pack smaller replicas together and allow larger replicas tooconsume more memory on an individual node.</span></span>

- <span data-ttu-id="97db8-198">Czy hello niezawodnej usługi jest tylko jeden stan przechowywania hello hello klastra.</span><span class="sxs-lookup"><span data-stu-id="97db8-198">That hello reliable service in question is hello only one storing state in hello cluster.</span></span> <span data-ttu-id="97db8-199">Ponieważ można wdrożyć wiele usług tooa klastra, należy toobe mając na uwadze hello zasoby będą każde muszą toorun i zarządzać jego stanu.</span><span class="sxs-lookup"><span data-stu-id="97db8-199">Since you can deploy multiple services tooa cluster, you need toobe mindful of hello resources that each will need toorun and manage its state.</span></span>

- <span data-ttu-id="97db8-200">Tego samego klastra hello nie rozwój lub zmniejszenie.</span><span class="sxs-lookup"><span data-stu-id="97db8-200">That hello cluster itself is not growing or shrinking.</span></span> <span data-ttu-id="97db8-201">Jeśli dodasz więcej maszyn sieci szkieletowej usług równoważenie replik tooleverage hello dodatkowe możliwości, dopóki hello liczby maszyn przekracza hello liczby partycji w usłudze, ponieważ replik nie może obejmować maszyny.</span><span class="sxs-lookup"><span data-stu-id="97db8-201">If you add more machines, Service Fabric will rebalance your replicas tooleverage hello additional capacity until hello number of machines surpasses hello number of partitions in your service, since an individual replica cannot span machines.</span></span> <span data-ttu-id="97db8-202">Z kolei jeśli można zmniejszyć rozmiar hello hello klastra przez usunięcie maszyny, repliki będzie zapewniać więcej ściśle i ma mniej ogólnej wydajności.</span><span class="sxs-lookup"><span data-stu-id="97db8-202">By contrast, if you reduce hello size of hello cluster by removing machines, your replicas will be packed more tightly and have less overall capacity.</span></span>

### <a name="how-much-data-can-i-store-in-an-actor"></a><span data-ttu-id="97db8-203">Ilość danych można przechowywać w aktora?</span><span class="sxs-lookup"><span data-stu-id="97db8-203">How much data can I store in an actor?</span></span>

<span data-ttu-id="97db8-204">Podobnie jak w przypadku niezawodne usługi hello ilość danych, które można przechowywać w usłudze aktora jest ograniczona tylko hello całkowitego miejsca na dysku i dostępnej pamięci na powitania węzłach w klastrze.</span><span class="sxs-lookup"><span data-stu-id="97db8-204">As with reliable services, hello amount of data that you can store in an actor service is only limited by hello total disk space and memory available across hello nodes in your cluster.</span></span> <span data-ttu-id="97db8-205">Jednak poszczególnych osób są najbardziej efektywne, gdy są one używane tooencapsulate małej ilości logiki biznesowej stanu i skojarzone.</span><span class="sxs-lookup"><span data-stu-id="97db8-205">However, individual actors are most effective when they are used tooencapsulate a small amount of state and associated business logic.</span></span> <span data-ttu-id="97db8-206">Ogólną zasadą poszczególnych aktora powinien mieć stan, który jest mierzony w kilobajtach.</span><span class="sxs-lookup"><span data-stu-id="97db8-206">As a general rule, an individual actor should have state that is measured in kilobytes.</span></span>

## <a name="other-questions"></a><span data-ttu-id="97db8-207">Inne pytania</span><span class="sxs-lookup"><span data-stu-id="97db8-207">Other questions</span></span>

### <a name="how-does-service-fabric-relate-toocontainers"></a><span data-ttu-id="97db8-208">Jak sieci szkieletowej usług między toocontainers?</span><span class="sxs-lookup"><span data-stu-id="97db8-208">How does Service Fabric relate toocontainers?</span></span>

<span data-ttu-id="97db8-209">Kontenery oferty usług toopackage prosty sposób oraz ich zależności tak, aby uruchomić konsekwentnie we wszystkich środowiskach i może działać w sposób izolowany na jednym komputerze.</span><span class="sxs-lookup"><span data-stu-id="97db8-209">Containers offer a simple way toopackage services and their dependencies such that they run consistently in all environments and can operate in an isolated fashion on a single machine.</span></span> <span data-ttu-id="97db8-210">Sieci szkieletowej usług oferuje toodeploy sposób usług oraz zarządzania nimi, w tym [usług, które zostały opakowane w kontenerze](service-fabric-containers-overview.md).</span><span class="sxs-lookup"><span data-stu-id="97db8-210">Service Fabric offers a way toodeploy and manage services, including [services that have been packaged in a container](service-fabric-containers-overview.md).</span></span>

### <a name="are-you-planning-tooopen-source-service-fabric"></a><span data-ttu-id="97db8-211">Czy planujesz tooopen źródłowej sieci szkieletowej usług?</span><span class="sxs-lookup"><span data-stu-id="97db8-211">Are you planning tooopen source Service Fabric?</span></span>

<span data-ttu-id="97db8-212">Firma Microsoft ma tooopen źródła hello reliable services i uczestników niezawodnej struktury w serwisie GitHub i będzie akceptować społeczności wkładów toothose projektów.</span><span class="sxs-lookup"><span data-stu-id="97db8-212">We intend tooopen source hello reliable services and reliable actors frameworks on GitHub and will accept community contributions toothose projects.</span></span> <span data-ttu-id="97db8-213">Wykonaj hello [blogu usługi sieć szkieletowa](https://blogs.msdn.microsoft.com/azureservicefabric/) Aby uzyskać więcej informacji, ponieważ są one anonsowania.</span><span class="sxs-lookup"><span data-stu-id="97db8-213">Please follow hello [Service Fabric blog](https://blogs.msdn.microsoft.com/azureservicefabric/) for more details as they're announced.</span></span>

<span data-ttu-id="97db8-214">Hello są obecnie runtime nie planów tooopen źródła hello sieci szkieletowej usług.</span><span class="sxs-lookup"><span data-stu-id="97db8-214">hello are currently no plans tooopen source hello Service Fabric runtime.</span></span>

## <a name="next-steps"></a><span data-ttu-id="97db8-215">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="97db8-215">Next steps</span></span>

- [<span data-ttu-id="97db8-216">Dowiedz się więcej o podstawowych pojęć sieci szkieletowej usług i najlepsze rozwiązania</span><span class="sxs-lookup"><span data-stu-id="97db8-216">Learn about core Service Fabric concepts and best practices</span></span>](https://mva.microsoft.com/en-us/training-courses/building-microservices-applications-on-azure-service-fabric-16747?l=tbuZM46yC_5206218965)
