---
title: "aaaAzure usługi sieć szkieletowa kontenery monitorowania i diagnostyki | Dokumentacja firmy Microsoft"
description: "Dowiedz się, jak toomonitor i diagnozowanie kontenery zorkiestrowana na usługi sieć szkieletowa usług Microsoft Azure z rozwiązaniem kontenery w OMS."
services: service-fabric
documentationcenter: .net
author: dkkapur
manager: timlt
editor: 
ms.assetid: 
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 05/10/2017
ms.author: dekapur
ms.openlocfilehash: cd79111cf78b9d76a60d489bb9953587aa06186d
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="monitoring-windows-server-containers-with-oms"></a><span data-ttu-id="5dde8-103">Monitorowanie kontenery systemu Windows Server z usługą OMS</span><span class="sxs-lookup"><span data-stu-id="5dde8-103">Monitoring Windows Server containers with OMS</span></span>

## <a name="oms-containers-solution"></a><span data-ttu-id="5dde8-104">Rozwiązanie kontenery OMS</span><span class="sxs-lookup"><span data-stu-id="5dde8-104">OMS Containers Solution</span></span>

<span data-ttu-id="5dde8-105">Witaj zespołu Operations Management Suite (OMS) został opublikowany rozwiązanie kontenery Diagnostyka i monitorowanie dla kontenerów.</span><span class="sxs-lookup"><span data-stu-id="5dde8-105">hello Operations Management Suite (OMS) team has published a Containers solution for diagnostics and monitoring for containers.</span></span> <span data-ttu-id="5dde8-106">Równolegle z ich rozwiązanie sieci szkieletowej usług to rozwiązanie jest doskonałe narzędzie wdrożenia kontenera toomonitor zorkiestrowana w sieci szkieletowej usług.</span><span class="sxs-lookup"><span data-stu-id="5dde8-106">Alongside their Service Fabric solution, this solution is a great tool toomonitor container deployments orchestrated on Service Fabric.</span></span> <span data-ttu-id="5dde8-107">Poniżej przedstawiono prosty przykład jakie pulpitu nawigacyjnego hello w rozwiązaniu hello wygląda następująco:</span><span class="sxs-lookup"><span data-stu-id="5dde8-107">Here's a simple example of what hello dashboard in hello solution looks like:</span></span>

![Pulpit nawigacyjny podstawowe OMS](./media/service-fabric-diagnostics-containers-windowsserver/oms-containers-dashboard.png)

<span data-ttu-id="5dde8-109">Zbiera również różnych rodzajów dzienniki, które można wykonać zapytania w narzędziu analizy dzienników OMS hello, i może być używane toovisualize ani metryki zdarzenia są generowane.</span><span class="sxs-lookup"><span data-stu-id="5dde8-109">It also collects different kinds of logs that can be queried in hello OMS Log Analytics tool, and can be used toovisualize any metrics or events being generated.</span></span> <span data-ttu-id="5dde8-110">typy dziennika Hello, które są zbierane są:</span><span class="sxs-lookup"><span data-stu-id="5dde8-110">hello log types that are collected are:</span></span>

1. <span data-ttu-id="5dde8-111">ContainerInventory: zawiera informacje o lokalizacji kontenera, nazwy i obrazów</span><span class="sxs-lookup"><span data-stu-id="5dde8-111">ContainerInventory: shows information about container location, name, and images</span></span>
2. <span data-ttu-id="5dde8-112">ContainerImageInventory: informacje o wdrożonej obrazów, w tym identyfikatory lub rozmiary</span><span class="sxs-lookup"><span data-stu-id="5dde8-112">ContainerImageInventory: information about deployed images, including IDs or sizes</span></span>
3. <span data-ttu-id="5dde8-113">ContainerLog: dzienniki błędu, dzienniki docker (stdout itp.) i innych pozycji</span><span class="sxs-lookup"><span data-stu-id="5dde8-113">ContainerLog: specific error logs, docker logs (stdout, etc.), and other entries</span></span>
4. <span data-ttu-id="5dde8-114">ContainerServiceLog: docker demon poleceń, które zostały uruchomione</span><span class="sxs-lookup"><span data-stu-id="5dde8-114">ContainerServiceLog: docker daemon commands that have been run</span></span>
5. <span data-ttu-id="5dde8-115">O wydajności: liczniki wydajności w tym kontenerze procesora cpu, pamięć, ruch sieciowy na We/Wy dysku i metryki niestandardowe z hello obsługi maszyn</span><span class="sxs-lookup"><span data-stu-id="5dde8-115">Perf: performance counters including container cpu, memory, network traffic, disk i/o, and custom metrics from hello host machines</span></span>

<span data-ttu-id="5dde8-116">W tym artykule omówiono tooset wymagane kroki hello zapasowej kontenera monitorowania dla klastra.</span><span class="sxs-lookup"><span data-stu-id="5dde8-116">This article covers hello steps required tooset up container monitoring for your cluster.</span></span> <span data-ttu-id="5dde8-117">więcej informacji na temat rozwiązania kontenery w OMS, toolearn wyewidencjonowania ich [dokumentacji](../log-analytics/log-analytics-containers.md).</span><span class="sxs-lookup"><span data-stu-id="5dde8-117">toolearn more about OMS's Containers solution, check out their [documentation](../log-analytics/log-analytics-containers.md).</span></span>

## <a name="1-set-up-a-service-fabric-cluster"></a><span data-ttu-id="5dde8-118">1. Konfigurowanie klastra sieci szkieletowej usług</span><span class="sxs-lookup"><span data-stu-id="5dde8-118">1. Set up a Service Fabric cluster</span></span>

<span data-ttu-id="5dde8-119">Tworzenie klastra przy użyciu szablonu usługi Azure Resource Manager hello znaleziono [tutaj](https://github.com/dkkapur/Service-Fabric/tree/master/ARM%20Templates/SF%20OMS%20Sample).</span><span class="sxs-lookup"><span data-stu-id="5dde8-119">Create a cluster using hello Azure Resource Manager template found [here](https://github.com/dkkapur/Service-Fabric/tree/master/ARM%20Templates/SF%20OMS%20Sample).</span></span> <span data-ttu-id="5dde8-120">Upewnij się, że tooadd unikatową nazwę obszaru roboczego OMS.</span><span class="sxs-lookup"><span data-stu-id="5dde8-120">Make sure tooadd a unique OMS workspace name.</span></span> <span data-ttu-id="5dde8-121">Ten szablon również domyślnie toodeploying tworzenia klastra w wersji zapoznawczej hello usługi sieci szkieletowej (v255.255), co oznacza, że nie można używać w środowisku produkcyjnym, a nie można uaktualnić tooa inna wersja usługi Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="5dde8-121">This template also defaults toodeploying a cluster in hello preview build of Service Fabric (v255.255), which means that it cannot be used in production, and cannot be upgraded tooa different Service Fabric version.</span></span> <span data-ttu-id="5dde8-122">Jeśli zdecydujesz się toouse ten szablon do długoterminowych lub produkcji korzystać, Zmień numer wersji stabilnej tooa wersja hello.</span><span class="sxs-lookup"><span data-stu-id="5dde8-122">If you decide toouse this template for long-term or production use, change hello version tooa stable version number.</span></span>

<span data-ttu-id="5dde8-123">Po skonfigurowaniu klastra hello Potwierdź zainstalowany odpowiedni certyfikat hello i upewnij się, że jesteś w stanie tooconnect toohello klastra.</span><span class="sxs-lookup"><span data-stu-id="5dde8-123">Once hello cluster is set up, confirm that you have installed hello appropriate certificate, and make sure you are able tooconnect toohello cluster.</span></span>

<span data-ttu-id="5dde8-124">Upewnij się, że grupy zasobów jest poprawnie skonfigurowane, nagłówek toohello [portalu Azure](https://portal.azure.com/) w celu znalezienia hello wdrożenia.</span><span class="sxs-lookup"><span data-stu-id="5dde8-124">Confirm that your Resource Group is set up correctly by heading toohello [Azure portal](https://portal.azure.com/) and finding hello deployment.</span></span> <span data-ttu-id="5dde8-125">Grupa zasobów Hello powinien zawierać wszystkie zasoby sieci szkieletowej usług hello, a także mieć rozwiązania analizy dzienników, a także rozwiązania sieci szkieletowej usług.</span><span class="sxs-lookup"><span data-stu-id="5dde8-125">hello resource group should contain all hello Service Fabric resources, and also have a Log Analytics solution as well as a Service Fabric solution.</span></span>

<span data-ttu-id="5dde8-126">Do modyfikowania istniejącego klastra sieci szkieletowej usług:</span><span class="sxs-lookup"><span data-stu-id="5dde8-126">For modifying an existing Service Fabric cluster:</span></span>
* <span data-ttu-id="5dde8-127">Potwierdź, że jest włączona diagnostyki (Jeśli nie, włącz je za pomocą [aktualizowanie zestawu skali maszyny wirtualnej hello](/rest/api/virtualmachinescalesets/create-or-update-a-set))</span><span class="sxs-lookup"><span data-stu-id="5dde8-127">Confirm that Diagnostics is enabled (if not, enable it via [updating hello virtual machine scale set](/rest/api/virtualmachinescalesets/create-or-update-a-set))</span></span>
* <span data-ttu-id="5dde8-128">Dodaj obszar roboczy OMS przez utworzenie rozwiązania "Analytics sieci szkieletowej usług" za pośrednictwem hello Azure Marketplace</span><span class="sxs-lookup"><span data-stu-id="5dde8-128">Add an OMS Workspace by creating a "Service Fabric Analytics" solution via hello Azure Marketplace</span></span>
* <span data-ttu-id="5dde8-129">Edycja źródła danych hello toopick rozwiązania sieci szkieletowej usług hello zapasową danych z hello odpowiednie tabel usługi Azure Storage (Konfigurowanie przez WAD) w hello grupę zasobów, która hello klastra znajduje się w</span><span class="sxs-lookup"><span data-stu-id="5dde8-129">Edit hello data sources of hello Service Fabric solution toopick up data from hello appropriate Azure Storage tables (set up by WAD) in hello Resource Group that hello cluster is in</span></span>
* <span data-ttu-id="5dde8-130">Dodanie agenta hello jako [zestaw skali maszyny wirtualnej toohello rozszerzenia](/powershell/module/azurerm.compute/add-azurermvmssextension) za pomocą programu PowerShell lub za pośrednictwem aktualizacji hello zestaw skali maszyny wirtualnej (tego samego łącza jak wyżej, szablon usługi Resource Manager hello toomodify)</span><span class="sxs-lookup"><span data-stu-id="5dde8-130">Add hello agent as an [extension toohello virtual machine scale set](/powershell/module/azurerm.compute/add-azurermvmssextension) via PowerShell or through updating hello virtual machine scale set (same link as above, toomodify hello Resource Manager template)</span></span>

## <a name="2-deploy-a-container"></a><span data-ttu-id="5dde8-131">2. Wdrażanie kontenera</span><span class="sxs-lookup"><span data-stu-id="5dde8-131">2. Deploy a container</span></span>

<span data-ttu-id="5dde8-132">Po hello klaster będzie gotowy i potwierdzeniu, że można do niego dostęp, należy wdrożyć tooit kontenera.</span><span class="sxs-lookup"><span data-stu-id="5dde8-132">Once hello cluster is ready and you have confirmed that you can access it, deploy a container tooit.</span></span> <span data-ttu-id="5dde8-133">W przypadku wybrania wersji zapoznawczej hello toouse zgodnie z ustawieniami w szablonie hello można również zapoznać się usługi sieć szkieletowa nowego rozwiązania docker compose funkcji.</span><span class="sxs-lookup"><span data-stu-id="5dde8-133">If you chose toouse hello preview version as set by hello template, you can also explore Service Fabric's new docker compose functionality.</span></span> <span data-ttu-id="5dde8-134">Opatrzone pamiętać, że hello po raz pierwszy obraz kontenera jest wdrożony tooa klastra, zajmuje kilka minut toodownload obraz powitania w zależności od rozmiaru.</span><span class="sxs-lookup"><span data-stu-id="5dde8-134">Bear in mind that hello first time a container image is deployed tooa cluster, it takes several minutes toodownload hello image depending on its size.</span></span>

## <a name="3-add-hello-containers-solution"></a><span data-ttu-id="5dde8-135">3. Dodaj rozwiązanie kontenery hello</span><span class="sxs-lookup"><span data-stu-id="5dde8-135">3. Add hello Containers solution</span></span>

<span data-ttu-id="5dde8-136">W portalu Azure Witaj, utwórz zasób kontenerów (w obszarze hello monitorowanie i zarządzanie kategorii) za pośrednictwem portalu Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="5dde8-136">In hello Azure portal, create a Containers resource (under hello Monitoring + Management category) through Azure Marketplace.</span></span> 

![Dodawanie rozwiązania kontenerów](./media/service-fabric-diagnostics-containers-windowsserver/containers-solution.png)

<span data-ttu-id="5dde8-138">W kroku tworzenia hello żądania obszarem roboczym pakietu OMS.</span><span class="sxs-lookup"><span data-stu-id="5dde8-138">In hello creation step, it requests an OMS workspace.</span></span> <span data-ttu-id="5dde8-139">Wybierz hello, który został utworzony z wdrożeniem hello powyżej.</span><span class="sxs-lookup"><span data-stu-id="5dde8-139">Select hello one that was created with hello deployment above.</span></span> <span data-ttu-id="5dde8-140">Ten krok dodaje rozwiązania kontenery w obszarze roboczym pakietu OMS i jest automatyczne wykrywany przez agenta pakietu OMS hello wdrożone przez szablon hello.</span><span class="sxs-lookup"><span data-stu-id="5dde8-140">This step adds a Containers solution within your OMS workspace, and is automatically detected by hello OMS agent deployed by hello template.</span></span> <span data-ttu-id="5dde8-141">Hello agent rozpocznie się zbieranie danych na procesach kontenery hello hello klastra, a w około 10 – 15 minut, powinna zostać wyświetlona rozwiązania hello światła się z danymi, tak jak obraz powitania pulpitu nawigacyjnego hello powyżej.</span><span class="sxs-lookup"><span data-stu-id="5dde8-141">hello agent will start gathering data on hello containers processes in hello cluster, and in about 10-15 minutes, you should see hello solution light up with data as in hello image of hello dashboard above.</span></span>

## <a name="4-next-steps"></a><span data-ttu-id="5dde8-142">4. Następne kroki</span><span class="sxs-lookup"><span data-stu-id="5dde8-142">4. Next steps</span></span>

<span data-ttu-id="5dde8-143">OMS oferuje różne narzędzia w toomake obszaru roboczego hello bardziej użyteczne dla Ciebie.</span><span class="sxs-lookup"><span data-stu-id="5dde8-143">OMS offers various tools in hello workspace toomake if more useful for you.</span></span> <span data-ttu-id="5dde8-144">Zapoznaj się z hello następujące opcje toocustomize hello rozwiązania tooyour potrzeb:</span><span class="sxs-lookup"><span data-stu-id="5dde8-144">Explore hello following options toocustomize hello solution tooyour needs:</span></span>
- <span data-ttu-id="5dde8-145">Pobierz zapoznaniu się z hello [wyszukiwania i badania dziennika](../log-analytics/log-analytics-log-searches.md) funkcje dostępne w ramach analizy dzienników</span><span class="sxs-lookup"><span data-stu-id="5dde8-145">Get familiarized with hello [log search and querying](../log-analytics/log-analytics-log-searches.md) features offered as part of Log Analytics</span></span>
- <span data-ttu-id="5dde8-146">Skonfiguruj toopick agent pakietu OMS hello zapasowej konkretnych licznikach wydajności (Przejdź głównej obszaru roboczego toohello > Ustawienia > danych > liczników wydajności systemu Windows)</span><span class="sxs-lookup"><span data-stu-id="5dde8-146">Configure hello OMS agent toopick up specific performance counters (go toohello workspace Home > Settings > Data > Windows Performance Counters)</span></span>
- <span data-ttu-id="5dde8-147">Skonfiguruj OMS tooset się [automatycznego alerty](../log-analytics/log-analytics-alerts.md) tooaid reguł wykrywania i Diagnostyka</span><span class="sxs-lookup"><span data-stu-id="5dde8-147">Configure OMS tooset up [automated alerting](../log-analytics/log-analytics-alerts.md) rules tooaid in detecting and diagnostics</span></span>
