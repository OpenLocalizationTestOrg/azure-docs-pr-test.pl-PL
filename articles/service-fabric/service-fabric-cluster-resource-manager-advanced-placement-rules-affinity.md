---
title: "aaaService Menedżer zasobów klastra sieci szkieletowej — koligacja | Dokumentacja firmy Microsoft"
description: "Omówienie konfigurowania koligacji dla usługi sieci szkieletowej usług"
services: service-fabric
documentationcenter: .net
author: masnider
manager: timlt
editor: 
ms.assetid: 678073e1-d08d-46c4-a811-826e70aba6c4
ms.service: Service-Fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 08/18/2017
ms.author: masnider
ms.openlocfilehash: 7dc9b6d9c18d9d615d39cff7de9d7cba1c040474
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="configuring-and-using-service-affinity-in-service-fabric"></a><span data-ttu-id="a08f0-103">Konfigurowanie i używanie koligację usługi w sieci szkieletowej usług</span><span class="sxs-lookup"><span data-stu-id="a08f0-103">Configuring and using service affinity in Service Fabric</span></span>
<span data-ttu-id="a08f0-104">Koligacja jest formant, który znajduje się głównie toohelp łatwość hello przejście większych wbudowanymi aplikacji w chmurze i mikrousług Witaj, świecie.</span><span class="sxs-lookup"><span data-stu-id="a08f0-104">Affinity is a control that is provided mainly toohelp ease hello transition of larger monolithic applications into hello cloud and microservices world.</span></span> <span data-ttu-id="a08f0-105">Również służy do optymalizacji dla poprawy wydajności hello usług, chociaż może to mieć skutki uboczne.</span><span class="sxs-lookup"><span data-stu-id="a08f0-105">It is also used as an optimization for improving hello performance of services, although doing so can have side effects.</span></span>

<span data-ttu-id="a08f0-106">Załóżmy, że w przypadku wprowadzenia większych aplikacji lub taki, który właśnie nie został zaprojektowany z mikrousług w uwadze (tooService sieci szkieletowej lub dowolnym środowisku rozproszonym).</span><span class="sxs-lookup"><span data-stu-id="a08f0-106">Let’s say you’re bringing a larger app, or one that just wasn’t designed with microservices in mind, tooService Fabric (or any distributed environment).</span></span> <span data-ttu-id="a08f0-107">Ten typ przejścia jest wspólnej.</span><span class="sxs-lookup"><span data-stu-id="a08f0-107">This type of transition is common.</span></span> <span data-ttu-id="a08f0-108">Należy rozpocząć od podnoszenia hello całą aplikację do środowiska hello, pakowanie i upewnić się, że działa bez problemów.</span><span class="sxs-lookup"><span data-stu-id="a08f0-108">You start by lifting hello entire app into hello environment, packaging it, and making sure it is running smoothly.</span></span> <span data-ttu-id="a08f0-109">Następnie możesz uruchomić podzielenie go na różnych usług mniejszych, że wszystkie komunikować tooeach innych.</span><span class="sxs-lookup"><span data-stu-id="a08f0-109">Then you start breaking it down into different smaller services that all talk tooeach other.</span></span>

<span data-ttu-id="a08f0-110">Po pewnym czasie może się okazać czy aplikacji hello występują problemy.</span><span class="sxs-lookup"><span data-stu-id="a08f0-110">Eventually you may find that hello application is experiencing some issues.</span></span> <span data-ttu-id="a08f0-111">Witaj problemów zwykle należą do jednej z tych kategorii:</span><span class="sxs-lookup"><span data-stu-id="a08f0-111">hello issues usually fall into one of these categories:</span></span>

1. <span data-ttu-id="a08f0-112">Inny składnik X wbudowanymi aplikacji hello ma zależność nieudokumentowanej składnika Y, i tylko włączone tych składników do poszczególnych usług.</span><span class="sxs-lookup"><span data-stu-id="a08f0-112">Some component X in hello monolithic app had an undocumented dependency on component Y, and you just turned those components into separate services.</span></span> <span data-ttu-id="a08f0-113">Ponieważ te usługi są uruchomione w różnych węzłach w klastrze hello, są one uszkodzone.</span><span class="sxs-lookup"><span data-stu-id="a08f0-113">Since these services are now running on different nodes in hello cluster, they're broken.</span></span>
2. <span data-ttu-id="a08f0-114">Te składniki komunikują się za pośrednictwem (lokalnej nazwane potoki | współużytkowana pamięć | pliki na dysku) i naprawdę potrzebują zasobu lokalnego tooa udostępnionych stanie toowrite toobe ze względu na wydajność w tej chwili.</span><span class="sxs-lookup"><span data-stu-id="a08f0-114">These components communicate via (local named pipes | shared memory | files on disk) and they really need toobe able toowrite tooa shared local resource for performance reasons right now.</span></span> <span data-ttu-id="a08f0-115">Zależność twardych ta zostanie usunięta później, może być.</span><span class="sxs-lookup"><span data-stu-id="a08f0-115">That hard dependency gets removed later, maybe.</span></span>
3. <span data-ttu-id="a08f0-116">Wszystko działa poprawnie, ale włącza się, że te dwa składniki są faktycznie chatty wydajności poufnych.</span><span class="sxs-lookup"><span data-stu-id="a08f0-116">Everything is fine, but it turns out that these two components are actually chatty/performance sensitive.</span></span> <span data-ttu-id="a08f0-117">Gdy są przenoszone do poszczególnych usług ogólne tanked wydajność aplikacji lub opóźnienia zwiększyć.</span><span class="sxs-lookup"><span data-stu-id="a08f0-117">When they moved them into separate services overall application performance tanked or latency increased.</span></span> <span data-ttu-id="a08f0-118">W związku z tym hello ogólną aplikacja jest nie spełnia oczekiwania.</span><span class="sxs-lookup"><span data-stu-id="a08f0-118">As a result, hello overall application is not meeting expectations.</span></span>

<span data-ttu-id="a08f0-119">W takich przypadkach firma Microsoft nie mają toolose refaktoryzacji pracę i nie mają toogo monolityczna toohello Wstecz.</span><span class="sxs-lookup"><span data-stu-id="a08f0-119">In these cases, we don’t want toolose our refactoring work, and don’t want toogo back toohello monolith.</span></span> <span data-ttu-id="a08f0-120">ostatni warunek Hello może być pożądane zwykły optymalizacji.</span><span class="sxs-lookup"><span data-stu-id="a08f0-120">hello last condition may even be desirable as a plain optimization.</span></span> <span data-ttu-id="a08f0-121">Jednak do czasu firma Microsoft może naturalnie zmodyfikowanie toowork składniki hello jako usługi (lub do czasu firma Microsoft może rozwiązać oczekiwania dotyczące wydajności hello inny sposób) zamierzamy tooneed pewnym sensie lokalizacji.</span><span class="sxs-lookup"><span data-stu-id="a08f0-121">However, until we can redesign hello components toowork naturally as services (or until we can solve hello performance expectations some other way) we're going tooneed some sense of locality.</span></span>

<span data-ttu-id="a08f0-122">Jakie toodo?</span><span class="sxs-lookup"><span data-stu-id="a08f0-122">What toodo?</span></span> <span data-ttu-id="a08f0-123">Można również spróbuj Włączenie koligacji.</span><span class="sxs-lookup"><span data-stu-id="a08f0-123">Well, you could try turning on affinity.</span></span>

## <a name="how-tooconfigure-affinity"></a><span data-ttu-id="a08f0-124">Jak tooconfigure koligacji</span><span class="sxs-lookup"><span data-stu-id="a08f0-124">How tooconfigure affinity</span></span>
<span data-ttu-id="a08f0-125">tooset się koligacji, należy zdefiniować relację koligację między dwóch różnych usług.</span><span class="sxs-lookup"><span data-stu-id="a08f0-125">tooset up affinity, you define an affinity relationship between two different services.</span></span> <span data-ttu-id="a08f0-126">Można potraktować koligacji jako "wskazuje" jedną usługę w innej i informacją "tej usługi można uruchamiać tylko gdy czy usługa jest uruchomiona."</span><span class="sxs-lookup"><span data-stu-id="a08f0-126">You can think of affinity as “pointing” one service at another and saying “This service can only run where that service is running.”</span></span> <span data-ttu-id="a08f0-127">Czasami firma Microsoft można znaleźć tooaffinity jako relacji nadrzędny/podrzędny (gdzie wskażesz podrzędnych hello na powitania nadrzędnego).</span><span class="sxs-lookup"><span data-stu-id="a08f0-127">Sometimes we refer tooaffinity as a parent/child relationship (where you point hello child at hello parent).</span></span> <span data-ttu-id="a08f0-128">Koligacja gwarantuje, że repliki hello lub wystąpień jednej usługi są umieszczane na powitania takie same węzły, które innej usługi.</span><span class="sxs-lookup"><span data-stu-id="a08f0-128">Affinity ensures that hello replicas or instances of one service are placed on hello same nodes as those of another service.</span></span>

```csharp
ServiceCorrelationDescription affinityDescription = new ServiceCorrelationDescription();
affinityDescription.Scheme = ServiceCorrelationScheme.Affinity;
affinityDescription.ServiceName = new Uri("fabric:/otherApplication/parentService");
serviceDescription.Correlations.Add(affinityDescription);
await fabricClient.ServiceManager.CreateServiceAsync(serviceDescription);
```

> [!NOTE]
> <span data-ttu-id="a08f0-129">Usługa podrzędne tylko mogą uczestniczyć w relacji jeden koligacji.</span><span class="sxs-lookup"><span data-stu-id="a08f0-129">A child service can only participate in a single affinity relationship.</span></span> <span data-ttu-id="a08f0-130">Jeśli jednocześnie chce hello podrzędnych toobe skoligowanych tootwo nadrzędnej usługi masz kilka opcji:</span><span class="sxs-lookup"><span data-stu-id="a08f0-130">If you wanted hello child toobe affinitized tootwo parent services at once you have a couple options:</span></span>
> - <span data-ttu-id="a08f0-131">Wycofaj relacje hello (mają parentService1 i parentService2 punkt w bieżącej usługi podrzędnych hello), lub</span><span class="sxs-lookup"><span data-stu-id="a08f0-131">Reverse hello relationships (have parentService1 and parentService2 point at hello current child service), or</span></span>
> - <span data-ttu-id="a08f0-132">Wyznaczanie jeden z elementów nadrzędnych hello koncentratora Konwencja i wszystkich usług punkt w tej usłudze.</span><span class="sxs-lookup"><span data-stu-id="a08f0-132">Designate one of hello parents as a hub by convention and have all services point at that service.</span></span> 
>
> <span data-ttu-id="a08f0-133">Hello wynikowa zachowanie przy umieszczaniu w klastrze hello powinien hello w tej samej.</span><span class="sxs-lookup"><span data-stu-id="a08f0-133">hello resulting placement behavior in hello cluster should be hello same.</span></span>
>

## <a name="different-affinity-options"></a><span data-ttu-id="a08f0-134">Koligacja różnych opcji</span><span class="sxs-lookup"><span data-stu-id="a08f0-134">Different affinity options</span></span>
<span data-ttu-id="a08f0-135">Koligacja jest reprezentowany przez jeden z kilku systemów korelacji i ma dwa różne tryby.</span><span class="sxs-lookup"><span data-stu-id="a08f0-135">Affinity is represented via one of several correlation schemes, and has two different modes.</span></span> <span data-ttu-id="a08f0-136">najbardziej typowe tryb koligacji Hello jest określane mianem NonAlignedAffinity.</span><span class="sxs-lookup"><span data-stu-id="a08f0-136">hello most common mode of affinity is what we call NonAlignedAffinity.</span></span> <span data-ttu-id="a08f0-137">W NonAlignedAffinity, hello repliki lub wystąpień hello różnych usług są umieszczane na powitania sam węzłów.</span><span class="sxs-lookup"><span data-stu-id="a08f0-137">In NonAlignedAffinity, hello replicas or instances of hello different services are placed on hello same nodes.</span></span> <span data-ttu-id="a08f0-138">Witaj innych tryb jest AlignedAffinity.</span><span class="sxs-lookup"><span data-stu-id="a08f0-138">hello other mode is AlignedAffinity.</span></span> <span data-ttu-id="a08f0-139">Wyrównane koligacji przydaje się tylko z usług stanowych.</span><span class="sxs-lookup"><span data-stu-id="a08f0-139">Aligned Affinity is useful only with stateful services.</span></span> <span data-ttu-id="a08f0-140">Konfigurowanie dwóch stateful koligacji toohave wyrównane usług gwarantuje, czy kolory podstawowe hello tych usług są umieszczane na hello samych węzłów jako wzajemnie.</span><span class="sxs-lookup"><span data-stu-id="a08f0-140">Configuring two stateful services toohave aligned affinity ensures that hello primaries of those services are placed on hello same nodes as each other.</span></span> <span data-ttu-id="a08f0-141">Powoduje także każda para pomocnicze bazy danych dla tych usług toobe dotyczącymi hello sam węzłów.</span><span class="sxs-lookup"><span data-stu-id="a08f0-141">It also causes each pair of secondaries for those services toobe placed on hello same nodes.</span></span> <span data-ttu-id="a08f0-142">Istnieje również możliwość (mimo że mniej typowych) tooconfigure NonAlignedAffinity dla stanowych usług.</span><span class="sxs-lookup"><span data-stu-id="a08f0-142">It is also possible (though less common) tooconfigure NonAlignedAffinity for stateful services.</span></span> <span data-ttu-id="a08f0-143">NonAlignedAffinity innej repliki powitalne dwie usługi stanowej są uruchamiane na powitania hello samych węzłów, ale może to spowodować ich kolory podstawowe w różnych węzłach.</span><span class="sxs-lookup"><span data-stu-id="a08f0-143">For NonAlignedAffinity, hello different replicas of hello two stateful services would run on hello same nodes, but their primaries could end up on different nodes.</span></span>

<span data-ttu-id="a08f0-144"><center>
![Tryby koligacji i ich wpływ][Image1]
</center></span><span class="sxs-lookup"><span data-stu-id="a08f0-144"><center>
![Affinity Modes and Their Effects][Image1]
</center></span></span>

### <a name="best-effort-desired-state"></a><span data-ttu-id="a08f0-145">Najlepszy stan potrzeby nakładu pracy</span><span class="sxs-lookup"><span data-stu-id="a08f0-145">Best effort desired state</span></span>
<span data-ttu-id="a08f0-146">Relacja koligacji to optymalne rozwiązanie.</span><span class="sxs-lookup"><span data-stu-id="a08f0-146">An affinity relationship is best effort.</span></span> <span data-ttu-id="a08f0-147">Nie zapewnia ona hello takie same gwarancje kolokacji lub niezawodności, która działa w hello jest tego samego pliku wykonywalnego procesu.</span><span class="sxs-lookup"><span data-stu-id="a08f0-147">It does not provide hello same guarantees of collocation or reliability that running in hello same executable process does.</span></span> <span data-ttu-id="a08f0-148">usługi Hello w relacja koligacji są zasadniczo różne jednostki, które może zakończyć się niepowodzeniem i można przenosić niezależnie.</span><span class="sxs-lookup"><span data-stu-id="a08f0-148">hello services in an affinity relationship are fundamentally different entities that can fail and be moved independently.</span></span> <span data-ttu-id="a08f0-149">Relacja koligacji może również spowodować przerwanie, chociaż te podziały są tymczasowe.</span><span class="sxs-lookup"><span data-stu-id="a08f0-149">An affinity relationship could also break, though these breaks are temporary.</span></span> <span data-ttu-id="a08f0-150">Na przykład ograniczenia dotyczące pojemności może oznaczać tylko niektóre obiekty usługi hello relacja koligacji hello można zmieścić w danym węźle.</span><span class="sxs-lookup"><span data-stu-id="a08f0-150">For example, capacity limitations may mean that only some of hello service objects in hello affinity relationship can fit on a given node.</span></span> <span data-ttu-id="a08f0-151">W takich przypadkach, mimo że istnieje relacja koligacji w miejscu, go nie można wymusić termin toohello inne ograniczenia.</span><span class="sxs-lookup"><span data-stu-id="a08f0-151">In these cases even though there's an affinity relationship in place, it can't be enforced due toohello other constraints.</span></span> <span data-ttu-id="a08f0-152">Toodo możliwe jest tak, naruszenie hello jest automatycznie rozwiązany później.</span><span class="sxs-lookup"><span data-stu-id="a08f0-152">If it is possible toodo so, hello violation is automatically corrected later.</span></span>

### <a name="chains-vs-stars"></a><span data-ttu-id="a08f0-153">Łańcuchy a gwiazdek</span><span class="sxs-lookup"><span data-stu-id="a08f0-153">Chains vs. stars</span></span>
<span data-ttu-id="a08f0-154">Dzisiaj hello Menedżera zasobów klastra nie jest łańcuchów stanie toomodel koligacji relacji.</span><span class="sxs-lookup"><span data-stu-id="a08f0-154">Today hello Cluster Resource Manager isn't able toomodel chains of affinity relationships.</span></span> <span data-ttu-id="a08f0-155">Co to oznacza, że jest to, że usługa, która jest elementem podrzędnym w jednej relacji koligacji nie może być elementem nadrzędnym w innej relacji koligacji.</span><span class="sxs-lookup"><span data-stu-id="a08f0-155">What this means is that a service that is a child in one affinity relationship can’t be a parent in another affinity relationship.</span></span> <span data-ttu-id="a08f0-156">Jeśli chcesz toomodel tego typu relacji, efektywnie masz toomodel go jako gwiazdy zamiast łańcucha.</span><span class="sxs-lookup"><span data-stu-id="a08f0-156">If you want toomodel this type of relationship, you effectively have toomodel it as a star, rather than a chain.</span></span> <span data-ttu-id="a08f0-157">toomove z gwiazdką tooa łańcucha, podrzędne znajdujących się najniżej hello zamiast tego będzie nadrzędnego nadrzędnego toohello pierwszy podrzędny.</span><span class="sxs-lookup"><span data-stu-id="a08f0-157">toomove from a chain tooa star, hello bottommost child would be parented toohello first child’s parent instead.</span></span> <span data-ttu-id="a08f0-158">W zależności od hello rozmieszczenie usług może być toodo wielokrotnie.</span><span class="sxs-lookup"><span data-stu-id="a08f0-158">Depending on hello arrangement of your services, you may have toodo this multiple times.</span></span> <span data-ttu-id="a08f0-159">Jeśli nie ma usługi rodzica, może być toocreate, który służy jako symbol zastępczy.</span><span class="sxs-lookup"><span data-stu-id="a08f0-159">If there's no natural parent service, you may have toocreate one that serves as a placeholder.</span></span> <span data-ttu-id="a08f0-160">W zależności od wymagań, konieczne może być również toolook do [grup aplikacji](service-fabric-cluster-resource-manager-application-groups.md).</span><span class="sxs-lookup"><span data-stu-id="a08f0-160">Depending on your requirements, you may also want toolook into [Application Groups](service-fabric-cluster-resource-manager-application-groups.md).</span></span>

<span data-ttu-id="a08f0-161"><center>
![Łańcuchy vs. Gwiazdki w hello relacje kontekstu koligacji][Image2]
</center></span><span class="sxs-lookup"><span data-stu-id="a08f0-161"><center>
![Chains vs. Stars in hello Context of Affinity Relationships][Image2]
</center></span></span>

<span data-ttu-id="a08f0-162">Inny element toonote o relacjach koligacji obecnie jest czy dwukierunkowego.</span><span class="sxs-lookup"><span data-stu-id="a08f0-162">Another thing toonote about affinity relationships today is that they are directional.</span></span> <span data-ttu-id="a08f0-163">Oznacza to, że w tej regule koligacji hello tylko wymusza dzieckiem hello umieszczane z nadrzędnego hello.</span><span class="sxs-lookup"><span data-stu-id="a08f0-163">This means that hello affinity rule only enforces that hello child placed with hello parent.</span></span> <span data-ttu-id="a08f0-164">Nie zapewnia się, że elementem nadrzędnym hello jest znajdują się w tym hello podrzędnych.</span><span class="sxs-lookup"><span data-stu-id="a08f0-164">It does not ensure that hello parent is located with hello child.</span></span> <span data-ttu-id="a08f0-165">Jest również istotne toonote, który hello relacja koligacji nie jest doskonała lub natychmiast wymuszana od różnych usług z różnych cykle i może zakończyć się niepowodzeniem, a przenosić niezależnie.</span><span class="sxs-lookup"><span data-stu-id="a08f0-165">It is also important toonote that hello affinity relationship can't be perfect or instantly enforced since different services have with different lifecycles and can fail and move independently.</span></span> <span data-ttu-id="a08f0-166">Załóżmy na przykład, że nadrzędny hello nagła awaria nad węzłem tooanother ponieważ uległ awarii.</span><span class="sxs-lookup"><span data-stu-id="a08f0-166">For example, let's say hello parent suddenly fails over tooanother node because it crashed.</span></span> <span data-ttu-id="a08f0-167">Hello Menedżera zasobów klastra i dojścia menedżera trybu Failover hello trybu failover, ponieważ zatrzymując hello usług, spójne i dostępna jest hello priorytet.</span><span class="sxs-lookup"><span data-stu-id="a08f0-167">hello Cluster Resource Manager and Failover Manager handle hello failover first, since keeping hello services up, consistent, and available is hello priority.</span></span> <span data-ttu-id="a08f0-168">Po zakończeniu pracy awaryjnej hello hello relacja koligacji zostało przerwane, ale powitalne Menedżera zasobów klastra sądzi, że wszystko jest poprawnie do czasu jej powiadomienia dzieckiem hello nie znajduje się z nadrzędnym hello.</span><span class="sxs-lookup"><span data-stu-id="a08f0-168">Once hello failover completes, hello affinity relationship is broken, but hello Cluster Resource Manager thinks everything is fine until it notices that hello child is not located with hello parent.</span></span> <span data-ttu-id="a08f0-169">Tego rodzaju testy są wykonywane okresowo.</span><span class="sxs-lookup"><span data-stu-id="a08f0-169">These sorts of checks are performed periodically.</span></span> <span data-ttu-id="a08f0-170">Więcej informacji na temat sposobu hello Cluster Resource Manager ocenia ograniczenia jest dostępna w [w tym artykule](service-fabric-cluster-resource-manager-management-integration.md#constraint-types), i [tego](service-fabric-cluster-resource-manager-balancing.md) zawiera więcej informacji na temat sposobu tooconfigure hello okresach, na którym są tych warunków ograniczających obliczone.</span><span class="sxs-lookup"><span data-stu-id="a08f0-170">More information on how hello Cluster Resource Manager evaluates constraints is available in [this article](service-fabric-cluster-resource-manager-management-integration.md#constraint-types), and [this one](service-fabric-cluster-resource-manager-balancing.md) talks more about how tooconfigure hello cadence on which these constraints are evaluated.</span></span>   


### <a name="partitioning-support"></a><span data-ttu-id="a08f0-171">Partycjonowanie pomocy technicznej</span><span class="sxs-lookup"><span data-stu-id="a08f0-171">Partitioning support</span></span>
<span data-ttu-id="a08f0-172">toonotice końcowego operacją Hello o koligacji jest relacje koligacji nie są obsługiwane, gdy nadrzędne hello jest podzielona na partycje.</span><span class="sxs-lookup"><span data-stu-id="a08f0-172">hello final thing toonotice about affinity is that affinity relationships aren’t supported where hello parent is partitioned.</span></span> <span data-ttu-id="a08f0-173">Usługi nadrzędnej podzielonym na partycje, które mogą być obsługiwane po pewnym czasie, ale obecnie nie jest dozwolone.</span><span class="sxs-lookup"><span data-stu-id="a08f0-173">Partitioned parent services may be supported eventually, but today it is not allowed.</span></span>

## <a name="next-steps"></a><span data-ttu-id="a08f0-174">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="a08f0-174">Next steps</span></span>
- <span data-ttu-id="a08f0-175">Aby uzyskać więcej informacji na temat konfigurowania usługi [Dowiedz się więcej o konfigurowaniu usługi](service-fabric-cluster-resource-manager-configure-services.md)</span><span class="sxs-lookup"><span data-stu-id="a08f0-175">For more information on configuring services, [Learn about configuring Services](service-fabric-cluster-resource-manager-configure-services.md)</span></span>
- <span data-ttu-id="a08f0-176">toolimit usługi tooa niewielki zestaw komputerów lub agregację obciążenia hello usług, użyj [grup aplikacji](service-fabric-cluster-resource-manager-application-groups.md)</span><span class="sxs-lookup"><span data-stu-id="a08f0-176">toolimit services tooa small set of machines or aggregating hello load of services, use [Application Groups](service-fabric-cluster-resource-manager-application-groups.md)</span></span>

[Image1]:./media/service-fabric-cluster-resource-manager-advanced-placement-rules-affinity/cluster-resrouce-manager-affinity-modes.png
[Image2]:./media/service-fabric-cluster-resource-manager-advanced-placement-rules-affinity/cluster-resource-manager-chains-vs-stars.png