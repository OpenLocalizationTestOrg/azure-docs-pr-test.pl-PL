---
title: "Uaktualnianie aplikacji sieci szkieletowej usług za pomocą programu PowerShell | Dokumentacja firmy Microsoft"
description: "Ten artykuł przeprowadzi Cię przez proces wdrażania aplikacji usługi Service Fabric, zmiana kodu i wprowadza uaktualnienia przy użyciu programu PowerShell."
services: service-fabric
documentationcenter: .net
author: mani-ramaswamy
manager: timlt
editor: 
ms.assetid: 9bc75748-96b0-49ca-8d8a-41fe08398f25
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 8/9/2017
ms.author: subramar
ms.openlocfilehash: 3591ced970887d4eb5a33cec8f6951b5476d04f8
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 08/18/2017
---
# <a name="service-fabric-application-upgrade-using-powershell"></a><span data-ttu-id="a9ba9-103">Uaktualnianie aplikacji sieci szkieletowej usług za pomocą programu PowerShell</span><span class="sxs-lookup"><span data-stu-id="a9ba9-103">Service Fabric application upgrade using PowerShell</span></span>
> [!div class="op_single_selector"]
> * [<span data-ttu-id="a9ba9-104">PowerShell</span><span class="sxs-lookup"><span data-stu-id="a9ba9-104">PowerShell</span></span>](service-fabric-application-upgrade-tutorial-powershell.md)
> * [<span data-ttu-id="a9ba9-105">Program Visual Studio</span><span class="sxs-lookup"><span data-stu-id="a9ba9-105">Visual Studio</span></span>](service-fabric-application-upgrade-tutorial.md)
> 
> 

<br/>

<span data-ttu-id="a9ba9-106">Najczęściej używane i monitorowanych uaktualnienia stopniowego jest zalecane podejście do uaktualnienia.</span><span class="sxs-lookup"><span data-stu-id="a9ba9-106">The most frequently used and recommended upgrade approach is the monitored rolling upgrade.</span></span>  <span data-ttu-id="a9ba9-107">Sieć szkieletowa usług Azure monitoruje kondycję aplikacji uaktualniany na podstawie zestawu zasad dotyczących kondycji.</span><span class="sxs-lookup"><span data-stu-id="a9ba9-107">Azure Service Fabric monitors the health of the application being upgraded based on a set of health policies.</span></span> <span data-ttu-id="a9ba9-108">Po uaktualnieniu domeny aktualizacji (UD) usługi sieć szkieletowa ocenia kondycję aplikacji i przechodzi do następnej domeny aktualizacji lub niepowodzenia uaktualniania, w zależności od zasad dotyczących kondycji.</span><span class="sxs-lookup"><span data-stu-id="a9ba9-108">Once an update domain (UD) is upgraded, Service Fabric evaluates the application health and either proceeds to the next update domain or fails the upgrade depending on the health policies.</span></span>

<span data-ttu-id="a9ba9-109">Uaktualnienie monitorowanej aplikacji mogą być wykonywane przy użyciu zarządzanym lub macierzystym interfejsów API środowiska PowerShell i REST.</span><span class="sxs-lookup"><span data-stu-id="a9ba9-109">A monitored application upgrade can be performed using the managed or native APIs, PowerShell, or REST.</span></span> <span data-ttu-id="a9ba9-110">Aby uzyskać instrukcje dotyczące wykonywania uaktualnienia przy użyciu programu Visual Studio, zobacz [uaktualniania aplikacji przy użyciu programu Visual Studio](service-fabric-application-upgrade-tutorial.md).</span><span class="sxs-lookup"><span data-stu-id="a9ba9-110">For instructions on performing an upgrade using Visual Studio, see [Upgrading your application using Visual Studio](service-fabric-application-upgrade-tutorial.md).</span></span>

<span data-ttu-id="a9ba9-111">Stopniowe monitorowania sieci szkieletowej usług administrator aplikacji można skonfigurować zasad oceny kondycji korzystającą z sieci szkieletowej usług w celu ustalenia, czy aplikacja jest w dobrej kondycji.</span><span class="sxs-lookup"><span data-stu-id="a9ba9-111">With Service Fabric monitored rolling upgrades, the application administrator can configure the health evaluation policy that Service Fabric uses to determine if the application is healthy.</span></span> <span data-ttu-id="a9ba9-112">Ponadto administrator może skonfigurować akcji do wykonania, gdy oceny kondycji nie powiodło się (na przykład podczas automatycznego wycofania.) Ta sekcja przeprowadzi Cię przez monitorowanych uaktualnienia dla jednego z przykłady zestawu SDK, które korzysta z programu PowerShell.</span><span class="sxs-lookup"><span data-stu-id="a9ba9-112">In addition, the administrator can configure the action to be taken when the health evaluation fails (for example, doing an automatic rollback.) This section walks through a monitored upgrade for one of the SDK samples that uses PowerShell.</span></span> <span data-ttu-id="a9ba9-113">Następujące Microsoft Virtual Academy wideo również przeprowadzi Cię przez kolejne uaktualnienia aplikacji:<center><a target="_blank" href="https://mva.microsoft.com/en-US/training-courses/building-microservices-applications-on-azure-service-fabric-16747?l=OrHJH66yC_6406218965">
<img src="./media/service-fabric-application-upgrade-tutorial-powershell/AppLifecycleVid.png" WIDTH="360" HEIGHT="244">
</a></center></span><span class="sxs-lookup"><span data-stu-id="a9ba9-113">The following Microsoft Virtual Academy video also walks you through an app upgrade: <center><a target="_blank" href="https://mva.microsoft.com/en-US/training-courses/building-microservices-applications-on-azure-service-fabric-16747?l=OrHJH66yC_6406218965">
<img src="./media/service-fabric-application-upgrade-tutorial-powershell/AppLifecycleVid.png" WIDTH="360" HEIGHT="244">
</a></center></span></span>

## <a name="step-1-build-and-deploy-the-visual-objects-sample"></a><span data-ttu-id="a9ba9-114">Krok 1: Tworzenie i wdrażanie próbka obiektów Visual</span><span class="sxs-lookup"><span data-stu-id="a9ba9-114">Step 1: Build and deploy the Visual Objects sample</span></span>
<span data-ttu-id="a9ba9-115">Tworzenie i publikowanie aplikacji, klikając prawym przyciskiem myszy projekt aplikacji **VisualObjectsApplication,** i wybierając **publikowania** polecenia.</span><span class="sxs-lookup"><span data-stu-id="a9ba9-115">Build and publish the application by right-clicking on the application project, **VisualObjectsApplication,** and selecting the **Publish** command.</span></span>  <span data-ttu-id="a9ba9-116">Aby uzyskać więcej informacji, zobacz [samouczek uaktualniania aplikacji sieci szkieletowej usług](service-fabric-application-upgrade-tutorial.md).</span><span class="sxs-lookup"><span data-stu-id="a9ba9-116">For more information, see [Service Fabric application upgrade tutorial](service-fabric-application-upgrade-tutorial.md).</span></span>  <span data-ttu-id="a9ba9-117">Alternatywnie można użyć programu PowerShell do wdrożenia aplikacji.</span><span class="sxs-lookup"><span data-stu-id="a9ba9-117">Alternatively, you can use PowerShell to deploy your application.</span></span>

> [!NOTE]
> <span data-ttu-id="a9ba9-118">Przed jakichkolwiek poleceń sieci szkieletowej usług mogą być używane w programu PowerShell, należy najpierw Połącz się z klastrem przy użyciu `Connect-ServiceFabricCluster` polecenia cmdlet.</span><span class="sxs-lookup"><span data-stu-id="a9ba9-118">Before any of the Service Fabric commands may be used in PowerShell, you first need to connect to the cluster by using the `Connect-ServiceFabricCluster` cmdlet.</span></span> <span data-ttu-id="a9ba9-119">Podobnie zakłada się, że klaster ma już został skonfigurowany na komputerze lokalnym.</span><span class="sxs-lookup"><span data-stu-id="a9ba9-119">Similarly, it is assumed that the Cluster has already been set up on your local machine.</span></span> <span data-ttu-id="a9ba9-120">Zapoznaj się z artykułem na [konfigurowania środowiska deweloperskiego sieci szkieletowej usług](service-fabric-get-started.md).</span><span class="sxs-lookup"><span data-stu-id="a9ba9-120">See the article on [setting up your Service Fabric development environment](service-fabric-get-started.md).</span></span>
> 
> 

<span data-ttu-id="a9ba9-121">Po utworzeniu projektu programu Visual Studio, możesz użyć polecenia środowiska PowerShell [ServiceFabricApplicationPackage kopiowania](/powershell/servicefabric/vlatest/copy-servicefabricapplicationpackage) Aby skopiować pakiet aplikacji do magazynu ImageStore.</span><span class="sxs-lookup"><span data-stu-id="a9ba9-121">After building the project in Visual Studio, you can use the PowerShell command [Copy-ServiceFabricApplicationPackage](/powershell/servicefabric/vlatest/copy-servicefabricapplicationpackage) to copy the application package to the ImageStore.</span></span> <span data-ttu-id="a9ba9-122">Jeśli chcesz sprawdzić lokalnie pakietu aplikacji, użyj [ServiceFabricApplicationPackage testu](/powershell/servicefabric/vlatest/test-servicefabricapplicationpackage) polecenia cmdlet.</span><span class="sxs-lookup"><span data-stu-id="a9ba9-122">If you want to verify the app package locally, use the [Test-ServiceFabricApplicationPackage](/powershell/servicefabric/vlatest/test-servicefabricapplicationpackage) cmdlet.</span></span> <span data-ttu-id="a9ba9-123">Następnym krokiem jest można zarejestrować aplikacji przy użyciu środowiska uruchomieniowego platformy Service Fabric [ServiceFabricApplicationPackage rejestru](/powershell/servicefabric/vlatest/register-servicefabricapplicationtype) polecenia cmdlet.</span><span class="sxs-lookup"><span data-stu-id="a9ba9-123">The next step is to register the application to the Service Fabric runtime using the [Register-ServiceFabricApplicationPackage](/powershell/servicefabric/vlatest/register-servicefabricapplicationtype) cmdlet.</span></span> <span data-ttu-id="a9ba9-124">Ostatnim krokiem jest rozpoczęcie wystąpienia aplikacji przy użyciu [ServiceFabricApplication nowy](/powershell/module/servicefabric/new-servicefabricapplication?view=azureservicefabricps) polecenia cmdlet.</span><span class="sxs-lookup"><span data-stu-id="a9ba9-124">The final step is to start an instance of the application by using the [New-ServiceFabricApplication](/powershell/module/servicefabric/new-servicefabricapplication?view=azureservicefabricps) cmdlet.</span></span>  <span data-ttu-id="a9ba9-125">Te trzy kroki są podobne do przy użyciu **Wdróż** element menu w programie Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="a9ba9-125">These three steps are analogous to using the **Deploy** menu item in Visual Studio.</span></span>

<span data-ttu-id="a9ba9-126">Teraz, można użyć [Service Fabric Explorer, aby wyświetlić klastra i aplikacji](service-fabric-visualizing-your-cluster.md).</span><span class="sxs-lookup"><span data-stu-id="a9ba9-126">Now, you can use [Service Fabric Explorer to view the cluster and the application](service-fabric-visualizing-your-cluster.md).</span></span> <span data-ttu-id="a9ba9-127">Aplikacja ma usługi sieci web, który może zostać przesłane do programu Internet Explorer, wpisując [http://localhost: 8081/visualobjects](http://localhost:8081/visualobjects) na pasku adresu.</span><span class="sxs-lookup"><span data-stu-id="a9ba9-127">The application has a web service that can be navigated to in Internet Explorer by typing [http://localhost:8081/visualobjects](http://localhost:8081/visualobjects) in the address bar.</span></span>  <span data-ttu-id="a9ba9-128">Niektóre obiekty visual przestawne przenoszenia na ekranie powinna zostać wyświetlona.</span><span class="sxs-lookup"><span data-stu-id="a9ba9-128">You should see some floating visual objects moving around in the screen.</span></span>  <span data-ttu-id="a9ba9-129">Ponadto można użyć [Get-ServiceFabricApplication](/powershell/module/servicefabric/get-servicefabricapplication?view=azureservicefabricps) do sprawdzania stanu aplikacji.</span><span class="sxs-lookup"><span data-stu-id="a9ba9-129">Additionally, you can use [Get-ServiceFabricApplication](/powershell/module/servicefabric/get-servicefabricapplication?view=azureservicefabricps) to check the application status.</span></span>

## <a name="step-2-update-the-visual-objects-sample"></a><span data-ttu-id="a9ba9-130">Krok 2: Zaktualizuj próbka obiektów Visual</span><span class="sxs-lookup"><span data-stu-id="a9ba9-130">Step 2: Update the Visual Objects sample</span></span>
<span data-ttu-id="a9ba9-131">Można zauważyć, że przy użyciu wersji, który został wdrożony w kroku 1, obiekt visual nie Obróć.</span><span class="sxs-lookup"><span data-stu-id="a9ba9-131">You might notice that with the version that was deployed in Step 1, the visual objects do not rotate.</span></span> <span data-ttu-id="a9ba9-132">Umożliwia uaktualnienie tej aplikacji na taki, gdzie obiekty widoczne również obracać.</span><span class="sxs-lookup"><span data-stu-id="a9ba9-132">Let's upgrade this application to one where the visual objects also rotate.</span></span>

<span data-ttu-id="a9ba9-133">Wybierz projekt VisualObjects.ActorService w ramach rozwiązania VisualObjects, a następnie otwórz plik StatefulVisualObjectActor.cs.</span><span class="sxs-lookup"><span data-stu-id="a9ba9-133">Select the VisualObjects.ActorService project within the VisualObjects solution, and open the StatefulVisualObjectActor.cs file.</span></span> <span data-ttu-id="a9ba9-134">W tym pliku, przejdź do metody `MoveObject`, komentarz `this.State.Move()`i Usuń komentarz `this.State.Move(true)`.</span><span class="sxs-lookup"><span data-stu-id="a9ba9-134">Within that file, navigate to the method `MoveObject`, comment out `this.State.Move()`, and uncomment `this.State.Move(true)`.</span></span> <span data-ttu-id="a9ba9-135">Ta zmiana obraca obiekty po uaktualnieniu usługi.</span><span class="sxs-lookup"><span data-stu-id="a9ba9-135">This change rotates the objects after the service is upgraded.</span></span>

<span data-ttu-id="a9ba9-136">Ponadto należy zaktualizować *ServiceManifest.xml* pliku (w ramach elementu PackageRoot) projektu **VisualObjects.ActorService**.</span><span class="sxs-lookup"><span data-stu-id="a9ba9-136">We also need to update the *ServiceManifest.xml* file (under PackageRoot) of the project **VisualObjects.ActorService**.</span></span> <span data-ttu-id="a9ba9-137">Aktualizacja *elementu CodePackage* i wersja 2.0 oraz odpowiednich wierszy w *ServiceManifest.xml* pliku.</span><span class="sxs-lookup"><span data-stu-id="a9ba9-137">Update the *CodePackage* and the service version to 2.0, and the corresponding lines in the *ServiceManifest.xml* file.</span></span>
<span data-ttu-id="a9ba9-138">Można użyć programu Visual Studio *edytować pliki manifestu* opcję po kliknięciu prawym przyciskiem myszy rozwiązanie, aby wprowadzić zmiany pliku manifestu.</span><span class="sxs-lookup"><span data-stu-id="a9ba9-138">You can use the Visual Studio *Edit Manifest Files* option after you right-click on the solution to make the manifest file changes.</span></span>

<span data-ttu-id="a9ba9-139">Po wprowadzeniu zmian plik manifestu powinien wyglądać następująco (wyróżniony części Pokaż zmiany):</span><span class="sxs-lookup"><span data-stu-id="a9ba9-139">After the changes are made, the manifest should look like the following (highlighted portions show the changes):</span></span>

```xml
<ServiceManifestName="VisualObjects.ActorService" Version="2.0" xmlns="http://schemas.microsoft.com/2011/01/fabric" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">

<CodePackageName="Code" Version="2.0">
```

<span data-ttu-id="a9ba9-140">Teraz *ApplicationManifest.xml* pliku (w obszarze **VisualObjects** projektu w obszarze **VisualObjects** rozwiązania) zostanie zaktualizowany do wersji 2.0 **VisualObjects.ActorService** projektu.</span><span class="sxs-lookup"><span data-stu-id="a9ba9-140">Now the *ApplicationManifest.xml* file (found under the **VisualObjects** project under the **VisualObjects** solution) is updated to version 2.0 of the **VisualObjects.ActorService** project.</span></span> <span data-ttu-id="a9ba9-141">Ponadto wersja aplikacji zostało zaktualizowane do 2.0.0.0 z 1.0.0.0.</span><span class="sxs-lookup"><span data-stu-id="a9ba9-141">In addition, the Application version is updated to 2.0.0.0 from 1.0.0.0.</span></span> <span data-ttu-id="a9ba9-142">*ApplicationManifest.xml* powinno wyglądać podobnie do następującego fragmentu kodu:</span><span class="sxs-lookup"><span data-stu-id="a9ba9-142">The *ApplicationManifest.xml* should look like the following snippet:</span></span>

```xml
<ApplicationManifestxmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" ApplicationTypeName="VisualObjects" ApplicationTypeVersion="2.0.0.0" xmlns="http://schemas.microsoft.com/2011/01/fabric">

 <ServiceManifestRefServiceManifestName="VisualObjects.ActorService" ServiceManifestVersion="2.0" />
```


<span data-ttu-id="a9ba9-143">Teraz, skompiluj projekt, wybierając tylko **ActorService** projektu, a następnie prawym przyciskiem myszy i wybierając **kompilacji** w programie Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="a9ba9-143">Now, build the project by selecting just the **ActorService** project, and then right-clicking and selecting the **Build** option in Visual Studio.</span></span> <span data-ttu-id="a9ba9-144">W przypadku wybrania **odbudowanie wszystkiego**, należy zaktualizować wersje dla wszystkich projektów, ponieważ kod może zostać zmieniona.</span><span class="sxs-lookup"><span data-stu-id="a9ba9-144">If you select **Rebuild all**, you should update the versions for all projects, since the code would have changed.</span></span> <span data-ttu-id="a9ba9-145">Następnie umożliwia pakiet aplikacji zaktualizowane, klikając prawym przyciskiem myszy ***VisualObjectsApplication***, wybierając z Menu sieci szkieletowej usług i wybierając **pakietu**.</span><span class="sxs-lookup"><span data-stu-id="a9ba9-145">Next, let's package the updated application by right-clicking on ***VisualObjectsApplication***, selecting the Service Fabric Menu, and choosing **Package**.</span></span> <span data-ttu-id="a9ba9-146">Ta akcja powoduje utworzenie pakietu aplikacji, które można wdrożyć.</span><span class="sxs-lookup"><span data-stu-id="a9ba9-146">This action creates an application package that can be deployed.</span></span>  <span data-ttu-id="a9ba9-147">Zaktualizowano aplikacja jest gotowa do wdrożenia.</span><span class="sxs-lookup"><span data-stu-id="a9ba9-147">Your updated application is ready to be deployed.</span></span>

## <a name="step-3--decide-on-health-policies-and-upgrade-parameters"></a><span data-ttu-id="a9ba9-148">Krok 3: Wybierz zasady dotyczące kondycji i parametry uaktualnienia</span><span class="sxs-lookup"><span data-stu-id="a9ba9-148">Step 3:  Decide on health policies and upgrade parameters</span></span>
<span data-ttu-id="a9ba9-149">Zapoznaj się z [parametry uaktualniania aplikacji](service-fabric-application-upgrade-parameters.md) i [procesu uaktualniania](service-fabric-application-upgrade.md) można uzyskać dobrą znajomość różnych parametrów uaktualnienia, limity czasu i zastosować kryterium kondycji.</span><span class="sxs-lookup"><span data-stu-id="a9ba9-149">Familiarize yourself with the [application upgrade parameters](service-fabric-application-upgrade-parameters.md) and the [upgrade process](service-fabric-application-upgrade.md) to get a good understanding of the various upgrade parameters, time-outs, and health criterion applied.</span></span> <span data-ttu-id="a9ba9-150">W ramach tego przewodnika kryterium oceny kondycji usługi jest ustawioną wartość domyślną (i zalecana) wartości, które oznacza, że wszystkie usługi i wystąpień powinny być *dobrej kondycji* po uaktualnieniu.</span><span class="sxs-lookup"><span data-stu-id="a9ba9-150">For this walkthrough, the service health evaluation criterion is set to the default (and recommended) values, which means that all services and instances should be *healthy* after the upgrade.</span></span>  

<span data-ttu-id="a9ba9-151">Jednak ta funkcja pozwala zwiększyć *HealthCheckStableDuration* do 60 sekund (tak, aby usługi są w dobrej kondycji dla co najmniej 20 sekund przed uaktualnienia przechodzi do następnej domeny aktualizacji).</span><span class="sxs-lookup"><span data-stu-id="a9ba9-151">However, let's increase the *HealthCheckStableDuration* to 60 seconds (so that the services are healthy for at least 20 seconds before the upgrade proceeds to the next update domain).</span></span>  <span data-ttu-id="a9ba9-152">Umożliwia również ustawić *UpgradeDomainTimeout* do 1200 sekund i *UpgradeTimeout* do 3000 sekund.</span><span class="sxs-lookup"><span data-stu-id="a9ba9-152">Let's also set the *UpgradeDomainTimeout* to be 1200 seconds and the *UpgradeTimeout* to be 3000 seconds.</span></span>

<span data-ttu-id="a9ba9-153">Ponadto umożliwia także ustawić *UpgradeFailureAction* można wycofać.</span><span class="sxs-lookup"><span data-stu-id="a9ba9-153">Finally, let's also set the *UpgradeFailureAction* to rollback.</span></span> <span data-ttu-id="a9ba9-154">Ta opcja wymaga sieci szkieletowej usług wycofać aplikację do poprzedniej wersji, w przypadku napotkania problemów podczas uaktualniania.</span><span class="sxs-lookup"><span data-stu-id="a9ba9-154">This option requires Service Fabric to roll back the application to the previous version if it encounters any issues during the upgrade.</span></span> <span data-ttu-id="a9ba9-155">W związku z tym podczas rozpoczynania uaktualniania (w kroku 4), są określone następujące parametry:</span><span class="sxs-lookup"><span data-stu-id="a9ba9-155">Thus, when starting the upgrade (in Step 4), the following parameters are specified:</span></span>

<span data-ttu-id="a9ba9-156">FailureAction = wycofywania</span><span class="sxs-lookup"><span data-stu-id="a9ba9-156">FailureAction = Rollback</span></span>

<span data-ttu-id="a9ba9-157">HealthCheckStableDurationSec = 60</span><span class="sxs-lookup"><span data-stu-id="a9ba9-157">HealthCheckStableDurationSec = 60</span></span>

<span data-ttu-id="a9ba9-158">UpgradeDomainTimeoutSec = 1200</span><span class="sxs-lookup"><span data-stu-id="a9ba9-158">UpgradeDomainTimeoutSec = 1200</span></span>

<span data-ttu-id="a9ba9-159">UpgradeTimeout = 3000</span><span class="sxs-lookup"><span data-stu-id="a9ba9-159">UpgradeTimeout = 3000</span></span>

## <a name="step-4-prepare-application-for-upgrade"></a><span data-ttu-id="a9ba9-160">Krok 4: Przygotowywanie aplikacji do uaktualnienia</span><span class="sxs-lookup"><span data-stu-id="a9ba9-160">Step 4: Prepare application for upgrade</span></span>
<span data-ttu-id="a9ba9-161">Teraz aplikacji jest zbudowany i gotowa do uaktualnienia.</span><span class="sxs-lookup"><span data-stu-id="a9ba9-161">Now the application is built and ready to be upgraded.</span></span> <span data-ttu-id="a9ba9-162">Jeśli Otwórz okno programu PowerShell jako administrator, a typ [Get-ServiceFabricApplication](/powershell/module/servicefabric/get-servicefabricapplication?view=azureservicefabricps), powinien pozwalają wiedzieli, że jest on typ aplikacji 1.0.0.0 **VisualObjects** który jest wdrażany.</span><span class="sxs-lookup"><span data-stu-id="a9ba9-162">If you open up a PowerShell window as an administrator and type [Get-ServiceFabricApplication](/powershell/module/servicefabric/get-servicefabricapplication?view=azureservicefabricps), it should let you know that it is application type 1.0.0.0 of **VisualObjects** that's been deployed.</span></span>  

<span data-ttu-id="a9ba9-163">Pakiet aplikacji są przechowywane w następującej ścieżce względnej, gdzie nieskompresowane zestawu SDK usług sieci szkieletowej — *Samples\Services\Stateful\VisualObjects\VisualObjects\obj\x64\Debug*.</span><span class="sxs-lookup"><span data-stu-id="a9ba9-163">The application package is stored under the following relative path where you uncompressed the Service Fabric SDK - *Samples\Services\Stateful\VisualObjects\VisualObjects\obj\x64\Debug*.</span></span> <span data-ttu-id="a9ba9-164">Folder "Pakietu" powinien znajdować się w tym katalogu, w którym jest przechowywany pakiet aplikacji.</span><span class="sxs-lookup"><span data-stu-id="a9ba9-164">You should find a "Package" folder in that directory, where the application package is stored.</span></span> <span data-ttu-id="a9ba9-165">Sprawdź sygnatury czasowe do zapewnienia, że jest ostatniej kompilacji (może być konieczne ścieżki odpowiednio zmodyfikuj również).</span><span class="sxs-lookup"><span data-stu-id="a9ba9-165">Check the timestamps to ensure that it is the latest build (you may need to modify the paths appropriately as well).</span></span>

<span data-ttu-id="a9ba9-166">Teraz Skopiuj pakiet zaktualizowanej aplikacji do magazynu ImageStore sieci szkieletowej usług, które zostały (gdzie pakiety aplikacji są przechowywane przez usługi sieć szkieletowa).</span><span class="sxs-lookup"><span data-stu-id="a9ba9-166">Now let's copy the updated application package to the Service Fabric ImageStore (where the application packages are stored by Service Fabric).</span></span> <span data-ttu-id="a9ba9-167">Parametr *ApplicationPackagePathInImageStore* informuje o tym, gdzie można znaleźć pakietu aplikacji sieci szkieletowej usług.</span><span class="sxs-lookup"><span data-stu-id="a9ba9-167">The parameter *ApplicationPackagePathInImageStore* informs Service Fabric where it can find the application package.</span></span> <span data-ttu-id="a9ba9-168">Testujemy zaktualizowaną aplikację "VisualObjects\_V2" przy użyciu następującego polecenia (konieczne może być ponownie odpowiednio zmodyfikuj ścieżki).</span><span class="sxs-lookup"><span data-stu-id="a9ba9-168">We have put the updated application in "VisualObjects\_V2" with the following command (you may need to modify paths again appropriately).</span></span>

```powershell
Copy-ServiceFabricApplicationPackage  -ApplicationPackagePath .\Samples\Services\Stateful\VisualObjects\VisualObjects\obj\x64\Debug\Package
-ImageStoreConnectionString fabric:ImageStore   -ApplicationPackagePathInImageStore "VisualObjects\_V2"
```

<span data-ttu-id="a9ba9-169">Następnym krokiem jest zarejestrować tej aplikacji za pomocą usługi Service Fabric, która może zostać wykonana przy użyciu [ServiceFabricApplicationType rejestru](/powershell/module/servicefabric/register-servicefabricapplicationtype?view=azureservicefabricps) polecenia:</span><span class="sxs-lookup"><span data-stu-id="a9ba9-169">The next step is to register this application with Service Fabric, which can be performed using the [Register-ServiceFabricApplicationType](/powershell/module/servicefabric/register-servicefabricapplicationtype?view=azureservicefabricps) command:</span></span>

```powershell
Register-ServiceFabricApplicationType -ApplicationPathInImageStore "VisualObjects\_V2"
```

<span data-ttu-id="a9ba9-170">Jeśli poprzednie polecenie nie powiedzie się, prawdopodobnie konieczność ponownej kompilacji wszystkich usług.</span><span class="sxs-lookup"><span data-stu-id="a9ba9-170">If the preceding command doesn't succeed, it is likely that you need a rebuild of all services.</span></span> <span data-ttu-id="a9ba9-171">Jak wspomniano w kroku 2, może być konieczne zaktualizuj swoją wersję usługi sieci Web.</span><span class="sxs-lookup"><span data-stu-id="a9ba9-171">As mentioned in Step 2, you may have to update your WebService version as well.</span></span>

## <a name="step-5-start-the-application-upgrade"></a><span data-ttu-id="a9ba9-172">Krok 5: Uruchom operację uaktualniania aplikacji</span><span class="sxs-lookup"><span data-stu-id="a9ba9-172">Step 5: Start the application upgrade</span></span>
<span data-ttu-id="a9ba9-173">Teraz możemy wszystko jest gotowe do uruchamiania uaktualniania aplikacji przy użyciu [Start-ServiceFabricApplicationUpgrade](/powershell/module/servicefabric/start-servicefabricapplicationupgrade?view=azureservicefabricps) polecenia:</span><span class="sxs-lookup"><span data-stu-id="a9ba9-173">Now, we're all set to start the application upgrade by using the [Start-ServiceFabricApplicationUpgrade](/powershell/module/servicefabric/start-servicefabricapplicationupgrade?view=azureservicefabricps) command:</span></span>

```powershell
Start-ServiceFabricApplicationUpgrade -ApplicationName fabric:/VisualObjects -ApplicationTypeVersion 2.0.0.0 -HealthCheckStableDurationSec 60 -UpgradeDomainTimeoutSec 1200 -UpgradeTimeout 3000   -FailureAction Rollback -Monitored
```


<span data-ttu-id="a9ba9-174">Nazwa aplikacji jest taka sama, jak zostało opisane w *ApplicationManifest.xml* pliku.</span><span class="sxs-lookup"><span data-stu-id="a9ba9-174">The application name is the same as it was described in the *ApplicationManifest.xml* file.</span></span> <span data-ttu-id="a9ba9-175">Sieć szkieletowa usług używa tej nazwy do identyfikowania, która aplikacja jest wprowadzenie uaktualniony.</span><span class="sxs-lookup"><span data-stu-id="a9ba9-175">Service Fabric uses this name to identify which application is getting upgraded.</span></span> <span data-ttu-id="a9ba9-176">Jeśli ustawisz limity czasu się zbyt krótki, możesz napotkać komunikat o błędzie stwierdzający, problem.</span><span class="sxs-lookup"><span data-stu-id="a9ba9-176">If you set the time-outs to be too short, you may encounter a failure message that states the problem.</span></span> <span data-ttu-id="a9ba9-177">Zobacz sekcję dotyczącą rozwiązywania problemów, lub Zwiększ limity czasu.</span><span class="sxs-lookup"><span data-stu-id="a9ba9-177">Refer to the troubleshooting section, or increase the time-outs.</span></span>

<span data-ttu-id="a9ba9-178">Teraz kontynuowane uaktualniania aplikacji, można monitorować za pomocą Eksploratora usługi sieć szkieletowa, lub za pomocą [Get-ServiceFabricApplicationUpgrade](/powershell/module/servicefabric/get-servicefabricapplicationupgrade?view=azureservicefabricps) polecenia programu PowerShell:</span><span class="sxs-lookup"><span data-stu-id="a9ba9-178">Now, as the application upgrade proceeds, you can monitor it using Service Fabric Explorer, or by using the [Get-ServiceFabricApplicationUpgrade](/powershell/module/servicefabric/get-servicefabricapplicationupgrade?view=azureservicefabricps) PowerShell command:</span></span> 

```powershell
Get-ServiceFabricApplicationUpgrade fabric:/VisualObjects
```

<span data-ttu-id="a9ba9-179">Za kilka minut, stan, który uzyskano przy użyciu poprzedniego polecenia programu PowerShell, powinny prezentować, że wszystkie domeny aktualizacji zostały uaktualnione (ukończone).</span><span class="sxs-lookup"><span data-stu-id="a9ba9-179">In a few minutes, the status that you got by using the preceding PowerShell command, should state that all update domains were upgraded (completed).</span></span> <span data-ttu-id="a9ba9-180">I powinien znajdować się, że uruchomiony obracanie visual obiektów w oknie przeglądarki!</span><span class="sxs-lookup"><span data-stu-id="a9ba9-180">And you should find that the visual objects in your browser window have started rotating!</span></span>

<span data-ttu-id="a9ba9-181">Możesz spróbować uaktualniania z wersji 2 do wersji 3 lub w wersji 2 do wersji 1, ponieważ wykonywania.</span><span class="sxs-lookup"><span data-stu-id="a9ba9-181">You can try upgrading from version 2 to version 3, or from version 2 to version 1 as an exercise.</span></span> <span data-ttu-id="a9ba9-182">Przenoszenie z wersji 2 do wersji 1 jest traktowana jako uaktualnienia.</span><span class="sxs-lookup"><span data-stu-id="a9ba9-182">Moving from version 2 to version 1 is also considered an upgrade.</span></span> <span data-ttu-id="a9ba9-183">Odtwarzanie z limitów czasu i zasady dotyczące kondycji z siebie uczynić z nich korzystać.</span><span class="sxs-lookup"><span data-stu-id="a9ba9-183">Play with time-outs and health policies to make yourself familiar with them.</span></span> <span data-ttu-id="a9ba9-184">W przypadku wdrażania klastra platformy Azure, parametry trzeba odpowiednio ustawione.</span><span class="sxs-lookup"><span data-stu-id="a9ba9-184">When you are deploying to an Azure cluster, the parameters need to be set appropriately.</span></span> <span data-ttu-id="a9ba9-185">Warto konserwatywnie Ustaw limity czasu.</span><span class="sxs-lookup"><span data-stu-id="a9ba9-185">It is good to set the time-outs conservatively.</span></span>

## <a name="next-steps"></a><span data-ttu-id="a9ba9-186">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="a9ba9-186">Next steps</span></span>
<span data-ttu-id="a9ba9-187">[Uaktualnianie aplikacji za pomocą programu Visual Studio](service-fabric-application-upgrade-tutorial.md) przeprowadzi Cię przez proces uaktualnienia aplikacji przy użyciu programu Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="a9ba9-187">[Upgrading your application using Visual Studio](service-fabric-application-upgrade-tutorial.md) walks you through an application upgrade using Visual Studio.</span></span>

<span data-ttu-id="a9ba9-188">Kontrolowanie sposobu uaktualnienia aplikacji przy użyciu [parametry uaktualnienia](service-fabric-application-upgrade-parameters.md).</span><span class="sxs-lookup"><span data-stu-id="a9ba9-188">Control how your application upgrades by using [upgrade parameters](service-fabric-application-upgrade-parameters.md).</span></span>

<span data-ttu-id="a9ba9-189">Uzyskania uaktualnień aplikacji zgodnych przez poznanie [szeregowanie danych](service-fabric-application-upgrade-data-serialization.md).</span><span class="sxs-lookup"><span data-stu-id="a9ba9-189">Make your application upgrades compatible by learning how to use [data serialization](service-fabric-application-upgrade-data-serialization.md).</span></span>

<span data-ttu-id="a9ba9-190">Dowiedz się, jak korzystać z zaawansowanych funkcji podczas uaktualniania aplikacji, odwołując się do [Tematy zaawansowane](service-fabric-application-upgrade-advanced.md).</span><span class="sxs-lookup"><span data-stu-id="a9ba9-190">Learn how to use advanced functionality while upgrading your application by referring to [Advanced topics](service-fabric-application-upgrade-advanced.md).</span></span>

<span data-ttu-id="a9ba9-191">Rozwiązywania typowych problemów w uaktualnień aplikacji, korzystając z procedury opisanej w [Rozwiązywanie problemów z uaktualnieniami aplikacji](service-fabric-application-upgrade-troubleshooting.md).</span><span class="sxs-lookup"><span data-stu-id="a9ba9-191">Fix common problems in application upgrades by referring to the steps in [Troubleshooting application upgrades](service-fabric-application-upgrade-troubleshooting.md).</span></span>

