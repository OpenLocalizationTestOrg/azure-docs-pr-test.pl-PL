---
title: "Zarządzanie aplikacjami sieć szkieletowa usług Azure aaaAutomate | Dokumentacja firmy Microsoft"
description: "Wdrażanie, uaktualniania, przetestować i usuwanie aplikacji usługi Service Fabric przy użyciu programu PowerShell."
services: service-fabric
documentationcenter: .net
author: rwike77
manager: timlt
editor: 
ms.assetid: f03f4294-571d-4262-8a77-cc8b481b959d
ms.service: service-fabric
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 06/16/2017
ms.author: ryanwi
redirect_url: /azure/service-fabric/service-fabric-deploy-remove-applications
ms.openlocfilehash: a64a39dbee26be8ac15fee767a90fd06bfe4b896
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="automate-hello-application-lifecycle-using-powershell"></a><span data-ttu-id="99479-103">Automatyzowanie cyklem życia aplikacji hello przy użyciu programu PowerShell</span><span class="sxs-lookup"><span data-stu-id="99479-103">Automate hello application lifecycle using PowerShell</span></span>
<span data-ttu-id="99479-104">Wiele aspektów hello [cyklem życia aplikacji usługi sieć szkieletowa](service-fabric-application-lifecycle.md) można zautomatyzować.</span><span class="sxs-lookup"><span data-stu-id="99479-104">Many aspects of hello [Service Fabric application lifecycle](service-fabric-application-lifecycle.md) can be automated.</span></span>  <span data-ttu-id="99479-105">W tym artykule opisano, jak toouse PowerShell tooautomate typowe zadania dla wdrażanie, uaktualnianie, usuwanie i testowanie aplikacji sieci szkieletowej usług Azure.</span><span class="sxs-lookup"><span data-stu-id="99479-105">This article shows how toouse PowerShell tooautomate common tasks for deploying, upgrading, removing, and testing Azure Service Fabric applications.</span></span>  <span data-ttu-id="99479-106">Zarządzane i dostępne są również interfejsy API protokołu HTTP do zarządzania aplikacjami.</span><span class="sxs-lookup"><span data-stu-id="99479-106">Managed and HTTP APIs for app management are also available.</span></span> <span data-ttu-id="99479-107">Zobacz [cykl życia aplikacji](service-fabric-application-lifecycle.md) Aby uzyskać więcej informacji.</span><span class="sxs-lookup"><span data-stu-id="99479-107">See [app lifecycle](service-fabric-application-lifecycle.md) for more information.</span></span>  

## <a name="prerequisites"></a><span data-ttu-id="99479-108">Wymagania wstępne</span><span class="sxs-lookup"><span data-stu-id="99479-108">Prerequisites</span></span>
<span data-ttu-id="99479-109">Przed przeniesieniem toohello zadań w artykule hello, należy koniecznie:</span><span class="sxs-lookup"><span data-stu-id="99479-109">Before you move on toohello tasks in hello article, be sure to:</span></span>

* <span data-ttu-id="99479-110">Zapoznaj się z hello sieci szkieletowej usług pojęcia opisane w [techniczne omówienie sieci szkieletowej usług](service-fabric-technical-overview.md).</span><span class="sxs-lookup"><span data-stu-id="99479-110">Get familiar with hello Service Fabric concepts described in [Technical overview of Service Fabric](service-fabric-technical-overview.md).</span></span>
* <span data-ttu-id="99479-111">[Instalowanie środowiska uruchomieniowego hello, zestawu SDK i narzędzia](service-fabric-get-started.md), co spowoduje również zainstalowanie hello **ServiceFabric** modułu programu PowerShell.</span><span class="sxs-lookup"><span data-stu-id="99479-111">[Install hello runtime, SDK, and tools](service-fabric-get-started.md), which also installs hello **ServiceFabric** PowerShell module.</span></span>
* <span data-ttu-id="99479-112">[Włączanie wykonywania skryptów programu PowerShell](service-fabric-get-started.md#enable-powershell-script-execution).</span><span class="sxs-lookup"><span data-stu-id="99479-112">[Enable PowerShell script execution](service-fabric-get-started.md#enable-powershell-script-execution).</span></span>
* <span data-ttu-id="99479-113">Uruchom klaster lokalny.</span><span class="sxs-lookup"><span data-stu-id="99479-113">Start a local cluster.</span></span>  <span data-ttu-id="99479-114">Uruchom nowe okno programu PowerShell jako administrator, a następnie uruchom skrypt instalacji klastra hello z folderu zestawu SDK hello:`& "$ENV:ProgramFiles\Microsoft SDKs\Service Fabric\ClusterSetup\DevClusterSetup.ps1"`</span><span class="sxs-lookup"><span data-stu-id="99479-114">Launch a new PowerShell window as an administrator and then run hello cluster setup script from hello SDK folder: `& "$ENV:ProgramFiles\Microsoft SDKs\Service Fabric\ClusterSetup\DevClusterSetup.ps1"`</span></span>
* <span data-ttu-id="99479-115">Przed uruchomieniem żadnych poleceń programu PowerShell w tym artykule, za pomocą pierwszego połączenia lokalnego klastra usługi sieć szkieletowa toohello [Connect-ServiceFabricCluster](/powershell/module/servicefabric/connect-servicefabriccluster?view=azureservicefabricps):`Connect-ServiceFabricCluster localhost:19000`</span><span class="sxs-lookup"><span data-stu-id="99479-115">Before you run any PowerShell commands in this article, first connect toohello local Service Fabric cluster by using [Connect-ServiceFabricCluster](/powershell/module/servicefabric/connect-servicefabriccluster?view=azureservicefabricps): `Connect-ServiceFabricCluster localhost:19000`</span></span>
* <span data-ttu-id="99479-116">następujące zadania Hello wymagają toodeploy pakietu aplikacji v1 i v2 pakietu aplikacji do uaktualnienia.</span><span class="sxs-lookup"><span data-stu-id="99479-116">hello following tasks require a v1 application package toodeploy and a v2 application package for upgrade.</span></span> <span data-ttu-id="99479-117">Pobierz hello [ **WordCount** Przykładowa aplikacja](http://aka.ms/servicefabricsamples) (znajdujący się w hello przykłady wprowadzenie).</span><span class="sxs-lookup"><span data-stu-id="99479-117">Download hello [**WordCount** sample application](http://aka.ms/servicefabricsamples) (located in hello Getting Started samples).</span></span> <span data-ttu-id="99479-118">Tworzenie i pakietu aplikacji hello w programie Visual Studio (kliknij prawym przyciskiem myszy **WordCount** w Eksploratorze rozwiązań i wybierz **pakietu**).</span><span class="sxs-lookup"><span data-stu-id="99479-118">Build and package hello application in Visual Studio (right-click on **WordCount** in Solution Explorer and select **Package**).</span></span> <span data-ttu-id="99479-119">Kopiuj hello v1 pakiet w `C:\ServiceFabricSamples\Services\WordCount\WordCount\pkg\Debug` zbyt`C:\Temp\WordCount`.</span><span class="sxs-lookup"><span data-stu-id="99479-119">Copy hello v1 package in `C:\ServiceFabricSamples\Services\WordCount\WordCount\pkg\Debug` too`C:\Temp\WordCount`.</span></span> <span data-ttu-id="99479-120">Kopiuj `C:\Temp\WordCount` zbyt`C:\Temp\WordCountV2`, tworzenia pakietu aplikacji v2 hello do uaktualnienia.</span><span class="sxs-lookup"><span data-stu-id="99479-120">Copy `C:\Temp\WordCount` too`C:\Temp\WordCountV2`, creating hello v2 application package for upgrade.</span></span> <span data-ttu-id="99479-121">Otwórz `C:\Temp\WordCountV2\ApplicationManifest.xml` w edytorze tekstów.</span><span class="sxs-lookup"><span data-stu-id="99479-121">Open `C:\Temp\WordCountV2\ApplicationManifest.xml` in a text editor.</span></span> <span data-ttu-id="99479-122">W hello **ApplicationManifest** element, zmień hello **ApplicationTypeVersion** atrybutu z "1.0.0" za "2.0.0" hello tooupdate numer wersji aplikacji.</span><span class="sxs-lookup"><span data-stu-id="99479-122">In hello **ApplicationManifest** element, change hello **ApplicationTypeVersion** attribute from "1.0.0" too"2.0.0" tooupdate hello app version number.</span></span> <span data-ttu-id="99479-123">Zapisywanie pliku ApplicationManifest.xml hello zmienione.</span><span class="sxs-lookup"><span data-stu-id="99479-123">Save hello changed ApplicationManifest.xml file.</span></span>

## <a name="task-deploy-a-service-fabric-application"></a><span data-ttu-id="99479-124">Zadanie: Wdrażanie aplikacji sieci szkieletowej usług</span><span class="sxs-lookup"><span data-stu-id="99479-124">Task: Deploy a Service Fabric application</span></span>
<span data-ttu-id="99479-125">Po wbudowane i spakowanej aplikacji hello (lub pobrany pakiet aplikacji hello), można wdrożyć aplikacji hello do lokalnego klastra usługi sieć szkieletowa usług.</span><span class="sxs-lookup"><span data-stu-id="99479-125">After you've built and packaged hello application (or downloaded hello application package), you can deploy hello application into a local Service Fabric cluster.</span></span> <span data-ttu-id="99479-126">Wdrożenie obejmuje przekazywanie pakietu aplikacji hello, rejestrowania typu aplikacji hello i utworzenia wystąpienia aplikacji hello.</span><span class="sxs-lookup"><span data-stu-id="99479-126">Deployment involves uploading hello application package, registering hello application type, and creating hello application instance.</span></span> <span data-ttu-id="99479-127">Użyj instrukcji hello w tej sekcji toodeploy nowy klaster tooa aplikacji.</span><span class="sxs-lookup"><span data-stu-id="99479-127">Use hello instructions in this section toodeploy a new application tooa cluster.</span></span>

### <a name="step-1-upload-hello-application-package"></a><span data-ttu-id="99479-128">Krok 1: Przekaż pakiet aplikacji hello</span><span class="sxs-lookup"><span data-stu-id="99479-128">Step 1: Upload hello application package</span></span>
<span data-ttu-id="99479-129">Przekazywanie toohello pakietu aplikacji hello składnika image store umieszczane w składniki sieci szkieletowej usług toointernal dostępnych lokalizacji.</span><span class="sxs-lookup"><span data-stu-id="99479-129">Uploading hello application package toohello image store puts it in a location accessible toointernal Service Fabric components.</span></span>  <span data-ttu-id="99479-130">pakiet aplikacji Hello zawiera hello niezbędne manifest aplikacji, usługi manifesty i kodu, konfiguracji i aplikacja hello toocreate pakiety danych i wystąpień usługi.</span><span class="sxs-lookup"><span data-stu-id="99479-130">hello application package contains hello necessary application manifest, service manifests, and code, configuration, and data package(s) toocreate hello application and service instances.</span></span> <span data-ttu-id="99479-131">Pakiet aplikacji hello tooverify lokalnie, należy użyć hello [ServiceFabricApplicationPackage testu](/powershell/servicefabric/vlatest/test-servicefabricapplicationpackage) polecenia cmdlet.</span><span class="sxs-lookup"><span data-stu-id="99479-131">If you want tooverify hello app package locally, use hello [Test-ServiceFabricApplicationPackage](/powershell/servicefabric/vlatest/test-servicefabricapplicationpackage) cmdlet.</span></span>  <span data-ttu-id="99479-132">Witaj [ServiceFabricApplicationPackage kopiowania](/powershell/module/servicefabric/copy-servicefabricapplicationpackage?view=azureservicefabricps) polecenia przekazywania hello pakietu.</span><span class="sxs-lookup"><span data-stu-id="99479-132">hello [Copy-ServiceFabricApplicationPackage](/powershell/module/servicefabric/copy-servicefabricapplicationpackage?view=azureservicefabricps) command uploads hello package.</span></span> <span data-ttu-id="99479-133">Na przykład:</span><span class="sxs-lookup"><span data-stu-id="99479-133">For example:</span></span>

```powershell
Copy-ServiceFabricApplicationPackage C:\Temp\WordCount\ -ImageStoreConnectionString file:C:\SfDevCluster\Data\ImageStoreShare -ApplicationPackagePathInImageStore WordCount
```

### <a name="step-2-register-hello-application-type"></a><span data-ttu-id="99479-134">Krok 2: Rejestracja typu aplikacji hello</span><span class="sxs-lookup"><span data-stu-id="99479-134">Step 2: Register hello application type</span></span>
<span data-ttu-id="99479-135">Pakiet aplikacji hello rejestrowania sprawia, że hello typ i wersja aplikacji zadeklarowane w manifeście aplikacji hello dostępne do użycia.</span><span class="sxs-lookup"><span data-stu-id="99479-135">Registering hello application package makes hello application type and version declared in hello application manifest available for use.</span></span> <span data-ttu-id="99479-136">Hello system odczytuje pakietu hello przekazany w hello w kroku 1, sprawdź hello pakietu (równoważne toorunning [ServiceFabricApplicationPackage testu](/powershell/servicefabric/vlatest/test-servicefabricapplicationpackage) lokalnie), przetworzyć zawartość pakietu hello i skopiować hello przetworzyć pakietu tooan Lokalizacja wewnętrznego systemu.</span><span class="sxs-lookup"><span data-stu-id="99479-136">hello system reads hello package uploaded in hello step 1, verify hello package (equivalent toorunning [Test-ServiceFabricApplicationPackage](/powershell/servicefabric/vlatest/test-servicefabricapplicationpackage) locally), process hello package contents, and copy hello processed package tooan internal system location.</span></span>  <span data-ttu-id="99479-137">Uruchom hello [ServiceFabricApplicationType rejestru](/powershell/module/servicefabric/register-servicefabricapplicationtype?view=azureservicefabricps) polecenia cmdlet:</span><span class="sxs-lookup"><span data-stu-id="99479-137">Run hello [Register-ServiceFabricApplicationType](/powershell/module/servicefabric/register-servicefabricapplicationtype?view=azureservicefabricps) cmdlet:</span></span>

```powershell
Register-ServiceFabricApplicationType WordCount
```
<span data-ttu-id="99479-138">wszystkie typy aplikacji hello zarejestrowany w klastrze hello, uruchom hello toosee [Get-ServiceFabricApplicationType](/powershell/module/servicefabric/get-servicefabricapplicationtype?view=azureservicefabricps) polecenia cmdlet:</span><span class="sxs-lookup"><span data-stu-id="99479-138">toosee all hello application types registered in hello cluster, run hello [Get-ServiceFabricApplicationType](/powershell/module/servicefabric/get-servicefabricapplicationtype?view=azureservicefabricps) cmdlet:</span></span>

```powershell
Get-ServiceFabricApplicationType
```

### <a name="step-3-create-hello-application-instance"></a><span data-ttu-id="99479-139">Krok 3: Tworzenie wystąpienia aplikacji hello</span><span class="sxs-lookup"><span data-stu-id="99479-139">Step 3: Create hello application instance</span></span>
<span data-ttu-id="99479-140">Aplikację można wdrożyć przy użyciu dowolnej wersji typu aplikacji, który został pomyślnie zarejestrowany za pomocą hello [ServiceFabricApplication nowy](/powershell/module/servicefabric/new-servicefabricapplication?view=azureservicefabricps) polecenia.</span><span class="sxs-lookup"><span data-stu-id="99479-140">An application can be instantiated by using any application type version that has been registered successfully by using hello [New-ServiceFabricApplication](/powershell/module/servicefabric/new-servicefabricapplication?view=azureservicefabricps) command.</span></span> <span data-ttu-id="99479-141">nazwy poszczególnych aplikacji Hello jest zadeklarowane na czas wdrażania i musi zaczynać się od hello **sieci szkieletowej:** schemat i być unikatowe dla każdego wystąpienia aplikacji.</span><span class="sxs-lookup"><span data-stu-id="99479-141">hello name of each application is declared at deploy time and must start with hello **fabric:** scheme and be unique for each application instance.</span></span> <span data-ttu-id="99479-142">Witaj nazwy typu aplikacji, a wersja typu aplikacji są zadeklarowane w hello **ApplicationManifest.xml** pliku pakietu aplikacji hello.</span><span class="sxs-lookup"><span data-stu-id="99479-142">hello application type name and application type version are declared in hello **ApplicationManifest.xml** file of hello application package.</span></span> <span data-ttu-id="99479-143">Jeśli wszystkie domyślne usługi zostały zdefiniowane w manifeście aplikacji hello typu aplikacji docelowej hello, te są tworzone w tym momencie.</span><span class="sxs-lookup"><span data-stu-id="99479-143">If any default services were defined in hello application manifest of hello target application type, then those are created at this time.</span></span>

```powershell
New-ServiceFabricApplication fabric:/WordCount WordCount 1.0.0
```

<span data-ttu-id="99479-144">Witaj [Get ServiceFabricApplication](/powershell/servicefabric/vlatest/get-servicefabricapplication) polecenie wyświetla listę wszystkich wystąpień aplikacji, które zostały pomyślnie utworzone, wraz z ich ogólny stan.</span><span class="sxs-lookup"><span data-stu-id="99479-144">hello [Get-ServiceFabricApplication](/powershell/servicefabric/vlatest/get-servicefabricapplication) command lists all application instances that were successfully created, along with their overall status.</span></span> <span data-ttu-id="99479-145">Witaj [Get ServiceFabricService](/powershell/module/servicefabric/get-servicefabricservice?view=azureservicefabricps) polecenie wyświetla listę wszystkich wystąpień usługi hello, które zostały pomyślnie utworzone w ramach wystąpienia danej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="99479-145">hello [Get-ServiceFabricService](/powershell/module/servicefabric/get-servicefabricservice?view=azureservicefabricps) command lists all of hello service instances that were successfully created within a given application instance.</span></span> <span data-ttu-id="99479-146">Domyślne usługi (jeśli istnieje) są wyświetlane.</span><span class="sxs-lookup"><span data-stu-id="99479-146">Default services (if any) are listed.</span></span>

```powershell
Get-ServiceFabricApplication

Get-ServiceFabricApplication | Get-ServiceFabricService
```

## <a name="task-upgrade-a-service-fabric-application"></a><span data-ttu-id="99479-147">Zadanie: Uaktualnienie aplikacji sieci szkieletowej usług</span><span class="sxs-lookup"><span data-stu-id="99479-147">Task: Upgrade a Service Fabric application</span></span>
<span data-ttu-id="99479-148">Można uaktualnić wdrożonej wcześniej aplikacji sieci szkieletowej usług z pakietu aplikacji zaktualizowane.</span><span class="sxs-lookup"><span data-stu-id="99479-148">You can upgrade a previously deployed Service Fabric application with an updated application package.</span></span> <span data-ttu-id="99479-149">To zadanie uaktualnienie aplikacji WordCount hello, który został wdrożony w "zadań: Wdrażanie aplikacji sieci szkieletowej usług."</span><span class="sxs-lookup"><span data-stu-id="99479-149">This task upgrades hello WordCount application that was deployed in "Task: Deploy a Service Fabric application."</span></span> <span data-ttu-id="99479-150">Zapoznaj się z artykułem [uaktualniania aplikacji sieci szkieletowej usług](service-fabric-application-upgrade.md) Aby uzyskać więcej informacji.</span><span class="sxs-lookup"><span data-stu-id="99479-150">Read through [Service Fabric application upgrade](service-fabric-application-upgrade.md) for more information.</span></span>

<span data-ttu-id="99479-151">prosty rzeczy tookeep, na przykład tylko hello numer wersji aplikacji został zaktualizowany w pakiecie aplikacji hello WordCountV2 utworzone hello wymagań wstępnych.</span><span class="sxs-lookup"><span data-stu-id="99479-151">tookeep things simple for this example, only hello application version number was updated in hello WordCountV2 application package created in hello prerequisites.</span></span> <span data-ttu-id="99479-152">Bardziej realistyczne scenariuszu jest stosowane aktualizowanie usługi plików kodu, konfiguracji lub danych, a następnie ponownie skompilować i pakowania aplikacji hello numerami zaktualizowanej wersji.</span><span class="sxs-lookup"><span data-stu-id="99479-152">A more realistic scenario would involve updating your service code, configuration, or data files and then rebuilding and packaging hello application with updated version numbers.</span></span>  

### <a name="step-1-upload-hello-updated-application-package"></a><span data-ttu-id="99479-153">Krok 1: Hello Przekaż zaktualizowany pakiet aplikacji</span><span class="sxs-lookup"><span data-stu-id="99479-153">Step 1: Upload hello updated application package</span></span>
<span data-ttu-id="99479-154">WordCount v1 aplikacji Hello jest gotowy toobe uaktualniony.</span><span class="sxs-lookup"><span data-stu-id="99479-154">hello WordCount v1 application is ready toobe upgraded.</span></span> <span data-ttu-id="99479-155">Jeśli Otwórz okno programu PowerShell jako administrator i wpisz [ **Get-ServiceFabricApplication**](/powershell/module/servicefabric/get-servicefabricapplication?view=azureservicefabricps), zobaczysz, że ta wersja 1.0.0 hello typ aplikacji WordCount jest wdrożony.</span><span class="sxs-lookup"><span data-stu-id="99479-155">If you open up a PowerShell window as administrator and type [**Get-ServiceFabricApplication**](/powershell/module/servicefabric/get-servicefabricapplication?view=azureservicefabricps), you see that version 1.0.0 of hello WordCount application type is deployed.</span></span>  

<span data-ttu-id="99479-156">Kopia hello zaktualizowania aplikacji pakietu toohello sieci szkieletowej usług magazynu w obrazie (gdzie hello pakiety aplikacji są przechowywane przez sieć szkieletowa usług).</span><span class="sxs-lookup"><span data-stu-id="99479-156">Now copy hello updated application package toohello Service Fabric image store (where hello application packages are stored by Service Fabric).</span></span> <span data-ttu-id="99479-157">Witaj parametru **ApplicationPackagePathInImageStore** informuje o tym, gdzie można znaleźć pakietu aplikacji hello sieci szkieletowej usług.</span><span class="sxs-lookup"><span data-stu-id="99479-157">hello parameter **ApplicationPackagePathInImageStore** informs Service Fabric where it can find hello application package.</span></span> <span data-ttu-id="99479-158">Witaj, następujące polecenia kopie hello pakiet aplikacji za**WordCountV2** w magazynie obrazu hello:</span><span class="sxs-lookup"><span data-stu-id="99479-158">hello following command copies hello application package too**WordCountV2** in hello image store:</span></span>  

```powershell
Copy-ServiceFabricApplicationPackage C:\Temp\WordCountV2\ -ImageStoreConnectionString file:C:\SfDevCluster\Data\ImageStoreShare -ApplicationPackagePathInImageStore WordCountV2

```
### <a name="step-2-register-hello-updated-application-type"></a><span data-ttu-id="99479-159">Krok 2: Hello rejestru zaktualizowany typ aplikacji</span><span class="sxs-lookup"><span data-stu-id="99479-159">Step 2: Register hello updated application type</span></span>
<span data-ttu-id="99479-160">Witaj następnym krokiem jest tooregister hello nowej wersji aplikacji hello z sieci szkieletowej usług, które mogą być wykonywane przy użyciu hello [ServiceFabricApplicationType rejestru](/powershell/module/servicefabric/register-servicefabricapplicationtype?view=azureservicefabricps) polecenia cmdlet:</span><span class="sxs-lookup"><span data-stu-id="99479-160">hello next step is tooregister hello new version of hello application with Service Fabric, which can be performed by using hello [Register-ServiceFabricApplicationType](/powershell/module/servicefabric/register-servicefabricapplicationtype?view=azureservicefabricps) cmdlet:</span></span>

```powershell
Register-ServiceFabricApplicationType WordCountV2
```

### <a name="step-3-start-hello-upgrade"></a><span data-ttu-id="99479-161">Krok 3: Uruchom hello uaktualniania</span><span class="sxs-lookup"><span data-stu-id="99479-161">Step 3: Start hello upgrade</span></span>
<span data-ttu-id="99479-162">Różnych parametrów uaktualnienia, limity czasu i kryteria kondycji mogą być zastosowane tooapplication uaktualnienia.</span><span class="sxs-lookup"><span data-stu-id="99479-162">Various upgrade parameters, timeouts, and health criteria can be applied tooapplication upgrades.</span></span> <span data-ttu-id="99479-163">Zapoznaj się z artykułem hello [parametry uaktualniania aplikacji](service-fabric-application-upgrade-parameters.md) i [procesu uaktualniania](service-fabric-application-upgrade.md) toolearn więcej dokumentów.</span><span class="sxs-lookup"><span data-stu-id="99479-163">Read through hello [application upgrade parameters](service-fabric-application-upgrade-parameters.md) and [upgrade process](service-fabric-application-upgrade.md) documents toolearn more.</span></span> <span data-ttu-id="99479-164">Wszystkie usługi i wystąpień powinna być *dobrej kondycji* po uaktualnieniu hello.</span><span class="sxs-lookup"><span data-stu-id="99479-164">All services and instances should be *healthy* after hello upgrade.</span></span>  <span data-ttu-id="99479-165">Zestaw hello **HealthCheckStableDuration** too60 sekund (tak, aby hello usługi są w dobrej kondycji, co najmniej 20 sekund przed hello uaktualnianie będzie kontynuowane toohello uaktualnić obok domeny).</span><span class="sxs-lookup"><span data-stu-id="99479-165">Set hello **HealthCheckStableDuration** too60 seconds (so that hello services are healthy for at least 20 seconds before hello upgrade proceeds toohello next upgrade domain).</span></span>  <span data-ttu-id="99479-166">Także zestaw hello **UpgradeDomainTimeout** too1200 sekund i hello **UpgradeTimeout** too3000 sekund.</span><span class="sxs-lookup"><span data-stu-id="99479-166">Also set hello **UpgradeDomainTimeout** too1200 seconds and hello **UpgradeTimeout** too3000 seconds.</span></span> <span data-ttu-id="99479-167">Wreszcie, ustaw hello **UpgradeFailureAction** za**wycofywania**, która żądań, które przywraca sieci szkieletowej usług hello aplikacji toohello poprzedniej wersji, jeśli nie zostaną napotkane błędy podczas uaktualniania.</span><span class="sxs-lookup"><span data-stu-id="99479-167">Finally, set hello **UpgradeFailureAction** too**rollback**, which requests that Service Fabric rolls back hello application toohello previous version if failures are encountered during upgrade.</span></span>

<span data-ttu-id="99479-168">Można teraz uruchomić uaktualniania aplikacji hello przy użyciu hello [Start-ServiceFabricApplicationUpgrade](/powershell/module/servicefabric/start-servicefabricapplicationupgrade?view=azureservicefabricps) polecenia cmdlet:</span><span class="sxs-lookup"><span data-stu-id="99479-168">You can now start hello application upgrade by using hello [Start-ServiceFabricApplicationUpgrade](/powershell/module/servicefabric/start-servicefabricapplicationupgrade?view=azureservicefabricps) cmdlet:</span></span>

```powershell
Start-ServiceFabricApplicationUpgrade -ApplicationName fabric:/WordCount -ApplicationTypeVersion 2.0.0 -HealthCheckStableDurationSec 60 -UpgradeDomainTimeoutSec 1200 -UpgradeTimeout 3000  -FailureAction Rollback -Monitored
```

<span data-ttu-id="99479-169">Uwaga tej nazwy aplikacji hello jest hello takie same jak hello wcześniej wdrożona v1.0.0 nazwy aplikacji (fabric: / WordCount).</span><span class="sxs-lookup"><span data-stu-id="99479-169">Note that hello application name is hello same as hello previously deployed v1.0.0 application name (fabric:/WordCount).</span></span> <span data-ttu-id="99479-170">Sieć szkieletowa usług używa tego tooidentify nazwę, która aplikacja jest wprowadzenie uaktualniony.</span><span class="sxs-lookup"><span data-stu-id="99479-170">Service Fabric uses this name tooidentify which application is getting upgraded.</span></span> <span data-ttu-id="99479-171">Jeśli ustawisz toobe limity czasu hello jest zbyt krótki, może wystąpić komunikat o błędzie limitu czasu czy stanów hello problem.</span><span class="sxs-lookup"><span data-stu-id="99479-171">If you set hello time-outs toobe too short, you might encounter a time-out failure message that states hello problem.</span></span> <span data-ttu-id="99479-172">Odwołuje się zbyt[Rozwiązywanie problemów z uaktualnieniami aplikacji](service-fabric-application-upgrade-troubleshooting.md), lub zwiększ hello przekroczeń limitu czasu.</span><span class="sxs-lookup"><span data-stu-id="99479-172">Refer too[Troubleshoot application upgrades](service-fabric-application-upgrade-troubleshooting.md), or increase hello time-outs.</span></span>

### <a name="step-4-check-upgrade-progress"></a><span data-ttu-id="99479-173">Krok 4: Postęp uaktualniania wyboru</span><span class="sxs-lookup"><span data-stu-id="99479-173">Step 4: Check upgrade progress</span></span>
<span data-ttu-id="99479-174">Możesz monitorować postęp uaktualniania aplikacji przy użyciu [Service Fabric Explorer](service-fabric-visualizing-your-cluster.md), lub za pomocą hello [Get-ServiceFabricApplicationUpgrade](/powershell/module/servicefabric/get-servicefabricapplicationupgrade?view=azureservicefabricps) polecenia cmdlet:</span><span class="sxs-lookup"><span data-stu-id="99479-174">You can monitor application upgrade progress by using [Service Fabric Explorer](service-fabric-visualizing-your-cluster.md), or by using hello [Get-ServiceFabricApplicationUpgrade](/powershell/module/servicefabric/get-servicefabricapplicationupgrade?view=azureservicefabricps) cmdlet:</span></span>

```powershell
Get-ServiceFabricApplicationUpgrade fabric:/WordCount
```

<span data-ttu-id="99479-175">W ciągu kilku minut hello [Get-ServiceFabricApplicationUpgrade](/powershell/module/servicefabric/get-servicefabricapplicationupgrade?view=azureservicefabricps) polecenia cmdlet pokazuje, że wszystkie domeny uaktualnienia zostały uaktualnione (ukończone).</span><span class="sxs-lookup"><span data-stu-id="99479-175">In a few minutes, hello [Get-ServiceFabricApplicationUpgrade](/powershell/module/servicefabric/get-servicefabricapplicationupgrade?view=azureservicefabricps) cmdlet shows that all upgrade domains were upgraded (completed).</span></span>

## <a name="task-test-a-service-fabric-application"></a><span data-ttu-id="99479-176">Zadanie: Testów aplikacji sieci szkieletowej usług</span><span class="sxs-lookup"><span data-stu-id="99479-176">Task: Test a Service Fabric application</span></span>
<span data-ttu-id="99479-177">toowrite wysokiej jakości usług, deweloperzy muszą toobe tooinduce stanie zawodnych infrastruktury błędów tootest hello stabilność swoich usług.</span><span class="sxs-lookup"><span data-stu-id="99479-177">toowrite high-quality services, developers need toobe able tooinduce unreliable infrastructure faults tootest hello stability of their services.</span></span> <span data-ttu-id="99479-178">Sieć szkieletowa usług zapewnia deweloperom hello możliwości tooinduce błędów akcje i usług testu w hello występowania błędów przy użyciu hello scenariuszy testowania chaos i trybu failover.</span><span class="sxs-lookup"><span data-stu-id="99479-178">Service Fabric gives developers hello ability tooinduce fault actions and test services in hello presence of failures by using hello chaos and failover test scenarios.</span></span>  <span data-ttu-id="99479-179">Zapoznaj się z artykułem [toohello wprowadzenie błędów Analysis Service](service-fabric-testability-overview.md) Aby uzyskać dodatkowe informacje.</span><span class="sxs-lookup"><span data-stu-id="99479-179">Read through [Introduction toohello Fault Analysis Service](service-fabric-testability-overview.md) for additional information.</span></span>

### <a name="step-1-run-hello-chaos-test-scenario"></a><span data-ttu-id="99479-180">Krok 1: Uruchom Scenariusz testów chaos hello</span><span class="sxs-lookup"><span data-stu-id="99479-180">Step 1: Run hello chaos test scenario</span></span>
<span data-ttu-id="99479-181">Scenariusz testów chaos Hello generuje błędy między hello całego klastra sieci szkieletowej usług.</span><span class="sxs-lookup"><span data-stu-id="99479-181">hello chaos test scenario generates faults across hello entire Service Fabric cluster.</span></span> <span data-ttu-id="99479-182">Scenariusz Hello kompresuje błędów zwykle widoczne za pośrednictwem tooa miesięcy lub lat. kilka godzin.</span><span class="sxs-lookup"><span data-stu-id="99479-182">hello scenario compresses faults generally seen over months or years tooa few hours.</span></span> <span data-ttu-id="99479-183">Kombinacja Hello przeplotem błędów z wartością wysoką odporność znajduje sytuacjach wyjątkowych, które w przeciwnym razie być pominięte.</span><span class="sxs-lookup"><span data-stu-id="99479-183">hello combination of interleaved faults with a high fault rate finds corner cases that would otherwise be missed.</span></span> <span data-ttu-id="99479-184">Witaj poniższym przykładzie uruchamiane są scenariusza testów chaos hello przez 60 minut.</span><span class="sxs-lookup"><span data-stu-id="99479-184">hello following example runs hello chaos test scenario for 60 minutes.</span></span>

```powershell
$timeToRun = 60
$maxStabilizationTimeSecs = 180
$concurrentFaults = 3
$waitTimeBetweenIterationsSec = 60

Invoke-ServiceFabricChaosTestScenario -TimeToRunMinute $timeToRun -MaxClusterStabilizationTimeoutSec $maxStabilizationTimeSecs -MaxConcurrentFaults $concurrentFaults -EnableMoveReplicaFaults -WaitTimeBetweenIterationsSec $waitTimeBetweenIterationsSec
```

### <a name="step-2-run-hello-failover-test-scenario"></a><span data-ttu-id="99479-185">Krok 2: Uruchom scenariusz test pracy awaryjnej hello</span><span class="sxs-lookup"><span data-stu-id="99479-185">Step 2: Run hello failover test scenario</span></span>
<span data-ttu-id="99479-186">Hello trybu failover przetestuj cele scenariusz partycji określonej usługi, zamiast całego klastra hello i innych usług pozostawia nie dotyczy.</span><span class="sxs-lookup"><span data-stu-id="99479-186">hello failover test scenario targets a specific service partition instead of hello entire cluster, and it leaves other services unaffected.</span></span> <span data-ttu-id="99479-187">Scenariusz Hello iterację sekwencję symulowane błędy podczas weryfikowania usługi podczas wykonywania logiki biznesowej.</span><span class="sxs-lookup"><span data-stu-id="99479-187">hello scenario iterates through a sequence of simulated faults in service validation while your business logic runs.</span></span> <span data-ttu-id="99479-188">Błąd podczas weryfikowania usługi wskazuje problem, który wymaga dalszego badania.</span><span class="sxs-lookup"><span data-stu-id="99479-188">A failure in service validation indicates an issue that needs further investigation.</span></span> <span data-ttu-id="99479-189">test pracy awaryjnej Hello wywołuje tylko jeden błąd w czasie, jako min. toohello chaos testu scenariusza, który można wywołać wiele błędów.</span><span class="sxs-lookup"><span data-stu-id="99479-189">hello failover test induces only one fault at a time, as opposed toohello chaos test scenario, which can induce multiple faults.</span></span> <span data-ttu-id="99479-190">Witaj poniższy przykład jest uruchamiana test pracy awaryjnej hello przez 60 minut dla sieci szkieletowej hello: / WordCount/usługi WordCountService usługi.</span><span class="sxs-lookup"><span data-stu-id="99479-190">hello following example runs hello failover test for 60 minutes against hello fabric:/WordCount/WordCountService service.</span></span>

```powershell
$timeToRun = 60
$maxStabilizationTimeSecs = 180
$waitTimeBetweenFaultsSec = 10
$serviceName = "fabric:/WordCount/WordCountService"

Invoke-ServiceFabricFailoverTestScenario -TimeToRunMinute $timeToRun -MaxServiceStabilizationTimeoutSec $maxStabilizationTimeSecs -WaitTimeBetweenFaultsSec $waitTimeBetweenFaultsSec -ServiceName $serviceName -PartitionKindUniformInt64 -PartitionKey 1
```

## <a name="task-remove-a-service-fabric-application"></a><span data-ttu-id="99479-191">Zadanie: Usuwanie aplikacji sieci szkieletowej usług</span><span class="sxs-lookup"><span data-stu-id="99479-191">Task: Remove a Service Fabric application</span></span>
<span data-ttu-id="99479-192">Można usunąć wystąpienia wdrożonej aplikacji, Usuń typ aplikacji hello udostępnione z klastra hello i usuwanie pakietu aplikacji hello z hello magazynu ImageStore.</span><span class="sxs-lookup"><span data-stu-id="99479-192">You can delete an instance of a deployed application, remove hello provisioned application type from hello cluster, and remove hello application package from hello ImageStore.</span></span>

### <a name="step-1-remove-an-application-instance"></a><span data-ttu-id="99479-193">Krok 1: Usuwanie wystąpienia aplikacji</span><span class="sxs-lookup"><span data-stu-id="99479-193">Step 1: Remove an application instance</span></span>
<span data-ttu-id="99479-194">Wystąpienie aplikacji nie jest już potrzebne, możesz trwale usunąć go przy użyciu hello [ServiceFabricApplication Usuń](/powershell/module/servicefabric/remove-servicefabricapplication?view=azureservicefabricps) polecenia cmdlet.</span><span class="sxs-lookup"><span data-stu-id="99479-194">When an application instance is no longer needed, you can permanently remove it by using hello [Remove-ServiceFabricApplication](/powershell/module/servicefabric/remove-servicefabricapplication?view=azureservicefabricps) cmdlet.</span></span> <span data-ttu-id="99479-195">Automatycznie spowoduje to usunięcie wszystkich usług należących toohello aplikacji, trwałe usunięcie wszystkich stan usługi.</span><span class="sxs-lookup"><span data-stu-id="99479-195">This also automatically removes all services belonging toohello application, permanently removing all service state.</span></span> <span data-ttu-id="99479-196">Ta operacja jest nieodwracalna i nie można odzyskać stan aplikacji.</span><span class="sxs-lookup"><span data-stu-id="99479-196">This operation cannot be reversed and application state cannot be recovered.</span></span>

```powershell
Remove-ServiceFabricApplication fabric:/WordCount
```

### <a name="step-2-unregister-hello-application-type"></a><span data-ttu-id="99479-197">Krok 2: Wyrejestruj typ aplikacji hello</span><span class="sxs-lookup"><span data-stu-id="99479-197">Step 2: Unregister hello application type</span></span>
<span data-ttu-id="99479-198">W przypadku konkretnej wersji typu aplikacji nie są już potrzebne, wyrejestrować go za pomocą hello [Unregister-ServiceFabricApplicationType](/powershell/module/servicefabric/unregister-servicefabricapplicationtype?view=azureservicefabricps) polecenia cmdlet.</span><span class="sxs-lookup"><span data-stu-id="99479-198">When you no longer need a particular version of an application type, unregister it by using hello [Unregister-ServiceFabricApplicationType](/powershell/module/servicefabric/unregister-servicefabricapplicationtype?view=azureservicefabricps) cmdlet.</span></span> <span data-ttu-id="99479-199">Wyrejestrowywanie typy nieużywane wersje miejsca do magazynowania używanych przez pakiet aplikacji hello w magazynie obraz powitania.</span><span class="sxs-lookup"><span data-stu-id="99479-199">Unregistering unused types releases storage space used by hello application package in hello image store.</span></span> <span data-ttu-id="99479-200">Typ aplikacji można wyrejestrować tak długo, jak żadne aplikacje nie wystąpienia na nim lub do czasu uaktualnienia aplikacji odwołuje.</span><span class="sxs-lookup"><span data-stu-id="99479-200">An application type can be unregistered as long as there are no applications instantiated against it or pending application upgrades referencing it.</span></span>

```powershell
Unregister-ServiceFabricApplicationType WordCount 1.0.0
```

### <a name="step-3-remove-hello-application-package"></a><span data-ttu-id="99479-201">Krok 3: Usunięcie pakietu aplikacji hello</span><span class="sxs-lookup"><span data-stu-id="99479-201">Step 3: Remove hello application package</span></span>
<span data-ttu-id="99479-202">Po typ aplikacji hello jest zarejestrowany, pakiet aplikacji hello można usunąć z magazynu obrazów hello przy użyciu hello [ServiceFabricApplicationPackage Usuń](/powershell/module/servicefabric/remove-servicefabricapplicationpackage?view=azureservicefabricps) polecenia cmdlet.</span><span class="sxs-lookup"><span data-stu-id="99479-202">After hello application type is unregistered, hello application package can be removed from hello image store by using hello [Remove-ServiceFabricApplicationPackage](/powershell/module/servicefabric/remove-servicefabricapplicationpackage?view=azureservicefabricps) cmdlet.</span></span>

```powershell
Remove-ServiceFabricApplicationPackage -ImageStoreConnectionString file:C:\SfDevCluster\Data\ImageStoreShare -ApplicationPackagePathInImageStore WordCount
```

## <a name="next-steps"></a><span data-ttu-id="99479-203">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="99479-203">Next steps</span></span>
[<span data-ttu-id="99479-204">Cykl życia aplikacji w sieci szkieletowej usług</span><span class="sxs-lookup"><span data-stu-id="99479-204">Service Fabric application lifecycle</span></span>](service-fabric-application-lifecycle.md)

[<span data-ttu-id="99479-205">Wdrażanie aplikacji</span><span class="sxs-lookup"><span data-stu-id="99479-205">Deploy an application</span></span>](service-fabric-deploy-remove-applications.md)

[<span data-ttu-id="99479-206">Uaktualnianie aplikacji</span><span class="sxs-lookup"><span data-stu-id="99479-206">Application upgrade</span></span>](service-fabric-application-upgrade.md)

[<span data-ttu-id="99479-207">Polecenia cmdlet systemu Azure sieci szkieletowej usług</span><span class="sxs-lookup"><span data-stu-id="99479-207">Azure Service Fabric cmdlets</span></span>](/powershell/azure/overview?view=azureservicefabricps)

