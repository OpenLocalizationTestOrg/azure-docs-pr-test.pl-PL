---
title: "Analiza zdarzeń usługi sieci szkieletowej z usługą Application Insights aaaAzure | Dokumentacja firmy Microsoft"
description: "Więcej informacji na temat wizualizacji i analizowania zdarzeń za pomocą usługi Application Insights, monitorowania i diagnostyki klastrów sieci szkieletowej usług Azure."
services: service-fabric
documentationcenter: .net
author: dkkapur
manager: timlt
editor: 
ms.assetid: 
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 05/26/2017
ms.author: dekapur
ms.openlocfilehash: 59bb5a409f2951e5b2034049e782dd0da67f933c
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="event-analysis-and-visualization-with-application-insights"></a><span data-ttu-id="2f155-103">Analiza zdarzeń i wizualizacji z usługą Application Insights</span><span class="sxs-lookup"><span data-stu-id="2f155-103">Event analysis and visualization with Application Insights</span></span>

<span data-ttu-id="2f155-104">Azure Application Insights to rozszerzalna platforma aplikacji monitorowania i diagnostyki.</span><span class="sxs-lookup"><span data-stu-id="2f155-104">Azure Application Insights is an extensible platform for application monitoring and diagnostics.</span></span> <span data-ttu-id="2f155-105">Obejmuje zaawansowane analizy i badania narzędzia, można dostosować pulpit nawigacyjny i wizualizacje i dalsze opcje w tym automatycznego tworzenia alertu.</span><span class="sxs-lookup"><span data-stu-id="2f155-105">It includes a powerful analytics and querying tool, customizable dashboard and visualizations, and further options including automated alerting.</span></span> <span data-ttu-id="2f155-106">Jest hello zalecane platforma do monitorowania i diagnostyki dla aplikacji platformy Service Fabric i usług.</span><span class="sxs-lookup"><span data-stu-id="2f155-106">It is hello recommended platform for monitoring and diagnostics for Service Fabric applications and services.</span></span>

## <a name="setting-up-application-insights"></a><span data-ttu-id="2f155-107">Konfigurowanie usługi Application Insights</span><span class="sxs-lookup"><span data-stu-id="2f155-107">Setting up Application Insights</span></span>

### <a name="creating-an-ai-resource"></a><span data-ttu-id="2f155-108">Tworzenie zasobu AI</span><span class="sxs-lookup"><span data-stu-id="2f155-108">Creating an AI Resource</span></span>

<span data-ttu-id="2f155-109">zasób toocreate AI head za pośrednictwem portalu Azure Marketplace toohello i wyszukaj "Usługi Application Insights".</span><span class="sxs-lookup"><span data-stu-id="2f155-109">toocreate an AI resource, head over toohello Azure Marketplace, and search for "Application Insights".</span></span> <span data-ttu-id="2f155-110">Powinien on wyświetlane jako pierwsze rozwiązanie hello (znajduje się w kategorii "Web + Mobile").</span><span class="sxs-lookup"><span data-stu-id="2f155-110">It should show up as hello first solution (it is under category "Web + Mobile").</span></span> <span data-ttu-id="2f155-111">Kliknij przycisk **Utwórz** podczas szukania na właściwy zasób hello (Sprawdź, czy ścieżka zgodna hello obraz poniżej).</span><span class="sxs-lookup"><span data-stu-id="2f155-111">Click **Create** when you are looking at hello right resource (confirm that your path matches hello image below).</span></span>

![Nowy zasób usługi Application Insights](media/service-fabric-diagnostics-event-analysis-appinsights/create-new-ai-resource.png)

<span data-ttu-id="2f155-113">Konieczne będzie toofill zasób hello tooprovision niektóre informacje poprawnie.</span><span class="sxs-lookup"><span data-stu-id="2f155-113">You will need toofill out some information tooprovision hello resource correctly.</span></span> <span data-ttu-id="2f155-114">W hello *typu aplikacji* pola, użyj "Aplikacja sieci web ASP.NET" Jeśli będziesz używać dowolną sieć szkieletowa usług modele programowania lub publikowania klastra toohello aplikacji .NET.</span><span class="sxs-lookup"><span data-stu-id="2f155-114">In hello *Application Type* field, use "ASP.NET web application" if you will be using any of Service Fabric's programming models or publishing a .NET application toohello cluster.</span></span> <span data-ttu-id="2f155-115">Użyj "Ogólne", jeśli będziesz wdrażać pliki wykonywalne gościa i kontenerów.</span><span class="sxs-lookup"><span data-stu-id="2f155-115">Use "General" if you will be deploying guest executables and containers.</span></span> <span data-ttu-id="2f155-116">Ogólnie rzecz biorąc tookeep "Aplikacja sieci web ASP.NET" toousing domyślne opcje Otwórz w przyszłości hello.</span><span class="sxs-lookup"><span data-stu-id="2f155-116">In general, default toousing "ASP.NET web application" tookeep your options open in hello future.</span></span> <span data-ttu-id="2f155-117">Nazwa Hello jest tooyour preferencji, a zarówno subskrypcji, jak i grupy zasobów hello są włączone po wdrożeniu hello zasobu.</span><span class="sxs-lookup"><span data-stu-id="2f155-117">hello name is up tooyour preference, and both hello resource group and subscription are changeable post-deployment of hello resource.</span></span> <span data-ttu-id="2f155-118">Zaleca się, że zasób AI znajduje się w hello tej samej grupie zasobów co klaster.</span><span class="sxs-lookup"><span data-stu-id="2f155-118">We recommend that your AI resource is in hello same resource group as your cluster.</span></span> <span data-ttu-id="2f155-119">Aby uzyskać więcej informacji, zobacz [utworzyć zasobu usługi Application Insights](../application-insights/app-insights-create-new-resource.md)</span><span class="sxs-lookup"><span data-stu-id="2f155-119">If you need more information, please see [Create an Application Insights resource](../application-insights/app-insights-create-new-resource.md)</span></span>

<span data-ttu-id="2f155-120">Należy tooconfigure klucza Instrumentacji AI hello AI narzędziem agregacji zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="2f155-120">You need hello AI Instrumentation Key tooconfigure AI with your event aggregation tool.</span></span> <span data-ttu-id="2f155-121">Po zasobu AI (zajmuje kilka minut po zweryfikowaniu jest wdrożenie hello), przejdź tooit i Znajdź hello **właściwości** sekcji na pasku nawigacyjnym po lewej stronie powitania.</span><span class="sxs-lookup"><span data-stu-id="2f155-121">Once your AI resource is set up (takes a few minutes after hello deployment is validated), navigate tooit and find hello **Properties** section on hello left navigation bar.</span></span> <span data-ttu-id="2f155-122">Zostanie otwarty nowy blok pokazujący *klucza INSTRUMENTACJI*.</span><span class="sxs-lookup"><span data-stu-id="2f155-122">A new blade will open up that shows an *INSTRUMENTATION KEY*.</span></span> <span data-ttu-id="2f155-123">Jeśli potrzebujesz toochange hello subskrypcji lub grupy zasobów zasobu hello mogą to robić tutaj również.</span><span class="sxs-lookup"><span data-stu-id="2f155-123">If you need toochange hello subscription or resource group of hello resource, it can be done here as well.</span></span>

### <a name="configuring-ai-with-wad"></a><span data-ttu-id="2f155-124">Konfigurowanie AI z WAD</span><span class="sxs-lookup"><span data-stu-id="2f155-124">Configuring AI with WAD</span></span>

<span data-ttu-id="2f155-125">Istnieją dwa podstawowe sposoby danych toosend z tooAzure WAD AI, co jest osiągane przez dodanie AI zbiornika toohello WAD konfiguracji, zgodnie z opisem w [w tym artykule](../monitoring-and-diagnostics/azure-diagnostics-configure-application-insights.md).</span><span class="sxs-lookup"><span data-stu-id="2f155-125">There are two primary ways toosend data from WAD tooAzure AI, which is achieved by adding an AI sink toohello WAD configuration, as detailed in [this article](../monitoring-and-diagnostics/azure-diagnostics-configure-application-insights.md).</span></span>

#### <a name="add-an-ai-instrumentation-key-when-creating-a-cluster-in-azure-portal"></a><span data-ttu-id="2f155-126">Dodaj klucz Instrumentacji AI, podczas tworzenia klastra w portalu Azure</span><span class="sxs-lookup"><span data-stu-id="2f155-126">Add an AI Instrumentation Key when creating a cluster in Azure portal</span></span>

![Dodawanie AIKey](media/service-fabric-diagnostics-event-analysis-appinsights/azure-enable-diagnostics.png)

<span data-ttu-id="2f155-128">Podczas tworzenia klastra, jeśli włączono diagnostyki "Włączone", wyświetli się tooenter pole opcjonalne klucza Instrumentacji wgląd w aplikacji.</span><span class="sxs-lookup"><span data-stu-id="2f155-128">When creating a cluster, if Diagnostics is turned "On", an optional field tooenter an Application Insights Instrumentation key will show.</span></span> <span data-ttu-id="2f155-129">Po wklejeniu Twojej IKey AI tutaj zbiornika hello AI zostanie automatycznie konfigurowane w szablonie usługi Resource Manager hello, który jest używany toodeploy klastra.</span><span class="sxs-lookup"><span data-stu-id="2f155-129">If you paste your AI IKey here, hello AI sink will be automatically configured for you in hello Resource Manager template that is used toodeploy your cluster.</span></span>

#### <a name="add-hello-ai-sink-toohello-resource-manager-template"></a><span data-ttu-id="2f155-130">Dodaj hello szablonu usługi Resource Manager toohello zbiornika AI</span><span class="sxs-lookup"><span data-stu-id="2f155-130">Add hello AI Sink toohello Resource Manager template</span></span>

<span data-ttu-id="2f155-131">W hello "WadCfg" hello szablonu usługi Resource Manager należy dodać "Sink" przy tym hello następujące dwie zmiany:</span><span class="sxs-lookup"><span data-stu-id="2f155-131">In hello "WadCfg" of hello Resource Manager template, add a "Sink" by including hello following two changes:</span></span>

1. <span data-ttu-id="2f155-132">Dodaj konfigurację zbiornika hello:</span><span class="sxs-lookup"><span data-stu-id="2f155-132">Add hello sink configuration:</span></span>

    ```json
    "SinksConfig": {
        "Sink": [
            {
                "name": "applicationInsights",
                "ApplicationInsights": "***ADD INSTRUMENTATION KEY HERE***"
            }
        ]
    }

    ```

2. <span data-ttu-id="2f155-133">Dołącz hello zbiornika hello DiagnosticMonitorConfiguration przez dodawanie powitania po wierszu w "DiagnosticMonitorConfiguration" hello "WadCfg":</span><span class="sxs-lookup"><span data-stu-id="2f155-133">Include hello Sink in hello DiagnosticMonitorConfiguration by adding hello following line in "DiagnosticMonitorConfiguration" of hello "WadCfg":</span></span>

    ```json
    "sinks": "applicationInsights"
    ```

<span data-ttu-id="2f155-134">W obu wstawki kodu hello powyżej hello nazwa "applicationInsights" była używane toodescribe hello ujścia.</span><span class="sxs-lookup"><span data-stu-id="2f155-134">In both hello code snippets above, hello name "applicationInsights" was used toodescribe hello sink.</span></span> <span data-ttu-id="2f155-135">Nie jest wymagane i tak długo, jak nazwa hello zbiornika hello jest dołączona do "sink", można ustawić ciąg tooany nazwy hello.</span><span class="sxs-lookup"><span data-stu-id="2f155-135">This is not a requirement and as long as hello name of hello sink is included in "sinks", you can set hello name tooany string.</span></span>

<span data-ttu-id="2f155-136">Obecnie dzienniki z hello klastra będzie wyświetlany jako dane śledzenia w przeglądarce dzienników AI firmy.</span><span class="sxs-lookup"><span data-stu-id="2f155-136">Currently, logs from hello cluster will show up as traces in AI's log viewer.</span></span> <span data-ttu-id="2f155-137">Ponieważ większość hello śladów pochodzących z hello platform jest poziom "Informacyjny", możesz również należy rozważyć zmianę hello zbiornika konfiguracji tooonly wysyłania dzienników typu "Krytyczne" lub "Error".</span><span class="sxs-lookup"><span data-stu-id="2f155-137">Since most of hello traces coming from hello platform are of level "Informational", you can also consider changing hello sink configuration tooonly send logs of type "Critical" or "Error".</span></span> <span data-ttu-id="2f155-138">Można to zrobić przez dodanie "węzła kanały" tooyour zbiornika, jak pokazano w [w tym artykule](../monitoring-and-diagnostics/azure-diagnostics-configure-application-insights.md).</span><span class="sxs-lookup"><span data-stu-id="2f155-138">This can be done by adding "Channels" tooyour sink, as demonstrated in [this article](../monitoring-and-diagnostics/azure-diagnostics-configure-application-insights.md).</span></span>

>[!NOTE]
><span data-ttu-id="2f155-139">Użycie niepoprawne IKey AI w portalu lub w szablonie usługi Resource Manager masz toomanually należy zmienić wartość klucza hello i zaktualizować klastra hello / Wdróż go ponownie.</span><span class="sxs-lookup"><span data-stu-id="2f155-139">If you use an incorrect AI IKey either in portal or in your Resource Manager template, you will have toomanually change hello key and update hello cluster / redeploy it.</span></span> 

### <a name="configuring-ai-with-eventflow"></a><span data-ttu-id="2f155-140">Konfigurowanie AI z EventFlow</span><span class="sxs-lookup"><span data-stu-id="2f155-140">Configuring AI with EventFlow</span></span>

<span data-ttu-id="2f155-141">Jeśli używasz EventFlow tooaggregate zdarzeń, upewnij się, że hello tooimport `Microsoft.Diagnostics.EventFlow.Output.ApplicationInsights`pakietu NuGet.</span><span class="sxs-lookup"><span data-stu-id="2f155-141">If you are using EventFlow tooaggregate events, make sure tooimport hello `Microsoft.Diagnostics.EventFlow.Output.ApplicationInsights`NuGet package.</span></span> <span data-ttu-id="2f155-142">Witaj następujące ma toobe objęte hello *generuje* sekcji hello *eventFlowConfig.json*:</span><span class="sxs-lookup"><span data-stu-id="2f155-142">hello following has toobe included in hello *outputs* section of hello *eventFlowConfig.json*:</span></span>

```json
"outputs": [
    {
        "type": "ApplicationInsights",
        // (replace hello following value with your AI resource's instrumentation key)
        "instrumentationKey": "00000000-0000-0000-0000-000000000000"
    }
]
```

<span data-ttu-id="2f155-143">Wprowadź zmiany wymagane hello toomake się, że w filtry, a także zawierać innych danych wejściowych (wraz z ich odpowiednich pakietów NuGet).</span><span class="sxs-lookup"><span data-stu-id="2f155-143">Make sure toomake hello required changes in your filters, as well as include any other inputs (along with their respective NuGet packages).</span></span>

## <a name="aisdk"></a><span data-ttu-id="2f155-144">AI. ZESTAW SDK</span><span class="sxs-lookup"><span data-stu-id="2f155-144">AI.SDK</span></span>

<span data-ttu-id="2f155-145">Ogólnie zaleca się toouse EventFlow i WAD jako rozwiązania agregacji, ponieważ pozwalają one na bardziej moduły toodiagnostics podejścia i monitorowania, tj. Jeśli chcesz toochange Twoje dane wyjściowe z EventFlow, nie wymaga żadnych rzeczywistych tooyour zmiany Instrumentacja, po prostu prostą modyfikację tooyour pliku.</span><span class="sxs-lookup"><span data-stu-id="2f155-145">It is generally recommended toouse EventFlow and WAD as aggregation solutions, because they allow for a more modular approach toodiagnostics and monitoring, i.e. if you want toochange your outputs from EventFlow, it requires no change tooyour actual instrumentation, just a simple modification tooyour config file.</span></span> <span data-ttu-id="2f155-146">Jeśli jednak zdecydować tooinvest za pomocą usługi Application Insights i nie są prawdopodobnie toochange tooa różnych platform, należy rozważyć w celu agregowania zdarzeń i wysyłania ich tooAI przy użyciu nowego zestawu SDK przez AI.</span><span class="sxs-lookup"><span data-stu-id="2f155-146">If, however, you decide tooinvest in using Application Insights and are not likely toochange tooa different platform, you should look into using AI's new SDK for aggregating events and sending them tooAI.</span></span> <span data-ttu-id="2f155-147">Oznacza to, nie będą mieć tooconfigure EventFlow toosend Twojego tooAI danych, ale zamiast tego zostanie zainstalowany pakiet NuGet usługi Service Fabric hello ApplicationInsight.</span><span class="sxs-lookup"><span data-stu-id="2f155-147">This means that you will no longer have tooconfigure EventFlow toosend your data tooAI, but instead will install hello ApplicationInsight's Service Fabric NuGet package.</span></span> <span data-ttu-id="2f155-148">Szczegółowe informacje dotyczące pakietów hello można znaleźć [tutaj](https://github.com/Microsoft/ApplicationInsights-ServiceFabric).</span><span class="sxs-lookup"><span data-stu-id="2f155-148">Details on hello package can be found [here](https://github.com/Microsoft/ApplicationInsights-ServiceFabric).</span></span>

<span data-ttu-id="2f155-149">[Obsługa usługi Application Insights Mikrousług i kontenery](https://azure.microsoft.com/app-insights-microservices/) przedstawiono niektóre hello nowe funkcje pracuje (nadal obecnie w wersji beta), co pozwala użytkownikowi toohave bardziej rozbudowane poza pole opcje monitorowania z AI.</span><span class="sxs-lookup"><span data-stu-id="2f155-149">[Application Insights support for Microservices and Containers](https://azure.microsoft.com/app-insights-microservices/) shows you some of hello new features that are being worked on (currently still in beta), which allow you toohave richer out-of-the-box monitoring options with AI.</span></span> <span data-ttu-id="2f155-150">Obejmują one śledzenia zależności (używanego podczas konstruowania AppMap wszystkich usług i aplikacji w klastrze i hello komunikację między nimi) oraz lepsze korelacji śladów pochodzących z usług (pomaga w lepiej trafić problemu w hello przepływ pracy aplikacji lub usługi).</span><span class="sxs-lookup"><span data-stu-id="2f155-150">These include dependency tracking (used in building an AppMap of all your services and applications in a cluster and hello communication between them), and better correlation of traces coming from your services (helps in better pinpointing an issue in hello workflow of an app or service).</span></span>

<span data-ttu-id="2f155-151">Jeśli opracowujesz w .NET i prawdopodobnie będzie używać niektórych modele programowania usługi Service Fabric, a są ujawniane toouse AI jako platformy wizualizacji i analizowanie danych zdarzeń i dzienników, wówczas zalecamy go za pośrednictwem hello trasy AI SDK jako monitorowanie i Diagnostyka przepływ pracy.</span><span class="sxs-lookup"><span data-stu-id="2f155-151">If you are developing in .NET and will likely be using some of Service Fabric's programming models, and are willing toouse AI as your platform for visualizing and analyzing event and log data, then we recommend that you go via hello AI SDK route as your monitoring and diagnostics workflow.</span></span> <span data-ttu-id="2f155-152">Odczyt [to](../application-insights/app-insights-asp-net-more.md) i [to](../application-insights/app-insights-asp-net-trace-logs.md) tooget korzystanie z zapleczy AI toocollect i wyświetlenia dzienników.</span><span class="sxs-lookup"><span data-stu-id="2f155-152">Read [this](../application-insights/app-insights-asp-net-more.md) and [this](../application-insights/app-insights-asp-net-trace-logs.md) tooget started with using AI toocollect and display your logs.</span></span>

## <a name="navigating-hello-ai-resource-in-azure-portal"></a><span data-ttu-id="2f155-153">Nawigowanie po hello AI zasobów w portalu Azure</span><span class="sxs-lookup"><span data-stu-id="2f155-153">Navigating hello AI resource in Azure portal</span></span>

<span data-ttu-id="2f155-154">AI skonfigurowane jako dane wyjściowe dla zdarzeń i dzienniki informacji należy uruchomić tooshow w zasobie AI za kilka minut.</span><span class="sxs-lookup"><span data-stu-id="2f155-154">Once you have configured AI as an output for your events and logs, information should start tooshow up in your AI resource in a few minutes.</span></span> <span data-ttu-id="2f155-155">Przejdź toohello AI zasobu, który będzie miał użytkownik toohello AI pulpitu nawigacyjnego zasobów.</span><span class="sxs-lookup"><span data-stu-id="2f155-155">Navigate toohello AI resource, which will take you toohello AI resource dashboard.</span></span> <span data-ttu-id="2f155-156">Kliknij przycisk **wyszukiwania** hello AI zadań toosee hello najnowsze śledzenia o odebraniu i stanie toofilter toobe za ich pośrednictwem.</span><span class="sxs-lookup"><span data-stu-id="2f155-156">Click **Search** in hello AI taskbar toosee hello latest traces that it has received, and toobe able toofilter through them.</span></span>

<span data-ttu-id="2f155-157">*Eksploratora metryk* stanowi przydatne narzędzie do tworzenia niestandardowych pulpitów nawigacyjnych w oparciu metryki aplikacji, usług i klaster mogą raportowania.</span><span class="sxs-lookup"><span data-stu-id="2f155-157">*Metrics Explorer* is a useful tool for creating custom dashboards based on metrics that your applications, services, and cluster may be reporting.</span></span> <span data-ttu-id="2f155-158">Zobacz [metryki Eksplorowanie w usłudze Application Insights](../application-insights/app-insights-metrics-explorer.md) tooset się kilka wykresów dla siebie na podstawie hello danych są zbierane.</span><span class="sxs-lookup"><span data-stu-id="2f155-158">See [Exploring Metrics in Application Insights](../application-insights/app-insights-metrics-explorer.md) tooset up a few charts for yourself based on hello data you are collecting.</span></span>

<span data-ttu-id="2f155-159">Kliknięcie przycisku **Analytics** spowoduje przejście portalu Application Insights Analytics toohello, gdzie można zbadać zdarzenia i dane śledzenia z większą zakresu i opcjonalność.</span><span class="sxs-lookup"><span data-stu-id="2f155-159">Clicking **Analytics** will take you toohello Application Insights Analytics portal, where you can query events and traces with greater scope and optionality.</span></span> <span data-ttu-id="2f155-160">Dowiedz się więcej o tym w [analizy w usłudze Application Insights](../application-insights/app-insights-analytics.md).</span><span class="sxs-lookup"><span data-stu-id="2f155-160">Read more about this at [Analytics in Application Insights](../application-insights/app-insights-analytics.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="2f155-161">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="2f155-161">Next steps</span></span>

* <span data-ttu-id="2f155-162">[Konfigurowanie alertów w AI](../application-insights/app-insights-alerts.md) toobe otrzymywać powiadomienia o zmianach w wydajności i użycia</span><span class="sxs-lookup"><span data-stu-id="2f155-162">[Set up Alerts in AI](../application-insights/app-insights-alerts.md) toobe notified about changes in performance or usage</span></span>
* <span data-ttu-id="2f155-163">[Inteligentne wykrywania w usłudze Application Insights](../application-insights/app-insights-proactive-diagnostics.md) wykonuje aktywnego analizy telemetrii hello wysyłane tooAI toowarn o potencjalnych problemach z wydajnością</span><span class="sxs-lookup"><span data-stu-id="2f155-163">[Smart Detection in Application Insights](../application-insights/app-insights-proactive-diagnostics.md) performs a proactive analysis of hello telemetry being sent tooAI toowarn you of potential performance problems</span></span>
