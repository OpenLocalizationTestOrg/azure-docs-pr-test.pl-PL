---
title: "aaaResource architektury Menedżera | Dokumentacja firmy Microsoft"
description: "Przegląd architektury programu usługi sieć szkieletowa klastra Menedżera zasobów."
services: service-fabric
documentationcenter: .net
author: masnider
manager: timlt
editor: 
ms.assetid: 6c4421f9-834b-450c-939f-1cb4ff456b9b
ms.service: Service-Fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 08/18/2017
ms.author: masnider
ms.openlocfilehash: 9ea80273d0566a2ac25143ada3662875656b57b8
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="cluster-resource-manager-architecture-overview"></a><span data-ttu-id="409a6-103">Przegląd architektury Menedżera zasobów klastra</span><span class="sxs-lookup"><span data-stu-id="409a6-103">Cluster resource manager architecture overview</span></span>
<span data-ttu-id="409a6-104">Hello zasobu klastra sieci szkieletowej programu Service Manager jest usługą centralnej, która działa w klastrze hello.</span><span class="sxs-lookup"><span data-stu-id="409a6-104">hello Service Fabric Cluster Resource Manager is a central service that runs in hello cluster.</span></span> <span data-ttu-id="409a6-105">Zarządza hello żądany stan usług hello w klastrze hello, zwłaszcza w przypadku względem tooresource konsumenckich i wszystkie reguły umieszczania.</span><span class="sxs-lookup"><span data-stu-id="409a6-105">It manages hello desired state of hello services in hello cluster, particularly with respect tooresource consumption and any placement rules.</span></span> 

<span data-ttu-id="409a6-106">toomanage hello zasobów w klastrze, hello Menedżera zasobów klastra sieci szkieletowej usług wymaga kilku informacji:</span><span class="sxs-lookup"><span data-stu-id="409a6-106">toomanage hello resources in your cluster, hello Service Fabric Cluster Resource Manager must have several pieces of information:</span></span>

- <span data-ttu-id="409a6-107">Usługi, które obecnie istnieje.</span><span class="sxs-lookup"><span data-stu-id="409a6-107">Which services currently exist</span></span>
- <span data-ttu-id="409a6-108">Każda usługa bieżącej (lub domyślna) zużycie zasobów</span><span class="sxs-lookup"><span data-stu-id="409a6-108">Each service's current (or default) resource consumption</span></span> 
- <span data-ttu-id="409a6-109">Witaj pozostałe zasoby klastra</span><span class="sxs-lookup"><span data-stu-id="409a6-109">hello remaining cluster capacity</span></span> 
- <span data-ttu-id="409a6-110">pojemność Hello hello węzłów w klastrze hello</span><span class="sxs-lookup"><span data-stu-id="409a6-110">hello capacity of hello nodes in hello cluster</span></span> 
- <span data-ttu-id="409a6-111">Witaj ilość zasobów używanych w każdym węźle</span><span class="sxs-lookup"><span data-stu-id="409a6-111">hello amount of resources consumed on each node</span></span>

<span data-ttu-id="409a6-112">zużycie zasobów Hello danej usługi mogą ulec zmianie, a usługi zazwyczaj się o więcej niż jednego typu zasobu.</span><span class="sxs-lookup"><span data-stu-id="409a6-112">hello resource consumption of a given service can change over time, and services usually care about more than one type of resource.</span></span> <span data-ttu-id="409a6-113">W różnych usługach może być rzeczywistym fizyczne i fizyczne zasoby mierzony.</span><span class="sxs-lookup"><span data-stu-id="409a6-113">Across different services, there may be both real physical and physical resources being measured.</span></span> <span data-ttu-id="409a6-114">Usługi mogą śledzić metryki fizycznych, takich jak użycie pamięci i dysku.</span><span class="sxs-lookup"><span data-stu-id="409a6-114">Services may track physical metrics like memory and disk consumption.</span></span> <span data-ttu-id="409a6-115">Zazwyczaj usług mogą interesujących logicznej metryki - np. "WorkQueueDepth" lub "TotalRequests".</span><span class="sxs-lookup"><span data-stu-id="409a6-115">More commonly, services may care about logical metrics - things like "WorkQueueDepth" or "TotalRequests".</span></span> <span data-ttu-id="409a6-116">Metryki zarówno logicznych, jak i fizycznych mogą być używane w hello tego samego klastra.</span><span class="sxs-lookup"><span data-stu-id="409a6-116">Both logical and physical metrics can be used in hello same cluster.</span></span> <span data-ttu-id="409a6-117">Metryki mogą być współużytkowane przez wiele usług lub być określonych tooa określonej usługi.</span><span class="sxs-lookup"><span data-stu-id="409a6-117">Metrics can be shared across many services or be specific tooa particular service.</span></span>

## <a name="other-considerations"></a><span data-ttu-id="409a6-118">Inne zagadnienia</span><span class="sxs-lookup"><span data-stu-id="409a6-118">Other considerations</span></span>
<span data-ttu-id="409a6-119">Witaj właścicieli i operatory hello klastra może się różnić od hello autorów usług i aplikacji lub w są minimalne hello sam sobie Kapelusze innej osoby.</span><span class="sxs-lookup"><span data-stu-id="409a6-119">hello owners and operators of hello cluster can be different from hello service and application authors, or at a minimum are hello same people wearing different hats.</span></span> <span data-ttu-id="409a6-120">Podczas opracowywania aplikacji znasz kilka rzeczy, o co wymaga.</span><span class="sxs-lookup"><span data-stu-id="409a6-120">When you develop your application you know a few things about what it requires.</span></span> <span data-ttu-id="409a6-121">Jest to wartość szacowana z hello różnych usług i zasobów, które będą korzystać z jego powinny zostać wdrożone.</span><span class="sxs-lookup"><span data-stu-id="409a6-121">You have an estimate of hello resources it will consume and how different services should be deployed.</span></span> <span data-ttu-id="409a6-122">Na przykład warstwa sieci web hello musi toorun na toohello węzłów widoczne Internet, podczas hello bazy danych usługi nie powinny.</span><span class="sxs-lookup"><span data-stu-id="409a6-122">For example, hello web tier needs toorun on nodes exposed toohello Internet, while hello database services should not.</span></span> <span data-ttu-id="409a6-123">Inny przykład usługi sieci web hello prawdopodobnie są ograniczone przez procesor CPU i sieci, podczas hello danych warstwy usługi opieki więcej informacji na temat zużycia pamięci i dysku.</span><span class="sxs-lookup"><span data-stu-id="409a6-123">As another example, hello web services are probably constrained by CPU and network, while hello data tier services care more about memory and disk consumption.</span></span> <span data-ttu-id="409a6-124">Jednak osoba hello obsługi zdarzenia na żywo lokacji, dla tej usługi w środowisku produkcyjnym lub który zarządza usługi uaktualniania toohello ma toodo różne zadania i wymaga różnych narzędzi.</span><span class="sxs-lookup"><span data-stu-id="409a6-124">However, hello person handling a live-site incident for that service in production, or who is managing an upgrade toohello service has a different job toodo, and requires different tools.</span></span> 

<span data-ttu-id="409a6-125">Zarówno hello klastra, jak i usługi są dynamiczne:</span><span class="sxs-lookup"><span data-stu-id="409a6-125">Both hello cluster and services are dynamic:</span></span>

- <span data-ttu-id="409a6-126">Hello liczby węzłów w klastrze hello można zwiększyć lub zmniejszyć</span><span class="sxs-lookup"><span data-stu-id="409a6-126">hello number of nodes in hello cluster can grow and shrink</span></span>
- <span data-ttu-id="409a6-127">Węzły o różnych rozmiarach i typy mogą pochodzić i przejść</span><span class="sxs-lookup"><span data-stu-id="409a6-127">Nodes of different sizes and types can come and go</span></span>
- <span data-ttu-id="409a6-128">Usługi można utworzyć, usunąć i zmiany ich zasobem alokacji i reguły umieszczania</span><span class="sxs-lookup"><span data-stu-id="409a6-128">Services can be created, removed, and change their desired resource allocations and placement rules</span></span>
- <span data-ttu-id="409a6-129">Uaktualnienia lub innych operacji zarządzania można przywracać za pomocą klastra hello aplikacji hello na poziomach infrastruktury</span><span class="sxs-lookup"><span data-stu-id="409a6-129">Upgrades or other management operations can roll through hello cluster at hello application on infrastructure levels</span></span>
- <span data-ttu-id="409a6-130">Błędy możliwe, w dowolnym momencie.</span><span class="sxs-lookup"><span data-stu-id="409a6-130">Failures can happen at any time.</span></span>

## <a name="cluster-resource-manager-components-and-data-flow"></a><span data-ttu-id="409a6-131">Składniki Menedżera zasobów klastra i przepływu danych</span><span class="sxs-lookup"><span data-stu-id="409a6-131">Cluster resource manager components and data flow</span></span>
<span data-ttu-id="409a6-132">Witaj Menedżera zasobów klastra ma wymagania hello tootrack poszczególnych usług i hello zużycia zasobów przez każdy z obiektów usługi w tych usług.</span><span class="sxs-lookup"><span data-stu-id="409a6-132">hello Cluster Resource Manager has tootrack hello requirements of each service and hello consumption of resources by each service object within those services.</span></span> <span data-ttu-id="409a6-133">Hello Menedżera zasobów klastra ma dwie części koncepcyjnego: agentów uruchomionych na każdym węźle i usługą odpornej na uszkodzenia.</span><span class="sxs-lookup"><span data-stu-id="409a6-133">hello Cluster Resource Manager has two conceptual parts: agents that run on each node and a fault-tolerant service.</span></span> <span data-ttu-id="409a6-134">agenci Hello na każdy węzeł Śledź obciążenia raporty z usług, łączny je i okresowo Raportuj je.</span><span class="sxs-lookup"><span data-stu-id="409a6-134">hello agents on each node track load reports from services, aggregate them, and periodically report them.</span></span> <span data-ttu-id="409a6-135">Hello usługi Menedżer zasobów klastra agreguje wszystkie informacje hello czynnikami lokalne powitania i reaguje w zależności od bieżącej konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="409a6-135">hello Cluster Resource Manager service aggregates all hello information from hello local agents and reacts based on its current configuration.</span></span>

<span data-ttu-id="409a6-136">Przyjrzyjmy się powitania po diagramu:</span><span class="sxs-lookup"><span data-stu-id="409a6-136">Let’s look at hello following diagram:</span></span>

<span data-ttu-id="409a6-137"><center>
![Architektura usługi równoważenia zasobów][Image1]
</center></span><span class="sxs-lookup"><span data-stu-id="409a6-137"><center>
![Resource Balancer Architecture][Image1]
</center></span></span>

<span data-ttu-id="409a6-138">W czasie wykonywania istnieje wiele zmian, które mogą wystąpić.</span><span class="sxs-lookup"><span data-stu-id="409a6-138">During runtime, there are many changes that could happen.</span></span> <span data-ttu-id="409a6-139">Na przykład, załóżmy, że ilość hello zasobów niektóre usługi zużywają zmiany, niektórych usług kończyć się niepowodzeniem i niektóre węzły join i pozostawić hello klastra.</span><span class="sxs-lookup"><span data-stu-id="409a6-139">For example, let’s say hello amount of resources some services consume changes, some services fail, and some nodes join and leave hello cluster.</span></span> <span data-ttu-id="409a6-140">Wszystkie zmiany hello w węźle są agregowane i okresowo wysyłane toohello Menedżera zasobów klastra usługi (1,2) gdzie są agregowane ponownie, analizy i przechowywane.</span><span class="sxs-lookup"><span data-stu-id="409a6-140">All hello changes on a node are aggregated and periodically sent toohello Cluster Resource Manager service (1,2) where they are aggregated again, analyzed, and stored.</span></span> <span data-ttu-id="409a6-141">Co kilka sekund, które usługa sprawdza zmiany hello i określa, czy wszystkie akcje są niezbędne (3).</span><span class="sxs-lookup"><span data-stu-id="409a6-141">Every few seconds that service looks at hello changes and determines if any actions are necessary (3).</span></span> <span data-ttu-id="409a6-142">Na przykład można zauważyć, że niektóre węzły pusty dodano toohello klastra.</span><span class="sxs-lookup"><span data-stu-id="409a6-142">For example, it could notice that some empty nodes have been added toohello cluster.</span></span> <span data-ttu-id="409a6-143">W związku z tym zdecyduje toomove niektóre węzły toothose usług.</span><span class="sxs-lookup"><span data-stu-id="409a6-143">As a result, it decides toomove some services toothose nodes.</span></span> <span data-ttu-id="409a6-144">Hello Menedżera zasobów klastra można również Zwróć uwagę, czy określony węzeł jest przeciążony lub że pewnych usług ma nie powiodło się lub zostało usunięte, zwolnić zasoby w innym miejscu.</span><span class="sxs-lookup"><span data-stu-id="409a6-144">hello Cluster Resource Manager could also notice that a particular node is overloaded, or that certain services have failed or been deleted, freeing up resources elsewhere.</span></span>

<span data-ttu-id="409a6-145">Załóżmy Spójrz na powitania po diagram i zobacz, co dalej.</span><span class="sxs-lookup"><span data-stu-id="409a6-145">Let’s look at hello following diagram and see what happens next.</span></span> <span data-ttu-id="409a6-146">Załóżmy powiedz tego hello Menedżera zasobów klastra Określa, czy konieczne jest wprowadzenie zmian.</span><span class="sxs-lookup"><span data-stu-id="409a6-146">Let’s say that hello Cluster Resource Manager determines that changes are necessary.</span></span> <span data-ttu-id="409a6-147">Współrzędne go z innych usług (w szczególności hello menedżera trybu Failover) toomake hello niezbędne zmiany w systemie.</span><span class="sxs-lookup"><span data-stu-id="409a6-147">It coordinates with other system services (in particular hello Failover Manager) toomake hello necessary changes.</span></span> <span data-ttu-id="409a6-148">Następnie hello niezbędne polecenia są wysyłane toohello odpowiednich węzłów (4).</span><span class="sxs-lookup"><span data-stu-id="409a6-148">Then hello necessary commands are sent toohello appropriate nodes (4).</span></span> <span data-ttu-id="409a6-149">Na przykład załóżmy, że powitalne Resource Manager zauważyć, że Węzeł5 przeciążony i sie toomove usługi B z tooNode4 Węzeł5.</span><span class="sxs-lookup"><span data-stu-id="409a6-149">For example, let's say hello Resource Manager noticed that Node5 was overloaded, and so decided toomove service B from Node5 tooNode4.</span></span> <span data-ttu-id="409a6-150">Na końcu hello hello ponownej konfiguracji (5) hello klastra wygląda następująco:</span><span class="sxs-lookup"><span data-stu-id="409a6-150">At hello end of hello reconfiguration (5), hello cluster looks like this:</span></span>

<span data-ttu-id="409a6-151"><center>
![Architektura usługi równoważenia zasobów][Image2]
</center></span><span class="sxs-lookup"><span data-stu-id="409a6-151"><center>
![Resource Balancer Architecture][Image2]
</center></span></span>

## <a name="next-steps"></a><span data-ttu-id="409a6-152">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="409a6-152">Next steps</span></span>
- <span data-ttu-id="409a6-153">Witaj Menedżera zasobów klastra ma wiele opcji opisujące hello klastra.</span><span class="sxs-lookup"><span data-stu-id="409a6-153">hello Cluster Resource Manager has many options for describing hello cluster.</span></span> <span data-ttu-id="409a6-154">toofind się więcej na ich temat, zapoznaj się w tym artykule na [opisujące klastra sieci szkieletowej usług](./service-fabric-cluster-resource-manager-cluster-description.md)</span><span class="sxs-lookup"><span data-stu-id="409a6-154">toofind out more about them, check out this article on [describing a Service Fabric cluster](./service-fabric-cluster-resource-manager-cluster-description.md)</span></span>
- <span data-ttu-id="409a6-155">Menedżer Hello klastra zasobu podstawowego obowiązki są ponowne równoważenie hello klastra i wymuszanie reguły umieszczania.</span><span class="sxs-lookup"><span data-stu-id="409a6-155">hello Cluster Resource Manager's primary duties are rebalancing hello cluster and enforcing placement rules.</span></span> <span data-ttu-id="409a6-156">Aby uzyskać więcej informacji na temat konfigurowania te zachowania, zobacz [równoważenia klastra sieci szkieletowej usług](./service-fabric-cluster-resource-manager-balancing.md)</span><span class="sxs-lookup"><span data-stu-id="409a6-156">For more information on configuring these behaviors, see [balancing your Service Fabric cluster](./service-fabric-cluster-resource-manager-balancing.md)</span></span>

[Image1]:./media/service-fabric-cluster-resource-manager-architecture/Service-Fabric-Resource-Manager-Architecture-Activity-1.png
[Image2]:./media/service-fabric-cluster-resource-manager-architecture/Service-Fabric-Resource-Manager-Architecture-Activity-2.png
