---
title: "aaaDebug mikrousług Azure w systemie Windows | Dokumentacja firmy Microsoft"
description: "Dowiedz się, jak toomonitor i diagnozowania usług napisane przy użyciu usługi sieć szkieletowa usług Microsoft Azure na maszynie lokalnej."
services: service-fabric
documentationcenter: .net
author: dkkapur
manager: timlt
editor: 
ms.assetid: edcc0631-ed2d-45a3-851d-2c4fa0f4a326
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 04/24/2017
ms.author: dekapur
ms.openlocfilehash: 24868aa194b8a28fa3e6de95c1de5506d912a544
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="monitor-and-diagnose-services-in-a-local-machine-development-setup"></a><span data-ttu-id="7404c-103">Monitorowanie i diagnozowanie usług w Instalatorze programowanie komputera lokalnego</span><span class="sxs-lookup"><span data-stu-id="7404c-103">Monitor and diagnose services in a local machine development setup</span></span>
> [!div class="op_single_selector"]
> * [<span data-ttu-id="7404c-104">Windows</span><span class="sxs-lookup"><span data-stu-id="7404c-104">Windows</span></span>](service-fabric-diagnostics-how-to-monitor-and-diagnose-services-locally.md)
> * [<span data-ttu-id="7404c-105">Linux</span><span class="sxs-lookup"><span data-stu-id="7404c-105">Linux</span></span>](service-fabric-diagnostics-how-to-monitor-and-diagnose-services-locally-linux.md)
> 
> 

<span data-ttu-id="7404c-106">Monitorowanie, wykrywanie, diagnozowanie i rozwiązywanie problemów z umożliwiają toocontinue usług z minimalnym przerw w działaniu toohello użytkowników.</span><span class="sxs-lookup"><span data-stu-id="7404c-106">Monitoring, detecting, diagnosing, and troubleshooting allow for services toocontinue with minimal disruption toohello user experience.</span></span> <span data-ttu-id="7404c-107">Podczas monitorowania i diagnostyki są szczególnie ważne w środowisku produkcyjnym wdrożony rzeczywisty, hello wydajność będzie zależeć od przyjęcia podobne modelu podczas tworzenia usługi tooensure, działają podczas przenoszenia instalacji rzeczywistych tooa.</span><span class="sxs-lookup"><span data-stu-id="7404c-107">While monitoring and diagnostics are critical in an actual deployed production environment, hello efficiency will depend on adopting a similar model during development of services tooensure they work when you move tooa real-world setup.</span></span> <span data-ttu-id="7404c-108">Sieć szkieletowa usług ułatwia diagnostyki tooimplement deweloperów usługi może bezproblemowo współpracować na konfiguracje pojedynczego komputera lokalnego rozwoju i w konfiguracji klastra produkcyjnego rzeczywistych.</span><span class="sxs-lookup"><span data-stu-id="7404c-108">Service Fabric makes it easy for service developers tooimplement diagnostics that can seamlessly work across both single-machine local development setups and real-world production cluster setups.</span></span>

## <a name="event-tracing-for-windows"></a><span data-ttu-id="7404c-109">Śledzenie zdarzeń systemu Windows</span><span class="sxs-lookup"><span data-stu-id="7404c-109">Event Tracing for Windows</span></span>
<span data-ttu-id="7404c-110">[Śledzenie zdarzeń systemu Windows](https://msdn.microsoft.com/library/windows/desktop/bb968803.aspx) (ETW) jest hello zalecane technologii śledzenie wiadomości w sieci szkieletowej usług.</span><span class="sxs-lookup"><span data-stu-id="7404c-110">[Event Tracing for Windows](https://msdn.microsoft.com/library/windows/desktop/bb968803.aspx) (ETW) is hello recommended technology for tracing messages in Service Fabric.</span></span> <span data-ttu-id="7404c-111">Niektóre zalety używania funkcji ETW są:</span><span class="sxs-lookup"><span data-stu-id="7404c-111">Some benefits of using ETW are:</span></span>

* <span data-ttu-id="7404c-112">**ETW jest szybkie.**</span><span class="sxs-lookup"><span data-stu-id="7404c-112">**ETW is fast.**</span></span> <span data-ttu-id="7404c-113">Został skonstruowany jako technologia śledzenia, która ma minimalny wpływ na czas wykonywania kodu.</span><span class="sxs-lookup"><span data-stu-id="7404c-113">It was built as a tracing technology that has minimal impact on code execution times.</span></span>
* <span data-ttu-id="7404c-114">**Śledzenie zdarzeń systemu Windows współdziała między środowisk deweloperskich lokalne, a także konfiguracje klastra rzeczywistych.**</span><span class="sxs-lookup"><span data-stu-id="7404c-114">**ETW tracing works seamlessly across local development environments and also real-world cluster setups.**</span></span> <span data-ttu-id="7404c-115">Oznacza to, że nie masz toorewrite Twojego śledzenia kodu po osiągnięciu gotowości toodeploy klastra rzeczywistych tooa kodu.</span><span class="sxs-lookup"><span data-stu-id="7404c-115">This  means you don't have toorewrite your tracing code when you are ready toodeploy your code tooa real cluster.</span></span>
* <span data-ttu-id="7404c-116">**Kod systemu sieci szkieletowej usług używa również ETW śledzenia wewnętrznego.**</span><span class="sxs-lookup"><span data-stu-id="7404c-116">**Service Fabric system code also uses ETW for internal tracing.**</span></span> <span data-ttu-id="7404c-117">Dzięki temu tooview przeplatana śladów aplikacji z usługi sieć szkieletowa systemu śledzenia.</span><span class="sxs-lookup"><span data-stu-id="7404c-117">This allows you tooview your application traces interleaved with Service Fabric system traces.</span></span> <span data-ttu-id="7404c-118">Pomaga również toomore łatwo zrozumieć hello sekwencji i wzajemne relacje między kodem aplikacji i zdarzeń w podstawowym systemie hello.</span><span class="sxs-lookup"><span data-stu-id="7404c-118">It also helps you toomore easily understand hello sequences and interrelationships between your application code and events in hello underlying system.</span></span>
* <span data-ttu-id="7404c-119">**Zdarzenia ETW tooview jest wbudowana obsługa w narzędzia Service Fabric Visual Studio.**</span><span class="sxs-lookup"><span data-stu-id="7404c-119">**There is built-in support in Service Fabric Visual Studio tools tooview ETW events.**</span></span> <span data-ttu-id="7404c-120">Zdarzenia ETW są wyświetlane w hello widoku zdarzeń diagnostycznych programu Visual Studio po Visual Studio jest poprawnie skonfigurowane z sieci szkieletowej usług.</span><span class="sxs-lookup"><span data-stu-id="7404c-120">ETW events appear in hello Diagnostic Events view of Visual Studio once Visual Studio is correctly configured with Service Fabric.</span></span> 

## <a name="view-service-fabric-system-events-in-visual-studio"></a><span data-ttu-id="7404c-121">Wyświetl zdarzenia systemowe platformy Service Fabric w programie Visual Studio</span><span class="sxs-lookup"><span data-stu-id="7404c-121">View Service Fabric system events in Visual Studio</span></span>
<span data-ttu-id="7404c-122">Sieć szkieletowa usług emituje deweloperzy aplikacji toohelp zorientować się w platformę hello zdarzenia ETW.</span><span class="sxs-lookup"><span data-stu-id="7404c-122">Service Fabric emits ETW events toohelp application developers understand what's happening in hello platform.</span></span> <span data-ttu-id="7404c-123">Jeśli jeszcze tego nie zrobiono, przejdź dalej i wykonaj kroki hello w [tworzenie pierwszej aplikacji w programie Visual Studio](service-fabric-create-your-first-application-in-visual-studio.md).</span><span class="sxs-lookup"><span data-stu-id="7404c-123">If you haven't already done so, go ahead and follow hello steps in [Creating your first application in Visual Studio](service-fabric-create-your-first-application-in-visual-studio.md).</span></span> <span data-ttu-id="7404c-124">Informacje te pomogą uzyskać z aplikacji działa z hello przedstawiający hello komunikatów śledzenia w Podglądzie zdarzeń diagnostycznych.</span><span class="sxs-lookup"><span data-stu-id="7404c-124">This information will help you get an application up and running with hello Diagnostics Events Viewer showing hello trace messages.</span></span>

1. <span data-ttu-id="7404c-125">W przypadku diagnostyki hello okna zdarzeń nie są automatycznie wyświetlane, toohello **widoku** w programie Visual Studio, wybierz pozycję **inne okna** , a następnie **podglądu zdarzeń diagnostycznych**.</span><span class="sxs-lookup"><span data-stu-id="7404c-125">If hello diagnostics events window does not automatically show, Go toohello **View** tab in Visual Studio, choose **Other Windows** and then **Diagnostic Events Viewer**.</span></span>
2. <span data-ttu-id="7404c-126">Każde zdarzenie zawiera informacje standardowe metadanych, które informuje, że pochodzą ze zdarzeń hello hello węzła, aplikacji i usług.</span><span class="sxs-lookup"><span data-stu-id="7404c-126">Each event has standard metadata information that tells you hello node, application and service hello event is coming from.</span></span> <span data-ttu-id="7404c-127">Można również filtrować hello listę zdarzeń za pomocą hello **filtrować zdarzenia** pole u góry okna zdarzeń hello hello.</span><span class="sxs-lookup"><span data-stu-id="7404c-127">You can also filter hello list of events by using hello **Filter events** box at hello top of hello events window.</span></span> <span data-ttu-id="7404c-128">Na przykład można filtrować na **nazwa węzła** lub **nazwy usługi.**</span><span class="sxs-lookup"><span data-stu-id="7404c-128">For example, you can filter on **Node Name** or **Service Name.**</span></span> <span data-ttu-id="7404c-129">I podczas przeglądania szczegóły zdarzenia, można również wstrzymać przy użyciu hello **wstrzymać** znajdujący się u góry okna zdarzeń hello hello i wznowić później, bez utraty zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="7404c-129">And when you're looking at event details, you can also pause by using hello **Pause** button at hello top of hello events window and resume later without any loss of events.</span></span>
   
   ![W Podglądzie zdarzeń diagnostycznych programu Visual Studio](./media/service-fabric-diagnostics-how-to-monitor-and-diagnose-services-locally/DiagEventsExamples2.png)

## <a name="add-your-own-custom-traces-toohello-application-code"></a><span data-ttu-id="7404c-131">Dodaj kod aplikacji toohello własne niestandardowe dane śledzenia</span><span class="sxs-lookup"><span data-stu-id="7404c-131">Add your own custom traces toohello application code</span></span>
<span data-ttu-id="7404c-132">Szablony projektu Visual Studio sieci szkieletowej usług Hello zawiera przykładowy kod.</span><span class="sxs-lookup"><span data-stu-id="7404c-132">hello Service Fabric Visual Studio project templates contain sample code.</span></span> <span data-ttu-id="7404c-133">Witaj kod przedstawia, jak kod aplikacji niestandardowej tooadd ETW śledzi przedstawiające się w podglądzie programu Visual Studio ETW hello obok śledzenia systemu z sieci szkieletowej usług.</span><span class="sxs-lookup"><span data-stu-id="7404c-133">hello code shows how tooadd custom application code ETW traces that show up in hello Visual Studio ETW viewer alongside system traces from Service Fabric.</span></span> <span data-ttu-id="7404c-134">Witaj zaletą tej metody jest metadanych jest automatycznie dodawany tootraces, czy hello Visual Studio diagnostycznych Podgląd zdarzeń jest już skonfigurowana toodisplay je.</span><span class="sxs-lookup"><span data-stu-id="7404c-134">hello advantage of this method is that metadata is automatically added tootraces, and hello Visual Studio Diagnostic Events Viewer is already configured toodisplay them.</span></span>

<span data-ttu-id="7404c-135">Dla projektów utworzone na podstawie hello **szablony usługi** (bezstanowych lub stateful) po prostu wyszukaj hello `RunAsync` implementacji:</span><span class="sxs-lookup"><span data-stu-id="7404c-135">For projects created from hello **service templates** (stateless or stateful) just search for hello `RunAsync` implementation:</span></span>

1. <span data-ttu-id="7404c-136">Witaj wywołanie za`ServiceEventSource.Current.ServiceMessage` w hello `RunAsync` metody przedstawiono przykład niestandardowych śledzenia funkcji ETW z kodu aplikacji hello.</span><span class="sxs-lookup"><span data-stu-id="7404c-136">hello call too`ServiceEventSource.Current.ServiceMessage` in hello `RunAsync` method shows an example of a custom ETW trace from hello application code.</span></span>
2. <span data-ttu-id="7404c-137">W hello **ServiceEventSource.cs** plików, można znaleźć przeciążenia dla hello `ServiceEventSource.ServiceMessage` metody, które mają być używane dla zdarzeń o dużej częstotliwości powodu tooperformance powodów.</span><span class="sxs-lookup"><span data-stu-id="7404c-137">In hello **ServiceEventSource.cs** file, you will find an overload for hello `ServiceEventSource.ServiceMessage` method that should be used for high-frequency events due tooperformance reasons.</span></span>

<span data-ttu-id="7404c-138">Dla projektów utworzone na podstawie hello **szablony aktora** (bezstanowych lub stateful):</span><span class="sxs-lookup"><span data-stu-id="7404c-138">For projects created from hello **actor templates** (stateless or stateful):</span></span>

1. <span data-ttu-id="7404c-139">Otwórz hello **.cs "ProjectName"** pliku where *ProjectName* jest nazwą hello wybrany dla projektu programu Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="7404c-139">Open hello **"ProjectName".cs** file where *ProjectName* is hello name you chose for your Visual Studio project.</span></span>  
2. <span data-ttu-id="7404c-140">Znajdź kod hello `ActorEventSource.Current.ActorMessage(this, "Doing Work");` w hello *DoWorkAsync* metody.</span><span class="sxs-lookup"><span data-stu-id="7404c-140">Find hello code `ActorEventSource.Current.ActorMessage(this, "Doing Work");` in hello *DoWorkAsync* method.</span></span>  <span data-ttu-id="7404c-141">To jest przykład niestandardowych śledzenia funkcji ETW z kodu aplikacji.</span><span class="sxs-lookup"><span data-stu-id="7404c-141">This is an example of a custom ETW trace written from application code.</span></span>  
3. <span data-ttu-id="7404c-142">W pliku **ActorEventSource.cs**, znajdują się przeciążenia hello `ActorEventSource.ActorMessage` metody, które mają być używane dla zdarzeń o dużej częstotliwości powodu tooperformance powodów.</span><span class="sxs-lookup"><span data-stu-id="7404c-142">In file **ActorEventSource.cs**, you will find an overload for hello `ActorEventSource.ActorMessage` method that should be used for high-frequency events due tooperformance reasons.</span></span>

<span data-ttu-id="7404c-143">Po dodaniu niestandardowych ETW tracing tooyour kodu usługi, można tworzenie, wdrażanie i uruchamianie aplikacji hello ponownie toosee Twojego zdarzenia w hello podglądu zdarzeń diagnostycznych.</span><span class="sxs-lookup"><span data-stu-id="7404c-143">After adding custom ETW tracing tooyour service code, you can build, deploy, and run hello application again toosee your event(s) in hello Diagnostic Events Viewer.</span></span> <span data-ttu-id="7404c-144">Jeśli debugowanie aplikacji hello z **F5**, hello zostanie otwarty w Podglądzie zdarzeń diagnostycznych.</span><span class="sxs-lookup"><span data-stu-id="7404c-144">If you debug hello application with **F5**, hello Diagnostic Events Viewer will open automatically.</span></span>

## <a name="next-steps"></a><span data-ttu-id="7404c-145">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="7404c-145">Next steps</span></span>
<span data-ttu-id="7404c-146">Hello sam kod śledzenia, dodania aplikacji tooyour powyżej Diagnostics lokalnej będzie działać z narzędzia, których można używać tooview te zdarzenia, podczas uruchamiania aplikacji w klastrze platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="7404c-146">hello same tracing code that you added tooyour application above for local diagnostics will work with tools that you can use tooview these events when running your application on an Azure cluster.</span></span> <span data-ttu-id="7404c-147">Zapoznaj się z tych artykułów, omówiono w nim różne opcje narzędzia hello hello i opisujące, jak można skonfigurować je.</span><span class="sxs-lookup"><span data-stu-id="7404c-147">Check out these articles that discuss hello different options for hello tools and describe how you can set them up.</span></span>

* [<span data-ttu-id="7404c-148">Sposób rejestrowania toocollect Diagnostyka Azure</span><span class="sxs-lookup"><span data-stu-id="7404c-148">How toocollect logs with Azure Diagnostics</span></span>](service-fabric-diagnostics-how-to-setup-wad.md)
* [<span data-ttu-id="7404c-149">Agregacja zdarzeń i kolekcji przy użyciu EventFlow</span><span class="sxs-lookup"><span data-stu-id="7404c-149">Event aggregation and collection using EventFlow</span></span>](service-fabric-diagnostics-event-aggregation-eventflow.md)

