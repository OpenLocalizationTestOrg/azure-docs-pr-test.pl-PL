---
title: "aaaScale usługi sieć szkieletowa klastra przychodzący lub wychodzący | Dokumentacja firmy Microsoft"
description: "Skalowanie klastra usługi sieć szkieletowa przychodzący lub wychodzący żądanie toomatch ustawiając zasady automatycznego skalowania dla zestawu skalowania maszyn typu/wirtualnej każdego węzła. Dodawanie lub usuwanie klastra sieci szkieletowej usług tooa węzłów"
services: service-fabric
documentationcenter: .net
author: ChackDan
manager: timlt
editor: 
ms.assetid: aeb76f63-7303-4753-9c64-46146340b83d
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 06/22/2017
ms.author: chackdan
ms.openlocfilehash: 37cfeaf80edc016cf6de017d1c2dc6fbcb8acc2a
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="scale-a-service-fabric-cluster-in-or-out-using-auto-scale-rules"></a><span data-ttu-id="edf9c-104">Skalowanie klastra usługi sieć szkieletowa przychodzący lub wychodzący przy użyciu reguł automatycznego skalowania</span><span class="sxs-lookup"><span data-stu-id="edf9c-104">Scale a Service Fabric cluster in or out using auto-scale rules</span></span>
<span data-ttu-id="edf9c-105">Zestawy skalowania maszyny wirtualnej są zasobami obliczeń platformy Azure można użyć toodeploy i zarządzanie kolekcją jako zestaw maszyn wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="edf9c-105">Virtual machine scale sets are an Azure compute resource that you can use toodeploy and manage a collection of virtual machines as a set.</span></span> <span data-ttu-id="edf9c-106">Każdy typ węzła który jest zdefiniowany w klastrze usługi sieć szkieletowa jest skonfigurowany jako osobny zestaw skali maszyny wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="edf9c-106">Every node type that is defined in a Service Fabric cluster is set up as a separate Virtual Machine scale set.</span></span> <span data-ttu-id="edf9c-107">Każdy typ węzła można skalować w lub wychodzących niezależnie, mają różne zestawy otwartych portów i może mieć inną pojemność metryki.</span><span class="sxs-lookup"><span data-stu-id="edf9c-107">Each node type can then be scaled in or out independently, have different sets of ports open, and can have different capacity metrics.</span></span> <span data-ttu-id="edf9c-108">Dowiedz się więcej o w hello [elementów sieci szkieletowej usług NodeType](service-fabric-cluster-nodetypes.md) dokumentu.</span><span class="sxs-lookup"><span data-stu-id="edf9c-108">Read more about it in hello [Service Fabric nodetypes](service-fabric-cluster-nodetypes.md) document.</span></span> <span data-ttu-id="edf9c-109">Ponieważ hello typy węzłów sieci szkieletowej usług w klastrze składają się z zestawy skalowania maszyny wirtualnej na powitania wewnętrznej bazy danych, należy tooset reguł automatycznego skalowania dla zestawu skalowania maszyn typu/wirtualnej każdego węzła.</span><span class="sxs-lookup"><span data-stu-id="edf9c-109">Since hello Service Fabric node types in your cluster are made of Virtual Machine scale sets at hello backend, you need tooset up auto-scale rules for each node type/Virtual Machine scale set.</span></span>

> [!NOTE]
> <span data-ttu-id="edf9c-110">Subskrypcja musi mieć wystarczająco dużo tooadd rdzeni hello nowe maszyny wirtualne wchodzące w skład tego klastra.</span><span class="sxs-lookup"><span data-stu-id="edf9c-110">Your subscription must have enough cores tooadd hello new VMs that make up this cluster.</span></span> <span data-ttu-id="edf9c-111">Nie ma Weryfikacja modelu nie, aby uzyskać awaria czas wdrażania, jeśli dowolne limity przydziału hello są osiągane.</span><span class="sxs-lookup"><span data-stu-id="edf9c-111">There is no model validation currently, so you get a deployment time failure, if any of hello quota limits are hit.</span></span>
> 
> 

## <a name="choose-hello-node-typevirtual-machine-scale-set-tooscale"></a><span data-ttu-id="edf9c-112">Wybierz tooscale zestawu hello węzła typu/wirtualnej skalowania maszyny</span><span class="sxs-lookup"><span data-stu-id="edf9c-112">Choose hello node type/Virtual Machine scale set tooscale</span></span>
<span data-ttu-id="edf9c-113">Obecnie nie jest możliwe toospecify hello zasady automatycznego skalowania zestawy skalowania maszyny wirtualnej za pomocą portalu hello, więc poinformować nas, użyj typy węzłów hello toolist programu Azure PowerShell (1.0 +), a następnie dodaj toothem reguły automatycznego skalowania.</span><span class="sxs-lookup"><span data-stu-id="edf9c-113">Currently, you are not able toospecify hello auto-scale rules for Virtual Machine scale sets using hello portal, so let us use Azure PowerShell (1.0+) toolist hello node types and then add auto-scale rules toothem.</span></span>

<span data-ttu-id="edf9c-114">Lista hello tooget zestawu skalowania maszyny wirtualnej tworzą klaster, uruchom następujące polecenia cmdlet hello:</span><span class="sxs-lookup"><span data-stu-id="edf9c-114">tooget hello list of Virtual Machine scale set that make up your cluster, run hello following cmdlets:</span></span>

```powershell
Get-AzureRmResource -ResourceGroupName <RGname> -ResourceType Microsoft.Compute/VirtualMachineScaleSets

Get-AzureRmVmss -ResourceGroupName <RGname> -VMScaleSetName <Virtual Machine scale set name>
```

## <a name="set-auto-scale-rules-for-hello-node-typevirtual-machine-scale-set"></a><span data-ttu-id="edf9c-115">Zestaw reguł automatycznego skalowania dla zestawu skalowania maszyn hello węzła typu/wirtualnej</span><span class="sxs-lookup"><span data-stu-id="edf9c-115">Set auto-scale rules for hello node type/Virtual Machine scale set</span></span>
<span data-ttu-id="edf9c-116">Jeśli klaster ma wiele typów węzła, powtórz to dla każdego węzła typy/wirtualnej skalowania maszyny zestawów, które mają tooscale (przychodzący lub wychodzący).</span><span class="sxs-lookup"><span data-stu-id="edf9c-116">If your cluster has multiple node types, then repeat this for each node types/Virtual Machine scale sets that you want tooscale (in or out).</span></span> <span data-ttu-id="edf9c-117">Uwzględniać konta hello liczba węzłów potrzebne przed skonfigurowaniem Skalowanie automatyczne.</span><span class="sxs-lookup"><span data-stu-id="edf9c-117">Take into account hello number of nodes that you must have before you set up auto-scaling.</span></span> <span data-ttu-id="edf9c-118">Minimalna liczba węzłów, które muszą mieć dla typu węzła podstawowego hello Hello jest wymuszany przez hello niezawodności poziom, wybrana.</span><span class="sxs-lookup"><span data-stu-id="edf9c-118">hello minimum number of nodes that you must have for hello primary node type is driven by hello reliability level you have chosen.</span></span> <span data-ttu-id="edf9c-119">Przeczytaj więcej na temat [poziomów niezawodności](service-fabric-cluster-capacity.md).</span><span class="sxs-lookup"><span data-stu-id="edf9c-119">Read more about [reliability levels](service-fabric-cluster-capacity.md).</span></span>

> [!NOTE]
> <span data-ttu-id="edf9c-120">Skalowania tooless typu węzła podstawowego hello niż minimalna liczba hello destabilizować hello klastra lub przełączyć go w dół.</span><span class="sxs-lookup"><span data-stu-id="edf9c-120">Scaling down hello primary node type tooless than hello minimum number make hello cluster unstable or bring it down.</span></span> <span data-ttu-id="edf9c-121">Może to spowodować utratę danych aplikacji oraz usług systemu hello.</span><span class="sxs-lookup"><span data-stu-id="edf9c-121">This could result in data loss for your applications and for hello system services.</span></span>
> 
> 

<span data-ttu-id="edf9c-122">Obecnie hello funkcja automatycznego skalowania nie jest wymuszany przez hello obciążenia mogą być raportowania tooService sieci szkieletowej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="edf9c-122">Currently hello auto-scale feature is not driven by hello loads that your applications may be reporting tooService Fabric.</span></span> <span data-ttu-id="edf9c-123">Więc na powitania tego czasu automatycznego skalowania uzyskasz czysto wynikają z hello liczniki wydajności, które są emitowane przez każde z wystąpień zestawu skalowania maszyn wirtualnych hello.</span><span class="sxs-lookup"><span data-stu-id="edf9c-123">So at this time hello auto-scale you get is purely driven by hello performance counters that are emitted by each of hello Virtual Machine scale set instances.</span></span>  

<span data-ttu-id="edf9c-124">Wykonaj te instrukcje [tooset się automatycznego skalowania dla każdego zestawu skali maszyny wirtualnej](../virtual-machine-scale-sets/virtual-machine-scale-sets-autoscale-overview.md).</span><span class="sxs-lookup"><span data-stu-id="edf9c-124">Follow these instructions [tooset up auto-scale for each Virtual Machine scale set](../virtual-machine-scale-sets/virtual-machine-scale-sets-autoscale-overview.md).</span></span>

> [!NOTE]
> <span data-ttu-id="edf9c-125">W skali w dół scenariusza, chyba że danego typu węzła ma poziom trwałości Gold lub Silver należy toocall hello [polecenia cmdlet Remove-ServiceFabricNodeState](https://msdn.microsoft.com/library/azure/mt125993.aspx) nazwą hello odpowiedni węzeł.</span><span class="sxs-lookup"><span data-stu-id="edf9c-125">In a scale down scenario, unless your node type has a durability level of Gold or Silver you need toocall hello [Remove-ServiceFabricNodeState cmdlet](https://msdn.microsoft.com/library/azure/mt125993.aspx) with hello appropriate node name.</span></span>
> 
> 

## <a name="manually-add-vms-tooa-node-typevirtual-machine-scale-set"></a><span data-ttu-id="edf9c-126">Ręcznie Dodaj maszyny wirtualne tooa węzła typu/wirtualnej zestawu skali maszyny</span><span class="sxs-lookup"><span data-stu-id="edf9c-126">Manually add VMs tooa node type/Virtual Machine scale set</span></span>
<span data-ttu-id="edf9c-127">Wykonaj przykładowe hello/instrukcje hello [galerię szablonów szybki start](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-scale-existing) toochange hello liczbę maszyn wirtualnych w każdym Nodetype.</span><span class="sxs-lookup"><span data-stu-id="edf9c-127">Follow hello sample/instructions in hello [quick start template gallery](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-scale-existing) toochange hello number of VMs in each Nodetype.</span></span> 

> [!NOTE]
> <span data-ttu-id="edf9c-128">Dodawanie maszyn wirtualnych jest czasochłonne, więc nie będzie toobe dodatków hello natychmiastowe.</span><span class="sxs-lookup"><span data-stu-id="edf9c-128">Adding of VMs takes time, so do not expect hello additions toobe instantaneous.</span></span> <span data-ttu-id="edf9c-129">Dlatego planowania pojemności tooadd również w czasie, tooallow przez ponad 10 minut przed hello pojemności maszyny Wirtualnej jest dostępna dla replik hello / service tooget wystąpień umieszczona.</span><span class="sxs-lookup"><span data-stu-id="edf9c-129">So plan tooadd capacity well in time, tooallow for over 10 minutes before hello VM capacity is available for hello replicas/ service instances tooget placed.</span></span>
> 
> 

## <a name="manually-remove-vms-from-hello-primary-node-typevirtual-machine-scale-set"></a><span data-ttu-id="edf9c-130">Ręcznie usuń maszyny wirtualne z zestawu skali maszyny hello węzła podstawowego typu/wirtualnej</span><span class="sxs-lookup"><span data-stu-id="edf9c-130">Manually remove VMs from hello primary node type/Virtual Machine scale set</span></span>
> [!NOTE]
> <span data-ttu-id="edf9c-131">Witaj Usługa sieci szkieletowej systemu usługi uruchomione w hello typu podstawowego węzła w klastrze.</span><span class="sxs-lookup"><span data-stu-id="edf9c-131">hello service fabric system services run in hello Primary node type in your cluster.</span></span> <span data-ttu-id="edf9c-132">Nigdy nie należy zamknąć lub dół hello liczba wystąpień w tym typy węzłów mniejsza niż jakie warstwa niezawodności hello gwarantuje.</span><span class="sxs-lookup"><span data-stu-id="edf9c-132">So should never shut down or scale down hello number of instances in that node types less than what hello reliability tier warrants.</span></span> <span data-ttu-id="edf9c-133">Odwołuje się zbyt[hello szczegółowe informacje w tym miejscu warstwach niezawodności](service-fabric-cluster-capacity.md).</span><span class="sxs-lookup"><span data-stu-id="edf9c-133">Refer too[hello details on reliability tiers here](service-fabric-cluster-capacity.md).</span></span> 
> 
> 

<span data-ttu-id="edf9c-134">Należy tooexecute hello następujące kroki jedno wystąpienie maszyny Wirtualnej w czasie.</span><span class="sxs-lookup"><span data-stu-id="edf9c-134">You need tooexecute hello following steps one VM instance at a time.</span></span> <span data-ttu-id="edf9c-135">Dzięki temu usługi systemowe hello (i usługi stanowej) toobe prawidłowe zamknięcie na powitania wystąpienia maszyny Wirtualnej spowoduje usunięcie i nowej repliki utworzony w innych węzłach.</span><span class="sxs-lookup"><span data-stu-id="edf9c-135">This allows for hello system services (and your stateful services) toobe shut down gracefully on hello VM instance you are removing and new replicas created on other nodes.</span></span>

1. <span data-ttu-id="edf9c-136">Uruchom [ServiceFabricNode Wyłącz](https://msdn.microsoft.com/library/mt125852.aspx) konwersji "RemoveNode" toodisable hello węzeł ma tooremove (hello najwyższy wystąpienie tego typu węzła).</span><span class="sxs-lookup"><span data-stu-id="edf9c-136">Run [Disable-ServiceFabricNode](https://msdn.microsoft.com/library/mt125852.aspx) with intent ‘RemoveNode’ toodisable hello node you’re going tooremove (hello highest instance in that node type).</span></span>
2. <span data-ttu-id="edf9c-137">Uruchom [Get-ServiceFabricNode](https://msdn.microsoft.com/library/mt125856.aspx) toomake się, że ten węzeł hello przeszła w rzeczywistości toodisabled.</span><span class="sxs-lookup"><span data-stu-id="edf9c-137">Run [Get-ServiceFabricNode](https://msdn.microsoft.com/library/mt125856.aspx) toomake sure that hello node has indeed transitioned toodisabled.</span></span> <span data-ttu-id="edf9c-138">Jeśli nie, poczekaj, aż hello węzła jest wyłączone.</span><span class="sxs-lookup"><span data-stu-id="edf9c-138">If not, wait until hello node is disabled.</span></span> <span data-ttu-id="edf9c-139">Nie można Pospiesz się w tym kroku.</span><span class="sxs-lookup"><span data-stu-id="edf9c-139">You cannot hurry this step.</span></span>
3. <span data-ttu-id="edf9c-140">Wykonaj przykładowe hello/instrukcje hello [galerię szablonów szybki start](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-scale-existing) toochange hello liczbę maszyn wirtualnych o jeden w tym typie Nodetype.</span><span class="sxs-lookup"><span data-stu-id="edf9c-140">Follow hello sample/instructions in hello [quick start template gallery](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-scale-existing) toochange hello number of VMs by one in that Nodetype.</span></span> <span data-ttu-id="edf9c-141">wystąpienie Hello usunięte jest hello najwyższy wystąpienia maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="edf9c-141">hello instance removed is hello highest VM instance.</span></span> 
4. <span data-ttu-id="edf9c-142">Powtórz kroki od 1 do 3 zgodnie z potrzebami, ale nigdy nie będą skalowane hello liczbę wystąpień w typach węzła podstawowego hello mniej niż gwarantuje, jakie hello warstwa niezawodności.</span><span class="sxs-lookup"><span data-stu-id="edf9c-142">Repeat steps 1 through 3 as needed, but never scale down hello number of instances in hello primary node types less than what hello reliability tier warrants.</span></span> <span data-ttu-id="edf9c-143">Odwołuje się zbyt[hello szczegółowe informacje w tym miejscu warstwach niezawodności](service-fabric-cluster-capacity.md).</span><span class="sxs-lookup"><span data-stu-id="edf9c-143">Refer too[hello details on reliability tiers here](service-fabric-cluster-capacity.md).</span></span> 

## <a name="manually-remove-vms-from-hello-non-primary-node-typevirtual-machine-scale-set"></a><span data-ttu-id="edf9c-144">Ręcznie usuń maszyny wirtualne z hello węzła innego niż podstawowy typ/wirtualnej zestawu skali maszyny</span><span class="sxs-lookup"><span data-stu-id="edf9c-144">Manually remove VMs from hello non-primary node type/Virtual Machine scale set</span></span>
> [!NOTE]
> <span data-ttu-id="edf9c-145">Dla usługi stanowej trzeba pewną liczbę węzłów toobe zawsze toomaintain dostępności i Zachowaj stan usługi.</span><span class="sxs-lookup"><span data-stu-id="edf9c-145">For a stateful service, you need a certain number of nodes toobe always up toomaintain availability and preserve state of your service.</span></span> <span data-ttu-id="edf9c-146">W bardzo minimalna hello należy hello liczba węzłów równy toohello docelowej repliki zestaw liczby partycji hello/usługi.</span><span class="sxs-lookup"><span data-stu-id="edf9c-146">At hello very minimum, you need hello number of nodes equal toohello target replica set count of hello partition/service.</span></span> 
> 
> 

<span data-ttu-id="edf9c-147">Należy hello hello następujące kroki jedno wystąpienie maszyny Wirtualnej w czasie wykonywania.</span><span class="sxs-lookup"><span data-stu-id="edf9c-147">You need hello execute hello following steps one VM instance at a time.</span></span> <span data-ttu-id="edf9c-148">Dzięki temu usług systemowych hello (i usługi stanowej) toobe prawidłowe zamknięcie na powitania wystąpienia maszyny Wirtualnej, które są usuwane, a nowej repliki utworzony else where.</span><span class="sxs-lookup"><span data-stu-id="edf9c-148">This allows for hello system services (and your stateful services) toobe shut down gracefully on hello VM instance you are removing and new replicas created else where.</span></span>

1. <span data-ttu-id="edf9c-149">Uruchom [ServiceFabricNode Wyłącz](https://msdn.microsoft.com/library/mt125852.aspx) konwersji "RemoveNode" toodisable hello węzeł ma tooremove (hello najwyższy wystąpienie tego typu węzła).</span><span class="sxs-lookup"><span data-stu-id="edf9c-149">Run [Disable-ServiceFabricNode](https://msdn.microsoft.com/library/mt125852.aspx) with intent ‘RemoveNode’ toodisable hello node you’re going tooremove (hello highest instance in that node type).</span></span>
2. <span data-ttu-id="edf9c-150">Uruchom [Get-ServiceFabricNode](https://msdn.microsoft.com/library/mt125856.aspx) toomake się, że ten węzeł hello przeszła w rzeczywistości toodisabled.</span><span class="sxs-lookup"><span data-stu-id="edf9c-150">Run [Get-ServiceFabricNode](https://msdn.microsoft.com/library/mt125856.aspx) toomake sure that hello node has indeed transitioned toodisabled.</span></span> <span data-ttu-id="edf9c-151">Jeśli nie, zaczekaj hello węzła jest wyłączone.</span><span class="sxs-lookup"><span data-stu-id="edf9c-151">If not wait till hello node is disabled.</span></span> <span data-ttu-id="edf9c-152">Nie można Pospiesz się w tym kroku.</span><span class="sxs-lookup"><span data-stu-id="edf9c-152">You cannot hurry this step.</span></span>
3. <span data-ttu-id="edf9c-153">Wykonaj przykładowe hello/instrukcje hello [galerię szablonów szybki start](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-scale-existing) toochange hello liczbę maszyn wirtualnych o jeden w tym typie Nodetype.</span><span class="sxs-lookup"><span data-stu-id="edf9c-153">Follow hello sample/instructions in hello [quick start template gallery](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-scale-existing) toochange hello number of VMs by one in that Nodetype.</span></span> <span data-ttu-id="edf9c-154">Spowoduje to usunięcie teraz hello najwyższy wystąpienia maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="edf9c-154">This will now remove hello highest VM instance.</span></span> 
4. <span data-ttu-id="edf9c-155">Powtórz kroki od 1 do 3 zgodnie z potrzebami, ale nigdy nie będą skalowane hello liczbę wystąpień w typach węzła podstawowego hello mniej niż gwarantuje, jakie hello warstwa niezawodności.</span><span class="sxs-lookup"><span data-stu-id="edf9c-155">Repeat steps 1 through 3 as needed, but never scale down hello number of instances in hello primary node types less than what hello reliability tier warrants.</span></span> <span data-ttu-id="edf9c-156">Odwołuje się zbyt[hello szczegółowe informacje w tym miejscu warstwach niezawodności](service-fabric-cluster-capacity.md).</span><span class="sxs-lookup"><span data-stu-id="edf9c-156">Refer too[hello details on reliability tiers here](service-fabric-cluster-capacity.md).</span></span>

## <a name="behaviors-you-may-observe-in-service-fabric-explorer"></a><span data-ttu-id="edf9c-157">Zachowania można zaobserwować w narzędziu Service Fabric Explorer</span><span class="sxs-lookup"><span data-stu-id="edf9c-157">Behaviors you may observe in Service Fabric Explorer</span></span>
<span data-ttu-id="edf9c-158">Skalowanie w górę hello klastra Eksploratora usługi sieć szkieletowa będzie odzwierciedlać hello liczba węzłów (wystąpienia zestawu skalowania maszyn wirtualnych), które są częścią klastra hello.</span><span class="sxs-lookup"><span data-stu-id="edf9c-158">When you scale up a cluster hello Service Fabric Explorer will reflect hello number of nodes (Virtual Machine scale set instances) that are part of hello cluster.</span></span>  <span data-ttu-id="edf9c-159">Jednak podczas skalowania klastra w dół możesz zobaczą hello usunięty węzeł/wystąpienia maszyny Wirtualnej wyświetlane w złej kondycji, chyba że wywołujesz [cmd ServiceFabricNodeState Usuń](https://msdn.microsoft.com/library/mt125993.aspx) nazwą hello odpowiedni węzeł.</span><span class="sxs-lookup"><span data-stu-id="edf9c-159">However, when you scale a cluster down you will see hello removed node/VM instance displayed in an unhealthy state unless you call [Remove-ServiceFabricNodeState cmd](https://msdn.microsoft.com/library/mt125993.aspx) with hello appropriate node name.</span></span>   

<span data-ttu-id="edf9c-160">Oto hello wyjaśnienia tego zachowania.</span><span class="sxs-lookup"><span data-stu-id="edf9c-160">Here is hello explanation for this behavior.</span></span>

<span data-ttu-id="edf9c-161">Hello węzły wymienionych w narzędziu Service Fabric Explorer są odbicie hello usługi sieć szkieletowa systemu usług (FM specjalnie) zna hello liczby węzłów klastra hello miał ma.</span><span class="sxs-lookup"><span data-stu-id="edf9c-161">hello nodes listed in Service Fabric Explorer are a reflection of what hello Service Fabric system services (FM specifically) knows about hello number of nodes hello cluster had/has.</span></span> <span data-ttu-id="edf9c-162">Skalowanie hello skalowania maszyny wirtualnej określa hello maszyny Wirtualnej został usunięty, ale usługa systemowa FM nadal podejrzewać, że ten węzeł hello, (które były mapowane toohello maszyny Wirtualnej, który został usunięty) będzie wrócić.</span><span class="sxs-lookup"><span data-stu-id="edf9c-162">When you scale hello Virtual Machine scale set down, hello VM was deleted but FM system service still thinks that hello node (that was mapped toohello VM that was deleted) will come back.</span></span> <span data-ttu-id="edf9c-163">Dlatego Service Fabric Explorer nadal toodisplay tego węzła (chociaż może to być błąd lub nieznany stan kondycji hello).</span><span class="sxs-lookup"><span data-stu-id="edf9c-163">So Service Fabric Explorer continues toodisplay that node (though hello health state may be error or unknown).</span></span>

<span data-ttu-id="edf9c-164">W kolejności toomake się upewnić, że węzeł zostanie usunięta po usunięciu maszyny Wirtualnej dostępne są dwie opcje:</span><span class="sxs-lookup"><span data-stu-id="edf9c-164">In order toomake sure that a node is removed when a VM is removed, you have two options:</span></span>

1) <span data-ttu-id="edf9c-165">Wybierz poziom trwałości Gold lub Silver (dostępne wkrótce) dla hello typy węzłów w klastrze, które zapewnia hello integracji infrastruktury.</span><span class="sxs-lookup"><span data-stu-id="edf9c-165">Choose a durability level of Gold or Silver (available soon) for hello node types in your cluster, which gives you hello infrastructure integration.</span></span> <span data-ttu-id="edf9c-166">Które następnie automatycznie usunie hello węzłów z naszych stanu usługi (FM) systemu skalowanie w.</span><span class="sxs-lookup"><span data-stu-id="edf9c-166">Which will then automatically remove hello nodes from our system services (FM) state when you scale down.</span></span>
<span data-ttu-id="edf9c-167">Odwołuje się zbyt[hello szczegółów dotyczących poziomów trwałości tutaj](service-fabric-cluster-capacity.md)</span><span class="sxs-lookup"><span data-stu-id="edf9c-167">Refer too[hello details on durability levels here](service-fabric-cluster-capacity.md)</span></span>

2) <span data-ttu-id="edf9c-168">Po wystąpieniu maszyny Wirtualnej hello zostały skalowany w dół, należy toocall hello [polecenia cmdlet Remove-ServiceFabricNodeState](https://msdn.microsoft.com/library/mt125993.aspx).</span><span class="sxs-lookup"><span data-stu-id="edf9c-168">Once hello VM instance has been scaled down, you need toocall hello [Remove-ServiceFabricNodeState cmdlet](https://msdn.microsoft.com/library/mt125993.aspx).</span></span>

> [!NOTE]
> <span data-ttu-id="edf9c-169">Usługi sieci szkieletowej klastry wymagają określonej liczby węzłów toobe się na cały czas hello w kolejności toomaintain dostępności i Zachowaj stan — określonego tooas "utrzymywania kworum".</span><span class="sxs-lookup"><span data-stu-id="edf9c-169">Service Fabric clusters require a certain number of nodes toobe up at all hello time in order toomaintain availability and preserve state - referred tooas "maintaining quorum."</span></span> <span data-ttu-id="edf9c-170">Tak, jest zazwyczaj niebezpieczne tooshut dół wszystkich maszyn hello w klastrze hello, chyba że najpierw wykonali [pełnej kopii zapasowej według stanu](service-fabric-reliable-services-backup-restore.md).</span><span class="sxs-lookup"><span data-stu-id="edf9c-170">So, it is typically unsafe tooshut down all hello machines in hello cluster unless you have first performed a [full backup of your state](service-fabric-reliable-services-backup-restore.md).</span></span>
> 
> 

## <a name="next-steps"></a><span data-ttu-id="edf9c-171">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="edf9c-171">Next steps</span></span>
<span data-ttu-id="edf9c-172">Po tooalso hello odczytu więcej informacji na temat planowania pojemności klastra, Uaktualnianie klastra i partycjonowanie usług:</span><span class="sxs-lookup"><span data-stu-id="edf9c-172">Read hello following tooalso learn about planning cluster capacity, upgrading a cluster, and partitioning services:</span></span>

* [<span data-ttu-id="edf9c-173">Planowanie pojemności sieci klastra</span><span class="sxs-lookup"><span data-stu-id="edf9c-173">Plan your cluster capacity</span></span>](service-fabric-cluster-capacity.md)
* [<span data-ttu-id="edf9c-174">Uaktualnienia klastra</span><span class="sxs-lookup"><span data-stu-id="edf9c-174">Cluster upgrades</span></span>](service-fabric-cluster-upgrade.md)
* [<span data-ttu-id="edf9c-175">Usługi stanowej partycji dla maksymalną skalę</span><span class="sxs-lookup"><span data-stu-id="edf9c-175">Partition stateful services for maximum scale</span></span>](service-fabric-concepts-partitioning.md)

<!--Image references-->
[BrowseServiceFabricClusterResource]: ./media/service-fabric-cluster-scale-up-down/BrowseServiceFabricClusterResource.png
[ClusterResources]: ./media/service-fabric-cluster-scale-up-down/ClusterResources.png
