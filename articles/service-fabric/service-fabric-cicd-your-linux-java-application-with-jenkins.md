---
title: "Ciągła kompilacja i ciągłe integrowanie aplikacji Java usługi Azure Service Fabric w systemie Linux przy użyciu narzędzia Jenkins | Microsoft Docs"
description: "Ciągła kompilacja i ciągłe integrowanie aplikacji Java w systemie Linux przy użyciu narzędzia Jenkins"
services: service-fabric
documentationcenter: java
author: sayantancs
manager: timlt
editor: 
ms.assetid: 02b51f11-5d78-4c54-bb68-8e128677783e
ms.service: service-fabric
ms.devlang: java
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 08/23/2017
ms.author: saysa
ms.openlocfilehash: d9372407540d903acca5b1639a2d9ceb0bf3c571
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 08/29/2017
---
# <a name="use-jenkins-to-build-and-deploy-your-linux-java-application"></a><span data-ttu-id="4120e-103">Kompiluj i wdrażaj aplikację Java w systemie Linux przy użyciu narzędzia Jenkins</span><span class="sxs-lookup"><span data-stu-id="4120e-103">Use Jenkins to build and deploy your Linux Java application</span></span>
<span data-ttu-id="4120e-104">Jenkins to popularne narzędzie służące do przeprowadzania ciągłej integracji i ciągłego wdrażania aplikacji.</span><span class="sxs-lookup"><span data-stu-id="4120e-104">Jenkins is a popular tool for continuous integration and deployment of your apps.</span></span> <span data-ttu-id="4120e-105">Poniżej przedstawiono sposób kompilowania i wdrażania aplikacji usługi Azure Service Fabric przy użyciu narzędzia Jenkins.</span><span class="sxs-lookup"><span data-stu-id="4120e-105">Here's how to build and deploy your Azure Service Fabric application by using Jenkins.</span></span>

## <a name="general-prerequisites"></a><span data-ttu-id="4120e-106">Ogólne wymagania wstępne</span><span class="sxs-lookup"><span data-stu-id="4120e-106">General prerequisites</span></span>
- <span data-ttu-id="4120e-107">Lokalnie zainstalowane narzędzie Git.</span><span class="sxs-lookup"><span data-stu-id="4120e-107">Have Git installed locally.</span></span> <span data-ttu-id="4120e-108">Odpowiednią wersję narzędzia Git dla używanego systemu operacyjnego można zainstalować ze [strony pobierania narzędzia Git](https://git-scm.com/downloads).</span><span class="sxs-lookup"><span data-stu-id="4120e-108">You can install the appropriate Git version from [the Git downloads page](https://git-scm.com/downloads), based on your operating system.</span></span> <span data-ttu-id="4120e-109">Jeśli jesteś nowym użytkownikiem narzędzia Git, możesz się dowiedzieć o nim więcej z [jego dokumentacji](https://git-scm.com/docs).</span><span class="sxs-lookup"><span data-stu-id="4120e-109">If you are new to Git, learn more about it from the [Git documentation](https://git-scm.com/docs).</span></span>
- <span data-ttu-id="4120e-110">Przygotowana wtyczka narzędzia Jenkins dla usługi Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="4120e-110">Have the Service Fabric Jenkins plug-in handy.</span></span> <span data-ttu-id="4120e-111">Możesz ją pobrać z [witryny pobierania usługi Service Fabric](https://servicefabricdownloads.blob.core.windows.net/jenkins/serviceFabric.hpi).</span><span class="sxs-lookup"><span data-stu-id="4120e-111">You can download it from [Service Fabric downloads](https://servicefabricdownloads.blob.core.windows.net/jenkins/serviceFabric.hpi).</span></span>

## <a name="set-up-jenkins-inside-a-service-fabric-cluster"></a><span data-ttu-id="4120e-112">Konfigurowanie narzędzia Jenkins w ramach klastra usługi Service Fabric</span><span class="sxs-lookup"><span data-stu-id="4120e-112">Set up Jenkins inside a Service Fabric cluster</span></span>

<span data-ttu-id="4120e-113">Narzędzie Jenkins możesz skonfigurować wewnątrz klastra usługi Service Fabric lub poza nim.</span><span class="sxs-lookup"><span data-stu-id="4120e-113">You can set up Jenkins either inside or outside a Service Fabric cluster.</span></span> <span data-ttu-id="4120e-114">Poniższe sekcje pokazują, jak je skonfigurować w klastrze podczas korzystania z konta magazynu platformy Azure można zapisać stanu wystąpienia kontenera.</span><span class="sxs-lookup"><span data-stu-id="4120e-114">The following sections show how to set it up inside a cluster while using an Azure storage account to save the state of the container instance.</span></span>

### <a name="prerequisites"></a><span data-ttu-id="4120e-115">Wymagania wstępne</span><span class="sxs-lookup"><span data-stu-id="4120e-115">Prerequisites</span></span>
1. <span data-ttu-id="4120e-116">Przygotuj klaster systemu Linux usługi Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="4120e-116">Have a Service Fabric Linux cluster ready.</span></span> <span data-ttu-id="4120e-117">W klastrach usługi Service Fabric utworzonych z poziomu witryny Azure Portal jest już zainstalowana platforma Docker.</span><span class="sxs-lookup"><span data-stu-id="4120e-117">A Service Fabric cluster created from the Azure portal already has Docker installed.</span></span> <span data-ttu-id="4120e-118">Jeśli klaster jest uruchamiany lokalnie, za pomocą polecenia ``docker info`` sprawdź, czy platforma Docker jest zainstalowana.</span><span class="sxs-lookup"><span data-stu-id="4120e-118">If you are running the cluster locally, check if Docker is installed by using the command ``docker info``.</span></span> <span data-ttu-id="4120e-119">Jeśli nie jest zainstalowana, zainstaluj ją za pomocą następujących poleceń:</span><span class="sxs-lookup"><span data-stu-id="4120e-119">If it is not installed, install it accordingly by using the following commands:</span></span>

  ```sh
  sudo apt-get install wget
  wget -qO- https://get.docker.io/ | sh
  ```
2. <span data-ttu-id="4120e-120">Wdróż aplikację kontenera usługi Service Fabric w klastrze, wykonując następujące kroki:</span><span class="sxs-lookup"><span data-stu-id="4120e-120">Have the Service Fabric container application deployed on the cluster, by using the following steps:</span></span>

  ```sh
git clone https://github.com/Azure-Samples/service-fabric-java-getting-started.git
cd service-fabric-java-getting-started/Services/JenkinsDocker/
```

3. <span data-ttu-id="4120e-121">Należy szczegóły opcja Połącz magazynu Azure-udziału plików, którym chcesz zachować stan wystąpienia kontenera Wpięć.</span><span class="sxs-lookup"><span data-stu-id="4120e-121">You need the connect option details of the Azure storage file-share, where you want to persist the state of the Jenkins container instance.</span></span> <span data-ttu-id="4120e-122">Korzystania z portalu Microsoft Azure dla tego samego należy postępuj zgodnie z instrukcjami — Tworzenie konta magazynu platformy Azure, powiedz ``sfjenkinsstorage1``.</span><span class="sxs-lookup"><span data-stu-id="4120e-122">If you are using the Microsoft Azure portal for the same, please follow the steps - Create an Azure storage account, say ``sfjenkinsstorage1``.</span></span> <span data-ttu-id="4120e-123">Utwórz **udziału plików** na tym koncie magazynu powiedzieć ``sfjenkins``.</span><span class="sxs-lookup"><span data-stu-id="4120e-123">Create a **File Share** under that storage account, say ``sfjenkins``.</span></span> <span data-ttu-id="4120e-124">Polecenie **Connect** dla udziału plików i zanotuj wartości on wyświetla w obszarze **łączących się z systemem Linux**, oznacza to będzie wyglądać następująco —</span><span class="sxs-lookup"><span data-stu-id="4120e-124">Click on **Connect** for the file-share and note the values it displays under **Connecting from Linux**, say this would look like as follows -</span></span>
```sh
sudo mount -t cifs //sfjenkinsstorage1.file.core.windows.net/sfjenkins [mount point] -o vers=3.0,username=sfjenkinsstorage1,password=<storage_key>,dir_mode=0777,file_mode=0777
```

4. <span data-ttu-id="4120e-125">Zaktualizuj symbole zastępcze w ```setupentrypoint.sh``` skryptu z odpowiednimi szczegółami magazyn azure.</span><span class="sxs-lookup"><span data-stu-id="4120e-125">Update the placeholder values in the ```setupentrypoint.sh``` script with corresponding azure-storage details.</span></span>
```sh
vi JenkinsSF/JenkinsOnSF/Code/setupentrypoint.sh
```
<span data-ttu-id="4120e-126">Zastąp ``[REMOTE_FILE_SHARE_LOCATION]`` z wartością ``//sfjenkinsstorage1.file.core.windows.net/sfjenkins`` z danych wyjściowych connect w punkcie 3 powyżej.</span><span class="sxs-lookup"><span data-stu-id="4120e-126">Replace ``[REMOTE_FILE_SHARE_LOCATION]`` with the value ``//sfjenkinsstorage1.file.core.windows.net/sfjenkins`` from the output of the connect in point 3 above.</span></span>
<span data-ttu-id="4120e-127">Zastąp ``[FILE_SHARE_CONNECT_OPTIONS_STRING]`` z wartością ``vers=3.0,username=sfjenkinsstorage1,password=GB2NPUCQY9LDGeG9Bci5dJV91T6SrA7OxrYBUsFHyueR62viMrC6NIzyQLCKNz0o7pepGfGY+vTa9gxzEtfZHw==,dir_mode=0777,file_mode=0777`` od punktu 3 powyżej.</span><span class="sxs-lookup"><span data-stu-id="4120e-127">Replace ``[FILE_SHARE_CONNECT_OPTIONS_STRING]`` with the value ``vers=3.0,username=sfjenkinsstorage1,password=GB2NPUCQY9LDGeG9Bci5dJV91T6SrA7OxrYBUsFHyueR62viMrC6NIzyQLCKNz0o7pepGfGY+vTa9gxzEtfZHw==,dir_mode=0777,file_mode=0777`` from point 3 above.</span></span>

5. <span data-ttu-id="4120e-128">Połącz się z klastrem i instalowanie aplikacji do kontenera.</span><span class="sxs-lookup"><span data-stu-id="4120e-128">Connect to the cluster and install the container application.</span></span>
```azurecli
sfctl cluster select --endpoint http://PublicIPorFQDN:19080   # cluster connect command
bash Scripts/install.sh
```
<span data-ttu-id="4120e-129">To spowoduje zainstalowanie kontenera narzędzia Jenkins w klastrze i umożliwi monitorowanie za pomocą narzędzia Service Fabric Explorer.</span><span class="sxs-lookup"><span data-stu-id="4120e-129">This installs a Jenkins container on the cluster, and can be monitored by using the Service Fabric Explorer.</span></span>

### <a name="steps"></a><span data-ttu-id="4120e-130">Kroki</span><span class="sxs-lookup"><span data-stu-id="4120e-130">Steps</span></span>
1. <span data-ttu-id="4120e-131">W przeglądarce przejdź na adres ``http://PublicIPorFQDN:8081``.</span><span class="sxs-lookup"><span data-stu-id="4120e-131">From your browser, go to ``http://PublicIPorFQDN:8081``.</span></span> <span data-ttu-id="4120e-132">Tam jest dostępna ścieżka do początkowego hasła administratora wymaganego do zalogowania się.</span><span class="sxs-lookup"><span data-stu-id="4120e-132">It provides the path of the initial admin password required to sign in.</span></span> <span data-ttu-id="4120e-133">Narzędzia Jenkins możesz dalej używać jako administrator.</span><span class="sxs-lookup"><span data-stu-id="4120e-133">You can continue to use Jenkins as an admin user.</span></span> <span data-ttu-id="4120e-134">Możesz też utworzyć i zmienić użytkownika po zalogowaniu się przy użyciu początkowego konta administratora.</span><span class="sxs-lookup"><span data-stu-id="4120e-134">Or you can create and change the user, after you sign in with the initial admin account.</span></span>

   > [!NOTE]
   > <span data-ttu-id="4120e-135">Podczas tworzenia klastra upewnij się, że port 8081 jest określony jako port punktu końcowego aplikacji.</span><span class="sxs-lookup"><span data-stu-id="4120e-135">Ensure that the 8081 port is specified as the application endpoint port while you are creating the cluster.</span></span>
   >

2. <span data-ttu-id="4120e-136">Uzyskaj identyfikator wystąpienia kontenera za pomocą polecenia ``docker ps -a``.</span><span class="sxs-lookup"><span data-stu-id="4120e-136">Get the container instance ID by using ``docker ps -a``.</span></span>
3. <span data-ttu-id="4120e-137">Zaloguj się do kontenera przy użyciu protokołu SSH (Secure Shell) i wklej ścieżkę wyświetloną w portalu narzędzia Jenkins.</span><span class="sxs-lookup"><span data-stu-id="4120e-137">Secure Shell (SSH) sign in to the container, and paste the path you were shown on the Jenkins portal.</span></span> <span data-ttu-id="4120e-138">Jeśli na przykład w portalu jest wyświetlana ścieżka `PATH_TO_INITIAL_ADMIN_PASSWORD`, uruchom następujące polecenia:</span><span class="sxs-lookup"><span data-stu-id="4120e-138">For example, if in the portal it shows the path `PATH_TO_INITIAL_ADMIN_PASSWORD`, run the following:</span></span>

  ```sh
  docker exec -t -i [first-four-digits-of-container-ID] /bin/bash   # This takes you inside Docker shell
  cat PATH_TO_INITIAL_ADMIN_PASSWORD
  ```

4. <span data-ttu-id="4120e-139">Skonfiguruj usługę GitHub do pracy z narzędziem Jenkins, wykonując kroki opisane w temacie [Generating a new SSH key and adding it to the SSH agent](https://help.github.com/articles/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent/) (Generowanie nowego klucza SSH i dodawanie go do agenta SSH).</span><span class="sxs-lookup"><span data-stu-id="4120e-139">Set up GitHub to work with Jenkins, by using the steps mentioned in [Generating a new SSH key and adding it to the SSH agent](https://help.github.com/articles/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent/).</span></span>
    * <span data-ttu-id="4120e-140">Korzystając z instrukcji udostępnionych przez usługę GitHub, wygeneruj klucz SSH i dodaj go do konta usługi GitHub, które hostuje Twoje repozytorium.</span><span class="sxs-lookup"><span data-stu-id="4120e-140">Use the instructions provided by GitHub to generate the SSH key, and to add the SSH key to the GitHub account that is hosting your repository.</span></span>
    * <span data-ttu-id="4120e-141">Uruchom polecenia wymienione pod powyższym linkiem w powłoce platformy Docker narzędzia Jenkins (a nie na hoście).</span><span class="sxs-lookup"><span data-stu-id="4120e-141">Run the commands mentioned in the preceding link in the Jenkins Docker shell (and not on your host).</span></span>
    * <span data-ttu-id="4120e-142">Aby zalogować się do powłoki narzędzia Jenkins z poziomu hosta, użyj następującego polecenia:</span><span class="sxs-lookup"><span data-stu-id="4120e-142">To sign in to the Jenkins shell from your host, use the following command:</span></span>

  ```sh
  docker exec -t -i [first-four-digits-of-container-ID] /bin/bash
  ```

## <a name="set-up-jenkins-outside-a-service-fabric-cluster"></a><span data-ttu-id="4120e-143">Konfigurowanie narzędzia Jenkins poza klastrem usługi Service Fabric</span><span class="sxs-lookup"><span data-stu-id="4120e-143">Set up Jenkins outside a Service Fabric cluster</span></span>

<span data-ttu-id="4120e-144">Narzędzie Jenkins możesz skonfigurować wewnątrz klastra usługi Service Fabric lub poza nim.</span><span class="sxs-lookup"><span data-stu-id="4120e-144">You can set up Jenkins either inside or outside of a Service Fabric cluster.</span></span> <span data-ttu-id="4120e-145">W poniższych sekcjach opisano sposób konfiguracji narzędzia poza klastrem.</span><span class="sxs-lookup"><span data-stu-id="4120e-145">The following sections show how to set it up outside a cluster.</span></span>

### <a name="prerequisites"></a><span data-ttu-id="4120e-146">Wymagania wstępne</span><span class="sxs-lookup"><span data-stu-id="4120e-146">Prerequisites</span></span>
<span data-ttu-id="4120e-147">Wymagane jest zainstalowanie platformy Docker.</span><span class="sxs-lookup"><span data-stu-id="4120e-147">You need to have Docker installed.</span></span> <span data-ttu-id="4120e-148">Poniższe polecenia umożliwiają zainstalowanie platformy Docker z terminalu:</span><span class="sxs-lookup"><span data-stu-id="4120e-148">The following commands can be used to install Docker from the terminal:</span></span>

  ```sh
  sudo apt-get install wget
  wget -qO- https://get.docker.io/ | sh
  ```

<span data-ttu-id="4120e-149">Teraz, po uruchomieniu polecenia ``docker info`` w terminalu, powinny zostać wyświetlone dane wyjściowe z informacją, że usługa platformy Docker jest uruchomiona.</span><span class="sxs-lookup"><span data-stu-id="4120e-149">Now when you run ``docker info`` in the terminal, you should see in the output that the Docker service is running.</span></span>

### <a name="steps"></a><span data-ttu-id="4120e-150">Kroki</span><span class="sxs-lookup"><span data-stu-id="4120e-150">Steps</span></span>
  1. <span data-ttu-id="4120e-151">Ściągnij obraz kontenera narzędzia Jenkins usługi Service Fabric: ``docker pull raunakpandya/jenkins:v1``</span><span class="sxs-lookup"><span data-stu-id="4120e-151">Pull the Service Fabric Jenkins container image: ``docker pull raunakpandya/jenkins:v1``</span></span>
  2. <span data-ttu-id="4120e-152">Uruchom obraz kontenera: ``docker run -itd -p 8080:8080 raunakpandya/jenkins:v1``</span><span class="sxs-lookup"><span data-stu-id="4120e-152">Run the container image: ``docker run -itd -p 8080:8080 raunakpandya/jenkins:v1``</span></span>
  3. <span data-ttu-id="4120e-153">Uzyskaj identyfikator wystąpienia obrazu kontenera.</span><span class="sxs-lookup"><span data-stu-id="4120e-153">Get the ID of the container image instance.</span></span> <span data-ttu-id="4120e-154">Listę wszystkich kontenerów platformy Docker można wyświetlić za pomocą polecenia ``docker ps –a``</span><span class="sxs-lookup"><span data-stu-id="4120e-154">You can list all the Docker containers with the command ``docker ps –a``</span></span>
  4. <span data-ttu-id="4120e-155">Zaloguj się do portalu narzędzia Jenkins, wykonując następujące kroki:</span><span class="sxs-lookup"><span data-stu-id="4120e-155">Sign in to the Jenkins portal by using the following steps:</span></span>

    * ```sh
    docker exec [first-four-digits-of-container-ID] cat /var/jenkins_home/secrets/initialAdminPassword
    ```
    <span data-ttu-id="4120e-156">Jeśli identyfikator kontenera to 2d24a73b5964, użyj wartości 2d24.</span><span class="sxs-lookup"><span data-stu-id="4120e-156">If container ID is 2d24a73b5964, use 2d24.</span></span>
    * <span data-ttu-id="4120e-157">To hasło będzie wymagane do zalogowania się do pulpitu nawigacyjnego narzędzia Jenkins z poziomu portalu, którego adres to ``http://<HOST-IP>:8080``</span><span class="sxs-lookup"><span data-stu-id="4120e-157">This password is required for signing in to the Jenkins dashboard from portal, which is ``http://<HOST-IP>:8080``</span></span>
    * <span data-ttu-id="4120e-158">Po pierwszym zalogowaniu się możesz utworzyć własne konto użytkownika i używać go w przyszłości. Możesz także nadal korzystać z konta administratora.</span><span class="sxs-lookup"><span data-stu-id="4120e-158">After you sign in for the first time, you can create your own user account and use that for future purposes, or you can continue to use the administrator account.</span></span> <span data-ttu-id="4120e-159">Po utworzeniu użytkownika należy kontynuować, korzystając z niego.</span><span class="sxs-lookup"><span data-stu-id="4120e-159">After you create a user, you need to continue with that.</span></span>
  5. <span data-ttu-id="4120e-160">Skonfiguruj usługę GitHub do pracy z narzędziem Jenkins, wykonując kroki opisane w temacie [Generating a new SSH key and adding it to the SSH agent](https://help.github.com/articles/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent/) (Generowanie nowego klucza SSH i dodawanie go do agenta SSH).</span><span class="sxs-lookup"><span data-stu-id="4120e-160">Set up GitHub to work with Jenkins, by using the steps mentioned in [Generating a new SSH key and adding it to the SSH agent](https://help.github.com/articles/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent/).</span></span>
        * <span data-ttu-id="4120e-161">Korzystając z instrukcji udostępnionych przez usługę GitHub, wygeneruj klucz SSH i dodaj go do konta usługi GitHub, które hostuje repozytorium.</span><span class="sxs-lookup"><span data-stu-id="4120e-161">Use the instructions provided by GitHub to generate the SSH key, and to add the SSH key to the GitHub account that is hosting the repository.</span></span>
        * <span data-ttu-id="4120e-162">Uruchom polecenia wymienione pod powyższym linkiem w powłoce platformy Docker narzędzia Jenkins (a nie na hoście).</span><span class="sxs-lookup"><span data-stu-id="4120e-162">Run the commands mentioned in the preceding link in the Jenkins Docker shell (and not on your host).</span></span>
      * <span data-ttu-id="4120e-163">Aby zalogować się do powłoki narzędzia Jenkins z poziomu hosta, użyj następujących poleceń:</span><span class="sxs-lookup"><span data-stu-id="4120e-163">To sign in to the Jenkins shell from your host, use the following commands:</span></span>

      ```sh
      docker exec -t -i [first-four-digits-of-container-ID] /bin/bash
      ```

<span data-ttu-id="4120e-164">Upewnij się, że klaster lub maszyna hostujące obraz kontenera narzędzia Jenkins mają publiczny adres IP.</span><span class="sxs-lookup"><span data-stu-id="4120e-164">Ensure that the cluster or machine where the Jenkins container image is hosted has a public-facing IP.</span></span> <span data-ttu-id="4120e-165">Dzięki temu wystąpienie narzędzia Jenkins może otrzymywać powiadomienia z usługi GitHub.</span><span class="sxs-lookup"><span data-stu-id="4120e-165">This enables the Jenkins instance to receive notifications from GitHub.</span></span>

## <a name="install-the-service-fabric-jenkins-plug-in-from-the-portal"></a><span data-ttu-id="4120e-166">Instalowanie wtyczki narzędzia Jenkins dla usługi Service Fabric z poziomu portalu</span><span class="sxs-lookup"><span data-stu-id="4120e-166">Install the Service Fabric Jenkins plug-in from the portal</span></span>

1. <span data-ttu-id="4120e-167">Przejdź do strony ``http://PublicIPorFQDN:8081``</span><span class="sxs-lookup"><span data-stu-id="4120e-167">Go to ``http://PublicIPorFQDN:8081``</span></span>
2. <span data-ttu-id="4120e-168">Na pulpicie nawigacyjnym narzędzia Jenkins wybierz pozycję **Manage Jenkins** > **Manage Plugins** > **Advanced** (Zarządzaj narzędziem Jenkins > Zarządzaj wtyczkami > Zaawansowane).</span><span class="sxs-lookup"><span data-stu-id="4120e-168">From the Jenkins dashboard, select **Manage Jenkins** > **Manage Plugins** > **Advanced**.</span></span>
<span data-ttu-id="4120e-169">W tym miejscu możesz przekazać wtyczkę.</span><span class="sxs-lookup"><span data-stu-id="4120e-169">Here, you can upload a plug-in.</span></span> <span data-ttu-id="4120e-170">Wybierz pozycję **Choose file** (Wybierz plik), a następnie wybierz plik **serviceFabric.hpi**, który został pobrany w ramach wymagań wstępnych.</span><span class="sxs-lookup"><span data-stu-id="4120e-170">Select **Choose file**, and then select the **serviceFabric.hpi** file, which you downloaded under prerequisites.</span></span> <span data-ttu-id="4120e-171">Po wybraniu polecenia **Upload** (Przekaż) narzędzie Jenkins automatycznie zainstaluje wtyczkę.</span><span class="sxs-lookup"><span data-stu-id="4120e-171">When you select **Upload**, Jenkins automatically installs the plug-in.</span></span> <span data-ttu-id="4120e-172">Zezwól na ponowne uruchomienie komputera, jeśli zostanie wyświetlony odpowiedni monit.</span><span class="sxs-lookup"><span data-stu-id="4120e-172">Allow a restart if requested.</span></span>

## <a name="create-and-configure-a-jenkins-job"></a><span data-ttu-id="4120e-173">Tworzenie i konfigurowanie zadania narzędzia Jenkins</span><span class="sxs-lookup"><span data-stu-id="4120e-173">Create and configure a Jenkins job</span></span>

1. <span data-ttu-id="4120e-174">Utwórz **nowy element** z poziomu pulpitu nawigacyjnego.</span><span class="sxs-lookup"><span data-stu-id="4120e-174">Create a **new item** from dashboard.</span></span>
2. <span data-ttu-id="4120e-175">Wprowadź nazwę elementu (na przykład **MyJob**).</span><span class="sxs-lookup"><span data-stu-id="4120e-175">Enter an item name (for example, **MyJob**).</span></span> <span data-ttu-id="4120e-176">Wybierz pozycję **free-style project** (projekt w stylu dowolnym) i kliknij przycisk **OK**.</span><span class="sxs-lookup"><span data-stu-id="4120e-176">Select **free-style project**, and click **OK**.</span></span>
3. <span data-ttu-id="4120e-177">Przejdź na stronę zadania i kliknij pozycję **Configure** (Konfiguruj).</span><span class="sxs-lookup"><span data-stu-id="4120e-177">Go the job page, and click **Configure**.</span></span>

   <span data-ttu-id="4120e-178">a.</span><span class="sxs-lookup"><span data-stu-id="4120e-178">a.</span></span> <span data-ttu-id="4120e-179">W sekcji ogólnej, w obszarze **GitHub project** (Projekt GitHub) określ adres URL projektu GitHub.</span><span class="sxs-lookup"><span data-stu-id="4120e-179">In the general section, under **GitHub project**, specify your GitHub project URL.</span></span> <span data-ttu-id="4120e-180">Pod tym adresem URL jest hostowana aplikacja Java usługi Service Fabric, którą chcesz zintegrować z przepływem ciągłej integracji/ciągłego wdrażania narzędzia Jenkins (na przykład ``https://github.com/sayantancs/SFJenkins``).</span><span class="sxs-lookup"><span data-stu-id="4120e-180">This URL hosts the Service Fabric Java application that you want to integrate with the Jenkins continuous integration, continuous deployment (CI/CD) flow (for example, ``https://github.com/sayantancs/SFJenkins``).</span></span>

   <span data-ttu-id="4120e-181">b.</span><span class="sxs-lookup"><span data-stu-id="4120e-181">b.</span></span> <span data-ttu-id="4120e-182">W obszarze **Source Code Management** (Zarządzanie kodem źródłowym) wybierz pozycję **Git**.</span><span class="sxs-lookup"><span data-stu-id="4120e-182">Under the **Source Code Management** section, select **Git**.</span></span> <span data-ttu-id="4120e-183">Określ adres URL repozytorium hostującego aplikację Java usługi Service Fabric, którą chcesz zintegrować z przepływem ciągłej integracji/ciągłego wdrażania narzędzia Jenkins (na przykład ``https://github.com/sayantancs/SFJenkins.git``).</span><span class="sxs-lookup"><span data-stu-id="4120e-183">Specify the repository URL that hosts the Service Fabric Java application that you want to integrate with the Jenkins CI/CD flow (for example, ``https://github.com/sayantancs/SFJenkins.git``).</span></span> <span data-ttu-id="4120e-184">W tym miejscu możesz również określić gałąź do skompilowania (na przykład **/master**).</span><span class="sxs-lookup"><span data-stu-id="4120e-184">Also, you can specify here which branch to build (for example, **/master**).</span></span>
4. <span data-ttu-id="4120e-185">Skonfiguruj usługę *GitHub* (która hostuje repozytorium), aby mogła komunikować się z narzędziem Jenkins.</span><span class="sxs-lookup"><span data-stu-id="4120e-185">Configure your *GitHub* (which is hosting the repository) so that it is able to talk to Jenkins.</span></span> <span data-ttu-id="4120e-186">Wykonaj następujące czynności:</span><span class="sxs-lookup"><span data-stu-id="4120e-186">Use the following steps:</span></span>

   <span data-ttu-id="4120e-187">a.</span><span class="sxs-lookup"><span data-stu-id="4120e-187">a.</span></span> <span data-ttu-id="4120e-188">Przejdź do strony repozytorium serwisu GitHub.</span><span class="sxs-lookup"><span data-stu-id="4120e-188">Go to your GitHub repository page.</span></span> <span data-ttu-id="4120e-189">Przejdź do pozycji **Settings** > **Integrations and Services** (Ustawienia > Integracje i usługi).</span><span class="sxs-lookup"><span data-stu-id="4120e-189">Go to **Settings** > **Integrations and Services**.</span></span>

   <span data-ttu-id="4120e-190">b.</span><span class="sxs-lookup"><span data-stu-id="4120e-190">b.</span></span> <span data-ttu-id="4120e-191">Wybierz pozycję **Add Service** (Dodaj usługę), wpisz ciąg **Jenkins** i wybierz pozycję **Jenkins-Github plugin** (Wtyczka Jenkins-Github).</span><span class="sxs-lookup"><span data-stu-id="4120e-191">Select **Add Service**, type **Jenkins**, and select the **Jenkins-GitHub plugin**.</span></span>

   <span data-ttu-id="4120e-192">c.</span><span class="sxs-lookup"><span data-stu-id="4120e-192">c.</span></span> <span data-ttu-id="4120e-193">Wprowadź adres URL elementu webhook narzędzia Jenkins (domyślnie adres URL powinien być następujący: ``http://<PublicIPorFQDN>:8081/github-webhook/``).</span><span class="sxs-lookup"><span data-stu-id="4120e-193">Enter your Jenkins webhook URL (by default, it should be ``http://<PublicIPorFQDN>:8081/github-webhook/``).</span></span> <span data-ttu-id="4120e-194">Kliknij pozycję **add/update service** (dodaj/aktualizuj usługę).</span><span class="sxs-lookup"><span data-stu-id="4120e-194">Click **add/update service**.</span></span>

   <span data-ttu-id="4120e-195">d.</span><span class="sxs-lookup"><span data-stu-id="4120e-195">d.</span></span> <span data-ttu-id="4120e-196">Do wystąpienia narzędzia Jenkins zostanie wysłane zdarzenie testowe.</span><span class="sxs-lookup"><span data-stu-id="4120e-196">A test event is sent to your Jenkins instance.</span></span> <span data-ttu-id="4120e-197">W usłudze GitHub powinien zostać wyświetlony zielony znacznik wyboru obok elementu webhook i projekt zostanie skompilowany.</span><span class="sxs-lookup"><span data-stu-id="4120e-197">You should see a green check by the webhook in GitHub, and your project will build.</span></span>

   <span data-ttu-id="4120e-198">e.</span><span class="sxs-lookup"><span data-stu-id="4120e-198">e.</span></span> <span data-ttu-id="4120e-199">W sekcji **Build Triggers** (Wyzwalacze kompilacji) wybierz odpowiednią opcję kompilacji.</span><span class="sxs-lookup"><span data-stu-id="4120e-199">Under the **Build Triggers** section, select which build option you want.</span></span> <span data-ttu-id="4120e-200">W tym przykładzie kompilacja ma być wyzwalana po każdej operacji wypychania do repozytorium.</span><span class="sxs-lookup"><span data-stu-id="4120e-200">For this example, you want to trigger a build whenever some push to the repository happens.</span></span> <span data-ttu-id="4120e-201">Dlatego wybierz pozycję **GitHub hook trigger for GITScm polling** (Wyzwalacz punktu zaczepienia GitHub na potrzeby sondowania GITScm).</span><span class="sxs-lookup"><span data-stu-id="4120e-201">So you select **GitHub hook trigger for GITScm polling**.</span></span> <span data-ttu-id="4120e-202">Wcześniej ta opcja miała nazwę **Build when a change is pushed to GitHub** (Kompiluj po wypchnięciu zmiany do usługi GitHub).</span><span class="sxs-lookup"><span data-stu-id="4120e-202">(Previously, this option was called **Build when a change is pushed to GitHub**.)</span></span>

   <span data-ttu-id="4120e-203">f.</span><span class="sxs-lookup"><span data-stu-id="4120e-203">f.</span></span> <span data-ttu-id="4120e-204">W sekcji **Build** (Kompilacja) z listy rozwijanej **Add build step** (Dodaj krok kompilacji) wybierz opcję **Invoke Gradle Script** (Wywołaj skrypt Gradle).</span><span class="sxs-lookup"><span data-stu-id="4120e-204">Under the **Build section**, from the drop-down **Add build step**, select the option **Invoke Gradle Script**.</span></span> <span data-ttu-id="4120e-205">W wyświetlonym widżecie określ ścieżkę do lokalizacji **Root build script** (Główny skrypt kompilacji) dla aplikacji.</span><span class="sxs-lookup"><span data-stu-id="4120e-205">In the widget that comes, specify the path to **Root build script** for your application.</span></span> <span data-ttu-id="4120e-206">Spowoduje to wybranie elementu build.gradle z określonej ścieżki i wykonanie odpowiedniego działania.</span><span class="sxs-lookup"><span data-stu-id="4120e-206">It picks up build.gradle from the path specified, and works accordingly.</span></span> <span data-ttu-id="4120e-207">W przypadku utworzenia projektu o nazwie ``MyActor`` (przy użyciu wtyczki środowiska Eclipse lub generatora Yeoman) główny skrypt kompilacji powinien zawierać wartość ``${WORKSPACE}/MyActor``.</span><span class="sxs-lookup"><span data-stu-id="4120e-207">If you create a project named ``MyActor`` (using the Eclipse plug-in or Yeoman generator), the root build script should contain ``${WORKSPACE}/MyActor``.</span></span> <span data-ttu-id="4120e-208">Na poniższym zrzucie ekranu przedstawiono przykład:</span><span class="sxs-lookup"><span data-stu-id="4120e-208">See the following screenshot for an example of what this looks like:</span></span>

    ![Akcja kompilacji narzędzia Jenkins w usłudze Service Fabric][build-step]

   <span data-ttu-id="4120e-210">g.</span><span class="sxs-lookup"><span data-stu-id="4120e-210">g.</span></span> <span data-ttu-id="4120e-211">Z listy rozwijanej **Post-Build Actions** (Akcje po kompilacji) wybierz pozycję **Deploy Service Fabric Project** (Wdróż projekt usługi Service Fabric).</span><span class="sxs-lookup"><span data-stu-id="4120e-211">From the **Post-Build Actions** drop-down, select **Deploy Service Fabric Project**.</span></span> <span data-ttu-id="4120e-212">W tym miejscu należy podać szczegóły dotyczące klastra, w ramach którego zostanie wdrożona skompilowana aplikacja usługi Service Fabric narzędzia Jenkins.</span><span class="sxs-lookup"><span data-stu-id="4120e-212">Here you need to provide cluster details where the Jenkins compiled Service Fabric application would be deployed.</span></span> <span data-ttu-id="4120e-213">Możesz także podać dodatkowe szczegóły dotyczące aplikacji służące do jej wdrożenia.</span><span class="sxs-lookup"><span data-stu-id="4120e-213">You can also provide additional application details used to deploy the application.</span></span> <span data-ttu-id="4120e-214">Na poniższym zrzucie ekranu przedstawiono przykład:</span><span class="sxs-lookup"><span data-stu-id="4120e-214">See the following screenshot for an example of what this looks like:</span></span>

    ![Akcja kompilacji narzędzia Jenkins w usłudze Service Fabric][post-build-step]

   > [!NOTE]
   > <span data-ttu-id="4120e-216">Określany w tym miejscu klaster może być tym samym klastrem, który hostuje aplikację kontenera narzędzia Jenkins, jeśli usługa Service Fabric jest używana do wdrożenia obrazu kontenera narzędzia Jenkins.</span><span class="sxs-lookup"><span data-stu-id="4120e-216">The cluster here could be same as the one hosting the Jenkins container application, in case you are using Service Fabric to deploy the Jenkins container image.</span></span>
   >

## <a name="next-steps"></a><span data-ttu-id="4120e-217">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="4120e-217">Next steps</span></span>
<span data-ttu-id="4120e-218">Usługa GitHub i narzędzie Jenkins są teraz skonfigurowane.</span><span class="sxs-lookup"><span data-stu-id="4120e-218">GitHub and Jenkins are now configured.</span></span> <span data-ttu-id="4120e-219">Rozważ dokonanie jakiejś przykładowej zmiany w Twoim projekcie ``MyActor`` w przykładzie repozytorium, https://github.com/sayantancs/SFJenkins.</span><span class="sxs-lookup"><span data-stu-id="4120e-219">Consider making some sample change in your ``MyActor`` project in the repository example, https://github.com/sayantancs/SFJenkins.</span></span> <span data-ttu-id="4120e-220">Wypchnij zmiany do zdalnej gałęzi ``master`` (lub dowolnej innej gałęzi skonfigurowanej do pracy).</span><span class="sxs-lookup"><span data-stu-id="4120e-220">Push your changes to a remote ``master`` branch (or any branch that you have configured to work with).</span></span> <span data-ttu-id="4120e-221">Spowoduje to wyzwolenie skonfigurowanego zadania narzędzia Jenkins ``MyJob``.</span><span class="sxs-lookup"><span data-stu-id="4120e-221">This triggers the Jenkins job, ``MyJob``, that you configured.</span></span> <span data-ttu-id="4120e-222">Pobierze ono zmiany z usługi GitHub, skompiluje je i wdroży aplikację w punkcie końcowym klastra określonym w akcjach wykonywanych po kompilacji.</span><span class="sxs-lookup"><span data-stu-id="4120e-222">It fetches the changes from GitHub, builds them, and deploys the application to the cluster endpoint you specified in post-build actions.</span></span>  

  <!-- Images -->
  [build-step]: ./media/service-fabric-cicd-your-linux-java-application-with-jenkins/build-step.png
  [post-build-step]: ./media/service-fabric-cicd-your-linux-java-application-with-jenkins/post-build-step.png
