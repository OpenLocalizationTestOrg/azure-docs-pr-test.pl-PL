---
title: "Konfigurowanie ciągłej integracji dla platformy Azure mikrousług | Dokumentacja firmy Microsoft"
description: "Omówienie sposobu konfigurowania ciągłej integracji i wdrażania aplikacji sieci szkieletowej usług za pomocą programu Visual Studio Team Services (VSTS)."
services: service-fabric
documentationcenter: na
author: mthalman-msft
manager: timlt
editor: 
ms.assetid: 3e8c2290-9e7a-456a-9b2c-db44d1b3988d
ms.service: multiple
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: multiple
ms.date: 12/06/2016
ms.author: mthalman;mikhegn
ms.openlocfilehash: 76a1e013e824910c7a489e345b6563ae3951378f
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 07/11/2017
---
# <a name="set-up-service-fabric-continuous-integration-and-deployment-with-visual-studio-team-services"></a><span data-ttu-id="24ba7-103">Konfigurowanie usługi sieć szkieletowa ciągłej integracji i wdrażanie za pomocą programu Visual Studio Team Services</span><span class="sxs-lookup"><span data-stu-id="24ba7-103">Set up Service Fabric continuous integration and deployment with Visual Studio Team Services</span></span>
<span data-ttu-id="24ba7-104">W tym artykule opisano kroki, aby skonfigurować ciągłej integracji i wdrażania aplikacji sieci szkieletowej usług Azure przy użyciu programu Visual Studio Team Services (VSTS).</span><span class="sxs-lookup"><span data-stu-id="24ba7-104">This article describes the steps to set up continuous integration and deployment for an Azure Service Fabric application by using Visual Studio Team Services (VSTS).</span></span>

<span data-ttu-id="24ba7-105">Ten dokument odzwierciedla bieżącą procedurę i może ulec zmianie.</span><span class="sxs-lookup"><span data-stu-id="24ba7-105">This document reflects the current procedure and is expected to change over time.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="24ba7-106">Wymagania wstępne</span><span class="sxs-lookup"><span data-stu-id="24ba7-106">Prerequisites</span></span>
<span data-ttu-id="24ba7-107">Aby rozpocząć pracę, wykonaj następujące kroki:</span><span class="sxs-lookup"><span data-stu-id="24ba7-107">To get started, follow these steps:</span></span>

1. <span data-ttu-id="24ba7-108">Upewnij się, że masz dostęp do konta usługi Team Services lub [utworzyć](https://www.visualstudio.com/docs/setup-admin/team-services/sign-up-for-visual-studio-team-services) samodzielnie.</span><span class="sxs-lookup"><span data-stu-id="24ba7-108">Ensure that you have access to a Team Services account or [create one](https://www.visualstudio.com/docs/setup-admin/team-services/sign-up-for-visual-studio-team-services) yourself.</span></span>
2. <span data-ttu-id="24ba7-109">Upewnij się, że masz dostęp do projektu zespołowego Team Services lub [utworzyć](https://www.visualstudio.com/docs/setup-admin/create-team-project) samodzielnie.</span><span class="sxs-lookup"><span data-stu-id="24ba7-109">Ensure that you have access to a Team Services team project or [create one](https://www.visualstudio.com/docs/setup-admin/create-team-project) yourself.</span></span>
3. <span data-ttu-id="24ba7-110">Upewnij się, że masz klaster sieci szkieletowej usług, do którego można wdrożyć aplikację lub utwórz go przy użyciu [portalu Azure](service-fabric-cluster-creation-via-portal.md), [szablonu usługi Azure Resource Manager](service-fabric-cluster-creation-via-arm.md), lub [programu Visual Studio](service-fabric-cluster-creation-via-visual-studio.md).</span><span class="sxs-lookup"><span data-stu-id="24ba7-110">Ensure that you have a Service Fabric cluster to which you can deploy your application or create one using the [Azure portal](service-fabric-cluster-creation-via-portal.md), an [Azure Resource Manager template](service-fabric-cluster-creation-via-arm.md), or [Visual Studio](service-fabric-cluster-creation-via-visual-studio.md).</span></span>
4. <span data-ttu-id="24ba7-111">Upewnij się, że utworzono już projektu aplikacji sieci szkieletowej usług (.sfproj).</span><span class="sxs-lookup"><span data-stu-id="24ba7-111">Ensure that you have already created a Service Fabric Application (.sfproj) project.</span></span> <span data-ttu-id="24ba7-112">Musi mieć projekt, który został utworzony lub uaktualniony przy użyciu usługi Service Fabric, zestawu SDK 2.1 lub wyższej (plik .sfproj powinien zawierać wartość właściwości ProjectVersion 1.1 lub nowszej).</span><span class="sxs-lookup"><span data-stu-id="24ba7-112">You must have a project that was created or upgraded with Service Fabric SDK 2.1 or higher (the .sfproj file should contain a ProjectVersion property value of 1.1 or higher).</span></span>

> [!NOTE]
> <span data-ttu-id="24ba7-113">Agenci kompilacji niestandardowej nie są już wymagane.</span><span class="sxs-lookup"><span data-stu-id="24ba7-113">Custom build agents are no longer required.</span></span> <span data-ttu-id="24ba7-114">Zespół usługi hostowanej agentów, teraz są zainstalowane z oprogramowania do zarządzania klastrami usługi Service Fabric, co pozwala na wdrożenie aplikacji bezpośrednio z tych agentów.</span><span class="sxs-lookup"><span data-stu-id="24ba7-114">Team Services hosted agents now come pre-installed with Service Fabric cluster management software, allowing for deployment of your applications directly from those agents.</span></span>
> 
> 

## <a name="configure-and-share-your-source-files"></a><span data-ttu-id="24ba7-115">Konfigurowanie i udostępnianie plików źródłowych</span><span class="sxs-lookup"><span data-stu-id="24ba7-115">Configure and share your source files</span></span>
<span data-ttu-id="24ba7-116">Pierwszą czynnością, którą chcesz wykonać jest przygotowanie profilu publikowania do użytku przez proces wdrażania, która jest wykonywana w ramach usług Team Services.</span><span class="sxs-lookup"><span data-stu-id="24ba7-116">The first thing you want to do is prepare a publish profile for use by the deployment process that executes within Team Services.</span></span>  <span data-ttu-id="24ba7-117">Profil publikowania powinny być konfigurowane do klastra, które zostały wcześniej przygotowane docelowego:</span><span class="sxs-lookup"><span data-stu-id="24ba7-117">The publish profile should be configured to target the cluster that you've previously prepared:</span></span>

1. <span data-ttu-id="24ba7-118">Wybierz profil publikowania w ramach projektu aplikacji, na który ma być używany dla przepływu pracy ciągłej integracji.</span><span class="sxs-lookup"><span data-stu-id="24ba7-118">Choose a publish profile within your Application project that you want to use for your continuous integration workflow.</span></span> <span data-ttu-id="24ba7-119">Postępuj zgodnie z [publikowania instrukcje](service-fabric-publish-app-remote-cluster.md) na temat sposobu publikowania aplikacji do zdalnego klastra.</span><span class="sxs-lookup"><span data-stu-id="24ba7-119">Follow the [publish instructions](service-fabric-publish-app-remote-cluster.md) on how to publish an application to a remote cluster.</span></span> <span data-ttu-id="24ba7-120">Faktycznie nie trzeba jednak opublikować aplikację.</span><span class="sxs-lookup"><span data-stu-id="24ba7-120">You don't actually need to publish your application though.</span></span> <span data-ttu-id="24ba7-121">Możesz kliknąć **zapisać** hiperłącze w oknie dialogowym publikowania po odpowiednio skonfigurowane rzeczy.</span><span class="sxs-lookup"><span data-stu-id="24ba7-121">You can click the **Save** hyperlink in the publish dialog once you have configured things appropriately.</span></span>
2. <span data-ttu-id="24ba7-122">Jeśli chcesz, aby aplikacja ma zostać uaktualniony dla każdego wdrożenia, znajdującego się w Team Services, chcesz skonfigurować profil publikowania, aby umożliwić uaktualnienie.</span><span class="sxs-lookup"><span data-stu-id="24ba7-122">If you want your application to be upgraded for each deployment that occurs within Team Services, you want to configure the publish profile to enable upgrade.</span></span> <span data-ttu-id="24ba7-123">W tym samym dialogowym publikowania w kroku 1, upewnij się, że **uaktualnienie aplikacji** jest zaznaczone pole wyboru.</span><span class="sxs-lookup"><span data-stu-id="24ba7-123">In the same publish dialog used in step 1, ensure that the **Upgrade the Application** checkbox is checked.</span></span>  <span data-ttu-id="24ba7-124">Dowiedz się więcej o [Konfigurowanie dodatkowych ustawień uaktualnienia](service-fabric-visualstudio-configure-upgrade.md).</span><span class="sxs-lookup"><span data-stu-id="24ba7-124">Learn more about [configuring additional upgrade settings](service-fabric-visualstudio-configure-upgrade.md).</span></span> <span data-ttu-id="24ba7-125">Kliknij przycisk **zapisać** hiperłącze, aby zapisać ustawienia w profilu publikowania.</span><span class="sxs-lookup"><span data-stu-id="24ba7-125">Click the **Save** hyperlink to save the settings to the publish profile.</span></span>
3. <span data-ttu-id="24ba7-126">Sprawdź, czy zmiany zostały zapisane profil publikowania i Anuluj w oknie dialogowym publikowania.</span><span class="sxs-lookup"><span data-stu-id="24ba7-126">Ensure that you've saved your changes to the publish profile and cancel the publish dialog.</span></span>
4. <span data-ttu-id="24ba7-127">Teraz nadszedł czas na [udziału plików źródłowych projektu aplikacji](https://www.visualstudio.com/docs/setup-admin/team-services/connect-to-visual-studio-team-services#vs) z usługi Team Services.</span><span class="sxs-lookup"><span data-stu-id="24ba7-127">Now it's time to [share your Application project source files](https://www.visualstudio.com/docs/setup-admin/team-services/connect-to-visual-studio-team-services#vs) with Team Services.</span></span> <span data-ttu-id="24ba7-128">Gdy plików źródłowych są dostępne w usłudze Team Services, możesz teraz przejść do następnego kroku kompilacji do wygenerowania.</span><span class="sxs-lookup"><span data-stu-id="24ba7-128">Once your source files are accessible in Team Services, you can now move on to the next step of generating builds.</span></span> 

## <a name="create-a-build-definition"></a><span data-ttu-id="24ba7-129">Tworzenie definicji kompilacji</span><span class="sxs-lookup"><span data-stu-id="24ba7-129">Create a build definition</span></span>
<span data-ttu-id="24ba7-130">Definicja kompilacji Team Services zawiera opis przepływu pracy, który składa się z zestaw kroków kompilacji, które są wykonywane sekwencyjnie.</span><span class="sxs-lookup"><span data-stu-id="24ba7-130">A Team Services build definition describes a workflow that is composed of a set of build steps that are executed sequentially.</span></span> <span data-ttu-id="24ba7-131">Celem definicji kompilacji, tworzona jest pakiet aplikacji sieci szkieletowej usług i innych artefaktów, których można użyć do wdrożenia aplikacji.</span><span class="sxs-lookup"><span data-stu-id="24ba7-131">The goal of the build definition that you are creating is to produce a Service Fabric application package, and other artifacts, that can be used to deploy the application.</span></span> <span data-ttu-id="24ba7-132">Dowiedz się więcej na temat usługi Team Services [definicje kompilacji](https://www.visualstudio.com/docs/build/define/create).</span><span class="sxs-lookup"><span data-stu-id="24ba7-132">Learn more about Team Services [build definitions](https://www.visualstudio.com/docs/build/define/create).</span></span>

### <a name="create-a-definition-from-the-build-template"></a><span data-ttu-id="24ba7-133">Utwórz definicję w szablonie kompilacji</span><span class="sxs-lookup"><span data-stu-id="24ba7-133">Create a definition from the build template</span></span>
1. <span data-ttu-id="24ba7-134">Otwórz projekt w programie Visual Studio Team Services.</span><span class="sxs-lookup"><span data-stu-id="24ba7-134">Open your team project in Visual Studio Team Services.</span></span>
2. <span data-ttu-id="24ba7-135">Wybierz **kompilacji** kartę.</span><span class="sxs-lookup"><span data-stu-id="24ba7-135">Select the **Build** tab.</span></span>
3. <span data-ttu-id="24ba7-136">Wybierz zielonego  **+**  logowanie, aby utworzyć nową definicję kompilacji.</span><span class="sxs-lookup"><span data-stu-id="24ba7-136">Select the green **+** sign to create a new build definition.</span></span>
4. <span data-ttu-id="24ba7-137">W otwartym oknie dialogowym wybierz **aplikacji sieci szkieletowej usług Azure** w **kompilacji** kategorii szablonu.</span><span class="sxs-lookup"><span data-stu-id="24ba7-137">In the dialog that opens, select **Azure Service Fabric Application** within the **Build** template category.</span></span>
5. <span data-ttu-id="24ba7-138">Wybierz **dalej**.</span><span class="sxs-lookup"><span data-stu-id="24ba7-138">Select **Next**.</span></span>
6. <span data-ttu-id="24ba7-139">Wybierz repozytorium i gałęzi skojarzone z aplikacją sieci szkieletowej usług.</span><span class="sxs-lookup"><span data-stu-id="24ba7-139">Select the repository and branch associated with your Service Fabric application.</span></span>
7. <span data-ttu-id="24ba7-140">Wybierz kolejki agenta, którego chcesz użyć.</span><span class="sxs-lookup"><span data-stu-id="24ba7-140">Select the agent queue you wish to use.</span></span> <span data-ttu-id="24ba7-141">Hostowani agenci są obsługiwane.</span><span class="sxs-lookup"><span data-stu-id="24ba7-141">Hosted agents are supported.</span></span>
8. <span data-ttu-id="24ba7-142">Wybierz pozycję **Utwórz**.</span><span class="sxs-lookup"><span data-stu-id="24ba7-142">Select **Create**.</span></span>
9. <span data-ttu-id="24ba7-143">Zapisz definicję kompilacji i podaj nazwę.</span><span class="sxs-lookup"><span data-stu-id="24ba7-143">Save the build definition and provide a name.</span></span>
10. <span data-ttu-id="24ba7-144">Następujący ustęp jest opis kroków kompilacji generowane przez szablon:</span><span class="sxs-lookup"><span data-stu-id="24ba7-144">The following paragraph is a description of the build steps generated by the template:</span></span>

| <span data-ttu-id="24ba7-145">Krok kompilacji</span><span class="sxs-lookup"><span data-stu-id="24ba7-145">Build step</span></span> | <span data-ttu-id="24ba7-146">Opis</span><span class="sxs-lookup"><span data-stu-id="24ba7-146">Description</span></span> |
| --- | --- |
| <span data-ttu-id="24ba7-147">Przywracanie NuGet</span><span class="sxs-lookup"><span data-stu-id="24ba7-147">NuGet restore</span></span> |<span data-ttu-id="24ba7-148">Przywraca pakietów NuGet dla rozwiązania.</span><span class="sxs-lookup"><span data-stu-id="24ba7-148">Restores the NuGet packages for the solution.</span></span> |
| <span data-ttu-id="24ba7-149">Tworzenie rozwiązania \*.sln</span><span class="sxs-lookup"><span data-stu-id="24ba7-149">Build solution \*.sln</span></span> |<span data-ttu-id="24ba7-150">Tworzy całego rozwiązania.</span><span class="sxs-lookup"><span data-stu-id="24ba7-150">Builds the entire solution.</span></span> |
| <span data-ttu-id="24ba7-151">Tworzenie rozwiązania \*.sfproj</span><span class="sxs-lookup"><span data-stu-id="24ba7-151">Build solution \*.sfproj</span></span> |<span data-ttu-id="24ba7-152">Generuje pakiet aplikacji sieci szkieletowej usług, który służy do wdrażania aplikacji.</span><span class="sxs-lookup"><span data-stu-id="24ba7-152">Generates the Service Fabric application package that is used to deploy the application.</span></span> <span data-ttu-id="24ba7-153">Lokalizacja pakietu aplikacji jest określona muszą mieścić się w katalogu artefaktów kompilacji.</span><span class="sxs-lookup"><span data-stu-id="24ba7-153">The application package location is specified to be within the build's artifact directory.</span></span> |
| <span data-ttu-id="24ba7-154">Aktualizuj wersje aplikacji sieci szkieletowej usług</span><span class="sxs-lookup"><span data-stu-id="24ba7-154">Update Service Fabric App Versions</span></span> |<span data-ttu-id="24ba7-155">Aktualizuje wartości wersji zawarte w plikach manifestu pakietu aplikacji, aby umożliwić obsługę uaktualnienia.</span><span class="sxs-lookup"><span data-stu-id="24ba7-155">Updates the version values contained in the application package's manifest files to allow for upgrade support.</span></span> <span data-ttu-id="24ba7-156">Zobacz [stronę dokumentacji zadań](https://go.microsoft.com/fwlink/?LinkId=820529) Aby uzyskać więcej informacji.</span><span class="sxs-lookup"><span data-stu-id="24ba7-156">See the [task documentation page](https://go.microsoft.com/fwlink/?LinkId=820529) for more information.</span></span> |
| <span data-ttu-id="24ba7-157">Skopiuj pliki</span><span class="sxs-lookup"><span data-stu-id="24ba7-157">Copy Files</span></span> |<span data-ttu-id="24ba7-158">Kopiuje pliki parametrów profilu i aplikacji publikowania do artefaktów kompilacji do użycia dla wdrożenia.</span><span class="sxs-lookup"><span data-stu-id="24ba7-158">Copies the publish profile and application parameters files to the build's artifacts to be consumed for deployment.</span></span> |
| <span data-ttu-id="24ba7-159">Publikowanie artefaktów</span><span class="sxs-lookup"><span data-stu-id="24ba7-159">Publish Artifact</span></span> |<span data-ttu-id="24ba7-160">Publikuje artefaktów kompilacji.</span><span class="sxs-lookup"><span data-stu-id="24ba7-160">Publishes the build's artifacts.</span></span> <span data-ttu-id="24ba7-161">Pozwala na określenie wersji, można używać artefaktów kompilacji.</span><span class="sxs-lookup"><span data-stu-id="24ba7-161">Allows a release definition to consume the build's artifacts.</span></span> |

### <a name="verify-the-default-set-of-tasks"></a><span data-ttu-id="24ba7-162">Sprawdź domyślny zestaw zadań</span><span class="sxs-lookup"><span data-stu-id="24ba7-162">Verify the default set of tasks</span></span>
1. <span data-ttu-id="24ba7-163">Sprawdź **rozwiązania** pole wejściowe dla **Przywracanie NuGet** i **zbudować rozwiązanie** kroki procesu kompilacji.</span><span class="sxs-lookup"><span data-stu-id="24ba7-163">Verify the **Solution** input field for the **NuGet restore** and **Build solution** build steps.</span></span>  <span data-ttu-id="24ba7-164">Domyślnie te kroki procesu kompilacji wykonać na wszystkich plików rozwiązania, które znajdują się w repozytorium skojarzone.</span><span class="sxs-lookup"><span data-stu-id="24ba7-164">By default, these build steps execute upon all solution files that are contained in the associated repository.</span></span>  <span data-ttu-id="24ba7-165">Jeśli chcesz tylko definicji kompilacji do działania na jeden z tych plików rozwiązania, musisz jawnie zaktualizuj ścieżkę do tego pliku.</span><span class="sxs-lookup"><span data-stu-id="24ba7-165">If you only want the build definition to operate on one of those solution files, you need to explicitly update the path to that file.</span></span>
2. <span data-ttu-id="24ba7-166">Sprawdź **rozwiązania** pole wejściowe dla **pakietu aplikacji** kroku kompilacji.</span><span class="sxs-lookup"><span data-stu-id="24ba7-166">Verify the **Solution** input field for the **Package application** build step.</span></span>  <span data-ttu-id="24ba7-167">Domyślnie ten krok kompilacji przyjęto założenie, że tylko jeden projekt aplikacji sieci szkieletowej usług (.sfproj) istnieje w repozytorium.</span><span class="sxs-lookup"><span data-stu-id="24ba7-167">By default, this build step assumes only one Service Fabric Application project (.sfproj) exists in the repository.</span></span>  <span data-ttu-id="24ba7-168">Jeśli masz wiele takich plików w repozytorium i tylko jeden z nich dla tej definicji kompilacji docelową, musisz jawnie zaktualizuj ścieżkę do tego pliku.</span><span class="sxs-lookup"><span data-stu-id="24ba7-168">If you have multiple such files in your repository and want to target only one of them for this build definition, you need to explicitly update the path to that file.</span></span>  <span data-ttu-id="24ba7-169">Jeśli chcesz pakietu wielu projektów aplikacji w repozytorium, musisz utworzyć dodatkowe **kompilacji programu Visual Studio** czynnościach w ramach definicji kompilacji, że docelowa każdy projekt aplikacji.</span><span class="sxs-lookup"><span data-stu-id="24ba7-169">If you want to package multiple Application projects in your repository, you need to create additional **Visual Studio Build** steps in the build definition that each target an Application project.</span></span>  <span data-ttu-id="24ba7-170">Następnie należy również zaktualizować **argumenty programu MSBuild** pola dla każdego z tych kroki procesu kompilacji, tak aby lokalizacja pakietu jest unikatowy dla każdego z nich.</span><span class="sxs-lookup"><span data-stu-id="24ba7-170">You would then also need to update the **MSBuild Arguments** field for each of those build steps so that the package location is unique for each of them.</span></span>
3. <span data-ttu-id="24ba7-171">Sprawdź zachowanie wersji zdefiniowanej w **wersje aplikacji sieci szkieletowej usług aktualizacji** kroku kompilacji.</span><span class="sxs-lookup"><span data-stu-id="24ba7-171">Verify the versioning behavior defined in the **Update Service Fabric App Versions** build step.</span></span>  <span data-ttu-id="24ba7-172">Domyślnie ten krok kompilacji dołącza numer kompilacji do wszystkich wartości wersji w plikach manifestu pakietu aplikacji.</span><span class="sxs-lookup"><span data-stu-id="24ba7-172">By default, this build step appends the build number to all version values in the application package's manifest files.</span></span> <span data-ttu-id="24ba7-173">Zobacz [stronę dokumentacji zadań](https://go.microsoft.com/fwlink/?LinkId=820529) Aby uzyskać więcej informacji.</span><span class="sxs-lookup"><span data-stu-id="24ba7-173">See the [task documentation page](https://go.microsoft.com/fwlink/?LinkId=820529) for more information.</span></span> <span data-ttu-id="24ba7-174">Jest to przydatne do obsługi uaktualniania aplikacji, ponieważ dla każdego wdrożenia uaktualnienia wymaga wartości innej wersji z poprzedniego wdrożenia.</span><span class="sxs-lookup"><span data-stu-id="24ba7-174">This is useful for supporting upgrade of your application since each upgrade deployment requires different version values from the previous deployment.</span></span> <span data-ttu-id="24ba7-175">Jeśli użytkownik nie zamiar użycia uaktualniania aplikacji w przepływie pracy, można rozważyć wyłączenie tego kroku kompilacji.</span><span class="sxs-lookup"><span data-stu-id="24ba7-175">If you're not intending to use application upgrade in your workflow, you may consider disabling this build step.</span></span> <span data-ttu-id="24ba7-176">Musi zostać wyłączona, jeśli chcesz utworzyć kompilacji, która może służyć do zastępowania istniejącej aplikacji sieci szkieletowej usług.</span><span class="sxs-lookup"><span data-stu-id="24ba7-176">It must be disabled if your intention is to produce a build that can be used to overwrite an existing Service Fabric application.</span></span> <span data-ttu-id="24ba7-177">Wdrożenie nie powiedzie się, jeśli wersja aplikacji wytworzone przez kompilację nie jest zgodna z wersją aplikacji w klastrze.</span><span class="sxs-lookup"><span data-stu-id="24ba7-177">The deployment fails if the version of the application produced by the build does not match the version of the application in the cluster.</span></span>
4. <span data-ttu-id="24ba7-178">Jeśli rozwiązanie zawiera projekt .NET Core, upewnij się, że definicję kompilacji zawiera kroku kompilacji, która przywraca zależności:</span><span class="sxs-lookup"><span data-stu-id="24ba7-178">If your solution contains a .NET Core project, you must ensure that your build definition contains a build step that restores the dependencies:</span></span>
   1. <span data-ttu-id="24ba7-179">Wybierz **Dodaj krok kompilacji...** .</span><span class="sxs-lookup"><span data-stu-id="24ba7-179">Select **Add build step...**.</span></span>
   2. <span data-ttu-id="24ba7-180">Zlokalizuj **wiersza polecenia** zadań na karcie Narzędzia, a następnie kliknij przycisk Dodaj.</span><span class="sxs-lookup"><span data-stu-id="24ba7-180">Locate the **Command-Line** task within the Utility tab and click its Add button.</span></span>
   3. <span data-ttu-id="24ba7-181">Dla pól danych wejściowych zadań użyj następujących wartości:</span><span class="sxs-lookup"><span data-stu-id="24ba7-181">For the task's input fields, use the following values:</span></span>
   4. <span data-ttu-id="24ba7-182">Narzędzie: dotnet</span><span class="sxs-lookup"><span data-stu-id="24ba7-182">Tool: dotnet</span></span>
   5. <span data-ttu-id="24ba7-183">Argumenty: Przywracanie</span><span class="sxs-lookup"><span data-stu-id="24ba7-183">Arguments: restore</span></span>
   6. <span data-ttu-id="24ba7-184">Przeciągnij zadanie tak, aby natychmiast po **Przywracanie NuGet** kroku.</span><span class="sxs-lookup"><span data-stu-id="24ba7-184">Drag the task so that it is immediately after the **NuGet restore** step.</span></span>
5. <span data-ttu-id="24ba7-185">Zapisz zmiany wprowadzone do definicji kompilacji.</span><span class="sxs-lookup"><span data-stu-id="24ba7-185">Save any changes you've made to the build definition.</span></span>

### <a name="try-it"></a><span data-ttu-id="24ba7-186">Wypróbuj</span><span class="sxs-lookup"><span data-stu-id="24ba7-186">Try it</span></span>
<span data-ttu-id="24ba7-187">Wybierz **kolejka kompilacji** ręcznie uruchomić kompilację.</span><span class="sxs-lookup"><span data-stu-id="24ba7-187">Select **Queue Build** to manually start a build.</span></span> <span data-ttu-id="24ba7-188">Opisano również wyzwalacze wypychania lub zaewidencjonowania.</span><span class="sxs-lookup"><span data-stu-id="24ba7-188">Builds also triggers upon push or check-in.</span></span> <span data-ttu-id="24ba7-189">Po upewnieniu się, że kompilacji jest wykonywany pomyślnie, możesz teraz przejść do określenia definicji wersji, która wdraża aplikację do klastra.</span><span class="sxs-lookup"><span data-stu-id="24ba7-189">Once you've verified that the build is executing successfully, you can now move on to defining a release definition that deploys your application to a cluster.</span></span>

## <a name="create-a-release-definition"></a><span data-ttu-id="24ba7-190">Utwórz definicję zlecenia</span><span class="sxs-lookup"><span data-stu-id="24ba7-190">Create a release definition</span></span>
<span data-ttu-id="24ba7-191">Definicja wersji Team Services zawiera opis przepływu pracy, który składa się z zestawu zadań, które są wykonywane sekwencyjnie.</span><span class="sxs-lookup"><span data-stu-id="24ba7-191">A Team Services release definition describes a workflow that is composed of a set of tasks that are executed sequentially.</span></span> <span data-ttu-id="24ba7-192">Celem definicji wersji, tworzona jest podjąć pakietu aplikacji, a następnie wdrożyć go do klastra.</span><span class="sxs-lookup"><span data-stu-id="24ba7-192">The goal of the release definition that you are creating is to take an application package and deploy it to a cluster.</span></span> <span data-ttu-id="24ba7-193">Razem definicję kompilacji i definicji wersji można wykonywać całego przepływu pracy z począwszy od plików źródłowych z uruchomioną aplikację w klastrze.</span><span class="sxs-lookup"><span data-stu-id="24ba7-193">When used together, the build definition and release definition can execute the entire workflow from starting with source files to ending with a running application in your cluster.</span></span> <span data-ttu-id="24ba7-194">Dowiedz się więcej na temat usługi Team Services [wersji definicji](https://www.visualstudio.com/docs/release/author-release-definition/more-release-definition).</span><span class="sxs-lookup"><span data-stu-id="24ba7-194">Learn more about Team Services [release definitions](https://www.visualstudio.com/docs/release/author-release-definition/more-release-definition).</span></span>

### <a name="create-a-definition-from-the-release-template"></a><span data-ttu-id="24ba7-195">Utwórz definicję szablonu zlecenia</span><span class="sxs-lookup"><span data-stu-id="24ba7-195">Create a definition from the release template</span></span>
1. <span data-ttu-id="24ba7-196">Otwórz projekt w programie Visual Studio Team Services.</span><span class="sxs-lookup"><span data-stu-id="24ba7-196">Open your project in Visual Studio Team Services.</span></span>
2. <span data-ttu-id="24ba7-197">Wybierz **wersji** kartę.</span><span class="sxs-lookup"><span data-stu-id="24ba7-197">Select the **Release** tab.</span></span>
3. <span data-ttu-id="24ba7-198">Wybierz zielonego  **+**  Zarejestruj, aby utworzyć nową definicję wersji i wybierz **Tworzenie wersji definicji** w menu.</span><span class="sxs-lookup"><span data-stu-id="24ba7-198">Select the green **+** sign to create a new release definition and select **Create release definition** in the menu.</span></span>
4. <span data-ttu-id="24ba7-199">W otwartym oknie dialogowym wybierz **wdrażania usługi Azure Service Fabric** w **wdrożenia** kategorii szablonu.</span><span class="sxs-lookup"><span data-stu-id="24ba7-199">In the dialog that opens, select **Azure Service Fabric Deployment** within the **Deployment** template category.</span></span>
5. <span data-ttu-id="24ba7-200">Wybierz **dalej**.</span><span class="sxs-lookup"><span data-stu-id="24ba7-200">Select **Next**.</span></span>
6. <span data-ttu-id="24ba7-201">Wybierz definicję kompilacji, który ma być używany jako źródło tej definicji wersji.</span><span class="sxs-lookup"><span data-stu-id="24ba7-201">Select the build definition you want to use as the source of this release definition.</span></span>  <span data-ttu-id="24ba7-202">Wersja definicji odwołuje się do artefaktów, które zostały utworzone przez wybraną definicją kompilacji.</span><span class="sxs-lookup"><span data-stu-id="24ba7-202">The release definition references the artifacts that were produced by the selected build definition.</span></span>
7. <span data-ttu-id="24ba7-203">Sprawdź **ciągłe wdrażanie** pole wyboru, jeśli chcesz, aby usługi Team Services automatycznie utworzyć nową wersję i wdrażania aplikacji usługi Service Fabric, gdy kompilacja zostaje ukończona.</span><span class="sxs-lookup"><span data-stu-id="24ba7-203">Check the **Continuous deployment** check box if you wish to have Team Services automatically create a new release and deploy the Service Fabric application whenever a build completes.</span></span>
8. <span data-ttu-id="24ba7-204">Wybierz kolejki agenta, którego chcesz użyć.</span><span class="sxs-lookup"><span data-stu-id="24ba7-204">Select the agent queue you wish to use.</span></span> <span data-ttu-id="24ba7-205">Hostowani agenci są obsługiwane.</span><span class="sxs-lookup"><span data-stu-id="24ba7-205">Hosted agents are supported.</span></span>
9. <span data-ttu-id="24ba7-206">Wybierz pozycję **Utwórz**.</span><span class="sxs-lookup"><span data-stu-id="24ba7-206">Select **Create**.</span></span>
10. <span data-ttu-id="24ba7-207">Edytuj nazwę definicji, klikając ikonę ołówka w górnej części strony.</span><span class="sxs-lookup"><span data-stu-id="24ba7-207">Edit the definition name by clicking the pencil icon at the top of the page.</span></span>
11. <span data-ttu-id="24ba7-208">Wybierz klaster, do którego powinny zostać wdrożone aplikacji z **połączenia klastra** pole wejściowe zadania.</span><span class="sxs-lookup"><span data-stu-id="24ba7-208">Select the cluster to which your application should be deployed from the **Cluster Connection** input field of the task.</span></span> <span data-ttu-id="24ba7-209">Połączenia klastra dostarcza niezbędne informacje, który umożliwia zadania wdrażania połączyć się z klastrem.</span><span class="sxs-lookup"><span data-stu-id="24ba7-209">The cluster connection provides the necessary information that allows the deployment task to connect to the cluster.</span></span> <span data-ttu-id="24ba7-210">Jeśli połączenie klastra nie jest jeszcze ma dla klastra, wybierz **Zarządzaj** hyperlink obok pola, aby dodać jeden.</span><span class="sxs-lookup"><span data-stu-id="24ba7-210">If you do not yet have a cluster connection for your cluster, select the **Manage** hyperlink next to the field to add one.</span></span> <span data-ttu-id="24ba7-211">Na stronie zostanie otwarty wykonaj następujące czynności:</span><span class="sxs-lookup"><span data-stu-id="24ba7-211">On the page that opens, perform the following steps:</span></span>
    1. <span data-ttu-id="24ba7-212">Wybierz **nowy punkt końcowy usługi** , a następnie wybierz **sieć szkieletowa usług Azure** z menu.</span><span class="sxs-lookup"><span data-stu-id="24ba7-212">Select **New Service Endpoint** and then select **Azure Service Fabric** from the menu.</span></span>
    2. <span data-ttu-id="24ba7-213">Wybierz typ uwierzytelniania używany przez klaster docelowe przez ten punkt końcowy.</span><span class="sxs-lookup"><span data-stu-id="24ba7-213">Select the type of authentication being used by the cluster targeted by this endpoint.</span></span>
    3. <span data-ttu-id="24ba7-214">Zdefiniuj nazwę połączenia w programie **nazwa połączenia** pola.</span><span class="sxs-lookup"><span data-stu-id="24ba7-214">Define a name for your connection in the **Connection Name** field.</span></span>  <span data-ttu-id="24ba7-215">Zazwyczaj będzie używać nazwy klastra.</span><span class="sxs-lookup"><span data-stu-id="24ba7-215">Typically, you would use the name of your cluster.</span></span>
    4. <span data-ttu-id="24ba7-216">Zdefiniuj adres URL punktu końcowego połączenia klienta w **punktu końcowego klastra** pola.</span><span class="sxs-lookup"><span data-stu-id="24ba7-216">Define the client connection endpoint URL in the **Cluster Endpoint** field.</span></span>  <span data-ttu-id="24ba7-217">Przykład: tcp://contoso.westus.cloudapp.azure.com:19000.</span><span class="sxs-lookup"><span data-stu-id="24ba7-217">Example: tcp://contoso.westus.cloudapp.azure.com:19000.</span></span>
    5. <span data-ttu-id="24ba7-218">Dla poświadczeń usługi Azure Active Directory, należy zdefiniować poświadczeń ma być używana do łączenia się z klastrem w **Username** i **hasło** pola.</span><span class="sxs-lookup"><span data-stu-id="24ba7-218">For Azure Active Directory credentials, define the credentials you want to use to connect to the cluster in the **Username** and **Password** fields.</span></span>
    6. <span data-ttu-id="24ba7-219">Do uwierzytelniania na podstawie certyfikatu, zdefiniuj kodowania Base64 plik certyfikatu klienta w **certyfikatu klienta** pola.</span><span class="sxs-lookup"><span data-stu-id="24ba7-219">For Certificate Based authentication, define the Base64 encoding of the client certificate file in the **Client Certificate** field.</span></span>  <span data-ttu-id="24ba7-220">Zapoznaj się z pomocą wyskakującego o to pole, aby uzyskać informacje dotyczące sposobu uzyskania tej wartości.</span><span class="sxs-lookup"><span data-stu-id="24ba7-220">See the help pop-up on that field for info on how to get that value.</span></span>  <span data-ttu-id="24ba7-221">Jeśli certyfikat jest chroniony hasłem, należy określić hasło w **hasło** pola.</span><span class="sxs-lookup"><span data-stu-id="24ba7-221">If your certificate is password-protected, define the password in the **Password** field.</span></span>
    7. <span data-ttu-id="24ba7-222">Potwierdź wprowadzone zmiany, klikając **OK**.</span><span class="sxs-lookup"><span data-stu-id="24ba7-222">Confirm your changes by clicking **OK**.</span></span> <span data-ttu-id="24ba7-223">Po nawigacji Wstecz do definicji wersji, kliknij ikonę odświeżania **połączenia klastra** pola, aby wyświetlić właśnie dodano punkt końcowy.</span><span class="sxs-lookup"><span data-stu-id="24ba7-223">After navigating back to your release definition, click the refresh icon on the **Cluster Connection** field to see the endpoint you just added.</span></span>
12. <span data-ttu-id="24ba7-224">Zapisz definicję wersji.</span><span class="sxs-lookup"><span data-stu-id="24ba7-224">Save the release definition.</span></span>

> [!NOTE]
> <span data-ttu-id="24ba7-225">Accounts firmy Microsoft (na przykład @hotmail.com lub @outlook.com) nie są obsługiwane przy użyciu uwierzytelniania usługi Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="24ba7-225">Microsoft Accounts (for example, @hotmail.com or @outlook.com) are not supported with Azure Active Directory authentication.</span></span>
> 
> 

<span data-ttu-id="24ba7-226">Definicja, która jest tworzona składa się z jednego zadania typu **wdrożenia aplikacji sieci szkieletowej usług**.</span><span class="sxs-lookup"><span data-stu-id="24ba7-226">The definition that is created consists of one task of type **Service Fabric Application Deployment**.</span></span> <span data-ttu-id="24ba7-227">Zobacz [stronę dokumentacji zadań](https://go.microsoft.com/fwlink/?LinkId=820528) uzyskać więcej informacji dotyczących tego zadania.</span><span class="sxs-lookup"><span data-stu-id="24ba7-227">See the [task documentation page](https://go.microsoft.com/fwlink/?LinkId=820528) for more information about this task.</span></span>

### <a name="verify-the-template-defaults"></a><span data-ttu-id="24ba7-228">Sprawdź domyślne ustawienia szablonu</span><span class="sxs-lookup"><span data-stu-id="24ba7-228">Verify the template defaults</span></span>
1. <span data-ttu-id="24ba7-229">Sprawdź **profilu publikacji** pole wejściowe dla **wdrażanie aplikacji sieci szkieletowej usług** zadań.</span><span class="sxs-lookup"><span data-stu-id="24ba7-229">Verify the **Publish Profile** input field for the **Deploy Service Fabric Application** task.</span></span> <span data-ttu-id="24ba7-230">Domyślnie to pole odwołuje się profil publikowania o nazwie Cloud.xml zawartych w artefaktów kompilacji.</span><span class="sxs-lookup"><span data-stu-id="24ba7-230">By default, this field references a publish profile named Cloud.xml contained in the build's artifacts.</span></span> <span data-ttu-id="24ba7-231">Jeśli chcesz odwołać się z odpowiednim profilem publikowania inną lub kompilacji zawiera wiele pakietów aplikacji w jego artefakty, należy zaktualizować odpowiednio ścieżkę.</span><span class="sxs-lookup"><span data-stu-id="24ba7-231">If you want to reference a different publish profile or if the build contains multiple application packages in its artifacts, you need to update the path appropriately.</span></span>
2. <span data-ttu-id="24ba7-232">Sprawdź **pakiet aplikacji** pole wejściowe dla **wdrażanie aplikacji sieci szkieletowej usług** zadań.</span><span class="sxs-lookup"><span data-stu-id="24ba7-232">Verify the **Application Package** input field for the **Deploy Service Fabric Application** task.</span></span> <span data-ttu-id="24ba7-233">Domyślnie to pole odwołuje się do domyślna ścieżka pakietu aplikacji, używane w szablonie definicji kompilacji.</span><span class="sxs-lookup"><span data-stu-id="24ba7-233">By default, this field references the default application package path used in the build definition template.</span></span>  <span data-ttu-id="24ba7-234">Jeśli zmodyfikowano domyślna ścieżka pakietu aplikacji w definicji kompilacji, należy również zaktualizować ścieżkę odpowiednio tutaj.</span><span class="sxs-lookup"><span data-stu-id="24ba7-234">If you've modified the default application package path in the build definition, you need to update the path appropriately here as well.</span></span>

### <a name="try-it"></a><span data-ttu-id="24ba7-235">Wypróbuj</span><span class="sxs-lookup"><span data-stu-id="24ba7-235">Try it</span></span>
<span data-ttu-id="24ba7-236">Wybierz **Tworzenie wersji** z **wersji** przycisk menu, aby ręcznie utworzyć zlecenia.</span><span class="sxs-lookup"><span data-stu-id="24ba7-236">Select **Create Release** from the **Release** button menu to manually create a release.</span></span> <span data-ttu-id="24ba7-237">W otwartym oknie dialogowym Wybieranie kompilacji, która ma zostać utworzony wersji, a następnie kliknij przycisk **Utwórz**.</span><span class="sxs-lookup"><span data-stu-id="24ba7-237">In the dialog that opens, select the build that you want to base the release on and then click **Create**.</span></span> <span data-ttu-id="24ba7-238">Jeśli włączono ciągłe wdrażanie wersje zostaną utworzone automatycznie po zakończeniu definicji kompilacji o numerze kompilacji.</span><span class="sxs-lookup"><span data-stu-id="24ba7-238">If you enabled continuous deployment, releases will be created automatically when the associated build definition completes a build.</span></span>

## <a name="next-steps"></a><span data-ttu-id="24ba7-239">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="24ba7-239">Next steps</span></span>
<span data-ttu-id="24ba7-240">Aby dowiedzieć się więcej o ciągłej integracji z aplikacjami sieci szkieletowej usług, przeczytaj następujące artykuły:</span><span class="sxs-lookup"><span data-stu-id="24ba7-240">To learn more about continuous integration with Service Fabric applications, read the following articles:</span></span>

* [<span data-ttu-id="24ba7-241">Dokumentacja usług Team macierzystego</span><span class="sxs-lookup"><span data-stu-id="24ba7-241">Team Services documentation home</span></span>](https://www.visualstudio.com/docs/overview)
* [<span data-ttu-id="24ba7-242">Tworzenie zarządzania w programie Team Services</span><span class="sxs-lookup"><span data-stu-id="24ba7-242">Build management in Team Services</span></span>](https://www.visualstudio.com/docs/build/overview)
* [<span data-ttu-id="24ba7-243">Zarządzania zleceniami w programie Team Services</span><span class="sxs-lookup"><span data-stu-id="24ba7-243">Release management in Team Services</span></span>](https://www.visualstudio.com/docs/release/overview)

