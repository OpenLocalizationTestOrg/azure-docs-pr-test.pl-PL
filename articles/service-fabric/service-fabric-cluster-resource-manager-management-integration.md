---
title: "aaaService Menedżer zasobów klastra sieci szkieletowej — integracji zarządzania | Dokumentacja firmy Microsoft"
description: "Przegląd hello punkty integracji między hello Menedżera zasobów klastra i zarządzania sieci szkieletowej usług."
services: service-fabric
documentationcenter: .net
author: masnider
manager: timlt
editor: 
ms.assetid: 956cd0b8-b6e3-4436-a224-8766320e8cd7
ms.service: Service-Fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 08/18/2017
ms.author: masnider
ms.openlocfilehash: 9a24c9de121fbe2e8e5e8e4d117e64686918936a
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="cluster-resource-manager-integration-with-service-fabric-cluster-management"></a><span data-ttu-id="6b25a-103">Integracji Menedżera zasobów klastra z zarządzania klastrem sieci szkieletowej usług</span><span class="sxs-lookup"><span data-stu-id="6b25a-103">Cluster resource manager integration with Service Fabric cluster management</span></span>
<span data-ttu-id="6b25a-104">Witaj zasobu klastra sieci szkieletowej programu Service Manager nie dysku uaktualnień w sieci szkieletowej usług, ale zostało ono uwzględnione.</span><span class="sxs-lookup"><span data-stu-id="6b25a-104">hello Service Fabric Cluster Resource Manager doesn't drive upgrades in Service Fabric, but it is involved.</span></span> <span data-ttu-id="6b25a-105">Witaj pierwszy sposób hello pomaga Menedżera zasobów klastra z zarządzania przez hello śledzenia żądany stan hello klastra i usług hello wewnątrz niej.</span><span class="sxs-lookup"><span data-stu-id="6b25a-105">hello first way that hello Cluster Resource Manager helps with management is by tracking hello desired state of hello cluster and hello services inside it.</span></span> <span data-ttu-id="6b25a-106">gdy go nie można wstawić hello klastra do hello wymaganą konfiguracją Hello Menedżera zasobów klastra wysyła raporty kondycji.</span><span class="sxs-lookup"><span data-stu-id="6b25a-106">hello Cluster Resource Manager sends out health reports when it cannot put hello cluster into hello desired configuration.</span></span> <span data-ttu-id="6b25a-107">Na przykład jeśli są niewystarczające hello pojemności Menedżera zasobów klastra wysyła ostrzeżeń i błędów wskazujących hello problem.</span><span class="sxs-lookup"><span data-stu-id="6b25a-107">For example, if there is insufficient capacity hello Cluster Resource Manager sends out health warnings and errors indicating hello problem.</span></span> <span data-ttu-id="6b25a-108">Inny element integracji ma toodo o sposób działania uaktualnienia.</span><span class="sxs-lookup"><span data-stu-id="6b25a-108">Another piece of integration has toodo with how upgrades work.</span></span> <span data-ttu-id="6b25a-109">Witaj Menedżera zasobów klastra nieco zmienia jego zachowanie podczas uaktualniania.</span><span class="sxs-lookup"><span data-stu-id="6b25a-109">hello Cluster Resource Manager alters its behavior slightly during upgrades.</span></span>  

## <a name="health-integration"></a><span data-ttu-id="6b25a-110">Integracja kondycji</span><span class="sxs-lookup"><span data-stu-id="6b25a-110">Health integration</span></span>
<span data-ttu-id="6b25a-111">Witaj Menedżera zasobów klastra śledzi stale hello reguł, które zostały określone dla wprowadzenie do usługi.</span><span class="sxs-lookup"><span data-stu-id="6b25a-111">hello Cluster Resource Manager constantly tracks hello rules you have defined for placing your services.</span></span> <span data-ttu-id="6b25a-112">Pozwala również śledzić hello pozostałych pojemności dla każdej metryki na powitania węzłów w klastrze hello i w hello klastra jako całość.</span><span class="sxs-lookup"><span data-stu-id="6b25a-112">It also tracks hello remaining capacity for each metric on hello nodes and in hello cluster and in hello cluster as a whole.</span></span> <span data-ttu-id="6b25a-113">Jeśli nie spełniają tych zasad lub są niewystarczające, są emitowane ostrzeżeń i błędów.</span><span class="sxs-lookup"><span data-stu-id="6b25a-113">If it can't satisfy those rules or if there is insufficient capacity, health warnings and errors are emitted.</span></span> <span data-ttu-id="6b25a-114">Na przykład jeśli węzeł znajduje się nad pojemności i hello Menedżera zasobów klastra zostanie ponowiona sytuacji hello toofix przenosząc usług.</span><span class="sxs-lookup"><span data-stu-id="6b25a-114">For example, if a node is over capacity and hello Cluster Resource Manager will try toofix hello situation by moving services.</span></span> <span data-ttu-id="6b25a-115">Jeśli nie rozwiąże sytuacji hello emituje ostrzeżenie kondycji wskazująca, który węzeł jest za pośrednictwem pojemności i dla których metryki.</span><span class="sxs-lookup"><span data-stu-id="6b25a-115">If it can't correct hello situation it emits a health warning indicating which node is over capacity, and for which metrics.</span></span>

<span data-ttu-id="6b25a-116">Innym przykładem ostrzeżeń menedżera zasobów hello jest naruszenia ograniczeń umieszczania.</span><span class="sxs-lookup"><span data-stu-id="6b25a-116">Another example of hello Resource Manager's health warnings is violations of placement constraints.</span></span> <span data-ttu-id="6b25a-117">Na przykład, jeśli zdefiniowano ograniczenia umieszczania (takie jak `“NodeColor == Blue”`) i hello Resource Manager wykryje naruszenie takiego ograniczenia, jego emituje ostrzeżenie kondycji.</span><span class="sxs-lookup"><span data-stu-id="6b25a-117">For example, if you have defined a placement constraint (such as `“NodeColor == Blue”`) and hello Resource Manager detects a violation of that constraint, it emits a health warning.</span></span> <span data-ttu-id="6b25a-118">Dotyczy to niestandardowe ograniczenia i hello domyślne ograniczenia (na przykład hello ograniczenia domeny błędów i domeny uaktualnienia).</span><span class="sxs-lookup"><span data-stu-id="6b25a-118">This is true for custom constraints and hello default constraints (like hello Fault Domain and Upgrade Domain constraints).</span></span>

<span data-ttu-id="6b25a-119">Oto przykład jeden taki raport o kondycji.</span><span class="sxs-lookup"><span data-stu-id="6b25a-119">Here’s an example of one such health report.</span></span> <span data-ttu-id="6b25a-120">W takim przypadku raport o kondycji hello jest dla jednej partycji usługi systemowej hello.</span><span class="sxs-lookup"><span data-stu-id="6b25a-120">In this case, hello health report is for one of hello system service’s partitions.</span></span> <span data-ttu-id="6b25a-121">wiadomości powitania kondycji wskazuje powitalne replik tej partycji tymczasowo są pakować na zbyt mało domeny uaktualnienia.</span><span class="sxs-lookup"><span data-stu-id="6b25a-121">hello health message indicates hello replicas of that partition are temporarily packed into too few Upgrade Domains.</span></span>

```posh
PS C:\Users\User > Get-WindowsFabricPartitionHealth -PartitionId '00000000-0000-0000-0000-000000000001'


PartitionId           : 00000000-0000-0000-0000-000000000001
AggregatedHealthState : Warning
UnhealthyEvaluations  :
                        Unhealthy event: SourceId='System.PLB', Property='ReplicaConstraintViolation_UpgradeDomain', HealthState='Warning', ConsiderWarningAsError=false.

ReplicaHealthStates   :
                        ReplicaId             : 130766528804733380
                        AggregatedHealthState : Ok

                        ReplicaId             : 130766528804577821
                        AggregatedHealthState : Ok

                        ReplicaId             : 130766528854889931
                        AggregatedHealthState : Ok

                        ReplicaId             : 130766528804577822
                        AggregatedHealthState : Ok

                        ReplicaId             : 130837073190680024
                        AggregatedHealthState : Ok

HealthEvents          :
                        SourceId              : System.PLB
                        Property              : ReplicaConstraintViolation_UpgradeDomain
                        HealthState           : Warning
                        SequenceNumber        : 130837100116930204
                        SentAt                : 8/10/2015 7:53:31 PM
                        ReceivedAt            : 8/10/2015 7:53:33 PM
                        TTL                   : 00:01:05
                        Description           : hello Load Balancer has detected a Constraint Violation for this Replica: fabric:/System/FailoverManagerService Secondary Partition 00000000-0000-0000-0000-000000000001 is
                        violating hello Constraint: UpgradeDomain Details: UpgradeDomain ID -- 4, Replica on NodeName -- Node.8 Currently Upgrading -- false Distribution Policy -- Packing
                        RemoveWhenExpired     : True
                        IsExpired             : False
                        Transitions           : Ok->Warning = 8/10/2015 7:13:02 PM, LastError = 1/1/0001 12:00:00 AM
```

<span data-ttu-id="6b25a-122">Oto, co ten komunikat kondycji informuje NAS jest:</span><span class="sxs-lookup"><span data-stu-id="6b25a-122">Here's what this health message is telling us is:</span></span>

1. <span data-ttu-id="6b25a-123">Wszystkie repliki hello sami są w dobrej kondycji: każdy ma AggregatedHealthState: Ok</span><span class="sxs-lookup"><span data-stu-id="6b25a-123">All hello replicas themselves are healthy: Each has AggregatedHealthState : Ok</span></span>
2. <span data-ttu-id="6b25a-124">obecnie trwa naruszenia Hello ograniczenia dystrybucji domeny uaktualnienia.</span><span class="sxs-lookup"><span data-stu-id="6b25a-124">hello Upgrade Domain distribution constraint is currently being violated.</span></span> <span data-ttu-id="6b25a-125">Oznacza to, że konkretnej domeny uaktualnienia zawiera więcej repliki z tej partycji niż powinien.</span><span class="sxs-lookup"><span data-stu-id="6b25a-125">This means a particular Upgrade Domain has more replicas from this partition than it should.</span></span>
3. <span data-ttu-id="6b25a-126">Węzeł, który zawiera powoduje naruszenie hello hello repliki.</span><span class="sxs-lookup"><span data-stu-id="6b25a-126">Which node contains hello replica causing hello violation.</span></span> <span data-ttu-id="6b25a-127">W takim przypadku jest hello węzeł z nazwą hello "Node.8"</span><span class="sxs-lookup"><span data-stu-id="6b25a-127">In this case it's hello node with hello name "Node.8"</span></span>
4. <span data-ttu-id="6b25a-128">Określa, czy uaktualnienie aktualnie wykonywane dla partycji to ("obecnie uaktualnianie — false")</span><span class="sxs-lookup"><span data-stu-id="6b25a-128">Whether an upgrade is currently happening for this partition ("Currently Upgrading -- false")</span></span>
5. <span data-ttu-id="6b25a-129">Witaj zasad dystrybucji dla tej usługi: "Pakowania — zasady dystrybucji".</span><span class="sxs-lookup"><span data-stu-id="6b25a-129">hello distribution policy for this service: "Distribution Policy -- Packing".</span></span> <span data-ttu-id="6b25a-130">To jest objęte hello `RequireDomainDistribution` [zasady rozmieszczania](service-fabric-cluster-resource-manager-advanced-placement-rules-placement-policies.md#requiring-replica-distribution-and-disallowing-packing).</span><span class="sxs-lookup"><span data-stu-id="6b25a-130">This is governed by hello `RequireDomainDistribution` [placement policy](service-fabric-cluster-resource-manager-advanced-placement-rules-placement-policies.md#requiring-replica-distribution-and-disallowing-packing).</span></span> <span data-ttu-id="6b25a-131">"Pakowanie" oznacza, że w takim przypadku DomainDistribution była _nie_ wymagane, aby było wiadomo, że zasady rozmieszczania nie został określony dla tej usługi.</span><span class="sxs-lookup"><span data-stu-id="6b25a-131">"Packing" indicates that in this case DomainDistribution was _not_ required, so we know that placement policy was not specified for this service.</span></span> 
6. <span data-ttu-id="6b25a-132">Gdy raport hello się stało - 2015-8-10 19:13:02: 00</span><span class="sxs-lookup"><span data-stu-id="6b25a-132">When hello report happened - 8/10/2015 7:13:02 PM</span></span>

<span data-ttu-id="6b25a-133">Informacje o tej alerty uprawnień, że fire w toolet produkcyjnych, które znasz coś niepowodzenia i jest również używana toodetect, takich jak i zatrzymanie zły uaktualnienia.</span><span class="sxs-lookup"><span data-stu-id="6b25a-133">Information like this powers alerts that fire in production toolet you know something has gone wrong and is also used toodetect and halt bad upgrades.</span></span> <span data-ttu-id="6b25a-134">W takim przypadku czy chcemy toosee Jeśli firma Microsoft może dowiedzieć się, dlaczego hello Menedżera zasobów ma toopack hello replik na powitania domeny uaktualnienia.</span><span class="sxs-lookup"><span data-stu-id="6b25a-134">In this case, we’d want toosee if we can figure out why hello Resource Manager had toopack hello replicas into hello Upgrade Domain.</span></span> <span data-ttu-id="6b25a-135">Zazwyczaj pakowania jest przejściowe, ponieważ hello węzłów hello innych domen uaktualnienia, na przykład.</span><span class="sxs-lookup"><span data-stu-id="6b25a-135">Usually packing is transient because hello nodes in hello other Upgrade Domains were down, for example.</span></span>

<span data-ttu-id="6b25a-136">Załóżmy, że hello Menedżera zasobów klastra jest w trakcie tooplace niektórych usług, ale nie ma żadnych rozwiązań, które działają.</span><span class="sxs-lookup"><span data-stu-id="6b25a-136">Let’s say hello Cluster Resource Manager is trying tooplace some services, but there aren't any solutions that work.</span></span> <span data-ttu-id="6b25a-137">Gdy nie można umieścić usługi, są zazwyczaj z jednej hello z następujących powodów:</span><span class="sxs-lookup"><span data-stu-id="6b25a-137">When services can't be placed, it is usually for one of hello following reasons:</span></span>

1. <span data-ttu-id="6b25a-138">Niektóre stan przejściowy wprowadził go tooplace niemożliwe to wystąpienie usługi lub repliki poprawnie</span><span class="sxs-lookup"><span data-stu-id="6b25a-138">Some transient condition has made it impossible tooplace this service instance or replica correctly</span></span>
2. <span data-ttu-id="6b25a-139">wymagania dotyczące umieszczania usług Hello są unsatisfiable.</span><span class="sxs-lookup"><span data-stu-id="6b25a-139">hello service’s placement requirements are unsatisfiable.</span></span>

<span data-ttu-id="6b25a-140">W takich przypadkach raportów o kondycji z hello Menedżera zasobów klastra pomóc w określeniu, dlaczego nie można umieścić hello usługi.</span><span class="sxs-lookup"><span data-stu-id="6b25a-140">In these cases, health reports from hello Cluster Resource Manager help you determine why hello service can’t be placed.</span></span> <span data-ttu-id="6b25a-141">Nazywamy to proces hello ograniczenia eliminacji sekwencji.</span><span class="sxs-lookup"><span data-stu-id="6b25a-141">We call this process hello constraint elimination sequence.</span></span> <span data-ttu-id="6b25a-142">Podczas jego hello system przeprowadzi Cię przez hello skonfigurowane ograniczenia wpływu na usługi hello i rekordy one usunąć.</span><span class="sxs-lookup"><span data-stu-id="6b25a-142">During it, hello system walks through hello configured constraints affecting hello service and records what they eliminate.</span></span> <span data-ttu-id="6b25a-143">Dzięki temu po usługi będą mogli toobe umieszczone, widać węzły, które zostały usunięte i dlaczego.</span><span class="sxs-lookup"><span data-stu-id="6b25a-143">This way when services aren’t able toobe placed, you can see which nodes were eliminated and why.</span></span>

## <a name="constraint-types"></a><span data-ttu-id="6b25a-144">Ograniczenia typów</span><span class="sxs-lookup"><span data-stu-id="6b25a-144">Constraint types</span></span>
<span data-ttu-id="6b25a-145">Załóżmy porozmawiać na temat każdego z różnych ograniczeń hello w tych raportach o kondycji.</span><span class="sxs-lookup"><span data-stu-id="6b25a-145">Let’s talk about each of hello different constraints in these health reports.</span></span> <span data-ttu-id="6b25a-146">Ograniczenia toothese powiązane komunikaty kondycji będzie wyświetlany po replik nie może zostać umieszczona.</span><span class="sxs-lookup"><span data-stu-id="6b25a-146">You will see health messages related toothese constraints when replicas can't be placed.</span></span>

* <span data-ttu-id="6b25a-147">**ReplicaExclusionStatic** i **ReplicaExclusionDynamic**: tych warunków ograniczających wskazuje, że rozwiązanie zostało odrzucone, ponieważ hello dwa obiekty usługi z tej samej partycji zostaną toobe umieszczone na powitania sam węzeł.</span><span class="sxs-lookup"><span data-stu-id="6b25a-147">**ReplicaExclusionStatic** and **ReplicaExclusionDynamic**: These constraints indicates that a solution was rejected because two service objects from hello same partition would have toobe placed on hello same node.</span></span> <span data-ttu-id="6b25a-148">To nie jest dozwolona, ponieważ, a następnie awarii tego węzła zbyt będzie mieć wpływ na tej partycji.</span><span class="sxs-lookup"><span data-stu-id="6b25a-148">This isn’t allowed because then failure of that node would overly impact that partition.</span></span> <span data-ttu-id="6b25a-149">ReplicaExclusionStatic i ReplicaExclusionDynamic są prawie powitalne samą regułę i hello różnice naprawdę nie ma znaczenia.</span><span class="sxs-lookup"><span data-stu-id="6b25a-149">ReplicaExclusionStatic and ReplicaExclusionDynamic are almost hello same rule and hello differences don't really matter.</span></span> <span data-ttu-id="6b25a-150">Jeśli pojawia się, że sekwencja eliminacji ograniczenia zawierające albo hello ograniczenie ReplicaExclusionStatic lub ReplicaExclusionDynamic hello Menedżera zasobów klastra sądzi, że nie ma wystarczającej liczby węzłów.</span><span class="sxs-lookup"><span data-stu-id="6b25a-150">If you are seeing a constraint elimination sequence containing either hello ReplicaExclusionStatic or ReplicaExclusionDynamic constraint, hello Cluster Resource Manager thinks that there aren’t enough nodes.</span></span> <span data-ttu-id="6b25a-151">Wymaga to pozostałych toouse rozwiązania te nieprawidłowe rozmieszczanie, które są niedozwolone.</span><span class="sxs-lookup"><span data-stu-id="6b25a-151">This requires remaining solutions toouse these invalid placements which are disallowed.</span></span> <span data-ttu-id="6b25a-152">Hello innych ograniczeń w sekwencji hello będzie zazwyczaj Powiedz nam Dlaczego w miejscu pierwszego hello wyłącza się węzłów.</span><span class="sxs-lookup"><span data-stu-id="6b25a-152">hello other constraints in hello sequence will usually tell us why nodes are being eliminated in hello first place.</span></span>
* <span data-ttu-id="6b25a-153">**PlacementConstraint**: Jeśli ten komunikat zostanie wyświetlony, oznacza to, ponieważ nie odpowiadają one ograniczenia umieszczania usług hello możemy wyeliminować niektóre węzły.</span><span class="sxs-lookup"><span data-stu-id="6b25a-153">**PlacementConstraint**: If you see this message, it means that we eliminated some nodes because they didn’t match hello service’s placement constraints.</span></span> <span data-ttu-id="6b25a-154">Firma Microsoft śledzenia limit ograniczenia umieszczania hello skonfigurowana jako część tego komunikatu.</span><span class="sxs-lookup"><span data-stu-id="6b25a-154">We trace out hello currently configured placement constraints as a part of this message.</span></span> <span data-ttu-id="6b25a-155">Jest to normalne, jeśli ma zdefiniowane ograniczenia umieszczania.</span><span class="sxs-lookup"><span data-stu-id="6b25a-155">This is normal if you have a placement constraint defined.</span></span> <span data-ttu-id="6b25a-156">Jednak jeśli ograniczenia umieszczania niepoprawnie powoduje zbyt wiele węzłów toobe, wyeliminowana jest to, jak można będzie zauważyć.</span><span class="sxs-lookup"><span data-stu-id="6b25a-156">However, if placement constraint is incorrectly causing too many nodes toobe eliminated this is how you would notice.</span></span>
* <span data-ttu-id="6b25a-157">**NodeCapacity**: to ograniczenie oznacza, że hello Menedżera zasobów klastra nie można umieścić hello replik na hello wskazanych węzłów, ponieważ który spowodowałaby je za pośrednictwem pojemności.</span><span class="sxs-lookup"><span data-stu-id="6b25a-157">**NodeCapacity**: This constraint means that hello Cluster Resource Manager couldn’t place hello replicas on hello indicated nodes because that would put them over capacity.</span></span>
* <span data-ttu-id="6b25a-158">**Koligacja**: to ograniczenie wskazuje, że firma Microsoft nie umieszczać hello repliki na węzłach wpływ hello ponieważ spowodowałoby to naruszenie ograniczenia koligacji hello.</span><span class="sxs-lookup"><span data-stu-id="6b25a-158">**Affinity**: This constraint indicates that we couldn’t place hello replica on hello affected nodes since it would cause a violation of hello affinity constraint.</span></span> <span data-ttu-id="6b25a-159">Więcej informacji o koligacji jest [w tym artykule](service-fabric-cluster-resource-manager-advanced-placement-rules-affinity.md)</span><span class="sxs-lookup"><span data-stu-id="6b25a-159">More information on affinity is in [this article](service-fabric-cluster-resource-manager-advanced-placement-rules-affinity.md)</span></span>
* <span data-ttu-id="6b25a-160">**FaultDomain** i **UpgradeDomain**: to ograniczenie eliminuje węzłów, jeżeli wprowadzanie repliki hello na powitania węzłów spowodowałoby pakowania w domenie uaktualnienia lub określonego błędu.</span><span class="sxs-lookup"><span data-stu-id="6b25a-160">**FaultDomain** and **UpgradeDomain**: This constraint eliminates nodes if placing hello replica on hello indicated nodes would cause packing in a particular fault or upgrade domain.</span></span> <span data-ttu-id="6b25a-161">Kilka przykładów dyskutować tego ograniczenia są przedstawione w temacie hello na [ograniczenia domeny awarii i uaktualniania i efekty](service-fabric-cluster-resource-manager-cluster-description.md)</span><span class="sxs-lookup"><span data-stu-id="6b25a-161">Several examples discussing this constraint are presented in hello topic on [fault and upgrade domain constraints and resulting behavior](service-fabric-cluster-resource-manager-cluster-description.md)</span></span>
* <span data-ttu-id="6b25a-162">**PreferredLocation**: zwykle niepowołanymi to ograniczenie usuwania węzłów z hello rozwiązania, ponieważ jest on optymalizacji domyślnie.</span><span class="sxs-lookup"><span data-stu-id="6b25a-162">**PreferredLocation**: You shouldn’t normally see this constraint removing nodes from hello solution since it runs as an optimization by default.</span></span> <span data-ttu-id="6b25a-163">Witaj preferowane ograniczenia lokalizacji jest również obecny podczas uaktualniania.</span><span class="sxs-lookup"><span data-stu-id="6b25a-163">hello preferred location constraint is also present during upgrades.</span></span> <span data-ttu-id="6b25a-164">Podczas uaktualniania jest używane toomove usług wstecz toowhere zainstalowanych przy uruchamianiu hello uaktualnienia.</span><span class="sxs-lookup"><span data-stu-id="6b25a-164">During upgrade it is used toomove services back toowhere they were when hello upgrade started.</span></span>

## <a name="blocklisting-nodes"></a><span data-ttu-id="6b25a-165">Węzły Blocklisting</span><span class="sxs-lookup"><span data-stu-id="6b25a-165">Blocklisting Nodes</span></span>
<span data-ttu-id="6b25a-166">Inny kondycji wiadomość hello Menedżera zasobów klastra raportów jest w przypadku węzły są blocklisted.</span><span class="sxs-lookup"><span data-stu-id="6b25a-166">Another health message hello Cluster Resource Manager reports is when nodes are blocklisted.</span></span> <span data-ttu-id="6b25a-167">Blocklisting można traktować jako tymczasowe ograniczenie, które zostanie automatycznie zastosowana dla Ciebie.</span><span class="sxs-lookup"><span data-stu-id="6b25a-167">You can think of blocklisting as a temporary constraint that is automatically applied for you.</span></span> <span data-ttu-id="6b25a-168">Węzły Pobierz blocklisted po wystąpieniu błędów wielokrotnego podczas uruchamiania wystąpienia danego typu usługi.</span><span class="sxs-lookup"><span data-stu-id="6b25a-168">Nodes get blocklisted when they experience repeated failures when launching instances of that service type.</span></span> <span data-ttu-id="6b25a-169">Węzły są blocklisted na podstawie na — typ usługi.</span><span class="sxs-lookup"><span data-stu-id="6b25a-169">Nodes are blocklisted on a per-service-type basis.</span></span> <span data-ttu-id="6b25a-170">Węzeł może być blocklisted dla typu w jednej usłudze, ale nie inna.</span><span class="sxs-lookup"><span data-stu-id="6b25a-170">A node may be blocklisted for one service type but not another.</span></span> 

<span data-ttu-id="6b25a-171">Zobaczysz blocklisting zaczną działać często podczas tworzenia: niektóre usterki powoduje, że Twoje toocrash hosta usługi podczas uruchamiania.</span><span class="sxs-lookup"><span data-stu-id="6b25a-171">You'll see blocklisting kick in often during development: some bug causes your service host toocrash on startup.</span></span> <span data-ttu-id="6b25a-172">Sieć szkieletowa usług próbuje hosta usługi hello toocreate kilka razy, a hello błąd będzie się powtarzał.</span><span class="sxs-lookup"><span data-stu-id="6b25a-172">Service Fabric tries toocreate hello service host a few times, and hello failure keeps occurring.</span></span> <span data-ttu-id="6b25a-173">Mimo kilku prób węzła hello pobiera blocklisted i hello Menedżera zasobów klastra zostanie ponowiona w innym miejscu toocreate hello usługi.</span><span class="sxs-lookup"><span data-stu-id="6b25a-173">After a few attempts, hello node gets blocklisted, and hello Cluster Resource Manager will try toocreate hello service elsewhere.</span></span> <span data-ttu-id="6b25a-174">Jeśli błąd ten problem będzie nadal występować na wielu węzłach, prawdopodobnie zablokowany przez wszystkie węzły prawidłowy hello w końcu klastra hello w górę.</span><span class="sxs-lookup"><span data-stu-id="6b25a-174">If that failure keeps happening on multiple nodes, it's possible that all of hello valid nodes in hello cluster end up blocked.</span></span> <span data-ttu-id="6b25a-175">Blocklisting można również usunąć tak wiele węzłów, że nie ma wystarczającej ilości pomyślnie uruchomić hello usługi toomeet hello potrzeby skalowania.</span><span class="sxs-lookup"><span data-stu-id="6b25a-175">Blocklisting cna also remove so many nodes that not enough can successfully launch hello service toomeet hello desired scale.</span></span> <span data-ttu-id="6b25a-176">Zwykle zobaczysz dodatkowe błędy lub ostrzeżenia hello Menedżera zasobów klastra wskazujący, że usługa hello poniżej hello żądanej repliki lub liczba wystąpień, jak również wiadomości kondycji informujący o niepowodzeniu jakie hello jest która prowadzi toohello blocklisting w miejscu pierwszego hello.</span><span class="sxs-lookup"><span data-stu-id="6b25a-176">You'll typically see additional errors or warnings from hello Cluster Resource Manager indicating that hello service is below hello desired replica or instance count, as well as health messages indicating what hello failure is that's leading toohello blocklisting in hello first place.</span></span>

<span data-ttu-id="6b25a-177">Blocklisting nie jest trwały warunek.</span><span class="sxs-lookup"><span data-stu-id="6b25a-177">Blocklisting is not a permanent condition.</span></span> <span data-ttu-id="6b25a-178">Po kilku minutach hello węzeł zostanie usunięty z hello blocklist i sieci szkieletowej usług ponownie uaktywnić hello usług w tym węźle.</span><span class="sxs-lookup"><span data-stu-id="6b25a-178">After a few minutes, hello node is removed from hello blocklist and Service Fabric may activate hello services on that node again.</span></span> <span data-ttu-id="6b25a-179">Usług kontynuowania toofail węzeł hello jest ponownie blocklisted dla danego typu usługi.</span><span class="sxs-lookup"><span data-stu-id="6b25a-179">If services continue toofail, hello node is blocklisted for that service type again.</span></span> 

### <a name="constraint-priorities"></a><span data-ttu-id="6b25a-180">Ograniczenie priorytetów</span><span class="sxs-lookup"><span data-stu-id="6b25a-180">Constraint priorities</span></span>

> [!WARNING]
> <span data-ttu-id="6b25a-181">Zmiana ograniczenia priorytetów nie jest zalecane i może mieć negatywnego wpływu na klastrze.</span><span class="sxs-lookup"><span data-stu-id="6b25a-181">Changing constraint priorities is not recommended and may have significant adverse effects on your cluster.</span></span> <span data-ttu-id="6b25a-182">Witaj poniżej informacji podano do hello domyślne ograniczenia priorytety i ich zachowanie.</span><span class="sxs-lookup"><span data-stu-id="6b25a-182">hello below information is provided for reference of hello default constraint priorities and their behavior.</span></span> 
>

<span data-ttu-id="6b25a-183">Biorąc pod uwagę następujące ograniczenia możesz może mieć zostały myśląc "Witaj — myślę, że ograniczenia domeny błędów są hello najważniejsze w systemie.</span><span class="sxs-lookup"><span data-stu-id="6b25a-183">With all of these constraints, you may have been thinking “Hey – I think that fault domain constraints are hello most important thing in my system.</span></span> <span data-ttu-id="6b25a-184">W kolejności tooensure hello ograniczenia domeny błędów nie jest naruszone, jestem gotowi tooviolate inne ograniczenia. "</span><span class="sxs-lookup"><span data-stu-id="6b25a-184">In order tooensure hello fault domain constraint isn't violated, I’m willing tooviolate other constraints.”</span></span>

<span data-ttu-id="6b25a-185">Ograniczenia można skonfigurować za pomocą różnych poziomów priorytetu.</span><span class="sxs-lookup"><span data-stu-id="6b25a-185">Constraints can be configured with different priority levels.</span></span> <span data-ttu-id="6b25a-186">Są to:</span><span class="sxs-lookup"><span data-stu-id="6b25a-186">These are:</span></span>

   - <span data-ttu-id="6b25a-187">"twardych" (0)</span><span class="sxs-lookup"><span data-stu-id="6b25a-187">“hard” (0)</span></span>
   - <span data-ttu-id="6b25a-188">"soft" (1)</span><span class="sxs-lookup"><span data-stu-id="6b25a-188">“soft” (1)</span></span>
   - <span data-ttu-id="6b25a-189">"optymalizacji" [2]</span><span class="sxs-lookup"><span data-stu-id="6b25a-189">“optimization” (2)</span></span>
   - <span data-ttu-id="6b25a-190">"off" (-1).</span><span class="sxs-lookup"><span data-stu-id="6b25a-190">“off” (-1).</span></span> 
   
<span data-ttu-id="6b25a-191">Większość ograniczenia hello są domyślnie skonfigurowane jako twardych ograniczeń.</span><span class="sxs-lookup"><span data-stu-id="6b25a-191">Most of hello constraints are configured as hard constraints by default.</span></span>

<span data-ttu-id="6b25a-192">Zmiana priorytetu hello ograniczeń jest rzadko.</span><span class="sxs-lookup"><span data-stu-id="6b25a-192">Changing hello priority of constraints is uncommon.</span></span> <span data-ttu-id="6b25a-193">Było razy, gdy ograniczenia priorytetów potrzebne toochange, zwykle toowork wokół inne usterki lub zachowanie wpływał hello środowiska.</span><span class="sxs-lookup"><span data-stu-id="6b25a-193">There have been times where constraint priorities needed toochange, usually toowork around some other bug or behavior that was impacting hello environment.</span></span> <span data-ttu-id="6b25a-194">Zazwyczaj bardzo dobrze działa elastyczność hello hello ograniczenia priorytet infrastruktury, ale nie jest często potrzebne.</span><span class="sxs-lookup"><span data-stu-id="6b25a-194">Generally hello flexibility of hello constraint priority infrastructure has worked very well, but it isn't needed often.</span></span> <span data-ttu-id="6b25a-195">W większości przypadków hello wszystko, co znajduje się w ich priorytety domyślnych.</span><span class="sxs-lookup"><span data-stu-id="6b25a-195">Most of hello time everything sits at their default priorities.</span></span> 

<span data-ttu-id="6b25a-196">poziomy priorytetu Hello nie oznaczają, że dany ograniczenia _będzie_ naruszone, ani zawsze będą spełnione.</span><span class="sxs-lookup"><span data-stu-id="6b25a-196">hello priority levels don't mean that a given constraint _will_ be violated, nor that it will always be met.</span></span> <span data-ttu-id="6b25a-197">Ograniczenie priorytetów określić kolejność, w którym wymuszone są ograniczenia.</span><span class="sxs-lookup"><span data-stu-id="6b25a-197">Constraint priorities define an order in which constraints are enforced.</span></span> <span data-ttu-id="6b25a-198">Priorytety zdefiniować wady i zalety hello podczas jest niemożliwe toosatisfy wszystkie ograniczenia.</span><span class="sxs-lookup"><span data-stu-id="6b25a-198">Priorities define hello tradeoffs when it is impossible toosatisfy all constraints.</span></span> <span data-ttu-id="6b25a-199">Zwykle wszystkie ograniczenia hello można spełnić, chyba że coś else dzieje się w środowisku hello jest.</span><span class="sxs-lookup"><span data-stu-id="6b25a-199">Usually all hello constraints can be satisfied unless there's something else going on in hello environment.</span></span> <span data-ttu-id="6b25a-200">Przykładowe scenariusze, które spowoduje naruszeń tooconstraint to powodujące konflikt ograniczenia lub dużą liczbą jednoczesnych awarii.</span><span class="sxs-lookup"><span data-stu-id="6b25a-200">Some examples of scenarios that will lead tooconstraint violations are conflicting constraints, or large numbers of concurrent failures.</span></span>

<span data-ttu-id="6b25a-201">W sytuacjach, zaawansowane można zmienić priorytety ograniczenia hello.</span><span class="sxs-lookup"><span data-stu-id="6b25a-201">In advanced situations, you can change hello constraint priorities.</span></span> <span data-ttu-id="6b25a-202">Na przykład, że użytkownik chciał tooensure czy koligacji zostałyby zawsze naruszone gdy wysyła niezbędne toosolve pojemność węzła.</span><span class="sxs-lookup"><span data-stu-id="6b25a-202">For example, say you wanted tooensure that affinity would always be violated when necessary toosolve node capacity issues.</span></span> <span data-ttu-id="6b25a-203">tooachieve, można ustawić priorytet hello hello koligacji ograniczenia zbyt słowo "soft" (1) i pozostawić hello pojemności ograniczający ustawiony za "bardzo" (0).</span><span class="sxs-lookup"><span data-stu-id="6b25a-203">tooachieve this, you could set hello priority of hello affinity constraint too“soft” (1) and leave hello capacity constraint set too“hard” (0).</span></span>

<span data-ttu-id="6b25a-204">Hello domyślne wartości priorytetu różnych ograniczeń hello są określone w hello następującej konfiguracji:</span><span class="sxs-lookup"><span data-stu-id="6b25a-204">hello default priority values for hello different constraints are specified in hello following config:</span></span>

<span data-ttu-id="6b25a-205">ClusterManifest.xml</span><span class="sxs-lookup"><span data-stu-id="6b25a-205">ClusterManifest.xml</span></span>

```xml
        <Section Name="PlacementAndLoadBalancing">
            <Parameter Name="PlacementConstraintPriority" Value="0" />
            <Parameter Name="CapacityConstraintPriority" Value="0" />
            <Parameter Name="AffinityConstraintPriority" Value="0" />
            <Parameter Name="FaultDomainConstraintPriority" Value="0" />
            <Parameter Name="UpgradeDomainConstraintPriority" Value="1" />
            <Parameter Name="PreferredLocationConstraintPriority" Value="2" />
        </Section>
```

<span data-ttu-id="6b25a-206">za pomocą pliku ClusterConfig.json dla autonomicznych wdrożeniach lub Template.json dla platformy Azure hostowanej klastrów:</span><span class="sxs-lookup"><span data-stu-id="6b25a-206">via ClusterConfig.json for Standalone deployments or Template.json for Azure hosted clusters:</span></span>

```json
"fabricSettings": [
  {
    "name": "PlacementAndLoadBalancing",
    "parameters": [
      {
          "name": "PlacementConstraintPriority",
          "value": "0"
      },
      {
          "name": "CapacityConstraintPriority",
          "value": "0"
      },
      {
          "name": "AffinityConstraintPriority",
          "value": "0"
      },
      {
          "name": "FaultDomainConstraintPriority",
          "value": "0"
      },
      {
          "name": "UpgradeDomainConstraintPriority",
          "value": "1"
      },
      {
          "name": "PreferredLocationConstraintPriority",
          "value": "2"
      }
    ]
  }
]
```

## <a name="fault-domain-and-upgrade-domain-constraints"></a><span data-ttu-id="6b25a-207">Błąd ograniczenia domeny domeny i uaktualnienia</span><span class="sxs-lookup"><span data-stu-id="6b25a-207">Fault domain and upgrade domain constraints</span></span>
<span data-ttu-id="6b25a-208">Hello Menedżera zasobów klastra chce, aby rozłożyć między domenach awarii i uaktualniania usług tookeep.</span><span class="sxs-lookup"><span data-stu-id="6b25a-208">hello Cluster Resource Manager wants tookeep services spread out among fault and upgrade domains.</span></span> <span data-ttu-id="6b25a-209">To jej modele jako ograniczenia wewnątrz aparatu Menedżera hello klastra zasobu.</span><span class="sxs-lookup"><span data-stu-id="6b25a-209">It models this as a constraint inside hello Cluster Resource Manager’s engine.</span></span> <span data-ttu-id="6b25a-210">Aby uzyskać więcej informacji na temat sposobu ich używania i ich określone zachowanie, zapoznaj się artykułem hello na [konfiguracji klastra](service-fabric-cluster-resource-manager-cluster-description.md#fault-and-upgrade-domain-constraints-and-resulting-behavior).</span><span class="sxs-lookup"><span data-stu-id="6b25a-210">For more information on how they are used and their specific behavior, check out hello article on [cluster configuration](service-fabric-cluster-resource-manager-cluster-description.md#fault-and-upgrade-domain-constraints-and-resulting-behavior).</span></span>

<span data-ttu-id="6b25a-211">Witaj Menedżera zasobów klastra może być konieczne toopack kilka replik w domenie uaktualnienia w toodeal kolejność uaktualnień, błędów lub innych naruszenia ograniczenia.</span><span class="sxs-lookup"><span data-stu-id="6b25a-211">hello Cluster Resource Manager may need toopack a couple replicas into an upgrade domain in order toodeal with upgrades, failures, or other constraint violations.</span></span> <span data-ttu-id="6b25a-212">Pakowanie w domenach awarii lub uaktualnienia zwykle odbywa się tylko wtedy, gdy istnieje kilka błędów lub innych zmian w systemie hello uniemożliwia poprawne umieszczania.</span><span class="sxs-lookup"><span data-stu-id="6b25a-212">Packing into fault or upgrade domains normally happens only when there are several failures or other churn in hello system preventing correct placement.</span></span> <span data-ttu-id="6b25a-213">W razie potrzeby tooprevent pakowania nawet w takich przypadkach mogą wykorzystywać hello `RequireDomainDistribution` [zasady rozmieszczania](service-fabric-cluster-resource-manager-advanced-placement-rules-placement-policies.md#requiring-replica-distribution-and-disallowing-packing).</span><span class="sxs-lookup"><span data-stu-id="6b25a-213">If you wish tooprevent packing even during these situations, you can utilize hello `RequireDomainDistribution` [placement policy](service-fabric-cluster-resource-manager-advanced-placement-rules-placement-policies.md#requiring-replica-distribution-and-disallowing-packing).</span></span> <span data-ttu-id="6b25a-214">Należy pamiętać, może to mieć wpływ na dostępność usługi i niezawodność jako efekt uboczny, dlatego należy dokładnie należy rozważyć.</span><span class="sxs-lookup"><span data-stu-id="6b25a-214">Note that this may affect service availability and reliability as a side effect, so consider it carefully.</span></span>

<span data-ttu-id="6b25a-215">Jeśli środowisko hello jest skonfigurowane poprawnie, wszystkie ograniczenia są w pełni uwzględniona, nawet podczas uaktualniania.</span><span class="sxs-lookup"><span data-stu-id="6b25a-215">If hello environment is configured correctly, all constraints are fully respected, even during upgrades.</span></span> <span data-ttu-id="6b25a-216">Witaj klucza się tym powitalne Menedżera zasobów klastra obserwuje się dla użytkownika ograniczenia.</span><span class="sxs-lookup"><span data-stu-id="6b25a-216">hello key thing is that hello Cluster Resource Manager is watching out for your constraints.</span></span> <span data-ttu-id="6b25a-217">Po wykryciu naruszenia natychmiast zgłasza i próbuje toocorrect hello problem.</span><span class="sxs-lookup"><span data-stu-id="6b25a-217">When it detects a violation it immediately reports it and tries toocorrect hello issue.</span></span>

## <a name="hello-preferred-location-constraint"></a><span data-ttu-id="6b25a-218">ograniczenie lokalizacji Hello preferowane</span><span class="sxs-lookup"><span data-stu-id="6b25a-218">hello preferred location constraint</span></span>
<span data-ttu-id="6b25a-219">ograniczenie PreferredLocation Hello jest nieco inny, ponieważ składa się z dwóch różnych zastosowań.</span><span class="sxs-lookup"><span data-stu-id="6b25a-219">hello PreferredLocation constraint is a little different, as it has two different uses.</span></span> <span data-ttu-id="6b25a-220">Jedno użycie to ograniczenie jest podczas uaktualniania aplikacji.</span><span class="sxs-lookup"><span data-stu-id="6b25a-220">One use of this constraint is during application upgrades.</span></span> <span data-ttu-id="6b25a-221">Hello Cluster Resource Manager automatycznie zarządza to ograniczenie podczas uaktualniania.</span><span class="sxs-lookup"><span data-stu-id="6b25a-221">hello Cluster Resource Manager automatically manages this constraint during upgrades.</span></span> <span data-ttu-id="6b25a-222">Jest używana tooensure że w przypadku uaktualnienia są spełnione, że repliki zwracać tootheir lokalizacji początkowej.</span><span class="sxs-lookup"><span data-stu-id="6b25a-222">It is used tooensure that when upgrades are complete that replicas return tootheir initial locations.</span></span> <span data-ttu-id="6b25a-223">Witaj innego użytku hello PreferredLocation ograniczenie dotyczy hello [ `PreferredPrimaryDomain` zasady rozmieszczania](service-fabric-cluster-resource-manager-advanced-placement-rules-placement-policies.md).</span><span class="sxs-lookup"><span data-stu-id="6b25a-223">hello other use of hello PreferredLocation constraint is for hello [`PreferredPrimaryDomain` placement policy](service-fabric-cluster-resource-manager-advanced-placement-rules-placement-policies.md).</span></span> <span data-ttu-id="6b25a-224">Oba te optymalizacje, i dlatego hello ograniczenia PreferredLocation hello ograniczenie tylko ustawić także "Optymalizacji" domyślnie.</span><span class="sxs-lookup"><span data-stu-id="6b25a-224">Both of these are optimizations, and hence hello PreferredLocation constraint is hello only constraint set too"Optimization" by default.</span></span>

## <a name="upgrades"></a><span data-ttu-id="6b25a-225">Uaktualnienia</span><span class="sxs-lookup"><span data-stu-id="6b25a-225">Upgrades</span></span>
<span data-ttu-id="6b25a-226">pomaga również Hello Menedżera zasobów klastra podczas aplikacji i uaktualnienia klastra, w których ma dwa zadania:</span><span class="sxs-lookup"><span data-stu-id="6b25a-226">hello Cluster Resource Manager also helps during application and cluster upgrades, during which it has two jobs:</span></span>

* <span data-ttu-id="6b25a-227">Upewnij się, że reguły hello hello klastra nie są uszkodzone</span><span class="sxs-lookup"><span data-stu-id="6b25a-227">ensure that hello rules of hello cluster are not compromised</span></span>
* <span data-ttu-id="6b25a-228">Spróbuj go uaktualnienia hello toohelp sprawnie</span><span class="sxs-lookup"><span data-stu-id="6b25a-228">try toohelp hello upgrade go smoothly</span></span>

### <a name="keep-enforcing-hello-rules"></a><span data-ttu-id="6b25a-229">Zachowaj wymuszania reguł hello</span><span class="sxs-lookup"><span data-stu-id="6b25a-229">Keep enforcing hello rules</span></span>
<span data-ttu-id="6b25a-230">świadomość toobe główny element Hello jest czy hello reguły — Witaj ograniczenia strict jak ograniczenia dotyczące umieszczania i pojemności - nadal są wymuszane podczas uaktualniania.</span><span class="sxs-lookup"><span data-stu-id="6b25a-230">hello main thing toobe aware of is that hello rules – hello strict constraints like placement constraints and capacities - are still enforced during upgrades.</span></span> <span data-ttu-id="6b25a-231">Ograniczenia dotyczące umieszczania upewnij się, że obciążeń tylko uruchomiony, gdy mogą one, nawet podczas uaktualniania.</span><span class="sxs-lookup"><span data-stu-id="6b25a-231">Placement constraints ensure that your workloads only run where they are allowed to, even during upgrades.</span></span> <span data-ttu-id="6b25a-232">Gdy usługi są bardzo ograniczone, uaktualnienia może trwać dłużej.</span><span class="sxs-lookup"><span data-stu-id="6b25a-232">When services are highly constrained, upgrades can take longer.</span></span> <span data-ttu-id="6b25a-233">Gdy usługa hello lub hello węzła, który jest uruchomiony na jest obniżył aktualizacji może być kilka opcji, których można go.</span><span class="sxs-lookup"><span data-stu-id="6b25a-233">When hello service or hello node it is running on is brought down for an update there may be few options for where it can go.</span></span>

### <a name="smart-replacements"></a><span data-ttu-id="6b25a-234">Zamienianie inteligentne</span><span class="sxs-lookup"><span data-stu-id="6b25a-234">Smart replacements</span></span>
<span data-ttu-id="6b25a-235">Po uruchomieniu uaktualniania hello Resource Manager tworzy migawkę bieżącego rozmieszczenia hello hello klastra.</span><span class="sxs-lookup"><span data-stu-id="6b25a-235">When an upgrade starts, hello Resource Manager takes a snapshot of hello current arrangement of hello cluster.</span></span> <span data-ttu-id="6b25a-236">Zgodnie z każdej domeny uaktualnienia zakończeniu podejmie tooreturn hello usług, które znajdowały się w tej domeny uaktualnienia tootheir oryginalny układ.</span><span class="sxs-lookup"><span data-stu-id="6b25a-236">As each Upgrade Domain completes, it attempts tooreturn hello services that were in that Upgrade Domain tootheir original arrangement.</span></span> <span data-ttu-id="6b25a-237">W ten sposób jest co najwyżej dwa przejścia usługi podczas uaktualniania hello.</span><span class="sxs-lookup"><span data-stu-id="6b25a-237">This way there are at most two transitions for a service during hello upgrade.</span></span> <span data-ttu-id="6b25a-238">Przenieś jednego węzła hello, których dotyczy problem, a jeden przenieść z powrotem.</span><span class="sxs-lookup"><span data-stu-id="6b25a-238">There is one move out of hello affected node and one move back in.</span></span> <span data-ttu-id="6b25a-239">Zwracanie toohow klastra lub usługi hello przed uaktualnienia hello gwarantuje również uaktualnienie hello bez wpływu na układ hello hello klastra.</span><span class="sxs-lookup"><span data-stu-id="6b25a-239">Returning hello cluster or service toohow it was before hello upgrade also ensures hello upgrade doesn’t impact hello layout of hello cluster.</span></span> 

### <a name="reduced-churn"></a><span data-ttu-id="6b25a-240">Postęp dokonany w obniżonej</span><span class="sxs-lookup"><span data-stu-id="6b25a-240">Reduced churn</span></span>
<span data-ttu-id="6b25a-241">Innym czynnikiem, która jest wywoływana podczas uaktualniania jest tego powitalne wyłącza równoważenia Menedżera zasobów klastra.</span><span class="sxs-lookup"><span data-stu-id="6b25a-241">Another thing that happens during upgrades is that hello Cluster Resource Manager turns off balancing.</span></span> <span data-ttu-id="6b25a-242">Zapobieganie równoważenia zapobiega uaktualnienia toohello niepotrzebne reakcji, takich jak przeniesienie usług w węzłach, które zostały opróżnione do uaktualnienia hello.</span><span class="sxs-lookup"><span data-stu-id="6b25a-242">Preventing balancing prevents unnecessary reactions toohello upgrade itself, like moving services into nodes that were emptied for hello upgrade.</span></span> <span data-ttu-id="6b25a-243">Uaktualnienie hello w przypadku uaktualniania klastra hello całego klastra nie jest rozmieszczana podczas uaktualniania hello.</span><span class="sxs-lookup"><span data-stu-id="6b25a-243">If hello upgrade in question is a Cluster upgrade, then hello entire cluster is not balanced during hello upgrade.</span></span> <span data-ttu-id="6b25a-244">Ograniczenia kontroli pozostają aktywne, tylko przepływu oparte na powitania aktywnego równoważenie metryki jest wyłączona.</span><span class="sxs-lookup"><span data-stu-id="6b25a-244">Constraint checks stay active, only movement based on hello proactive balancing of metrics is disabled.</span></span>

### <a name="buffered-capacity--upgrade"></a><span data-ttu-id="6b25a-245">Pojemność buforowanego & uaktualnienia</span><span class="sxs-lookup"><span data-stu-id="6b25a-245">Buffered Capacity & Upgrade</span></span>
<span data-ttu-id="6b25a-246">Zwykle ma toocomplete uaktualnienia hello nawet, jeśli klaster hello jest ograniczone lub zamknij toofull.</span><span class="sxs-lookup"><span data-stu-id="6b25a-246">Generally you want hello upgrade toocomplete even if hello cluster is constrained or close toofull.</span></span> <span data-ttu-id="6b25a-247">Zarządzanie pojemności hello klastra hello jest szczególnie ważne podczas uaktualniania niż zwykle.</span><span class="sxs-lookup"><span data-stu-id="6b25a-247">Managing hello capacity of hello cluster is even more important during upgrades than usual.</span></span> <span data-ttu-id="6b25a-248">W zależności od hello liczba domen uaktualnienia od 5 do 20% pojemności muszą być migrowane jako hello uaktualnienia przedstawia za pośrednictwem hello klastra.</span><span class="sxs-lookup"><span data-stu-id="6b25a-248">Depending on hello number of upgrade domains, between 5 and 20 percent of capacity must be migrated as hello upgrade rolls through hello cluster.</span></span> <span data-ttu-id="6b25a-249">Pracy ma miejsce toogo.</span><span class="sxs-lookup"><span data-stu-id="6b25a-249">That work has toogo somewhere.</span></span> <span data-ttu-id="6b25a-250">Gdzie jest to hello pojęcie [buforowane możliwości](service-fabric-cluster-resource-manager-cluster-description.md#buffered-capacity) jest użyteczne.</span><span class="sxs-lookup"><span data-stu-id="6b25a-250">This is where hello notion of [buffered capacities](service-fabric-cluster-resource-manager-cluster-description.md#buffered-capacity) is useful.</span></span> <span data-ttu-id="6b25a-251">Pojemność buforowany jest wzięty pod uwagę podczas normalnego działania.</span><span class="sxs-lookup"><span data-stu-id="6b25a-251">Buffered capacity is respected during normal operation.</span></span> <span data-ttu-id="6b25a-252">Witaj Menedżera zasobów klastra mogą wypełnić węzłów w zapasowej całkowita pojemność tootheir (Korzystanie z buforu hello) podczas uaktualniania, jeśli to konieczne.</span><span class="sxs-lookup"><span data-stu-id="6b25a-252">hello Cluster Resource Manager may fill nodes up tootheir total capacity (consuming hello buffer) during upgrades if necessary.</span></span>

## <a name="next-steps"></a><span data-ttu-id="6b25a-253">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="6b25a-253">Next steps</span></span>
* <span data-ttu-id="6b25a-254">Rozpocznij od początku hello i [uzyskać toohello wprowadzenie zasobu klastra sieci szkieletowej programu Service Manager](service-fabric-cluster-resource-manager-introduction.md)</span><span class="sxs-lookup"><span data-stu-id="6b25a-254">Start from hello beginning and [get an Introduction toohello Service Fabric Cluster Resource Manager](service-fabric-cluster-resource-manager-introduction.md)</span></span>
