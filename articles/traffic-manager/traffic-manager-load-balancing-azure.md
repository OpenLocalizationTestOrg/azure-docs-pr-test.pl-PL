---
title: "Równoważenie obciążenia aaaUsing usługi na platformie Azure | Dokumentacja firmy Microsoft"
description: "Ten samouczek pokazuje, jak toocreate scenariusza za pomocą hello Azure portfolio równoważenia obciążenia: Traffic Manager, bramę aplikacji i moduł równoważenia obciążenia."
services: traffic-manager
documentationcenter: 
author: liumichelle
manager: vitinnan
editor: 
ms.assetid: f89be3be-a16f-4d47-bcae-db2ab72ade17
ms.service: traffic-manager
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 10/27/2016
ms.author: limichel
ms.openlocfilehash: d217047102d8c4828250dc0733e8ec9ee1e84b3f
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="using-load-balancing-services-in-azure"></a><span data-ttu-id="c6d8b-103">Przy użyciu usługi równoważenia obciążenia na platformie Azure</span><span class="sxs-lookup"><span data-stu-id="c6d8b-103">Using load-balancing services in Azure</span></span>

## <a name="introduction"></a><span data-ttu-id="c6d8b-104">Wprowadzenie</span><span class="sxs-lookup"><span data-stu-id="c6d8b-104">Introduction</span></span>

<span data-ttu-id="c6d8b-105">Microsoft Azure udostępnia wiele usług do zarządzania ruchem w sieci i równoważenia obciążenia.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-105">Microsoft Azure provides multiple services for managing how network traffic is distributed and load balanced.</span></span> <span data-ttu-id="c6d8b-106">Możesz użyć tych usług indywidualnie lub łączenie ich metod w zależności od potrzeb toobuild hello najlepszego rozwiązania.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-106">You can use these services individually or combine their methods, depending on your needs, toobuild hello optimal solution.</span></span>

<span data-ttu-id="c6d8b-107">W tym samouczku, firma Microsoft najpierw zdefiniować przypadek użycia klienta i wyświetlić sposób można go było bardziej niezawodne i wydajności za pomocą powitania po portfolio równoważenia obciążenia Azure: Traffic Manager, bramę aplikacji i moduł równoważenia obciążenia.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-107">In this tutorial, we first define a customer use case and see how it can be made more robust and performant by using hello following Azure load-balancing portfolio: Traffic Manager, Application Gateway, and Load Balancer.</span></span> <span data-ttu-id="c6d8b-108">Następnie udostępniamy instrukcje tworzenia wdrożenia, które jest geograficznie nadmiarowy, dystrybuuje ruch tooVMs i pomaga w zarządzaniu różnych typów żądań.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-108">We then provide step-by-step instructions for creating a deployment that is geographically redundant, distributes traffic tooVMs, and helps you manage different types of requests.</span></span>

<span data-ttu-id="c6d8b-109">Na poziomie pojęciach każdy z tych usług pełni rolę różne hello hierarchii równoważenia obciążenia.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-109">At a conceptual level, each of these services plays a distinct role in hello load-balancing hierarchy.</span></span>

* <span data-ttu-id="c6d8b-110">**Menedżer ruchu** zapewnia DNS globalnego równoważenia obciążenia.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-110">**Traffic Manager** provides global DNS load balancing.</span></span> <span data-ttu-id="c6d8b-111">Analizuje przychodzące żądania DNS i odpowiada punkt końcowy w dobrej kondycji, zgodnie z hello routingu zasad powitania klienta został wybrany.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-111">It looks at incoming DNS requests and responds with a healthy endpoint, in accordance with hello routing policy hello customer has selected.</span></span> <span data-ttu-id="c6d8b-112">Dostępne są następujące opcje dla metody routingu:</span><span class="sxs-lookup"><span data-stu-id="c6d8b-112">Options for routing methods are:</span></span>
  * <span data-ttu-id="c6d8b-113">Wydajność routingu toosend hello obiektu żądającego toohello najbliższy punkt końcowy pod względem opóźnienia.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-113">Performance routing toosend hello requestor toohello closest endpoint in terms of latency.</span></span>
  * <span data-ttu-id="c6d8b-114">Priorytet routingu toodirect wszystkie ruchu tooan punktu końcowego z innych punktów końcowych na kopii zapasowej.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-114">Priority routing toodirect all traffic tooan endpoint, with other endpoints as backup.</span></span>
  * <span data-ttu-id="c6d8b-115">Ważone działanie okrężne routingu, która dystrybuuje ruch według wagi hello, przypisany tooeach punktu końcowego.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-115">Weighted round-robin routing, which distributes traffic based on hello weighting that is assigned tooeach endpoint.</span></span>

  <span data-ttu-id="c6d8b-116">Witaj, klient połączy się bezpośrednio toothat punktu końcowego.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-116">hello client connects directly toothat endpoint.</span></span> <span data-ttu-id="c6d8b-117">Menedżer ruchu Azure wykrywa punkt końcowy jest zła, a następnie przekierowuje hello wystąpienia dobrej kondycji tooanother klientów.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-117">Azure Traffic Manager detects when an endpoint is unhealthy and then redirects hello clients tooanother healthy instance.</span></span> <span data-ttu-id="c6d8b-118">Odwołuje się zbyt[dokumentacji usługi Azure Traffic Manager](traffic-manager-overview.md) toolearn więcej o usłudze hello.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-118">Refer too[Azure Traffic Manager documentation](traffic-manager-overview.md) toolearn more about hello service.</span></span>
* <span data-ttu-id="c6d8b-119">**Brama aplikacji w** zawiera kontroler dostarczania aplikacji (ADC) jako usługa, oferty różnych warstwy 7 Równoważenie obciążenia sieciowego funkcji aplikacji.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-119">**Application Gateway** provides application delivery controller (ADC) as a service, offering various Layer 7 load-balancing capabilities for your application.</span></span> <span data-ttu-id="c6d8b-120">Pozwala ona klientom wydajność kolektywu serwerów sieci web toooptimize dzięki przeniesieniu brama aplikacji w toohello zakończenia SSL użycie Procesora CPU.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-120">It allows customers toooptimize web farm productivity by offloading CPU-intensive SSL termination toohello application gateway.</span></span> <span data-ttu-id="c6d8b-121">Inne funkcje routingu warstwy 7 obejmują rozdzielanie ruchu przychodzącego, koligacji na podstawie plików cookie sesji, routingu adresów URL na podstawie ścieżki i toohost możliwości hello wiele witryn sieci Web za bramy pojedynczej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-121">Other Layer 7 routing capabilities include round-robin distribution of incoming traffic, cookie-based session affinity, URL path-based routing, and hello ability toohost multiple websites behind a single application gateway.</span></span> <span data-ttu-id="c6d8b-122">Brama aplikacji można skonfigurować jako bramy łączącej z Internetem, bramę wyłącznie wewnętrznym lub obie te grupy.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-122">Application Gateway can be configured as an Internet-facing gateway, an internal-only gateway, or a combination of both.</span></span> <span data-ttu-id="c6d8b-123">Brama aplikacji jest w pełni Azure zarządzanych, skalowalności i wysokiej dostępności.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-123">Application Gateway is fully Azure managed, scalable, and highly available.</span></span> <span data-ttu-id="c6d8b-124">Zapewnia ona bogaty zestaw funkcji diagnostyki i rejestrowania, aby uprościć zarządzanie.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-124">It provides a rich set of diagnostics and logging capabilities for better manageability.</span></span>
* <span data-ttu-id="c6d8b-125">**Moduł równoważenia obciążenia** jest integralną częścią hello Azure SDN stosu, udostępnia wysokiej wydajności i małych opóźnieniach 4 warstwy równoważenia obciążenia usługi dla wszystkich protokołów UDP i TCP protokołów.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-125">**Load Balancer** is an integral part of hello Azure SDN stack, providing high-performance, low-latency Layer 4 load-balancing services for all UDP and TCP protocols.</span></span> <span data-ttu-id="c6d8b-126">Zarządza połączeń przychodzących i wychodzących.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-126">It manages inbound and outbound connections.</span></span> <span data-ttu-id="c6d8b-127">Można skonfigurować publicznych oraz wewnętrznych końcowych z równoważeniem obciążenia i zdefiniuj toomap reguły ruchu przychodzącego miejsc docelowych puli tooback zakończenia połączenia przy użyciu protokołu TCP i HTTP badania kondycji opcje toomanage dostępności usługi.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-127">You can configure public and internal load-balanced endpoints and define rules toomap inbound connections tooback-end pool destinations by using TCP and HTTP health-probing options toomanage service availability.</span></span>

## <a name="scenario"></a><span data-ttu-id="c6d8b-128">Scenariusz</span><span class="sxs-lookup"><span data-stu-id="c6d8b-128">Scenario</span></span>

<span data-ttu-id="c6d8b-129">W tym przykładowym scenariuszu używamy prosty witryny sieci Web, który obsługuje dwa typy zawartości: obrazów i dynamicznie renderowanych stronach sieci Web.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-129">In this example scenario, we use a simple website that serves two types of content: images and dynamically rendered webpages.</span></span> <span data-ttu-id="c6d8b-130">Witaj witryny sieci Web musi być geograficznie nadmiarowy, a powinien służyć swoim użytkownikom z hello najbliższego (można uzyskać najmniejsze opóźnienia) toothem lokalizacji.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-130">hello website must be geographically redundant, and it should serve its users from hello closest (lowest latency) location toothem.</span></span> <span data-ttu-id="c6d8b-131">Hello Deweloper aplikacji postanowiła, że wszystkie adresy URL zgodne hello wzorzec/obrazów / * są obsługiwane z dedykowanym puli maszyn wirtualnych, które różnią się od reszty hello hello kolektywu serwerów sieci web.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-131">hello application developer has decided that any URLs that match hello pattern /images/* are served from a dedicated pool of VMs that are different from hello rest of hello web farm.</span></span>

<span data-ttu-id="c6d8b-132">Ponadto hello domyślną maszyny Wirtualnej pulę obsługę zawartości dynamicznej hello musi tootalk tooa wewnętrznej bazy danych znajdującej się na klastrze wysokiej dostępności.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-132">Additionally, hello default VM pool serving hello dynamic content needs tootalk tooa back-end database that is hosted on a high-availability cluster.</span></span> <span data-ttu-id="c6d8b-133">wdrożenie całej Hello jest skonfigurowana za pośrednictwem usługi Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-133">hello entire deployment is set up through Azure Resource Manager.</span></span>

<span data-ttu-id="c6d8b-134">Przy użyciu usługi Traffic Manager, bramę aplikacji i usługi równoważenia obciążenia umożliwia tooachieve tej witryny sieci Web te cele projektowania:</span><span class="sxs-lookup"><span data-stu-id="c6d8b-134">Using Traffic Manager, Application Gateway, and Load Balancer allows this website tooachieve these design goals:</span></span>

* <span data-ttu-id="c6d8b-135">**Nadmiarowość geograficzna Multi**: Jeśli jeden region ulegnie awarii, trasy menedżera ruchu bezproblemowo ruchu toohello region najbliższy bez żadnej interwencji ze właściciel aplikacji hello.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-135">**Multi-geo redundancy**: If one region goes down, Traffic Manager routes traffic seamlessly toohello closest region without any intervention from hello application owner.</span></span>
* <span data-ttu-id="c6d8b-136">**Mniejsze opóźnienia**: ponieważ Traffic Manager automatycznie kieruje powitania klienta toohello najbliżej regionu, powitania klienta napotyka mniejsze opóźnienia podczas żądania hello zawartości strony sieci Web.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-136">**Reduced latency**: Because Traffic Manager automatically directs hello customer toohello closest region, hello customer experiences lower latency when requesting hello webpage contents.</span></span>
* <span data-ttu-id="c6d8b-137">**Skalowalność niezależne**: ponieważ obciążenia aplikacji sieci web hello jest oddzielona typu zawartości, właściciel aplikacji hello można skalować obciążeń żądania powitania od siebie niezależne.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-137">**Independent scalability**: Because hello web application workload is separated by type of content, hello application owner can scale hello request workloads independent of each other.</span></span> <span data-ttu-id="c6d8b-138">Brama aplikacji w zapewnia, że ruch hello jest routingiem toohello pule prawo oparte na powitania określone zasady i hello kondycji aplikacji hello.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-138">Application Gateway ensures that hello traffic is routed toohello right pools based on hello specified rules and hello health of hello application.</span></span>
* <span data-ttu-id="c6d8b-139">**Równoważenie obciążenia wewnętrznego**: ponieważ moduł równoważenia obciążenia jest przed hello klastra o wysokiej dostępności, tylko hello aktywne i dobrej kondycji punktu końcowego dla bazy danych jest narażonych toohello aplikacji.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-139">**Internal load balancing**: Because Load Balancer is in front of hello high-availability cluster, only hello active and healthy endpoint for a database is exposed toohello application.</span></span> <span data-ttu-id="c6d8b-140">Ponadto administrator bazy danych można zoptymalizować hello obciążenia przez dystrybucję replik aktywnym i pasywnym klastra hello niezależnie od hello aplikacji frontonu.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-140">Additionally, a database administrator can optimize hello workload by distributing active and passive replicas across hello cluster independent of hello front-end application.</span></span> <span data-ttu-id="c6d8b-141">Moduł równoważenia obciążenia zapewnia klastra o wysokiej dostępności toohello połączeń i zapewnia tylko dobrej kondycji bazy danych żądania połączenia.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-141">Load Balancer delivers connections toohello high-availability cluster and ensures that only healthy databases receive connection requests.</span></span>

<span data-ttu-id="c6d8b-142">Witaj Poniższy diagram przedstawia architekturę hello tego scenariusza:</span><span class="sxs-lookup"><span data-stu-id="c6d8b-142">hello following diagram shows hello architecture of this scenario:</span></span>

![Diagram równoważenia obciążenia architektury](./media/traffic-manager-load-balancing-azure/scenario-diagram.png)

> [!NOTE]
> <span data-ttu-id="c6d8b-144">W tym przykładzie jest tylko jeden z wielu możliwych konfiguracji równoważenia obciążenia usług hello, które platforma Azure oferuje.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-144">This example is only one of many possible configurations of hello load-balancing services that Azure offers.</span></span> <span data-ttu-id="c6d8b-145">Można łączyć Menedżera ruchu, bramę aplikacji i usługi równoważenia obciążenia i dopasowany toobest potrzebami równoważenia obciążenia.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-145">Traffic Manager, Application Gateway, and Load Balancer can be mixed and matched toobest suit your load-balancing needs.</span></span> <span data-ttu-id="c6d8b-146">Na przykład jeśli odciążanie protokołu SSL lub przetwarzania warstwy 7 nie jest konieczne, usługi równoważenia obciążenia można użyć zamiast Application Gateway.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-146">For example, if SSL offload or Layer 7 processing is not necessary, Load Balancer can be used in place of Application Gateway.</span></span>

## <a name="setting-up-hello-load-balancing-stack"></a><span data-ttu-id="c6d8b-147">Konfigurowanie hello stosu równoważenia obciążenia</span><span class="sxs-lookup"><span data-stu-id="c6d8b-147">Setting up hello load-balancing stack</span></span>

### <a name="step-1-create-a-traffic-manager-profile"></a><span data-ttu-id="c6d8b-148">Krok 1: Tworzenie profilu Menedżera ruchu</span><span class="sxs-lookup"><span data-stu-id="c6d8b-148">Step 1: Create a Traffic Manager profile</span></span>

1. <span data-ttu-id="c6d8b-149">W portalu Azure hello, kliknij przycisk **nowy**, a następnie wyszukaj hello marketplace "Profilu Menedżera ruchu".</span><span class="sxs-lookup"><span data-stu-id="c6d8b-149">In hello Azure portal, click **New**, and then search hello marketplace for "Traffic Manager profile."</span></span>
2. <span data-ttu-id="c6d8b-150">Na powitania **profilu usługi Traffic Manager utwórz** bloku, wprowadź hello następujące podstawowe informacje:</span><span class="sxs-lookup"><span data-stu-id="c6d8b-150">On hello **Create Traffic Manager profile** blade, enter hello following basic information:</span></span>

  * <span data-ttu-id="c6d8b-151">**Nazwa**: należy podać nazwę prefiks DNS profilu Menedżera ruchu.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-151">**Name**: Give your Traffic Manager profile a DNS prefix name.</span></span>
  * <span data-ttu-id="c6d8b-152">**Metoda routingu**: Wybierz hello zasad metody routingu ruchu.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-152">**Routing method**: Select hello traffic-routing method policy.</span></span> <span data-ttu-id="c6d8b-153">Aby uzyskać więcej informacji na temat metod hello, zobacz [Traffic Manager metody routingu ruchu](traffic-manager-routing-methods.md).</span><span class="sxs-lookup"><span data-stu-id="c6d8b-153">For more information about hello methods, see [About Traffic Manager traffic routing methods](traffic-manager-routing-methods.md).</span></span>
  * <span data-ttu-id="c6d8b-154">**Subskrypcja**: Wybierz subskrypcję hello, który zawiera profil hello.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-154">**Subscription**: Select hello subscription that contains hello profile.</span></span>
  * <span data-ttu-id="c6d8b-155">**Grupa zasobów**: hello wybierz grupę zasobów, która zawiera profil hello.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-155">**Resource group**: Select hello resource group that contains hello profile.</span></span> <span data-ttu-id="c6d8b-156">Może być grupą nowy lub istniejący zasób.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-156">It can be a new or existing resource group.</span></span>
  * <span data-ttu-id="c6d8b-157">**Lokalizacja grupy zasobów**: Usługa Menedżera ruchu jest globalna i niepowiązana tooa lokalizacji.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-157">**Resource group location**: Traffic Manager service is global and not bound tooa location.</span></span> <span data-ttu-id="c6d8b-158">Należy jednak określić region hello grupy, którym znajduje się hello metadane skojarzone z profilem Menedżera ruchu hello.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-158">However, you must specify a region for hello group where hello metadata associated with hello Traffic Manager profile resides.</span></span> <span data-ttu-id="c6d8b-159">Ta lokalizacja nie ma wpływu na dostępność środowiska uruchomieniowego hello hello profilu.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-159">This location has no impact on hello runtime availability of hello profile.</span></span>

3. <span data-ttu-id="c6d8b-160">Kliknij przycisk **Utwórz** hello toogenerate profilu usługi Traffic Manager.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-160">Click **Create** toogenerate hello Traffic Manager profile.</span></span>

  ![Blok "Tworzenie Menedżera ruchu"](./media/traffic-manager-load-balancing-azure/s1-create-tm-blade.png)

### <a name="step-2-create-hello-application-gateways"></a><span data-ttu-id="c6d8b-162">Krok 2: Tworzenie hello bramy aplikacji</span><span class="sxs-lookup"><span data-stu-id="c6d8b-162">Step 2: Create hello application gateways</span></span>

1. <span data-ttu-id="c6d8b-163">W portalu Azure, w okienku po lewej stronie powitania hello kliknij **nowy** > **sieci** > **brama aplikacji w**.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-163">In hello Azure portal, in hello left pane, click **New** > **Networking** > **Application Gateway**.</span></span>
2. <span data-ttu-id="c6d8b-164">Wprowadź następujące podstawowe informacje na temat bramy aplikacji hello hello:</span><span class="sxs-lookup"><span data-stu-id="c6d8b-164">Enter hello following basic information about hello application gateway:</span></span>

  * <span data-ttu-id="c6d8b-165">**Nazwa**: hello nazwy bramy aplikacji hello.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-165">**Name**: hello name of hello application gateway.</span></span>
  * <span data-ttu-id="c6d8b-166">**Rozmiar jednostki SKU**: hello rozmiaru bramy aplikacji hello, dostępne jako mały, średni lub duży.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-166">**SKU size**: hello size of hello application gateway, available as Small, Medium, or Large.</span></span>
  * <span data-ttu-id="c6d8b-167">**Liczba wystąpień**: hello liczba wystąpień, wartość z zakresu od 2 do 10.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-167">**Instance count**: hello number of instances, a value from 2 through 10.</span></span>
  * <span data-ttu-id="c6d8b-168">**Grupa zasobów**: hello grupę zasobów, która przechowuje hello bramy aplikacji.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-168">**Resource group**: hello resource group that holds hello application gateway.</span></span> <span data-ttu-id="c6d8b-169">Można go istniejącą grupę zasobów lub do nowego.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-169">It can be an existing resource group or a new one.</span></span>
  * <span data-ttu-id="c6d8b-170">**Lokalizacja**: hello region bramy aplikacji hello, która jest sama hello lokalizacji jako grupa zasobów hello.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-170">**Location**: hello region for hello application gateway, which is hello same location as hello resource group.</span></span> <span data-ttu-id="c6d8b-171">lokalizacji Hello jest ważne, ponieważ hello sieć wirtualna i publiczny adres IP musi znajdować się w hello tej samej lokalizacji co brama hello.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-171">hello location is important, because hello virtual network and public IP must be in hello same location as hello gateway.</span></span>
3. <span data-ttu-id="c6d8b-172">Kliknij przycisk **OK**.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-172">Click **OK**.</span></span>
4. <span data-ttu-id="c6d8b-173">Zdefiniuj hello sieci wirtualnej, podsieci IP frontonu i konfiguracji odbiornika dla bramy aplikacji hello.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-173">Define hello virtual network, subnet, front-end IP, and listener configurations for hello application gateway.</span></span> <span data-ttu-id="c6d8b-174">W tym scenariuszu jest adres IP frontonu hello **publicznych**, dzięki czemu toobe później dodane jako toohello punktu końcowego profilu Menedżera ruchu.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-174">In this scenario, hello front-end IP address is **Public**, which allows it toobe added as an endpoint toohello Traffic Manager profile later on.</span></span>
5. <span data-ttu-id="c6d8b-175">Skonfiguruj hello odbiornika z jednym hello następujące opcje:</span><span class="sxs-lookup"><span data-stu-id="c6d8b-175">Configure hello listener with one of hello following options:</span></span>
    * <span data-ttu-id="c6d8b-176">Jeśli używasz protokołu HTTP nie ma nic tooconfigure.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-176">If you use HTTP, there is nothing tooconfigure.</span></span> <span data-ttu-id="c6d8b-177">Kliknij przycisk **OK**.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-177">Click **OK**.</span></span>
    * <span data-ttu-id="c6d8b-178">Jeśli jest używany protokół HTTPS, konfiguracji są wymagane dodatkowe.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-178">If you use HTTPS, further configuration is required.</span></span> <span data-ttu-id="c6d8b-179">Odwołuje się zbyt[Utwórz bramę aplikacji](../application-gateway/application-gateway-create-gateway-portal.md), rozpoczynając od kroku 9.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-179">Refer too[Create an application gateway](../application-gateway/application-gateway-create-gateway-portal.md), starting at step 9.</span></span> <span data-ttu-id="c6d8b-180">Po zakończeniu konfiguracji powitania kliknij **OK**.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-180">When you have completed hello configuration, click **OK**.</span></span>

#### <a name="configure-url-routing-for-application-gateways"></a><span data-ttu-id="c6d8b-181">Konfigurowanie adresu URL routingu dla bramy aplikacji</span><span class="sxs-lookup"><span data-stu-id="c6d8b-181">Configure URL routing for application gateways</span></span>

<span data-ttu-id="c6d8b-182">Po wybraniu puli zaplecza bramy aplikacji, który jest skonfigurowany przy użyciu reguły na podstawie ścieżki przyjmuje wzorzec ścieżki adresu URL żądania hello dodanie działania okrężnego tooround dystrybucji.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-182">When you choose a back-end pool, an application gateway that's configured with a path-based rule takes a path pattern of hello request URL in addition tooround-robin distribution.</span></span> <span data-ttu-id="c6d8b-183">W tym scenariuszu dodajemy toodirect reguły na podstawie ścieżki dowolny adres URL z "/images/\*" puli serwerów toohello obrazu.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-183">In this scenario, we are adding a path-based rule toodirect any URL with "/images/\*" toohello image server pool.</span></span> <span data-ttu-id="c6d8b-184">Aby uzyskać więcej informacji na temat konfigurowania adresu URL na podstawie ścieżki routingu dla bramy aplikacji można znaleźć zbyt[Tworzenie reguły na podstawie ścieżki dla bramy aplikacji](../application-gateway/application-gateway-create-url-route-portal.md).</span><span class="sxs-lookup"><span data-stu-id="c6d8b-184">For more information about configuring URL path-based routing for an application gateway, refer too[Create a path-based rule for an application gateway](../application-gateway/application-gateway-create-url-route-portal.md).</span></span>

![Diagram warstwa sieci web bramy aplikacji](./media/traffic-manager-load-balancing-azure/web-tier-diagram.png)

1. <span data-ttu-id="c6d8b-186">W grupie zasobów przejść toohello wystąpienie bramy aplikacji hello, który został utworzony w powyższej sekcji hello.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-186">From your resource group, go toohello instance of hello application gateway that you created in hello preceding section.</span></span>
2. <span data-ttu-id="c6d8b-187">W obszarze **ustawienia**, wybierz pozycję **pul zaplecza**, a następnie wybierz **Dodaj** hello tooadd maszyn wirtualnych, które mają tooassociate z pul zaplecza warstwa sieci web hello.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-187">Under **Settings**, select **Backend pools**, and then select **Add** tooadd hello VMs that you want tooassociate with hello web-tier back-end pools.</span></span>
3. <span data-ttu-id="c6d8b-188">Na powitania **Dodaj pulę zaplecza** bloku, wprowadź nazwę hello hello puli zaplecza i wszystkie adresy IP hello hello maszyn, które znajdują się w puli hello.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-188">On hello **Add backend pool** blade, enter hello name of hello back-end pool and all hello IP addresses of hello machines that reside in hello pool.</span></span> <span data-ttu-id="c6d8b-189">W tym scenariuszu połączono dwie pule serwera zaplecza maszyn wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-189">In this scenario, we are connecting two back-end server pools of virtual machines.</span></span>

  ![Blok "Dodaj pulę zaplecza" bramy aplikacji](./media/traffic-manager-load-balancing-azure/s2-appgw-add-bepool.png)

4. <span data-ttu-id="c6d8b-191">W obszarze **ustawienia** bramy aplikacji hello, wybierz **reguły**, a następnie kliknij przycisk hello **opartych na ścieżce** tooadd przycisk reguły.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-191">Under **Settings** of hello application gateway, select **Rules**, and then click hello **Path based** button tooadd a rule.</span></span>

  ![Przycisk "Na podstawie ścieżki" reguły bramy aplikacji](./media/traffic-manager-load-balancing-azure/s2-appgw-add-pathrule.png)

5. <span data-ttu-id="c6d8b-193">Na powitania **reguły na podstawie ścieżki Dodaj** bloku, skonfiguruj regułę hello zapewniając hello następujących informacji.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-193">On hello **Add path-based rule** blade, configure hello rule by providing hello following information.</span></span>

   <span data-ttu-id="c6d8b-194">Podstawowe ustawienia:</span><span class="sxs-lookup"><span data-stu-id="c6d8b-194">Basic settings:</span></span>

   + <span data-ttu-id="c6d8b-195">**Nazwa**: hello przyjazną nazwę reguły hello, który jest dostępny w portalu hello.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-195">**Name**: hello friendly name of hello rule that is accessible in hello portal.</span></span>
   + <span data-ttu-id="c6d8b-196">**Odbiornik**: hello odbiornik, który jest używany dla hello reguły.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-196">**Listener**: hello listener that is used for hello rule.</span></span>
   + <span data-ttu-id="c6d8b-197">**Domyślna pula zaplecza**: hello używane z regułą domyślnego hello toobe puli zaplecza.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-197">**Default backend pool**: hello back-end pool toobe used with hello default rule.</span></span>
   + <span data-ttu-id="c6d8b-198">**Domyślne ustawienia HTTP**: używane z regułą domyślnego hello toobe ustawienia hello HTTP.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-198">**Default HTTP settings**: hello HTTP settings toobe used with hello default rule.</span></span>

   <span data-ttu-id="c6d8b-199">Ścieżka reguły:</span><span class="sxs-lookup"><span data-stu-id="c6d8b-199">Path-based rules:</span></span>

   + <span data-ttu-id="c6d8b-200">**Nazwa**: hello przyjazną nazwę reguły na podstawie ścieżki hello.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-200">**Name**: hello friendly name of hello path-based rule.</span></span>
   + <span data-ttu-id="c6d8b-201">**Ścieżki**: hello reguły ścieżki, która jest używana do przesyłania ruchu.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-201">**Paths**: hello path rule that is used for forwarding traffic.</span></span>
   + <span data-ttu-id="c6d8b-202">**Puli zaplecza**: hello toobe puli zaplecza używane z tą regułą.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-202">**Backend Pool**: hello back-end pool toobe used with this rule.</span></span>
   + <span data-ttu-id="c6d8b-203">**Ustawienie HTTP**: hello HTTP toobe ustawienia używane z tą regułą.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-203">**HTTP Setting**: hello HTTP settings toobe used with this rule.</span></span>

   > [!IMPORTANT]
   > <span data-ttu-id="c6d8b-204">Ścieżki: Ścieżkach prawidłowy musi rozpoczynać się od "/".</span><span class="sxs-lookup"><span data-stu-id="c6d8b-204">Paths: Valid paths must start with "/".</span></span> <span data-ttu-id="c6d8b-205">Witaj symbolu wieloznacznego "\*" jest dozwolona tylko na końcu hello.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-205">hello wildcard "\*" is allowed only at hello end.</span></span> <span data-ttu-id="c6d8b-206">Nieprawidłowa przykładów /xyz, /xyz\*, lub /xyz/\*.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-206">Valid examples are /xyz, /xyz\*, or /xyz/\*.</span></span>

   ![Blok "Dodaj ścieżkę na podstawie reguły" bramy aplikacji](./media/traffic-manager-load-balancing-azure/s2-appgw-pathrule-blade.png)

### <a name="step-3-add-application-gateways-toohello-traffic-manager-endpoints"></a><span data-ttu-id="c6d8b-208">Krok 3: Dodawanie punktów końcowych usługi Traffic Manager toohello bramy aplikacji</span><span class="sxs-lookup"><span data-stu-id="c6d8b-208">Step 3: Add application gateways toohello Traffic Manager endpoints</span></span>

<span data-ttu-id="c6d8b-209">W tym scenariuszu Menedżera ruchu jest bram tooapplication podłączonej (zgodnie z konfiguracją w poprzednich krokach hello), które znajdują się w różnych regionach.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-209">In this scenario, Traffic Manager is connected tooapplication gateways (as configured in hello preceding steps) that reside in different regions.</span></span> <span data-ttu-id="c6d8b-210">Po skonfigurowaniu bramy aplikacji hello, hello następnym krokiem jest tooconnect ich tooyour profilu usługi Traffic Manager.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-210">Now that hello application gateways are configured, hello next step is tooconnect them tooyour Traffic Manager profile.</span></span>

1. <span data-ttu-id="c6d8b-211">Otwórz profil Menedżera ruchu.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-211">Open your Traffic Manager profile.</span></span> <span data-ttu-id="c6d8b-212">toodo tak, Szukaj w grupie zasobów lub wyszukiwanie nazwy hello hello profilu Menedżera ruchu z **wszystkie zasoby**.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-212">toodo so, look in your resource group or search for hello name of hello Traffic Manager profile from **All Resources**.</span></span>
2. <span data-ttu-id="c6d8b-213">Wybierz w okienku po lewej stronie powitania **punkty końcowe**, a następnie kliknij przycisk **Dodaj** tooadd punktu końcowego.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-213">In hello left pane, select **Endpoints**, and then click **Add** tooadd an endpoint.</span></span>

  ![Przycisk usługi Traffic Manager punkty końcowe "Dodaj"](./media/traffic-manager-load-balancing-azure/s3-tm-add-endpoint.png)

3. <span data-ttu-id="c6d8b-215">Na powitania **dodać punkt końcowy** bloku Utwórz punkt końcowy, wprowadzając hello następujących informacji:</span><span class="sxs-lookup"><span data-stu-id="c6d8b-215">On hello **Add endpoint** blade, create an endpoint by entering hello following information:</span></span>

  * <span data-ttu-id="c6d8b-216">**Typ**: Wybierz typ hello równoważenia tooload punktu końcowego.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-216">**Type**: Select hello type of endpoint tooload-balance.</span></span> <span data-ttu-id="c6d8b-217">W tym scenariuszu wybierz **punktu końcowego platformy Azure** ponieważ połączono go toohello wystąpień bramy aplikacji, które zostały wcześniej skonfigurowane.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-217">In this scenario, select **Azure endpoint** because we are connecting it toohello application gateway instances that were configured previously.</span></span>
  * <span data-ttu-id="c6d8b-218">**Nazwa**: Wprowadź nazwę hello hello punktu końcowego.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-218">**Name**: Enter hello name of hello endpoint.</span></span>
  * <span data-ttu-id="c6d8b-219">**Typ zasobu docelowy**: Wybierz **publicznego adresu IP** , a następnie w obszarze **zasób docelowy**, wybierz hello publicznego adresu IP bramy aplikacji hello, który został wcześniej skonfigurowany.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-219">**Target resource type**: Select **Public IP address** and then, under **Target resource**, select hello public IP of hello application gateway that was configured previously.</span></span>

   ![Blok "Dodaj punkt końcowy" Menedżera ruchu](./media/traffic-manager-load-balancing-azure/s3-tm-add-endpoint-blade.png)

4. <span data-ttu-id="c6d8b-221">Teraz możesz przetestować konfigurację dostępu do niego hello DNS profilu usługi Traffic Manager (w tym przykładzie: TrafficManagerScenario.trafficmanager.net).</span><span class="sxs-lookup"><span data-stu-id="c6d8b-221">Now you can test your setup by accessing it with hello DNS of your Traffic Manager profile (in this example: TrafficManagerScenario.trafficmanager.net).</span></span> <span data-ttu-id="c6d8b-222">Można ponownie wysłać żądania, wywołaj lub doprowadzić do maszyn wirtualnych i serwery sieci web, które zostały utworzone w różnych regionach i zmienić tootest ustawienia profilu usługi Traffic Manager hello konfigurację.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-222">You can resend requests, bring up or bring down VMs and web servers that were created in different regions, and change hello Traffic Manager profile settings tootest your setup.</span></span>

### <a name="step-4-create-a-load-balancer"></a><span data-ttu-id="c6d8b-223">Krok 4: Tworzenie usługi równoważenia obciążenia</span><span class="sxs-lookup"><span data-stu-id="c6d8b-223">Step 4: Create a load balancer</span></span>

<span data-ttu-id="c6d8b-224">W tym scenariuszu usługi równoważenia obciążenia dystrybuuje połączeń z bazami danych toohello warstwy sieci web hello w ramach klastra o wysokiej dostępności.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-224">In this scenario, Load Balancer distributes connections from hello web tier toohello databases within a high-availability cluster.</span></span>

<span data-ttu-id="c6d8b-225">Jeśli klaster wysokiej dostępności bazy danych używa funkcji AlwaysOn programu SQL Server, zapoznaj się zbyt[skonfigurować jeden lub więcej zawsze na dostępność odbiorniki grupy](../virtual-machines/windows/sql/virtual-machines-windows-portal-sql-ps-alwayson-int-listener.md) instrukcje krok po kroku.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-225">If your high-availability database cluster is using SQL Server AlwaysOn, refer too[Configure one or more Always On Availability Group Listeners](../virtual-machines/windows/sql/virtual-machines-windows-portal-sql-ps-alwayson-int-listener.md) for step-by-step instructions.</span></span>

<span data-ttu-id="c6d8b-226">Aby uzyskać więcej informacji na temat konfigurowania wewnętrznego modułu równoważenia obciążenia, zobacz [utworzyć wewnętrznego modułu równoważenia obciążenia w portalu Azure hello](../load-balancer/load-balancer-get-started-ilb-arm-portal.md).</span><span class="sxs-lookup"><span data-stu-id="c6d8b-226">For more information about configuring an internal load balancer, see [Create an Internal load balancer in hello Azure portal](../load-balancer/load-balancer-get-started-ilb-arm-portal.md).</span></span>

1. <span data-ttu-id="c6d8b-227">W portalu Azure, w okienku po lewej stronie powitania hello kliknij **nowy** > **sieci** > **modułu równoważenia obciążenia**.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-227">In hello Azure portal, in hello left pane, click **New** > **Networking** > **Load balancer**.</span></span>
2. <span data-ttu-id="c6d8b-228">Na powitania **modułu równoważenia obciążenia Utwórz** bloku, wybierz nazwę dla Twojej usługi równoważenia obciążenia.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-228">On hello **Create load balancer** blade, choose a name for your load balancer.</span></span>
3. <span data-ttu-id="c6d8b-229">Zestaw hello **typu** za**wewnętrzne**i wybierz odpowiednią sieć wirtualna hello i podsieć tooreside usługi równoważenia obciążenia hello w.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-229">Set hello **Type** too**Internal**, and choose hello appropriate virtual network and subnet for hello load balancer tooreside in.</span></span>
4. <span data-ttu-id="c6d8b-230">W obszarze **przypisywania adresów IP**, wybierz opcję **dynamiczne** lub **statycznych**.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-230">Under **IP address assignment**, select either **Dynamic** or **Static**.</span></span>
5. <span data-ttu-id="c6d8b-231">W obszarze **grupy zasobów**, wybierz grupę zasobów powitania dla usługi równoważenia obciążenia hello.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-231">Under **Resource group**, choose hello resource group for hello load balancer.</span></span>
6. <span data-ttu-id="c6d8b-232">W obszarze **lokalizacji**, wybierz odpowiedni region powitania dla usługi równoważenia obciążenia hello.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-232">Under **Location**, choose hello appropriate region for hello load balancer.</span></span>
7. <span data-ttu-id="c6d8b-233">Kliknij przycisk **Utwórz** modułu równoważenia obciążenia hello toogenerate.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-233">Click **Create** toogenerate hello load balancer.</span></span>

#### <a name="connect-a-back-end-database-tier-toohello-load-balancer"></a><span data-ttu-id="c6d8b-234">Połączenie usługi równoważenia obciążenia toohello warstwy wewnętrznej bazy danych</span><span class="sxs-lookup"><span data-stu-id="c6d8b-234">Connect a back-end database tier toohello load balancer</span></span>

1. <span data-ttu-id="c6d8b-235">Z grupy zasobów Znajdź hello modułu równoważenia obciążenia, który został utworzony w poprzednich krokach hello.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-235">From your resource group, find hello load balancer that was created in hello previous steps.</span></span>
2. <span data-ttu-id="c6d8b-236">W obszarze **ustawienia**, kliknij przycisk **pul zaplecza**, a następnie kliknij przycisk **Dodaj** tooadd puli zaplecza.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-236">Under **Settings**, click **Backend pools**, and then click **Add** tooadd a back-end pool.</span></span>

  ![Blok "Dodaj pulę zaplecza" moduł równoważenia obciążenia](./media/traffic-manager-load-balancing-azure/s4-ilb-add-bepool.png)

3. <span data-ttu-id="c6d8b-238">Na powitania **Dodaj pulę zaplecza** bloku, wprowadź nazwę hello hello puli zaplecza.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-238">On hello **Add backend pool** blade, enter hello name of hello back-end pool.</span></span>
4. <span data-ttu-id="c6d8b-239">Dodaj poszczególnych maszyn lub puli zaplecza toohello zestawu dostępności.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-239">Add either individual machines or an availability set toohello back-end pool.</span></span>

#### <a name="configure-a-probe"></a><span data-ttu-id="c6d8b-240">Skonfiguruj sondę</span><span class="sxs-lookup"><span data-stu-id="c6d8b-240">Configure a probe</span></span>

1. <span data-ttu-id="c6d8b-241">W moduł równoważenia obciążenia w obszarze **ustawienia**, wybierz pozycję **sondy**, a następnie kliknij przycisk **Dodaj** tooadd badanie.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-241">In your load balancer, under **Settings**, select **Probes**, and then click **Add** tooadd a probe.</span></span>

 ![Blok "Dodaj sondy" moduł równoważenia obciążenia](./media/traffic-manager-load-balancing-azure/s4-ilb-add-probe.png)

2. <span data-ttu-id="c6d8b-243">Na powitania **sondowania Dodaj** bloku, wprowadź nazwę hello hello sondy.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-243">On hello **Add probe** blade, enter hello name for hello probe.</span></span>
3. <span data-ttu-id="c6d8b-244">Wybierz hello **protokołu** hello sondy.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-244">Select hello **Protocol** for hello probe.</span></span> <span data-ttu-id="c6d8b-245">Dla bazy danych może być sondowaniem TCP, a nie badania HTTP.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-245">For a database, you might want a TCP probe rather than an HTTP probe.</span></span> <span data-ttu-id="c6d8b-246">toolearn więcej informacji na temat sondy modułu równoważenia obciążenia można znaleźć zbyt[sondy modułu równoważenia obciążenia omówienie](../load-balancer/load-balancer-custom-probe-overview.md).</span><span class="sxs-lookup"><span data-stu-id="c6d8b-246">toolearn more about load-balancer probes, refer too[Understand load balancer probes](../load-balancer/load-balancer-custom-probe-overview.md).</span></span>
4. <span data-ttu-id="c6d8b-247">Wprowadź hello **portu** z Twojej toobe bazy danych używane do uzyskiwania dostępu do badania hello.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-247">Enter hello **Port** of your database toobe used for accessing hello probe.</span></span>
5. <span data-ttu-id="c6d8b-248">W obszarze **interwał**, określ, jak często tooprobe hello aplikacji.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-248">Under **Interval**, specify how frequently tooprobe hello application.</span></span>
6. <span data-ttu-id="c6d8b-249">W obszarze **próg złej kondycji**, określ hello liczbę niepowodzeń sondy, ciągłe musi nastąpić toobe wirtualna zaplecza hello określana jako zła.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-249">Under **Unhealthy threshold**, specify hello number of continuous probe failures that must occur for hello back-end VM toobe considered unhealthy.</span></span>
7. <span data-ttu-id="c6d8b-250">Kliknij przycisk **OK** toocreate hello sondowania.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-250">Click **OK** toocreate hello probe.</span></span>

#### <a name="configure-hello-load-balancing-rules"></a><span data-ttu-id="c6d8b-251">Konfigurowanie reguł równoważenia obciążenia hello</span><span class="sxs-lookup"><span data-stu-id="c6d8b-251">Configure hello load-balancing rules</span></span>

1. <span data-ttu-id="c6d8b-252">W obszarze **ustawienia** moduł równoważenia obciążenia, wybierz **reguły równoważenia obciążenia**, a następnie kliknij przycisk **Dodaj** toocreate reguły.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-252">Under **Settings** of your load balancer, select **Load balancing rules**, and then click **Add** toocreate a rule.</span></span>
2. <span data-ttu-id="c6d8b-253">Na powitania **reguły równoważenia obciążenia Dodaj** bloku, wprowadź hello **nazwa** hello reguły równoważenia obciążenia.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-253">On hello **Add load balancing rule** blade, enter hello **Name** for hello load-balancing rule.</span></span>
3. <span data-ttu-id="c6d8b-254">Wybierz hello **adresu IP frontonu** z hello usługi, w tym równoważenia obciążenia **protokołu**, i **portu**.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-254">Choose hello **Frontend IP Address** of hello load balancer, **Protocol**, and **Port**.</span></span>
4. <span data-ttu-id="c6d8b-255">W obszarze **portu zaplecza**, określ hello toobe port używany w puli zaplecza hello.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-255">Under **Backend port**, specify hello port toobe used in hello back-end pool.</span></span>
5. <span data-ttu-id="c6d8b-256">Wybierz hello **puli zaplecza** i hello **sondowania** utworzonych hello poprzednie kroki tooapply hello reguły.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-256">Select hello **Backend pool** and hello **Probe** that were created in hello previous steps tooapply hello rule to.</span></span>
6. <span data-ttu-id="c6d8b-257">W obszarze **trwałości sesji**, wybierz sposób hello toopersist sesji.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-257">Under **Session persistence**, choose how you want hello sessions toopersist.</span></span>
7. <span data-ttu-id="c6d8b-258">W obszarze **limitów czasu bezczynności**, określ hello liczbę minut przed upływem limitu czasu bezczynności.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-258">Under **Idle timeouts**, specify hello number of minutes before an idle timeout.</span></span>
8. <span data-ttu-id="c6d8b-259">W obszarze **pływający adres IP**, wybierz opcję **wyłączone** lub **włączone**.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-259">Under **Floating IP**, select either **Disabled** or **Enabled**.</span></span>
9. <span data-ttu-id="c6d8b-260">Kliknij przycisk **OK** toocreate hello reguły.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-260">Click **OK** toocreate hello rule.</span></span>

### <a name="step-5-connect-web-tier-vms-toohello-load-balancer"></a><span data-ttu-id="c6d8b-261">Krok 5: Łączenie warstwa sieci web usługi równoważenia obciążenia toohello dla maszyn wirtualnych</span><span class="sxs-lookup"><span data-stu-id="c6d8b-261">Step 5: Connect web-tier VMs toohello load balancer</span></span>

<span data-ttu-id="c6d8b-262">Teraz możemy skonfigurować hello IP adres usługi równoważenia obciążenia frontonu portu i w aplikacji hello, które są uruchomione na maszyny wirtualne warstwy sieci web dla połączeń bazy danych.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-262">Now we configure hello IP address and load-balancer front-end port in hello applications that are running on your web-tier VMs for any database connections.</span></span> <span data-ttu-id="c6d8b-263">Ta konfiguracja jest aplikacje określonych toohello, które działają na tych maszynach wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-263">This configuration is specific toohello applications that run on these VMs.</span></span> <span data-ttu-id="c6d8b-264">tooconfigure hello docelowy adres IP i port, zapoznaj się z dokumentacją aplikacji toohello.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-264">tooconfigure hello destination IP address and port, refer toohello application documentation.</span></span> <span data-ttu-id="c6d8b-265">adres IP hello toofind hello frontonie, hello portalu Azure Przejdź puli adresów IP frontonu toohello hello **ustawienia usługi równoważenia obciążenia** bloku.</span><span class="sxs-lookup"><span data-stu-id="c6d8b-265">toofind hello IP address of hello front end, in hello Azure portal, go toohello front-end IP pool on hello **Load balancer settings** blade.</span></span>

![Okienko nawigacji "Adresu IP frontonu puli" moduł równoważenia obciążenia](./media/traffic-manager-load-balancing-azure/s5-ilb-frontend-ippool.png)

## <a name="next-steps"></a><span data-ttu-id="c6d8b-267">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="c6d8b-267">Next steps</span></span>

* [<span data-ttu-id="c6d8b-268">Omówienie Menedżera ruchu</span><span class="sxs-lookup"><span data-stu-id="c6d8b-268">Overview of Traffic Manager</span></span>](traffic-manager-overview.md)
* [<span data-ttu-id="c6d8b-269">Omówienie bramy aplikacji</span><span class="sxs-lookup"><span data-stu-id="c6d8b-269">Application Gateway overview</span></span>](../application-gateway/application-gateway-introduction.md)
* [<span data-ttu-id="c6d8b-270">Omówienie usługi Azure Load Balancer</span><span class="sxs-lookup"><span data-stu-id="c6d8b-270">Azure Load Balancer overview</span></span>](../load-balancer/load-balancer-overview.md)
