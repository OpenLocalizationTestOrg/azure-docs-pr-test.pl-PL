---
title: "aaaView i szablon maszyny wirtualnej usługi Azure Resource Manager | Dokumentacja firmy Microsoft"
description: "Dowiedz się, jak toouse hello szablonu usługi Azure Resource Manager z toocreate maszyny wirtualnej innych maszyn wirtualnych"
services: devtest-lab,virtual-machines,visual-studio-online
documentationcenter: na
author: tomarcher
manager: douge
editor: 
ms.assetid: a759d9ce-655c-4ac6-8834-cb29dd7d30dd
ms.service: devtest-lab
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/05/2017
ms.author: tarcher
ms.openlocfilehash: b79f7eb4171793681a0b654e6e72a83191c76bde
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="use-a-virtual-machines-azure-resource-manager-template"></a><span data-ttu-id="0b412-103">Użyj szablonu usługi Azure Resource Manager maszynę wirtualną</span><span class="sxs-lookup"><span data-stu-id="0b412-103">Use a virtual machine's Azure Resource Manager template</span></span>

<span data-ttu-id="0b412-104">Podczas tworzenia maszyny wirtualnej (VM) w usłudze DevTest Labs za pośrednictwem hello [portalu Azure](http://go.microsoft.com/fwlink/p/?LinkID=525040), możesz wyświetlić szablonu usługi Azure Resource Manager hello przed zapisaniem hello maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="0b412-104">When you are creating a virtual machine (VM) in DevTest Labs through hello [Azure portal](http://go.microsoft.com/fwlink/p/?LinkID=525040), you can view hello Azure Resource Manager template before you save hello VM.</span></span> <span data-ttu-id="0b412-105">Witaj szablonu mogą być następnie użyta jako toocreate podstawy więcej maszyn wirtualnych laboratorium o hello tych samych ustawień.</span><span class="sxs-lookup"><span data-stu-id="0b412-105">hello template can then be used as a basis toocreate more lab VMs with hello same settings.</span></span>

<span data-ttu-id="0b412-106">W tym artykule opisano, jak tooview hello szablonu usługi Resource Manager, podczas tworzenia maszyny Wirtualnej i w jaki sposób toodeploy jego nowsze tworzenie tooautomate hello tej samej maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="0b412-106">This article describes how tooview hello Resource Manager template when creating a VM, and how toodeploy it later tooautomate creation of hello same VM.</span></span>

## <a name="multi-vm-vs-single-vm-resource-manager-templates"></a><span data-ttu-id="0b412-107">Wielu maszyn wirtualnych i szablony Menedżera zasobów maszyn wirtualnych na jednym</span><span class="sxs-lookup"><span data-stu-id="0b412-107">Multi-VM vs. single-VM Resource Manager templates</span></span>
<span data-ttu-id="0b412-108">Istnieją dwa sposoby toocreate maszyny wirtualne w usłudze DevTest Labs przy użyciu szablonu usługi Resource Manager: udostępnianie zasobów Microsoft.DevTestLab/labs/virtualmachines hello lub udostępnić hello Microsoft.Commpute/virtualmachines zasobów.</span><span class="sxs-lookup"><span data-stu-id="0b412-108">There are two ways toocreate VMs in DevTest Labs using a Resource Manager template: provision hello Microsoft.DevTestLab/labs/virtualmachines resource or provision hello Microsoft.Commpute/virtualmachines resource.</span></span> <span data-ttu-id="0b412-109">Każda jest używane w różnych scenariuszach i wymagają różnych uprawnień.</span><span class="sxs-lookup"><span data-stu-id="0b412-109">Each is used in different scenarios and require different permissions.</span></span>

- <span data-ttu-id="0b412-110">Szablony Menedżera zasobów, korzystających z typu zasobu Microsoft.DevTestLab/labs/virtualmachines (podaną we właściwości "zasobu" hello, w szablonie hello) można udostępnić laboratorium poszczególnych maszyn wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="0b412-110">Resource Manager templates that use a Microsoft.DevTestLab/labs/virtualmachines resource type (as declared in hello “resource” property in hello template) can provision individual lab VMs.</span></span> <span data-ttu-id="0b412-111">Każda maszyna wirtualna następnie jest wyświetlany jako jeden element na liście hello DevTest Labs maszyn wirtualnych:</span><span class="sxs-lookup"><span data-stu-id="0b412-111">Each VM then shows up as a single item in hello DevTest Labs virtual machines list:</span></span>

   ![Lista maszyn wirtualnych jako pojedyncze elementy na liście hello DevTest Labs maszyny wirtualne](./media/devtest-lab-use-arm-template/devtestlab-lab-vm-single-item.png)

   <span data-ttu-id="0b412-113">Ten typ szablonu usługi Resource Manager można udostępnić za pośrednictwem hello polecenia programu PowerShell usługi Azure **AzureRmResourceGroupDeployment nowy** lub za pomocą polecenia interfejsu wiersza polecenia Azure hello **Utwórz wdrożenie grupy az** .</span><span class="sxs-lookup"><span data-stu-id="0b412-113">This type of Resource Manager template can be provisioned through hello Azure PowerShell command **New-AzureRmResourceGroupDeployment** or through hello Azure CLI command **az group deployment create**.</span></span> <span data-ttu-id="0b412-114">Wymagane uprawnienia administratora tak użytkowników, którzy są przypisani z rolą użytkownika DevTest Labs nie można wykonać wdrożenia hello.</span><span class="sxs-lookup"><span data-stu-id="0b412-114">It requires administrator permissions, so users who are assigned with a DevTest Labs user role can’t perform hello deployment.</span></span> 

- <span data-ttu-id="0b412-115">Szablony Menedżera zasobów, korzystających z typu zasobu Microsoft.Compute/virtualmachines umożliwia obsługę wielu maszyn wirtualnych jako jednym środowisku na liście hello DevTest Labs maszyn wirtualnych:</span><span class="sxs-lookup"><span data-stu-id="0b412-115">Resource Manager templates that use a Microsoft.Compute/virtualmachines resource type can provision multiple VMs as a single environment in hello DevTest Labs virtual machines list:</span></span>

   ![Lista maszyn wirtualnych jako pojedyncze elementy na liście hello DevTest Labs maszyny wirtualne](./media/devtest-lab-use-arm-template/devtestlab-lab-vm-single-environment.png)

   <span data-ttu-id="0b412-117">Maszyny wirtualne w tym samym środowisku, które mogą być zarządzane wspólnie powitalne i udziału hello sam cykl życia.</span><span class="sxs-lookup"><span data-stu-id="0b412-117">VMs in hello same environment can be managed together and share hello same lifecycle.</span></span> <span data-ttu-id="0b412-118">Użytkownicy z przypisaną z rolą użytkownika DevTest Labs utworzyć środowiska przy użyciu tych szablonów, jak długo hello administrator skonfigurował laboratorium hello w ten sposób.</span><span class="sxs-lookup"><span data-stu-id="0b412-118">Users who are assigned with a DevTest Labs user role can create environments using those templates as long as hello administrator has configured hello lab that way.</span></span>

<span data-ttu-id="0b412-119">Hello dalszej części tego artykułu opisano szablony Menedżera zasobów, używające Mirosoft.DevTestLab/labs/virtualmachines.</span><span class="sxs-lookup"><span data-stu-id="0b412-119">hello remainder of this article discusses Resource Manager templates that use Mirosoft.DevTestLab/labs/virtualmachines.</span></span> <span data-ttu-id="0b412-120">Są one używane przez tworzenie maszyny Wirtualnej laboratorium tooautomate Administratorzy laboratorium (na przykład claimable VMs) lub generowania złotego obrazu (na przykład obraz fabryka).</span><span class="sxs-lookup"><span data-stu-id="0b412-120">These are used by lab admins tooautomate lab VM creation (for example, claimable VMs) or golden image generation (for example, image factory).</span></span>

<span data-ttu-id="0b412-121">[Najlepsze rozwiązania dotyczące tworzenia szablonów usługi Azure Resource Manager](https://docs.microsoft.com/azure/azure-resource-manager/resource-manager-template-best-practices) oferuje wiele toohelp wskazówki i sugestie dotyczące tworzenia szablonów usługi Azure Resource Manager, które są toouse niezawodne i łatwe.</span><span class="sxs-lookup"><span data-stu-id="0b412-121">[Best practices for creating Azure Resource Manager templates](https://docs.microsoft.com/azure/azure-resource-manager/resource-manager-template-best-practices) offers many guidelines and suggestions toohelp you create Azure Resource Manager templates that are reliable and easy toouse.</span></span>

## <a name="view-and-save-a-virtual-machines-resource-manager-template"></a><span data-ttu-id="0b412-122">Wyświetlanie i zapisać szablon usługi Resource Manager maszynę wirtualną</span><span class="sxs-lookup"><span data-stu-id="0b412-122">View and save a virtual machine's Resource Manager template</span></span>
1. <span data-ttu-id="0b412-123">Wykonaj czynności hello [tworzenie pierwszej maszyny Wirtualnej w laboratorium](devtest-lab-create-first-vm.md) toobegin tworzenia maszyny wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="0b412-123">Follow hello steps at [Create your first VM in a lab](devtest-lab-create-first-vm.md) toobegin creating a virtual machine.</span></span>
1. <span data-ttu-id="0b412-124">Wprowadź informacje wymagane powitania dla maszyny wirtualnej, a następnie dodaj wszelkie artefakty dla tej maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="0b412-124">Enter hello required information for your virtual machine and add any artifacts you want for this VM.</span></span>
1. <span data-ttu-id="0b412-125">U dołu hello hello Konfiguruj ustawienia okna, wybierz **szablon ARM widoku**.</span><span class="sxs-lookup"><span data-stu-id="0b412-125">At hello bottom of hello Configure settings window, choose **View ARM template**.</span></span>

   ![Szablon ARM przycisk](./media/devtest-lab-use-arm-template/devtestlab-lab-view-rm-template.png)
1. <span data-ttu-id="0b412-127">Skopiuj i Zapisz toouse szablonu usługi Resource Manager hello nowsze toocreate inną maszynę wirtualną.</span><span class="sxs-lookup"><span data-stu-id="0b412-127">Copy and save hello Resource Manager template toouse later toocreate another virtual machine.</span></span>

   ![Toosave szablon Menedżera zasobów do późniejszego użycia](./media/devtest-lab-use-arm-template/devtestlab-lab-copy-rm-template.png)

<span data-ttu-id="0b412-129">Po zapisaniu szablonu usługi Resource Manager hello, musisz zaktualizować hello sekcji parametrów szablonu hello przed jego użyciem.</span><span class="sxs-lookup"><span data-stu-id="0b412-129">After you have saved hello Resource Manager template, you must update hello parameters section of hello template before you can use it.</span></span> <span data-ttu-id="0b412-130">Można utworzyć parameter.json, który dostosowuje tylko hello parametrów, poza hello rzeczywiste szablonu usługi Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="0b412-130">You can create a parameter.json that customizes just hello parameters, outside of hello actual Resource Manager template.</span></span> 

![Dostosowywanie ma parametrów przy użyciu pliku JSON](./media/devtest-lab-use-arm-template/devtestlab-lab-custom-params.png)

## <a name="deploy-a-resource-manager-template-toocreate-a-vm"></a><span data-ttu-id="0b412-132">Wdrażanie usługi Resource Manager toocreate szablonu maszyny Wirtualnej</span><span class="sxs-lookup"><span data-stu-id="0b412-132">Deploy a Resource Manager template toocreate a VM</span></span>
<span data-ttu-id="0b412-133">Po zapisać szablon usługi Resource Manager i dostosować go do swoich potrzeb można użyć tooautomate tworzenia maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="0b412-133">After you have saved a Resource Manager template and customized it for your needs, you can use it tooautomate VM creation.</span></span> <span data-ttu-id="0b412-134">[Wdrażanie zasobów przy użyciu szablonów usługi Resource Manager i programu Azure PowerShell](https://docs.microsoft.com/azure/azure-resource-manager/resource-group-template-deploy) w tym artykule opisano sposób toouse programu Azure PowerShell z toodeploy szablonów usługi Resource Manager tooAzure Twojego zasobów.</span><span class="sxs-lookup"><span data-stu-id="0b412-134">[Deploy resources with Resource Manager templates and Azure PowerShell](https://docs.microsoft.com/azure/azure-resource-manager/resource-group-template-deploy) describes how toouse Azure PowerShell with Resource Manager templates toodeploy your resources tooAzure.</span></span> <span data-ttu-id="0b412-135">[Wdrażanie zasobów przy użyciu szablonów usługi Resource Manager i interfejsu wiersza polecenia Azure](https://docs.microsoft.com/azure/azure-resource-manager/resource-group-template-deploy-cli) w tym artykule opisano sposób toouse wiersza polecenia platformy Azure z toodeploy szablony Menedżera zasobów tooAzure Twojego zasobów.</span><span class="sxs-lookup"><span data-stu-id="0b412-135">[Deploy resources with Resource Manager templates and Azure CLI](https://docs.microsoft.com/azure/azure-resource-manager/resource-group-template-deploy-cli) describes how toouse Azure CLI with Resource Manager templates toodeploy your resources tooAzure.</span></span>

> [!NOTE]
> <span data-ttu-id="0b412-136">Tylko użytkownik z uprawnieniami właściciela laboratorium można utworzyć maszyny wirtualne z szablonem usługi Resource Manager przy użyciu programu Azure PowerShell.</span><span class="sxs-lookup"><span data-stu-id="0b412-136">Only a user with lab owner permissions can create VMs from a Resource Manager template by using Azure PowerShell.</span></span> <span data-ttu-id="0b412-137">Jeśli chcesz tooautomate tworzenia maszyny Wirtualnej przy użyciu szablonu usługi Resource Manager i tylko mają uprawnienia użytkowników, możesz użyć hello [ **tworzenia maszyny wirtualnej laboratorium az** w hello interfejsu wiersza polecenia polecenie](https://docs.microsoft.com/cli/azure/lab/vm#create).</span><span class="sxs-lookup"><span data-stu-id="0b412-137">If you want tooautomate VM creation using a Resource Manager template and you only have user permissions, you can use hello [**az lab vm create** command in hello CLI](https://docs.microsoft.com/cli/azure/lab/vm#create).</span></span>

### <a name="next-steps"></a><span data-ttu-id="0b412-138">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="0b412-138">Next steps</span></span>
* <span data-ttu-id="0b412-139">Dowiedz się, jak za[utworzyć środowiska wielu maszyn wirtualnych z szablonami usługi Resource Manager](devtest-lab-create-environment-from-arm.md).</span><span class="sxs-lookup"><span data-stu-id="0b412-139">Learn how too[Create multi-VM environments with Resource Manager templates](devtest-lab-create-environment-from-arm.md).</span></span>
* <span data-ttu-id="0b412-140">Poznaj więcej szablonów usługi Resource Manager szybki start DevTest Labs automatyzacji z hello [publicznego repozytorium DevTest Labs GitHub](https://github.com/Azure/azure-quickstart-templates).</span><span class="sxs-lookup"><span data-stu-id="0b412-140">Explore more quick-start Resource Manager templates for DevTest Labs automation from hello [public DevTest Labs GitHub repo](https://github.com/Azure/azure-quickstart-templates).</span></span>
