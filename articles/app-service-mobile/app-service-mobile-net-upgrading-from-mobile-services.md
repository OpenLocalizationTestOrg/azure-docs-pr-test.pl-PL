---
title: "aaaUpgrade z tooAzure usług Mobile Services App Service"
description: "Dowiedz się, jak tooeasily uaktualnienia programu tooan aplikacji usługi Mobile Services aplikację usługi Mobile aplikacji"
services: app-service\mobile
documentationcenter: 
author: ggailey777
manager: syntaxc4
editor: 
ms.assetid: 9c0ac353-afb6-462b-ab94-d91b8247322f
ms.service: app-service-mobile
ms.workload: mobile
ms.tgt_pltfrm: mobile
ms.devlang: dotnet
ms.topic: article
ms.date: 10/01/2016
ms.author: glenga
ms.openlocfilehash: 2b75a1b824e8ef0d36c9053f2f19af051479f928
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="upgrade-your-existing-net-azure-mobile-service-tooapp-service"></a><span data-ttu-id="6962f-103">Uaktualnij istniejący tooApp usługi mobilnej Azure .NET usługi</span><span class="sxs-lookup"><span data-stu-id="6962f-103">Upgrade your existing .NET Azure Mobile Service tooApp Service</span></span>
<span data-ttu-id="6962f-104">Mobile App Service jest nowy sposób toobuild aplikacji dla urządzeń przenośnych przy użyciu programu Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="6962f-104">App Service Mobile is a new way toobuild mobile applications using Microsoft Azure.</span></span> <span data-ttu-id="6962f-105">toolearn więcej, zobacz [co to są Mobile Apps?].</span><span class="sxs-lookup"><span data-stu-id="6962f-105">toolearn more, see [What are Mobile Apps?].</span></span>

<span data-ttu-id="6962f-106">W tym temacie opisano sposób tooupgrade istniejącej aplikacji zaplecza .NET z usług Azure Mobile Services tooa nowej aplikacji usługi Mobile Apps.</span><span class="sxs-lookup"><span data-stu-id="6962f-106">This topic describes how tooupgrade an existing .NET backend application from Azure Mobile Services tooa new App Service Mobile Apps.</span></span> <span data-ttu-id="6962f-107">Podczas wykonywania tego uaktualnienia istniejącej aplikacji usługi Mobile Services można nadal toooperate.</span><span class="sxs-lookup"><span data-stu-id="6962f-107">While you perform this upgrade, your existing Mobile Services application can continue toooperate.</span></span>   <span data-ttu-id="6962f-108">Jeśli potrzebujesz tooupgrade aplikacji zaplecza Node.js odwoływać się za[uaktualniania usług Mobile Node.js](app-service-mobile-node-backend-upgrading-from-mobile-services.md).</span><span class="sxs-lookup"><span data-stu-id="6962f-108">If you need tooupgrade a Node.js backend application, refer too[Upgrading your Node.js Mobile Services](app-service-mobile-node-backend-upgrading-from-mobile-services.md).</span></span>

<span data-ttu-id="6962f-109">Zaplecze aplikacji mobilnej jest uaktualniony tooAzure usługi aplikacji, ma tooall dostęp do funkcji usługi aplikacji i są rozliczane według zbyt[cennik usługi aplikacji], nie Mobile Services cennik.</span><span class="sxs-lookup"><span data-stu-id="6962f-109">When a mobile backend is upgraded tooAzure App Service, it has access tooall App Service features and are billed according too[App Service pricing], not Mobile Services pricing.</span></span>

## <a name="migrate-vs-upgrade"></a><span data-ttu-id="6962f-110">Migrowanie i uaktualnianie</span><span class="sxs-lookup"><span data-stu-id="6962f-110">Migrate vs. upgrade</span></span>
[!INCLUDE [app-service-mobile-migrate-vs-upgrade](../../includes/app-service-mobile-migrate-vs-upgrade.md)]

> [!TIP]
> <span data-ttu-id="6962f-111">Zaleca się że [przeprowadzenie migracji](app-service-mobile-migrating-from-mobile-services.md) przed rozpoczęciem uaktualnienia.</span><span class="sxs-lookup"><span data-stu-id="6962f-111">It is recommended that you [perform a migration](app-service-mobile-migrating-from-mobile-services.md) before going through an upgrade.</span></span> <span data-ttu-id="6962f-112">W ten sposób można umieścić obie wersje aplikacji hello tego samego planu usługi App Service i pociągnąć za sobą nie dodatkowych kosztów.</span><span class="sxs-lookup"><span data-stu-id="6962f-112">This way, you can put both versions of your application on hello same App Service Plan and incur no additional cost.</span></span>
>
>

### <a name="improvements-in-mobile-apps-net-server-sdk"></a><span data-ttu-id="6962f-113">Ulepszenia serwera Mobile Apps .NET SDK</span><span class="sxs-lookup"><span data-stu-id="6962f-113">Improvements in Mobile Apps .NET server SDK</span></span>
<span data-ttu-id="6962f-114">Uaktualnianie toohello nowe [zestaw SDK usługi Mobile Apps](https://www.nuget.org/packages/Microsoft.Azure.Mobile.Server/) zapewnia hello następujące korzyści:</span><span class="sxs-lookup"><span data-stu-id="6962f-114">Upgrading toohello new [Mobile Apps SDK](https://www.nuget.org/packages/Microsoft.Azure.Mobile.Server/) provides hello following benefits:</span></span>

* <span data-ttu-id="6962f-115">Większa elastyczność w zależności NuGet.</span><span class="sxs-lookup"><span data-stu-id="6962f-115">More flexibility on NuGet dependencies.</span></span> <span data-ttu-id="6962f-116">Hello Środowisko hostingu nie jest już zawiera własną wersje pakietów NuGet, dzięki czemu można użyć alternatywnej wersji zgodne.</span><span class="sxs-lookup"><span data-stu-id="6962f-116">hello hosting environment no longer provides its own versions of NuGet packages, so you can use alternative compatible versions.</span></span> <span data-ttu-id="6962f-117">Jednak jeśli istnieją nowe bugfixes krytycznych lub toohello aktualizacje zabezpieczeń zestaw SDK usługi Mobile serwera lub zależności, należy ręcznie zaktualizować usługę.</span><span class="sxs-lookup"><span data-stu-id="6962f-117">However, if there are new critical bugfixes or security updates toohello Mobile Server SDK or dependencies, you must update your service manually.</span></span>
* <span data-ttu-id="6962f-118">Większą elastyczność hello przenośnych zestawu SDK.</span><span class="sxs-lookup"><span data-stu-id="6962f-118">More flexibility in hello mobile SDK.</span></span> <span data-ttu-id="6962f-119">Jawnie można kontrolować, które funkcje i trasy są skonfigurowane, takich jak uwierzytelnianie, tabeli interfejsów API i hello wypychania punktu końcowego rejestracji.</span><span class="sxs-lookup"><span data-stu-id="6962f-119">You can explicitly control which features and routes are set up, such as authentication, table APIs, and hello push registration endpoint.</span></span> <span data-ttu-id="6962f-120">toolearn więcej, zobacz [jak toouse hello serwer .NET SDK usługi Azure Mobile Apps](app-service-mobile-dotnet-backend-how-to-use-server-sdk.md).</span><span class="sxs-lookup"><span data-stu-id="6962f-120">toolearn more, see [How toouse hello .NET server SDK for Azure Mobile Apps](app-service-mobile-dotnet-backend-how-to-use-server-sdk.md).</span></span>
* <span data-ttu-id="6962f-121">Obsługa innych typów projektów programu ASP.NET i trasy.</span><span class="sxs-lookup"><span data-stu-id="6962f-121">Support for other ASP.NET project types and routes.</span></span> <span data-ttu-id="6962f-122">Można hostować kontrolerów MVC i interfejsu API sieci Web w hello sam projektu jako projektu zaplecza aplikacji mobilnych.</span><span class="sxs-lookup"><span data-stu-id="6962f-122">You can now host MVC and Web API controllers in hello same project as your mobile backend project.</span></span>
* <span data-ttu-id="6962f-123">Obsługa nowych funkcji uwierzytelniania usługi aplikacji, umożliwiających toouse typowych konfiguracji uwierzytelniania w sieci web i aplikacji mobilnych.</span><span class="sxs-lookup"><span data-stu-id="6962f-123">Support for new App Service authentication features, which allow you toouse a common authentication configuration across your web and mobile apps.</span></span>

## <span data-ttu-id="6962f-124"><a name="overview"></a>Ogólne omówienie uaktualnienia</span><span class="sxs-lookup"><span data-stu-id="6962f-124"><a name="overview"></a>Basic upgrade overview</span></span>
<span data-ttu-id="6962f-125">W wielu przypadkach uaktualniania będzie najprostszą przełączanie toohello nowy serwer Mobile Apps SDK i ponownego publikowania kodu na nowe wystąpienie aplikacji mobilnej.</span><span class="sxs-lookup"><span data-stu-id="6962f-125">In many cases, upgrading will be as simple as switching toohello new Mobile Apps server SDK and republishing your code onto a new Mobile App instance.</span></span> <span data-ttu-id="6962f-126">Istnieją, jednak niektóre scenariusze, które będą wymagać dodatkowej konfiguracji, takich jak uwierzytelnianie zaawansowanych scenariuszy i Praca z zaplanowanych zadań.</span><span class="sxs-lookup"><span data-stu-id="6962f-126">There are, however some scenarios which will require some additional configuration, such as advanced authentication scenarios and working with scheduled jobs.</span></span> <span data-ttu-id="6962f-127">Każdy z tych jest objęte hello później sekcje.</span><span class="sxs-lookup"><span data-stu-id="6962f-127">Each of these is covered in hello later sections.</span></span>

> [!TIP]
> <span data-ttu-id="6962f-128">Zaleca się, że należy dokładnie zapoznać się hello pozostałej części tego tematu całkowicie przed rozpoczęciem uaktualniania.</span><span class="sxs-lookup"><span data-stu-id="6962f-128">It is advised that you read and understand hello rest of this topic completely before starting an upgrade.</span></span> <span data-ttu-id="6962f-129">Zwróć uwagę na każdej funkcji Użyj wymienione poniżej.</span><span class="sxs-lookup"><span data-stu-id="6962f-129">Make note of any features you use which are called out below.</span></span>
>
>

<span data-ttu-id="6962f-130">są zestawy SDK klienta usługi Mobile Services Hello **nie** zgodny z hello nowy serwer Mobile Apps SDK.</span><span class="sxs-lookup"><span data-stu-id="6962f-130">hello Mobile Services client SDKs are **not** compatible with hello new Mobile Apps server SDK.</span></span> <span data-ttu-id="6962f-131">W kolejności tooprovide ciągłości usługi dla aplikacji nie należy opublikować zmian tooa lokacji aktualnie obsługujący opublikowanych klientów.</span><span class="sxs-lookup"><span data-stu-id="6962f-131">In order tooprovide continuity of service for your app, you should not publish changes tooa site currently serving published clients.</span></span> <span data-ttu-id="6962f-132">Zamiast tego należy utworzyć nowej aplikacji mobilnej, która służy jako duplikat.</span><span class="sxs-lookup"><span data-stu-id="6962f-132">Instead, you should create a new mobile app that serves as a duplicate.</span></span> <span data-ttu-id="6962f-133">Możesz też zaznaczyć tę aplikację na powitania same usługi aplikacji — planowanie tooavoid ponoszenia dodatkowych kosztów finansowych.</span><span class="sxs-lookup"><span data-stu-id="6962f-133">You can put this application on hello same App Service plan tooavoid incurring additional financial cost.</span></span>

<span data-ttu-id="6962f-134">Następnie będzie mieć dwie wersje aplikacji hello: które pozostaje takie same hello i służy opublikowanych aplikacji hello wild i hello innych, które następnie można uaktualnić i obiekt docelowy z nową wersją klienta.</span><span class="sxs-lookup"><span data-stu-id="6962f-134">You will then have two versions of hello application: one which stays hello same and serves published apps in hello wild, and hello other which you can then upgrade and target with a new client release.</span></span> <span data-ttu-id="6962f-135">Można przenieść i testowanie kodu w tempie użytkownika, ale należy się upewnić, że wszelkie poprawki wprowadzone pobrać tooboth zastosowane.</span><span class="sxs-lookup"><span data-stu-id="6962f-135">You can move and test your code at your pace, but you should make sure that any bug fixes you make get applied tooboth.</span></span> <span data-ttu-id="6962f-136">Po uważasz, że odpowiednią liczbę klienta aplikacji w hello wild zaktualizowano toohello najnowszej wersji, można usunąć oryginalny zmigrowana aplikacja hello, jeśli jest to wymagane.</span><span class="sxs-lookup"><span data-stu-id="6962f-136">Once you feel that a desired number of client apps in hello wild have updated toohello latest version, you can delete hello original migrated app if you desire.</span></span>

<span data-ttu-id="6962f-137">Pełna konspekt procesu uaktualniania hello Hello jest następujący:</span><span class="sxs-lookup"><span data-stu-id="6962f-137">hello full outline for hello upgrade process is as follows:</span></span>

1. <span data-ttu-id="6962f-138">Tworzenie nowej aplikacji mobilnej</span><span class="sxs-lookup"><span data-stu-id="6962f-138">Create a new Mobile App</span></span>
2. <span data-ttu-id="6962f-139">Aktualizacja hello projektu toouse hello nowego serwera zestawów SDK.</span><span class="sxs-lookup"><span data-stu-id="6962f-139">Update hello project toouse hello new Server SDKs</span></span>
3. <span data-ttu-id="6962f-140">Zwolnij nowej wersji aplikacji klienta</span><span class="sxs-lookup"><span data-stu-id="6962f-140">Release a new version of your client application</span></span>
4. <span data-ttu-id="6962f-141">(Opcjonalnie) Usuń zmigrowane oryginalnego wystąpienia</span><span class="sxs-lookup"><span data-stu-id="6962f-141">(Optional) Delete your original migrated instance</span></span>

## <span data-ttu-id="6962f-142"><a name="mobile-app-version"></a>Tworzenie drugiego wystąpienia aplikacji</span><span class="sxs-lookup"><span data-stu-id="6962f-142"><a name="mobile-app-version"></a>Creating a second application instance</span></span>
<span data-ttu-id="6962f-143">Witaj pierwszym krokiem podczas uaktualniania jest toocreate hello aplikacji mobilnej zasób, który będzie hostem hello nowej wersji aplikacji.</span><span class="sxs-lookup"><span data-stu-id="6962f-143">hello first step in upgrading is toocreate hello Mobile App resource which will host hello new version of your application.</span></span> <span data-ttu-id="6962f-144">Jeśli już migracji istniejącej usługi mobilnej można toocreate tej wersji na powitania tego samego planu obsługi.</span><span class="sxs-lookup"><span data-stu-id="6962f-144">If you have already migrated an existing mobile service, you will want toocreate this version on hello same hosting plan.</span></span> <span data-ttu-id="6962f-145">Otwórz hello [portalu Azure] i przejdź tooyour migracji aplikacji.</span><span class="sxs-lookup"><span data-stu-id="6962f-145">Open hello [Azure portal] and navigate tooyour migrated application.</span></span> <span data-ttu-id="6962f-146">Zanotuj hello jest uruchomiona na Plan usługi aplikacji.</span><span class="sxs-lookup"><span data-stu-id="6962f-146">Make note of hello App Service Plan it is running on.</span></span>

<span data-ttu-id="6962f-147">Następnie należy utworzyć drugiego wystąpienia aplikacji hello przez następujące hello [instrukcje dotyczące tworzenia zaplecza .NET](app-service-mobile-dotnet-backend-how-to-use-server-sdk.md#create-app).</span><span class="sxs-lookup"><span data-stu-id="6962f-147">Next, create hello second application instance by following hello [.NET backend creation instructions](app-service-mobile-dotnet-backend-how-to-use-server-sdk.md#create-app).</span></span> <span data-ttu-id="6962f-148">Gdy zostanie wyświetlony monit o tooselect, możesz Plan usługi aplikacji lub "plan hostingu" Wybierz hello planu migrowanych aplikacji.</span><span class="sxs-lookup"><span data-stu-id="6962f-148">When prompted tooselect you App Service Plan or "hosting plan" choose hello plan of your migrated application.</span></span>

<span data-ttu-id="6962f-149">Prawdopodobnie będzie toouse hello tej samej bazy danych i Centrum powiadomień, jak zostało w usłudze Mobile Services.</span><span class="sxs-lookup"><span data-stu-id="6962f-149">You will likely want toouse hello same database and Notification Hub as you did in Mobile Services.</span></span> <span data-ttu-id="6962f-150">Możesz skopiować te wartości, otwierając [portalu Azure] i nawigacja toohello oryginalnej aplikacji, następnie kliknij przycisk **ustawienia** > **ustawienia aplikacji**.</span><span class="sxs-lookup"><span data-stu-id="6962f-150">You can copy these values by opening [Azure portal] and navigating toohello original application, then click **Settings** > **Application settings**.</span></span> <span data-ttu-id="6962f-151">W obszarze **parametry połączenia**, kopiowania `MS_NotificationHubConnectionString` i `MS_TableConnectionString`.</span><span class="sxs-lookup"><span data-stu-id="6962f-151">Under **Connection Strings**, copy `MS_NotificationHubConnectionString` and `MS_TableConnectionString`.</span></span> <span data-ttu-id="6962f-152">Przejdź tooyour nowej lokacji uaktualnienia i wklej je w, zastępując istniejące wartości.</span><span class="sxs-lookup"><span data-stu-id="6962f-152">Navigate tooyour new upgrade site and paste them in, overwriting any existing values.</span></span> <span data-ttu-id="6962f-153">Powtórz te kroki dla innych ustawień aplikacji potrzeb aplikacji.</span><span class="sxs-lookup"><span data-stu-id="6962f-153">Repeat this process for any other application settings your app needs.</span></span> <span data-ttu-id="6962f-154">Jeśli nie używa zmigrowanej usługi, możesz przeczytać parametry połączenia i ustawień aplikacji z hello **Konfiguruj** kartę hello usług Mobile Services części hello [klasycznego portalu Azure].</span><span class="sxs-lookup"><span data-stu-id="6962f-154">If not using a migrated service, you can read connection strings and app settings from hello **Configure** tab of hello Mobile Services section of hello [Azure classic portal].</span></span>

<span data-ttu-id="6962f-155">Utwórz kopię hello projekt ASP.NET dla aplikacji i opublikować tooyour nowej lokacji.</span><span class="sxs-lookup"><span data-stu-id="6962f-155">Make a copy of hello ASP.NET project for your application and publish it tooyour new site.</span></span> <span data-ttu-id="6962f-156">Przy użyciu kopii zaktualizowane hello nowy adres URL aplikacji klienckiej, sprawdź, czy wszystko działa zgodnie z oczekiwaniami.</span><span class="sxs-lookup"><span data-stu-id="6962f-156">Using a copy of your client application updated with hello new URL, validate that everything works as expected.</span></span>

## <a name="updating-hello-server-project"></a><span data-ttu-id="6962f-157">Aktualizowanie powitania serwera projektu</span><span class="sxs-lookup"><span data-stu-id="6962f-157">Updating hello server project</span></span>
<span data-ttu-id="6962f-158">Mobile Apps udostępnia nową [zestawu SDK serwera aplikacji mobilnych] zapewniające znacznie hello same funkcje co hello usług Mobile Services w czasie wykonywania.</span><span class="sxs-lookup"><span data-stu-id="6962f-158">Mobile Apps provides a new [Mobile App Server SDK] which provides much of hello same functionality as hello Mobile Services runtime.</span></span> <span data-ttu-id="6962f-159">Najpierw należy usunąć wszystkie pakiety usługi Mobile Services toohello odwołania.</span><span class="sxs-lookup"><span data-stu-id="6962f-159">First, you should remove all references toohello Mobile Services packages.</span></span> <span data-ttu-id="6962f-160">W Menedżerze pakietów NuGet hello, wyszukaj `WindowsAzure.MobileServices.Backend`.</span><span class="sxs-lookup"><span data-stu-id="6962f-160">In hello NuGet package manager, search for `WindowsAzure.MobileServices.Backend`.</span></span> <span data-ttu-id="6962f-161">Większość aplikacji zostanie wyświetlony kilka pakietów, w tym `WindowsAzure.MobileServices.Backend.Tables` i `WindowsAzure.MobileServices.Backend.Entity`.</span><span class="sxs-lookup"><span data-stu-id="6962f-161">Most apps will see several packages here, including `WindowsAzure.MobileServices.Backend.Tables` and `WindowsAzure.MobileServices.Backend.Entity`.</span></span> <span data-ttu-id="6962f-162">W takim przypadku Uruchom z pakietem najniższy hello w drzewie zależności hello, takich jak `Entity`i usuń go.</span><span class="sxs-lookup"><span data-stu-id="6962f-162">In such a case, start with hello lowest package in hello dependency tree, such as `Entity`, and remove it.</span></span> <span data-ttu-id="6962f-163">Po wyświetleniu monitu, nie należy usuwać wszystkie pakiety zależne.</span><span class="sxs-lookup"><span data-stu-id="6962f-163">When prompted, do not remove all dependant packages.</span></span> <span data-ttu-id="6962f-164">Powtórz ten proces, aż zostaną usunięte `WindowsAzure.MobileServices.Backend` samej siebie.</span><span class="sxs-lookup"><span data-stu-id="6962f-164">Repeat this process until you have removed `WindowsAzure.MobileServices.Backend` itself.</span></span>

<span data-ttu-id="6962f-165">Na tym etapie należy projektu, który nie odwołuje się do zestawów SDK usługi Mobile.</span><span class="sxs-lookup"><span data-stu-id="6962f-165">At this point you will have a project that no longer references Mobile Services SDKs.</span></span>

<span data-ttu-id="6962f-166">Następnie dodasz hello odwołania do zestawu SDK aplikacji usługi Mobile.</span><span class="sxs-lookup"><span data-stu-id="6962f-166">Next you will add references hello Mobile Apps SDK.</span></span> <span data-ttu-id="6962f-167">Dla tego uaktualnienia większość deweloperów będzie toodownload i zainstalować hello `Microsoft.Azure.Mobile.Server.Quickstart` pakietów, jak to będzie pobierać hello całego zestawu wymagane.</span><span class="sxs-lookup"><span data-stu-id="6962f-167">For this upgrade, most developers will want toodownload and install hello `Microsoft.Azure.Mobile.Server.Quickstart` package, as this will pull in hello entire required set.</span></span>

<span data-ttu-id="6962f-168">Będzie kilka błędów wynikających z różnic między hello zestawów SDK, ale są łatwe tooaddress i są objęte hello pozostałej części tej sekcji.</span><span class="sxs-lookup"><span data-stu-id="6962f-168">There will be quite a few compiler errors resulting from differences between hello SDKs, but these are easy tooaddress and are covered in hello rest of this section.</span></span>

### <a name="base-configuration"></a><span data-ttu-id="6962f-169">Konfiguracja podstawowa</span><span class="sxs-lookup"><span data-stu-id="6962f-169">Base configuration</span></span>
<span data-ttu-id="6962f-170">Następnie w WebApiConfig.cs, można zastąpić:</span><span class="sxs-lookup"><span data-stu-id="6962f-170">Then, in WebApiConfig.cs, you can replace:</span></span>

        // Use this class tooset configuration options for your mobile service
        ConfigOptions options = new ConfigOptions();

        // Use this class tooset WebAPI configuration options
        HttpConfiguration config = ServiceConfig.Initialize(new ConfigBuilder(options));

<span data-ttu-id="6962f-171">Z</span><span class="sxs-lookup"><span data-stu-id="6962f-171">with</span></span>

        HttpConfiguration config = new HttpConfiguration();
        new MobileAppConfiguration()
            .UseDefaultConfiguration()
        .ApplyTo(config);

> [!NOTE]
> <span data-ttu-id="6962f-172">Jeśli chcesz toolearn, więcej informacji na temat hello nowy serwer .NET SDK i jak tooadd lub usuń funkcji z aplikacji, zobacz hello [jak toouse hello serwer .NET SDK] tematu.</span><span class="sxs-lookup"><span data-stu-id="6962f-172">If you wish toolearn more about hello new .NET server SDK and how tooadd/remove features from your app, please see hello [How toouse hello .NET server SDK] topic.</span></span>
>
>

<span data-ttu-id="6962f-173">Jeśli aplikacja sprawia, że korzystanie z funkcji uwierzytelniania hello, musisz także tooregister oprogramowania pośredniczącego OWIN.</span><span class="sxs-lookup"><span data-stu-id="6962f-173">If your app makes use of hello authentication features, you will also need tooregister an OWIN middleware.</span></span> <span data-ttu-id="6962f-174">W takim przypadku należy przenieść hello powyżej kod konfiguracji do nowej klasy uruchamiania OWIN.</span><span class="sxs-lookup"><span data-stu-id="6962f-174">In this case, you should move hello above configuration code into a new OWIN Startup class.</span></span>

1. <span data-ttu-id="6962f-175">Dodaj pakiet NuGet hello `Microsoft.Owin.Host.SystemWeb` Jeśli nie jest już zawarty w projekcie.</span><span class="sxs-lookup"><span data-stu-id="6962f-175">Add hello NuGet package `Microsoft.Owin.Host.SystemWeb` if it is not already included in your project.</span></span>
2. <span data-ttu-id="6962f-176">W programie Visual Studio, kliknij prawym przyciskiem myszy projekt i wybierz **Dodaj** -> **nowy element**.</span><span class="sxs-lookup"><span data-stu-id="6962f-176">In Visual Studio, right click on your project and select **Add** -> **New Item**.</span></span> <span data-ttu-id="6962f-177">Wybierz **Web** -> **ogólne** -> **klasy początkowej OWIN**.</span><span class="sxs-lookup"><span data-stu-id="6962f-177">Select **Web** -> **General** -> **OWIN Startup class**.</span></span>
3. <span data-ttu-id="6962f-178">Przenieś hello powyżej kodu dla MobileAppConfiguration z `WebApiConfig.Register()` toohello `Configuration()` metody nowej klasy uruchamiania.</span><span class="sxs-lookup"><span data-stu-id="6962f-178">Move hello above code for MobileAppConfiguration from `WebApiConfig.Register()` toohello `Configuration()` method of your new startup class.</span></span>

<span data-ttu-id="6962f-179">Upewnij się, że hello `Configuration()` metoda kończy się na:</span><span class="sxs-lookup"><span data-stu-id="6962f-179">Make sure hello `Configuration()` method ends with:</span></span>

        app.UseWebApi(config)
        app.UseAppServiceAuthentication(config);

<span data-ttu-id="6962f-180">Brak tooauthentication powiązane dodatkowe zmiany, które zostały opisane w poniższej sekcji hello pełnego uwierzytelniania.</span><span class="sxs-lookup"><span data-stu-id="6962f-180">There are additional changes related tooauthentication which are covered in hello full authentication section below.</span></span>

### <a name="working-with-data"></a><span data-ttu-id="6962f-181">Praca z danymi</span><span class="sxs-lookup"><span data-stu-id="6962f-181">Working with Data</span></span>
<span data-ttu-id="6962f-182">W usłudze Mobile Services nazwa aplikacji mobilnej hello są obsługiwane jako nazwy schematu domyślnego hello w Instalatorze programu Entity Framework hello.</span><span class="sxs-lookup"><span data-stu-id="6962f-182">In Mobile Services, hello mobile app name served as hello default schema name in hello Entity Framework setup.</span></span>

<span data-ttu-id="6962f-183">tooensure, czy masz hello sam schemat odwołuje jak poprzednio, użyj powitania po tooset hello schematu w hello DbContext aplikacji:</span><span class="sxs-lookup"><span data-stu-id="6962f-183">tooensure that you have hello same schema being referenced as before, use hello following tooset hello schema in hello DbContext for your application:</span></span>

        string schema = System.Configuration.ConfigurationManager.AppSettings.Get("MS_MobileServiceName");

<span data-ttu-id="6962f-184">Upewnij się, że masz MS_MobileServiceName Jeśli hello powyżej.</span><span class="sxs-lookup"><span data-stu-id="6962f-184">Please make sure you have MS_MobileServiceName set if you do hello above.</span></span> <span data-ttu-id="6962f-185">Jeśli aplikacja dostosowany to wcześniej, można też podać inną nazwę schematu.</span><span class="sxs-lookup"><span data-stu-id="6962f-185">You can also provide another schema name if your application customized this previously.</span></span>

### <a name="system-properties"></a><span data-ttu-id="6962f-186">Właściwości systemu</span><span class="sxs-lookup"><span data-stu-id="6962f-186">System Properties</span></span>
#### <a name="naming"></a><span data-ttu-id="6962f-187">Nazewnictwo</span><span class="sxs-lookup"><span data-stu-id="6962f-187">Naming</span></span>
<span data-ttu-id="6962f-188">Na serwerze usług Azure Mobile Services hello zestawu SDK, właściwości systemu zawsze zawiera podwójne podkreślenia (`__`) prefiks dla właściwości hello:</span><span class="sxs-lookup"><span data-stu-id="6962f-188">In hello Azure Mobile Services server SDK, system properties always contain a double underscore (`__`) prefix for hello properties:</span></span>

* <span data-ttu-id="6962f-189">__createdAt</span><span class="sxs-lookup"><span data-stu-id="6962f-189">__createdAt</span></span>
* <span data-ttu-id="6962f-190">__updatedAt</span><span class="sxs-lookup"><span data-stu-id="6962f-190">__updatedAt</span></span>
* <span data-ttu-id="6962f-191">__deleted</span><span class="sxs-lookup"><span data-stu-id="6962f-191">__deleted</span></span>
* <span data-ttu-id="6962f-192">__version</span><span class="sxs-lookup"><span data-stu-id="6962f-192">__version</span></span>

<span data-ttu-id="6962f-193">Klient usług Mobile Services Hello zestawów SDK ma specjalną logikę do analizowania właściwości systemu w tym formacie.</span><span class="sxs-lookup"><span data-stu-id="6962f-193">hello Mobile Services client SDKs have special logic for parsing system properties in this format.</span></span>

<span data-ttu-id="6962f-194">W usłudze Azure Mobile Apps właściwości systemu nie będzie już specjalne formatowanie i mieć hello następujące nazwy:</span><span class="sxs-lookup"><span data-stu-id="6962f-194">In Azure Mobile Apps, system properties no longer have a special format and have hello following names:</span></span>

* <span data-ttu-id="6962f-195">CreatedAt</span><span class="sxs-lookup"><span data-stu-id="6962f-195">createdAt</span></span>
* <span data-ttu-id="6962f-196">updatedAt</span><span class="sxs-lookup"><span data-stu-id="6962f-196">updatedAt</span></span>
* <span data-ttu-id="6962f-197">usunięte</span><span class="sxs-lookup"><span data-stu-id="6962f-197">deleted</span></span>
* <span data-ttu-id="6962f-198">Wersja</span><span class="sxs-lookup"><span data-stu-id="6962f-198">version</span></span>

<span data-ttu-id="6962f-199">Hello Mobile Apps klienta zestawów SDK Użyj hello nowych właściwości nazwami systemowymi, dlatego zmiany nie są wymagane tooclient kodu.</span><span class="sxs-lookup"><span data-stu-id="6962f-199">hello Mobile Apps client SDKs use hello new system properties names, so no changes are required tooclient code.</span></span> <span data-ttu-id="6962f-200">Jednak jeśli bezpośredniego wprowadzania REST wywołuje usługę tooyour, należy odpowiednio zmienić zapytań.</span><span class="sxs-lookup"><span data-stu-id="6962f-200">However, if you are directly making REST calls tooyour service then you should change your queries accordingly.</span></span>

#### <a name="local-store"></a><span data-ttu-id="6962f-201">Lokalny magazyn</span><span class="sxs-lookup"><span data-stu-id="6962f-201">Local store</span></span>
<span data-ttu-id="6962f-202">Hello zmiany toohello nazwy właściwości systemu oznacza dla usług Mobile Services lokalnej bazy danych synchronizacji w trybie offline nie jest zgodny z usługą Mobile Apps.</span><span class="sxs-lookup"><span data-stu-id="6962f-202">hello changes toohello names of system properties mean that an offline sync local database for Mobile Services is not compatible with Mobile Apps.</span></span> <span data-ttu-id="6962f-203">Jeśli to możliwe należy unikać uaktualniania aplikacji klienta z tooMobile usługi mobilne, aplikacje dopiero po oczekujące zmiany zostały wysłane toohello serwera.</span><span class="sxs-lookup"><span data-stu-id="6962f-203">If possible, you should avoid upgrading client apps from Mobile Services tooMobile Apps until after pending changes have been sent toohello server.</span></span> <span data-ttu-id="6962f-204">Następnie uaktualnionego aplikacji hello należy używać nową nazwę pliku bazy danych.</span><span class="sxs-lookup"><span data-stu-id="6962f-204">Then, hello upgraded app should use a new database filename.</span></span>

<span data-ttu-id="6962f-205">Jeśli aplikacja kliencka jest uaktualnienie z tooMobile usługi Mobile Apps, gdy istnieją oczekujące zmiany w trybie offline w kolejce operacji hello, hello systemowej bazy danych musi być zaktualizowany toouse hello nowych nazw kolumn.</span><span class="sxs-lookup"><span data-stu-id="6962f-205">If a client app is upgraded from Mobile Services tooMobile Apps while there are pending offline changes in hello operation queue, then hello system database must be updated toouse hello new column names.</span></span> <span data-ttu-id="6962f-206">W systemach iOS można to osiągnąć przy użyciu nazwy kolumn hello toochange lekkie migracji.</span><span class="sxs-lookup"><span data-stu-id="6962f-206">On iOS, this can be achieved using lightweight migrations toochange hello column names.</span></span> <span data-ttu-id="6962f-207">Android i hello .NET zarządzanego klienta należy zapisać niestandardowe toorename SQL hello kolumn tabel obiektu danych.</span><span class="sxs-lookup"><span data-stu-id="6962f-207">On Android and hello .NET managed client, you should write custom SQL toorename hello columns for your data object tables.</span></span>

<span data-ttu-id="6962f-208">W systemach iOS należy zmienić schemat podstawowych danych z danych jednostek toomatch hello następującego.</span><span class="sxs-lookup"><span data-stu-id="6962f-208">On iOS, you should change your Core Data schema for your data entities toomatch hello following.</span></span> <span data-ttu-id="6962f-209">Należy pamiętać, że hello właściwości `createdAt`, `updatedAt` i `version` nie będzie już `ms_` prefiksu:</span><span class="sxs-lookup"><span data-stu-id="6962f-209">Note that hello properties `createdAt`, `updatedAt` and `version` no longer have an `ms_` prefix:</span></span>

| <span data-ttu-id="6962f-210">Atrybut</span><span class="sxs-lookup"><span data-stu-id="6962f-210">Attribute</span></span> | <span data-ttu-id="6962f-211">Typ</span><span class="sxs-lookup"><span data-stu-id="6962f-211">Type</span></span> | <span data-ttu-id="6962f-212">Uwaga</span><span class="sxs-lookup"><span data-stu-id="6962f-212">Note</span></span> |
| --- | --- | --- |
| <span data-ttu-id="6962f-213">id</span><span class="sxs-lookup"><span data-stu-id="6962f-213">id</span></span> |<span data-ttu-id="6962f-214">Ciąg, oznaczona jako wymagana</span><span class="sxs-lookup"><span data-stu-id="6962f-214">String, marked required</span></span> |<span data-ttu-id="6962f-215">klucz podstawowy w magazynie zdalnym</span><span class="sxs-lookup"><span data-stu-id="6962f-215">primary key in remote store</span></span> |
| <span data-ttu-id="6962f-216">CreatedAt</span><span class="sxs-lookup"><span data-stu-id="6962f-216">createdAt</span></span> |<span data-ttu-id="6962f-217">Date</span><span class="sxs-lookup"><span data-stu-id="6962f-217">Date</span></span> |<span data-ttu-id="6962f-218">Właściwości systemu toocreatedAt map (opcjonalnie)</span><span class="sxs-lookup"><span data-stu-id="6962f-218">(optional) maps toocreatedAt system property</span></span> |
| <span data-ttu-id="6962f-219">updatedAt</span><span class="sxs-lookup"><span data-stu-id="6962f-219">updatedAt</span></span> |<span data-ttu-id="6962f-220">Date</span><span class="sxs-lookup"><span data-stu-id="6962f-220">Date</span></span> |<span data-ttu-id="6962f-221">Właściwości systemu tooupdatedAt map (opcjonalnie)</span><span class="sxs-lookup"><span data-stu-id="6962f-221">(optional) maps tooupdatedAt system property</span></span> |
| <span data-ttu-id="6962f-222">Wersja</span><span class="sxs-lookup"><span data-stu-id="6962f-222">version</span></span> |<span data-ttu-id="6962f-223">Ciąg</span><span class="sxs-lookup"><span data-stu-id="6962f-223">String</span></span> |<span data-ttu-id="6962f-224">(opcjonalnie) używane toodetect konflikty, tooversion mapy</span><span class="sxs-lookup"><span data-stu-id="6962f-224">(optional) used toodetect conflicts, maps tooversion</span></span> |

#### <a name="querying-system-properties"></a><span data-ttu-id="6962f-225">Badanie właściwości systemu</span><span class="sxs-lookup"><span data-stu-id="6962f-225">Querying system properties</span></span>
<span data-ttu-id="6962f-226">W usłudze Azure Mobile Services właściwości systemu nie są wysyłane domyślnie, ale tylko wtedy, gdy żądanie przy użyciu ciągu zapytania hello `__systemProperties`.</span><span class="sxs-lookup"><span data-stu-id="6962f-226">In Azure Mobile Services, system properties are not sent by default, but only when they are requested using hello query string `__systemProperties`.</span></span> <span data-ttu-id="6962f-227">Z kolei w systemie Azure Mobile Apps właściwości są **zawsze zaznaczone** ponieważ są one częścią powitania serwera SDK obiektu modelu.</span><span class="sxs-lookup"><span data-stu-id="6962f-227">In contrast, in Azure Mobile Apps system properties are **always selected** since they are part of hello server SDK object model.</span></span>

<span data-ttu-id="6962f-228">Ta zmiana wpływa głównie implementacji niestandardowych menedżerów domeny, takie jak rozszerzenia `MappedEntityDomainManager`.</span><span class="sxs-lookup"><span data-stu-id="6962f-228">This change mainly impacts custom implementations of domain managers, such as extensions of `MappedEntityDomainManager`.</span></span> <span data-ttu-id="6962f-229">W usłudze Mobile Services, jeśli klient nie zażąda żadnych właściwości systemu jest możliwe toouse `MappedEntityDomainManager` który nie jest rzeczywiście mapowany wszystkich właściwości.</span><span class="sxs-lookup"><span data-stu-id="6962f-229">In Mobile Services, if a client never requests any system properties, it is possible toouse a `MappedEntityDomainManager` that does not actually map all properties.</span></span> <span data-ttu-id="6962f-230">Jednak w usłudze Azure Mobile Apps, te właściwości Niemapowane spowoduje błąd w zapytaniach GET.</span><span class="sxs-lookup"><span data-stu-id="6962f-230">However, in Azure Mobile Apps, these unmapped properties will cause an error in GET queries.</span></span>

<span data-ttu-id="6962f-231">Najprostszym sposobem tooresolve hello problem Hello jest toomodify Twojego DTOs, dzięki czemu dziedziczą z `ITableData` zamiast `EntityData`.</span><span class="sxs-lookup"><span data-stu-id="6962f-231">hello easiest way tooresolve hello issue is toomodify your DTOs so that they inherit from `ITableData` instead of `EntityData`.</span></span> <span data-ttu-id="6962f-232">Następnie należy dodać hello `[NotMapped]` atrybutu toohello pola, które powinny być pominięte.</span><span class="sxs-lookup"><span data-stu-id="6962f-232">Then, add hello `[NotMapped]` attribute toohello fields that should be omitted.</span></span>

<span data-ttu-id="6962f-233">Na przykład definiuje następujące hello `TodoItem` bez właściwości systemu:</span><span class="sxs-lookup"><span data-stu-id="6962f-233">For example, hello following defines `TodoItem` with no system properties:</span></span>

    using System.ComponentModel.DataAnnotations.Schema;

    public class TodoItem : ITableData
    {
        public string Text { get; set; }

        public bool Complete { get; set; }

        public string Id { get; set; }

        [NotMapped]
        public DateTimeOffset? CreatedAt { get; set; }

        [NotMapped]
        public DateTimeOffset? UpdatedAt { get; set; }

        [NotMapped]
        public bool Deleted { get; set; }

        [NotMapped]
        public byte[] Version { get; set; }
    }

<span data-ttu-id="6962f-234">Uwaga: Jeśli występują błędy `NotMapped`, Dodaj zestaw toohello odwołania `System.ComponentModel.DataAnnotations`.</span><span class="sxs-lookup"><span data-stu-id="6962f-234">Note: if you get errors on `NotMapped`, add a reference toohello assembly `System.ComponentModel.DataAnnotations`.</span></span>

### <a name="cors"></a><span data-ttu-id="6962f-235">CORS</span><span class="sxs-lookup"><span data-stu-id="6962f-235">CORS</span></span>
<span data-ttu-id="6962f-236">Mobile Services zawarte niektórych obsługę mechanizmu CORS zawijania hello rozwiązania ASP.NET CORS.</span><span class="sxs-lookup"><span data-stu-id="6962f-236">Mobile Services included some support for CORS by wrapping hello ASP.NET CORS solution.</span></span> <span data-ttu-id="6962f-237">Ta warstwa zawijania został usunięty toogive hello developer większą kontrolę, więc można wykorzystać bezpośrednio [obsługi mechanizmu CORS ASP.NET](http://www.asp.net/web-api/overview/security/enabling-cross-origin-requests-in-web-api).</span><span class="sxs-lookup"><span data-stu-id="6962f-237">This wrapping layer has been removed toogive hello developer more control, so you can directly leverage [ASP.NET CORS support](http://www.asp.net/web-api/overview/security/enabling-cross-origin-requests-in-web-api).</span></span>

<span data-ttu-id="6962f-238">Witaj główne obszary zainteresowania, jeśli przy użyciu mechanizmu CORS są tym hello `eTag` i `Location` nagłówki może aby powitania klienta zestawów SDK toowork poprawnie.</span><span class="sxs-lookup"><span data-stu-id="6962f-238">hello main areas of concern if using CORS are that hello `eTag` and `Location` headers must be allowed in order for hello client SDKs toowork properly.</span></span>

### <a name="push-notifications"></a><span data-ttu-id="6962f-239">Powiadomienia wypychane</span><span class="sxs-lookup"><span data-stu-id="6962f-239">Push Notifications</span></span>
<span data-ttu-id="6962f-240">W przypadku wypychania hello elementu głównego, który może się okazać brakuje hello Server SDK jest hello PushRegistrationHandler klasy.</span><span class="sxs-lookup"><span data-stu-id="6962f-240">For push, hello main item that you may find missing from hello Server SDK is hello PushRegistrationHandler class.</span></span> <span data-ttu-id="6962f-241">Nieco inaczej obsługi rejestracji w aplikacji mobilnej, a tagless rejestracji są domyślnie włączone.</span><span class="sxs-lookup"><span data-stu-id="6962f-241">Registrations are handled slightly differently in Mobile Apps, and tagless registrations are enabled by default.</span></span> <span data-ttu-id="6962f-242">Zarządzanie tagów można osiągnąć za pomocą niestandardowych interfejsów API.</span><span class="sxs-lookup"><span data-stu-id="6962f-242">Managing tags may be accomplished by using custom APIs.</span></span> <span data-ttu-id="6962f-243">Zobacz hello [rejestrowanie tagów](app-service-mobile-dotnet-backend-how-to-use-server-sdk.md#tags) instrukcje, aby uzyskać więcej informacji.</span><span class="sxs-lookup"><span data-stu-id="6962f-243">Please see hello [registering for tags](app-service-mobile-dotnet-backend-how-to-use-server-sdk.md#tags) instructions for more information.</span></span>

### <a name="scheduled-jobs"></a><span data-ttu-id="6962f-244">Zaplanowane zadania</span><span class="sxs-lookup"><span data-stu-id="6962f-244">Scheduled Jobs</span></span>
<span data-ttu-id="6962f-245">Zaplanowane zadania nie są wbudowane w Mobile Apps, więc wszystkie istniejące zadania, które ma w zapleczu swojej .NET, należy uaktualnić pojedynczo toobe.</span><span class="sxs-lookup"><span data-stu-id="6962f-245">Scheduled jobs are not built into Mobile Apps, so any existing jobs that you have in your .NET backend will need toobe upgraded individually.</span></span> <span data-ttu-id="6962f-246">Jedną z opcji jest toocreate zaplanowanego [zadanie sieci Web] na powitania aplikacji mobilnej kodu lokacji.</span><span class="sxs-lookup"><span data-stu-id="6962f-246">One option is toocreate a scheduled [Web Job] on hello Mobile App code site.</span></span> <span data-ttu-id="6962f-247">Można także skonfigurować kontroler, który zawiera kod zadania i skonfigurować hello [Harmonogram systemu Azure] toohit tego punktu końcowego zgodnie z harmonogramem hello oczekiwano.</span><span class="sxs-lookup"><span data-stu-id="6962f-247">You could also set up a controller that holds your job code and configure hello [Azure Scheduler] toohit that endpoint on hello expected schedule.</span></span>

### <a name="miscellaneous-changes"></a><span data-ttu-id="6962f-248">Inne zmiany</span><span class="sxs-lookup"><span data-stu-id="6962f-248">Miscellaneous changes</span></span>
<span data-ttu-id="6962f-249">Wszystkie ApiControllers, które będą używane przez klienta mobilnego teraz musi mieć hello `[MobileAppController]` atrybutu.</span><span class="sxs-lookup"><span data-stu-id="6962f-249">All ApiControllers which will be consumed by a mobile client must now have hello `[MobileAppController]` attribute.</span></span> <span data-ttu-id="6962f-250">To nie jest już uwzględniona domyślnie, aby inne toogo ApiControllers dotknięta hello przenośnych elementy formatujące.</span><span class="sxs-lookup"><span data-stu-id="6962f-250">This is no longer included by default so that other ApiControllers toogo unaffected by hello mobile formatters.</span></span>

<span data-ttu-id="6962f-251">Witaj `ApiServices` obiekt nie jest już częścią hello zestawu SDK.</span><span class="sxs-lookup"><span data-stu-id="6962f-251">hello `ApiServices` object is no longer part of hello SDK.</span></span> <span data-ttu-id="6962f-252">tooaccess ustawień aplikacji mobilnej można użyć następujących hello:</span><span class="sxs-lookup"><span data-stu-id="6962f-252">tooaccess Mobile App settings, you can use hello following:</span></span>

    MobileAppSettingsDictionary settings = this.Configuration.GetMobileAppSettingsProvider().GetMobileAppSettings();

<span data-ttu-id="6962f-253">Podobnie rejestrowanie teraz odbywa się przy użyciu hello standardowe zapisu śledzenia ASP.NET:</span><span class="sxs-lookup"><span data-stu-id="6962f-253">Similarly, logging is now accomplished using hello standard ASP.NET trace writing:</span></span>

    ITraceWriter traceWriter = this.Configuration.Services.GetTraceWriter();
    traceWriter.Info("Hello, World");  

## <span data-ttu-id="6962f-254"><a name="authentication"></a>Zagadnienia dotyczące uwierzytelniania</span><span class="sxs-lookup"><span data-stu-id="6962f-254"><a name="authentication"></a>Authentication considerations</span></span>
<span data-ttu-id="6962f-255">Składniki uwierzytelniania Hello usług Mobile teraz zostały przeniesione do hello funkcji uwierzytelniania/autoryzacji dla aplikacji usługi.</span><span class="sxs-lookup"><span data-stu-id="6962f-255">hello authentication components of Mobile Services have now been moved into hello App Service Authentication/Authorization feature.</span></span> <span data-ttu-id="6962f-256">Informacje na temat włączenie tej witryny odczytywania hello [aplikacji mobilnej Dodaj authentication tooyour](app-service-mobile-ios-get-started-users.md) tematu.</span><span class="sxs-lookup"><span data-stu-id="6962f-256">You can learn about enabling this for your site by reading hello [Add authentication tooyour mobile app](app-service-mobile-ios-get-started-users.md) topic.</span></span>

<span data-ttu-id="6962f-257">Dla niektórych dostawców, takich jak usługi AAD i Facebook, Google powinno być możliwe tooleverage hello istniejącej rejestracji z poziomu aplikacji kopii.</span><span class="sxs-lookup"><span data-stu-id="6962f-257">For some providers, such as AAD, Facebook, and Google, you should be able tooleverage hello existing registration from your copy application.</span></span> <span data-ttu-id="6962f-258">Po prostu muszą portalu dostawcy toonavigate toohello tożsamości i dodawanie nowej rejestracji toohello adres URL przekierowania.</span><span class="sxs-lookup"><span data-stu-id="6962f-258">You simply need toonavigate toohello identity provider's portal and add a new redirect URL toohello registration.</span></span> <span data-ttu-id="6962f-259">Następnie można skonfigurować uwierzytelniania/autoryzacji dla aplikacji usługi z powitania klienta identyfikator i klucz tajny.</span><span class="sxs-lookup"><span data-stu-id="6962f-259">Then configure App Service Authentication/Authorization with hello client ID and secret.</span></span>

### <a name="controller-action-authorization"></a><span data-ttu-id="6962f-260">Autoryzacji akcji kontrolera</span><span class="sxs-lookup"><span data-stu-id="6962f-260">Controller action authorization</span></span>
<span data-ttu-id="6962f-261">Wszystkie wystąpienia hello `[AuthorizeLevel(AuthorizationLevel.User)]` atrybutu musi być teraz zmienione toouse hello standardowe ASP.NET `[Authorize]` atrybutu.</span><span class="sxs-lookup"><span data-stu-id="6962f-261">Any instances of hello `[AuthorizeLevel(AuthorizationLevel.User)]` attribute must now be changed toouse hello standard ASP.NET `[Authorize]` attribute.</span></span> <span data-ttu-id="6962f-262">Ponadto kontrolery są teraz anonimowe domyślnie, tak jak inne aplikacje ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="6962f-262">Additionally, controllers are now Anonymous by default, as in other ASP.NET applications.</span></span>
<span data-ttu-id="6962f-263">Jeśli zostały przy użyciu jednej z hello inne opcje AuthorizeLevel, np. Admin lub aplikacji, należy pamiętać, że są one usunięte.</span><span class="sxs-lookup"><span data-stu-id="6962f-263">If you were using one of hello other AuthorizeLevel options, such as Admin or Application, please note that these are gone.</span></span> <span data-ttu-id="6962f-264">Można zamiast tego ustawienia AuthorizationFilters dla wspólne klucze tajne lub bezpiecznie skonfigurować wywołań do usługi tooenable nazwy głównej usługi AAD.</span><span class="sxs-lookup"><span data-stu-id="6962f-264">You can instead set up AuthorizationFilters for shared secrets or configure an AAD Service Principal tooenable service-to-service calls securely.</span></span>

### <a name="getting-additional-user-information"></a><span data-ttu-id="6962f-265">Otrzymanie informacji dodatkowych użytkowników</span><span class="sxs-lookup"><span data-stu-id="6962f-265">Getting additional user information</span></span>
<span data-ttu-id="6962f-266">Możesz uzyskać dodatkowe informacje dotyczące użytkownika, łącznie z tokenów dostępu za pośrednictwem hello `GetAppServiceIdentityAsync()` metody:</span><span class="sxs-lookup"><span data-stu-id="6962f-266">You can get additional user information, including access tokens through hello `GetAppServiceIdentityAsync()` method:</span></span>

        FacebookCredentials creds = await this.User.GetAppServiceIdentityAsync<FacebookCredentials>();

<span data-ttu-id="6962f-267">Ponadto jeśli aplikacja przejmuje zależności identyfikatory, takie jak przechowywania ich w bazie danych, ważne jest toonote, który hello identyfikatorów użytkownika usługi Mobile Services i aplikacji usługi Mobile Apps są różne.</span><span class="sxs-lookup"><span data-stu-id="6962f-267">Additionally, if your application takes dependencies on user IDs, such as storing them in a database, it is important toonote that hello user IDs between Mobile Services and App Service Mobile Apps are different.</span></span> <span data-ttu-id="6962f-268">Może nadal otrzymywać hello identyfikator użytkownika usługi mobilnej, mimo że.</span><span class="sxs-lookup"><span data-stu-id="6962f-268">You can still get hello Mobile Services User ID, though.</span></span> <span data-ttu-id="6962f-269">Wszystkie podklasy ProviderCredentials hello mają właściwości identyfikatora użytkownika.</span><span class="sxs-lookup"><span data-stu-id="6962f-269">All of hello ProviderCredentials subclasses have a UserId property.</span></span> <span data-ttu-id="6962f-270">Dlatego kontynuowanie z przykład Witaj przed:</span><span class="sxs-lookup"><span data-stu-id="6962f-270">So continuing from hello example before:</span></span>

        string mobileServicesUserId = creds.Provider + ":" + creds.UserId;

<span data-ttu-id="6962f-271">Jeśli aplikacja podejmij wszelkie zależności nazwy użytkownika, jest ważne, aby wykorzystać hello samą rejestrację przy użyciu dostawcy tożsamości, jeśli to możliwe.</span><span class="sxs-lookup"><span data-stu-id="6962f-271">If your app does take any dependencies on user IDs, it is important that you leverage hello same registration with an identity provider if possible.</span></span> <span data-ttu-id="6962f-272">Nazwy użytkowników są Rejestracja aplikacji zwykle zakresie toohello, który był używany, wprowadzenie nowej rejestracji można utworzyć problemy z pasującymi danych tootheir użytkowników.</span><span class="sxs-lookup"><span data-stu-id="6962f-272">User IDs are typically scoped toohello application registration that was used, so introducing a new registration could create problems with matching users tootheir data.</span></span>

### <a name="custom-authentication"></a><span data-ttu-id="6962f-273">Niestandardowe uwierzytelnianie</span><span class="sxs-lookup"><span data-stu-id="6962f-273">Custom authentication</span></span>
<span data-ttu-id="6962f-274">Jeśli aplikacja używa uwierzytelniania niestandardowego rozwiązania, można toomake się tej lokacji uaktualnionego hello ma dostęp toohello systemu.</span><span class="sxs-lookup"><span data-stu-id="6962f-274">If your app is using a custom authentication solution, you will want toomake sure that hello upgraded site has access toohello system.</span></span> <span data-ttu-id="6962f-275">Postępuj zgodnie z nowego dotyczącymi uwierzytelniania niestandardowego w hello hello [Omówienie zestawu SDK .NET server] toointegrate rozwiązania.</span><span class="sxs-lookup"><span data-stu-id="6962f-275">Follow hello new instructions for custom authentication in hello [.NET server SDK overview] toointegrate your solution.</span></span> <span data-ttu-id="6962f-276">Należy pamiętać, że składniki uwierzytelniania niestandardowego hello są nadal w wersji zapoznawczej.</span><span class="sxs-lookup"><span data-stu-id="6962f-276">Please note that hello custom authentication components are still in preview.</span></span>

## <span data-ttu-id="6962f-277"><a name="updating-clients"></a>Aktualizowanie klientów</span><span class="sxs-lookup"><span data-stu-id="6962f-277"><a name="updating-clients"></a>Updating clients</span></span>
<span data-ttu-id="6962f-278">Po utworzeniu operacyjną zaplecza aplikacji mobilnej, można pracować na nowej wersji aplikacji klienta, która go wykorzystuje.</span><span class="sxs-lookup"><span data-stu-id="6962f-278">Once you have an operational Mobile App backend, you can work on a new version of your client application which consumes it.</span></span> <span data-ttu-id="6962f-279">Aplikacje mobilne zawiera również nową wersję klienta hello zestawy SDK i podobne uaktualnienie serwera toohello powyżej, należy tooremove wszystkie odwołania zestawów SDK usługi Mobile toohello przed instalowania hello Mobile Apps wersji.</span><span class="sxs-lookup"><span data-stu-id="6962f-279">Mobile Apps also includes a new version of hello client SDKs, and similar toohello server upgrade above, you will need tooremove all references toohello Mobile Services SDKs before installing hello Mobile Apps versions.</span></span>

<span data-ttu-id="6962f-280">Jedną z głównych zmian hello między wersjami hello jest czy konstruktorów hello nie wymagają już klucz aplikacji.</span><span class="sxs-lookup"><span data-stu-id="6962f-280">One of hello main changes between hello versions is that hello constructors no longer require an application key.</span></span> <span data-ttu-id="6962f-281">Możesz teraz po prostu Przekaż hello adres URL aplikacji mobilnej.</span><span class="sxs-lookup"><span data-stu-id="6962f-281">You now simply pass in hello URL of your Mobile App.</span></span> <span data-ttu-id="6962f-282">Na przykład na powitania klientów platformy .NET, hello `MobileServiceClient` Konstruktor jest teraz:</span><span class="sxs-lookup"><span data-stu-id="6962f-282">For example, on hello .NET clients, hello `MobileServiceClient` constructor is now:</span></span>

        public static MobileServiceClient MobileService = new MobileServiceClient(
            "https://contoso.azurewebsites.net", // URL of hello Mobile App
        );

<span data-ttu-id="6962f-283">Informacje o instalacji hello nowe zestawy SDK i przy użyciu nowej struktury hello za pośrednictwem łącza hello poniżej:</span><span class="sxs-lookup"><span data-stu-id="6962f-283">You can read about installing hello new SDKs and using hello new structure via hello links below:</span></span>

* [<span data-ttu-id="6962f-284">System iOS w wersji 3.0.0 lub nowszej</span><span class="sxs-lookup"><span data-stu-id="6962f-284">iOS version 3.0.0 or later</span></span>](app-service-mobile-ios-how-to-use-client-library.md)
* [<span data-ttu-id="6962f-285">.NET (system Windows/Xamarin) w wersji 2.0.0 lub nowszej</span><span class="sxs-lookup"><span data-stu-id="6962f-285">.NET (Windows/Xamarin) version 2.0.0 or later</span></span>](app-service-mobile-dotnet-how-to-use-client-library.md)

<span data-ttu-id="6962f-286">Czy aplikacja sprawia, że użycie powiadomień wypychanych, zwróć uwagę na powitania określonej rejestracji instrukcje dotyczące każdej platformy, jak nie zostały niektóre zmiany również.</span><span class="sxs-lookup"><span data-stu-id="6962f-286">If your application makes use of push notifications, make note of hello specific registration instructions for each platform, as there have been some changes there as well.</span></span>

<span data-ttu-id="6962f-287">Jeśli masz hello nową wersję klienta gotowa wypróbuj go na uaktualnionym serwerze projektu.</span><span class="sxs-lookup"><span data-stu-id="6962f-287">When you have hello new client version ready, try it out against your upgraded server project.</span></span> <span data-ttu-id="6962f-288">Po weryfikacji, czy działa, można zwolnić nowej wersji toocustomers Twojej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="6962f-288">After validating that it works, you can release a new version of your application toocustomers.</span></span> <span data-ttu-id="6962f-289">Po pewnym czasie po klientów miało tooreceive szansy te aktualizacje, można usunąć usługi Mobile Services hello wersji aplikacji.</span><span class="sxs-lookup"><span data-stu-id="6962f-289">Eventually, once your customers have had a chance tooreceive these updates, you can delete hello Mobile Services version of your app.</span></span> <span data-ttu-id="6962f-290">W tym momencie uaktualnieniu tooan aplikację usługi Mobile aplikacji przy użyciu najnowszych hello serwera Mobile Apps SDK.</span><span class="sxs-lookup"><span data-stu-id="6962f-290">At this point, you have completely upgraded tooan App Service Mobile App using hello latest Mobile Apps server SDK.</span></span>

<!-- URLs. -->

[portalu Azure]: https://portal.azure.com/
[klasycznego portalu Azure]: https://manage.windowsazure.com/
[co to są Mobile Apps?]: app-service-mobile-value-prop.md
[I already use web sites and mobile services – how does App Service help me?]: /en-us/documentation/articles/app-service-mobile-value-prop-migration-from-mobile-services
[zestawu SDK serwera aplikacji mobilnych]: http://www.nuget.org/packages/microsoft.azure.mobile.server
[Create a Mobile App]: app-service-mobile-xamarin-ios-get-started.md
[Add push notifications tooyour mobile app]: app-service-mobile-xamarin-ios-get-started-push.md
[Add authentication tooyour mobile app]: app-service-mobile-xamarin-ios-get-started-users.md
[Harmonogram systemu Azure]: /en-us/documentation/services/scheduler/
[zadanie sieci Web]: ../app-service-web/websites-webjobs-resources.md
[jak toouse hello serwer .NET SDK]: app-service-mobile-dotnet-backend-how-to-use-server-sdk.md
[Migrate from Mobile Services tooan App Service Mobile App]: app-service-mobile-migrating-from-mobile-services.md
[Migrate your existing Mobile Service tooApp Service]: app-service-mobile-migrating-from-mobile-services.md
[cennik usługi aplikacji]: https://azure.microsoft.com/en-us/pricing/details/app-service/
[Omówienie zestawu SDK .NET server]: app-service-mobile-dotnet-backend-how-to-use-server-sdk.md
