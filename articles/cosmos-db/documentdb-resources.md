---
title: "aaaAzure DB rozwiązania Cosmos pojęcia i model zasobów | Dokumentacja firmy Microsoft"
description: "Więcej informacji na temat Azure rozwiązania Cosmos DB hierarchiczny model baz danych, kolekcje funkcji zdefiniowanych przez użytkownika (UDF), dokumentów, uprawnienia toomanage zasobów i więcej."
keywords: Hierarchiczny model, cosmosdb azure, programu Microsoft azure
services: cosmos-db
documentationcenter: 
author: AndrewHoh
manager: jhubbard
editor: monicar
ms.assetid: ef9d5c0c-0867-4317-bb1b-98e219799fd5
ms.service: cosmos-db
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/24/2017
ms.author: anhoh
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: fc3642232b86cc27901ebd97456c386829324632
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="azure-cosmos-db-hierarchical-resource-model-and-core-concepts"></a><span data-ttu-id="67593-104">Podstawowe pojęcia i hierarchiczny model zasobów usługi Azure Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="67593-104">Azure Cosmos DB hierarchical resource model and core concepts</span></span>
<span data-ttu-id="67593-105">Witaj jednostki bazy danych, które bazy danych Azure rozwiązania Cosmos zarządza są tooas określonego **zasobów**.</span><span class="sxs-lookup"><span data-stu-id="67593-105">hello database entities that Azure Cosmos DB manages are referred tooas **resources**.</span></span> <span data-ttu-id="67593-106">Każdy zasób jest unikatowo identyfikowana przez logiczny identyfikator URI.</span><span class="sxs-lookup"><span data-stu-id="67593-106">Each resource is uniquely identified by a logical URI.</span></span> <span data-ttu-id="67593-107">Zakłócają hello zasobów za pomocą standardowych poleceń HTTP, nagłówki żądań i odpowiedzi i kodów stanu.</span><span class="sxs-lookup"><span data-stu-id="67593-107">You can interact with hello resources using standard HTTP verbs, request/response headers and status codes.</span></span> 

<span data-ttu-id="67593-108">Przeczytaj ten artykuł, będziesz w stanie tooanswer hello następujące pytania:</span><span class="sxs-lookup"><span data-stu-id="67593-108">By reading this article, you'll be able tooanswer hello following questions:</span></span>

* <span data-ttu-id="67593-109">Co to jest model zasobów DB rozwiązania Cosmos?</span><span class="sxs-lookup"><span data-stu-id="67593-109">What is Cosmos DB's resource model?</span></span>
* <span data-ttu-id="67593-110">Co to są systemu zdefiniowany zasobów min. toouser zdefiniowanych zasobów?</span><span class="sxs-lookup"><span data-stu-id="67593-110">What are system defined resources as opposed toouser defined resources?</span></span>
* <span data-ttu-id="67593-111">Jak rozwiązać zasobu?</span><span class="sxs-lookup"><span data-stu-id="67593-111">How do I address a resource?</span></span>
* <span data-ttu-id="67593-112">Jak pracować z kolekcjami</span><span class="sxs-lookup"><span data-stu-id="67593-112">How do I work with collections?</span></span>
* <span data-ttu-id="67593-113">Jak pracować z procedur składowanych, wyzwalaczy i funkcje zdefiniowane przez użytkownika (UDF)</span><span class="sxs-lookup"><span data-stu-id="67593-113">How do I work with stored procedures, triggers and User Defined Functions (UDFs)?</span></span>

## <a name="hierarchical-resource-model"></a><span data-ttu-id="67593-114">Model hierarchiczna zasobów</span><span class="sxs-lookup"><span data-stu-id="67593-114">Hierarchical resource model</span></span>
<span data-ttu-id="67593-115">Jak hello na poniższym diagramie, hello hierarchiczna DB rozwiązania Cosmos **model zasobów** składa się z zestawów zasobów w ramach konta bazy danych, każda mogą być adresowane za pomocą logicznych i stabilny identyfikator URI.</span><span class="sxs-lookup"><span data-stu-id="67593-115">As hello following diagram illustrates, hello Cosmos DB hierarchical **resource model** consists of sets of resources under a database account, each addressable via a logical and stable URI.</span></span> <span data-ttu-id="67593-116">Zestaw zasobów zostanie określony tooas **źródła danych** w tym artykule.</span><span class="sxs-lookup"><span data-stu-id="67593-116">A set of resources will be referred tooas a **feed** in this article.</span></span> 

> [!NOTE]
> <span data-ttu-id="67593-117">Azure DB rozwiązania Cosmos oferuje wysoce efektywne protokołu TCP, który jest także RESTful jego model komunikacji, dostępne za pośrednictwem hello [interfejs API klienta .NET usługi DocumentDB](documentdb-sdk-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="67593-117">Azure Cosmos DB offers a highly efficient TCP protocol which is also RESTful in its communication model, available through hello [DocumentDB .NET client API](documentdb-sdk-dotnet.md).</span></span>
> 
> 

<span data-ttu-id="67593-118">![Azure DB rozwiązania Cosmos hierarchiczna zasobów modelu][1]</span><span class="sxs-lookup"><span data-stu-id="67593-118">![Azure Cosmos DB hierarchical resource model][1]</span></span>  
<span data-ttu-id="67593-119">**Model hierarchiczna zasobów**</span><span class="sxs-lookup"><span data-stu-id="67593-119">**Hierarchical resource model**</span></span>   

<span data-ttu-id="67593-120">toostart pracy z zasobami, należy najpierw [Tworzenie konta bazy danych](create-documentdb-dotnet.md) przy użyciu subskrypcji platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="67593-120">toostart working with resources, you must [create a database account](create-documentdb-dotnet.md) using your Azure subscription.</span></span> <span data-ttu-id="67593-121">Konto bazy danych może składać się z zestawem **baz danych**, każda z nich zawiera wiele **kolekcje**, każdy z które z kolei zawierają **procedury składowane, wyzwalacze, funkcje UDF, dokumenty**i pokrewnych **załączników**.</span><span class="sxs-lookup"><span data-stu-id="67593-121">A database account can consist of a set of **databases**, each containing multiple **collections**, each of which in turn contain **stored procedures, triggers, UDFs, documents** and related **attachments**.</span></span> <span data-ttu-id="67593-122">Bazy danych ma również skojarzonych **użytkowników**, każdy z zestawem **uprawnienia** kolekcje tooaccess przechowywane procedury, wyzwalacze, funkcje UDF, dokumentów lub załączników.</span><span class="sxs-lookup"><span data-stu-id="67593-122">A database also has associated **users**, each with a set of **permissions** tooaccess collections, stored procedures, triggers, UDFs, documents or attachments.</span></span> <span data-ttu-id="67593-123">Bazy danych, użytkownicy, uprawnienia i kolekcje są zdefiniowane w systemie zasoby z dobrze znanych schematów, dokumentów i załączniki zawierają dowolną, zdefiniowane przez użytkownika zawartość JSON.</span><span class="sxs-lookup"><span data-stu-id="67593-123">While databases, users, permissions and collections are system-defined resources with well-known schemas, documents and attachments contain arbitrary, user defined JSON content.</span></span>  

| <span data-ttu-id="67593-124">Zasób</span><span class="sxs-lookup"><span data-stu-id="67593-124">Resource</span></span> | <span data-ttu-id="67593-125">Opis</span><span class="sxs-lookup"><span data-stu-id="67593-125">Description</span></span> |
| --- | --- |
| <span data-ttu-id="67593-126">Konto bazy danych</span><span class="sxs-lookup"><span data-stu-id="67593-126">Database account</span></span> |<span data-ttu-id="67593-127">Konto bazy danych jest skojarzona z zestawu baz danych i stałą magazynu obiektów blob dla załączników.</span><span class="sxs-lookup"><span data-stu-id="67593-127">A database account is associated with a set of databases and a fixed amount of blob storage for attachments.</span></span> <span data-ttu-id="67593-128">Można utworzyć co najmniej jedno konto bazy danych przy użyciu subskrypcji platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="67593-128">You can create one or more database accounts using your Azure subscription.</span></span> <span data-ttu-id="67593-129">Aby uzyskać więcej informacji można znaleźć w naszych [cennikiem](https://azure.microsoft.com/pricing/details/cosmos-db/).</span><span class="sxs-lookup"><span data-stu-id="67593-129">For more information, visit our [pricing page](https://azure.microsoft.com/pricing/details/cosmos-db/).</span></span> |
| <span data-ttu-id="67593-130">Database (Baza danych)</span><span class="sxs-lookup"><span data-stu-id="67593-130">Database</span></span> |<span data-ttu-id="67593-131">Baza danych jest kontenerem logicznym magazynu dokumentów podzielonym na partycje w kolekcjach.</span><span class="sxs-lookup"><span data-stu-id="67593-131">A database is a logical container of document storage partitioned across collections.</span></span> <span data-ttu-id="67593-132">Istnieje również kontener użytkowników.</span><span class="sxs-lookup"><span data-stu-id="67593-132">It is also a users container.</span></span> |
| <span data-ttu-id="67593-133">Użytkownik</span><span class="sxs-lookup"><span data-stu-id="67593-133">User</span></span> |<span data-ttu-id="67593-134">Witaj logicznej przestrzeń nazw dla zakresu uprawnień.</span><span class="sxs-lookup"><span data-stu-id="67593-134">hello logical namespace for scoping permissions.</span></span> |
| <span data-ttu-id="67593-135">Uprawnienie</span><span class="sxs-lookup"><span data-stu-id="67593-135">Permission</span></span> |<span data-ttu-id="67593-136">Token autoryzacji skojarzonych z użytkownikiem dla dostępu tooa określonego zasobu.</span><span class="sxs-lookup"><span data-stu-id="67593-136">An authorization token associated with a user for access tooa specific resource.</span></span> |
| <span data-ttu-id="67593-137">Collection</span><span class="sxs-lookup"><span data-stu-id="67593-137">Collection</span></span> |<span data-ttu-id="67593-138">Kolekcja jest kontenerem dokumentów JSON i hello skojarzone logiki aplikacji JavaScript.</span><span class="sxs-lookup"><span data-stu-id="67593-138">A collection is a container of JSON documents and hello associated JavaScript application logic.</span></span> <span data-ttu-id="67593-139">Kolekcja to płatna jednostka, gdzie hello [koszt](performance-levels.md) jest określany przez hello poziomu wydajności skojarzonego z hello kolekcji.</span><span class="sxs-lookup"><span data-stu-id="67593-139">A collection is a billable entity, where hello [cost](performance-levels.md) is determined by hello performance level associated with hello collection.</span></span> <span data-ttu-id="67593-140">Kolekcje mogą znajdować się co najmniej jeden partycjach/serwerach i mogą być skalowane toohandle praktycznie nieograniczonej ilości magazynu lub przepływności.</span><span class="sxs-lookup"><span data-stu-id="67593-140">Collections can span one or more partitions/servers and can scale toohandle practically unlimited volumes of storage or throughput.</span></span> |
| <span data-ttu-id="67593-141">Procedura składowana</span><span class="sxs-lookup"><span data-stu-id="67593-141">Stored Procedure</span></span> |<span data-ttu-id="67593-142">Logika aplikacji napisane w języku JavaScript, który jest zarejestrowany w kolekcji i transakcyjnie wykonana w obrębie hello aparatu bazy danych.</span><span class="sxs-lookup"><span data-stu-id="67593-142">Application logic written in JavaScript which is registered with a collection and transactionally executed within hello database engine.</span></span> |
| <span data-ttu-id="67593-143">Wyzwalacz</span><span class="sxs-lookup"><span data-stu-id="67593-143">Trigger</span></span> |<span data-ttu-id="67593-144">Logiki aplikacji napisane w języku JavaScript wykonane przed lub po każdej operacji insert, Zamień lub Usuń operację.</span><span class="sxs-lookup"><span data-stu-id="67593-144">Application logic written in JavaScript executed before or after either an insert, replace or delete operation.</span></span> |
| <span data-ttu-id="67593-145">FUNKCJI ZDEFINIOWANEJ PRZEZ UŻYTKOWNIKA</span><span class="sxs-lookup"><span data-stu-id="67593-145">UDF</span></span> |<span data-ttu-id="67593-146">Logika aplikacji napisane w języku JavaScript.</span><span class="sxs-lookup"><span data-stu-id="67593-146">Application logic written in JavaScript.</span></span> <span data-ttu-id="67593-147">Funkcje UDF włączyć toomodel operator zapytanie niestandardowe i tym samym rozszerzyć język zapytań usługi DocumentDB interfejsu API core hello.</span><span class="sxs-lookup"><span data-stu-id="67593-147">UDFs enable you toomodel a custom query operator and thereby extend hello core DocumentDB API query language.</span></span> |
| <span data-ttu-id="67593-148">Dokument</span><span class="sxs-lookup"><span data-stu-id="67593-148">Document</span></span> |<span data-ttu-id="67593-149">Zdefiniowane przez użytkownika (dowolną) zawartość JSON.</span><span class="sxs-lookup"><span data-stu-id="67593-149">User defined (arbitrary) JSON content.</span></span> <span data-ttu-id="67593-150">Domyślnie nie schemat musi toobe zdefiniowany ani indeksów pomocniczych zbędna toobe podane dla wszystkich hello dokumenty dodane tooa kolekcji.</span><span class="sxs-lookup"><span data-stu-id="67593-150">By default, no schema needs toobe defined nor do secondary indices need toobe provided for all hello documents added tooa collection.</span></span> |
| <span data-ttu-id="67593-151">Załącznika</span><span class="sxs-lookup"><span data-stu-id="67593-151">Attachment</span></span> |<span data-ttu-id="67593-152">Załącznik jest specjalny dokument zawierający odniesienia i skojarzone metadane dla obiekt blob/nośnika zewnętrznego.</span><span class="sxs-lookup"><span data-stu-id="67593-152">An attachment is a special document containing references and associated metadata for external blob/media.</span></span> <span data-ttu-id="67593-153">Hello developer można wybrać obiektu blob hello toohave zarządza DB rozwiązania Cosmos lub Przechowuj z dostawcą usług zewnętrznych obiektów blob, np. OneDrive, Dropbox.</span><span class="sxs-lookup"><span data-stu-id="67593-153">hello developer can choose toohave hello blob managed by Cosmos DB or store it with an external blob service provider such as OneDrive, Dropbox, etc.</span></span> |

## <a name="system-vs-user-defined-resources"></a><span data-ttu-id="67593-154">System i zasoby zdefiniowane przez użytkownika</span><span class="sxs-lookup"><span data-stu-id="67593-154">System vs. user defined resources</span></span>
<span data-ttu-id="67593-155">Zasoby, takie jak konta bazy danych, bazy danych, kolekcji, użytkownicy, uprawnienia, procedur składowanych, wyzwalaczy i funkcji UDF — wszystkie mają stałego schematu i są nazywane zasobów systemowych.</span><span class="sxs-lookup"><span data-stu-id="67593-155">Resources such as database accounts, databases, collections, users, permissions, stored procedures, triggers, and UDFs - all have a fixed schema and are called system resources.</span></span> <span data-ttu-id="67593-156">Z kolei zasobów, takich jak dokumenty i załączniki nie obowiązują żadne ograniczenia na powitania schematu i przedstawiono zasoby zdefiniowane przez użytkownika.</span><span class="sxs-lookup"><span data-stu-id="67593-156">In contrast, resources such as documents and attachments have no restrictions on hello schema and are examples of user defined resources.</span></span> <span data-ttu-id="67593-157">Zasoby zdefiniowane rozwiązania Cosmos DB, systemowych i użytkownika są reprezentowane i zarządzane jako zgodne standard JSON.</span><span class="sxs-lookup"><span data-stu-id="67593-157">In Cosmos DB, both system and user defined resources are represented and managed as standard-compliant JSON.</span></span> <span data-ttu-id="67593-158">Wszystkie zasoby systemu lub użytkownika, ma hello następujące wspólne właściwości.</span><span class="sxs-lookup"><span data-stu-id="67593-158">All resources, system or user defined, have hello following common properties.</span></span>

> [!NOTE]
> <span data-ttu-id="67593-159">Należy pamiętać, że wszystkie generowany przez system właściwości w zasobie mają przedrostek znaku podkreślenia (_) w ich reprezentacja JSON.</span><span class="sxs-lookup"><span data-stu-id="67593-159">Note that all system generated properties in a resource are prefixed with an underscore (_) in their JSON representation.</span></span>
> 
> 

<table>
    <tbody>
        <tr>
            <td valign="top"><p><span data-ttu-id="67593-160"><strong>Właściwość</strong></span><span class="sxs-lookup"><span data-stu-id="67593-160"><strong>Property</strong></span></span></p></td>
            <td valign="top"><p><span data-ttu-id="67593-161"><strong>Użytkownika można ustawić lub wygenerowany przez system?</strong></span><span class="sxs-lookup"><span data-stu-id="67593-161"><strong>User settable or system generated?</strong></span></span></p></td>
            <td valign="top"><p><span data-ttu-id="67593-162"><strong>Cel</strong></span><span class="sxs-lookup"><span data-stu-id="67593-162"><strong>Purpose</strong></span></span></p></td>
        </tr>
        <tr>
            <td valign="top"><p><span data-ttu-id="67593-163">_rid</span><span class="sxs-lookup"><span data-stu-id="67593-163">_rid</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="67593-164">Wygenerowany przez system</span><span class="sxs-lookup"><span data-stu-id="67593-164">System generated</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="67593-165">Generowany przez system, identyfikator unikatowy i hierarchicznego hello zasobu</span><span class="sxs-lookup"><span data-stu-id="67593-165">System generated, unique and hierarchical identifier of hello resource</span></span></p></td>
        </tr>
        <tr>
            <td valign="top"><p><span data-ttu-id="67593-166">_etag</span><span class="sxs-lookup"><span data-stu-id="67593-166">_etag</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="67593-167">Wygenerowany przez system</span><span class="sxs-lookup"><span data-stu-id="67593-167">System generated</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="67593-168">etag hello zasobów wymaganych do optymistyczne sterowanie współbieżnością</span><span class="sxs-lookup"><span data-stu-id="67593-168">etag of hello resource required for optimistic concurrency control</span></span></p></td>
        </tr>
        <tr>
            <td valign="top"><p><span data-ttu-id="67593-169">_ts</span><span class="sxs-lookup"><span data-stu-id="67593-169">_ts</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="67593-170">Wygenerowany przez system</span><span class="sxs-lookup"><span data-stu-id="67593-170">System generated</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="67593-171">Zaktualizowano sygnatura czasowa ostatniego hello zasobów</span><span class="sxs-lookup"><span data-stu-id="67593-171">Last updated timestamp of hello resource</span></span></p></td>
        </tr>
        <tr>
            <td valign="top"><p><span data-ttu-id="67593-172">_self</span><span class="sxs-lookup"><span data-stu-id="67593-172">_self</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="67593-173">Wygenerowany przez system</span><span class="sxs-lookup"><span data-stu-id="67593-173">System generated</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="67593-174">Unikatowy identyfikator adresowanego URI zasobu hello</span><span class="sxs-lookup"><span data-stu-id="67593-174">Unique addressable URI of hello resource</span></span></p></td>
        </tr>
        <tr>
            <td valign="top"><p><span data-ttu-id="67593-175">id</span><span class="sxs-lookup"><span data-stu-id="67593-175">id</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="67593-176">Wygenerowany przez system</span><span class="sxs-lookup"><span data-stu-id="67593-176">System generated</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="67593-177">Unikatowa nazwa zasobu hello zdefiniowane przez użytkownika (o hello sam partycji wartość klucza).</span><span class="sxs-lookup"><span data-stu-id="67593-177">User defined unique name of hello resource (with hello same partition key value).</span></span> <span data-ttu-id="67593-178">Jeśli użytkownik hello nie określono identyfikatora, identyfikator będzie wygenerowany przez system</span><span class="sxs-lookup"><span data-stu-id="67593-178">If hello user does not specify an id, an id will be system generated</span></span></p></td>
        </tr>
    </tbody>
</table>

### <a name="wire-representation-of-resources"></a><span data-ttu-id="67593-179">Reprezentacja przewodowy zasobów</span><span class="sxs-lookup"><span data-stu-id="67593-179">Wire representation of resources</span></span>
<span data-ttu-id="67593-180">Rozwiązania cosmos DB nie wprowadzić żadnych własnościowych rozszerzeń toohello JSON standard lub specjalne kodowania; działa ze standardowych zgodne dokumentów JSON.</span><span class="sxs-lookup"><span data-stu-id="67593-180">Cosmos DB does not mandate any proprietary extensions toohello JSON standard or special encodings; it works with standard compliant JSON documents.</span></span>  

### <a name="addressing-a-resource"></a><span data-ttu-id="67593-181">Adresowanie zasobu</span><span class="sxs-lookup"><span data-stu-id="67593-181">Addressing a resource</span></span>
<span data-ttu-id="67593-182">Wszystkie zasoby są adresowanego identyfikatora URI.</span><span class="sxs-lookup"><span data-stu-id="67593-182">All resources are URI addressable.</span></span> <span data-ttu-id="67593-183">Witaj wartość hello **_self** właściwości zasobu reprezentuje hello względnego identyfikatora URI zasobu hello.</span><span class="sxs-lookup"><span data-stu-id="67593-183">hello value of hello **_self** property of a resource represents hello relative URI of hello resource.</span></span> <span data-ttu-id="67593-184">Witaj format identyfikatora URI hello składa się z hello /\<źródła danych\>/ {_rid} segmenty ścieżki:</span><span class="sxs-lookup"><span data-stu-id="67593-184">hello format of hello URI consists of hello /\<feed\>/{_rid} path segments:</span></span>  

| <span data-ttu-id="67593-185">Wartość hello _self</span><span class="sxs-lookup"><span data-stu-id="67593-185">Value of hello _self</span></span> | <span data-ttu-id="67593-186">Opis</span><span class="sxs-lookup"><span data-stu-id="67593-186">Description</span></span> |
| --- | --- |
| <span data-ttu-id="67593-187">/DBS</span><span class="sxs-lookup"><span data-stu-id="67593-187">/dbs</span></span> |<span data-ttu-id="67593-188">Źródło danych bazy danych w ramach konta bazy danych</span><span class="sxs-lookup"><span data-stu-id="67593-188">Feed of databases under a database account</span></span> |
| <span data-ttu-id="67593-189">/DBS/ {dbName}</span><span class="sxs-lookup"><span data-stu-id="67593-189">/dbs/{dbName}</span></span> |<span data-ttu-id="67593-190">Baza danych o identyfikatorze odpowiadającym hello wartość {dbName}</span><span class="sxs-lookup"><span data-stu-id="67593-190">Database with an id matching hello value {dbName}</span></span> |
| <span data-ttu-id="67593-191">/colls/ /DBS/ {dbName}</span><span class="sxs-lookup"><span data-stu-id="67593-191">/dbs/{dbName}/colls/</span></span> |<span data-ttu-id="67593-192">Źródło danych kolekcji w bazie danych</span><span class="sxs-lookup"><span data-stu-id="67593-192">Feed of collections under a database</span></span> |
| <span data-ttu-id="67593-193">/colls/ /DBS/ {dbName} {collName}</span><span class="sxs-lookup"><span data-stu-id="67593-193">/dbs/{dbName}/colls/{collName}</span></span> |<span data-ttu-id="67593-194">Kolekcja o identyfikatorze odpowiadającym hello wartość {collName}</span><span class="sxs-lookup"><span data-stu-id="67593-194">Collection with an id matching hello value {collName}</span></span> |
| <span data-ttu-id="67593-195">/colls/ /DBS/ {dbName} {collName} / docs</span><span class="sxs-lookup"><span data-stu-id="67593-195">/dbs/{dbName}/colls/{collName}/docs</span></span> |<span data-ttu-id="67593-196">Źródła danych dokumentów w kolekcji</span><span class="sxs-lookup"><span data-stu-id="67593-196">Feed of documents under a collection</span></span> |
| <span data-ttu-id="67593-197">/docs/ /colls/ {collName} /DBS/ {dbName} {identyfikator}</span><span class="sxs-lookup"><span data-stu-id="67593-197">/dbs/{dbName}/colls/{collName}/docs/{docId}</span></span> |<span data-ttu-id="67593-198">Dokument o identyfikatorze odpowiadającym hello wartość {doc}</span><span class="sxs-lookup"><span data-stu-id="67593-198">Document with an id matching hello value {doc}</span></span> |
| <span data-ttu-id="67593-199">/users/ /DBS/ {dbName}</span><span class="sxs-lookup"><span data-stu-id="67593-199">/dbs/{dbName}/users/</span></span> |<span data-ttu-id="67593-200">Źródło danych użytkowników w bazie danych</span><span class="sxs-lookup"><span data-stu-id="67593-200">Feed of users under a database</span></span> |
| <span data-ttu-id="67593-201">/users/ /DBS/ {dbName} {userId}</span><span class="sxs-lookup"><span data-stu-id="67593-201">/dbs/{dbName}/users/{userId}</span></span> |<span data-ttu-id="67593-202">Użytkownik o identyfikatorze odpowiadającym hello wartość {użytkownika}</span><span class="sxs-lookup"><span data-stu-id="67593-202">User with an id matching hello value {user}</span></span> |
| <span data-ttu-id="67593-203">/users/ /DBS/ {dbName} {userId} / uprawnień</span><span class="sxs-lookup"><span data-stu-id="67593-203">/dbs/{dbName}/users/{userId}/permissions</span></span> |<span data-ttu-id="67593-204">Źródło danych uprawnienia użytkownika</span><span class="sxs-lookup"><span data-stu-id="67593-204">Feed of permissions under a user</span></span> |
| <span data-ttu-id="67593-205">/permissions/ /users/ {userId} /DBS/ {dbName} {permissionId}</span><span class="sxs-lookup"><span data-stu-id="67593-205">/dbs/{dbName}/users/{userId}/permissions/{permissionId}</span></span> |<span data-ttu-id="67593-206">Uprawnienie o identyfikatorze odpowiadającym hello wartość {uprawnienie}</span><span class="sxs-lookup"><span data-stu-id="67593-206">Permission with an id matching hello value {permission}</span></span> |

<span data-ttu-id="67593-207">Każdy zasób ma nazwę unikatowy zdefiniowane przez użytkownika udostępniane za pośrednictwem funkcji hello właściwość identyfikatora.</span><span class="sxs-lookup"><span data-stu-id="67593-207">Each resource has a unique user defined name exposed via hello id property.</span></span> <span data-ttu-id="67593-208">Uwaga: w przypadku dokumentów Jeśli hello użytkownika nie został określony identyfikator naszych obsługiwanych zestawów SDK automatycznie wygeneruje Unikatowy identyfikator dla hello dokumentu.</span><span class="sxs-lookup"><span data-stu-id="67593-208">Note: for documents, if hello user does not specify an id, our supported SDKs will automatically generate a unique id for hello document.</span></span> <span data-ttu-id="67593-209">Identyfikator Hello działa ciąg zdefiniowany przez użytkownika z too256 znaki, które jest unikatowy w ramach kontekstu hello nadrzędny określonego zasobu.</span><span class="sxs-lookup"><span data-stu-id="67593-209">hello id is a user defined string, of up too256 characters that is unique within hello context of a specific parent resource.</span></span> 

<span data-ttu-id="67593-210">Każdego zasobu również ma identyfikator hierarchiczna zasobów wygenerowany przez system (również określonego tooas identyfikatorów RID), który jest dostępny za pomocą właściwości _rid hello.</span><span class="sxs-lookup"><span data-stu-id="67593-210">Each resource also has a system generated hierarchical resource identifier (also referred tooas an RID), which is available via hello _rid property.</span></span> <span data-ttu-id="67593-211">Witaj identyfikatorów RID koduje hello całej hierarchii danego zasobu i jest wygodny reprezentacji wewnętrznej użytej tooenforce integralności referencyjnej w sposób rozproszony.</span><span class="sxs-lookup"><span data-stu-id="67593-211">hello RID encodes hello entire hierarchy of a given resource and it is a convenient internal representation used tooenforce referential integrity in a distributed manner.</span></span> <span data-ttu-id="67593-212">Witaj identyfikatorów RID jest unikatowy w ramach konta bazy danych i ona jest używana wewnętrznie przez rozwiązania Cosmos bazy danych dla wydajny routing, bez konieczności wyszukiwań krzyżowego partycji.</span><span class="sxs-lookup"><span data-stu-id="67593-212">hello RID is unique within a database account and it is internally used by Cosmos DB for efficient routing without requiring cross partition lookups.</span></span> <span data-ttu-id="67593-213">wartości Hello hello _self i właściwości _rid hello są zarówno alternatywnych, jak i canonical reprezentacji zasobu.</span><span class="sxs-lookup"><span data-stu-id="67593-213">hello values of hello _self and hello  _rid properties are both alternate and canonical representations of a resource.</span></span> 

<span data-ttu-id="67593-214">Obsługa interfejsów API REST Hello adresowania zasobów i routingu żądań zarówno przez identyfikator hello i hello _rid właściwości.</span><span class="sxs-lookup"><span data-stu-id="67593-214">hello REST APIs support addressing of resources and routing of requests by both hello id and hello _rid properties.</span></span>

## <a name="database-accounts"></a><span data-ttu-id="67593-215">Konta bazy danych</span><span class="sxs-lookup"><span data-stu-id="67593-215">Database accounts</span></span>
<span data-ttu-id="67593-216">Można udostępnić co najmniej jednego rozwiązania Cosmos DB bazy danych konta przy użyciu subskrypcji platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="67593-216">You can provision one or more Cosmos DB database accounts using your Azure subscription.</span></span>

<span data-ttu-id="67593-217">Możesz utworzyć i zarządzać kontami bazy danych DB rozwiązania Cosmos za pośrednictwem portalu Azure hello na [http://portal.azure.com/](https://portal.azure.com/).</span><span class="sxs-lookup"><span data-stu-id="67593-217">You can create and manage Cosmos DB database accounts via hello Azure Portal at [http://portal.azure.com/](https://portal.azure.com/).</span></span> <span data-ttu-id="67593-218">Tworzenie i zarządzanie nimi konta bazy danych wymaga dostępu administracyjnego i może zostać wykonane tylko w ramach Twojej subskrypcji platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="67593-218">Creating and managing a database account requires administrative access and can only be performed under your Azure subscription.</span></span> 

### <a name="database-account-properties"></a><span data-ttu-id="67593-219">Właściwości konta bazy danych</span><span class="sxs-lookup"><span data-stu-id="67593-219">Database account properties</span></span>
<span data-ttu-id="67593-220">W ramach inicjowania obsługi i zarządzania nimi konta bazy danych można skonfigurować i odczytu hello następujące właściwości:</span><span class="sxs-lookup"><span data-stu-id="67593-220">As part of provisioning and managing a database account you can configure and read hello following properties:</span></span>  

<table border="0" cellspacing="0" cellpadding="0">
    <tbody>
        <tr>
            <td valign="top"><p><span data-ttu-id="67593-221"><strong>Nazwa właściwości</strong></span><span class="sxs-lookup"><span data-stu-id="67593-221"><strong>Property Name</strong></span></span></p></td>
            <td valign="top"><p><span data-ttu-id="67593-222"><strong>Opis</strong></span><span class="sxs-lookup"><span data-stu-id="67593-222"><strong>Description</strong></span></span></p></td>
        </tr>
        <tr>
            <td valign="top"><p><span data-ttu-id="67593-223">Zasady spójności</span><span class="sxs-lookup"><span data-stu-id="67593-223">Consistency Policy</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="67593-224">Ustaw poziom tej właściwości tooconfigure hello domyślne w spójności dla wszystkich zbiorów hello przy użyciu tego konta bazy danych.</span><span class="sxs-lookup"><span data-stu-id="67593-224">Set this property tooconfigure hello default consistency level for all hello collections under your database account.</span></span> <span data-ttu-id="67593-225">Można zastąpić hello poziomu spójności dla danego żądania przy użyciu hello [x-ms spójności — poziom] nagłówek żądania.</span><span class="sxs-lookup"><span data-stu-id="67593-225">You can override hello consistency level on a per request basis using hello [x-ms-consistency-level] request header.</span></span> <p><p><span data-ttu-id="67593-226">Należy pamiętać, że ta właściwość jest stosowana tylko toohello <i>zasoby zdefiniowane przez użytkownika</i>.</span><span class="sxs-lookup"><span data-stu-id="67593-226">Note that this property only applies toohello <i>user defined resources</i>.</span></span> <span data-ttu-id="67593-227">Wszystkie zasoby zdefiniowane w systemie są skonfigurowane toosupport odczyty/zapytania z wysoki poziom spójności.</span><span class="sxs-lookup"><span data-stu-id="67593-227">All system defined resources are configured toosupport reads/queries with strong consistency.</span></span></p></td>
        </tr>
        <tr>
            <td valign="top"><p><span data-ttu-id="67593-228">Klucze autoryzacji</span><span class="sxs-lookup"><span data-stu-id="67593-228">Authorization Keys</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="67593-229">Są hello głównej i dodatkowej wzorca i tylko do odczytu kluczy, które zapewniają administracyjne dostępu tooall hello zasobów w ramach konta bazy danych hello.</span><span class="sxs-lookup"><span data-stu-id="67593-229">These are hello primary and secondary master and readonly keys that provide administrative access tooall of hello resources under hello database account.</span></span></p></td>
        </tr>
    </tbody>
</table>

<span data-ttu-id="67593-230">Uwaga w dodanie tooprovisioning, konfigurowanie i zarządzanie nimi konta bazy danych z hello portalu Azure, można również programowo utworzenie i zarządzanie kontami bazy danych DB rozwiązania Cosmos przy użyciu hello [interfejsów API REST usługi Azure rozwiązania Cosmos DB](/rest/api/documentdb/) jako oraz [zestawów SDK klienta](documentdb-sdk-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="67593-230">Note that in addition tooprovisioning, configuring and managing your database account from hello Azure Portal, you can also programmatically create and manage Cosmos DB database accounts by using hello [Azure Cosmos DB REST APIs](/rest/api/documentdb/) as well as [client SDKs](documentdb-sdk-dotnet.md).</span></span>  

## <a name="databases"></a><span data-ttu-id="67593-231">Bazy danych</span><span class="sxs-lookup"><span data-stu-id="67593-231">Databases</span></span>
<span data-ttu-id="67593-232">Bazy danych DB rozwiązania Cosmos jest kontenerem logicznym jeden lub więcej kolekcji i użytkowników, jak pokazano w powitania po diagramu.</span><span class="sxs-lookup"><span data-stu-id="67593-232">A Cosmos DB database is a logical container of one or more collections and users, as shown in hello following diagram.</span></span> <span data-ttu-id="67593-233">Można utworzyć dowolną liczbę baz danych w ramach rozwiązania Cosmos DB bazy danych konta podmiotu toooffer limity.</span><span class="sxs-lookup"><span data-stu-id="67593-233">You can create any number of databases under a Cosmos DB database account subject toooffer limits.</span></span>  

<span data-ttu-id="67593-234">![Model bazy danych konta i kolekcje hierarchiczne][2]</span><span class="sxs-lookup"><span data-stu-id="67593-234">![Database account and collections hierarchical model][2]</span></span>  
<span data-ttu-id="67593-235">**Baza danych jest kontenerem logicznym użytkowników i kolekcji**</span><span class="sxs-lookup"><span data-stu-id="67593-235">**A Database is a logical container of users and collections**</span></span>

<span data-ttu-id="67593-236">Bazy danych może zawierać nieograniczoną dokumentu magazynu na partycje w kolekcjach.</span><span class="sxs-lookup"><span data-stu-id="67593-236">A database can contain virtually unlimited document storage partitioned within collections.</span></span>

### <a name="elastic-scale-of-a-cosmos-db-database"></a><span data-ttu-id="67593-237">Elastyczne skalowanie bazy danych DB rozwiązania Cosmos</span><span class="sxs-lookup"><span data-stu-id="67593-237">Elastic scale of a Cosmos DB database</span></span>
<span data-ttu-id="67593-238">Baza danych DB rozwiązania Cosmos jest elastyczny domyślnie — od kilku toopetabytes GB magazynu dokumentów kopie dysków SSD i udostępnionej przepływności.</span><span class="sxs-lookup"><span data-stu-id="67593-238">A Cosmos DB database is elastic by default – ranging from a few GB toopetabytes of SSD backed document storage and provisioned throughput.</span></span> 

<span data-ttu-id="67593-239">W przeciwieństwie do bazy danych w tradycyjnych RDBMS bazy danych w bazie danych rozwiązania Cosmos jest tooa zakresie jednej maszyny.</span><span class="sxs-lookup"><span data-stu-id="67593-239">Unlike a database in traditional RDBMS, a database in Cosmos DB is not scoped tooa single machine.</span></span> <span data-ttu-id="67593-240">DB rozwiązania Cosmos potrzeb skalowania aplikacji toogrow, można utworzyć więcej kolekcji i baz danych.</span><span class="sxs-lookup"><span data-stu-id="67593-240">With Cosmos DB, as your application’s scale needs toogrow, you can create more collections, databases, or both.</span></span> <span data-ttu-id="67593-241">W rzeczywistości różne aplikacje firm pierwszy w programie Microsoft korzystają DB rozwiązania Cosmos w skali konsumenta tworząc bardzo dużych baz danych DB rozwiązania Cosmos każdego zawierającego tysiące kolekcje z terabajtów miejsca do magazynowania dokumentu.</span><span class="sxs-lookup"><span data-stu-id="67593-241">Indeed, various first party applications within Microsoft have been using Cosmos DB at a consumer scale by creating extremely large Cosmos DB databases each containing thousands of collections with terabytes of document storage.</span></span> <span data-ttu-id="67593-242">Można zwiększać i zmniejszać bazy danych przez dodanie lub usunięcie kolekcji toomeet wymagań skali aplikacji.</span><span class="sxs-lookup"><span data-stu-id="67593-242">You can grow or shrink a database by adding or removing collections toomeet your application’s scale requirements.</span></span> 

<span data-ttu-id="67593-243">Można utworzyć dowolną liczbę kolekcji w ofertę toohello podmiotu bazy danych.</span><span class="sxs-lookup"><span data-stu-id="67593-243">You can create any number of collections within a database subject toohello offer.</span></span> <span data-ttu-id="67593-244">Każda kolekcja ma kopii dyski SSD, a zainicjowanej dla Ciebie w zależności od warstwy wydajności wybranej hello przepływności.</span><span class="sxs-lookup"><span data-stu-id="67593-244">Each collection has SSD backed storage and throughput provisioned for you depending on hello selected performance tier.</span></span>

<span data-ttu-id="67593-245">Bazy danych DB rozwiązania Cosmos jest również kontener użytkowników.</span><span class="sxs-lookup"><span data-stu-id="67593-245">A Cosmos DB database is also a container of users.</span></span> <span data-ttu-id="67593-246">Użytkownik, w ruchu jest logiczną przestrzeń nazw dla zestawu uprawnień zapewnia precyzyjną toocollections dostępu i autoryzacja, dokumentów i załączników.</span><span class="sxs-lookup"><span data-stu-id="67593-246">A user, in-turn, is a logical namespace for a set of permissions that provides fine-grained authorization and access toocollections, documents and attachments.</span></span>  

<span data-ttu-id="67593-247">Zgodnie z innymi zasobami w model zasobów bazy danych rozwiązania Cosmos hello baz danych można utworzyć, zastąpione, usunięty, odczytać lub wyliczyć za pomocą obu hello [interfejsów API REST](/rest/api/documentdb/) lub hello [zestawów SDK klienta](documentdb-sdk-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="67593-247">As with other resources in hello Cosmos DB resource model, databases can be created, replaced, deleted, read or enumerated easily using either hello [REST APIs](/rest/api/documentdb/) or any of hello [client SDKs](documentdb-sdk-dotnet.md).</span></span> <span data-ttu-id="67593-248">Rozwiązania cosmos DB zapewnia wysoki poziom spójności odczytu lub zapytanie dotyczące metadanych hello zasobu bazy danych.</span><span class="sxs-lookup"><span data-stu-id="67593-248">Cosmos DB guarantees strong consistency for reading or querying hello metadata of a database resource.</span></span> <span data-ttu-id="67593-249">Automatyczne usunięcie bazy danych zapewnia, że nie masz dostępu do kolekcji hello lub użytkowników w nim zawarte.</span><span class="sxs-lookup"><span data-stu-id="67593-249">Deleting a database automatically ensures that you cannot access any of hello collections or users contained within it.</span></span>   

## <a name="collections"></a><span data-ttu-id="67593-250">Kolekcje</span><span class="sxs-lookup"><span data-stu-id="67593-250">Collections</span></span>
<span data-ttu-id="67593-251">Kolekcja DB rozwiązania Cosmos jest kontenerem dokumentów JSON.</span><span class="sxs-lookup"><span data-stu-id="67593-251">A Cosmos DB collection is a container for your JSON documents.</span></span> 

### <a name="elastic-ssd-backed-document-storage"></a><span data-ttu-id="67593-252">Elastyczne SSD kopii magazynu dokumentów</span><span class="sxs-lookup"><span data-stu-id="67593-252">Elastic SSD backed document storage</span></span>
<span data-ttu-id="67593-253">Kolekcja jest bardzo elastyczny — automatycznie rozwoju i zmniejszana, jak dodać lub usunąć dokumentów.</span><span class="sxs-lookup"><span data-stu-id="67593-253">A collection is intrinsically elastic - it automatically grows and shrinks as you add or remove documents.</span></span> <span data-ttu-id="67593-254">Kolekcje są zasoby logicznej i może obejmować co najmniej jednej partycji fizycznej lub serwerów.</span><span class="sxs-lookup"><span data-stu-id="67593-254">Collections are logical resources and can span one or more physical partitions or servers.</span></span> <span data-ttu-id="67593-255">Witaj liczby partycji w ramach kolekcji zależy od rozwiązania Cosmos bazy danych na podstawie rozmiaru magazynu hello i hello zainicjowana przepływność kolekcji.</span><span class="sxs-lookup"><span data-stu-id="67593-255">hello number of partitions within a collection is determined by Cosmos DB based on hello storage size and hello provisioned throughput of your collection.</span></span> <span data-ttu-id="67593-256">Każdej partycji w bazie danych rozwiązania Cosmos ma stałą kopie dysków SSD magazynu skojarzone z nim i są replikowane w celu zapewnienia wysokiej dostępności.</span><span class="sxs-lookup"><span data-stu-id="67593-256">Every partition in Cosmos DB has a fixed amount of SSD-backed storage associated with it, and is replicated for high availability.</span></span> <span data-ttu-id="67593-257">Zarządzanie partycji pełni zarządza bazy danych Azure rozwiązania Cosmos i nie masz toowrite złożonego kodu lub Zarządzanie partycjami.</span><span class="sxs-lookup"><span data-stu-id="67593-257">Partition management is fully managed by Azure Cosmos DB, and you do not have toowrite complex code or manage your partitions.</span></span> <span data-ttu-id="67593-258">Kolekcje rozwiązania cosmos bazy danych są **praktycznie nieograniczonej** pod względem pamięci masowej i przepływność.</span><span class="sxs-lookup"><span data-stu-id="67593-258">Cosmos DB collections are **practically unlimited** in terms of storage and throughput.</span></span> 

### <a name="automatic-indexing-of-collections"></a><span data-ttu-id="67593-259">Automatycznego indeksowania w kolekcji</span><span class="sxs-lookup"><span data-stu-id="67593-259">Automatic indexing of collections</span></span>
<span data-ttu-id="67593-260">Rozwiązania cosmos bazy danych jest systemem true bazy danych bez schematu.</span><span class="sxs-lookup"><span data-stu-id="67593-260">Cosmos DB is a true schema-free database system.</span></span> <span data-ttu-id="67593-261">Nie przyjmuje ani nie wymaga żadnego schematu dla dokumentów JSON hello.</span><span class="sxs-lookup"><span data-stu-id="67593-261">It does not assume or require any schema for hello JSON documents.</span></span> <span data-ttu-id="67593-262">Podczas dodawania kolekcji tooa dokumenty DB rozwiązania Cosmos automatycznie indeksuje je i są dostępne dla tooquery należy.</span><span class="sxs-lookup"><span data-stu-id="67593-262">As you add documents tooa collection, Cosmos DB automatically indexes them and they are available for you tooquery.</span></span> <span data-ttu-id="67593-263">Automatyczne indeksowanie dokumentów, bez konieczności schematu lub indeksów pomocniczych jest kluczowych możliwości rozwiązania Cosmos bazy danych i jest włączony technikami konserwacji indeksu zoptymalizowanych pod kątem zapisu, zwolnić blokady i opartą na strukturze dziennika.</span><span class="sxs-lookup"><span data-stu-id="67593-263">Automatic indexing of documents without requiring schema or secondary indexes is a key capability of Cosmos DB and is enabled by write-optimized, lock-free and log-structured index maintenance techniques.</span></span> <span data-ttu-id="67593-264">Rozwiązania cosmos bazy danych obsługuje stałej ilości bardzo szybkiego zapisu służąc nadal spójne zapytania.</span><span class="sxs-lookup"><span data-stu-id="67593-264">Cosmos DB supports sustained volume of extremely fast writes while still serving consistent queries.</span></span> <span data-ttu-id="67593-265">Dokument programu i indeksu magazynu są używane magazynu hello toocalculate wykorzystanych w ramach każdej kolekcji.</span><span class="sxs-lookup"><span data-stu-id="67593-265">Both document and index storage are used toocalculate hello storage consumed by each collection.</span></span> <span data-ttu-id="67593-266">Można kontrolować hello magazynu i wydajności kompromisy skojarzone z indeksowania konfigurując hello zasady indeksowania dla kolekcji.</span><span class="sxs-lookup"><span data-stu-id="67593-266">You can control hello storage and performance trade-offs associated with indexing by configuring hello indexing policy for a collection.</span></span> 

### <a name="configuring-hello-indexing-policy-of-a-collection"></a><span data-ttu-id="67593-267">Konfigurowanie hello zasady indeksowania w kolekcji</span><span class="sxs-lookup"><span data-stu-id="67593-267">Configuring hello indexing policy of a collection</span></span>
<span data-ttu-id="67593-268">Witaj indeksowania zasad każdej kolekcji umożliwia toomake wydajności i kompromisy magazynu skojarzone z indeksowania.</span><span class="sxs-lookup"><span data-stu-id="67593-268">hello indexing policy of each collection allows you toomake performance and storage trade-offs associated with indexing.</span></span> <span data-ttu-id="67593-269">Witaj poniższe opcje są dostępne tooyou w ramach konfiguracji indeksowania:</span><span class="sxs-lookup"><span data-stu-id="67593-269">hello following options are available tooyou as part of indexing configuration:</span></span>  

* <span data-ttu-id="67593-270">Wybierz, czy kolekcja hello automatycznie indeksuje wszystkie dokumenty hello lub nie.</span><span class="sxs-lookup"><span data-stu-id="67593-270">Choose whether hello collection automatically indexes all of hello documents or not.</span></span> <span data-ttu-id="67593-271">Domyślnie wszystkie dokumenty są automatycznie indeksowane.</span><span class="sxs-lookup"><span data-stu-id="67593-271">By default, all documents are automatically indexed.</span></span> <span data-ttu-id="67593-272">Można wybrać tooturn wyłączanie automatycznego indeksowania i selektywnie dodać tylko określonych dokumentów toohello indeksu.</span><span class="sxs-lookup"><span data-stu-id="67593-272">You can choose tooturn off automatic indexing and selectively add only specific documents toohello index.</span></span> <span data-ttu-id="67593-273">Z drugiej strony selektywnie można tooexclude tylko określonych dokumentów.</span><span class="sxs-lookup"><span data-stu-id="67593-273">Conversely, you can selectively choose tooexclude only specific documents.</span></span> <span data-ttu-id="67593-274">Można to osiągnąć przez ustawienie hello toobe automatyczne właściwości wartość PRAWDA lub FAŁSZ indexingPolicy hello kolekcji i użycie nagłówka żądania hello [x-ms-indexingdirective] podczas wstawiania, zastępowanie lub usuwanie dokumentu.</span><span class="sxs-lookup"><span data-stu-id="67593-274">You can achieve this by setting hello automatic property toobe true or false on hello indexingPolicy of a collection and using hello [x-ms-indexingdirective] request header while inserting, replacing or deleting a document.</span></span>  
* <span data-ttu-id="67593-275">Wybierz, czy tooinclude lub Wyklucz określonej ścieżki lub wzorce w dokumentach z hello indeksu.</span><span class="sxs-lookup"><span data-stu-id="67593-275">Choose whether tooinclude or exclude specific paths or patterns in your documents from hello index.</span></span> <span data-ttu-id="67593-276">Można to osiągnąć przez ustawienie includedPaths i excludedPaths na powitania indexingPolicy kolekcji odpowiednio.</span><span class="sxs-lookup"><span data-stu-id="67593-276">You can achieve this by setting includedPaths and excludedPaths on hello indexingPolicy of a collection respectively.</span></span> <span data-ttu-id="67593-277">Można również skonfigurować hello magazynu i wydajności kompromisy zakresu i wyznaczania wartości skrótu zapytania dotyczące wzorców określonej ścieżki.</span><span class="sxs-lookup"><span data-stu-id="67593-277">You can also configure hello storage and performance trade-offs for range and hash queries for specific path patterns.</span></span> 
* <span data-ttu-id="67593-278">Wybór między synchroniczne (zgodne) i aktualizacje asynchroniczne indeksu (lazy).</span><span class="sxs-lookup"><span data-stu-id="67593-278">Choose between synchronous (consistent) and asynchronous (lazy) index updates.</span></span> <span data-ttu-id="67593-279">Domyślnie indeksu hello jest aktualizowana synchronicznie na każdym insert, Zamień lub Usuń kolekcję toohello dokumentu.</span><span class="sxs-lookup"><span data-stu-id="67593-279">By default, hello index is updated synchronously on each insert, replace or delete of a document toohello collection.</span></span> <span data-ttu-id="67593-280">Dzięki temu zapytania hello toohonor hello tego samego poziomu spójności co hello odczytuje dokument.</span><span class="sxs-lookup"><span data-stu-id="67593-280">This enables hello queries toohonor hello same consistency level as that of hello document reads.</span></span> <span data-ttu-id="67593-281">DB rozwiązania Cosmos jest zoptymalizowany zapisu i obsługuje woluminy utrzymujących zapisów dokumentu oraz konserwacji synchroniczne indeksu i obsługujący spójne zapytań, można skonfigurować pewne tooupdate kolekcje ich indeksu opóźnieniem.</span><span class="sxs-lookup"><span data-stu-id="67593-281">While Cosmos DB is write optimized and supports sustained volumes of document writes along with synchronous index maintenance and serving consistent queries, you can configure certain collections tooupdate their index lazily.</span></span> <span data-ttu-id="67593-282">Indeksowanie z opóźnieniem zwiększa wydajność zapisu hello dalsze i jest idealny dla scenariuszy wprowadzanie zbiorczego głównie ciężki odczytu kolekcji.</span><span class="sxs-lookup"><span data-stu-id="67593-282">Lazy indexing boosts hello write performance further and is ideal for bulk ingestion scenarios for primarily read-heavy collections.</span></span>

<span data-ttu-id="67593-283">Witaj indeksowania zasad można zmienić, wykonując PUT na powitania kolekcji.</span><span class="sxs-lookup"><span data-stu-id="67593-283">hello indexing policy can be changed by executing a PUT on hello collection.</span></span> <span data-ttu-id="67593-284">Może to być osiągnięte za pośrednictwem hello [klienta SDK](documentdb-sdk-dotnet.md), hello [Azure Portal](https://portal.azure.com) lub hello [interfejsów API REST](/rest/api/documentdb/).</span><span class="sxs-lookup"><span data-stu-id="67593-284">This can be achieved either through hello [client SDK](documentdb-sdk-dotnet.md), hello [Azure Portal](https://portal.azure.com) or hello [REST APIs](/rest/api/documentdb/).</span></span>

### <a name="querying-a-collection"></a><span data-ttu-id="67593-285">Wykonywanie zapytania kolekcji</span><span class="sxs-lookup"><span data-stu-id="67593-285">Querying a collection</span></span>
<span data-ttu-id="67593-286">Hello dokumentów w ramach kolekcji może zawierać dowolne schematów i dokumentów w kolekcji można zbadać bez podawania żadnego schematu lub wyprzedzeniem indeksów pomocniczych.</span><span class="sxs-lookup"><span data-stu-id="67593-286">hello documents within a collection can have arbitrary schemas and you can query documents within a collection without providing any schema or secondary indices upfront.</span></span> <span data-ttu-id="67593-287">Można zbadać kolekcji hello przy użyciu hello [interfejsu API Azure rozwiązania Cosmos bazy danych DocumentDB: odwołania do składni SQL](https://msdn.microsoft.com/library/azure/dn782250.aspx), zapewniające sformatowanego operatorów hierarchiczna relacyjnych i przestrzennych i rozszerzalność dzięki oparte na języku JavaScript funkcji UDF.</span><span class="sxs-lookup"><span data-stu-id="67593-287">You can query hello collection using hello [Azure Cosmos DB DocumentDB API: SQL syntax reference](https://msdn.microsoft.com/library/azure/dn782250.aspx), which provides rich hierarchical, relational, and spatial operators and extensibility via JavaScript-based UDFs.</span></span> <span data-ttu-id="67593-288">Gramatyka JSON umożliwia modelowanie dokumentów JSON jako drzewa z etykietami jako węzłami drzewa hello.</span><span class="sxs-lookup"><span data-stu-id="67593-288">JSON grammar allows for modeling JSON documents as trees with labels as hello tree nodes.</span></span> <span data-ttu-id="67593-289">To jest wykorzystywana zarówno przez techniki automatycznego indeksowania usługi DocumentDB interfejsu API, a także dialekt SQL usługi DocumentDB interfejsu API.</span><span class="sxs-lookup"><span data-stu-id="67593-289">This is exploited both by DocumentDB API’s automatic indexing techniques as well as DocumentDB API's SQL dialect.</span></span> <span data-ttu-id="67593-290">Hello język zapytania interfejsu API DocumetDB składa się z trzech głównych aspektach:</span><span class="sxs-lookup"><span data-stu-id="67593-290">hello DocumetDB API query language consists of three main aspects:</span></span>   

1. <span data-ttu-id="67593-291">Niewielki zestaw operacji zapytania, które mapy naturalnie struktury drzewa toohello tym hierarchiczna zapytania i projekcji.</span><span class="sxs-lookup"><span data-stu-id="67593-291">A small set of query operations that map naturally toohello tree structure including hierarchical queries and projections.</span></span> 
2. <span data-ttu-id="67593-292">Podzbiór relacyjne operacji, w tym kompozycji, filtr, projekcje, agreguje i self sprzężenia.</span><span class="sxs-lookup"><span data-stu-id="67593-292">A subset of relational operations including composition, filter, projections, aggregates and self joins.</span></span> 
3. <span data-ttu-id="67593-293">Czysty JavaScript na podstawie funkcji UDF, które współpracują z (1) i (2).</span><span class="sxs-lookup"><span data-stu-id="67593-293">Pure JavaScript based UDFs that work with (1) and (2).</span></span>  

<span data-ttu-id="67593-294">model zapytań DB rozwiązania Cosmos Hello prób toostrike równowagi między funkcji, wydajności i prostota.</span><span class="sxs-lookup"><span data-stu-id="67593-294">hello Cosmos DB query model attempts toostrike a balance between functionality, efficiency and simplicity.</span></span> <span data-ttu-id="67593-295">Aparat bazy danych DB rozwiązania Cosmos Hello natywnie kompiluje i wykonuje instrukcje zapytania SQL hello.</span><span class="sxs-lookup"><span data-stu-id="67593-295">hello Cosmos DB database engine natively compiles and executes hello SQL query statements.</span></span> <span data-ttu-id="67593-296">Można zbadać kolekcji przy użyciu hello [interfejsów API REST](/rest/api/documentdb/) lub hello [zestawów SDK klienta](documentdb-sdk-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="67593-296">You can query a collection using hello [REST APIs](/rest/api/documentdb/) or any of hello [client SDKs](documentdb-sdk-dotnet.md).</span></span> <span data-ttu-id="67593-297">Witaj zestawu .NET SDK jest dostarczany z dostawcy LINQ.</span><span class="sxs-lookup"><span data-stu-id="67593-297">hello .NET SDK comes with a LINQ provider.</span></span>

> [!TIP]
> <span data-ttu-id="67593-298">Można wypróbować hello interfejsu API usługi DocumentDB i wykonywania kwerend SQL do naszego zestawu danych w hello [Plac zabaw dla zapytań](https://www.documentdb.com/sql/demo).</span><span class="sxs-lookup"><span data-stu-id="67593-298">You can try out hello DocumentDB API and run SQL queries against our dataset in hello [Query Playground](https://www.documentdb.com/sql/demo).</span></span>
> 
> 

## <a name="multi-document-transactions"></a><span data-ttu-id="67593-299">Transakcji wielu dokumentów</span><span class="sxs-lookup"><span data-stu-id="67593-299">Multi-document transactions</span></span>
<span data-ttu-id="67593-300">Transakcji bazy danych Podaj bezpieczne i przewidywalne model programowania dotyczące postępowania z danymi toohello równoczesnych zmian.</span><span class="sxs-lookup"><span data-stu-id="67593-300">Database transactions provide a safe and predictable programming model for dealing with concurrent changes toohello data.</span></span> <span data-ttu-id="67593-301">W RDBMS, logika biznesowa toowrite tradycyjny sposób hello jest toowrite **procedur składowanych** i/lub **wyzwalaczy** i wysłać go toohello serwer bazy danych dla transakcyjnego wykonywania.</span><span class="sxs-lookup"><span data-stu-id="67593-301">In RDBMS, hello traditional way toowrite business logic is toowrite **stored-procedures** and/or **triggers** and ship it toohello database server for transactional execution.</span></span> <span data-ttu-id="67593-302">W RDBMS programisty aplikacji hello jest wymagana toodeal z dwóch różnych języków programowania:</span><span class="sxs-lookup"><span data-stu-id="67593-302">In RDBMS, hello application programmer is required toodeal with two disparate programming languages:</span></span> 

* <span data-ttu-id="67593-303">język programowania aplikacji Hello (nietransakcyjnej) (JavaScript, Python, C#, Java, itp.)</span><span class="sxs-lookup"><span data-stu-id="67593-303">hello (non-transactional) application programming language (e.g. JavaScript, Python, C#, Java, etc.)</span></span>
* <span data-ttu-id="67593-304">T-SQL, hello transakcyjne język programowania, który natywnie jest wykonywana przez hello bazy danych</span><span class="sxs-lookup"><span data-stu-id="67593-304">T-SQL, hello transactional programming language which is natively executed by hello database</span></span>

<span data-ttu-id="67593-305">Ze względu na tooJavaScript głębokie zaangażowanie i JSON bezpośrednio wewnątrz aparatu bazy danych hello DB rozwiązania Cosmos zapewnia intuicyjny model programowania JavaScript wykonywanie logiki aplikacji bezpośrednio na podstawie hello kolekcji pod względem procedur składowanych i Wyzwalacze.</span><span class="sxs-lookup"><span data-stu-id="67593-305">By virtue of its deep commitment tooJavaScript and JSON directly within hello database engine, Cosmos DB provides an intuitive programming model for executing JavaScript based application logic directly on hello collections in terms of stored procedures and triggers.</span></span> <span data-ttu-id="67593-306">Dzięki temu zarówno hello następujące:</span><span class="sxs-lookup"><span data-stu-id="67593-306">This allows for both of hello following:</span></span>

* <span data-ttu-id="67593-307">Efektywne wykonanie współbieżności kontrolować odzyskiwania automatycznego indeksowania wykresów obiektów JSON hello bezpośrednio w aparacie bazy danych hello</span><span class="sxs-lookup"><span data-stu-id="67593-307">Efficient implementation of concurrency control, recovery, automatic indexing of hello JSON object graphs directly in hello database engine</span></span>
* <span data-ttu-id="67593-308">Oczywiście wyrażanie przepływu sterowania, zmiennej zakresu przypisania i integracji z transakcji bazy danych bezpośrednio pod względem język programowania hello JavaScript w nim elementów podstawowych obsługi wyjątków</span><span class="sxs-lookup"><span data-stu-id="67593-308">Naturally expressing control flow, variable scoping, assignment and integration of exception handling primitives with database transactions directly in terms of hello JavaScript programming language</span></span>

<span data-ttu-id="67593-309">logiki JavaScript Hello zarejestrowany na poziomie kolekcji można następnie wystawiania operacje bazy danych na dokumentach hello hello podane kolekcji.</span><span class="sxs-lookup"><span data-stu-id="67593-309">hello JavaScript logic registered at a collection level can then issue database operations on hello documents of hello given collection.</span></span> <span data-ttu-id="67593-310">Rozwiązania cosmos DB niejawnie powitalne zawija oparte na języku JavaScript, procedury składowane i wyzwalacze w ramach transakcje ACID otoczenia, z użyciem izolacji migawki między dokumentów w kolekcji.</span><span class="sxs-lookup"><span data-stu-id="67593-310">Cosmos DB implicitly wraps hello JavaScript based stored procedures and triggers within an ambient ACID transactions with snapshot isolation across documents within a collection.</span></span> <span data-ttu-id="67593-311">W trakcie hello jego wykonywania Jeśli powitalne JavaScript zgłasza wyjątek, następnie hello cała transakcja została przerwana.</span><span class="sxs-lookup"><span data-stu-id="67593-311">During hello course of its execution, if hello JavaScript throws an exception, then hello entire transaction is aborted.</span></span> <span data-ttu-id="67593-312">Witaj modelu programowania wynikowego jest bardzo prosty jeszcze zaawansowanych.</span><span class="sxs-lookup"><span data-stu-id="67593-312">hello resulting programming model is a very simple yet powerful.</span></span> <span data-ttu-id="67593-313">Deweloperzy JavaScript Pobierz model programowania "trwałe" podczas nadal przy użyciu konstrukcji języka znanych i biblioteki w nim elementów podstawowych.</span><span class="sxs-lookup"><span data-stu-id="67593-313">JavaScript developers get a “durable” programming model while still using their familiar language constructs and library primitives.</span></span>   

<span data-ttu-id="67593-314">Hello możliwości tooexecute JavaScript bezpośrednio w bazie danych hello aparat w hello sam przestrzeni adresów zgodnie z puli buforów hello umożliwia wydajności i transakcyjnego wykonywania operacji bazy danych względem dokumentów hello kolekcji.</span><span class="sxs-lookup"><span data-stu-id="67593-314">hello ability tooexecute JavaScript directly within hello database engine in hello same address space as hello buffer pool enables performant and transactional execution of database operations against hello documents of a collection.</span></span> <span data-ttu-id="67593-315">Ponadto aparat bazy danych DB rozwiązania Cosmos ułatwia toohello głębokie zaangażowanie JSON i JavaScript eliminuje wszelkie niezgodność impedancji hello systemów typu aplikacji i hello bazy danych.</span><span class="sxs-lookup"><span data-stu-id="67593-315">Furthermore, Cosmos DB database engine makes a deep commitment toohello JSON and JavaScript eliminates any impedance mismatch between hello type systems of application and hello database.</span></span>   

<span data-ttu-id="67593-316">Po utworzeniu kolekcji, możesz zarejestrować procedur składowanych, wyzwalaczy i funkcji UDF z kolekcji przy użyciu hello [interfejsów API REST](/rest/api/documentdb/) lub hello [zestawów SDK klienta](documentdb-sdk-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="67593-316">After creating a collection, you can register stored procedures, triggers and UDFs with a collection using hello [REST APIs](/rest/api/documentdb/) or any of hello [client SDKs](documentdb-sdk-dotnet.md).</span></span> <span data-ttu-id="67593-317">Po rejestracji można odwoływać się i ich wykonanie.</span><span class="sxs-lookup"><span data-stu-id="67593-317">After registration, you can reference and execute them.</span></span> <span data-ttu-id="67593-318">Należy wziąć pod uwagę następujące hello zapisywane w całości w języku JavaScript, poniższy kod hello przyjmuje dwa argumenty (Nazwa książki i nazwisko autora) procedury składowanej i tworzy nowy dokument, wysyła zapytanie do dokumentu i następnie aktualizuje go — wszystko w ramach transakcji ACID niejawnej.</span><span class="sxs-lookup"><span data-stu-id="67593-318">Consider hello following stored procedure written entirely in JavaScript, hello code below takes two arguments (book name and author name) and creates a new document, queries for a document and then updates it – all within an implicit ACID transaction.</span></span> <span data-ttu-id="67593-319">W dowolnym momencie podczas wykonywania hello, jeśli zgłoszono wyjątek JavaScript, hello cała transakcja jest przerywana.</span><span class="sxs-lookup"><span data-stu-id="67593-319">At any point during hello execution, if a JavaScript exception is thrown, hello entire transaction aborts.</span></span>

    function businessLogic(name, author) {
        var context = getContext();
        var collectionManager = context.getCollection();        
        var collectionLink = collectionManager.getSelfLink()

        // create a new document.
        collectionManager.createDocument(collectionLink,
            {id: name, author: author},
            function(err, documentCreated) {
                if(err) throw new Error(err.message);

                // filter documents by author
                var filterQuery = "SELECT * from root r WHERE r.author = 'George R.'";
                collectionManager.queryDocuments(collectionLink,
                    filterQuery,
                    function(err, matchingDocuments) {
                        if(err) throw new Error(err.message);

                        context.getResponse().setBody(matchingDocuments.length);

                        // Replace hello author name for all documents that satisfied hello query.
                        for (var i = 0; i < matchingDocuments.length; i++) {
                            matchingDocuments[i].author = "George R. R. Martin";
                            // we don’t need tooexecute a callback because they are in parallel
                            collectionManager.replaceDocument(matchingDocuments[i]._self,
                                matchingDocuments[i]);   
                        }
                    })
            })
    };

<span data-ttu-id="67593-320">powitania klienta można "wysłać" hello powyżej bazy danych toohello logiki JavaScript potrzeby transakcyjnego wykonywania za pośrednictwem protokołu HTTP POST.</span><span class="sxs-lookup"><span data-stu-id="67593-320">hello client can “ship” hello above JavaScript logic toohello database for transactional execution via HTTP POST.</span></span> <span data-ttu-id="67593-321">Aby uzyskać więcej informacji o korzystaniu z metody HTTP, zobacz [RESTful interakcji z zasobami Azure DB rozwiązania Cosmos](https://msdn.microsoft.com/library/azure/mt622086.aspx).</span><span class="sxs-lookup"><span data-stu-id="67593-321">For more information about using HTTP methods, see [RESTful interactions with Azure Cosmos DB resources](https://msdn.microsoft.com/library/azure/mt622086.aspx).</span></span> 

    client.createStoredProcedureAsync(collection._self, {id: "CRUDProc", body: businessLogic})
       .then(function(createdStoredProcedure) {
            return client.executeStoredProcedureAsync(createdStoredProcedure.resource._self,
                "NoSQL Distilled",
                "Martin Fowler");
        })
        .then(function(result) {
            console.log(result);
        },
        function(error) {
            console.log(error);
        });


<span data-ttu-id="67593-322">Należy zauważyć, że ponieważ hello bazy danych natywnie obsługuje usługę JSON oraz języka JavaScript, nie jest nie niezgodność typów w systemie, "OR mapowania" ani wymagane magic generowania kodu.</span><span class="sxs-lookup"><span data-stu-id="67593-322">Notice that because hello database natively understands JSON and JavaScript, there is no type system mismatch, no “OR mapping” or code generation magic required.</span></span>   

<span data-ttu-id="67593-323">Procedury składowane i wyzwalaczy współdziałają z kolekcji i hello dokumentów w kolekcji za pomocą modelu dobrze zdefiniowanego obiektu, który udostępnia hello bieżącego kontekstu kolekcji.</span><span class="sxs-lookup"><span data-stu-id="67593-323">Stored procedures and triggers interact with a collection and hello documents in a collection through a well-defined object model, which exposes hello current collection context.</span></span>  

<span data-ttu-id="67593-324">Kolekcje w hello interfejsu API usługi DocumentDB można utworzyć, usunąć, odczytać lub wyliczyć za pomocą obu hello [interfejsów API REST](/rest/api/documentdb/) lub hello [zestawów SDK klienta](documentdb-sdk-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="67593-324">Collections in hello DocumentDB API can be created, deleted, read or enumerated easily using either hello [REST APIs](/rest/api/documentdb/) or any of hello [client SDKs](documentdb-sdk-dotnet.md).</span></span> <span data-ttu-id="67593-325">zawsze Hello interfejsu API usługi DocumentDB zapewnia wysoki poziom spójności odczytu lub zapytanie dotyczące metadanych hello kolekcji.</span><span class="sxs-lookup"><span data-stu-id="67593-325">hello DocumentDB API always provides strong consistency for reading or querying hello metadata of a collection.</span></span> <span data-ttu-id="67593-326">Usuwanie kolekcji automatycznie gwarantuje, że nie masz dostępu do tych dokumentów hello, załączniki, procedur składowanych, wyzwalaczy i funkcji UDF w nim zawarte.</span><span class="sxs-lookup"><span data-stu-id="67593-326">Deleting a collection automatically ensures that you cannot access any of hello documents, attachments, stored procedures, triggers, and UDFs contained within it.</span></span>   

## <a name="stored-procedures-triggers-and-user-defined-functions-udf"></a><span data-ttu-id="67593-327">Procedur składowanych, wyzwalaczy i funkcji zdefiniowanych użytkownika (UDF)</span><span class="sxs-lookup"><span data-stu-id="67593-327">Stored procedures, triggers and User Defined Functions (UDF)</span></span>
<span data-ttu-id="67593-328">Zgodnie z opisem w poprzedniej sekcji hello, można napisać aplikację logiki toorun bezpośrednio z poziomu transakcji wewnątrz hello aparatu bazy danych.</span><span class="sxs-lookup"><span data-stu-id="67593-328">As described in hello previous section, you can write application logic toorun directly within a transaction inside of hello database engine.</span></span> <span data-ttu-id="67593-329">logiki aplikacji Hello mogą być zapisywane w całości w języku JavaScript i mogą być modelowane jako procedury przechowywanej, wyzwalacza lub funkcji zdefiniowanej przez użytkownika.</span><span class="sxs-lookup"><span data-stu-id="67593-329">hello application logic can be written entirely in JavaScript and can be modeled as a stored procedure, trigger or a UDF.</span></span> <span data-ttu-id="67593-330">Hello kodu JavaScript w ramach procedury składowanej lub wyzwalacza można wstawić, Zastąp, usuwanie, Odczyt lub zapytania dokumentów w kolekcji.</span><span class="sxs-lookup"><span data-stu-id="67593-330">hello JavaScript code within a stored procedure or a trigger can insert, replace, delete, read or query documents within a collection.</span></span> <span data-ttu-id="67593-331">Na hello drugiej strony, hello JavaScript w funkcji zdefiniowanej przez użytkownika nie może wstawić, Zamień lub usuwanie dokumentów.</span><span class="sxs-lookup"><span data-stu-id="67593-331">On hello other hand, hello JavaScript within a UDF cannot insert, replace, or delete documents.</span></span> <span data-ttu-id="67593-332">Funkcje UDF wyliczyć hello dokumentów zestawu wyników zapytania i utworzyć inny zestaw wyników.</span><span class="sxs-lookup"><span data-stu-id="67593-332">UDFs enumerate hello documents of a query's result set and produce another result set.</span></span> <span data-ttu-id="67593-333">Dla wielu dzierżawców DB rozwiązania Cosmos wymusza ładu zasobów strict rezerwacji na podstawie.</span><span class="sxs-lookup"><span data-stu-id="67593-333">For multi-tenancy, Cosmos DB enforces a strict reservation based resource governance.</span></span> <span data-ttu-id="67593-334">Każdy przechowywane procedury, wyzwalacza lub UDF pobiera quantum stałego elementu toodo zasoby systemu operacyjnego swojej pracy.</span><span class="sxs-lookup"><span data-stu-id="67593-334">Each stored procedure, trigger or a UDF gets a fixed quantum of operating system resources toodo its work.</span></span> <span data-ttu-id="67593-335">Ponadto procedur składowanych, wyzwalaczy i funkcji UDF nie można połączyć z zewnętrznej biblioteki języka JavaScript i traktowane są jako zabronione przekraczających hello budżetów zasobów przydzielonych toothem.</span><span class="sxs-lookup"><span data-stu-id="67593-335">Furthermore, stored procedures, triggers or UDFs cannot link against external JavaScript libraries and are blacklisted if they exceed hello resource budgets allocated toothem.</span></span> <span data-ttu-id="67593-336">Można zarejestrować, wyrejestruj procedur składowanych, wyzwalaczy i funkcji UDF z kolekcji przy użyciu hello interfejsów API REST.</span><span class="sxs-lookup"><span data-stu-id="67593-336">You can register, unregister stored procedures, triggers or UDFs with a collection by using hello REST APIs.</span></span>  <span data-ttu-id="67593-337">Po rejestracji procedury przechowywanej, wyzwalacza lub funkcji zdefiniowanej przez użytkownika jest wstępnie skompilowany i przechowywane jako kod bajtowy, który jest wykonywany później.</span><span class="sxs-lookup"><span data-stu-id="67593-337">Upon registration a stored procedure, trigger, or a UDF is pre-compiled and stored as byte code which gets executed later.</span></span> <span data-ttu-id="67593-338">powitania po sekcji pokazują, jak można użyć tooregister rozwiązania Cosmos DB JavaScript SDK hello, wykonanie i wyrejestrować procedury składowanej, wyzwalaczy i funkcji zdefiniowanej przez użytkownika.</span><span class="sxs-lookup"><span data-stu-id="67593-338">hello following section illustrate how you can use hello Cosmos DB JavaScript SDK tooregister, execute, and unregister a stored procedure, trigger, and a UDF.</span></span> <span data-ttu-id="67593-339">proste otoki Hello JavaScript SDK znajduje się nad hello [interfejsów API REST](/rest/api/documentdb/).</span><span class="sxs-lookup"><span data-stu-id="67593-339">hello JavaScript SDK is a simple wrapper over hello [REST APIs](/rest/api/documentdb/).</span></span> 

### <a name="registering-a-stored-procedure"></a><span data-ttu-id="67593-340">Rejestrowanie procedury składowanej</span><span class="sxs-lookup"><span data-stu-id="67593-340">Registering a stored procedure</span></span>
<span data-ttu-id="67593-341">Rejestracja procedury składowanej tworzy nowy zasób procedury składowanej w kolekcji za pośrednictwem protokołu HTTP POST.</span><span class="sxs-lookup"><span data-stu-id="67593-341">Registration of a stored procedure creates a new stored procedure resource on a collection via HTTP POST.</span></span>  

    var storedProc = {
        id: "validateAndCreate",
        body: function (documentToCreate) {
            documentToCreate.id = documentToCreate.id.toUpperCase();

            var collectionManager = getContext().getCollection();
            collectionManager.createDocument(collectionManager.getSelfLink(),
                documentToCreate,
                function(err, documentCreated) {
                    if(err) throw new Error('Error while creating document: ' + err.message;
                    getContext().getResponse().setBody('success - created ' + 
                            documentCreated.name);
                });
        }
    };

    client.createStoredProcedureAsync(collection._self, storedProc)
        .then(function (createdStoredProcedure) {
            console.log("Successfully created stored procedure");
        }, function(error) {
            console.log("Error");
        });

### <a name="executing-a-stored-procedure"></a><span data-ttu-id="67593-342">Wykonywanie procedury przechowywanej</span><span class="sxs-lookup"><span data-stu-id="67593-342">Executing a stored procedure</span></span>
<span data-ttu-id="67593-343">Wysyłając HTTP POST z istniejącego zasobu procedury składowanej przez przekazywanie parametrów procedury toohello w treści żądania hello odbywa się wykonywania procedury składowanej.</span><span class="sxs-lookup"><span data-stu-id="67593-343">Execution of a stored procedure is done by issuing an HTTP POST against an existing stored procedure resource by passing parameters toohello procedure in hello request body.</span></span>

    var inputDocument = {id : "document1", author: "G. G. Marquez"};
    client.executeStoredProcedureAsync(createdStoredProcedure.resource._self, inputDocument)
        .then(function(executionResult) {
            assert.equal(executionResult, "success - created DOCUMENT1");
        }, function(error) {
            console.log("Error");
        });

### <a name="unregistering-a-stored-procedure"></a><span data-ttu-id="67593-344">Wyrejestrowywanie procedury składowanej</span><span class="sxs-lookup"><span data-stu-id="67593-344">Unregistering a stored procedure</span></span>
<span data-ttu-id="67593-345">Wyrejestrowywanie procedury składowanej po prostu odbywa się przez wystawienie HTTP DELETE przed istniejący zasób procedury składowanej.</span><span class="sxs-lookup"><span data-stu-id="67593-345">Unregistering a stored procedure is simply done by issuing an HTTP DELETE against an existing stored procedure resource.</span></span>   

    client.deleteStoredProcedureAsync(createdStoredProcedure.resource._self)
        .then(function (response) {
            return;
        }, function(error) {
            console.log("Error");
        });


### <a name="registering-a-pre-trigger"></a><span data-ttu-id="67593-346">Rejestrowanie wyzwalacz wstępnego</span><span class="sxs-lookup"><span data-stu-id="67593-346">Registering a pre-trigger</span></span>
<span data-ttu-id="67593-347">Rejestracja wyzwalacz należy utworzyć nowy zasób wyzwalacza w kolekcji za pośrednictwem protokołu HTTP POST.</span><span class="sxs-lookup"><span data-stu-id="67593-347">Registration of a trigger is done by creating a new trigger resource on a collection via HTTP POST.</span></span> <span data-ttu-id="67593-348">Można określić, jeśli wyzwalacz hello jest wstępnie lub typ wyzwalacza i hello post operacji może być skojarzony z (np. Utwórz, Replace, Delete lub wszystkie).</span><span class="sxs-lookup"><span data-stu-id="67593-348">You can specify if hello trigger is a pre or a post trigger and hello type of operation it can be associated with (e.g. Create, Replace, Delete, or All).</span></span>   

    var preTrigger = {
        id: "upperCaseId",
        body: function() {
                var item = getContext().getRequest().getBody();
                item.id = item.id.toUpperCase();
                getContext().getRequest().setBody(item);
        },
        triggerType: TriggerType.Pre,
        triggerOperation: TriggerOperation.All
    }

    client.createTriggerAsync(collection._self, preTrigger)
        .then(function (createdPreTrigger) {
            console.log("Successfully created trigger");
        }, function(error) {
            console.log("Error");
        });

### <a name="executing-a-pre-trigger"></a><span data-ttu-id="67593-349">Wykonywania wyzwalacza wstępnego</span><span class="sxs-lookup"><span data-stu-id="67593-349">Executing a pre-trigger</span></span>
<span data-ttu-id="67593-350">Wykonywania wyzwalacza odbywa się przez określenie nazwy hello istniejącego wyzwalacza w momencie hello żądania POST/PUT/usuwania hello zasobu dokumentu za pomocą hello nagłówek żądania.</span><span class="sxs-lookup"><span data-stu-id="67593-350">Execution of a trigger is done by specifying hello name of an existing trigger at hello time of issuing hello POST/PUT/DELETE request of a document resource via hello request header.</span></span>  

    client.createDocumentAsync(collection._self, { id: "doc1", key: "Love in hello Time of Cholera" }, { preTriggerInclude: "upperCaseId" })
        .then(function(createdDocument) {
            assert.equal(createdDocument.resource.id, "DOC1");
        }, function(error) {
            console.log("Error");
        });

### <a name="unregistering-a-pre-trigger"></a><span data-ttu-id="67593-351">Wyrejestrowywanie wyzwalacz wstępnego</span><span class="sxs-lookup"><span data-stu-id="67593-351">Unregistering a pre-trigger</span></span>
<span data-ttu-id="67593-352">Wyrejestrowywanie wyzwalacz po prostu odbywa się za pośrednictwem wydania HTTP DELETE przed istniejący zasób wyzwalacza.</span><span class="sxs-lookup"><span data-stu-id="67593-352">Unregistering a trigger is simply done via issuing an HTTP DELETE against an existing trigger resource.</span></span>  

    client.deleteTriggerAsync(createdPreTrigger._self);
        .then(function(response) {
            return;
        }, function(error) {
            console.log("Error");
        });

### <a name="registering-a-udf"></a><span data-ttu-id="67593-353">Rejestrowanie funkcji zdefiniowanej przez użytkownika</span><span class="sxs-lookup"><span data-stu-id="67593-353">Registering a UDF</span></span>
<span data-ttu-id="67593-354">Rejestracja funkcji zdefiniowanej przez użytkownika została wykonana przez utworzenie nowego zasobu funkcji zdefiniowanej przez użytkownika na kolekcję za pośrednictwem protokołu HTTP POST.</span><span class="sxs-lookup"><span data-stu-id="67593-354">Registration of a UDF is done by creating a new UDF resource on a collection via HTTP POST.</span></span>  

    var udf = { 
        id: "mathSqrt",
        body: function(number) {
                return Math.sqrt(number);
        },
    };
    client.createUserDefinedFunctionAsync(collection._self, udf)
        .then(function (createdUdf) {
            console.log("Successfully created stored procedure");
        }, function(error) {
            console.log("Error");
        });

### <a name="executing-a-udf-as-part-of-hello-query"></a><span data-ttu-id="67593-355">Wykonywanie UDF w ramach zapytania hello</span><span class="sxs-lookup"><span data-stu-id="67593-355">Executing a UDF as part of hello query</span></span>
<span data-ttu-id="67593-356">Funkcji zdefiniowanej przez użytkownika może być określona jako część zapytania SQL hello i jest używany jako podstawowa hello tooextend sposób [język zapytań SQL dla interfejsu API usługi DocumentDB hello](https://msdn.microsoft.com/library/azure/dn782250.aspx).</span><span class="sxs-lookup"><span data-stu-id="67593-356">A UDF can be specified as part of hello SQL query and is used as a way tooextend hello core [SQL query language for hello DocumentDB API](https://msdn.microsoft.com/library/azure/dn782250.aspx).</span></span>

    var filterQuery = "SELECT udf.mathSqrt(r.Age) AS sqrtAge FROM root r WHERE r.FirstName='John'";
    client.queryDocuments(collection._self, filterQuery).toArrayAsync();
        .then(function(queryResponse) {
            var queryResponseDocuments = queryResponse.feed;
        }, function(error) {
            console.log("Error");
        });

### <a name="unregistering-a-udf"></a><span data-ttu-id="67593-357">Wyrejestrowywanie funkcji zdefiniowanej przez użytkownika</span><span class="sxs-lookup"><span data-stu-id="67593-357">Unregistering a UDF</span></span>
<span data-ttu-id="67593-358">Wyrejestrowywanie UDF po prostu odbywa się przez wystawienie HTTP DELETE przed istniejący zasób funkcji zdefiniowanej przez użytkownika.</span><span class="sxs-lookup"><span data-stu-id="67593-358">Unregistering a UDF is simply done by issuing an HTTP DELETE against an existing UDF resource.</span></span>  

    client.deleteUserDefinedFunctionAsync(createdUdf._self)
        .then(function(response) {
            return;
        }, function(error) {
            console.log("Error");
        });

<span data-ttu-id="67593-359">Mimo że wstawki hello powyżej wykazało hello rejestracji (POST), Wyrejestrowanie (PUT), odczytu/listy (GET) i wykonywania (POST) przy użyciu hello [JavaScript SDK](https://github.com/Azure/azure-documentdb-js), można również użyć hello [interfejsów API REST](/rest/api/documentdb/) lub innych [zestawów SDK klienta](documentdb-sdk-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="67593-359">Although hello snippets above showed hello registration (POST), unregistration (PUT), read/list (GET) and execution (POST) via hello [JavaScript SDK](https://github.com/Azure/azure-documentdb-js), you can also use hello [REST APIs](/rest/api/documentdb/) or other [client SDKs](documentdb-sdk-dotnet.md).</span></span> 

## <a name="documents"></a><span data-ttu-id="67593-360">Dokumenty</span><span class="sxs-lookup"><span data-stu-id="67593-360">Documents</span></span>
<span data-ttu-id="67593-361">Możesz wstawić, Zastąp, usunąć, odczytu, wyliczenia i zapytania dowolnych dokumentów JSON w kolekcji.</span><span class="sxs-lookup"><span data-stu-id="67593-361">You can insert, replace, delete, read, enumerate and query arbitrary JSON documents in a collection.</span></span> <span data-ttu-id="67593-362">Rozwiązania cosmos DB nie wprowadzić żadnego schematu i nie wymaga indeksów pomocniczych w kolejności toosupport obsługę zapytań dokumentów w kolekcji.</span><span class="sxs-lookup"><span data-stu-id="67593-362">Cosmos DB does not mandate any schema and does not require secondary indexes in order toosupport querying over documents in a collection.</span></span> <span data-ttu-id="67593-363">Maksymalny rozmiar dokumentu Hello jest 2 MB.</span><span class="sxs-lookup"><span data-stu-id="67593-363">hello maximum size for a document is 2 MB.</span></span>   

<span data-ttu-id="67593-364">Trwa usługi naprawdę otwartej bazy danych, DB rozwiązania Cosmos nie magazynowa wszystkie typy danych specjalne (np. godzina) lub określonego kodowania dla dokumentów JSON.</span><span class="sxs-lookup"><span data-stu-id="67593-364">Being a truly open database service, Cosmos DB does not invent any specialized data types (e.g. date time) or specific encodings for JSON documents.</span></span> <span data-ttu-id="67593-365">Należy pamiętać, że rozwiązania Cosmos bazy danych nie wymaga żadnych specjalnych JSON konwencje toocodify hello relacje między różnymi dokumentami; Składnia SQL Hello DB rozwiązania Cosmos zapewnia bardzo zaawansowane zapytania hierarchicznej i relacyjne operatory dokumentów tooquery i projektu bez potrzeby toocodify relacje dokumentów za pomocą właściwości wyróżniającej lub specjalne adnotacje.</span><span class="sxs-lookup"><span data-stu-id="67593-365">Note that Cosmos DB does not require any special JSON conventions toocodify hello relationships among various documents; hello SQL syntax of Cosmos DB provides very powerful hierarchical and relational query operators tooquery and project documents without any special annotations or need toocodify relationships among documents using distinguished properties.</span></span>  

<span data-ttu-id="67593-366">Zgodnie ze wszystkimi innymi zasobami można tworzyć dokumenty, zastąpione, usunięte, odczytu, wyliczyć i wyświetlić łatwo przy użyciu interfejsów API REST lub dowolnego hello [zestawów SDK klienta](documentdb-sdk-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="67593-366">As with all other resources, documents can be created, replaced, deleted, read, enumerated and queried easily using either REST APIs or any of hello [client SDKs](documentdb-sdk-dotnet.md).</span></span> <span data-ttu-id="67593-367">Usuwanie dokumentu natychmiast zwolni tooall odpowiedni limit przydziału hello załączników hello zagnieżdżone.</span><span class="sxs-lookup"><span data-stu-id="67593-367">Deleting a document instantly frees up hello quota corresponding tooall of hello nested attachments.</span></span> <span data-ttu-id="67593-368">Witaj odczytu poziomu spójności dokumentów następuje hello spójności zasad na powitania konta bazy danych.</span><span class="sxs-lookup"><span data-stu-id="67593-368">hello read consistency level of documents follows hello consistency policy on hello database account.</span></span> <span data-ttu-id="67593-369">Ta zasada może być zastąpiona na podstawie danego żądania, w zależności od wymagań spójności danych aplikacji.</span><span class="sxs-lookup"><span data-stu-id="67593-369">This policy can be overridden on a per-request basis depending on data consistency requirements of your application.</span></span> <span data-ttu-id="67593-370">Podczas wykonywania zapytań dotyczących dokumentów, hello odczytać hello następujące spójności indeksowania w trybie na powitania kolekcji.</span><span class="sxs-lookup"><span data-stu-id="67593-370">When querying documents, hello read consistency follows hello indexing mode set on hello collection.</span></span> <span data-ttu-id="67593-371">Dla "spójne" wynika to konto hello spójności zasad.</span><span class="sxs-lookup"><span data-stu-id="67593-371">For “consistent”, this follows hello account’s consistency policy.</span></span> 

## <a name="attachments-and-media"></a><span data-ttu-id="67593-372">Załączników i nośników</span><span class="sxs-lookup"><span data-stu-id="67593-372">Attachments and media</span></span>
<span data-ttu-id="67593-373">Rozwiązania cosmos DB umożliwia toostore binarne obiekty BLOB/nośnika z rozwiązania Cosmos bazy danych (maksymalnie 2 GB na konto) lub tooyour własnych nośnika zdalnego magazynu.</span><span class="sxs-lookup"><span data-stu-id="67593-373">Cosmos DB allows you toostore binary blobs/media either with Cosmos DB (maximum of 2 GB per account) or tooyour own remote media store.</span></span> <span data-ttu-id="67593-374">Można też metadanych hello toorepresent nośnika pod względem specjalny dokument o nazwie załącznika.</span><span class="sxs-lookup"><span data-stu-id="67593-374">It also allows you toorepresent hello metadata of a media in terms of a special document called attachment.</span></span> <span data-ttu-id="67593-375">Załącznik DB rozwiązania Cosmos jest specjalne dokument (JSON), który odwołuje się do hello media/obiektów blob przechowywane w innym miejscu.</span><span class="sxs-lookup"><span data-stu-id="67593-375">An attachment in Cosmos DB is a special (JSON) document that references hello media/blob stored elsewhere.</span></span> <span data-ttu-id="67593-376">Załącznik jest po prostu specjalny dokument, który przechwytuje hello metadanych (np. Lokalizacja, autora itp.) przechowywanych w magazynie zdalnym nośnika nośników.</span><span class="sxs-lookup"><span data-stu-id="67593-376">An attachment is simply a special document that captures hello metadata (e.g. location, author etc.) of a media stored in a remote media storage.</span></span> 

<span data-ttu-id="67593-377">Należy wziąć pod uwagę aplikacji odczytu społecznościowych, której używa DB rozwiązania Cosmos toostore odręcznego i metadanych, w tym komentarzy, wyróżnia, zakładki, klasyfikacje, podobne/dislikes itp., skojarzony e-book danego użytkownika.</span><span class="sxs-lookup"><span data-stu-id="67593-377">Consider a social reading application which uses Cosmos DB toostore ink annotations, and metadata including comments, highlights, bookmarks, ratings, likes/dislikes etc. associated for an e-book of a given user.</span></span>   

* <span data-ttu-id="67593-378">Witaj zawartość książki hello, sam jest przechowywana w hello nośnika magazynowania albo dostępne jako część konta bazy danych DB rozwiązania Cosmos lub magazynu zdalnego nośnika.</span><span class="sxs-lookup"><span data-stu-id="67593-378">hello content of hello book itself is stored in hello media storage either available as part of Cosmos DB database account or a remote media store.</span></span> 
* <span data-ttu-id="67593-379">Aplikacja może przechowywać metadanych każdego użytkownika jako odrębne dokument — np. metadane Jana Skoroszyt1 są przechowywane w dokumencie odwołuje się /colls/joe/docs/book1.</span><span class="sxs-lookup"><span data-stu-id="67593-379">An application may store each user’s metadata as a distinct document -- e.g. Joe’s metadata for book1 is stored in a document referenced by /colls/joe/docs/book1.</span></span> 
* <span data-ttu-id="67593-380">Załączniki wskazanie toohello strony z zawartością podręcznika danego użytkownika są przechowywane w hello odpowiedni dokument, np. /colls/joe/docs/book1/chapter1 /colls/joe/docs/book1/chapter2 itp.</span><span class="sxs-lookup"><span data-stu-id="67593-380">Attachments pointing toohello content pages of a given book of a user are stored under hello corresponding document e.g. /colls/joe/docs/book1/chapter1, /colls/joe/docs/book1/chapter2 etc.</span></span> 

<span data-ttu-id="67593-381">Należy pamiętać, że powyższe przykłady hello Użyj hierarchii zasobów hello tooconvey przyjaznej nazwy.</span><span class="sxs-lookup"><span data-stu-id="67593-381">Note that hello examples listed above use friendly ids tooconvey hello resource hierarchy.</span></span> <span data-ttu-id="67593-382">Zasoby są dostępne za pośrednictwem hello interfejsów API REST za pośrednictwem zasobów unikatowych identyfikatorów.</span><span class="sxs-lookup"><span data-stu-id="67593-382">Resources are accessed via hello REST APIs through unique resource ids.</span></span> 

<span data-ttu-id="67593-383">Hello nośników, który jest zarządzany przez DB rozwiązania Cosmos właściwość _media hello załącznika hello będzie odwoływać się do nośnika hello przez jego identyfikator URI.</span><span class="sxs-lookup"><span data-stu-id="67593-383">For hello media that is managed by Cosmos DB, hello _media property of hello attachment will reference hello media by its URI.</span></span> <span data-ttu-id="67593-384">Rozwiązania cosmos DB zapewni toogarbage zbieranie hello nośnika podczas wszystkich oczekujących odwołań hello są usuwane.</span><span class="sxs-lookup"><span data-stu-id="67593-384">Cosmos DB will ensure toogarbage collect hello media when all of hello outstanding references are dropped.</span></span> <span data-ttu-id="67593-385">Rozwiązania cosmos DB automatycznie generuje hello załącznika podczas przekazywania hello nowego nośnika i wypełnienie hello _media toopoint toohello nowo dodanego nośnika.</span><span class="sxs-lookup"><span data-stu-id="67593-385">Cosmos DB automatically generates hello attachment when you upload hello new media and populates hello _media toopoint toohello newly added media.</span></span> <span data-ttu-id="67593-386">Jeśli toostore hello nośnika w magazynie obiektów blob zdalnego zarządzany przez użytkownika (np. OneDrive, usługi Azure Storage, DropBox itp.), można nadal używać nośnika hello tooreference załączników.</span><span class="sxs-lookup"><span data-stu-id="67593-386">If you choose toostore hello media in a remote blob store managed by you (e.g. OneDrive, Azure Storage, DropBox etc), you can still use attachments tooreference hello media.</span></span> <span data-ttu-id="67593-387">W takim przypadku utworzysz załącznika hello samodzielnie i wypełnić jego właściwość _media.</span><span class="sxs-lookup"><span data-stu-id="67593-387">In this case, you will create hello attachment yourself and populate its _media property.</span></span>   

<span data-ttu-id="67593-388">Podobnie jak w przypadku innych zasobów załączniki mogą być tworzone, zastąpione, usunięty, odczytać lub wyliczyć za pomocą interfejsów API REST lub w dowolnej z zestawów SDK powitania klienta.</span><span class="sxs-lookup"><span data-stu-id="67593-388">As with all other resources, attachments can be created, replaced, deleted, read or enumerated easily using either REST APIs or any of hello client SDKs.</span></span> <span data-ttu-id="67593-389">Z dokumentami, poziomu spójności załączników w trybie odczytu hello następuje hello spójności zasad na powitania konta bazy danych.</span><span class="sxs-lookup"><span data-stu-id="67593-389">As with documents, hello read consistency level of attachments follows hello consistency policy on hello database account.</span></span> <span data-ttu-id="67593-390">Ta zasada może być zastąpiona na podstawie danego żądania, w zależności od wymagań spójności danych aplikacji.</span><span class="sxs-lookup"><span data-stu-id="67593-390">This policy can be overridden on a per-request basis depending on data consistency requirements of your application.</span></span> <span data-ttu-id="67593-391">Podczas wykonywania zapytania dla załączników, hello odczytać hello następujące spójności indeksowania w trybie na powitania kolekcji.</span><span class="sxs-lookup"><span data-stu-id="67593-391">When querying for attachments, hello read consistency follows hello indexing mode set on hello collection.</span></span> <span data-ttu-id="67593-392">Dla "spójne" wynika to konto hello spójności zasad.</span><span class="sxs-lookup"><span data-stu-id="67593-392">For “consistent”, this follows hello account’s consistency policy.</span></span> 
 

## <a name="users"></a><span data-ttu-id="67593-393">Użytkownicy</span><span class="sxs-lookup"><span data-stu-id="67593-393">Users</span></span>
<span data-ttu-id="67593-394">Użytkownik DB rozwiązania Cosmos reprezentuje logiczny obszar nazw, do grupowania uprawnień.</span><span class="sxs-lookup"><span data-stu-id="67593-394">A Cosmos DB user represents a logical namespace for grouping permissions.</span></span> <span data-ttu-id="67593-395">Użytkownik bazy danych rozwiązania Cosmos mogą odpowiadać tooa użytkownika w systemie zarządzania tożsamości lub ról wstępnie zdefiniowanych aplikacji.</span><span class="sxs-lookup"><span data-stu-id="67593-395">A Cosmos DB user may correspond tooa user in an identity management system or a predefined application role.</span></span> <span data-ttu-id="67593-396">Rozwiązania Cosmos bazy danych użytkownik po prostu reprezentuje toogroup abstrakcji zestaw uprawnień w bazie danych.</span><span class="sxs-lookup"><span data-stu-id="67593-396">For Cosmos DB, a user simply represents an abstraction toogroup a set of permissions under a database.</span></span>   

<span data-ttu-id="67593-397">Wykonywania wielu dzierżawców w aplikacji, można utworzyć użytkowników w bazie danych rozwiązania Cosmos, co odpowiada tooyour rzeczywistych użytkowników lub aplikacji hello dzierżawami.</span><span class="sxs-lookup"><span data-stu-id="67593-397">For implementing multi-tenancy in your application, you can create users in Cosmos DB which corresponds tooyour actual users or hello tenants of your application.</span></span> <span data-ttu-id="67593-398">Następnie można utworzyć uprawnienia dla danego użytkownika, które odpowiadają toohello kontroli dostępu w różnych kolekcjach dokumentów, załączniki, itp.</span><span class="sxs-lookup"><span data-stu-id="67593-398">You can then create permissions for a given user that correspond toohello access control over various collections, documents, attachments, etc.</span></span>   

<span data-ttu-id="67593-399">Jak aplikacje, muszą tooscale z rozwojem użytkownika, można przyjąć różne sposoby tooshard danych.</span><span class="sxs-lookup"><span data-stu-id="67593-399">As your applications need tooscale with your user growth, you can adopt various ways tooshard your data.</span></span> <span data-ttu-id="67593-400">Każdy z użytkowników może modelu w następujący sposób:</span><span class="sxs-lookup"><span data-stu-id="67593-400">You can model each of your users as follows:</span></span>   

* <span data-ttu-id="67593-401">Każdy użytkownik mapuje tooa bazy danych.</span><span class="sxs-lookup"><span data-stu-id="67593-401">Each user maps tooa database.</span></span>
* <span data-ttu-id="67593-402">Każdy użytkownik mapuje tooa kolekcji.</span><span class="sxs-lookup"><span data-stu-id="67593-402">Each user maps tooa collection.</span></span> 
* <span data-ttu-id="67593-403">Dokumenty odpowiadającego toomultiple użytkowników przejdź kolekcji tooa w wersji dedykowanej.</span><span class="sxs-lookup"><span data-stu-id="67593-403">Documents corresponding toomultiple users go tooa dedicated collection.</span></span> 
* <span data-ttu-id="67593-404">Dokumenty odpowiadającego toomultiple użytkowników przejdź tooa zestaw kolekcji.</span><span class="sxs-lookup"><span data-stu-id="67593-404">Documents corresponding toomultiple users go tooa set of collections.</span></span>   

<span data-ttu-id="67593-405">Niezależnie od strategii dzielenia na fragmenty określonych hello wybrane można modelu rzeczywistych użytkowników jako użytkowników w bazie danych DB rozwiązania Cosmos i skojarzyć użytkownika tooeach uprawnień szczegółowych.</span><span class="sxs-lookup"><span data-stu-id="67593-405">Regardless of hello specific sharding strategy you choose, you can model your actual users as users in Cosmos DB database and associate fine grained permissions tooeach user.</span></span>  

<span data-ttu-id="67593-406">![Kolekcje użytkowników][3]</span><span class="sxs-lookup"><span data-stu-id="67593-406">![User collections][3]</span></span>  
<span data-ttu-id="67593-407">**Strategii dzielenia na fragmenty i modelowania użytkowników**</span><span class="sxs-lookup"><span data-stu-id="67593-407">**Sharding strategies and modeling users**</span></span>

<span data-ttu-id="67593-408">Podobnie jak wszystkie inne zasoby użytkowników do rozwiązania Cosmos bazy danych można tworzyć, zastąpione, usunięty, odczytać lub wyliczyć za pomocą interfejsów API REST lub w dowolnej z zestawów SDK powitania klienta.</span><span class="sxs-lookup"><span data-stu-id="67593-408">Like all other resources, users in Cosmos DB can be created, replaced, deleted, read or enumerated easily using either REST APIs or any of hello client SDKs.</span></span> <span data-ttu-id="67593-409">Rozwiązania cosmos bazy danych zawsze zapewnia wysoki poziom spójności odczytu lub zapytanie dotyczące metadanych hello zasobu użytkownika.</span><span class="sxs-lookup"><span data-stu-id="67593-409">Cosmos DB always provides strong consistency for reading or querying hello metadata of a user resource.</span></span> <span data-ttu-id="67593-410">Warto wskazujące, usunięcie użytkownika automatycznie zapewnia czy możesz uzyskać dostępu do uprawnień hello w nim zawarte.</span><span class="sxs-lookup"><span data-stu-id="67593-410">It is worth pointing out that deleting a user automatically ensures that you cannot access any of hello permissions contained within it.</span></span> <span data-ttu-id="67593-411">Mimo że hello DB rozwiązania Cosmos zwraca przydziału hello hello uprawnień w ramach hello usunąć użytkownika w tle hello, hello usunąć uprawnienia są dostępne natychmiast ponownie dla toouse użytkownik.</span><span class="sxs-lookup"><span data-stu-id="67593-411">Even though hello Cosmos DB reclaims hello quota of hello permissions as part of hello deleted user in hello background, hello deleted permissions is available instantly again for you toouse.</span></span>  

## <a name="permissions"></a><span data-ttu-id="67593-412">Uprawnienia</span><span class="sxs-lookup"><span data-stu-id="67593-412">Permissions</span></span>
<span data-ttu-id="67593-413">Z perspektywy kontroli dostępu do zasobów, takich jak konta bazy danych, bazy danych, użytkowników i uprawnienia są traktowane jako *administracyjne* zasobów, ponieważ wymagają one wykonywania uprawnień administracyjnych.</span><span class="sxs-lookup"><span data-stu-id="67593-413">From an access control perspective, resources such as database accounts, databases, users and permission are considered *administrative* resources since these require administrative permissions.</span></span> <span data-ttu-id="67593-414">Na hello drugiej hello kolekcji, dokumentów, załączniki, procedur składowanych, wyzwalaczy, w tym zasobów i funkcji UDF są zakresu w określonej bazie danych i uznane za *zasoby aplikacji*.</span><span class="sxs-lookup"><span data-stu-id="67593-414">On hello other hand, resources including hello collections, documents, attachments, stored procedures, triggers, and UDFs are scoped under a given database and considered *application resources*.</span></span> <span data-ttu-id="67593-415">Odpowiadającego toohello dwa typy zasobów i hello ról, które uzyskują dostęp do nich (to znaczy hello administratora i użytkownika), modelu autoryzacji hello definiuje dwa typy *klucze dostępu*: *klucza głównego* i *klucz zasobu*.</span><span class="sxs-lookup"><span data-stu-id="67593-415">Corresponding toohello two types of resources and hello roles that access them (namely hello administrator and user), hello authorization model defines two types of *access keys*: *master key* and *resource key*.</span></span> <span data-ttu-id="67593-416">klucz główny Hello jest częścią hello konto bazy danych i podano dewelopera toohello (lub administratora) który aprowizacji hello konta bazy danych.</span><span class="sxs-lookup"><span data-stu-id="67593-416">hello master key is a part of hello database account and is provided toohello developer (or administrator) who is provisioning hello database account.</span></span> <span data-ttu-id="67593-417">Ten klucz główny ma semantykę administratora może być używane tooauthorize dostępu tooboth administracyjne i zasoby aplikacji.</span><span class="sxs-lookup"><span data-stu-id="67593-417">This master key has administrator semantics, in that it can be used tooauthorize access tooboth administrative and application resources.</span></span> <span data-ttu-id="67593-418">Z kolei klucz zasobu jest kluczem szczegółowego dostępu umożliwiającą dostęp tooa *określonych* zasobów aplikacji.</span><span class="sxs-lookup"><span data-stu-id="67593-418">In contrast, a resource key is a granular access key that allows access tooa *specific* application resource.</span></span> <span data-ttu-id="67593-419">W związku z tym zarejestrowaniu hello relacji między hello użytkownika bazy danych i ma hello uprawnienia hello użytkownika dla określonego zasobu (np. kolekcji, dokumentów, załącznik, procedury składowanej, wyzwalacza lub funkcji zdefiniowanej przez użytkownika).</span><span class="sxs-lookup"><span data-stu-id="67593-419">Thus, it captures hello relationship between hello user of a database and hello permissions hello user has for a specific resource (e.g. collection, document, attachment, stored procedure, trigger, or UDF).</span></span>   

<span data-ttu-id="67593-420">Witaj tylko sposób tooobtain klucz zasobu jest przez utworzenie zasobu uprawnień danego użytkownika.</span><span class="sxs-lookup"><span data-stu-id="67593-420">hello only way tooobtain a resource key is by creating a permission resource under a given user.</span></span> <span data-ttu-id="67593-421">Należy pamiętać, że w kolejności toocreate ani pobrać uprawnień, klucz główny należy przedstawić w nagłówku autoryzacji hello.</span><span class="sxs-lookup"><span data-stu-id="67593-421">Note that In order toocreate or retrieve a permission, a master key must be presented in hello authorization header.</span></span> <span data-ttu-id="67593-422">Zasób uprawnienia wiąże hello zasobów, jego dostępu i hello użytkownika.</span><span class="sxs-lookup"><span data-stu-id="67593-422">A permission resource ties hello resource, its access and hello user.</span></span> <span data-ttu-id="67593-423">Po utworzeniu zasobu uprawnienia, hello użytkownik potrzebuje tylko toopresent hello zasobów klucza w kolejności toogain dostępu toohello wybranego zasobu.</span><span class="sxs-lookup"><span data-stu-id="67593-423">After creating a permission resource, hello user only needs toopresent hello associated resource key in order toogain access toohello relevant resource.</span></span> <span data-ttu-id="67593-424">W związku z tym kluczem zasobu można wyświetlić jako reprezentacja logicznych i compact hello uprawnień zasobów.</span><span class="sxs-lookup"><span data-stu-id="67593-424">Hence, a resource key can be viewed as a logical and compact representation of hello permission resource.</span></span>  

<span data-ttu-id="67593-425">Podobnie jak w przypadku wszystkich innych zasobów, uprawnień w bazie danych rozwiązania Cosmos można utworzyć, zastąpione, usunięty, odczytać lub wyliczyć za pomocą interfejsów API REST lub w dowolnej z zestawów SDK powitania klienta.</span><span class="sxs-lookup"><span data-stu-id="67593-425">As with all other resources, permissions in Cosmos DB can be created, replaced, deleted, read or enumerated easily using either REST APIs or any of hello client SDKs.</span></span> <span data-ttu-id="67593-426">Rozwiązania cosmos bazy danych zawsze zapewnia wysoki poziom spójności odczytu lub zapytanie dotyczące metadanych hello uprawnienia.</span><span class="sxs-lookup"><span data-stu-id="67593-426">Cosmos DB always provides strong consistency for reading or querying hello metadata of a permission.</span></span> 

## <a name="next-steps"></a><span data-ttu-id="67593-427">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="67593-427">Next steps</span></span>
<span data-ttu-id="67593-428">Dowiedz się więcej o pracy z zasobami przy użyciu poleceń HTTP w [RESTful interakcji z zasobami DB rozwiązania Cosmos](https://msdn.microsoft.com/library/azure/mt622086.aspx).</span><span class="sxs-lookup"><span data-stu-id="67593-428">Learn more about working with resources by using HTTP commands in [RESTful interactions with Cosmos DB resources](https://msdn.microsoft.com/library/azure/mt622086.aspx).</span></span>

[1]: media/documentdb-resources/resources1.png
[2]: media/documentdb-resources/resources2.png
[3]: media/documentdb-resources/resources3.png

