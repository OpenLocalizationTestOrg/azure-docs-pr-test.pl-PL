---
title: "poziomy aaaConsistency w usłudze Azure DB rozwiązania Cosmos | Dokumentacja firmy Microsoft"
description: "Azure DB rozwiązania Cosmos ma pięć spójności poziomy toohelp saldo ostatecznego spójności, dostępnością i opóźnieniem kompromis."
keywords: "spójność ostateczna azure rozwiązania cosmos db, azure, programu Microsoft azure"
services: cosmos-db
author: mimig1
manager: jhubbard
editor: cgronlun
documentationcenter: 
ms.assetid: 3fe51cfa-a889-4a4a-b320-16bf871fe74c
ms.service: cosmos-db
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/16/2017
ms.author: mimig
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: ac399c229d0856cd811bc81568536e519af3300f
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="tunable-data-consistency-levels-in-azure-cosmos-db"></a><span data-ttu-id="ad6bc-104">Poziomy spójności danych dostosowywalne w usłudze Azure DB rozwiązania Cosmos</span><span class="sxs-lookup"><span data-stu-id="ad6bc-104">Tunable data consistency levels in Azure Cosmos DB</span></span>
<span data-ttu-id="ad6bc-105">Azure DB rozwiązania Cosmos zaprojektowano z hello tła z globalnego dystrybucji pamiętać dla każdego modelu danych.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-105">Azure Cosmos DB is designed from hello ground up with global distribution in mind for every data model.</span></span> <span data-ttu-id="ad6bc-106">Jest zaprojektowana toooffer przewidywalną małe opóźnienia gwarancji, umowa SLA dostępności 99,99% i wielu dobrze zdefiniowany rozluźnić modeli spójności.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-106">It is designed toooffer predictable low latency guarantees, a 99.99% availability SLA, and multiple well-defined relaxed consistency models.</span></span> <span data-ttu-id="ad6bc-107">Obecnie bazy danych Azure rozwiązania Cosmos zawiera pięć poziomów spójności: silne, nieaktualność, sesji, prefiks spójne i "ostateczna".</span><span class="sxs-lookup"><span data-stu-id="ad6bc-107">Currently, Azure Cosmos DB provides five consistency levels: strong, bounded-staleness, session, consistent prefix, and eventual.</span></span> 

<span data-ttu-id="ad6bc-108">Oprócz **silne** i **spójność ostateczna** modeli często oferowane przez rozproszonych baz danych, bazy danych rozwiązania Cosmos Azure udostępnia trzy modele spójności starannie wersja i operationalized więcej i zweryfikowała ich przydatności przed rzeczywistych przypadków użycia.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-108">Besides **strong** and **eventual consistency** models commonly offered by distributed databases, Azure Cosmos DB offers three more carefully codified and operationalized consistency models, and has validated their usefulness against real world use cases.</span></span> <span data-ttu-id="ad6bc-109">Są to hello **ograniczone nieaktualności**, **sesji**, i **spójne prefiks** poziomy spójności.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-109">These are hello **bounded staleness**, **session**, and **consistent prefix** consistency levels.</span></span> <span data-ttu-id="ad6bc-110">Zbiorczo te poziomy spójności pięć Włącz toomake dobrze uzasadnione kompromis między spójności, dostępnością i opóźnieniem.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-110">Collectively these five consistency levels enable you toomake well-reasoned trade-offs between consistency, availability, and latency.</span></span> 

## <a name="distributed-databases-and-consistency"></a><span data-ttu-id="ad6bc-111">Rozproszone baz danych i spójności</span><span class="sxs-lookup"><span data-stu-id="ad6bc-111">Distributed databases and consistency</span></span>
<span data-ttu-id="ad6bc-112">Komercyjnie rozpowszechniane bazy danych można podzielić na dwie kategorie: bazy danych, które nie oferują żadnych dobrze zdefiniowanych, sprawdzalnych opcji spójności, i bazy danych, które oferują dwie skrajne opcje programowania (spójność silna lub ostateczna).</span><span class="sxs-lookup"><span data-stu-id="ad6bc-112">Commercial distributed databases fall into two categories: databases that do not offer well-defined, provable consistency choices at all, and databases which offer two extreme programmability choices (strong vs. eventual consistency).</span></span> 

<span data-ttu-id="ad6bc-113">Witaj wcześniejsze obciążeń aplikacji deweloperom minutia protokołach replikacji i oczekuje wady i zalety trudne toomake między spójności, dostępności, opóźnienia i przepływności.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-113">hello former burdens application developers with minutia of their replication protocols and expects them toomake difficult tradeoffs between consistency, availability, latency, and throughput.</span></span> <span data-ttu-id="ad6bc-114">ostatnie Hello umieszcza toochoose wykorzystania, jeden Witaj dwie wartości graniczne.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-114">hello latter puts a pressure toochoose one of hello two extremes.</span></span> <span data-ttu-id="ad6bc-115">Pomimo liczebności hello badań i propozycje więcej niż 50 modeli spójności hello społeczności rozproszoną bazę danych nie został toocommercialize możliwe poziomy spójności poza silne i ewentualnej spójności.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-115">Despite hello abundance of research and proposals for more than 50 consistency models, hello distributed database community has not been able toocommercialize consistency levels beyond strong and eventual consistency.</span></span> <span data-ttu-id="ad6bc-116">Rozwiązania cosmos DB umożliwia deweloperom toochoose między pięć modeli dobrze zdefiniowany spójności wzdłuż spektrum spójności hello — siły, ograniczone nieaktualności, [sesji](http://dl.acm.org/citation.cfm?id=383631), prefiks spójne i "ostateczna".</span><span class="sxs-lookup"><span data-stu-id="ad6bc-116">Cosmos DB allows developers toochoose between five well-defined consistency models along hello consistency spectrum – strong, bounded staleness, [session](http://dl.acm.org/citation.cfm?id=383631), consistent prefix, and eventual.</span></span> 

![Azure DB rozwiązania Cosmos oferuje wiele dobrze zdefiniowanych toochoose modeli (swobodna) spójności z](./media/consistency-levels/five-consistency-levels.png)

<span data-ttu-id="ad6bc-118">Witaj w poniższej tabeli przedstawiono hello gwarancje określonych przez każdy poziom spójności.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-118">hello following table illustrates hello specific guarantees each consistency level provides.</span></span>
 
<span data-ttu-id="ad6bc-119">**Poziomy spójności i gwarancje**</span><span class="sxs-lookup"><span data-stu-id="ad6bc-119">**Consistency Levels and guarantees**</span></span>

| <span data-ttu-id="ad6bc-120">Poziom spójności</span><span class="sxs-lookup"><span data-stu-id="ad6bc-120">Consistency Level</span></span> | <span data-ttu-id="ad6bc-121">Gwarancje</span><span class="sxs-lookup"><span data-stu-id="ad6bc-121">Guarantees</span></span> |
| --- | --- |
| <span data-ttu-id="ad6bc-122">Silna</span><span class="sxs-lookup"><span data-stu-id="ad6bc-122">Strong</span></span> | <span data-ttu-id="ad6bc-123">Operacje atomowe</span><span class="sxs-lookup"><span data-stu-id="ad6bc-123">Linearizability</span></span> |
| <span data-ttu-id="ad6bc-124">Powiązana nieaktualność</span><span class="sxs-lookup"><span data-stu-id="ad6bc-124">Bounded Staleness</span></span> | <span data-ttu-id="ad6bc-125">Spójny prefiks.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-125">Consistent Prefix.</span></span> <span data-ttu-id="ad6bc-126">Odczyty opóźnione w stosunku do zapisów o k prefiksów lub interwał równy t</span><span class="sxs-lookup"><span data-stu-id="ad6bc-126">Reads lag behind writes by k prefixes or t interval</span></span> |
| <span data-ttu-id="ad6bc-127">Sesja</span><span class="sxs-lookup"><span data-stu-id="ad6bc-127">Session</span></span>   | <span data-ttu-id="ad6bc-128">Spójny prefiks.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-128">Consistent Prefix.</span></span> <span data-ttu-id="ad6bc-129">Monotoniczne odczyty, monotoniczne zapisy, odczytywanie swoich zapisów, zapisy następują po odczytach</span><span class="sxs-lookup"><span data-stu-id="ad6bc-129">Monotonic reads, monotonic writes, read-your-writes, write-follows-reads</span></span> |
| <span data-ttu-id="ad6bc-130">Spójny prefiks</span><span class="sxs-lookup"><span data-stu-id="ad6bc-130">Consistent Prefix</span></span> | <span data-ttu-id="ad6bc-131">Aktualizacje, zwracane są niektóre prefiks wszystkie aktualizacje hello, z luki</span><span class="sxs-lookup"><span data-stu-id="ad6bc-131">Updates returned are some prefix of all hello updates, with no gaps</span></span> |
| <span data-ttu-id="ad6bc-132">Ostateczna</span><span class="sxs-lookup"><span data-stu-id="ad6bc-132">Eventual</span></span>  | <span data-ttu-id="ad6bc-133">Odczyty poza kolejnością</span><span class="sxs-lookup"><span data-stu-id="ad6bc-133">Out of order reads</span></span> |

<span data-ttu-id="ad6bc-134">Można skonfigurować hello domyślnego poziomu spójności na Twoim koncie DB rozwiązania Cosmos (i później zastąpić spójności hello na określone żądanie odczytu).</span><span class="sxs-lookup"><span data-stu-id="ad6bc-134">You can configure hello default consistency level on your Cosmos DB account (and later override hello consistency on a specific read request).</span></span> <span data-ttu-id="ad6bc-135">Wewnętrznie hello domyślnego poziomu spójności stosuje toodata w hello partycji zestawy, które mogą obejmować regionów.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-135">Internally, hello default consistency level applies toodata within hello partition sets which may span regions.</span></span> <span data-ttu-id="ad6bc-136">Spójność sesji przy użyciu około 73% naszych dzierżawcy, a spójność powiązanej nieaktualności preferowane jest 20%.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-136">About 73% of our tenants use session consistency and 20% prefer bounded staleness.</span></span> <span data-ttu-id="ad6bc-137">Firma Microsoft obserwować, że około 3% klientów wypróbować różne poziomy spójności początkowo przed rozpoczęciem na wybór spójności określonych aplikacji.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-137">We observe that approximately 3% of our customers experiment with various consistency levels initially before settling on a specific consistency choice for their application.</span></span> <span data-ttu-id="ad6bc-138">Możemy również obserwować, czy tylko 2% naszych dzierżaw zastąpienie poziomy spójności na podstawie danego żądania.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-138">We also observe that only 2% of our tenants override consistency levels on a per request basis.</span></span> 

<span data-ttu-id="ad6bc-139">W DB rozwiązania Cosmos Odczyty podawane w sesji, prefiks spójne i spójność ostateczna dwukrotnie są jako tanie jako odczyty z nieaktualności silne lub ograniczonych.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-139">In Cosmos DB, reads served at session, consistent prefix and eventual consistency are twice as cheap as reads with strong or bounded staleness consistency.</span></span> <span data-ttu-id="ad6bc-140">Rozwiązania cosmos bazy danych ma branży kompleksowe SLA 99,99%, w tym gwarancje spójności oraz dostępność, przepustowości i opóźnień.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-140">Cosmos DB has industry leading comprehensive 99.99% SLAs including consistency guarantees along with availability, throughput, and latency.</span></span> <span data-ttu-id="ad6bc-141">Zastosujemy [sprawdzania linearizability](http://dl.acm.org/citation.cfm?id=1806634), które działa nieprzerwanie przez naszych telemetrii usługi i jawnie raporty żadnych tooyou naruszeń spójności.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-141">We employ a [linearizability checker](http://dl.acm.org/citation.cfm?id=1806634), which continuously operates over our service telemetry and openly reports any consistency violations tooyou.</span></span> <span data-ttu-id="ad6bc-142">Aby uzyskać ograniczone nieaktualności, możemy monitorowania i raportowania, które miały wszelkie naruszenia i granice t.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-142">For bounded staleness, we monitor and report any violations took and t bounds.</span></span> <span data-ttu-id="ad6bc-143">Dla wszystkich pięciu poziomów spójności swobodna możemy również zgłosić hello [Metryka prawdopodobieństwa spójność powiązanej nieaktualności](http://dl.acm.org/citation.cfm?id=2212359) tooyou bezpośrednio.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-143">For all five relaxed consistency levels, we also report hello [probabilistic bounded staleness metric](http://dl.acm.org/citation.cfm?id=2212359) directly tooyou.</span></span>  

## <a name="scope-of-consistency"></a><span data-ttu-id="ad6bc-144">Zakres spójności</span><span class="sxs-lookup"><span data-stu-id="ad6bc-144">Scope of consistency</span></span>
<span data-ttu-id="ad6bc-145">poziom szczegółowości Hello spójności jest zakresie tooa żądanie jednego użytkownika.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-145">hello granularity of consistency is scoped tooa single user request.</span></span> <span data-ttu-id="ad6bc-146">Żądanie zapisu może odpowiadać tooan insert, replace, upsert lub usunąć transakcji.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-146">A write request may correspond tooan insert, replace, upsert, or delete transaction.</span></span> <span data-ttu-id="ad6bc-147">Podobnie jak w przypadku operacji zapisu, transakcji odczytu/zapytania jest również tooa zakresie pojedynczego użytkownika żądania.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-147">As with writes, a read/query transaction is also scoped tooa single user request.</span></span> <span data-ttu-id="ad6bc-148">Hello użytkownika może być wymagane toopaginate za pośrednictwem dużej zestaw wyników, obejmujących wiele partycji, ale każda odczytać transakcji jest tooa zakresie jednej strony i udostępniane przez w ramach jednej partycji.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-148">hello user may be required toopaginate over a large result-set, spanning multiple partitions, but each read transaction is scoped tooa single page and served from within a single partition.</span></span>

## <a name="consistency-levels"></a><span data-ttu-id="ad6bc-149">Poziomy spójności</span><span class="sxs-lookup"><span data-stu-id="ad6bc-149">Consistency levels</span></span>
<span data-ttu-id="ad6bc-150">Domyślny poziom spójności można skonfigurować na Twoim koncie bazy danych, stosowanym kolekcje tooall (i baz danych) na koncie DB rozwiązania Cosmos.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-150">You can configure a default consistency level on your database account that applies tooall collections (and databases) under your Cosmos DB account.</span></span> <span data-ttu-id="ad6bc-151">Domyślnie wszystkie odczyty i zapytań wystawiony na podstawie hello zasobów zdefiniowane przez użytkownika, użyj poziomu spójności hello domyślne z określonego na powitania konta bazy danych.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-151">By default, all reads and queries issued against hello user-defined resources use hello default consistency level specified on hello database account.</span></span> <span data-ttu-id="ad6bc-152">Może osłabić hello poziomu spójności odczytu/zapytania określonego żądania przy użyciu w każdym hello obsługiwane interfejsów API.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-152">You can relax hello consistency level of a specific read/query request using in each of hello supported APIs.</span></span> <span data-ttu-id="ad6bc-153">Istnieje pięć typów poziomów spójności obsługiwane przez protokół replikacji bazy danych Azure rozwiązania Cosmos hello, które zapewniają wyczyść zależność między spójności określone gwarancje i wydajności, zgodnie z opisem w tej sekcji.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-153">There are five types of consistency levels supported by hello Azure Cosmos DB replication protocol that provide a clear trade-off between specific consistency guarantees and performance, as described in this section.</span></span>

<span data-ttu-id="ad6bc-154">**Silne**:</span><span class="sxs-lookup"><span data-stu-id="ad6bc-154">**Strong**:</span></span> 

* <span data-ttu-id="ad6bc-155">Zapewnia wysoki poziom spójności [linearizability](https://aphyr.com/posts/313-strong-consistency-models) gwarancji z hello odczytuje gwarantowane tooreturn hello najnowszej wersji elementu.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-155">Strong consistency offers a [linearizability](https://aphyr.com/posts/313-strong-consistency-models) guarantee with hello reads guaranteed tooreturn hello most recent version of an item.</span></span> 
* <span data-ttu-id="ad6bc-156">Silna spójność gwarantuje, że zapis jest widoczny dopiero w po jest trwałym zatwierdzeniu przez hello kworum Większość replik.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-156">Strong consistency guarantees that a write is only visible after it is committed durably by hello majority quorum of replicas.</span></span> <span data-ttu-id="ad6bc-157">Zapis jest albo synchronicznie trwałym zatwierdzeniu przez zarówno hello podstawowego, jak i kworum hello liczbę pomocniczych baz danych lub jest zostało przerwane.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-157">A write is either synchronously committed durably by both hello primary and hello quorum of secondaries, or it is aborted.</span></span> <span data-ttu-id="ad6bc-158">Odczytu zawsze zostaje potwierdzony hello większością głosów kworum do odczytu, klient nigdy nie można wyświetlić niezatwierdzone lub jego część zapisu i zawsze jest gwarantowana tooread hello najnowszych potwierdzonego zapisu.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-158">A read is always acknowledged by hello majority read quorum, a client can never see an uncommitted or partial write and is always guaranteed tooread hello latest acknowledged write.</span></span> 
* <span data-ttu-id="ad6bc-159">Azure konta rozwiązania Cosmos bazy danych, które są skonfigurowane toouse wysoki poziom spójności nie można skojarzyć więcej niż jeden region platformy Azure z użyciem konta bazy danych Azure rozwiązania Cosmos.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-159">Azure Cosmos DB accounts that are configured toouse strong consistency cannot associate more than one Azure region with their Azure Cosmos DB account.</span></span> 
* <span data-ttu-id="ad6bc-160">Witaj kosztów operacji odczytu (na podstawie [jednostek żądania](request-units.md) używane) z wysoki poziom spójności jest wyższy niż sesji i "ostateczna", ale same hello jako spójność powiązanej nieaktualności.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-160">hello cost of a read operation (in terms of [request units](request-units.md) consumed) with strong consistency is higher than session and eventual, but hello same as bounded staleness.</span></span>

<span data-ttu-id="ad6bc-161">**Ograniczone nieaktualności**:</span><span class="sxs-lookup"><span data-stu-id="ad6bc-161">**Bounded staleness**:</span></span> 

* <span data-ttu-id="ad6bc-162">Spójność powiązanej nieaktualności gwarantuje, że odczyty hello może opóźniona zapisy, przez co najwyżej *K* wersji lub prefiksy elementu lub *t* interwał czasu.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-162">Bounded staleness consistency guarantees that hello reads may lag behind writes by at most *K* versions or prefixes of an item or *t* time-interval.</span></span> 
* <span data-ttu-id="ad6bc-163">W związku z tym podczas wybierania ograniczone nieaktualności, hello "nieaktualności" można skonfigurować na dwa sposoby: numer wersji *K* elementu hello za pomocą którego odczyty hello opóźniona zapisy hello i interwał czasu hello *t*</span><span class="sxs-lookup"><span data-stu-id="ad6bc-163">Therefore, when choosing bounded staleness, hello "staleness" can be configured in two ways: number of versions *K* of hello item by which hello reads lag behind hello writes, and hello time interval *t*</span></span> 
* <span data-ttu-id="ad6bc-164">Ograniczone nieaktualności oferty globalne zamówienia z wyjątkiem w hello "nieaktualności okno".</span><span class="sxs-lookup"><span data-stu-id="ad6bc-164">Bounded staleness offers total global order except within hello "staleness window."</span></span> <span data-ttu-id="ad6bc-165">Witaj monotoniczna odczytu gwarancje istnieje w obrębie regionu wewnątrz lub na zewnątrz hello "nieaktualności okno".</span><span class="sxs-lookup"><span data-stu-id="ad6bc-165">hello monotonic read guarantees exists within a region both inside and outside hello "staleness window."</span></span> 
* <span data-ttu-id="ad6bc-166">Spójność powiązanej nieaktualności zapewnia gwarancję spójności silniejsze niż sesji lub spójność ostateczna.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-166">Bounded staleness provides a stronger consistency guarantee than session or eventual consistency.</span></span> <span data-ttu-id="ad6bc-167">Dla aplikacji rozproszonych globalnie zaleca się, że używasz spójność powiązanej nieaktualności do sytuacji, gdy będzie toohave wysoki poziom spójności, takich jak, ale również mają dostępności 99,99% i małe opóźnienia.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-167">For globally distributed applications, we recommend you use bounded staleness for scenarios where you would like toohave strong consistency but also want 99.99% availability and low latency.</span></span> 
* <span data-ttu-id="ad6bc-168">Azure kont rozwiązania Cosmos bazy danych, które są skonfigurowane przy użyciu spójność powiązanej nieaktualności można skojarzyć dowolną liczbę regiony platformy Azure z użyciem konta bazy danych Azure rozwiązania Cosmos.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-168">Azure Cosmos DB accounts that are configured with bounded staleness consistency can associate any number of Azure regions with their Azure Cosmos DB account.</span></span> 
* <span data-ttu-id="ad6bc-169">Witaj kosztów operacji odczytu (pod względem używane RUs) z spójność powiązanej nieaktualności jest wyższy niż sesji i spójność ostateczna, ale same hello jako wysoki poziom spójności.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-169">hello cost of a read operation (in terms of RUs consumed) with bounded staleness is higher than session and eventual consistency, but hello same as strong consistency.</span></span>

<span data-ttu-id="ad6bc-170">**Sesja**:</span><span class="sxs-lookup"><span data-stu-id="ad6bc-170">**Session**:</span></span> 

* <span data-ttu-id="ad6bc-171">W przeciwieństwie do modeli globalne spójności hello oferowane przez poziomy spójności nieaktualności silne i ograniczonego spójność sesji jest tooa zakresie sesji klienta.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-171">Unlike hello global consistency models offered by strong and bounded staleness consistency levels, session consistency is scoped tooa client session.</span></span> 
* <span data-ttu-id="ad6bc-172">Spójność sesji jest idealny dla wszystkich scenariuszy, w którym sesję użytkownika lub urządzenia uczestniczy, ponieważ gwarantuje monotoniczna odczyty, monotoniczna zapisu i odczytu gwarancje własne zapisów (RYW).</span><span class="sxs-lookup"><span data-stu-id="ad6bc-172">Session consistency is ideal for all scenarios where a device or user session is involved since it guarantees monotonic reads, monotonic writes, and read your own writes (RYW) guarantees.</span></span> 
* <span data-ttu-id="ad6bc-173">Spójność sesji zapewnia przewidywalną spójność sesji, a maksymalna odczytu przepływności, a jednocześnie najmniejsze opóźnienia zapisów hello i odczytuje.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-173">Session consistency provides predictable consistency for a session, and maximum read throughput while offering hello lowest latency writes and reads.</span></span> 
* <span data-ttu-id="ad6bc-174">Azure kont rozwiązania Cosmos bazy danych, które są skonfigurowane przy użyciu spójność sesji można skojarzyć dowolną liczbę regiony platformy Azure z użyciem konta bazy danych Azure rozwiązania Cosmos.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-174">Azure Cosmos DB accounts that are configured with session consistency can associate any number of Azure regions with their Azure Cosmos DB account.</span></span> 
* <span data-ttu-id="ad6bc-175">Witaj z sesji poziomu spójności jest mniejsza niż nieaktualności silne i ograniczonego, ale spójność ostateczna więcej niż koszt operacja odczytu (pod względem używane RUs)</span><span class="sxs-lookup"><span data-stu-id="ad6bc-175">hello cost of a read operation (in terms of RUs consumed) with session consistency level is less than strong and bounded staleness, but more than eventual consistency</span></span>

<span data-ttu-id="ad6bc-176"><a id="consistent-prefix"></a>
**Prefiks spójne**:</span><span class="sxs-lookup"><span data-stu-id="ad6bc-176"><a id="consistent-prefix"></a>
**Consistent Prefix**:</span></span> 

* <span data-ttu-id="ad6bc-177">Prefiks spójne gwarantuje, że w przypadku braku kolejnych zapisów hello repliki w grupie hello ostatecznie zbieżność.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-177">Consistent prefix guarantees that in absence of any further writes, hello replicas within hello group eventually converge.</span></span> 
* <span data-ttu-id="ad6bc-178">Prefiks spójne gwarantuje, że odczyty nigdy nie zobaczyć zapisy poza kolejnością.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-178">Consistent prefix guarantees that reads never see out of order writes.</span></span> <span data-ttu-id="ad6bc-179">Jeśli wykonano operacji zapisu w kolejności hello `A, B, C`, klient widzi albo `A`, `A,B`, lub `A,B,C`, ale nigdy nie poza kolejnością jak `A,C` lub `B,A,C`.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-179">If writes were performed in hello order `A, B, C`, then a client sees either `A`, `A,B`, or `A,B,C`, but never out of order like `A,C` or `B,A,C`.</span></span>
* <span data-ttu-id="ad6bc-180">Azure kont rozwiązania Cosmos bazy danych, które są skonfigurowane przy użyciu prefiksu spójne spójności można skojarzyć dowolną liczbę regiony platformy Azure z użyciem konta bazy danych Azure rozwiązania Cosmos.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-180">Azure Cosmos DB accounts that are configured with consistent prefix consistency can associate any number of Azure regions with their Azure Cosmos DB account.</span></span> 

<span data-ttu-id="ad6bc-181">**Ewentualne**:</span><span class="sxs-lookup"><span data-stu-id="ad6bc-181">**Eventual**:</span></span> 

* <span data-ttu-id="ad6bc-182">Spójność ostateczna gwarantuje, że w przypadku braku kolejnych zapisów hello repliki w grupie hello ostatecznie zbieżność.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-182">Eventual consistency guarantees that in absence of any further writes, hello replicas within hello group eventually converge.</span></span> 
* <span data-ttu-id="ad6bc-183">Spójność ostateczna jest hello formularza najsłabszą spójność, których klient może pobrać hello wartości, które są starsze niż hello z nich ma zauważony.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-183">Eventual consistency is hello weakest form of consistency where a client may get hello values that are older than hello ones it had seen before.</span></span>
* <span data-ttu-id="ad6bc-184">Spójność ostateczna zapewnia najsłabszą hello spójności odczytu, ale oferuje hello można uzyskać najmniejsze opóźnienia zarówno odczytów i zapisów.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-184">Eventual consistency provides hello weakest read consistency but offers hello lowest latency for both reads and writes.</span></span>
* <span data-ttu-id="ad6bc-185">Azure kont rozwiązania Cosmos bazy danych, które są skonfigurowane przy użyciu spójność ostateczna można skojarzyć dowolną liczbę regiony platformy Azure z użyciem konta bazy danych Azure rozwiązania Cosmos.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-185">Azure Cosmos DB accounts that are configured with eventual consistency can associate any number of Azure regions with their Azure Cosmos DB account.</span></span> 
* <span data-ttu-id="ad6bc-186">Witaj kosztów operacji odczytu (pod względem używane RUs) z spójność ostateczna powitania poziom jest hello najniższy wszystkie poziomy spójności bazy danych Azure rozwiązania Cosmos hello.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-186">hello cost of a read operation (in terms of RUs consumed) with hello eventual consistency level is hello lowest of all hello Azure Cosmos DB consistency levels.</span></span>

## <a name="configuring-hello-default-consistency-level"></a><span data-ttu-id="ad6bc-187">Konfigurowanie poziomu spójności domyślne hello</span><span class="sxs-lookup"><span data-stu-id="ad6bc-187">Configuring hello default consistency level</span></span>
1. <span data-ttu-id="ad6bc-188">W hello [portalu Azure](https://portal.azure.com/), w hello przechodzenia kliknij pozycję **bazy danych Azure rozwiązania Cosmos**.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-188">In hello [Azure portal](https://portal.azure.com/), in hello Jumpbar, click **Azure Cosmos DB**.</span></span>
2. <span data-ttu-id="ad6bc-189">W hello **bazy danych Azure rozwiązania Cosmos** bloku, toomodify konta bazy danych wybierz hello.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-189">In hello **Azure Cosmos DB** blade, select hello database account toomodify.</span></span>
3. <span data-ttu-id="ad6bc-190">W bloku konta usługi powitania kliknij **domyślna spójność**.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-190">In hello account blade, click **Default consistency**.</span></span>
4. <span data-ttu-id="ad6bc-191">W hello **domyślna spójność** bloku, wybierz hello nowy poziom spójności i kliknij przycisk **zapisać**.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-191">In hello **Default Consistency** blade, select hello new consistency level and click **Save**.</span></span>
   
    ![Zrzut ekranu przedstawiający wyróżnianie hello ikonę ustawień i spójności domyślny wpis](./media/consistency-levels/database-consistency-level-1.png)

## <a name="consistency-levels-for-queries"></a><span data-ttu-id="ad6bc-193">Poziomy spójności dla zapytań</span><span class="sxs-lookup"><span data-stu-id="ad6bc-193">Consistency levels for queries</span></span>
<span data-ttu-id="ad6bc-194">Domyślnie zasoby zdefiniowane przez użytkownika poziomu spójności hello zapytania jest hello tego samego poziomu spójności hello Odczyt.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-194">By default, for user-defined resources, hello consistency level for queries is hello same as hello consistency level for reads.</span></span> <span data-ttu-id="ad6bc-195">Domyślnie indeks hello jest aktualizowany synchronicznie na każdym insert, Zamień lub usuń kontener elementu toohello DB rozwiązania Cosmos.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-195">By default, hello index is updated synchronously on each insert, replace, or delete of an item toohello Cosmos DB container.</span></span> <span data-ttu-id="ad6bc-196">Ta umożliwia zapytania hello toohonor hello tego samego poziomu spójności co punktu odczytów.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-196">This enables hello queries toohonor hello same consistency level as that of point reads.</span></span> <span data-ttu-id="ad6bc-197">Bazy danych Azure rozwiązania Cosmos jest zoptymalizowany zapisu i obsługuje stałej ilości zapisy, indeks synchroniczne konserwacji i obsługująca spójne zapytania, można skonfigurować pewne tooupdate kolekcje ich indeksu opóźnieniem.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-197">While Azure Cosmos DB is write optimized and supports sustained volumes of writes, synchronous index maintenance and serving consistent queries, you can configure certain collections tooupdate their index lazily.</span></span> <span data-ttu-id="ad6bc-198">Dodatkowo indeksowanie z opóźnieniem zwiększa wydajność zapisu hello i jest idealne dla scenariuszy wprowadzanie zbiorczego obciążenia jest głównie ciężki odczytu.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-198">Lazy indexing further boosts hello write performance and is ideal for bulk ingestion scenarios when a workload is primarily read-heavy.</span></span>  

| <span data-ttu-id="ad6bc-199">Tryb indeksowania</span><span class="sxs-lookup"><span data-stu-id="ad6bc-199">Indexing Mode</span></span> | <span data-ttu-id="ad6bc-200">Odczytuje</span><span class="sxs-lookup"><span data-stu-id="ad6bc-200">Reads</span></span> | <span data-ttu-id="ad6bc-201">Zapytania</span><span class="sxs-lookup"><span data-stu-id="ad6bc-201">Queries</span></span> |
| --- | --- | --- |
| <span data-ttu-id="ad6bc-202">Spójność (ustawienie domyślne)</span><span class="sxs-lookup"><span data-stu-id="ad6bc-202">Consistent (default)</span></span> |<span data-ttu-id="ad6bc-203">Wybierz jedną z nieaktualności silne, ograniczone, sesji, spójne prefiksu lub ostatecznego</span><span class="sxs-lookup"><span data-stu-id="ad6bc-203">Select from strong, bounded staleness, session, consistent prefix, or eventual</span></span> |<span data-ttu-id="ad6bc-204">Wybierz jedną z nieaktualności silne, ograniczone, sesji lub ostatecznego</span><span class="sxs-lookup"><span data-stu-id="ad6bc-204">Select from strong, bounded staleness, session, or eventual</span></span> |
| <span data-ttu-id="ad6bc-205">Powolne</span><span class="sxs-lookup"><span data-stu-id="ad6bc-205">Lazy</span></span> |<span data-ttu-id="ad6bc-206">Wybierz jedną z nieaktualności silne, ograniczone, sesji, spójne prefiksu lub ostatecznego</span><span class="sxs-lookup"><span data-stu-id="ad6bc-206">Select from strong, bounded staleness, session, consistent prefix, or eventual</span></span> |<span data-ttu-id="ad6bc-207">Ostateczna</span><span class="sxs-lookup"><span data-stu-id="ad6bc-207">Eventual</span></span> |
| <span data-ttu-id="ad6bc-208">Brak</span><span class="sxs-lookup"><span data-stu-id="ad6bc-208">None</span></span> |<span data-ttu-id="ad6bc-209">Wybierz jedną z nieaktualności silne, ograniczone, sesji, spójne prefiksu lub ostatecznego</span><span class="sxs-lookup"><span data-stu-id="ad6bc-209">Select from strong, bounded staleness, session, consistent prefix, or eventual</span></span> |<span data-ttu-id="ad6bc-210">Nie dotyczy</span><span class="sxs-lookup"><span data-stu-id="ad6bc-210">Not applicable</span></span> |

<span data-ttu-id="ad6bc-211">Jako z żądaniami odczytu, możesz obniżyć poziom spójności hello żądania określonej kwerendy w każdym interfejsu API.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-211">As with read requests, you can lower hello consistency level of a specific query request in each API.</span></span>

## <a name="next-steps"></a><span data-ttu-id="ad6bc-212">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="ad6bc-212">Next steps</span></span>
<span data-ttu-id="ad6bc-213">Jeśli chcesz toodo więcej odczytywania o poziomy spójności i wady i zalety, zaleca się hello następujące zasoby:</span><span class="sxs-lookup"><span data-stu-id="ad6bc-213">If you'd like toodo more reading about consistency levels and tradeoffs, we recommend hello following resources:</span></span>

* <span data-ttu-id="ad6bc-214">Jakub Dougowi.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-214">Doug Terry.</span></span> <span data-ttu-id="ad6bc-215">Wyjaśniono spójności replikowanych danych za pośrednictwem baseball (klip wideo).</span><span class="sxs-lookup"><span data-stu-id="ad6bc-215">Replicated Data Consistency explained through baseball (video).</span></span>   
  [<span data-ttu-id="ad6bc-216">https://www.youtube.com/Watch?v=gluIh8zd26I</span><span class="sxs-lookup"><span data-stu-id="ad6bc-216">https://www.youtube.com/watch?v=gluIh8zd26I</span></span>](https://www.youtube.com/watch?v=gluIh8zd26I)
* <span data-ttu-id="ad6bc-217">Jakub Dougowi.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-217">Doug Terry.</span></span> <span data-ttu-id="ad6bc-218">Wyjaśniono spójności replikowanych danych za pośrednictwem baseball.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-218">Replicated Data Consistency explained through baseball.</span></span>   
  [<span data-ttu-id="ad6bc-219">http://Research.microsoft.com/pubs/157411/ConsistencyAndBaseballReport.PDF</span><span class="sxs-lookup"><span data-stu-id="ad6bc-219">http://research.microsoft.com/pubs/157411/ConsistencyAndBaseballReport.pdf</span></span>](http://research.microsoft.com/pubs/157411/ConsistencyAndBaseballReport.pdf)
* <span data-ttu-id="ad6bc-220">Jakub Dougowi.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-220">Doug Terry.</span></span> <span data-ttu-id="ad6bc-221">Gwarancje sesji słabo spójności replikowanych danych.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-221">Session Guarantees for Weakly Consistent Replicated Data.</span></span>   
  [<span data-ttu-id="ad6bc-222">http://DL.ACM.org/CITATION.cfm?ID=383631</span><span class="sxs-lookup"><span data-stu-id="ad6bc-222">http://dl.acm.org/citation.cfm?id=383631</span></span>](http://dl.acm.org/citation.cfm?id=383631)
* <span data-ttu-id="ad6bc-223">Abadi Danielowi.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-223">Daniel Abadi.</span></span> <span data-ttu-id="ad6bc-224">Wady i zalety spójności w projekcie: nowoczesnych systemów bazy danych dystrybucji: zakończenie jest tylko część wątku hello ".</span><span class="sxs-lookup"><span data-stu-id="ad6bc-224">Consistency Tradeoffs in Modern Distributed Database Systems Design: CAP is only part of hello story”.</span></span>   
  [<span data-ttu-id="ad6bc-225">http://Computer.org/CSDL/mags/co/2012/02/mco2012020037-ABS.HTML</span><span class="sxs-lookup"><span data-stu-id="ad6bc-225">http://computer.org/csdl/mags/co/2012/02/mco2012020037-abs.html</span></span>](http://computer.org/csdl/mags/co/2012/02/mco2012020037-abs.html)
* <span data-ttu-id="ad6bc-226">Peterowi Bailis, Shivaram Venkataraman, Michael J. tw, Joseph M. Hellerstein, Stoica zakres przechowywania.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-226">Peter Bailis, Shivaram Venkataraman, Michael J. Franklin, Joseph M. Hellerstein, Ion Stoica.</span></span> <span data-ttu-id="ad6bc-227">Prawdopodobieństwa ograniczone nieaktualności (PBS) praktyczne częściowe kworum.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-227">Probabilistic Bounded Staleness (PBS) for Practical Partial Quorums.</span></span>   
  [<span data-ttu-id="ad6bc-228">http://vldb.org/pvldb/vol5/p776_peterbailis_vldb2012.PDF</span><span class="sxs-lookup"><span data-stu-id="ad6bc-228">http://vldb.org/pvldb/vol5/p776_peterbailis_vldb2012.pdf</span></span>](http://vldb.org/pvldb/vol5/p776_peterbailis_vldb2012.pdf)
* <span data-ttu-id="ad6bc-229">Werner Vogels.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-229">Werner Vogels.</span></span> <span data-ttu-id="ad6bc-230">Ostateczna spójne — uruchomić ponownie.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-230">Eventual Consistent - Revisited.</span></span>    
  [<span data-ttu-id="ad6bc-231">http://allthingsdistributed.com/2008/12/eventually_consistent.HTML</span><span class="sxs-lookup"><span data-stu-id="ad6bc-231">http://allthingsdistributed.com/2008/12/eventually_consistent.html</span></span>](http://allthingsdistributed.com/2008/12/eventually_consistent.html)
* <span data-ttu-id="ad6bc-232">Moni Naor, wełny Avishai hello obciążenia, pojemności i dostępności z kworum systemów, dziennika SIAM Computing, v.27 n.2, 447 p.423, kwietnia 1998.</span><span class="sxs-lookup"><span data-stu-id="ad6bc-232">Moni Naor , Avishai Wool, hello Load, Capacity, and Availability of Quorum Systems, SIAM Journal on Computing, v.27 n.2, p.423-447, April 1998.</span></span>
  [<span data-ttu-id="ad6bc-233">http://epubs.siam.org/DOI/ABS/10.1137/S0097539795281232</span><span class="sxs-lookup"><span data-stu-id="ad6bc-233">http://epubs.siam.org/doi/abs/10.1137/S0097539795281232</span></span>](http://epubs.siam.org/doi/abs/10.1137/S0097539795281232)
* <span data-ttu-id="ad6bc-234">Burckhardt Sebastianowi, Krzysztof Dern, Macanal Musuvathi, Tan Royowi, każdy: linearizability pełny i automatyczne sprawdzanie, postępowania hello 2010 ACM SIGPLAN konferencji programowania języka projekt i implementację, czerwca 05 10 2010 naszej, Ontario, Kanada [doi > 10.1145/1806596.1806634] [http://dl.acm.org/citation.cfm?id=1806634](http://dl.acm.org/citation.cfm?id=1806634)</span><span class="sxs-lookup"><span data-stu-id="ad6bc-234">Sebastian Burckhardt, Chris Dern, Macanal Musuvathi, Roy Tan, Line-up: a complete and automatic linearizability checker, Proceedings of hello 2010 ACM SIGPLAN conference on Programming language design and implementation, June 05-10, 2010, Toronto, Ontario, Canada  [doi>10.1145/1806596.1806634] [http://dl.acm.org/citation.cfm?id=1806634](http://dl.acm.org/citation.cfm?id=1806634)</span></span>
* <span data-ttu-id="ad6bc-235">Peterowi Bailis, Shivaram Venkataraman, Michael J. tw, Joseph M. Hellerstein, Stoica zakres przechowywania Probabilistically ograniczone nieaktualności do praktycznych kworum częściowe postępowania hello wydzielony VLDB, v.5 n.8, 787 p.776, kwietnia 2012 [http:// DL.ACM.org/CITATION.cfm?ID=2212359](http://dl.acm.org/citation.cfm?id=2212359)</span><span class="sxs-lookup"><span data-stu-id="ad6bc-235">Peter Bailis, Shivaram Venkataraman, Michael J. Franklin, Joseph M. Hellerstein , Ion Stoica, Probabilistically bounded staleness for practical partial quorums, Proceedings of hello VLDB Endowment, v.5 n.8, p.776-787, April 2012 [http://dl.acm.org/citation.cfm?id=2212359](http://dl.acm.org/citation.cfm?id=2212359)</span></span>
