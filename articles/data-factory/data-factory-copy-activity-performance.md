---
title: "Skopiuj wydajności działania i dostrajania przewodnik | Dokumentacja firmy Microsoft"
description: "Więcej informacji na temat kluczowych czynników wpływających na wydajność przepływu danych w fabryce danych Azure, korzystając z działania kopiowania."
services: data-factory
documentationcenter: 
author: linda33wj
manager: jhubbard
editor: monicar
ms.assetid: 4b9a6a4f-8cf5-4e0a-a06f-8133a2b7bc58
ms.service: data-factory
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/10/2017
ms.author: jingwang
ms.openlocfilehash: 2779655aee3af3a351b30f18b4c9d9918e9f2210
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 08/29/2017
---
# <a name="copy-activity-performance-and-tuning-guide"></a><span data-ttu-id="4d5b8-103">Skopiuj wydajności działania i dostrajania przewodnik</span><span class="sxs-lookup"><span data-stu-id="4d5b8-103">Copy Activity performance and tuning guide</span></span>
<span data-ttu-id="4d5b8-104">Działanie kopiowania fabryki danych Azure oferuje najwyższej jakości danych bezpieczne, niezawodne i wysoko wydajnych ładowania rozwiązania.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-104">Azure Data Factory Copy Activity delivers a first-class secure, reliable, and high-performance data loading solution.</span></span> <span data-ttu-id="4d5b8-105">Go umożliwia utworzenie kopii dziesiątki terabajtów danych codziennie przez szeroki zakres chmury i lokalnych magazynów danych.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-105">It enables you to copy tens of terabytes of data every day across a rich variety of cloud and on-premises data stores.</span></span> <span data-ttu-id="4d5b8-106">Ładowanie wydajności danych ogromną fast ma kluczowe znaczenie dla zapewnienia można skoncentrować się na temat problemu "danych big data" core: kompilowanie rozwiązań zaawansowane analizy i uzyskiwanie szczegółowych informacji z wszystkie te dane.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-106">Blazing-fast data loading performance is key to ensure you can focus on the core “big data” problem: building advanced analytics solutions and getting deep insights from all that data.</span></span>

<span data-ttu-id="4d5b8-107">Platforma Azure oferuje zestaw korporacyjnej rozwiązania dotyczące danych magazynu i danych magazynu i działanie kopiowania oferuje zoptymalizowanego ładowania środowisko, która jest łatwa do skonfigurowania i danych.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-107">Azure provides a set of enterprise-grade data storage and data warehouse solutions, and Copy Activity offers a highly optimized data loading experience that is easy to configure and set up.</span></span> <span data-ttu-id="4d5b8-108">Z po prostu działanie pojedynczej kopii można uzyskać:</span><span class="sxs-lookup"><span data-stu-id="4d5b8-108">With just a single copy activity, you can achieve:</span></span>

* <span data-ttu-id="4d5b8-109">Ładowanie danych do **magazyn danych SQL Azure** w **1,2 GB/s**.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-109">Loading data into **Azure SQL Data Warehouse** at **1.2 GBps**.</span></span> <span data-ttu-id="4d5b8-110">Aby uzyskać wskazówki z przypadkiem użycia, zobacz [załadować 1 TB do usługi Azure SQL Data Warehouse z fabryką danych Azure w obszarze 15 minut](data-factory-load-sql-data-warehouse.md).</span><span class="sxs-lookup"><span data-stu-id="4d5b8-110">For a walkthrough with a use case, see [Load 1 TB into Azure SQL Data Warehouse under 15 minutes with Azure Data Factory](data-factory-load-sql-data-warehouse.md).</span></span>
* <span data-ttu-id="4d5b8-111">Ładowanie danych do **magazynu obiektów Blob Azure** na **1.0 GB/s**</span><span class="sxs-lookup"><span data-stu-id="4d5b8-111">Loading data into **Azure Blob storage** at **1.0 GBps**</span></span>
* <span data-ttu-id="4d5b8-112">Ładowanie danych do **Azure Data Lake Store** na **1.0 GB/s**</span><span class="sxs-lookup"><span data-stu-id="4d5b8-112">Loading data into **Azure Data Lake Store** at **1.0 GBps**</span></span>

<span data-ttu-id="4d5b8-113">W tym artykule opisano:</span><span class="sxs-lookup"><span data-stu-id="4d5b8-113">This article describes:</span></span>

* <span data-ttu-id="4d5b8-114">[Numery wydajności](#performance-reference) obsługiwane źródłowy i odbiorczy magazyny danych do planowania projektu.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-114">[Performance reference numbers](#performance-reference) for supported source and sink data stores to help you plan your project;</span></span>
* <span data-ttu-id="4d5b8-115">Funkcje, które może zwiększyć przepływność kopiowania w różnych scenariuszy, w tym [jednostki przepływu danych w chmurze](#cloud-data-movement-units), [równoległych kopii](#parallel-copy), i [przemieszczane kopiowania](#staged-copy);</span><span class="sxs-lookup"><span data-stu-id="4d5b8-115">Features that can boost the copy throughput in different scenarios, including [cloud data movement units](#cloud-data-movement-units), [parallel copy](#parallel-copy), and [staged Copy](#staged-copy);</span></span>
* <span data-ttu-id="4d5b8-116">[Wskazówki dotyczące dostrajania wydajności](#performance-tuning-steps) w sposób dostrajania wydajności i kluczowych czynników, które mogą mieć wpływ na wydajność kopiowania.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-116">[Performance tuning guidance](#performance-tuning-steps) on how to tune the performance and the key factors that can impact copy performance.</span></span>

> [!NOTE]
> <span data-ttu-id="4d5b8-117">Jeśli nie masz doświadczenia w obsłudze działania kopiowania ogólnie rzecz biorąc, zobacz [przenoszenia danych za pomocą działania kopiowania](data-factory-data-movement-activities.md) przed przeczytaniem tego artykułu.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-117">If you are not familiar with Copy Activity in general, see [Move data by using Copy Activity](data-factory-data-movement-activities.md) before reading this article.</span></span>
>

## <a name="performance-reference"></a><span data-ttu-id="4d5b8-118">Informacje dotyczące wydajności</span><span class="sxs-lookup"><span data-stu-id="4d5b8-118">Performance reference</span></span>

<span data-ttu-id="4d5b8-119">Jako odwołanie pod tabelą pokazuje liczbę przepływności kopiowania w MB/s dla danego par źródłowy i odbiorczy testów wewnętrznych.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-119">As a reference, below table shows the copy throughput number in MBps for the given source and sink pairs based on in-house testing.</span></span> <span data-ttu-id="4d5b8-120">Porównanie można go również pokazano, jak różne ustawienia [jednostki przepływu danych w chmurze](#cloud-data-movement-units) lub [skalowalność brama zarządzania danymi](data-factory-data-management-gateway-high-availability-scalability.md) (wiele węzłów bramy) pozwalają na wydajność kopiowania.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-120">For comparison, it also demonstrates how different settings of [cloud data movement units](#cloud-data-movement-units) or [Data Management Gateway scalability](data-factory-data-management-gateway-high-availability-scalability.md) (multiple gateway nodes) can help on copy performance.</span></span>

![Macierz wydajności](./media/data-factory-copy-activity-performance/CopyPerfRef.png)


<span data-ttu-id="4d5b8-122">**Informacje, które należy zwrócić uwagę:**</span><span class="sxs-lookup"><span data-stu-id="4d5b8-122">**Points to note:**</span></span>
* <span data-ttu-id="4d5b8-123">Przepływność jest obliczana przy użyciu następującej formuły: [read rozmiar danych ze źródła] / [czas trwania działania kopiowania].</span><span class="sxs-lookup"><span data-stu-id="4d5b8-123">Throughput is calculated by using the following formula: [size of data read from source]/[Copy Activity run duration].</span></span>
* <span data-ttu-id="4d5b8-124">Numery wydajności w tabeli są mierzone przy użyciu [TPC-H](http://www.tpc.org/tpch/) zestawu danych w działaniu pojedynczej kopii Uruchom.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-124">The performance reference numbers in the table were measured using [TPC-H](http://www.tpc.org/tpch/) data set in a single copy activity run.</span></span>
* <span data-ttu-id="4d5b8-125">W magazynie danych Azure źródło i ujście są tego samego regionu platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-125">In Azure data stores, the source and sink are in the same Azure region.</span></span>
* <span data-ttu-id="4d5b8-126">Dla kopii hybrydowej między lokalnymi i w chmurze magazyny danych każdy węzeł bramy była uruchomiona na komputerze, który został oddzielony od z lokalnym magazynem danych z poniżej specyfikacji.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-126">For hybrid copy between on-premises and cloud data stores, each gateway node was running on a machine that was separate from the on-premises data store with below specification.</span></span> <span data-ttu-id="4d5b8-127">Operacja kopiowania pojedyncze działanie była uruchomiona na bramy, używane tylko niewielką część procesora CPU, pamięć lub przepustowość sieci testowej maszyny.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-127">When a single activity was running on gateway, the copy operation consumed only a small portion of the test machine's CPU, memory, or network bandwidth.</span></span> <span data-ttu-id="4d5b8-128">Dowiedz się więcej o [brany pod uwagę dla bramy zarządzania danymi](#considerations-for-data-management-gateway).</span><span class="sxs-lookup"><span data-stu-id="4d5b8-128">Learn more from [consideration for Data Management Gateway](#considerations-for-data-management-gateway).</span></span>
    <table>
    <tr>
        <td><span data-ttu-id="4d5b8-129">Procesor CPU</span><span class="sxs-lookup"><span data-stu-id="4d5b8-129">CPU</span></span></td>
        <td><span data-ttu-id="4d5b8-130">32 rdzenie 2,20 GHz Intel Xeon E5-2660 v2</span><span class="sxs-lookup"><span data-stu-id="4d5b8-130">32 cores 2.20 GHz Intel Xeon E5-2660 v2</span></span></td>
    </tr>
    <tr>
        <td><span data-ttu-id="4d5b8-131">Memory (Pamięć)</span><span class="sxs-lookup"><span data-stu-id="4d5b8-131">Memory</span></span></td>
        <td><span data-ttu-id="4d5b8-132">128 GB</span><span class="sxs-lookup"><span data-stu-id="4d5b8-132">128 GB</span></span></td>
    </tr>
    <tr>
        <td><span data-ttu-id="4d5b8-133">Sieć</span><span class="sxs-lookup"><span data-stu-id="4d5b8-133">Network</span></span></td>
        <td><span data-ttu-id="4d5b8-134">Interfejs internetowy: 10 GB/s; interfejsu intranetowego: 40 GB/s</span><span class="sxs-lookup"><span data-stu-id="4d5b8-134">Internet interface: 10 Gbps; intranet interface: 40 Gbps</span></span></td>
    </tr>
    </table>


> [!TIP]
> <span data-ttu-id="4d5b8-135">Wyższej przepustowości można osiągnąć dzięki wykorzystaniu jednostki przepływu więcej danych (DMUs) niż domyślna maksymalna DMUs, co stanowi 32 dla działania kopiowania w chmurze na chmurze, uruchom.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-135">You can achieve higher throughput by leveraging more data movement units (DMUs) than the default maximum DMUs, which is 32 for a cloud-to-cloud copy activity run.</span></span> <span data-ttu-id="4d5b8-136">Na przykład z 100 DMUs, możesz osiągnąć kopiowanie danych z obiektu Blob Azure do usługi Azure Data Lake Store **1.0GBps**.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-136">For example, with 100 DMUs, you can achieve copying data from Azure Blob into Azure Data Lake Store at **1.0GBps**.</span></span> <span data-ttu-id="4d5b8-137">Zobacz [jednostki przepływu danych w chmurze](#cloud-data-movement-units) sekcji, aby uzyskać więcej informacji dotyczących tej funkcji i obsługiwany scenariusz.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-137">See the [Cloud data movement units](#cloud-data-movement-units) section for details about this feature and the supported scenario.</span></span> <span data-ttu-id="4d5b8-138">Skontaktuj się z [pomocy technicznej platformy Azure](https://azure.microsoft.com/support/) żądania DMUs więcej.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-138">Contact [Azure support](https://azure.microsoft.com/support/) to request more DMUs.</span></span>

## <a name="parallel-copy"></a><span data-ttu-id="4d5b8-139">Kopiuj równoległych</span><span class="sxs-lookup"><span data-stu-id="4d5b8-139">Parallel copy</span></span>
<span data-ttu-id="4d5b8-140">Można odczytać danych ze źródła lub zapisać danych do lokalizacji docelowej **równolegle w ramach działania kopiowania, uruchom**.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-140">You can read data from the source or write data to the destination **in parallel within a Copy Activity run**.</span></span> <span data-ttu-id="4d5b8-141">Ta funkcja rozszerza przepływność operacji kopiowania i skraca czas potrzebny do przenoszenia danych.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-141">This feature enhances the throughput of a copy operation and reduces the time it takes to move data.</span></span>

<span data-ttu-id="4d5b8-142">To ustawienie jest inny niż **współbieżności** właściwości w definicji działania.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-142">This setting is different from the **concurrency** property in the activity definition.</span></span> <span data-ttu-id="4d5b8-143">**Współbieżności** właściwość określa liczbę **uruchamia równoczesne działanie kopiowania** do przetwarzania danych z innego działania systemu windows (1: 00 do 2 AM, 2 AM 3 AM 3 AM do 4 AM i tak dalej).</span><span class="sxs-lookup"><span data-stu-id="4d5b8-143">The **concurrency** property determines the number of **concurrent Copy Activity runs** to process data from different activity windows (1 AM to 2 AM, 2 AM to 3 AM, 3 AM to 4 AM, and so on).</span></span> <span data-ttu-id="4d5b8-144">Ta możliwość jest przydatne podczas wykonywania historycznych obciążenia.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-144">This capability is helpful when you perform a historical load.</span></span> <span data-ttu-id="4d5b8-145">Możliwość kopiowania równoległych dotyczy **pojedynczy uruchamiania działania**.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-145">The parallel copy capability applies to a **single activity run**.</span></span>

<span data-ttu-id="4d5b8-146">Oto przykładowy scenariusz.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-146">Let's look at a sample scenario.</span></span> <span data-ttu-id="4d5b8-147">W poniższym przykładzie wielu wycinków z przeszłości muszą być przetworzone.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-147">In the following example, multiple slices from the past need to be processed.</span></span> <span data-ttu-id="4d5b8-148">Fabryka danych uruchamia wystąpienia działania kopiowania (Uruchom działania) dla każdego wycinka:</span><span class="sxs-lookup"><span data-stu-id="4d5b8-148">Data Factory runs an instance of Copy Activity (an activity run) for each slice:</span></span>

* <span data-ttu-id="4d5b8-149">Wycinek danych z pierwszym oknie działania (1: 00 AM do 2) == > działania Uruchom 1</span><span class="sxs-lookup"><span data-stu-id="4d5b8-149">The data slice from the first activity window (1 AM to 2 AM) ==> Activity run 1</span></span>
* <span data-ttu-id="4d5b8-150">Wycinek danych z drugiego okna działania (2 AM do 3 AM) == > działania Uruchom 2</span><span class="sxs-lookup"><span data-stu-id="4d5b8-150">The data slice from the second activity window (2 AM to 3 AM) ==> Activity run 2</span></span>
* <span data-ttu-id="4d5b8-151">Wycinek danych z drugiego okna działania (3 AM do 4: 00) == > działania Uruchom 3</span><span class="sxs-lookup"><span data-stu-id="4d5b8-151">The data slice from the second activity window (3 AM to 4 AM) ==> Activity run 3</span></span>

<span data-ttu-id="4d5b8-152">I tak dalej.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-152">And so on.</span></span>

<span data-ttu-id="4d5b8-153">W tym przykładzie podczas **współbieżności** wartość jest równa 2, **działania Uruchom 1** i **działania Uruchom 2** skopiować dane z dwóch okien działania **jednocześnie** Aby zwiększyć wydajność przepływu danych.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-153">In this example, when the **concurrency** value is set to 2, **Activity run 1** and **Activity run 2** copy data from two activity windows **concurrently** to improve data movement performance.</span></span> <span data-ttu-id="4d5b8-154">Jednak jeśli wiele plików są skojarzone z działania Uruchom 1, usługa przenoszenia danych kopiuje pliki ze źródła do jednego pliku docelowego naraz.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-154">However, if multiple files are associated with Activity run 1, the data movement service copies files from the source to the destination one file at a time.</span></span>

### <a name="cloud-data-movement-units"></a><span data-ttu-id="4d5b8-155">Jednostki przepływu danych w chmurze</span><span class="sxs-lookup"><span data-stu-id="4d5b8-155">Cloud data movement units</span></span>
<span data-ttu-id="4d5b8-156">A **jednostki przepływu danych w chmurze (DMU)** miary, która odzwierciedla wydajność (kombinacja Procesora, pamięci i alokacji zasobów w sieci) w pojedynczą jednostkę w fabryce danych.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-156">A **cloud data movement unit (DMU)** is a measure that represents the power (a combination of CPU, memory, and network resource allocation) of a single unit in Data Factory.</span></span> <span data-ttu-id="4d5b8-157">DMU może być używany w operacji kopiowania w chmurze do chmury, ale nie w kopii hybrydowej.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-157">A DMU might be used in a cloud-to-cloud copy operation, but not in a hybrid copy.</span></span>

<span data-ttu-id="4d5b8-158">Domyślnie fabryki danych używa jednej chmurze DMU przeprowadzić uruchamiania pojedynczego działania kopiowania.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-158">By default, Data Factory uses a single cloud DMU to perform a single Copy Activity run.</span></span> <span data-ttu-id="4d5b8-159">Aby zastąpić to ustawienie domyślne, należy określić wartość dla **cloudDataMovementUnits** właściwości w następujący sposób.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-159">To override this default, specify a value for the **cloudDataMovementUnits** property as follows.</span></span> <span data-ttu-id="4d5b8-160">Uzyskać informacje na temat poziomu są bardziej wydajne, można uzyskać po skonfigurowaniu więcej jednostek dla konkretnej kopii źródłowy i odbiorczy, zobacz [dotyczące wydajności](#performance-reference).</span><span class="sxs-lookup"><span data-stu-id="4d5b8-160">For information about the level of performance gain you might get when you configure more units for a specific copy source and sink, see the [performance reference](#performance-reference).</span></span>

```json
"activities":[  
    {
        "name": "Sample copy activity",
        "description": "",
        "type": "Copy",
        "inputs": [{ "name": "InputDataset" }],
        "outputs": [{ "name": "OutputDataset" }],
        "typeProperties": {
            "source": {
                "type": "BlobSource",
            },
            "sink": {
                "type": "AzureDataLakeStoreSink"
            },
            "cloudDataMovementUnits": 32
        }
    }
]
```
<span data-ttu-id="4d5b8-161">**Dozwolone wartości** dla **cloudDataMovementUnits** właściwości są 1 (domyślna), 2, 4, 8, 16, 32.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-161">The **allowed values** for the **cloudDataMovementUnits** property are 1 (default), 2, 4, 8, 16, 32.</span></span> <span data-ttu-id="4d5b8-162">**Rzeczywistą liczbę chmury DMUs** używany w czasie wykonywania operacji kopiowania jest równa lub mniejsza niż skonfigurowana wartość, w zależności od tego wzorca sieci danych.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-162">The **actual number of cloud DMUs** that the copy operation uses at run time is equal to or less than the configured value, depending on your data pattern.</span></span>

> [!NOTE]
> <span data-ttu-id="4d5b8-163">Jeśli potrzebujesz więcej chmury DMUs umożliwiających uzyskanie większej produktywności, skontaktuj się z [pomocy technicznej platformy Azure](https://azure.microsoft.com/support/).</span><span class="sxs-lookup"><span data-stu-id="4d5b8-163">If you need more cloud DMUs for a higher throughput, contact [Azure support](https://azure.microsoft.com/support/).</span></span> <span data-ttu-id="4d5b8-164">Obecnie działa tylko wtedy, gdy ustawienie 8 i nowszych można **skopiować wielu plików z obiektu Blob magazynu/Data Lake Store/Amazon S3/w chmurze SFTP FTP/w chmurze do obiektu Blob magazynu/Data Lake Store/usługi Azure SQL Database**.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-164">Setting of 8 and above currently works only when you **copy multiple files from Blob storage/Data Lake Store/Amazon S3/cloud FTP/cloud SFTP to Blob storage/Data Lake Store/Azure SQL Database**.</span></span>
>

### <a name="parallelcopies"></a><span data-ttu-id="4d5b8-165">parallelCopies</span><span class="sxs-lookup"><span data-stu-id="4d5b8-165">parallelCopies</span></span>
<span data-ttu-id="4d5b8-166">Można użyć **parallelCopies** Właściwość wskazująca równoległości interesujące Kopiuj działania do użycia.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-166">You can use the **parallelCopies** property to indicate the parallelism that you want Copy Activity to use.</span></span> <span data-ttu-id="4d5b8-167">Tej właściwości można traktować jako maksymalną liczbę wątków w ramach działania kopiowania, który można ze źródła do odczytu lub zapisu z magazynów danych zbiornika równolegle.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-167">You can think of this property as the maximum number of threads within Copy Activity that can read from your source or write to your sink data stores in parallel.</span></span>

<span data-ttu-id="4d5b8-168">Dla każdego działania kopiowania Uruchom fabryki danych określa liczbę równoległych kopii umożliwia kopiowanie danych z źródła danych, przechowywania i dane miejsce docelowe przechowywania.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-168">For each Copy Activity run, Data Factory determines the number of parallel copies to use to copy data from the source data store and to the destination data store.</span></span> <span data-ttu-id="4d5b8-169">Domyślna liczba równoległych kopii, których używa zależy od typu źródłowy i odbiorczy, którego używasz.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-169">The default number of parallel copies that it uses depends on the type of source and sink that you are using.</span></span>  

| <span data-ttu-id="4d5b8-170">Źródłowy i odbiorczy</span><span class="sxs-lookup"><span data-stu-id="4d5b8-170">Source and sink</span></span> | <span data-ttu-id="4d5b8-171">Liczba równoległych kopii domyślne określone przez usługę</span><span class="sxs-lookup"><span data-stu-id="4d5b8-171">Default parallel copy count determined by service</span></span> |
| --- | --- |
| <span data-ttu-id="4d5b8-172">Kopiowanie danych między magazynów opartych na plikach (magazynu obiektów Blob; Data Lake Store; Amazon S3; lokalnego systemu plików; lokalny system plików HDFS)</span><span class="sxs-lookup"><span data-stu-id="4d5b8-172">Copy data between file-based stores (Blob storage; Data Lake Store; Amazon S3; an on-premises file system; an on-premises HDFS)</span></span> |<span data-ttu-id="4d5b8-173">Od 1 do 32.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-173">Between 1 and 32.</span></span> <span data-ttu-id="4d5b8-174">Zależy od rozmiaru plików i liczby jednostek przepływu danych chmury (DMUs) umożliwia kopiowanie danych między dwa magazyny danych w chmurze lub fizycznych Konfiguracja komputera bramy, służącą do kopii hybrydowej (kopiowanie danych do lub z lokalnego magazynu danych).</span><span class="sxs-lookup"><span data-stu-id="4d5b8-174">Depends on the size of the files and the number of cloud data movement units (DMUs) used to copy data between two cloud data stores, or the physical configuration of the Gateway machine used for a hybrid copy (to copy data to or from an on-premises data store).</span></span> |
| <span data-ttu-id="4d5b8-175">Kopiowanie danych z **źródła danych magazynu do magazynu tabel Azure**</span><span class="sxs-lookup"><span data-stu-id="4d5b8-175">Copy data from **any source data store to Azure Table storage**</span></span> |<span data-ttu-id="4d5b8-176">4</span><span class="sxs-lookup"><span data-stu-id="4d5b8-176">4</span></span> |
| <span data-ttu-id="4d5b8-177">Wszystkie inne źródłowy i odbiorczy pary</span><span class="sxs-lookup"><span data-stu-id="4d5b8-177">All other source and sink pairs</span></span> |<span data-ttu-id="4d5b8-178">1</span><span class="sxs-lookup"><span data-stu-id="4d5b8-178">1</span></span> |

<span data-ttu-id="4d5b8-179">Zazwyczaj domyślne zachowanie powinien zapewnić najlepszą wydajność.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-179">Usually, the default behavior should give you the best throughput.</span></span> <span data-ttu-id="4d5b8-180">Jednak do kontrolowania obciążenia na maszynach hostujących dane są przechowywane lub do dopasowywania wydajności kopii, możesz zastąpić wartość domyślną i określ wartość **parallelCopies** właściwości.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-180">However, to control the load on machines that host your data stores, or to tune copy performance, you may choose to override the default value and specify a value for the **parallelCopies** property.</span></span> <span data-ttu-id="4d5b8-181">Wartość musi być od 1 do 32 (zarówno z wartościami granicznymi).</span><span class="sxs-lookup"><span data-stu-id="4d5b8-181">The value must be between 1 and 32 (both inclusive).</span></span> <span data-ttu-id="4d5b8-182">W czasie wykonywania Aby uzyskać najlepszą wydajność, działanie kopiowania używa wartość, która jest mniejsza lub równa wartości zostanie ustawiona.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-182">At run time, for the best performance, Copy Activity uses a value that is less than or equal to the value that you set.</span></span>

```json
"activities":[  
    {
        "name": "Sample copy activity",
        "description": "",
        "type": "Copy",
        "inputs": [{ "name": "InputDataset" }],
        "outputs": [{ "name": "OutputDataset" }],
        "typeProperties": {
            "source": {
                "type": "BlobSource",
            },
            "sink": {
                "type": "AzureDataLakeStoreSink"
            },
            "parallelCopies": 8
        }
    }
]
```
<span data-ttu-id="4d5b8-183">Informacje, które należy zwrócić uwagę:</span><span class="sxs-lookup"><span data-stu-id="4d5b8-183">Points to note:</span></span>

* <span data-ttu-id="4d5b8-184">Po skopiowaniu danych między magazynów opartych na plikach, **parallelCopies** określić równoległości na poziomie plików.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-184">When you copy data between file-based stores, the **parallelCopies** determine the parallelism at the file level.</span></span> <span data-ttu-id="4d5b8-185">Podziału w jednym pliku sytuacja może mieć miejsce pod automatycznie i w sposób niewidoczny dla użytkownika, a zostało zaprojektowane na potrzeby ładowania danych w równoległych i prostopadłym do parallelCopies najlepsze rozmiar fragmentu odpowiedniego dla typu danego źródła danych magazynu.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-185">The chunking within a single file would happen underneath automatically and transparently, and it's designed to use the best suitable chunk size for a given source data store type to load data in parallel and orthogonal to parallelCopies.</span></span> <span data-ttu-id="4d5b8-186">Rzeczywista liczba równoległych kopii używa usługi przenoszenia danych w czasie wykonywania operacji kopiowania jest nie więcej niż liczba plików.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-186">The actual number of parallel copies the data movement service uses for the copy operation at run time is no more than the number of files you have.</span></span> <span data-ttu-id="4d5b8-187">Jeśli jest to zachowanie kopii **mergeFile**, aktywność kopiowania nie może korzystać z równoległości poziomie plików.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-187">If the copy behavior is **mergeFile**, Copy Activity cannot take advantage of file-level parallelism.</span></span>
* <span data-ttu-id="4d5b8-188">Po określeniu wartość **parallelCopies** właściwość, należy wziąć pod uwagę wzrost obciążenia na magazyny danych źródłowy i odbiorczy, a także do bramy, jest kopią hybrydowego.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-188">When you specify a value for the **parallelCopies** property, consider the load increase on your source and sink data stores, and to gateway if it is a hybrid copy.</span></span> <span data-ttu-id="4d5b8-189">Ma to miejsce, zwłaszcza jeśli masz wiele działań lub uruchamia równoczesnych działań uruchamianych z tego samego magazynu danych.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-189">This happens especially when you have multiple activities or concurrent runs of the same activities that run against the same data store.</span></span> <span data-ttu-id="4d5b8-190">Jeśli okaże się, że magazyn danych lub bramy jest przeciążony obciążenia w, Zmniejsz **parallelCopies** wartość na zmniejszenie obciążenia.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-190">If you notice that either the data store or Gateway is overwhelmed with the load, decrease the **parallelCopies** value to relieve the load.</span></span>
* <span data-ttu-id="4d5b8-191">Po skopiowaniu danych z magazynów, które nie są opartą na plikach do magazynów, które są oparte na pliku usługi przenoszenia danych ignoruje **parallelCopies** właściwości.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-191">When you copy data from stores that are not file-based to stores that are file-based, the data movement service ignores the **parallelCopies** property.</span></span> <span data-ttu-id="4d5b8-192">Nawet wtedy, gdy określono równoległości, nie zostanie zastosowane w tym przypadku.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-192">Even if parallelism is specified, it's not applied in this case.</span></span>

> [!NOTE]
> <span data-ttu-id="4d5b8-193">Należy użyć bramy zarządzania danymi w wersji 1.11 lub nowszej, aby użyć **parallelCopies** funkcji po wykonaniu kopii hybrydowej.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-193">You must use Data Management Gateway version 1.11 or later to use the **parallelCopies** feature when you do a hybrid copy.</span></span>
>
>

<span data-ttu-id="4d5b8-194">Aby lepiej wykorzystać te dwie właściwości i ulepszyć Twoje przepływność przepływu danych, zobacz [przykładowe przypadki użycia](#case-study-use-parallel-copy).</span><span class="sxs-lookup"><span data-stu-id="4d5b8-194">To better use these two properties, and to enhance your data movement throughput, see the [sample use cases](#case-study-use-parallel-copy).</span></span> <span data-ttu-id="4d5b8-195">Nie trzeba skonfigurować **parallelCopies** mógł korzystać z zachowaniem domyślnym.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-195">You don't need to configure **parallelCopies** to take advantage of the default behavior.</span></span> <span data-ttu-id="4d5b8-196">Jeśli skonfigurujesz i **parallelCopies** jest za mały, chmury wielu DMUs może nie być w pełni wykorzystywane.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-196">If you do configure and **parallelCopies** is too small, multiple cloud DMUs might not be fully utilized.</span></span>  

### <a name="billing-impact"></a><span data-ttu-id="4d5b8-197">Wpływ rozliczeń</span><span class="sxs-lookup"><span data-stu-id="4d5b8-197">Billing impact</span></span>
<span data-ttu-id="4d5b8-198">Ma ona **ważne** pamiętać, że są naliczane na podstawie całkowitej czasu operacji kopiowania.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-198">It's **important** to remember that you are charged based on the total time of the copy operation.</span></span> <span data-ttu-id="4d5b8-199">Jeśli zadanie kopiowania używane do podjęcia godzinę z jednostką jednej chmury i obecnie trwa 15 minut z czterech jednostki chmury, zestawienie ogólnej pozostaje prawie takie same.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-199">If a copy job used to take one hour with one cloud unit and now it takes 15 minutes with four cloud units, the overall bill remains almost the same.</span></span> <span data-ttu-id="4d5b8-200">Na przykład używasz cztery jednostki chmury.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-200">For example, you use four cloud units.</span></span> <span data-ttu-id="4d5b8-201">Pierwszy jednostki chmury spędza na 10 minut, a drugi, 10 minut, trzeci co 5 minut, a czwarty co 5 minut, uruchom wszystko w jednym działaniu kopiowania.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-201">The first cloud unit spends 10 minutes, the second one, 10 minutes, the third one, 5 minutes, and the fourth one, 5 minutes, all in one Copy Activity run.</span></span> <span data-ttu-id="4d5b8-202">Naliczane są opłaty za czas całkowita kopiowania (przenoszenie danych), który jest 10 + 10 + 5 + 5 = 30 minut.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-202">You are charged for the total copy (data movement) time, which is 10 + 10 + 5 + 5 = 30 minutes.</span></span> <span data-ttu-id="4d5b8-203">Przy użyciu **parallelCopies** nie ma wpływu na rozliczenia.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-203">Using **parallelCopies** does not affect billing.</span></span>

## <a name="staged-copy"></a><span data-ttu-id="4d5b8-204">Kopiuj przemieszczanego</span><span class="sxs-lookup"><span data-stu-id="4d5b8-204">Staged copy</span></span>
<span data-ttu-id="4d5b8-205">Po skopiowaniu danych z magazynu danych źródła do ujścia magazynu danych można używać magazynu obiektów Blob jako magazyn tymczasowy tymczasowej.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-205">When you copy data from a source data store to a sink data store, you might choose to use Blob storage as an interim staging store.</span></span> <span data-ttu-id="4d5b8-206">Przemieszczania jest szczególnie przydatne w następujących przypadkach:</span><span class="sxs-lookup"><span data-stu-id="4d5b8-206">Staging is especially useful in the following cases:</span></span>

1. <span data-ttu-id="4d5b8-207">**Aby pozyskiwania danych z różnych baz danych do usługi SQL Data Warehouse przy użyciu programu PolyBase**.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-207">**You want to ingest data from various data stores into SQL Data Warehouse via PolyBase**.</span></span> <span data-ttu-id="4d5b8-208">Usługa SQL Data Warehouse używa PolyBase jako mechanizm wysokiej przepustowości ładowanie dużej ilości danych do usługi SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-208">SQL Data Warehouse uses PolyBase as a high-throughput mechanism to load a large amount of data into SQL Data Warehouse.</span></span> <span data-ttu-id="4d5b8-209">Źródło danych musi być w magazynie obiektów Blob i musi spełniać kryteria.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-209">However, the source data must be in Blob storage, and it must meet additional criteria.</span></span> <span data-ttu-id="4d5b8-210">Podczas ładowania danych z magazynu danych innego niż magazynu obiektów Blob, możesz przeprowadzić aktywację dane kopiowanie za pośrednictwem tymczasowego przemieszczania magazynu obiektów Blob.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-210">When you load data from a data store other than Blob storage, you can activate data copying via interim staging Blob storage.</span></span> <span data-ttu-id="4d5b8-211">W takim przypadku fabryki danych wykonuje przekształcenia danych wymagane, aby upewnić się, że spełnia wymagania programu PolyBase.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-211">In that case, Data Factory performs the required data transformations to ensure that it meets the requirements of PolyBase.</span></span> <span data-ttu-id="4d5b8-212">Następnie używa PolyBase, aby załadować dane do usługi SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-212">Then it uses PolyBase to load data into SQL Data Warehouse.</span></span> <span data-ttu-id="4d5b8-213">Aby uzyskać więcej informacji, zobacz [Użyj programu PolyBase, aby załadować dane do usługi Azure SQL Data Warehouse](data-factory-azure-sql-data-warehouse-connector.md#use-polybase-to-load-data-into-azure-sql-data-warehouse).</span><span class="sxs-lookup"><span data-stu-id="4d5b8-213">For more details, see [Use PolyBase to load data into Azure SQL Data Warehouse](data-factory-azure-sql-data-warehouse-connector.md#use-polybase-to-load-data-into-azure-sql-data-warehouse).</span></span> <span data-ttu-id="4d5b8-214">Aby uzyskać wskazówki z przypadkiem użycia, zobacz [załadować 1 TB do usługi Azure SQL Data Warehouse z fabryką danych Azure w obszarze 15 minut](data-factory-load-sql-data-warehouse.md).</span><span class="sxs-lookup"><span data-stu-id="4d5b8-214">For a walkthrough with a use case, see [Load 1 TB into Azure SQL Data Warehouse under 15 minutes with Azure Data Factory](data-factory-load-sql-data-warehouse.md).</span></span>
2. <span data-ttu-id="4d5b8-215">**Czasami zajmuje trochę czasu, aby wykonać przenoszenia danych hybrydowych (oznacza to, aby skopiować między danymi lokalnymi magazynu i danych w chmurze magazynu) przez powolne połączenie sieciowe**.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-215">**Sometimes it takes a while to perform a hybrid data movement (that is, to copy between an on-premises data store and a cloud data store) over a slow network connection**.</span></span> <span data-ttu-id="4d5b8-216">Aby zwiększyć wydajność, można skompresować danych w sieci lokalnej, aby zajmuje mniej czasu, aby przenieść dane do przemieszczania danych przechowywanych w chmurze.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-216">To improve performance, you can compress the data on-premises so that it takes less time to move data to the staging data store in the cloud.</span></span> <span data-ttu-id="4d5b8-217">Następnie można zdekompresować danych w magazynie przemieszczania przed załadowaniem w magazynie danych docelowym.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-217">Then you can decompress the data in the staging store before you load it into the destination data store.</span></span>
3. <span data-ttu-id="4d5b8-218">**Nie chcesz otworzyć porty inne niż port 80 i portu 443 w zaporze, z powodu zasad firmowych IT**.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-218">**You don't want to open ports other than port 80 and port 443 in your firewall, because of corporate IT policies**.</span></span> <span data-ttu-id="4d5b8-219">Na przykład podczas kopiowania danych z lokalnego magazynu danych do zbiornika bazy danych SQL Azure lub ujścia magazynu danych SQL Azure, musisz aktywować komunikacji wychodzącej TCP na porcie 1433 dla zapory systemu Windows i firmowej zapory.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-219">For example, when you copy data from an on-premises data store to an Azure SQL Database sink or an Azure SQL Data Warehouse sink, you need to activate outbound TCP communication on port 1433 for both the Windows firewall and your corporate firewall.</span></span> <span data-ttu-id="4d5b8-220">W tym scenariuszu korzystać z bramy do pierwszego kopiowania danych do wystąpienia tymczasowej magazynu obiektów Blob za pośrednictwem protokołu HTTP lub HTTPS na porcie 443.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-220">In this scenario, take advantage of the gateway to first copy data to a Blob storage staging instance over HTTP or HTTPS on port 443.</span></span> <span data-ttu-id="4d5b8-221">Następnie załadować dane do bazy danych SQL lub SQL Data Warehouse z obszaru przemieszczania magazynu obiektów Blob.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-221">Then, load the data into SQL Database or SQL Data Warehouse from Blob storage staging.</span></span> <span data-ttu-id="4d5b8-222">W tym przepływie nie trzeba włączyć port 1433.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-222">In this flow, you don't need to enable port 1433.</span></span>

### <a name="how-staged-copy-works"></a><span data-ttu-id="4d5b8-223">Jak przemieszczanego działania kopiowania</span><span class="sxs-lookup"><span data-stu-id="4d5b8-223">How staged copy works</span></span>
<span data-ttu-id="4d5b8-224">Po aktywowaniu funkcji przemieszczania najpierw dane są kopiowane z magazynu danych źródła w magazynie danych tymczasowych (użycie własnego).</span><span class="sxs-lookup"><span data-stu-id="4d5b8-224">When you activate the staging feature, first the data is copied from the source data store to the staging data store (bring your own).</span></span> <span data-ttu-id="4d5b8-225">Następnie dane są kopiowane z magazynu danych tymczasowych do ujścia magazynu danych.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-225">Next, the data is copied from the staging data store to the sink data store.</span></span> <span data-ttu-id="4d5b8-226">Fabryka danych automatycznie zarządza przepływu dwuetapowej dla Ciebie.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-226">Data Factory automatically manages the two-stage flow for you.</span></span> <span data-ttu-id="4d5b8-227">Fabryka danych czyści dane z magazynu przemieszczania także po zakończeniu przenoszenia danych.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-227">Data Factory also cleans up temporary data from the staging storage after the data movement is complete.</span></span>

<span data-ttu-id="4d5b8-228">Brama nie jest używany w scenariuszu kopiowania do chmury (źródłowy i odbiorczy dane magazynów znajdują się w chmurze).</span><span class="sxs-lookup"><span data-stu-id="4d5b8-228">In the cloud copy scenario (both source and sink data stores are in the cloud), gateway is not used.</span></span> <span data-ttu-id="4d5b8-229">Usługi fabryka danych z wykonuje operacje kopiowania.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-229">The Data Factory service performs the copy operations.</span></span>

![Przemieszczane kopiowania: Scenariusz chmury](media/data-factory-copy-activity-performance/staged-copy-cloud-scenario.png)

<span data-ttu-id="4d5b8-231">W scenariuszu hybrydowym kopiowania (źródło jest lokalnie i sink znajduje się w chmurze), bramy przenosi dane z magazynu danych źródła do tymczasowej magazynu danych.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-231">In the hybrid copy scenario (source is on-premises and sink is in the cloud), the gateway moves data from the source data store to a staging data store.</span></span> <span data-ttu-id="4d5b8-232">Usługi fabryka danych przenosi dane z magazynu danych tymczasowych do ujścia magazynu danych.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-232">Data Factory service moves data from the staging data store to the sink data store.</span></span> <span data-ttu-id="4d5b8-233">Kopiowanie danych z magazynu danych chmury z magazynem danych lokalnych za pośrednictwem trybu przejściowego jest również obsługiwane z przepływem odwróconej.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-233">Copying data from a cloud data store to an on-premises data store via staging also is supported with the reversed flow.</span></span>

![Przemieszczane kopiowania: scenariusza hybrydowego](media/data-factory-copy-activity-performance/staged-copy-hybrid-scenario.png)

<span data-ttu-id="4d5b8-235">Po uaktywnieniu przepływu danych przy użyciu tymczasowego magazynu można określić, czy mają dane skompresowane przed przeniesieniem danych z magazynu danych źródła z magazynem danych tymczasowych lub przemieszczania, a następnie dekompresowane przed przenoszenia danych z przejściowej lub przemieszczania danych Przechowaj ujścia magazynu danych.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-235">When you activate data movement by using a staging store, you can specify whether you want the data to be compressed before moving data from the source data store to an interim or staging data store, and then decompressed before moving data from an interim or staging data store to the sink data store.</span></span>

<span data-ttu-id="4d5b8-236">Obecnie nie można skopiować danych między dwa lokalnych magazynów danych przy użyciu magazynu tymczasowego.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-236">Currently, you can't copy data between two on-premises data stores by using a staging store.</span></span> <span data-ttu-id="4d5b8-237">Oczekujemy tę opcję, aby wkrótce dostępna.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-237">We expect this option to be available soon.</span></span>

### <a name="configuration"></a><span data-ttu-id="4d5b8-238">Konfiguracja</span><span class="sxs-lookup"><span data-stu-id="4d5b8-238">Configuration</span></span>
<span data-ttu-id="4d5b8-239">Skonfiguruj **enableStaging** ustawienie w przypadku działania kopiowania, aby określić, czy dane umieszczane w magazynie obiektów Blob, przed załadowaniem do magazynu danych docelowym.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-239">Configure the **enableStaging** setting in Copy Activity to specify whether you want the data to be staged in Blob storage before you load it into a destination data store.</span></span> <span data-ttu-id="4d5b8-240">Podczas ustawiania **enableStaging** na wartość PRAWDA, określ dodatkowe właściwości, które są wymienione w następnej tabeli.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-240">When you set **enableStaging** to TRUE, specify the additional properties listed in the next table.</span></span> <span data-ttu-id="4d5b8-241">Jeśli nie masz, należy także utworzyć magazynu Azure lub magazynu udostępnionego usługi połączone podpisu dostępu dla przemieszczania.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-241">If you don’t have one, you also need to create an Azure Storage or Storage shared access signature-linked service for staging.</span></span>

| <span data-ttu-id="4d5b8-242">Właściwość</span><span class="sxs-lookup"><span data-stu-id="4d5b8-242">Property</span></span> | <span data-ttu-id="4d5b8-243">Opis</span><span class="sxs-lookup"><span data-stu-id="4d5b8-243">Description</span></span> | <span data-ttu-id="4d5b8-244">Wartość domyślna</span><span class="sxs-lookup"><span data-stu-id="4d5b8-244">Default value</span></span> | <span data-ttu-id="4d5b8-245">Wymagane</span><span class="sxs-lookup"><span data-stu-id="4d5b8-245">Required</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="4d5b8-246">**enableStaging**</span><span class="sxs-lookup"><span data-stu-id="4d5b8-246">**enableStaging**</span></span> |<span data-ttu-id="4d5b8-247">Określ, czy chcesz skopiować dane za pośrednictwem przejściowej przemieszczania magazynu.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-247">Specify whether you want to copy data via an interim staging store.</span></span> |<span data-ttu-id="4d5b8-248">False</span><span class="sxs-lookup"><span data-stu-id="4d5b8-248">False</span></span> |<span data-ttu-id="4d5b8-249">Nie</span><span class="sxs-lookup"><span data-stu-id="4d5b8-249">No</span></span> |
| <span data-ttu-id="4d5b8-250">**linkedServiceName**</span><span class="sxs-lookup"><span data-stu-id="4d5b8-250">**linkedServiceName**</span></span> |<span data-ttu-id="4d5b8-251">Określ nazwę [AzureStorage](data-factory-azure-blob-connector.md#azure-storage-linked-service) lub [element AzureStorageSas](data-factory-azure-blob-connector.md#azure-storage-sas-linked-service) połączonej usługi, która odwołuje się do wystąpienia magazynu, który jest używany jako magazyn tymczasowy tymczasowej.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-251">Specify the name of an [AzureStorage](data-factory-azure-blob-connector.md#azure-storage-linked-service) or [AzureStorageSas](data-factory-azure-blob-connector.md#azure-storage-sas-linked-service) linked service, which refers to the instance of Storage that you use as an interim staging store.</span></span> <br/><br/> <span data-ttu-id="4d5b8-252">Aby załadować dane do usługi SQL Data Warehouse przy użyciu programu PolyBase nie można używać magazynu sygnatury dostępu współdzielonego.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-252">You cannot use Storage with a shared access signature to load data into SQL Data Warehouse via PolyBase.</span></span> <span data-ttu-id="4d5b8-253">Można go użyć w innych scenariuszach.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-253">You can use it in all other scenarios.</span></span> |<span data-ttu-id="4d5b8-254">Nie dotyczy</span><span class="sxs-lookup"><span data-stu-id="4d5b8-254">N/A</span></span> |<span data-ttu-id="4d5b8-255">Tak, gdy **enableStaging** ma wartość TRUE</span><span class="sxs-lookup"><span data-stu-id="4d5b8-255">Yes, when **enableStaging** is set to TRUE</span></span> |
| <span data-ttu-id="4d5b8-256">**Ścieżka**</span><span class="sxs-lookup"><span data-stu-id="4d5b8-256">**path**</span></span> |<span data-ttu-id="4d5b8-257">Określ ścieżki do magazynu obiektów Blob, który ma zawierać przemieszczonych danych.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-257">Specify the Blob storage path that you want to contain the staged data.</span></span> <span data-ttu-id="4d5b8-258">Jeśli ścieżka nie zostanie określona, usługa tworzy kontener do przechowywania danych tymczasowych.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-258">If you do not provide a path, the service creates a container to store temporary data.</span></span> <br/><br/> <span data-ttu-id="4d5b8-259">Określ ścieżkę tylko w przypadku używania magazynu z sygnatury dostępu współdzielonego lub wymagają dane tymczasowe w określonej lokalizacji.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-259">Specify a path only if you use Storage with a shared access signature, or you require temporary data to be in a specific location.</span></span> |<span data-ttu-id="4d5b8-260">Nie dotyczy</span><span class="sxs-lookup"><span data-stu-id="4d5b8-260">N/A</span></span> |<span data-ttu-id="4d5b8-261">Nie</span><span class="sxs-lookup"><span data-stu-id="4d5b8-261">No</span></span> |
| <span data-ttu-id="4d5b8-262">**enableCompression**</span><span class="sxs-lookup"><span data-stu-id="4d5b8-262">**enableCompression**</span></span> |<span data-ttu-id="4d5b8-263">Określa, czy dane powinny skompresowany, zanim zostanie on skopiowany do miejsca docelowego.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-263">Specifies whether data should be compressed before it is copied to the destination.</span></span> <span data-ttu-id="4d5b8-264">To ustawienie pozwala ograniczyć ilość danych transferowanych.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-264">This setting reduces the volume of data being transferred.</span></span> |<span data-ttu-id="4d5b8-265">False</span><span class="sxs-lookup"><span data-stu-id="4d5b8-265">False</span></span> |<span data-ttu-id="4d5b8-266">Nie</span><span class="sxs-lookup"><span data-stu-id="4d5b8-266">No</span></span> |

<span data-ttu-id="4d5b8-267">Oto przykład definicji działanie kopiowania z właściwościami, które zostały opisane w powyższej tabeli:</span><span class="sxs-lookup"><span data-stu-id="4d5b8-267">Here's a sample definition of Copy Activity with the properties that are described in the preceding table:</span></span>

```json
"activities":[  
{
    "name": "Sample copy activity",
    "type": "Copy",
    "inputs": [{ "name": "OnpremisesSQLServerInput" }],
    "outputs": [{ "name": "AzureSQLDBOutput" }],
    "typeProperties": {
        "source": {
            "type": "SqlSource",
        },
        "sink": {
            "type": "SqlSink"
        },
        "enableStaging": true,
        "stagingSettings": {
            "linkedServiceName": "MyStagingBlob",
            "path": "stagingcontainer/path",
            "enableCompression": true
        }
    }
}
]
```

### <a name="billing-impact"></a><span data-ttu-id="4d5b8-268">Wpływ rozliczeń</span><span class="sxs-lookup"><span data-stu-id="4d5b8-268">Billing impact</span></span>
<span data-ttu-id="4d5b8-269">Są naliczane na podstawie dwa kroki: kopiowanie czas trwania i skopiować typu.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-269">You are charged based on two steps: copy duration and copy type.</span></span>

* <span data-ttu-id="4d5b8-270">Gdy używasz przemieszczania podczas kopiowania chmury (kopiowanie danych z magazynu danych chmury do innego magazynu danych w chmurze), naliczane są opłaty [łączny czas trwania kopiowania kroki 1 i 2] x [cenie jednostkowej kopiowania chmury].</span><span class="sxs-lookup"><span data-stu-id="4d5b8-270">When you use staging during a cloud copy (copying data from a cloud data store to another cloud data store), you are charged the [sum of copy duration for step 1 and step 2] x [cloud copy unit price].</span></span>
* <span data-ttu-id="4d5b8-271">Gdy używasz przemieszczania podczas kopiowania hybrydowych (kopiowanie danych z lokalnego magazynu danych w magazynie danych w chmurze), naliczane są opłaty [hybrydowego kopiowania czas] x [cenie jednostkowej kopiowania hybrydowego] + [czas trwania kopiowania w chmurze] x [cenie jednostkowej kopiowania chmury].</span><span class="sxs-lookup"><span data-stu-id="4d5b8-271">When you use staging during a hybrid copy (copying data from an on-premises data store to a cloud data store), you are charged for [hybrid copy duration] x [hybrid copy unit price] + [cloud copy duration] x [cloud copy unit price].</span></span>

## <a name="performance-tuning-steps"></a><span data-ttu-id="4d5b8-272">Kroki dostrajania wydajności</span><span class="sxs-lookup"><span data-stu-id="4d5b8-272">Performance tuning steps</span></span>
<span data-ttu-id="4d5b8-273">Zaleca się, że należy wykonać następujące kroki w celu dostrojenia wydajności usługi fabryka danych z działania kopiowania:</span><span class="sxs-lookup"><span data-stu-id="4d5b8-273">We suggest that you take these steps to tune the performance of your Data Factory service with Copy Activity:</span></span>

1. <span data-ttu-id="4d5b8-274">**Ustalanie linii bazowej**.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-274">**Establish a baseline**.</span></span> <span data-ttu-id="4d5b8-275">W fazie projektowania przetestować potoku sieci za pomocą działania kopiowania przed przykładowych danych reprezentatywnych.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-275">During the development phase, test your pipeline by using Copy Activity against a representative data sample.</span></span> <span data-ttu-id="4d5b8-276">Korzystając z fabryką danych [fragmentowania modelu](data-factory-scheduling-and-execution.md) Aby ograniczyć ilość danych z.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-276">You can use the Data Factory [slicing model](data-factory-scheduling-and-execution.md) to limit the amount of data you work with.</span></span>

   <span data-ttu-id="4d5b8-277">Zbieranie czasu wykonywania i charakterystyki wydajności przy użyciu **monitorowanie i zarządzanie aplikacjami**.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-277">Collect execution time and performance characteristics by using the **Monitoring and Management App**.</span></span> <span data-ttu-id="4d5b8-278">Wybierz **Monitor & Zarządzaj** na stronie głównej fabryki danych.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-278">Choose **Monitor & Manage** on your Data Factory home page.</span></span> <span data-ttu-id="4d5b8-279">W widoku drzewa wybierz **wyjściowy zestaw danych**.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-279">In the tree view, choose the **output dataset**.</span></span> <span data-ttu-id="4d5b8-280">W **okien działania** wybierz uruchamiania działania kopiowania.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-280">In the **Activity Windows** list, choose the Copy Activity run.</span></span> <span data-ttu-id="4d5b8-281">**Okien działania** Wyświetla czas trwania działania kopiowania i rozmiar danych, który jest skopiowany.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-281">**Activity Windows** lists the Copy Activity duration and the size of the data that's copied.</span></span> <span data-ttu-id="4d5b8-282">Przepływność ma na liście **działania okna Eksploratora**.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-282">The throughput is listed in **Activity Window Explorer**.</span></span> <span data-ttu-id="4d5b8-283">Aby dowiedzieć się więcej na temat aplikacji, zobacz [monitorowanie i zarządzanie nimi potoki fabryki danych Azure za pomocą aplikacji do zarządzania i monitorowania](data-factory-monitor-manage-app.md).</span><span class="sxs-lookup"><span data-stu-id="4d5b8-283">To learn more about the app, see [Monitor and manage Azure Data Factory pipelines by using the Monitoring and Management App](data-factory-monitor-manage-app.md).</span></span>

   ![Szczegóły uruchamiania działania](./media/data-factory-copy-activity-performance/mmapp-activity-run-details.png)

   <span data-ttu-id="4d5b8-285">W dalszej części tego artykułu możesz porównać wydajności i konfiguracji scenariusz działania kopiowania [dotyczące wydajności](#performance-reference) z naszych testów.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-285">Later in the article, you can compare the performance and configuration of your scenario to Copy Activity’s [performance reference](#performance-reference) from our tests.</span></span>
2. <span data-ttu-id="4d5b8-286">**Diagnozowanie i zoptymalizować wydajność**.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-286">**Diagnose and optimize performance**.</span></span> <span data-ttu-id="4d5b8-287">Jeśli wydajności, które należy obserwować nie spełnia Twoich oczekiwań, trzeba będzie zidentyfikować wąskich gardeł wydajności.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-287">If the performance you observe doesn't meet your expectations, you need to identify performance bottlenecks.</span></span> <span data-ttu-id="4d5b8-288">Następnie optymalizacji wydajności, usunąć lub ograniczenia wpływu wąskich gardeł.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-288">Then, optimize performance to remove or reduce the effect of bottlenecks.</span></span> <span data-ttu-id="4d5b8-289">Pełny opis wydajności diagnostyki wykracza poza zakres tego artykułu, ale poniżej przedstawiono niektóre typowe kwestie wymagające rozważenia:</span><span class="sxs-lookup"><span data-stu-id="4d5b8-289">A full description of performance diagnosis is beyond the scope of this article, but here are some common considerations:</span></span>

   * <span data-ttu-id="4d5b8-290">Funkcje wydajności:</span><span class="sxs-lookup"><span data-stu-id="4d5b8-290">Performance features:</span></span>
     * [<span data-ttu-id="4d5b8-291">Kopiuj równoległych</span><span class="sxs-lookup"><span data-stu-id="4d5b8-291">Parallel copy</span></span>](#parallel-copy)
     * [<span data-ttu-id="4d5b8-292">Jednostki przepływu danych w chmurze</span><span class="sxs-lookup"><span data-stu-id="4d5b8-292">Cloud data movement units</span></span>](#cloud-data-movement-units)
     * [<span data-ttu-id="4d5b8-293">Kopiuj przemieszczanego</span><span class="sxs-lookup"><span data-stu-id="4d5b8-293">Staged copy</span></span>](#staged-copy)
     * [<span data-ttu-id="4d5b8-294">Skalowalność zarządzania bramy danych</span><span class="sxs-lookup"><span data-stu-id="4d5b8-294">Data Management Gateway scalability</span></span>](data-factory-data-management-gateway-high-availability-scalability.md)
   * [<span data-ttu-id="4d5b8-295">Brama zarządzania danymi</span><span class="sxs-lookup"><span data-stu-id="4d5b8-295">Data Management Gateway</span></span>](#considerations-for-data-management-gateway)
   * [<span data-ttu-id="4d5b8-296">Źródło</span><span class="sxs-lookup"><span data-stu-id="4d5b8-296">Source</span></span>](#considerations-for-the-source)
   * [<span data-ttu-id="4d5b8-297">Obiekt sink</span><span class="sxs-lookup"><span data-stu-id="4d5b8-297">Sink</span></span>](#considerations-for-the-sink)
   * [<span data-ttu-id="4d5b8-298">Serializacja i deserializacja</span><span class="sxs-lookup"><span data-stu-id="4d5b8-298">Serialization and deserialization</span></span>](#considerations-for-serialization-and-deserialization)
   * [<span data-ttu-id="4d5b8-299">Kompresja</span><span class="sxs-lookup"><span data-stu-id="4d5b8-299">Compression</span></span>](#considerations-for-compression)
   * [<span data-ttu-id="4d5b8-300">Mapowanie kolumny</span><span class="sxs-lookup"><span data-stu-id="4d5b8-300">Column mapping</span></span>](#considerations-for-column-mapping)
   * [<span data-ttu-id="4d5b8-301">Inne zagadnienia</span><span class="sxs-lookup"><span data-stu-id="4d5b8-301">Other considerations</span></span>](#other-considerations)
3. <span data-ttu-id="4d5b8-302">**Rozwiń węzeł Konfiguracja, aby cały zestaw danych**.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-302">**Expand the configuration to your entire data set**.</span></span> <span data-ttu-id="4d5b8-303">Po zakończeniu wykonywania wyników i wydajności, możesz rozszerzyć definicji i okres aktywności potoku, aby pokrywał cały zestaw danych.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-303">When you're satisfied with the execution results and performance, you can expand the definition and pipeline active period to cover your entire data set.</span></span>

## <a name="considerations-for-data-management-gateway"></a><span data-ttu-id="4d5b8-304">Zagadnienia dotyczące bramy zarządzania danymi</span><span class="sxs-lookup"><span data-stu-id="4d5b8-304">Considerations for Data Management Gateway</span></span>
<span data-ttu-id="4d5b8-305">**Instalator bramy**: zalecane jest użycie dedykowanych maszyny do hosta bramy zarządzania danymi.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-305">**Gateway setup**: We recommend that you use a dedicated machine to host Data Management Gateway.</span></span> <span data-ttu-id="4d5b8-306">Zobacz [zagadnienia dotyczące korzystania z bramy zarządzania danymi](data-factory-data-management-gateway.md#considerations-for-using-gateway).</span><span class="sxs-lookup"><span data-stu-id="4d5b8-306">See [Considerations for using Data Management Gateway](data-factory-data-management-gateway.md#considerations-for-using-gateway).</span></span>  

<span data-ttu-id="4d5b8-307">**Monitorowanie bramy i w górę/skalowalnych w poziomie**: pojedyncza brama logicznych z co najmniej jeden węzeł bramy może obsługiwać wielu uruchomień działania kopiowania w tym samym czasie jednocześnie.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-307">**Gateway monitoring and scale-up/out**: A single logical gateway with one or more gateway nodes can serve multiple Copy Activity runs at the same time concurrently.</span></span> <span data-ttu-id="4d5b8-308">Można wyświetlić migawki czasie niemal rzeczywistym wykorzystania zasobów (CPU, pamięci, network(in/out), itp.) na komputerze bramy, a także liczbę współbieżnych zadań uruchomiona, a limit w portalu Azure, zobacz [Monitor bramy w portalu](data-factory-data-management-gateway.md#monitor-gateway-in-the-portal).</span><span class="sxs-lookup"><span data-stu-id="4d5b8-308">You can view near-real time snapshot of resource utilization (CPU, memory, network(in/out), etc.) on a gateway machine as well as the number of concurrent jobs running versus limit in the Azure portal, see [Monitor gateway in the portal](data-factory-data-management-gateway.md#monitor-gateway-in-the-portal).</span></span> <span data-ttu-id="4d5b8-309">Jeśli masz duże konieczność na hybrydowego przenoszenia danych z dużą liczbą jednoczesnych kopii uruchomień działania lub z dużą ilością danych do skopiowania wziąć pod uwagę [skalowanie w górę i skalowania w poziomie bramy](data-factory-data-management-gateway-high-availability-scalability.md#scale-considerations) tak, aby lepiej wykorzystywać zasobu lub zainicjować obsługi administracyjnej więcej zasobów dla kopiowania.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-309">If you have heavy need on hybrid data movement either with large number of concurrent copy activity runs or with large volume of data to copy, consider to [scale up or scale out gateway](data-factory-data-management-gateway-high-availability-scalability.md#scale-considerations) so as to better utilize your resource or to provision more resource to empower copy.</span></span> 

## <a name="considerations-for-the-source"></a><span data-ttu-id="4d5b8-310">Zagadnienia dotyczące źródła</span><span class="sxs-lookup"><span data-stu-id="4d5b8-310">Considerations for the source</span></span>
### <a name="general"></a><span data-ttu-id="4d5b8-311">Ogólne</span><span class="sxs-lookup"><span data-stu-id="4d5b8-311">General</span></span>
<span data-ttu-id="4d5b8-312">Pamiętaj, że odpowiedni magazyn danych nie jest przeciążony przez innych obciążeń uruchomionych na nim.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-312">Be sure that the underlying data store is not overwhelmed by other workloads that are running on or against it.</span></span>

<span data-ttu-id="4d5b8-313">Dla magazynów danych firmy Microsoft, zobacz [monitorowania i dostrajania tematy](#performance-reference) specyficznych dla magazynów danych i ułatwiające zrozumienie, jakie dane przechowywania charakterystyki wydajności, zminimalizować czas reakcji i zmaksymalizować przepustowość.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-313">For Microsoft data stores, see [monitoring and tuning topics](#performance-reference) that are specific to data stores, and help you understand data store performance characteristics, minimize response times, and maximize throughput.</span></span>

<span data-ttu-id="4d5b8-314">Po skopiowaniu danych z magazynu obiektów Blob do magazynu danych SQL, należy rozważyć użycie **PolyBase** zwiększania wydajności.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-314">If you copy data from Blob storage to SQL Data Warehouse, consider using **PolyBase** to boost performance.</span></span> <span data-ttu-id="4d5b8-315">Zobacz [Użyj programu PolyBase, aby załadować dane do usługi Azure SQL Data Warehouse](data-factory-azure-sql-data-warehouse-connector.md#use-polybase-to-load-data-into-azure-sql-data-warehouse) szczegółowe informacje.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-315">See [Use PolyBase to load data into Azure SQL Data Warehouse](data-factory-azure-sql-data-warehouse-connector.md#use-polybase-to-load-data-into-azure-sql-data-warehouse) for details.</span></span> <span data-ttu-id="4d5b8-316">Aby uzyskać wskazówki z przypadkiem użycia, zobacz [załadować 1 TB do usługi Azure SQL Data Warehouse z fabryką danych Azure w obszarze 15 minut](data-factory-load-sql-data-warehouse.md).</span><span class="sxs-lookup"><span data-stu-id="4d5b8-316">For a walkthrough with a use case, see [Load 1 TB into Azure SQL Data Warehouse under 15 minutes with Azure Data Factory](data-factory-load-sql-data-warehouse.md).</span></span>

### <a name="file-based-data-stores"></a><span data-ttu-id="4d5b8-317">Magazyny danych opartych na plikach</span><span class="sxs-lookup"><span data-stu-id="4d5b8-317">File-based data stores</span></span>
<span data-ttu-id="4d5b8-318">*(W tym magazynu obiektów Blob, Data Lake Store, Amazon S3, systemów lokalnych plików i lokalnego systemu plików HDFS)*</span><span class="sxs-lookup"><span data-stu-id="4d5b8-318">*(Includes Blob storage, Data Lake Store, Amazon S3, on-premises file systems, and on-premises HDFS)*</span></span>

* <span data-ttu-id="4d5b8-319">**Średni rozmiar pliku i liczba plików**: działanie kopiowania transfery danych jeden plik w czasie.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-319">**Average file size and file count**: Copy Activity transfers data one file at a time.</span></span> <span data-ttu-id="4d5b8-320">Z tego samego ilość danych do przeniesienia ogólną przepustowość jest mniejszy, jeśli dane zawiera wiele małych plików zamiast kilka dużych plików z powodu fazy ładowania początkowego dla każdego pliku.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-320">With the same amount of data to be moved, the overall throughput is lower if the data consists of many small files rather than a few large files due to the bootstrap phase for each file.</span></span> <span data-ttu-id="4d5b8-321">W związku z tym jeśli to możliwe, połączenie małych plików do większych plików, aby uzyskać wyższą przepływność.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-321">Therefore, if possible, combine small files into larger files to gain higher throughput.</span></span>
* <span data-ttu-id="4d5b8-322">**Plik formatu i kompresji**: na więcej sposobów poprawy wydajności, zobacz [uwagi do serializacji i deserializacji](#considerations-for-serialization-and-deserialization) i [zagadnienia dotyczące kompresji](#considerations-for-compression) sekcje.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-322">**File format and compression**: For more ways to improve performance, see the [Considerations for serialization and deserialization](#considerations-for-serialization-and-deserialization) and [Considerations for compression](#considerations-for-compression) sections.</span></span>
* <span data-ttu-id="4d5b8-323">Dla **lokalnego systemu plików** scenariusz, w którym **brama zarządzania danymi** jest wymagane, zobacz [zagadnienia dotyczące bramy zarządzania danymi](#considerations-for-data-management-gateway) sekcji.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-323">For the **on-premises file system** scenario, in which **Data Management Gateway** is required, see the [Considerations for Data Management Gateway](#considerations-for-data-management-gateway) section.</span></span>

### <a name="relational-data-stores"></a><span data-ttu-id="4d5b8-324">Magazyny danych relacyjnych</span><span class="sxs-lookup"><span data-stu-id="4d5b8-324">Relational data stores</span></span>
<span data-ttu-id="4d5b8-325">*(W tym bazy danych SQL. Magazyn danych SQL; Amazon Redshift; Bazy danych programu SQL Server; i Oracle, MySQL, DB2 Teradata, Sybase i PostgreSQL bazy danych itp.)*</span><span class="sxs-lookup"><span data-stu-id="4d5b8-325">*(Includes SQL Database; SQL Data Warehouse; Amazon Redshift; SQL Server databases; and Oracle, MySQL, DB2, Teradata, Sybase, and PostgreSQL databases, etc.)*</span></span>

* <span data-ttu-id="4d5b8-326">**Wzorzec danych**: schemat tabeli ma wpływ na przepustowość kopiowania.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-326">**Data pattern**: Your table schema affects copy throughput.</span></span> <span data-ttu-id="4d5b8-327">Rozmiar wiersza dużych zapewnia lepszą wydajność niż rozmiar wiersza mała, aby skopiować samą ilość danych.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-327">A large row size gives you a better performance than small row size, to copy the same amount of data.</span></span> <span data-ttu-id="4d5b8-328">Przyczyną jest to, że bazy danych wydajniej można pobrać partie mniej danych, które zawierają mniej wierszy.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-328">The reason is that the database can more efficiently retrieve fewer batches of data that contain fewer rows.</span></span>
* <span data-ttu-id="4d5b8-329">**Zapytanie lub procedura składowana**: Optymalizacja logiki kwerendy lub procedury składowanej, określ w źródle działanie kopiowania na pobieranie danych wydajniej.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-329">**Query or stored procedure**: Optimize the logic of the query or stored procedure you specify in the Copy Activity source to fetch data more efficiently.</span></span>
* <span data-ttu-id="4d5b8-330">Dla **lokalnych relacyjnych baz danych**, takie jak SQL Server i Oracle, które wymagają użycia **brama zarządzania danymi**, zobacz [zagadnienia dotyczące bramy zarządzania danymi](#considerations-on-data-management-gateway) sekcji.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-330">For **on-premises relational databases**, such as SQL Server and Oracle, which require the use of **Data Management Gateway**, see the [Considerations for Data Management Gateway](#considerations-on-data-management-gateway) section.</span></span>

## <a name="considerations-for-the-sink"></a><span data-ttu-id="4d5b8-331">Zagadnienia dotyczące sink</span><span class="sxs-lookup"><span data-stu-id="4d5b8-331">Considerations for the sink</span></span>
### <a name="general"></a><span data-ttu-id="4d5b8-332">Ogólne</span><span class="sxs-lookup"><span data-stu-id="4d5b8-332">General</span></span>
<span data-ttu-id="4d5b8-333">Pamiętaj, że odpowiedni magazyn danych nie jest przeciążony przez innych obciążeń uruchomionych na nim.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-333">Be sure that the underlying data store is not overwhelmed by other workloads that are running on or against it.</span></span>

<span data-ttu-id="4d5b8-334">Magazyny danych firmy Microsoft, można znaleźć w temacie [monitorowania i dostrajania tematy](#performance-reference) specyficznych dla magazynów danych.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-334">For Microsoft data stores, refer to [monitoring and tuning topics](#performance-reference) that are specific to data stores.</span></span> <span data-ttu-id="4d5b8-335">Te tematy mogą ułatwić zrozumienie charakterystyki wydajności magazynu danych i jak zminimalizować czas reakcji i zmaksymalizować przepustowość.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-335">These topics can help you understand data store performance characteristics and how to minimize response times and maximize throughput.</span></span>

<span data-ttu-id="4d5b8-336">Jeśli kopiujesz dane z **magazynu obiektów Blob** do **SQL Data Warehouse**, należy rozważyć użycie **PolyBase** zwiększania wydajności.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-336">If you are copying data from **Blob storage** to **SQL Data Warehouse**, consider using **PolyBase** to boost performance.</span></span> <span data-ttu-id="4d5b8-337">Zobacz [Użyj programu PolyBase, aby załadować dane do usługi Azure SQL Data Warehouse](data-factory-azure-sql-data-warehouse-connector.md#use-polybase-to-load-data-into-azure-sql-data-warehouse) szczegółowe informacje.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-337">See [Use PolyBase to load data into Azure SQL Data Warehouse](data-factory-azure-sql-data-warehouse-connector.md#use-polybase-to-load-data-into-azure-sql-data-warehouse) for details.</span></span> <span data-ttu-id="4d5b8-338">Aby uzyskać wskazówki z przypadkiem użycia, zobacz [załadować 1 TB do usługi Azure SQL Data Warehouse z fabryką danych Azure w obszarze 15 minut](data-factory-load-sql-data-warehouse.md).</span><span class="sxs-lookup"><span data-stu-id="4d5b8-338">For a walkthrough with a use case, see [Load 1 TB into Azure SQL Data Warehouse under 15 minutes with Azure Data Factory](data-factory-load-sql-data-warehouse.md).</span></span>

### <a name="file-based-data-stores"></a><span data-ttu-id="4d5b8-339">Magazyny danych opartych na plikach</span><span class="sxs-lookup"><span data-stu-id="4d5b8-339">File-based data stores</span></span>
<span data-ttu-id="4d5b8-340">*(W tym magazynu obiektów Blob, Data Lake Store, Amazon S3, systemów lokalnych plików i lokalnego systemu plików HDFS)*</span><span class="sxs-lookup"><span data-stu-id="4d5b8-340">*(Includes Blob storage, Data Lake Store, Amazon S3, on-premises file systems, and on-premises HDFS)*</span></span>

* <span data-ttu-id="4d5b8-341">**Skopiuj zachowanie**: po skopiowaniu danych z magazynu danych opartych na plikach różne działania kopiowania zawiera trzy pozycje za pośrednictwem **copyBehavior** właściwości.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-341">**Copy behavior**: If you copy data from a different file-based data store, Copy Activity has three options via the **copyBehavior** property.</span></span> <span data-ttu-id="4d5b8-342">Ją zachowuje hierarchię, spłaszcza hierarchii lub scala plików.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-342">It preserves hierarchy, flattens hierarchy, or merges files.</span></span> <span data-ttu-id="4d5b8-343">Zachowywanie albo zmniejszenie liczby poziomów hierarchii ma niewielkiego lub żadnego zmniejszenie wydajności, ale scalanie plików powoduje zmniejszenie wydajności zwiększyć.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-343">Either preserving or flattening hierarchy has little or no performance overhead, but merging files causes performance overhead to increase.</span></span>
* <span data-ttu-id="4d5b8-344">**Plik formatu i kompresji**: zobacz [uwagi do serializacji i deserializacji](#considerations-for-serialization-and-deserialization) i [zagadnienia dotyczące kompresji](#considerations-for-compression) sekcje na więcej sposobów poprawy wydajności.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-344">**File format and compression**: See the [Considerations for serialization and deserialization](#considerations-for-serialization-and-deserialization) and [Considerations for compression](#considerations-for-compression) sections for more ways to improve performance.</span></span>
* <span data-ttu-id="4d5b8-345">**Magazyn obiektów blob**: obecnie obsługuje magazynu obiektów Blob tylko blokowe obiekty BLOB do transferu danych zoptymalizowanych i przepływności.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-345">**Blob storage**: Currently, Blob storage supports only block blobs for optimized data transfer and throughput.</span></span>
* <span data-ttu-id="4d5b8-346">Dla **lokalnych systemów plików** scenariusze, które wymagają stosowania **brama zarządzania danymi**, zobacz [zagadnienia dotyczące bramy zarządzania danymi](#considerations-for-data-management-gateway) sekcji.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-346">For **on-premises file systems** scenarios that require the use of **Data Management Gateway**, see the [Considerations for Data Management Gateway](#considerations-for-data-management-gateway) section.</span></span>

### <a name="relational-data-stores"></a><span data-ttu-id="4d5b8-347">Magazyny danych relacyjnych</span><span class="sxs-lookup"><span data-stu-id="4d5b8-347">Relational data stores</span></span>
<span data-ttu-id="4d5b8-348">*(W tym bazy danych SQL, SQL Data Warehouse, baz danych programu SQL Server i Oracle — bazy danych)*</span><span class="sxs-lookup"><span data-stu-id="4d5b8-348">*(Includes SQL Database, SQL Data Warehouse, SQL Server databases, and Oracle databases)*</span></span>

* <span data-ttu-id="4d5b8-349">**Skopiuj zachowanie**: w zależności od właściwości ustawionych dla **sqlSink**, działanie kopiowania zapisuje dane do docelowej bazy danych na różne sposoby.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-349">**Copy behavior**: Depending on the properties you've set for **sqlSink**, Copy Activity writes data to the destination database in different ways.</span></span>
  * <span data-ttu-id="4d5b8-350">Domyślnie używa usługi przepływu danych interfejsu API kopiowania zbiorczego wstawiania danych w Dołącz tryb, który zapewnia najlepszą wydajność.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-350">By default, the data movement service uses the Bulk Copy API to insert data in append mode, which provides the best performance.</span></span>
  * <span data-ttu-id="4d5b8-351">Jeśli skonfigurujesz procedury składowanej w obiekt sink bazy danych ma zastosowanie jeden wiersz danych w czasie zamiast jako ładowania zbiorczego.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-351">If you configure a stored procedure in the sink, the database applies the data one row at a time instead of as a bulk load.</span></span> <span data-ttu-id="4d5b8-352">Wydajność porzuca znacznie.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-352">Performance drops significantly.</span></span> <span data-ttu-id="4d5b8-353">Jeśli zestaw danych jest duży, jeśli ma to zastosowanie, rozważ przejście na **sqlWriterCleanupScript** właściwości.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-353">If your data set is large, when applicable, consider switching to using the **sqlWriterCleanupScript** property.</span></span>
  * <span data-ttu-id="4d5b8-354">Jeśli skonfigurujesz **sqlWriterCleanupScript** Uruchom właściwości dla każdego działania kopiowania, Usługa uruchamia skrypt, a następnie użyj interfejsu API kopiowania zbiorczego do wstawiania danych.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-354">If you configure the **sqlWriterCleanupScript** property for each Copy Activity run, the service triggers the script, and then you use the Bulk Copy API to insert the data.</span></span> <span data-ttu-id="4d5b8-355">Na przykład aby zastąpić całą tabelę przy użyciu najnowszych danych, można określić skrypt, aby usunąć wszystkie rekordy przed ładowania zbiorczego nowe dane ze źródła.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-355">For example, to overwrite the entire table with the latest data, you can specify a script to first delete all records before bulk-loading the new data from the source.</span></span>
* <span data-ttu-id="4d5b8-356">**Rozmiar danych wzorca i partii**:</span><span class="sxs-lookup"><span data-stu-id="4d5b8-356">**Data pattern and batch size**:</span></span>
  * <span data-ttu-id="4d5b8-357">Schemat tabeli ma wpływ na przepustowość kopiowania.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-357">Your table schema affects copy throughput.</span></span> <span data-ttu-id="4d5b8-358">Aby skopiować samą ilość danych, rozmiar wiersza dużych zapewnia lepszą wydajność niż rozmiar wiersza małych ponieważ bazy danych można zatwierdzić wydajniej mniej partie danych.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-358">To copy the same amount of data, a large row size gives you better performance than a small row size because the database can more efficiently commit fewer batches of data.</span></span>
  * <span data-ttu-id="4d5b8-359">Działanie kopiowania wstawia danych w serii partii.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-359">Copy Activity inserts data in a series of batches.</span></span> <span data-ttu-id="4d5b8-360">Należy określić liczbę wierszy w partii, przy użyciu **writeBatchSize** właściwości.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-360">You can set the number of rows in a batch by using the **writeBatchSize** property.</span></span> <span data-ttu-id="4d5b8-361">Jeśli dane mają małe wiersze, można ustawić **writeBatchSize** o wyższej wartości do korzystania z mniejszy narzut partii i wyższej przepustowości.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-361">If your data has small rows, you can set the **writeBatchSize** property with a higher value to benefit from lower batch overhead and higher throughput.</span></span> <span data-ttu-id="4d5b8-362">Jeśli rozmiar wiersza danych jest duży, należy zachować ostrożność, wraz ze zwiększeniem **writeBatchSize**.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-362">If the row size of your data is large, be careful when you increase **writeBatchSize**.</span></span> <span data-ttu-id="4d5b8-363">Wysokiej wartości może prowadzić do awarii kopiowania spowodowane przeciążeniem bazy danych.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-363">A high value might lead to a copy failure caused by overloading the database.</span></span>
* <span data-ttu-id="4d5b8-364">Dla **lokalnych relacyjnych baz danych** , takich jak SQL Server i Oracle, które wymagają użycia **brama zarządzania danymi**, zobacz [zagadnienia dotyczące bramy zarządzania danymi](#considerations-for-data-management-gateway)sekcji.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-364">For **on-premises relational databases** like SQL Server and Oracle, which require the use of **Data Management Gateway**, see the [Considerations for Data Management Gateway](#considerations-for-data-management-gateway) section.</span></span>

### <a name="nosql-stores"></a><span data-ttu-id="4d5b8-365">Magazynów NoSQL</span><span class="sxs-lookup"><span data-stu-id="4d5b8-365">NoSQL stores</span></span>
<span data-ttu-id="4d5b8-366">*(W tym magazynu tabel i bazy danych rozwiązania Cosmos Azure)*</span><span class="sxs-lookup"><span data-stu-id="4d5b8-366">*(Includes Table storage and Azure Cosmos DB )*</span></span>

* <span data-ttu-id="4d5b8-367">Aby uzyskać **tabeli magazynu**:</span><span class="sxs-lookup"><span data-stu-id="4d5b8-367">For **Table storage**:</span></span>
  * <span data-ttu-id="4d5b8-368">**Partycja**: zapisywanie danych z partycjami przeplotem znacznie powoduje spadek wydajności.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-368">**Partition**: Writing data to interleaved partitions dramatically degrades performance.</span></span> <span data-ttu-id="4d5b8-369">Sortować dane źródłowe klucza partycji, dzięki czemu dane są wstawiane wydajnie w jednej partycji po drugim lub Dostosuj logiki można zapisać danych do jednej partycji.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-369">Sort your source data by partition key so that the data is inserted efficiently into one partition after another, or adjust the logic to write the data to a single partition.</span></span>
* <span data-ttu-id="4d5b8-370">Aby uzyskać **rozwiązania Cosmos Azure DB**:</span><span class="sxs-lookup"><span data-stu-id="4d5b8-370">For **Azure Cosmos DB**:</span></span>
  * <span data-ttu-id="4d5b8-371">**Rozmiar partii**: **writeBatchSize** właściwość ustawia liczbę równoległych żądań do usługi Azure DB rozwiązania Cosmos tworzenie dokumentów.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-371">**Batch size**: The **writeBatchSize** property sets the number of parallel requests to the Azure Cosmos DB service to create documents.</span></span> <span data-ttu-id="4d5b8-372">Lepszą wydajność można oczekiwać, wraz ze zwiększeniem **writeBatchSize** ponieważ więcej żądań równoległe są wysyłane do bazy danych Azure rozwiązania Cosmos.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-372">You can expect better performance when you increase **writeBatchSize** because more parallel requests are sent to Azure Cosmos DB.</span></span> <span data-ttu-id="4d5b8-373">Jednak obserwować ograniczania przepustowości podczas zapisywania do rozwiązania Cosmos Azure DB (komunikat o błędzie jest "liczby żądań jest duża").</span><span class="sxs-lookup"><span data-stu-id="4d5b8-373">However, watch for throttling when you write to Azure Cosmos DB (the error message is "Request rate is large").</span></span> <span data-ttu-id="4d5b8-374">Różne czynniki może spowodować ograniczanie rozmiar dokumentu, w tym liczbę dokumentów oraz zasady indeksowania w kolekcji docelowej.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-374">Various factors can cause throttling, including document size, the number of terms in the documents, and the target collection's indexing policy.</span></span> <span data-ttu-id="4d5b8-375">Do osiągnięcia wyższej przepustowości kopiowania, należy rozważyć użycie lepsze kolekcji, na przykład S3.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-375">To achieve higher copy throughput, consider using a better collection, for example, S3.</span></span>

## <a name="considerations-for-serialization-and-deserialization"></a><span data-ttu-id="4d5b8-376">Zagadnienia dotyczące serializacja i deserializacja</span><span class="sxs-lookup"><span data-stu-id="4d5b8-376">Considerations for serialization and deserialization</span></span>
<span data-ttu-id="4d5b8-377">Serializacja i deserializacja może wystąpić, gdy Twoje wejściowy zestaw danych lub zestawu danych wyjściowych jest plikiem.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-377">Serialization and deserialization can occur when your input data set or output data set is a file.</span></span> <span data-ttu-id="4d5b8-378">Zobacz [obsługiwane formaty plików i kompresji](data-factory-supported-file-and-compression-formats.md) ze szczegółami obsługiwane formaty plików przez działanie kopiowania.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-378">See [Supported file and compression formats](data-factory-supported-file-and-compression-formats.md) with details on supported file formats by Copy Activity.</span></span>

<span data-ttu-id="4d5b8-379">**Skopiuj zachowanie**:</span><span class="sxs-lookup"><span data-stu-id="4d5b8-379">**Copy behavior**:</span></span>

* <span data-ttu-id="4d5b8-380">Kopiowanie plików między magazynami danych opartych na plikach:</span><span class="sxs-lookup"><span data-stu-id="4d5b8-380">Copying files between file-based data stores:</span></span>
  * <span data-ttu-id="4d5b8-381">Jeśli wejściowych i wyjściowych zestawów danych zarówno ma takie same lub żadnych ustawień formatu pliku, usługa przenoszenia danych wykonuje kopię binarne bez serializacji lub deserializacji.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-381">When input and output data sets both have the same or no file format settings, the data movement service executes a binary copy without any serialization or deserialization.</span></span> <span data-ttu-id="4d5b8-382">Zostanie wyświetlony wyższej przepustowości w porównaniu do scenariusza, w którym ustawienia formatu plik źródłowy i odbiorczy różnią się od siebie nawzajem.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-382">You see a higher throughput compared to the scenario, in which the source and sink file format settings are different from each other.</span></span>
  * <span data-ttu-id="4d5b8-383">Podczas wprowadzania i dane wyjściowe zestawy danych zarówno w formacie tekstowym i tylko kodowanie typ jest inny, usługa przenoszenia danych jest wyłącznie Konwersja kodowania.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-383">When input and output data sets both are in text format and only the encoding type is different, the data movement service only does encoding conversion.</span></span> <span data-ttu-id="4d5b8-384">Nie wszystkie serializacji i deserializacji, co powoduje, że niektóre wydajności obciążenie w porównaniu do kopiowania binarnego.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-384">It doesn't do any serialization and deserialization, which causes some performance overhead compared to a binary copy.</span></span>
  * <span data-ttu-id="4d5b8-385">Jeśli wejściowych i wyjściowych zestawów danych zarówno ma różnych formatach plików lub różnych konfiguracji, takich jak ogranicznik, usługa przenoszenia danych deserializuje źródła danych do strumienia, przekształcanie i serializować go w formacie wyjściowym wskazana.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-385">When input and output data sets both have different file formats or different configurations, like delimiters, the data movement service deserializes source data to stream, transform, and then serialize it into the output format you indicated.</span></span> <span data-ttu-id="4d5b8-386">Ta operacja powoduje ważniejsze wydajności obciążenie w porównaniu do innych scenariuszy.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-386">This operation results in a much more significant performance overhead compared to other scenarios.</span></span>
* <span data-ttu-id="4d5b8-387">Podczas kopiowania plików z magazynem danych, który nie jest opartych na plikach (na przykład z magazynu opartych na plikach do relacyjnego magazynu) krok serializacji lub deserializacji jest wymagany.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-387">When you copy files to/from a data store that is not file-based (for example, from a file-based store to a relational store), the serialization or deserialization step is required.</span></span> <span data-ttu-id="4d5b8-388">Ten krok powoduje znaczne obciążenie.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-388">This step results in significant performance overhead.</span></span>

<span data-ttu-id="4d5b8-389">**Format pliku**: format pliku, możesz wybrać może mieć wpływ na wydajność kopiowania.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-389">**File format**: The file format you choose might affect copy performance.</span></span> <span data-ttu-id="4d5b8-390">Na przykład Avro jest compact format binarny, który przechowuje metadane z danymi.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-390">For example, Avro is a compact binary format that stores metadata with data.</span></span> <span data-ttu-id="4d5b8-391">Ma ona szeroki zakres obsługi w ekosystemie Hadoop do przetwarzania i zapytań.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-391">It has broad support in the Hadoop ecosystem for processing and querying.</span></span> <span data-ttu-id="4d5b8-392">Jednak Avro jest droższe do serializacji i deserializacji, co prowadzi do dolnej przepływności kopiowania w porównaniu do formatu tekstowego.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-392">However, Avro is more expensive for serialization and deserialization, which results in lower copy throughput compared to text format.</span></span> <span data-ttu-id="4d5b8-393">Wybierz ustawienia formatu pliku w procesie przetwarzania całościowo.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-393">Make your choice of file format throughout the processing flow holistically.</span></span> <span data-ttu-id="4d5b8-394">Rozpoczynanie co tworzą dane są przechowywane w źródła magazyny danych lub w celu wyodrębnienia z systemów zewnętrznych; format najlepszy przechowywania, przetwarzania analitycznego i badania; i format, jakie dane powinny zostać wyeksportowane do składnic danych programów dla narzędzi do raportowania i wizualizacji.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-394">Start with what form the data is stored in, source data stores or to be extracted from external systems; the best format for storage, analytical processing, and querying; and in what format the data should be exported into data marts for reporting and visualization tools.</span></span> <span data-ttu-id="4d5b8-395">Czasami formacie, który jest nieoptymalne do odczytu i wydajność zapisu może być dobrym rozwiązaniem, gdy należy wziąć pod uwagę procesu ogólnego analitycznych.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-395">Sometimes a file format that is suboptimal for read and write performance might be a good choice when you consider the overall analytical process.</span></span>

## <a name="considerations-for-compression"></a><span data-ttu-id="4d5b8-396">Zagadnienia dotyczące kompresji</span><span class="sxs-lookup"><span data-stu-id="4d5b8-396">Considerations for compression</span></span>
<span data-ttu-id="4d5b8-397">Zestaw danych wejściowych lub wyjściowych jest plikiem, można ustawić działanie kopiowania do wykonania kompresja lub dekompresja zapisuje dane do lokalizacji docelowej.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-397">When your input or output data set is a file, you can set Copy Activity to perform compression or decompression as it writes data to the destination.</span></span> <span data-ttu-id="4d5b8-398">Po wybraniu kompresji wprowadzeniu zależności między operacjami wejścia/wyjścia (We/Wy) i procesora CPU.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-398">When you choose compression, you make a tradeoff between input/output (I/O) and CPU.</span></span> <span data-ttu-id="4d5b8-399">Kompresowanie danych koszty dodatkowe w zasoby obliczeniowe.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-399">Compressing the data costs extra in compute resources.</span></span> <span data-ttu-id="4d5b8-400">Ale w zamian zmniejsza we/wy sieci i magazynu.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-400">But in return, it reduces network I/O and storage.</span></span> <span data-ttu-id="4d5b8-401">W zależności od danych mogą pojawić się zwiększenie wydajności w ogólną przepustowość kopiowania.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-401">Depending on your data, you may see a boost in overall copy throughput.</span></span>

<span data-ttu-id="4d5b8-402">**Koder-dekoder**: działanie kopiowania obsługuje typy kompresję Deflate, bzip2 i gzip.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-402">**Codec**: Copy Activity supports gzip, bzip2, and Deflate compression types.</span></span> <span data-ttu-id="4d5b8-403">Usługa Azure HDInsight mogą używać wszystkich trzech typów przetwarzania.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-403">Azure HDInsight can consume all three types for processing.</span></span> <span data-ttu-id="4d5b8-404">Każdy koder-dekoder kompresji ma zalety.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-404">Each compression codec has advantages.</span></span> <span data-ttu-id="4d5b8-405">Na przykład bzip2 ma najniższą przepływności kopiowania, ale uzyskać najlepszą wydajność zapytań Hive z bzip2, ponieważ podziel go do przetwarzania.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-405">For example, bzip2 has the lowest copy throughput, but you get the best Hive query performance with bzip2 because you can split it for processing.</span></span> <span data-ttu-id="4d5b8-406">Gzip jest najbardziej zrównoważonym opcji i jest najczęściej używany.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-406">Gzip is the most balanced option, and it is used the most often.</span></span> <span data-ttu-id="4d5b8-407">Wybierz najlepiej pasujące do danego scenariusza end-to-end koder-dekoder.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-407">Choose the codec that best suits your end-to-end scenario.</span></span>

<span data-ttu-id="4d5b8-408">**Poziom**: są dostępne dwie opcje dla każdego koder-dekoder kompresji: najszybciej skompresowane i optymalnie skompresowane.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-408">**Level**: You can choose from two options for each compression codec: fastest compressed and optimally compressed.</span></span> <span data-ttu-id="4d5b8-409">Najszybciej skompresowany opcji kompresuje dane tak szybko jak to możliwe, nawet jeśli nie jest optymalnie skompresowany plik wynikowy.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-409">The fastest compressed option compresses the data as quickly as possible, even if the resulting file is not optimally compressed.</span></span> <span data-ttu-id="4d5b8-410">Opcja optymalnie skompresowany zużywa więcej czasu na kompresji i zwraca minimalnej ilości danych.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-410">The optimally compressed option spends more time on compression and yields a minimal amount of data.</span></span> <span data-ttu-id="4d5b8-411">Można przetestować obie opcje, aby zobaczyć, która zapewnia lepszą wydajność ogólną w Twoim przypadku.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-411">You can test both options to see which provides better overall performance in your case.</span></span>

<span data-ttu-id="4d5b8-412">**Wchodzi w grę**: do kopiowania dużych ilości danych między chmurą a magazynu lokalnego, należy wziąć pod uwagę przy użyciu magazynu obiektów blob tymczasowe kompresji.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-412">**A consideration**: To copy a large amount of data between an on-premises store and the cloud, consider using interim blob storage with compression.</span></span> <span data-ttu-id="4d5b8-413">Przy użyciu tymczasowego magazynu jest przydatne, gdy przepustowość sieci firmowej i usługami Azure jest czynnikiem ograniczającym i ma wejściowego zestawu danych i zestawu danych wyjściowych zarówno w skompresowanej.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-413">Using interim storage is helpful when the bandwidth of your corporate network and your Azure services is the limiting factor, and you want the input data set and output data set both to be in uncompressed form.</span></span> <span data-ttu-id="4d5b8-414">W szczególności można podzielić działania pojedynczej kopii kopii dwóch działań.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-414">More specifically, you can break a single copy activity into two copy activities.</span></span> <span data-ttu-id="4d5b8-415">Pierwsze działanie kopiowania kopiuje ze źródła do tymczasowego lub tymczasowej obiektu blob w postaci skompresowanej.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-415">The first copy activity copies from the source to an interim or staging blob in compressed form.</span></span> <span data-ttu-id="4d5b8-416">Drugi działanie kopiowania kopiuje skompresowane dane z obszaru przemieszczania, a następnie dekompresuje podczas zapisuje obiekt sink.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-416">The second copy activity copies the compressed data from staging, and then decompresses while it writes to the sink.</span></span>

## <a name="considerations-for-column-mapping"></a><span data-ttu-id="4d5b8-417">Zagadnienia dotyczące mapowania kolumn</span><span class="sxs-lookup"><span data-stu-id="4d5b8-417">Considerations for column mapping</span></span>
<span data-ttu-id="4d5b8-418">Można ustawić **columnMappings** właściwości w przypadku działania kopiowania mapy wszystkie lub podzbiór wejściowych kolumn na kolumny danych wyjściowych.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-418">You can set the **columnMappings** property in Copy Activity to map all or a subset of the input columns to the output columns.</span></span> <span data-ttu-id="4d5b8-419">Po usługi przenoszenia danych odczytuje dane ze źródła, musi wykonać mapowanie kolumn danych przed zapisuje dane do ujścia.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-419">After the data movement service reads the data from the source, it needs to perform column mapping on the data before it writes the data to the sink.</span></span> <span data-ttu-id="4d5b8-420">To dodatkowe przetwarzanie ogranicza przepływność kopiowania.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-420">This extra processing reduces copy throughput.</span></span>

<span data-ttu-id="4d5b8-421">W przypadku zapytań sklepu źródła danych, na przykład, czy jest relacyjnego magazynu, takich jak SQL Database lub SQL Server, czy jest magazynu NoSQL, takie jak magazyn tabel lub bazy danych rozwiązania Cosmos platformy Azure, należy wziąć pod uwagę wypychanie filtrowanie kolumn i zmianę kolejności logikę **kwerendy** właściwości zamiast mapowania kolumn.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-421">If your source data store is queryable, for example, if it's a relational store like SQL Database or SQL Server, or if it's a NoSQL store like Table storage or Azure Cosmos DB, consider pushing the column filtering and reordering logic to the **query** property instead of using column mapping.</span></span> <span data-ttu-id="4d5b8-422">W ten sposób projekcji przeprowadzana usługi przenoszenia danych odczytuje dane z magazynu danych źródła, gdy są one bardziej wydajne.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-422">This way, the projection occurs while the data movement service reads data from the source data store, where it is much more efficient.</span></span>

## <a name="other-considerations"></a><span data-ttu-id="4d5b8-423">Inne zagadnienia</span><span class="sxs-lookup"><span data-stu-id="4d5b8-423">Other considerations</span></span>
<span data-ttu-id="4d5b8-424">Jeśli rozmiar danych, którą chcesz skopiować jest duży, można dostosować logiki biznesowej do partycji dalsze dane przy użyciu mechanizmu skalowania w fabryce danych.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-424">If the size of data you want to copy is large, you can adjust your business logic to further partition the data using the slicing mechanism in Data Factory.</span></span> <span data-ttu-id="4d5b8-425">Następnie Zaplanuj działanie kopiowania do uruchamiania częściej, aby zredukować rozmiar danych dla każdego uruchamiania działania kopiowania.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-425">Then, schedule Copy Activity to run more frequently to reduce the data size for each Copy Activity run.</span></span>

<span data-ttu-id="4d5b8-426">Należy zachować ostrożność liczbę zestawów danych i działania kopiowania wymagające fabryki danych do łącznika do tego samego magazynu danych, w tym samym czasie.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-426">Be cautious about the number of data sets and copy activities requiring Data Factory to connector to the same data store at the same time.</span></span> <span data-ttu-id="4d5b8-427">Wielu zadań jednoczesnych kopii może ograniczyć magazynu danych i prowadzić do pogorszenie wydajności, kopii zadania wewnętrzny ponownych prób, a w niektórych przypadkach, błędy wykonania.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-427">Many concurrent copy jobs might throttle a data store and lead to degraded performance, copy job internal retries, and in some cases, execution failures.</span></span>

## <a name="sample-scenario-copy-from-an-on-premises-sql-server-to-blob-storage"></a><span data-ttu-id="4d5b8-428">Przykładowy scenariusz: kopiowanie z lokalnego programu SQL Server do magazynu obiektów Blob</span><span class="sxs-lookup"><span data-stu-id="4d5b8-428">Sample scenario: Copy from an on-premises SQL Server to Blob storage</span></span>
<span data-ttu-id="4d5b8-429">**Scenariusz**: utworzeniu potoku można skopiować danych z lokalnego serwera SQL do magazynu obiektów Blob w formacie CSV.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-429">**Scenario**: A pipeline is built to copy data from an on-premises SQL Server to Blob storage in CSV format.</span></span> <span data-ttu-id="4d5b8-430">Aby przyspieszyć zadanie kopiowania, pliki CSV powinny być kompresowane do formatu bzip2.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-430">To make the copy job faster, the CSV files should be compressed into bzip2 format.</span></span>

<span data-ttu-id="4d5b8-431">**Badanie i analiza**: przepływność działanie kopiowania jest mniej niż 2 MB/s, który jest znacznie mniejsza niż testów porównawczych wydajności.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-431">**Test and analysis**: The throughput of Copy Activity is less than 2 MBps, which is much slower than the performance benchmark.</span></span>

<span data-ttu-id="4d5b8-432">**Analiza wydajności i dostrajania**: Aby rozwiązać problem z wydajnością, Przyjrzyjmy się jak dane są przetwarzane i przenoszone.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-432">**Performance analysis and tuning**: To troubleshoot the performance issue, let’s look at how the data is processed and moved.</span></span>

1. <span data-ttu-id="4d5b8-433">**Odczytanie danych**: bramy otwiera połączenie z programem SQL Server i wysyła zapytanie.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-433">**Read data**: Gateway opens a connection to SQL Server and sends the query.</span></span> <span data-ttu-id="4d5b8-434">SQL Server odpowiada, wysyłając strumienia danych z bramą za pośrednictwem sieci intranet.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-434">SQL Server responds by sending the data stream to Gateway via the intranet.</span></span>
2. <span data-ttu-id="4d5b8-435">**Serializować i kompresji danych**: serializuje strumienia danych do formatu CSV, bramy i kompresuje dane do strumienia bzip2.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-435">**Serialize and compress data**: Gateway serializes the data stream to CSV format, and compresses the data to a bzip2 stream.</span></span>
3. <span data-ttu-id="4d5b8-436">**Zapisu danych**: bramy przekazywania strumienia bzip2 do magazynu obiektów Blob za pośrednictwem Internetu.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-436">**Write data**: Gateway uploads the bzip2 stream to Blob storage via the Internet.</span></span>

<span data-ttu-id="4d5b8-437">Jak widać, dane są przetwarzane i przenoszone przesyłania strumieniowego sekwencyjnie: SQL Server > LAN > bramy > WAN > magazynu obiektów Blob.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-437">As you can see, the data is being processed and moved in a streaming sequential manner: SQL Server > LAN > Gateway > WAN > Blob storage.</span></span> <span data-ttu-id="4d5b8-438">**Ogólną wydajność jest uzyskiwany za minimalnej przepustowości w potoku**.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-438">**The overall performance is gated by the minimum throughput across the pipeline**.</span></span>

![Przepływ danych](./media/data-factory-copy-activity-performance/case-study-pic-1.png)

<span data-ttu-id="4d5b8-440">Co najmniej jeden z następujących czynników może spowodować wąskie gardło:</span><span class="sxs-lookup"><span data-stu-id="4d5b8-440">One or more of the following factors might cause the performance bottleneck:</span></span>

* <span data-ttu-id="4d5b8-441">**Źródło**: sam serwer SQL ma niskiej przepustowości z powodu dużymi obciążeniami.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-441">**Source**: SQL Server itself has low throughput because of heavy loads.</span></span>
* <span data-ttu-id="4d5b8-442">**Brama zarządzania danymi**:</span><span class="sxs-lookup"><span data-stu-id="4d5b8-442">**Data Management Gateway**:</span></span>
  * <span data-ttu-id="4d5b8-443">**LAN**: bramy znajduje się daleko od komputera programu SQL Server i ma połączenie o niskiej przepustowości.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-443">**LAN**: Gateway is located far from the SQL Server machine and has a low-bandwidth connection.</span></span>
  * <span data-ttu-id="4d5b8-444">**Brama**: bramy osiągnęła swoje ograniczenia obciążenia można wykonywać następujące operacje:</span><span class="sxs-lookup"><span data-stu-id="4d5b8-444">**Gateway**: Gateway has reached its load limitations to perform the following operations:</span></span>
    * <span data-ttu-id="4d5b8-445">**Serializacja**: serializacja strumienia danych do formatu CSV ma powolne przepływności.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-445">**Serialization**: Serializing the data stream to CSV format has slow throughput.</span></span>
    * <span data-ttu-id="4d5b8-446">**Kompresja**: wybrano koder-dekoder kompresji powolne (na przykład, bzip2, czyli Core i7 2,8 MB/s).</span><span class="sxs-lookup"><span data-stu-id="4d5b8-446">**Compression**: You chose a slow compression codec (for example, bzip2, which is 2.8 MBps with Core i7).</span></span>
  * <span data-ttu-id="4d5b8-447">**WAN**: brakuje przepustowości między siecią firmową i usługami Azure (na przykład T1 = 1,544 KB/s; T2 = 6,312 KB/s).</span><span class="sxs-lookup"><span data-stu-id="4d5b8-447">**WAN**: The bandwidth between the corporate network and your Azure services is low (for example, T1 = 1,544 kbps; T2 = 6,312 kbps).</span></span>
* <span data-ttu-id="4d5b8-448">**Obiekt sink**: magazyn obiektów Blob ma niskiej przepustowości.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-448">**Sink**: Blob storage has low throughput.</span></span> <span data-ttu-id="4d5b8-449">(W tym scenariuszu jest mało prawdopodobne, ponieważ jego umowy dotyczącej poziomu usług gwarantuje co najmniej 60 MB/s).</span><span class="sxs-lookup"><span data-stu-id="4d5b8-449">(This scenario is unlikely because its SLA guarantees a minimum of 60 MBps.)</span></span>

<span data-ttu-id="4d5b8-450">W takim przypadku bzip2 kompresji danych może być spowolnienie całego procesu.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-450">In this case, bzip2 data compression might be slowing down the entire pipeline.</span></span> <span data-ttu-id="4d5b8-451">Przełączanie do koder-dekoder kompresji gzip może ułatwić to "wąskie gardło".</span><span class="sxs-lookup"><span data-stu-id="4d5b8-451">Switching to a gzip compression codec might ease this bottleneck.</span></span>

## <a name="sample-scenarios-use-parallel-copy"></a><span data-ttu-id="4d5b8-452">Przykładowe scenariusze: Użyj równoległych kopii</span><span class="sxs-lookup"><span data-stu-id="4d5b8-452">Sample scenarios: Use parallel copy</span></span>
<span data-ttu-id="4d5b8-453">**Scenariusz I:** 1000 1 MB pliki z lokalną systemu plików do magazynu obiektów Blob.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-453">**Scenario I:** Copy 1,000 1-MB files from the on-premises file system to Blob storage.</span></span>

<span data-ttu-id="4d5b8-454">**Analiza i dostrajania wydajności**: na przykład, jeśli jest zainstalowana brama na komputerze czterordzeniowe fabryki danych używa 16 równoległych kopii do przenoszenia plików z systemu plików do magazynu obiektów Blob jednocześnie.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-454">**Analysis and performance tuning**: For an example, if you have installed gateway on a quad core machine, Data Factory uses 16 parallel copies to move files from the file system to Blob storage concurrently.</span></span> <span data-ttu-id="4d5b8-455">To wykonywanie równoległe powinno spowodować wysokiej przepływności.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-455">This parallel execution should result in high throughput.</span></span> <span data-ttu-id="4d5b8-456">Można również jawnie określić liczbę równoległych kopii.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-456">You also can explicitly specify the parallel copies count.</span></span> <span data-ttu-id="4d5b8-457">Podczas kopiowania wiele małych plików, równoległe kopie znacznie pomocy przepływność przy użyciu zasobów bardziej efektywnie.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-457">When you copy many small files, parallel copies dramatically help throughput by using resources more effectively.</span></span>

![Scenariusz 1](./media/data-factory-copy-activity-performance/scenario-1.png)

<span data-ttu-id="4d5b8-459">**Scenariusz II**: Skopiuj 20 obiekty BLOB 500 MB z magazynu obiektów Blob do magazynu usługi Data Lake Analytics, a następnie dostrajania wydajności.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-459">**Scenario II**: Copy 20 blobs of 500 MB each from Blob storage to Data Lake Store Analytics, and then tune performance.</span></span>

<span data-ttu-id="4d5b8-460">**Analiza i dostrajania wydajności**: W tym scenariuszu fabryki danych kopiuje dane z magazynu obiektów Blob do usługi Data Lake Store za pomocą jedną kopię (**parallelCopies** ustawioną wartość 1) i danych w chmurze pojedynczej jednostki przepływu.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-460">**Analysis and performance tuning**: In this scenario, Data Factory copies the data from Blob storage to Data Lake Store by using single-copy (**parallelCopies** set to 1) and single-cloud data movement units.</span></span> <span data-ttu-id="4d5b8-461">Przepływność widoczny będzie zbliżona opisana [wydajności odwołanie sekcji](#performance-reference).</span><span class="sxs-lookup"><span data-stu-id="4d5b8-461">The throughput you observe will be close to that described in the [performance reference section](#performance-reference).</span></span>   

![Scenariusz 2](./media/data-factory-copy-activity-performance/scenario-2.png)

<span data-ttu-id="4d5b8-463">**Scenariusz III**: rozmiar pliku jest większy niż dziesiątki MB i całkowitej ilości jest duży.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-463">**Scenario III**: Individual file size is greater than dozens of MBs and total volume is large.</span></span>

<span data-ttu-id="4d5b8-464">**Analiza i włączanie wydajności**: zwiększenie **parallelCopies** nie zapewnia lepszą wydajność kopiowania z powodu ograniczenia zasobów DMU jednym chmury.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-464">**Analysis and performance turning**: Increasing **parallelCopies** doesn't result in better copy performance because of the resource limitations of a single-cloud DMU.</span></span> <span data-ttu-id="4d5b8-465">Zamiast tego należy określać więcej chmury DMUs, aby uzyskać więcej zasobów do wykonania przepływu danych.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-465">Instead, you should specify more cloud DMUs to get more resources to perform the data movement.</span></span> <span data-ttu-id="4d5b8-466">Nie określaj wartości dla **parallelCopies** właściwości.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-466">Do not specify a value for the **parallelCopies** property.</span></span> <span data-ttu-id="4d5b8-467">Fabryka danych obsługuje równoległości dla Ciebie.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-467">Data Factory handles the parallelism for you.</span></span> <span data-ttu-id="4d5b8-468">W tym przypadku jeśli ustawisz **cloudDataMovementUnits** przepływności około cztery razy występuje — 4,.</span><span class="sxs-lookup"><span data-stu-id="4d5b8-468">In this case, if you set **cloudDataMovementUnits** to 4, a throughput of about four times occurs.</span></span>

![Scenariusz 3](./media/data-factory-copy-activity-performance/scenario-3.png)

## <a name="reference"></a><span data-ttu-id="4d5b8-470">Dokumentacja</span><span class="sxs-lookup"><span data-stu-id="4d5b8-470">Reference</span></span>
<span data-ttu-id="4d5b8-471">Poniżej przedstawiono monitorowania wydajności i dostrajania odwołań dla niektórych obsługiwanych magazynów:</span><span class="sxs-lookup"><span data-stu-id="4d5b8-471">Here are performance monitoring and tuning references for some of the supported data stores:</span></span>

* <span data-ttu-id="4d5b8-472">Magazyn Azure (w tym magazynie obiektów Blob i Magazyn tabel): [wartości docelowe skalowalności magazynu Azure](../storage/common/storage-scalability-targets.md) i [Lista kontrolna wydajności i skalowalności magazynu Azure](../storage/common/storage-performance-checklist.md)</span><span class="sxs-lookup"><span data-stu-id="4d5b8-472">Azure Storage (including Blob storage and Table storage): [Azure Storage scalability targets](../storage/common/storage-scalability-targets.md) and [Azure Storage performance and scalability checklist](../storage/common/storage-performance-checklist.md)</span></span>
* <span data-ttu-id="4d5b8-473">Azure SQL Database: Można [monitorowania wydajności](../sql-database/sql-database-single-database-monitor.md) i sprawdź procent jednostki (bazy danych DTU) transakcji bazy danych</span><span class="sxs-lookup"><span data-stu-id="4d5b8-473">Azure SQL Database: You can [monitor the performance](../sql-database/sql-database-single-database-monitor.md) and check the database transaction unit (DTU) percentage</span></span>
* <span data-ttu-id="4d5b8-474">Usługa Azure SQL Data Warehouse: Zdolność jest mierzony w jednostki magazynu danych (dwu); zobacz [Zarządzaj obliczeniowe zasilania w usłudze Azure SQL Data Warehouse (omówienie)](../sql-data-warehouse/sql-data-warehouse-manage-compute-overview.md)</span><span class="sxs-lookup"><span data-stu-id="4d5b8-474">Azure SQL Data Warehouse: Its capability is measured in data warehouse units (DWUs); see [Manage compute power in Azure SQL Data Warehouse (Overview)](../sql-data-warehouse/sql-data-warehouse-manage-compute-overview.md)</span></span>
* <span data-ttu-id="4d5b8-475">Azure DB rozwiązania Cosmos: [poziomy wydajności w usłudze Azure DB rozwiązania Cosmos](../documentdb/documentdb-performance-levels.md)</span><span class="sxs-lookup"><span data-stu-id="4d5b8-475">Azure Cosmos DB: [Performance levels in Azure Cosmos DB](../documentdb/documentdb-performance-levels.md)</span></span>
* <span data-ttu-id="4d5b8-476">Lokalny program SQL Server: [monitora i dostrajanie wydajności](https://msdn.microsoft.com/library/ms189081.aspx)</span><span class="sxs-lookup"><span data-stu-id="4d5b8-476">On-premises SQL Server: [Monitor and tune for performance](https://msdn.microsoft.com/library/ms189081.aspx)</span></span>
* <span data-ttu-id="4d5b8-477">Lokalny serwer plików: [dostrajania wydajności dla serwerów plików](https://msdn.microsoft.com/library/dn567661.aspx)</span><span class="sxs-lookup"><span data-stu-id="4d5b8-477">On-premises file server: [Performance tuning for file servers](https://msdn.microsoft.com/library/dn567661.aspx)</span></span>
