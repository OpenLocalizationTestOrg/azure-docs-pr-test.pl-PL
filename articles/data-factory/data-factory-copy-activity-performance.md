---
title: "aaaCopy działania wydajności i dostrajania przewodnik | Dokumentacja firmy Microsoft"
description: "Więcej informacji na temat kluczowych czynników wpływających na wydajność hello przepływu danych w fabryce danych Azure, korzystając z działanie kopiowania."
services: data-factory
documentationcenter: 
author: linda33wj
manager: jhubbard
editor: monicar
ms.assetid: 4b9a6a4f-8cf5-4e0a-a06f-8133a2b7bc58
ms.service: data-factory
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/10/2017
ms.author: jingwang
ms.openlocfilehash: b0fb5a76c34752d07e8ddfffbb799a05fb5d6be6
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="copy-activity-performance-and-tuning-guide"></a><span data-ttu-id="f2b58-103">Skopiuj wydajności działania i dostrajania przewodnik</span><span class="sxs-lookup"><span data-stu-id="f2b58-103">Copy Activity performance and tuning guide</span></span>
<span data-ttu-id="f2b58-104">Działanie kopiowania fabryki danych Azure oferuje najwyższej jakości danych bezpieczne, niezawodne i wysoko wydajnych ładowania rozwiązania.</span><span class="sxs-lookup"><span data-stu-id="f2b58-104">Azure Data Factory Copy Activity delivers a first-class secure, reliable, and high-performance data loading solution.</span></span> <span data-ttu-id="f2b58-105">On pozwala toocopy dziesiątki terabajtów danych codziennie przez szeroki zakres chmury i lokalnych magazynów danych.</span><span class="sxs-lookup"><span data-stu-id="f2b58-105">It enables you toocopy tens of terabytes of data every day across a rich variety of cloud and on-premises data stores.</span></span> <span data-ttu-id="f2b58-106">Ładowanie wydajności danych ogromną fast jest tooensure klucza można skoncentrować się na problem "danych big data" core hello: kompilowanie rozwiązań zaawansowane analizy i uzyskiwanie szczegółowych informacji z wszystkie te dane.</span><span class="sxs-lookup"><span data-stu-id="f2b58-106">Blazing-fast data loading performance is key tooensure you can focus on hello core “big data” problem: building advanced analytics solutions and getting deep insights from all that data.</span></span>

<span data-ttu-id="f2b58-107">Platforma Azure oferuje zestaw korporacyjnej rozwiązania dotyczące danych magazynu i danych magazynu i działanie kopiowania oferuje zoptymalizowanego ładowania środowisko, które jest łatwe tooconfigure i konfigurowanie danych.</span><span class="sxs-lookup"><span data-stu-id="f2b58-107">Azure provides a set of enterprise-grade data storage and data warehouse solutions, and Copy Activity offers a highly optimized data loading experience that is easy tooconfigure and set up.</span></span> <span data-ttu-id="f2b58-108">Z po prostu działanie pojedynczej kopii można uzyskać:</span><span class="sxs-lookup"><span data-stu-id="f2b58-108">With just a single copy activity, you can achieve:</span></span>

* <span data-ttu-id="f2b58-109">Ładowanie danych do **magazyn danych SQL Azure** w **1,2 GB/s**.</span><span class="sxs-lookup"><span data-stu-id="f2b58-109">Loading data into **Azure SQL Data Warehouse** at **1.2 GBps**.</span></span> <span data-ttu-id="f2b58-110">Aby uzyskać wskazówki z przypadkiem użycia, zobacz [załadować 1 TB do usługi Azure SQL Data Warehouse z fabryką danych Azure w obszarze 15 minut](data-factory-load-sql-data-warehouse.md).</span><span class="sxs-lookup"><span data-stu-id="f2b58-110">For a walkthrough with a use case, see [Load 1 TB into Azure SQL Data Warehouse under 15 minutes with Azure Data Factory](data-factory-load-sql-data-warehouse.md).</span></span>
* <span data-ttu-id="f2b58-111">Ładowanie danych do **magazynu obiektów Blob Azure** na **1.0 GB/s**</span><span class="sxs-lookup"><span data-stu-id="f2b58-111">Loading data into **Azure Blob storage** at **1.0 GBps**</span></span>
* <span data-ttu-id="f2b58-112">Ładowanie danych do **Azure Data Lake Store** na **1.0 GB/s**</span><span class="sxs-lookup"><span data-stu-id="f2b58-112">Loading data into **Azure Data Lake Store** at **1.0 GBps**</span></span>

<span data-ttu-id="f2b58-113">W tym artykule opisano:</span><span class="sxs-lookup"><span data-stu-id="f2b58-113">This article describes:</span></span>

* <span data-ttu-id="f2b58-114">[Numery wydajności](#performance-reference) dla obsługiwanych źródłowy i odbiorczy toohelp dane w magazynach plan projektu.</span><span class="sxs-lookup"><span data-stu-id="f2b58-114">[Performance reference numbers](#performance-reference) for supported source and sink data stores toohelp you plan your project;</span></span>
* <span data-ttu-id="f2b58-115">Funkcje, które mogą zwiększyć hello przepływność kopiowania w różnych scenariuszy, w tym [jednostki przepływu danych w chmurze](#cloud-data-movement-units), [równoległych kopii](#parallel-copy), i [przemieszczane kopiowania](#staged-copy);</span><span class="sxs-lookup"><span data-stu-id="f2b58-115">Features that can boost hello copy throughput in different scenarios, including [cloud data movement units](#cloud-data-movement-units), [parallel copy](#parallel-copy), and [staged Copy](#staged-copy);</span></span>
* <span data-ttu-id="f2b58-116">[Wskazówki dotyczące dostrajania wydajności](#performance-tuning-steps) na jak tootune hello wydajności i hello kluczowych czynników wpływających można skopiować wydajności.</span><span class="sxs-lookup"><span data-stu-id="f2b58-116">[Performance tuning guidance](#performance-tuning-steps) on how tootune hello performance and hello key factors that can impact copy performance.</span></span>

> [!NOTE]
> <span data-ttu-id="f2b58-117">Jeśli nie masz doświadczenia w obsłudze działania kopiowania ogólnie rzecz biorąc, zobacz [przenoszenia danych za pomocą działania kopiowania](data-factory-data-movement-activities.md) przed przeczytaniem tego artykułu.</span><span class="sxs-lookup"><span data-stu-id="f2b58-117">If you are not familiar with Copy Activity in general, see [Move data by using Copy Activity](data-factory-data-movement-activities.md) before reading this article.</span></span>
>

## <a name="performance-reference"></a><span data-ttu-id="f2b58-118">Informacje dotyczące wydajności</span><span class="sxs-lookup"><span data-stu-id="f2b58-118">Performance reference</span></span>

<span data-ttu-id="f2b58-119">Jako odwołanie pod tabelą pokazuje liczbę przepływności kopiowania hello w MB/s dla hello podane pary źródłowy i odbiorczy testów wewnętrznych.</span><span class="sxs-lookup"><span data-stu-id="f2b58-119">As a reference, below table shows hello copy throughput number in MBps for hello given source and sink pairs based on in-house testing.</span></span> <span data-ttu-id="f2b58-120">Porównanie można go również pokazano, jak różne ustawienia [jednostki przepływu danych w chmurze](#cloud-data-movement-units) lub [skalowalność brama zarządzania danymi](data-factory-data-management-gateway-high-availability-scalability.md) (wiele węzłów bramy) pozwalają na wydajność kopiowania.</span><span class="sxs-lookup"><span data-stu-id="f2b58-120">For comparison, it also demonstrates how different settings of [cloud data movement units](#cloud-data-movement-units) or [Data Management Gateway scalability](data-factory-data-management-gateway-high-availability-scalability.md) (multiple gateway nodes) can help on copy performance.</span></span>

![Macierz wydajności](./media/data-factory-copy-activity-performance/CopyPerfRef.png)


<span data-ttu-id="f2b58-122">**Toonote punktów:**</span><span class="sxs-lookup"><span data-stu-id="f2b58-122">**Points toonote:**</span></span>
* <span data-ttu-id="f2b58-123">Przepływność jest obliczana przy użyciu następującej formuły hello: [read rozmiar danych ze źródła] / [czas trwania działania kopiowania].</span><span class="sxs-lookup"><span data-stu-id="f2b58-123">Throughput is calculated by using hello following formula: [size of data read from source]/[Copy Activity run duration].</span></span>
* <span data-ttu-id="f2b58-124">Witaj wydajności numery w tabeli hello zostały mierzone przy użyciu [TPC-H](http://www.tpc.org/tpch/) zestawu danych w działaniu pojedynczej kopii Uruchom.</span><span class="sxs-lookup"><span data-stu-id="f2b58-124">hello performance reference numbers in hello table were measured using [TPC-H](http://www.tpc.org/tpch/) data set in a single copy activity run.</span></span>
* <span data-ttu-id="f2b58-125">W magazynie danych Azure hello źródło i ujście są w hello tego samego regionu systemu Azure.</span><span class="sxs-lookup"><span data-stu-id="f2b58-125">In Azure data stores, hello source and sink are in hello same Azure region.</span></span>
* <span data-ttu-id="f2b58-126">Dla kopii hybrydowej między lokalnymi i w chmurze magazyny danych każdy węzeł bramy była uruchomiona na komputerze, który został oddzielony od hello magazyn danych lokalnych z poniżej specyfikacji.</span><span class="sxs-lookup"><span data-stu-id="f2b58-126">For hybrid copy between on-premises and cloud data stores, each gateway node was running on a machine that was separate from hello on-premises data store with below specification.</span></span> <span data-ttu-id="f2b58-127">Pojedyncze działanie była uruchomiona na bramy, operacji kopiowania hello używane tylko niewielką część hello testowej maszyny procesora CPU, pamięć lub przepustowości sieci.</span><span class="sxs-lookup"><span data-stu-id="f2b58-127">When a single activity was running on gateway, hello copy operation consumed only a small portion of hello test machine's CPU, memory, or network bandwidth.</span></span> <span data-ttu-id="f2b58-128">Dowiedz się więcej o [brany pod uwagę dla bramy zarządzania danymi](#considerations-for-data-management-gateway).</span><span class="sxs-lookup"><span data-stu-id="f2b58-128">Learn more from [consideration for Data Management Gateway](#considerations-for-data-management-gateway).</span></span>
    <table>
    <tr>
        <td><span data-ttu-id="f2b58-129">Procesor CPU</span><span class="sxs-lookup"><span data-stu-id="f2b58-129">CPU</span></span></td>
        <td><span data-ttu-id="f2b58-130">32 rdzenie 2,20 GHz Intel Xeon E5-2660 v2</span><span class="sxs-lookup"><span data-stu-id="f2b58-130">32 cores 2.20 GHz Intel Xeon E5-2660 v2</span></span></td>
    </tr>
    <tr>
        <td><span data-ttu-id="f2b58-131">Memory (Pamięć)</span><span class="sxs-lookup"><span data-stu-id="f2b58-131">Memory</span></span></td>
        <td><span data-ttu-id="f2b58-132">128 GB</span><span class="sxs-lookup"><span data-stu-id="f2b58-132">128 GB</span></span></td>
    </tr>
    <tr>
        <td><span data-ttu-id="f2b58-133">Sieć</span><span class="sxs-lookup"><span data-stu-id="f2b58-133">Network</span></span></td>
        <td><span data-ttu-id="f2b58-134">Interfejs internetowy: 10 GB/s; interfejsu intranetowego: 40 GB/s</span><span class="sxs-lookup"><span data-stu-id="f2b58-134">Internet interface: 10 Gbps; intranet interface: 40 Gbps</span></span></td>
    </tr>
    </table>


> [!TIP]
> <span data-ttu-id="f2b58-135">Wyższej przepustowości można osiągnąć dzięki wykorzystaniu jednostki przepływu więcej danych (DMUs) niż hello Domyślna maksymalna DMUs, który wynosi 32 dla działania kopiowania w chmurze na chmurze, uruchom.</span><span class="sxs-lookup"><span data-stu-id="f2b58-135">You can achieve higher throughput by leveraging more data movement units (DMUs) than hello default maximum DMUs, which is 32 for a cloud-to-cloud copy activity run.</span></span> <span data-ttu-id="f2b58-136">Na przykład z 100 DMUs, możesz osiągnąć kopiowanie danych z obiektu Blob Azure do usługi Azure Data Lake Store **1.0GBps**.</span><span class="sxs-lookup"><span data-stu-id="f2b58-136">For example, with 100 DMUs, you can achieve copying data from Azure Blob into Azure Data Lake Store at **1.0GBps**.</span></span> <span data-ttu-id="f2b58-137">Zobacz hello [jednostki przepływu danych w chmurze](#cloud-data-movement-units) sekcji, aby uzyskać szczegółowe informacje o tej funkcji i hello obsługiwany scenariusz.</span><span class="sxs-lookup"><span data-stu-id="f2b58-137">See hello [Cloud data movement units](#cloud-data-movement-units) section for details about this feature and hello supported scenario.</span></span> <span data-ttu-id="f2b58-138">Skontaktuj się z [pomocy technicznej platformy Azure](https://azure.microsoft.com/support/) toorequest DMUs więcej.</span><span class="sxs-lookup"><span data-stu-id="f2b58-138">Contact [Azure support](https://azure.microsoft.com/support/) toorequest more DMUs.</span></span>

## <a name="parallel-copy"></a><span data-ttu-id="f2b58-139">Kopiuj równoległych</span><span class="sxs-lookup"><span data-stu-id="f2b58-139">Parallel copy</span></span>
<span data-ttu-id="f2b58-140">Może odczytywać źródła danych z hello lub zapisać miejsce docelowe danych toohello **równolegle w ramach działania kopiowania, uruchom**.</span><span class="sxs-lookup"><span data-stu-id="f2b58-140">You can read data from hello source or write data toohello destination **in parallel within a Copy Activity run**.</span></span> <span data-ttu-id="f2b58-141">Ta funkcja zwiększa przepływność hello operacji kopiowania i zmniejsza hello czas toomove danych.</span><span class="sxs-lookup"><span data-stu-id="f2b58-141">This feature enhances hello throughput of a copy operation and reduces hello time it takes toomove data.</span></span>

<span data-ttu-id="f2b58-142">To ustawienie jest inny niż hello **współbieżności** właściwości w definicji działania hello.</span><span class="sxs-lookup"><span data-stu-id="f2b58-142">This setting is different from hello **concurrency** property in hello activity definition.</span></span> <span data-ttu-id="f2b58-143">Hello **współbieżności** właściwość określa liczbę hello **uruchamia równoczesne działanie kopiowania** tooprocess danych z innego działania systemu windows (1 AM too2 AM, m 2 AM too3, czy 3 AM too4 i tak dalej).</span><span class="sxs-lookup"><span data-stu-id="f2b58-143">hello **concurrency** property determines hello number of **concurrent Copy Activity runs** tooprocess data from different activity windows (1 AM too2 AM, 2 AM too3 AM, 3 AM too4 AM, and so on).</span></span> <span data-ttu-id="f2b58-144">Ta możliwość jest przydatne podczas wykonywania historycznych obciążenia.</span><span class="sxs-lookup"><span data-stu-id="f2b58-144">This capability is helpful when you perform a historical load.</span></span> <span data-ttu-id="f2b58-145">możliwość kopiowania równoległych Hello stosuje tooa **pojedynczy uruchamiania działania**.</span><span class="sxs-lookup"><span data-stu-id="f2b58-145">hello parallel copy capability applies tooa **single activity run**.</span></span>

<span data-ttu-id="f2b58-146">Oto przykładowy scenariusz.</span><span class="sxs-lookup"><span data-stu-id="f2b58-146">Let's look at a sample scenario.</span></span> <span data-ttu-id="f2b58-147">W hello poniższy przykład wiele wycinków z ostatnich hello konieczne toobe przetworzone.</span><span class="sxs-lookup"><span data-stu-id="f2b58-147">In hello following example, multiple slices from hello past need toobe processed.</span></span> <span data-ttu-id="f2b58-148">Fabryka danych uruchamia wystąpienia działania kopiowania (Uruchom działania) dla każdego wycinka:</span><span class="sxs-lookup"><span data-stu-id="f2b58-148">Data Factory runs an instance of Copy Activity (an activity run) for each slice:</span></span>

* <span data-ttu-id="f2b58-149">wycinek danych Hello z pierwszym oknie działanie hello (1 AM too2 m) == > działania Uruchom 1</span><span class="sxs-lookup"><span data-stu-id="f2b58-149">hello data slice from hello first activity window (1 AM too2 AM) ==> Activity run 1</span></span>
* <span data-ttu-id="f2b58-150">wycinek danych Hello z drugiego okna działania hello (2 AM too3 AM) == > działania Uruchom 2</span><span class="sxs-lookup"><span data-stu-id="f2b58-150">hello data slice from hello second activity window (2 AM too3 AM) ==> Activity run 2</span></span>
* <span data-ttu-id="f2b58-151">wycinek danych Hello z drugiego okna działania hello (3 AM too4 AM) == > działania Uruchom 3</span><span class="sxs-lookup"><span data-stu-id="f2b58-151">hello data slice from hello second activity window (3 AM too4 AM) ==> Activity run 3</span></span>

<span data-ttu-id="f2b58-152">I tak dalej.</span><span class="sxs-lookup"><span data-stu-id="f2b58-152">And so on.</span></span>

<span data-ttu-id="f2b58-153">W tym przykładzie, gdy hello **współbieżności** wartość too2, **działania Uruchom 1** i **działania Uruchom 2** skopiować dane z dwóch okien działania **jednocześnie**  wydajność przepływu danych tooimprove.</span><span class="sxs-lookup"><span data-stu-id="f2b58-153">In this example, when hello **concurrency** value is set too2, **Activity run 1** and **Activity run 2** copy data from two activity windows **concurrently** tooimprove data movement performance.</span></span> <span data-ttu-id="f2b58-154">Jednak jeśli wiele plików są skojarzone z działania Uruchom 1, usługa przenoszenia danych hello kopiuje pliki z hello źródła toohello docelowego jeden plik w czasie.</span><span class="sxs-lookup"><span data-stu-id="f2b58-154">However, if multiple files are associated with Activity run 1, hello data movement service copies files from hello source toohello destination one file at a time.</span></span>

### <a name="cloud-data-movement-units"></a><span data-ttu-id="f2b58-155">Jednostki przepływu danych w chmurze</span><span class="sxs-lookup"><span data-stu-id="f2b58-155">Cloud data movement units</span></span>
<span data-ttu-id="f2b58-156">A **jednostki przepływu danych w chmurze (DMU)** jest miary, która reprezentuje hello zasilania (kombinacja Procesora, pamięci i alokacji zasobów sieciowych) z pojedynczą jednostkę w fabryce danych.</span><span class="sxs-lookup"><span data-stu-id="f2b58-156">A **cloud data movement unit (DMU)** is a measure that represents hello power (a combination of CPU, memory, and network resource allocation) of a single unit in Data Factory.</span></span> <span data-ttu-id="f2b58-157">DMU może być używany w operacji kopiowania w chmurze do chmury, ale nie w kopii hybrydowej.</span><span class="sxs-lookup"><span data-stu-id="f2b58-157">A DMU might be used in a cloud-to-cloud copy operation, but not in a hybrid copy.</span></span>

<span data-ttu-id="f2b58-158">Domyślnie fabryki danych używa jednej chmurze DMU tooperform uruchamiania pojedynczego działania kopiowania.</span><span class="sxs-lookup"><span data-stu-id="f2b58-158">By default, Data Factory uses a single cloud DMU tooperform a single Copy Activity run.</span></span> <span data-ttu-id="f2b58-159">toooverride to ustawienie domyślne, określ wartość hello **cloudDataMovementUnits** właściwości w następujący sposób.</span><span class="sxs-lookup"><span data-stu-id="f2b58-159">toooverride this default, specify a value for hello **cloudDataMovementUnits** property as follows.</span></span> <span data-ttu-id="f2b58-160">Informacje o poziomie hello są bardziej wydajne może spowodować, że po skonfigurowaniu więcej jednostek dla konkretnej kopii źródłowy i odbiorczy, zobacz hello [dotyczące wydajności](#performance-reference).</span><span class="sxs-lookup"><span data-stu-id="f2b58-160">For information about hello level of performance gain you might get when you configure more units for a specific copy source and sink, see hello [performance reference](#performance-reference).</span></span>

```json
"activities":[  
    {
        "name": "Sample copy activity",
        "description": "",
        "type": "Copy",
        "inputs": [{ "name": "InputDataset" }],
        "outputs": [{ "name": "OutputDataset" }],
        "typeProperties": {
            "source": {
                "type": "BlobSource",
            },
            "sink": {
                "type": "AzureDataLakeStoreSink"
            },
            "cloudDataMovementUnits": 32
        }
    }
]
```
<span data-ttu-id="f2b58-161">Witaj **dozwolone wartości** dla hello **cloudDataMovementUnits** właściwości są 1 (domyślna), 2, 4, 8, 16, 32.</span><span class="sxs-lookup"><span data-stu-id="f2b58-161">hello **allowed values** for hello **cloudDataMovementUnits** property are 1 (default), 2, 4, 8, 16, 32.</span></span> <span data-ttu-id="f2b58-162">Witaj **rzeczywistą liczbę chmury DMUs** używany w czasie wykonywania operacji kopiowania hello jest równa tooor mniejsza niż wartość hello skonfigurowane, w zależności od Twojego wzorca danych.</span><span class="sxs-lookup"><span data-stu-id="f2b58-162">hello **actual number of cloud DMUs** that hello copy operation uses at run time is equal tooor less than hello configured value, depending on your data pattern.</span></span>

> [!NOTE]
> <span data-ttu-id="f2b58-163">Jeśli potrzebujesz więcej chmury DMUs umożliwiających uzyskanie większej produktywności, skontaktuj się z [pomocy technicznej platformy Azure](https://azure.microsoft.com/support/).</span><span class="sxs-lookup"><span data-stu-id="f2b58-163">If you need more cloud DMUs for a higher throughput, contact [Azure support](https://azure.microsoft.com/support/).</span></span> <span data-ttu-id="f2b58-164">Obecnie działa tylko wtedy, gdy ustawienie 8 i nowszych możesz **skopiować wielu plików z obiektu Blob magazynu/Data Lake Store/Amazon S3/w chmurze SFTP FTP/w chmurze tooBlob magazynu/Data Lake Store/usługi Azure SQL Database**.</span><span class="sxs-lookup"><span data-stu-id="f2b58-164">Setting of 8 and above currently works only when you **copy multiple files from Blob storage/Data Lake Store/Amazon S3/cloud FTP/cloud SFTP tooBlob storage/Data Lake Store/Azure SQL Database**.</span></span>
>

### <a name="parallelcopies"></a><span data-ttu-id="f2b58-165">parallelCopies</span><span class="sxs-lookup"><span data-stu-id="f2b58-165">parallelCopies</span></span>
<span data-ttu-id="f2b58-166">Można użyć hello **parallelCopies** równoległości hello tooindicate właściwości, które mają toouse działanie kopiowania.</span><span class="sxs-lookup"><span data-stu-id="f2b58-166">You can use hello **parallelCopies** property tooindicate hello parallelism that you want Copy Activity toouse.</span></span> <span data-ttu-id="f2b58-167">Tej właściwości można traktować jako hello maksymalną liczbę wątków w ramach działania kopiowania, który może odczytywać źródła lub zapisać magazyny danych zbiornika tooyour równolegle.</span><span class="sxs-lookup"><span data-stu-id="f2b58-167">You can think of this property as hello maximum number of threads within Copy Activity that can read from your source or write tooyour sink data stores in parallel.</span></span>

<span data-ttu-id="f2b58-168">Dla każdego działania kopiowania Uruchom fabryki danych określa hello liczbę równolegle kopiuje toouse toocopy dane z magazynu danych źródła hello i magazyn danych docelowy toohello.</span><span class="sxs-lookup"><span data-stu-id="f2b58-168">For each Copy Activity run, Data Factory determines hello number of parallel copies toouse toocopy data from hello source data store and toohello destination data store.</span></span> <span data-ttu-id="f2b58-169">Witaj domyślną liczbę równoległych kopii, których używa zależy od typu hello źródłowy i odbiorczy, którego używasz.</span><span class="sxs-lookup"><span data-stu-id="f2b58-169">hello default number of parallel copies that it uses depends on hello type of source and sink that you are using.</span></span>  

| <span data-ttu-id="f2b58-170">Źródłowy i odbiorczy</span><span class="sxs-lookup"><span data-stu-id="f2b58-170">Source and sink</span></span> | <span data-ttu-id="f2b58-171">Liczba równoległych kopii domyślne określone przez usługę</span><span class="sxs-lookup"><span data-stu-id="f2b58-171">Default parallel copy count determined by service</span></span> |
| --- | --- |
| <span data-ttu-id="f2b58-172">Kopiowanie danych między magazynów opartych na plikach (magazynu obiektów Blob; Data Lake Store; Amazon S3; lokalnego systemu plików; lokalny system plików HDFS)</span><span class="sxs-lookup"><span data-stu-id="f2b58-172">Copy data between file-based stores (Blob storage; Data Lake Store; Amazon S3; an on-premises file system; an on-premises HDFS)</span></span> |<span data-ttu-id="f2b58-173">Od 1 do 32.</span><span class="sxs-lookup"><span data-stu-id="f2b58-173">Between 1 and 32.</span></span> <span data-ttu-id="f2b58-174">Zależy od rozmiaru hello hello plików oraz hello numer jednostki przepływu danych w chmurze (DMUs), toocopy używanych danych między dwa magazyny danych w chmurze lub hello fizyczną konfigurację hello maszyna bramy używana do kopii hybrydowej (toocopy danych tooor z lokalnego magazynu danych ).</span><span class="sxs-lookup"><span data-stu-id="f2b58-174">Depends on hello size of hello files and hello number of cloud data movement units (DMUs) used toocopy data between two cloud data stores, or hello physical configuration of hello Gateway machine used for a hybrid copy (toocopy data tooor from an on-premises data store).</span></span> |
| <span data-ttu-id="f2b58-175">Kopiowanie danych z **magazynu tabel tooAzure przechowywania wszystkie źródła danych**</span><span class="sxs-lookup"><span data-stu-id="f2b58-175">Copy data from **any source data store tooAzure Table storage**</span></span> |<span data-ttu-id="f2b58-176">4</span><span class="sxs-lookup"><span data-stu-id="f2b58-176">4</span></span> |
| <span data-ttu-id="f2b58-177">Wszystkie inne źródłowy i odbiorczy pary</span><span class="sxs-lookup"><span data-stu-id="f2b58-177">All other source and sink pairs</span></span> |<span data-ttu-id="f2b58-178">1</span><span class="sxs-lookup"><span data-stu-id="f2b58-178">1</span></span> |

<span data-ttu-id="f2b58-179">Zazwyczaj hello domyślne zachowanie powinien zapewnić hello najlepsze przepływności.</span><span class="sxs-lookup"><span data-stu-id="f2b58-179">Usually, hello default behavior should give you hello best throughput.</span></span> <span data-ttu-id="f2b58-180">Jednak toocontrol hello obciążenia na maszynach hostujących magazyny danych lub tootune wydajności kopii, mogą wybrać wartość domyślną hello toooverride, określ wartość hello **parallelCopies** właściwości.</span><span class="sxs-lookup"><span data-stu-id="f2b58-180">However, toocontrol hello load on machines that host your data stores, or tootune copy performance, you may choose toooverride hello default value and specify a value for hello **parallelCopies** property.</span></span> <span data-ttu-id="f2b58-181">Witaj, wartość musi być od 1 do 32 (zarówno z wartościami granicznymi).</span><span class="sxs-lookup"><span data-stu-id="f2b58-181">hello value must be between 1 and 32 (both inclusive).</span></span> <span data-ttu-id="f2b58-182">W czasie wykonywania, aby uzyskać najlepszą wydajność hello, działanie kopiowania używa wartość, która jest mniejsza lub równa toohello wartość ustawiona.</span><span class="sxs-lookup"><span data-stu-id="f2b58-182">At run time, for hello best performance, Copy Activity uses a value that is less than or equal toohello value that you set.</span></span>

```json
"activities":[  
    {
        "name": "Sample copy activity",
        "description": "",
        "type": "Copy",
        "inputs": [{ "name": "InputDataset" }],
        "outputs": [{ "name": "OutputDataset" }],
        "typeProperties": {
            "source": {
                "type": "BlobSource",
            },
            "sink": {
                "type": "AzureDataLakeStoreSink"
            },
            "parallelCopies": 8
        }
    }
]
```
<span data-ttu-id="f2b58-183">Toonote punktów:</span><span class="sxs-lookup"><span data-stu-id="f2b58-183">Points toonote:</span></span>

* <span data-ttu-id="f2b58-184">Po skopiowaniu danych między magazynów opartych na plikach hello **parallelCopies** określić równoległości hello na poziomie pliku hello.</span><span class="sxs-lookup"><span data-stu-id="f2b58-184">When you copy data between file-based stores, hello **parallelCopies** determine hello parallelism at hello file level.</span></span> <span data-ttu-id="f2b58-185">Witaj podziału w jednym pliku sytuacja może mieć miejsce pod automatycznie i w przezroczysty sposób i jest przeznaczona toouse hello najlepsze odpowiedni rozmiar fragmentu danego źródła magazynu danych wpisz dane tooload tooparallelCopies równoległych i prostopadły.</span><span class="sxs-lookup"><span data-stu-id="f2b58-185">hello chunking within a single file would happen underneath automatically and transparently, and it's designed toouse hello best suitable chunk size for a given source data store type tooload data in parallel and orthogonal tooparallelCopies.</span></span> <span data-ttu-id="f2b58-186">Witaj rzeczywista liczba równoległych kopii hello danych przepływu usługi używa dla operacji kopiowania hello w czasie wykonywania jest nie więcej niż hello liczbę plików.</span><span class="sxs-lookup"><span data-stu-id="f2b58-186">hello actual number of parallel copies hello data movement service uses for hello copy operation at run time is no more than hello number of files you have.</span></span> <span data-ttu-id="f2b58-187">Jeśli jest zachowanie kopii hello **mergeFile**, aktywność kopiowania nie może korzystać z równoległości poziomie plików.</span><span class="sxs-lookup"><span data-stu-id="f2b58-187">If hello copy behavior is **mergeFile**, Copy Activity cannot take advantage of file-level parallelism.</span></span>
* <span data-ttu-id="f2b58-188">Po określeniu wartość hello **parallelCopies** właściwość, należy wziąć pod uwagę wzrost obciążenia hello na źródłowy i odbiorczy magazynów danych i toogateway, jest kopią hybrydowego.</span><span class="sxs-lookup"><span data-stu-id="f2b58-188">When you specify a value for hello **parallelCopies** property, consider hello load increase on your source and sink data stores, and toogateway if it is a hybrid copy.</span></span> <span data-ttu-id="f2b58-189">Dzieje się to szczególnie jeśli masz wiele działań lub równoczesnych uruchomień hello tego samego działania, które wykonywane hello tego samego magazynu danych.</span><span class="sxs-lookup"><span data-stu-id="f2b58-189">This happens especially when you have multiple activities or concurrent runs of hello same activities that run against hello same data store.</span></span> <span data-ttu-id="f2b58-190">Jeśli zauważysz jest przeciążony hello magazynu danych lub bramy z hello obciążenia, Zmniejsz hello **parallelCopies** wartość toorelieve hello obciążenia.</span><span class="sxs-lookup"><span data-stu-id="f2b58-190">If you notice that either hello data store or Gateway is overwhelmed with hello load, decrease hello **parallelCopies** value toorelieve hello load.</span></span>
* <span data-ttu-id="f2b58-191">Po skopiowaniu danych z magazynów, które nie są toostores opartych na plikach, które są oparte na pliku usługi przenoszenia danych hello ignoruje hello **parallelCopies** właściwości.</span><span class="sxs-lookup"><span data-stu-id="f2b58-191">When you copy data from stores that are not file-based toostores that are file-based, hello data movement service ignores hello **parallelCopies** property.</span></span> <span data-ttu-id="f2b58-192">Nawet wtedy, gdy określono równoległości, nie zostanie zastosowane w tym przypadku.</span><span class="sxs-lookup"><span data-stu-id="f2b58-192">Even if parallelism is specified, it's not applied in this case.</span></span>

> [!NOTE]
> <span data-ttu-id="f2b58-193">Należy użyć hello toouse 1.11 lub nowszej wersji bramy zarządzania danymi **parallelCopies** funkcji po wykonaniu kopii hybrydowej.</span><span class="sxs-lookup"><span data-stu-id="f2b58-193">You must use Data Management Gateway version 1.11 or later toouse hello **parallelCopies** feature when you do a hybrid copy.</span></span>
>
>

<span data-ttu-id="f2b58-194">toobetter te dwie właściwości i tooenhance Twojego przepływność przepływu danych, zobacz hello [przykładowe przypadki użycia](#case-study-use-parallel-copy).</span><span class="sxs-lookup"><span data-stu-id="f2b58-194">toobetter use these two properties, and tooenhance your data movement throughput, see hello [sample use cases](#case-study-use-parallel-copy).</span></span> <span data-ttu-id="f2b58-195">Nie ma potrzeby tooconfigure **parallelCopies** tootake zaletą hello domyślne zachowanie.</span><span class="sxs-lookup"><span data-stu-id="f2b58-195">You don't need tooconfigure **parallelCopies** tootake advantage of hello default behavior.</span></span> <span data-ttu-id="f2b58-196">Jeśli skonfigurujesz i **parallelCopies** jest za mały, chmury wielu DMUs może nie być w pełni wykorzystywane.</span><span class="sxs-lookup"><span data-stu-id="f2b58-196">If you do configure and **parallelCopies** is too small, multiple cloud DMUs might not be fully utilized.</span></span>  

### <a name="billing-impact"></a><span data-ttu-id="f2b58-197">Wpływ rozliczeń</span><span class="sxs-lookup"><span data-stu-id="f2b58-197">Billing impact</span></span>
<span data-ttu-id="f2b58-198">Ma ona **ważne** tooremember, które są naliczane na podstawie hello całkowita czasu hello operacji kopiowania.</span><span class="sxs-lookup"><span data-stu-id="f2b58-198">It's **important** tooremember that you are charged based on hello total time of hello copy operation.</span></span> <span data-ttu-id="f2b58-199">Jeśli zadanie kopiowania używane tootake godzinę z jednostką jednej chmury i obecnie trwa 15 minut z czterech jednostki chmury, hello ogólną pozostaje rachunku prawie hello takie same.</span><span class="sxs-lookup"><span data-stu-id="f2b58-199">If a copy job used tootake one hour with one cloud unit and now it takes 15 minutes with four cloud units, hello overall bill remains almost hello same.</span></span> <span data-ttu-id="f2b58-200">Na przykład używasz cztery jednostki chmury.</span><span class="sxs-lookup"><span data-stu-id="f2b58-200">For example, you use four cloud units.</span></span> <span data-ttu-id="f2b58-201">pierwszy jednostki chmury Hello spędza na 10 minut, hello drugi 10 minut, hello trzeci z nich 5 minut i hello czwarty jeden, 5 minut, wszystko w jednym uruchamiania działania kopiowania.</span><span class="sxs-lookup"><span data-stu-id="f2b58-201">hello first cloud unit spends 10 minutes, hello second one, 10 minutes, hello third one, 5 minutes, and hello fourth one, 5 minutes, all in one Copy Activity run.</span></span> <span data-ttu-id="f2b58-202">Naliczane są opłaty za hello całkowita kopiowania (przenoszenie danych) czas, który jest 10 + 10 + 5 + 5 = 30 minut.</span><span class="sxs-lookup"><span data-stu-id="f2b58-202">You are charged for hello total copy (data movement) time, which is 10 + 10 + 5 + 5 = 30 minutes.</span></span> <span data-ttu-id="f2b58-203">Przy użyciu **parallelCopies** nie ma wpływu na rozliczenia.</span><span class="sxs-lookup"><span data-stu-id="f2b58-203">Using **parallelCopies** does not affect billing.</span></span>

## <a name="staged-copy"></a><span data-ttu-id="f2b58-204">Kopiuj przemieszczanego</span><span class="sxs-lookup"><span data-stu-id="f2b58-204">Staged copy</span></span>
<span data-ttu-id="f2b58-205">Po skopiowaniu danych z magazynu danych źródła danych magazynu tooa odbioru można toouse magazynu obiektów Blob jako magazyn tymczasowy tymczasowej.</span><span class="sxs-lookup"><span data-stu-id="f2b58-205">When you copy data from a source data store tooa sink data store, you might choose toouse Blob storage as an interim staging store.</span></span> <span data-ttu-id="f2b58-206">Przemieszczania jest szczególnie przydatna w hello w następujących przypadkach:</span><span class="sxs-lookup"><span data-stu-id="f2b58-206">Staging is especially useful in hello following cases:</span></span>

1. <span data-ttu-id="f2b58-207">**Chcesz tooingest dane z różnych baz danych do usługi SQL Data Warehouse przy użyciu programu PolyBase**.</span><span class="sxs-lookup"><span data-stu-id="f2b58-207">**You want tooingest data from various data stores into SQL Data Warehouse via PolyBase**.</span></span> <span data-ttu-id="f2b58-208">Usługi SQL Data Warehouse używa PolyBase jako mechanizm wysokiej przepustowości tooload dużej ilości danych do usługi SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="f2b58-208">SQL Data Warehouse uses PolyBase as a high-throughput mechanism tooload a large amount of data into SQL Data Warehouse.</span></span> <span data-ttu-id="f2b58-209">Jednak hello źródło danych musi być w magazynie obiektów Blob i musi spełniać kryteria.</span><span class="sxs-lookup"><span data-stu-id="f2b58-209">However, hello source data must be in Blob storage, and it must meet additional criteria.</span></span> <span data-ttu-id="f2b58-210">Podczas ładowania danych z magazynu danych innego niż magazynu obiektów Blob, możesz przeprowadzić aktywację dane kopiowanie za pośrednictwem tymczasowego przemieszczania magazynu obiektów Blob.</span><span class="sxs-lookup"><span data-stu-id="f2b58-210">When you load data from a data store other than Blob storage, you can activate data copying via interim staging Blob storage.</span></span> <span data-ttu-id="f2b58-211">W takim przypadku fabryki danych wykonuje tooensure przekształcenia danych hello wymagane spełnia wymagania hello PolyBase.</span><span class="sxs-lookup"><span data-stu-id="f2b58-211">In that case, Data Factory performs hello required data transformations tooensure that it meets hello requirements of PolyBase.</span></span> <span data-ttu-id="f2b58-212">Następnie używa PolyBase tooload danych do usługi SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="f2b58-212">Then it uses PolyBase tooload data into SQL Data Warehouse.</span></span> <span data-ttu-id="f2b58-213">Aby uzyskać więcej informacji, zobacz [Użyj programu PolyBase tooload danych do usługi Azure SQL Data Warehouse](data-factory-azure-sql-data-warehouse-connector.md#use-polybase-to-load-data-into-azure-sql-data-warehouse).</span><span class="sxs-lookup"><span data-stu-id="f2b58-213">For more details, see [Use PolyBase tooload data into Azure SQL Data Warehouse](data-factory-azure-sql-data-warehouse-connector.md#use-polybase-to-load-data-into-azure-sql-data-warehouse).</span></span> <span data-ttu-id="f2b58-214">Aby uzyskać wskazówki z przypadkiem użycia, zobacz [załadować 1 TB do usługi Azure SQL Data Warehouse z fabryką danych Azure w obszarze 15 minut](data-factory-load-sql-data-warehouse.md).</span><span class="sxs-lookup"><span data-stu-id="f2b58-214">For a walkthrough with a use case, see [Load 1 TB into Azure SQL Data Warehouse under 15 minutes with Azure Data Factory](data-factory-load-sql-data-warehouse.md).</span></span>
2. <span data-ttu-id="f2b58-215">**Czasami zajmie trochę czasu tooperform przenoszenia danych hybrydowych (to znaczy toocopy między z lokalnym magazynem danych i magazynu danych w chmurze) przez powolne połączenie sieciowe**.</span><span class="sxs-lookup"><span data-stu-id="f2b58-215">**Sometimes it takes a while tooperform a hybrid data movement (that is, toocopy between an on-premises data store and a cloud data store) over a slow network connection**.</span></span> <span data-ttu-id="f2b58-216">wydajność tooimprove można skompresować hello danych w sieci lokalnej, aby przyspieszyć mniej czasu przechowywania danych tymczasowych toohello toomove danych w chmurze hello.</span><span class="sxs-lookup"><span data-stu-id="f2b58-216">tooimprove performance, you can compress hello data on-premises so that it takes less time toomove data toohello staging data store in hello cloud.</span></span> <span data-ttu-id="f2b58-217">Następnie można zdekompresować danych hello w hello przemieszczania magazynu, przed załadowaniem do magazynu danych docelowy hello.</span><span class="sxs-lookup"><span data-stu-id="f2b58-217">Then you can decompress hello data in hello staging store before you load it into hello destination data store.</span></span>
3. <span data-ttu-id="f2b58-218">**Nie chcesz tooopen porty inne niż port 80 i portu 443 w zaporze, z powodu zasad firmowych IT**.</span><span class="sxs-lookup"><span data-stu-id="f2b58-218">**You don't want tooopen ports other than port 80 and port 443 in your firewall, because of corporate IT policies**.</span></span> <span data-ttu-id="f2b58-219">Na przykład podczas kopiowania danych z ujścia danych bazy danych SQL Azure tooan magazynu lokalnego lub ujścia magazynu danych SQL Azure, należy tooactivate wychodzącego komunikacji TCP na porcie 1433 dla zapory systemu Windows hello i firmowej zapory.</span><span class="sxs-lookup"><span data-stu-id="f2b58-219">For example, when you copy data from an on-premises data store tooan Azure SQL Database sink or an Azure SQL Data Warehouse sink, you need tooactivate outbound TCP communication on port 1433 for both hello Windows firewall and your corporate firewall.</span></span> <span data-ttu-id="f2b58-220">W tym scenariuszu skorzystaj z hello toofirst kopiowania danych tooa obiektu Blob magazynu przemieszczania wystąpienie bramy za pośrednictwem protokołu HTTP lub HTTPS na porcie 443.</span><span class="sxs-lookup"><span data-stu-id="f2b58-220">In this scenario, take advantage of hello gateway toofirst copy data tooa Blob storage staging instance over HTTP or HTTPS on port 443.</span></span> <span data-ttu-id="f2b58-221">Następnie ładowanie danych hello do bazy danych SQL lub SQL Data Warehouse z obszaru przemieszczania magazynu obiektów Blob.</span><span class="sxs-lookup"><span data-stu-id="f2b58-221">Then, load hello data into SQL Database or SQL Data Warehouse from Blob storage staging.</span></span> <span data-ttu-id="f2b58-222">W tym przepływie nie trzeba tooenable portu 1433.</span><span class="sxs-lookup"><span data-stu-id="f2b58-222">In this flow, you don't need tooenable port 1433.</span></span>

### <a name="how-staged-copy-works"></a><span data-ttu-id="f2b58-223">Jak przemieszczanego działania kopiowania</span><span class="sxs-lookup"><span data-stu-id="f2b58-223">How staged copy works</span></span>
<span data-ttu-id="f2b58-224">Po uaktywnieniu hello przemieszczania funkcji pierwszy dane hello zostaną skopiowane z magazynu danych na potrzeby przemieszczania hello źródła danych magazynu toohello (użycie własnego).</span><span class="sxs-lookup"><span data-stu-id="f2b58-224">When you activate hello staging feature, first hello data is copied from hello source data store toohello staging data store (bring your own).</span></span> <span data-ttu-id="f2b58-225">Następnie hello dane są kopiowane z hello przemieszczania magazynu danych zbiornika toohello magazynu danych.</span><span class="sxs-lookup"><span data-stu-id="f2b58-225">Next, hello data is copied from hello staging data store toohello sink data store.</span></span> <span data-ttu-id="f2b58-226">Fabryka danych automatycznie zarządza hello dwuetapowa przepływu dla Ciebie.</span><span class="sxs-lookup"><span data-stu-id="f2b58-226">Data Factory automatically manages hello two-stage flow for you.</span></span> <span data-ttu-id="f2b58-227">Fabryka danych także czyści dane tymczasowe z hello przemieszczania magazynu po zakończeniu przenoszenia danych hello.</span><span class="sxs-lookup"><span data-stu-id="f2b58-227">Data Factory also cleans up temporary data from hello staging storage after hello data movement is complete.</span></span>

<span data-ttu-id="f2b58-228">W scenariuszu kopiowania chmury hello (źródłowy i odbiorczy dane magazynów znajdują się w chmurze hello) bramy nie jest używany.</span><span class="sxs-lookup"><span data-stu-id="f2b58-228">In hello cloud copy scenario (both source and sink data stores are in hello cloud), gateway is not used.</span></span> <span data-ttu-id="f2b58-229">Witaj usługi fabryka danych wykonuje operacje kopiowania hello.</span><span class="sxs-lookup"><span data-stu-id="f2b58-229">hello Data Factory service performs hello copy operations.</span></span>

![Przemieszczane kopiowania: Scenariusz chmury](media/data-factory-copy-activity-performance/staged-copy-cloud-scenario.png)

<span data-ttu-id="f2b58-231">W scenariuszu kopiowania hybrydowego hello (źródło jest lokalnie i sink znajduje się w chmurze hello), bramy hello przenosi tooa przemieszczania magazynu danych magazynu danych z hello źródła danych.</span><span class="sxs-lookup"><span data-stu-id="f2b58-231">In hello hybrid copy scenario (source is on-premises and sink is in hello cloud), hello gateway moves data from hello source data store tooa staging data store.</span></span> <span data-ttu-id="f2b58-232">Magazyn danych z hello przemieszczania danych magazynu danych zbiornika toohello przenosić usługi fabryka danych.</span><span class="sxs-lookup"><span data-stu-id="f2b58-232">Data Factory service moves data from hello staging data store toohello sink data store.</span></span> <span data-ttu-id="f2b58-233">Kopiowanie danych z tooan magazynu danych chmury lokalnego magazynu danych za pośrednictwem trybu przejściowego także jest obsługiwany z przepływem hello wycofane.</span><span class="sxs-lookup"><span data-stu-id="f2b58-233">Copying data from a cloud data store tooan on-premises data store via staging also is supported with hello reversed flow.</span></span>

![Przemieszczane kopiowania: scenariusza hybrydowego](media/data-factory-copy-activity-performance/staged-copy-hybrid-scenario.png)

<span data-ttu-id="f2b58-235">Po uaktywnieniu przepływu danych przy użyciu tymczasowego magazynu można określić, czy mają hello toobe dane skompresowane przed przeniesieniem danych ze źródła hello danych przechowywać przejściowej tooan lub magazynu danych na potrzeby przemieszczania, a następnie dekompresowane przed przenoszenia danych z przejściowej lub przemieszczania magazynu toohello ujście danych magazynu danych.</span><span class="sxs-lookup"><span data-stu-id="f2b58-235">When you activate data movement by using a staging store, you can specify whether you want hello data toobe compressed before moving data from hello source data store tooan interim or staging data store, and then decompressed before moving data from an interim or staging data store toohello sink data store.</span></span>

<span data-ttu-id="f2b58-236">Obecnie nie można skopiować danych między dwa lokalnych magazynów danych przy użyciu magazynu tymczasowego.</span><span class="sxs-lookup"><span data-stu-id="f2b58-236">Currently, you can't copy data between two on-premises data stores by using a staging store.</span></span> <span data-ttu-id="f2b58-237">Oczekujemy, ta opcja toobe dostępne wkrótce.</span><span class="sxs-lookup"><span data-stu-id="f2b58-237">We expect this option toobe available soon.</span></span>

### <a name="configuration"></a><span data-ttu-id="f2b58-238">Konfiguracja</span><span class="sxs-lookup"><span data-stu-id="f2b58-238">Configuration</span></span>
<span data-ttu-id="f2b58-239">Skonfiguruj hello **enableStaging** ustawienie w toospecify działanie kopiowania czy hello toobe dane umieszczane w magazynie obiektów Blob, przed załadowaniem do magazynu danych docelowym.</span><span class="sxs-lookup"><span data-stu-id="f2b58-239">Configure hello **enableStaging** setting in Copy Activity toospecify whether you want hello data toobe staged in Blob storage before you load it into a destination data store.</span></span> <span data-ttu-id="f2b58-240">Podczas ustawiania **enableStaging** tooTRUE, określić dodatkowe właściwości hello na liście hello następnej tabeli.</span><span class="sxs-lookup"><span data-stu-id="f2b58-240">When you set **enableStaging** tooTRUE, specify hello additional properties listed in hello next table.</span></span> <span data-ttu-id="f2b58-241">Jeśli nie masz, należy również toocreate magazynu Azure lub magazynu udostępnionego usługi połączone podpisu dostępu dla przemieszczania.</span><span class="sxs-lookup"><span data-stu-id="f2b58-241">If you don’t have one, you also need toocreate an Azure Storage or Storage shared access signature-linked service for staging.</span></span>

| <span data-ttu-id="f2b58-242">Właściwość</span><span class="sxs-lookup"><span data-stu-id="f2b58-242">Property</span></span> | <span data-ttu-id="f2b58-243">Opis</span><span class="sxs-lookup"><span data-stu-id="f2b58-243">Description</span></span> | <span data-ttu-id="f2b58-244">Wartość domyślna</span><span class="sxs-lookup"><span data-stu-id="f2b58-244">Default value</span></span> | <span data-ttu-id="f2b58-245">Wymagane</span><span class="sxs-lookup"><span data-stu-id="f2b58-245">Required</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="f2b58-246">**enableStaging**</span><span class="sxs-lookup"><span data-stu-id="f2b58-246">**enableStaging**</span></span> |<span data-ttu-id="f2b58-247">Określ, czy dane toocopy za pośrednictwem przejściowej przemieszczania magazynu.</span><span class="sxs-lookup"><span data-stu-id="f2b58-247">Specify whether you want toocopy data via an interim staging store.</span></span> |<span data-ttu-id="f2b58-248">False</span><span class="sxs-lookup"><span data-stu-id="f2b58-248">False</span></span> |<span data-ttu-id="f2b58-249">Nie</span><span class="sxs-lookup"><span data-stu-id="f2b58-249">No</span></span> |
| <span data-ttu-id="f2b58-250">**linkedServiceName**</span><span class="sxs-lookup"><span data-stu-id="f2b58-250">**linkedServiceName**</span></span> |<span data-ttu-id="f2b58-251">Określ nazwę hello [AzureStorage](data-factory-azure-blob-connector.md#azure-storage-linked-service) lub [element AzureStorageSas](data-factory-azure-blob-connector.md#azure-storage-sas-linked-service) połączonej usługi, która odwołuje się toohello wystąpienie magazynu, który jest używany jako magazyn tymczasowy tymczasowej.</span><span class="sxs-lookup"><span data-stu-id="f2b58-251">Specify hello name of an [AzureStorage](data-factory-azure-blob-connector.md#azure-storage-linked-service) or [AzureStorageSas](data-factory-azure-blob-connector.md#azure-storage-sas-linked-service) linked service, which refers toohello instance of Storage that you use as an interim staging store.</span></span> <br/><br/> <span data-ttu-id="f2b58-252">Nie można używać magazynu danych tooload sygnatury dostępu współdzielonego do usługi SQL Data Warehouse przy użyciu programu PolyBase.</span><span class="sxs-lookup"><span data-stu-id="f2b58-252">You cannot use Storage with a shared access signature tooload data into SQL Data Warehouse via PolyBase.</span></span> <span data-ttu-id="f2b58-253">Można go użyć w innych scenariuszach.</span><span class="sxs-lookup"><span data-stu-id="f2b58-253">You can use it in all other scenarios.</span></span> |<span data-ttu-id="f2b58-254">Nie dotyczy</span><span class="sxs-lookup"><span data-stu-id="f2b58-254">N/A</span></span> |<span data-ttu-id="f2b58-255">Tak, gdy **enableStaging** ustawiono tooTRUE</span><span class="sxs-lookup"><span data-stu-id="f2b58-255">Yes, when **enableStaging** is set tooTRUE</span></span> |
| <span data-ttu-id="f2b58-256">**Ścieżka**</span><span class="sxs-lookup"><span data-stu-id="f2b58-256">**path**</span></span> |<span data-ttu-id="f2b58-257">Określ ścieżki do magazynu obiektów Blob hello czy chcesz toocontain hello umieszczone dane.</span><span class="sxs-lookup"><span data-stu-id="f2b58-257">Specify hello Blob storage path that you want toocontain hello staged data.</span></span> <span data-ttu-id="f2b58-258">Jeśli ścieżka nie zostanie określona, usługa hello tworzy dane tymczasowe toostore kontenera.</span><span class="sxs-lookup"><span data-stu-id="f2b58-258">If you do not provide a path, hello service creates a container toostore temporary data.</span></span> <br/><br/> <span data-ttu-id="f2b58-259">Określ ścieżkę tylko w przypadku używania magazynu z sygnatury dostępu współdzielonego lub wymagają toobe dane tymczasowe w określonej lokalizacji.</span><span class="sxs-lookup"><span data-stu-id="f2b58-259">Specify a path only if you use Storage with a shared access signature, or you require temporary data toobe in a specific location.</span></span> |<span data-ttu-id="f2b58-260">Nie dotyczy</span><span class="sxs-lookup"><span data-stu-id="f2b58-260">N/A</span></span> |<span data-ttu-id="f2b58-261">Nie</span><span class="sxs-lookup"><span data-stu-id="f2b58-261">No</span></span> |
| <span data-ttu-id="f2b58-262">**enableCompression**</span><span class="sxs-lookup"><span data-stu-id="f2b58-262">**enableCompression**</span></span> |<span data-ttu-id="f2b58-263">Określa, czy dane powinny kompresowane, zanim zostanie skopiowany toohello docelowego.</span><span class="sxs-lookup"><span data-stu-id="f2b58-263">Specifies whether data should be compressed before it is copied toohello destination.</span></span> <span data-ttu-id="f2b58-264">To ustawienie ogranicza hello ilość transferowanych danych.</span><span class="sxs-lookup"><span data-stu-id="f2b58-264">This setting reduces hello volume of data being transferred.</span></span> |<span data-ttu-id="f2b58-265">False</span><span class="sxs-lookup"><span data-stu-id="f2b58-265">False</span></span> |<span data-ttu-id="f2b58-266">Nie</span><span class="sxs-lookup"><span data-stu-id="f2b58-266">No</span></span> |

<span data-ttu-id="f2b58-267">Oto przykładowe definicji działania kopiowania z właściwościami hello, które zostały opisane w powyższej tabeli hello:</span><span class="sxs-lookup"><span data-stu-id="f2b58-267">Here's a sample definition of Copy Activity with hello properties that are described in hello preceding table:</span></span>

```json
"activities":[  
{
    "name": "Sample copy activity",
    "type": "Copy",
    "inputs": [{ "name": "OnpremisesSQLServerInput" }],
    "outputs": [{ "name": "AzureSQLDBOutput" }],
    "typeProperties": {
        "source": {
            "type": "SqlSource",
        },
        "sink": {
            "type": "SqlSink"
        },
        "enableStaging": true,
        "stagingSettings": {
            "linkedServiceName": "MyStagingBlob",
            "path": "stagingcontainer/path",
            "enableCompression": true
        }
    }
}
]
```

### <a name="billing-impact"></a><span data-ttu-id="f2b58-268">Wpływ rozliczeń</span><span class="sxs-lookup"><span data-stu-id="f2b58-268">Billing impact</span></span>
<span data-ttu-id="f2b58-269">Są naliczane na podstawie dwa kroki: kopiowanie czas trwania i skopiować typu.</span><span class="sxs-lookup"><span data-stu-id="f2b58-269">You are charged based on two steps: copy duration and copy type.</span></span>

* <span data-ttu-id="f2b58-270">Gdy używasz przemieszczania podczas kopiowania chmury (kopiowanie danych z magazynu danych chmury tooanother chmury danych magazynu), naliczane są opłaty hello [łączny czas trwania kopiowania kroki 1 i 2] x [cenie jednostkowej kopiowania chmury].</span><span class="sxs-lookup"><span data-stu-id="f2b58-270">When you use staging during a cloud copy (copying data from a cloud data store tooanother cloud data store), you are charged hello [sum of copy duration for step 1 and step 2] x [cloud copy unit price].</span></span>
* <span data-ttu-id="f2b58-271">Gdy używasz przemieszczania podczas kopiowania hybrydowych (kopiowanie danych z magazynu danych chmury tooa magazynu lokalnego danych), naliczane są opłaty [hybrydowego kopiowania czas] x [cenie jednostkowej kopiowania hybrydowego] + [czas trwania kopiowania w chmurze] x [cenie jednostkowej kopiowania chmury].</span><span class="sxs-lookup"><span data-stu-id="f2b58-271">When you use staging during a hybrid copy (copying data from an on-premises data store tooa cloud data store), you are charged for [hybrid copy duration] x [hybrid copy unit price] + [cloud copy duration] x [cloud copy unit price].</span></span>

## <a name="performance-tuning-steps"></a><span data-ttu-id="f2b58-272">Kroki dostrajania wydajności</span><span class="sxs-lookup"><span data-stu-id="f2b58-272">Performance tuning steps</span></span>
<span data-ttu-id="f2b58-273">Zalecamy tootune hello wydajności usługi fabryka danych z działania kopiowania należy wykonać następujące czynności:</span><span class="sxs-lookup"><span data-stu-id="f2b58-273">We suggest that you take these steps tootune hello performance of your Data Factory service with Copy Activity:</span></span>

1. <span data-ttu-id="f2b58-274">**Ustalanie linii bazowej**.</span><span class="sxs-lookup"><span data-stu-id="f2b58-274">**Establish a baseline**.</span></span> <span data-ttu-id="f2b58-275">W fazie programowanie hello przetestować potoku sieci za pomocą działania kopiowania przed przykładowych danych reprezentatywnych.</span><span class="sxs-lookup"><span data-stu-id="f2b58-275">During hello development phase, test your pipeline by using Copy Activity against a representative data sample.</span></span> <span data-ttu-id="f2b58-276">Można użyć hello fabryki danych [fragmentowania modelu](data-factory-scheduling-and-execution.md) toolimit hello ilość danych z.</span><span class="sxs-lookup"><span data-stu-id="f2b58-276">You can use hello Data Factory [slicing model](data-factory-scheduling-and-execution.md) toolimit hello amount of data you work with.</span></span>

   <span data-ttu-id="f2b58-277">Zbieranie czasu wykonywania i charakterystyki wydajności przy użyciu hello **monitorowanie i zarządzanie aplikacjami**.</span><span class="sxs-lookup"><span data-stu-id="f2b58-277">Collect execution time and performance characteristics by using hello **Monitoring and Management App**.</span></span> <span data-ttu-id="f2b58-278">Wybierz **Monitor & Zarządzaj** na stronie głównej fabryki danych.</span><span class="sxs-lookup"><span data-stu-id="f2b58-278">Choose **Monitor & Manage** on your Data Factory home page.</span></span> <span data-ttu-id="f2b58-279">W widoku drzewa hello wybierz hello **wyjściowy zestaw danych**.</span><span class="sxs-lookup"><span data-stu-id="f2b58-279">In hello tree view, choose hello **output dataset**.</span></span> <span data-ttu-id="f2b58-280">W hello **okien działania** wybierz hello uruchamiania działania kopiowania.</span><span class="sxs-lookup"><span data-stu-id="f2b58-280">In hello **Activity Windows** list, choose hello Copy Activity run.</span></span> <span data-ttu-id="f2b58-281">**Okien działania** Wyświetla czas trwania działania kopiowania hello i hello rozmiar danych hello, który jest skopiowany.</span><span class="sxs-lookup"><span data-stu-id="f2b58-281">**Activity Windows** lists hello Copy Activity duration and hello size of hello data that's copied.</span></span> <span data-ttu-id="f2b58-282">Przepływność Hello jest wymieniony w **działania okna Eksploratora**.</span><span class="sxs-lookup"><span data-stu-id="f2b58-282">hello throughput is listed in **Activity Window Explorer**.</span></span> <span data-ttu-id="f2b58-283">Zobacz toolearn więcej informacji na temat aplikacji hello [monitora i zarządzanie nimi potoki fabryki danych Azure przy użyciu hello monitorowanie i zarządzanie aplikacjami](data-factory-monitor-manage-app.md).</span><span class="sxs-lookup"><span data-stu-id="f2b58-283">toolearn more about hello app, see [Monitor and manage Azure Data Factory pipelines by using hello Monitoring and Management App](data-factory-monitor-manage-app.md).</span></span>

   ![Szczegóły uruchamiania działania](./media/data-factory-copy-activity-performance/mmapp-activity-run-details.png)

   <span data-ttu-id="f2b58-285">W dalszej części artykułu hello możesz porównać hello wydajności i konfiguracji Twojego scenariusza tooCopy działania w [dotyczące wydajności](#performance-reference) z naszych testów.</span><span class="sxs-lookup"><span data-stu-id="f2b58-285">Later in hello article, you can compare hello performance and configuration of your scenario tooCopy Activity’s [performance reference](#performance-reference) from our tests.</span></span>
2. <span data-ttu-id="f2b58-286">**Diagnozowanie i zoptymalizować wydajność**.</span><span class="sxs-lookup"><span data-stu-id="f2b58-286">**Diagnose and optimize performance**.</span></span> <span data-ttu-id="f2b58-287">Hello wydajności, które należy obserwować nie spełnia Twoich oczekiwań, należy najpierw tooidentify wąskich gardeł wydajności.</span><span class="sxs-lookup"><span data-stu-id="f2b58-287">If hello performance you observe doesn't meet your expectations, you need tooidentify performance bottlenecks.</span></span> <span data-ttu-id="f2b58-288">Następnie optymalizacji wydajności tooremove lub zmniejszyć wpływ hello wąskich gardeł.</span><span class="sxs-lookup"><span data-stu-id="f2b58-288">Then, optimize performance tooremove or reduce hello effect of bottlenecks.</span></span> <span data-ttu-id="f2b58-289">Pełny opis wydajności diagnostyki wykracza poza zakres tego artykułu hello, ale poniżej przedstawiono niektóre typowe kwestie wymagające rozważenia:</span><span class="sxs-lookup"><span data-stu-id="f2b58-289">A full description of performance diagnosis is beyond hello scope of this article, but here are some common considerations:</span></span>

   * <span data-ttu-id="f2b58-290">Funkcje wydajności:</span><span class="sxs-lookup"><span data-stu-id="f2b58-290">Performance features:</span></span>
     * [<span data-ttu-id="f2b58-291">Kopiuj równoległych</span><span class="sxs-lookup"><span data-stu-id="f2b58-291">Parallel copy</span></span>](#parallel-copy)
     * [<span data-ttu-id="f2b58-292">Jednostki przepływu danych w chmurze</span><span class="sxs-lookup"><span data-stu-id="f2b58-292">Cloud data movement units</span></span>](#cloud-data-movement-units)
     * [<span data-ttu-id="f2b58-293">Kopiuj przemieszczanego</span><span class="sxs-lookup"><span data-stu-id="f2b58-293">Staged copy</span></span>](#staged-copy)
     * [<span data-ttu-id="f2b58-294">Skalowalność zarządzania bramy danych</span><span class="sxs-lookup"><span data-stu-id="f2b58-294">Data Management Gateway scalability</span></span>](data-factory-data-management-gateway-high-availability-scalability.md)
   * [<span data-ttu-id="f2b58-295">Brama zarządzania danymi</span><span class="sxs-lookup"><span data-stu-id="f2b58-295">Data Management Gateway</span></span>](#considerations-for-data-management-gateway)
   * [<span data-ttu-id="f2b58-296">Źródło</span><span class="sxs-lookup"><span data-stu-id="f2b58-296">Source</span></span>](#considerations-for-the-source)
   * [<span data-ttu-id="f2b58-297">Obiekt sink</span><span class="sxs-lookup"><span data-stu-id="f2b58-297">Sink</span></span>](#considerations-for-the-sink)
   * [<span data-ttu-id="f2b58-298">Serializacja i deserializacja</span><span class="sxs-lookup"><span data-stu-id="f2b58-298">Serialization and deserialization</span></span>](#considerations-for-serialization-and-deserialization)
   * [<span data-ttu-id="f2b58-299">Kompresja</span><span class="sxs-lookup"><span data-stu-id="f2b58-299">Compression</span></span>](#considerations-for-compression)
   * [<span data-ttu-id="f2b58-300">Mapowanie kolumny</span><span class="sxs-lookup"><span data-stu-id="f2b58-300">Column mapping</span></span>](#considerations-for-column-mapping)
   * [<span data-ttu-id="f2b58-301">Inne zagadnienia</span><span class="sxs-lookup"><span data-stu-id="f2b58-301">Other considerations</span></span>](#other-considerations)
3. <span data-ttu-id="f2b58-302">**Rozwiń węzeł hello konfiguracji tooyour cały zestaw danych**.</span><span class="sxs-lookup"><span data-stu-id="f2b58-302">**Expand hello configuration tooyour entire data set**.</span></span> <span data-ttu-id="f2b58-303">Po zakończeniu wyniki wykonania hello i wydajności, można rozwinąć hello definicji i potoku aktywnego okresu toocover cały zestaw danych.</span><span class="sxs-lookup"><span data-stu-id="f2b58-303">When you're satisfied with hello execution results and performance, you can expand hello definition and pipeline active period toocover your entire data set.</span></span>

## <a name="considerations-for-data-management-gateway"></a><span data-ttu-id="f2b58-304">Zagadnienia dotyczące bramy zarządzania danymi</span><span class="sxs-lookup"><span data-stu-id="f2b58-304">Considerations for Data Management Gateway</span></span>
<span data-ttu-id="f2b58-305">**Instalator bramy**: zalecane jest użycie dedykowanych maszyny toohost brama zarządzania danymi.</span><span class="sxs-lookup"><span data-stu-id="f2b58-305">**Gateway setup**: We recommend that you use a dedicated machine toohost Data Management Gateway.</span></span> <span data-ttu-id="f2b58-306">Zobacz [zagadnienia dotyczące korzystania z bramy zarządzania danymi](data-factory-data-management-gateway.md#considerations-for-using-gateway).</span><span class="sxs-lookup"><span data-stu-id="f2b58-306">See [Considerations for using Data Management Gateway](data-factory-data-management-gateway.md#considerations-for-using-gateway).</span></span>  

<span data-ttu-id="f2b58-307">**Monitorowanie bramy i w górę/skalowalnych w poziomie**: pojedyncza brama logicznych z co najmniej jeden węzeł bramy może obsługiwać wiele działanie kopiowania działa na powitania w sam czas jednocześnie.</span><span class="sxs-lookup"><span data-stu-id="f2b58-307">**Gateway monitoring and scale-up/out**: A single logical gateway with one or more gateway nodes can serve multiple Copy Activity runs at hello same time concurrently.</span></span> <span data-ttu-id="f2b58-308">Można wyświetlić migawki czasie niemal rzeczywistym wykorzystania zasobów (CPU, pamięci, network(in/out), itp.) na komputerze bramy, a także hello liczbę współbieżnych zadań uruchomiona, a limit w hello portalu Azure, zobacz [Monitor bramy w portalu hello](data-factory-data-management-gateway.md#monitor-gateway-in-the-portal).</span><span class="sxs-lookup"><span data-stu-id="f2b58-308">You can view near-real time snapshot of resource utilization (CPU, memory, network(in/out), etc.) on a gateway machine as well as hello number of concurrent jobs running versus limit in hello Azure portal, see [Monitor gateway in hello portal](data-factory-data-management-gateway.md#monitor-gateway-in-the-portal).</span></span> <span data-ttu-id="f2b58-309">Duże konieczność na hybrydowego przenoszenia danych z dużą liczbą jednoczesnych kopii uruchomień działania lub z dużą ilością danych toocopy, rozważ zbyt[skalowanie w górę i skalowania w poziomie bramy](data-factory-data-management-gateway-high-availability-scalability.md#scale-considerations) tak toobetter wykorzystywać zasobu lub Skopiuj tooprovision więcej tooempower zasobów.</span><span class="sxs-lookup"><span data-stu-id="f2b58-309">If you have heavy need on hybrid data movement either with large number of concurrent copy activity runs or with large volume of data toocopy, consider too[scale up or scale out gateway](data-factory-data-management-gateway-high-availability-scalability.md#scale-considerations) so as toobetter utilize your resource or tooprovision more resource tooempower copy.</span></span> 

## <a name="considerations-for-hello-source"></a><span data-ttu-id="f2b58-310">Zagadnienia dotyczące hello źródła</span><span class="sxs-lookup"><span data-stu-id="f2b58-310">Considerations for hello source</span></span>
### <a name="general"></a><span data-ttu-id="f2b58-311">Ogólne</span><span class="sxs-lookup"><span data-stu-id="f2b58-311">General</span></span>
<span data-ttu-id="f2b58-312">Upewnij się, że ten hello podstawowy magazyn danych nie jest przeciążony przez innych obciążeń uruchomionych na nim.</span><span class="sxs-lookup"><span data-stu-id="f2b58-312">Be sure that hello underlying data store is not overwhelmed by other workloads that are running on or against it.</span></span>

<span data-ttu-id="f2b58-313">Dla magazynów danych firmy Microsoft, zobacz [monitorowania i dostrajania tematy](#performance-reference) które są określone toodata magazynów i ułatwiające zrozumienie, jakie dane przechowywania charakterystyki wydajności, zminimalizować czas reakcji i zmaksymalizować przepustowość.</span><span class="sxs-lookup"><span data-stu-id="f2b58-313">For Microsoft data stores, see [monitoring and tuning topics](#performance-reference) that are specific toodata stores, and help you understand data store performance characteristics, minimize response times, and maximize throughput.</span></span>

<span data-ttu-id="f2b58-314">Po skopiowaniu danych z obiektu Blob magazynu tooSQL hurtowni danych, należy rozważyć użycie **PolyBase** tooboost wydajności.</span><span class="sxs-lookup"><span data-stu-id="f2b58-314">If you copy data from Blob storage tooSQL Data Warehouse, consider using **PolyBase** tooboost performance.</span></span> <span data-ttu-id="f2b58-315">Zobacz [Użyj programu PolyBase tooload danych do usługi Azure SQL Data Warehouse](data-factory-azure-sql-data-warehouse-connector.md#use-polybase-to-load-data-into-azure-sql-data-warehouse) szczegółowe informacje.</span><span class="sxs-lookup"><span data-stu-id="f2b58-315">See [Use PolyBase tooload data into Azure SQL Data Warehouse](data-factory-azure-sql-data-warehouse-connector.md#use-polybase-to-load-data-into-azure-sql-data-warehouse) for details.</span></span> <span data-ttu-id="f2b58-316">Aby uzyskać wskazówki z przypadkiem użycia, zobacz [załadować 1 TB do usługi Azure SQL Data Warehouse z fabryką danych Azure w obszarze 15 minut](data-factory-load-sql-data-warehouse.md).</span><span class="sxs-lookup"><span data-stu-id="f2b58-316">For a walkthrough with a use case, see [Load 1 TB into Azure SQL Data Warehouse under 15 minutes with Azure Data Factory](data-factory-load-sql-data-warehouse.md).</span></span>

### <a name="file-based-data-stores"></a><span data-ttu-id="f2b58-317">Magazyny danych opartych na plikach</span><span class="sxs-lookup"><span data-stu-id="f2b58-317">File-based data stores</span></span>
<span data-ttu-id="f2b58-318">*(W tym magazynu obiektów Blob, Data Lake Store, Amazon S3, systemów lokalnych plików i lokalnego systemu plików HDFS)*</span><span class="sxs-lookup"><span data-stu-id="f2b58-318">*(Includes Blob storage, Data Lake Store, Amazon S3, on-premises file systems, and on-premises HDFS)*</span></span>

* <span data-ttu-id="f2b58-319">**Średni rozmiar pliku i liczba plików**: działanie kopiowania transfery danych jeden plik w czasie.</span><span class="sxs-lookup"><span data-stu-id="f2b58-319">**Average file size and file count**: Copy Activity transfers data one file at a time.</span></span> <span data-ttu-id="f2b58-320">Z samą ilość danych toobe przenieść hello hello ogólną przepustowość jest niższe, jeśli dane hello zawiera wiele małych plików zamiast kilka dużych plików powodu toohello faza inicjowania dla każdego pliku.</span><span class="sxs-lookup"><span data-stu-id="f2b58-320">With hello same amount of data toobe moved, hello overall throughput is lower if hello data consists of many small files rather than a few large files due toohello bootstrap phase for each file.</span></span> <span data-ttu-id="f2b58-321">W związku z tym jeśli to możliwe, połączenie małych plików do większych plików toogain wyższej przepustowości.</span><span class="sxs-lookup"><span data-stu-id="f2b58-321">Therefore, if possible, combine small files into larger files toogain higher throughput.</span></span>
* <span data-ttu-id="f2b58-322">**Plik formatu i kompresji**: więcej sposobów tooimprove wydajności, zobacz hello [uwagi do serializacji i deserializacji](#considerations-for-serialization-and-deserialization) i [zagadnienia dotyczące kompresji](#considerations-for-compression) sekcje.</span><span class="sxs-lookup"><span data-stu-id="f2b58-322">**File format and compression**: For more ways tooimprove performance, see hello [Considerations for serialization and deserialization](#considerations-for-serialization-and-deserialization) and [Considerations for compression](#considerations-for-compression) sections.</span></span>
* <span data-ttu-id="f2b58-323">Dla hello **lokalnego systemu plików** scenariusz, w którym **brama zarządzania danymi** jest wymagane, zobacz hello [zagadnienia dotyczące bramy zarządzania danymi](#considerations-for-data-management-gateway) sekcji.</span><span class="sxs-lookup"><span data-stu-id="f2b58-323">For hello **on-premises file system** scenario, in which **Data Management Gateway** is required, see hello [Considerations for Data Management Gateway](#considerations-for-data-management-gateway) section.</span></span>

### <a name="relational-data-stores"></a><span data-ttu-id="f2b58-324">Magazyny danych relacyjnych</span><span class="sxs-lookup"><span data-stu-id="f2b58-324">Relational data stores</span></span>
<span data-ttu-id="f2b58-325">*(W tym bazy danych SQL. Magazyn danych SQL; Amazon Redshift; Bazy danych programu SQL Server; i Oracle, MySQL, DB2 Teradata, Sybase i PostgreSQL bazy danych itp.)*</span><span class="sxs-lookup"><span data-stu-id="f2b58-325">*(Includes SQL Database; SQL Data Warehouse; Amazon Redshift; SQL Server databases; and Oracle, MySQL, DB2, Teradata, Sybase, and PostgreSQL databases, etc.)*</span></span>

* <span data-ttu-id="f2b58-326">**Wzorzec danych**: schemat tabeli ma wpływ na przepustowość kopiowania.</span><span class="sxs-lookup"><span data-stu-id="f2b58-326">**Data pattern**: Your table schema affects copy throughput.</span></span> <span data-ttu-id="f2b58-327">Rozmiar wiersza dużych zapewnia lepszą wydajność niż rozmiar wiersza małych, toocopy hello samą ilość danych.</span><span class="sxs-lookup"><span data-stu-id="f2b58-327">A large row size gives you a better performance than small row size, toocopy hello same amount of data.</span></span> <span data-ttu-id="f2b58-328">Przyczyna Hello jest tej bazy danych hello wydajniej mogą pobierać partie mniej danych, które zawierają mniej wierszy.</span><span class="sxs-lookup"><span data-stu-id="f2b58-328">hello reason is that hello database can more efficiently retrieve fewer batches of data that contain fewer rows.</span></span>
* <span data-ttu-id="f2b58-329">**Zapytanie lub procedura składowana**: Optymalizacja logiki hello hello zapytań lub procedurze składowanej Określ hello działanie kopiowania źródła toofetch danych wydajniej.</span><span class="sxs-lookup"><span data-stu-id="f2b58-329">**Query or stored procedure**: Optimize hello logic of hello query or stored procedure you specify in hello Copy Activity source toofetch data more efficiently.</span></span>
* <span data-ttu-id="f2b58-330">Dla **lokalnych relacyjnych baz danych**, takie jak SQL Server i Oracle, które wymagają stosowania hello **brama zarządzania danymi**, zobacz hello [zagadnienia dotyczące bramy zarządzania danymi](#considerations-on-data-management-gateway) sekcji.</span><span class="sxs-lookup"><span data-stu-id="f2b58-330">For **on-premises relational databases**, such as SQL Server and Oracle, which require hello use of **Data Management Gateway**, see hello [Considerations for Data Management Gateway](#considerations-on-data-management-gateway) section.</span></span>

## <a name="considerations-for-hello-sink"></a><span data-ttu-id="f2b58-331">Zagadnienia dotyczące hello odbioru</span><span class="sxs-lookup"><span data-stu-id="f2b58-331">Considerations for hello sink</span></span>
### <a name="general"></a><span data-ttu-id="f2b58-332">Ogólne</span><span class="sxs-lookup"><span data-stu-id="f2b58-332">General</span></span>
<span data-ttu-id="f2b58-333">Upewnij się, że ten hello podstawowy magazyn danych nie jest przeciążony przez innych obciążeń uruchomionych na nim.</span><span class="sxs-lookup"><span data-stu-id="f2b58-333">Be sure that hello underlying data store is not overwhelmed by other workloads that are running on or against it.</span></span>

<span data-ttu-id="f2b58-334">Magazyny danych firmy Microsoft, można znaleźć zbyt[monitorowania i dostrajania tematy](#performance-reference) , które są określone toodata magazynów.</span><span class="sxs-lookup"><span data-stu-id="f2b58-334">For Microsoft data stores, refer too[monitoring and tuning topics](#performance-reference) that are specific toodata stores.</span></span> <span data-ttu-id="f2b58-335">Te tematy mogą ułatwić zrozumienie charakterystyki wydajności magazynu danych i jak czas odpowiedzi toominimize i zmaksymalizować przepustowość.</span><span class="sxs-lookup"><span data-stu-id="f2b58-335">These topics can help you understand data store performance characteristics and how toominimize response times and maximize throughput.</span></span>

<span data-ttu-id="f2b58-336">Jeśli kopiujesz dane z **magazynu obiektów Blob** zbyt**SQL Data Warehouse**, należy rozważyć użycie **PolyBase** tooboost wydajności.</span><span class="sxs-lookup"><span data-stu-id="f2b58-336">If you are copying data from **Blob storage** too**SQL Data Warehouse**, consider using **PolyBase** tooboost performance.</span></span> <span data-ttu-id="f2b58-337">Zobacz [Użyj programu PolyBase tooload danych do usługi Azure SQL Data Warehouse](data-factory-azure-sql-data-warehouse-connector.md#use-polybase-to-load-data-into-azure-sql-data-warehouse) szczegółowe informacje.</span><span class="sxs-lookup"><span data-stu-id="f2b58-337">See [Use PolyBase tooload data into Azure SQL Data Warehouse](data-factory-azure-sql-data-warehouse-connector.md#use-polybase-to-load-data-into-azure-sql-data-warehouse) for details.</span></span> <span data-ttu-id="f2b58-338">Aby uzyskać wskazówki z przypadkiem użycia, zobacz [załadować 1 TB do usługi Azure SQL Data Warehouse z fabryką danych Azure w obszarze 15 minut](data-factory-load-sql-data-warehouse.md).</span><span class="sxs-lookup"><span data-stu-id="f2b58-338">For a walkthrough with a use case, see [Load 1 TB into Azure SQL Data Warehouse under 15 minutes with Azure Data Factory](data-factory-load-sql-data-warehouse.md).</span></span>

### <a name="file-based-data-stores"></a><span data-ttu-id="f2b58-339">Magazyny danych opartych na plikach</span><span class="sxs-lookup"><span data-stu-id="f2b58-339">File-based data stores</span></span>
<span data-ttu-id="f2b58-340">*(W tym magazynu obiektów Blob, Data Lake Store, Amazon S3, systemów lokalnych plików i lokalnego systemu plików HDFS)*</span><span class="sxs-lookup"><span data-stu-id="f2b58-340">*(Includes Blob storage, Data Lake Store, Amazon S3, on-premises file systems, and on-premises HDFS)*</span></span>

* <span data-ttu-id="f2b58-341">**Skopiuj zachowanie**: po skopiowaniu danych z magazynu danych opartych na plikach różne działania kopiowania zawiera trzy pozycje za pośrednictwem hello **copyBehavior** właściwości.</span><span class="sxs-lookup"><span data-stu-id="f2b58-341">**Copy behavior**: If you copy data from a different file-based data store, Copy Activity has three options via hello **copyBehavior** property.</span></span> <span data-ttu-id="f2b58-342">Ją zachowuje hierarchię, spłaszcza hierarchii lub scala plików.</span><span class="sxs-lookup"><span data-stu-id="f2b58-342">It preserves hierarchy, flattens hierarchy, or merges files.</span></span> <span data-ttu-id="f2b58-343">Zachowywanie albo zmniejszenie liczby poziomów hierarchii ma niewielkiego lub żadnego zmniejszenie wydajności, ale scalanie plików powoduje tooincrease zmniejszenie wydajności.</span><span class="sxs-lookup"><span data-stu-id="f2b58-343">Either preserving or flattening hierarchy has little or no performance overhead, but merging files causes performance overhead tooincrease.</span></span>
* <span data-ttu-id="f2b58-344">**Plik formatu i kompresji**: hello zobacz [uwagi do serializacji i deserializacji](#considerations-for-serialization-and-deserialization) i [zagadnienia dotyczące kompresji](#considerations-for-compression) sekcje na więcej sposobów tooimprove wydajności .</span><span class="sxs-lookup"><span data-stu-id="f2b58-344">**File format and compression**: See hello [Considerations for serialization and deserialization](#considerations-for-serialization-and-deserialization) and [Considerations for compression](#considerations-for-compression) sections for more ways tooimprove performance.</span></span>
* <span data-ttu-id="f2b58-345">**Magazyn obiektów blob**: obecnie obsługuje magazynu obiektów Blob tylko blokowe obiekty BLOB do transferu danych zoptymalizowanych i przepływności.</span><span class="sxs-lookup"><span data-stu-id="f2b58-345">**Blob storage**: Currently, Blob storage supports only block blobs for optimized data transfer and throughput.</span></span>
* <span data-ttu-id="f2b58-346">Dla **lokalnych systemów plików** scenariusze, które wymagają stosowania hello **brama zarządzania danymi**, zobacz hello [zagadnienia dotyczące bramy zarządzania danymi](#considerations-for-data-management-gateway) sekcji.</span><span class="sxs-lookup"><span data-stu-id="f2b58-346">For **on-premises file systems** scenarios that require hello use of **Data Management Gateway**, see hello [Considerations for Data Management Gateway](#considerations-for-data-management-gateway) section.</span></span>

### <a name="relational-data-stores"></a><span data-ttu-id="f2b58-347">Magazyny danych relacyjnych</span><span class="sxs-lookup"><span data-stu-id="f2b58-347">Relational data stores</span></span>
<span data-ttu-id="f2b58-348">*(W tym bazy danych SQL, SQL Data Warehouse, baz danych programu SQL Server i Oracle — bazy danych)*</span><span class="sxs-lookup"><span data-stu-id="f2b58-348">*(Includes SQL Database, SQL Data Warehouse, SQL Server databases, and Oracle databases)*</span></span>

* <span data-ttu-id="f2b58-349">**Skopiuj zachowanie**: w zależności od ustawionych dla właściwości hello **sqlSink**, działanie kopiowania zapisuje dane toohello docelowej bazy danych na różne sposoby.</span><span class="sxs-lookup"><span data-stu-id="f2b58-349">**Copy behavior**: Depending on hello properties you've set for **sqlSink**, Copy Activity writes data toohello destination database in different ways.</span></span>
  * <span data-ttu-id="f2b58-350">Domyślnie program hello danych przepływu danych tooinsert API kopiowania zbiorczego hello w Dołącz tryb, który zawiera usługi używa hello najlepszą wydajność.</span><span class="sxs-lookup"><span data-stu-id="f2b58-350">By default, hello data movement service uses hello Bulk Copy API tooinsert data in append mode, which provides hello best performance.</span></span>
  * <span data-ttu-id="f2b58-351">Jeśli skonfigurujesz procedury składowanej w ujściu hello hello bazy danych ma zastosowanie jeden wiersz danych hello w momencie zamiast jako ładowania zbiorczego.</span><span class="sxs-lookup"><span data-stu-id="f2b58-351">If you configure a stored procedure in hello sink, hello database applies hello data one row at a time instead of as a bulk load.</span></span> <span data-ttu-id="f2b58-352">Wydajność porzuca znacznie.</span><span class="sxs-lookup"><span data-stu-id="f2b58-352">Performance drops significantly.</span></span> <span data-ttu-id="f2b58-353">Jeśli zestaw danych jest duży, jeśli ma to zastosowanie, rozważ przejście toousing hello **sqlWriterCleanupScript** właściwości.</span><span class="sxs-lookup"><span data-stu-id="f2b58-353">If your data set is large, when applicable, consider switching toousing hello **sqlWriterCleanupScript** property.</span></span>
  * <span data-ttu-id="f2b58-354">Jeśli skonfigurujesz hello **sqlWriterCleanupScript** Uruchom właściwości dla każdego działania kopiowania, hello usługi wyzwalaczy hello skryptu, a następnie można użyć hello API kopiowania zbiorczego tooinsert hello danych.</span><span class="sxs-lookup"><span data-stu-id="f2b58-354">If you configure hello **sqlWriterCleanupScript** property for each Copy Activity run, hello service triggers hello script, and then you use hello Bulk Copy API tooinsert hello data.</span></span> <span data-ttu-id="f2b58-355">Na przykład toooverwrite hello całą tabelę z hello najnowsze dane, można określić toofirst skryptu Usuń wszystkie rekordy przed ładowanie zbiorcze hello nowe dane ze źródła hello.</span><span class="sxs-lookup"><span data-stu-id="f2b58-355">For example, toooverwrite hello entire table with hello latest data, you can specify a script toofirst delete all records before bulk-loading hello new data from hello source.</span></span>
* <span data-ttu-id="f2b58-356">**Rozmiar danych wzorca i partii**:</span><span class="sxs-lookup"><span data-stu-id="f2b58-356">**Data pattern and batch size**:</span></span>
  * <span data-ttu-id="f2b58-357">Schemat tabeli ma wpływ na przepustowość kopiowania.</span><span class="sxs-lookup"><span data-stu-id="f2b58-357">Your table schema affects copy throughput.</span></span> <span data-ttu-id="f2b58-358">toocopy hello samą ilość danych, rozmiar wiersza dużych zapewnia lepszą wydajność niż rozmiar wiersza małych ponieważ hello bazy danych można zatwierdzić wydajniej mniej partie danych.</span><span class="sxs-lookup"><span data-stu-id="f2b58-358">toocopy hello same amount of data, a large row size gives you better performance than a small row size because hello database can more efficiently commit fewer batches of data.</span></span>
  * <span data-ttu-id="f2b58-359">Działanie kopiowania wstawia danych w serii partii.</span><span class="sxs-lookup"><span data-stu-id="f2b58-359">Copy Activity inserts data in a series of batches.</span></span> <span data-ttu-id="f2b58-360">Należy określić hello liczbę wierszy w partii, przy użyciu hello **writeBatchSize** właściwości.</span><span class="sxs-lookup"><span data-stu-id="f2b58-360">You can set hello number of rows in a batch by using hello **writeBatchSize** property.</span></span> <span data-ttu-id="f2b58-361">Jeśli dane mają małe wiersze, można ustawić hello **writeBatchSize** właściwość o wyższych toobenefit wartość mniejszy narzut partii i wyższej przepustowości.</span><span class="sxs-lookup"><span data-stu-id="f2b58-361">If your data has small rows, you can set hello **writeBatchSize** property with a higher value toobenefit from lower batch overhead and higher throughput.</span></span> <span data-ttu-id="f2b58-362">Jeśli rozmiar wiersza hello danych jest duży, należy zachować ostrożność, wraz ze zwiększeniem **writeBatchSize**.</span><span class="sxs-lookup"><span data-stu-id="f2b58-362">If hello row size of your data is large, be careful when you increase **writeBatchSize**.</span></span> <span data-ttu-id="f2b58-363">Wysokiej wartości może prowadzić tooa kopiowania niepowodzenia spowodowane przeciążeniem hello bazy danych.</span><span class="sxs-lookup"><span data-stu-id="f2b58-363">A high value might lead tooa copy failure caused by overloading hello database.</span></span>
* <span data-ttu-id="f2b58-364">Dla **lokalnych relacyjnych baz danych** , takich jak SQL Server i Oracle, które wymagają stosowania hello **brama zarządzania danymi**, zobacz hello [zagadnienia dotyczące bramy zarządzania danymi](#considerations-for-data-management-gateway) sekcji.</span><span class="sxs-lookup"><span data-stu-id="f2b58-364">For **on-premises relational databases** like SQL Server and Oracle, which require hello use of **Data Management Gateway**, see hello [Considerations for Data Management Gateway](#considerations-for-data-management-gateway) section.</span></span>

### <a name="nosql-stores"></a><span data-ttu-id="f2b58-365">Magazynów NoSQL</span><span class="sxs-lookup"><span data-stu-id="f2b58-365">NoSQL stores</span></span>
<span data-ttu-id="f2b58-366">*(W tym magazynu tabel i bazy danych rozwiązania Cosmos Azure)*</span><span class="sxs-lookup"><span data-stu-id="f2b58-366">*(Includes Table storage and Azure Cosmos DB )*</span></span>

* <span data-ttu-id="f2b58-367">Aby uzyskać **tabeli magazynu**:</span><span class="sxs-lookup"><span data-stu-id="f2b58-367">For **Table storage**:</span></span>
  * <span data-ttu-id="f2b58-368">**Partycja**: znacznie zapisu danych partycji toointerleaved powoduje spadek wydajności.</span><span class="sxs-lookup"><span data-stu-id="f2b58-368">**Partition**: Writing data toointerleaved partitions dramatically degrades performance.</span></span> <span data-ttu-id="f2b58-369">Sortuj źródło danych przez klucz partycji, tak aby hello dane są wstawiane wydajnie do jednej partycji po drugim lub Dostosuj hello logiki toowrite hello danych tooa jednej partycji.</span><span class="sxs-lookup"><span data-stu-id="f2b58-369">Sort your source data by partition key so that hello data is inserted efficiently into one partition after another, or adjust hello logic toowrite hello data tooa single partition.</span></span>
* <span data-ttu-id="f2b58-370">Aby uzyskać **rozwiązania Cosmos Azure DB**:</span><span class="sxs-lookup"><span data-stu-id="f2b58-370">For **Azure Cosmos DB**:</span></span>
  * <span data-ttu-id="f2b58-371">**Rozmiar partii**: hello **writeBatchSize** właściwość ustawia hello liczba równoległych żądań toohello bazy danych Azure rozwiązania Cosmos usługi toocreate dokumentów.</span><span class="sxs-lookup"><span data-stu-id="f2b58-371">**Batch size**: hello **writeBatchSize** property sets hello number of parallel requests toohello Azure Cosmos DB service toocreate documents.</span></span> <span data-ttu-id="f2b58-372">Lepszą wydajność można oczekiwać, wraz ze zwiększeniem **writeBatchSize** ponieważ więcej żądań równoległe są wysyłane tooAzure DB rozwiązania Cosmos.</span><span class="sxs-lookup"><span data-stu-id="f2b58-372">You can expect better performance when you increase **writeBatchSize** because more parallel requests are sent tooAzure Cosmos DB.</span></span> <span data-ttu-id="f2b58-373">Jednak obserwować ograniczania przepustowości podczas pisania tooAzure DB rozwiązania Cosmos (hello jest komunikat o błędzie "Żądania jest duża szybkość").</span><span class="sxs-lookup"><span data-stu-id="f2b58-373">However, watch for throttling when you write tooAzure Cosmos DB (hello error message is "Request rate is large").</span></span> <span data-ttu-id="f2b58-374">Różne czynniki mogą spowodować ograniczanie rozmiar dokumentu, w tym liczbę hello w dokumentach hello i hello zasady indeksowania w kolekcji docelowej.</span><span class="sxs-lookup"><span data-stu-id="f2b58-374">Various factors can cause throttling, including document size, hello number of terms in hello documents, and hello target collection's indexing policy.</span></span> <span data-ttu-id="f2b58-375">tooachieve wyższej przepustowości kopiowania, rozważ użycie lepsze kolekcji, na przykład S3.</span><span class="sxs-lookup"><span data-stu-id="f2b58-375">tooachieve higher copy throughput, consider using a better collection, for example, S3.</span></span>

## <a name="considerations-for-serialization-and-deserialization"></a><span data-ttu-id="f2b58-376">Zagadnienia dotyczące serializacja i deserializacja</span><span class="sxs-lookup"><span data-stu-id="f2b58-376">Considerations for serialization and deserialization</span></span>
<span data-ttu-id="f2b58-377">Serializacja i deserializacja może wystąpić, gdy Twoje wejściowy zestaw danych lub zestawu danych wyjściowych jest plikiem.</span><span class="sxs-lookup"><span data-stu-id="f2b58-377">Serialization and deserialization can occur when your input data set or output data set is a file.</span></span> <span data-ttu-id="f2b58-378">Zobacz [obsługiwane formaty plików i kompresji](data-factory-supported-file-and-compression-formats.md) ze szczegółami obsługiwane formaty plików przez działanie kopiowania.</span><span class="sxs-lookup"><span data-stu-id="f2b58-378">See [Supported file and compression formats](data-factory-supported-file-and-compression-formats.md) with details on supported file formats by Copy Activity.</span></span>

<span data-ttu-id="f2b58-379">**Skopiuj zachowanie**:</span><span class="sxs-lookup"><span data-stu-id="f2b58-379">**Copy behavior**:</span></span>

* <span data-ttu-id="f2b58-380">Kopiowanie plików między magazynami danych opartych na plikach:</span><span class="sxs-lookup"><span data-stu-id="f2b58-380">Copying files between file-based data stores:</span></span>
  * <span data-ttu-id="f2b58-381">Gdy wejściowych i wyjściowych zestawów danych, które mają hello takie same lub nie ustawienia formatu pliku, usługa przenoszenia danych hello wykonuje kopię binarne bez serializacji lub deserializacji.</span><span class="sxs-lookup"><span data-stu-id="f2b58-381">When input and output data sets both have hello same or no file format settings, hello data movement service executes a binary copy without any serialization or deserialization.</span></span> <span data-ttu-id="f2b58-382">Zostanie wyświetlony wyższej przepustowości w porównaniu toohello scenariusza, w którym hello źródłowy i odbiorczy ustawienia formatu pliku różnią się od siebie nawzajem.</span><span class="sxs-lookup"><span data-stu-id="f2b58-382">You see a higher throughput compared toohello scenario, in which hello source and sink file format settings are different from each other.</span></span>
  * <span data-ttu-id="f2b58-383">Podczas wprowadzania i dane wyjściowe zestawy danych zarówno w formacie tekstowym i kodowanie hello tylko typ jest inny, usługa przenoszenia danych hello jest wyłącznie Konwersja kodowania.</span><span class="sxs-lookup"><span data-stu-id="f2b58-383">When input and output data sets both are in text format and only hello encoding type is different, hello data movement service only does encoding conversion.</span></span> <span data-ttu-id="f2b58-384">Nie wszystkie serializacji i deserializacji, co powoduje, że pewnego zapasu wydajności porównywane tooa binarne kopiowania.</span><span class="sxs-lookup"><span data-stu-id="f2b58-384">It doesn't do any serialization and deserialization, which causes some performance overhead compared tooa binary copy.</span></span>
  * <span data-ttu-id="f2b58-385">Gdy wejściowych i wyjściowych zestawów danych zarówno ma różnych formatach plików lub różne konfiguracje, takie jak ograniczników hello usługi przenoszenia danych deserializuje źródła danych toostream, przekształcania i serializować go na format danych wyjściowych hello wskazana.</span><span class="sxs-lookup"><span data-stu-id="f2b58-385">When input and output data sets both have different file formats or different configurations, like delimiters, hello data movement service deserializes source data toostream, transform, and then serialize it into hello output format you indicated.</span></span> <span data-ttu-id="f2b58-386">Ten wyniki operacji narzut ważniejsze wydajność w porównaniu tooother scenariuszy.</span><span class="sxs-lookup"><span data-stu-id="f2b58-386">This operation results in a much more significant performance overhead compared tooother scenarios.</span></span>
* <span data-ttu-id="f2b58-387">Podczas kopiowania plików z magazynem danych, który nie jest opartych na plikach (na przykład z magazynu opartego na pliku tooa relacyjnego magazynu) hello serializacji lub deserializacji krok jest wymagany.</span><span class="sxs-lookup"><span data-stu-id="f2b58-387">When you copy files to/from a data store that is not file-based (for example, from a file-based store tooa relational store), hello serialization or deserialization step is required.</span></span> <span data-ttu-id="f2b58-388">Ten krok powoduje znaczne obciążenie.</span><span class="sxs-lookup"><span data-stu-id="f2b58-388">This step results in significant performance overhead.</span></span>

<span data-ttu-id="f2b58-389">**Format pliku**: format pliku hello wybierzesz może wpłynąć na wydajność kopiowania.</span><span class="sxs-lookup"><span data-stu-id="f2b58-389">**File format**: hello file format you choose might affect copy performance.</span></span> <span data-ttu-id="f2b58-390">Na przykład Avro jest compact format binarny, który przechowuje metadane z danymi.</span><span class="sxs-lookup"><span data-stu-id="f2b58-390">For example, Avro is a compact binary format that stores metadata with data.</span></span> <span data-ttu-id="f2b58-391">Ma ona szeroki zakres obsługi w ekosystemie Hadoop hello przetwarzania i zapytań.</span><span class="sxs-lookup"><span data-stu-id="f2b58-391">It has broad support in hello Hadoop ecosystem for processing and querying.</span></span> <span data-ttu-id="f2b58-392">Jednak Avro jest droższe do serializacji i deserializacji niższe przepływności kopiowania, którego wynikiem porównaniu tootext format.</span><span class="sxs-lookup"><span data-stu-id="f2b58-392">However, Avro is more expensive for serialization and deserialization, which results in lower copy throughput compared tootext format.</span></span> <span data-ttu-id="f2b58-393">Należy wybrać format plików w całej hello całościowo przetwarzania przepływu.</span><span class="sxs-lookup"><span data-stu-id="f2b58-393">Make your choice of file format throughout hello processing flow holistically.</span></span> <span data-ttu-id="f2b58-394">Uruchom z danych hello formularza są przechowywane w, źródła danych lub toobe wyodrębniane z systemów zewnętrznych; format najlepszy Hello przechowywania, przetwarzania analitycznego i badania; i w jaki format hello danych powinny być eksportowane do składnic danych programów dla narzędzi do raportowania i wizualizacji.</span><span class="sxs-lookup"><span data-stu-id="f2b58-394">Start with what form hello data is stored in, source data stores or toobe extracted from external systems; hello best format for storage, analytical processing, and querying; and in what format hello data should be exported into data marts for reporting and visualization tools.</span></span> <span data-ttu-id="f2b58-395">Czasami formacie, który jest nieoptymalne do odczytu i zapisu, wydajność może być dobrym rozwiązaniem, gdy należy wziąć pod uwagę hello ogólne analitycznych procesu.</span><span class="sxs-lookup"><span data-stu-id="f2b58-395">Sometimes a file format that is suboptimal for read and write performance might be a good choice when you consider hello overall analytical process.</span></span>

## <a name="considerations-for-compression"></a><span data-ttu-id="f2b58-396">Zagadnienia dotyczące kompresji</span><span class="sxs-lookup"><span data-stu-id="f2b58-396">Considerations for compression</span></span>
<span data-ttu-id="f2b58-397">Gdy zestaw danych wejściowych lub wyjściowych jest plikiem, można ustawić działanie kopiowania tooperform kompresja lub dekompresja jako miejsce docelowe danych toohello jest zapisywany.</span><span class="sxs-lookup"><span data-stu-id="f2b58-397">When your input or output data set is a file, you can set Copy Activity tooperform compression or decompression as it writes data toohello destination.</span></span> <span data-ttu-id="f2b58-398">Po wybraniu kompresji wprowadzeniu zależności między operacjami wejścia/wyjścia (We/Wy) i procesora CPU.</span><span class="sxs-lookup"><span data-stu-id="f2b58-398">When you choose compression, you make a tradeoff between input/output (I/O) and CPU.</span></span> <span data-ttu-id="f2b58-399">Kompresowanie danych hello koszty dodatkowe w zasoby obliczeniowe.</span><span class="sxs-lookup"><span data-stu-id="f2b58-399">Compressing hello data costs extra in compute resources.</span></span> <span data-ttu-id="f2b58-400">Ale w zamian zmniejsza we/wy sieci i magazynu.</span><span class="sxs-lookup"><span data-stu-id="f2b58-400">But in return, it reduces network I/O and storage.</span></span> <span data-ttu-id="f2b58-401">W zależności od danych mogą pojawić się zwiększenie wydajności w ogólną przepustowość kopiowania.</span><span class="sxs-lookup"><span data-stu-id="f2b58-401">Depending on your data, you may see a boost in overall copy throughput.</span></span>

<span data-ttu-id="f2b58-402">**Koder-dekoder**: działanie kopiowania obsługuje typy kompresję Deflate, bzip2 i gzip.</span><span class="sxs-lookup"><span data-stu-id="f2b58-402">**Codec**: Copy Activity supports gzip, bzip2, and Deflate compression types.</span></span> <span data-ttu-id="f2b58-403">Usługa Azure HDInsight mogą używać wszystkich trzech typów przetwarzania.</span><span class="sxs-lookup"><span data-stu-id="f2b58-403">Azure HDInsight can consume all three types for processing.</span></span> <span data-ttu-id="f2b58-404">Każdy koder-dekoder kompresji ma zalety.</span><span class="sxs-lookup"><span data-stu-id="f2b58-404">Each compression codec has advantages.</span></span> <span data-ttu-id="f2b58-405">Na przykład bzip2 ma hello najniższy kopiowania przepływności, ale uzyskać hello najlepszą Hive wydajność zapytań z bzip2, ponieważ podziel go do przetwarzania.</span><span class="sxs-lookup"><span data-stu-id="f2b58-405">For example, bzip2 has hello lowest copy throughput, but you get hello best Hive query performance with bzip2 because you can split it for processing.</span></span> <span data-ttu-id="f2b58-406">Gzip jest opcja hello najbardziej zrównoważonym i jest używany hello najczęściej.</span><span class="sxs-lookup"><span data-stu-id="f2b58-406">Gzip is hello most balanced option, and it is used hello most often.</span></span> <span data-ttu-id="f2b58-407">Wybierz hello koder-dekoder, najlepiej pasującą do Twojego scenariusza end-to-end.</span><span class="sxs-lookup"><span data-stu-id="f2b58-407">Choose hello codec that best suits your end-to-end scenario.</span></span>

<span data-ttu-id="f2b58-408">**Poziom**: są dostępne dwie opcje dla każdego koder-dekoder kompresji: najszybciej skompresowane i optymalnie skompresowane.</span><span class="sxs-lookup"><span data-stu-id="f2b58-408">**Level**: You can choose from two options for each compression codec: fastest compressed and optimally compressed.</span></span> <span data-ttu-id="f2b58-409">Hello najszybciej skompresowany opcja kompresuje hello dane tak szybko jak to możliwe, nawet jeśli nie jest optymalnie skompresowany plik wynikowy hello.</span><span class="sxs-lookup"><span data-stu-id="f2b58-409">hello fastest compressed option compresses hello data as quickly as possible, even if hello resulting file is not optimally compressed.</span></span> <span data-ttu-id="f2b58-410">Witaj optymalnie skompresowany opcja zużywa więcej czasu na kompresji i daje minimalnej ilości danych.</span><span class="sxs-lookup"><span data-stu-id="f2b58-410">hello optimally compressed option spends more time on compression and yields a minimal amount of data.</span></span> <span data-ttu-id="f2b58-411">Można przetestować toosee obie opcje, które zapewnia lepszą wydajność ogólną w Twoim przypadku.</span><span class="sxs-lookup"><span data-stu-id="f2b58-411">You can test both options toosee which provides better overall performance in your case.</span></span>

<span data-ttu-id="f2b58-412">**Wchodzi w grę**: toocopy dużej ilości danych między magazynem lokalnych i chmurze hello, należy wziąć pod uwagę przy użyciu magazynu obiektów blob tymczasowe kompresji.</span><span class="sxs-lookup"><span data-stu-id="f2b58-412">**A consideration**: toocopy a large amount of data between an on-premises store and hello cloud, consider using interim blob storage with compression.</span></span> <span data-ttu-id="f2b58-413">Przy użyciu tymczasowego magazynu jest przydatne, gdy hello przepustowości sieci firmowej i usługami Azure jest czynnikiem ograniczającym hello, i chcesz hello wejściowy zestaw danych i danych wyjściowych ustawione oba toobe w skompresowanej.</span><span class="sxs-lookup"><span data-stu-id="f2b58-413">Using interim storage is helpful when hello bandwidth of your corporate network and your Azure services is hello limiting factor, and you want hello input data set and output data set both toobe in uncompressed form.</span></span> <span data-ttu-id="f2b58-414">W szczególności można podzielić działania pojedynczej kopii kopii dwóch działań.</span><span class="sxs-lookup"><span data-stu-id="f2b58-414">More specifically, you can break a single copy activity into two copy activities.</span></span> <span data-ttu-id="f2b58-415">Witaj pierwszego kopiowania działania kopie z przejściowej tooan źródła hello lub tymczasowych obiektów blob w postaci skompresowanej.</span><span class="sxs-lookup"><span data-stu-id="f2b58-415">hello first copy activity copies from hello source tooan interim or staging blob in compressed form.</span></span> <span data-ttu-id="f2b58-416">Hello drugi działanie kopiowania kopiuje hello skompresowane dane z obszaru przemieszczania, a następnie dekompresuje podczas zapisuje toohello ujścia.</span><span class="sxs-lookup"><span data-stu-id="f2b58-416">hello second copy activity copies hello compressed data from staging, and then decompresses while it writes toohello sink.</span></span>

## <a name="considerations-for-column-mapping"></a><span data-ttu-id="f2b58-417">Zagadnienia dotyczące mapowania kolumn</span><span class="sxs-lookup"><span data-stu-id="f2b58-417">Considerations for column mapping</span></span>
<span data-ttu-id="f2b58-418">Można ustawić hello **columnMappings** właściwości w działanie kopiowania toomap wszystkie lub podzbiór hello wejściowych kolumn wyjściowych toohello kolumn.</span><span class="sxs-lookup"><span data-stu-id="f2b58-418">You can set hello **columnMappings** property in Copy Activity toomap all or a subset of hello input columns toohello output columns.</span></span> <span data-ttu-id="f2b58-419">Po usługi przenoszenia danych hello odczytuje hello dane ze źródła hello, musi tooperform mapowanie kolumn na powitania danych przed ujścia toohello danych hello jest zapisywany.</span><span class="sxs-lookup"><span data-stu-id="f2b58-419">After hello data movement service reads hello data from hello source, it needs tooperform column mapping on hello data before it writes hello data toohello sink.</span></span> <span data-ttu-id="f2b58-420">To dodatkowe przetwarzanie ogranicza przepływność kopiowania.</span><span class="sxs-lookup"><span data-stu-id="f2b58-420">This extra processing reduces copy throughput.</span></span>

<span data-ttu-id="f2b58-421">W przypadku zapytań sklepu źródła danych, na przykład, czy jest relacyjnego magazynu, takich jak SQL Database lub SQL Server, czy jest magazynu NoSQL, takie jak magazyn tabel lub bazy danych rozwiązania Cosmos platformy Azure, należy wziąć pod uwagę wypychanie hello filtrowanie kolumn i zmianę kolejności toohello logiki **zapytania**  właściwości zamiast mapowania kolumn.</span><span class="sxs-lookup"><span data-stu-id="f2b58-421">If your source data store is queryable, for example, if it's a relational store like SQL Database or SQL Server, or if it's a NoSQL store like Table storage or Azure Cosmos DB, consider pushing hello column filtering and reordering logic toohello **query** property instead of using column mapping.</span></span> <span data-ttu-id="f2b58-422">W ten sposób projekcji hello jest przeprowadzana usługi przenoszenia danych hello odczytuje magazyn danych z hello źródła danych, gdzie jest znacznie większą wydajność.</span><span class="sxs-lookup"><span data-stu-id="f2b58-422">This way, hello projection occurs while hello data movement service reads data from hello source data store, where it is much more efficient.</span></span>

## <a name="other-considerations"></a><span data-ttu-id="f2b58-423">Inne zagadnienia</span><span class="sxs-lookup"><span data-stu-id="f2b58-423">Other considerations</span></span>
<span data-ttu-id="f2b58-424">Gdy hello rozmiar danych ma toocopy jest duży, można dostosować logiki toofurther partycji hello danych biznesowych przy użyciu hello fragmentowania mechanizmu w fabryce danych.</span><span class="sxs-lookup"><span data-stu-id="f2b58-424">If hello size of data you want toocopy is large, you can adjust your business logic toofurther partition hello data using hello slicing mechanism in Data Factory.</span></span> <span data-ttu-id="f2b58-425">Następnie Zaplanuj działanie kopiowania o tej toorun częściej Uruchom rozmiar danych hello tooreduce dla każdego działania kopiowania.</span><span class="sxs-lookup"><span data-stu-id="f2b58-425">Then, schedule Copy Activity toorun more frequently tooreduce hello data size for each Copy Activity run.</span></span>

<span data-ttu-id="f2b58-426">Można ostrożność hello liczbę zestawów danych i działania kopiowania wymagające toohello tooconnector fabryki danych tego samego magazynu danych na powitania sam czas.</span><span class="sxs-lookup"><span data-stu-id="f2b58-426">Be cautious about hello number of data sets and copy activities requiring Data Factory tooconnector toohello same data store at hello same time.</span></span> <span data-ttu-id="f2b58-427">Wielu zadań jednoczesnych kopii może ograniczyć magazynu danych i prowadzić toodegraded wydajności, skopiuj zadania wewnętrzny ponownych prób, a w niektórych przypadkach niepowodzenia wykonywania.</span><span class="sxs-lookup"><span data-stu-id="f2b58-427">Many concurrent copy jobs might throttle a data store and lead toodegraded performance, copy job internal retries, and in some cases, execution failures.</span></span>

## <a name="sample-scenario-copy-from-an-on-premises-sql-server-tooblob-storage"></a><span data-ttu-id="f2b58-428">Przykładowy scenariusz: kopiowanie danych z magazynu lokalnego programu SQL Server tooBlob</span><span class="sxs-lookup"><span data-stu-id="f2b58-428">Sample scenario: Copy from an on-premises SQL Server tooBlob storage</span></span>
<span data-ttu-id="f2b58-429">**Scenariusz**: potoku jest wbudowana toocopy danych z lokalnego magazynu tooBlob programu SQL Server w formacie CSV.</span><span class="sxs-lookup"><span data-stu-id="f2b58-429">**Scenario**: A pipeline is built toocopy data from an on-premises SQL Server tooBlob storage in CSV format.</span></span> <span data-ttu-id="f2b58-430">toomake szybciej hello zadanie kopiowania, powinna być kompresowana hello plików CSV do formatu bzip2.</span><span class="sxs-lookup"><span data-stu-id="f2b58-430">toomake hello copy job faster, hello CSV files should be compressed into bzip2 format.</span></span>

<span data-ttu-id="f2b58-431">**Badanie i analiza**: hello przepływność działanie kopiowania jest mniej niż 2 MB/s, czyli znacznie mniejsza niż testów porównawczych wydajności hello.</span><span class="sxs-lookup"><span data-stu-id="f2b58-431">**Test and analysis**: hello throughput of Copy Activity is less than 2 MBps, which is much slower than hello performance benchmark.</span></span>

<span data-ttu-id="f2b58-432">**Analiza wydajności i dostrajania**: tootroubleshoot hello problem z wydajnością, Przyjrzyjmy się jak danych hello jest przetwarzany i przenieść.</span><span class="sxs-lookup"><span data-stu-id="f2b58-432">**Performance analysis and tuning**: tootroubleshoot hello performance issue, let’s look at how hello data is processed and moved.</span></span>

1. <span data-ttu-id="f2b58-433">**Odczytanie danych**: Brama otwiera tooSQL połączenia serwera i wysyła hello zapytania.</span><span class="sxs-lookup"><span data-stu-id="f2b58-433">**Read data**: Gateway opens a connection tooSQL Server and sends hello query.</span></span> <span data-ttu-id="f2b58-434">SQL Server odpowiada, wysyłając tooGateway strumienia danych hello za pośrednictwem sieci intranet hello.</span><span class="sxs-lookup"><span data-stu-id="f2b58-434">SQL Server responds by sending hello data stream tooGateway via hello intranet.</span></span>
2. <span data-ttu-id="f2b58-435">**Serializować i kompresji danych**: format tooCSV strumienia danych hello serializuje bramy i kompresuje hello strumienia bzip2 tooa danych.</span><span class="sxs-lookup"><span data-stu-id="f2b58-435">**Serialize and compress data**: Gateway serializes hello data stream tooCSV format, and compresses hello data tooa bzip2 stream.</span></span>
3. <span data-ttu-id="f2b58-436">**Zapisu danych**: hello bzip2 strumienia tooBlob magazynu za pośrednictwem Internetu hello przekazuje bramy.</span><span class="sxs-lookup"><span data-stu-id="f2b58-436">**Write data**: Gateway uploads hello bzip2 stream tooBlob storage via hello Internet.</span></span>

<span data-ttu-id="f2b58-437">Jak widać, dane hello są przetwarzane i przenoszone przesyłania strumieniowego sekwencyjnie: SQL Server > LAN > bramy > WAN > magazynu obiektów Blob.</span><span class="sxs-lookup"><span data-stu-id="f2b58-437">As you can see, hello data is being processed and moved in a streaming sequential manner: SQL Server > LAN > Gateway > WAN > Blob storage.</span></span> <span data-ttu-id="f2b58-438">**Witaj ogólną wydajność jest uzyskiwany za hello minimalnej przepustowości w potoku hello**.</span><span class="sxs-lookup"><span data-stu-id="f2b58-438">**hello overall performance is gated by hello minimum throughput across hello pipeline**.</span></span>

![Przepływ danych](./media/data-factory-copy-activity-performance/case-study-pic-1.png)

<span data-ttu-id="f2b58-440">Co najmniej jednego z następujących czynników hello może spowodować hello wąskie gardło:</span><span class="sxs-lookup"><span data-stu-id="f2b58-440">One or more of hello following factors might cause hello performance bottleneck:</span></span>

* <span data-ttu-id="f2b58-441">**Źródło**: sam serwer SQL ma niskiej przepustowości z powodu dużymi obciążeniami.</span><span class="sxs-lookup"><span data-stu-id="f2b58-441">**Source**: SQL Server itself has low throughput because of heavy loads.</span></span>
* <span data-ttu-id="f2b58-442">**Brama zarządzania danymi**:</span><span class="sxs-lookup"><span data-stu-id="f2b58-442">**Data Management Gateway**:</span></span>
  * <span data-ttu-id="f2b58-443">**LAN**: bramy znajduje się daleko od hello komputera programu SQL Server i ma połączenie o niskiej przepustowości.</span><span class="sxs-lookup"><span data-stu-id="f2b58-443">**LAN**: Gateway is located far from hello SQL Server machine and has a low-bandwidth connection.</span></span>
  * <span data-ttu-id="f2b58-444">**Brama**: bramy osiągnęła jego hello tooperform ograniczenia obciążenia następujące operacje:</span><span class="sxs-lookup"><span data-stu-id="f2b58-444">**Gateway**: Gateway has reached its load limitations tooperform hello following operations:</span></span>
    * <span data-ttu-id="f2b58-445">**Serializacja**: serializacja tooCSV strumienia danych hello format ma powolne przepływności.</span><span class="sxs-lookup"><span data-stu-id="f2b58-445">**Serialization**: Serializing hello data stream tooCSV format has slow throughput.</span></span>
    * <span data-ttu-id="f2b58-446">**Kompresja**: wybrano koder-dekoder kompresji powolne (na przykład, bzip2, czyli Core i7 2,8 MB/s).</span><span class="sxs-lookup"><span data-stu-id="f2b58-446">**Compression**: You chose a slow compression codec (for example, bzip2, which is 2.8 MBps with Core i7).</span></span>
  * <span data-ttu-id="f2b58-447">**WAN**: brakuje hello przepustowość między siecią firmową hello i usługami Azure (na przykład T1 = 1,544 KB/s; T2 = 6,312 KB/s).</span><span class="sxs-lookup"><span data-stu-id="f2b58-447">**WAN**: hello bandwidth between hello corporate network and your Azure services is low (for example, T1 = 1,544 kbps; T2 = 6,312 kbps).</span></span>
* <span data-ttu-id="f2b58-448">**Obiekt sink**: magazyn obiektów Blob ma niskiej przepustowości.</span><span class="sxs-lookup"><span data-stu-id="f2b58-448">**Sink**: Blob storage has low throughput.</span></span> <span data-ttu-id="f2b58-449">(W tym scenariuszu jest mało prawdopodobne, ponieważ jego umowy dotyczącej poziomu usług gwarantuje co najmniej 60 MB/s).</span><span class="sxs-lookup"><span data-stu-id="f2b58-449">(This scenario is unlikely because its SLA guarantees a minimum of 60 MBps.)</span></span>

<span data-ttu-id="f2b58-450">W takim przypadku kompresji danych bzip2 może być spowolnieniem hello całego procesu.</span><span class="sxs-lookup"><span data-stu-id="f2b58-450">In this case, bzip2 data compression might be slowing down hello entire pipeline.</span></span> <span data-ttu-id="f2b58-451">Przełączanie koder-dekoder kompresji gzip tooa może ułatwić to "wąskie gardło".</span><span class="sxs-lookup"><span data-stu-id="f2b58-451">Switching tooa gzip compression codec might ease this bottleneck.</span></span>

## <a name="sample-scenarios-use-parallel-copy"></a><span data-ttu-id="f2b58-452">Przykładowe scenariusze: Użyj równoległych kopii</span><span class="sxs-lookup"><span data-stu-id="f2b58-452">Sample scenarios: Use parallel copy</span></span>
<span data-ttu-id="f2b58-453">**Scenariusz I:** skopiuj pliki 1 MB 1000 z hello lokalnego pliku system tooBlob magazynu.</span><span class="sxs-lookup"><span data-stu-id="f2b58-453">**Scenario I:** Copy 1,000 1-MB files from hello on-premises file system tooBlob storage.</span></span>

<span data-ttu-id="f2b58-454">**Analiza i dostrajania wydajności**: na przykład jeśli jest zainstalowana brama na komputerze czterordzeniowe fabryki danych używa 16 równoległych kopii toomove plików z magazynu tooBlob system plików hello jednocześnie.</span><span class="sxs-lookup"><span data-stu-id="f2b58-454">**Analysis and performance tuning**: For an example, if you have installed gateway on a quad core machine, Data Factory uses 16 parallel copies toomove files from hello file system tooBlob storage concurrently.</span></span> <span data-ttu-id="f2b58-455">To wykonywanie równoległe powinno spowodować wysokiej przepływności.</span><span class="sxs-lookup"><span data-stu-id="f2b58-455">This parallel execution should result in high throughput.</span></span> <span data-ttu-id="f2b58-456">Można również jawnie określić liczbę równoległych kopii hello.</span><span class="sxs-lookup"><span data-stu-id="f2b58-456">You also can explicitly specify hello parallel copies count.</span></span> <span data-ttu-id="f2b58-457">Podczas kopiowania wiele małych plików, równoległe kopie znacznie pomocy przepływność przy użyciu zasobów bardziej efektywnie.</span><span class="sxs-lookup"><span data-stu-id="f2b58-457">When you copy many small files, parallel copies dramatically help throughput by using resources more effectively.</span></span>

![Scenariusz 1](./media/data-factory-copy-activity-performance/scenario-1.png)

<span data-ttu-id="f2b58-459">**Scenariusz II**: Skopiuj 20 obiekty BLOB 500 MB z obiektu Blob magazynu tooData takie magazynu, a następnie dostrajania wydajności.</span><span class="sxs-lookup"><span data-stu-id="f2b58-459">**Scenario II**: Copy 20 blobs of 500 MB each from Blob storage tooData Lake Store Analytics, and then tune performance.</span></span>

<span data-ttu-id="f2b58-460">**Analiza i dostrajania wydajności**: W tym scenariuszu fabryki danych kopiuje hello dane z magazynu obiektów Blob tooData Lake — magazyn przy użyciu pojedynczej kopii (**parallelCopies** ustawić too1) i danych w chmurze pojedynczej jednostki przepływu.</span><span class="sxs-lookup"><span data-stu-id="f2b58-460">**Analysis and performance tuning**: In this scenario, Data Factory copies hello data from Blob storage tooData Lake Store by using single-copy (**parallelCopies** set too1) and single-cloud data movement units.</span></span> <span data-ttu-id="f2b58-461">Witaj przepływności widoczny będzie Zamknij toothat opisanego w hello [wydajności odwołanie sekcji](#performance-reference).</span><span class="sxs-lookup"><span data-stu-id="f2b58-461">hello throughput you observe will be close toothat described in hello [performance reference section](#performance-reference).</span></span>   

![Scenariusz 2](./media/data-factory-copy-activity-performance/scenario-2.png)

<span data-ttu-id="f2b58-463">**Scenariusz III**: rozmiar pliku jest większy niż dziesiątki MB i całkowitej ilości jest duży.</span><span class="sxs-lookup"><span data-stu-id="f2b58-463">**Scenario III**: Individual file size is greater than dozens of MBs and total volume is large.</span></span>

<span data-ttu-id="f2b58-464">**Analiza i włączanie wydajności**: zwiększenie **parallelCopies** nie zapewnia lepszą wydajność kopiowania z powodu ograniczenia zasobów hello DMU jednym chmury.</span><span class="sxs-lookup"><span data-stu-id="f2b58-464">**Analysis and performance turning**: Increasing **parallelCopies** doesn't result in better copy performance because of hello resource limitations of a single-cloud DMU.</span></span> <span data-ttu-id="f2b58-465">Zamiast tego należy określić chmury więcej DMUs tooget więcej zasobów tooperform hello przenoszenia danych.</span><span class="sxs-lookup"><span data-stu-id="f2b58-465">Instead, you should specify more cloud DMUs tooget more resources tooperform hello data movement.</span></span> <span data-ttu-id="f2b58-466">Nie określaj wartości dla hello **parallelCopies** właściwości.</span><span class="sxs-lookup"><span data-stu-id="f2b58-466">Do not specify a value for hello **parallelCopies** property.</span></span> <span data-ttu-id="f2b58-467">Fabryka danych obsługuje hello równoległości dla Ciebie.</span><span class="sxs-lookup"><span data-stu-id="f2b58-467">Data Factory handles hello parallelism for you.</span></span> <span data-ttu-id="f2b58-468">W tym przypadku jeśli ustawisz **cloudDataMovementUnits** too4, przepływności około cztery razy występuje.</span><span class="sxs-lookup"><span data-stu-id="f2b58-468">In this case, if you set **cloudDataMovementUnits** too4, a throughput of about four times occurs.</span></span>

![Scenariusz 3](./media/data-factory-copy-activity-performance/scenario-3.png)

## <a name="reference"></a><span data-ttu-id="f2b58-470">Dokumentacja</span><span class="sxs-lookup"><span data-stu-id="f2b58-470">Reference</span></span>
<span data-ttu-id="f2b58-471">Poniżej przedstawiono monitorowania wydajności i dostrajania odwołań dla niektórych hello obsługiwane magazyny danych:</span><span class="sxs-lookup"><span data-stu-id="f2b58-471">Here are performance monitoring and tuning references for some of hello supported data stores:</span></span>

* <span data-ttu-id="f2b58-472">Magazyn Azure (w tym magazynie obiektów Blob i Magazyn tabel): [wartości docelowe skalowalności magazynu Azure](../storage/common/storage-scalability-targets.md) i [Lista kontrolna wydajności i skalowalności magazynu Azure](../storage/common/storage-performance-checklist.md)</span><span class="sxs-lookup"><span data-stu-id="f2b58-472">Azure Storage (including Blob storage and Table storage): [Azure Storage scalability targets](../storage/common/storage-scalability-targets.md) and [Azure Storage performance and scalability checklist](../storage/common/storage-performance-checklist.md)</span></span>
* <span data-ttu-id="f2b58-473">Azure SQL Database: Można [monitorować wydajność hello](../sql-database/sql-database-single-database-monitor.md) i sprawdź hello bazy danych transakcji jednostki (bazy danych DTU) procent</span><span class="sxs-lookup"><span data-stu-id="f2b58-473">Azure SQL Database: You can [monitor hello performance](../sql-database/sql-database-single-database-monitor.md) and check hello database transaction unit (DTU) percentage</span></span>
* <span data-ttu-id="f2b58-474">Usługa Azure SQL Data Warehouse: Zdolność jest mierzony w jednostki magazynu danych (dwu); zobacz [Zarządzaj obliczeniowe zasilania w usłudze Azure SQL Data Warehouse (omówienie)](../sql-data-warehouse/sql-data-warehouse-manage-compute-overview.md)</span><span class="sxs-lookup"><span data-stu-id="f2b58-474">Azure SQL Data Warehouse: Its capability is measured in data warehouse units (DWUs); see [Manage compute power in Azure SQL Data Warehouse (Overview)](../sql-data-warehouse/sql-data-warehouse-manage-compute-overview.md)</span></span>
* <span data-ttu-id="f2b58-475">Azure DB rozwiązania Cosmos: [poziomy wydajności w usłudze Azure DB rozwiązania Cosmos](../documentdb/documentdb-performance-levels.md)</span><span class="sxs-lookup"><span data-stu-id="f2b58-475">Azure Cosmos DB: [Performance levels in Azure Cosmos DB](../documentdb/documentdb-performance-levels.md)</span></span>
* <span data-ttu-id="f2b58-476">Lokalny program SQL Server: [monitora i dostrajanie wydajności](https://msdn.microsoft.com/library/ms189081.aspx)</span><span class="sxs-lookup"><span data-stu-id="f2b58-476">On-premises SQL Server: [Monitor and tune for performance](https://msdn.microsoft.com/library/ms189081.aspx)</span></span>
* <span data-ttu-id="f2b58-477">Lokalny serwer plików: [dostrajania wydajności dla serwerów plików](https://msdn.microsoft.com/library/dn567661.aspx)</span><span class="sxs-lookup"><span data-stu-id="f2b58-477">On-premises file server: [Performance tuning for file servers](https://msdn.microsoft.com/library/dn567661.aspx)</span></span>
