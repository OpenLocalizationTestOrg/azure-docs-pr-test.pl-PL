---
title: "Nawiązywanie połączenia usługi Azure Data Lake Store z sieciami wirtualnymi | Dokumentacja firmy Microsoft"
description: "Nawiązywanie połączenia usługi Azure Data Lake Store z sieci wirtualnych Azure"
services: data-lake-store,data-catalog
documentationcenter: 
author: nitinme
manager: jhubbard
editor: cgronlun
ms.assetid: 683fcfdc-cf93-46c3-b2d2-5cb79f5e9ea5
ms.service: data-lake-store
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 05/10/2017
ms.author: nitinme
ms.openlocfilehash: ff7d28d7b53e872b804788647b1e672fafcf6995
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 07/11/2017
---
# <a name="access-azure-data-lake-store-from-vms-within-an-azure-vnet"></a><span data-ttu-id="6fe87-103">Dostęp do usługi Azure Data Lake Store z maszyn wirtualnych w ramach sieci Wirtualnej platformy Azure</span><span class="sxs-lookup"><span data-stu-id="6fe87-103">Access Azure Data Lake Store from VMs within an Azure VNET</span></span>
<span data-ttu-id="6fe87-104">Azure Data Lake Store jest usługą PaaS, która działa na publiczne adresy Internet IP.</span><span class="sxs-lookup"><span data-stu-id="6fe87-104">Azure Data Lake Store is a PaaS service that runs on public Internet IP addresses.</span></span> <span data-ttu-id="6fe87-105">Dowolnego serwera, który może nawiązać połączenia z publicznego Internetu zwykle mogą łączyć się również punktów końcowych usługi Azure Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="6fe87-105">Any server that can connect to the public Internet can typically connect to Azure Data Lake Store endpoints as well.</span></span> <span data-ttu-id="6fe87-106">Domyślnie wszystkie maszyny wirtualne, które znajdują się w sieci wirtualnych platformy Azure mogą uzyskiwać dostęp do Internetu i dlatego mogą uzyskiwać dostęp do usługi Azure Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="6fe87-106">By default, all VMs that are in Azure VNETs can access the Internet and hence can access Azure Data Lake Store.</span></span> <span data-ttu-id="6fe87-107">Istnieje możliwość skonfigurowania maszyn wirtualnych w sieci Wirtualnej nie ma dostępu do Internetu.</span><span class="sxs-lookup"><span data-stu-id="6fe87-107">However, it is possible to configure VMs in a VNET to not have access to the Internet.</span></span> <span data-ttu-id="6fe87-108">Dla tych maszyn wirtualnych dostęp do usługi Azure Data Lake Store jest ograniczony również.</span><span class="sxs-lookup"><span data-stu-id="6fe87-108">For such VMs, access to Azure Data Lake Store is restricted as well.</span></span> <span data-ttu-id="6fe87-109">Blokowanie publiczny dostęp do Internetu dla maszyn wirtualnych w sieci wirtualnych platformy Azure może odbywać się przy użyciu dowolnego następujące podejście.</span><span class="sxs-lookup"><span data-stu-id="6fe87-109">Blocking public Internet access for VMs in Azure VNETs can be done using any of the following approach.</span></span>

* <span data-ttu-id="6fe87-110">Konfigurując grupy zabezpieczeń sieci (NSG)</span><span class="sxs-lookup"><span data-stu-id="6fe87-110">By configuring Network Security Groups (NSG)</span></span>
* <span data-ttu-id="6fe87-111">Konfigurując użytkownika zdefiniowanych tras przez</span><span class="sxs-lookup"><span data-stu-id="6fe87-111">By configuring User Defined Routes (UDR)</span></span>
* <span data-ttu-id="6fe87-112">Poprzez wymianę tras za pomocą protokołu BGP (standardowego dynamiczny routing protokołu) stosowania tego bloku ExpressRoute dostęp do Internetu</span><span class="sxs-lookup"><span data-stu-id="6fe87-112">By exchanging routes via BGP (industry standard dynamic routing protocol) when ExpressRoute is used that block access to the Internet</span></span>

<span data-ttu-id="6fe87-113">W tym artykule dowiesz się, jak włączyć dostęp do usługi Azure Data Lake Store z maszyn wirtualnych Azure, które mają ograniczony dostęp do zasobów przy użyciu jednej z trzech metod wymienionych powyżej.</span><span class="sxs-lookup"><span data-stu-id="6fe87-113">In this article, you will learn how to enable access to the Azure Data Lake Store from Azure VMs which have been restricted to access resources using one of the three methods listed above.</span></span>

## <a name="enabling-connectivity-to-azure-data-lake-store-from-vms-with-restricted-connectivity"></a><span data-ttu-id="6fe87-114">Włączanie łączności do usługi Azure Data Lake Store z maszyn wirtualnych z ograniczeniami łączności</span><span class="sxs-lookup"><span data-stu-id="6fe87-114">Enabling connectivity to Azure Data Lake Store from VMs with restricted connectivity</span></span>
<span data-ttu-id="6fe87-115">Aby uzyskać dostęp do usługi Azure Data Lake Store z tych maszyn wirtualnych, należy skonfigurować je, aby uzyskać dostępu do adresu IP, w którym konta usługi Azure Data Lake Store jest dostępny.</span><span class="sxs-lookup"><span data-stu-id="6fe87-115">To access Azure Data Lake Store from such VMs, you must configure them to access the IP address where the Azure Data Lake Store account is available.</span></span> <span data-ttu-id="6fe87-116">Możesz określić adresy IP dla kont usługi Data Lake Store za rozpoznawanie nazw DNS kont (`<account>.azuredatalakestore.net`).</span><span class="sxs-lookup"><span data-stu-id="6fe87-116">You can identify the IP addresses for your Data Lake Store accounts by resolving the DNS names of your accounts (`<account>.azuredatalakestore.net`).</span></span> <span data-ttu-id="6fe87-117">Dla tego można użyć narzędzia takie jak **nslookup**.</span><span class="sxs-lookup"><span data-stu-id="6fe87-117">For this you can use tools such as **nslookup**.</span></span> <span data-ttu-id="6fe87-118">Otwórz wiersz polecenia na komputerze, a następnie uruchom następujące polecenie.</span><span class="sxs-lookup"><span data-stu-id="6fe87-118">Open a command prompt on your computer and run the following command.</span></span>

    nslookup mydatastore.azuredatalakestore.net

<span data-ttu-id="6fe87-119">Dane wyjściowe podobne do następującego.</span><span class="sxs-lookup"><span data-stu-id="6fe87-119">The output resembles the following.</span></span> <span data-ttu-id="6fe87-120">Wartość względem **adres** właściwości to adres IP skojarzony z Twoim kontem usługi Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="6fe87-120">The value against **Address** property is the IP address associated with your Data Lake Store account.</span></span>

    Non-authoritative answer:
    Name:    1434ceb1-3a4b-4bc0-9c69-a0823fd69bba-mydatastore.projectcabostore.net
    Address:  104.44.88.112
    Aliases:  mydatastore.azuredatalakestore.net


### <a name="enabling-connectivity-from-vms-restricted-by-using-nsg"></a><span data-ttu-id="6fe87-121">Włączenie łączności z ograniczeniami przy użyciu NSG maszyn wirtualnych</span><span class="sxs-lookup"><span data-stu-id="6fe87-121">Enabling connectivity from VMs restricted by using NSG</span></span>
<span data-ttu-id="6fe87-122">Gdy reguły NSG jest używany do blokowania dostępu do Internetu, można utworzyć innej NSG, która zezwala na dostęp do adresu IP Data Lake magazynu.</span><span class="sxs-lookup"><span data-stu-id="6fe87-122">When a NSG rule is used to block access to the Internet, then you can create another NSG that allows access to the Data Lake Store IP Address.</span></span> <span data-ttu-id="6fe87-123">Więcej informacji na temat reguły NSG są dostępne pod adresem [co to jest grupa zabezpieczeń sieci?](../virtual-network/virtual-networks-nsg.md).</span><span class="sxs-lookup"><span data-stu-id="6fe87-123">More information on NSG rules is available at [What is a Network Security Group?](../virtual-network/virtual-networks-nsg.md).</span></span> <span data-ttu-id="6fe87-124">Aby uzyskać instrukcje na temat tworzenia grup NSG zobacz [jak zarządzać przy użyciu portalu Azure grup NSG](../virtual-network/virtual-networks-create-nsg-arm-pportal.md).</span><span class="sxs-lookup"><span data-stu-id="6fe87-124">For instructions on how to create NSGs see [How to manage NSGs using the Azure portal](../virtual-network/virtual-networks-create-nsg-arm-pportal.md).</span></span>

### <a name="enabling-connectivity-from-vms-restricted-by-using-udr-or-expressroute"></a><span data-ttu-id="6fe87-125">Włączenie łączności z ograniczeniami przy użyciu przez lub ExpressRoute maszyn wirtualnych</span><span class="sxs-lookup"><span data-stu-id="6fe87-125">Enabling connectivity from VMs restricted by using UDR or ExpressRoute</span></span>
<span data-ttu-id="6fe87-126">W przypadku tras, Udr lub wymieniane BGP trasy są używane do blokowania dostępu do Internetu, specjalne trasy musi być skonfigurowana tak, aby maszyn wirtualnych w podsieciach takie mogą uzyskiwać dostęp do punktów końcowych usługi Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="6fe87-126">When routes, either UDRs or BGP-exchanged routes, are used to block access to the Internet, a special route needs to be configured so that VMs in such subnets can access Data Lake Store endpoints.</span></span> <span data-ttu-id="6fe87-127">Aby uzyskać więcej informacji, zobacz [co to są trasy zdefiniowane przez użytkownika?](../virtual-network/virtual-networks-udr-overview.md).</span><span class="sxs-lookup"><span data-stu-id="6fe87-127">For more information, see [What are User Defined Routes?](../virtual-network/virtual-networks-udr-overview.md).</span></span> <span data-ttu-id="6fe87-128">Aby uzyskać instrukcje dotyczące tworzenia Udr, zobacz [utworzyć Udr w Menedżerze zasobów](../virtual-network/virtual-network-create-udr-arm-ps.md).</span><span class="sxs-lookup"><span data-stu-id="6fe87-128">For instructions on creating UDRs, see [Create UDRs in Resource Manager](../virtual-network/virtual-network-create-udr-arm-ps.md).</span></span>

### <a name="enabling-connectivity-from-vms-restricted-by-using-expressroute"></a><span data-ttu-id="6fe87-129">Włączenie łączności z ograniczeniami przy użyciu usługi ExpressRoute maszyn wirtualnych</span><span class="sxs-lookup"><span data-stu-id="6fe87-129">Enabling connectivity from VMs restricted by using ExpressRoute</span></span>
<span data-ttu-id="6fe87-130">Po skonfigurowaniu obwodu usługi ExpressRoute, serwerów lokalnych można uzyskać dostępu do usługi Data Lake Store za pośrednictwem publicznej komunikacji równorzędnej.</span><span class="sxs-lookup"><span data-stu-id="6fe87-130">When an ExpressRoute circuit is configured, the on-premises servers can access Data Lake Store through public peering.</span></span> <span data-ttu-id="6fe87-131">Więcej informacji na temat konfigurowania usługi ExpressRoute dla publicznej komunikacji równorzędnej jest dostępne pod adresem [ExpressRoute — często zadawane pytania](../expressroute/expressroute-faqs.md).</span><span class="sxs-lookup"><span data-stu-id="6fe87-131">More details on configuring ExpressRoute for public peering is available at [ExpressRoute FAQs](../expressroute/expressroute-faqs.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="6fe87-132">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="6fe87-132">See also</span></span>
* [<span data-ttu-id="6fe87-133">Omówienie usługi Azure Data Lake Store</span><span class="sxs-lookup"><span data-stu-id="6fe87-133">Overview of Azure Data Lake Store</span></span>](data-lake-store-overview.md)
* [<span data-ttu-id="6fe87-134">Zabezpieczanie danych przechowywanych w usłudze Azure Data Lake Store</span><span class="sxs-lookup"><span data-stu-id="6fe87-134">Securing data stored in Azure Data Lake Store</span></span>](data-lake-store-security-overview.md)

