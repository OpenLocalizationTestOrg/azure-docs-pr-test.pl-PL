---
title: "Zagadnienia dotyczące zestawy skalowania maszyny wirtualnej Azure aaaDesign | Dokumentacja firmy Microsoft"
description: "Więcej informacji na temat projektowania sieci zestawy skalowania maszyny wirtualnej Azure"
keywords: zestawy skalowania maszyny wirtualnej w przypadku maszyny wirtualnej systemu Linux
services: virtual-machine-scale-sets
documentationcenter: 
author: gatneil
manager: madhana
editor: tysonn
tags: azure-resource-manager
ms.assetid: c27c6a59-a0ab-4117-a01b-42b049464ca1
ms.service: virtual-machine-scale-sets
ms.workload: na
ms.tgt_pltfrm: vm-linux
ms.devlang: na
ms.topic: article
ms.date: 06/01/2017
ms.author: negat
ms.openlocfilehash: f8644d36fe5903bd4b74df26dca5dc3211ee3516
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="design-considerations-for-scale-sets"></a><span data-ttu-id="e0a00-104">Zagadnienia dotyczące projektowania dla zestawów skalowania</span><span class="sxs-lookup"><span data-stu-id="e0a00-104">Design Considerations For Scale Sets</span></span>
<span data-ttu-id="e0a00-105">W tym temacie omówiono zagadnienia dotyczące projektowania dla zestawy skalowania maszyny wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="e0a00-105">This topic discusses design considerations for Virtual Machine Scale Sets.</span></span> <span data-ttu-id="e0a00-106">Informacje dotyczące są zestawy skalowania maszyny wirtualnej, można znaleźć zbyt[omówienie zestawy skalowania maszyny wirtualnej](virtual-machine-scale-sets-overview.md).</span><span class="sxs-lookup"><span data-stu-id="e0a00-106">For information about what Virtual Machine Scale Sets are, refer too[Virtual Machine Scale Sets Overview](virtual-machine-scale-sets-overview.md).</span></span>

## <a name="when-toouse-scale-sets-instead-of-virtual-machines"></a><span data-ttu-id="e0a00-107">Gdy zestawach skali toouse zamiast maszyn wirtualnych?</span><span class="sxs-lookup"><span data-stu-id="e0a00-107">When toouse scale sets instead of virtual machines?</span></span>
<span data-ttu-id="e0a00-108">Ogólnie rzecz biorąc zestawy skalowania są przydatne w przypadku wdrażania infrastruktury wysokiej dostępności której zestaw maszyn mają podobnej konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="e0a00-108">Generally, scale sets are useful for deploying highly available infrastructure where a set of machines have similar configuration.</span></span> <span data-ttu-id="e0a00-109">Jednak niektóre funkcje są dostępne tylko w zestawach skali, podczas gdy inne funkcje są dostępne tylko w maszynach wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="e0a00-109">However, some features are only available in scale sets while other features are only available in VMs.</span></span> <span data-ttu-id="e0a00-110">W celu toomake świadomej decyzji o tym, kiedy toouse poszczególnych technologii możemy należy najpierw Przyjrzyjmy się niektóre hello najczęściej używane funkcje, które są dostępne w zestawy skalowania, ale nie do maszyn wirtualnych:</span><span class="sxs-lookup"><span data-stu-id="e0a00-110">In order toomake an informed decision about when toouse each technology, we should first take a look at some of hello commonly used features that are available in scale sets but not VMs:</span></span>

### <a name="scale-set-specific-features"></a><span data-ttu-id="e0a00-111">Funkcje specyficzne dla zestawu skalowania</span><span class="sxs-lookup"><span data-stu-id="e0a00-111">Scale set-specific features</span></span>

- <span data-ttu-id="e0a00-112">Po określeniu Konfiguracja zestawu skali hello możesz po prostu zaktualizować hello "pojemności" właściwość toodeploy więcej maszyn wirtualnych jednocześnie.</span><span class="sxs-lookup"><span data-stu-id="e0a00-112">Once you specify hello scale set configuration, you can simply update hello "capacity" property toodeploy more VMs in parallel.</span></span> <span data-ttu-id="e0a00-113">Jest znacznie prostsze niż zapisywania tooorchestrate skryptu wdrażania wiele poszczególnych maszyn wirtualnych jednocześnie.</span><span class="sxs-lookup"><span data-stu-id="e0a00-113">This is much simpler than writing a script tooorchestrate deploying many individual VMs in parallel.</span></span>
- <span data-ttu-id="e0a00-114">Możesz [Użyj tooautomatically Azure skalowania automatycznego skalowania zestaw skali](./virtual-machine-scale-sets-autoscale-overview.md) , ale nie poszczególnych maszyn wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="e0a00-114">You can [use Azure Autoscale tooautomatically scale a scale set](./virtual-machine-scale-sets-autoscale-overview.md) but not individual VMs.</span></span>
- <span data-ttu-id="e0a00-115">Możesz [maszyn wirtualnych zestawu skalowania odtworzenia z obrazu](https://docs.microsoft.com/rest/api/virtualmachinescalesets/manage-a-vm) , ale [nie poszczególnych maszyn wirtualnych](https://docs.microsoft.com/rest/api/compute/virtualmachines).</span><span class="sxs-lookup"><span data-stu-id="e0a00-115">You can [reimage scale set VMs](https://docs.microsoft.com/rest/api/virtualmachinescalesets/manage-a-vm) but [not individual VMs](https://docs.microsoft.com/rest/api/compute/virtualmachines).</span></span>
- <span data-ttu-id="e0a00-116">Możesz [nadmiernej aprowizacji](./virtual-machine-scale-sets-design-overview.md) zestawu skalowania maszyn wirtualnych dla bardziej niezawodne i szybsze czas wdrażania.</span><span class="sxs-lookup"><span data-stu-id="e0a00-116">You can [overprovision](./virtual-machine-scale-sets-design-overview.md) scale set VMs for increased reliability and quicker deployment times.</span></span> <span data-ttu-id="e0a00-117">Nie można w tym poszczególnych maszyn wirtualnych, chyba że pisanie kodu niestandardowego toodo, to.</span><span class="sxs-lookup"><span data-stu-id="e0a00-117">You cannot do this with individual VMs unless you write custom code toodo this.</span></span>
- <span data-ttu-id="e0a00-118">Można określić [uaktualnienia zasad](./virtual-machine-scale-sets-upgrade-scale-set.md) toomake go łatwo tooroll uaktualnień na maszynach wirtualnych w zestawie skali.</span><span class="sxs-lookup"><span data-stu-id="e0a00-118">You can specify an [upgrade policy](./virtual-machine-scale-sets-upgrade-scale-set.md) toomake it easy tooroll out upgrades across VMs in your scale set.</span></span> <span data-ttu-id="e0a00-119">Poszczególnych maszyn wirtualnych użytkownik musi organizowania aktualizacji samodzielnie.</span><span class="sxs-lookup"><span data-stu-id="e0a00-119">With individual VMs, you must orchestrate updates yourself.</span></span>

### <a name="vm-specific-features"></a><span data-ttu-id="e0a00-120">Funkcje specyficzne dla maszyny Wirtualnej</span><span class="sxs-lookup"><span data-stu-id="e0a00-120">VM-specific features</span></span>

<span data-ttu-id="e0a00-121">Na hello drugiej strony, niektóre funkcje są dostępne tylko w maszynach wirtualnych (co najmniej hello chwili obecnej):</span><span class="sxs-lookup"><span data-stu-id="e0a00-121">On hello other hand, some features are only available in VMs (at least for hello time being):</span></span>

- <span data-ttu-id="e0a00-122">Możesz dołączyć toospecific dysków danych poszczególnych maszyn wirtualnych, ale dysków dołączonych danych są skonfigurowane dla wszystkich maszyn wirtualnych w zestawie skalowania.</span><span class="sxs-lookup"><span data-stu-id="e0a00-122">You can attach data disks toospecific individual VMs, but attached data disks are configured for all VMs in a scale set.</span></span>
- <span data-ttu-id="e0a00-123">Możesz dołączyć tooindividual dysków danych niepustym maszyn wirtualnych, ale nie maszyn wirtualnych w zestawie skalowania.</span><span class="sxs-lookup"><span data-stu-id="e0a00-123">You can attach non-empty data disks tooindividual VMs but not VMs in a scale set.</span></span>
- <span data-ttu-id="e0a00-124">Można migawek poszczególnych maszyn wirtualnych, ale nie maszyny Wirtualnej w zestawie skalowania.</span><span class="sxs-lookup"><span data-stu-id="e0a00-124">You can snapshot an individual VM but not a VM in a scale set.</span></span>
- <span data-ttu-id="e0a00-125">Można przechwycić obrazu z poszczególnych maszyn wirtualnych, ale nie z maszyny Wirtualnej w zestawie skalowania.</span><span class="sxs-lookup"><span data-stu-id="e0a00-125">You can capture an image from an individual VM but not from a VM in a scale set.</span></span>
- <span data-ttu-id="e0a00-126">Można przeprowadzić migrację poszczególnych maszyn wirtualnych z dysków toomanaged macierzystych dyskach, ale nie możesz tego zrobić dla maszyn wirtualnych w zestawie skalowania.</span><span class="sxs-lookup"><span data-stu-id="e0a00-126">You can migrate an individual VM from native disks toomanaged disks, but you cannot do this for VMs in a scale set.</span></span>
- <span data-ttu-id="e0a00-127">Można przypisać publicznych adresów IP protokołu IPv6 kart sieciowych maszyny Wirtualnej tooindividual, ale nie można zrobić dla maszyn wirtualnych w zestawie skalowania.</span><span class="sxs-lookup"><span data-stu-id="e0a00-127">You can assign IPv6 public IP addresses tooindividual VM nics but cannot do so for VMs in a scale set.</span></span> <span data-ttu-id="e0a00-128">Należy pamiętać, że publicznych adresów IP protokołu IPv6 można przypisać równoważenia tooload przed albo poszczególnych maszyn wirtualnych lub zestawu skalowania maszyn wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="e0a00-128">Note that you can assign IPv6 public IP addresses tooload balancers in front of either individual VMs or scale set VMs.</span></span>

## <a name="storage"></a><span data-ttu-id="e0a00-129">Magazyn</span><span class="sxs-lookup"><span data-stu-id="e0a00-129">Storage</span></span>

### <a name="scale-sets-with-azure-managed-disks"></a><span data-ttu-id="e0a00-130">Zestawy skalowania z dyskami zarządzane Azure</span><span class="sxs-lookup"><span data-stu-id="e0a00-130">Scale sets with Azure Managed Disks</span></span>
<span data-ttu-id="e0a00-131">Zestawy skalowania można tworzyć za pomocą [dysków zarządzanych Azure](../virtual-machines/windows/managed-disks-overview.md) zamiast kont tradycyjnego magazynu Azure.</span><span class="sxs-lookup"><span data-stu-id="e0a00-131">Scale sets can be created with [Azure Managed Disks](../virtual-machines/windows/managed-disks-overview.md) instead of traditional Azure storage accounts.</span></span> <span data-ttu-id="e0a00-132">Dyski zarządzane zapewniają hello następujące korzyści:</span><span class="sxs-lookup"><span data-stu-id="e0a00-132">Managed Disks provide hello following benefits:</span></span>
- <span data-ttu-id="e0a00-133">Nie masz toopre — Utwórz zestaw z kontami magazynu Azure dla maszyn wirtualnych zestawu skalowania hello.</span><span class="sxs-lookup"><span data-stu-id="e0a00-133">You do not have toopre-create a set of Azure storage accounts for hello scale set VMs.</span></span>
- <span data-ttu-id="e0a00-134">Można zdefiniować [dołączone dyski danych](virtual-machine-scale-sets-attached-disks.md) hello maszyn wirtualnych w skali sieci można ustawić.</span><span class="sxs-lookup"><span data-stu-id="e0a00-134">You can define [attached data disks](virtual-machine-scale-sets-attached-disks.md) for hello VMs in your scale set.</span></span>
- <span data-ttu-id="e0a00-135">Zestawy skalowania można skonfigurować za[obsługuje konto too1, 000 maszyn wirtualnych w zestawie](virtual-machine-scale-sets-placement-groups.md).</span><span class="sxs-lookup"><span data-stu-id="e0a00-135">Scale sets can be configured too[support up too1,000 VMs in a set](virtual-machine-scale-sets-placement-groups.md).</span></span> 

<span data-ttu-id="e0a00-136">Jeśli masz istniejący szablon, możesz również [zaktualizować hello szablonu toouse dysków zarządzane](virtual-machine-scale-sets-convert-template-to-md.md).</span><span class="sxs-lookup"><span data-stu-id="e0a00-136">If you have an existing template, you can also [update hello template toouse Managed Disks](virtual-machine-scale-sets-convert-template-to-md.md).</span></span>

### <a name="user-managed-storage"></a><span data-ttu-id="e0a00-137">Magazynów zarządzana przez użytkownika</span><span class="sxs-lookup"><span data-stu-id="e0a00-137">User-managed Storage</span></span>
<span data-ttu-id="e0a00-138">Zestaw skali, który nie jest zdefiniowana z dysków zarządzanych Azure opiera się na dyski toostore kont magazynu utworzonych przez użytkownika systemu operacyjnego hello maszyn wirtualnych hello hello zestawu.</span><span class="sxs-lookup"><span data-stu-id="e0a00-138">A scale set that is not defined with Azure Managed Disks relies on user-created storage accounts toostore hello OS disks of hello VMs in hello set.</span></span> <span data-ttu-id="e0a00-139">Zaleca się stosunku 20 maszyn wirtualnych na konto magazynu lub mniej tooachieve maksymalną we/wy, a także korzystanie z zalet _nadmiarowe Inicjowanie obsługi administracyjnej_ (patrz poniżej).</span><span class="sxs-lookup"><span data-stu-id="e0a00-139">A ratio of 20 VMs per storage account or less is recommended tooachieve maximum IO and also take advantage of _overprovisioning_ (see below).</span></span> <span data-ttu-id="e0a00-140">Zalecane jest również rozłożyć hello początku znaków nazw kont magazynu hello na powitania alfabetu.</span><span class="sxs-lookup"><span data-stu-id="e0a00-140">It is also recommended that you spread hello beginning characters of hello storage account names across hello alphabet.</span></span> <span data-ttu-id="e0a00-141">Grozi to pomaga rozkładu obciążenia w różnych systemach wewnętrznego.</span><span class="sxs-lookup"><span data-stu-id="e0a00-141">Doing so helps spread load across different internal systems.</span></span> 


## <a name="overprovisioning"></a><span data-ttu-id="e0a00-142">Nadmiarowe Inicjowanie obsługi administracyjnej</span><span class="sxs-lookup"><span data-stu-id="e0a00-142">Overprovisioning</span></span>
<span data-ttu-id="e0a00-143">Skala ustawia obecnie domyślne zbyt "wymaga" maszyn wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="e0a00-143">Scale sets currently default too"overprovisioning" VMs.</span></span> <span data-ttu-id="e0a00-144">Z nadmiarowe Inicjowanie obsługi administracyjnej włączona, skala hello Ustaw faktycznie obroty zapasowych więcej maszyn wirtualnych nie zostanie wyświetlony monit o podanie, a następnie usuwa powitalne pomyślnie przydzielania dodatkowych maszyn wirtualnych po hello żądana liczba maszyn wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="e0a00-144">With overprovisioning turned on, hello scale set actually spins up more VMs than you asked for, then deletes hello extra VMs once hello requested number of VMs are successfully provisioned.</span></span> <span data-ttu-id="e0a00-145">Nadmiarowe Inicjowanie obsługi administracyjnej zwiększa odsetka pomyślnych inicjowania obsługi administracyjnej i skraca czas wdrażania.</span><span class="sxs-lookup"><span data-stu-id="e0a00-145">Overprovisioning improves provisioning success rates and reduces deployment time.</span></span> <span data-ttu-id="e0a00-146">Rozliczenie jest przeprowadzane nie dla hello dodatkowe maszyny wirtualne i ich nie są wliczane do swoje limity przydziału.</span><span class="sxs-lookup"><span data-stu-id="e0a00-146">You are not billed for hello extra VMs, and they do not count toward your quota limits.</span></span>

<span data-ttu-id="e0a00-147">Podczas nadmiarowe Inicjowanie obsługi administracyjnej poprawy szybkości Powodzenie inicjowania obsługi administracyjnej, może spowodować mylące zachowanie dla aplikacji, która jest zaprojektowana nie toohandle dodatkowych maszyn wirtualnych znajdujących się i znika następnie.</span><span class="sxs-lookup"><span data-stu-id="e0a00-147">While overprovisioning does improve provisioning success rates, it can cause confusing behavior for an application that is not designed toohandle extra VMs appearing and then disappearing.</span></span> <span data-ttu-id="e0a00-148">tooturn nadmiarowe Inicjowanie obsługi administracyjnej, upewnij się, masz powitania po ciągu w szablonie: `"overprovision": "false"`.</span><span class="sxs-lookup"><span data-stu-id="e0a00-148">tooturn overprovisioning off, ensure you have hello following string in your template: `"overprovision": "false"`.</span></span> <span data-ttu-id="e0a00-149">Więcej informacji można znaleźć w hello [dokumentacja interfejsu API REST ustawić skali](/rest/api/virtualmachinescalesets/create-or-update-a-set).</span><span class="sxs-lookup"><span data-stu-id="e0a00-149">More details can be found in hello [Scale Set REST API documentation](/rest/api/virtualmachinescalesets/create-or-update-a-set).</span></span>

<span data-ttu-id="e0a00-150">Jeśli zestaw skalowania używa magazynu zarządzana przez użytkownika i Wyłącz nadmiarowe Inicjowanie obsługi administracyjnej, może mieć więcej niż 20 maszyn wirtualnych na konto magazynu, ale toogo powyżej 40 ze względu na wydajność We/Wy nie jest zalecane.</span><span class="sxs-lookup"><span data-stu-id="e0a00-150">If your scale set uses user-managed storage, and you turn off overprovisioning, you can have more than 20 VMs per storage account, but it is not recommended toogo above 40 for IO performance reasons.</span></span> 

## <a name="limits"></a><span data-ttu-id="e0a00-151">Limity</span><span class="sxs-lookup"><span data-stu-id="e0a00-151">Limits</span></span>
<span data-ttu-id="e0a00-152">Zestaw skali w oparciu obrazu z witryny Marketplace (znanej także jako obrazu platformy) i skonfigurować toouse dysków zarządzanych Azure obsługuje pojemności zapasowej too1, 000 maszyn wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="e0a00-152">A scale set built on a Marketplace image (also known as a platform image) and configured toouse Azure Managed Disks supports a capacity of up too1,000 VMs.</span></span> <span data-ttu-id="e0a00-153">Jeśli konfigurujesz Twojej toosupport zestaw skalowania więcej niż 100 maszyn wirtualnych, nie wszystkie scenariusze pracy hello takie same (na przykład równoważenia obciążenia).</span><span class="sxs-lookup"><span data-stu-id="e0a00-153">If you configure your scale set toosupport more than 100 VMs, not all scenarios work hello same (for example load balancing).</span></span> <span data-ttu-id="e0a00-154">Aby uzyskać więcej informacji, zobacz [Praca z dużą maszynę wirtualną zestawy skalowania](virtual-machine-scale-sets-placement-groups.md).</span><span class="sxs-lookup"><span data-stu-id="e0a00-154">For more information, see [Working with large virtual machine scale sets](virtual-machine-scale-sets-placement-groups.md).</span></span> 

<span data-ttu-id="e0a00-155">Skala ustawić skonfigurowany z użyciem konta magazynu zarządzanego przez użytkownika jest obecnie ograniczone too100 maszyny wirtualne (i 5 konta magazynu są zalecane w przypadku tej skali).</span><span class="sxs-lookup"><span data-stu-id="e0a00-155">A scale set configured with user-managed storage accounts is currently limited too100 VMs (and 5 storage accounts are recommended for this scale).</span></span>

<span data-ttu-id="e0a00-156">Zestaw skali w oparciu niestandardowego obrazu (jeden utworzony przez użytkownika) mogą mieć pojemności zapasowej VMs too100, gdy skonfigurowano dysków Azure zarządzanych.</span><span class="sxs-lookup"><span data-stu-id="e0a00-156">A scale set built on a custom image (one built by you) can have a capacity of up too100 VMs when configured with Azure Managed disks.</span></span> <span data-ttu-id="e0a00-157">Jeśli zestaw skali hello jest skonfigurowany z kontami magazynu zarządzana przez użytkownika, musi utworzyć wszystkie dyski VHD dysku systemu operacyjnego w ramach jednego konta magazynu.</span><span class="sxs-lookup"><span data-stu-id="e0a00-157">If hello scale set is configured with user-managed storage accounts, it must create all OS disk VHDs within one storage account.</span></span> <span data-ttu-id="e0a00-158">W związku z tym hello maksymalna zalecana liczba maszyn wirtualnych w zestawie skalowania obraz niestandardowy w oparciu i zarządzana przez użytkownika magazynu wynosi 20.</span><span class="sxs-lookup"><span data-stu-id="e0a00-158">As a result, hello maximum recommended number of VMs in a scale set built on a custom image and user-managed storage is 20.</span></span> <span data-ttu-id="e0a00-159">Jeśli wyłączysz nadmiarowe Inicjowanie obsługi administracyjnej, można przejść się too40.</span><span class="sxs-lookup"><span data-stu-id="e0a00-159">If you turn off overprovisioning, you can go up too40.</span></span>

<span data-ttu-id="e0a00-160">Dla maszyn wirtualnych więcej niż dozwolone tych ograniczeń, należy toodeploy ustawia wiele skali, jak pokazano w [ten szablon](https://github.com/Azure/azure-quickstart-templates/tree/master/301-custom-images-at-scale).</span><span class="sxs-lookup"><span data-stu-id="e0a00-160">For more VMs than these limits allow, you need toodeploy multiple scale sets as shown in [this template](https://github.com/Azure/azure-quickstart-templates/tree/master/301-custom-images-at-scale).</span></span>

