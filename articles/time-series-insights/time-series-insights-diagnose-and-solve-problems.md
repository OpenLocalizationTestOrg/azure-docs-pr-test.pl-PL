---
title: "aaaDiagnose i rozwiązywania problemów | Dokumentacja firmy Microsoft"
description: "W tym samouczku przedstawiono sposób toodiagnose i rozwiązywania problemów w środowisku Insights serii czasu"
keywords: 
services: time-series-insights
documentationcenter: 
author: venkatgct
manager: almineev
editor: cgronlun
ms.assetid: 
ms.service: time-series-insights
ms.devlang: na
ms.topic: how-to-article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 04/24/2017
ms.author: venkatja
ms.openlocfilehash: 00893d4bec497f5f8bf7093be5b96f1844446d13
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="diagnose-and-solve-problems-in-your-time-series-insights-environment"></a><span data-ttu-id="1ba60-103">Diagnozowanie i rozwiązywanie problemów w środowisku Insights serii czasu</span><span class="sxs-lookup"><span data-stu-id="1ba60-103">Diagnose and solve problems in your Time Series Insights environment</span></span>

## <a name="i-dont-see-my-data"></a><span data-ttu-id="1ba60-104">Moje dane nie są widoczne</span><span class="sxs-lookup"><span data-stu-id="1ba60-104">I don't see my data</span></span>
<span data-ttu-id="1ba60-105">Poniżej przedstawiono przyczyny, dlaczego może nie być wyświetlana danych w środowisku w hello [portal Azure czas serii Insights](https://insights.timeseries.azure.com).</span><span class="sxs-lookup"><span data-stu-id="1ba60-105">Here are some reasons why you might not see your data in your environment in hello [Azure Time Series Insights portal](https://insights.timeseries.azure.com).</span></span>

### <a name="your-event-source-doesnt-have-data-in-json-format"></a><span data-ttu-id="1ba60-106">Źródła zdarzeń nie zawiera danych w formacie JSON</span><span class="sxs-lookup"><span data-stu-id="1ba60-106">Your event source doesn't have data in JSON format</span></span>
<span data-ttu-id="1ba60-107">Azure czas serii Insights obsługuje obecnie tylko dane JSON.</span><span class="sxs-lookup"><span data-stu-id="1ba60-107">Azure Time Series Insights supports only JSON data today.</span></span> <span data-ttu-id="1ba60-108">Przykłady JSON dla [kształtów JSON obsługiwany](time-series-insights-send-events.md#supported-json-shapes).</span><span class="sxs-lookup"><span data-stu-id="1ba60-108">For JSON samples, see [Supported JSON shapes](time-series-insights-send-events.md#supported-json-shapes).</span></span>

### <a name="when-you-registered-your-event-source-you-didnt-provide-hello-key-that-has-hello-required-permission"></a><span data-ttu-id="1ba60-109">Po zarejestrowaniu źródła zdarzeń nie dostarczył hello klucz, który ma uprawnienia wymagane hello</span><span class="sxs-lookup"><span data-stu-id="1ba60-109">When you registered your event source, you didn't provide hello key that has hello required permission</span></span>
* <span data-ttu-id="1ba60-110">Centrum IoT należy tooprovide hello klucz, który ma **usługa połączyć** uprawnienia.</span><span class="sxs-lookup"><span data-stu-id="1ba60-110">For an IoT hub, you need tooprovide hello key that has **service connect** permission.</span></span>

   ![Uprawnienia do połączenia z usługi Centrum IoT](media/diagnose-and-solve-problems/iothub-serviceconnect-permissions.png)

   <span data-ttu-id="1ba60-112">Jak pokazano w hello poprzedzających obrazu, albo hello zasad **iothubowner** i **usługi** będzie działać, ponieważ mają **usługa połączyć** uprawnienia.</span><span class="sxs-lookup"><span data-stu-id="1ba60-112">As shown in hello preceding image, either of hello policies **iothubowner** and **service** would work, because both have **service connect** permission.</span></span>
* <span data-ttu-id="1ba60-113">W przypadku Centrum zdarzeń należy tooprovide hello klucz, który ma **nasłuchiwania** uprawnienia.</span><span class="sxs-lookup"><span data-stu-id="1ba60-113">For an event hub, you need tooprovide hello key that has **Listen** permission.</span></span>

   ![Uprawnienie nasłuchiwania Centrum zdarzeń](media/diagnose-and-solve-problems/eventhub-listen-permissions.png)

   <span data-ttu-id="1ba60-115">Jak pokazano w hello poprzedzających obrazu, albo zasad hello **odczytu** i **zarządzanie** będzie działać, ponieważ mają **nasłuchiwania** uprawnienia.</span><span class="sxs-lookup"><span data-stu-id="1ba60-115">As shown in hello preceding image, either of hello policies **read** and **manage** would work, because both have **Listen** permission.</span></span>

### <a name="hello-provided-consumer-group-is-not-exclusive-tootime-series-insights"></a><span data-ttu-id="1ba60-116">Hello pod warunkiem, że grupy odbiorców jest wyłączne tooTime serii Insights</span><span class="sxs-lookup"><span data-stu-id="1ba60-116">hello provided consumer group is not exclusive tooTime Series Insights</span></span>
<span data-ttu-id="1ba60-117">Centrum IoT i Centrum zdarzeń, aby uzyskać podczas rejestrowania wymagamy grupy odbiorców hello toospecify, które mają być używane do odczytywania danych.</span><span class="sxs-lookup"><span data-stu-id="1ba60-117">For an IoT hub or an event hub, during registration we require you toospecify hello consumer group that should be used for reading your data.</span></span> <span data-ttu-id="1ba60-118">Ta grupa użytkowników nie muszą zostać udostępnione.</span><span class="sxs-lookup"><span data-stu-id="1ba60-118">This consumer group must not be shared.</span></span> <span data-ttu-id="1ba60-119">Jeśli jest on udostępniony hello podstawowej Centrum zdarzeń automatycznie rozłącza jeden czytników hello losowo.</span><span class="sxs-lookup"><span data-stu-id="1ba60-119">If it's shared, hello underlying event hub automatically disconnects one of hello readers randomly.</span></span>

## <a name="i-see-my-data-but-theres-a-lag"></a><span data-ttu-id="1ba60-120">Dane są widoczne, ale istnieje opóźnienie</span><span class="sxs-lookup"><span data-stu-id="1ba60-120">I see my data, but there's a lag</span></span>
<span data-ttu-id="1ba60-121">Poniżej przedstawiono przyczyny, dlaczego napotkać częściowe dane w środowisku w hello [portalu czasu serii Insights](https://insights.timeseries.azure.com).</span><span class="sxs-lookup"><span data-stu-id="1ba60-121">Here are reasons why you might see partial data in your environment in hello [Time Series Insights portal](https://insights.timeseries.azure.com).</span></span>

### <a name="your-environment-is-getting-throttled"></a><span data-ttu-id="1ba60-122">Środowisko jest wprowadzenie ograniczany.</span><span class="sxs-lookup"><span data-stu-id="1ba60-122">Your environment is getting throttled</span></span>
<span data-ttu-id="1ba60-123">limit ograniczania Hello są wymuszane na podstawie typu jednostki SKU i pojemności hello środowiska.</span><span class="sxs-lookup"><span data-stu-id="1ba60-123">hello throttling limit is enforced based on hello environment's SKU type and capacity.</span></span> <span data-ttu-id="1ba60-124">Wszystkie źródła zdarzeń w środowisku hello udostępnianie tej pojemności.</span><span class="sxs-lookup"><span data-stu-id="1ba60-124">All event sources in hello environment share this capacity.</span></span> <span data-ttu-id="1ba60-125">Jeśli hello źródła zdarzenia z Centrum IoT i Centrum zdarzeń jest wypychanie danych po przekroczeniu limitów hello wymuszone, zobacz ograniczania przepustowości i opóźnienia.</span><span class="sxs-lookup"><span data-stu-id="1ba60-125">If hello event source for your IoT hub or event hub is pushing data beyond hello enforced limits, you see throttling and a lag.</span></span>

<span data-ttu-id="1ba60-126">powitania po diagram przedstawia środowisko czasu serii Insights, które ma SKU S1 i pojemności 3.</span><span class="sxs-lookup"><span data-stu-id="1ba60-126">hello following diagram shows a Time Series Insights environment that has a SKU of S1 and a capacity of 3.</span></span> <span data-ttu-id="1ba60-127">Może on ruch przychodzący 3 miliony zdarzeń na dzień.</span><span class="sxs-lookup"><span data-stu-id="1ba60-127">It can ingress 3 million events per day.</span></span>

![Obecna pojemność jednostki SKU środowiska](media/diagnose-and-solve-problems/environment-sku-current-capacity.png)

<span data-ttu-id="1ba60-129">Załóżmy, że to środowisko jest wprowadzania komunikaty z Centrum zdarzeń z prędkości wejściowej hello pokazano powitania po diagramu:</span><span class="sxs-lookup"><span data-stu-id="1ba60-129">Assume that this environment is ingesting messages from an event hub with hello ingress rate shown in hello following diagram:</span></span>

![Transfer danych przychodzących przykład szybkość Centrum zdarzeń](media/diagnose-and-solve-problems/eventhub-ingress-rate.png)

<span data-ttu-id="1ba60-131">Jak pokazano na diagramie hello, stawki dziennej wejściowych hello jest ~ 67,000 wiadomości.</span><span class="sxs-lookup"><span data-stu-id="1ba60-131">As shown in hello diagram, hello daily ingress rate is ~67,000 messages.</span></span> <span data-ttu-id="1ba60-132">Ta stawka tłumaczy około too46 wiadomości co minutę.</span><span class="sxs-lookup"><span data-stu-id="1ba60-132">This rate translates roughly too46 messages every minute.</span></span> <span data-ttu-id="1ba60-133">Jeśli każdy komunikat Centrum zdarzeń jest spłaszczoną tooa pojedyncze zdarzenie Insights serii czasu, to środowisko widzi nie ograniczania.</span><span class="sxs-lookup"><span data-stu-id="1ba60-133">If each event hub message is flattened tooa single Time Series Insights event, this environment sees no throttling.</span></span> <span data-ttu-id="1ba60-134">Jeśli każdy komunikat Centrum zdarzeń jest spłaszczoną too100 Insights serii czas zdarzenia, następnie 4,600 zdarzenia powinny być pozyskanych co minutę.</span><span class="sxs-lookup"><span data-stu-id="1ba60-134">If each event hub message is flattened too100 Time Series Insights events, then 4,600 events should be ingested every minute.</span></span> <span data-ttu-id="1ba60-135">Środowisku S1 SKU o pojemności 3 można tylko 2100 zdarzeń wejściowych co minutę (1 miliona zdarzeń na dzień = 700 zdarzenia na minutę na poziomie jednostki 3 = 2100 zdarzenia na minutę).</span><span class="sxs-lookup"><span data-stu-id="1ba60-135">An S1 SKU environment that has a capacity of 3 can ingress only 2,100 events every minute (1 million events per day = 700 events per minute at 3 units = 2,100 events per minute).</span></span> <span data-ttu-id="1ba60-136">W związku z tym Zobacz lag toothrottling ukończenia.</span><span class="sxs-lookup"><span data-stu-id="1ba60-136">Therefore you see a lag due toothrottling.</span></span> 

<span data-ttu-id="1ba60-137">Ogólny zrozumieć sposób działania spłaszczania logiki, zobacz [kształtów JSON obsługiwany](time-series-insights-send-events.md#supported-json-shapes).</span><span class="sxs-lookup"><span data-stu-id="1ba60-137">For a high-level understanding of how flattening logic works, see [Supported JSON shapes](time-series-insights-send-events.md#supported-json-shapes).</span></span>

#### <a name="recommended-steps"></a><span data-ttu-id="1ba60-138">Zalecane czynności</span><span class="sxs-lookup"><span data-stu-id="1ba60-138">Recommended steps</span></span>
<span data-ttu-id="1ba60-139">toofix hello opóźnienie hello zwiększyć pojemność jednostki SKU środowiska.</span><span class="sxs-lookup"><span data-stu-id="1ba60-139">toofix hello lag, increase hello SKU capacity of your environment.</span></span> <span data-ttu-id="1ba60-140">Aby uzyskać więcej informacji, zobacz [jak tooscale środowiska czasu serii Insights](time-series-insights-how-to-scale-your-environment.md).</span><span class="sxs-lookup"><span data-stu-id="1ba60-140">For more information, see [How tooscale your Time Series Insights environment](time-series-insights-how-to-scale-your-environment.md).</span></span>

### <a name="youre-pushing-historical-data-and-causing-slow-ingress"></a><span data-ttu-id="1ba60-141">Wypychanie danych historycznych i powodujące powolne wejściowych</span><span class="sxs-lookup"><span data-stu-id="1ba60-141">You're pushing historical data and causing slow ingress</span></span>
<span data-ttu-id="1ba60-142">Jeśli łączysz istniejące źródło zdarzenia jest prawdopodobne, że z Centrum IoT i Centrum zdarzeń zawiera już dane w nim.</span><span class="sxs-lookup"><span data-stu-id="1ba60-142">If you are connecting an existing event source, it's likely that your IoT hub or event hub already has data in it.</span></span> <span data-ttu-id="1ba60-143">Dlatego środowiska hello uruchamia ściąganie danych z hello początek okresu przechowywania wiadomość hello zdarzeń źródła.</span><span class="sxs-lookup"><span data-stu-id="1ba60-143">So hello environment starts pulling data from hello beginning of hello event source's message retention period.</span></span> 

<span data-ttu-id="1ba60-144">To zachowanie jest hello domyślne zachowanie i nie może zostać zastąpiona.</span><span class="sxs-lookup"><span data-stu-id="1ba60-144">This behavior is hello default behavior and cannot be overridden.</span></span> <span data-ttu-id="1ba60-145">Można Uwzględnij, ograniczania i może upłynąć trochę czasu, toocatch się na odbieranie danych historycznych.</span><span class="sxs-lookup"><span data-stu-id="1ba60-145">You can engage throttling, and it may take a while toocatch up on ingesting historical data.</span></span>

#### <a name="recommended-steps"></a><span data-ttu-id="1ba60-146">Zalecane czynności</span><span class="sxs-lookup"><span data-stu-id="1ba60-146">Recommended steps</span></span>
<span data-ttu-id="1ba60-147">toofix hello opóźnienie hello wykonaj następujące kroki:</span><span class="sxs-lookup"><span data-stu-id="1ba60-147">toofix hello lag, take hello following steps:</span></span>
1. <span data-ttu-id="1ba60-148">Zwiększ hello SKU pojemności toohello maksymalną dozwoloną wartość (10, w tym przypadku).</span><span class="sxs-lookup"><span data-stu-id="1ba60-148">Increase hello SKU capacity toohello maximum allowed value (10 in this case).</span></span> <span data-ttu-id="1ba60-149">Po zwiększeniu pojemności hello rozpocznie się proces wejściowych hello, przechwytywanie się znacznie szybciej.</span><span class="sxs-lookup"><span data-stu-id="1ba60-149">After hello capacity is increased, hello ingress process starts catching up much faster.</span></span> <span data-ttu-id="1ba60-150">Można zwizualizować, jak szybko jest przechwytywanie za pośrednictwem hello dostępności wykresu w hello [portalu czasu serii Insights](https://insights.timeseries.azure.com).</span><span class="sxs-lookup"><span data-stu-id="1ba60-150">You can visualize how quickly you're catching up through hello availability chart in hello [Time Series Insights portal](https://insights.timeseries.azure.com).</span></span> <span data-ttu-id="1ba60-151">Naliczane są opłaty za hello zwiększenie pojemności.</span><span class="sxs-lookup"><span data-stu-id="1ba60-151">You are charged for hello increased capacity.</span></span>
2. <span data-ttu-id="1ba60-152">Po zawiera opóźnienie hello zmniejszania hello jednostki SKU pojemności wstecz tooyour normalne wejściowych.</span><span class="sxs-lookup"><span data-stu-id="1ba60-152">After hello lag is caught up, decrease hello SKU capacity back tooyour normal ingress rate.</span></span>

## <a name="my-event-sources-timestamp-property-name-setting-doesnt-work"></a><span data-ttu-id="1ba60-153">Źródła zdarzeń *nazwa właściwości sygnatury czasowej* ustawienie nie działa</span><span class="sxs-lookup"><span data-stu-id="1ba60-153">My event source's *timestamp property name* setting doesn't work</span></span>
<span data-ttu-id="1ba60-154">Zapewnienia, że hello nazwy i wartości odpowiadają toohello następujące reguły:</span><span class="sxs-lookup"><span data-stu-id="1ba60-154">Ensure that hello name and value conform toohello following rules:</span></span>
* <span data-ttu-id="1ba60-155">Nazwa właściwości sygnatury czasowej Hello jest _z uwzględnieniem wielkości liter_.</span><span class="sxs-lookup"><span data-stu-id="1ba60-155">hello timestamp property name is _case-sensitive_.</span></span>
* <span data-ttu-id="1ba60-156">wartość właściwości sygnatury czasowej Hello, które pochodzą ze źródła zdarzenia w postaci ciągu JSON, powinien mieć hello format _RRRR-MM-Ddtgg. FFFFFFFK_.</span><span class="sxs-lookup"><span data-stu-id="1ba60-156">hello timestamp property value that's coming from your event source, as a JSON string, should have hello format _yyyy-MM-ddTHH:mm:ss.FFFFFFFK_.</span></span> <span data-ttu-id="1ba60-157">Na przykład taki ciąg "2008-04-12T12:53Z".</span><span class="sxs-lookup"><span data-stu-id="1ba60-157">An example of such a string is “2008-04-12T12:53Z”.</span></span>
