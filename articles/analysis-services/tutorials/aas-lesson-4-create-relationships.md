---
<span data-ttu-id="c5427-101">title: aaa "lekcji samouczka usług Azure Analysis Services 4: tworzenie relacji | Opis elementu Microsoft Docs": w tym artykule opisano, jak relacje toocreate w hello projekt samouczka usług Azure Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="c5427-101">title: aaa"Azure Analysis Services tutorial lesson 4: Create relationships | Microsoft Docs" description: Describes how toocreate relationships in hello Azure Analysis Services tutorial project.</span></span> <span data-ttu-id="c5427-102">usługi: documentationcenter usług analysis services: "Autor: minewiskan Menedżera: Edytor erikre:" tagów: "</span><span class="sxs-lookup"><span data-stu-id="c5427-102">services: analysis-services documentationcenter: '' author: minewiskan manager: erikre editor: '' tags: ''</span></span>

<span data-ttu-id="c5427-103">MS.AssetID: ms.service: ms.devlang usług analysis services: NA ms.topic: get-started-article ms.tgt_pltfrm: NA ms.workload: na ms.date: 05/26/2017 ms.author: owend</span><span class="sxs-lookup"><span data-stu-id="c5427-103">ms.assetid: ms.service: analysis-services ms.devlang: NA ms.topic: get-started-article ms.tgt_pltfrm: NA ms.workload: na ms.date: 05/26/2017 ms.author: owend</span></span>
---
# <a name="lesson-4-create-relationships"></a><span data-ttu-id="c5427-104">Lekcja 4. Tworzenie relacji</span><span class="sxs-lookup"><span data-stu-id="c5427-104">Lesson 4: Create relationships</span></span>

[!INCLUDE[analysis-services-appliesto-aas-sql2017-later](../../../includes/analysis-services-appliesto-aas-sql2017-later.md)]

<span data-ttu-id="c5427-105">W tej lekcji Sprawdź hello relacje, które zostały automatycznie utworzone po zaimportowaniu danych i dodać nowe relacje między tabelami w różnych.</span><span class="sxs-lookup"><span data-stu-id="c5427-105">In this lesson, you verify hello relationships that were created automatically when you imported data and add new relationships between different tables.</span></span> <span data-ttu-id="c5427-106">Relacja to połączenie między dwiema tabelami, które określa, jak powinna zostać skorelowane hello danych w tych tabelach.</span><span class="sxs-lookup"><span data-stu-id="c5427-106">A relationship is a connection between two tables that establishes how hello data in those tables should be correlated.</span></span> <span data-ttu-id="c5427-107">Na przykład tabela DimProduct hello i tabela DimProductSubcategory hello relacją oparte na hello fakt, że każdy z produktów należy podkategorii tooa.</span><span class="sxs-lookup"><span data-stu-id="c5427-107">For example, hello DimProduct table and hello DimProductSubcategory table have a relationship based on hello fact that each product belongs tooa subcategory.</span></span> <span data-ttu-id="c5427-108">toolearn więcej, zobacz [relacje](https://docs.microsoft.com/sql/analysis-services/tabular-models/relationships-ssas-tabular).</span><span class="sxs-lookup"><span data-stu-id="c5427-108">toolearn more, see [Relationships](https://docs.microsoft.com/sql/analysis-services/tabular-models/relationships-ssas-tabular).</span></span>
  
<span data-ttu-id="c5427-109">Szacowany czas toocomplete tej lekcji: **10 minut**</span><span class="sxs-lookup"><span data-stu-id="c5427-109">Estimated time toocomplete this lesson: **10 minutes**</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="c5427-110">Wymagania wstępne</span><span class="sxs-lookup"><span data-stu-id="c5427-110">Prerequisites</span></span>  
<span data-ttu-id="c5427-111">Ten temat stanowi część samouczka modelowania tabelarycznego, który należy wykonać w podanej kolejności.</span><span class="sxs-lookup"><span data-stu-id="c5427-111">This topic is part of a tabular modeling tutorial, which should be completed in order.</span></span> <span data-ttu-id="c5427-112">Przed wykonaniem zadania hello w tej lekcji, powinno mieć ukończone poprzedniej lekcji hello: [lekcji 3: Oznacz jako tabelę dat](../tutorials/aas-lesson-3-mark-as-date-table.md).</span><span class="sxs-lookup"><span data-stu-id="c5427-112">Before performing hello tasks in this lesson, you should have completed hello previous lesson: [Lesson 3: Mark as Date Table](../tutorials/aas-lesson-3-mark-as-date-table.md).</span></span> 
  
## <a name="review-existing-relationships-and-add-new-relationships"></a><span data-ttu-id="c5427-113">Przegląd istniejących relacji i dodawanie nowych</span><span class="sxs-lookup"><span data-stu-id="c5427-113">Review existing relationships and add new relationships</span></span>  
<span data-ttu-id="c5427-114">Podczas importowania danych za pomocą Pobierz dane uzyskano siedmiu tabel z bazy danych AdventureWorksDW2014 hello.</span><span class="sxs-lookup"><span data-stu-id="c5427-114">When you imported data by using Get Data, you got seven tables from hello AdventureWorksDW2014 database.</span></span> <span data-ttu-id="c5427-115">Ogólnie rzecz biorąc gdy użytkownik importuje dane ze źródła relacyjne istniejące relacje są automatycznie importowane oraz hello dane.</span><span class="sxs-lookup"><span data-stu-id="c5427-115">Generally, when you import data from a relational source, existing relationships are automatically imported together with hello data.</span></span> <span data-ttu-id="c5427-116">Jednak przed przystąpieniem do tworzenia modelu należy sprawdzić, czy relacje między tabelami zostały utworzone prawidłowo.</span><span class="sxs-lookup"><span data-stu-id="c5427-116">However, before you proceed with authoring your model you should verify those relationships between tables were created properly.</span></span> <span data-ttu-id="c5427-117">W tym samouczku zostaną dodane trzy nowe relacje.</span><span class="sxs-lookup"><span data-stu-id="c5427-117">For this tutorial, you add three new relationships.</span></span>  
  
#### <a name="tooreview-existing-relationships"></a><span data-ttu-id="c5427-118">istniejące relacje tooreview</span><span class="sxs-lookup"><span data-stu-id="c5427-118">tooreview existing relationships</span></span>  
  
1.  <span data-ttu-id="c5427-119">Kliknij przycisk hello **modelu** menu > **widok modelu** > **widoku diagramu**.</span><span class="sxs-lookup"><span data-stu-id="c5427-119">Click hello **Model** menu > **Model View** > **Diagram View**.</span></span>  

    <span data-ttu-id="c5427-120">Witaj Projektant modelu jest teraz wyświetlany w widoku diagramu, postaci graficznej wyświetlanie wszystkich tabel hello zaimportowane linie między nimi.</span><span class="sxs-lookup"><span data-stu-id="c5427-120">hello model designer now appears in Diagram View, a graphical format displaying all hello tables you imported with lines between them.</span></span> <span data-ttu-id="c5427-121">Witaj linie między tabelami wskazują hello relacje, które zostały automatycznie utworzone po zaimportowaniu danych hello.</span><span class="sxs-lookup"><span data-stu-id="c5427-121">hello lines between tables indicate hello relationships that were automatically created when you imported hello data.</span></span>
    
    ![aas-lesson4-diagram](../tutorials/media/aas-lesson4-diagram.png)
  
    <span data-ttu-id="c5427-123">Dołączyć jako wiele tabel hello możliwie za pomocą formantów minimapa w prawym dolnym narożniku hello hello Projektant modelu.</span><span class="sxs-lookup"><span data-stu-id="c5427-123">Include as many of hello tables as possible by using minimap controls in hello lower-right corner of hello model designer.</span></span> <span data-ttu-id="c5427-124">Można również kliknij i przeciągnij lokalizacje toodifferent tabel, łącząc bliżej tabel lub umieszczania ich w określonej kolejności.</span><span class="sxs-lookup"><span data-stu-id="c5427-124">You can also click and drag tables toodifferent locations, bringing tables closer together, or putting them in a particular order.</span></span> <span data-ttu-id="c5427-125">Przenoszenie tabel nie ma wpływu na relacje hello już między tabelami hello.</span><span class="sxs-lookup"><span data-stu-id="c5427-125">Moving tables does not affect hello relationships already between hello tables.</span></span> <span data-ttu-id="c5427-126">tooview wszystkie kolumny hello w określonej tabeli, kliknij i przeciągnij na tooexpand krawędzi tabeli lub zmniejszyć jego rozmiar.</span><span class="sxs-lookup"><span data-stu-id="c5427-126">tooview all hello columns in a particular table, click and drag on a table edge tooexpand or make it smaller.</span></span>  
  
2.  <span data-ttu-id="c5427-127">Kliknij przycisk Linia ciągła hello między hello **DimCustomer** tabeli i hello **DimGeography** tabeli.</span><span class="sxs-lookup"><span data-stu-id="c5427-127">Click hello solid line between hello **DimCustomer** table and hello **DimGeography** table.</span></span> <span data-ttu-id="c5427-128">Linia ciągła Hello między tymi dwiema tabelami pokazuje ta relacja jest aktywna, oznacza to, że jest używany domyślnie podczas obliczania formuły języka DAX.</span><span class="sxs-lookup"><span data-stu-id="c5427-128">hello solid line between these two tables shows this relationship is active, that is, it is used by default when calculating DAX formulas.</span></span>  
  
    <span data-ttu-id="c5427-129">Powiadomienie hello **GeographyKey** kolumny w hello **DimCustomer** tabeli i hello **GeographyKey** kolumny w hello **DimGeography** tabeli teraz każdy znajdować się w polu.</span><span class="sxs-lookup"><span data-stu-id="c5427-129">Notice hello **GeographyKey** column in hello **DimCustomer** table and hello **GeographyKey** column in hello **DimGeography** table now both each appear within a box.</span></span> <span data-ttu-id="c5427-130">Te kolumny są używane w hello relacji.</span><span class="sxs-lookup"><span data-stu-id="c5427-130">These columns are used in hello relationship.</span></span> <span data-ttu-id="c5427-131">Witaj we właściwościach relacji również pojawiają się teraz hello **właściwości** okna.</span><span class="sxs-lookup"><span data-stu-id="c5427-131">hello relationship’s properties now also appear in hello **Properties** window.</span></span>  
  
    > [!TIP]  
    > <span data-ttu-id="c5427-132">Ponadto toousing hello Projektant modelu w widoku diagramu, można również użyć hello zarządzanie relacjami okna dialogowego pole tooshow hello relacje między wszystkie tabele w formacie tabeli.</span><span class="sxs-lookup"><span data-stu-id="c5427-132">In addition toousing hello model designer in diagram view, you can also use hello Manage Relationships dialog box tooshow hello relationships between all tables in a table format.</span></span> <span data-ttu-id="c5427-133">W Eksploratorze modeli tabelarycznych kliknij prawym przyciskiem myszy pozycje **Relacje** > **Zarządzanie relacjami**.</span><span class="sxs-lookup"><span data-stu-id="c5427-133">In Tabular Model Explorer, right-click **Relationships** > **Manage Relationships**.</span></span>
  
3.  <span data-ttu-id="c5427-134">Sprawdź następujące relacje hello zostały utworzone podczas każdej z tabel hello zostały zaimportowane z bazy danych AdventureWorksDW hello:</span><span class="sxs-lookup"><span data-stu-id="c5427-134">Verify hello following relationships were created when each of hello tables were imported from hello AdventureWorksDW database:</span></span>  
  
    |<span data-ttu-id="c5427-135">Aktywne</span><span class="sxs-lookup"><span data-stu-id="c5427-135">Active</span></span>|<span data-ttu-id="c5427-136">Tabela</span><span class="sxs-lookup"><span data-stu-id="c5427-136">Table</span></span>|<span data-ttu-id="c5427-137">Pokrewna tabela odnośników</span><span class="sxs-lookup"><span data-stu-id="c5427-137">Related Lookup Table</span></span>|  
    |----------|---------|------------------------|  
    |<span data-ttu-id="c5427-138">Tak</span><span class="sxs-lookup"><span data-stu-id="c5427-138">Yes</span></span>|<span data-ttu-id="c5427-139">**DimCustomer [GeographyKey]**</span><span class="sxs-lookup"><span data-stu-id="c5427-139">**DimCustomer [GeographyKey]**</span></span>|<span data-ttu-id="c5427-140">**DimGeography [GeographyKey]**</span><span class="sxs-lookup"><span data-stu-id="c5427-140">**DimGeography [GeographyKey]**</span></span>|  
    |<span data-ttu-id="c5427-141">Tak</span><span class="sxs-lookup"><span data-stu-id="c5427-141">Yes</span></span>|<span data-ttu-id="c5427-142">**DimProduct [ProductSubcategoryKey]**</span><span class="sxs-lookup"><span data-stu-id="c5427-142">**DimProduct [ProductSubcategoryKey]**</span></span>|<span data-ttu-id="c5427-143">**DimProductSubcategory [ProductSubcategoryKey]**</span><span class="sxs-lookup"><span data-stu-id="c5427-143">**DimProductSubcategory [ProductSubcategoryKey]**</span></span>|  
    |<span data-ttu-id="c5427-144">Tak</span><span class="sxs-lookup"><span data-stu-id="c5427-144">Yes</span></span>|<span data-ttu-id="c5427-145">**DimProductSubcategory [ProductCategoryKey]**</span><span class="sxs-lookup"><span data-stu-id="c5427-145">**DimProductSubcategory [ProductCategoryKey]**</span></span>|<span data-ttu-id="c5427-146">**DimProductCategory [ProductCategoryKey]**</span><span class="sxs-lookup"><span data-stu-id="c5427-146">**DimProductCategory [ProductCategoryKey]**</span></span>|  
    |<span data-ttu-id="c5427-147">Tak</span><span class="sxs-lookup"><span data-stu-id="c5427-147">Yes</span></span>|<span data-ttu-id="c5427-148">**FactInternetSales [CustomerKey]**</span><span class="sxs-lookup"><span data-stu-id="c5427-148">**FactInternetSales [CustomerKey]**</span></span>|<span data-ttu-id="c5427-149">**DimCustomer [CustomerKey]**</span><span class="sxs-lookup"><span data-stu-id="c5427-149">**DimCustomer [CustomerKey]**</span></span>|  
    |<span data-ttu-id="c5427-150">Tak</span><span class="sxs-lookup"><span data-stu-id="c5427-150">Yes</span></span>|<span data-ttu-id="c5427-151">**FactInternetSales [ProductKey]**</span><span class="sxs-lookup"><span data-stu-id="c5427-151">**FactInternetSales [ProductKey]**</span></span>|<span data-ttu-id="c5427-152">**DimProduct [ProductKey]**</span><span class="sxs-lookup"><span data-stu-id="c5427-152">**DimProduct [ProductKey]**</span></span>|  
  
    <span data-ttu-id="c5427-153">Jeśli którekolwiek z relacji hello brakuje, sprawdź, czy model zawiera następujące tabele hello: DimCustomer, DimDate DimGeography, DimProduct, DimProductCategory, DimProductSubcategory i FactInternetSales.</span><span class="sxs-lookup"><span data-stu-id="c5427-153">If any of hello relationships are missing, verify that your model includes hello following tables: DimCustomer, DimDate, DimGeography, DimProduct, DimProductCategory, DimProductSubcategory, and FactInternetSales.</span></span> <span data-ttu-id="c5427-154">Jeśli tabel z tego samego połączenia źródła danych zostaną zaimportowane na powitania rozdzielić razy, wszystkie relacje między tabelami te nie są tworzone i muszą być utworzone ręcznie.</span><span class="sxs-lookup"><span data-stu-id="c5427-154">If tables from hello same data source connection are imported at separate times, any relationships between those tables are not be created and must be created manually.</span></span>  

### <a name="take-a-closer-look"></a><span data-ttu-id="c5427-155">Przyjrzyjmy się temu bliżej</span><span class="sxs-lookup"><span data-stu-id="c5427-155">Take a closer look</span></span>
<span data-ttu-id="c5427-156">W widoku diagramu Zwróć uwagę, Strzałka gwiazdkę i numer w wierszach hello, które zawierają hello relacji między tabelami.</span><span class="sxs-lookup"><span data-stu-id="c5427-156">In Diagram View, notice an arrow, an asterisk, and a number on hello lines that show hello relationship between tables.</span></span>

![aas-lesson4-line](../tutorials/media/aas-lesson4-line.png)

<span data-ttu-id="c5427-158">Strzałka Hello pokazuje hello kierunek filtru.</span><span class="sxs-lookup"><span data-stu-id="c5427-158">hello arrow shows hello filter direction.</span></span> <span data-ttu-id="c5427-159">gwiazdki Hello pokazano, że ta tabela jest hello wiele relacji hello kardynalności i hello jedną pokazuje ta tabela jest hello na jednej stronie relacji hello.</span><span class="sxs-lookup"><span data-stu-id="c5427-159">hello asterisk shows this table is hello many side in hello relationship's cardinality, and hello one shows this table is hello one side of hello relationship.</span></span> <span data-ttu-id="c5427-160">Jeśli potrzebujesz tooedit relacji; na przykład zmienić kierunek filtru relacji hello lub Kardynalność, kliknij dwukrotnie hello relacji wiersza tooopen hello Edytuj relację z okna dialogowego.</span><span class="sxs-lookup"><span data-stu-id="c5427-160">If you need tooedit a relationship; for example, change hello relationship's filter direction or cardinality, double-click hello relationship line tooopen hello Edit Relationship dialog.</span></span>

![aas-lesson4-edit](../tutorials/media/aas-lesson4-edit.png)

<span data-ttu-id="c5427-162">Te funkcje są przeznaczone dla zaawansowanych modelowania danych i są poza zakresem hello tego samouczka.</span><span class="sxs-lookup"><span data-stu-id="c5427-162">These features are meant for advanced data modeling and are outside hello scope of this tutorial.</span></span> <span data-ttu-id="c5427-163">toolearn więcej, zobacz [dwukierunkowego krzyżowego filtry dla modeli tabelarycznych w usługach Analysis Services](https://docs.microsoft.com/sql/analysis-services/tabular-models/bi-directional-cross-filters-tabular-models-analysis-services).</span><span class="sxs-lookup"><span data-stu-id="c5427-163">toolearn more, see [Bi-directional cross filters for tabular models in Analysis Services](https://docs.microsoft.com/sql/analysis-services/tabular-models/bi-directional-cross-filters-tabular-models-analysis-services).</span></span>

<span data-ttu-id="c5427-164">W niektórych przypadkach może być konieczne toocreate dodatkowe relacje między tabelami w Twojej toosupport modelu niektórych logiki biznesowej.</span><span class="sxs-lookup"><span data-stu-id="c5427-164">In some cases, you may need toocreate additional relationships between tables in your model toosupport certain business logic.</span></span> <span data-ttu-id="c5427-165">W tym samouczku należy toocreate trzy dodatkowe relacje między tabelami FactInternetSales hello i DimDate hello.</span><span class="sxs-lookup"><span data-stu-id="c5427-165">For this tutorial, you need toocreate three additional relationships between hello FactInternetSales table and hello DimDate table.</span></span>  
  
#### <a name="tooadd-new-relationships-between-tables"></a><span data-ttu-id="c5427-166">tooadd nowe relacje między tabelami</span><span class="sxs-lookup"><span data-stu-id="c5427-166">tooadd new relationships between tables</span></span>  
  
1.  <span data-ttu-id="c5427-167">W Konstruktorze modelu hello w hello **FactInternetSales** tabeli, kliknij i przytrzymaj hello **OrderDate** kolumny, a następnie przeciągnij hello kursora toohello **data** kolumny w hello  **DimDate** tabeli, a następnie zwolnij.</span><span class="sxs-lookup"><span data-stu-id="c5427-167">In hello model designer, in hello **FactInternetSales** table, click, and hold on hello **OrderDate** column, then drag hello cursor toohello **Date** column in hello **DimDate** table, and then release.</span></span>  

    <span data-ttu-id="c5427-168">Linia ciągła wyświetleniu utworzono aktywna relacja między hello **OrderDate** kolumny w hello **sprzedaży Internet** tabeli i hello **data** kolumny w hello **Data** tabeli.</span><span class="sxs-lookup"><span data-stu-id="c5427-168">A solid line appears showing you have created an active relationship between hello **OrderDate** column in hello **Internet Sales** table, and hello **Date** column in hello **Date** table.</span></span> 
  
      ![aas-lesson4-new](../tutorials/media/aas-lesson4-new.png) 
  
    > [!NOTE]  
    > <span data-ttu-id="c5427-170">Podczas tworzenia relacji, hello kardynalność i Filtruj kierunku między hello tabeli podstawowej i tabeli odnośników pokrewne hello jest automatycznie wybierany.</span><span class="sxs-lookup"><span data-stu-id="c5427-170">When creating relationships, hello cardinality and filter direction between hello primary table and hello related lookup table is automatically selected.</span></span>  
  
2.  <span data-ttu-id="c5427-171">W hello **FactInternetSales** tabeli, kliknij i przytrzymaj hello **Data ukończenia** kolumny, a następnie przeciągnij hello kursora toohello **data** kolumny w hello **DimDate** tabeli, a następnie zwolnij.</span><span class="sxs-lookup"><span data-stu-id="c5427-171">In hello **FactInternetSales** table, click and hold on hello **DueDate** column, then drag hello cursor toohello **Date** column in hello **DimDate** table, and then release.</span></span>  
  
    <span data-ttu-id="c5427-172">Linia kropkowana wyświetleniu utworzono nieaktywne relacji między hello **Data ukończenia** kolumny w hello **FactInternetSales** tabeli i hello **data** kolumny Witaj **DimDate** tabeli.</span><span class="sxs-lookup"><span data-stu-id="c5427-172">A dotted line appears showing you have created an inactive relationship between hello **DueDate** column in hello **FactInternetSales** table, and hello **Date** column in hello **DimDate** table.</span></span> <span data-ttu-id="c5427-173">Między tabelami może istnieć wiele relacji, ale tylko jedna z nich może być aktywna w danym momencie.</span><span class="sxs-lookup"><span data-stu-id="c5427-173">You can have multiple relationships between tables, but only one relationship can be active at a time.</span></span> <span data-ttu-id="c5427-174">Nieaktywne relacje można podjąć aktywne tooperform specjalne agregacji w niestandardowych wyrażenia języka DAX.</span><span class="sxs-lookup"><span data-stu-id="c5427-174">Inactive relationships can be made active tooperform special aggregations in custom DAX expressions.</span></span>  
  
3.  <span data-ttu-id="c5427-175">Na koniec utwórz jeszcze jedną relację.</span><span class="sxs-lookup"><span data-stu-id="c5427-175">Finally, create one more relationship.</span></span> <span data-ttu-id="c5427-176">W hello **FactInternetSales** tabeli, kliknij i przytrzymaj hello **DataWysyłki** kolumny, a następnie przeciągnij hello kursora toohello **data** kolumny w hello **DimDate** tabeli, a następnie zwolnij.</span><span class="sxs-lookup"><span data-stu-id="c5427-176">In hello **FactInternetSales** table, click and hold on hello **ShipDate** column, then drag hello cursor toohello **Date** column in hello **DimDate** table, and then release.</span></span>  
    
     ![aas-lesson4-newinactive](../tutorials/media/aas-lesson4-newinactive.png)
  
## <a name="whats-next"></a><span data-ttu-id="c5427-178">Co dalej?</span><span class="sxs-lookup"><span data-stu-id="c5427-178">What's next?</span></span>
<span data-ttu-id="c5427-179">[Lekcja 5. Tworzenie kolumn obliczeniowych](../tutorials/aas-lesson-5-create-calculated-columns.md).</span><span class="sxs-lookup"><span data-stu-id="c5427-179">[Lesson 5: Create calculated columns](../tutorials/aas-lesson-5-create-calculated-columns.md).</span></span>
  
  
  
