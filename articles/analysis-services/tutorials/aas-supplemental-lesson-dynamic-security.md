---
<span data-ttu-id="8ad90-101">title: aaa "samouczek lekcji dodatkowych usług Azure Analysis Services: dynamiczne zabezpieczeń | Opis elementu Microsoft Docs": w tym artykule opisano, jak filtry toouse dynamiczne zabezpieczeń przy użyciu wiersza hello samouczka usług Azure Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="8ad90-101">title: aaa"Azure Analysis Services tutorial supplemental lesson: Dynamic security | Microsoft Docs" description: Describes how toouse dynamic security by using row filters in hello Azure Analysis Services tutorial.</span></span>
<span data-ttu-id="8ad90-102">usługi: documentationcenter usług analysis services: "Autor: minewiskan Menedżera: Edytor erikre:" tagów: "</span><span class="sxs-lookup"><span data-stu-id="8ad90-102">services: analysis-services documentationcenter: '' author: minewiskan manager: erikre editor: '' tags: ''</span></span>

<span data-ttu-id="8ad90-103">MS.AssetID: ms.service: ms.devlang usług analysis services: NA ms.topic: get-started-article ms.tgt_pltfrm: NA ms.workload: na ms.date: 05/26/2017 ms.author: owend</span><span class="sxs-lookup"><span data-stu-id="8ad90-103">ms.assetid: ms.service: analysis-services ms.devlang: NA ms.topic: get-started-article ms.tgt_pltfrm: NA ms.workload: na ms.date: 05/26/2017 ms.author: owend</span></span>
---
# <a name="supplemental-lesson---dynamic-security"></a><span data-ttu-id="8ad90-104">Lekcja uzupełniająca — zabezpieczenia dynamiczne</span><span class="sxs-lookup"><span data-stu-id="8ad90-104">Supplemental lesson - Dynamic security</span></span>

[!INCLUDE[analysis-services-appliesto-aas-sql2017-later](../../../includes/analysis-services-appliesto-aas-sql2017-later.md)]

<span data-ttu-id="8ad90-105">W tej lekcji uzupełniającej utworzysz dodatkową rolę w celu zaimplementowania zabezpieczeń dynamicznych.</span><span class="sxs-lookup"><span data-stu-id="8ad90-105">In this supplemental lesson, you create an additional role that implements dynamic security.</span></span> <span data-ttu-id="8ad90-106">Dynamiczne zabezpieczeń zapewnia oparte na powitania identyfikator użytkownika, nazwę lub nazwy logowania aktualnie zalogowanego użytkownika hello zabezpieczeń na poziomie wiersza.</span><span class="sxs-lookup"><span data-stu-id="8ad90-106">Dynamic security provides row-level security based on hello user name or login id of hello user currently logged on.</span></span> 
  
<span data-ttu-id="8ad90-107">tooimplement dynamiczne zabezpieczeń, możesz dodać modelu tooyour tabeli zawierającej nazwy użytkowników hello tych użytkowników, które można połączyć modelu toohello i Przeglądaj modelu obiektów i danych.</span><span class="sxs-lookup"><span data-stu-id="8ad90-107">tooimplement dynamic security, you add a table tooyour model containing hello user names of those users that can connect toohello model and browse model objects and data.</span></span> <span data-ttu-id="8ad90-108">model Hello, utworzone za pomocą tego samouczka jest w kontekście hello Adventure Works; jednak toocomplete to lekcja, należy dodać tabelę zawierającą użytkowników z własnej domeny.</span><span class="sxs-lookup"><span data-stu-id="8ad90-108">hello model you create using this tutorial is in hello context of Adventure Works; however, toocomplete this lesson, you must add a table containing users from your own domain.</span></span> <span data-ttu-id="8ad90-109">Nie trzeba hello hasła dla hello nazwy użytkowników, które są dodawane.</span><span class="sxs-lookup"><span data-stu-id="8ad90-109">You do not need hello passwords for hello user names that are added.</span></span> <span data-ttu-id="8ad90-110">toocreate tabelę EmployeeSecurity z małej przykładowej użytkowników z własnej domeny, funkcja hello wklejania, wklejanie danych pracowników z arkusz kalkulacyjny programu Excel.</span><span class="sxs-lookup"><span data-stu-id="8ad90-110">toocreate an EmployeeSecurity table, with a small sample of users from your own domain, you use hello Paste feature, pasting employee data from an Excel spreadsheet.</span></span> <span data-ttu-id="8ad90-111">W przypadku rzeczywistych hello tabeli zawierającej nazwy użytkowników będzie zazwyczaj tabelę z istniejącej bazy danych jako źródła danych; na przykład rzeczywistej DimEmployee tabeli.</span><span class="sxs-lookup"><span data-stu-id="8ad90-111">In a real-world scenario, hello table containing user names would typically be a table from an actual database as a data source; for example, a real DimEmployee table.</span></span>  
  
<span data-ttu-id="8ad90-112">tooimplement dynamiczne zabezpieczeń, użyj dwóch funkcji języka DAX: [funkcja USERNAME (DAX)](http://msdn.microsoft.com/22dddc4b-1648-4c89-8c93-f1151162b93f) i [funkcja LOOKUPVALUE (DAX)](http://msdn.microsoft.com/73a51c4d-131c-4c33-a139-b1342d10caab).</span><span class="sxs-lookup"><span data-stu-id="8ad90-112">tooimplement dynamic security, you use two DAX functions: [USERNAME Function (DAX)](http://msdn.microsoft.com/22dddc4b-1648-4c89-8c93-f1151162b93f) and [LOOKUPVALUE Function (DAX)](http://msdn.microsoft.com/73a51c4d-131c-4c33-a139-b1342d10caab).</span></span> <span data-ttu-id="8ad90-113">Te funkcje, zastosowane w formule filtra wierszy, są definiowane w nowej roli.</span><span class="sxs-lookup"><span data-stu-id="8ad90-113">These functions, applied in a row filter formula, are defined in a new role.</span></span> <span data-ttu-id="8ad90-114">Funkcja LOOKUPVALUE hello formuła hello określa wartość z tabeli EmployeeSecurity hello.</span><span class="sxs-lookup"><span data-stu-id="8ad90-114">By using hello LOOKUPVALUE function, hello formula specifies a value from hello EmployeeSecurity table.</span></span> <span data-ttu-id="8ad90-115">Formuła Hello następnie przekazuje, że wartość toohello USERNAME funkcji, która określa nazwę użytkownika hello zalogowanego użytkownika hello należy toothis roli.</span><span class="sxs-lookup"><span data-stu-id="8ad90-115">hello formula then passes that value toohello USERNAME function, which specifies hello user name of hello user logged on belongs toothis role.</span></span> <span data-ttu-id="8ad90-116">Witaj, użytkownik może następnie przeglądać tylko danych określoną przez rolę hello filtrów wierszy.</span><span class="sxs-lookup"><span data-stu-id="8ad90-116">hello user can then browse only data specified by hello role’s row filters.</span></span> <span data-ttu-id="8ad90-117">W tym scenariuszu należy określić, że pracownicy sprzedaży można przeglądać tylko danych sprzedaży w Internecie dla hello terytoriów sprzedaży, w których one należą do.</span><span class="sxs-lookup"><span data-stu-id="8ad90-117">In this scenario, you specify that sales employees can only browse Internet sales data for hello sales territories in which they are a member.</span></span>  
  
<span data-ttu-id="8ad90-118">Te zadania, które są unikatowe toothis scenariusza modelu tabelarycznego Adventure Works, ale nie będą zawsze miały zastosowania tooa rzeczywistych scenariuszy są określone jako takie.</span><span class="sxs-lookup"><span data-stu-id="8ad90-118">Those tasks that are unique toothis Adventure Works tabular model scenario, but would not necessarily apply tooa real-world scenario are identified as such.</span></span> <span data-ttu-id="8ad90-119">Każde zadanie zawiera dodatkowe informacje opisujące cel hello hello zadania.</span><span class="sxs-lookup"><span data-stu-id="8ad90-119">Each task includes additional information describing hello purpose of hello task.</span></span>  
  
<span data-ttu-id="8ad90-120">Szacowany czas toocomplete tej lekcji: **30 minut**</span><span class="sxs-lookup"><span data-stu-id="8ad90-120">Estimated time toocomplete this lesson: **30 minutes**</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="8ad90-121">Wymagania wstępne</span><span class="sxs-lookup"><span data-stu-id="8ad90-121">Prerequisites</span></span>  
<span data-ttu-id="8ad90-122">Ta lekcja uzupełniająca stanowi część samouczka modelowania tabelarycznego, który należy wykonać w podanej kolejności.</span><span class="sxs-lookup"><span data-stu-id="8ad90-122">This supplemental lesson topic is part of a tabular modeling tutorial, which should be completed in order.</span></span> <span data-ttu-id="8ad90-123">Przed wykonaniem zadania hello w tym uzupełniające lekcji, powinno mieć ukończone wszystkie poprzednie — lekcje.</span><span class="sxs-lookup"><span data-stu-id="8ad90-123">Before performing hello tasks in this supplemental lesson, you should have completed all previous lessons.</span></span>  
  
## <a name="add-hello-dimsalesterritory-table-toohello-aw-internet-sales-tabular-model-project"></a><span data-ttu-id="8ad90-124">Dodaj hello DimSalesTerritory tabeli toohello AW Internet sprzedaży tabelarycznym modelu projektu</span><span class="sxs-lookup"><span data-stu-id="8ad90-124">Add hello DimSalesTerritory table toohello AW Internet Sales Tabular Model Project</span></span>  
<span data-ttu-id="8ad90-125">tooimplement dynamiczne zabezpieczeń w tym scenariuszu Firma Adventure Works, należy dodać dwa dodatkowe tabele tooyour modelu.</span><span class="sxs-lookup"><span data-stu-id="8ad90-125">tooimplement dynamic security for this Adventure Works scenario, you must add two additional tables tooyour model.</span></span> <span data-ttu-id="8ad90-126">Witaj pierwszej tabeli dodawany jest DimSalesTerritory (jako obszar sprzedaży) z hello tej samej bazy danych AdventureWorksDW.</span><span class="sxs-lookup"><span data-stu-id="8ad90-126">hello first table you add is DimSalesTerritory (as Sales Territory) from hello same AdventureWorksDW database.</span></span> <span data-ttu-id="8ad90-127">Należy zastosować tabeli SalesTerritory toohello filtr wiersza, która definiuje danych hello później można przeglądać hello zalogowanego użytkownika.</span><span class="sxs-lookup"><span data-stu-id="8ad90-127">You later apply a row filter toohello SalesTerritory table that defines hello particular data hello logged on user can browse.</span></span>  
  
#### <a name="tooadd-hello-dimsalesterritory-table"></a><span data-ttu-id="8ad90-128">tooadd hello DimSalesTerritory tabeli</span><span class="sxs-lookup"><span data-stu-id="8ad90-128">tooadd hello DimSalesTerritory table</span></span>  
  
1.  <span data-ttu-id="8ad90-129">W Eksploratorze modeli tabelarycznych wybierz pozycję **Źródła danych**, kliknij prawym przyciskiem myszy połączenie, a następnie kliknij pozycję **Importuj nowe tabele**.</span><span class="sxs-lookup"><span data-stu-id="8ad90-129">In Tabular Model Explorer > **Data Sources**, right-click your connection, and then click **Import New Tables**.</span></span>  

    <span data-ttu-id="8ad90-130">Jeśli zostanie wyświetlone okno dialogowe poświadczeń personifikacji hello, wpisz poświadczenia personifikacji hello użyte Lekcja 2: Dodawanie danych.</span><span class="sxs-lookup"><span data-stu-id="8ad90-130">If hello Impersonation Credentials dialog box appears, type hello impersonation credentials you used in Lesson 2: Add Data.</span></span>
  
2.  <span data-ttu-id="8ad90-131">W Nawigatorze, wybierz hello **DimSalesTerritory** tabeli, a następnie kliknij przycisk **OK**.</span><span class="sxs-lookup"><span data-stu-id="8ad90-131">In Navigator, select hello **DimSalesTerritory** table, and then click **OK**.</span></span>    
  
3.  <span data-ttu-id="8ad90-132">W edytorze zapytań kliknij hello **DimSalesTerritory** zapytania, a następnie usuń **SalesTerritoryAlternateKey** kolumny.</span><span class="sxs-lookup"><span data-stu-id="8ad90-132">In Query Editor, click hello **DimSalesTerritory** query, and then remove **SalesTerritoryAlternateKey** column.</span></span>  
  
7.  <span data-ttu-id="8ad90-133">Kliknij przycisk **Importuj**.</span><span class="sxs-lookup"><span data-stu-id="8ad90-133">Click **Import**.</span></span>  
  
    <span data-ttu-id="8ad90-134">Nowa tabela Hello jest dodawana toohello roboczym modelu.</span><span class="sxs-lookup"><span data-stu-id="8ad90-134">hello new table is added toohello model workspace.</span></span> <span data-ttu-id="8ad90-135">Obiekty i dane z tabeli DimSalesTerritory źródła hello następnie są importowane do modelu tabelarycznego sprzedaży AW Internet.</span><span class="sxs-lookup"><span data-stu-id="8ad90-135">Objects and data from hello source DimSalesTerritory table are then imported into your AW Internet Sales Tabular Model.</span></span>  
  
9. <span data-ttu-id="8ad90-136">Po tabeli hello został pomyślnie zaimportowany, kliknij przycisk **Zamknij**.</span><span class="sxs-lookup"><span data-stu-id="8ad90-136">After hello table has been imported successfully, click **Close**.</span></span>  

## <a name="add-a-table-with-user-name-data"></a><span data-ttu-id="8ad90-137">Dodawanie tabeli z danymi dotyczącymi nazw użytkowników</span><span class="sxs-lookup"><span data-stu-id="8ad90-137">Add a table with user name data</span></span>  
<span data-ttu-id="8ad90-138">Tabela DimEmployee Hello w przykładowej bazy danych AdventureWorksDW hello zawiera użytkowników z domeny AdventureWorks hello.</span><span class="sxs-lookup"><span data-stu-id="8ad90-138">hello DimEmployee table in hello AdventureWorksDW sample database contains users from hello AdventureWorks domain.</span></span> <span data-ttu-id="8ad90-139">Te nazwy użytkowników nie istnieją w Twoim własnym środowisku.</span><span class="sxs-lookup"><span data-stu-id="8ad90-139">Those user names do not exist in your own environment.</span></span> <span data-ttu-id="8ad90-140">Należy utworzyć w modelu tabelę zawierającą małą próbkę (co najmniej trzy elementy) rzeczywistych użytkowników z Twojej organizacji.</span><span class="sxs-lookup"><span data-stu-id="8ad90-140">You must create a table in your model that contains a small sample (at least three) of actual users from your organization.</span></span> <span data-ttu-id="8ad90-141">Następnie dodaj tych użytkowników jako elementy członkowskie toohello nową rolę.</span><span class="sxs-lookup"><span data-stu-id="8ad90-141">You then add these users as members toohello new role.</span></span> <span data-ttu-id="8ad90-142">Nie trzeba hello hasła dla hello przykładowe nazwy użytkownika, ale trzeba rzeczywistej nazwy użytkowników systemu Windows z własnej domeny.</span><span class="sxs-lookup"><span data-stu-id="8ad90-142">You do not need hello passwords for hello sample user names, but you do need actual Windows user names from your own domain.</span></span>  
  
#### <a name="tooadd-an-employeesecurity-table"></a><span data-ttu-id="8ad90-143">tooadd tabeli EmployeeSecurity</span><span class="sxs-lookup"><span data-stu-id="8ad90-143">tooadd an EmployeeSecurity table</span></span>  
  
1.  <span data-ttu-id="8ad90-144">Otwórz program Microsoft Excel i utwórz arkusz.</span><span class="sxs-lookup"><span data-stu-id="8ad90-144">Open Microsoft Excel, creating a worksheet.</span></span>  
  
2.  <span data-ttu-id="8ad90-145">Hello w poniższej tabeli, w tym wierszu nagłówka hello, skopiuj i wklej go do arkusza hello.</span><span class="sxs-lookup"><span data-stu-id="8ad90-145">Copy hello following table, including hello header row, and then paste it into hello worksheet.</span></span>  

    ```
      |EmployeeId|SalesTerritoryId|FirstName|LastName|LoginId|  
      |---------------|----------------------|--------------|-------------|------------|  
      |1|2|<user first name>|<user last name>|\<domain\username>|  
      |1|3|<user first name>|<user last name>|\<domain\username>|  
      |2|4|<user first name>|<user last name>|\<domain\username>|  
      |3|5|<user first name>|<user last name>|\<domain\username>|  
    ```

3.  <span data-ttu-id="8ad90-146">Zamień na powitania imię, nazwisko i domena azwa_użytkownika hello nazwy i identyfikatory logowania trzech użytkowników w organizacji.</span><span class="sxs-lookup"><span data-stu-id="8ad90-146">Replace hello first name, last name, and domain\username with hello names and login ids of three users in your organization.</span></span> <span data-ttu-id="8ad90-147">Umieść hello jednego użytkownika na powitania pierwsze dwa wiersze, dla 1 identyfikator pracownika, przedstawiający toomore niż jeden obszar sprzedaży należy ten użytkownik.</span><span class="sxs-lookup"><span data-stu-id="8ad90-147">Put hello same user on hello first two rows, for EmployeeId 1, showing this user belongs toomore than one sales territory.</span></span> <span data-ttu-id="8ad90-148">Pozostaw pola Identyfikator pracownika i SalesTerritoryId hello są one.</span><span class="sxs-lookup"><span data-stu-id="8ad90-148">Leave hello EmployeeId and SalesTerritoryId fields as they are.</span></span>  
  
4.  <span data-ttu-id="8ad90-149">Zapisz skoroszyt hello jako **SampleEmployee**.</span><span class="sxs-lookup"><span data-stu-id="8ad90-149">Save hello worksheet as **SampleEmployee**.</span></span>  
  
5.  <span data-ttu-id="8ad90-150">W arkuszu hello, wybierz wszystkie komórki hello z danymi pracownika, włącznie z nagłówkami hello, a następnie kliknij prawym przyciskiem myszy hello wybrane dane, a następnie kliknij **kopiowania**.</span><span class="sxs-lookup"><span data-stu-id="8ad90-150">In hello worksheet, select all hello cells with employee data, including hello headers, then right-click hello selected data, and then click **Copy**.</span></span>  
  
6.  <span data-ttu-id="8ad90-151">Programu SSDT, kliknij przycisk hello **Edytuj** menu, a następnie kliknij przycisk **Wklej**.</span><span class="sxs-lookup"><span data-stu-id="8ad90-151">In SSDT, click hello **Edit** menu, and then click **Paste**.</span></span>  
  
    <span data-ttu-id="8ad90-152">Jeśli Wklej jest wyszarzone, kliknij pozycję wszystkie kolumny tabeli w oknie projektowania modelu hello i spróbuj ponownie.</span><span class="sxs-lookup"><span data-stu-id="8ad90-152">If Paste is grayed out, click any column in any table in hello model designer window, and try again.</span></span>  
  
7.  <span data-ttu-id="8ad90-153">W hello **Podgląd Wklej** okna dialogowego, **nazwy tabeli**, typ **EmployeeSecurity**.</span><span class="sxs-lookup"><span data-stu-id="8ad90-153">In hello **Paste Preview** dialog box, in **Table Name**, type **EmployeeSecurity**.</span></span>  
  
8.  <span data-ttu-id="8ad90-154">W **toobe danych wkleić**, sprawdź dane hello obejmują wszystkie dane użytkownika hello i nagłówków z hello SampleEmployee arkusza.</span><span class="sxs-lookup"><span data-stu-id="8ad90-154">In **Data toobe pasted**, verify hello data includes all hello user data and headers from hello SampleEmployee worksheet.</span></span>  
  
9. <span data-ttu-id="8ad90-155">Sprawdź, czy pole **Użyj pierwszego wiersza jako nagłówków kolumn** jest zaznaczone, a następnie kliknij przycisk **OK**.</span><span class="sxs-lookup"><span data-stu-id="8ad90-155">Verify **Use first row as column headers** is checked, and then click **Ok**.</span></span>  
  
    <span data-ttu-id="8ad90-156">Utworzono nową tabelę z danymi pracowników skopiowane z arkusza SampleEmployee hello o nazwie EmployeeSecurity.</span><span class="sxs-lookup"><span data-stu-id="8ad90-156">A new table named EmployeeSecurity with employee data copied from hello SampleEmployee worksheet is created.</span></span>  
  
## <a name="create-relationships-between-factinternetsales-dimgeography-and-dimsalesterritory-table"></a><span data-ttu-id="8ad90-157">Tworzenie relacji między tabelami FactInternetSales, DimGeography i DimSalesTerritory</span><span class="sxs-lookup"><span data-stu-id="8ad90-157">Create relationships between FactInternetSales, DimGeography, and DimSalesTerritory table</span></span>  
<span data-ttu-id="8ad90-158">Witaj wszystkich Tabela FactInternetSales, DimGeography i DimSalesTerritory zawierać wspólnej kolumny SalesTerritoryId.</span><span class="sxs-lookup"><span data-stu-id="8ad90-158">hello FactInternetSales, DimGeography, and DimSalesTerritory table all contain a common column, SalesTerritoryId.</span></span> <span data-ttu-id="8ad90-159">Witaj SalesTerritoryId kolumny w tabeli DimSalesTerritory hello zawiera wartości w inny identyfikator dla każdego obszaru sprzedaży.</span><span class="sxs-lookup"><span data-stu-id="8ad90-159">hello SalesTerritoryId column in hello DimSalesTerritory table contains values with a different Id for each sales territory.</span></span>  
  
#### <a name="toocreate-relationships-between-hello-factinternetsales-dimgeography-and-hello-dimsalesterritory-table"></a><span data-ttu-id="8ad90-160">toocreate relacje między hello FactInternetSales, DimGeography i hello DimSalesTerritory tabeli</span><span class="sxs-lookup"><span data-stu-id="8ad90-160">toocreate relationships between hello FactInternetSales, DimGeography, and hello DimSalesTerritory table</span></span>  
  
1.  <span data-ttu-id="8ad90-161">W widoku diagramu, hello **DimGeography** tabeli, kliknij i przytrzymaj hello **SalesTerritoryId** kolumny, a następnie przeciągnij hello kursora toohello **SalesTerritoryId** kolumny w hello **DimSalesTerritory** tabeli, a następnie zwolnij.</span><span class="sxs-lookup"><span data-stu-id="8ad90-161">In Diagram View, in hello **DimGeography** table, click, and hold on hello **SalesTerritoryId** column, then drag hello cursor toohello **SalesTerritoryId** column in hello **DimSalesTerritory** table, and then release.</span></span>  
  
2.  <span data-ttu-id="8ad90-162">W hello **FactInternetSales** tabeli, kliknij i przytrzymaj hello **SalesTerritoryId** kolumny, a następnie przeciągnij hello kursora toohello **SalesTerritoryId** kolumny w hello  **DimSalesTerritory** tabeli, a następnie zwolnij.</span><span class="sxs-lookup"><span data-stu-id="8ad90-162">In hello **FactInternetSales** table, click, and hold on hello **SalesTerritoryId** column, then drag hello cursor toohello **SalesTerritoryId** column in hello **DimSalesTerritory** table, and then release.</span></span>  
  
    <span data-ttu-id="8ad90-163">Powiadomienie hello Active właściwości dla tej relacji ma wartość False, co oznacza, że jest nieaktywny.</span><span class="sxs-lookup"><span data-stu-id="8ad90-163">Notice hello Active property for this relationship is False, meaning it's inactive.</span></span> <span data-ttu-id="8ad90-164">Tabela FactInternetSales Hello jest już aktywna relacja innego.</span><span class="sxs-lookup"><span data-stu-id="8ad90-164">hello FactInternetSales table already has another active relationship.</span></span>  
  
## <a name="hide-hello-employeesecurity-table-from-client-applications"></a><span data-ttu-id="8ad90-165">Ukryj hello tabeli EmployeeSecurity za pośrednictwem aplikacji klienckich</span><span class="sxs-lookup"><span data-stu-id="8ad90-165">Hide hello EmployeeSecurity Table from client applications</span></span>  
<span data-ttu-id="8ad90-166">W tym zadaniu można ukryć hello EmployeeSecurity tabeli uniemożliwienie znajdujących się w aplikacji klienckiej pola listy.</span><span class="sxs-lookup"><span data-stu-id="8ad90-166">In this task, you hide hello EmployeeSecurity table, keeping it from appearing in a client application’s field list.</span></span> <span data-ttu-id="8ad90-167">Pamiętaj, że ukrycie tabeli nie jest równoważne z jej zabezpieczeniem.</span><span class="sxs-lookup"><span data-stu-id="8ad90-167">Keep in mind that hiding a table does not secure it.</span></span> <span data-ttu-id="8ad90-168">Użytkownicy mogą nadal wyszukiwać dane w tabeli EmployeeSecurity, jeśli znają odpowiedni sposób.</span><span class="sxs-lookup"><span data-stu-id="8ad90-168">Users can still query EmployeeSecurity table data if they know how.</span></span> <span data-ttu-id="8ad90-169">toosecure hello EmployeeSecurity tabeli danych, uniemożliwia użytkownikom tooquery może być dowolną z jego danych, zastosuj filtr w późniejszym zadań.</span><span class="sxs-lookup"><span data-stu-id="8ad90-169">toosecure hello EmployeeSecurity table data, preventing users from being able tooquery any of its data, you apply a filter in a later task.</span></span>  
  
#### <a name="toohide-hello-employeesecurity-table-from-client-applications"></a><span data-ttu-id="8ad90-170">Tabela EmployeeSecurity hello toohide za pośrednictwem aplikacji klienckich</span><span class="sxs-lookup"><span data-stu-id="8ad90-170">toohide hello EmployeeSecurity table from client applications</span></span>  
  
-   <span data-ttu-id="8ad90-171">W Projektancie modeli hello, w widoku diagramu, kliknij prawym przyciskiem myszy hello **pracownika** nagłówek tabeli, a następnie kliknij przycisk **Ukryj przed narzędziami klienta**.</span><span class="sxs-lookup"><span data-stu-id="8ad90-171">In hello model designer, in Diagram View, right-click hello **Employee** table heading, and then click **Hide from Client Tools**.</span></span>  
  
## <a name="create-a-sales-employees-by-territory-user-role"></a><span data-ttu-id="8ad90-172">Tworzenie roli użytkownika Sales Employees by Territory</span><span class="sxs-lookup"><span data-stu-id="8ad90-172">Create a Sales Employees by Territory user role</span></span>  
<span data-ttu-id="8ad90-173">W tym zadaniu utworzysz rolę użytkownika.</span><span class="sxs-lookup"><span data-stu-id="8ad90-173">In this task, you create a user role.</span></span> <span data-ttu-id="8ad90-174">Ta rola obejmuje definiujący, które wiersze tabeli DimSalesTerritory hello są widoczne toousers filtr wiersza.</span><span class="sxs-lookup"><span data-stu-id="8ad90-174">This role includes a row filter defining which rows of hello DimSalesTerritory table are visible toousers.</span></span> <span data-ttu-id="8ad90-175">Hello jest następnie stosowany filtr w relacji jeden do wielu hello kierunek tooall innych tabelach pokrewnych tooDimSalesTerritory.</span><span class="sxs-lookup"><span data-stu-id="8ad90-175">hello filter is then applied in hello one-to-many relationship direction tooall other tables related tooDimSalesTerritory.</span></span> <span data-ttu-id="8ad90-176">Należy także zastosować filtr, który zabezpiecza hello całą tabelę EmployeeSecurity przed obsługą zapytań przez dowolnego użytkownika, który jest członkiem roli hello.</span><span class="sxs-lookup"><span data-stu-id="8ad90-176">You also apply a filter that secures hello entire EmployeeSecurity table from being queryable by any user that is a member of hello role.</span></span>  
  
> [!NOTE]  
> <span data-ttu-id="8ad90-177">Witaj sprzedaży pracowników przez rolę terytorium, utworzone w tej lekcji ogranicza członków toobrowse (lub zapytanie) tylko dane dotyczące sprzedaży toowhich obszaru sprzedaży hello, do których należą.</span><span class="sxs-lookup"><span data-stu-id="8ad90-177">hello Sales Employees by Territory role you create in this lesson restricts members toobrowse (or query) only sales data for hello sales territory toowhich they belong.</span></span> <span data-ttu-id="8ad90-178">Jeśli użytkownik zostanie dodany jako członek toohello sprzedaży pracowników przez rolę terytorium, który również występuje jako element członkowski w rolę utworzone w [lekcji 11: tworzenie ról](../tutorials/aas-lesson-11-create-roles.md), Pobierz kombinacja uprawnień.</span><span class="sxs-lookup"><span data-stu-id="8ad90-178">If you add a user as a member toohello Sales Employees by Territory role that also exists as a member in a role created in [Lesson 11: Create Roles](../tutorials/aas-lesson-11-create-roles.md), you get a combination of permissions.</span></span> <span data-ttu-id="8ad90-179">Gdy użytkownik jest członkiem wielu ról, uprawnienia hello i filtry wiersza zdefiniowane dla każdej roli kumulują się.</span><span class="sxs-lookup"><span data-stu-id="8ad90-179">When a user is a member of multiple roles, hello permissions, and row filters defined for each role are cumulative.</span></span> <span data-ttu-id="8ad90-180">Oznacza to hello użytkownika ma uprawnienia większa hello ustaleniami hello zestawu ról.</span><span class="sxs-lookup"><span data-stu-id="8ad90-180">That is, hello user has hello greater permissions determined by hello combination of roles.</span></span>  
  
#### <a name="toocreate-a-sales-employees-by-territory-user-role"></a><span data-ttu-id="8ad90-181">toocreate pracowników sprzedaży, przez terytorium roli użytkownika</span><span class="sxs-lookup"><span data-stu-id="8ad90-181">toocreate a Sales Employees by Territory user role</span></span>  
  
1.  <span data-ttu-id="8ad90-182">Programu SSDT, kliknij przycisk hello **modelu** menu, a następnie kliknij przycisk **ról**.</span><span class="sxs-lookup"><span data-stu-id="8ad90-182">In SSDT, click hello **Model** menu, and then click **Roles**.</span></span>  
  
2.  <span data-ttu-id="8ad90-183">W **Menedżerze ról** kliknij przycisk **Nowa**.</span><span class="sxs-lookup"><span data-stu-id="8ad90-183">In **Role Manager**, click **New**.</span></span>  
  
    <span data-ttu-id="8ad90-184">Nowa rola z hello brak uprawnienia są dodawane toohello listy.</span><span class="sxs-lookup"><span data-stu-id="8ad90-184">A new role with hello None permission is added toohello list.</span></span>  
  
3.  <span data-ttu-id="8ad90-185">Kliknij hello nową rolę, a następnie w hello **nazwa** kolumny, Zmień nazwę roli hello zbyt**pracowników sprzedaży według obszaru**.</span><span class="sxs-lookup"><span data-stu-id="8ad90-185">Click hello new role, and then in hello **Name** column, rename hello role too**Sales Employees by Territory**.</span></span>  
  
4.  <span data-ttu-id="8ad90-186">W hello **uprawnienia** kolumny, kliknij listę rozwijaną hello, a następnie wybierz hello **odczytu** uprawnienia.</span><span class="sxs-lookup"><span data-stu-id="8ad90-186">In hello **Permissions** column, click hello dropdown list, and then select hello **Read** permission.</span></span>  
  
5.  <span data-ttu-id="8ad90-187">Kliknij przycisk hello **członków** , a następnie kliknij pozycję **Dodaj**.</span><span class="sxs-lookup"><span data-stu-id="8ad90-187">Click hello **Members** tab, and then click **Add**.</span></span>  
  
6.  <span data-ttu-id="8ad90-188">W hello **Wybieranie użytkownika lub grupy** okna dialogowego, **Enter hello obiektu o nazwie tooselect**, typ hello pierwszy Przykładowa nazwa użytkownika używana podczas tworzenia tabeli EmployeeSecurity hello.</span><span class="sxs-lookup"><span data-stu-id="8ad90-188">In hello **Select User or Group** dialog box, in **Enter hello object named tooselect**, type hello first sample user name you used when creating hello EmployeeSecurity table.</span></span> <span data-ttu-id="8ad90-189">Kliknij przycisk **Sprawdź nazwy** tooverify hello użytkownika nazwa jest prawidłowa, a następnie kliknij **Ok**.</span><span class="sxs-lookup"><span data-stu-id="8ad90-189">Click **Check Names** tooverify hello user name is valid, and then click **Ok**.</span></span>  
  
    <span data-ttu-id="8ad90-190">Powtórz ten krok, dodawanie hello innych przykładowe nazwy użytkownika użytą podczas tworzenia tabeli EmployeeSecurity hello.</span><span class="sxs-lookup"><span data-stu-id="8ad90-190">Repeat this step, adding hello other sample user names you used when creating hello EmployeeSecurity table.</span></span>  
  
7.  <span data-ttu-id="8ad90-191">Kliknij przycisk hello **filtrów wierszy** kartę.</span><span class="sxs-lookup"><span data-stu-id="8ad90-191">Click hello **Row Filters** tab.</span></span>  
  
8.  <span data-ttu-id="8ad90-192">Dla hello **EmployeeSecurity** tabeli w hello **filtru DAX** kolumny, hello typu następującej formuły:</span><span class="sxs-lookup"><span data-stu-id="8ad90-192">For hello **EmployeeSecurity** table, in hello **DAX Filter** column, type hello following formula:</span></span>  
  
    ```
      =FALSE()  
    ```
  
    <span data-ttu-id="8ad90-193">W tej formule Określa, że wszystkie kolumny rozpoznać toohello false warunek typu Boolean.</span><span class="sxs-lookup"><span data-stu-id="8ad90-193">This formula specifies that all columns resolve toohello false Boolean condition.</span></span> <span data-ttu-id="8ad90-194">Brak kolumn dla tabeli EmployeeSecurity hello może przeszukiwać członkiem hello sprzedaży pracowników przez terytorium roli użytkownika.</span><span class="sxs-lookup"><span data-stu-id="8ad90-194">No columns for hello EmployeeSecurity table can be queried by a member of hello Sales Employees by Territory user role.</span></span>  
  
9. <span data-ttu-id="8ad90-195">Dla hello **DimSalesTerritory** tabeli, hello typu następującej formuły:</span><span class="sxs-lookup"><span data-stu-id="8ad90-195">For hello **DimSalesTerritory** table, type hello following formula:</span></span>  

    ```  
    ='Sales Territory'[Sales Territory Id]=LOOKUPVALUE('Employee Security'[Sales Territory Id], 
      'Employee Security'[Login Id], USERNAME(), 
      'Employee Security'[Sales Territory Id], 
      'Sales Territory'[Sales Territory Id]) 
    ```
  
    <span data-ttu-id="8ad90-196">W tej formule hello funkcja LOOKUPVALUE zwraca wszystkie wartości w kolumnie [SalesTerritoryId] DimEmployeeSecurity hello, gdzie hello EmployeeSecurity [LoginId] jest hello sam jako hello bieżący zalogowany nazwa użytkownika systemu Windows i EmployeeSecurity [ SalesTerritoryId] jest hello taki sam jak hello DimSalesTerritory [SalesTerritoryId].</span><span class="sxs-lookup"><span data-stu-id="8ad90-196">In this formula, hello LOOKUPVALUE function returns all values for hello DimEmployeeSecurity[SalesTerritoryId] column, where hello EmployeeSecurity[LoginId] is hello same as hello current logged on Windows user name, and EmployeeSecurity[SalesTerritoryId] is hello same as hello DimSalesTerritory[SalesTerritoryId].</span></span>  
  
    <span data-ttu-id="8ad90-197">Witaj zestaw zwrócony przez LOOKUPVALUE identyfikatory obszaru sprzedaży jest używane toorestrict hello wierszy w tabeli DimSalesTerritory hello.</span><span class="sxs-lookup"><span data-stu-id="8ad90-197">hello set of sales territory IDs returned by LOOKUPVALUE is then used toorestrict hello rows shown in hello DimSalesTerritory table.</span></span> <span data-ttu-id="8ad90-198">Tylko wiersze, gdzie hello SalesTerritoryID dla wiersza hello jest w zestawie hello identyfikatorów zwracane przez funkcję LOOKUPVALUE hello są wyświetlane.</span><span class="sxs-lookup"><span data-stu-id="8ad90-198">Only rows where hello SalesTerritoryID for hello row is in hello set of IDs returned by hello LOOKUPVALUE function are displayed.</span></span>  
  
10. <span data-ttu-id="8ad90-199">W obszarze Menedżer ról kliknij przycisk **OK**.</span><span class="sxs-lookup"><span data-stu-id="8ad90-199">In Role Manager, click **Ok**.</span></span>  
  
## <a name="test-hello-sales-employees-by-territory-user-role"></a><span data-ttu-id="8ad90-200">Testowanie hello sprzedaży pracowników przez terytorium roli użytkownika</span><span class="sxs-lookup"><span data-stu-id="8ad90-200">Test hello Sales Employees by Territory User Role</span></span>  
<span data-ttu-id="8ad90-201">W tym zadaniu hello analizy w programie Excel funkcji programu SSDT tootest hello skuteczności hello sprzedaży pracowników przez rolę użytkownika terytorium.</span><span class="sxs-lookup"><span data-stu-id="8ad90-201">In this task, you use hello Analyze in Excel feature in SSDT tootest hello efficacy of hello Sales Employees by Territory user role.</span></span> <span data-ttu-id="8ad90-202">Określ jedną nazw użytkowników hello dodano toohello EmployeeSecurity tabelę i jest członkiem roli hello.</span><span class="sxs-lookup"><span data-stu-id="8ad90-202">You specify one of hello user names you added toohello EmployeeSecurity table and as a member of hello role.</span></span> <span data-ttu-id="8ad90-203">Ta nazwa użytkownika jest następnie używany jako hello obowiązująca nazwa użytkownika połączenia hello między programu Excel i hello modelu.</span><span class="sxs-lookup"><span data-stu-id="8ad90-203">This user name is then used as hello effective user name in hello connection created between Excel and hello model.</span></span>  
  
#### <a name="tootest-hello-sales-employees-by-territory-user-role"></a><span data-ttu-id="8ad90-204">Witaj tootest sprzedaży pracowników przez terytorium roli użytkownika</span><span class="sxs-lookup"><span data-stu-id="8ad90-204">tootest hello Sales Employees by Territory user role</span></span>  
  
1.  <span data-ttu-id="8ad90-205">Programu SSDT, kliknij przycisk hello **modelu** menu, a następnie kliknij przycisk **analizy w programie Excel**.</span><span class="sxs-lookup"><span data-stu-id="8ad90-205">In SSDT, click hello **Model** menu, and then click **Analyze in Excel**.</span></span>  
  
2.  <span data-ttu-id="8ad90-206">W hello **analizy w programie Excel** okna dialogowego, **Określ hello użytkownika nazwę lub rolę toouse tooconnect toohello modelu**, wybierz pozycję **inny użytkownik systemu Windows**, a następnie kliknij przycisk **Przeglądaj**.</span><span class="sxs-lookup"><span data-stu-id="8ad90-206">In hello **Analyze in Excel** dialog box, in **Specify hello user name or role toouse tooconnect toohello model**, select **Other Windows User**, and then click **Browse**.</span></span>  
  
3.  <span data-ttu-id="8ad90-207">W hello **Wybieranie użytkownika lub grupy** okna dialogowego, **wprowadź tooselect nazwa obiektu hello**, wpisz nazwę użytkownika, uwzględnione w tabeli EmployeeSecurity hello, a następnie kliknij przycisk **Sprawdź nazwy**.</span><span class="sxs-lookup"><span data-stu-id="8ad90-207">In hello **Select User or Group** dialog box, in **Enter hello object name tooselect**, type a user name you included in hello EmployeeSecurity table, and then click **Check Names**.</span></span>  
  
4.  <span data-ttu-id="8ad90-208">Kliknij przycisk **Ok** tooclose hello **Wybieranie użytkownika lub grupy** , a następnie kliknij przycisk **Ok** tooclose hello **analizy w programie Excel** okno dialogowe.</span><span class="sxs-lookup"><span data-stu-id="8ad90-208">Click **Ok** tooclose hello **Select User or Group** dialog box, and then click **Ok** tooclose hello **Analyze in Excel** dialog box.</span></span>  
  
    <span data-ttu-id="8ad90-209">Zostanie otwarty nowy skoroszyt w programie Excel.</span><span class="sxs-lookup"><span data-stu-id="8ad90-209">Excel opens with a new workbook.</span></span> <span data-ttu-id="8ad90-210">Automatycznie utworzona zostanie tabela przestawna.</span><span class="sxs-lookup"><span data-stu-id="8ad90-210">A PivotTable is automatically created.</span></span> <span data-ttu-id="8ad90-211">Witaj listy pól tabeli przestawnej zawiera większość hello pól danych jest dostępne w nowym modelu.</span><span class="sxs-lookup"><span data-stu-id="8ad90-211">hello PivotTable Fields list includes most of hello data fields available in your new model.</span></span>  
  
    <span data-ttu-id="8ad90-212">Powiadomienie hello EmployeeSecurity tabeli nie jest widoczny w hello listy pól tabeli przestawnej.</span><span class="sxs-lookup"><span data-stu-id="8ad90-212">Notice hello EmployeeSecurity table is not visible in hello PivotTable Fields list.</span></span> <span data-ttu-id="8ad90-213">Ta tabela została w poprzednim zadaniu ukryta przed narzędziami klienckimi.</span><span class="sxs-lookup"><span data-stu-id="8ad90-213">You hid this table from client tools in a previous task.</span></span>  
  
5.  <span data-ttu-id="8ad90-214">W hello **pola** listy w **sprzedaży Internet ∑** (miary), wybierz opcję hello **InternetTotalSales** miary.</span><span class="sxs-lookup"><span data-stu-id="8ad90-214">In hello **Fields** list, in **∑ Internet Sales** (measures), select hello **InternetTotalSales** measure.</span></span> <span data-ttu-id="8ad90-215">Miara Hello jest wprowadzany do hello **wartości** pola.</span><span class="sxs-lookup"><span data-stu-id="8ad90-215">hello measure is entered into hello **Values** fields.</span></span>  
  
6.  <span data-ttu-id="8ad90-216">Wybierz hello **SalesTerritoryId** kolumny z hello **DimSalesTerritory** tabeli.</span><span class="sxs-lookup"><span data-stu-id="8ad90-216">Select hello **SalesTerritoryId** column from hello **DimSalesTerritory** table.</span></span> <span data-ttu-id="8ad90-217">Kolumna Hello jest wprowadzany do hello **etykiety wierszy** pola.</span><span class="sxs-lookup"><span data-stu-id="8ad90-217">hello column is entered into hello **Row Labels** fields.</span></span>  
  
    <span data-ttu-id="8ad90-218">Internet powiadomienia, wyników sprzedaży są wyświetlane tylko w przypadku hello jeden region toowhich hello obowiązująca nazwa użytkownika używanego należy.</span><span class="sxs-lookup"><span data-stu-id="8ad90-218">Notice Internet sales figures appear only for hello one region toowhich hello effective user name you used belongs.</span></span> <span data-ttu-id="8ad90-219">Jeśli wybierzesz inną kolumnę, takich jak miasto z tabeli DimGeography hello pole wiersza etykiety, miasta tylko w hello obszaru sprzedaży toowhich hello skuteczne użytkownika należy są wyświetlane.</span><span class="sxs-lookup"><span data-stu-id="8ad90-219">If you select another column, like City from hello DimGeography table as Row Label field, only cities in hello sales territory toowhich hello effective user belongs are displayed.</span></span>  
  
    <span data-ttu-id="8ad90-220">Tego użytkownika nie może przejrzeć lub wszelkich danych sprzedaży Internet terytoriów innych niż hello jedną należą one do zapytania.</span><span class="sxs-lookup"><span data-stu-id="8ad90-220">This user cannot browse or query any Internet sales data for territories other than hello one they belong to.</span></span> <span data-ttu-id="8ad90-221">Jest to ograniczenie, ponieważ hello filtr wiersza zdefiniowane dla tabeli DimSalesTerritory hello, w hello sprzedaży pracowników przez rolę użytkownika terytorium zabezpiecza dane dla wszystkich danych powiązanych tooother terytoriów sprzedaży.</span><span class="sxs-lookup"><span data-stu-id="8ad90-221">This restriction is because hello row filter defined for hello DimSalesTerritory table, in hello Sales Employees by Territory user role, secures data for all data related tooother sales territories.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="8ad90-222">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="8ad90-222">See Also</span></span>  
[<span data-ttu-id="8ad90-223">Funkcja USERNAME (DAX)</span><span class="sxs-lookup"><span data-stu-id="8ad90-223">USERNAME Function (DAX)</span></span>](https://msdn.microsoft.com/library/hh230954.aspx)  
[<span data-ttu-id="8ad90-224">Funkcja LOOKUPVALUE (DAX)</span><span class="sxs-lookup"><span data-stu-id="8ad90-224">LOOKUPVALUE Function (DAX)</span></span>](https://msdn.microsoft.com/library/gg492170.aspx)  
[<span data-ttu-id="8ad90-225">Funkcja CUSTOMDATA (DAX)</span><span class="sxs-lookup"><span data-stu-id="8ad90-225">CUSTOMDATA Function (DAX)</span></span>](https://msdn.microsoft.com/library/hh213140.aspx)  