---
title: "Przy użyciu regresji liniowej w uczeniu maszynowym | Dokumentacja firmy Microsoft"
description: "Porównanie modeli regresji liniowej w programie Excel, jak i w usłudze Azure Machine Learning Studio"
metakeywords: 
services: machine-learning
documentationcenter: 
author: garyericson
manager: jhubbard
editor: cgronlun
ms.assetid: 417ae6ab-de4f-4bdd-957a-d96133234656
ms.service: machine-learning
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 03/20/2017
ms.author: kbaroni;garye
ms.openlocfilehash: 7feb5d62415850e66f8eb7e22b9ada0d25a7058e
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 07/11/2017
---
# <a name="using-linear-regression-in-azure-machine-learning"></a><span data-ttu-id="2cd25-103">Używanie regresji liniowej w usłudze Azure Machine Learning</span><span class="sxs-lookup"><span data-stu-id="2cd25-103">Using linear regression in Azure Machine Learning</span></span>
> <span data-ttu-id="2cd25-104">*Kate Baroni* i *Ben Boatman* są architekci rozwiązań w firmy Microsoft danych usługi Insights centrum doskonałości przedsiębiorstwa.</span><span class="sxs-lookup"><span data-stu-id="2cd25-104">*Kate Baroni* and *Ben Boatman* are enterprise solution architects in Microsoft’s Data Insights Center of Excellence.</span></span> <span data-ttu-id="2cd25-105">W tym artykule opisano w nich ich obsługi migracji na istniejący pakiet analizy regresji rozwiązanie oparte na chmurze za pomocą usługi Azure Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="2cd25-105">In this article, they describe their experience migrating an existing regression analysis suite to a cloud-based solution using Azure Machine Learning.</span></span> 
> 
> 

&nbsp; 

[!INCLUDE [machine-learning-free-trial](../../includes/machine-learning-free-trial.md)]

## <a name="goal"></a><span data-ttu-id="2cd25-106">Cel</span><span class="sxs-lookup"><span data-stu-id="2cd25-106">Goal</span></span>
<span data-ttu-id="2cd25-107">Nasze projektu wprowadzenie do dwóch celów pamiętać:</span><span class="sxs-lookup"><span data-stu-id="2cd25-107">Our project started with two goals in mind:</span></span> 

1. <span data-ttu-id="2cd25-108">Za pomocą analizy predykcyjnej zwiększyć dokładność naszej organizacji miesięczne projekcje przychodu</span><span class="sxs-lookup"><span data-stu-id="2cd25-108">Use predictive analytics to improve the accuracy of our organization’s monthly revenue projections</span></span> 
2. <span data-ttu-id="2cd25-109">Za pomocą usługi Azure Machine Learning upewnij się, optymalizacja, zwiększyć szybkość pracy i skali naszych wyników.</span><span class="sxs-lookup"><span data-stu-id="2cd25-109">Use Azure Machine Learning to confirm, optimize, increase velocity, and scale of our results.</span></span> 

<span data-ttu-id="2cd25-110">Jak wiele firm naszej organizacji przechodzi przez miesięczne przychodów, funkcja prognozowania procesu.</span><span class="sxs-lookup"><span data-stu-id="2cd25-110">Like many businesses, our organization goes through a monthly revenue forecasting process.</span></span> <span data-ttu-id="2cd25-111">Mały zespół analitycy biznesowi został zlecił mu przy użyciu usługi Azure Machine Learning wspomagające proces i zwiększenia dokładności prognozy.</span><span class="sxs-lookup"><span data-stu-id="2cd25-111">Our small team of business analysts was tasked with using Azure Machine Learning to support the process and improve forecast accuracy.</span></span> <span data-ttu-id="2cd25-112">Zespół przeznaczonego kilka miesięcy zbieranie danych z wielu źródeł i uruchamianie atrybuty danych za pomocą klucza dotyczy usługi sprzedaży prognozowania atrybutów identyfikacyjnych analizy statystycznej.</span><span class="sxs-lookup"><span data-stu-id="2cd25-112">The team spent several months collecting data from multiple sources and running the data attributes through statistical analysis identifying key attributes relevant to services sales forecasting.</span></span> <span data-ttu-id="2cd25-113">Następnym krokiem jest aby rozpocząć tworzenie prototypów statystyczne regresji modeli danych w programie Excel.</span><span class="sxs-lookup"><span data-stu-id="2cd25-113">The next step was to begin prototyping statistical regression models on the data in Excel.</span></span> <span data-ttu-id="2cd25-114">W ciągu kilku tygodni było Excel model regresji, który został outperforming bieżące pole i finance procesy prognozowania.</span><span class="sxs-lookup"><span data-stu-id="2cd25-114">Within a few weeks, we had an Excel regression model that was outperforming the current field and finance forecasting processes.</span></span> <span data-ttu-id="2cd25-115">To stała się wynik prognozowania linii bazowej.</span><span class="sxs-lookup"><span data-stu-id="2cd25-115">This became the baseline prediction result.</span></span> 

<span data-ttu-id="2cd25-116">Następnie Wybraliśmy następnego kroku przenoszenia naszych analizy predykcyjnej za pośrednictwem usługi Azure Machine Learning, aby dowiedzieć się, jak uczenia maszynowego można ulepszyć na wydajność predykcyjnej.</span><span class="sxs-lookup"><span data-stu-id="2cd25-116">We then took the next step to moving our predictive analytics over to Azure Machine Learning to find out how Machine Learning could improve on predictive performance.</span></span>

## <a name="achieving-predictive-performance-parity"></a><span data-ttu-id="2cd25-117">Obsługiwanie parzystości predykcyjnej wydajności</span><span class="sxs-lookup"><span data-stu-id="2cd25-117">Achieving predictive performance parity</span></span>
<span data-ttu-id="2cd25-118">Nasze priorytet było osiągnięcia parzystości między modelami regresji uczenia maszynowego i Excel.</span><span class="sxs-lookup"><span data-stu-id="2cd25-118">Our first priority was to achieve parity between Machine Learning and Excel regression models.</span></span> <span data-ttu-id="2cd25-119">Dla celów szkoleniowych i testów danych, biorąc pod uwagę tych samych danych, a ten sam podział, możemy osiągnięcia parzystości predykcyjnej wydajności pomiędzy programami Excel i uczenia maszynowego.</span><span class="sxs-lookup"><span data-stu-id="2cd25-119">Given the same data, and the same split for training and testing data, we wanted to achieve predictive performance parity between Excel and Machine Learning.</span></span> <span data-ttu-id="2cd25-120">Początkowo firma Microsoft nie powiodło się.</span><span class="sxs-lookup"><span data-stu-id="2cd25-120">Initially we failed.</span></span> <span data-ttu-id="2cd25-121">Model programu Excel outperformed modelu uczenia maszynowego.</span><span class="sxs-lookup"><span data-stu-id="2cd25-121">The Excel model outperformed the Machine Learning model.</span></span> <span data-ttu-id="2cd25-122">Błąd: ze względu na brak opis ustawienia podstawowego narzędzia w uczeniu maszynowym.</span><span class="sxs-lookup"><span data-stu-id="2cd25-122">The failure was due to a lack of understanding of the base tool setting in Machine Learning.</span></span> <span data-ttu-id="2cd25-123">Po zakończeniu synchronizacji z zespół produktu usługi Machine Learning możemy zdobytych lepiej zrozumieć base ustawienia wymagane dla naszych zestawów danych i osiągnięte parzystości między dwa modele.</span><span class="sxs-lookup"><span data-stu-id="2cd25-123">After a sync with the Machine Learning product team, we gained a better understanding of the base setting required for our data sets, and achieved parity between the two models.</span></span> 

### <a name="create-regression-model-in-excel"></a><span data-ttu-id="2cd25-124">Utwórz model regresji w programie Excel</span><span class="sxs-lookup"><span data-stu-id="2cd25-124">Create regression model in Excel</span></span>
<span data-ttu-id="2cd25-125">Nasze regresji Excel używane modelu regresji liniowej standardowe znalezione w pakiecie programu Excel Analysis ToolPak.</span><span class="sxs-lookup"><span data-stu-id="2cd25-125">Our Excel Regression used the standard linear regression model found in the Excel Analysis ToolPak.</span></span> 

<span data-ttu-id="2cd25-126">Firma Microsoft obliczana *średniej % bezwzględny błąd* i używać go jako miara wydajności dla modelu.</span><span class="sxs-lookup"><span data-stu-id="2cd25-126">We calculated *Mean Absolute % Error* and used it as the performance measure for the model.</span></span> <span data-ttu-id="2cd25-127">Zajęło 3 miesiące, na model pracy, przy użyciu programu Excel.</span><span class="sxs-lookup"><span data-stu-id="2cd25-127">It took 3 months to arrive at a working model using Excel.</span></span> <span data-ttu-id="2cd25-128">Firma Microsoft wprowadzane większość uczenia do eksperymentu Machine Learning Studio, co ostatecznie było korzystne w opis wymagań.</span><span class="sxs-lookup"><span data-stu-id="2cd25-128">We brought much of the learning into the Machine Learning Studio experiment which ultimately was beneficial in understanding requirements.</span></span>

### <a name="create-comparable-experiment-in-azure-machine-learning"></a><span data-ttu-id="2cd25-129">Tworzenie porównywalnych eksperymentu w usłudze Azure Machine Learning</span><span class="sxs-lookup"><span data-stu-id="2cd25-129">Create comparable experiment in Azure Machine Learning</span></span>
<span data-ttu-id="2cd25-130">Możemy wykonać te kroki, aby utworzyć naszych eksperymentu w usłudze Machine Learning Studio:</span><span class="sxs-lookup"><span data-stu-id="2cd25-130">We followed these steps to create our experiment in Machine Learning Studio:</span></span> 

1. <span data-ttu-id="2cd25-131">Przekazany zestawu danych jako plik csv do usługi Machine Learning Studio (bardzo mały plik)</span><span class="sxs-lookup"><span data-stu-id="2cd25-131">Uploaded the dataset as a csv file to Machine Learning Studio (very small file)</span></span>
2. <span data-ttu-id="2cd25-132">Utworzony nowy eksperyment i [Select Columns in Dataset] [ select-columns] modułu, aby wybrać te same funkcje danych używany w programie Excel</span><span class="sxs-lookup"><span data-stu-id="2cd25-132">Created a new experiment and used the [Select Columns in Dataset][select-columns] module to select the same data features used in Excel</span></span> 
3. <span data-ttu-id="2cd25-133">Używane [podziału danych] [ split] modułu (z *wyrażenia względne* tryb) do dzielenia danych na tym samym zestawów danych szkoleniowych, podobnie jak w programie Excel</span><span class="sxs-lookup"><span data-stu-id="2cd25-133">Used the [Split Data][split] module (with *Relative Expression* mode) to divide the data into the same training datasets as had been done in Excel</span></span> 
4. <span data-ttu-id="2cd25-134">Badawcze, mające z [regresji liniowej] [ linear-regression] modułu (tylko opcje domyślne), udokumentowane i porównać wyniki w modelu regresji programu Excel</span><span class="sxs-lookup"><span data-stu-id="2cd25-134">Experimented with the [Linear Regression][linear-regression] module (default options only), documented, and compared the results to our Excel regression model</span></span>

### <a name="review-initial-results"></a><span data-ttu-id="2cd25-135">Przejrzyj wyniki początkowej</span><span class="sxs-lookup"><span data-stu-id="2cd25-135">Review initial results</span></span>
<span data-ttu-id="2cd25-136">Na początku model programu Excel wyraźnie outperformed modelu usługi Machine Learning Studio:</span><span class="sxs-lookup"><span data-stu-id="2cd25-136">At first, the Excel model clearly outperformed the Machine Learning Studio model:</span></span> 

|  | <span data-ttu-id="2cd25-137">Excel</span><span class="sxs-lookup"><span data-stu-id="2cd25-137">Excel</span></span> | <span data-ttu-id="2cd25-138">Studio</span><span class="sxs-lookup"><span data-stu-id="2cd25-138">Studio</span></span> |
| --- |:---:|:---:|
| <span data-ttu-id="2cd25-139">Wydajność</span><span class="sxs-lookup"><span data-stu-id="2cd25-139">Performance</span></span> | | |
| <ul style="list-style-type: none;"><li><span data-ttu-id="2cd25-140">Dostosowana R-kwadrat</span><span class="sxs-lookup"><span data-stu-id="2cd25-140">Adjusted R Square</span></span></li></ul> |<span data-ttu-id="2cd25-141">0.96</span><span class="sxs-lookup"><span data-stu-id="2cd25-141">0.96</span></span> |<span data-ttu-id="2cd25-142">Nie dotyczy</span><span class="sxs-lookup"><span data-stu-id="2cd25-142">N/A</span></span> |
| <ul style="list-style-type: none;"><li><span data-ttu-id="2cd25-143">Współczynnik</span><span class="sxs-lookup"><span data-stu-id="2cd25-143">Coefficient of</span></span> <br /><span data-ttu-id="2cd25-144">Oznaczanie</span><span class="sxs-lookup"><span data-stu-id="2cd25-144">Determination</span></span></li></ul> |<span data-ttu-id="2cd25-145">Nie dotyczy</span><span class="sxs-lookup"><span data-stu-id="2cd25-145">N/A</span></span> |<span data-ttu-id="2cd25-146">0.78</span><span class="sxs-lookup"><span data-stu-id="2cd25-146">0.78</span></span><br /><span data-ttu-id="2cd25-147">(dokładność niski)</span><span class="sxs-lookup"><span data-stu-id="2cd25-147">(low accuracy)</span></span> |
| <span data-ttu-id="2cd25-148">Oznacza błąd absolutny</span><span class="sxs-lookup"><span data-stu-id="2cd25-148">Mean Absolute Error</span></span> |<span data-ttu-id="2cd25-149">$9. 5M</span><span class="sxs-lookup"><span data-stu-id="2cd25-149">$9.5M</span></span> |<span data-ttu-id="2cd25-150">$ 19.4 M</span><span class="sxs-lookup"><span data-stu-id="2cd25-150">$ 19.4M</span></span> |
| <span data-ttu-id="2cd25-151">Oznacza błąd absolutny (%)</span><span class="sxs-lookup"><span data-stu-id="2cd25-151">Mean Absolute Error (%)</span></span> |<span data-ttu-id="2cd25-152">6.03%</span><span class="sxs-lookup"><span data-stu-id="2cd25-152">6.03%</span></span> |<span data-ttu-id="2cd25-153">12.2%</span><span class="sxs-lookup"><span data-stu-id="2cd25-153">12.2%</span></span> |

<span data-ttu-id="2cd25-154">Wystąpił naszych procesu i wyniki przez programistów i analityków danych na zespół usługi Machine Learning, one szybko udostępniane niektóre przydatne porady.</span><span class="sxs-lookup"><span data-stu-id="2cd25-154">When we ran our process and results by the developers and data scientists on the Machine Learning team, they quickly provided some useful tips.</span></span> 

* <span data-ttu-id="2cd25-155">Jeśli używasz [regresji liniowej] [ linear-regression] modułu w usłudze Machine Learning Studio, znajdują się dwie metody:</span><span class="sxs-lookup"><span data-stu-id="2cd25-155">When you use the [Linear Regression][linear-regression] module in Machine Learning Studio, two methods are provided:</span></span>
  * <span data-ttu-id="2cd25-156">Spadku gradientu online: Bardziej odpowiednie dla dużą skalę problemów może być</span><span class="sxs-lookup"><span data-stu-id="2cd25-156">Online Gradient Descent: May be more suitable for larger-scale problems</span></span>
  * <span data-ttu-id="2cd25-157">Zwykłej najmniejszych kwadratów: Jest to metoda większość osób postrzega podczas ich usłyszeć regresji liniowej.</span><span class="sxs-lookup"><span data-stu-id="2cd25-157">Ordinary Least Squares: This is the method most people think of when they hear linear regression.</span></span> <span data-ttu-id="2cd25-158">W przypadku małych zestawów danych zwykłej najmniejszych kwadratów może być bardziej optymalnym wyborem.</span><span class="sxs-lookup"><span data-stu-id="2cd25-158">For small datasets, Ordinary Least Squares can be a more optimal choice.</span></span>
* <span data-ttu-id="2cd25-159">Należy rozważyć Dostosowywanie parametr wagi uregulowania L2 w celu zwiększenia wydajności.</span><span class="sxs-lookup"><span data-stu-id="2cd25-159">Consider tweaking the L2 Regularization Weight parameter to improve performance.</span></span> <span data-ttu-id="2cd25-160">Ustawiana 0,001 domyślnie, ale dla naszych niewielki zestaw danych możemy ustawić ją na 0,005 w celu zwiększenia wydajności.</span><span class="sxs-lookup"><span data-stu-id="2cd25-160">It is set to 0.001 by default, but for our small data set we set it to 0.005 to improve performance.</span></span> 

### <a name="mystery-solved"></a><span data-ttu-id="2cd25-161">Taki rozwiązanie!</span><span class="sxs-lookup"><span data-stu-id="2cd25-161">Mystery solved!</span></span>
<span data-ttu-id="2cd25-162">Stosowania zaleceń, firma Microsoft uzyskuje do linii bazowej wydajności w usłudze Machine Learning Studio jako przy użyciu programu Excel:</span><span class="sxs-lookup"><span data-stu-id="2cd25-162">When we applied the recommendations, we achieved the same baseline performance in Machine Learning Studio as with Excel:</span></span> 

|  | <span data-ttu-id="2cd25-163">Excel</span><span class="sxs-lookup"><span data-stu-id="2cd25-163">Excel</span></span> | <span data-ttu-id="2cd25-164">Studio (początkowego)</span><span class="sxs-lookup"><span data-stu-id="2cd25-164">Studio (Initial)</span></span> | <span data-ttu-id="2cd25-165">Studio z najmniejszych kwadratów</span><span class="sxs-lookup"><span data-stu-id="2cd25-165">Studio w/ Least Squares</span></span> |
| --- |:---:|:---:|:---:|
| <span data-ttu-id="2cd25-166">Wartość etykietą</span><span class="sxs-lookup"><span data-stu-id="2cd25-166">Labeled value</span></span> |<span data-ttu-id="2cd25-167">Rzeczywiste (numeryczne)</span><span class="sxs-lookup"><span data-stu-id="2cd25-167">Actuals (numeric)</span></span> |<span data-ttu-id="2cd25-168">tym samym</span><span class="sxs-lookup"><span data-stu-id="2cd25-168">same</span></span> |<span data-ttu-id="2cd25-169">tym samym</span><span class="sxs-lookup"><span data-stu-id="2cd25-169">same</span></span> |
| <span data-ttu-id="2cd25-170">Uczeń</span><span class="sxs-lookup"><span data-stu-id="2cd25-170">Learner</span></span> |<span data-ttu-id="2cd25-171">Excel -> dane analizy -> regresji</span><span class="sxs-lookup"><span data-stu-id="2cd25-171">Excel -> Data Analysis -> Regression</span></span> |<span data-ttu-id="2cd25-172">Regresji liniowej.</span><span class="sxs-lookup"><span data-stu-id="2cd25-172">Linear Regression.</span></span> |<span data-ttu-id="2cd25-173">Regresja liniowa</span><span class="sxs-lookup"><span data-stu-id="2cd25-173">Linear Regression</span></span> |
| <span data-ttu-id="2cd25-174">Opcje uczeń</span><span class="sxs-lookup"><span data-stu-id="2cd25-174">Learner options</span></span> |<span data-ttu-id="2cd25-175">Nie dotyczy</span><span class="sxs-lookup"><span data-stu-id="2cd25-175">N/A</span></span> |<span data-ttu-id="2cd25-176">Wartości domyślne</span><span class="sxs-lookup"><span data-stu-id="2cd25-176">Defaults</span></span> |<span data-ttu-id="2cd25-177">zwykłe najmniejszych kwadratów</span><span class="sxs-lookup"><span data-stu-id="2cd25-177">ordinary least squares</span></span><br /><span data-ttu-id="2cd25-178">L2 = 0,005</span><span class="sxs-lookup"><span data-stu-id="2cd25-178">L2 = 0.005</span></span> |
| <span data-ttu-id="2cd25-179">Zestaw danych</span><span class="sxs-lookup"><span data-stu-id="2cd25-179">Data Set</span></span> |<span data-ttu-id="2cd25-180">26 wierszy, funkcje 3, 1 etykiety.</span><span class="sxs-lookup"><span data-stu-id="2cd25-180">26 rows, 3 features, 1 label.</span></span> <span data-ttu-id="2cd25-181">Wszystkie liczbowe.</span><span class="sxs-lookup"><span data-stu-id="2cd25-181">All numeric.</span></span> |<span data-ttu-id="2cd25-182">tym samym</span><span class="sxs-lookup"><span data-stu-id="2cd25-182">same</span></span> |<span data-ttu-id="2cd25-183">tym samym</span><span class="sxs-lookup"><span data-stu-id="2cd25-183">same</span></span> |
| <span data-ttu-id="2cd25-184">Podziel: pociągu</span><span class="sxs-lookup"><span data-stu-id="2cd25-184">Split: Train</span></span> |<span data-ttu-id="2cd25-185">Excel ćwiczenie najpierw 18 wierszy, przetestowane na ostatnie 8 wierszy.</span><span class="sxs-lookup"><span data-stu-id="2cd25-185">Excel trained on the first 18 rows, tested on the last 8 rows.</span></span> |<span data-ttu-id="2cd25-186">tym samym</span><span class="sxs-lookup"><span data-stu-id="2cd25-186">same</span></span> |<span data-ttu-id="2cd25-187">tym samym</span><span class="sxs-lookup"><span data-stu-id="2cd25-187">same</span></span> |
| <span data-ttu-id="2cd25-188">Podziel: testu</span><span class="sxs-lookup"><span data-stu-id="2cd25-188">Split: Test</span></span> |<span data-ttu-id="2cd25-189">Formuła regresji stosowany do wierszy ostatnie 8 w programie Excel</span><span class="sxs-lookup"><span data-stu-id="2cd25-189">Excel regression formula applied to the last 8 rows</span></span> |<span data-ttu-id="2cd25-190">tym samym</span><span class="sxs-lookup"><span data-stu-id="2cd25-190">same</span></span> |<span data-ttu-id="2cd25-191">tym samym</span><span class="sxs-lookup"><span data-stu-id="2cd25-191">same</span></span> |
| <span data-ttu-id="2cd25-192">**Wydajność**</span><span class="sxs-lookup"><span data-stu-id="2cd25-192">**Performance**</span></span> | | | |
| <span data-ttu-id="2cd25-193">Dostosowana R-kwadrat</span><span class="sxs-lookup"><span data-stu-id="2cd25-193">Adjusted R Square</span></span> |<span data-ttu-id="2cd25-194">0.96</span><span class="sxs-lookup"><span data-stu-id="2cd25-194">0.96</span></span> |<span data-ttu-id="2cd25-195">Nie dotyczy</span><span class="sxs-lookup"><span data-stu-id="2cd25-195">N/A</span></span> | |
| <span data-ttu-id="2cd25-196">Współczynnik determinacji</span><span class="sxs-lookup"><span data-stu-id="2cd25-196">Coefficient of Determination</span></span> |<span data-ttu-id="2cd25-197">Nie dotyczy</span><span class="sxs-lookup"><span data-stu-id="2cd25-197">N/A</span></span> |<span data-ttu-id="2cd25-198">0.78</span><span class="sxs-lookup"><span data-stu-id="2cd25-198">0.78</span></span> |<span data-ttu-id="2cd25-199">0.952049</span><span class="sxs-lookup"><span data-stu-id="2cd25-199">0.952049</span></span> |
| <span data-ttu-id="2cd25-200">Oznacza błąd absolutny</span><span class="sxs-lookup"><span data-stu-id="2cd25-200">Mean Absolute Error</span></span> |<span data-ttu-id="2cd25-201">$9. 5M</span><span class="sxs-lookup"><span data-stu-id="2cd25-201">$9.5M</span></span> |<span data-ttu-id="2cd25-202">$ 19.4 M</span><span class="sxs-lookup"><span data-stu-id="2cd25-202">$ 19.4M</span></span> |<span data-ttu-id="2cd25-203">$9. 5M</span><span class="sxs-lookup"><span data-stu-id="2cd25-203">$9.5M</span></span> |
| <span data-ttu-id="2cd25-204">Oznacza błąd absolutny (%)</span><span class="sxs-lookup"><span data-stu-id="2cd25-204">Mean Absolute Error (%)</span></span> |<span data-ttu-id="2cd25-205"><span style="background-color: 00FF00;"> 6.03%</span></span><span class="sxs-lookup"><span data-stu-id="2cd25-205"><span style="background-color: 00FF00;"> 6.03%</span></span></span> |<span data-ttu-id="2cd25-206">12.2%</span><span class="sxs-lookup"><span data-stu-id="2cd25-206">12.2%</span></span> |<span data-ttu-id="2cd25-207"><span style="background-color: 00FF00;"> 6.03%</span></span><span class="sxs-lookup"><span data-stu-id="2cd25-207"><span style="background-color: 00FF00;"> 6.03%</span></span></span> |

<span data-ttu-id="2cd25-208">Ponadto współczynników programu Excel w porównaniu do obciążenia funkcji w Azure trenowanego modelu:</span><span class="sxs-lookup"><span data-stu-id="2cd25-208">In addition, the Excel coefficients compared well to the feature weights in the Azure trained model:</span></span>

|  | <span data-ttu-id="2cd25-209">Współczynniki programu Excel</span><span class="sxs-lookup"><span data-stu-id="2cd25-209">Excel Coefficients</span></span> | <span data-ttu-id="2cd25-210">Wagi funkcji platformy Azure</span><span class="sxs-lookup"><span data-stu-id="2cd25-210">Azure Feature Weights</span></span> |
| --- |:---:|:---:|
| <span data-ttu-id="2cd25-211">ODCIĘTA/odchylenia</span><span class="sxs-lookup"><span data-stu-id="2cd25-211">Intercept/Bias</span></span> |<span data-ttu-id="2cd25-212">19470209.88</span><span class="sxs-lookup"><span data-stu-id="2cd25-212">19470209.88</span></span> |<span data-ttu-id="2cd25-213">19328500</span><span class="sxs-lookup"><span data-stu-id="2cd25-213">19328500</span></span> |
| <span data-ttu-id="2cd25-214">Funkcja A programu</span><span class="sxs-lookup"><span data-stu-id="2cd25-214">Feature A</span></span> |<span data-ttu-id="2cd25-215">0.832653063</span><span class="sxs-lookup"><span data-stu-id="2cd25-215">0.832653063</span></span> |<span data-ttu-id="2cd25-216">0.834156</span><span class="sxs-lookup"><span data-stu-id="2cd25-216">0.834156</span></span> |
| <span data-ttu-id="2cd25-217">Funkcja B</span><span class="sxs-lookup"><span data-stu-id="2cd25-217">Feature B</span></span> |<span data-ttu-id="2cd25-218">11071967.08</span><span class="sxs-lookup"><span data-stu-id="2cd25-218">11071967.08</span></span> |<span data-ttu-id="2cd25-219">11007300</span><span class="sxs-lookup"><span data-stu-id="2cd25-219">11007300</span></span> |
| <span data-ttu-id="2cd25-220">Funkcja C</span><span class="sxs-lookup"><span data-stu-id="2cd25-220">Feature C</span></span> |<span data-ttu-id="2cd25-221">25383318.09</span><span class="sxs-lookup"><span data-stu-id="2cd25-221">25383318.09</span></span> |<span data-ttu-id="2cd25-222">25140800</span><span class="sxs-lookup"><span data-stu-id="2cd25-222">25140800</span></span> |

## <a name="next-steps"></a><span data-ttu-id="2cd25-223">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="2cd25-223">Next Steps</span></span>
<span data-ttu-id="2cd25-224">Możemy korzystać z usługi sieci web uczenie maszynowe programu Excel.</span><span class="sxs-lookup"><span data-stu-id="2cd25-224">We wanted to consume the Machine Learning web service within Excel.</span></span> <span data-ttu-id="2cd25-225">Nasze analitycy biznesowi zależne od programu Excel i niezbędna sposób wywoływania usługi sieci web usługi Machine Learning z wierszem danych programu Microsoft Excel i zwracać wartości prognozowanej do programu Excel.</span><span class="sxs-lookup"><span data-stu-id="2cd25-225">Our business analysts rely on Excel and we needed a way to call the Machine Learning web service with a row of Excel data and have it return the predicted value to Excel.</span></span> 

<span data-ttu-id="2cd25-226">Firma Microsoft również chciała zoptymalizować nasz model przy użyciu opcji i algorytmy dostępne w usłudze Machine Learning Studio.</span><span class="sxs-lookup"><span data-stu-id="2cd25-226">We also wanted to optimize our model, using the options and algorithms available in Machine Learning Studio.</span></span>

### <a name="integration-with-excel"></a><span data-ttu-id="2cd25-227">Integracja z programem Excel</span><span class="sxs-lookup"><span data-stu-id="2cd25-227">Integration with Excel</span></span>
<span data-ttu-id="2cd25-228">Nasze rozwiązanie było operacjonalizacji nasz model regresji uczenia maszynowego, tworząc usługi sieci web z trenowanego modelu.</span><span class="sxs-lookup"><span data-stu-id="2cd25-228">Our solution was to operationalize our Machine Learning regression model by creating a web service from the trained model.</span></span> <span data-ttu-id="2cd25-229">W ciągu kilku minut Usługa sieci web została utworzona i może nazywamy go bezpośrednio z programu Excel w celu zwrócenia wartości prognozowanej przychodu.</span><span class="sxs-lookup"><span data-stu-id="2cd25-229">Within a few minutes, the web service was created and we could call it directly from Excel to return a predicted revenue value.</span></span> 

<span data-ttu-id="2cd25-230">*Pulpitu nawigacyjnego usług sieci Web* znajdują się w skoroszycie programu Excel do pobrania.</span><span class="sxs-lookup"><span data-stu-id="2cd25-230">The *Web Services Dashboard* section includes a downloadable Excel workbook.</span></span> <span data-ttu-id="2cd25-231">Skoroszyt zawiera wstępnie sformatowane informacje interfejsu API i schematów usługi sieci web osadzone.</span><span class="sxs-lookup"><span data-stu-id="2cd25-231">The workbook comes pre-formatted with the web service API and schema information embedded.</span></span> <span data-ttu-id="2cd25-232">Po kliknięciu *Pobierz skoroszyt programu Excel*, zostanie otwarty skoroszyt i zapisaniu go na komputerze lokalnym.</span><span class="sxs-lookup"><span data-stu-id="2cd25-232">When you click *Download Excel Workbook*, the workbook opens and you can save it to your local computer.</span></span> 

![][1]

<span data-ttu-id="2cd25-233">W skoroszycie, otwórz skopiuj wstępnie zdefiniowane parametry do niebieski sekcji parametru, jak pokazano poniżej.</span><span class="sxs-lookup"><span data-stu-id="2cd25-233">With the workbook open, copy your predefined parameters into the blue Parameter section as shown below.</span></span> <span data-ttu-id="2cd25-234">Po wprowadzeniu parametry Excel uwidacznia z usługą sieci web uczenie maszynowe i przewidywane etykiety scored będą wyświetlane w sekcji zielony przewidywane wartości.</span><span class="sxs-lookup"><span data-stu-id="2cd25-234">Once the parameters are entered, Excel calls out to the Machine Learning web service and the predicted scored labels will display in the green Predicted Values section.</span></span> <span data-ttu-id="2cd25-235">Skoroszyt będą w dalszym ciągu tworzenia prognoz dotyczących parametrów na podstawie uczonego modelu dla wszystkich elementów wiersza objęte parametrów.</span><span class="sxs-lookup"><span data-stu-id="2cd25-235">The workbook will continue to create predictions for parameters based on your trained model for all row items entered under Parameters.</span></span> <span data-ttu-id="2cd25-236">Aby uzyskać więcej informacji na temat korzystania z tej funkcji, zobacz [konsumowania usługi sieci Web Azure Machine Learning z programu Excel](machine-learning-consuming-from-excel.md).</span><span class="sxs-lookup"><span data-stu-id="2cd25-236">For more information on how to use this feature, see [Consuming an Azure Machine Learning Web Service from Excel](machine-learning-consuming-from-excel.md).</span></span> 

![][2]

### <a name="optimization-and-further-experiments"></a><span data-ttu-id="2cd25-237">Optymalizacja i dalszych eksperymentów.</span><span class="sxs-lookup"><span data-stu-id="2cd25-237">Optimization and further experiments</span></span>
<span data-ttu-id="2cd25-238">Teraz, gdy było linii bazowej z modelu programu Excel, przenieśliśmy dalej w celu zoptymalizowania naszych modelu uczenia maszynowego liniowej regresji.</span><span class="sxs-lookup"><span data-stu-id="2cd25-238">Now that we had a baseline with our Excel model, we moved ahead to optimize our Machine Learning Linear Regression Model.</span></span> <span data-ttu-id="2cd25-239">My używamy modułu [na podstawie filtru wybór funkcji] [ filter-based-feature-selection] do poprawy naszych wyboru początkowe dane elementów i pomogły osiągnąć lepszą wydajność, 4.6% oznacza błąd absolutny.</span><span class="sxs-lookup"><span data-stu-id="2cd25-239">We used the module [Filter-Based Feature Selection][filter-based-feature-selection] to improve on our selection of initial data elements and it helped us achieve a performance improvement of 4.6% Mean Absolute Error.</span></span> <span data-ttu-id="2cd25-240">Dla przyszłych projektów użyjemy tej funkcji, który może zapisać nam tygodnie w iteracji atrybuty danych można znaleźć prawidłowego zestawu funkcji służących do modelowania.</span><span class="sxs-lookup"><span data-stu-id="2cd25-240">For future projects we will use this feature which could save us weeks in iterating through data attributes to find the right set of features to use for modelling.</span></span> 

<span data-ttu-id="2cd25-241">Następnie planujemy Dołącz algorytmy dodatkowe, takie jak [Estymacja Bayesian] [ bayesian-linear-regression] lub [Boosted drzew decyzyjnych] [ boosted-decision-tree-regression] w naszym doświadczeniu porównanie wydajności.</span><span class="sxs-lookup"><span data-stu-id="2cd25-241">Next we plan to include additional algorithms like [Bayesian][bayesian-linear-regression] or [Boosted Decision Trees][boosted-decision-tree-regression] in our experiment to compare performance.</span></span> 

<span data-ttu-id="2cd25-242">Jeśli chcesz wypróbować regresji dobrej zestawu danych, aby spróbować jest dataset próbki energii wydajność regresji ma wiele atrybutów wartości liczbowych.</span><span class="sxs-lookup"><span data-stu-id="2cd25-242">If you want to experiment with regression, a good dataset to try is the Energy Efficiency Regression sample dataset, which has lots of numerical attributes.</span></span> <span data-ttu-id="2cd25-243">Zestaw danych jest dostarczane jako część przykładowych zestawów danych w usłudze Machine Learning Studio.</span><span class="sxs-lookup"><span data-stu-id="2cd25-243">The dataset is provided as part of the sample datasets in Machine Learning Studio.</span></span> <span data-ttu-id="2cd25-244">Szereg modułów szkoleniowych służy do prognozowania ogrzewania obciążenia lub chłodzenia obciążenia.</span><span class="sxs-lookup"><span data-stu-id="2cd25-244">You can use a variety of learning modules to predict either Heating Load or Cooling Load.</span></span> <span data-ttu-id="2cd25-245">Wykres poniżej znajduje się porównanie wydajności różnych regresji uzyskuje informacje o względem zapotrzebowania na energię przewidywania zestawu danych dla Zmienna docelowa Cooling obciążenia:</span><span class="sxs-lookup"><span data-stu-id="2cd25-245">The chart below is a performance comparison of different regression learns against the Energy Efficiency dataset predicting for the target variable Cooling Load:</span></span> 

| <span data-ttu-id="2cd25-246">Model</span><span class="sxs-lookup"><span data-stu-id="2cd25-246">Model</span></span> | <span data-ttu-id="2cd25-247">Oznacza błąd absolutny</span><span class="sxs-lookup"><span data-stu-id="2cd25-247">Mean Absolute Error</span></span> | <span data-ttu-id="2cd25-248">Błąd kwadrat średniej głównego</span><span class="sxs-lookup"><span data-stu-id="2cd25-248">Root Mean Squared Error</span></span> | <span data-ttu-id="2cd25-249">Względny błąd absolutny</span><span class="sxs-lookup"><span data-stu-id="2cd25-249">Relative Absolute Error</span></span> | <span data-ttu-id="2cd25-250">Względna kwadrat błąd</span><span class="sxs-lookup"><span data-stu-id="2cd25-250">Relative Squared Error</span></span> | <span data-ttu-id="2cd25-251">Współczynnik determinacji</span><span class="sxs-lookup"><span data-stu-id="2cd25-251">Coefficient of Determination</span></span> |
| --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="2cd25-252">Drzewo decyzyjne boosted</span><span class="sxs-lookup"><span data-stu-id="2cd25-252">Boosted Decision Tree</span></span> |<span data-ttu-id="2cd25-253">0.930113</span><span class="sxs-lookup"><span data-stu-id="2cd25-253">0.930113</span></span> |<span data-ttu-id="2cd25-254">1.4239</span><span class="sxs-lookup"><span data-stu-id="2cd25-254">1.4239</span></span> |<span data-ttu-id="2cd25-255">0.106647</span><span class="sxs-lookup"><span data-stu-id="2cd25-255">0.106647</span></span> |<span data-ttu-id="2cd25-256">0.021662</span><span class="sxs-lookup"><span data-stu-id="2cd25-256">0.021662</span></span> |<span data-ttu-id="2cd25-257">0.978338</span><span class="sxs-lookup"><span data-stu-id="2cd25-257">0.978338</span></span> |
| <span data-ttu-id="2cd25-258">Regresja liniowa (spadku gradientu)</span><span class="sxs-lookup"><span data-stu-id="2cd25-258">Linear Regression (Gradient Descent)</span></span> |<span data-ttu-id="2cd25-259">2.035693</span><span class="sxs-lookup"><span data-stu-id="2cd25-259">2.035693</span></span> |<span data-ttu-id="2cd25-260">2.98006</span><span class="sxs-lookup"><span data-stu-id="2cd25-260">2.98006</span></span> |<span data-ttu-id="2cd25-261">0.233414</span><span class="sxs-lookup"><span data-stu-id="2cd25-261">0.233414</span></span> |<span data-ttu-id="2cd25-262">0.094881</span><span class="sxs-lookup"><span data-stu-id="2cd25-262">0.094881</span></span> |<span data-ttu-id="2cd25-263">0.905119</span><span class="sxs-lookup"><span data-stu-id="2cd25-263">0.905119</span></span> |
| <span data-ttu-id="2cd25-264">Regresja sieci neuronowej</span><span class="sxs-lookup"><span data-stu-id="2cd25-264">Neural Network Regression</span></span> |<span data-ttu-id="2cd25-265">1.548195</span><span class="sxs-lookup"><span data-stu-id="2cd25-265">1.548195</span></span> |<span data-ttu-id="2cd25-266">2.114617</span><span class="sxs-lookup"><span data-stu-id="2cd25-266">2.114617</span></span> |<span data-ttu-id="2cd25-267">0.177517</span><span class="sxs-lookup"><span data-stu-id="2cd25-267">0.177517</span></span> |<span data-ttu-id="2cd25-268">0.047774</span><span class="sxs-lookup"><span data-stu-id="2cd25-268">0.047774</span></span> |<span data-ttu-id="2cd25-269">0.952226</span><span class="sxs-lookup"><span data-stu-id="2cd25-269">0.952226</span></span> |
| <span data-ttu-id="2cd25-270">Regresja liniowa (zwykłej najmniejszych kwadratów)</span><span class="sxs-lookup"><span data-stu-id="2cd25-270">Linear Regression (Ordinary Least Squares)</span></span> |<span data-ttu-id="2cd25-271">1.428273</span><span class="sxs-lookup"><span data-stu-id="2cd25-271">1.428273</span></span> |<span data-ttu-id="2cd25-272">1.984461</span><span class="sxs-lookup"><span data-stu-id="2cd25-272">1.984461</span></span> |<span data-ttu-id="2cd25-273">0.163767</span><span class="sxs-lookup"><span data-stu-id="2cd25-273">0.163767</span></span> |<span data-ttu-id="2cd25-274">0.042074</span><span class="sxs-lookup"><span data-stu-id="2cd25-274">0.042074</span></span> |<span data-ttu-id="2cd25-275">0.957926</span><span class="sxs-lookup"><span data-stu-id="2cd25-275">0.957926</span></span> |

## <a name="key-takeaways"></a><span data-ttu-id="2cd25-276">Takeaways klucza</span><span class="sxs-lookup"><span data-stu-id="2cd25-276">Key Takeaways</span></span>
<span data-ttu-id="2cd25-277">Dowiedzieliśmy się znacznie przez z uruchomionych regresji programu Excel i usługi Azure Machine Learning experiments równolegle.</span><span class="sxs-lookup"><span data-stu-id="2cd25-277">We learned a lot by from running Excel regression and Azure Machine Learning experiments in parallel.</span></span> <span data-ttu-id="2cd25-278">Tworzenie linii bazowej modelu w programie Excel i należy go porównać z modelami za pomocą uczenia maszynowego [regresji liniowej] [ linear-regression] pomógł nam informacje uczenie maszynowe Azure i możemy odnaleźć możliwości, aby zwiększyć wydajność, a wybór modelu danych.</span><span class="sxs-lookup"><span data-stu-id="2cd25-278">Creating the baseline model in Excel and comparing it to models using Machine Learning [Linear Regression][linear-regression] helped us learn Azure Machine Learning, and we discovered opportunities to improve data selection and model performance.</span></span> 

<span data-ttu-id="2cd25-279">Również znaleźć zaleca używania [na podstawie filtru wybór funkcji] [ filter-based-feature-selection] w celu przyspieszenia przewidywania przyszłych projektów.</span><span class="sxs-lookup"><span data-stu-id="2cd25-279">We also found that it is advisable to use [Filter-Based Feature Selection][filter-based-feature-selection] to accelerate future prediction projects.</span></span> <span data-ttu-id="2cd25-280">Stosując Wybieranie funkcji do danych, można utworzyć ulepszone modelu w uczeniu maszynowym z lepszą ogólną wydajność.</span><span class="sxs-lookup"><span data-stu-id="2cd25-280">By applying feature selection to your data, you can create an improved model in Machine Learning with better overall performance.</span></span> 

<span data-ttu-id="2cd25-281">Możliwość przekazywania predykcyjnej analityczne prognozowania z uczenia maszynowego do programu Excel systemically umożliwia znaczne zwiększenie pomyślnie Udostępnianie wyników do odbiorców szerokie biznesowych użytkownika.</span><span class="sxs-lookup"><span data-stu-id="2cd25-281">The ability to transfer the predictive analytic forecasting from Machine Learning to Excel systemically allows a significant increase in the ability to successfully provide results to a broad business user audience.</span></span> 

## <a name="resources"></a><span data-ttu-id="2cd25-282">Zasoby</span><span class="sxs-lookup"><span data-stu-id="2cd25-282">Resources</span></span>
<span data-ttu-id="2cd25-283">Poniżej przedstawiono niektóre zasoby pomagające w pracy z regresji:</span><span class="sxs-lookup"><span data-stu-id="2cd25-283">Here are some resources for helping you work with regression:</span></span> 

* <span data-ttu-id="2cd25-284">Regresja w programie Excel.</span><span class="sxs-lookup"><span data-stu-id="2cd25-284">Regression in Excel.</span></span> <span data-ttu-id="2cd25-285">Jeśli nigdy nie podjęto regresji w programie Excel, w tym samouczku ułatwia: [http://www.excel-easy.com/examples/regression.html](http://www.excel-easy.com/examples/regression.html)</span><span class="sxs-lookup"><span data-stu-id="2cd25-285">If you’ve never tried regression in Excel, this tutorial makes it easy: [http://www.excel-easy.com/examples/regression.html](http://www.excel-easy.com/examples/regression.html)</span></span>
* <span data-ttu-id="2cd25-286">Funkcja prognozowania vs regresji.</span><span class="sxs-lookup"><span data-stu-id="2cd25-286">Regression vs forecasting.</span></span> <span data-ttu-id="2cd25-287">Tyler Chessman zapisano artykułu blog, objaśnienia dotyczące czasu serii prognozowania w programie Excel, zawiera opis dla początkujących dobrej regresji liniowej.</span><span class="sxs-lookup"><span data-stu-id="2cd25-287">Tyler Chessman wrote a blog article explaining how to do time series forecasting in Excel, which contains a good beginner’s description of linear regression.</span></span> [<span data-ttu-id="2cd25-288">http://sqlmag.com/SQL-Server-Analysis-Services/Understanding-Time-Series-forecasting-Concepts</span><span class="sxs-lookup"><span data-stu-id="2cd25-288">http://sqlmag.com/sql-server-analysis-services/understanding-time-series-forecasting-concepts</span></span>](http://sqlmag.com/sql-server-analysis-services/understanding-time-series-forecasting-concepts) 
* <span data-ttu-id="2cd25-289">Regresja liniowa zwykłej najmniejszych kwadratów: Wady, problemów i problemów.</span><span class="sxs-lookup"><span data-stu-id="2cd25-289">Ordinary Least Squares Linear Regression: Flaws, Problems and Pitfalls.</span></span> <span data-ttu-id="2cd25-290">Wprowadzenie oraz omówienie regresji: [http://www.clockbackward.com/2009/06/18/ordinary-least-squares-linear-regression-flaws-problems-and-pitfalls/](http://www.clockbackward.com/2009/06/18/ordinary-least-squares-linear-regression-flaws-problems-and-pitfalls/)</span><span class="sxs-lookup"><span data-stu-id="2cd25-290">For an introduction and discussion of Regression: [http://www.clockbackward.com/2009/06/18/ordinary-least-squares-linear-regression-flaws-problems-and-pitfalls/ ](http://www.clockbackward.com/2009/06/18/ordinary-least-squares-linear-regression-flaws-problems-and-pitfalls/)</span></span>

[1]: ./media/machine-learning-linear-regression-in-azure/machine-learning-linear-regression-in-azure-1.png
[2]: ./media/machine-learning-linear-regression-in-azure/machine-learning-linear-regression-in-azure-2.png


<!-- Module References -->
[bayesian-linear-regression]: https://msdn.microsoft.com/library/azure/ee12de50-2b34-4145-aec0-23e0485da308/
[boosted-decision-tree-regression]: https://msdn.microsoft.com/library/azure/0207d252-6c41-4c77-84c3-73bdf1ac5960/
[filter-based-feature-selection]: https://msdn.microsoft.com/library/azure/918b356b-045c-412b-aa12-94a1d2dad90f/
[linear-regression]: https://msdn.microsoft.com/library/azure/31960a6f-789b-4cf7-88d6-2e1152c0bd1a/
[select-columns]: https://msdn.microsoft.com/library/azure/1ec722fa-b623-4e26-a44e-a50c6d726223/
[split]: https://msdn.microsoft.com/library/azure/70530644-c97a-4ab6-85f7-88bf30a8be5f/

