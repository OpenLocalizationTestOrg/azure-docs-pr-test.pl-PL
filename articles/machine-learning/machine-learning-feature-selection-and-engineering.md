---
title: "Funkcja inżynieryjne i zaznaczenie w usłudze Azure Machine Learning | Dokumentacja firmy Microsoft"
description: "Wyjaśnia na potrzeby funkcji wybór i inżynieria funkcji i przykłady ich roli w procesie rozszerzenie danych usługi machine learning."
services: machine-learning
documentationcenter: 
author: bradsev
manager: jhubbard
editor: cgronlun
ms.assetid: 9ceb524d-842e-4f77-9eae-a18e599442d6
ms.service: machine-learning
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/18/2017
ms.author: zhangya;bradsev
ROBOTS: NOINDEX
redirect_url: machine-learning-data-science-create-features
redirect_document_id: TRUE
ms.openlocfilehash: 51a5d8fed492cb9301e048c2b6a721e4573a47d9
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 07/11/2017
---
# <a name="feature-engineering-and-selection-in-azure-machine-learning"></a><span data-ttu-id="2a8cc-103">Inżynieria i wybór funkcji w usłudze Azure Machine Learning</span><span class="sxs-lookup"><span data-stu-id="2a8cc-103">Feature engineering and selection in Azure Machine Learning</span></span>
<span data-ttu-id="2a8cc-104">W tym temacie opisano na potrzeby funkcji inżynieryjne i wybór funkcji w procesie rozszerzenie danych usługi machine learning.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-104">This topic explains the purposes of feature engineering and feature selection in the data-enhancement process of machine learning.</span></span> <span data-ttu-id="2a8cc-105">Przedstawia on procesy te obejmują za pomocą przykładów udostępniane przez usługi Azure Machine Learning Studio.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-105">It illustrates what these processes involve by using examples provided by Azure Machine Learning Studio.</span></span>

[!INCLUDE [machine-learning-free-trial](../../includes/machine-learning-free-trial.md)]

<span data-ttu-id="2a8cc-106">Dane szkoleniowe używane w uczeniu maszynowym często można zwiększyć przez zaznaczenie lub wyodrębniania funkcji w zebranych danych pierwotnych.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-106">The training data used in machine learning can often be enhanced by the selection or extraction of features from the raw data collected.</span></span> <span data-ttu-id="2a8cc-107">Przykładem funkcji odtworzone w kontekście obrazów znaków odręcznie klasyfikowania uczenia jest mapy bitowej gęstość zbudowane z bitowego nieprzetworzone dane dystrybucji.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-107">An example of an engineered feature in the context of learning how to classify the images of handwritten characters is a bit-density map constructed from the raw bit distribution data.</span></span> <span data-ttu-id="2a8cc-108">Ta mapa można lokalizowania krawędzi znaki wydajniej dystrybucji raw.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-108">This map can help locate the edges of the characters more efficiently than the raw distribution.</span></span>

<span data-ttu-id="2a8cc-109">Odtworzone i wybranych funkcji zwiększyć wydajność procesu szkolenia, która podejmuje próbę wyodrębnić klucza informacje zawarte w danych.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-109">Engineered and selected features increase the efficiency of the training process, which attempts to extract the key information contained in the data.</span></span> <span data-ttu-id="2a8cc-110">Poprawiają również uprawnienia tych modeli dokładnie klasyfikowania danych wejściowych oraz do przewidywania wyników odsetek bardziej niezawodnie.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-110">They also improve the power of these models to classify the input data accurately and to predict outcomes of interest more robustly.</span></span> <span data-ttu-id="2a8cc-111">Funkcja inżynieryjne i wyboru można także połączyć dokonanie więcej praktyce tractable learning.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-111">Feature engineering and selection can also combine to make the learning more computationally tractable.</span></span> <span data-ttu-id="2a8cc-112">Robi to udoskonalanie, a następnie zmniejszenie liczby potrzeby kalibrować lub uczenie modelu przy użyciu funkcji.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-112">It does so by enhancing and then reducing the number of features needed to calibrate or train a model.</span></span> <span data-ttu-id="2a8cc-113">Funkcje wybrane do nauczenia modelu ze sobą matematycznie rzecz biorąc, są minimalny zbiór zmienne niezależne, które wyjaśniają wzorce w danych, a następnie pomyślnie przewidywania wyników.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-113">Mathematically speaking, the features selected to train the model are a minimal set of independent variables that explain the patterns in the data and then predict outcomes successfully.</span></span>

<span data-ttu-id="2a8cc-114">Inżynieryjne i wybór funkcji jest częścią większego procesu, które zwykle obejmuje cztery kroki:</span><span class="sxs-lookup"><span data-stu-id="2a8cc-114">The engineering and selection of features is one part of a larger process, which typically consists of four steps:</span></span>

* <span data-ttu-id="2a8cc-115">Zbieranie danych</span><span class="sxs-lookup"><span data-stu-id="2a8cc-115">Data collection</span></span>
* <span data-ttu-id="2a8cc-116">Rozszerzenie danych</span><span class="sxs-lookup"><span data-stu-id="2a8cc-116">Data enhancement</span></span>
* <span data-ttu-id="2a8cc-117">Konstruowania modelu</span><span class="sxs-lookup"><span data-stu-id="2a8cc-117">Model construction</span></span>
* <span data-ttu-id="2a8cc-118">Przetwarzanie końcowe</span><span class="sxs-lookup"><span data-stu-id="2a8cc-118">Post-processing</span></span>

<span data-ttu-id="2a8cc-119">Inżynieryjne i wybór tworzą kroku rozszerzenie danych usługi machine learning.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-119">Engineering and selection make up the data enhancement step of machine learning.</span></span> <span data-ttu-id="2a8cc-120">Trzy aspekty tego procesu można wyróżnić dla naszych celów:</span><span class="sxs-lookup"><span data-stu-id="2a8cc-120">Three aspects of this process may be distinguished for our purposes:</span></span>

* <span data-ttu-id="2a8cc-121">**Przetwarzanie wstępne danych**: ten proces próbuje upewnij się, że zebranych danych jest czysty i spójne.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-121">**Data pre-processing**: This process tries to ensure that the collected data is clean and consistent.</span></span> <span data-ttu-id="2a8cc-122">Zawiera zadania, takie jak integrowanie wiele zestawów danych, obsługa brakujące dane, obsługa niespójne dane i konwertowanie typów danych.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-122">It includes tasks such as integrating multiple data sets, handling missing data, handling inconsistent data, and converting data types.</span></span>
* <span data-ttu-id="2a8cc-123">**Inżynieria**: ten proces próbuje utworzyć dodatkowe funkcje odpowiednie na podstawie istniejących funkcji pierwotnych danych oraz zwiększenie predykcyjnej zasilania Algorytm uczenia.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-123">**Feature engineering**: This process attempts to create additional relevant features from the existing raw features in the data and to increase predictive power to the learning algorithm.</span></span>
* <span data-ttu-id="2a8cc-124">**Wybór funkcji**: tego procesu wybiera klucza podzbiór oryginalnego funkcji danych, aby zmniejszyć wymiary problemu szkolenia.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-124">**Feature selection**: This process selects the key subset of original data features to reduce the dimensionality of the training problem.</span></span>

<span data-ttu-id="2a8cc-125">W tym temacie opisuje tylko inżynieryjne funkcji i funkcji wyboru aspektów procesu rozszerzenia danych.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-125">This topic only covers the feature engineering and feature selection aspects of the data enhancement process.</span></span> <span data-ttu-id="2a8cc-126">Aby uzyskać więcej informacji na etapie wstępnego przetwarzania danych, zobacz [wstępne przetworzenie danych w usłudze Azure Machine Learning Studio](https://azure.microsoft.com/documentation/videos/preprocessing-data-in-azure-ml-studio/).</span><span class="sxs-lookup"><span data-stu-id="2a8cc-126">For more information on the data pre-processing step, see [Pre-processing data in Azure Machine Learning Studio](https://azure.microsoft.com/documentation/videos/preprocessing-data-in-azure-ml-studio/).</span></span>

## <a name="creating-features-from-your-data--feature-engineering"></a><span data-ttu-id="2a8cc-127">Tworzenie funkcji z danych--Inżynieria</span><span class="sxs-lookup"><span data-stu-id="2a8cc-127">Creating features from your data--feature engineering</span></span>
<span data-ttu-id="2a8cc-128">Dane szkoleniowe składa się z macierzy składa się z przykładami (rekordy lub obserwacji przechowywane w wierszach), z których każda ma zestaw funkcji (zmienne lub pól przechowywane w kolumnach).</span><span class="sxs-lookup"><span data-stu-id="2a8cc-128">The training data consists of a matrix composed of examples (records or observations stored in rows), each of which has a set of features (variables or fields stored in columns).</span></span> <span data-ttu-id="2a8cc-129">Oczekiwano funkcji określony w projekcie doświadczenia charakteryzujących wzorce w danych.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-129">The features specified in the experimental design are expected to characterize the patterns in the data.</span></span> <span data-ttu-id="2a8cc-130">Mimo że wiele pól danych pierwotnych mogą być bezpośrednio uwzględnione w wybranej funkcji używany do nauczenia modelu, dodatkowe funkcje odtworzone często muszą zostać utworzone na podstawie funkcji w danych pierwotnych do generowania rozszerzone szkoleniowy zestaw danych.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-130">Although many of the raw data fields can be directly included in the selected feature set used to train a model, additional engineered features often need to be constructed from the features in the raw data to generate an enhanced training data set.</span></span>

<span data-ttu-id="2a8cc-131">Jakiego rodzaju funkcje należy utworzyć w celu ulepszenia zestawu danych podczas uczenia modelu?</span><span class="sxs-lookup"><span data-stu-id="2a8cc-131">What kind of features should be created to enhance the data set when training a model?</span></span> <span data-ttu-id="2a8cc-132">Odtworzone funkcji, które zwiększają szkolenia dostarczają informacji lepiej odróżniającą wzorce w danych.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-132">Engineered features that enhance the training provide information that better differentiates the patterns in the data.</span></span> <span data-ttu-id="2a8cc-133">Oczekuje nowe funkcje, które znajdują się dodatkowe informacje, które nie jest wyraźnie przechwycona lub łatwo widoczna w zestaw oryginalnej lub istniejących funkcji, ale proces ten jest coś grafiki.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-133">You expect the new features to provide additional information that is not clearly captured or easily apparent in the original or existing feature set, but this process is something of an art.</span></span> <span data-ttu-id="2a8cc-134">Decyzje dźwięku i produktywności często wymagają doświadczenia z niektórych domen.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-134">Sound and productive decisions often require some domain expertise.</span></span>

<span data-ttu-id="2a8cc-135">Począwszy od usługi Azure Machine Learning, najłatwiej konkretnie ujmij ten proces, za pomocą przykłady podane w usłudze Machine Learning Studio.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-135">When starting with Azure Machine Learning, it is easiest to grasp this process concretely by using samples provided in Machine Learning Studio.</span></span> <span data-ttu-id="2a8cc-136">Poniżej przedstawiono dwa przykłady:</span><span class="sxs-lookup"><span data-stu-id="2a8cc-136">Two examples are presented here:</span></span>

* <span data-ttu-id="2a8cc-137">Przykład regresji ([prognozowanie liczby dzierżawy roweru](http://gallery.cortanaintelligence.com/Experiment/Regression-Demand-estimation-4)) w nadzorowanym eksperymentu, gdy wiadomo, że wartości docelowej</span><span class="sxs-lookup"><span data-stu-id="2a8cc-137">A regression example ([Prediction of the number of bike rentals](http://gallery.cortanaintelligence.com/Experiment/Regression-Demand-estimation-4)) in a supervised experiment where the target values are known</span></span>
* <span data-ttu-id="2a8cc-138">Używając przykład klasyfikacji wyszukiwania tekstu [Tworzenie skrótu funkcji][feature-hashing]</span><span class="sxs-lookup"><span data-stu-id="2a8cc-138">A text-mining classification example using [Feature Hashing][feature-hashing]</span></span>

### <a name="example-1-adding-temporal-features-for-a-regression-model"></a><span data-ttu-id="2a8cc-139">Przykład 1: Dodawanie funkcji danych czasowych dla modelu regresji</span><span class="sxs-lookup"><span data-stu-id="2a8cc-139">Example 1: Adding temporal features for a regression model</span></span>
<span data-ttu-id="2a8cc-140">Aby zademonstrować sposób opracowywać funkcje zadania regresji, Użyjmy eksperymentu "żądanie Prognozowanie rowerów" w usłudze Azure Machine Learning Studio.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-140">To demonstrate how to engineer features for a regression task, let's use the experiment "Demand forecasting of bikes" in Azure Machine Learning Studio.</span></span> <span data-ttu-id="2a8cc-141">Celem tego eksperymentu jest do prognozowania popytu na rowerów, oznacza to, że liczba roweru dzierżawy w określonym miesiącu, dzień lub godzinę.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-141">The objective of this experiment is to predict the demand for the bikes, that is, the number of bike rentals within a specific month, day, or hour.</span></span> <span data-ttu-id="2a8cc-142">Zestaw danych **zestawu danych UCI wynajem roweru** służy jako nieprzetworzone dane wejściowe.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-142">The data set **Bike Rental UCI data set** is used as the raw input data.</span></span>

<span data-ttu-id="2a8cc-143">Ten zestaw danych jest oparty na prawdziwe dane z firmy Bikeshare kapitału, która obsługuje sieci wynajem roweru w stanie Waszyngton DC w Stanach Zjednoczonych.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-143">This data set is based on real data from the Capital Bikeshare company that maintains a bike rental network in Washington DC in the United States.</span></span> <span data-ttu-id="2a8cc-144">Zestaw danych reprezentuje liczbę roweru dzierżawy w ciągu określonej godziny, dnia, 2011 2012 i zawiera 17379 wierszy i kolumn 17.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-144">The data set represents the number of bike rentals within a specific hour of a day, from 2011 to 2012, and it contains 17379 rows and 17 columns.</span></span> <span data-ttu-id="2a8cc-145">Zestaw funkcji raw zawiera pogodą (temperatury, wilgotności, szybkość knie) i typ dzień (dni wolnych lub dzień tygodnia).</span><span class="sxs-lookup"><span data-stu-id="2a8cc-145">The raw feature set contains weather conditions (temperature, humidity, wind speed) and the type of the day (holiday or weekday).</span></span> <span data-ttu-id="2a8cc-146">W polu do prognozowania jest **cnt**, liczba reprezentująca dzierżawy roweru w ciągu godziny określonych i który od 1 do 977.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-146">The field to predict is **cnt**, a count that represents the bike rentals within a specific hour and that ranges from 1 to 977.</span></span>

<span data-ttu-id="2a8cc-147">Do utworzenia skuteczne funkcje dane szkoleniowe, cztery modele regresji są tworzone za pomocą tego samego algorytmu, ale z cztery zestawy danych różnych szkolenia.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-147">To construct effective features in the training data, four regression models are built by using the same algorithm, but with four different training data sets.</span></span> <span data-ttu-id="2a8cc-148">Cztery zestawy danych reprezentują tego samego pierwotnych danych wejściowych, ale z coraz więcej funkcji ustawiona.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-148">The four data sets represent the same raw input data, but with an increasing number of features set.</span></span> <span data-ttu-id="2a8cc-149">Te funkcje są podzielone na kategorie cztery:</span><span class="sxs-lookup"><span data-stu-id="2a8cc-149">These features are grouped into four categories:</span></span>

1. <span data-ttu-id="2a8cc-150">A = pogody + świątecznych dzień tygodnia + weekendowe funkcje przewidywane dzień</span><span class="sxs-lookup"><span data-stu-id="2a8cc-150">A = weather + holiday + weekday + weekend features for the predicted day</span></span>
2. <span data-ttu-id="2a8cc-151">B = liczba rowerów, które zostały dzierżawione w każdym z ostatnich 12 godzin</span><span class="sxs-lookup"><span data-stu-id="2a8cc-151">B = number of bikes that were rented in each of the previous 12 hours</span></span>
3. <span data-ttu-id="2a8cc-152">C = Liczba rowerów, które zostały dzierżawione w każdym z ostatnich 12 dni na tę samą godzinę</span><span class="sxs-lookup"><span data-stu-id="2a8cc-152">C = number of bikes that were rented in each of the previous 12 days at the same hour</span></span>
4. <span data-ttu-id="2a8cc-153">D = liczba rowerów, które zostały dzierżawione w każdym z poprzednich 12 tygodni na tę samą godzinę i tego samego dnia</span><span class="sxs-lookup"><span data-stu-id="2a8cc-153">D = number of bikes that were rented in each of the previous 12 weeks at the same hour and the same day</span></span>

<span data-ttu-id="2a8cc-154">Oprócz A zestaw funkcji, który już istnieje w oryginalnych danych pierwotnych, trzy inne zestawy funkcji są tworzone za pomocą funkcji inżynierii procesu.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-154">Besides feature set A, which already exists in the original raw data, the other three sets of features are created through the feature engineering process.</span></span> <span data-ttu-id="2a8cc-155">Zestaw funkcji przechwytywania B ostatnie żądanie dla rowerów.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-155">Feature set B captures the recent demand for the bikes.</span></span> <span data-ttu-id="2a8cc-156">Skonfigurować funkcji przechwytywania C popytu na rowerów o określonej godzinie.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-156">Feature set C captures the demand for bikes at a particular hour.</span></span> <span data-ttu-id="2a8cc-157">Funkcja ustawiona D przechwytywania żądanie dla rowerów w szczególności godziny i dnia tygodnia.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-157">Feature set D captures demand for bikes at particular hour and particular day of the week.</span></span> <span data-ttu-id="2a8cc-158">Każdy z czterech zestawów danych szkoleniowych obejmuje zestawy funkcji A, A + B + C, A + B i A + B + C + D odpowiednio.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-158">Each of the four training data sets includes feature sets A, A+B, A+B+C, and A+B+C+D, respectively.</span></span>

<span data-ttu-id="2a8cc-159">W eksperymencie usługi Azure Machine Learning te cztery zestawy danych szkoleniowych są tworzone za pomocą czterech oddziałów z zestawu wstępnie przetworzonych danych wejściowych.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-159">In the Azure Machine Learning experiment, these four training data sets are formed via four branches from the pre-processed input data set.</span></span> <span data-ttu-id="2a8cc-160">Z wyjątkiem pierwszej gałęzi, każdy z tych gałęzi zawiera [wykonanie skryptu języka R] [ execute-r-script] odpowiednio wykonane i dołączone do modułu, w którym zestaw pochodnych funkcji (funkcja ustawia B, C i D) zaimportowany zestaw danych.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-160">Except for the leftmost branch, each of these branches contains an [Execute R Script][execute-r-script] module in which a set of derived features (feature sets B, C, and D) is respectively constructed and appended to the imported data set.</span></span> <span data-ttu-id="2a8cc-161">Na poniższym rysunku pokazano skrypt języka R, użyty do utworzenia zestawu funkcji B w drugim gałęzi po lewej stronie.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-161">The following figure demonstrates the R script used to create feature set B in the second left branch.</span></span>

![Utwórz zestaw funkcji](./media/machine-learning-feature-selection-and-engineering/addFeature-Rscripts.png)

<span data-ttu-id="2a8cc-163">W poniższej tabeli przedstawiono porównanie wydajności wyników czterech modeli.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-163">The following table summarizes the comparison of the performance results of the four models.</span></span> <span data-ttu-id="2a8cc-164">Najlepsze wyniki są wyświetlane przez funkcje A + B + C.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-164">The best results are shown by features A+B+C.</span></span> <span data-ttu-id="2a8cc-165">Należy pamiętać, że zmniejsza częstotliwość błędów zestawy dodatkowych funkcji została uwzględniona w danych szkoleniowych.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-165">Note that the error rate decreases when additional feature sets are included in the training data.</span></span> <span data-ttu-id="2a8cc-166">Zweryfikuje naszych założenie, że zestawy funkcji B i C zapewniają dodatkowe istotne informacje o zadaniu regresji.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-166">This verifies our presumption that the feature sets B and C provide additional relevant information for the regression task.</span></span> <span data-ttu-id="2a8cc-167">Dodawanie zestawu funkcji D nie wydaje się zapewnienie każde dodatkowe zmniejszenie współczynnik błędów.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-167">Adding the D feature set does not seem to provide any additional reduction in the error rate.</span></span>

![Porównaj wyniki wydajności](./media/machine-learning-feature-selection-and-engineering/result1.png)

### <span data-ttu-id="2a8cc-169"><a name="example2"></a>Przykład 2: Tworzenie funkcji wyszukiwania tekstu</span><span class="sxs-lookup"><span data-stu-id="2a8cc-169"><a name="example2"></a> Example 2: Creating features in text mining</span></span>
<span data-ttu-id="2a8cc-170">Funkcja engineering jest powszechnie stosowane w zadania związane z wyszukiwania tekstu, takich jak analiza dokumentu klasyfikacji i wskaźniki nastrojów klientów.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-170">Feature engineering is widely applied in tasks related to text mining, such as document classification and sentiment analysis.</span></span> <span data-ttu-id="2a8cc-171">Na przykład można klasyfikować dokumenty na kilka kategorii, typowe założeń jest słów ani fraz zawarte w jednej kategorii dokumentu jest mniej prawdopodobne w innej kategorii dokumentu.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-171">For example, when you want to classify documents into several categories, a typical assumption is that the words or phrases included in one document category are less likely to occur in another document category.</span></span> <span data-ttu-id="2a8cc-172">Innymi słowy częstotliwość dystrybucji wyraz lub frazę jest w stanie określić innego dokumentu kategorii.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-172">In other words, the frequency of the word or phrase distribution is able to characterize different document categories.</span></span> <span data-ttu-id="2a8cc-173">W aplikacjach wyszukiwania tekstu funkcja inżynierii procesu jest potrzebne do utworzenia funkcje dotyczące częstotliwości wyraz lub frazę, ponieważ pojedynczych zawartość tekstową zwykle służą jako danych wejściowych.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-173">In text mining applications, the feature engineering process is needed to create the features involving word or phrase frequencies because individual pieces of text-contents usually serve as the input data.</span></span>

<span data-ttu-id="2a8cc-174">Do wykonania tego zadania, nazywany technika *Tworzenie skrótu funkcji* jest stosowany do wydajnie Włączanie funkcji dowolnego tekstu do indeksów.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-174">To achieve this task, a technique called *feature hashing* is applied to efficiently turn arbitrary text features into indices.</span></span> <span data-ttu-id="2a8cc-175">Zamiast kojarzenie każdej funkcji tekst (słów ani fraz) do konkretnego indeksu, to funkcje — metoda przez zastosowanie funkcji skrótu do funkcji i za pomocą wartości skrótu jako indeksy bezpośrednio.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-175">Instead of associating each text feature (words or phrases) to a particular index, this method functions by applying a hash function to the features and by using their hash values as indices directly.</span></span>

<span data-ttu-id="2a8cc-176">W usłudze Azure Machine Learning [Tworzenie skrótu funkcji] [ feature-hashing] moduł, który tworzy te funkcje wyraz lub frazę.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-176">In Azure Machine Learning, there is a [Feature Hashing][feature-hashing] module that creates these word or phrase features.</span></span> <span data-ttu-id="2a8cc-177">Na poniższej ilustracji przedstawiono przykład za pomocą tego modułu.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-177">The following figure shows an example of using this module.</span></span> <span data-ttu-id="2a8cc-178">Wejściowy zestaw danych zawiera dwie kolumny: Klasyfikacja książki z zakresu od 1 do 5 i rzeczywiste Przejrzyj zawartość.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-178">The input data set contains two columns: the book rating ranging from 1 to 5 and the actual review content.</span></span> <span data-ttu-id="2a8cc-179">Celem tego [Tworzenie skrótu funkcji] [ feature-hashing] modułu jest pobrać nowe funkcje, które częstotliwość występowania odpowiednich słów ani fraz w ramach przeglądu wybranej książki.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-179">The goal of this [Feature Hashing][feature-hashing] module is to retrieve new features that show the occurrence frequency of the corresponding words or phrases within the particular book review.</span></span> <span data-ttu-id="2a8cc-180">Aby użyć tego modułu, należy wykonać następujące czynności:</span><span class="sxs-lookup"><span data-stu-id="2a8cc-180">To use this module, you need to complete the following steps:</span></span>

1. <span data-ttu-id="2a8cc-181">Wybierz kolumnę, która zawiera tekst wejściowy (**Col2** w tym przykładzie).</span><span class="sxs-lookup"><span data-stu-id="2a8cc-181">Select the column that contains the input text (**Col2** in this example).</span></span>
2. <span data-ttu-id="2a8cc-182">Ustaw *mieszania bitsize* 8, co oznacza 2 ^ 8 = 256 funkcje są tworzone.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-182">Set *Hashing bitsize* to 8, which means 2^8=256 features are created.</span></span> <span data-ttu-id="2a8cc-183">Wyraz lub frazę w tekście jest następnie mieszany do 256 indeksów.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-183">The word or phrase in the text is then hashed to 256 indices.</span></span> <span data-ttu-id="2a8cc-184">Parametr *mieszania bitsize* może się wahać od 1 do 31.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-184">The parameter *Hashing bitsize* ranges from 1 to 31.</span></span> <span data-ttu-id="2a8cc-185">Jeśli parametr jest ustawiona na większą liczbę, jest mniej prawdopodobne można przemieszać do tego samego indeksu słów ani fraz.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-185">If the parameter is set to a larger number, the words or phrases are less likely to be hashed into the same index.</span></span>
3. <span data-ttu-id="2a8cc-186">Ustaw dla parametru *N-gramów* 2.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-186">Set the parameter *N-grams* to 2.</span></span> <span data-ttu-id="2a8cc-187">Częstotliwość występowania unigrams (funkcja dla każdego pojedynczego wyrazu) i bigrams (funkcja dla każdej pary słów sąsiadujące) to pobiera z teksu wejściowego.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-187">This retrieves the occurrence frequency of unigrams (a feature for every single word) and bigrams (a feature for every pair of adjacent words) from the input text.</span></span> <span data-ttu-id="2a8cc-188">Parametr *N-gramów* w zakresie od 0 do 10, który wskazuje maksymalną liczbę kolejnych słowa do uwzględnienia w funkcji.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-188">The parameter *N-grams* ranges from 0 to 10, which indicates the maximum number of sequential words to be included in a feature.</span></span>  

![Funkcja wyznaczania wartości skrótu modułu](./media/machine-learning-feature-selection-and-engineering/feature-Hashing1.png)

<span data-ttu-id="2a8cc-190">Na poniższej ilustracji przedstawiono wygląd te nowe funkcje.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-190">The following figure shows what these new features look like.</span></span>

![Przykład skrótu funkcji](./media/machine-learning-feature-selection-and-engineering/feature-Hashing2.png)

## <a name="filtering-features-from-your-data--feature-selection"></a><span data-ttu-id="2a8cc-192">Funkcje filtrowania danych — Wybieranie funkcji</span><span class="sxs-lookup"><span data-stu-id="2a8cc-192">Filtering features from your data--feature selection</span></span>
<span data-ttu-id="2a8cc-193">*Wybór funkcji* jest procesem, który jest powszechnie stosowany do konstrukcji zestawów danych szkoleniowych modelowania predykcyjnego zadań, takich jak zadania klasyfikacji lub regresji.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-193">*Feature selection* is a process that is commonly applied to the construction of training data sets for predictive modeling tasks such as classification or regression tasks.</span></span> <span data-ttu-id="2a8cc-194">Celem jest wybierać podzestaw funkcji z oryginalnego zestawu danych pozwala ona zmniejszyć jego wymiary za pomocą minimalny zestaw funkcji do reprezentowania maksymalną ilość wariancji w danych.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-194">The goal is to select a subset of the features from the original data set that reduces its dimensions by using a minimal set of features to represent the maximum amount of variance in the data.</span></span> <span data-ttu-id="2a8cc-195">Ten zestaw funkcji zawiera tylko funkcje, które mają zostać uwzględnione do uczenia modelu.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-195">This subset of features contains the only features to be included to train the model.</span></span> <span data-ttu-id="2a8cc-196">Wybór funkcji służy dwa główne cele:</span><span class="sxs-lookup"><span data-stu-id="2a8cc-196">Feature selection serves two main purposes:</span></span>

* <span data-ttu-id="2a8cc-197">Wybór funkcji często zwiększa dokładność klasyfikacji przez wyeliminowanie nie ma znaczenia, nadmiarowe lub ściśle powiązane funkcje.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-197">Feature selection often increases classification accuracy by eliminating irrelevant, redundant, or highly correlated features.</span></span>
* <span data-ttu-id="2a8cc-198">Wybór funkcji zmniejsza liczbę funkcji, dzięki czemu większą wydajność procesu uczenia modelu.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-198">Feature selection decreases the number of features, which makes the model training process more efficient.</span></span> <span data-ttu-id="2a8cc-199">Jest to szczególnie ważne w przypadku uczących, które są kosztowne do uczenia, takich jak obsługa wektor maszyny.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-199">This is particularly important for learners that are expensive to train such as support vector machines.</span></span>

<span data-ttu-id="2a8cc-200">Chociaż wybór funkcji ma na celu ograniczenia liczby funkcji w zestawie danych używany do nauczenia modelu, jego jest zwykle nieokreślonych przez określenie *redukcji wymiary.*</span><span class="sxs-lookup"><span data-stu-id="2a8cc-200">Although feature selection seeks to reduce the number of features in the data set used to train the model, it is not usually referred to by the term *dimensionality reduction.*</span></span> <span data-ttu-id="2a8cc-201">Metody wyboru funkcji Wyodrębnij podzbioru cech oryginalnych danych bez konieczności ich zmieniania.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-201">Feature selection methods extract a subset of original features in the data without changing them.</span></span>  <span data-ttu-id="2a8cc-202">Wymiary metod redukcji stosować odtworzone funkcje, które można przekształcić funkcji oryginalnego i w związku z tym ich modyfikować.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-202">Dimensionality reduction methods employ engineered features that can transform the original features and thus modify them.</span></span> <span data-ttu-id="2a8cc-203">Przykładami metod redukcji wymiary analizy głównych składników, analiza canonical korelacji i dekompozycji pojedynczej wartości.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-203">Examples of dimensionality reduction methods include principal component analysis, canonical correlation analysis, and singular value decomposition.</span></span>

<span data-ttu-id="2a8cc-204">Jedną z powszechnie stosowanych kategorii metody wyboru funkcji w kontekście nadzorowany jest wybór funkcji na podstawie filtru.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-204">One widely applied category of feature selection methods in a supervised context is filter-based feature selection.</span></span> <span data-ttu-id="2a8cc-205">Wyniku obliczenia korelacji między każdej funkcji i atrybut target, te metody się statystyczne miarę w celu Przypisz wynik do każdej funkcji.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-205">By evaluating the correlation between each feature and the target attribute, these methods apply a statistical measure to assign a score to each feature.</span></span> <span data-ttu-id="2a8cc-206">Funkcje są następnie uporządkowane według wynik, w którym można ustawić próg utrzymywanie lub wyeliminowanie określonych funkcji.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-206">The features are then ranked by the score, which you can use to set the threshold for keeping or eliminating a specific feature.</span></span> <span data-ttu-id="2a8cc-207">Przykładami miar statystyczne w tych metod korelacji wariancji x, wzajemne informacji i test chi kwadrat.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-207">Examples of the statistical measures used in these methods include Pearson Correlation, mutual information, and the Chi-squared test.</span></span>

<span data-ttu-id="2a8cc-208">Azure Machine Learning Studio udostępnia moduły wybór funkcji.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-208">Azure Machine Learning Studio provides modules for feature selection.</span></span> <span data-ttu-id="2a8cc-209">Jak pokazano na poniższej ilustracji, te moduły obejmują [na podstawie filtru wybór funkcji] [ filter-based-feature-selection] i [analiza liniowa Discriminant Fishera][fisher-linear-discriminant-analysis].</span><span class="sxs-lookup"><span data-stu-id="2a8cc-209">As shown in the following figure, these modules include [Filter-Based Feature Selection][filter-based-feature-selection] and [Fisher Linear Discriminant Analysis][fisher-linear-discriminant-analysis].</span></span>

![Przykład wybór funkcji](./media/machine-learning-feature-selection-and-engineering/feature-Selection.png)

<span data-ttu-id="2a8cc-211">Na przykład użyć [na podstawie filtru wybór funkcji] [ filter-based-feature-selection] moduł przykład wyszukiwania tekstu opisane wcześniej.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-211">For example, use the [Filter-Based Feature Selection][filter-based-feature-selection] module with the text mining example outlined previously.</span></span> <span data-ttu-id="2a8cc-212">Domyślnym wariantem do tworzenia modelu regresji po utworzeniu zestaw funkcji 256 za pośrednictwem [Tworzenie skrótu funkcji] [ feature-hashing] modułu, a zmienna odpowiedzi jest **Col1** i reprezentuje książki przeglądu klasyfikacji z zakresu od 1 do 5.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-212">Assume that you want to build a regression model after a set of 256 features is created through the [Feature Hashing][feature-hashing] module, and that the response variable is **Col1** and represents a book review rating ranging from 1 to 5.</span></span> <span data-ttu-id="2a8cc-213">Ustaw **funkcji metody oceniania** do **korelacji wariancji x**, **kolumny docelowej** do **Col1**, i **żądaną liczbę Funkcje** do **50**.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-213">Set **Feature scoring method** to **Pearson Correlation**, **Target column** to **Col1**, and **Number of desired features** to **50**.</span></span> <span data-ttu-id="2a8cc-214">Moduł [na podstawie filtru wybór funkcji] [ filter-based-feature-selection] spowoduje utworzenie zestawu danych zawierającego 50 funkcji z atrybut target **Col1**.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-214">The module [Filter-Based Feature Selection][filter-based-feature-selection] then produces a data set containing 50 features together with the target attribute **Col1**.</span></span> <span data-ttu-id="2a8cc-215">Na poniższej ilustracji przedstawiono przepływ tego eksperymentu i parametry wejściowe.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-215">The following figure shows the flow of this experiment and the input parameters.</span></span>

![Przykład wybór funkcji](./media/machine-learning-feature-selection-and-engineering/feature-Selection1.png)

<span data-ttu-id="2a8cc-217">Na poniższej ilustracji przedstawiono wynikowych zestawów danych.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-217">The following figure shows the resulting data sets.</span></span> <span data-ttu-id="2a8cc-218">Każdej funkcji są oceniane na podstawie na korelacji wariancji x między sobą i atrybut target **Col1**.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-218">Each feature is scored based on the Pearson Correlation between itself and the target attribute **Col1**.</span></span> <span data-ttu-id="2a8cc-219">Funkcje z najwyższym wyniki są zachowywane.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-219">The features with top scores are kept.</span></span>

![Zestawy danych funkcję Filtr na podstawie zaznaczenia](./media/machine-learning-feature-selection-and-engineering/feature-Selection2.png)

<span data-ttu-id="2a8cc-221">Na poniższej ilustracji przedstawiono odpowiednie wyniki wybranych funkcji.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-221">The following figure shows the corresponding scores of the selected features.</span></span>

![Wyniki wybranej funkcji](./media/machine-learning-feature-selection-and-engineering/feature-Selection3.png)

<span data-ttu-id="2a8cc-223">Stosując to [na podstawie filtru wybór funkcji] [ filter-based-feature-selection] modułu, 50 poza 256 funkcje są wybrane, ponieważ mają one większość funkcji skorelowane z Zmienna docelowa **Col1**oparte na metodzie oceniania **korelacji wariancji x**.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-223">By applying this [Filter-Based Feature Selection][filter-based-feature-selection] module, 50 out of 256 features are selected because they have the most features correlated with the target variable **Col1** based on the scoring method **Pearson Correlation**.</span></span>

## <a name="conclusion"></a><span data-ttu-id="2a8cc-224">Podsumowanie</span><span class="sxs-lookup"><span data-stu-id="2a8cc-224">Conclusion</span></span>
<span data-ttu-id="2a8cc-225">Funkcja inżynieryjne i wybór funkcji są należy wykonać dwie czynności wykonywanych w celu przygotowania danych szkoleniowych, podczas tworzenia modelu uczenia maszynowego.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-225">Feature engineering and feature selection are two steps commonly performed to prepare the training data when building a machine learning model.</span></span> <span data-ttu-id="2a8cc-226">Zwykle engineering funkcji zostanie zastosowana jako pierwsza, aby wygenerować dodatkowe funkcje, a następnie na etapie wyboru funkcji jest wykonywana w celu wyeliminowania nie ma znaczenia, nadmiarowe lub dużej skorelowane funkcji.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-226">Normally, feature engineering is applied first to generate additional features, and then the feature selection step is performed to eliminate irrelevant, redundant, or highly correlated features.</span></span>

<span data-ttu-id="2a8cc-227">Nie zawsze jest zawsze do wykonywania funkcji engineering lub funkcji wyboru cech.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-227">It is not always necessarily to perform feature engineering or feature selection.</span></span> <span data-ttu-id="2a8cc-228">Określa, czy jest potrzebny zależy od tego, ma lub zbierać dane, algorytmu, który można wybrać i celem eksperymentu.</span><span class="sxs-lookup"><span data-stu-id="2a8cc-228">Whether it is needed depends on the data you have or collect, the algorithm you pick, and the objective of the experiment.</span></span>

<!-- Module References -->
[execute-r-script]: https://msdn.microsoft.com/library/azure/30806023-392b-42e0-94d6-6b775a6e0fd5/
[feature-hashing]: https://msdn.microsoft.com/library/azure/c9a82660-2d9c-411d-8122-4d9e0b3ce92a/
[filter-based-feature-selection]: https://msdn.microsoft.com/library/azure/918b356b-045c-412b-aa12-94a1d2dad90f/
[fisher-linear-discriminant-analysis]: https://msdn.microsoft.com/library/azure/dcaab0b2-59ca-4bec-bb66-79fd23540080/
