---
title: "Rozwiązywanie typowych problemów z połączeniem z usługą Azure SQL Database"
description: "Kroki w celu identyfikacji i rozwiązywania typowych błędów połączenia bazy danych SQL Azure."
services: sql-database
documentationcenter: 
author: dalechen
manager: cshepard
editor: 
ms.assetid: ac463d1c-aec8-443d-b66e-fa5eadcccfa8
ms.service: sql-database
ms.custom: monitor & tune
ms.workload: data-management
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/13/2017
ms.author: daleche
ms.openlocfilehash: b8abf1285318e491d51aadf90f921103d84ce1a4
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 07/11/2017
---
# <a name="troubleshoot-connection-issues-to-azure-sql-database"></a><span data-ttu-id="187ac-103">Rozwiązywanie problemów z połączeniem z bazą danych SQL Azure</span><span class="sxs-lookup"><span data-stu-id="187ac-103">Troubleshoot connection issues to Azure SQL Database</span></span>
<span data-ttu-id="187ac-104">Podczas połączenia z bazą danych SQL Azure nie powiedzie się, zostanie wyświetlony [komunikaty o błędach](sql-database-develop-error-messages.md).</span><span class="sxs-lookup"><span data-stu-id="187ac-104">When the connection to Azure SQL Database fails, you receive [error messages](sql-database-develop-error-messages.md).</span></span> <span data-ttu-id="187ac-105">W tym artykule jest scentralizowane temat, który pomaga w rozwiązywaniu problemów z połączeniem bazy danych SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="187ac-105">This article is a centralized topic that helps you troubleshoot Azure SQL Database connectivity issues.</span></span> <span data-ttu-id="187ac-106">Podaj [typowe przyczyny](#cause) problemów połączenie zaleca [rozwiązywania problemów](#try-the-troubleshooter-for-azure-sql-database-connectivity-issues) pomaga tożsamości problemu i instrukcje dotyczące rozwiązywania problemów do rozwiązania [przejściowej błędy](#troubleshoot-transient-errors) i [trwałe lub nieprzejściowego błędów](#troubleshoot-persistent-errors).</span><span class="sxs-lookup"><span data-stu-id="187ac-106">It introduces [the common causes](#cause) of connection issues, recommends [a troubleshooting tool](#try-the-troubleshooter-for-azure-sql-database-connectivity-issues) that helps you identity the problem, and provides troubleshooting steps to solve [transient errors](#troubleshoot-transient-errors) and [persistent or non-transient errors](#troubleshoot-persistent-errors).</span></span> 

<span data-ttu-id="187ac-107">Jeśli wystąpią problemy dotyczące połączenia, spróbuj rozwiązywanie opisanych w tym artykule.</span><span class="sxs-lookup"><span data-stu-id="187ac-107">If you encounter the connection issues, try the troubleshoot steps that are described in this article.</span></span>
[!INCLUDE [support-disclaimer](../../includes/support-disclaimer.md)]

## <a name="cause"></a><span data-ttu-id="187ac-108">Przyczyna</span><span class="sxs-lookup"><span data-stu-id="187ac-108">Cause</span></span>
<span data-ttu-id="187ac-109">Problemy z połączeniem może być spowodowane jedną z następujących czynności:</span><span class="sxs-lookup"><span data-stu-id="187ac-109">Connection problems may be caused by any of the following:</span></span>

* <span data-ttu-id="187ac-110">Niepowodzenie w zastosowaniu najlepszych rozwiązań i wskazówki dotyczące projektowania podczas projektowania aplikacji.</span><span class="sxs-lookup"><span data-stu-id="187ac-110">Failure to apply best practices and design guidelines during the application design process.</span></span>  <span data-ttu-id="187ac-111">Zobacz [omówienie tworzenia bazy danych SQL](sql-database-develop-overview.md) rozpocząć pracę.</span><span class="sxs-lookup"><span data-stu-id="187ac-111">See [SQL Database Development Overview](sql-database-develop-overview.md) to get started.</span></span>
* <span data-ttu-id="187ac-112">Rekonfiguracji bazy danych SQL Azure</span><span class="sxs-lookup"><span data-stu-id="187ac-112">Azure SQL Database reconfiguration</span></span>
* <span data-ttu-id="187ac-113">Ustawienia zapory</span><span class="sxs-lookup"><span data-stu-id="187ac-113">Firewall settings</span></span>
* <span data-ttu-id="187ac-114">Limit czasu połączenia</span><span class="sxs-lookup"><span data-stu-id="187ac-114">Connection time-out</span></span>
* <span data-ttu-id="187ac-115">Informacje logowania niepoprawne</span><span class="sxs-lookup"><span data-stu-id="187ac-115">Incorrect login information</span></span>
* <span data-ttu-id="187ac-116">Osiągnięto maksymalny limit dla niektórych zasobów bazy danych SQL Azure</span><span class="sxs-lookup"><span data-stu-id="187ac-116">Maximum limit reached on some Azure SQL Database resources</span></span>

<span data-ttu-id="187ac-117">Ogólnie rzecz biorąc problemy z połączeniem z bazą danych SQL Azure mogą być klasyfikowane w następujący sposób:</span><span class="sxs-lookup"><span data-stu-id="187ac-117">Generally, connection issues to Azure SQL Database can be classified as follows:</span></span>

* [<span data-ttu-id="187ac-118">Błędów przejściowych (krótkim okresie lub sporadyczne)</span><span class="sxs-lookup"><span data-stu-id="187ac-118">Transient errors (short-lived or intermittent)</span></span>](#troubleshoot-transient-errors)
* [<span data-ttu-id="187ac-119">Trwałe lub nieprzejściowego błędów (błędy, które regularnie powtarzać)</span><span class="sxs-lookup"><span data-stu-id="187ac-119">Persistent or non-transient errors (errors that regularly recur)</span></span>](#troubleshoot-persistent-errors)

## <a name="try-the-troubleshooter-for-azure-sql-database-connectivity-issues"></a><span data-ttu-id="187ac-120">Spróbuj rozwiązywania problemów łączności bazy danych SQL Azure</span><span class="sxs-lookup"><span data-stu-id="187ac-120">Try the troubleshooter for Azure SQL Database connectivity issues</span></span>
<span data-ttu-id="187ac-121">W razie wystąpienia błędu określonego połączenia spróbować [to narzędzie](https://support.microsoft.com/help/10085/troubleshooting-connectivity-issues-with-microsoft-azure-sql-database), który będzie pomagają w szybkim tożsamości i rozwiązania problemu.</span><span class="sxs-lookup"><span data-stu-id="187ac-121">If you encounter a specific connection error, try [this tool](https://support.microsoft.com/help/10085/troubleshooting-connectivity-issues-with-microsoft-azure-sql-database), which will help you quickly identity and resolve your problem.</span></span>

## <a name="troubleshoot-transient-errors"></a><span data-ttu-id="187ac-122">Rozwiązywanie błędów przejściowych</span><span class="sxs-lookup"><span data-stu-id="187ac-122">Troubleshoot transient errors</span></span>

<span data-ttu-id="187ac-123">Jeśli aplikacja łączy się z bazą danych Azure SQL, pojawi się następujący komunikat o błędzie:</span><span class="sxs-lookup"><span data-stu-id="187ac-123">When an application connects to an Azure SQL database, you receive the following error message:</span></span>

```
Error code 40613: "Database <x> on server <y> is not currently available. Please retry the connection later. If the problem persists, contact customer support, and provide them the session tracing ID of <z>"
```

> [!NOTE]
> <span data-ttu-id="187ac-124">Ten komunikat o błędzie jest zwykle charakter przejściowy (krótkim okresie).</span><span class="sxs-lookup"><span data-stu-id="187ac-124">This error message is typically transient (short-lived).</span></span>
> 
> 

<span data-ttu-id="187ac-125">Ten błąd występuje, gdy trwa bazy danych Azure przenieść (lub ponownie skonfigurować) i aplikacji utraci połączenie z bazą danych SQL.</span><span class="sxs-lookup"><span data-stu-id="187ac-125">This error occurs when the Azure database is being moved (or reconfigured) and your application loses its connection to the SQL database.</span></span> <span data-ttu-id="187ac-126">Występują zdarzenia ponownej konfiguracji bazy danych SQL z powodu planowanych zdarzeń (na przykład uaktualnienie oprogramowania) lub nieplanowanego zdarzenia (na przykład awaria procesu lub równoważenia obciążenia).</span><span class="sxs-lookup"><span data-stu-id="187ac-126">SQL database reconfiguration events occur because of a planned event (for example, a software upgrade) or an unplanned event (for example, a process crash, or load balancing).</span></span> <span data-ttu-id="187ac-127">Większość zdarzeń zmiany konfiguracji są zazwyczaj w krótkim okresie i należy wykonać w mniej niż 60 sekund co najwyżej.</span><span class="sxs-lookup"><span data-stu-id="187ac-127">Most reconfiguration events are generally short-lived and should be completed in less than 60 seconds at most.</span></span> <span data-ttu-id="187ac-128">Jednak te zdarzenia czasami może trwać dłużej, aby zakończyć, takie jak kiedy dużych transakcji powoduje odzyskiwania długotrwałe.</span><span class="sxs-lookup"><span data-stu-id="187ac-128">However, these events can occasionally take longer to finish, such as when a large transaction causes a long-running recovery.</span></span>

### <a name="steps-to-resolve-transient-connectivity-issues"></a><span data-ttu-id="187ac-129">Czynności umożliwiające rozwiązywanie problemów z łącznością przejściowej</span><span class="sxs-lookup"><span data-stu-id="187ac-129">Steps to resolve transient connectivity issues</span></span>

1. <span data-ttu-id="187ac-130">Sprawdź [pulpicie nawigacyjnym usługi systemu Microsoft Azure](https://azure.microsoft.com/status) dla znanych wystąpienia awarii, które wystąpiły w czasie, w którym błędy zostały zgłoszone przez aplikację.</span><span class="sxs-lookup"><span data-stu-id="187ac-130">Check the [Microsoft Azure Service Dashboard](https://azure.microsoft.com/status) for any known outages that occurred during the time during which the errors were reported by the application.</span></span>
2. <span data-ttu-id="187ac-131">Aplikacje łączące się usługa w chmurze, takich jak bazy danych SQL Azure należy oczekiwać zdarzenia okresowe ponowna konfiguracja i wdrożenie ponów logiki do obsługi tych błędów zamiast udostępniając je jako błędy aplikacji dla użytkowników.</span><span class="sxs-lookup"><span data-stu-id="187ac-131">Applications that connect to a cloud service such as Azure SQL Database should expect periodic reconfiguration events and implement retry logic to handle these errors instead of surfacing these as application errors to users.</span></span> <span data-ttu-id="187ac-132">Przegląd [błędów przejściowych](sql-database-connectivity-issues.md) sekcji i najlepszych rozwiązań i zaleceń dotyczących projektowania w [omówienie tworzenia bazy danych SQL](sql-database-develop-overview.md) uzyskać więcej informacji oraz ogólne ponów strategii.</span><span class="sxs-lookup"><span data-stu-id="187ac-132">Review the [Transient errors](sql-database-connectivity-issues.md) section and the best practices and design guidelines at [SQL Database Development Overview](sql-database-develop-overview.md) for more information and general retry strategies.</span></span> <span data-ttu-id="187ac-133">Następnie, zobacz przykłady kodu w [biblioteki połączeń dla bazy danych SQL i programu SQL Server](sql-database-libraries.md) dla szczegółowych informacji.</span><span class="sxs-lookup"><span data-stu-id="187ac-133">Then, see code samples at [Connection Libraries for SQL Database and SQL Server](sql-database-libraries.md) for specifics.</span></span>
3. <span data-ttu-id="187ac-134">Jako bazę danych zbliża się limit zasobów, może wydawać się to problem przejściowy łączności.</span><span class="sxs-lookup"><span data-stu-id="187ac-134">As a database approaches its resource limits, it can seem to be a transient connectivity issue.</span></span> <span data-ttu-id="187ac-135">Zobacz [Rozwiązywanie problemów z wydajnością](sql-database-troubleshoot-performance.md).</span><span class="sxs-lookup"><span data-stu-id="187ac-135">See [Troubleshooting Performance Issues](sql-database-troubleshoot-performance.md).</span></span>
4. <span data-ttu-id="187ac-136">Jeśli występują problemy z łącznością kontynuować, lub jeśli czas trwania, dla których aplikacja napotka błąd przekracza 60 sekund, lub jeśli wiele wystąpień błędu w danym dniu, pliku żądania pomocy technicznej platformy Azure, wybierając **uzyskać obsługuje**na [pomocą techniczną platformy Azure](https://azure.microsoft.com/support/options) lokacji.</span><span class="sxs-lookup"><span data-stu-id="187ac-136">If connectivity problems continue, or if the duration for which your application encounters the error exceeds 60 seconds or if you see multiple occurrences of the error in a given day, file an Azure support request by selecting **Get Support** on the [Azure Support](https://azure.microsoft.com/support/options) site.</span></span>

## <a name="troubleshoot-persistent-errors"></a><span data-ttu-id="187ac-137">Rozwiązywanie problemów trwałych</span><span class="sxs-lookup"><span data-stu-id="187ac-137">Troubleshoot persistent errors</span></span>
<span data-ttu-id="187ac-138">Jeśli aplikacja trwale nie może nawiązać połączenia z bazą danych SQL Azure, zwykle wskazuje problem z jedną z następujących czynności:</span><span class="sxs-lookup"><span data-stu-id="187ac-138">If the application persistently fails to connect to Azure SQL Database, it usually indicates an issue with one of the following:</span></span>

* <span data-ttu-id="187ac-139">Konfiguracja zapory.</span><span class="sxs-lookup"><span data-stu-id="187ac-139">Firewall configuration.</span></span> <span data-ttu-id="187ac-140">Azure SQL bazy danych lub po stronie klienta Zapora blokuje połączenia z bazą danych SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="187ac-140">The Azure SQL database or client-side firewall is blocking connections to Azure SQL Database.</span></span>
* <span data-ttu-id="187ac-141">Ponowna konfiguracja po stronie klienta sieci: na przykład nowy adres IP lub serwer proxy.</span><span class="sxs-lookup"><span data-stu-id="187ac-141">Network reconfiguration on the client side: for example, a new IP address or a proxy server.</span></span>
* <span data-ttu-id="187ac-142">Błąd użytkownika: na przykład błędnie parametry połączenia, takie jak nazwa serwera w parametrach połączenia.</span><span class="sxs-lookup"><span data-stu-id="187ac-142">User error: for example, mistyped connection parameters, such as the server name in the connection string.</span></span>

### <a name="steps-to-resolve-persistent-connectivity-issues"></a><span data-ttu-id="187ac-143">Czynności umożliwiające rozwiązywanie problemów z łącznością trwałych</span><span class="sxs-lookup"><span data-stu-id="187ac-143">Steps to resolve persistent connectivity issues</span></span>
1. <span data-ttu-id="187ac-144">Konfigurowanie [reguły zapory](sql-database-configure-firewall-settings.md) umożliwia adres IP klienta.</span><span class="sxs-lookup"><span data-stu-id="187ac-144">Set up [firewall rules](sql-database-configure-firewall-settings.md) to allow the client IP address.</span></span> <span data-ttu-id="187ac-145">Dla tymczasowych do celów testowych Skonfiguruj regułę zapory przy użyciu 0.0.0.0 jako początkowy zakres adresów IP i 255.255.255.255 jako końcową zakresu adresów IP.</span><span class="sxs-lookup"><span data-stu-id="187ac-145">For temporary testing purposes, set up a firewall rule using 0.0.0.0 as the starting IP address range and using 255.255.255.255 as the ending IP address range.</span></span> <span data-ttu-id="187ac-146">Spowoduje to otwarcie serwera dla wszystkich adresów IP.</span><span class="sxs-lookup"><span data-stu-id="187ac-146">This will open the server to all IP addresses.</span></span> <span data-ttu-id="187ac-147">Jeśli to rozwiązuje problem z łącznością, należy usunąć tę regułę i utworzyć regułę zapory odpowiednio ograniczone adres IP lub zakres adresów.</span><span class="sxs-lookup"><span data-stu-id="187ac-147">If this resolves your connectivity issue, remove this rule and create a firewall rule for an appropriately limited IP address or address range.</span></span> 
2. <span data-ttu-id="187ac-148">Upewnij się, że port 1433 jest otwarty dla połączeń wychodzących na wszystkie zapory między klientem a Internetem.</span><span class="sxs-lookup"><span data-stu-id="187ac-148">On all firewalls between the client and the Internet, make sure that port 1433 is open for outbound connections.</span></span> <span data-ttu-id="187ac-149">Przegląd [konfigurowania Zapory systemu Windows, aby umożliwić dostępu programu SQL Server](https://msdn.microsoft.com/library/cc646023.aspx) i [hybrydowego tożsamości wymagane porty i protokoły](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnect-ports) dla dodatkowych wskaźników związane z dodatkowych portów, które należy otworzyć na platformie Azure Uwierzytelnianie usługi Active Directory.</span><span class="sxs-lookup"><span data-stu-id="187ac-149">Review [Configure the Windows Firewall to Allow SQL Server Access](https://msdn.microsoft.com/library/cc646023.aspx) and [Hybrid Identity Required Ports and Protocols](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnect-ports) for additional pointers related to additional ports that you need to open for Azure Active Directory authentication.</span></span>
3. <span data-ttu-id="187ac-150">Sprawdź ciąg połączenia i inne ustawienia połączenia.</span><span class="sxs-lookup"><span data-stu-id="187ac-150">Verify your connection string and other connection settings.</span></span> <span data-ttu-id="187ac-151">W sekcji parametrów połączenia w [tematu problemy z łącznością](sql-database-connectivity-issues.md#connections-to-azure-sql-database).</span><span class="sxs-lookup"><span data-stu-id="187ac-151">See the Connection String section in the [connectivity issues topic](sql-database-connectivity-issues.md#connections-to-azure-sql-database).</span></span>
4. <span data-ttu-id="187ac-152">Sprawdź kondycję usług na pulpicie nawigacyjnym.</span><span class="sxs-lookup"><span data-stu-id="187ac-152">Check service health in the dashboard.</span></span> <span data-ttu-id="187ac-153">Jeśli uważasz, że istnieje regionalnej awarii, zobacz [odzyskiwanie po awarii](sql-database-disaster-recovery.md) dla czynności, aby odzyskać do nowego regionu.</span><span class="sxs-lookup"><span data-stu-id="187ac-153">If you think there’s a regional outage, see [Recover from an outage](sql-database-disaster-recovery.md) for steps to recover to a new region.</span></span>

## <a name="next-steps"></a><span data-ttu-id="187ac-154">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="187ac-154">Next steps</span></span>
* [<span data-ttu-id="187ac-155">Rozwiązywanie problemów z wydajnością bazy danych SQL Azure</span><span class="sxs-lookup"><span data-stu-id="187ac-155">Troubleshoot Azure SQL Database performance issues</span></span>](sql-database-troubleshoot-performance.md)
* [<span data-ttu-id="187ac-156">Wyszukiwanie w dokumentacji w systemie Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="187ac-156">Search the documentation on Microsoft Azure</span></span>](http://azure.microsoft.com/search/documentation/)
* [<span data-ttu-id="187ac-157">Wyświetl najnowsze aktualizacje do usługi baza danych SQL Azure</span><span class="sxs-lookup"><span data-stu-id="187ac-157">View the latest updates to the Azure SQL Database service</span></span>](http://azure.microsoft.com/updates/?service=sql-database)

## <a name="additional-resources"></a><span data-ttu-id="187ac-158">Dodatkowe zasoby</span><span class="sxs-lookup"><span data-stu-id="187ac-158">Additional resources</span></span>
* [<span data-ttu-id="187ac-159">Omówienie tworzenia bazy danych SQL</span><span class="sxs-lookup"><span data-stu-id="187ac-159">SQL Database Development Overview</span></span>](sql-database-develop-overview.md)
* [<span data-ttu-id="187ac-160">Ogólne wskazówki obsługi błędów przejściowych</span><span class="sxs-lookup"><span data-stu-id="187ac-160">General transient fault-handling guidance</span></span>](../best-practices-retry-general.md)
* [<span data-ttu-id="187ac-161">Biblioteki połączeń dla bazy danych SQL i programu SQL Server</span><span class="sxs-lookup"><span data-stu-id="187ac-161">Connection libraries for SQL Database and SQL Server</span></span>](sql-database-libraries.md)

