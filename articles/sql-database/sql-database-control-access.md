---
title: "aaaGranting tooAzure dostępu do bazy danych SQL | Dokumentacja firmy Microsoft"
description: "Więcej informacji o przyznanie dostępu tooMicrosoft bazy danych SQL Azure."
services: sql-database
documentationcenter: 
author: BYHAM
manager: jhubbard
editor: 
tags: 
ms.assetid: 8e71b04c-bc38-4153-8f83-f2b14faa31d9
ms.service: sql-database
ms.custom: security
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: data-management
ms.date: 02/06/2017
ms.author: rickbyh
ms.openlocfilehash: 4c32fafa7e98b731ff2f9bf4666da7e4a3145286
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="azure-sql-database-access-control"></a><span data-ttu-id="5bee2-103">Kontrola dostępu w usłudze Azure SQL Database</span><span class="sxs-lookup"><span data-stu-id="5bee2-103">Azure SQL Database access control</span></span>
<span data-ttu-id="5bee2-104">tooprovide zabezpieczeń, baza danych SQL kontroluje dostęp przy użyciu reguł zapory ograniczenie łączności za pomocą adresu IP mechanizmów uwierzytelniania wymagające tooprove użytkowników, tożsamości i ograniczanie użytkowników toospecific akcji i dane mechanizmów autoryzacji.</span><span class="sxs-lookup"><span data-stu-id="5bee2-104">tooprovide security, SQL Database controls access with firewall rules limiting connectivity by IP address, authentication mechanisms requiring users tooprove their identity, and authorization mechanisms limiting users toospecific actions and data.</span></span> 

> [!IMPORTANT]
> <span data-ttu-id="5bee2-105">Przegląd funkcji zabezpieczeń hello bazy danych SQL, zobacz [Omówienie zabezpieczeń SQL](sql-database-security-overview.md).</span><span class="sxs-lookup"><span data-stu-id="5bee2-105">For an overview of hello SQL Database security features, see [SQL security overview](sql-database-security-overview.md).</span></span> <span data-ttu-id="5bee2-106">Samouczek, zobacz [zabezpieczenia bazy danych SQL Azure](sql-database-security-tutorial.md).</span><span class="sxs-lookup"><span data-stu-id="5bee2-106">For a tutorial, see [Secure your Azure SQL Database](sql-database-security-tutorial.md).</span></span>

## <a name="firewall-and-firewall-rules"></a><span data-ttu-id="5bee2-107">Zapora i reguły zapory</span><span class="sxs-lookup"><span data-stu-id="5bee2-107">Firewall and firewall rules</span></span>
<span data-ttu-id="5bee2-108">Usługa Microsoft Azure SQL Database udostępnia usługę relacyjnej bazy danych dla platformy Azure i innych aplikacji internetowych.</span><span class="sxs-lookup"><span data-stu-id="5bee2-108">Microsoft Azure SQL Database provides a relational database service for Azure and other Internet-based applications.</span></span> <span data-ttu-id="5bee2-109">toohelp chronić dane, zapór zapobiec wszystkich serwera bazy danych tooyour dostępu do chwili określenia komputery, które ma uprawnienia.</span><span class="sxs-lookup"><span data-stu-id="5bee2-109">toohelp protect your data, firewalls prevent all access tooyour database server until you specify which computers have permission.</span></span> <span data-ttu-id="5bee2-110">Zapora Hello przyznaje toodatabases dostępu oparte na powitania pochodzące z adresu IP dla każdego żądania.</span><span class="sxs-lookup"><span data-stu-id="5bee2-110">hello firewall grants access toodatabases based on hello originating IP address of each request.</span></span> <span data-ttu-id="5bee2-111">Aby uzyskać więcej informacji, zobacz [Omówienie reguł zapory usługi Azure SQL Database](sql-database-firewall-configure.md)</span><span class="sxs-lookup"><span data-stu-id="5bee2-111">For more information, see [Overview of Azure SQL Database firewall rules](sql-database-firewall-configure.md)</span></span>

<span data-ttu-id="5bee2-112">Witaj usługi baza danych SQL Azure jest dostępna tylko za pośrednictwem portu TCP 1433.</span><span class="sxs-lookup"><span data-stu-id="5bee2-112">hello Azure SQL Database service is only available through TCP port 1433.</span></span> <span data-ttu-id="5bee2-113">tooaccess bazy danych SQL z komputera, sprawdź, czy zapory komputera klienta pozwalają wychodzących komunikacji TCP na porcie TCP 1433.</span><span class="sxs-lookup"><span data-stu-id="5bee2-113">tooaccess a SQL Database from your computer, ensure that your client computer firewall allows outgoing TCP communication on TCP port 1433.</span></span> <span data-ttu-id="5bee2-114">Należy zablokować połączenia przychodzące na porcie TCP 1433, jeśli nie są one wymagane przez inne aplikacje.</span><span class="sxs-lookup"><span data-stu-id="5bee2-114">If not needed for other applications, block inbound connections on TCP port 1433.</span></span> 

<span data-ttu-id="5bee2-115">W trakcie procesu połączenia hello połączenia z maszyn wirtualnych platformy Azure są tooa przekierowane na inny adres IP i port unikatowa dla każdej roli procesu roboczego.</span><span class="sxs-lookup"><span data-stu-id="5bee2-115">As part of hello connection process, connections from Azure virtual machines are redirected tooa different IP address and port, unique for each worker role.</span></span> <span data-ttu-id="5bee2-116">numer portu Hello jest poza zakresem powitania od 11000 too11999.</span><span class="sxs-lookup"><span data-stu-id="5bee2-116">hello port number is in hello range from 11000 too11999.</span></span> <span data-ttu-id="5bee2-117">Aby uzyskać więcej informacji na temat portów TCP, zobacz [porty inne niż 1433 ADO.NET 4.5 i SQL Database2](sql-database-develop-direct-route-ports-adonet-v12.md).</span><span class="sxs-lookup"><span data-stu-id="5bee2-117">For more information about TCP ports, see [Ports beyond 1433 for ADO.NET 4.5 and SQL Database2](sql-database-develop-direct-route-ports-adonet-v12.md).</span></span>

## <a name="authentication"></a><span data-ttu-id="5bee2-118">Authentication</span><span class="sxs-lookup"><span data-stu-id="5bee2-118">Authentication</span></span>

<span data-ttu-id="5bee2-119">Usługa SQL Database obsługuje dwa typy uwierzytelniania:</span><span class="sxs-lookup"><span data-stu-id="5bee2-119">SQL Database supports two types of authentication:</span></span>

* <span data-ttu-id="5bee2-120">**Uwierzytelnianie usługi SQL**, które używa nazwy użytkownika i hasła.</span><span class="sxs-lookup"><span data-stu-id="5bee2-120">**SQL Authentication**, which uses a username and password.</span></span> <span data-ttu-id="5bee2-121">Po utworzeniu powitania serwera logicznego bazy danych określonego identyfikatora logowania "administratora serwera" przy użyciu nazwy użytkownika i hasła.</span><span class="sxs-lookup"><span data-stu-id="5bee2-121">When you created hello logical server for your database, you specified a "server admin" login with a username and password.</span></span> <span data-ttu-id="5bee2-122">Przy użyciu tych poświadczeń, można uwierzytelniać tooany baza danych na tym serwerze jako właściciel bazy danych hello lub "właściciela".</span><span class="sxs-lookup"><span data-stu-id="5bee2-122">Using these credentials, you can authenticate tooany database on that server as hello database owner, or "dbo."</span></span> 
* <span data-ttu-id="5bee2-123">**Uwierzytelnianie usługi Azure Active Directory**, które korzysta z tożsamości zarządzanej przez usługę Azure Active Directory i jest obsługiwane w przypadku zarządzanych i zintegrowanych domen.</span><span class="sxs-lookup"><span data-stu-id="5bee2-123">**Azure Active Directory Authentication**, which uses identities managed by Azure Active Directory and is supported for managed and integrated domains.</span></span> <span data-ttu-id="5bee2-124">Używaj uwierzytelniania usługi Active Directory (zabezpieczeń zintegrowanych), [gdy tylko jest to możliwe](https://docs.microsoft.com/sql/relational-databases/security/choose-an-authentication-mode).</span><span class="sxs-lookup"><span data-stu-id="5bee2-124">Use Active Directory authentication (integrated security) [whenever possible](https://docs.microsoft.com/sql/relational-databases/security/choose-an-authentication-mode).</span></span> <span data-ttu-id="5bee2-125">Jeśli chcesz toouse uwierzytelniania usługi Azure Active Directory, należy utworzyć inny administrator serwera o nazwie hello "Administratora usługi Azure AD," zezwala tooadminister usługi Azure AD użytkownicy i grupy.</span><span class="sxs-lookup"><span data-stu-id="5bee2-125">If you want toouse Azure Active Directory Authentication, you must create another server admin called hello "Azure AD admin," which is allowed tooadminister Azure AD users and groups.</span></span> <span data-ttu-id="5bee2-126">Ten administrator może również wykonywać wszystkie operacje, które może wykonać zwykły administrator serwera.</span><span class="sxs-lookup"><span data-stu-id="5bee2-126">This admin can also perform all operations that a regular server admin can.</span></span> <span data-ttu-id="5bee2-127">Zobacz [łączenie tooSQL bazy danych przy użyciu usługi Azure uwierzytelnianie usługi Active Directory](sql-database-aad-authentication.md) dla przewodnik toocreate tooenable administratora usługi Azure AD uwierzytelniania usługi Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="5bee2-127">See [Connecting tooSQL Database By Using Azure Active Directory Authentication](sql-database-aad-authentication.md) for a walkthrough of how toocreate an Azure AD admin tooenable Azure Active Directory Authentication.</span></span>

<span data-ttu-id="5bee2-128">Hello aparatu bazy danych powoduje zamknięcie połączenia, które bezczynnej ponad 30 minut.</span><span class="sxs-lookup"><span data-stu-id="5bee2-128">hello Database Engine closes connections that remain idle for more than 30 minutes.</span></span> <span data-ttu-id="5bee2-129">Witaj połączenia musi logowania ponownie, zanim będzie można go używać.</span><span class="sxs-lookup"><span data-stu-id="5bee2-129">hello connection must login again before it can be used.</span></span> <span data-ttu-id="5bee2-130">Stale tooSQL aktywnych połączeń bazy danych wymagają ponowna Autoryzacja (wykonywane przez aparat bazy danych hello) co najmniej co 10 godzin.</span><span class="sxs-lookup"><span data-stu-id="5bee2-130">Continuously active connections tooSQL Database require reauthorization (performed by hello database engine) at least every 10 hours.</span></span> <span data-ttu-id="5bee2-131">Aparat bazy danych Hello prób ponowna autoryzacja przy użyciu hasła pierwotnie przesłanych hello i nie danych wejściowych użytkownika jest wymagana.</span><span class="sxs-lookup"><span data-stu-id="5bee2-131">hello database engine attempts reauthorization using hello originally submitted password and no user input is required.</span></span> <span data-ttu-id="5bee2-132">Ze względu na wydajność, po zresetowaniu hasła w bazie danych SQL, hello połączenie nie jest można następuje ponowne uwierzytelnianie, nawet jeśli hello połączenia jest resetowany powodu tooconnection korzystanie z puli.</span><span class="sxs-lookup"><span data-stu-id="5bee2-132">For performance reasons, when a password is reset in SQL Database, hello connection is not be reauthenticated, even if hello connection is reset due tooconnection pooling.</span></span> <span data-ttu-id="5bee2-133">To jest inna niż hello zachowanie lokalnego programu SQL Server.</span><span class="sxs-lookup"><span data-stu-id="5bee2-133">This is different from hello behavior of on-premises SQL Server.</span></span> <span data-ttu-id="5bee2-134">Jeśli hello hasło zostało zmienione, ponieważ połączenie hello początkowo został autoryzowany, hello połączenia musi być zakończona, a nowe połączenie zostało nawiązane przy użyciu hello nowe hasło.</span><span class="sxs-lookup"><span data-stu-id="5bee2-134">If hello password has been changed since hello connection was initially authorized, hello connection must be terminated and a new connection made using hello new password.</span></span> <span data-ttu-id="5bee2-135">Użytkownik z hello `KILL DATABASE CONNECTION` uprawnień może jednoznacznie zakończyć tooSQL połączenia bazy danych przy użyciu hello [KILL](https://docs.microsoft.com/sql/t-sql/language-elements/kill-transact-sql) polecenia.</span><span class="sxs-lookup"><span data-stu-id="5bee2-135">A user with hello `KILL DATABASE CONNECTION` permission can explicitly terminate a connection tooSQL Database by using hello [KILL](https://docs.microsoft.com/sql/t-sql/language-elements/kill-transact-sql) command.</span></span>

<span data-ttu-id="5bee2-136">Konta użytkowników mogą być tworzone w bazie danych master hello i może otrzymać uprawnienia we wszystkich baz danych na serwerze hello, lub też można tworzyć w bazie danych hello, (nazywany zawartych użytkowników).</span><span class="sxs-lookup"><span data-stu-id="5bee2-136">User accounts can be created in hello master database and can be granted permissions in all databases on hello server, or they can be created in hello database itself (called contained users).</span></span> <span data-ttu-id="5bee2-137">Aby uzyskać informacje dotyczące tworzenia danych logowania i zarządzania nimi, zobacz [Zarządzanie danymi logowania](sql-database-manage-logins.md).</span><span class="sxs-lookup"><span data-stu-id="5bee2-137">For information on creating and managing logins, see [Manage logins](sql-database-manage-logins.md).</span></span> <span data-ttu-id="5bee2-138">przenośność tooenhance i scalabilty, użyj skalowalność tooenhance użytkowników zawartej bazy danych.</span><span class="sxs-lookup"><span data-stu-id="5bee2-138">tooenhance portability and scalabilty, use contained database users tooenhance scalability.</span></span> <span data-ttu-id="5bee2-139">Aby uzyskać więcej informacji na temat zawartych użytkowników, zobacz [Użytkownicy zawartej bazy danych — tworzenie przenośnej bazy danych](https://docs.microsoft.com/sql/relational-databases/security/contained-database-users-making-your-database-portable), [CREATE USER (Transact-SQL)](https://docs.microsoft.com/sql/t-sql/statements/create-user-transact-sql) i [Zawarte bazy danych](https://docs.microsoft.com/sql/relational-databases/databases/contained-databases).</span><span class="sxs-lookup"><span data-stu-id="5bee2-139">For more information on contained users, see [Contained Database Users - Making Your Database Portable](https://docs.microsoft.com/sql/relational-databases/security/contained-database-users-making-your-database-portable), [CREATE USER (Transact-SQL)](https://docs.microsoft.com/sql/t-sql/statements/create-user-transact-sql), and [Contained Databases](https://docs.microsoft.com/sql/relational-databases/databases/contained-databases).</span></span>

<span data-ttu-id="5bee2-140">Jako najlepsze rozwiązanie aplikacji należy używać tooauthenticate dedykowane konto — dzięki temu można ograniczać hello uprawnienia przyznane aplikacji toohello i zmniejszenia ryzyka hello złośliwych działań, w przypadku, gdy kod aplikacji jest narażony tooa iniekcja kodu SQL atak.</span><span class="sxs-lookup"><span data-stu-id="5bee2-140">As a best practice your application should use a dedicated account tooauthenticate -- this way you can limit hello permissions granted toohello application and reduce hello risks of malicious activity in case your application code is vulnerable tooa SQL injection attack.</span></span> <span data-ttu-id="5bee2-141">Witaj zalecane podejście jest toocreate [zawartej bazy danych użytkownika](https://docs.microsoft.com/sql/relational-databases/security/contained-database-users-making-your-database-portable), dzięki czemu tooauthenticate Twojej aplikacji bezpośrednio toohello bazy danych.</span><span class="sxs-lookup"><span data-stu-id="5bee2-141">hello recommended approach is toocreate a [contained database user](https://docs.microsoft.com/sql/relational-databases/security/contained-database-users-making-your-database-portable), which allows your app tooauthenticate directly toohello database.</span></span> 

## <a name="authorization"></a><span data-ttu-id="5bee2-142">Autoryzacja</span><span class="sxs-lookup"><span data-stu-id="5bee2-142">Authorization</span></span>

<span data-ttu-id="5bee2-143">Toowhat odwołuje się autoryzacji użytkownika mogą wykonywać w bazie danych SQL Azure i jest to kontrolowane przez konto użytkownika w bazie danych [członkostwo w rolach](https://docs.microsoft.com/sql/relational-databases/security/authentication-access/database-level-roles) i [uprawnienia na poziomie obiektu](https://docs.microsoft.com/sql/relational-databases/security/permissions-database-engine).</span><span class="sxs-lookup"><span data-stu-id="5bee2-143">Authorization refers toowhat a user can do within an Azure SQL Database, and this is controlled by your user account's database [role memberships](https://docs.microsoft.com/sql/relational-databases/security/authentication-access/database-level-roles) and [object-level permissions](https://docs.microsoft.com/sql/relational-databases/security/permissions-database-engine).</span></span> <span data-ttu-id="5bee2-144">Najlepszym rozwiązaniem należy udzielić hello użytkowników co najmniej niezbędne uprawnienia.</span><span class="sxs-lookup"><span data-stu-id="5bee2-144">As a best practice, you should grant users hello least privileges necessary.</span></span> <span data-ttu-id="5bee2-145">konto administratora serwera Hello łączysz się z jest członek roli db_owner, którego urząd toodo żadnych elementów hello bazy danych.</span><span class="sxs-lookup"><span data-stu-id="5bee2-145">hello server admin account you are connecting with is a member of db_owner, which has authority toodo anything within hello database.</span></span> <span data-ttu-id="5bee2-146">Zapisz to konto, aby móc wdrażać uaktualnienia schematów i wykonywać inne operacje zarządzania.</span><span class="sxs-lookup"><span data-stu-id="5bee2-146">Save this account for deploying schema upgrades and other management operations.</span></span> <span data-ttu-id="5bee2-147">Korzystać z bardziej ograniczone uprawnienia tooconnect z bazy danych toohello aplikacji za pomocą hello konta "ApplicationUser" hello najniższych uprawnień wymaganych przez aplikację.</span><span class="sxs-lookup"><span data-stu-id="5bee2-147">Use hello "ApplicationUser" account with more limited permissions tooconnect from your application toohello database with hello least privileges needed by your application.</span></span> <span data-ttu-id="5bee2-148">Aby uzyskać więcej informacji, zobacz temat [Zarządzanie danymi logowania](sql-database-manage-logins.md).</span><span class="sxs-lookup"><span data-stu-id="5bee2-148">For more information, see [Manage logins](sql-database-manage-logins.md).</span></span>

<span data-ttu-id="5bee2-149">Zwykle tylko administratorzy muszą uzyskać dostęp toohello `master` bazy danych.</span><span class="sxs-lookup"><span data-stu-id="5bee2-149">Typically, only administrators need access toohello `master` database.</span></span> <span data-ttu-id="5bee2-150">Rutynowe dostępu tooeach użytkownika do bazy danych powinna być za pośrednictwem użytkownicy inni niż administrator zawartej bazy danych utworzone w każdej bazie danych.</span><span class="sxs-lookup"><span data-stu-id="5bee2-150">Routine access tooeach user database should be through non-administrator contained database users created in each database.</span></span> <span data-ttu-id="5bee2-151">Gdy używasz użytkowników zawartej bazy danych nie ma potrzeby toocreate logowania w hello `master` bazy danych.</span><span class="sxs-lookup"><span data-stu-id="5bee2-151">When you use contained database users, you do not need toocreate logins in hello `master` database.</span></span> <span data-ttu-id="5bee2-152">Aby uzyskać więcej informacji, zobacz artykuł [Contained Database Users - Making Your Database Portable](https://docs.microsoft.com/sql/relational-databases/security/contained-database-users-making-your-database-portable) (Użytkownicy zawartej bazy danych — tworzenie przenośnej bazy danych).</span><span class="sxs-lookup"><span data-stu-id="5bee2-152">For more information, see [Contained Database Users - Making Your Database Portable](https://docs.microsoft.com/sql/relational-databases/security/contained-database-users-making-your-database-portable).</span></span>

<span data-ttu-id="5bee2-153">Należy zapoznać się z hello następujące funkcje, które może być używane toolimit lub podniesienia poziomu uprawnień:</span><span class="sxs-lookup"><span data-stu-id="5bee2-153">You should familiarize yourself with hello following features that can be used toolimit or elevate permissions:</span></span>   
* <span data-ttu-id="5bee2-154">[Personifikacja](https://docs.microsoft.com/dotnet/framework/data/adonet/sql/customizing-permissions-with-impersonation-in-sql-server) i [moduł podpisywania](https://docs.microsoft.com/dotnet/framework/data/adonet/sql/signing-stored-procedures-in-sql-server) mogą być używane toosecurely podniesienia poziomu uprawnień tymczasowo.</span><span class="sxs-lookup"><span data-stu-id="5bee2-154">[Impersonation](https://docs.microsoft.com/dotnet/framework/data/adonet/sql/customizing-permissions-with-impersonation-in-sql-server) and [module-signing](https://docs.microsoft.com/dotnet/framework/data/adonet/sql/signing-stored-procedures-in-sql-server) can be used toosecurely elevate permissions temporarily.</span></span>
* <span data-ttu-id="5bee2-155">[Zabezpieczeń na poziomie wiersza](https://docs.microsoft.com/sql/relational-databases/security/row-level-security) można używać do ograniczania zbioru wierszy, do których użytkownik może uzyskać dostęp.</span><span class="sxs-lookup"><span data-stu-id="5bee2-155">[Row-Level Security](https://docs.microsoft.com/sql/relational-databases/security/row-level-security) can be used limit which rows a user can access.</span></span>
* <span data-ttu-id="5bee2-156">[Maskowanie danych](sql-database-dynamic-data-masking-get-started.md) mogą być używane toolimit ujawnianie danych wrażliwych.</span><span class="sxs-lookup"><span data-stu-id="5bee2-156">[Data Masking](sql-database-dynamic-data-masking-get-started.md) can be used toolimit exposure of sensitive data.</span></span>
* <span data-ttu-id="5bee2-157">[Procedury składowane](https://docs.microsoft.com/sql/relational-databases/stored-procedures/stored-procedures-database-engine) mogą być używane toolimit hello akcje, które można podjąć w bazie danych hello.</span><span class="sxs-lookup"><span data-stu-id="5bee2-157">[Stored procedures](https://docs.microsoft.com/sql/relational-databases/stored-procedures/stored-procedures-database-engine) can be used toolimit hello actions that can be taken on hello database.</span></span>

## <a name="next-steps"></a><span data-ttu-id="5bee2-158">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="5bee2-158">Next steps</span></span>

- <span data-ttu-id="5bee2-159">Przegląd funkcji zabezpieczeń hello bazy danych SQL, zobacz [Omówienie zabezpieczeń SQL](sql-database-security-overview.md).</span><span class="sxs-lookup"><span data-stu-id="5bee2-159">For an overview of hello SQL Database security features, see [SQL security overview](sql-database-security-overview.md).</span></span>
- <span data-ttu-id="5bee2-160">toolearn więcej informacji na temat reguł zapory, zobacz [reguły zapory](sql-database-firewall-configure.md).</span><span class="sxs-lookup"><span data-stu-id="5bee2-160">toolearn more about firewall rules, see [Firewall rules](sql-database-firewall-configure.md).</span></span>
- <span data-ttu-id="5bee2-161">toolearn o użytkownikach i logowania, zobacz [Zarządzanie logowania](sql-database-manage-logins.md).</span><span class="sxs-lookup"><span data-stu-id="5bee2-161">toolearn about users and logins, see [Manage logins](sql-database-manage-logins.md).</span></span> 
- <span data-ttu-id="5bee2-162">Aby uzyskać informacje dotyczące aktywnego monitorowania, zobacz [Database Auditing](sql-database-auditing.md) i [wykrywanie zagrożeń bazy danych SQL](sql-database-threat-detection.md).</span><span class="sxs-lookup"><span data-stu-id="5bee2-162">For a discussion of proactive monitoring, see [Database Auditing](sql-database-auditing.md) and [SQL Database Threat Detection](sql-database-threat-detection.md).</span></span>
- <span data-ttu-id="5bee2-163">Samouczek, zobacz [zabezpieczenia bazy danych SQL Azure](sql-database-security-tutorial.md).</span><span class="sxs-lookup"><span data-stu-id="5bee2-163">For a tutorial, see [Secure your Azure SQL Database](sql-database-security-tutorial.md).</span></span>
