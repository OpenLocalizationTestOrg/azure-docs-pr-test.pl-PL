---
title: "Projektowanie wzorce dla wielodostępnych aplikacji SaaS i usługi Azure SQL Database | Dokumentacja firmy Microsoft"
description: "W tym artykule omówiono wymagania i typowe wzorce Architektura danych bazy danych wielu dzierżawców, aplikacje uruchomione w środowisku chmury, które należy wziąć pod uwagę i różnych skutków ubocznych skojarzone z tych wzorców. Wyjaśniono również, jak bazy danych SQL Azure z elastycznych pul i elastycznych narzędzia pomóc spełnić te wymagania w sposób nie naruszenia."
keywords: 
services: sql-database
documentationcenter: 
author: srinia
manager: jhubbard
editor: 
ms.assetid: 1dd20c6b-ddbb-40ef-ad34-609d398d008a
ms.service: sql-database
ms.custom: scale out apps
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: sqldb-design
ms.date: 02/01/2017
ms.author: srinia
ms.openlocfilehash: 0f6ba62a01f3211ccaae6b6c48f72e0de54aad78
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 07/11/2017
---
# <a name="design-patterns-for-multi-tenant-saas-applications-and-azure-sql-database"></a><span data-ttu-id="7c841-104">Projektowanie wzorce dla wielodostępnych aplikacji SaaS i bazy danych SQL Azure</span><span class="sxs-lookup"><span data-stu-id="7c841-104">Design patterns for multi-tenant SaaS applications and Azure SQL Database</span></span>
<span data-ttu-id="7c841-105">W tym artykule można zapoznać się wymagania i wspólne dane wzorce architektura wielodostępnej oprogramowania jako usługa (SaaS) aplikacje baz danych, które są uruchamiane w środowisku chmury.</span><span class="sxs-lookup"><span data-stu-id="7c841-105">In this article, you can learn about the requirements and common data architecture patterns of multi-tenant software as a service (SaaS) database applications that run in a cloud environment.</span></span> <span data-ttu-id="7c841-106">Wyjaśniono również czynników, które należy wziąć pod uwagę i kompromis wzorce projektowania.</span><span class="sxs-lookup"><span data-stu-id="7c841-106">It also explains the factors you need to consider and the trade-offs of different design patterns.</span></span> <span data-ttu-id="7c841-107">Pule elastyczne i narzędzi elastycznej bazy danych SQL Azure może pomóc własnych wymagań bez naruszania innych celów.</span><span class="sxs-lookup"><span data-stu-id="7c841-107">Elastic pools and elastic tools in Azure SQL Database can help you meet your specific requirements without compromising other objectives.</span></span>

<span data-ttu-id="7c841-108">Deweloperzy czasami podejmować decyzje, które działają przed ich zainteresowaniami najlepsze długoterminowej podczas projektowania modeli dzierżawy dla warstwy danych aplikacje wielodostępne.</span><span class="sxs-lookup"><span data-stu-id="7c841-108">Developers sometimes make choices that work against their long-term best interests when they design tenancy models for the data tiers of multi-tenant applications.</span></span> <span data-ttu-id="7c841-109">Początkowo co najmniej deweloper może szybko wychwycić łatwość programowania i obniżyć koszty dostawcy usług chmury jako większe znaczenie niż izolacji dzierżawców i skalowalność aplikacji.</span><span class="sxs-lookup"><span data-stu-id="7c841-109">Initially, at least, a developer might perceive ease of development and lower cloud service provider costs as more important than tenant isolation or the scalability of an application.</span></span> <span data-ttu-id="7c841-110">Ten wybór może prowadzić do problemów zadowolenia klienta i kosztowne korekty kursu później.</span><span class="sxs-lookup"><span data-stu-id="7c841-110">This choice can lead to customer satisfaction concerns and a costly course-correction later.</span></span>

<span data-ttu-id="7c841-111">Aplikacja wielodostępne jest aplikacji hostowanej w środowisku chmury i który zawiera ten sam zestaw usług setek lub tysięcy dzierżawców, którzy nie udostępniać lub jego dane są widoczne.</span><span class="sxs-lookup"><span data-stu-id="7c841-111">A multi-tenant application is an application hosted in a cloud environment and that provides the same set of services to hundreds or thousands of tenants who do not share or see each other’s data.</span></span> <span data-ttu-id="7c841-112">Przykładem jest aplikacja SaaS, która udostępnia usługi do dzierżawców w środowisku hostowanych w chmurze.</span><span class="sxs-lookup"><span data-stu-id="7c841-112">An example is an SaaS application that provides services to tenants in a cloud-hosted environment.</span></span>

## <a name="multi-tenant-applications"></a><span data-ttu-id="7c841-113">Aplikacje wielodostępne</span><span class="sxs-lookup"><span data-stu-id="7c841-113">Multi-tenant applications</span></span>
<span data-ttu-id="7c841-114">W aplikacjach wielodostępne danych i obciążenia mogą być łatwo partycjonowane.</span><span class="sxs-lookup"><span data-stu-id="7c841-114">In multi-tenant applications, data and workload can be easily partitioned.</span></span> <span data-ttu-id="7c841-115">Można podzielić danych oraz obciążeniu, na przykład na bloki dzierżawy, ponieważ większość żądań są wykonywane w obrębie dzierżawcy.</span><span class="sxs-lookup"><span data-stu-id="7c841-115">You can partition data and workload, for example, along tenant boundaries, because most requests occur within the confines of a tenant.</span></span> <span data-ttu-id="7c841-116">Ta właściwość jest związane z danych i obciążenia, a jego objawach wzorce aplikacji omówione w tym artykule.</span><span class="sxs-lookup"><span data-stu-id="7c841-116">That property is inherent in the data and the workload, and it favors the application patterns discussed in this article.</span></span>

<span data-ttu-id="7c841-117">Deweloperzy używać tego typu aplikacji w aplikacji opartej na chmurze, w tym w pełnym zakresie:</span><span class="sxs-lookup"><span data-stu-id="7c841-117">Developers use this type of application across the whole spectrum of cloud-based applications, including:</span></span>

* <span data-ttu-id="7c841-118">Partner bazy danych aplikacji, które są trwa są przenoszone do chmury co aplikacje SaaS</span><span class="sxs-lookup"><span data-stu-id="7c841-118">Partner database applications that are being transitioned to the cloud as SaaS applications</span></span>
* <span data-ttu-id="7c841-119">Zbudowany dla chmury od podstaw w aplikacji SaaS</span><span class="sxs-lookup"><span data-stu-id="7c841-119">SaaS applications built for the cloud from the ground up</span></span>
* <span data-ttu-id="7c841-120">Bezpośrednie, uwzględniającym klienta aplikacji</span><span class="sxs-lookup"><span data-stu-id="7c841-120">Direct, customer-facing applications</span></span>
* <span data-ttu-id="7c841-121">Pracownik aplikacjach enterprise</span><span class="sxs-lookup"><span data-stu-id="7c841-121">Employee-facing enterprise applications</span></span>

<span data-ttu-id="7c841-122">Aplikacji SaaS, które są przeznaczone do chmury oraz tych, których certyfikaty główne partnera aplikacje baz danych zazwyczaj są aplikacje wielodostępne.</span><span class="sxs-lookup"><span data-stu-id="7c841-122">SaaS applications that are designed for the cloud and those with roots as partner database applications typically are multi-tenant applications.</span></span> <span data-ttu-id="7c841-123">Te aplikacje SaaS dostarczanie specjalistycznych aplikacji jako usługa dzierżawcom.</span><span class="sxs-lookup"><span data-stu-id="7c841-123">These SaaS applications deliver a specialized software application as a service to their tenants.</span></span> <span data-ttu-id="7c841-124">Dzierżawcy można uzyskać dostęp do usługi aplikacji i mają pełne prawa własności skojarzone dane przechowywane w ramach aplikacji.</span><span class="sxs-lookup"><span data-stu-id="7c841-124">Tenants can access the application service and have full ownership of associated data stored as part of the application.</span></span> <span data-ttu-id="7c841-125">Jednak aby skorzystać z zalet SaaS, dzierżaw musi przekazanie pewną kontrolę nad ich danymi.</span><span class="sxs-lookup"><span data-stu-id="7c841-125">But to take advantage of the benefits of SaaS, tenants must surrender some control over their own data.</span></span> <span data-ttu-id="7c841-126">Ufają dostawcę usługi SaaS, aby zapewnić danych bezpieczne i odizolowane od pozostałych dzierżawców danych.</span><span class="sxs-lookup"><span data-stu-id="7c841-126">They trust the SaaS service provider to keep their data safe and isolated from other tenants’ data.</span></span> <span data-ttu-id="7c841-127">Przykładem tego rodzaju wielodostępnych aplikacji SaaS są MYOB, SnelStart i Salesforce.com.</span><span class="sxs-lookup"><span data-stu-id="7c841-127">Examples of this kind of multi-tenant SaaS application are MYOB, SnelStart, and Salesforce.com.</span></span> <span data-ttu-id="7c841-128">Każda z tych aplikacji mogą być partycjonowane wzdłuż granic dzierżawy i pomocy technicznej, które omówiono w tym artykule projektowania aplikacji.</span><span class="sxs-lookup"><span data-stu-id="7c841-128">Each of these applications can be partitioned along tenant boundaries and support the application design patterns we discuss in this article.</span></span>

<span data-ttu-id="7c841-129">Aplikacje, które udostępniają usługi bezpośredniego klientom lub pracowników w ramach organizacji (nazywanej często użytkowników zamiast dzierżawcy) są inną kategorię na spektrum wielodostępnych aplikacji.</span><span class="sxs-lookup"><span data-stu-id="7c841-129">Applications that provide a direct service to customers or to employees within an organization (often referred to as users, rather than tenants) are another category on the multi-tenant application spectrum.</span></span> <span data-ttu-id="7c841-130">Klienci subskrybować usługę i nie ma dostawcy usług zbiera i przechowuje dane.</span><span class="sxs-lookup"><span data-stu-id="7c841-130">Customers subscribe to the service and do not own the data that the service provider collects and stores.</span></span> <span data-ttu-id="7c841-131">Dostawcy usług mają mniej rygorystyczne wymagania dotyczące przechowywania danych ich klientom odizolowane od siebie poza obowiązkowe dla instytucji rządowych zasad zachowania poufności.</span><span class="sxs-lookup"><span data-stu-id="7c841-131">Service providers have less stringent requirements to keep their customers’ data isolated from each other beyond government-mandated privacy regulations.</span></span> <span data-ttu-id="7c841-132">Przykładem tego rodzaju aplikacji wielodostępnych uwzględniającym klienta są nośnika dostawców zawartości, takich jak Netflix, serwis Spotify i Xbox LIVE.</span><span class="sxs-lookup"><span data-stu-id="7c841-132">Examples of this kind of customer-facing multi-tenant application are media content providers like Netflix, Spotify, and Xbox LIVE.</span></span> <span data-ttu-id="7c841-133">Inne przykłady aplikacji łatwo partitionable są skierowane do klienta, aplikacji w skali Internet lub aplikacji Internetu rzeczy (IoT), w którym każdy klienta lub urządzenia można służyć jako partycji.</span><span class="sxs-lookup"><span data-stu-id="7c841-133">Other examples of easily partitionable applications are customer-facing, Internet-scale applications, or Internet of Things (IoT) applications in which each customer or device can serve as a partition.</span></span> <span data-ttu-id="7c841-134">Granice partycji można oddzielić użytkowników i urządzeń.</span><span class="sxs-lookup"><span data-stu-id="7c841-134">Partition boundaries can separate users and devices.</span></span>

<span data-ttu-id="7c841-135">Nie wszystkie aplikacje partycji łatwo wzdłuż jednej właściwości, takie jak dzierżawy, odbiorcy, użytkownika lub urządzenia.</span><span class="sxs-lookup"><span data-stu-id="7c841-135">Not all applications partition easily along a single property such as tenant, customer, user, or device.</span></span> <span data-ttu-id="7c841-136">Zasób przedsiębiorstwa złożonych planowania aplikacji (ERP), na przykład ma produktów, zamówień i klientów.</span><span class="sxs-lookup"><span data-stu-id="7c841-136">A complex enterprise resource planning (ERP) application, for example, has products, orders, and customers.</span></span> <span data-ttu-id="7c841-137">Zwykle ma on złożonych schematu z tysiącami wysokiej połączonych tabel.</span><span class="sxs-lookup"><span data-stu-id="7c841-137">It usually has a complex schema with thousands of highly interconnected tables.</span></span>

<span data-ttu-id="7c841-138">Żadna strategia jednej partycji można zastosować do wszystkich tabel i działa między obciążenia aplikacji.</span><span class="sxs-lookup"><span data-stu-id="7c841-138">No single partition strategy can apply to all tables and work across an application's workload.</span></span> <span data-ttu-id="7c841-139">Ten artykuł skupia się na aplikacje wielodostępne, które łatwo partitionable danych i obciążeń.</span><span class="sxs-lookup"><span data-stu-id="7c841-139">This article focuses on multi-tenant applications that have easily partitionable data and workloads.</span></span>

## <a name="multi-tenant-application-design-trade-offs"></a><span data-ttu-id="7c841-140">Kompromis projektowania aplikacji z wieloma dzierżawcami</span><span class="sxs-lookup"><span data-stu-id="7c841-140">Multi-tenant application design trade-offs</span></span>
<span data-ttu-id="7c841-141">Wzorzec projektowania, który Deweloper aplikacji wielodostępnych zazwyczaj wybiera opiera się na jest brany pod uwagę następujące czynniki:</span><span class="sxs-lookup"><span data-stu-id="7c841-141">The design pattern that a multi-tenant application developer chooses typically is based on a consideration of the following factors:</span></span>

* <span data-ttu-id="7c841-142">**Odizolowania dzierżawców**.</span><span class="sxs-lookup"><span data-stu-id="7c841-142">**Tenant isolation**.</span></span> <span data-ttu-id="7c841-143">Deweloper musi upewnij się, że żaden z dzierżawców ma niechcianego dostępu do danych innych dzierżawców.</span><span class="sxs-lookup"><span data-stu-id="7c841-143">The developer needs to ensure that no tenant has unwanted access to other tenants’ data.</span></span> <span data-ttu-id="7c841-144">Wymaganie izolacji rozszerza do innych właściwości, takie jak zapewnienie ochrony z sąsiadów zakłócenia, możliwość przywrócenia danych dzierżawcy i wdrażanie dostosowań specyficznego dla dzierżawy.</span><span class="sxs-lookup"><span data-stu-id="7c841-144">The isolation requirement extends to other properties, such as providing protection from noisy neighbors, being able to restore a tenant’s data, and implementing tenant-specific customizations.</span></span>
* <span data-ttu-id="7c841-145">**Koszt zasobów w chmurze**.</span><span class="sxs-lookup"><span data-stu-id="7c841-145">**Cloud resource cost**.</span></span> <span data-ttu-id="7c841-146">Aplikacja SaaS musi być konkurencyjnych kosztów.</span><span class="sxs-lookup"><span data-stu-id="7c841-146">An SaaS application needs to be cost-competitive.</span></span> <span data-ttu-id="7c841-147">Deweloper aplikacji wielodostępnych wybrać Optymalizuj dla niższe koszty w przypadku użycia zasobów w chmurze, takie jak magazyn i obliczeń kosztów.</span><span class="sxs-lookup"><span data-stu-id="7c841-147">A multi-tenant application developer might choose to optimize for lower cost in the use of cloud resources, such as storage and compute costs.</span></span>
* <span data-ttu-id="7c841-148">**Łatwość DevOps**.</span><span class="sxs-lookup"><span data-stu-id="7c841-148">**Ease of DevOps**.</span></span> <span data-ttu-id="7c841-149">Deweloper aplikacji wielodostępnych musi dołączyć do nich ochrony izolacji, obsługi, monitorowania kondycji aplikacji i schemat bazy danych i rozwiązywania problemów dzierżawy.</span><span class="sxs-lookup"><span data-stu-id="7c841-149">A multi-tenant application developer needs to incorporate isolation protection, maintain, and monitor the health of their application and database schema, and troubleshoot tenant issues.</span></span> <span data-ttu-id="7c841-150">Złożoność w opracowywaniu aplikacji oraz operacji tłumaczy bezpośrednio do zwiększenia kosztów i będzie wymagał z zadowolenia dzierżawy.</span><span class="sxs-lookup"><span data-stu-id="7c841-150">Complexity in application development and operation translates directly to increased cost and challenges with tenant satisfaction.</span></span>
* <span data-ttu-id="7c841-151">**Skalowalność**.</span><span class="sxs-lookup"><span data-stu-id="7c841-151">**Scalability**.</span></span> <span data-ttu-id="7c841-152">Możliwość stopniowego dodawania więcej dzierżaw i pojemności dla dzierżawców, którzy go potrzebują jest powodzenie operacji SaaS.</span><span class="sxs-lookup"><span data-stu-id="7c841-152">The ability to incrementally add more tenants and capacity for tenants who require it is imperative to a successful SaaS operation.</span></span>

<span data-ttu-id="7c841-153">Każdy z nich ma możliwości w porównaniu do innego.</span><span class="sxs-lookup"><span data-stu-id="7c841-153">Each of these factors has trade-offs compared to another.</span></span> <span data-ttu-id="7c841-154">Chmura najniższy koszt oferty nie może oferować najodpowiedniejszym środowisko programistyczne.</span><span class="sxs-lookup"><span data-stu-id="7c841-154">The lowest-cost cloud offering might not offer the most convenient development experience.</span></span> <span data-ttu-id="7c841-155">Jest ważne dla deweloperów do podejmowanie świadomych wyborów o te opcje i możliwości ich podczas projektowania aplikacji.</span><span class="sxs-lookup"><span data-stu-id="7c841-155">It’s important for a developer to make informed choices about these options and their trade-offs during the application design process.</span></span>

<span data-ttu-id="7c841-156">Wzorzec popularnych programowanie jest pakietu wielu dzierżawców do jednej lub kilku baz danych.</span><span class="sxs-lookup"><span data-stu-id="7c841-156">A popular development pattern is to pack multiple tenants into one or a few databases.</span></span> <span data-ttu-id="7c841-157">Zalety tego podejścia są niższe koszty, ponieważ płacisz za kilka baz danych i względną prostotę Praca z ograniczoną liczbę baz danych.</span><span class="sxs-lookup"><span data-stu-id="7c841-157">The benefits of this approach are a lower cost because you pay for a few databases, and the relative simplicity of working with a limited number of databases.</span></span> <span data-ttu-id="7c841-158">Jednak wraz z upływem czasu dewelopera wielodostępnych aplikacji SaaS będzie Pamiętaj, że ten wybór ma istotne downsides izolacji dzierżawców i skalowalność.</span><span class="sxs-lookup"><span data-stu-id="7c841-158">But over time, a SaaS multi-tenant application developer will realize that this choice has substantial downsides in tenant isolation and scalability.</span></span> <span data-ttu-id="7c841-159">W przypadku izolacji dzierżawców ważne, dodatkowego nakładu pracy jest wymagana do ochrony danych dzierżawy w magazynie udostępnionym przed nieautoryzowanym dostępem lub zakłócenia sąsiadów.</span><span class="sxs-lookup"><span data-stu-id="7c841-159">If tenant isolation becomes important, additional effort is required to protect tenant data in shared storage from unauthorized access or noisy neighbors.</span></span> <span data-ttu-id="7c841-160">Tego dodatkowego nakładu pracy może znacznie zwiększyć programistycznych i kosztów obsługi izolacji.</span><span class="sxs-lookup"><span data-stu-id="7c841-160">This additional effort might significantly boost development efforts and isolation maintenance costs.</span></span> <span data-ttu-id="7c841-161">Podobnie jeśli wymagana jest dodanie dzierżawcy, tym wzorcu projektowym wymaga zwykle od doświadczenia, aby ponownie rozesłać danych dzierżawy dla baz danych prawidłowo skalowania warstwy danych aplikacji.</span><span class="sxs-lookup"><span data-stu-id="7c841-161">Similarly, if adding tenants is required, this design pattern typically requires expertise to redistribute tenant data across databases to properly scale the data tier of an application.</span></span>  

<span data-ttu-id="7c841-162">Często izolacji dzierżawy jest podstawowe wymagania w aplikacjach wielodostępne SaaS, które automatycznie dostosowują się do firmy i organizacje.</span><span class="sxs-lookup"><span data-stu-id="7c841-162">Tenant isolation often is a fundamental requirement in SaaS multi-tenant applications that cater to businesses and organizations.</span></span> <span data-ttu-id="7c841-163">Deweloper może skłonny przez postrzegana zalet prostotę i koszt w porównaniu z izolacji dzierżawców i skalowalność.</span><span class="sxs-lookup"><span data-stu-id="7c841-163">A developer might be tempted by perceived advantages in simplicity and cost over tenant isolation and scalability.</span></span> <span data-ttu-id="7c841-164">Takie rozwiązanie może okazać się złożone i kosztowne miarę rozwoju usługi i wymagania dotyczące izolacji dzierżawy staną się bardziej ważne i zarządzanych w warstwie aplikacji.</span><span class="sxs-lookup"><span data-stu-id="7c841-164">This trade-off can prove complex and expensive as the service grows and tenant isolation requirements become more important and managed at the application layer.</span></span> <span data-ttu-id="7c841-165">Jednak w wielodostępnych aplikacji, które klientom usługi bezpośredniego, dla użytkownika, izolacji dzierżawców może być niższy priorytet niż optymalizacji dla koszt zasobów chmury.</span><span class="sxs-lookup"><span data-stu-id="7c841-165">However, in multi-tenant applications that provide a direct, consumer-facing service to customers, tenant isolation might be a lower priority than optimizing for cloud resource cost.</span></span>

## <a name="multi-tenant-data-models"></a><span data-ttu-id="7c841-166">Modeli danych z wieloma dzierżawcami</span><span class="sxs-lookup"><span data-stu-id="7c841-166">Multi-tenant data models</span></span>
<span data-ttu-id="7c841-167">Typowe rozwiązania projekt umieszczenia danych dzierżawy należy wykonać trzy różne modele, pokazany na rysunku 1.</span><span class="sxs-lookup"><span data-stu-id="7c841-167">Common design practices for placing tenant data follow three distinct models, shown in Figure 1.</span></span>

![modeli danych aplikacji z wieloma dzierżawcami](./media/sql-database-design-patterns-multi-tenancy-saas-applications/sql-database-multi-tenant-data-models.png)

<span data-ttu-id="7c841-169">Rysunek 1: Typowe projektowania rozwiązania modeli danych z wieloma dzierżawcami</span><span class="sxs-lookup"><span data-stu-id="7c841-169">Figure 1: Common design practices for multi-tenant data models</span></span>

* <span data-ttu-id="7c841-170">**Bazy danych dla dzierżawy**.</span><span class="sxs-lookup"><span data-stu-id="7c841-170">**Database-per-tenant**.</span></span> <span data-ttu-id="7c841-171">Każdy dzierżawca ma własną bazę danych.</span><span class="sxs-lookup"><span data-stu-id="7c841-171">Each tenant has its own database.</span></span> <span data-ttu-id="7c841-172">Wszystkie dane specyficzne dla dzierżawy jest ograniczone do bazy danych dzierżawcy i odizolowane od pozostałych dzierżawców i ich danych.</span><span class="sxs-lookup"><span data-stu-id="7c841-172">All tenant-specific data is confined to the tenant’s database and isolated from other tenants and their data.</span></span>
* <span data-ttu-id="7c841-173">**Udostępnione bazy danych podzielonej**.</span><span class="sxs-lookup"><span data-stu-id="7c841-173">**Shared database-sharded**.</span></span> <span data-ttu-id="7c841-174">Wiele dzierżaw współużytkować jeden z wielu baz danych.</span><span class="sxs-lookup"><span data-stu-id="7c841-174">Multiple tenants share one of multiple databases.</span></span> <span data-ttu-id="7c841-175">Odrębnego zestawu dzierżawcy jest przypisany do każdej bazy danych przy użyciu strategii partycjonowania, takich jak wyznaczania wartości skrótu, zakres lub listy partycjonowania.</span><span class="sxs-lookup"><span data-stu-id="7c841-175">A distinct set of tenants is assigned to each database by using a partitioning strategy such as hash, range, or list partitioning.</span></span> <span data-ttu-id="7c841-176">Ta strategia dystrybucji danych często nazywa się dzielenia na fragmenty.</span><span class="sxs-lookup"><span data-stu-id="7c841-176">This data distribution strategy often is referred to as sharding.</span></span>
* <span data-ttu-id="7c841-177">**Udostępnione pojedynczej bazy danych**.</span><span class="sxs-lookup"><span data-stu-id="7c841-177">**Shared database-single**.</span></span> <span data-ttu-id="7c841-178">Pojedynczy, czasami duży bazy danych zawiera dane dla wszystkich dzierżawców, które są rozróżniane w kolumnie Identyfikator dzierżawy.</span><span class="sxs-lookup"><span data-stu-id="7c841-178">A single, sometimes large, database contains data for all tenants, which are disambiguated in a tenant ID column.</span></span>

> [!NOTE]
> <span data-ttu-id="7c841-179">Deweloper aplikacji może wybrać umieszczenie różnych dzierżaw w schematach innej bazy danych, a następnie użyj nazwy schematu do odróżniania różnym dzierżawcom.</span><span class="sxs-lookup"><span data-stu-id="7c841-179">An application developer might choose to place different tenants in different database schemas, and then use the schema name to disambiguate the different tenants.</span></span> <span data-ttu-id="7c841-180">Nie zaleca się tą metodą, ponieważ zwykle wymaga użycia dynamicznych SQL i nie może być aktywne buforowanie planu.</span><span class="sxs-lookup"><span data-stu-id="7c841-180">We do not recommend this approach because it usually requires the use of dynamic SQL, and it can’t be effective in plan caching.</span></span> <span data-ttu-id="7c841-181">W dalszej części tego artykułu możemy skupić się na podejście tabeli udostępnionego dla tej kategorii wielodostępnych aplikacji.</span><span class="sxs-lookup"><span data-stu-id="7c841-181">In the remainder of this article, we focus on the shared table approach for this category of multi-tenant application.</span></span>
> 
> 

## <a name="popular-multi-tenant-data-models"></a><span data-ttu-id="7c841-182">Modele popularnych danych z wieloma dzierżawcami</span><span class="sxs-lookup"><span data-stu-id="7c841-182">Popular multi-tenant data models</span></span>
<span data-ttu-id="7c841-183">Należy ocenić różnych typów modeli danych wielodostępne pod względem aplikacji projektowania kompromisy które już określiliśmy.</span><span class="sxs-lookup"><span data-stu-id="7c841-183">It’s important to evaluate the different types of multi-tenant data models in terms of the application design trade-offs we’ve already identified.</span></span> <span data-ttu-id="7c841-184">Czynniki te pomagają scharakteryzowania trzy modele danych wielodostępne najczęściej opisanych wcześniej i ich użycia bazy danych, jak pokazano na rysunku 2.</span><span class="sxs-lookup"><span data-stu-id="7c841-184">These factors help characterize the three most common multi-tenant data models described earlier and their database usage as shown in Figure 2.</span></span>

* <span data-ttu-id="7c841-185">**Izolacja**.</span><span class="sxs-lookup"><span data-stu-id="7c841-185">**Isolation**.</span></span> <span data-ttu-id="7c841-186">Stopień izolacji między dzierżawcami może być środek izolacji dzierżawców, ile osiąga modelu danych.</span><span class="sxs-lookup"><span data-stu-id="7c841-186">The degree of isolation between tenants can be a measure of how much tenant isolation a data model achieves.</span></span>
* <span data-ttu-id="7c841-187">**Koszt zasobów w chmurze**.</span><span class="sxs-lookup"><span data-stu-id="7c841-187">**Cloud resource cost**.</span></span> <span data-ttu-id="7c841-188">Ilość udostępniania zasobów między dzierżawcami zoptymalizować koszt zasobów chmury.</span><span class="sxs-lookup"><span data-stu-id="7c841-188">The amount of resource sharing between tenants can optimize cloud resource cost.</span></span> <span data-ttu-id="7c841-189">Zasób można zdefiniować jako koszt zasobów obliczeniowych i magazynu.</span><span class="sxs-lookup"><span data-stu-id="7c841-189">A resource can be defined as the compute and storage cost.</span></span>
* <span data-ttu-id="7c841-190">**Koszt DevOps**.</span><span class="sxs-lookup"><span data-stu-id="7c841-190">**DevOps cost**.</span></span> <span data-ttu-id="7c841-191">Łatwość tworzenia aplikacji, wdrażania i zarządzania zmniejsza całkowity koszt operacji SaaS.</span><span class="sxs-lookup"><span data-stu-id="7c841-191">The ease of application development, deployment, and manageability reduces overall SaaS operation cost.</span></span>  

<span data-ttu-id="7c841-192">Na rysunku 2 osi Y wskazuje poziom izolacji dzierżawców.</span><span class="sxs-lookup"><span data-stu-id="7c841-192">In Figure 2, the Y axis shows the level of tenant isolation.</span></span> <span data-ttu-id="7c841-193">Na osi X zawiera poziom udostępniania zasobów.</span><span class="sxs-lookup"><span data-stu-id="7c841-193">The X axis shows the level of resource sharing.</span></span> <span data-ttu-id="7c841-194">Szary, ukośnej strzałki w środku wskazuje kierunek tendencję do zwiększenia lub zmniejszenia kosztów DevOps.</span><span class="sxs-lookup"><span data-stu-id="7c841-194">The gray, diagonal arrow in the middle indicates the direction of DevOps costs, tending to increase or decrease.</span></span>

![Wzorce projektowe popularnych aplikacji wieloma dzierżawcami](./media/sql-database-design-patterns-multi-tenancy-saas-applications/sql-database-popular-application-patterns.png)

<span data-ttu-id="7c841-196">Rysunek 2: Modele popularnych danych wielodostępne</span><span class="sxs-lookup"><span data-stu-id="7c841-196">Figure 2: Popular multi-tenant data models</span></span>

<span data-ttu-id="7c841-197">Wiązania kwadrantu prawym dolnym na rysunku 2 przedstawiono wzorzec aplikacji, który używa potencjalnie dużą, udostępnionych pojedynczej bazy danych i tabeli udostępnionych (lub osobnych schematu) podejście.</span><span class="sxs-lookup"><span data-stu-id="7c841-197">The lower-right quadrant in Figure 2 shows an application pattern that uses a potentially large, shared single database, and the shared table (or separate schema) approach.</span></span> <span data-ttu-id="7c841-198">To ułatwia udostępnianie ponieważ wszystkich dzierżawców używać tych samych zasobów bazy danych (Procesora, pamięci, we/wy) w jednej bazie danych zasobów.</span><span class="sxs-lookup"><span data-stu-id="7c841-198">It's good for resource sharing because all tenants use the same database resources (CPU, memory, input/output) in a single database.</span></span> <span data-ttu-id="7c841-199">Ale izolacji dzierżawców, jest ograniczona.</span><span class="sxs-lookup"><span data-stu-id="7c841-199">But tenant isolation is limited.</span></span> <span data-ttu-id="7c841-200">Należy wykonać dodatkowe czynności, aby chronić dzierżaw od siebie na warstwie aplikacji.</span><span class="sxs-lookup"><span data-stu-id="7c841-200">You might need to take additional steps to protect tenants from each other at the application layer.</span></span> <span data-ttu-id="7c841-201">Te dodatkowe kroki mogą znacznie zwiększyć DevOps koszt tworzenia i zarządzania aplikacji.</span><span class="sxs-lookup"><span data-stu-id="7c841-201">These additional steps can significantly increase the DevOps cost of developing and managing the application.</span></span> <span data-ttu-id="7c841-202">Skalowalność jest ograniczona przez skali sprzętu, który jest hostem bazy danych.</span><span class="sxs-lookup"><span data-stu-id="7c841-202">Scalability is limited by the scale of the hardware that hosts the database.</span></span>

<span data-ttu-id="7c841-203">Wiązania kwadrantu lewym dolnym na rysunku 2 przedstawiono wielu dzierżawców podzielonej między wieloma bazami danych (zwykle innego sprzętu jednostek skalowania).</span><span class="sxs-lookup"><span data-stu-id="7c841-203">The lower-left quadrant in Figure 2 illustrates multiple tenants sharded across multiple databases (typically, different hardware scale units).</span></span> <span data-ttu-id="7c841-204">Każda baza danych obsługuje podzbiór dzierżawcy, którego dotyczy problem dotyczący skalowalność z innymi wzorami.</span><span class="sxs-lookup"><span data-stu-id="7c841-204">Each database hosts a subset of tenants, which addresses the scalability concern of other patterns.</span></span> <span data-ttu-id="7c841-205">Jeśli większej pojemności jest wymagana w przypadku dzierżaw więcej, można łatwo umieścić dzierżawcy na nowych baz danych przydzielone do jednostki skalowania usługi nowego sprzętu.</span><span class="sxs-lookup"><span data-stu-id="7c841-205">If more capacity is required for more tenants, you can easily place the tenants on new databases allocated to new hardware scale units.</span></span> <span data-ttu-id="7c841-206">Jednak ilość udostępniania zasobów zostanie zmniejszona.</span><span class="sxs-lookup"><span data-stu-id="7c841-206">However, the amount of resource sharing is reduced.</span></span> <span data-ttu-id="7c841-207">Tylko dzierżaw umieszczone na tej samej jednostki skalowania współużytkowanie zasobów.</span><span class="sxs-lookup"><span data-stu-id="7c841-207">Only tenants placed on the same scale units share resources.</span></span> <span data-ttu-id="7c841-208">Metoda ta umożliwia małego poprawy odizolowania dzierżawców, ponieważ wiele dzierżaw nadal są zawsze umieszczane bez automatycznie chronione od siebie nawzajem akcje.</span><span class="sxs-lookup"><span data-stu-id="7c841-208">This approach provides little improvement to tenant isolation because many tenants are still collocated without being automatically protected from each other’s actions.</span></span> <span data-ttu-id="7c841-209">Złożoność aplikacji pozostaje wysoki.</span><span class="sxs-lookup"><span data-stu-id="7c841-209">Application complexity remains high.</span></span>

<span data-ttu-id="7c841-210">Wiązania kwadrantu lewej górnej na rysunku 2 jest trzeci rozwiązanie.</span><span class="sxs-lookup"><span data-stu-id="7c841-210">The upper-left quadrant in Figure 2 is the third approach.</span></span> <span data-ttu-id="7c841-211">Dane każdego dzierżawcy umieszcza w własną bazę danych.</span><span class="sxs-lookup"><span data-stu-id="7c841-211">It places each tenant’s data in its own database.</span></span> <span data-ttu-id="7c841-212">Takie podejście ma właściwości dobrej izolacji dzierżawców, ale ogranicza udostępniania zasobów, gdy każda baza danych ma własną zasobów dedykowanych.</span><span class="sxs-lookup"><span data-stu-id="7c841-212">This approach has good tenant-isolation properties but limits resource sharing when each database has its own dedicated resources.</span></span> <span data-ttu-id="7c841-213">Ta metoda jest zalecana, jeśli wszystkie dzierżawy mają przewidywalna obciążeń.</span><span class="sxs-lookup"><span data-stu-id="7c841-213">This approach is good if all tenants have predictable workloads.</span></span> <span data-ttu-id="7c841-214">Jeśli obciążenia dzierżaw są mniej przewidywalne, dostawca nie można zoptymalizować udostępniania zasobów.</span><span class="sxs-lookup"><span data-stu-id="7c841-214">If tenant workloads become less predictable, the provider cannot optimize resource sharing.</span></span> <span data-ttu-id="7c841-215">Nieprzewidywalność jest typowe dla aplikacji SaaS.</span><span class="sxs-lookup"><span data-stu-id="7c841-215">Unpredictability is common for SaaS applications.</span></span> <span data-ttu-id="7c841-216">Dostawca musi być albo nadmiernego udostępniania do spełnienia wymagań lub niższy zasobów.</span><span class="sxs-lookup"><span data-stu-id="7c841-216">The provider must either over-provision to meet demands or lower resources.</span></span> <span data-ttu-id="7c841-217">Każda z tych operacji powoduje wyższe koszty lub niższy zadowolenia dzierżawy.</span><span class="sxs-lookup"><span data-stu-id="7c841-217">Either action results in either higher costs or lower tenant satisfaction.</span></span> <span data-ttu-id="7c841-218">Wyższy stopień zasobów, udostępnianie dzierżaw staje się pożądane, aby bardziej ekonomiczne rozwiązanie.</span><span class="sxs-lookup"><span data-stu-id="7c841-218">A higher degree of resource sharing across tenants becomes desirable to make the solution more cost-effective.</span></span> <span data-ttu-id="7c841-219">Zwiększenie liczby baz danych zwiększa także koszt DevOps, wdrażaniu i obsłudze aplikacji.</span><span class="sxs-lookup"><span data-stu-id="7c841-219">Increasing the number of databases also increases DevOps cost to deploy and maintain the application.</span></span> <span data-ttu-id="7c841-220">Pomimo tych problemów ta metoda zapewnia izolację najlepszym i najłatwiejszy dzierżaw.</span><span class="sxs-lookup"><span data-stu-id="7c841-220">Despite these concerns, this method provides the best and easiest isolation for tenants.</span></span>

<span data-ttu-id="7c841-221">Te czynniki wpływają również wzorzec projektowania, który klient wybierze:</span><span class="sxs-lookup"><span data-stu-id="7c841-221">These factors also influence the design pattern a customer chooses:</span></span>

* <span data-ttu-id="7c841-222">**Własność danych dzierżawy**.</span><span class="sxs-lookup"><span data-stu-id="7c841-222">**Ownership of tenant data**.</span></span> <span data-ttu-id="7c841-223">Aplikacja, w którym dzierżaw zachować własność własne dane objawach wzorzec pojedynczej bazy danych dla każdego dzierżawcy.</span><span class="sxs-lookup"><span data-stu-id="7c841-223">An application in which tenants retain ownership of their own data favors the pattern of a single database per tenant.</span></span>
* <span data-ttu-id="7c841-224">**Skalowalność**.</span><span class="sxs-lookup"><span data-stu-id="7c841-224">**Scale**.</span></span> <span data-ttu-id="7c841-225">Aplikacja, która dotyczy setki tysięcy lub miliony dzierżaw objawach udostępniania podejścia, takie jak dzielenia na fragmenty bazy danych.</span><span class="sxs-lookup"><span data-stu-id="7c841-225">An application that targets hundreds of thousands or millions of tenants favors database sharing approaches such as sharding.</span></span> <span data-ttu-id="7c841-226">Wymagania dotyczące izolacji nadal może stanowić wyzwanie.</span><span class="sxs-lookup"><span data-stu-id="7c841-226">Isolation requirements still can pose challenges.</span></span>
* <span data-ttu-id="7c841-227">**Wartość i business modelu**.</span><span class="sxs-lookup"><span data-stu-id="7c841-227">**Value and business model**.</span></span> <span data-ttu-id="7c841-228">Jeśli aplikacja na dzierżawcy przychodu relacjami małych (mniej niż dolara), wymagania dotyczące izolacji stają się mniej istotny i udostępnionej bazy danych.</span><span class="sxs-lookup"><span data-stu-id="7c841-228">If an application’s per-tenant revenue if small (less than a dollar), isolation requirements become less critical and a shared database makes sense.</span></span> <span data-ttu-id="7c841-229">W przypadku kilku kwoty lub więcej przychód na dzierżawy modelu bazy danych na dzierżawy jest coraz.</span><span class="sxs-lookup"><span data-stu-id="7c841-229">If per-tenant revenue is a few dollars or more, a database-per-tenant model is more feasible.</span></span> <span data-ttu-id="7c841-230">Może pomóc, zmniejszyć koszty rozwoju.</span><span class="sxs-lookup"><span data-stu-id="7c841-230">It might help reduce development costs.</span></span>

<span data-ttu-id="7c841-231">Biorąc pod uwagę projekt kompromisy pokazany na rysunku 2, idealne rozwiązanie w modelu wielodostępnym musi właściwości izolacji dzierżawy dobrej zastosować z zasobem optymalne udostępnianie między dzierżawcami.</span><span class="sxs-lookup"><span data-stu-id="7c841-231">Given the design trade-offs shown in Figure 2, an ideal multi-tenant model needs to incorporate good tenant isolation properties with optimal resource sharing among tenants.</span></span> <span data-ttu-id="7c841-232">Ten model mieści się w kategorii opisanego w wiązania kwadrantu prawym górnym rysunku 2.</span><span class="sxs-lookup"><span data-stu-id="7c841-232">This model fits in the category described in the upper-right quadrant of Figure 2.</span></span>

## <a name="multi-tenancy-support-in-azure-sql-database"></a><span data-ttu-id="7c841-233">Obsługa wielu dzierżawców w bazie danych SQL Azure</span><span class="sxs-lookup"><span data-stu-id="7c841-233">Multi-tenancy support in Azure SQL Database</span></span>
<span data-ttu-id="7c841-234">Baza danych SQL Azure obsługuje wszystkie wzorce wielodostępnych aplikacji wyróżnione na rysunku 2.</span><span class="sxs-lookup"><span data-stu-id="7c841-234">Azure SQL Database supports all multi-tenant application patterns outlined in Figure 2.</span></span> <span data-ttu-id="7c841-235">Pule elastyczne obsługuje ona również wzorzec aplikacji, który łączy udostępniania zasobów dobrej i korzyści izolacji bazy danych na poszczególnych dzierżawcy podejścia (zobacz wiązania kwadrantu prawym górnym na rysunku 3).</span><span class="sxs-lookup"><span data-stu-id="7c841-235">With elastic pools, it also supports an application pattern that combines good resource sharing and the isolation benefits of the database-per-tenant approach (see the upper-right quadrant in Figure 3).</span></span> <span data-ttu-id="7c841-236">Narzędzi elastycznej bazy danych i możliwości w bazie danych SQL ograniczyć koszty umożliwia tworzenie i obsługę aplikacji, która ma wiele baz danych (znajdujące się na zacienionym obszarze na rysunku 3).</span><span class="sxs-lookup"><span data-stu-id="7c841-236">Elastic database tools and capabilities in SQL Database help reduce the cost to develop and operate an application that has many databases (shown in the shaded area in Figure 3).</span></span> <span data-ttu-id="7c841-237">Te narzędzia ułatwiają tworzenie i zarządzanie aplikacjami, które korzystają z dowolnych wzorce obsługi wielu baz danych.</span><span class="sxs-lookup"><span data-stu-id="7c841-237">These tools can help you build and manage applications that use any of the multi-database patterns.</span></span>

![Wzorce w bazie danych Azure SQL](./media/sql-database-design-patterns-multi-tenancy-saas-applications/sql-database-patterns-sqldb.png)

<span data-ttu-id="7c841-239">Rysunek 3: Wzorce wielodostępnych aplikacji w bazie danych SQL Azure</span><span class="sxs-lookup"><span data-stu-id="7c841-239">Figure 3: Multi-tenant application patterns in Azure SQL Database</span></span>

## <a name="database-per-tenant-model-with-elastic-pools-and-tools"></a><span data-ttu-id="7c841-240">Model bazy danych dla dzierżawy o elastycznych pul i narzędzia</span><span class="sxs-lookup"><span data-stu-id="7c841-240">Database-per-tenant model with elastic pools and tools</span></span>
<span data-ttu-id="7c841-241">Pule elastyczne w bazie danych SQL łączyć izolacji dzierżawcy z zasobów, udostępnianie między baz danych dzierżawy w celu skuteczniejszej obsługi podejście bazy danych dla dzierżawy.</span><span class="sxs-lookup"><span data-stu-id="7c841-241">Elastic pools in SQL Database combine tenant isolation with resource sharing among tenant databases to better support the database-per-tenant approach.</span></span> <span data-ttu-id="7c841-242">Baza danych SQL jest rozwiązanie SaaS dostawców, którzy tworzą aplikacje wielodostępne warstwy danych.</span><span class="sxs-lookup"><span data-stu-id="7c841-242">SQL Database is a data tier solution for SaaS providers who build multi-tenant applications.</span></span> <span data-ttu-id="7c841-243">Obciążenie zasobów, udostępnianie między dzierżawcami przewiduje z warstwy aplikacji w warstwie usług bazy danych.</span><span class="sxs-lookup"><span data-stu-id="7c841-243">The burden of resource sharing among tenants shifts from the application layer to the database service layer.</span></span> <span data-ttu-id="7c841-244">Złożoność zarządzania i wykonywanie zapytań na dużą skalę w baz danych zostało uproszczone dzięki zadania elastyczne, elastyczne zapytania transakcji elastycznej i biblioteki klienta elastycznej bazy danych.</span><span class="sxs-lookup"><span data-stu-id="7c841-244">The complexity of managing and querying at scale across databases is simplified with elastic jobs, elastic query, elastic transactions, and the elastic database client library.</span></span>

| <span data-ttu-id="7c841-245">Wymagania dotyczące aplikacji</span><span class="sxs-lookup"><span data-stu-id="7c841-245">Application requirements</span></span> | <span data-ttu-id="7c841-246">Funkcje bazy danych SQL</span><span class="sxs-lookup"><span data-stu-id="7c841-246">SQL database capabilities</span></span> |
| --- | --- |
| <span data-ttu-id="7c841-247">Izolacji dzierżawców i udostępnianie zasobów</span><span class="sxs-lookup"><span data-stu-id="7c841-247">Tenant isolation and resource sharing</span></span> |<span data-ttu-id="7c841-248">[Pule elastyczne](sql-database-elastic-pool.md): Przydziel pulę zasobów bazy danych SQL i udostępnianie zasobów między różnymi bazami danych.</span><span class="sxs-lookup"><span data-stu-id="7c841-248">[Elastic pools](sql-database-elastic-pool.md): Allocate a pool of SQL Database resources and share the resources across various databases.</span></span> <span data-ttu-id="7c841-249">Ponadto pojedynczych baz danych można narysować tyle samo zasobów z puli w celu uwzględnienia pojemności nagłego żądanie z powodu zmian w obciążeń dzierżawców.</span><span class="sxs-lookup"><span data-stu-id="7c841-249">Also, individual databases can draw as much resources from the pool as needed to accommodate capacity demand spikes due to changes in tenant workloads.</span></span> <span data-ttu-id="7c841-250">Sam puli elastycznej można skalować w górę lub w dół zgodnie z potrzebami.</span><span class="sxs-lookup"><span data-stu-id="7c841-250">The elastic pool itself can be scaled up or down as needed.</span></span> <span data-ttu-id="7c841-251">Pule elastyczne udostępniają łatwość zarządzania i monitorowania i rozwiązywania problemów na poziomie puli.</span><span class="sxs-lookup"><span data-stu-id="7c841-251">Elastic pools also provide ease of manageability and monitoring and troubleshooting at the pool level.</span></span> |
| <span data-ttu-id="7c841-252">Łatwość DevOps dla baz danych</span><span class="sxs-lookup"><span data-stu-id="7c841-252">Ease of DevOps across databases</span></span> |<span data-ttu-id="7c841-253">[Pule elastyczne](sql-database-elastic-pool.md): jak wspomniano wcześniej.</span><span class="sxs-lookup"><span data-stu-id="7c841-253">[Elastic pools](sql-database-elastic-pool.md): As noted earlier.</span></span> |
| | <span data-ttu-id="7c841-254">[Zapytanie elastycznej](sql-database-elastic-query-horizontal-partitioning.md): zapytania dla baz danych na potrzeby raportowania lub cross dzierżawy analizy.</span><span class="sxs-lookup"><span data-stu-id="7c841-254">[Elastic query](sql-database-elastic-query-horizontal-partitioning.md): Query across databases for reporting or cross-tenant analysis.</span></span> |
| | <span data-ttu-id="7c841-255">[Zadania elastyczne](sql-database-elastic-jobs-overview.md): pakiet i niezawodny sposób wdrażania operacji konserwacji bazy danych lub zmiany schematu bazy danych do wielu baz danych.</span><span class="sxs-lookup"><span data-stu-id="7c841-255">[Elastic jobs](sql-database-elastic-jobs-overview.md): Package and reliably deploy database maintenance operations or database schema changes to multiple databases.</span></span> |
| | <span data-ttu-id="7c841-256">[Transakcje elastycznej](sql-database-elastic-transactions-overview.md): proces zmiany szereg baz danych w sposób atomic i izolowanym.</span><span class="sxs-lookup"><span data-stu-id="7c841-256">[Elastic transactions](sql-database-elastic-transactions-overview.md): Process changes to several databases in an atomic and isolated way.</span></span> <span data-ttu-id="7c841-257">Elastyczne transakcje są wymagane, gdy aplikacje muszą "wszystkie lub żadne" gwarancje przez kilka operacji w bazie danych.</span><span class="sxs-lookup"><span data-stu-id="7c841-257">Elastic transactions are needed when applications need “all or nothing” guarantees over several database operations.</span></span> |
| | <span data-ttu-id="7c841-258">[Biblioteki klienta elastycznej bazy danych](sql-database-elastic-database-client-library.md): Zarządzanie dystrybucje danych i zamapuj dzierżawcy do baz danych.</span><span class="sxs-lookup"><span data-stu-id="7c841-258">[Elastic database client library](sql-database-elastic-database-client-library.md): Manage data distributions and map tenants to databases.</span></span> |

## <a name="shared-models"></a><span data-ttu-id="7c841-259">Udostępnione modele</span><span class="sxs-lookup"><span data-stu-id="7c841-259">Shared models</span></span>
<span data-ttu-id="7c841-260">Jak opisano wcześniej, dostawców większości SaaS, podejście modelu udostępnionego może stanowić problemy z problemami dotyczącymi izolacji dzierżawy i złożoności przy opracowywaniu aplikacji oraz konserwacji.</span><span class="sxs-lookup"><span data-stu-id="7c841-260">As described earlier, for most SaaS providers, a shared model approach might pose problems with tenant isolation issues and complexities with application development and maintenance.</span></span> <span data-ttu-id="7c841-261">Jednak dla wielodostępnych aplikacji, które dostarcza usługi bezpośrednio do użytkowników, wymagania dotyczące izolacji dzierżawy nie może być wysoki priorytet jako minimalizowania kosztów.</span><span class="sxs-lookup"><span data-stu-id="7c841-261">However, for multi-tenant applications that provide a service directly to consumers, tenant isolation requirements may not be as high a priority as minimizing cost.</span></span> <span data-ttu-id="7c841-262">Mogą one możliwość pakietu dzierżaw w jedną lub więcej baz danych o wysokiej gęstości zmniejszyć koszty.</span><span class="sxs-lookup"><span data-stu-id="7c841-262">They might be able to pack tenants in one or more databases at a high density to reduce costs.</span></span> <span data-ttu-id="7c841-263">Modele udostępnione bazy danych przy użyciu pojedynczej bazy danych lub wielu baz danych podzielonej może spowodować dodatkowych korzyści w koszt udostępniania i ogólnej zasobu.</span><span class="sxs-lookup"><span data-stu-id="7c841-263">Shared-database models using a single database or multiple sharded databases might result in additional efficiencies in resource sharing and overall cost.</span></span> <span data-ttu-id="7c841-264">Baza danych SQL Azure oferuje funkcje, które ułatwiają klientom tworzenie izolację lepsze bezpieczeństwo i zarządzania na dużą skalę w warstwie danych.</span><span class="sxs-lookup"><span data-stu-id="7c841-264">Azure SQL Database provides some features that help customers build isolation for improved security and management at scale in the data tier.</span></span>

| <span data-ttu-id="7c841-265">Wymagania dotyczące aplikacji</span><span class="sxs-lookup"><span data-stu-id="7c841-265">Application requirements</span></span> | <span data-ttu-id="7c841-266">Funkcje bazy danych SQL</span><span class="sxs-lookup"><span data-stu-id="7c841-266">SQL database capabilities</span></span> |
| --- | --- |
| <span data-ttu-id="7c841-267">Funkcje zabezpieczeń izolacji</span><span class="sxs-lookup"><span data-stu-id="7c841-267">Security isolation features</span></span> |[<span data-ttu-id="7c841-268">Zabezpieczenia na poziomie wiersza</span><span class="sxs-lookup"><span data-stu-id="7c841-268">Row-level security</span></span>](https://msdn.microsoft.com/library/dn765131.aspx) |
| [<span data-ttu-id="7c841-269">Schemat bazy danych</span><span class="sxs-lookup"><span data-stu-id="7c841-269">Database schema</span></span>](https://msdn.microsoft.com/library/dd207005.aspx) | |
| <span data-ttu-id="7c841-270">Łatwość DevOps dla baz danych</span><span class="sxs-lookup"><span data-stu-id="7c841-270">Ease of DevOps across databases</span></span> |[<span data-ttu-id="7c841-271">Elastyczne zapytania</span><span class="sxs-lookup"><span data-stu-id="7c841-271">Elastic query</span></span>](sql-database-elastic-query-horizontal-partitioning.md) |
| | [<span data-ttu-id="7c841-272">Zadania elastyczne</span><span class="sxs-lookup"><span data-stu-id="7c841-272">Elastic jobs</span></span>](sql-database-elastic-jobs-overview.md) |
| | [<span data-ttu-id="7c841-273">Elastyczne transakcji</span><span class="sxs-lookup"><span data-stu-id="7c841-273">Elastic transactions</span></span>](sql-database-elastic-transactions-overview.md) |
| | [<span data-ttu-id="7c841-274">Biblioteka kliencka Elastic Database</span><span class="sxs-lookup"><span data-stu-id="7c841-274">Elastic database client library</span></span>](sql-database-elastic-database-client-library.md) |
| | [<span data-ttu-id="7c841-275">Podziel elastycznej bazy danych i scalania</span><span class="sxs-lookup"><span data-stu-id="7c841-275">Elastic database split and merge</span></span>](sql-database-elastic-scale-overview-split-and-merge.md) |

## <a name="summary"></a><span data-ttu-id="7c841-276">Podsumowanie</span><span class="sxs-lookup"><span data-stu-id="7c841-276">Summary</span></span>
<span data-ttu-id="7c841-277">Wymagania dotyczące izolacji dzierżawy są ważne w przypadku większości aplikacji wielodostępnych SaaS.</span><span class="sxs-lookup"><span data-stu-id="7c841-277">Tenant isolation requirements are important for most SaaS multi-tenant applications.</span></span> <span data-ttu-id="7c841-278">Najlepszą opcją zapewnienie izolacji silnie leans kierunku podejście bazy danych dla dzierżawy.</span><span class="sxs-lookup"><span data-stu-id="7c841-278">The best option to provide isolation leans heavily toward the database-per-tenant approach.</span></span> <span data-ttu-id="7c841-279">Dwa podejścia wymaga inwestycji w warstwy aplikacji złożonych, które wymagają programowanie wykwalifikowanych pracowników zapewnienie izolacji, co znacznie zwiększa koszt i ryzyko.</span><span class="sxs-lookup"><span data-stu-id="7c841-279">The other two approaches require investments in complex application layers that require skilled development staff to provide isolation, which significantly increases cost and risk.</span></span> <span data-ttu-id="7c841-280">Jeśli wymagania dotyczące izolacji nie uwzględnia się na początku programowanie usługi, modernizacji je można jeszcze bardziej kosztowne w pierwszych dwóch modeli.</span><span class="sxs-lookup"><span data-stu-id="7c841-280">If isolation requirements are not accounted for early in the service development, retrofitting them can be even more costly in the first two models.</span></span> <span data-ttu-id="7c841-281">Główne wady, skojarzonego z tym modelem bazy danych dla dzierżawy odnoszą się do zwiększenia chmury kosztów zasobów z powodu zmniejszenie udostępniania i utrzymywania oraz zarządzania wielu baz danych.</span><span class="sxs-lookup"><span data-stu-id="7c841-281">The main drawbacks associated with the database-per-tenant model are related to increased cloud resource costs due to reduced sharing, and maintaining and managing many databases.</span></span> <span data-ttu-id="7c841-282">Deweloperzy aplikacji SaaS napotykają po wysłaniu tych kompromisy.</span><span class="sxs-lookup"><span data-stu-id="7c841-282">SaaS application developers often struggle when they make these trade-offs.</span></span>

<span data-ttu-id="7c841-283">Chociaż kompromisy może być istotne bariery z większość dostawców usług bazy danych w chmurze, bazę danych SQL Azure eliminuje bariery z puli elastycznej i możliwości elastycznej bazy danych.</span><span class="sxs-lookup"><span data-stu-id="7c841-283">Although trade-offs might be major barriers with most cloud database service providers, Azure SQL Database eliminates the barriers with its elastic pool and elastic database capabilities.</span></span> <span data-ttu-id="7c841-284">Deweloperzy SaaS można łączyć właściwości izolacji modelu bazy danych na dzierżawy i zoptymalizować współużytkowanie zasobów i usprawnienia zarządzania wielu baz danych za pomocą elastycznych pul i powiązane z nim narzędzia.</span><span class="sxs-lookup"><span data-stu-id="7c841-284">SaaS developers can combine the isolation characteristics of a database-per-tenant model and optimize resource sharing and the manageability improvements of many databases by using elastic pools and associated tools.</span></span>

<span data-ttu-id="7c841-285">Dostawcy wielodostępnych aplikacji, które nie mają żadnych wymagań izolacji dzierżawy i który pakietu dzierżaw w bazie danych o wysokiej gęstości może się okazać, że udostępnionych danych modeli wynik w dodatkowych efektywna współużytkowanie zasobów i zmniejszyć całkowity koszt.</span><span class="sxs-lookup"><span data-stu-id="7c841-285">Multi-tenant application providers who have no tenant isolation requirements and who can pack tenants in a database at a high density might find that shared data models result in additional efficiency in resource sharing and reduce overall cost.</span></span> <span data-ttu-id="7c841-286">Narzędzi elastycznej bazy danych w usłudze Azure SQL Database, bibliotek dzielenia na fragmenty i funkcje zabezpieczeń ułatwiają tworzenie i zarządzanie nimi aplikacje wielodostępne dostawców w modelu SaaS.</span><span class="sxs-lookup"><span data-stu-id="7c841-286">Azure SQL Database elastic database tools, sharding libraries, and security features help SaaS providers build and manage multi-tenant applications.</span></span>

## <a name="next-steps"></a><span data-ttu-id="7c841-287">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="7c841-287">Next steps</span></span>
<span data-ttu-id="7c841-288">[Wprowadzenie do narzędzi elastycznej bazy danych](sql-database-elastic-scale-get-started.md) z przykładową aplikację prezentującą biblioteki klienta.</span><span class="sxs-lookup"><span data-stu-id="7c841-288">[Get started with elastic database tools](sql-database-elastic-scale-get-started.md) with a sample app that demonstrates the client library.</span></span>

<span data-ttu-id="7c841-289">Utwórz [puli elastycznej niestandardowy pulpit nawigacyjny rozwiązania saas](https://github.com/Microsoft/sql-server-samples/tree/master/samples/manage/azure-sql-db-elastic-pools-custom-dashboard) z przykładowej aplikacji, który korzysta z puli elastycznej dla rozwiązania ekonomicznych, skalowalnych bazy danych.</span><span class="sxs-lookup"><span data-stu-id="7c841-289">Create an [elastic pool custom dashboard for SaaS](https://github.com/Microsoft/sql-server-samples/tree/master/samples/manage/azure-sql-db-elastic-pools-custom-dashboard) with a sample app that uses elastic pools for a cost-effective, scalable database solution.</span></span>

<span data-ttu-id="7c841-290">Użyj narzędzia bazy danych SQL Azure, aby [migracji istniejących baz danych do skalowania w poziomie](sql-database-elastic-convert-to-use-elastic-tools.md).</span><span class="sxs-lookup"><span data-stu-id="7c841-290">Use the Azure SQL Database tools to [migrate existing databases to scale out](sql-database-elastic-convert-to-use-elastic-tools.md).</span></span>

<span data-ttu-id="7c841-291">Aby utworzyć puli elastycznej za pomocą portalu Azure, zobacz [tworzenia puli elastycznej](sql-database-elastic-pool-manage-portal.md).</span><span class="sxs-lookup"><span data-stu-id="7c841-291">To create an elastic pool using the Azure portal, see [create an elastic pool](sql-database-elastic-pool-manage-portal.md).</span></span>  

<span data-ttu-id="7c841-292">Dowiedz się, jak [monitorować i zarządzać nimi puli elastycznej](sql-database-elastic-pool-manage-portal.md).</span><span class="sxs-lookup"><span data-stu-id="7c841-292">Learn how to [monitor and manage an elastic pool](sql-database-elastic-pool-manage-portal.md).</span></span>

## <a name="additional-resources"></a><span data-ttu-id="7c841-293">Dodatkowe zasoby</span><span class="sxs-lookup"><span data-stu-id="7c841-293">Additional resources</span></span>

* [<span data-ttu-id="7c841-294">Wdrażanie i Eksploruj aplikacji wielodostępnych, która używa bazy danych SQL Azure - Wingtip SaaS</span><span class="sxs-lookup"><span data-stu-id="7c841-294">Deploy and explore a multi-tenant application that uses Azure SQL Database - Wingtip SaaS</span></span>](sql-database-saas-tutorial.md)
* [<span data-ttu-id="7c841-295">Co to jest puli elastycznej platformy Azure?</span><span class="sxs-lookup"><span data-stu-id="7c841-295">What is an Azure elastic pool?</span></span>](sql-database-elastic-pool.md)
* [<span data-ttu-id="7c841-296">Scaling out with Azure SQL Database (Skalowanie w poziomie za pomocą usługi Azure SQL Database)</span><span class="sxs-lookup"><span data-stu-id="7c841-296">Scaling out with Azure SQL Database</span></span>](sql-database-elastic-scale-introduction.md)
* [<span data-ttu-id="7c841-297">aplikacje wielodostępne z narzędzi elastycznej bazy danych i zabezpieczenia na poziomie wiersza</span><span class="sxs-lookup"><span data-stu-id="7c841-297">multi-tenant applications with elastic database tools and row-level security</span></span>](sql-database-elastic-tools-multi-tenant-row-level-security.md)
* [<span data-ttu-id="7c841-298">Uwierzytelnianie w aplikacjach wielu dzierżawców przy użyciu usługi Azure Active Directory i OpenID Connect</span><span class="sxs-lookup"><span data-stu-id="7c841-298">Authentication in multi-tenant apps by using Azure Active Directory and OpenID Connect</span></span>](../guidance/guidance-multitenant-identity-authenticate.md)
* [<span data-ttu-id="7c841-299">Aplikacja Tailspin Surveys</span><span class="sxs-lookup"><span data-stu-id="7c841-299">Tailspin Surveys application</span></span>](../guidance/guidance-multitenant-identity-tailspin.md)


## <a name="questions-and-feature-requests"></a><span data-ttu-id="7c841-300">Pytania i żądania funkcji</span><span class="sxs-lookup"><span data-stu-id="7c841-300">Questions and feature requests</span></span>

<span data-ttu-id="7c841-301">Odpowiedzi na pytania, Znajdź NAS w [forum bazy danych SQL](http://social.msdn.microsoft.com/forums/azure/home?forum=ssdsgetstarted).</span><span class="sxs-lookup"><span data-stu-id="7c841-301">For questions, find us in the [SQL Database forum](http://social.msdn.microsoft.com/forums/azure/home?forum=ssdsgetstarted).</span></span> <span data-ttu-id="7c841-302">Dodaj żądanie funkcji [forum opinii bazy danych SQL](https://feedback.azure.com/forums/217321-sql-database/).</span><span class="sxs-lookup"><span data-stu-id="7c841-302">Add a feature request in the [SQL Database feedback forum](https://feedback.azure.com/forums/217321-sql-database/).</span></span>

