---
title: "Baza danych SQL — automatycznego dostrajania | Dokumentacja firmy Microsoft"
description: "Baza danych SQL analizuje zapytania SQL i automatycznie dostosowuje się do użytkownika obciążenia."
services: sql-database
documentationcenter: 
author: jovanpop-msft
manager: jhubbard
editor: 
ms.assetid: 
ms.service: sql-database
ms.custom: monitor & tune
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 06/05/2017
ms.author: jovanpop
ms.openlocfilehash: f5552793db2d89542782b7d9e8f996314f62e429
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 07/11/2017
---
# <a name="automatic-tuning"></a><span data-ttu-id="8cd15-103">Automatyczne dostrajanie</span><span class="sxs-lookup"><span data-stu-id="8cd15-103">Automatic tuning</span></span>

<span data-ttu-id="8cd15-104">Baza danych SQL Azure to usługa danych pełni zarządzana, która monitoruje zapytań, które są wykonywane na bazie danych i automatycznie może poprawić wydajność obciążenia.</span><span class="sxs-lookup"><span data-stu-id="8cd15-104">Azure SQL Database is a fully managed data service that monitors the queries that are executed on the database and can automatically improve performance of the workload.</span></span> <span data-ttu-id="8cd15-105">Baza danych SQL Azure ma mechanizm wbudowane narzędzie analizy, który można automatycznie dostrojenie i poprawić wydajność kwerend przez dynamicznie dostosowanie bazy danych, aby obciążenie.</span><span class="sxs-lookup"><span data-stu-id="8cd15-105">Azure SQL Database has a built-in intelligence mechanism that can automatically tune and improve performance of your queries by dynamically adapting the database to your workload.</span></span> <span data-ttu-id="8cd15-106">Automatycznego dostrajania w bazie danych SQL Azure może być jedną z najważniejszych funkcji, możesz włączyć w bazie danych SQL Azure w celu zoptymalizowania wydajności zapytań.</span><span class="sxs-lookup"><span data-stu-id="8cd15-106">Automatic tuning in Azure SQL Database might be one of the most important features that you can enable on Azure SQL Database to optimize performance of your queries.</span></span>

<span data-ttu-id="8cd15-107">Zobacz ten artykuł, aby uzyskać instrukcje dotyczące [Włączanie automatycznego dostrajania](sql-database-automatic-tuning-enable.md) przy użyciu portalu Azure.</span><span class="sxs-lookup"><span data-stu-id="8cd15-107">See this article for the steps to [enable automatic tuning](sql-database-automatic-tuning-enable.md) using the Azure portal.</span></span>

## <a name="why-automatic-tuning"></a><span data-ttu-id="8cd15-108">Dlaczego automatycznego dostrajania?</span><span class="sxs-lookup"><span data-stu-id="8cd15-108">Why automatic tuning?</span></span>

<span data-ttu-id="8cd15-109">Jedną z głównych zadań w witrynie Administracja klasycznego bazy danych jest monitorowanie obciążenia, identyfikowanie krytyczne zapytania SQL, indeksów, które mają zostać dodane w celu zwiększenia wydajności i indeksów rzadko używane.</span><span class="sxs-lookup"><span data-stu-id="8cd15-109">One of the main tasks in classic database administration is monitoring the workload, identifying critical SQL queries, indexes that should be added to improve performance, and rarely used indexes.</span></span> <span data-ttu-id="8cd15-110">Baza danych SQL Azure zapewnia szczegółowy wgląd w kwerend i indeksów, które chcesz monitorować.</span><span class="sxs-lookup"><span data-stu-id="8cd15-110">Azure SQL Database provides detailed insight into the queries and indexes that you need to monitor.</span></span> <span data-ttu-id="8cd15-111">Jednak nieprzerwane monitorowanie bazy danych jest trudnym i żmudnym zadaniem, szczególnie w przypadku pracy z wieloma bazami danych.</span><span class="sxs-lookup"><span data-stu-id="8cd15-111">However, constantly monitoring database is a hard and tedious task, especially when dealing with many databases.</span></span> <span data-ttu-id="8cd15-112">Zarządzanie olbrzymią liczbę baz danych może być niemożliwe czy wydajnie, nawet w przypadku wszystkie dostępne narzędzia i raporty zawierające bazy danych SQL Azure i portalu Azure.</span><span class="sxs-lookup"><span data-stu-id="8cd15-112">Managing a huge number of databases might be impossible to do efficiently even with all available tools and reports that Azure SQL Database and Azure portal provide.</span></span> <span data-ttu-id="8cd15-113">Zamiast monitorowania i dostrajania bazę danych ręcznie, można rozważyć delegowanie niektóre działania monitorowania i dostrajania do bazy danych SQL Azure przy użyciu funkcji automatycznego dostrajania.</span><span class="sxs-lookup"><span data-stu-id="8cd15-113">Instead of monitoring and tuning your database manually, you might consider delegating some of the monitoring and tuning actions to Azure SQL Database using automatic tuning feature.</span></span> 


> [!VIDEO https://channel9.msdn.com/Blogs/Azure-in-the-Enterprise/Enabling-Azure-SQL-Database-Auto-Tuning-at-Scale-for-Microsoft-IT/player]
>

## <a name="how-does-automatic-tuning-work"></a><span data-ttu-id="8cd15-114">Jak działa automatycznego dostrajania?</span><span class="sxs-lookup"><span data-stu-id="8cd15-114">How does automatic tuning work?</span></span>

<span data-ttu-id="8cd15-115">Baza danych SQL Azure ma wydajności ciągłego monitorowania i analizy procesu, który stale uzyskuje informacje o charakterystyczne dla obciążenia i identyfikować potencjalne problemy i ulepszenia.</span><span class="sxs-lookup"><span data-stu-id="8cd15-115">Azure SQL Database has a continuous performance monitoring and analysis process that constantly learns about the characteristic of your workload and identify potential issues and improvements.</span></span>

![Proces automatycznego dostrajania](./media/sql-database-automatic-tuning/tuning-process.png)

<span data-ttu-id="8cd15-117">Ten proces umożliwia dynamiczne dostosowanie do obciążenia przez wyszukiwanie jaki indeksy i planów może zwiększyć wydajność obciążeń i indeksów, które mają wpływ na obciążeń, baza danych SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="8cd15-117">This process enables Azure SQL Database to dynamically adapt to your workload by finding what indexes and plans might improve performance of your workloads and what indexes affect your workloads.</span></span> <span data-ttu-id="8cd15-118">W oparciu o te wyniki, automatycznego dostrajania stosuje dostrajania akcje, które poprawiają wydajność obciążenia.</span><span class="sxs-lookup"><span data-stu-id="8cd15-118">Based on these findings, automatic tuning applies tuning actions that improve performance of your workload.</span></span> <span data-ttu-id="8cd15-119">Ponadto bazy danych SQL Azure stale monitoruje wydajności po wszelkie zmiany wprowadzone przez automatycznego dostrajania, aby upewnić się, że zwiększa wydajność obciążenia.</span><span class="sxs-lookup"><span data-stu-id="8cd15-119">In addition, Azure SQL Database continuously monitors performance after any change made by automatic tuning to ensure that it improves performance of your workload.</span></span> <span data-ttu-id="8cd15-120">Dowolną akcję, która nie poprawić wydajność zostanie automatycznie przywrócony.</span><span class="sxs-lookup"><span data-stu-id="8cd15-120">Any action that didn’t improve performance is automatically reverted.</span></span> <span data-ttu-id="8cd15-121">Ten proces sprawdzania poprawności jest kluczowym elementem, który zapewnia, że wszelkie zmiany wprowadzone przez automatycznego dostrajania nie można jej zmniejszyć wydajność obciążenia.</span><span class="sxs-lookup"><span data-stu-id="8cd15-121">This verification process is a key feature that ensures that any change made by automatic tuning does not decrease the performance of your workload.</span></span>

<span data-ttu-id="8cd15-122">Istnieją dwa automatycznego dostrajania aspektów, które są dostępne w bazie danych SQL Azure:</span><span class="sxs-lookup"><span data-stu-id="8cd15-122">There are two automatic tuning aspects that are available in Azure SQL Database:</span></span>

 -  <span data-ttu-id="8cd15-123">**Zarządzanie indeksami automatyczne** , które identyfikują indeksów, które mają zostać dodane w bazie danych i indeksów, które powinny zostać usunięte.</span><span class="sxs-lookup"><span data-stu-id="8cd15-123">**Automatic index management** that identifies indexes that should be added in your database, and indexes that should be removed.</span></span>
 -  <span data-ttu-id="8cd15-124">**Automatyczne plan korekty** (wkrótce, już dostępne w 2017 serwera SQL), które identyfikują planów powodować problemy i poprawek SQL zaplanować problemy z wydajnością.</span><span class="sxs-lookup"><span data-stu-id="8cd15-124">**Automatic plan correction** (coming soon, already available in SQL Server 2017) that identifies problematic plans and fixes SQL plan performance problems.</span></span>

## <a name="automatic-index-management"></a><span data-ttu-id="8cd15-125">Zarządzanie indeksami automatyczne</span><span class="sxs-lookup"><span data-stu-id="8cd15-125">Automatic index management</span></span>

<span data-ttu-id="8cd15-126">W bazie danych SQL Azure Zarządzanie indeksami jest łatwe, ponieważ baza danych SQL Azure uzyskuje informacje o obciążenia i zapewnia, że danych jest zawsze optymalnie indeksowane.</span><span class="sxs-lookup"><span data-stu-id="8cd15-126">In Azure SQL Database, index management is easy because Azure SQL Database learns about your workload and ensures that your data is always optimally indexed.</span></span> <span data-ttu-id="8cd15-127">Indeks właściwy projekt ma kluczowe znaczenie dla uzyskania optymalnej wydajności obciążenie i indeksu automatycznego zarządzania mogą pomóc w Optymalizuj indeksy użytkownika.</span><span class="sxs-lookup"><span data-stu-id="8cd15-127">Proper index design is crucial for optimal performance of your workload, and automatic index management can help you optimize your indexes.</span></span> <span data-ttu-id="8cd15-128">Indeks automatycznego zarządzania można rozwiązać problemy z wydajnością w niepoprawnie indeksowanego baz danych, lub Obsługa i poprawić indeksy na istniejący schemat bazy danych.</span><span class="sxs-lookup"><span data-stu-id="8cd15-128">Automatic index management can either fix performance issues in incorrectly indexed databases, or maintain and improve indexes on the existing database schema.</span></span> 

### <a name="why-do-you-need-index-management"></a><span data-ttu-id="8cd15-129">Dlaczego należy Zarządzanie indeksami?</span><span class="sxs-lookup"><span data-stu-id="8cd15-129">Why do you need index management?</span></span>

<span data-ttu-id="8cd15-130">Indeksy przyspieszenia niektórych kwerend odczytujących dane z tabel. jednak mogą one spowolnić zapytań, które aktualizują dane.</span><span class="sxs-lookup"><span data-stu-id="8cd15-130">Indexes speed up some of your queries that read data from the tables; however, they can slow down the queries that update data.</span></span> <span data-ttu-id="8cd15-131">Należy dokładnie analizować, kiedy należy utworzyć indeks i jakie kolumny należy uwzględnić w indeksie.</span><span class="sxs-lookup"><span data-stu-id="8cd15-131">You need to carefully analyze when to create an index and what columns you need to include in the index.</span></span> <span data-ttu-id="8cd15-132">Niektóre indeksy nie mogą być wymagane po pewnym czasie.</span><span class="sxs-lookup"><span data-stu-id="8cd15-132">Some indexes might not be needed after some time.</span></span> <span data-ttu-id="8cd15-133">W związku z tym konieczne będzie okresowo zidentyfikować i Porzuć indeksy, które nie powodują żadnych korzyści.</span><span class="sxs-lookup"><span data-stu-id="8cd15-133">Therefore, you would need to periodically identify and drop the indexes that do not bring any benefits.</span></span> <span data-ttu-id="8cd15-134">Jeśli zignorujesz nieużywane indeksów wydajności zapytań, które aktualizują dane może zmniejszyć bez żadnych korzyści w zapytaniach, które odczytanie danych.</span><span class="sxs-lookup"><span data-stu-id="8cd15-134">If you ignore the unused indexes, performance of the queries that update data would be decreased without any benefit on the queries that read data.</span></span> <span data-ttu-id="8cd15-135">Nieużywane indeksów również na ogólną wydajność systemu, ponieważ dodatkowe aktualizacje wymagają niepotrzebnych rejestrowania.</span><span class="sxs-lookup"><span data-stu-id="8cd15-135">Unused indexes also affect overall performance of the system because additional updates require unnecessary logging.</span></span>

<span data-ttu-id="8cd15-136">Znajdowanie optymalny zestaw indeksów, które zwiększają wydajność zapytań, które odczytuje dane z tabel i ma minimalny wpływ na aktualizacje mogą wymagać ciągły i złożone analizy.</span><span class="sxs-lookup"><span data-stu-id="8cd15-136">Finding the optimal set of indexes that improve performance of the queries that read data from your tables and have minimal impact on updates might require continuous and complex analysis.</span></span>

<span data-ttu-id="8cd15-137">Baza danych SQL Azure używa wbudowane narzędzie analizy i zaawansowanych reguł, które analizuje zapytania, zidentyfikuj indeksów, które są optymalne dla bieżącej obciążeń i indeksów może zostać usunięta.</span><span class="sxs-lookup"><span data-stu-id="8cd15-137">Azure SQL Database uses built-in intelligence and advanced rules that analyze your queries, identify indexes that would be optimal for your current workloads, and the indexes might be removed.</span></span> <span data-ttu-id="8cd15-138">Baza danych SQL Azure zapewnia minimalny zestaw niezbędne indeksów, które zoptymalizować zapytania, które zapoznały danych w trybie zminimalizowanym wpływu na inne zapytania.</span><span class="sxs-lookup"><span data-stu-id="8cd15-138">Azure SQL Database ensures that you have a minimal necessary set of indexes that optimize the queries that read data, with the minimized impact on the other queries.</span></span>

### <a name="how-to-identify-indexes-that-need-to-be-changed-in-your-database"></a><span data-ttu-id="8cd15-139">Jak zidentyfikować indeksów, które muszą zostać zmienione w bazie danych?</span><span class="sxs-lookup"><span data-stu-id="8cd15-139">How to identify indexes that need to be changed in your database?</span></span>

<span data-ttu-id="8cd15-140">Baza danych SQL Azure ułatwia proces zarządzania indeksu.</span><span class="sxs-lookup"><span data-stu-id="8cd15-140">Azure SQL Database makes index management process easy.</span></span> <span data-ttu-id="8cd15-141">Zamiast żmudne analizy ręczne obciążenia i monitorowanie indeksu bazy danych SQL Azure analizuje obciążenie, identyfikuje zapytań, które można wykonać szybciej z nowego indeksu i identyfikuje nieużywane lub zduplikowane indeksów.</span><span class="sxs-lookup"><span data-stu-id="8cd15-141">Instead of the tedious process of manual workload analysis and index monitoring, Azure SQL Database analyzes your workload, identifies the queries that could be executed faster with a new index, and identifies unused or duplicated indexes.</span></span> <span data-ttu-id="8cd15-142">Więcej informacji o identyfikacji indeksów, które powinny zostać zmienione w [znaleźć zalecenia dotyczące indeksu w portalu Azure](sql-database-advisor-portal.md).</span><span class="sxs-lookup"><span data-stu-id="8cd15-142">Find more information about identification of indexes that should be changed at [Find index recommendations in Azure portal](sql-database-advisor-portal.md).</span></span>

### <a name="automatic-index-management-considerations"></a><span data-ttu-id="8cd15-143">Zagadnienia dotyczące zarządzania automatyczne indeksu</span><span class="sxs-lookup"><span data-stu-id="8cd15-143">Automatic index management considerations</span></span>

<span data-ttu-id="8cd15-144">Jeśli okaże się, że wbudowane reguły poprawić wydajność bazy danych, może pozwolić automatycznie Zarządzaj indeksami Twojej bazy danych Azure SQL.</span><span class="sxs-lookup"><span data-stu-id="8cd15-144">If you find that the built-in rules improve the performance of your database, you might let Azure SQL database automatically manage your indexes.</span></span>

<span data-ttu-id="8cd15-145">Czynności wymagane do tworzenia indeksów niezbędne w bazach danych SQL Azure może korzystać z zasobów i tymczasowo wpływać na wydajność obciążenia.</span><span class="sxs-lookup"><span data-stu-id="8cd15-145">Actions required to create necessary indexes in Azure SQL Databases might consume resources and temporally affect workload performance.</span></span> <span data-ttu-id="8cd15-146">Aby zminimalizować wpływ tworzenia indeksu na wydajność przetwarzania obciążenia, baza danych SQL Azure znajduje przedział czasu odpowiednie do żadnej operacji zarządzania indeksu.</span><span class="sxs-lookup"><span data-stu-id="8cd15-146">To minimize the impact of index creation on workload performance, Azure SQL Database finds the appropriate time window for any index management operation.</span></span> <span data-ttu-id="8cd15-147">Dostrajanie akcji jest odroczone, jeśli baza danych musi zasoby wymagane do wykonania obciążenie i uruchomiony, gdy baza danych ma wystarczająco dużo nieużywanych zasobów, które mogą być używane dla zadań konserwacji.</span><span class="sxs-lookup"><span data-stu-id="8cd15-147">Tuning action is postponed if the database needs resources to execute your workload, and started when the database has enough unused resources that can be used for the maintenance task.</span></span> <span data-ttu-id="8cd15-148">Jedną z ważnych funkcji w indeksie automatycznego zarządzania jest weryfikacji działań.</span><span class="sxs-lookup"><span data-stu-id="8cd15-148">One important feature in automatic index management is a verification of the actions.</span></span> <span data-ttu-id="8cd15-149">Gdy baza danych SQL Azure tworzy lub porzuca indeks, proces monitorowania analizuje wydajność obciążenia można zweryfikować, że akcja poprawia wydajność.</span><span class="sxs-lookup"><span data-stu-id="8cd15-149">When Azure SQL Database creates or drops index, a monitoring process analyzes performance of your workload to verify that the action improved the performance.</span></span> <span data-ttu-id="8cd15-150">Jeśli nie przyniesie znaczne ulepszenia — akcja zostanie bezpośrednio przywrócony.</span><span class="sxs-lookup"><span data-stu-id="8cd15-150">If it didn’t bring significant improvement – the action is immediately reverted.</span></span> <span data-ttu-id="8cd15-151">Dzięki temu bazy danych SQL Azure zapewnia, że akcje automatyczne niekorzystnie wpłynąć na wydajność obciążenia.</span><span class="sxs-lookup"><span data-stu-id="8cd15-151">This way, Azure SQL Database ensures that automatic actions do not negatively impact performance of your workload.</span></span> <span data-ttu-id="8cd15-152">Utworzone przez automatyczne dostrajanie indeksów są niewidoczne dla operacji konserwacji na podstawowy schemat.</span><span class="sxs-lookup"><span data-stu-id="8cd15-152">Indexes created by automatic tuning are transparent for the maintenance operation on the underlying schema.</span></span> <span data-ttu-id="8cd15-153">Zmiany schematu, takie jak porzucenie lub zmienianie nazw kolumn nie są blokowane przez obecności Indeksy tworzone automatycznie.</span><span class="sxs-lookup"><span data-stu-id="8cd15-153">Schema changes such as dropping or renaming columns are not blocked by the presence of automatically created indexes.</span></span> <span data-ttu-id="8cd15-154">Indeksów, które są automatycznie tworzone przez usługę Azure SQL Database są usuwane natychmiast, kiedy związane z tabeli lub kolumny jest porzucany.</span><span class="sxs-lookup"><span data-stu-id="8cd15-154">Indexes that are automatically created by Azure SQL Database are immediately dropped when related table or columns is dropped.</span></span>

## <a name="automatic-plan-choice-correction"></a><span data-ttu-id="8cd15-155">Planowanie automatycznego wyboru korekty</span><span class="sxs-lookup"><span data-stu-id="8cd15-155">Automatic plan choice correction</span></span>

<span data-ttu-id="8cd15-156">Automatyczne plan korekty jest nową funkcją automatycznego dostrajania dodany do programu SQL Server 2017 CTP2.0 identyfikujący planów SQL, które błędne działanie.</span><span class="sxs-lookup"><span data-stu-id="8cd15-156">Automatic plan correction is a new automatic tuning feature added in SQL Server 2017 CTP2.0 that identifies SQL plans that misbehave.</span></span> <span data-ttu-id="8cd15-157">Opcja automatycznego dostrajania będzie wkrótce dostępne w bazie danych SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="8cd15-157">This automatic tuning option is coming soon on Azure SQL Database.</span></span> <span data-ttu-id="8cd15-158">Aby uzyskać więcej informacji o [automatycznego dostrajania w programu SQL Server 2017](https://docs.microsoft.com/sql/relational-databases/automatic-tuning/automatic-tuning).</span><span class="sxs-lookup"><span data-stu-id="8cd15-158">Find more information at [Automatic tuning in SQL Server 2017](https://docs.microsoft.com/sql/relational-databases/automatic-tuning/automatic-tuning).</span></span>

## <a name="next-steps"></a><span data-ttu-id="8cd15-159">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="8cd15-159">Next steps</span></span>

- <span data-ttu-id="8cd15-160">Aby włączyć automatyczne dostrajanie w bazie danych SQL Azure i umożliwić funkcji automatycznego dostrajania obciążenie w pełni zarządzać, zobacz [Włączanie automatycznego dostrajania](sql-database-automatic-tuning-enable.md).</span><span class="sxs-lookup"><span data-stu-id="8cd15-160">To enable automatic tuning in Azure SQL Database and let automatic tuning feature fully manage your workload, see [Enable automatic tuning](sql-database-automatic-tuning-enable.md).</span></span>
- <span data-ttu-id="8cd15-161">Umożliwia ręczne dostrajania, możesz przejrzeć [dostrajanie zalecenia w portalu Azure](sql-database-advisor-portal.md) i ręcznie zastosować te, które poprawić wydajność kwerend.</span><span class="sxs-lookup"><span data-stu-id="8cd15-161">To use manual tuning, you can review [Tuning recommendations in Azure portal](sql-database-advisor-portal.md) and manually apply the ones that improve performance of your queries.</span></span>
