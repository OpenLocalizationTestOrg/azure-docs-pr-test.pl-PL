---
title: aaaUpgrade toohello najnowsze biblioteki klienta elastycznej bazy danych | Dokumentacja firmy Microsoft
description: "Uaktualnianie aplikacji i bibliotek przy użyciu narzędzia Nuget"
services: sql-database
documentationcenter: 
manager: jhubbard
author: ddove
ms.assetid: 0a546510-76e7-465e-9271-f15ff0cfa959
ms.service: sql-database
ms.custom: scale out apps
ms.workload: sql-database
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 03/06/2017
ms.author: ddove
ms.openlocfilehash: cc2c9179be4c53ca59cd24d832127cf277c6e695
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="upgrade-an-app-toouse-hello-latest-elastic-database-client-library"></a><span data-ttu-id="1fdc9-103">Uaktualnienie aplikacji toouse hello najnowsze elastycznej bazy danych biblioteki klienta</span><span class="sxs-lookup"><span data-stu-id="1fdc9-103">Upgrade an app toouse hello latest elastic database client library</span></span>
<span data-ttu-id="1fdc9-104">Nowe wersje hello [biblioteki klienta elastycznej bazy danych](sql-database-elastic-database-client-library.md) są dostępne za pośrednictwem interfejsu Menedżera NuGetPackage hello NuGetand w programie Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="1fdc9-104">New versions of hello [Elastic Database client library](sql-database-elastic-database-client-library.md) are  available through NuGetand hello NuGetPackage Manager interface in Visual Studio.</span></span> <span data-ttu-id="1fdc9-105">Uaktualnień obsługę nowych funkcji biblioteki klienta hello oraz zawierać poprawki.</span><span class="sxs-lookup"><span data-stu-id="1fdc9-105">Upgrades contain bug fixes and support for new capabilities of hello client library.</span></span>

<span data-ttu-id="1fdc9-106">**Do najnowszej wersji hello:** Przejdź zbyt[Microsoft.Azure.SqlDatabase.ElasticScale.Client](https://www.nuget.org/packages/Microsoft.Azure.SqlDatabase.ElasticScale.Client/).</span><span class="sxs-lookup"><span data-stu-id="1fdc9-106">**For hello latest version:** Go too[Microsoft.Azure.SqlDatabase.ElasticScale.Client](https://www.nuget.org/packages/Microsoft.Azure.SqlDatabase.ElasticScale.Client/).</span></span>

<span data-ttu-id="1fdc9-107">Odbuduj aplikacji przy użyciu nowej biblioteki hello, a także zmienić istniejące metadanych Menedżera Map niezależnego fragmentu przechowywane w Twojej bazy danych SQL Azure toosupport nowe funkcje.</span><span class="sxs-lookup"><span data-stu-id="1fdc9-107">Rebuild your application with hello new library, as well as change your existing Shard Map Manager metadata stored in your Azure SQL Databases toosupport new features.</span></span>

<span data-ttu-id="1fdc9-108">Te kroki są wykonywane w kolejności gwarantuje, że starsze wersje biblioteki klienta hello nie są już dostępne w danym środowisku po zaktualizowaniu obiektów metadanych, co oznacza, że po uaktualnieniu nie można utworzyć obiektów stara wersja metadanych.</span><span class="sxs-lookup"><span data-stu-id="1fdc9-108">Performing these steps in order ensures that old versions of hello client library are no longer present in your environment when metadata objects are updated, which means that old-version metadata objects won’t be created after upgrade.</span></span>   

## <a name="upgrade-steps"></a><span data-ttu-id="1fdc9-109">Kroki uaktualniania</span><span class="sxs-lookup"><span data-stu-id="1fdc9-109">Upgrade steps</span></span>
<span data-ttu-id="1fdc9-110">**1. Uaktualnienie aplikacji.**</span><span class="sxs-lookup"><span data-stu-id="1fdc9-110">**1. Upgrade your applications.**</span></span> <span data-ttu-id="1fdc9-111">W Visual Studio, pobierania i odwołanie powitania klienta biblioteki najnowszym do wszystkich projektów programowanie korzystających z biblioteki hello; następnie ponownie skompilować i wdrożyć.</span><span class="sxs-lookup"><span data-stu-id="1fdc9-111">In Visual Studio, download and reference hello latest client library version into all of your development projects that use hello library; then rebuild and deploy.</span></span> 

* <span data-ttu-id="1fdc9-112">W rozwiązaniu programu Visual Studio wybierz **narzędzia** --> **Menedżera pakietów NuGet** -->  **Zarządzaj pakietami NuGet dla rozwiązania**.</span><span class="sxs-lookup"><span data-stu-id="1fdc9-112">In your Visual Studio solution, select **Tools** --> **NuGet Package Manager** -->  **Manage NuGet Packages for Solution**.</span></span> 
* <span data-ttu-id="1fdc9-113">(Visual Studio 2013) W lewym panelu hello, wybierz **aktualizacje**, a następnie wybierz hello **aktualizacji** przycisk na powitania pakietu **Azure SQL Database elastyczne skalowanie klienta Library** wyświetlonym w hello okno.</span><span class="sxs-lookup"><span data-stu-id="1fdc9-113">(Visual Studio 2013) In hello left panel, select **Updates**, and then select hello **Update** button on hello package **Azure SQL Database Elastic Scale Client Library** that appears in hello window.</span></span>
* <span data-ttu-id="1fdc9-114">(Visual Studio 2015) Ustaw pole filtru hello zbyt**uaktualnienia dostępne**.</span><span class="sxs-lookup"><span data-stu-id="1fdc9-114">(Visual Studio 2015) Set hello Filter box too**Upgrade available**.</span></span> <span data-ttu-id="1fdc9-115">Wybierz hello tooupdate pakietu, a następnie kliknij przycisk hello **aktualizacji** przycisku.</span><span class="sxs-lookup"><span data-stu-id="1fdc9-115">Select hello package tooupdate, and click hello **Update** button.</span></span>
* <span data-ttu-id="1fdc9-116">(Visual Studio 2017) U góry okna dialogowego hello hello, wybierz **aktualizacje**.</span><span class="sxs-lookup"><span data-stu-id="1fdc9-116">(Visual Studio 2017) At hello top of hello dialog, select **Updates**.</span></span> <span data-ttu-id="1fdc9-117">Wybierz hello tooupdate pakietu, a następnie kliknij przycisk hello **aktualizacji** przycisku.</span><span class="sxs-lookup"><span data-stu-id="1fdc9-117">Select hello package tooupdate, and click hello **Update** button.</span></span>
* <span data-ttu-id="1fdc9-118">Tworzenie i wdrażanie.</span><span class="sxs-lookup"><span data-stu-id="1fdc9-118">Build and Deploy.</span></span> 

<span data-ttu-id="1fdc9-119">**2. Uaktualnij skryptów.**</span><span class="sxs-lookup"><span data-stu-id="1fdc9-119">**2. Upgrade your scripts.**</span></span> <span data-ttu-id="1fdc9-120">Jeśli używasz **PowerShell** skrypty odłamków toomanage [pobrać nową wersję biblioteki hello](https://www.nuget.org/packages/Microsoft.Azure.SqlDatabase.ElasticScale.Client/) i skopiować go do katalogu hello, z którego wykonywanie skryptów.</span><span class="sxs-lookup"><span data-stu-id="1fdc9-120">If you are using **PowerShell** scripts toomanage shards, [download hello new library version](https://www.nuget.org/packages/Microsoft.Azure.SqlDatabase.ElasticScale.Client/) and copy it into hello directory from which you execute scripts.</span></span> 

<span data-ttu-id="1fdc9-121">**3. Uaktualnij usługę podziału scalania.**</span><span class="sxs-lookup"><span data-stu-id="1fdc9-121">**3. Upgrade your split-merge service.**</span></span> <span data-ttu-id="1fdc9-122">Jeśli używasz hello elastycznej bazy danych narzędzia do scalania podziału tooreorganize podzielony na niezależne fragmenty danych, [pobrać i zainstalować najnowszą wersję narzędzia hello hello](https://www.nuget.org/packages/Microsoft.Azure.SqlDatabase.ElasticScale.Service.SplitMerge/).</span><span class="sxs-lookup"><span data-stu-id="1fdc9-122">If you use hello elastic database split-merge tool tooreorganize sharded data, [download and deploy hello latest version of hello tool](https://www.nuget.org/packages/Microsoft.Azure.SqlDatabase.ElasticScale.Service.SplitMerge/).</span></span> <span data-ttu-id="1fdc9-123">Szczegółowe kroki uaktualnienia można znaleźć usługi hello [tutaj](sql-database-elastic-scale-overview-split-and-merge.md).</span><span class="sxs-lookup"><span data-stu-id="1fdc9-123">Detailed upgrade steps for hello Service can be found [here](sql-database-elastic-scale-overview-split-and-merge.md).</span></span> 

<span data-ttu-id="1fdc9-124">**4. Uaktualnienie bazy danych Menedżera Map niezależnego fragmentu**.</span><span class="sxs-lookup"><span data-stu-id="1fdc9-124">**4. Upgrade your Shard Map Manager databases**.</span></span> <span data-ttu-id="1fdc9-125">Uaktualnij metadanych hello Obsługa map niezależnego fragmentu w bazie danych SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="1fdc9-125">Upgrade hello metadata supporting your Shard Maps in Azure SQL Database.</span></span>  <span data-ttu-id="1fdc9-126">Istnieją dwa sposoby, można to zrobić, za pomocą programu PowerShell lub C#.</span><span class="sxs-lookup"><span data-stu-id="1fdc9-126">There are two ways you can accomplish this, using PowerShell or C#.</span></span> <span data-ttu-id="1fdc9-127">Poniżej przedstawiono obie opcje.</span><span class="sxs-lookup"><span data-stu-id="1fdc9-127">Both options are shown below.</span></span>

<span data-ttu-id="1fdc9-128">***Opcja 1: Metadane aktualizacji przy użyciu programu PowerShell***</span><span class="sxs-lookup"><span data-stu-id="1fdc9-128">***Option 1: Upgrade metadata using PowerShell***</span></span>

1. <span data-ttu-id="1fdc9-129">Pobierz hello najnowsza wersja narzędzia wiersza polecenia programu NuGet z [tutaj](http://nuget.org/nuget.exe) i Zapisz tooa folderu.</span><span class="sxs-lookup"><span data-stu-id="1fdc9-129">Download hello latest command-line utility for NuGet from [here](http://nuget.org/nuget.exe) and save tooa folder.</span></span> 
2. <span data-ttu-id="1fdc9-130">Otwórz wiersz polecenia, przejdź toohello tym samym folderze, a problem hello polecenia:`nuget install Microsoft.Azure.SqlDatabase.ElasticScale.Client`</span><span class="sxs-lookup"><span data-stu-id="1fdc9-130">Open a Command Prompt, navigate toohello same folder, and issue hello command: `nuget install Microsoft.Azure.SqlDatabase.ElasticScale.Client`</span></span>
3. <span data-ttu-id="1fdc9-131">Przejdź podfolder toohello zawierający hello nowej biblioteki DLL wersji klienta po prostu pobrany, na przykład:`cd .\Microsoft.Azure.SqlDatabase.ElasticScale.Client.1.0.0\lib\net45`</span><span class="sxs-lookup"><span data-stu-id="1fdc9-131">Navigate toohello subfolder containing hello new client DLL version you have just downloaded, for example: `cd .\Microsoft.Azure.SqlDatabase.ElasticScale.Client.1.0.0\lib\net45`</span></span>
4. <span data-ttu-id="1fdc9-132">Pobierz skryptlet uaktualnienia hello elastycznej bazy danych klienta z hello [Centrum skryptów](https://gallery.technet.microsoft.com/scriptcenter/Azure-SQL-Database-Elastic-6442e6a9), i zapisz go na powitania tego samego folderu zawierającego hello biblioteki DLL.</span><span class="sxs-lookup"><span data-stu-id="1fdc9-132">Download hello elastic database client upgrade scriptlet from hello [Script Center](https://gallery.technet.microsoft.com/scriptcenter/Azure-SQL-Database-Elastic-6442e6a9), and save it into hello same folder containing hello DLL.</span></span>
5. <span data-ttu-id="1fdc9-133">Z tego folderu Uruchom ".\upgrade.ps1 programu PowerShell" w wierszu polecenia hello i postępuj zgodnie z monitami hello.</span><span class="sxs-lookup"><span data-stu-id="1fdc9-133">From that folder, run “PowerShell .\upgrade.ps1” from hello command prompt and follow hello prompts.</span></span>

<span data-ttu-id="1fdc9-134">***Opcja 2: Uaktualnienie metadanych za pomocą języka C#***</span><span class="sxs-lookup"><span data-stu-id="1fdc9-134">***Option 2: Upgrade metadata using C#***</span></span>

<span data-ttu-id="1fdc9-135">Można również utworzyć aplikację programu Visual Studio, która otwiera ShardMapManager Twojego, przechodzi przez wszystkie odłamków i przeprowadza uaktualnienie metadanych hello przez wywołanie metody hello [UpgradeLocalStore](https://msdn.microsoft.com/library/azure/microsoft.azure.sqldatabase.elasticscale.shardmanagement.shardmapmanager.upgradelocalstore.aspx) i [ UpgradeGlobalStore](https://msdn.microsoft.com/library/azure/microsoft.azure.sqldatabase.elasticscale.shardmanagement.shardmapmanager.upgradeglobalstore.aspx) jak w poniższym przykładzie:</span><span class="sxs-lookup"><span data-stu-id="1fdc9-135">Alternatively, create a Visual Studio application that opens your ShardMapManager, iterates over all shards, and performs hello metadata upgrade by calling hello methods [UpgradeLocalStore](https://msdn.microsoft.com/library/azure/microsoft.azure.sqldatabase.elasticscale.shardmanagement.shardmapmanager.upgradelocalstore.aspx) and [UpgradeGlobalStore](https://msdn.microsoft.com/library/azure/microsoft.azure.sqldatabase.elasticscale.shardmanagement.shardmapmanager.upgradeglobalstore.aspx) as in this example:</span></span> 

    ShardMapManager smm =
       ShardMapManagerFactory.GetSqlShardMapManager
       (connStr, ShardMapManagerLoadPolicy.Lazy); 
    smm.UpgradeGlobalStore(); 

    foreach (ShardLocation loc in
     smm.GetDistinctShardLocations()) 
    {   
       smm.UpgradeLocalStore(loc); 
    } 

<span data-ttu-id="1fdc9-136">Techniki metadane uaktualnienia można zastosować wiele razy bez problemów.</span><span class="sxs-lookup"><span data-stu-id="1fdc9-136">These techniques for metadata upgrades can be applied multiple times without harm.</span></span> <span data-ttu-id="1fdc9-137">Na przykład jeśli starsza wersja klienta tworzy przypadkowo niezależnych po zaktualizowaniu już, można uruchomić uaktualnienia ponownie we wszystkich tooensure odłamków tego hello najnowszej wersji metadanych jest obecny w całej infrastrukturze.</span><span class="sxs-lookup"><span data-stu-id="1fdc9-137">For example, if an older client version inadvertently creates a shard after you have already updated, you can run upgrade again across all shards tooensure that hello latest metadata version is present throughout your infrastructure.</span></span> 

<span data-ttu-id="1fdc9-138">**Uwaga:** nowych wersji biblioteki klienta hello opublikowane do daty kontynuować toowork we wcześniejszych wersjach hello niezależnego fragmentu Mapa menedżera metadanych dla bazy danych SQL Azure i na odwrót.</span><span class="sxs-lookup"><span data-stu-id="1fdc9-138">**Note:**  New versions of hello client library published to-date continue toowork with prior versions of hello Shard Map Manager metadata on Azure SQL DB, and vice-versa.</span></span>   <span data-ttu-id="1fdc9-139">Jednak zaletą tootake niektóre nowe funkcje hello hello najnowszego klienta metadanych musi toobe uaktualniony.</span><span class="sxs-lookup"><span data-stu-id="1fdc9-139">However tootake advantage of some of hello new features in hello latest client, metadata needs toobe upgraded.</span></span>   <span data-ttu-id="1fdc9-140">Należy pamiętać o tym, czy metadane uaktualnienia nie wpłynie na wszystkie dane użytkownika lub dane specyficzne dla aplikacji, tylko obiekty tworzone i używane przez hello Menedżera Map niezależnego fragmentu.</span><span class="sxs-lookup"><span data-stu-id="1fdc9-140">Note that metadata upgrades will not affect any user-data or application-specific data, only objects created and used by hello Shard Map Manager.</span></span>  <span data-ttu-id="1fdc9-141">A aplikacje nadal toooperate za pośrednictwem hello sekwencji uaktualniania opisany powyżej.</span><span class="sxs-lookup"><span data-stu-id="1fdc9-141">And applications continue toooperate through hello upgrade sequence described above.</span></span> 

## <a name="elastic-database-client-version-history"></a><span data-ttu-id="1fdc9-142">Historia wersji klienta elastycznej bazy danych</span><span class="sxs-lookup"><span data-stu-id="1fdc9-142">Elastic database client version history</span></span>
<span data-ttu-id="1fdc9-143">Historii wersji, przejdź zbyt[Microsoft.Azure.SqlDatabase.ElasticScale.Client](https://www.nuget.org/packages/Microsoft.Azure.SqlDatabase.ElasticScale.Client/)</span><span class="sxs-lookup"><span data-stu-id="1fdc9-143">For version history, go too[Microsoft.Azure.SqlDatabase.ElasticScale.Client](https://www.nuget.org/packages/Microsoft.Azure.SqlDatabase.ElasticScale.Client/)</span></span>

[!INCLUDE [elastic-scale-include](../../includes/elastic-scale-include.md)]

<!--Image references-->
[1]:./media/sql-database-elastic-scale-upgrade-client-library/nuget-upgrade.png

