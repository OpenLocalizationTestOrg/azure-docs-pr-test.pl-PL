---
title: "węzły w puli partii zadań Azure obliczeniowe skali aaaAutomatically | Dokumentacja firmy Microsoft"
description: "Włącz automatyczne skalowanie na toodynamically puli chmury Dostosuj hello liczba węzłów obliczeniowych w puli hello."
services: batch
documentationcenter: 
author: tamram
manager: timlt
editor: tysonn
ms.assetid: c624cdfc-c5f2-4d13-a7d7-ae080833b779
ms.service: batch
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: vm-windows
ms.workload: multiple
ms.date: 06/20/2017
ms.author: tamram
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: b6d1e0c5d8e0e56e15a4d3588150f2466a689f19
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="create-an-automatic-scaling-formula-for-scaling-compute-nodes-in-a-batch-pool"></a><span data-ttu-id="e949f-103">Utwórz formułę Skalowanie automatyczne skalowanie węzłów obliczeniowych w puli partii</span><span class="sxs-lookup"><span data-stu-id="e949f-103">Create an automatic scaling formula for scaling compute nodes in a Batch pool</span></span>

<span data-ttu-id="e949f-104">Partia zadań Azure może automatycznie skalować puli na podstawie parametrów zdefiniowanych przez użytkownika.</span><span class="sxs-lookup"><span data-stu-id="e949f-104">Azure Batch can automatically scale pools based on parameters that you define.</span></span> <span data-ttu-id="e949f-105">Automatyczne skalowanie partii dynamicznie dodaje puli tooa węzłów jako wzrost wymagań zadań i usuwa jako zmniejszają węzły obliczeniowe.</span><span class="sxs-lookup"><span data-stu-id="e949f-105">With automatic scaling, Batch dynamically adds nodes tooa pool as task demands increase, and removes compute nodes as they decrease.</span></span> <span data-ttu-id="e949f-106">Automatycznie dostosowując hello liczba węzłów obliczeniowych używanych przez aplikację partii można zapisać zarówno czas i pieniądze.</span><span class="sxs-lookup"><span data-stu-id="e949f-106">You can save both time and money by automatically adjusting hello number of compute nodes used by your Batch application.</span></span> 

<span data-ttu-id="e949f-107">Możesz włączyć automatyczne skalowanie węzłów obliczeniowych puli można skojarzyć z nim *formułą automatycznego skalowania* zdefiniowana.</span><span class="sxs-lookup"><span data-stu-id="e949f-107">You enable automatic scaling on a pool of compute nodes by associating with it an *autoscale formula* that you define.</span></span> <span data-ttu-id="e949f-108">Hello usługa partia zadań użyje hello skalowania automatycznego formuły toodetermine hello liczby węzłów obliczeniowych, które są potrzebne tooexecute obciążenie.</span><span class="sxs-lookup"><span data-stu-id="e949f-108">hello Batch service uses hello autoscale formula toodetermine hello number of compute nodes that are needed tooexecute your workload.</span></span> <span data-ttu-id="e949f-109">Obliczeniowe węzły mogą być dedykowanych węzłów lub [węzłów niskiego priorytetu](batch-low-pri-vms.md).</span><span class="sxs-lookup"><span data-stu-id="e949f-109">Compute nodes may be dedicated nodes or [low-priority nodes](batch-low-pri-vms.md).</span></span> <span data-ttu-id="e949f-110">Wsadowe odpowiada okresowo zbieranych danych metryki tooservice.</span><span class="sxs-lookup"><span data-stu-id="e949f-110">Batch responds tooservice metrics data that is collected periodically.</span></span> <span data-ttu-id="e949f-111">Przy użyciu tych danych metryki, partii dopasowuje hello liczba węzłów obliczeniowych w puli hello na podstawie formuły i interwałem można konfigurować.</span><span class="sxs-lookup"><span data-stu-id="e949f-111">Using this metrics data, Batch adjusts hello number of compute nodes in hello pool based on your formula and at a configurable interval.</span></span>

<span data-ttu-id="e949f-112">Można włączyć automatyczne skalowanie, gdy tworzona jest pula lub na istniejącej puli.</span><span class="sxs-lookup"><span data-stu-id="e949f-112">You can enable automatic scaling either when a pool is created, or on an existing pool.</span></span> <span data-ttu-id="e949f-113">Można również zmienić istniejącej formuły w puli, która jest skonfigurowana dla Skalowanie automatyczne.</span><span class="sxs-lookup"><span data-stu-id="e949f-113">You can also change an existing formula on a pool that is configured for autoscaling.</span></span> <span data-ttu-id="e949f-114">Wsadowe umożliwia tooevaluate formuł przed przypisaniem ich automatyczne skalowanie toopools i toomonitor stan hello jest uruchamiana.</span><span class="sxs-lookup"><span data-stu-id="e949f-114">Batch enables you tooevaluate your formulas before assigning them toopools and toomonitor hello status of automatic scaling runs.</span></span>

<span data-ttu-id="e949f-115">W tym artykule omówiono hello różnymi jednostkami wchodzące w skład formułach skalowania automatycznego, w tym zmienne, operatory, operacje i funkcje.</span><span class="sxs-lookup"><span data-stu-id="e949f-115">This article discusses hello various entities that make up your autoscale formulas, including variables, operators, operations, and functions.</span></span> <span data-ttu-id="e949f-116">Omówiono sposób tooobtain różnych obliczeniowe metryki zasób i zadanie w partii.</span><span class="sxs-lookup"><span data-stu-id="e949f-116">We discuss how tooobtain various compute resource and task metrics within Batch.</span></span> <span data-ttu-id="e949f-117">Możesz użyć tych tooadjust metryki liczba węzłów z puli na podstawie zasobów użycia i zadania stanu.</span><span class="sxs-lookup"><span data-stu-id="e949f-117">You can use these metrics tooadjust your pool's node count based on resource usage and task status.</span></span> <span data-ttu-id="e949f-118">Następnie opisano, jak tooconstruct formuły i Włącz automatyczne skalowanie w puli przy użyciu zarówno hello REST partii i interfejsów API architektury .NET.</span><span class="sxs-lookup"><span data-stu-id="e949f-118">We then describe how tooconstruct a formula and enable automatic scaling on a pool by using both hello Batch REST and .NET APIs.</span></span> <span data-ttu-id="e949f-119">Na koniec kończymy z kilku przykład formuły.</span><span class="sxs-lookup"><span data-stu-id="e949f-119">Finally, we finish up with a few example formulas.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="e949f-120">Podczas tworzenia konta usługi partia zadań można określić hello [konfiguracji konta](batch-api-basics.md#account), która określa, czy pule są przydzielane w ramach subskrypcji usługi partii (hello ustawienie domyślne) lub w ramach subskrypcji użytkownika.</span><span class="sxs-lookup"><span data-stu-id="e949f-120">When you create a Batch account, you can specify hello [account configuration](batch-api-basics.md#account), which determines whether pools are allocated in a Batch service subscription (hello default), or in your user subscription.</span></span> <span data-ttu-id="e949f-121">Twoje konto jest ograniczone tooa maksymalna liczba rdzeni, które mogą być używane do przetwarzania, utworzeniu konta partii zadań z hello domyślnej usługi partia zadań konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="e949f-121">If you created your Batch account with hello default Batch Service configuration, then your account is limited tooa maximum number of cores that can be used for processing.</span></span> <span data-ttu-id="e949f-122">Usługa partia zadań Hello skaluje węzły obliczeniowe tylko się limit rdzeni toothat.</span><span class="sxs-lookup"><span data-stu-id="e949f-122">hello Batch service scales compute nodes only up toothat core limit.</span></span> <span data-ttu-id="e949f-123">Z tego powodu hello docelowej liczby węzłów obliczeniowych określony formułą automatycznego skalowania nie może skontaktować się hello usługa partia zadań.</span><span class="sxs-lookup"><span data-stu-id="e949f-123">For this reason, hello Batch service may not reach hello target number of compute nodes specified by an autoscale formula.</span></span> <span data-ttu-id="e949f-124">Zobacz [przydziały i limity dla usługi partia zadań Azure hello](batch-quota-limit.md) informacji na temat przeglądania i zwiększenie przydziały Twojego konta.</span><span class="sxs-lookup"><span data-stu-id="e949f-124">See [Quotas and limits for hello Azure Batch service](batch-quota-limit.md) for information on viewing and increasing your account quotas.</span></span>
>
><span data-ttu-id="e949f-125">Jeśli Twoje konto zostało utworzone z konfiguracją subskrypcji użytkownika hello, Twoje konto udziałów w limit przydziału rdzeni hello hello subskrypcji.</span><span class="sxs-lookup"><span data-stu-id="e949f-125">If you created your account with hello User Subscription configuration, then your account shares in hello core quota for hello subscription.</span></span> <span data-ttu-id="e949f-126">Aby uzyskać więcej informacji, zobacz sekcję [Virtual Machines limits (Limity maszyn wirtualnych)](../azure-subscription-service-limits.md#virtual-machines-limits) w artykule [Azure subscription and service limits, quotas, and constraints (Ograniczenia, przydziały i limity usług i subskrypcji platformy Azure)](../azure-subscription-service-limits.md).</span><span class="sxs-lookup"><span data-stu-id="e949f-126">For more information, see [Virtual Machines limits](../azure-subscription-service-limits.md#virtual-machines-limits) in [Azure subscription and service limits, quotas, and constraints](../azure-subscription-service-limits.md).</span></span>
>
>

## <a name="automatic-scaling-formulas"></a><span data-ttu-id="e949f-127">Automatyczne skalowanie formuł</span><span class="sxs-lookup"><span data-stu-id="e949f-127">Automatic scaling formulas</span></span>
<span data-ttu-id="e949f-128">Formuła skalowania automatycznego jest wartość ciągu przez Ciebie, która zawiera jedną lub więcej instrukcji.</span><span class="sxs-lookup"><span data-stu-id="e949f-128">An automatic scaling formula is a string value that you define that contains one or more statements.</span></span> <span data-ttu-id="e949f-129">formułą automatycznego skalowania Hello jest przypisany puli tooa [autoScaleFormula] [ rest_autoscaleformula] elementu (REST partii) lub [CloudPool.AutoScaleFormula] [ net_cloudpool_autoscaleformula] Właściwość (partiami platformy .NET).</span><span class="sxs-lookup"><span data-stu-id="e949f-129">hello autoscale formula is assigned tooa pool's [autoScaleFormula][rest_autoscaleformula] element (Batch REST) or [CloudPool.AutoScaleFormula][net_cloudpool_autoscaleformula] property (Batch .NET).</span></span> <span data-ttu-id="e949f-130">Hello usługa partia zadań używa formuły toodetermine hello docelowej liczby węzłów obliczeniowych w puli hello hello następnym interwale czasowym przetwarzania.</span><span class="sxs-lookup"><span data-stu-id="e949f-130">hello Batch service uses your formula toodetermine hello target number of compute nodes in hello pool for hello next interval of processing.</span></span> <span data-ttu-id="e949f-131">Witaj formuły ciąg nie może być dłuższa niż 8 KB, mogą obejmować się too100 instrukcji, które są oddzielone średnikami i może zawierać podziałów wierszy i komentarze.</span><span class="sxs-lookup"><span data-stu-id="e949f-131">hello formula string cannot exceed 8 KB, can include up too100 statements that are separated by semicolons, and can include line breaks and comments.</span></span>

<span data-ttu-id="e949f-132">Można traktować automatycznego skalowania formuł jako skalowania automatycznego partii "język".</span><span class="sxs-lookup"><span data-stu-id="e949f-132">You can think of automatic scaling formulas as a Batch autoscale "language."</span></span> <span data-ttu-id="e949f-133">Instrukcje formuły są wolne sformułowanych wyrażeń zawierających zarówno usługa zdefiniowana zmiennych (zmiennych zdefiniowanych przez usługi partia zadań hello), jak i zmienne zdefiniowane przez użytkownika (zmiennych zdefiniowanych przez użytkownika).</span><span class="sxs-lookup"><span data-stu-id="e949f-133">Formula statements are free-formed expressions that can include both service-defined variables (variables defined by hello Batch service) and user-defined variables (variables that you define).</span></span> <span data-ttu-id="e949f-134">Mogą oni wykonywać różne operacje tych wartości za pomocą wbudowanych typów, Operatorzy i funkcje.</span><span class="sxs-lookup"><span data-stu-id="e949f-134">They can perform various operations on these values by using built-in types, operators, and functions.</span></span> <span data-ttu-id="e949f-135">Na przykład instrukcja może potrwać hello następującej postaci:</span><span class="sxs-lookup"><span data-stu-id="e949f-135">For example, a statement might take hello following form:</span></span>

```
$myNewVariable = function($ServiceDefinedVariable, $myCustomVariable);
```

<span data-ttu-id="e949f-136">Formuły zwykle zawierają wiele instrukcji, które wykonują operacje na wartości, które zostały uzyskane w poprzednim instrukcje.</span><span class="sxs-lookup"><span data-stu-id="e949f-136">Formulas generally contain multiple statements that perform operations on values that are obtained in previous statements.</span></span> <span data-ttu-id="e949f-137">Na przykład, najpierw możemy uzyskać wartości `variable1`, następnie przekazać go toopopulate funkcja tooa `variable2`:</span><span class="sxs-lookup"><span data-stu-id="e949f-137">For example, first we obtain a value for `variable1`, then pass it tooa function toopopulate `variable2`:</span></span>

```
$variable1 = function1($ServiceDefinedVariable);
$variable2 = function2($OtherServiceDefinedVariable, $variable1);
```

<span data-ttu-id="e949f-138">Dołącz te instrukcje użytkownika skalowania automatycznego tooarrive formuły docelowej liczby węzłów obliczeniowych.</span><span class="sxs-lookup"><span data-stu-id="e949f-138">Include these statements in your autoscale formula tooarrive at a target number of compute nodes.</span></span> <span data-ttu-id="e949f-139">Dedykowanych węzłów, jak i węzły niskiego priorytetu mają własnych ustawień obiektu docelowego, dzięki czemu można zdefiniować docelowy dla każdego typu węzła.</span><span class="sxs-lookup"><span data-stu-id="e949f-139">Dedicated nodes and low-priority nodes each have their own target settings, so that you can define a target for each type of node.</span></span> <span data-ttu-id="e949f-140">Formuła automatycznego skalowania może zawierać wartość docelowa dla dedykowanych węzłów i/lub wartość docelowa dla węzłów o niskim priorytecie.</span><span class="sxs-lookup"><span data-stu-id="e949f-140">An autoscale formula can include a target value for dedicated nodes, a target value for low-priority nodes, or both.</span></span>

<span data-ttu-id="e949f-141">Hello docelowej liczby węzłów może można wyższe, niższe lub hello identyczny hello bieżąca liczba węzłów w puli hello tego typu.</span><span class="sxs-lookup"><span data-stu-id="e949f-141">hello target number of nodes may be higher, lower, or hello same as hello current number of nodes of that type in hello pool.</span></span> <span data-ttu-id="e949f-142">Wsadowe ocenia formułą automatycznego skalowania puli w określonych odstępach czasu (zobacz [automatyczne skalowanie interwałów](#automatic-scaling-interval)).</span><span class="sxs-lookup"><span data-stu-id="e949f-142">Batch evaluates a pool's autoscale formula at a specific interval (see [automatic scaling intervals](#automatic-scaling-interval)).</span></span> <span data-ttu-id="e949f-143">Wsadowe dopasowuje hello docelowy liczbę każdego typu węzła w hello puli toohello liczba, która określa formułę automatycznego skalowania w czasie hello oceny.</span><span class="sxs-lookup"><span data-stu-id="e949f-143">Batch adjusts hello target number of each type of node in hello pool toohello number that your autoscale formula specifies at hello time of evaluation.</span></span>

### <a name="sample-autoscale-formula"></a><span data-ttu-id="e949f-144">Przykładowa formuła skalowania automatycznego</span><span class="sxs-lookup"><span data-stu-id="e949f-144">Sample autoscale formula</span></span>

<span data-ttu-id="e949f-145">Oto przykład formuły automatycznego skalowania, które mogą być dostosowane toowork dla większości scenariuszy.</span><span class="sxs-lookup"><span data-stu-id="e949f-145">Here is an example of an autoscale formula that can be adjusted toowork for most scenarios.</span></span> <span data-ttu-id="e949f-146">Witaj zmienne `startingNumberOfVMs` i `maxNumberofVMs` w hello przykład formuły może być dostosowane tooyour potrzeb.</span><span class="sxs-lookup"><span data-stu-id="e949f-146">hello variables `startingNumberOfVMs` and `maxNumberofVMs` in hello example formula can be adjusted tooyour needs.</span></span> <span data-ttu-id="e949f-147">W tej formule skaluje dedykowanych węzłów, ale może być zmodyfikowany tooapply tooscale niskiego priorytetu również węzłów.</span><span class="sxs-lookup"><span data-stu-id="e949f-147">This formula scales dedicated nodes, but can be modified tooapply tooscale low-priority nodes as well.</span></span> 

```
startingNumberOfVMs = 1;
maxNumberofVMs = 25;
pendingTaskSamplePercent = $PendingTasks.GetSamplePercent(180 * TimeInterval_Second);
pendingTaskSamples = pendingTaskSamplePercent < 70 ? startingNumberOfVMs : avg($PendingTasks.GetSample(180 * TimeInterval_Second));
$TargetDedicatedNodes=min(maxNumberofVMs, pendingTaskSamples);
```

<span data-ttu-id="e949f-148">Tą formułą automatycznego skalowania puli hello został początkowo utworzony z jednej maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="e949f-148">With this autoscale formula, hello pool is initially created with a single VM.</span></span> <span data-ttu-id="e949f-149">Witaj `$PendingTasks` Metryka definiuje hello liczbę zadań, które są uruchomione lub umieszczonych w kolejce.</span><span class="sxs-lookup"><span data-stu-id="e949f-149">hello `$PendingTasks` metric defines hello number of tasks that are running or queued.</span></span> <span data-ttu-id="e949f-150">Formuła Hello znalezieniu hello średnią liczbę oczekujących zadań hello ostatnich 180 sekund i ustawia hello `$TargetDedicatedNodes` zmiennej odpowiednio.</span><span class="sxs-lookup"><span data-stu-id="e949f-150">hello formula finds hello average number of pending tasks in hello last 180 seconds and sets hello `$TargetDedicatedNodes` variable accordingly.</span></span> <span data-ttu-id="e949f-151">Formuła Hello gwarantuje, że hello docelowy Liczba dedykowanych węzłów nigdy nie przekracza 25 maszyn wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="e949f-151">hello formula ensures that hello target number of dedicated nodes never exceeds 25 VMs.</span></span> <span data-ttu-id="e949f-152">Nowe zadania zostały przesłane, automatycznie zwiększa rozmiar puli hello.</span><span class="sxs-lookup"><span data-stu-id="e949f-152">As new tasks are submitted, hello pool automatically grows.</span></span> <span data-ttu-id="e949f-153">Jako zakończenie zadania wolnego jeden po drugim stają się maszyn wirtualnych i formuła Skalowanie automatyczne hello zmniejszana hello puli.</span><span class="sxs-lookup"><span data-stu-id="e949f-153">As tasks complete, VMs become free one by one and hello autoscaling formula shrinks hello pool.</span></span>

## <a name="variables"></a><span data-ttu-id="e949f-154">Zmienne</span><span class="sxs-lookup"><span data-stu-id="e949f-154">Variables</span></span>
<span data-ttu-id="e949f-155">Można użyć zarówno **usługa zdefiniowana** i **zdefiniowane przez użytkownika** zmiennych w formułach skalowania automatycznego.</span><span class="sxs-lookup"><span data-stu-id="e949f-155">You can use both **service-defined** and **user-defined** variables in your autoscale formulas.</span></span> <span data-ttu-id="e949f-156">zmienne zdefiniowane przez usługę Hello są wbudowane w toohello usługa partia zadań.</span><span class="sxs-lookup"><span data-stu-id="e949f-156">hello service-defined variables are built in toohello Batch service.</span></span> <span data-ttu-id="e949f-157">Niektóre zmienne zdefiniowane usługi są odczytu i zapisu, a niektóre są tylko do odczytu.</span><span class="sxs-lookup"><span data-stu-id="e949f-157">Some service-defined variables are read-write, and some are read-only.</span></span> <span data-ttu-id="e949f-158">Zmienne zdefiniowane przez użytkownika są zmiennych zdefiniowanych przez użytkownika.</span><span class="sxs-lookup"><span data-stu-id="e949f-158">User-defined variables are variables that you define.</span></span> <span data-ttu-id="e949f-159">W formule przykład hello pokazana w poprzedniej sekcji hello `$TargetDedicatedNodes` i `$PendingTasks` są zmienne zdefiniowane przez usługę.</span><span class="sxs-lookup"><span data-stu-id="e949f-159">In hello example formula shown in hello previous section, `$TargetDedicatedNodes` and `$PendingTasks` are service-defined variables.</span></span> <span data-ttu-id="e949f-160">Zmienne `startingNumberOfVMs` i `maxNumberofVMs` są zmienne zdefiniowane przez użytkownika.</span><span class="sxs-lookup"><span data-stu-id="e949f-160">Variables `startingNumberOfVMs` and `maxNumberofVMs` are user-defined variables.</span></span>

> [!NOTE]
> <span data-ttu-id="e949f-161">Zmienne zdefiniowane przez usługi są zawsze poprzedzone znak dolara ($).</span><span class="sxs-lookup"><span data-stu-id="e949f-161">Service-defined variables are always preceded by a dollar sign ($).</span></span> <span data-ttu-id="e949f-162">W przypadku zmiennych zdefiniowanych przez użytkownika dolara hello jest opcjonalna.</span><span class="sxs-lookup"><span data-stu-id="e949f-162">For user-defined variables, hello dollar sign is optional.</span></span>
>
>

<span data-ttu-id="e949f-163">następujące tabele Hello Pokaż zarówno do odczytu / zapisu i zmienne tylko do odczytu, które są zdefiniowane przez hello usługa partia zadań.</span><span class="sxs-lookup"><span data-stu-id="e949f-163">hello following tables show both read-write and read-only variables that are defined by hello Batch service.</span></span>

<span data-ttu-id="e949f-164">Możesz pobrać i ustawić hello wartości tych zmiennych zdefiniowanych przez usługę toomanage hello liczbę węzłów obliczeniowych w puli:</span><span class="sxs-lookup"><span data-stu-id="e949f-164">You can get and set hello values of these service-defined variables toomanage hello number of compute nodes in a pool:</span></span>

| <span data-ttu-id="e949f-165">Zmienne zdefiniowane przez usługę do odczytu / zapisu</span><span class="sxs-lookup"><span data-stu-id="e949f-165">Read-write service-defined variables</span></span> | <span data-ttu-id="e949f-166">Opis</span><span class="sxs-lookup"><span data-stu-id="e949f-166">Description</span></span> |
| --- | --- |
| <span data-ttu-id="e949f-167">$TargetDedicatedNodes</span><span class="sxs-lookup"><span data-stu-id="e949f-167">$TargetDedicatedNodes</span></span> |<span data-ttu-id="e949f-168">Witaj docelowy Liczba dedykowanych obliczeniowe węzłów hello puli.</span><span class="sxs-lookup"><span data-stu-id="e949f-168">hello target number of dedicated compute nodes for hello pool.</span></span> <span data-ttu-id="e949f-169">Hello Liczba dedykowanych węzłów jest określony jako element docelowy, ponieważ pula nie zawsze będzie hello żądaną liczbę węzłów.</span><span class="sxs-lookup"><span data-stu-id="e949f-169">hello number of dedicated nodes is specified as a target because a pool may not always achieve hello desired number of nodes.</span></span> <span data-ttu-id="e949f-170">Na przykład jeśli hello docelowy Liczba dedykowanych węzłów jest modyfikowany przez ocenę automatycznego skalowania przed hello puli osiągnęła początkowej docelowy hello, a następnie hello puli nie może skontaktować się docelowy hello.</span><span class="sxs-lookup"><span data-stu-id="e949f-170">For example, if hello target number of dedicated nodes is modified by an autoscale evaluation before hello pool has reached hello initial target, then hello pool may not reach hello target.</span></span> <br /><br /> <span data-ttu-id="e949f-171">Pulą konto utworzone z konfiguracją usługi partia zadań hello nie może osiągnąć elementem docelowym, jeśli docelowy hello przekracza przydział węzła lub core konta wsadowego.</span><span class="sxs-lookup"><span data-stu-id="e949f-171">A pool in an account created with hello Batch Service configuration may not achieve its target if hello target exceeds a Batch account node or core quota.</span></span> <span data-ttu-id="e949f-172">Puli w ramach konta utworzone za pomocą konfiguracji subskrypcji użytkownika hello nie może osiągnąć elementem docelowym, jeśli docelowy hello przekracza przydział udostępnionego core hello hello subskrypcji.</span><span class="sxs-lookup"><span data-stu-id="e949f-172">A pool in an account created with hello User Subscription configuration may not achieve its target if hello target exceeds hello shared core quota for hello subscription.</span></span>|
| <span data-ttu-id="e949f-173">$TargetLowPriorityNodes</span><span class="sxs-lookup"><span data-stu-id="e949f-173">$TargetLowPriorityNodes</span></span> |<span data-ttu-id="e949f-174">numer docelowej Hello o niskim priorytecie obliczeniowe węzłów hello puli.</span><span class="sxs-lookup"><span data-stu-id="e949f-174">hello target number of low-priority compute nodes for hello pool.</span></span> <span data-ttu-id="e949f-175">Hello liczba węzłów niskiego priorytetu jest określony jako element docelowy ponieważ puli nie zawsze będzie hello żądaną liczbę węzłów.</span><span class="sxs-lookup"><span data-stu-id="e949f-175">hello number of low-priority nodes is specified as a target because a pool may not always achieve hello desired number of nodes.</span></span> <span data-ttu-id="e949f-176">Na przykład jeśli hello docelowej liczby węzłów niskiego priorytetu jest modyfikowany przez ocenę automatycznego skalowania przed hello puli osiągnęła początkowej docelowy hello, a następnie hello puli nie może skontaktować się hello docelowej.</span><span class="sxs-lookup"><span data-stu-id="e949f-176">For example, if hello target number of low-priority nodes is modified by an autoscale evaluation before hello pool has reached hello initial target, then hello pool may not reach hello target.</span></span> <span data-ttu-id="e949f-177">Pulę również może nie będzie elementem docelowym, jeśli docelowy hello przekracza przydział węzła lub core konta wsadowego.</span><span class="sxs-lookup"><span data-stu-id="e949f-177">A pool may also not achieve its target if hello target exceeds a Batch account node or core quota.</span></span> <br /><br /> <span data-ttu-id="e949f-178">Aby uzyskać więcej informacji na węzłach obliczeniowych niskiego priorytetu, zobacz [niskiego priorytetu maszyn wirtualnych za pomocą partii (wersja zapoznawcza)](batch-low-pri-vms.md).</span><span class="sxs-lookup"><span data-stu-id="e949f-178">For more information on low-priority compute nodes, see [Use low-priority VMs with Batch (Preview)](batch-low-pri-vms.md).</span></span> |
| <span data-ttu-id="e949f-179">$NodeDeallocationOption</span><span class="sxs-lookup"><span data-stu-id="e949f-179">$NodeDeallocationOption</span></span> |<span data-ttu-id="e949f-180">Witaj akcja, która występuje, gdy węzły obliczeniowe są usuwane z puli.</span><span class="sxs-lookup"><span data-stu-id="e949f-180">hello action that occurs when compute nodes are removed from a pool.</span></span> <span data-ttu-id="e949f-181">Możliwe wartości:</span><span class="sxs-lookup"><span data-stu-id="e949f-181">Possible values are:</span></span><ul><li><span data-ttu-id="e949f-182">**requeue**--natychmiast kończy zadań i umieszczane w kolejce zadań hello, dzięki czemu są one zmienił.</span><span class="sxs-lookup"><span data-stu-id="e949f-182">**requeue**--Terminates tasks immediately and puts them back on hello job queue so that they are rescheduled.</span></span><li><span data-ttu-id="e949f-183">**przerwanie**— natychmiast kończy zadań i usuwa je z hello kolejki zadań.</span><span class="sxs-lookup"><span data-stu-id="e949f-183">**terminate**--Terminates tasks immediately and removes them from hello job queue.</span></span><li><span data-ttu-id="e949f-184">**taskcompletion**--oczekuje aktualnie uruchomione zadania toofinish, a następnie usuwa węzła hello hello puli.</span><span class="sxs-lookup"><span data-stu-id="e949f-184">**taskcompletion**--Waits for currently running tasks toofinish and then removes hello node from hello pool.</span></span><li><span data-ttu-id="e949f-185">**retaineddata**--czeka na wszystkich hello zachowane zadania dane lokalne na powitania węzła toobe wyczyszczone przed usunięciem z puli hello hello węzła.</span><span class="sxs-lookup"><span data-stu-id="e949f-185">**retaineddata**--Waits for all hello local task-retained data on hello node toobe cleaned up before removing hello node from hello pool.</span></span></ul> |

<span data-ttu-id="e949f-186">Można pobrać wartości hello dostosowania toomake tych zmiennych zdefiniowanych przez usługi, które są oparte na metryki z usługi partia zadań hello:</span><span class="sxs-lookup"><span data-stu-id="e949f-186">You can get hello value of these service-defined variables toomake adjustments that are based on metrics from hello Batch service:</span></span>

| <span data-ttu-id="e949f-187">Zmienne tylko do odczytu usługa zdefiniowana</span><span class="sxs-lookup"><span data-stu-id="e949f-187">Read-only service-defined variables</span></span> | <span data-ttu-id="e949f-188">Opis</span><span class="sxs-lookup"><span data-stu-id="e949f-188">Description</span></span> |
| --- | --- |
| <span data-ttu-id="e949f-189">$CPUPercent</span><span class="sxs-lookup"><span data-stu-id="e949f-189">$CPUPercent</span></span> |<span data-ttu-id="e949f-190">Witaj średnią wartość procentową użycia procesora CPU.</span><span class="sxs-lookup"><span data-stu-id="e949f-190">hello average percentage of CPU usage.</span></span> |
| <span data-ttu-id="e949f-191">$WallClockSeconds</span><span class="sxs-lookup"><span data-stu-id="e949f-191">$WallClockSeconds</span></span> |<span data-ttu-id="e949f-192">Witaj liczbę sekund, używane.</span><span class="sxs-lookup"><span data-stu-id="e949f-192">hello number of seconds consumed.</span></span> |
| <span data-ttu-id="e949f-193">$MemoryBytes</span><span class="sxs-lookup"><span data-stu-id="e949f-193">$MemoryBytes</span></span> |<span data-ttu-id="e949f-194">Witaj średnia liczba megabajtów używane.</span><span class="sxs-lookup"><span data-stu-id="e949f-194">hello average number of megabytes used.</span></span> |
| <span data-ttu-id="e949f-195">$DiskBytes</span><span class="sxs-lookup"><span data-stu-id="e949f-195">$DiskBytes</span></span> |<span data-ttu-id="e949f-196">Średnia liczba Hello gigabajtów używane na dyski lokalne powitania.</span><span class="sxs-lookup"><span data-stu-id="e949f-196">hello average number of gigabytes used on hello local disks.</span></span> |
| <span data-ttu-id="e949f-197">$DiskReadBytes</span><span class="sxs-lookup"><span data-stu-id="e949f-197">$DiskReadBytes</span></span> |<span data-ttu-id="e949f-198">Witaj liczba bajtów odczytanych.</span><span class="sxs-lookup"><span data-stu-id="e949f-198">hello number of bytes read.</span></span> |
| <span data-ttu-id="e949f-199">$DiskWriteBytes</span><span class="sxs-lookup"><span data-stu-id="e949f-199">$DiskWriteBytes</span></span> |<span data-ttu-id="e949f-200">Witaj liczba zapisanych bajtów.</span><span class="sxs-lookup"><span data-stu-id="e949f-200">hello number of bytes written.</span></span> |
| <span data-ttu-id="e949f-201">$DiskReadOps</span><span class="sxs-lookup"><span data-stu-id="e949f-201">$DiskReadOps</span></span> |<span data-ttu-id="e949f-202">wykonać Hello liczba operacji odczytu dysku.</span><span class="sxs-lookup"><span data-stu-id="e949f-202">hello count of read disk operations performed.</span></span> |
| <span data-ttu-id="e949f-203">$DiskWriteOps</span><span class="sxs-lookup"><span data-stu-id="e949f-203">$DiskWriteOps</span></span> |<span data-ttu-id="e949f-204">Liczba Hello zapisu dysku operacji.</span><span class="sxs-lookup"><span data-stu-id="e949f-204">hello count of write disk operations performed.</span></span> |
| <span data-ttu-id="e949f-205">$NetworkInBytes</span><span class="sxs-lookup"><span data-stu-id="e949f-205">$NetworkInBytes</span></span> |<span data-ttu-id="e949f-206">Witaj liczba bajtów przychodzących.</span><span class="sxs-lookup"><span data-stu-id="e949f-206">hello number of inbound bytes.</span></span> |
| <span data-ttu-id="e949f-207">$NetworkOutBytes</span><span class="sxs-lookup"><span data-stu-id="e949f-207">$NetworkOutBytes</span></span> |<span data-ttu-id="e949f-208">Witaj liczba bajtów wychodzących.</span><span class="sxs-lookup"><span data-stu-id="e949f-208">hello number of outbound bytes.</span></span> |
| <span data-ttu-id="e949f-209">$SampleNodeCount</span><span class="sxs-lookup"><span data-stu-id="e949f-209">$SampleNodeCount</span></span> |<span data-ttu-id="e949f-210">Witaj liczba węzłów obliczeniowych.</span><span class="sxs-lookup"><span data-stu-id="e949f-210">hello count of compute nodes.</span></span> |
| <span data-ttu-id="e949f-211">$ActiveTasks</span><span class="sxs-lookup"><span data-stu-id="e949f-211">$ActiveTasks</span></span> |<span data-ttu-id="e949f-212">Witaj liczba zadań, które są gotowe tooexecute, ale nie są jeszcze wykonywany.</span><span class="sxs-lookup"><span data-stu-id="e949f-212">hello number of tasks that are ready tooexecute but are not yet executing.</span></span> <span data-ttu-id="e949f-213">Licznik Hello $ActiveTasks obejmuje wszystkie zadania, które znajdują się w stanie aktywnym hello i którego zależności zostały spełnione.</span><span class="sxs-lookup"><span data-stu-id="e949f-213">hello $ActiveTasks count includes all tasks that are in hello active state and whose dependencies have been satisfied.</span></span> <span data-ttu-id="e949f-214">Wszystkie zadania, które są w stanie aktywnym hello, ale zależności, których nie zostały spełnione są wykluczone z hello $ActiveTasks count.</span><span class="sxs-lookup"><span data-stu-id="e949f-214">Any tasks that are in hello active state but whose dependencies have not been satisfied are excluded from hello $ActiveTasks count.</span></span>|
| <span data-ttu-id="e949f-215">$RunningTasks</span><span class="sxs-lookup"><span data-stu-id="e949f-215">$RunningTasks</span></span> |<span data-ttu-id="e949f-216">Witaj liczba zadań w stanie uruchomienia.</span><span class="sxs-lookup"><span data-stu-id="e949f-216">hello number of tasks in a running state.</span></span> |
| <span data-ttu-id="e949f-217">$PendingTasks</span><span class="sxs-lookup"><span data-stu-id="e949f-217">$PendingTasks</span></span> |<span data-ttu-id="e949f-218">Suma Hello $ActiveTasks i $RunningTasks.</span><span class="sxs-lookup"><span data-stu-id="e949f-218">hello sum of $ActiveTasks and $RunningTasks.</span></span> |
| <span data-ttu-id="e949f-219">$SucceededTasks</span><span class="sxs-lookup"><span data-stu-id="e949f-219">$SucceededTasks</span></span> |<span data-ttu-id="e949f-220">Witaj liczba zadań, które zakończyło się pomyślnie.</span><span class="sxs-lookup"><span data-stu-id="e949f-220">hello number of tasks that finished successfully.</span></span> |
| <span data-ttu-id="e949f-221">$FailedTasks</span><span class="sxs-lookup"><span data-stu-id="e949f-221">$FailedTasks</span></span> |<span data-ttu-id="e949f-222">Witaj liczba zadań, których nie powiodła się.</span><span class="sxs-lookup"><span data-stu-id="e949f-222">hello number of tasks that failed.</span></span> |
| <span data-ttu-id="e949f-223">$CurrentDedicatedNodes</span><span class="sxs-lookup"><span data-stu-id="e949f-223">$CurrentDedicatedNodes</span></span> |<span data-ttu-id="e949f-224">węzły obliczeniowe Hello bieżąca liczba dedykowanych.</span><span class="sxs-lookup"><span data-stu-id="e949f-224">hello current number of dedicated compute nodes.</span></span> |
| <span data-ttu-id="e949f-225">$CurrentLowPriorityNodes</span><span class="sxs-lookup"><span data-stu-id="e949f-225">$CurrentLowPriorityNodes</span></span> |<span data-ttu-id="e949f-226">Bieżąca liczba niskiego priorytetu Hello obliczeniowe węzły, w tym wszystkie węzły, które zostały opóźnieniem.</span><span class="sxs-lookup"><span data-stu-id="e949f-226">hello current number of low-priority compute nodes, including any nodes that have been pre-empted.</span></span> |
| <span data-ttu-id="e949f-227">$PreemptedNodeCount</span><span class="sxs-lookup"><span data-stu-id="e949f-227">$PreemptedNodeCount</span></span> | <span data-ttu-id="e949f-228">Hello liczby węzłów w puli hello, które są w stanie opóźnieniem.</span><span class="sxs-lookup"><span data-stu-id="e949f-228">hello number of nodes in hello pool that are in a pre-empted state.</span></span> |

> [!TIP]
> <span data-ttu-id="e949f-229">Witaj tylko do odczytu, usługa zdefiniowana zmiennych, które są wyświetlane w poprzedniej tabeli hello są *obiektów* zawierających różne metody tooaccess danych skojarzonych z każdym z nich.</span><span class="sxs-lookup"><span data-stu-id="e949f-229">hello read-only, service-defined variables that are shown in hello previous table are *objects* that provide various methods tooaccess data associated with each.</span></span> <span data-ttu-id="e949f-230">Aby uzyskać więcej informacji, zobacz [uzyskać przykładowe dane](#getsampledata) dalszej części tego artykułu.</span><span class="sxs-lookup"><span data-stu-id="e949f-230">For more information, see [Obtain sample data](#getsampledata) later in this article.</span></span>
>
>

## <a name="types"></a><span data-ttu-id="e949f-231">Typy</span><span class="sxs-lookup"><span data-stu-id="e949f-231">Types</span></span>
<span data-ttu-id="e949f-232">Te typy są obsługiwane w formule:</span><span class="sxs-lookup"><span data-stu-id="e949f-232">These types are supported in a formula:</span></span>

* <span data-ttu-id="e949f-233">O podwójnej precyzji</span><span class="sxs-lookup"><span data-stu-id="e949f-233">double</span></span>
* <span data-ttu-id="e949f-234">doubleVec</span><span class="sxs-lookup"><span data-stu-id="e949f-234">doubleVec</span></span>
* <span data-ttu-id="e949f-235">doubleVecList</span><span class="sxs-lookup"><span data-stu-id="e949f-235">doubleVecList</span></span>
* <span data-ttu-id="e949f-236">Ciąg</span><span class="sxs-lookup"><span data-stu-id="e949f-236">string</span></span>
* <span data-ttu-id="e949f-237">Sygnatura czasowa — sygnatura czasowa jest złożone struktury, która zawiera następujące elementy członkowskie hello:</span><span class="sxs-lookup"><span data-stu-id="e949f-237">timestamp--timestamp is a compound structure that contains hello following members:</span></span>

  * <span data-ttu-id="e949f-238">Roku</span><span class="sxs-lookup"><span data-stu-id="e949f-238">year</span></span>
  * <span data-ttu-id="e949f-239">miesiąc (1-12)</span><span class="sxs-lookup"><span data-stu-id="e949f-239">month (1-12)</span></span>
  * <span data-ttu-id="e949f-240">dzień (1-31)</span><span class="sxs-lookup"><span data-stu-id="e949f-240">day (1-31)</span></span>
  * <span data-ttu-id="e949f-241">dzień tygodnia (w formacie hello numeru; na przykład 1, od poniedziałku)</span><span class="sxs-lookup"><span data-stu-id="e949f-241">weekday (in hello format of number; for example, 1 for Monday)</span></span>
  * <span data-ttu-id="e949f-242">Godzina (w formacie liczby 24-godzinnym; na przykład 13 oznacza 13: 00)</span><span class="sxs-lookup"><span data-stu-id="e949f-242">hour (in 24-hour number format; for example, 13 means 1 PM)</span></span>
  * <span data-ttu-id="e949f-243">minut (00 do 59)</span><span class="sxs-lookup"><span data-stu-id="e949f-243">minute (00-59)</span></span>
  * <span data-ttu-id="e949f-244">drugie (00 do 59)</span><span class="sxs-lookup"><span data-stu-id="e949f-244">second (00-59)</span></span>
* <span data-ttu-id="e949f-245">parametru TimeInterval</span><span class="sxs-lookup"><span data-stu-id="e949f-245">timeinterval</span></span>

  * <span data-ttu-id="e949f-246">TimeInterval_Zero</span><span class="sxs-lookup"><span data-stu-id="e949f-246">TimeInterval_Zero</span></span>
  * <span data-ttu-id="e949f-247">TimeInterval_100ns</span><span class="sxs-lookup"><span data-stu-id="e949f-247">TimeInterval_100ns</span></span>
  * <span data-ttu-id="e949f-248">TimeInterval_Microsecond</span><span class="sxs-lookup"><span data-stu-id="e949f-248">TimeInterval_Microsecond</span></span>
  * <span data-ttu-id="e949f-249">TimeInterval_Millisecond</span><span class="sxs-lookup"><span data-stu-id="e949f-249">TimeInterval_Millisecond</span></span>
  * <span data-ttu-id="e949f-250">TimeInterval_Second</span><span class="sxs-lookup"><span data-stu-id="e949f-250">TimeInterval_Second</span></span>
  * <span data-ttu-id="e949f-251">TimeInterval_Minute</span><span class="sxs-lookup"><span data-stu-id="e949f-251">TimeInterval_Minute</span></span>
  * <span data-ttu-id="e949f-252">TimeInterval_Hour</span><span class="sxs-lookup"><span data-stu-id="e949f-252">TimeInterval_Hour</span></span>
  * <span data-ttu-id="e949f-253">TimeInterval_Day</span><span class="sxs-lookup"><span data-stu-id="e949f-253">TimeInterval_Day</span></span>
  * <span data-ttu-id="e949f-254">TimeInterval_Week</span><span class="sxs-lookup"><span data-stu-id="e949f-254">TimeInterval_Week</span></span>
  * <span data-ttu-id="e949f-255">TimeInterval_Year</span><span class="sxs-lookup"><span data-stu-id="e949f-255">TimeInterval_Year</span></span>

## <a name="operations"></a><span data-ttu-id="e949f-256">Operacje</span><span class="sxs-lookup"><span data-stu-id="e949f-256">Operations</span></span>
<span data-ttu-id="e949f-257">Te operacje są dozwolone w typach hello, które są wymienione w poprzedniej sekcji hello.</span><span class="sxs-lookup"><span data-stu-id="e949f-257">These operations are allowed on hello types that are listed in hello previous section.</span></span>

| <span data-ttu-id="e949f-258">Operacja</span><span class="sxs-lookup"><span data-stu-id="e949f-258">Operation</span></span> | <span data-ttu-id="e949f-259">Operatory obsługiwane</span><span class="sxs-lookup"><span data-stu-id="e949f-259">Supported operators</span></span> | <span data-ttu-id="e949f-260">Typ wyniku</span><span class="sxs-lookup"><span data-stu-id="e949f-260">Result type</span></span> |
| --- | --- | --- |
| <span data-ttu-id="e949f-261">Podwójna *operator* podwójne</span><span class="sxs-lookup"><span data-stu-id="e949f-261">double *operator* double</span></span> |<span data-ttu-id="e949f-262">+, -, *, /</span><span class="sxs-lookup"><span data-stu-id="e949f-262">+, -, *, /</span></span> |<span data-ttu-id="e949f-263">O podwójnej precyzji</span><span class="sxs-lookup"><span data-stu-id="e949f-263">double</span></span> |
| <span data-ttu-id="e949f-264">Podwójna *operator* parametru timeinterval</span><span class="sxs-lookup"><span data-stu-id="e949f-264">double *operator* timeinterval</span></span> |* |<span data-ttu-id="e949f-265">parametru TimeInterval</span><span class="sxs-lookup"><span data-stu-id="e949f-265">timeinterval</span></span> |
| <span data-ttu-id="e949f-266">doubleVec *operator* podwójne</span><span class="sxs-lookup"><span data-stu-id="e949f-266">doubleVec *operator* double</span></span> |<span data-ttu-id="e949f-267">+, -, *, /</span><span class="sxs-lookup"><span data-stu-id="e949f-267">+, -, *, /</span></span> |<span data-ttu-id="e949f-268">doubleVec</span><span class="sxs-lookup"><span data-stu-id="e949f-268">doubleVec</span></span> |
| <span data-ttu-id="e949f-269">doubleVec *operator* doubleVec</span><span class="sxs-lookup"><span data-stu-id="e949f-269">doubleVec *operator* doubleVec</span></span> |<span data-ttu-id="e949f-270">+, -, *, /</span><span class="sxs-lookup"><span data-stu-id="e949f-270">+, -, *, /</span></span> |<span data-ttu-id="e949f-271">doubleVec</span><span class="sxs-lookup"><span data-stu-id="e949f-271">doubleVec</span></span> |
| <span data-ttu-id="e949f-272">parametru TimeInterval *operator* podwójne</span><span class="sxs-lookup"><span data-stu-id="e949f-272">timeinterval *operator* double</span></span> |<span data-ttu-id="e949f-273">*, /</span><span class="sxs-lookup"><span data-stu-id="e949f-273">*, /</span></span> |<span data-ttu-id="e949f-274">parametru TimeInterval</span><span class="sxs-lookup"><span data-stu-id="e949f-274">timeinterval</span></span> |
| <span data-ttu-id="e949f-275">parametru TimeInterval *operator* parametru timeinterval</span><span class="sxs-lookup"><span data-stu-id="e949f-275">timeinterval *operator* timeinterval</span></span> |<span data-ttu-id="e949f-276">+, -</span><span class="sxs-lookup"><span data-stu-id="e949f-276">+, -</span></span> |<span data-ttu-id="e949f-277">parametru TimeInterval</span><span class="sxs-lookup"><span data-stu-id="e949f-277">timeinterval</span></span> |
| <span data-ttu-id="e949f-278">parametru TimeInterval *operator* sygnatury czasowej</span><span class="sxs-lookup"><span data-stu-id="e949f-278">timeinterval *operator* timestamp</span></span> |+ |<span data-ttu-id="e949f-279">sygnatura czasowa</span><span class="sxs-lookup"><span data-stu-id="e949f-279">timestamp</span></span> |
| <span data-ttu-id="e949f-280">Sygnatura czasowa *operator* parametru timeinterval</span><span class="sxs-lookup"><span data-stu-id="e949f-280">timestamp *operator* timeinterval</span></span> |+ |<span data-ttu-id="e949f-281">sygnatura czasowa</span><span class="sxs-lookup"><span data-stu-id="e949f-281">timestamp</span></span> |
| <span data-ttu-id="e949f-282">Sygnatura czasowa *operator* sygnatury czasowej</span><span class="sxs-lookup"><span data-stu-id="e949f-282">timestamp *operator* timestamp</span></span> |- |<span data-ttu-id="e949f-283">parametru TimeInterval</span><span class="sxs-lookup"><span data-stu-id="e949f-283">timeinterval</span></span> |
| <span data-ttu-id="e949f-284">*operator*podwójne</span><span class="sxs-lookup"><span data-stu-id="e949f-284">*operator*double</span></span> |<span data-ttu-id="e949f-285">-, !</span><span class="sxs-lookup"><span data-stu-id="e949f-285">-, !</span></span> |<span data-ttu-id="e949f-286">O podwójnej precyzji</span><span class="sxs-lookup"><span data-stu-id="e949f-286">double</span></span> |
| <span data-ttu-id="e949f-287">*operator*parametru timeinterval</span><span class="sxs-lookup"><span data-stu-id="e949f-287">*operator*timeinterval</span></span> |- |<span data-ttu-id="e949f-288">parametru TimeInterval</span><span class="sxs-lookup"><span data-stu-id="e949f-288">timeinterval</span></span> |
| <span data-ttu-id="e949f-289">Podwójna *operator* podwójne</span><span class="sxs-lookup"><span data-stu-id="e949f-289">double *operator* double</span></span> |<span data-ttu-id="e949f-290"><, <=, ==, >=, >, !=</span><span class="sxs-lookup"><span data-stu-id="e949f-290"><, <=, ==, >=, >, !=</span></span> |<span data-ttu-id="e949f-291">O podwójnej precyzji</span><span class="sxs-lookup"><span data-stu-id="e949f-291">double</span></span> |
| <span data-ttu-id="e949f-292">ciąg *operator* ciągu</span><span class="sxs-lookup"><span data-stu-id="e949f-292">string *operator* string</span></span> |<span data-ttu-id="e949f-293"><, <=, ==, >=, >, !=</span><span class="sxs-lookup"><span data-stu-id="e949f-293"><, <=, ==, >=, >, !=</span></span> |<span data-ttu-id="e949f-294">O podwójnej precyzji</span><span class="sxs-lookup"><span data-stu-id="e949f-294">double</span></span> |
| <span data-ttu-id="e949f-295">Sygnatura czasowa *operator* sygnatury czasowej</span><span class="sxs-lookup"><span data-stu-id="e949f-295">timestamp *operator* timestamp</span></span> |<span data-ttu-id="e949f-296"><, <=, ==, >=, >, !=</span><span class="sxs-lookup"><span data-stu-id="e949f-296"><, <=, ==, >=, >, !=</span></span> |<span data-ttu-id="e949f-297">O podwójnej precyzji</span><span class="sxs-lookup"><span data-stu-id="e949f-297">double</span></span> |
| <span data-ttu-id="e949f-298">parametru TimeInterval *operator* parametru timeinterval</span><span class="sxs-lookup"><span data-stu-id="e949f-298">timeinterval *operator* timeinterval</span></span> |<span data-ttu-id="e949f-299"><, <=, ==, >=, >, !=</span><span class="sxs-lookup"><span data-stu-id="e949f-299"><, <=, ==, >=, >, !=</span></span> |<span data-ttu-id="e949f-300">O podwójnej precyzji</span><span class="sxs-lookup"><span data-stu-id="e949f-300">double</span></span> |
| <span data-ttu-id="e949f-301">Podwójna *operator* podwójne</span><span class="sxs-lookup"><span data-stu-id="e949f-301">double *operator* double</span></span> |<span data-ttu-id="e949f-302">&&, &#124;&#124;</span><span class="sxs-lookup"><span data-stu-id="e949f-302">&&, &#124;&#124;</span></span> |<span data-ttu-id="e949f-303">O podwójnej precyzji</span><span class="sxs-lookup"><span data-stu-id="e949f-303">double</span></span> |

<span data-ttu-id="e949f-304">Podczas testowania wartość o podwójnej precyzji z trójargumentowy (`double ? statement1 : statement2`), jest różna od zera jest **true**, i zero jest **false**.</span><span class="sxs-lookup"><span data-stu-id="e949f-304">When testing a double with a ternary operator (`double ? statement1 : statement2`), nonzero is **true**, and zero is **false**.</span></span>

## <a name="functions"></a><span data-ttu-id="e949f-305">Funkcje</span><span class="sxs-lookup"><span data-stu-id="e949f-305">Functions</span></span>
<span data-ttu-id="e949f-306">Te wstępnie zdefiniowane **funkcje** są dostępne dla toouse podczas definiowania automatycznego skalowania formuły.</span><span class="sxs-lookup"><span data-stu-id="e949f-306">These predefined **functions** are available for you toouse in defining an automatic scaling formula.</span></span>

| <span data-ttu-id="e949f-307">Funkcja</span><span class="sxs-lookup"><span data-stu-id="e949f-307">Function</span></span> | <span data-ttu-id="e949f-308">Zwracany typ</span><span class="sxs-lookup"><span data-stu-id="e949f-308">Return type</span></span> | <span data-ttu-id="e949f-309">Opis</span><span class="sxs-lookup"><span data-stu-id="e949f-309">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="e949f-310">AVG(doubleVecList)</span><span class="sxs-lookup"><span data-stu-id="e949f-310">avg(doubleVecList)</span></span> |<span data-ttu-id="e949f-311">O podwójnej precyzji</span><span class="sxs-lookup"><span data-stu-id="e949f-311">double</span></span> |<span data-ttu-id="e949f-312">Zwraca hello średnią wartość dla wszystkich wartości w hello doubleVecList.</span><span class="sxs-lookup"><span data-stu-id="e949f-312">Returns hello average value for all values in hello doubleVecList.</span></span> |
| <span data-ttu-id="e949f-313">Len(doubleVecList)</span><span class="sxs-lookup"><span data-stu-id="e949f-313">len(doubleVecList)</span></span> |<span data-ttu-id="e949f-314">O podwójnej precyzji</span><span class="sxs-lookup"><span data-stu-id="e949f-314">double</span></span> |<span data-ttu-id="e949f-315">Zwraca hello długość wektora hello, utworzona na podstawie hello doubleVecList.</span><span class="sxs-lookup"><span data-stu-id="e949f-315">Returns hello length of hello vector that is created from hello doubleVecList.</span></span> |
| <span data-ttu-id="e949f-316">LG(Double)</span><span class="sxs-lookup"><span data-stu-id="e949f-316">lg(double)</span></span> |<span data-ttu-id="e949f-317">O podwójnej precyzji</span><span class="sxs-lookup"><span data-stu-id="e949f-317">double</span></span> |<span data-ttu-id="e949f-318">Zwraca dziennik hello podstawie 2 hello dwa razy.</span><span class="sxs-lookup"><span data-stu-id="e949f-318">Returns hello log base 2 of hello double.</span></span> |
| <span data-ttu-id="e949f-319">LG(doubleVecList)</span><span class="sxs-lookup"><span data-stu-id="e949f-319">lg(doubleVecList)</span></span> |<span data-ttu-id="e949f-320">doubleVec</span><span class="sxs-lookup"><span data-stu-id="e949f-320">doubleVec</span></span> |<span data-ttu-id="e949f-321">Zwraca podstawie 2 hello doubleVecList hello component-wise dziennika.</span><span class="sxs-lookup"><span data-stu-id="e949f-321">Returns hello component-wise log base 2 of hello doubleVecList.</span></span> <span data-ttu-id="e949f-322">Vec(double) muszą być jawnie przekazywane hello parametru.</span><span class="sxs-lookup"><span data-stu-id="e949f-322">A vec(double) must be explicitly passed for hello parameter.</span></span> <span data-ttu-id="e949f-323">W przeciwnym razie przyjęto hello podwójne lg(double) wersji.</span><span class="sxs-lookup"><span data-stu-id="e949f-323">Otherwise, hello double lg(double) version is assumed.</span></span> |
| <span data-ttu-id="e949f-324">ln(Double)</span><span class="sxs-lookup"><span data-stu-id="e949f-324">ln(double)</span></span> |<span data-ttu-id="e949f-325">O podwójnej precyzji</span><span class="sxs-lookup"><span data-stu-id="e949f-325">double</span></span> |<span data-ttu-id="e949f-326">Zwraca hello logarytm naturalny z hello dwa razy.</span><span class="sxs-lookup"><span data-stu-id="e949f-326">Returns hello natural log of hello double.</span></span> |
| <span data-ttu-id="e949f-327">ln(doubleVecList)</span><span class="sxs-lookup"><span data-stu-id="e949f-327">ln(doubleVecList)</span></span> |<span data-ttu-id="e949f-328">doubleVec</span><span class="sxs-lookup"><span data-stu-id="e949f-328">doubleVec</span></span> |<span data-ttu-id="e949f-329">Zwraca podstawie 2 hello doubleVecList hello component-wise dziennika.</span><span class="sxs-lookup"><span data-stu-id="e949f-329">Returns hello component-wise log base 2 of hello doubleVecList.</span></span> <span data-ttu-id="e949f-330">Vec(double) muszą być jawnie przekazywane hello parametru.</span><span class="sxs-lookup"><span data-stu-id="e949f-330">A vec(double) must be explicitly passed for hello parameter.</span></span> <span data-ttu-id="e949f-331">W przeciwnym razie przyjęto hello podwójne lg(double) wersji.</span><span class="sxs-lookup"><span data-stu-id="e949f-331">Otherwise, hello double lg(double) version is assumed.</span></span> |
| <span data-ttu-id="e949f-332">log(Double)</span><span class="sxs-lookup"><span data-stu-id="e949f-332">log(double)</span></span> |<span data-ttu-id="e949f-333">O podwójnej precyzji</span><span class="sxs-lookup"><span data-stu-id="e949f-333">double</span></span> |<span data-ttu-id="e949f-334">Zwraca dziennik hello podstawie 10 hello dwa razy.</span><span class="sxs-lookup"><span data-stu-id="e949f-334">Returns hello log base 10 of hello double.</span></span> |
| <span data-ttu-id="e949f-335">log(doubleVecList)</span><span class="sxs-lookup"><span data-stu-id="e949f-335">log(doubleVecList)</span></span> |<span data-ttu-id="e949f-336">doubleVec</span><span class="sxs-lookup"><span data-stu-id="e949f-336">doubleVec</span></span> |<span data-ttu-id="e949f-337">Zwraca dziennik component-wise hello hello doubleVecList o podstawie 10.</span><span class="sxs-lookup"><span data-stu-id="e949f-337">Returns hello component-wise log base 10 of hello doubleVecList.</span></span> <span data-ttu-id="e949f-338">Vec(double) muszą być jawnie przekazywane hello jednego parametru dwa razy.</span><span class="sxs-lookup"><span data-stu-id="e949f-338">A vec(double) must be explicitly passed for hello single double parameter.</span></span> <span data-ttu-id="e949f-339">W przeciwnym razie przyjęto hello podwójne log(double) wersji.</span><span class="sxs-lookup"><span data-stu-id="e949f-339">Otherwise, hello double log(double) version is assumed.</span></span> |
| <span data-ttu-id="e949f-340">MAX(doubleVecList)</span><span class="sxs-lookup"><span data-stu-id="e949f-340">max(doubleVecList)</span></span> |<span data-ttu-id="e949f-341">O podwójnej precyzji</span><span class="sxs-lookup"><span data-stu-id="e949f-341">double</span></span> |<span data-ttu-id="e949f-342">Zwraca hello maksymalnej wartości w hello doubleVecList.</span><span class="sxs-lookup"><span data-stu-id="e949f-342">Returns hello maximum value in hello doubleVecList.</span></span> |
| <span data-ttu-id="e949f-343">min(doubleVecList)</span><span class="sxs-lookup"><span data-stu-id="e949f-343">min(doubleVecList)</span></span> |<span data-ttu-id="e949f-344">O podwójnej precyzji</span><span class="sxs-lookup"><span data-stu-id="e949f-344">double</span></span> |<span data-ttu-id="e949f-345">Zwraca hello minimalnej wartości w hello doubleVecList.</span><span class="sxs-lookup"><span data-stu-id="e949f-345">Returns hello minimum value in hello doubleVecList.</span></span> |
| <span data-ttu-id="e949f-346">norm(doubleVecList)</span><span class="sxs-lookup"><span data-stu-id="e949f-346">norm(doubleVecList)</span></span> |<span data-ttu-id="e949f-347">O podwójnej precyzji</span><span class="sxs-lookup"><span data-stu-id="e949f-347">double</span></span> |<span data-ttu-id="e949f-348">Zwraca hello normy dwóch wektorów hello, utworzona na podstawie hello doubleVecList.</span><span class="sxs-lookup"><span data-stu-id="e949f-348">Returns hello two-norm of hello vector that is created from hello doubleVecList.</span></span> |
| <span data-ttu-id="e949f-349">percentyl (v doubleVec podwójne p)</span><span class="sxs-lookup"><span data-stu-id="e949f-349">percentile(doubleVec v, double p)</span></span> |<span data-ttu-id="e949f-350">O podwójnej precyzji</span><span class="sxs-lookup"><span data-stu-id="e949f-350">double</span></span> |<span data-ttu-id="e949f-351">Zwraca hello percentyl elementu hello wektor v.</span><span class="sxs-lookup"><span data-stu-id="e949f-351">Returns hello percentile element of hello vector v.</span></span> |
| <span data-ttu-id="e949f-352">RAND()</span><span class="sxs-lookup"><span data-stu-id="e949f-352">rand()</span></span> |<span data-ttu-id="e949f-353">O podwójnej precyzji</span><span class="sxs-lookup"><span data-stu-id="e949f-353">double</span></span> |<span data-ttu-id="e949f-354">Zwraca wartość losowe od 0,0 do 1,0.</span><span class="sxs-lookup"><span data-stu-id="e949f-354">Returns a random value between 0.0 and 1.0.</span></span> |
| <span data-ttu-id="e949f-355">Range(doubleVecList)</span><span class="sxs-lookup"><span data-stu-id="e949f-355">range(doubleVecList)</span></span> |<span data-ttu-id="e949f-356">O podwójnej precyzji</span><span class="sxs-lookup"><span data-stu-id="e949f-356">double</span></span> |<span data-ttu-id="e949f-357">Zwraca różnicę hello hello min i max wartości hello doubleVecList.</span><span class="sxs-lookup"><span data-stu-id="e949f-357">Returns hello difference between hello min and max values in hello doubleVecList.</span></span> |
| <span data-ttu-id="e949f-358">STD(doubleVecList)</span><span class="sxs-lookup"><span data-stu-id="e949f-358">std(doubleVecList)</span></span> |<span data-ttu-id="e949f-359">O podwójnej precyzji</span><span class="sxs-lookup"><span data-stu-id="e949f-359">double</span></span> |<span data-ttu-id="e949f-360">Zwraca hello przykładowe odchylenie standardowe wartości hello w hello doubleVecList.</span><span class="sxs-lookup"><span data-stu-id="e949f-360">Returns hello sample standard deviation of hello values in hello doubleVecList.</span></span> |
| <span data-ttu-id="e949f-361">stop()</span><span class="sxs-lookup"><span data-stu-id="e949f-361">stop()</span></span> | |<span data-ttu-id="e949f-362">Zatrzymuje obliczania wyrażenia Skalowanie automatyczne hello.</span><span class="sxs-lookup"><span data-stu-id="e949f-362">Stops evaluation of hello autoscaling expression.</span></span> |
| <span data-ttu-id="e949f-363">sum(doubleVecList)</span><span class="sxs-lookup"><span data-stu-id="e949f-363">sum(doubleVecList)</span></span> |<span data-ttu-id="e949f-364">O podwójnej precyzji</span><span class="sxs-lookup"><span data-stu-id="e949f-364">double</span></span> |<span data-ttu-id="e949f-365">Zwraca hello sumę wszystkich składników hello hello doubleVecList.</span><span class="sxs-lookup"><span data-stu-id="e949f-365">Returns hello sum of all hello components of hello doubleVecList.</span></span> |
| <span data-ttu-id="e949f-366">czas (string, dateTime = "")</span><span class="sxs-lookup"><span data-stu-id="e949f-366">time(string dateTime="")</span></span> |<span data-ttu-id="e949f-367">sygnatura czasowa</span><span class="sxs-lookup"><span data-stu-id="e949f-367">timestamp</span></span> |<span data-ttu-id="e949f-368">Zwraca bieżący czas sygnaturę czasową hello hello Jeśli żadne parametry są przekazywane lub hello sygnaturę czasową hello ciąg daty i godziny, jeśli został przekazany.</span><span class="sxs-lookup"><span data-stu-id="e949f-368">Returns hello time stamp of hello current time if no parameters are passed, or hello time stamp of hello dateTime string if it is passed.</span></span> <span data-ttu-id="e949f-369">Formaty obsługiwanych dateTime są W3C DTF i RFC 1123.</span><span class="sxs-lookup"><span data-stu-id="e949f-369">Supported dateTime formats are W3C-DTF and RFC 1123.</span></span> |
| <span data-ttu-id="e949f-370">Val (v doubleVec i dwa razy)</span><span class="sxs-lookup"><span data-stu-id="e949f-370">val(doubleVec v, double i)</span></span> |<span data-ttu-id="e949f-371">O podwójnej precyzji</span><span class="sxs-lookup"><span data-stu-id="e949f-371">double</span></span> |<span data-ttu-id="e949f-372">Zwraca wartość hello hello elementu, który znajduje się w lokalizacji i w przypadku wektora v z indeksem początkowej zero.</span><span class="sxs-lookup"><span data-stu-id="e949f-372">Returns hello value of hello element that is at location i in vector v, with a starting index of zero.</span></span> |

<span data-ttu-id="e949f-373">Niektóre funkcje hello, które zostały opisane w poprzedniej tabeli hello zaakceptować listy jako argument.</span><span class="sxs-lookup"><span data-stu-id="e949f-373">Some of hello functions that are described in hello previous table can accept a list as an argument.</span></span> <span data-ttu-id="e949f-374">rozdzielana przecinkami lista Hello jest dowolną kombinację *podwójne* i *doubleVec*.</span><span class="sxs-lookup"><span data-stu-id="e949f-374">hello comma-separated list is any combination of *double* and *doubleVec*.</span></span> <span data-ttu-id="e949f-375">Na przykład:</span><span class="sxs-lookup"><span data-stu-id="e949f-375">For example:</span></span>

`doubleVecList := ( (double | doubleVec)+(, (double | doubleVec) )* )?`

<span data-ttu-id="e949f-376">Witaj *doubleVecList* wartość przekonwertowanego tooa pojedynczego *doubleVec* przed oceny.</span><span class="sxs-lookup"><span data-stu-id="e949f-376">hello *doubleVecList* value is converted tooa single *doubleVec* before evaluation.</span></span> <span data-ttu-id="e949f-377">Na przykład jeśli `v = [1,2,3]`, wywołując `avg(v)` jest równoważne toocalling `avg(1,2,3)`.</span><span class="sxs-lookup"><span data-stu-id="e949f-377">For example, if `v = [1,2,3]`, then calling `avg(v)` is equivalent toocalling `avg(1,2,3)`.</span></span> <span data-ttu-id="e949f-378">Wywoływanie `avg(v, 7)` jest równoważne toocalling `avg(1,2,3,7)`.</span><span class="sxs-lookup"><span data-stu-id="e949f-378">Calling `avg(v, 7)` is equivalent toocalling `avg(1,2,3,7)`.</span></span>

## <span data-ttu-id="e949f-379"><a name="getsampledata"></a>Uzyskaj przykładowe dane</span><span class="sxs-lookup"><span data-stu-id="e949f-379"><a name="getsampledata"></a>Obtain sample data</span></span>
<span data-ttu-id="e949f-380">Funkcja automatycznego skalowania formuły działają na metryki danych (przykłady) dostarczonego przez hello usługa partia zadań.</span><span class="sxs-lookup"><span data-stu-id="e949f-380">Autoscale formulas act on metrics data (samples) that is provided by hello Batch service.</span></span> <span data-ttu-id="e949f-381">Formuła rozwoju lub zmniejszenie rozmiaru puli na podstawie wartości hello, uzyskiwanych od hello usługi.</span><span class="sxs-lookup"><span data-stu-id="e949f-381">A formula grows or shrinks pool size based on hello values that it obtains from hello service.</span></span> <span data-ttu-id="e949f-382">Definicja usługi zmiennych Hello, które zostały opisane wcześniej są obiekty, które zapewniają różne metody tooaccess dane skojarzone z tym obiektem.</span><span class="sxs-lookup"><span data-stu-id="e949f-382">hello service-defined variables that were described previously are objects that provide various methods tooaccess data that is associated with that object.</span></span> <span data-ttu-id="e949f-383">Na przykład hello poniższy przykład pokazuje hello tooget żądania ostatnich pięciu minut użycia procesora CPU:</span><span class="sxs-lookup"><span data-stu-id="e949f-383">For example, hello following expression shows a request tooget hello last five minutes of CPU usage:</span></span>

```
$CPUPercent.GetSample(TimeInterval_Minute * 5)
```

| <span data-ttu-id="e949f-384">Metoda</span><span class="sxs-lookup"><span data-stu-id="e949f-384">Method</span></span> | <span data-ttu-id="e949f-385">Opis</span><span class="sxs-lookup"><span data-stu-id="e949f-385">Description</span></span> |
| --- | --- |
| <span data-ttu-id="e949f-386">GetSample()</span><span class="sxs-lookup"><span data-stu-id="e949f-386">GetSample()</span></span> |<span data-ttu-id="e949f-387">Witaj `GetSample()` metoda zwraca wektor próbek danych.</span><span class="sxs-lookup"><span data-stu-id="e949f-387">hello `GetSample()` method returns a vector of data samples.</span></span><br/><br/><span data-ttu-id="e949f-388">Przykładowe wynosi 30 sekund warto danych metryki.</span><span class="sxs-lookup"><span data-stu-id="e949f-388">A sample is 30 seconds worth of metrics data.</span></span> <span data-ttu-id="e949f-389">Innymi słowy przykłady są uzyskiwane co 30 sekund.</span><span class="sxs-lookup"><span data-stu-id="e949f-389">In other words, samples are obtained every 30 seconds.</span></span> <span data-ttu-id="e949f-390">Ale przypadków wymienionych poniżej, opóźnienie między po próbki są zbierane i gdy jest dostępne tooa formuły.</span><span class="sxs-lookup"><span data-stu-id="e949f-390">But as noted below, there is a delay between when a sample is collected and when it is available tooa formula.</span></span> <span data-ttu-id="e949f-391">Tak nie wszystkie przykłady w danym czasie może być dostępny do szacowania przez formułę.</span><span class="sxs-lookup"><span data-stu-id="e949f-391">As such, not all samples for a given time period may be available for evaluation by a formula.</span></span><ul><li>`doubleVec GetSample(double count)`<br/><span data-ttu-id="e949f-392">Określa liczbę hello tooobtain próbki z hello najnowsze przykłady, które zostały zebrane.</span><span class="sxs-lookup"><span data-stu-id="e949f-392">Specifies hello number of samples tooobtain from hello most recent samples that were collected.</span></span><br/><br/><span data-ttu-id="e949f-393">`GetSample(1)`Zwraca hello ostatniej próbki dostępne.</span><span class="sxs-lookup"><span data-stu-id="e949f-393">`GetSample(1)` returns hello last available sample.</span></span> <span data-ttu-id="e949f-394">Dla metryk, takich jak `$CPUPercent`, jednak to nie można używać ponieważ jest niemożliwe tooknow *podczas* próbki hello został zebrany.</span><span class="sxs-lookup"><span data-stu-id="e949f-394">For metrics like `$CPUPercent`, however, this should not be used because it is impossible tooknow *when* hello sample was collected.</span></span> <span data-ttu-id="e949f-395">Może być ostatnie lub z powodu problemów dotyczących systemu, może być znacznie starsza.</span><span class="sxs-lookup"><span data-stu-id="e949f-395">It might be recent, or, because of system issues, it might be much older.</span></span> <span data-ttu-id="e949f-396">Najlepiej w takich przypadkach toouse przedział czasu, jak pokazano poniżej.</span><span class="sxs-lookup"><span data-stu-id="e949f-396">It is better in such cases toouse a time interval as shown below.</span></span><li>`doubleVec GetSample((timestamp or timeinterval) startTime [, double samplePercent])`<br/><span data-ttu-id="e949f-397">Określa przedział czasu zbierania przykładowych danych.</span><span class="sxs-lookup"><span data-stu-id="e949f-397">Specifies a time frame for gathering sample data.</span></span> <span data-ttu-id="e949f-398">Opcjonalnie określa również hello wartość procentowa próbek, które muszą być dostępne w hello żądanej przedziale czasu.</span><span class="sxs-lookup"><span data-stu-id="e949f-398">Optionally, it also specifies hello percentage of samples that must be available in hello requested time frame.</span></span><br/><br/><span data-ttu-id="e949f-399">`$CPUPercent.GetSample(TimeInterval_Minute * 10)`zwróci 20 próbek, gdy wszystkie próbki dla hello ostatnich 10 minut znajdują się w historii CPUPercent hello.</span><span class="sxs-lookup"><span data-stu-id="e949f-399">`$CPUPercent.GetSample(TimeInterval_Minute * 10)` would return 20 samples if all samples for hello last 10 minutes are present in hello CPUPercent history.</span></span> <span data-ttu-id="e949f-400">Jeśli hello ostatniej minuty historii nie jest dostępna, jednak tylko 18 przykłady będzie zwracany.</span><span class="sxs-lookup"><span data-stu-id="e949f-400">If hello last minute of history was not available, however, only 18 samples would be returned.</span></span> <span data-ttu-id="e949f-401">W takim przypadku:</span><span class="sxs-lookup"><span data-stu-id="e949f-401">In this case:</span></span><br/><br/><span data-ttu-id="e949f-402">`$CPUPercent.GetSample(TimeInterval_Minute * 10, 95)`nie powiedzie się, ponieważ tylko 90 procent hello przykłady są dostępne.</span><span class="sxs-lookup"><span data-stu-id="e949f-402">`$CPUPercent.GetSample(TimeInterval_Minute * 10, 95)` would fail because only 90 percent of hello samples are available.</span></span><br/><br/><span data-ttu-id="e949f-403">`$CPUPercent.GetSample(TimeInterval_Minute * 10, 80)`powiedzie się.</span><span class="sxs-lookup"><span data-stu-id="e949f-403">`$CPUPercent.GetSample(TimeInterval_Minute * 10, 80)` would succeed.</span></span><li>`doubleVec GetSample((timestamp or timeinterval) startTime, (timestamp or timeinterval) endTime [, double samplePercent])`<br/><span data-ttu-id="e949f-404">Określa przedział czasu zbierania danych z godziny rozpoczęcia i godzina zakończenia.</span><span class="sxs-lookup"><span data-stu-id="e949f-404">Specifies a time frame for gathering data, with both a start time and an end time.</span></span><br/><br/><span data-ttu-id="e949f-405">Jak wcześniej wspomniano, istnieje opóźnienie między po próbki są zbierane i gdy jest dostępne tooa formuły.</span><span class="sxs-lookup"><span data-stu-id="e949f-405">As mentioned above, there is a delay between when a sample is collected and when it is available tooa formula.</span></span> <span data-ttu-id="e949f-406">Należy wziąć pod uwagę to opóźnienie używania hello `GetSample` metody.</span><span class="sxs-lookup"><span data-stu-id="e949f-406">Consider this delay when you use hello `GetSample` method.</span></span> <span data-ttu-id="e949f-407">Zobacz `GetSamplePercent` poniżej.</span><span class="sxs-lookup"><span data-stu-id="e949f-407">See `GetSamplePercent` below.</span></span> |
| <span data-ttu-id="e949f-408">GetSamplePeriod()</span><span class="sxs-lookup"><span data-stu-id="e949f-408">GetSamplePeriod()</span></span> |<span data-ttu-id="e949f-409">Zwraca okres hello próbek, które zostały wykonane w zestawie danych historycznych próbki.</span><span class="sxs-lookup"><span data-stu-id="e949f-409">Returns hello period of samples that were taken in a historical sample data set.</span></span> |
| <span data-ttu-id="e949f-410">Funkcji Count()</span><span class="sxs-lookup"><span data-stu-id="e949f-410">Count()</span></span> |<span data-ttu-id="e949f-411">Zwraca hello łączna liczba próbek w historii metryki hello.</span><span class="sxs-lookup"><span data-stu-id="e949f-411">Returns hello total number of samples in hello metric history.</span></span> |
| <span data-ttu-id="e949f-412">HistoryBeginTime()</span><span class="sxs-lookup"><span data-stu-id="e949f-412">HistoryBeginTime()</span></span> |<span data-ttu-id="e949f-413">Zwraca hello sygnaturę czasową hello najstarsze dostępne dane przykładowe hello metryki.</span><span class="sxs-lookup"><span data-stu-id="e949f-413">Returns hello time stamp of hello oldest available data sample for hello metric.</span></span> |
| <span data-ttu-id="e949f-414">GetSamplePercent()</span><span class="sxs-lookup"><span data-stu-id="e949f-414">GetSamplePercent()</span></span> |<span data-ttu-id="e949f-415">Zwraca hello wartość procentowa próbek, które są dostępne dla danego interwału.</span><span class="sxs-lookup"><span data-stu-id="e949f-415">Returns hello percentage of samples that are available for a given time interval.</span></span> <span data-ttu-id="e949f-416">Na przykład:</span><span class="sxs-lookup"><span data-stu-id="e949f-416">For example:</span></span><br/><br/>`doubleVec GetSamplePercent( (timestamp or timeinterval) startTime [, (timestamp or timeinterval) endTime] )`<br/><br/><span data-ttu-id="e949f-417">Ponieważ hello `GetSample` metody zakończy się niepowodzeniem, jeśli hello wartość procentowa próbek, zwracana jest mniejsza niż hello `samplePercent` określony, można użyć hello `GetSamplePercent` toocheck metody pierwszy.</span><span class="sxs-lookup"><span data-stu-id="e949f-417">Because hello `GetSample` method fails if hello percentage of samples returned is less than hello `samplePercent` specified, you can use hello `GetSamplePercent` method toocheck first.</span></span> <span data-ttu-id="e949f-418">Następnie można wykonać akcję alternatywną, jeśli brakuje przykłady są obecne, bez zatrzymania hello automatycznego skalowania oceny.</span><span class="sxs-lookup"><span data-stu-id="e949f-418">Then you can perform an alternate action if insufficient samples are present, without halting hello automatic scaling evaluation.</span></span> |

### <a name="samples-sample-percentage-and-hello-getsample-method"></a><span data-ttu-id="e949f-419">Przykłady, wartość procentowa próbki i hello *GetSample()* — metoda</span><span class="sxs-lookup"><span data-stu-id="e949f-419">Samples, sample percentage, and hello *GetSample()* method</span></span>
<span data-ttu-id="e949f-420">Hello podstawowej funkcjonalności formuły skalowania automatycznego jest tooobtain zadania i zasobu metryki danych, a następnie Dostosuj rozmiaru puli na podstawie tych danych.</span><span class="sxs-lookup"><span data-stu-id="e949f-420">hello core operation of an autoscale formula is tooobtain task and resource metric data and then adjust pool size based on that data.</span></span> <span data-ttu-id="e949f-421">Tak to ważne toohave przejrzysty sposób skalowania automatycznego formuły interakcji z metryki danych (przykłady).</span><span class="sxs-lookup"><span data-stu-id="e949f-421">As such, it is important toohave a clear understanding of how autoscale formulas interact with metrics data (samples).</span></span>

<span data-ttu-id="e949f-422">**Przykłady**</span><span class="sxs-lookup"><span data-stu-id="e949f-422">**Samples**</span></span>

<span data-ttu-id="e949f-423">Hello usługa partia zadań okresowo przyjmuje przykłady metryki zadań i zasobów i ich dokonuje dostępne tooyour skalowania automatycznego formuły.</span><span class="sxs-lookup"><span data-stu-id="e949f-423">hello Batch service periodically takes samples of task and resource metrics and makes them available tooyour autoscale formulas.</span></span> <span data-ttu-id="e949f-424">Te przykłady są rejestrowane co 30 sekund, przez hello usługa partia zadań.</span><span class="sxs-lookup"><span data-stu-id="e949f-424">These samples are recorded every 30 seconds by hello Batch service.</span></span> <span data-ttu-id="e949f-425">Istnieje jednak zwykle opóźnienia między kiedy te przykłady zostały zarejestrowane oraz w przypadku ich stają się dostępne zbyt (i może zostać odczytany przez) formułach skalowania automatycznego.</span><span class="sxs-lookup"><span data-stu-id="e949f-425">However, there is typically a delay between when those samples were recorded and when they are made available too(and can be read by) your autoscale formulas.</span></span> <span data-ttu-id="e949f-426">Ponadto powodu toovarious czynników, takich jak sieci lub inne problemy z infrastrukturą, próbki mogą nie zostać zarejestrowane dla określonego interwału.</span><span class="sxs-lookup"><span data-stu-id="e949f-426">Additionally, due toovarious factors such as network or other infrastructure issues, samples may not be recorded for a particular interval.</span></span>

<span data-ttu-id="e949f-427">**Przykładowe wartości procentowej**</span><span class="sxs-lookup"><span data-stu-id="e949f-427">**Sample percentage**</span></span>

<span data-ttu-id="e949f-428">Gdy `samplePercent` jest przekazywany toohello `GetSample()` metody lub hello `GetSamplePercent()` metoda jest wywoływana, _procent_ odwołuje się tooa porównanie hello całkowitą możliwą liczbę próbek, które są rejestrowane przez hello usługa partia zadań i Hello liczba próbek, które są dostępne tooyour formuła skalowania automatycznego.</span><span class="sxs-lookup"><span data-stu-id="e949f-428">When `samplePercent` is passed toohello `GetSample()` method or hello `GetSamplePercent()` method is called, _percent_ refers tooa comparison between hello total possible number of samples that are recorded by hello Batch service and hello number of samples that are available tooyour autoscale formula.</span></span>

<span data-ttu-id="e949f-429">Na przykład Przyjrzyjmy timespan 10 minut.</span><span class="sxs-lookup"><span data-stu-id="e949f-429">Let's look at a 10-minute timespan as an example.</span></span> <span data-ttu-id="e949f-430">Ponieważ próbki są rejestrowane co 30 sekund w timespan 10 minut, hello maksymalna liczba próbek, które są rejestrowane przez partię będzie 20 próbek (2 na minutę).</span><span class="sxs-lookup"><span data-stu-id="e949f-430">Because samples are recorded every 30 seconds within a 10-minute timespan, hello maximum total number of samples that are recorded by Batch would be 20 samples (2 per minute).</span></span> <span data-ttu-id="e949f-431">Jednak powodu toohello związanego z używaniem opóźnienia hello raportowania mechanizmu i inne problemy w systemie Azure, może być tylko 15 przykłady, które są dostępne tooyour skalowania automatycznego formułę do odczytu.</span><span class="sxs-lookup"><span data-stu-id="e949f-431">However, due toohello inherent latency of hello reporting mechanism and other issues within Azure, there may be only 15 samples that are available tooyour autoscale formula for reading.</span></span> <span data-ttu-id="e949f-432">Tak na przykład, w tym okresie 10 minut tylko 75% hello łączna liczba próbek, zarejestrowane może być dostępne tooyour formuły.</span><span class="sxs-lookup"><span data-stu-id="e949f-432">So, for example, for that 10-minute period, only 75% of hello total number of samples recorded may be available tooyour formula.</span></span>

<span data-ttu-id="e949f-433">**Zakresy GetSample() i próbki**</span><span class="sxs-lookup"><span data-stu-id="e949f-433">**GetSample() and sample ranges**</span></span>

<span data-ttu-id="e949f-434">Formułach skalowania automatycznego są będzie toobe powiększania i zmniejszanie z pul &mdash; Dodawanie węzłów i usuwanie węzłów.</span><span class="sxs-lookup"><span data-stu-id="e949f-434">Your autoscale formulas are going toobe growing and shrinking your pools &mdash; adding nodes or removing nodes.</span></span> <span data-ttu-id="e949f-435">Ponieważ węzłów koszt pieniądze, ma tooensure, który formułach Użyj inteligentnego metody analizy, który jest oparty na wystarczającą ilość danych.</span><span class="sxs-lookup"><span data-stu-id="e949f-435">Because nodes cost you money, you want tooensure that your formulas use an intelligent method of analysis that is based on sufficient data.</span></span> <span data-ttu-id="e949f-436">Dlatego zaleca się używać analizy typu analizy trendów w formułach.</span><span class="sxs-lookup"><span data-stu-id="e949f-436">Therefore, we recommend that you use a trending-type analysis in your formulas.</span></span> <span data-ttu-id="e949f-437">Ten typ rozwoju i zmniejsza z puli na podstawie zakresu zbieranych próbek.</span><span class="sxs-lookup"><span data-stu-id="e949f-437">This type grows and shrinks your pools based on a range of collected samples.</span></span>

<span data-ttu-id="e949f-438">tak, użyj toodo `GetSample(interval look-back start, interval look-back end)` tooreturn wektor próbek:</span><span class="sxs-lookup"><span data-stu-id="e949f-438">toodo so, use `GetSample(interval look-back start, interval look-back end)` tooreturn a vector of samples:</span></span>

```
$runningTasksSample = $RunningTasks.GetSample(1 * TimeInterval_Minute, 6 * TimeInterval_Minute);
```

<span data-ttu-id="e949f-439">Gdy hello powyżej wiersza jest oceniane w partii, zwraca zakres próbek jako wektor wartości.</span><span class="sxs-lookup"><span data-stu-id="e949f-439">When hello above line is evaluated by Batch, it returns a range of samples as a vector of values.</span></span> <span data-ttu-id="e949f-440">Na przykład:</span><span class="sxs-lookup"><span data-stu-id="e949f-440">For example:</span></span>

```
$runningTasksSample=[1,1,1,1,1,1,1,1,1,1];
```

<span data-ttu-id="e949f-441">Po zostały zebrane wektor hello próbek, można następnie użyć funkcji, takich jak `min()`, `max()`, i `avg()` tooderive istotnych wartości z hello zbierane zakresu.</span><span class="sxs-lookup"><span data-stu-id="e949f-441">Once you've collected hello vector of samples, you can then use functions like `min()`, `max()`, and `avg()` tooderive meaningful values from hello collected range.</span></span>

<span data-ttu-id="e949f-442">Aby dodatkowo zwiększyć bezpieczeństwo można wymusić toofail formuły, jeśli mniejsza niż określony procent próbki jest dostępna w określonym czasie.</span><span class="sxs-lookup"><span data-stu-id="e949f-442">For additional security, you can force a formula evaluation toofail if less than a certain sample percentage is available for a particular time period.</span></span> <span data-ttu-id="e949f-443">Po wymuszeniu toofail formuły, poinstruuj dalsze toocease partii oceny formuły hello Jeśli hello określona wartość procentowa próbek nie jest dostępny.</span><span class="sxs-lookup"><span data-stu-id="e949f-443">When you force a formula evaluation toofail, you instruct Batch toocease further evaluation of hello formula if hello specified percentage of samples is not available.</span></span> <span data-ttu-id="e949f-444">W takim przypadku rozmiar puli toohello są wprowadzane żadne zmiany.</span><span class="sxs-lookup"><span data-stu-id="e949f-444">In this case, no change is made toohello pool size.</span></span> <span data-ttu-id="e949f-445">toospecify wymagane odsetek próbek toosucceed oceny hello, określ go jako zbyt hello trzeci parametr`GetSample()`.</span><span class="sxs-lookup"><span data-stu-id="e949f-445">toospecify a required percentage of samples for hello evaluation toosucceed, specify it as hello third parameter too`GetSample()`.</span></span> <span data-ttu-id="e949f-446">W tym miejscu określono wymaganie 75 procent próbek:</span><span class="sxs-lookup"><span data-stu-id="e949f-446">Here, a requirement of 75 percent of samples is specified:</span></span>

```
$runningTasksSample = $RunningTasks.GetSample(60 * TimeInterval_Second, 120 * TimeInterval_Second, 75);
```

<span data-ttu-id="e949f-447">Ponieważ próbki dostępności może wystąpić opóźnienie, ważne jest tooalways określić zakres czasu, czas rozpoczęcia wygląd Wstecz, która jest starsza niż minuta.</span><span class="sxs-lookup"><span data-stu-id="e949f-447">Because there may be a delay in sample availability, it is important tooalways specify a time range with a look-back start time that is older than one minute.</span></span> <span data-ttu-id="e949f-448">Trwa około minuty toopropagate próbek za pomocą systemu hello, więc przykłady w zakresie hello `(0 * TimeInterval_Second, 60 * TimeInterval_Second)` mogą nie być dostępne.</span><span class="sxs-lookup"><span data-stu-id="e949f-448">It takes approximately one minute for samples toopropagate through hello system, so samples in hello range `(0 * TimeInterval_Second, 60 * TimeInterval_Second)` may not be available.</span></span> <span data-ttu-id="e949f-449">Ponownie, można użyć parametru procent hello `GetSample()` tooforce wymaganie procent określonej próbki.</span><span class="sxs-lookup"><span data-stu-id="e949f-449">Again, you can use hello percentage parameter of `GetSample()` tooforce a particular sample percentage requirement.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="e949f-450">Firma Microsoft **zdecydowanie zaleca się** że **uniknąć jednostki uzależnionej *tylko* na `GetSample(1)` w formułach skalowania automatycznego**.</span><span class="sxs-lookup"><span data-stu-id="e949f-450">We **strongly recommend** that you **avoid relying *only* on `GetSample(1)` in your autoscale formulas**.</span></span> <span data-ttu-id="e949f-451">Jest to spowodowane `GetSample(1)` zasadniczo mówi toohello usługa partia zadań, "Mnie hello ostatniej próbki, należy podać nie niezależnie od tego, jak dawno temu pobraniu."</span><span class="sxs-lookup"><span data-stu-id="e949f-451">This is because `GetSample(1)` essentially says toohello Batch service, "Give me hello last sample you have, no matter how long ago you retrieved it."</span></span> <span data-ttu-id="e949f-452">Ponieważ jest tylko jeden przykład i mogą być starsze próbki, nie może być przedstawiciel hello większy obraz ostatnie zadanie lub stan zasobów.</span><span class="sxs-lookup"><span data-stu-id="e949f-452">Since it is only a single sample, and it may be an older sample, it may not be representative of hello larger picture of recent task or resource state.</span></span> <span data-ttu-id="e949f-453">Jeśli używasz `GetSample(1)`, upewnij się, że jest ona częścią większej instrukcji i nie hello tylko punkt danych zależy od formuły.</span><span class="sxs-lookup"><span data-stu-id="e949f-453">If you do use `GetSample(1)`, make sure that it's part of a larger statement and not hello only data point that your formula relies on.</span></span>
>
>

## <a name="metrics"></a><span data-ttu-id="e949f-454">Metryki</span><span class="sxs-lookup"><span data-stu-id="e949f-454">Metrics</span></span>
<span data-ttu-id="e949f-455">Podczas definiowania formuły, można użyć zarówno zasobów, jak i zadanie metryki.</span><span class="sxs-lookup"><span data-stu-id="e949f-455">You can use both resource and task metrics when you're defining a formula.</span></span> <span data-ttu-id="e949f-456">Możesz dostosować hello docelowy Liczba dedykowanych węzłów w hello puli na podstawie danych metryki hello uzyskać i oceny.</span><span class="sxs-lookup"><span data-stu-id="e949f-456">You adjust hello target number of dedicated nodes in hello pool based on hello metrics data that you obtain and evaluate.</span></span> <span data-ttu-id="e949f-457">Zobacz hello [zmienne](#variables) sekcji powyżej, aby uzyskać więcej informacji na wszystkie metryki.</span><span class="sxs-lookup"><span data-stu-id="e949f-457">See hello [Variables](#variables) section above for more information on each metric.</span></span>

<table>
  <tr>
    <th><span data-ttu-id="e949f-458">Metryka</span><span class="sxs-lookup"><span data-stu-id="e949f-458">Metric</span></span></th>
    <th><span data-ttu-id="e949f-459">Opis</span><span class="sxs-lookup"><span data-stu-id="e949f-459">Description</span></span></th>
  </tr>
  <tr>
    <td><span data-ttu-id="e949f-460"><b>Zasób</b></span><span class="sxs-lookup"><span data-stu-id="e949f-460"><b>Resource</b></span></span></td>
    <td><p><span data-ttu-id="e949f-461">Metryki zasobów są oparte na hello procesora CPU, przepustowości hello, użycie pamięci hello węzłów obliczeniowych i hello liczba węzłów.</span><span class="sxs-lookup"><span data-stu-id="e949f-461">Resource metrics are based on hello CPU, hello bandwidth, hello memory usage of compute nodes, and hello number of nodes.</span></span></p>
        <p> <span data-ttu-id="e949f-462">Te zmienne zdefiniowane usługi są przydatne do korekt na podstawie liczby węzłów:</span><span class="sxs-lookup"><span data-stu-id="e949f-462">These service-defined variables are useful for making adjustments based on node count:</span></span></p>
    <p><ul>
            <li><span data-ttu-id="e949f-463">$TargetDedicatedNodes</span><span class="sxs-lookup"><span data-stu-id="e949f-463">$TargetDedicatedNodes</span></span></li>
            <li><span data-ttu-id="e949f-464">$TargetLowPriorityNodes</span><span class="sxs-lookup"><span data-stu-id="e949f-464">$TargetLowPriorityNodes</span></span></li>
            <li><span data-ttu-id="e949f-465">$CurrentDedicatedNodes</span><span class="sxs-lookup"><span data-stu-id="e949f-465">$CurrentDedicatedNodes</span></span></li>
            <li><span data-ttu-id="e949f-466">$CurrentLowPriorityNodes</span><span class="sxs-lookup"><span data-stu-id="e949f-466">$CurrentLowPriorityNodes</span></span></li>
            <li><span data-ttu-id="e949f-467">$preemptedNodeCount</span><span class="sxs-lookup"><span data-stu-id="e949f-467">$preemptedNodeCount</span></span></li>
            <li><span data-ttu-id="e949f-468">$SampleNodeCount</span><span class="sxs-lookup"><span data-stu-id="e949f-468">$SampleNodeCount</span></span></li>
    </ul></p>
    <p><span data-ttu-id="e949f-469">Te zmienne zdefiniowane usługi są przydatne do korekt na podstawie użycia zasobów węzła:</span><span class="sxs-lookup"><span data-stu-id="e949f-469">These service-defined variables are useful for making adjustments based on node resource usage:</span></span></p>
    <p><ul>
      <li><span data-ttu-id="e949f-470">$CPUPercent</span><span class="sxs-lookup"><span data-stu-id="e949f-470">$CPUPercent</span></span></li>
      <li><span data-ttu-id="e949f-471">$WallClockSeconds</span><span class="sxs-lookup"><span data-stu-id="e949f-471">$WallClockSeconds</span></span></li>
      <li><span data-ttu-id="e949f-472">$MemoryBytes</span><span class="sxs-lookup"><span data-stu-id="e949f-472">$MemoryBytes</span></span></li>
      <li><span data-ttu-id="e949f-473">$DiskBytes</span><span class="sxs-lookup"><span data-stu-id="e949f-473">$DiskBytes</span></span></li>
      <li><span data-ttu-id="e949f-474">$DiskReadBytes</span><span class="sxs-lookup"><span data-stu-id="e949f-474">$DiskReadBytes</span></span></li>
      <li><span data-ttu-id="e949f-475">$DiskWriteBytes</span><span class="sxs-lookup"><span data-stu-id="e949f-475">$DiskWriteBytes</span></span></li>
      <li><span data-ttu-id="e949f-476">$DiskReadOps</span><span class="sxs-lookup"><span data-stu-id="e949f-476">$DiskReadOps</span></span></li>
      <li><span data-ttu-id="e949f-477">$DiskWriteOps</span><span class="sxs-lookup"><span data-stu-id="e949f-477">$DiskWriteOps</span></span></li>
      <li><span data-ttu-id="e949f-478">$NetworkInBytes</span><span class="sxs-lookup"><span data-stu-id="e949f-478">$NetworkInBytes</span></span></li>
      <li><span data-ttu-id="e949f-479">$NetworkOutBytes</span><span class="sxs-lookup"><span data-stu-id="e949f-479">$NetworkOutBytes</span></span></li></ul></p>
  </tr>
  <tr>
    <td><span data-ttu-id="e949f-480"><b>Zadanie podrzędne</b></span><span class="sxs-lookup"><span data-stu-id="e949f-480"><b>Task</b></span></span></td>
    <td><p><span data-ttu-id="e949f-481">Metryki zadań opartych na powitania stan zadania, takie jak aktywny, oczekujące i zakończone.</span><span class="sxs-lookup"><span data-stu-id="e949f-481">Task metrics are based on hello status of tasks, such as Active, Pending, and Completed.</span></span> <span data-ttu-id="e949f-482">Hello następujące zmienne zdefiniowane przez usługi są przydatne, aby wprowadzić zmiany rozmiaru puli, w oparciu metryki zadań:</span><span class="sxs-lookup"><span data-stu-id="e949f-482">hello following service-defined variables are useful for making pool-size adjustments based on task metrics:</span></span></p>
    <p><ul>
      <li><span data-ttu-id="e949f-483">$ActiveTasks</span><span class="sxs-lookup"><span data-stu-id="e949f-483">$ActiveTasks</span></span></li>
      <li><span data-ttu-id="e949f-484">$RunningTasks</span><span class="sxs-lookup"><span data-stu-id="e949f-484">$RunningTasks</span></span></li>
      <li><span data-ttu-id="e949f-485">$PendingTasks</span><span class="sxs-lookup"><span data-stu-id="e949f-485">$PendingTasks</span></span></li>
      <li><span data-ttu-id="e949f-486">$SucceededTasks</span><span class="sxs-lookup"><span data-stu-id="e949f-486">$SucceededTasks</span></span></li>
            <li><span data-ttu-id="e949f-487">$FailedTasks</span><span class="sxs-lookup"><span data-stu-id="e949f-487">$FailedTasks</span></span></li></ul></p>
        </td>
  </tr>
</table>

## <a name="write-an-autoscale-formula"></a><span data-ttu-id="e949f-488">Pisanie formuły skalowania automatycznego</span><span class="sxs-lookup"><span data-stu-id="e949f-488">Write an autoscale formula</span></span>
<span data-ttu-id="e949f-489">Tworzenie formułą automatycznego skalowania przez tworzenie instrukcji używających hello powyżej składniki następnie łączenie tych instrukcji do ukończenia formuły.</span><span class="sxs-lookup"><span data-stu-id="e949f-489">You build an autoscale formula by forming statements that use hello above components, then combine those statements into a complete formula.</span></span> <span data-ttu-id="e949f-490">W tej sekcji utworzymy skalowania automatycznego przykład formuły, które można wykonywać pewne decyzje skalowania rzeczywistych.</span><span class="sxs-lookup"><span data-stu-id="e949f-490">In this section, we create an example autoscale formula that can perform some real-world scaling decisions.</span></span>

<span data-ttu-id="e949f-491">Najpierw zdefiniujmy hello wymagania dotyczące naszej nowej formuły skalowania automatycznego.</span><span class="sxs-lookup"><span data-stu-id="e949f-491">First, let's define hello requirements for our new autoscale formula.</span></span> <span data-ttu-id="e949f-492">Formuła Hello następujące czynności:</span><span class="sxs-lookup"><span data-stu-id="e949f-492">hello formula should:</span></span>

1. <span data-ttu-id="e949f-493">Jeśli użycie procesora CPU jest wysokie, należy zwiększyć liczbę docelowych hello węzłów obliczeniowych dedykowanych w puli.</span><span class="sxs-lookup"><span data-stu-id="e949f-493">Increase hello target number of dedicated compute nodes in a pool if CPU usage is high.</span></span>
2. <span data-ttu-id="e949f-494">Zmniejszenie liczby docelowy hello węzłów obliczeniowych dedykowanych w puli, gdy użycie Procesora jest niskie.</span><span class="sxs-lookup"><span data-stu-id="e949f-494">Decrease hello target number of dedicated compute nodes in a pool when CPU usage is low.</span></span>
3. <span data-ttu-id="e949f-495">Zawsze ograniczyć hello maksymalna liczba dedykowanych węzłów too400.</span><span class="sxs-lookup"><span data-stu-id="e949f-495">Always restrict hello maximum number of dedicated nodes too400.</span></span>

<span data-ttu-id="e949f-496">tooincrease hello liczba węzłów podczas wysokiego użycia procesora CPU, zdefiniuj hello instrukcji, która wypełnia zmiennej zdefiniowanej przez użytkownika (`$totalDedicatedNodes`) z wartością, która jest 110 procent hello bieżący numer docelowej dedykowanych węzłów, ale tylko wtedy, jeśli hello minimalna średniego użycia procesora CPU Podczas hello ostatnich 10 minut była powyżej 70 procent.</span><span class="sxs-lookup"><span data-stu-id="e949f-496">tooincrease hello number of nodes during high CPU usage, define hello statement that populates a user-defined variable (`$totalDedicatedNodes`) with a value that is 110 percent of hello current target number of dedicated nodes, but only if hello minimum average CPU usage during hello last 10 minutes was above 70 percent.</span></span> <span data-ttu-id="e949f-497">W przeciwnym razie użyj wartości hello hello bieżąca liczba dedykowanych węzłów.</span><span class="sxs-lookup"><span data-stu-id="e949f-497">Otherwise, use hello value for hello current number of dedicated nodes.</span></span>

```
$totalDedicatedNodes =
    (min($CPUPercent.GetSample(TimeInterval_Minute * 10)) > 0.7) ?
    ($CurrentDedicatedNodes * 1.1) : $CurrentDedicatedNodes;
```

<span data-ttu-id="e949f-498">zbyt*zmniejszyć* hello Liczba dedykowanych węzłów podczas niskie użycie procesora CPU, same hello następnej instrukcji w naszym hello formuły zestawy `$totalDedicatedNodes` zmiennej too90 procent hello bieżący numer docelowej dedykowanych węzłów, jeśli hello średnie użycie procesora CPU w hello ostatnich 60 minut w obszarze było 20 procent.</span><span class="sxs-lookup"><span data-stu-id="e949f-498">too*decrease* hello number of dedicated nodes during low CPU usage, hello next statement in our formula sets hello same `$totalDedicatedNodes` variable too90 percent of hello current target number of dedicated nodes if hello average CPU usage in hello past 60 minutes was under 20 percent.</span></span> <span data-ttu-id="e949f-499">W przeciwnym razie użyj hello bieżącą wartość `$totalDedicatedNodes` który mamy wypełniony w instrukcji hello powyżej.</span><span class="sxs-lookup"><span data-stu-id="e949f-499">Otherwise, use hello current value of `$totalDedicatedNodes` that we populated in hello statement above.</span></span>

```
$totalDedicatedNodes =
    (avg($CPUPercent.GetSample(TimeInterval_Minute * 60)) < 0.2) ?
    ($CurrentDedicatedNodes * 0.9) : $totalDedicatedNodes;
```

<span data-ttu-id="e949f-500">Teraz Ogranicz liczbę docelowych hello obliczeń dedykowanych węzłów tooa maksymalnie 400:</span><span class="sxs-lookup"><span data-stu-id="e949f-500">Now limit hello target number of dedicated compute nodes tooa maximum of 400:</span></span>

```
$TargetDedicatedNodes = min(400, $totalDedicatedNodes)
```

<span data-ttu-id="e949f-501">Oto hello całej formuły:</span><span class="sxs-lookup"><span data-stu-id="e949f-501">Here's hello complete formula:</span></span>

```
$totalDedicatedNodes =
    (min($CPUPercent.GetSample(TimeInterval_Minute * 10)) > 0.7) ?
    ($CurrentDedicatedNodes * 1.1) : $CurrentDedicatedNodes;
$totalDedicatedNodes =
    (avg($CPUPercent.GetSample(TimeInterval_Minute * 60)) < 0.2) ?
    ($CurrentDedicatedNodes * 0.9) : $totalDedicatedNodes;
$TargetDedicatedNodes = min(400, $totalDedicatedNodes)
```

## <a name="create-an-autoscale-enabled-pool-with-net"></a><span data-ttu-id="e949f-502">Utwórz pulę włączona funkcja automatycznego skalowania z platformą .NET</span><span class="sxs-lookup"><span data-stu-id="e949f-502">Create an autoscale-enabled pool with .NET</span></span>

<span data-ttu-id="e949f-503">toocreate pulą o Skalowanie automatyczne włączona w programie .NET, wykonaj następujące kroki:</span><span class="sxs-lookup"><span data-stu-id="e949f-503">toocreate a pool with autoscaling enabled in .NET, follow these steps:</span></span>

1. <span data-ttu-id="e949f-504">Tworzenie puli hello z [BatchClient.PoolOperations.CreatePool](https://docs.microsoft.com/dotnet/api/microsoft.azure.batch.pooloperations.createpool).</span><span class="sxs-lookup"><span data-stu-id="e949f-504">Create hello pool with [BatchClient.PoolOperations.CreatePool](https://docs.microsoft.com/dotnet/api/microsoft.azure.batch.pooloperations.createpool).</span></span>
2. <span data-ttu-id="e949f-505">Zestaw hello [CloudPool.AutoScaleEnabled](https://docs.microsoft.com/dotnet/api/microsoft.azure.batch.cloudpool.autoscaleenabled) właściwości zbyt`true`.</span><span class="sxs-lookup"><span data-stu-id="e949f-505">Set hello [CloudPool.AutoScaleEnabled](https://docs.microsoft.com/dotnet/api/microsoft.azure.batch.cloudpool.autoscaleenabled) property too`true`.</span></span>
3. <span data-ttu-id="e949f-506">Zestaw hello [CloudPool.AutoScaleFormula](https://docs.microsoft.com/dotnet/api/microsoft.azure.batch.cloudpool.autoscaleformula) właściwości z formułą automatycznego skalowania.</span><span class="sxs-lookup"><span data-stu-id="e949f-506">Set hello [CloudPool.AutoScaleFormula](https://docs.microsoft.com/dotnet/api/microsoft.azure.batch.cloudpool.autoscaleformula) property with your autoscale formula.</span></span>
4. <span data-ttu-id="e949f-507">(Opcjonalnie) Zestaw hello [CloudPool.AutoScaleEvaluationInterval](https://docs.microsoft.com/dotnet/api/microsoft.azure.batch.cloudpool.autoscaleevaluationinterval) właściwość (wartość domyślna to 15 minut).</span><span class="sxs-lookup"><span data-stu-id="e949f-507">(Optional) Set hello [CloudPool.AutoScaleEvaluationInterval](https://docs.microsoft.com/dotnet/api/microsoft.azure.batch.cloudpool.autoscaleevaluationinterval) property (default is 15 minutes).</span></span>
5. <span data-ttu-id="e949f-508">Zatwierdź puli hello z [CloudPool.Commit](https://docs.microsoft.com/dotnet/api/microsoft.azure.batch.cloudpool.commit) lub [CommitAsync](https://docs.microsoft.com/dotnet/api/microsoft.azure.batch.cloudpool.commitasync).</span><span class="sxs-lookup"><span data-stu-id="e949f-508">Commit hello pool with [CloudPool.Commit](https://docs.microsoft.com/dotnet/api/microsoft.azure.batch.cloudpool.commit) or [CommitAsync](https://docs.microsoft.com/dotnet/api/microsoft.azure.batch.cloudpool.commitasync).</span></span>

<span data-ttu-id="e949f-509">Witaj poniższy fragment kodu tworzy włączona funkcja automatycznego skalowania puli .NET.</span><span class="sxs-lookup"><span data-stu-id="e949f-509">hello following code snippet creates an autoscale-enabled pool in .NET.</span></span> <span data-ttu-id="e949f-510">Witaj formułą automatycznego skalowania puli ustawia hello docelowy liczbę too5 dedykowanych węzłów w poniedziałek i 1 dla każdego dnia, tygodnia hello.</span><span class="sxs-lookup"><span data-stu-id="e949f-510">hello pool's autoscale formula sets hello target number of dedicated nodes too5 on Mondays, and 1 on every other day of hello week.</span></span> <span data-ttu-id="e949f-511">Witaj [interwał automatycznego skalowania](#automatic-scaling-interval) jest ustawiony too30 minut.</span><span class="sxs-lookup"><span data-stu-id="e949f-511">hello [automatic scaling interval](#automatic-scaling-interval) is set too30 minutes.</span></span> <span data-ttu-id="e949f-512">W tym i hello innych wstawki C# w tym artykule `myBatchClient` jest prawidłowo zainicjowany wystąpieniem hello [BatchClient] [ net_batchclient] klasy.</span><span class="sxs-lookup"><span data-stu-id="e949f-512">In this and hello other C# snippets in this article, `myBatchClient` is a properly initialized instance of hello [BatchClient][net_batchclient] class.</span></span>

```csharp
CloudPool pool = myBatchClient.PoolOperations.CreatePool(
                    poolId: "mypool",
                    virtualMachineSize: "small", // single-core, 1.75 GB memory, 225 GB disk
                    cloudServiceConfiguration: new CloudServiceConfiguration(osFamily: "5"));    
pool.AutoScaleEnabled = true;
pool.AutoScaleFormula = "$TargetDedicatedNodes = (time().weekday == 1 ? 5:1);";
pool.AutoScaleEvaluationInterval = TimeSpan.FromMinutes(30);
await pool.CommitAsync();
```

> [!IMPORTANT]
> <span data-ttu-id="e949f-513">Podczas tworzenia puli włączone skalowania automatycznego nie należy określać hello _targetDedicatedComputeNodes_ parametr lub hello _targetLowPriorityComputeNodes_ parametru na powitania wywołać zbyt **CreatePool**.</span><span class="sxs-lookup"><span data-stu-id="e949f-513">When you create an autoscale-enabled pool, do not specify hello _targetDedicatedComputeNodes_ parameter or hello _targetLowPriorityComputeNodes_ parameter on hello call too**CreatePool**.</span></span> <span data-ttu-id="e949f-514">Zamiast tego określ hello **AutoScaleEnabled** i **AutoScaleFormula** we właściwościach puli hello.</span><span class="sxs-lookup"><span data-stu-id="e949f-514">Instead, specify hello **AutoScaleEnabled** and **AutoScaleFormula** properties on hello pool.</span></span> <span data-ttu-id="e949f-515">Hello wartości tych właściwości określić numer docelowej hello każdego typu węzła.</span><span class="sxs-lookup"><span data-stu-id="e949f-515">hello values for these properties determine hello target number of each type of node.</span></span> <span data-ttu-id="e949f-516">Ponadto toomanually zmiany rozmiaru puli włączone skalowania automatycznego (na przykład z [BatchClient.PoolOperations.ResizePoolAsync][net_poolops_resizepoolasync]), pierwszy **wyłączyć** automatyczne skalowanie na Witaj puli, a następnie zmienić jego rozmiar.</span><span class="sxs-lookup"><span data-stu-id="e949f-516">Also, toomanually resize an autoscale-enabled pool (for example, with [BatchClient.PoolOperations.ResizePoolAsync][net_poolops_resizepoolasync]), first **disable** automatic scaling on hello pool, then resize it.</span></span>
>
>

<span data-ttu-id="e949f-517">Ponadto tooBatch .NET możesz można użyć dowolnego z hello innych [wsadowego zestawów SDK](batch-apis-tools.md#azure-accounts-for-batch-development), [REST partii](https://docs.microsoft.com/rest/api/batchservice/), [poleceń cmdlet programu PowerShell partii](batch-powershell-cmdlets-get-started.md)i hello [CLI partii](batch-cli-get-started.md)tooconfigure Skalowanie automatyczne.</span><span class="sxs-lookup"><span data-stu-id="e949f-517">In addition tooBatch .NET, you can use any of hello other [Batch SDKs](batch-apis-tools.md#azure-accounts-for-batch-development), [Batch REST](https://docs.microsoft.com/rest/api/batchservice/), [Batch PowerShell cmdlets](batch-powershell-cmdlets-get-started.md), and hello [Batch CLI](batch-cli-get-started.md) tooconfigure autoscaling.</span></span>


### <a name="automatic-scaling-interval"></a><span data-ttu-id="e949f-518">Interwał automatycznego skalowania</span><span class="sxs-lookup"><span data-stu-id="e949f-518">Automatic scaling interval</span></span>
<span data-ttu-id="e949f-519">Domyślnie usługa partia zadań hello dopasowuje rozmiaru puli zgodnie z tooits formułą automatycznego skalowania co 15 minut.</span><span class="sxs-lookup"><span data-stu-id="e949f-519">By default, hello Batch service adjusts a pool's size according tooits autoscale formula every 15 minutes.</span></span> <span data-ttu-id="e949f-520">Interwał ten jest można skonfigurować przy użyciu następujących właściwościach puli hello:</span><span class="sxs-lookup"><span data-stu-id="e949f-520">This interval is configurable by using hello following pool properties:</span></span>

* <span data-ttu-id="e949f-521">[CloudPool.AutoScaleEvaluationInterval] [ net_cloudpool_autoscaleevalinterval] (wsadowe .NET)</span><span class="sxs-lookup"><span data-stu-id="e949f-521">[CloudPool.AutoScaleEvaluationInterval][net_cloudpool_autoscaleevalinterval] (Batch .NET)</span></span>
* <span data-ttu-id="e949f-522">[autoScaleEvaluationInterval] [ rest_autoscaleinterval] (interfejsu API REST)</span><span class="sxs-lookup"><span data-stu-id="e949f-522">[autoScaleEvaluationInterval][rest_autoscaleinterval] (REST API)</span></span>

<span data-ttu-id="e949f-523">minimalny interwał Hello to pięć minut, a maksymalna hello jest 168 godzin.</span><span class="sxs-lookup"><span data-stu-id="e949f-523">hello minimum interval is five minutes, and hello maximum is 168 hours.</span></span> <span data-ttu-id="e949f-524">Jeśli określono interwał poza tym zakresem, hello usługa partia zadań zwrócą błąd nieprawidłowe żądanie (400).</span><span class="sxs-lookup"><span data-stu-id="e949f-524">If an interval outside this range is specified, hello Batch service returns a Bad Request (400) error.</span></span>

> [!NOTE]
> <span data-ttu-id="e949f-525">Skalowanie automatyczne nie jest obecnie zamierzone toorespond toochanges w mniej niż minutę, ale jest raczej przeznaczona tooadjust hello rozmiar puli stopniowo Uruchom obciążenia.</span><span class="sxs-lookup"><span data-stu-id="e949f-525">Autoscaling is not currently intended toorespond toochanges in less than a minute, but rather is intended tooadjust hello size of your pool gradually as you run a workload.</span></span>
>
>

## <a name="enable-autoscaling-on-an-existing-pool"></a><span data-ttu-id="e949f-526">Włącz funkcję skalowania automatycznego na istniejącej puli</span><span class="sxs-lookup"><span data-stu-id="e949f-526">Enable autoscaling on an existing pool</span></span>

<span data-ttu-id="e949f-527">Zestaw SDK każdej partii oferuje Skalowanie automatyczne tooenable sposób.</span><span class="sxs-lookup"><span data-stu-id="e949f-527">Each Batch SDK provides a way tooenable autoscaling.</span></span> <span data-ttu-id="e949f-528">Na przykład:</span><span class="sxs-lookup"><span data-stu-id="e949f-528">For example:</span></span>

* <span data-ttu-id="e949f-529">[BatchClient.PoolOperations.EnableAutoScaleAsync] [ net_enableautoscaleasync] (wsadowe .NET)</span><span class="sxs-lookup"><span data-stu-id="e949f-529">[BatchClient.PoolOperations.EnableAutoScaleAsync][net_enableautoscaleasync] (Batch .NET)</span></span>
* <span data-ttu-id="e949f-530">[Włącz automatyczne skalowanie w puli] [ rest_enableautoscale] (interfejsu API REST)</span><span class="sxs-lookup"><span data-stu-id="e949f-530">[Enable automatic scaling on a pool][rest_enableautoscale] (REST API)</span></span>

<span data-ttu-id="e949f-531">Po włączeniu Skalowanie automatyczne w istniejącej puli, należy pamiętać hello następujące punkty:</span><span class="sxs-lookup"><span data-stu-id="e949f-531">When you enable autoscaling on an existing pool, keep in mind hello following points:</span></span>

* <span data-ttu-id="e949f-532">Jeśli automatyczne skalowanie jest obecnie wyłączona w puli hello podczas generowania Skalowanie automatyczne tooenable żądania hello, należy określić formułę prawidłowy automatycznego skalowania w przypadku wysyłania żądania hello.</span><span class="sxs-lookup"><span data-stu-id="e949f-532">If automatic scaling is currently disabled on hello pool when you issue hello request tooenable autoscaling, you must specify a valid autoscale formula when you issue hello request.</span></span> <span data-ttu-id="e949f-533">Opcjonalnie można określić interwał oceny skalowania automatycznego.</span><span class="sxs-lookup"><span data-stu-id="e949f-533">You can optionally specify an autoscale evaluation interval.</span></span> <span data-ttu-id="e949f-534">Jeśli nie określisz interwał, jest używany hello wartość domyślna wynosząca 15 minut.</span><span class="sxs-lookup"><span data-stu-id="e949f-534">If you do not specify an interval, hello default value of 15 minutes is used.</span></span>
* <span data-ttu-id="e949f-535">Jeśli skalowania automatycznego jest aktualnie włączony na powitania puli, można określić formułą automatycznego skalowania i interwał oceny.</span><span class="sxs-lookup"><span data-stu-id="e949f-535">If autoscale is currently enabled on hello pool, you can specify an autoscale formula, an evaluation interval, or both.</span></span> <span data-ttu-id="e949f-536">Należy określić co najmniej jeden z tych właściwości.</span><span class="sxs-lookup"><span data-stu-id="e949f-536">You must specify at least one of these properties.</span></span>

  * <span data-ttu-id="e949f-537">Jeśli określisz nowy interwał oceny skalowania automatycznego hello istniejący harmonogram oceny został zatrzymany, a nowy harmonogram jest uruchomiona.</span><span class="sxs-lookup"><span data-stu-id="e949f-537">If you specify a new autoscale evaluation interval, then hello existing evaluation schedule is stopped and a new schedule is started.</span></span> <span data-ttu-id="e949f-538">czas rozpoczęcia Hello nowy harmonogram jest hello czasu, w których hello Skalowanie automatyczne tooenable żądania został wystawiony.</span><span class="sxs-lookup"><span data-stu-id="e949f-538">hello new schedule's start time is hello time at which hello request tooenable autoscaling was issued.</span></span>
  * <span data-ttu-id="e949f-539">Jeśli pominięto interwał albo powitania w skalowania automatycznego formułę lub oceny hello usługa partia zadań nadal toouse hello bieżącą wartość tego ustawienia.</span><span class="sxs-lookup"><span data-stu-id="e949f-539">If you omit either hello autoscale formula or evaluation interval, hello Batch service continues toouse hello current value of that setting.</span></span>

> [!NOTE]
> <span data-ttu-id="e949f-540">Jeśli określono wartości dla hello *targetDedicatedComputeNodes* lub *targetLowPriorityComputeNodes* parametry hello **CreatePool** metody podczas tworzenia hello puli w .NET lub parametrów można porównywać pod względem hello w innym języku, a następnie te wartości są ignorowane podczas szacowania hello automatyczne skalowanie formuły.</span><span class="sxs-lookup"><span data-stu-id="e949f-540">If you specified values for hello *targetDedicatedComputeNodes* or *targetLowPriorityComputeNodes* parameters of hello **CreatePool** method when you created hello pool in .NET, or for hello comparable parameters in another language, then those values are ignored when hello automatic scaling formula is evaluated.</span></span>
>
>

<span data-ttu-id="e949f-541">Następujący fragment kodu C# używa hello [partiami platformy .NET] [ net_api] Skalowanie automatyczne tooenable biblioteki w istniejącej puli:</span><span class="sxs-lookup"><span data-stu-id="e949f-541">This C# code snippet uses hello [Batch .NET][net_api] library tooenable autoscaling on an existing pool:</span></span>

```csharp
// Define hello autoscaling formula. This formula sets hello target number of nodes
// too5 on Mondays, and 1 on every other day of hello week
string myAutoScaleFormula = "$TargetDedicatedNodes = (time().weekday == 1 ? 5:1);";

// Set hello autoscale formula on hello existing pool
await myBatchClient.PoolOperations.EnableAutoScaleAsync(
    "myexistingpool",
    autoscaleFormula: myAutoScaleFormula);
```

### <a name="update-an-autoscale-formula"></a><span data-ttu-id="e949f-542">Aktualizacja formułą automatycznego skalowania</span><span class="sxs-lookup"><span data-stu-id="e949f-542">Update an autoscale formula</span></span>

<span data-ttu-id="e949f-543">Formuła hello tooupdate na istniejącej włączona funkcja automatycznego skalowania puli, skalowanie automatyczne tooenable operacji hello wywołania ponownie, podając hello nowej formuły.</span><span class="sxs-lookup"><span data-stu-id="e949f-543">tooupdate hello formula on an existing autoscale-enabled pool, call hello operation tooenable autoscaling again with hello new formula.</span></span> <span data-ttu-id="e949f-544">Na przykład, jeśli już włączone Skalowanie automatyczne `myexistingpool` podczas wykonywania następującego kodu platformy .NET hello formułę skalowania automatycznego jest zastępowany zawartość hello `myNewFormula`.</span><span class="sxs-lookup"><span data-stu-id="e949f-544">For example, if autoscaling is already enabled on `myexistingpool` when hello following .NET code is executed, its autoscale formula is replaced with hello contents of `myNewFormula`.</span></span>

```csharp
await myBatchClient.PoolOperations.EnableAutoScaleAsync(
    "myexistingpool",
    autoscaleFormula: myNewFormula);
```

### <a name="update-hello-autoscale-interval"></a><span data-ttu-id="e949f-545">Interwał automatycznego skalowania hello aktualizacji</span><span class="sxs-lookup"><span data-stu-id="e949f-545">Update hello autoscale interval</span></span>

<span data-ttu-id="e949f-546">tooupdate hello skalowania automatycznego interwał oceny istniejącej włączona funkcja automatycznego skalowania puli, skalowanie automatyczne tooenable operacji hello wywołania ponownie, podając nowy interwał hello.</span><span class="sxs-lookup"><span data-stu-id="e949f-546">tooupdate hello autoscale evaluation interval of an existing autoscale-enabled pool, call hello operation tooenable autoscaling again with hello new interval.</span></span> <span data-ttu-id="e949f-547">Na przykład tooset hello skalowania automatycznego oceny interwał too60 minut dla puli, która jest już włączona funkcja automatycznego skalowania w .NET:</span><span class="sxs-lookup"><span data-stu-id="e949f-547">For example, tooset hello autoscale evaluation interval too60 minutes for a pool that's already autoscale-enabled in .NET:</span></span>

```csharp
await myBatchClient.PoolOperations.EnableAutoScaleAsync(
    "myexistingpool",
    autoscaleEvaluationInterval: TimeSpan.FromMinutes(60));
```

## <a name="evaluate-an-autoscale-formula"></a><span data-ttu-id="e949f-548">Ocena formułą automatycznego skalowania</span><span class="sxs-lookup"><span data-stu-id="e949f-548">Evaluate an autoscale formula</span></span>

<span data-ttu-id="e949f-549">Formuły można obliczyć przed zastosowaniem tooa puli.</span><span class="sxs-lookup"><span data-stu-id="e949f-549">You can evaluate a formula before applying it tooa pool.</span></span> <span data-ttu-id="e949f-550">W ten sposób można przetestować hello toosee formuły, jak jego instrukcje ocenić przed wprowadzeniem hello formuły w środowisku produkcyjnym.</span><span class="sxs-lookup"><span data-stu-id="e949f-550">In this way, you can test hello formula toosee how its statements evaluate before you put hello formula into production.</span></span>

<span data-ttu-id="e949f-551">tooevaluate formułą automatycznego skalowania, należy najpierw włączyć funkcję skalowania automatycznego na powitania puli z prawidłową formułę.</span><span class="sxs-lookup"><span data-stu-id="e949f-551">tooevaluate an autoscale formula, you must first enable autoscaling on hello pool with a valid formula.</span></span> <span data-ttu-id="e949f-552">włączone tootest formuły w puli, która nie ma jeszcze Skalowanie automatyczne, używają hello jednego wiersza formuły `$TargetDedicatedNodes = 0` po pierwszym włączeniu Skalowanie automatyczne.</span><span class="sxs-lookup"><span data-stu-id="e949f-552">tootest a formula on a pool that doesn't yet have autoscaling enabled, use hello one-line formula `$TargetDedicatedNodes = 0` when you first enable autoscaling.</span></span> <span data-ttu-id="e949f-553">Następnie należy użyć następującej formuły hello tooevaluate ma tootest hello:</span><span class="sxs-lookup"><span data-stu-id="e949f-553">Then, use one of hello following tooevaluate hello formula you want tootest:</span></span>

* <span data-ttu-id="e949f-554">[BatchClient.PoolOperations.EvaluateAutoScale](https://docs.microsoft.com/dotnet/api/microsoft.azure.batch.pooloperations.evaluateautoscale) lub [EvaluateAutoScaleAsync](https://docs.microsoft.com/dotnet/api/microsoft.azure.batch.pooloperations.evaluateautoscaleasync)</span><span class="sxs-lookup"><span data-stu-id="e949f-554">[BatchClient.PoolOperations.EvaluateAutoScale](https://docs.microsoft.com/dotnet/api/microsoft.azure.batch.pooloperations.evaluateautoscale) or [EvaluateAutoScaleAsync](https://docs.microsoft.com/dotnet/api/microsoft.azure.batch.pooloperations.evaluateautoscaleasync)</span></span>

    <span data-ttu-id="e949f-555">Te metody partiami platformy .NET wymagają Identyfikatora hello istniejącej puli i ciąg zawierający tooevaluate formuły hello skalowania automatycznego.</span><span class="sxs-lookup"><span data-stu-id="e949f-555">These Batch .NET methods require hello ID of an existing pool and a string containing hello autoscale formula tooevaluate.</span></span>

* [<span data-ttu-id="e949f-556">Szacowanie formuły skalowania automatycznego</span><span class="sxs-lookup"><span data-stu-id="e949f-556">Evaluate an automatic scaling formula</span></span>](https://docs.microsoft.com/rest/api/batchservice/evaluate-an-automatic-scaling-formula)

    <span data-ttu-id="e949f-557">W tym żądania interfejsu API REST, określ identyfikator puli hello w hello identyfikator URI, a hello formułą automatycznego skalowania w hello *autoScaleFormula* element hello treści żądania.</span><span class="sxs-lookup"><span data-stu-id="e949f-557">In this REST API request, specify hello pool ID in hello URI, and hello autoscale formula in hello *autoScaleFormula* element of hello request body.</span></span> <span data-ttu-id="e949f-558">odpowiedź Hello operacji hello zawiera informacje o błędzie, które mogą być powiązane toohello formuły.</span><span class="sxs-lookup"><span data-stu-id="e949f-558">hello response of hello operation contains any error information that might be related toohello formula.</span></span>

<span data-ttu-id="e949f-559">W tym [partiami platformy .NET] [ net_api] fragment kodu, możemy ocenić formułą automatycznego skalowania.</span><span class="sxs-lookup"><span data-stu-id="e949f-559">In this [Batch .NET][net_api] code snippet, we evaluate an autoscale formula.</span></span> <span data-ttu-id="e949f-560">Jeśli hello pula nie ma włączone Skalowanie automatyczne, możemy włączyć ją najpierw.</span><span class="sxs-lookup"><span data-stu-id="e949f-560">If hello pool does not have autoscaling enabled, we enable it first.</span></span>

```csharp
// First obtain a reference tooan existing pool
CloudPool pool = await batchClient.PoolOperations.GetPoolAsync("myExistingPool");

// If autoscaling isn't already enabled on hello pool, enable it.
// You can't evaluate an autoscale formula on non-autoscale-enabled pool.
if (pool.AutoScaleEnabled == false)
{
    // We need a valid autoscale formula tooenable autoscaling on the
    // pool. This formula is valid, but won't resize hello pool:
    await pool.EnableAutoScaleAsync(
        autoscaleFormula: "$TargetDedicatedNodes = {pool.CurrentDedicatedNodes};",
        autoscaleEvaluationInterval: TimeSpan.FromMinutes(5));

    // Batch limits EnableAutoScaleAsync calls tooonce every 30 seconds.
    // Because we want tooapply our new autoscale formula below if it
    // evaluates successfully, and we *just* enabled autoscaling on
    // this pool, we pause here tooensure we pass that threshold.
    Thread.Sleep(TimeSpan.FromSeconds(31));

    // Refresh hello properties of hello pool so that we've got the
    // latest value for AutoScaleEnabled
    await pool.RefreshAsync();
}

// We must ensure that autoscaling is enabled on hello pool prior to
// evaluating a formula
if (pool.AutoScaleEnabled == true)
{
    // hello formula tooevaluate - adjusts target number of nodes based on
    // day of week and time of day
    string myFormula = @"
        $curTime = time();
        $workHours = $curTime.hour >= 8 && $curTime.hour < 18;
        $isWeekday = $curTime.weekday >= 1 && $curTime.weekday <= 5;
        $isWorkingWeekdayHour = $workHours && $isWeekday;
        $TargetDedicatedNodes = $isWorkingWeekdayHour ? 20:10;
    ";

    // Perform hello autoscale formula evaluation. Note that this code does not
    // actually apply hello formula toohello pool.
    AutoScaleRun eval =
        await batchClient.PoolOperations.EvaluateAutoScaleAsync(pool.Id, myFormula);

    if (eval.Error == null)
    {
        // Evaluation success - print hello results of hello AutoScaleRun.
        // This will display hello values of each variable as evaluated by the
        // autoscale formula.
        Console.WriteLine("AutoScaleRun.Results: " +
            eval.Results.Replace("$", "\n    $"));

        // Apply hello formula toohello pool since it evaluated successfully
        await batchClient.PoolOperations.EnableAutoScaleAsync(pool.Id, myFormula);
    }
    else
    {
        // Evaluation failed, output hello message associated with hello error
        Console.WriteLine("AutoScaleRun.Error.Message: " +
            eval.Error.Message);
    }
}
```

<span data-ttu-id="e949f-561">Pomyślne obliczanie formuły hello pokazano w poniższym przykładzie tworzy wyniki podobne do:</span><span class="sxs-lookup"><span data-stu-id="e949f-561">Successful evaluation of hello formula shown in this code snippet produces results similar to:</span></span>

```
AutoScaleRun.Results:
    $TargetDedicatedNodes=10;
    $NodeDeallocationOption=requeue;
    $curTime=2016-10-13T19:18:47.805Z;
    $isWeekday=1;
    $isWorkingWeekdayHour=0;
    $workHours=0
```

## <a name="get-information-about-autoscale-runs"></a><span data-ttu-id="e949f-562">Uzyskiwanie informacji o uruchomieniu automatycznego skalowania</span><span class="sxs-lookup"><span data-stu-id="e949f-562">Get information about autoscale runs</span></span>

<span data-ttu-id="e949f-563">Oczekiwano tooensure, który wykonuje formułę jako, zalecamy okresowo sprawdzać wyniki hello hello przebiegów Skalowanie automatyczne, wykonywanych w Twojej puli partii.</span><span class="sxs-lookup"><span data-stu-id="e949f-563">tooensure that your formula is performing as expected, we recommend that you periodically check hello results of hello autoscaling runs that Batch performs on your pool.</span></span> <span data-ttu-id="e949f-564">toodo tak, Pobierz (lub Odśwież) toohello odwołanie do puli i sprawdź, czy właściwości hello funkcja automatycznego skalowania jego ostatniego uruchomienia.</span><span class="sxs-lookup"><span data-stu-id="e949f-564">toodo so, get (or refresh) a reference toohello pool, and examine hello properties of its last autoscale run.</span></span>

<span data-ttu-id="e949f-565">W partii .NET hello [CloudPool.AutoScaleRun](https://docs.microsoft.com/dotnet/api/microsoft.azure.batch.cloudpool.autoscalerun) właściwość ma kilka właściwości, które dostarczają informacji na temat hello najnowsze skalowania automatycznego uruchamiania wykonywane w puli hello:</span><span class="sxs-lookup"><span data-stu-id="e949f-565">In Batch .NET, hello [CloudPool.AutoScaleRun](https://docs.microsoft.com/dotnet/api/microsoft.azure.batch.cloudpool.autoscalerun) property has several properties that provide information about hello latest automatic scaling run performed on hello pool:</span></span>

* [<span data-ttu-id="e949f-566">AutoScaleRun.Timestamp</span><span class="sxs-lookup"><span data-stu-id="e949f-566">AutoScaleRun.Timestamp</span></span>](https://docs.microsoft.com/dotnet/api/microsoft.azure.batch.autoscalerun.timestamp)
* [<span data-ttu-id="e949f-567">AutoScaleRun.Results</span><span class="sxs-lookup"><span data-stu-id="e949f-567">AutoScaleRun.Results</span></span>](https://docs.microsoft.com/dotnet/api/microsoft.azure.batch.autoscalerun.results)
* [<span data-ttu-id="e949f-568">AutoScaleRun.Error</span><span class="sxs-lookup"><span data-stu-id="e949f-568">AutoScaleRun.Error</span></span>](https://docs.microsoft.com/dotnet/api/microsoft.azure.batch.autoscalerun.error)

<span data-ttu-id="e949f-569">W hello interfejsu API REST, hello [uzyskać informacje o puli](https://docs.microsoft.com/rest/api/batchservice/get-information-about-a-pool) żądania zwraca informacje o puli hello, która obejmuje hello najnowsze Skalowanie automatyczne uruchamianie informacji w hello [autoScaleRun](https://docs.microsoft.com/rest/api/batchservice/get-information-about-a-pool#bk_autrun) właściwości.</span><span class="sxs-lookup"><span data-stu-id="e949f-569">In hello REST API, hello [Get information about a pool](https://docs.microsoft.com/rest/api/batchservice/get-information-about-a-pool) request returns information about hello pool, which includes hello latest automatic scaling run information in hello [autoScaleRun](https://docs.microsoft.com/rest/api/batchservice/get-information-about-a-pool#bk_autrun) property.</span></span>

<span data-ttu-id="e949f-570">Hello poniższy fragment kodu C# używa hello partiami platformy .NET biblioteki tooprint informacji o ostatnich Skalowanie automatyczne hello uruchamiane na puli _myPool_:</span><span class="sxs-lookup"><span data-stu-id="e949f-570">hello following C# code snippet uses hello Batch .NET library tooprint information about hello last autoscaling run on pool _myPool_:</span></span>

```csharp
await Cloud pool = myBatchClient.PoolOperations.GetPoolAsync("myPool");
Console.WriteLine("Last execution: " + pool.AutoScaleRun.Timestamp);
Console.WriteLine("Result:" + pool.AutoScaleRun.Results.Replace("$", "\n  $"));
Console.WriteLine("Error: " + pool.AutoScaleRun.Error);
```

<span data-ttu-id="e949f-571">Przykładowe dane wyjściowe hello poprzedzających fragment kodu:</span><span class="sxs-lookup"><span data-stu-id="e949f-571">Sample output of hello preceding snippet:</span></span>

```
Last execution: 10/14/2016 18:36:43
Result:
  $TargetDedicatedNodes=10;
  $NodeDeallocationOption=requeue;
  $curTime=2016-10-14T18:36:43.282Z;
  $isWeekday=1;
  $isWorkingWeekdayHour=0;
  $workHours=0
Error:
```

## <a name="example-autoscale-formulas"></a><span data-ttu-id="e949f-572">Przykład formuły skalowania automatycznego</span><span class="sxs-lookup"><span data-stu-id="e949f-572">Example autoscale formulas</span></span>
<span data-ttu-id="e949f-573">Oto kilka formuły, które zawierają różne sposoby tooadjust hello ilość zasobów obliczeniowych w puli.</span><span class="sxs-lookup"><span data-stu-id="e949f-573">Let's look at a few formulas that show different ways tooadjust hello amount of compute resources in a pool.</span></span>

### <a name="example-1-time-based-adjustment"></a><span data-ttu-id="e949f-574">Przykład 1: Dopasowania na podstawie czasu</span><span class="sxs-lookup"><span data-stu-id="e949f-574">Example 1: Time-based adjustment</span></span>
<span data-ttu-id="e949f-575">Załóżmy, że rozmiar puli hello tooadjust na podstawie hello dzień tygodnia hello i godzinę.</span><span class="sxs-lookup"><span data-stu-id="e949f-575">Suppose you want tooadjust hello pool size based on hello day of hello week and time of day.</span></span> <span data-ttu-id="e949f-576">Ten przykład przedstawia, jak tooincrease lub zmniejszenia hello liczby węzłów w hello odpowiednio puli.</span><span class="sxs-lookup"><span data-stu-id="e949f-576">This example shows how tooincrease or decrease hello number of nodes in hello pool accordingly.</span></span>

<span data-ttu-id="e949f-577">Formuła Hello najpierw uzyskuje hello bieżącego czasu.</span><span class="sxs-lookup"><span data-stu-id="e949f-577">hello formula first obtains hello current time.</span></span> <span data-ttu-id="e949f-578">Jeśli dzień (1-5), a w godzinach pracy (too6 8 AM PM), rozmiar puli docelowej hello jest ustawienie too20 węzłów.</span><span class="sxs-lookup"><span data-stu-id="e949f-578">If it's a weekday (1-5) and within working hours (8 AM too6 PM), hello target pool size is set too20 nodes.</span></span> <span data-ttu-id="e949f-579">W przeciwnym razie ustawił too10 węzłów.</span><span class="sxs-lookup"><span data-stu-id="e949f-579">Otherwise, it's set too10 nodes.</span></span>

```
$curTime = time();
$workHours = $curTime.hour >= 8 && $curTime.hour < 18;
$isWeekday = $curTime.weekday >= 1 && $curTime.weekday <= 5;
$isWorkingWeekdayHour = $workHours && $isWeekday;
$TargetDedicatedNodes = $isWorkingWeekdayHour ? 20:10;
```

### <a name="example-2-task-based-adjustment"></a><span data-ttu-id="e949f-580">Przykład 2: Dostosowywanie opartego na zadaniach</span><span class="sxs-lookup"><span data-stu-id="e949f-580">Example 2: Task-based adjustment</span></span>
<span data-ttu-id="e949f-581">W tym przykładzie hello rozmiar puli jest określany na powitania liczba zadań w kolejce hello podstawie.</span><span class="sxs-lookup"><span data-stu-id="e949f-581">In this example, hello pool size is adjusted based on hello number of tasks in hello queue.</span></span> <span data-ttu-id="e949f-582">Zarówno podziały wierszy, jak i komentarze są dozwolone w ciągach formuły.</span><span class="sxs-lookup"><span data-stu-id="e949f-582">Both comments and line breaks are acceptable in formula strings.</span></span>

```csharp
// Get pending tasks for hello past 15 minutes.
$samples = $ActiveTasks.GetSamplePercent(TimeInterval_Minute * 15);
// If we have fewer than 70 percent data points, we use hello last sample point,
// otherwise we use hello maximum of last sample point and hello history average.
$tasks = $samples < 70 ? max(0,$ActiveTasks.GetSample(1)) : max( $ActiveTasks.GetSample(1), avg($ActiveTasks.GetSample(TimeInterval_Minute * 15)));
// If number of pending tasks is not 0, set targetVM toopending tasks, otherwise
// half of current dedicated.
$targetVMs = $tasks > 0? $tasks:max(0, $TargetDedicatedNodes/2);
// hello pool size is capped at 20, if target VM value is more than that, set it
// too20. This value should be adjusted according tooyour use case.
$TargetDedicatedNodes = max(0, min($targetVMs, 20));
// Set node deallocation mode - keep nodes active only until tasks finish
$NodeDeallocationOption = taskcompletion;
```

### <a name="example-3-accounting-for-parallel-tasks"></a><span data-ttu-id="e949f-583">Przykład 3: Uwzględniająca zadań równoległych</span><span class="sxs-lookup"><span data-stu-id="e949f-583">Example 3: Accounting for parallel tasks</span></span>
<span data-ttu-id="e949f-584">W tym przykładzie dopasowuje hello rozmiaru puli na podstawie hello liczby zadań.</span><span class="sxs-lookup"><span data-stu-id="e949f-584">This example adjusts hello pool size based on hello number of tasks.</span></span> <span data-ttu-id="e949f-585">W tej formule również uwzględnia hello konta [MaxTasksPerComputeNode] [ net_maxtasks] wartość, która została ustawiona na powitania puli.</span><span class="sxs-lookup"><span data-stu-id="e949f-585">This formula also takes into account hello [MaxTasksPerComputeNode][net_maxtasks] value that has been set for hello pool.</span></span> <span data-ttu-id="e949f-586">Takie rozwiązanie jest przydatne w sytuacjach, w którym [równoległe wykonywanie zadań](batch-parallel-node-tasks.md) został włączony na pulę.</span><span class="sxs-lookup"><span data-stu-id="e949f-586">This approach is useful in situations where [parallel task execution](batch-parallel-node-tasks.md) has been enabled on your pool.</span></span>

```csharp
// Determine whether 70 percent of hello samples have been recorded in hello past
// 15 minutes; if not, use last sample
$samples = $ActiveTasks.GetSamplePercent(TimeInterval_Minute * 15);
$tasks = $samples < 70 ? max(0,$ActiveTasks.GetSample(1)) : max( $ActiveTasks.GetSample(1),avg($ActiveTasks.GetSample(TimeInterval_Minute * 15)));
// Set hello number of nodes tooadd tooone-fourth hello number of active tasks (the
// MaxTasksPerComputeNode property on this pool is set too4, adjust this number
// for your use case)
$cores = $TargetDedicatedNodes * 4;
$extraVMs = (($tasks - $cores) + 3) / 4;
$targetVMs = ($TargetDedicatedNodes + $extraVMs);
// Attempt toogrow hello number of compute nodes toomatch hello number of active
// tasks, with a maximum of 3
$TargetDedicatedNodes = max(0,min($targetVMs,3));
// Keep hello nodes active until hello tasks finish
$NodeDeallocationOption = taskcompletion;
```

### <a name="example-4-setting-an-initial-pool-size"></a><span data-ttu-id="e949f-587">Przykład 4: Ustawienie rozmiaru puli początkowej</span><span class="sxs-lookup"><span data-stu-id="e949f-587">Example 4: Setting an initial pool size</span></span>
<span data-ttu-id="e949f-588">W przykładzie pokazano C# fragment formułą automatycznego skalowania, która ustawia kodu hello tooa rozmiar puli określoną liczbę węzłów dla początkowego okresu.</span><span class="sxs-lookup"><span data-stu-id="e949f-588">This example shows a C# code snippet with an autoscale formula that sets hello pool size tooa specified number of nodes for an initial time period.</span></span> <span data-ttu-id="e949f-589">Następnie można dostosować hello rozmiaru puli na podstawie liczby hello uruchomiona i aktywne zadania po hello początkowy okres czasu upłynął.</span><span class="sxs-lookup"><span data-stu-id="e949f-589">Then it adjusts hello pool size based on hello number of running and active tasks after hello initial time period has elapsed.</span></span>

<span data-ttu-id="e949f-590">Formuła Hello w hello następującego fragmentu kodu:</span><span class="sxs-lookup"><span data-stu-id="e949f-590">hello formula in hello following code snippet:</span></span>

* <span data-ttu-id="e949f-591">Ustawia hello pulę początkowy rozmiar toofour węzłów.</span><span class="sxs-lookup"><span data-stu-id="e949f-591">Sets hello initial pool size toofour nodes.</span></span>
* <span data-ttu-id="e949f-592">Nie Dostosuj hello rozmiaru puli na powitania życia puli hello 10 minut.</span><span class="sxs-lookup"><span data-stu-id="e949f-592">Does not adjust hello pool size within hello first 10 minutes of hello pool's lifecycle.</span></span>
* <span data-ttu-id="e949f-593">Po 10 minutach uzyskuje hello maksymalną wartość hello liczba uruchomiona i aktywne zadania w ramach hello ostatnich 60 minut.</span><span class="sxs-lookup"><span data-stu-id="e949f-593">After 10 minutes, obtains hello max value of hello number of running and active tasks within hello past 60 minutes.</span></span>
  * <span data-ttu-id="e949f-594">Jeśli obie wartości są równe 0 (co oznacza, że żadne zadania zostały uruchomione lub aktywne w hello ostatnich 60 minut), rozmiar puli hello wynosi too0.</span><span class="sxs-lookup"><span data-stu-id="e949f-594">If both values are 0 (indicating that no tasks were running or active in hello last 60 minutes), hello pool size is set too0.</span></span>
  * <span data-ttu-id="e949f-595">Jeśli każda wartość jest większa niż zero, są wprowadzane żadne zmiany.</span><span class="sxs-lookup"><span data-stu-id="e949f-595">If either value is greater than zero, no change is made.</span></span>

```csharp
string now = DateTime.UtcNow.ToString("r");
string formula = string.Format(@"
    $TargetDedicatedNodes = {1};
    lifespan         = time() - time(""{0}"");
    span             = TimeInterval_Minute * 60;
    startup          = TimeInterval_Minute * 10;
    ratio            = 50;

    $TargetDedicatedNodes = (lifespan > startup ? (max($RunningTasks.GetSample(span, ratio), $ActiveTasks.GetSample(span, ratio)) == 0 ? 0 : $TargetDedicatedNodes) : {1});
    ", now, 4);
```

## <a name="next-steps"></a><span data-ttu-id="e949f-596">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="e949f-596">Next steps</span></span>
* <span data-ttu-id="e949f-597">[Maksymalizowanie użycia zasobów obliczeniowych partii zadań Azure z węzła równoczesnych zadań](batch-parallel-node-tasks.md) zawiera szczegółowe informacje dotyczące sposobu można wykonywać wielu zadań jednocześnie na powitania węzłów obliczeniowych w puli.</span><span class="sxs-lookup"><span data-stu-id="e949f-597">[Maximize Azure Batch compute resource usage with concurrent node tasks](batch-parallel-node-tasks.md) contains details about how you can execute multiple tasks simultaneously on hello compute nodes in your pool.</span></span> <span data-ttu-id="e949f-598">Ponadto tooautoscaling, ta funkcja może ułatwić czas trwania zadania toolower dla niektórych obciążeń, co pozwala zaoszczędzić pieniądze.</span><span class="sxs-lookup"><span data-stu-id="e949f-598">In addition tooautoscaling, this feature may help toolower job duration for some workloads, saving you money.</span></span>
* <span data-ttu-id="e949f-599">Dla innego wydajności zestawu wspomagającego upewnij się, że partii zapytań aplikacji hello usługa partia zadań w hello większości optymalny sposób.</span><span class="sxs-lookup"><span data-stu-id="e949f-599">For another efficiency booster, ensure that your Batch application queries hello Batch service in hello most optimal way.</span></span> <span data-ttu-id="e949f-600">Zobacz [wydajnie zapytania usługi partia zadań Azure hello](batch-efficient-list-queries.md) toolearn jak toolimit hello ilość danych w przewodowy hello kwerendy stanu hello potencjalnie tysięcy obliczeniowe węzły lub zadania.</span><span class="sxs-lookup"><span data-stu-id="e949f-600">See [Query hello Azure Batch service efficiently](batch-efficient-list-queries.md) toolearn how toolimit hello amount of data that crosses hello wire when you query hello status of potentially thousands of compute nodes or tasks.</span></span>

[net_api]: https://docs.microsoft.com/dotnet/api/microsoft.azure.batch
[net_batchclient]: https://docs.microsoft.com/dotnet/api/microsoft.azure.batch.batchclient
[net_cloudpool_autoscaleformula]: https://docs.microsoft.com/dotnet/api/microsoft.azure.batch.cloudpool.autoscaleformula
[net_cloudpool_autoscaleevalinterval]: https://docs.microsoft.com/dotnet/api/microsoft.azure.batch.cloudpool.autoscaleevaluationinterval
[net_enableautoscaleasync]: https://docs.microsoft.com/dotnet/api/microsoft.azure.batch.pooloperations.enableautoscaleasync
[net_maxtasks]: https://docs.microsoft.com/dotnet/api/microsoft.azure.batch.cloudpool.maxtaskspercomputenode
[net_poolops_resizepoolasync]: https://docs.microsoft.com/dotnet/api/microsoft.azure.batch.pooloperations.resizepoolasync

[rest_api]: https://docs.microsoft.com/rest/api/batchservice/
[rest_autoscaleformula]: https://docs.microsoft.com/rest/api/batchservice/enable-automatic-scaling-on-a-pool
[rest_autoscaleinterval]: https://docs.microsoft.com/rest/api/batchservice/enable-automatic-scaling-on-a-pool
[rest_enableautoscale]: https://docs.microsoft.com/rest/api/batchservice/enable-automatic-scaling-on-a-pool
