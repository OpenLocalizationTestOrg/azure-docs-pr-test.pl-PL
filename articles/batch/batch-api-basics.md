---
title: "aaaOverview partii zadań Azure dla deweloperów | Dokumentacja firmy Microsoft"
description: "Dowiedz się więcej funkcji hello hello usługa partia zadań i jej interfejsów API z punktu widzenia rozwoju."
services: batch
documentationcenter: .net
author: tamram
manager: timlt
editor: 
ms.assetid: 416b95f8-2d7b-4111-8012-679b0f60d204
ms.service: batch
ms.devlang: multiple
ms.topic: get-started-article
ms.tgt_pltfrm: na
ms.workload: big-compute
ms.date: 06/28/2017
ms.author: tamram
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: 3da9d82572b28d05d1923166bd08c26725ca3316
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="develop-large-scale-parallel-compute-solutions-with-batch"></a><span data-ttu-id="5d38c-103">Tworzenie rozbudowanych rozwiązań przetwarzania równoległego przy użyciu usługi Batch</span><span class="sxs-lookup"><span data-stu-id="5d38c-103">Develop large-scale parallel compute solutions with Batch</span></span>

<span data-ttu-id="5d38c-104">W tym omówieniu hello podstawowe składniki usługi partia zadań Azure hello omówiono funkcje podstawowa usługa hello i że partii deweloperzy mogą używać równolegle na dużą skalę toobuild zasoby obliczeniowe rozwiązania.</span><span class="sxs-lookup"><span data-stu-id="5d38c-104">In this overview of hello core components of hello Azure Batch service, we discuss hello primary service features and resources that Batch developers can use toobuild large-scale parallel compute solutions.</span></span>

<span data-ttu-id="5d38c-105">Czy tworzony jest aplikacja rozproszona obliczeniową lub usługi, która wystawia bezpośredniego [interfejsu API REST] [ batch_rest_api] wywołania lub korzystania z jednego z hello [wsadowego zestawów SDK](batch-apis-tools.md#azure-accounts-for-batch-development), użyjesz wiele zasobów hello i funkcje omówione w tym artykule.</span><span class="sxs-lookup"><span data-stu-id="5d38c-105">Whether you're developing a distributed computational application or service that issues direct [REST API][batch_rest_api] calls or you're using one of hello [Batch SDKs](batch-apis-tools.md#azure-accounts-for-batch-development), you'll use many of hello resources and features discussed in this article.</span></span>

> [!TIP]
> <span data-ttu-id="5d38c-106">Dla wyższego poziomu wprowadzenie toohello usługa partia zadań, zobacz [podstawy Azure partii](batch-technical-overview.md).</span><span class="sxs-lookup"><span data-stu-id="5d38c-106">For a higher-level introduction toohello Batch service, see [Basics of Azure Batch](batch-technical-overview.md).</span></span>
>
>

## <a name="batch-service-workflow"></a><span data-ttu-id="5d38c-107">Przepływ pracy usługi Batch</span><span class="sxs-lookup"><span data-stu-id="5d38c-107">Batch service workflow</span></span>
<span data-ttu-id="5d38c-108">Witaj poniższy ogólny przepływ pracy jest typowe dla prawie wszystkich aplikacji i usług korzystających z usługi partia zadań hello przetwarzania równoległego obciążeń:</span><span class="sxs-lookup"><span data-stu-id="5d38c-108">hello following high-level workflow is typical of nearly all applications and services that use hello Batch service for processing parallel workloads:</span></span>

1. <span data-ttu-id="5d38c-109">Przekaż hello **pliki danych** , które mają tooprocess tooan [usługi Azure Storage] [ azure_storage] konta.</span><span class="sxs-lookup"><span data-stu-id="5d38c-109">Upload hello **data files** that you want tooprocess tooan [Azure Storage][azure_storage] account.</span></span> <span data-ttu-id="5d38c-110">Wsadowe ma wbudowaną funkcję obsługi do uzyskiwania dostępu do magazynu obiektów Blob platformy Azure i zadań można takie pliki należy pobierać za[węzły obliczeniowe](#compute-node) uruchamiania zadań hello.</span><span class="sxs-lookup"><span data-stu-id="5d38c-110">Batch includes built-in support for accessing Azure Blob storage, and your tasks can download these files too[compute nodes](#compute-node) when hello tasks are run.</span></span>
2. <span data-ttu-id="5d38c-111">Przekaż hello **pliki aplikacji** uruchomienia zadania.</span><span class="sxs-lookup"><span data-stu-id="5d38c-111">Upload hello **application files** that your tasks will run.</span></span> <span data-ttu-id="5d38c-112">Te pliki mogą być pliki binarne lub skryptów oraz ich zależności i są wykonywane przez zadania hello w zadaniach.</span><span class="sxs-lookup"><span data-stu-id="5d38c-112">These files can be binaries or scripts and their dependencies, and are executed by hello tasks in your jobs.</span></span> <span data-ttu-id="5d38c-113">Zadania mogą pobrać pliki z konta magazynu lub skorzystać z hello [pakietów aplikacji](#application-packages) funkcji partii Zarządzanie aplikacjami i wdrażania.</span><span class="sxs-lookup"><span data-stu-id="5d38c-113">Your tasks can download these files from your Storage account, or you can use hello [application packages](#application-packages) feature of Batch for application management and deployment.</span></span>
3. <span data-ttu-id="5d38c-114">Utwórz [pulę](#pool) węzłów obliczeniowych.</span><span class="sxs-lookup"><span data-stu-id="5d38c-114">Create a [pool](#pool) of compute nodes.</span></span> <span data-ttu-id="5d38c-115">Po utworzeniu puli można określić numer hello węzłów obliczeniowych w puli hello, rozmiar i hello systemu operacyjnego.</span><span class="sxs-lookup"><span data-stu-id="5d38c-115">When you create a pool, you specify hello number of compute nodes for hello pool, their size, and hello operating system.</span></span> <span data-ttu-id="5d38c-116">Po uruchomieniu każdego zadania, w którym zadanie jest przypisany tooexecute w jednym z węzłów hello w puli.</span><span class="sxs-lookup"><span data-stu-id="5d38c-116">When each task in your job runs, it's assigned tooexecute on one of hello nodes in your pool.</span></span>
4. <span data-ttu-id="5d38c-117">Utwórz [zadanie](#job).</span><span class="sxs-lookup"><span data-stu-id="5d38c-117">Create a [job](#job).</span></span> <span data-ttu-id="5d38c-118">Zadanie umożliwia zarządzanie kolekcją zadań podrzędnych.</span><span class="sxs-lookup"><span data-stu-id="5d38c-118">A job manages a collection of tasks.</span></span> <span data-ttu-id="5d38c-119">Możesz skojarzyć poszczególnych zadania tooa określonych pul którym to zadanie zadania będą uruchamiane.</span><span class="sxs-lookup"><span data-stu-id="5d38c-119">You associate each job tooa specific pool where that job's tasks will run.</span></span>
5. <span data-ttu-id="5d38c-120">Dodaj [zadania](#task) toohello zadania.</span><span class="sxs-lookup"><span data-stu-id="5d38c-120">Add [tasks](#task) toohello job.</span></span> <span data-ttu-id="5d38c-121">Każde zadanie uruchamia aplikacji hello lub skrypt, który został przekazany tooprocess hello danych plików, które pobiera z konta magazynu.</span><span class="sxs-lookup"><span data-stu-id="5d38c-121">Each task runs hello application or script that you uploaded tooprocess hello data files it downloads from your Storage account.</span></span> <span data-ttu-id="5d38c-122">Jak każdego zadania zakończeniu go przekazać tooAzure jego dane wyjściowe magazynu.</span><span class="sxs-lookup"><span data-stu-id="5d38c-122">As each task completes, it can upload its output tooAzure Storage.</span></span>
6. <span data-ttu-id="5d38c-123">Monitorowanie postępu zadania i pobrać dane wyjściowe zadania hello z usługi Magazyn Azure.</span><span class="sxs-lookup"><span data-stu-id="5d38c-123">Monitor job progress and retrieve hello task output from Azure Storage.</span></span>

<span data-ttu-id="5d38c-124">Witaj poniższe sekcje omówienia i hello inne zasoby partii, umożliwiających rozproszonej scenariusz obliczeniową.</span><span class="sxs-lookup"><span data-stu-id="5d38c-124">hello following sections discuss these and hello other resources of Batch that enable your distributed computational scenario.</span></span>

> [!NOTE]
> <span data-ttu-id="5d38c-125">Należy [konto wsadowe](#account) hello toouse usługa partia zadań.</span><span class="sxs-lookup"><span data-stu-id="5d38c-125">You need a [Batch account](#account) toouse hello Batch service.</span></span> <span data-ttu-id="5d38c-126">W wielu rozwiązaniach do przechowywania i pobierania plików jest używane konto usługi [Azure Storage][azure_storage].</span><span class="sxs-lookup"><span data-stu-id="5d38c-126">Most Batch solutions also use an [Azure Storage][azure_storage] account for file storage and retrieval.</span></span> <span data-ttu-id="5d38c-127">Wsadowe aktualnie obsługuje tylko hello **ogólnego przeznaczenia** typu konta magazynu, zgodnie z opisem w kroku 5 [Utwórz konto magazynu](../storage/common/storage-create-storage-account.md#create-a-storage-account) w [kont magazynu Azure o](../storage/common/storage-create-storage-account.md).</span><span class="sxs-lookup"><span data-stu-id="5d38c-127">Batch currently supports only hello **general-purpose** storage account type, as described in step 5 of [Create a storage account](../storage/common/storage-create-storage-account.md#create-a-storage-account) in [About Azure storage accounts](../storage/common/storage-create-storage-account.md).</span></span>
>
>

## <a name="batch-service-resources"></a><span data-ttu-id="5d38c-128">Zasoby usługi Batch</span><span class="sxs-lookup"><span data-stu-id="5d38c-128">Batch service resources</span></span>
<span data-ttu-id="5d38c-129">Niektóre hello następujących zasobów — kont, obliczeń węzłów, pule, zadań i zadań — są wymagane przez wszystkie rozwiązania korzystające hello usługa partia zadań.</span><span class="sxs-lookup"><span data-stu-id="5d38c-129">Some of hello following resources--accounts, compute nodes, pools, jobs, and tasks--are required by all solutions that use hello Batch service.</span></span> <span data-ttu-id="5d38c-130">Inne, takie jak harmonogramy zadań i pakiety aplikacji, to funkcje przydatne, ale opcjonalne.</span><span class="sxs-lookup"><span data-stu-id="5d38c-130">Others, like job schedules and application packages, are helpful, but optional, features.</span></span>

* [<span data-ttu-id="5d38c-131">Konto</span><span class="sxs-lookup"><span data-stu-id="5d38c-131">Account</span></span>](#account)
* [<span data-ttu-id="5d38c-132">Węzeł obliczeniowy</span><span class="sxs-lookup"><span data-stu-id="5d38c-132">Compute node</span></span>](#compute-node)
* [<span data-ttu-id="5d38c-133">Pula</span><span class="sxs-lookup"><span data-stu-id="5d38c-133">Pool</span></span>](#pool)
* [<span data-ttu-id="5d38c-134">Zadanie</span><span class="sxs-lookup"><span data-stu-id="5d38c-134">Job</span></span>](#job)

  * [<span data-ttu-id="5d38c-135">Harmonogramy zadań</span><span class="sxs-lookup"><span data-stu-id="5d38c-135">Job schedules</span></span>](#scheduled-jobs)
* [<span data-ttu-id="5d38c-136">Zadanie podrzędne</span><span class="sxs-lookup"><span data-stu-id="5d38c-136">Task</span></span>](#task)

  * [<span data-ttu-id="5d38c-137">Zadanie podrzędne uruchamiania</span><span class="sxs-lookup"><span data-stu-id="5d38c-137">Start task</span></span>](#start-task)
  * [<span data-ttu-id="5d38c-138">Zadanie podrzędne Menedżera zadań</span><span class="sxs-lookup"><span data-stu-id="5d38c-138">Job manager task</span></span>](#job-manager-task)
  * [<span data-ttu-id="5d38c-139">Zadania podrzędne przygotowania i zwolnienia zadań</span><span class="sxs-lookup"><span data-stu-id="5d38c-139">Job preparation and release tasks</span></span>](#job-preparation-and-release-tasks)
  * [<span data-ttu-id="5d38c-140">Zadanie podrzędne obejmujące wiele wystąpień (MPI)</span><span class="sxs-lookup"><span data-stu-id="5d38c-140">Multi-instance task (MPI)</span></span>](#multi-instance-tasks)
  * [<span data-ttu-id="5d38c-141">Zależności zadań podrzędnych</span><span class="sxs-lookup"><span data-stu-id="5d38c-141">Task dependencies</span></span>](#task-dependencies)
* [<span data-ttu-id="5d38c-142">Pakiety aplikacji</span><span class="sxs-lookup"><span data-stu-id="5d38c-142">Application packages</span></span>](#application-packages)

## <a name="account"></a><span data-ttu-id="5d38c-143">Konto</span><span class="sxs-lookup"><span data-stu-id="5d38c-143">Account</span></span>
<span data-ttu-id="5d38c-144">Konto usługi partia zadań jest jednostką jednoznacznie zdefiniowane w ramach hello usługa partia zadań.</span><span class="sxs-lookup"><span data-stu-id="5d38c-144">A Batch account is a uniquely identified entity within hello Batch service.</span></span> <span data-ttu-id="5d38c-145">Całe przetwarzanie jest skojarzone z kontem usługi Batch.</span><span class="sxs-lookup"><span data-stu-id="5d38c-145">All processing is associated with a Batch account.</span></span>

<span data-ttu-id="5d38c-146">Możesz utworzyć konto partii zadań Azure za pomocą hello [portalu Azure](batch-account-create-portal.md) lub programowo, takich jak z hello [biblioteki zarządzania partiami platformy .NET](batch-management-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="5d38c-146">You can create an Azure Batch account using hello [Azure portal](batch-account-create-portal.md) or programmatically, such as with hello [Batch Management .NET library](batch-management-dotnet.md).</span></span> <span data-ttu-id="5d38c-147">Podczas tworzenia konta hello, można skojarzyć konto magazynu platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="5d38c-147">When creating hello account, you can associate an Azure storage account.</span></span>

### <a name="pool-allocation-mode"></a><span data-ttu-id="5d38c-148">Tryb alokacji puli</span><span class="sxs-lookup"><span data-stu-id="5d38c-148">Pool allocation mode</span></span>

<span data-ttu-id="5d38c-149">Podczas tworzenia konta usługi Batch można określić sposób przydzielania [pul](#pool) węzłów obliczeniowych.</span><span class="sxs-lookup"><span data-stu-id="5d38c-149">When you create a Batch account, you can specify how [pools](#pool) of compute nodes are allocated.</span></span> <span data-ttu-id="5d38c-150">Można wybrać pule tooallocate węzłów obliczeniowych w ramach subskrypcji, zarządza partii zadań Azure lub można je było przydzielić w ramach własnej subskrypcji.</span><span class="sxs-lookup"><span data-stu-id="5d38c-150">You can choose tooallocate pools of compute nodes in a subscription managed by Azure Batch, or you can allocate them in your own subscription.</span></span> <span data-ttu-id="5d38c-151">Witaj *Tryb alokacji puli* właściwość dla konta hello Określa, której pule są przydzielone.</span><span class="sxs-lookup"><span data-stu-id="5d38c-151">hello *pool allocation mode* property for hello account determines where pools are allocated.</span></span> 

<span data-ttu-id="5d38c-152">toodecide, który puli toouse Tryb alokacji, weź pod uwagę, która najlepiej pasuje do danego scenariusza:</span><span class="sxs-lookup"><span data-stu-id="5d38c-152">toodecide which pool allocation mode toouse, consider which best fits your scenario:</span></span>

* <span data-ttu-id="5d38c-153">**Usługa partii**: Usługa partia zadań jest hello domyślnej puli alokacji tryb, przydzielania pule tle hello w subskrypcjach zarządzane Azure.</span><span class="sxs-lookup"><span data-stu-id="5d38c-153">**Batch Service**: Batch Service is hello default pool allocation mode, in which pools are allocated behind hello scenes in Azure-managed subscriptions.</span></span> <span data-ttu-id="5d38c-154">Należy pamiętać, te najważniejsze informacje o trybie alokacji puli usługi partia zadań hello:</span><span class="sxs-lookup"><span data-stu-id="5d38c-154">Keep in mind these key points about hello Batch Service pool allocation mode:</span></span>

    - <span data-ttu-id="5d38c-155">Tryb alokacji puli usługi partia zadań Hello obsługuje pule maszyn wirtualnych i usługi w chmurze.</span><span class="sxs-lookup"><span data-stu-id="5d38c-155">hello Batch Service pool allocation mode supports both Cloud Service and Virtual Machine pools.</span></span>
    - <span data-ttu-id="5d38c-156">Witaj Tryb alokacji puli usługi partia zadań obsługuje zarówno uwierzytelniania klucza współużytkowanego lub [uwierzytelniania usługi Azure Active Directory](batch-aad-auth.md) (Azure AD).</span><span class="sxs-lookup"><span data-stu-id="5d38c-156">hello Batch Service pool allocation mode supports both shared key authentication or [Azure Active Directory authentication](batch-aad-auth.md) (Azure AD).</span></span> 
    - <span data-ttu-id="5d38c-157">Można użyć obu węzłów obliczeniowych dedykowanej lub niskim priorytecie w pulach przydzielone z trybem przydziału puli usługi partia zadań hello.</span><span class="sxs-lookup"><span data-stu-id="5d38c-157">You can use either dedicated or low-priority compute nodes in pools allocated with hello Batch Service pool allocation mode.</span></span>
    - <span data-ttu-id="5d38c-158">Tryb alokacji puli usługi partia zadań hello nie należy używać, jeśli planujesz toocreate pule maszyny wirtualnej platformy Azure z niestandardowych obrazów maszyn wirtualnych lub jeśli planujesz toouse sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="5d38c-158">Do not use hello Batch Service pool allocation mode if you plan toocreate Azure virtual machine pools from custom VM images, or if you plan toouse a virtual network.</span></span> <span data-ttu-id="5d38c-159">Zamiast tego utworzyć konta z trybem przydziału puli subskrypcji użytkownika hello.</span><span class="sxs-lookup"><span data-stu-id="5d38c-159">Create your account with hello User Subscription pool allocation mode instead.</span></span>
    - <span data-ttu-id="5d38c-160">Zainicjowano obsługę administracyjną konta tworzone z trybem przydziału puli usługi partia zadań hello pule maszyny wirtualnej musi zostać utworzony z [Marketplace maszyny wirtualne Azure] [ vm_marketplace] obrazów.</span><span class="sxs-lookup"><span data-stu-id="5d38c-160">Virtual Machine pools provisioned in an account created with hello Batch Service pool allocation mode must be created from [Azure Virtual Machines Marketplace][vm_marketplace] images.</span></span>

* <span data-ttu-id="5d38c-161">**Subskrypcji użytkownika**: Z trybem przydziału puli subskrypcji użytkownika hello, partii pule są przydzielane w hello subskrypcji platformy Azure, w którym hello konto jest tworzone.</span><span class="sxs-lookup"><span data-stu-id="5d38c-161">**User subscription**: With hello User Subscription pool allocation mode, Batch pools are allocated in hello Azure subscription where hello account is created.</span></span> <span data-ttu-id="5d38c-162">Należy pamiętać, te najważniejsze informacje o trybie alokacji puli subskrypcji użytkownika hello:</span><span class="sxs-lookup"><span data-stu-id="5d38c-162">Keep in mind these key points about hello User Subscription pool allocation mode:</span></span>
     
    - <span data-ttu-id="5d38c-163">Tryb alokacji puli subskrypcji użytkownika Hello obsługuje tylko pule maszyny wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="5d38c-163">hello User Subscription pool allocation mode supports only Virtual Machine pools.</span></span> <span data-ttu-id="5d38c-164">Nie obsługuje ona pul usług w chmurze.</span><span class="sxs-lookup"><span data-stu-id="5d38c-164">It does not support Cloud Services pools.</span></span>
    - <span data-ttu-id="5d38c-165">toocreate maszyny wirtualnej pulę z niestandardowych obrazów maszyn wirtualnych lub toouse sieć wirtualną przy użyciu pul maszyny wirtualnej, należy użyć trybu alokacji puli subskrypcji użytkownika hello.</span><span class="sxs-lookup"><span data-stu-id="5d38c-165">toocreate Virtual Machine pools from custom VM images or toouse a virtual network with Virtual Machine pools, you must use hello User Subscription pool allocation mode.</span></span>  
    - <span data-ttu-id="5d38c-166">Należy użyć [uwierzytelniania usługi Azure Active Directory](batch-aad-auth.md) przy użyciu pul przydzielonych w subskrypcji użytkownika hello.</span><span class="sxs-lookup"><span data-stu-id="5d38c-166">You must use [Azure Active Directory authentication](batch-aad-auth.md) with pools that are allocated in hello user subscription.</span></span> 
    - <span data-ttu-id="5d38c-167">Należy skonfigurować usługi Azure key vault dla Twojego konta usługi partia zadań, jeśli ustawiono tryb alokacji puli hello tooUser subskrypcji.</span><span class="sxs-lookup"><span data-stu-id="5d38c-167">You must set up an Azure key vault for your Batch account if hello pool allocation mode is set tooUser Subscription.</span></span> 
    - <span data-ttu-id="5d38c-168">Węzły obliczeniowe tylko dedykowanych można użyć w pulach w konto utworzone w trybie alokacji puli subskrypcji użytkownika hello.</span><span class="sxs-lookup"><span data-stu-id="5d38c-168">You can use only dedicated compute nodes in pools in an account created with hello User Subscription pool allocation mode.</span></span> <span data-ttu-id="5d38c-169">Węzły o niskim priorytecie nie są obsługiwane.</span><span class="sxs-lookup"><span data-stu-id="5d38c-169">Low-priority nodes are not supported.</span></span>
    - <span data-ttu-id="5d38c-170">Zainicjowano obsługę administracyjną konta z trybem przydziału puli subskrypcji użytkownika hello pule maszyny wirtualnej można tworzyć z [Marketplace maszyny wirtualne Azure] [ vm_marketplace] obrazy lub z niestandardowych obrazów, które Podaj.</span><span class="sxs-lookup"><span data-stu-id="5d38c-170">Virtual Machine pools provisioned in an account with hello User Subscription pool allocation mode can be created either from [Azure Virtual Machines Marketplace][vm_marketplace] images, or from custom images that you provide.</span></span>

<span data-ttu-id="5d38c-171">Witaj w poniższej tabeli porównano hello usługa partia zadań i subskrypcji użytkownika puli alokacji tryby.</span><span class="sxs-lookup"><span data-stu-id="5d38c-171">hello following table compares hello Batch Service and User Subscription pool allocation modes.</span></span>

| <span data-ttu-id="5d38c-172">**Tryb alokacji puli**</span><span class="sxs-lookup"><span data-stu-id="5d38c-172">**Pool allocation mode**</span></span>                 | <span data-ttu-id="5d38c-173">**Usługa Batch**</span><span class="sxs-lookup"><span data-stu-id="5d38c-173">**Batch Service**</span></span>                                                                                       | <span data-ttu-id="5d38c-174">**Subskrypcja użytkownika**</span><span class="sxs-lookup"><span data-stu-id="5d38c-174">**User Subscription**</span></span>                                                              |
|-------------------------------------------|---------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------|
| <span data-ttu-id="5d38c-175">**Lokalizacja przydzielania puli**</span><span class="sxs-lookup"><span data-stu-id="5d38c-175">**Pools are allocated in**</span></span>               | <span data-ttu-id="5d38c-176">Subskrypcja zarządzana przez platformę Azure</span><span class="sxs-lookup"><span data-stu-id="5d38c-176">An Azure-managed subscription</span></span>                                                                           | <span data-ttu-id="5d38c-177">Hello użytkownika subskrypcji, w których hello partii konto jest tworzone</span><span class="sxs-lookup"><span data-stu-id="5d38c-177">hello user subscription in which hello Batch account is created</span></span>                        |
| <span data-ttu-id="5d38c-178">**Obsługiwane konfiguracje**</span><span class="sxs-lookup"><span data-stu-id="5d38c-178">**Supported configurations**</span></span>             | <ul><li><span data-ttu-id="5d38c-179">Konfiguracja usługi w chmurze</span><span class="sxs-lookup"><span data-stu-id="5d38c-179">Cloud Service Configuration</span></span></li><li><span data-ttu-id="5d38c-180">Konfiguracja maszyny wirtualnej (Linux i Windows)</span><span class="sxs-lookup"><span data-stu-id="5d38c-180">Virtual Machine Configuration (Linux and Windows)</span></span></li></ul> | <ul><li><span data-ttu-id="5d38c-181">Konfiguracja maszyny wirtualnej (Linux i Windows)</span><span class="sxs-lookup"><span data-stu-id="5d38c-181">Virtual Machine Configuration (Linux and Windows)</span></span></li></ul>                |
| <span data-ttu-id="5d38c-182">**Obsługiwane obrazy maszyn wirtualnych**</span><span class="sxs-lookup"><span data-stu-id="5d38c-182">**Supported VM images**</span></span>                  | <ul><li><span data-ttu-id="5d38c-183">Obrazy z witryny Azure Marketplace</span><span class="sxs-lookup"><span data-stu-id="5d38c-183">Azure Marketplace images</span></span></li></ul>                                                              | <ul><li><span data-ttu-id="5d38c-184">Obrazy z witryny Azure Marketplace</span><span class="sxs-lookup"><span data-stu-id="5d38c-184">Azure Marketplace images</span></span></li><li><span data-ttu-id="5d38c-185">Obrazy niestandardowe</span><span class="sxs-lookup"><span data-stu-id="5d38c-185">Custom images</span></span></li></ul>                   |
| <span data-ttu-id="5d38c-186">**Obsługiwane typy węzłów obliczeniowych**</span><span class="sxs-lookup"><span data-stu-id="5d38c-186">**Supported compute node types**</span></span>         | <ul><li><span data-ttu-id="5d38c-187">Węzły dedykowane</span><span class="sxs-lookup"><span data-stu-id="5d38c-187">Dedicated nodes</span></span></li><li><span data-ttu-id="5d38c-188">Węzły o niskim priorytecie</span><span class="sxs-lookup"><span data-stu-id="5d38c-188">Low-priority nodes</span></span></li></ul>                                            | <ul><li><span data-ttu-id="5d38c-189">Węzły dedykowane</span><span class="sxs-lookup"><span data-stu-id="5d38c-189">Dedicated nodes</span></span></li></ul>                                                  |
| <span data-ttu-id="5d38c-190">**Obsługiwane uwierzytelnianie**</span><span class="sxs-lookup"><span data-stu-id="5d38c-190">**Supported authentication**</span></span>             | <ul><li><span data-ttu-id="5d38c-191">Klucz wspólny</span><span class="sxs-lookup"><span data-stu-id="5d38c-191">Shared Key</span></span></li><li><span data-ttu-id="5d38c-192">Azure AD</span><span class="sxs-lookup"><span data-stu-id="5d38c-192">Azure AD</span></span></li></ul>                                                           | <ul><li><span data-ttu-id="5d38c-193">Azure AD</span><span class="sxs-lookup"><span data-stu-id="5d38c-193">Azure AD</span></span></li></ul>                                                         |
| <span data-ttu-id="5d38c-194">**Magazyn Azure Key Vault jest wymagany**</span><span class="sxs-lookup"><span data-stu-id="5d38c-194">**Azure Key Vault required**</span></span>             | <span data-ttu-id="5d38c-195">Nie</span><span class="sxs-lookup"><span data-stu-id="5d38c-195">No</span></span>                                                                                                      | <span data-ttu-id="5d38c-196">Tak</span><span class="sxs-lookup"><span data-stu-id="5d38c-196">Yes</span></span>                                                                                |
| <span data-ttu-id="5d38c-197">**Limit przydziału rdzeni**</span><span class="sxs-lookup"><span data-stu-id="5d38c-197">**Core quota**</span></span>                           | <span data-ttu-id="5d38c-198">Ustalany zgodnie z limitem przydziału rdzeni usługi Batch</span><span class="sxs-lookup"><span data-stu-id="5d38c-198">Determined by Batch core quota</span></span>                                                                          | <span data-ttu-id="5d38c-199">Ustalany zgodnie z limitem przydziału rdzeni subskrypcji</span><span class="sxs-lookup"><span data-stu-id="5d38c-199">Determined by subscription core quota</span></span>                                              |
| <span data-ttu-id="5d38c-200">**Obsługa sieci Azure Virtual Network (VNet)**</span><span class="sxs-lookup"><span data-stu-id="5d38c-200">**Azure Virtual Network (Vnet) support**</span></span> | <span data-ttu-id="5d38c-201">Pule utworzone za pomocą hello konfiguracji usługi w chmurze</span><span class="sxs-lookup"><span data-stu-id="5d38c-201">Pools created with hello Cloud Service Configuration</span></span>                                                      | <span data-ttu-id="5d38c-202">Pule utworzone za pomocą hello konfiguracji maszyny wirtualnej</span><span class="sxs-lookup"><span data-stu-id="5d38c-202">Pools created with hello Virtual Machine Configuration</span></span>                               |
| <span data-ttu-id="5d38c-203">**Obsługiwany model wdrożenia sieci wirtualnej**</span><span class="sxs-lookup"><span data-stu-id="5d38c-203">**Vnet deployment model supported**</span></span>      | <span data-ttu-id="5d38c-204">Sieci wirtualne utworzone przy użyciu klasycznego modelu wdrażania</span><span class="sxs-lookup"><span data-stu-id="5d38c-204">Vnets created with classic deployment model</span></span>                                                             | <span data-ttu-id="5d38c-205">Sieci wirtualne utworzone za pomocą hello klasycznego modelu wdrażania lub usługi Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="5d38c-205">Vnets created with either hello classic deployment model or Azure   Resource Manager</span></span> |

## <a name="azure-storage-account"></a><span data-ttu-id="5d38c-206">Konto usługi Azure Storage</span><span class="sxs-lookup"><span data-stu-id="5d38c-206">Azure Storage account</span></span>

<span data-ttu-id="5d38c-207">Większość rozwiązań partii usługi Batch używa usługi Azure Storage do przechowywania plików zasobów i plików wyjściowych.</span><span class="sxs-lookup"><span data-stu-id="5d38c-207">Most Batch solutions use Azure Storage for storing resource files and output files.</span></span>  

<span data-ttu-id="5d38c-208">Wsadowe aktualnie obsługuje tylko typ konta magazynu ogólnego przeznaczenia hello, zgodnie z opisem w kroku 5 [Utwórz konto magazynu](../storage/common/storage-create-storage-account.md#create-a-storage-account) w [kont magazynu Azure o](../storage/common/storage-create-storage-account.md).</span><span class="sxs-lookup"><span data-stu-id="5d38c-208">Batch currently supports only hello general-purpose storage account type, as described in step 5 of [Create a storage account](../storage/common/storage-create-storage-account.md#create-a-storage-account) in [About Azure storage accounts](../storage/common/storage-create-storage-account.md).</span></span> <span data-ttu-id="5d38c-209">Zadania podrzędne usługi Batch (w tym standardowe, uruchamiania oraz przygotowania i zwolnienia zadań) muszą określać pliki zasobów, które znajdują się na kontach magazynu ogólnego przeznaczenia.</span><span class="sxs-lookup"><span data-stu-id="5d38c-209">Your Batch tasks (including standard tasks, start tasks, job preparation tasks, and job release tasks) must specify resource files that reside in general-purpose storage accounts.</span></span>


## <a name="compute-node"></a><span data-ttu-id="5d38c-210">Węzeł obliczeniowy</span><span class="sxs-lookup"><span data-stu-id="5d38c-210">Compute node</span></span>
<span data-ttu-id="5d38c-211">Węzeł obliczeniowy to Azure maszyny wirtualnej (VM) lub usługi w chmurze maszyny Wirtualnej, który jest dedykowany tooprocessing część obciążenia aplikacji.</span><span class="sxs-lookup"><span data-stu-id="5d38c-211">A compute node is an Azure virtual machine (VM) or cloud service VM that is dedicated tooprocessing a portion of your application's workload.</span></span> <span data-ttu-id="5d38c-212">rozmiar Hello węzła określa hello liczba rdzeni Procesora, pamięci i rozmiar systemu lokalnego pliku przydzielonej toohello węzła.</span><span class="sxs-lookup"><span data-stu-id="5d38c-212">hello size of a node determines hello number of CPU cores, memory capacity, and local file system size that is allocated toohello node.</span></span> <span data-ttu-id="5d38c-213">Pule węzłów z systemem Windows lub Linux można tworzyć przy użyciu usług Azure Cloud Services, obrazów z hello [Marketplace maszyny wirtualne Azure][vm_marketplace], lub niestandardowych obrazów, które należy przygotować.</span><span class="sxs-lookup"><span data-stu-id="5d38c-213">You can create pools of Windows or Linux nodes by using Azure Cloud Services, images from hello [Azure Virtual Machines Marketplace][vm_marketplace], or custom images that you prepare.</span></span> <span data-ttu-id="5d38c-214">Zobacz następujące hello [puli](#pool) sekcji, aby uzyskać więcej informacji na temat tych opcji.</span><span class="sxs-lookup"><span data-stu-id="5d38c-214">See hello following [Pool](#pool) section for more information on these options.</span></span>

<span data-ttu-id="5d38c-215">Węzły można uruchomić wszystkie plik wykonywalny lub skrypt, który jest obsługiwany przez środowisko systemu operacyjnego hello hello węzła.</span><span class="sxs-lookup"><span data-stu-id="5d38c-215">Nodes can run any executable or script that is supported by hello operating system environment of hello node.</span></span> <span data-ttu-id="5d38c-216">Dotyczy to plików \*EXE, \*CMD, \*BAT i skryptów programu PowerShell dla systemu Windows — oraz plików binarnych, powłoki i skryptów języka Python dla systemu Linux.</span><span class="sxs-lookup"><span data-stu-id="5d38c-216">This includes \*.exe, \*.cmd, \*.bat and PowerShell scripts for Windows--and binaries, shell, and Python scripts for Linux.</span></span>

<span data-ttu-id="5d38c-217">Wszystkie węzły obliczeniowe usługi Batch obejmują również:</span><span class="sxs-lookup"><span data-stu-id="5d38c-217">All compute nodes in Batch also include:</span></span>

* <span data-ttu-id="5d38c-218">Standardową [strukturę folderów](#files-and-directories) i skojarzone [zmienne środowiskowe](#environment-settings-for-tasks) dostępne do użycia jako odwołania w zadaniach podrzędnych.</span><span class="sxs-lookup"><span data-stu-id="5d38c-218">A standard [folder structure](#files-and-directories) and associated [environment variables](#environment-settings-for-tasks) that are available for reference by tasks.</span></span>
* <span data-ttu-id="5d38c-219">**Zapora** ustawienia, które są skonfigurowane toocontrol dostępu.</span><span class="sxs-lookup"><span data-stu-id="5d38c-219">**Firewall** settings that are configured toocontrol access.</span></span>
* <span data-ttu-id="5d38c-220">[Dostęp zdalny](#connecting-to-compute-nodes) tooboth (protokołu RDP (Remote Desktop)) systemu Windows i Linux (Secure Shell (SSH)) węzły.</span><span class="sxs-lookup"><span data-stu-id="5d38c-220">[Remote access](#connecting-to-compute-nodes) tooboth Windows (Remote Desktop Protocol (RDP)) and Linux (Secure Shell (SSH)) nodes.</span></span>

## <a name="pool"></a><span data-ttu-id="5d38c-221">Pula</span><span class="sxs-lookup"><span data-stu-id="5d38c-221">Pool</span></span>
<span data-ttu-id="5d38c-222">Pula to kolekcja węzłów, w których jest uruchamiana aplikacja.</span><span class="sxs-lookup"><span data-stu-id="5d38c-222">A pool is a collection of nodes that your application runs on.</span></span> <span data-ttu-id="5d38c-223">Hello puli można tworzyć ręcznie przez użytkownika lub automatycznie przez hello usługa partia zadań po określeniu toobe pracy hello gotowe.</span><span class="sxs-lookup"><span data-stu-id="5d38c-223">hello pool can be created manually by you, or automatically by hello Batch service when you specify hello work toobe done.</span></span> <span data-ttu-id="5d38c-224">Można utworzyć i zarządzać nimi puli, która spełnia wymagania dotyczące zasobów hello aplikacji.</span><span class="sxs-lookup"><span data-stu-id="5d38c-224">You can create and manage a pool that meets hello resource requirements of your application.</span></span> <span data-ttu-id="5d38c-225">Pula może służyć tylko przez hello konta usługi partia zadań, w której został utworzony.</span><span class="sxs-lookup"><span data-stu-id="5d38c-225">A pool can be used only by hello Batch account in which it was created.</span></span> <span data-ttu-id="5d38c-226">Konto usługi Batch może zawierać więcej niż jedną pulę.</span><span class="sxs-lookup"><span data-stu-id="5d38c-226">A Batch account can have more than one pool.</span></span>

<span data-ttu-id="5d38c-227">Azure pule partii bazując na powitania podstawowej platformy obliczeń platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="5d38c-227">Azure Batch pools build on top of hello core Azure compute platform.</span></span> <span data-ttu-id="5d38c-228">Udostępniają one alokacji na dużą skalę, instalacja aplikacji, danych dystrybucji, monitorowanie kondycji i hello liczba węzłów obliczeniowych w puli elastycznej ([skalowanie](#scaling-compute-resources)).</span><span class="sxs-lookup"><span data-stu-id="5d38c-228">They provide large-scale allocation, application installation, data distribution, health monitoring, and flexible adjustment of hello number of compute nodes within a pool ([scaling](#scaling-compute-resources)).</span></span>

<span data-ttu-id="5d38c-229">Każdy węzeł, który zostanie dodany do puli tooa przypisano unikatową nazwę i adres IP.</span><span class="sxs-lookup"><span data-stu-id="5d38c-229">Every node that is added tooa pool is assigned a unique name and IP address.</span></span> <span data-ttu-id="5d38c-230">Gdy węzeł zostanie usunięty z puli, wszelkie zmiany wprowadzone w systemie operacyjnym toohello lub pliki zostaną utracone, a jego nazwa i adres IP, które są wydawane do użytku w przyszłości.</span><span class="sxs-lookup"><span data-stu-id="5d38c-230">When a node is removed from a pool, any changes that are made toohello operating system or files are lost, and its name and IP address are released for future use.</span></span> <span data-ttu-id="5d38c-231">Gdy węzeł opuści pulę, oznacza to, że zakończył się jego okres istnienia.</span><span class="sxs-lookup"><span data-stu-id="5d38c-231">When a node leaves a pool, its lifetime is over.</span></span>

<span data-ttu-id="5d38c-232">Podczas tworzenia puli, można określić hello następujące atrybuty.</span><span class="sxs-lookup"><span data-stu-id="5d38c-232">When you create a pool, you can specify hello following attributes.</span></span> <span data-ttu-id="5d38c-233">Niektóre ustawienia są różne, w zależności od trybu alokacji puli hello hello partii [konta](#account):</span><span class="sxs-lookup"><span data-stu-id="5d38c-233">Some settings differ, depending on hello pool allocation mode of hello Batch [account](#account):</span></span>

- <span data-ttu-id="5d38c-234">Wersja i system operacyjny węzła obliczeniowego</span><span class="sxs-lookup"><span data-stu-id="5d38c-234">Compute node operating system and version</span></span>
- <span data-ttu-id="5d38c-235">Typ węzła obliczeniowego i docelowa liczba węzłów</span><span class="sxs-lookup"><span data-stu-id="5d38c-235">Compute node type and target number of nodes</span></span>
- <span data-ttu-id="5d38c-236">Rozmiar hello węzły obliczeniowe</span><span class="sxs-lookup"><span data-stu-id="5d38c-236">Size of hello compute nodes</span></span>
- <span data-ttu-id="5d38c-237">Zasady skalowania</span><span class="sxs-lookup"><span data-stu-id="5d38c-237">Scaling policy</span></span>
- <span data-ttu-id="5d38c-238">Zasady planowania zadań podrzędnych</span><span class="sxs-lookup"><span data-stu-id="5d38c-238">Task scheduling policy</span></span>
- <span data-ttu-id="5d38c-239">Stan komunikacji węzłów obliczeniowych</span><span class="sxs-lookup"><span data-stu-id="5d38c-239">Communication status for compute nodes</span></span>
- <span data-ttu-id="5d38c-240">Zadanie podrzędne uruchamiania dla węzłów obliczeniowych</span><span class="sxs-lookup"><span data-stu-id="5d38c-240">Start tasks for compute nodes</span></span>
- <span data-ttu-id="5d38c-241">Pakiety aplikacji</span><span class="sxs-lookup"><span data-stu-id="5d38c-241">Application packages</span></span>
- <span data-ttu-id="5d38c-242">Konfiguracja sieci</span><span class="sxs-lookup"><span data-stu-id="5d38c-242">Network configuration</span></span>

<span data-ttu-id="5d38c-243">Każde z tych ustawień jest opisane bardziej szczegółowo w hello następujące sekcje.</span><span class="sxs-lookup"><span data-stu-id="5d38c-243">Each of these settings is described in more detail in hello following sections.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="5d38c-244">Konta usługi partia zadań utworzone przy użyciu Tryb alokacji puli usługi partia zadań hello mieć domyślnego przydziału, która ogranicza hello liczba rdzeni w ramach konta usługi partia zadań.</span><span class="sxs-lookup"><span data-stu-id="5d38c-244">Batch accounts created with hello Batch Service pool allocation mode have a default quota that limits hello number of cores in a Batch account.</span></span> <span data-ttu-id="5d38c-245">Witaj liczba rdzeni odpowiada toohello liczba węzłów obliczeniowych.</span><span class="sxs-lookup"><span data-stu-id="5d38c-245">hello number of cores corresponds toohello number of compute nodes.</span></span> <span data-ttu-id="5d38c-246">Można znaleźć hello przydziałów domyślnych i instrukcje na temat zbyt[Zwiększ limit przydziału](batch-quota-limit.md#increase-a-quota) w [przydziały i limity dla usługi partia zadań Azure hello](batch-quota-limit.md).</span><span class="sxs-lookup"><span data-stu-id="5d38c-246">You can find hello default quotas and instructions on how too[increase a quota](batch-quota-limit.md#increase-a-quota) in [Quotas and limits for hello Azure Batch service](batch-quota-limit.md).</span></span> <span data-ttu-id="5d38c-247">Jeśli pulę nie osiągnęła jego docelowy liczba węzłów, hello przyczyny mogą być hello limit przydziału rdzeni.</span><span class="sxs-lookup"><span data-stu-id="5d38c-247">If your pool is not achieving its target number of nodes, hello core quota might be hello reason.</span></span>
>
><span data-ttu-id="5d38c-248">Konta usługi partia zadań utworzone przy użyciu Tryb alokacji puli subskrypcji użytkownika hello nie Obserwuj przydziały usługi hello partii.</span><span class="sxs-lookup"><span data-stu-id="5d38c-248">Batch accounts created with hello User Subscription pool allocation mode do not observe hello Batch service quotas.</span></span> <span data-ttu-id="5d38c-249">Zamiast tego udziału w hello limit przydziału rdzeni dla hello określonej subskrypcji.</span><span class="sxs-lookup"><span data-stu-id="5d38c-249">Instead, they share in hello core quota for hello specified subscription.</span></span> <span data-ttu-id="5d38c-250">Aby uzyskać więcej informacji, zobacz sekcję [Virtual Machines limits (Limity maszyn wirtualnych)](../azure-subscription-service-limits.md#virtual-machines-limits) w artykule [Azure subscription and service limits, quotas, and constraints (Ograniczenia, przydziały i limity usług i subskrypcji platformy Azure)](../azure-subscription-service-limits.md).</span><span class="sxs-lookup"><span data-stu-id="5d38c-250">For more information, see [Virtual Machines limits](../azure-subscription-service-limits.md#virtual-machines-limits) in [Azure subscription and service limits, quotas, and constraints](../azure-subscription-service-limits.md).</span></span>
>
>

### <a name="compute-node-operating-system-and-version"></a><span data-ttu-id="5d38c-251">Wersja i system operacyjny węzła obliczeniowego</span><span class="sxs-lookup"><span data-stu-id="5d38c-251">Compute node operating system and version</span></span>

<span data-ttu-id="5d38c-252">Podczas tworzenia puli partii, można określić hello konfiguracji maszyny wirtualnej platformy Azure i typ hello ma toorun w każdym węźle obliczeń w puli hello systemu operacyjnego.</span><span class="sxs-lookup"><span data-stu-id="5d38c-252">When you create a Batch pool, you can specify hello Azure virtual machine configuration and hello type of operating system you want toorun on each compute node in hello pool.</span></span> <span data-ttu-id="5d38c-253">Istnieją dwa typy Hello konfiguracji dostępne w partii:</span><span class="sxs-lookup"><span data-stu-id="5d38c-253">hello two types of configurations available in Batch are:</span></span>

- <span data-ttu-id="5d38c-254">Witaj **konfiguracji maszyny wirtualnej**, który określa tej puli hello składa się z maszyn wirtualnych platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="5d38c-254">hello **Virtual Machine Configuration**, which specifies that hello pool is comprised of Azure virtual machines.</span></span> <span data-ttu-id="5d38c-255">Te maszyny wirtualne można tworzyć na podstawie obrazów systemu Windows albo Linux.</span><span class="sxs-lookup"><span data-stu-id="5d38c-255">These VMs may be created from either Linux or Windows images.</span></span> 

    <span data-ttu-id="5d38c-256">Podczas tworzenia puli hello konfiguracji maszyny wirtualnej, należy określić nie tylko hello rozmiaru hello węzłów i hello źródła toocreate obrazy używane hello je, ale również hello **odwołanie do obrazu maszyny wirtualnej** i hello Wsadowe **agenta węzła jednostki SKU** toobe zainstalowane na powitania węzłów.</span><span class="sxs-lookup"><span data-stu-id="5d38c-256">When you create a pool based on hello Virtual Machine Configuration, you must specify not only hello size of hello nodes and hello source of hello images used toocreate them, but also hello **virtual machine image reference** and hello Batch **node agent SKU** toobe installed on hello nodes.</span></span> <span data-ttu-id="5d38c-257">Więcej informacji na temat określania powyższych właściwości puli znajduje się w artykule [Provision Linux compute nodes in Azure Batch pools](batch-linux-nodes.md) (Aprowizowanie węzłów obliczeniowych systemu Linux w pulach usługi Azure Batch).</span><span class="sxs-lookup"><span data-stu-id="5d38c-257">For more information about specifying these pool properties, see [Provision Linux compute nodes in Azure Batch pools](batch-linux-nodes.md).</span></span>

- <span data-ttu-id="5d38c-258">Witaj **konfiguracji usługi w chmurze**, który określa tej puli hello składa się z węzłów usługi w chmurze Azure.</span><span class="sxs-lookup"><span data-stu-id="5d38c-258">hello **Cloud Services Configuration**, which specifies that hello pool is comprised of Azure Cloud Services nodes.</span></span> <span data-ttu-id="5d38c-259">Usługi Cloud Services oferują *tylko* węzły obliczeniowe systemu Windows.</span><span class="sxs-lookup"><span data-stu-id="5d38c-259">Cloud Services provide Windows compute nodes *only*.</span></span>

    <span data-ttu-id="5d38c-260">Dostępnych systemów operacyjnych dla pul konfiguracji usługi w chmurze są wymienione w hello [wersji systemu operacyjnego gościa Azure i zgodność pakietu SDK](../cloud-services/cloud-services-guestos-update-matrix.md).</span><span class="sxs-lookup"><span data-stu-id="5d38c-260">Available operating systems for Cloud Services Configuration pools are listed in hello [Azure Guest OS releases and SDK compatibility matrix](../cloud-services/cloud-services-guestos-update-matrix.md).</span></span> <span data-ttu-id="5d38c-261">Podczas tworzenia puli, która zawiera węzły usługi w chmurze, wymagają rozmiaru węzła hello toospecify i jego *rodziny systemów operacyjnych*.</span><span class="sxs-lookup"><span data-stu-id="5d38c-261">When you create a pool that contains Cloud Services nodes, you need toospecify hello node size and its *OS Family*.</span></span> <span data-ttu-id="5d38c-262">Usługi w chmurze są wdrożone tooAzure szybciej niż maszyn wirtualnych z systemem Windows.</span><span class="sxs-lookup"><span data-stu-id="5d38c-262">Cloud Services are deployed tooAzure more quickly than virtual machines running Windows.</span></span> <span data-ttu-id="5d38c-263">Jeśli potrzebujesz pul systemu Windows, może się okazać, że usługi Cloud Services oferują korzystną wydajność związaną z czasem wdrażania.</span><span class="sxs-lookup"><span data-stu-id="5d38c-263">If you want pools of Windows compute nodes, you may find that Cloud Services provide a performance benefit in terms of deployment time.</span></span>

    * <span data-ttu-id="5d38c-264">Witaj *rodziny systemów operacyjnych* decyduje również o wersjach programu .NET są instalowane z hello systemu operacyjnego.</span><span class="sxs-lookup"><span data-stu-id="5d38c-264">hello *OS Family* also determines which versions of .NET are installed with hello OS.</span></span>
    * <span data-ttu-id="5d38c-265">Zgodnie z rolami proces roboczy w ramach usługi w chmurze, można określić *wersji systemu operacyjnego* (Aby uzyskać więcej informacji o roli proces roboczy, zobacz hello [informacji o usługach w chmurze](../cloud-services/cloud-services-choose-me.md#tell-me-about-cloud-services) części hello [usługi w chmurze Omówienie](../cloud-services/cloud-services-choose-me.md)).</span><span class="sxs-lookup"><span data-stu-id="5d38c-265">As with worker roles within Cloud Services, you can specify an *OS Version* (for more information on worker roles, see hello [Tell me about cloud services](../cloud-services/cloud-services-choose-me.md#tell-me-about-cloud-services) section in hello [Cloud Services overview](../cloud-services/cloud-services-choose-me.md)).</span></span>
    * <span data-ttu-id="5d38c-266">Zgodnie z roli proces roboczy, zaleca się określenie `*` dla hello *wersji systemu operacyjnego* tak, aby węzły hello są uaktualniane automatycznie i nie nie toocater pracy wymaganej wersji toonewly wydane.</span><span class="sxs-lookup"><span data-stu-id="5d38c-266">As with worker roles, we recommend that you specify `*` for hello *OS Version* so that hello nodes are automatically upgraded, and there is no work required toocater toonewly released versions.</span></span> <span data-ttu-id="5d38c-267">Witaj pierwotnym zastosowaniem wybranie określonych wersji systemu operacyjnego jest tooensure zgodności aplikacji, dzięki czemu zgodności z poprzednimi wersjami testowania toobe wykonywane przed zezwoleniem na powitania toobe wersji aktualizacji.</span><span class="sxs-lookup"><span data-stu-id="5d38c-267">hello primary use case for selecting a specific OS version is tooensure application compatibility, which allows backward compatibility testing toobe performed before allowing hello version toobe updated.</span></span> <span data-ttu-id="5d38c-268">Po sprawdzeniu poprawności, hello *wersji systemu operacyjnego* hello puli może być aktualizowana i może zostać zainstalowany nowy obraz systemu operacyjnego hello — wszelkie uruchomione zadania są przerwane i umieszczony w kolejce.</span><span class="sxs-lookup"><span data-stu-id="5d38c-268">After validation, hello *OS Version* for hello pool can be updated and hello new OS image can be installed--any running tasks are interrupted and requeued.</span></span>

<span data-ttu-id="5d38c-269">Podczas tworzenia puli należy tooselect hello odpowiednie **nodeAgentSkuId**w zależności od hello systemu operacyjnego hello obraz podstawowy dysk VHD.</span><span class="sxs-lookup"><span data-stu-id="5d38c-269">When you create a pool, you need tooselect hello appropriate **nodeAgentSkuId**, depending on hello OS of hello base image of your VHD.</span></span> <span data-ttu-id="5d38c-270">Można uzyskać mapowanie tootheir identyfikator jednostki SKU agenta węzła dostępne odwołań do obrazu systemu operacyjnego przez wywołanie hello [jednostki SKU agenta węzła listy obsługiwanych](https://docs.microsoft.com/rest/api/batchservice/list-supported-node-agent-skus) operacji.</span><span class="sxs-lookup"><span data-stu-id="5d38c-270">You can get a mapping of available node agent SKU ID's tootheir OS Image references by calling hello [List Supported Node Agent SKUs](https://docs.microsoft.com/rest/api/batchservice/list-supported-node-agent-skus) operation.</span></span>

<span data-ttu-id="5d38c-271">Zobacz hello [konta](#account) sekcji informacji na temat ustawiania trybu alokacji puli hello podczas tworzenia konta usługi partia zadań.</span><span class="sxs-lookup"><span data-stu-id="5d38c-271">See hello [Account](#account) section for information on setting hello pool allocation mode when you create a Batch account.</span></span>

#### <a name="custom-images-for-virtual-machine-pools"></a><span data-ttu-id="5d38c-272">Niestandardowe obrazy dla pul usługi Virtual Machines</span><span class="sxs-lookup"><span data-stu-id="5d38c-272">Custom images for Virtual Machine pools</span></span>

<span data-ttu-id="5d38c-273">toouse pule maszyny wirtualnej tooprovision niestandardowego obrazu, tworzenie konta partii zadań z trybem przydziału puli subskrypcji użytkownika hello.</span><span class="sxs-lookup"><span data-stu-id="5d38c-273">toouse a custom image tooprovision Virtual Machine pools, create your Batch account with hello User Subscription pool allocation mode.</span></span> <span data-ttu-id="5d38c-274">W tym trybie partii pule są przydzielone do subskrypcji hello, w którym znajduje się konto hello.</span><span class="sxs-lookup"><span data-stu-id="5d38c-274">With this mode, Batch pools are allocated into hello subscription where hello account resides.</span></span> <span data-ttu-id="5d38c-275">Zobacz hello [konta](#account) sekcji informacji na temat ustawiania trybu alokacji puli hello podczas tworzenia konta usługi partia zadań.</span><span class="sxs-lookup"><span data-stu-id="5d38c-275">See hello [Account](#account) section for information on setting hello pool allocation mode when you create a Batch account.</span></span>

<span data-ttu-id="5d38c-276">toouse niestandardowego obrazu, będziesz potrzebować obraz powitania tooprepare uogólniania go.</span><span class="sxs-lookup"><span data-stu-id="5d38c-276">toouse a custom image, you'll need tooprepare hello image by generalizing it.</span></span> <span data-ttu-id="5d38c-277">Aby uzyskać informacje dotyczące przygotowania niestandardowych obrazów systemu Linux z maszyn wirtualnych platformy Azure, zobacz [przechwytywania toouse Azure maszyny Wirtualnej systemu Linux jako szablon](../virtual-machines/linux/capture-image-nodejs.md).</span><span class="sxs-lookup"><span data-stu-id="5d38c-277">For information about preparing custom Linux images from Azure VMs, see [Capture an Azure Linux VM toouse as a template](../virtual-machines/linux/capture-image-nodejs.md).</span></span> <span data-ttu-id="5d38c-278">Aby uzyskać informacje na temat przygotowywania niestandardowych obrazów systemu Windows na podstawie maszyn wirtualnych Azure Virtual Machines, zobacz [Create custom VM images with Azure PowerShell (Tworzenie niestandardowych obrazów maszyn wirtualnych przy użyciu programu Azure PowerShell)](../virtual-machines/windows/tutorial-custom-images.md).</span><span class="sxs-lookup"><span data-stu-id="5d38c-278">For information about preparing custom Windows images from Azure VMs, see [Create custom VM images with Azure PowerShell](../virtual-machines/windows/tutorial-custom-images.md).</span></span> 

> [!IMPORTANT]
> <span data-ttu-id="5d38c-279">Podczas przygotowywania obraz niestandardowy, należy uwzględnić następujące hello:</span><span class="sxs-lookup"><span data-stu-id="5d38c-279">When preparing your custom image, keep in mind hello following:</span></span>
> - <span data-ttu-id="5d38c-280">Upewnij się, obraz systemu operacyjnego podstawowej tego hello Użyj tooprovision Twojego pule partii jest nie ma wstępnie zainstalowanych rozszerzeń Azure, takich jak hello rozszerzenia niestandardowego skryptu.</span><span class="sxs-lookup"><span data-stu-id="5d38c-280">Ensure that hello base OS image you use tooprovision your Batch pools does not have any pre-installed Azure extensions, such as hello Custom Script extension.</span></span> <span data-ttu-id="5d38c-281">Jeśli obraz powitania zawiera wstępnie zainstalowane rozszerzenia, Azure mogą wystąpić problemy, wdrażanie hello maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="5d38c-281">If hello image contains a pre-installed extension, Azure may encounter problems deploying hello VM.</span></span>
> - <span data-ttu-id="5d38c-282">Upewnij się, tego hello podstawowy obraz systemu operacyjnego zapewniają się, że używa hello domyślnym tymczasowego dysku, jak hello agenta węzła partii aktualnie oczekuje hello domyślnym tymczasowego dysku.</span><span class="sxs-lookup"><span data-stu-id="5d38c-282">Ensure that hello base OS image you provide uses hello default temp drive, as hello Batch node agent currently expects hello default temp drive.</span></span>
>
>

<span data-ttu-id="5d38c-283">toocreate puli konfiguracji maszyny wirtualnej przy użyciu niestandardowego obrazu, trzeba będzie je utworzyć lub więcej standardowy magazyn Azure kont toostore niestandardowych obrazów dysku VHD.</span><span class="sxs-lookup"><span data-stu-id="5d38c-283">toocreate a Virtual Machine Configuration pool using a custom image, you'll need one or more standard Azure Storage accounts toostore your custom VHD images.</span></span> <span data-ttu-id="5d38c-284">Obrazy niestandardowe są przechowywane jako obiekty blob.</span><span class="sxs-lookup"><span data-stu-id="5d38c-284">Custom images are stored as blobs.</span></span> <span data-ttu-id="5d38c-285">tooreference niestandardowe obrazy podczas tworzenia puli, określ hello URI hello obiekty BLOB dysków VHD niestandardowego obrazu dla hello [osDisk](https://docs.microsoft.com/rest/api/batchservice/add-a-pool-to-an-account#bk_osdisk) właściwości hello [virtualMachineConfiguration](https://docs.microsoft.com/rest/api/batchservice/add-a-pool-to-an-account#bk_vmconf) właściwości.</span><span class="sxs-lookup"><span data-stu-id="5d38c-285">tooreference your custom images when you create a pool, specify hello URIs of hello custom image VHD blobs for hello [osDisk](https://docs.microsoft.com/rest/api/batchservice/add-a-pool-to-an-account#bk_osdisk) property of hello [virtualMachineConfiguration](https://docs.microsoft.com/rest/api/batchservice/add-a-pool-to-an-account#bk_vmconf) property.</span></span>

<span data-ttu-id="5d38c-286">Upewnij się, że kont magazynu spełniają hello następujące kryteria:</span><span class="sxs-lookup"><span data-stu-id="5d38c-286">Make sure that your storage accounts meet hello following criteria:</span></span>   

- <span data-ttu-id="5d38c-287">Hello kont magazynu obiektów blob zawierający hello niestandardowego obrazu wirtualnego dysku twardego konieczne toobe w hello tej samej subskrypcji, jak hello konta usługi partia zadań (hello subskrypcji użytkownika).</span><span class="sxs-lookup"><span data-stu-id="5d38c-287">hello storage accounts containing hello custom image VHD blobs need toobe in hello same subscription as hello Batch account (hello user subscription).</span></span>
- <span data-ttu-id="5d38c-288">określony Hello kont magazynu muszą toobe w hello tego samego regionu hello konta usługi partia zadań.</span><span class="sxs-lookup"><span data-stu-id="5d38c-288">hello specified storage accounts need toobe in hello same region as hello Batch account.</span></span>
- <span data-ttu-id="5d38c-289">Obecnie są obsługiwane tylko standardowe konta magazynu ogólnego przeznaczenia.</span><span class="sxs-lookup"><span data-stu-id="5d38c-289">Only standard general-purpose storage accounts are currently supported.</span></span> <span data-ttu-id="5d38c-290">Usługa Azure Premium storage będzie obsługiwany w przyszłości hello.</span><span class="sxs-lookup"><span data-stu-id="5d38c-290">Azure Premium storage will be supported in hello future.</span></span>
- <span data-ttu-id="5d38c-291">Możesz określić jedno konto magazynu z wieloma niestandardowymi obiektami blob dysku VHD lub wiele kont magazynu, każde z pojedynczym obiektem blob.</span><span class="sxs-lookup"><span data-stu-id="5d38c-291">You can specify one storage account with multiple custom VHD blobs or multiple storage accounts each having a single blob.</span></span> <span data-ttu-id="5d38c-292">Zalecamy toouse kont magazynu wielu tooget lepszą wydajność.</span><span class="sxs-lookup"><span data-stu-id="5d38c-292">We recommend you toouse multiple storage accounts tooget a better performance.</span></span>
- <span data-ttu-id="5d38c-293">Jeden unikatowy obrazu niestandardowego obiektu blob dysku VHD może obsługiwać too40, którego wystąpienia maszyny Wirtualnej systemu Linux lub 20 wystąpień maszyny Wirtualnej systemu Windows.</span><span class="sxs-lookup"><span data-stu-id="5d38c-293">One unique custom image VHD blob can support up too40 Linux VM instances or 20 Windows VM instances.</span></span> <span data-ttu-id="5d38c-294">Konieczne będzie toocreate kopie hello wirtualnego dysku twardego blob toocreate pule więcej maszyn wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="5d38c-294">You will need toocreate copies of hello VHD blob toocreate pools with more VMs.</span></span> <span data-ttu-id="5d38c-295">Na przykład pulą o 200 maszyn wirtualnych systemu Windows wymaga 10 unikatowy obiekty BLOB dysków VHD określony dla hello **osDisk** właściwości.</span><span class="sxs-lookup"><span data-stu-id="5d38c-295">For example, a pool with 200 Windows VMs needs 10 unique VHD blobs specified for hello **osDisk** property.</span></span>

<span data-ttu-id="5d38c-296">toocreate puli z niestandardowego obrazu przy użyciu hello portalu Azure:</span><span class="sxs-lookup"><span data-stu-id="5d38c-296">toocreate a pool from a custom image using hello Azure portal:</span></span>

1. <span data-ttu-id="5d38c-297">Przejdź tooyour konta usługi partia zadań w hello portalu Azure.</span><span class="sxs-lookup"><span data-stu-id="5d38c-297">Navigate tooyour Batch account in hello Azure portal.</span></span>
2. <span data-ttu-id="5d38c-298">Na powitania **ustawienia** bloku, wybierz hello **pule** elementu menu.</span><span class="sxs-lookup"><span data-stu-id="5d38c-298">On hello **Settings** blade, select hello **Pools** menu item.</span></span>
3. <span data-ttu-id="5d38c-299">Na powitania **pule** bloku, wybierz hello **Dodaj** polecenie; hello **Dodawanie puli** zostanie wyświetlony blok.</span><span class="sxs-lookup"><span data-stu-id="5d38c-299">On hello **Pools** blade, select hello **Add** command; hello **Add pool** blade will be displayed.</span></span>
4. <span data-ttu-id="5d38c-300">Wybierz **niestandardowego obrazu (Linux/system Windows)** z hello **typ obrazu** listy rozwijanej.</span><span class="sxs-lookup"><span data-stu-id="5d38c-300">Select **Custom Image (Linux/Windows)** from hello **Image Type** dropdown.</span></span> <span data-ttu-id="5d38c-301">Hello portal Wyświetla hello **obraz niestandardowy** selektora.</span><span class="sxs-lookup"><span data-stu-id="5d38c-301">hello portal displays hello **Custom Image** picker.</span></span> <span data-ttu-id="5d38c-302">Wybierz jeden lub więcej dysków VHD z hello tego samego kontenera i kliknij przycisk hello **wybierz** przycisku.</span><span class="sxs-lookup"><span data-stu-id="5d38c-302">Choose one or more VHDs from hello same container and click hello **Select** button.</span></span> 
    <span data-ttu-id="5d38c-303">Obsługa wielu wirtualnych dysków twardych z różnych kont magazynu i różnych kontenerów zostaną dodane w przyszłości hello.</span><span class="sxs-lookup"><span data-stu-id="5d38c-303">Support for multiple VHDs from different storage accounts and different containers will be added in hello future.</span></span>
5. <span data-ttu-id="5d38c-304">Wybierz poprawną hello **wydawcy lub oferta/jednostki Sku** dla niestandardowych dyski VHD, wybierz wymaganą hello **buforowanie** trybie, a następnie wypełnij wszystkie inne parametry puli hello hello.</span><span class="sxs-lookup"><span data-stu-id="5d38c-304">Select hello correct **Publisher/Offer/Sku** for your custom VHDs, select hello desired **Caching** mode, then fill in all hello other parameters for hello pool.</span></span>
6. <span data-ttu-id="5d38c-305">toocheck, jeśli pula jest oparta na niestandardowego obrazu, zobacz hello **systemu operacyjnego** właściwości hello zasobów podsumowania część hello **puli** bloku.</span><span class="sxs-lookup"><span data-stu-id="5d38c-305">toocheck if a pool is based on a custom image, see hello **Operating System** property in hello resource summary section of hello **Pool** blade.</span></span> <span data-ttu-id="5d38c-306">Hello wartość tej właściwości musi być **obrazu maszyny Wirtualnej niestandardowe**.</span><span class="sxs-lookup"><span data-stu-id="5d38c-306">hello value of this property should be **Custom VM image**.</span></span>
7. <span data-ttu-id="5d38c-307">Wszystkie dyski VHD niestandardowe skojarzone z pulą są wyświetlane w puli hello **właściwości** bloku.</span><span class="sxs-lookup"><span data-stu-id="5d38c-307">All custom VHDs associated with a pool are displayed on hello pool's **Properties** blade.</span></span>

### <a name="compute-node-type-and-target-number-of-nodes"></a><span data-ttu-id="5d38c-308">Typ węzła obliczeniowego i docelowa liczba węzłów</span><span class="sxs-lookup"><span data-stu-id="5d38c-308">Compute node type and target number of nodes</span></span>

<span data-ttu-id="5d38c-309">Po utworzeniu puli można określić typy węzłów obliczeniowych mają i hello numer docelowej dla każdego.</span><span class="sxs-lookup"><span data-stu-id="5d38c-309">When you create a pool, you can specify which types of compute nodes you want and hello target number for each.</span></span> <span data-ttu-id="5d38c-310">typy Hello dwa węzły obliczeniowe są:</span><span class="sxs-lookup"><span data-stu-id="5d38c-310">hello two types of compute nodes are:</span></span>

- <span data-ttu-id="5d38c-311">**Dedykowane węzły obliczeniowe.**</span><span class="sxs-lookup"><span data-stu-id="5d38c-311">**Dedicated compute nodes.**</span></span> <span data-ttu-id="5d38c-312">Dedykowane węzły obliczeniowe są zarezerwowane dla konkretnych obciążeń.</span><span class="sxs-lookup"><span data-stu-id="5d38c-312">Dedicated compute nodes are reserved for your workloads.</span></span> <span data-ttu-id="5d38c-313">Są droższe niż węzły niskiego priorytetu, ale są one zagwarantować toonever zostać przeniesiona.</span><span class="sxs-lookup"><span data-stu-id="5d38c-313">They are more expensive than low-priority nodes, but they are guaranteed toonever be preempted.</span></span>

- <span data-ttu-id="5d38c-314">**Węzły obliczeniowe o niskim priorytecie.**</span><span class="sxs-lookup"><span data-stu-id="5d38c-314">**Low-priority compute nodes.**</span></span> <span data-ttu-id="5d38c-315">Węzły o niskim priorytecie wykorzystać nadwyżki zdolności produkcyjnych w Azure toorun obciążeń partii.</span><span class="sxs-lookup"><span data-stu-id="5d38c-315">Low-priority nodes take advantage of surplus capacity in Azure toorun your Batch workloads.</span></span> <span data-ttu-id="5d38c-316">Węzły o niskim priorytecie są tańsze (niższe stawki za godzinę) niż węzły dedykowane i umożliwiają obsługiwanie obciążeń wymagających dużej mocy obliczeniowej.</span><span class="sxs-lookup"><span data-stu-id="5d38c-316">Low-priority nodes are less expensive per hour than dedicated nodes, and enable workloads requiring a lot of compute power.</span></span> <span data-ttu-id="5d38c-317">Aby uzyskać więcej informacji, zobacz [Use low-priority VMs with Batch](batch-low-pri-vms.md) (Korzystanie z maszyn wirtualnych o niskim priorytecie z usługą Batch).</span><span class="sxs-lookup"><span data-stu-id="5d38c-317">For more information, see [Use low-priority VMs with Batch](batch-low-pri-vms.md).</span></span>

    <span data-ttu-id="5d38c-318">Węzły obliczeniowe o niskim priorytecie mogą być przerywane, jeśli na platformie Azure nie będzie wystarczającej nadwyżki wydajności.</span><span class="sxs-lookup"><span data-stu-id="5d38c-318">Low-priority compute nodes may be preempted when Azure has insufficient surplus capacity.</span></span> <span data-ttu-id="5d38c-319">Jeśli węzeł jest zastępowane podczas uruchamiania zadania, zadania hello są umieszczony w kolejce i uruchom ponownie, gdy węzeł obliczeniowy znowu dostępne.</span><span class="sxs-lookup"><span data-stu-id="5d38c-319">If a node is preempted while running tasks, hello tasks are requeued and run again once a compute node becomes available again.</span></span> <span data-ttu-id="5d38c-320">Węzły niskiego priorytetu to dobra opcja w przypadku obciążeń, których czas ukończenia zadania hello jest elastyczny i hello pracy będzie rozmieszczona na wielu węzłach.</span><span class="sxs-lookup"><span data-stu-id="5d38c-320">Low-priority nodes are a good option for workloads where hello job completion time is flexible and hello work is distributed across many nodes.</span></span> <span data-ttu-id="5d38c-321">Przed podjęciem decyzji o toouse niskiego priorytetu węzłów dla danego scenariusza, upewnij się, że pracę, utracone powodu toopreemption będzie toorecreate minimalnego i łatwe.</span><span class="sxs-lookup"><span data-stu-id="5d38c-321">Before you decide toouse low-priority nodes for your scenario, make sure that any work lost due toopreemption will be minimal and easy toorecreate.</span></span>

    <span data-ttu-id="5d38c-322">Węzły obliczeniowe o niskim priorytecie są dostępne tylko dla konta wsadowego utworzone przy użyciu trybu alokacji puli hello ustawić także**usługa partia zadań**.</span><span class="sxs-lookup"><span data-stu-id="5d38c-322">Low-priority compute nodes are available only for Batch accounts created with hello pool allocation mode set too**Batch Service**.</span></span>

<span data-ttu-id="5d38c-323">Może mieć obu węzłów obliczeniowych niskiego priorytetu i dedykowanych w hello tej samej puli.</span><span class="sxs-lookup"><span data-stu-id="5d38c-323">You can have both low-priority and dedicated compute nodes in hello same pool.</span></span> <span data-ttu-id="5d38c-324">Każdy typ węzła &mdash; niskiego priorytetu i dedykowanych &mdash; ma własną ustawienie docelowe, dla którego można określić hello żądaną liczbę węzłów.</span><span class="sxs-lookup"><span data-stu-id="5d38c-324">Each type of node &mdash; low-priority and dedicated &mdash; has its own target setting, for which you can specify hello desired number of nodes.</span></span> 
    
<span data-ttu-id="5d38c-325">Hello liczba węzłów obliczeniowych jest określony tooas *docelowej* ponieważ w niektórych sytuacjach puli użytkownika nie może nawiązać połączenia hello żądaną liczbę węzłów.</span><span class="sxs-lookup"><span data-stu-id="5d38c-325">hello number of compute nodes is referred tooas a *target* because, in some situations, your pool might not reach hello desired number of nodes.</span></span> <span data-ttu-id="5d38c-326">Na przykład puli nie może osiągnąć hello docelowych, jeśli osiągnie hello [limit przydziału rdzeni](batch-quota-limit.md) Twojego partii najpierw kont.</span><span class="sxs-lookup"><span data-stu-id="5d38c-326">For example, a pool might not achieve hello target if it reaches hello [core quota](batch-quota-limit.md) for your Batch account first.</span></span> <span data-ttu-id="5d38c-327">Lub puli hello wydajność nie będzie hello docelowy w przypadku zastosowania automatyczne skalowanie puli toohello formuły, która ogranicza hello maksymalną liczbę węzłów.</span><span class="sxs-lookup"><span data-stu-id="5d38c-327">Or, hello pool might not achieve hello target if you have applied an auto-scaling formula toohello pool that limits hello maximum number of nodes.</span></span>

<span data-ttu-id="5d38c-328">Aby uzyskać informacje dotyczące cen węzłów obliczeniowych o niskim priorytecie i dedykowanych węzłów obliczeniowych, zobacz [Batch — cennik](https://azure.microsoft.com/pricing/details/batch/).</span><span class="sxs-lookup"><span data-stu-id="5d38c-328">For pricing information for both low-priority and dedicated compute nodes, see [Batch Pricing](https://azure.microsoft.com/pricing/details/batch/).</span></span>

### <a name="size-of-hello-compute-nodes"></a><span data-ttu-id="5d38c-329">Rozmiar hello węzły obliczeniowe</span><span class="sxs-lookup"><span data-stu-id="5d38c-329">Size of hello compute nodes</span></span>

<span data-ttu-id="5d38c-330">Lista rozmiarów węzłów obliczeniowych **konfiguracji usług Cloud Serivces** znajduje się w temacie [Sizes for Cloud Services](../cloud-services/cloud-services-sizes-specs.md) (Rozmiary dla usługi Cloud Services).</span><span class="sxs-lookup"><span data-stu-id="5d38c-330">**Cloud Services Configuration** compute node sizes are listed in [Sizes for Cloud Services](../cloud-services/cloud-services-sizes-specs.md).</span></span> <span data-ttu-id="5d38c-331">Usługa Batch obsługuje wszystkie rozmiary usług Cloud Services oprócz `ExtraSmall`, `STANDARD_A1_V2` i `STANDARD_A2_V2`.</span><span class="sxs-lookup"><span data-stu-id="5d38c-331">Batch supports all Cloud Services sizes except `ExtraSmall`, `STANDARD_A1_V2`, and `STANDARD_A2_V2`.</span></span>

<span data-ttu-id="5d38c-332">Listę rozmiarów obliczeniowych **konfiguracji usługi Virtual Machines** można znaleźć w tematach [Sizes for virtual machines in Azure](../virtual-machines/linux/sizes.md) (Linux) (Rozmiary maszyn wirtualnych na platformie Azure) (Linux) and [Sizes for virtual machines in Azure](../virtual-machines/windows/sizes.md) (Windows) (Rozmiary maszyn wirtualnych na platformie Azure) (Windows).</span><span class="sxs-lookup"><span data-stu-id="5d38c-332">**Virtual Machine Configuration** compute node sizes are listed in [Sizes for virtual machines in Azure](../virtual-machines/linux/sizes.md) (Linux) and [Sizes for virtual machines in Azure](../virtual-machines/windows/sizes.md) (Windows).</span></span> <span data-ttu-id="5d38c-333">Usługa Batch obsługuje wszystkie rozmiary maszyn wirtualnych platformy Azure oprócz `STANDARD_A0` i maszyn z usługi Premium Storage (seria `STANDARD_GS`, `STANDARD_DS` i `STANDARD_DSV2`).</span><span class="sxs-lookup"><span data-stu-id="5d38c-333">Batch supports all Azure VM sizes except `STANDARD_A0` and those with premium storage (`STANDARD_GS`, `STANDARD_DS`, and `STANDARD_DSV2` series).</span></span>

<span data-ttu-id="5d38c-334">Podczas wybierania rozmiaru węzła obliczeń, należy wziąć pod uwagę hello charakterystyki i wymagania aplikacji hello, których będzie uruchamiany na powitania węzłów.</span><span class="sxs-lookup"><span data-stu-id="5d38c-334">When selecting a compute node size, consider hello characteristics and requirements of hello applications you'll run on hello nodes.</span></span> <span data-ttu-id="5d38c-335">Aspekty, takich jak określa, czy aplikacja hello jest wielowątkowe i ilość pamięci zużywa może pomóc określić rozmiaru węzła najbardziej odpowiedniego i ekonomiczne hello.</span><span class="sxs-lookup"><span data-stu-id="5d38c-335">Aspects like whether hello application is multithreaded and how much memory it consumes can help determine hello most suitable and cost-effective node size.</span></span> <span data-ttu-id="5d38c-336">To typowy tooselect, rozmiaru węzła, zakładając, że jedno zadanie zostanie uruchomiona w węźle naraz.</span><span class="sxs-lookup"><span data-stu-id="5d38c-336">It's typical tooselect a node size assuming one task will run on a node at a time.</span></span> <span data-ttu-id="5d38c-337">Jest jednak możliwe toohave wielu zadań (i w związku z tym wiele wystąpień aplikacji) [równolegle](batch-parallel-node-tasks.md) na węzłach obliczeniowych podczas wykonywania zadania.</span><span class="sxs-lookup"><span data-stu-id="5d38c-337">However, it is possible toohave multiple tasks (and therefore multiple application instances) [run in parallel](batch-parallel-node-tasks.md) on compute nodes during job execution.</span></span> <span data-ttu-id="5d38c-338">W takim przypadku jest typowe toochoose na większych węzła rozmiar tooaccommodate hello zwiększyć żądanie wykonania zadań równoległych.</span><span class="sxs-lookup"><span data-stu-id="5d38c-338">In this case, it is common toochoose a larger node size tooaccommodate hello increased demand of parallel task execution.</span></span> <span data-ttu-id="5d38c-339">Aby uzyskać więcej informacji, zobacz [Zasady planowania zadań podrzędnych](#task-scheduling-policy).</span><span class="sxs-lookup"><span data-stu-id="5d38c-339">See [Task scheduling policy](#task-scheduling-policy) for more information.</span></span>

<span data-ttu-id="5d38c-340">Wszystkie węzły hello w puli są hello sam rozmiar.</span><span class="sxs-lookup"><span data-stu-id="5d38c-340">All of hello nodes in a pool are hello same size.</span></span> <span data-ttu-id="5d38c-341">Jeśli możesz mają aplikacje toorun różne wymagania systemowe i/lub obciążenia poziomy, zalecane jest użycie oddzielnych pule.</span><span class="sxs-lookup"><span data-stu-id="5d38c-341">If you intend toorun applications with differing system requirements and/or load levels, we recommend that you use separate pools.</span></span>

### <a name="scaling-policy"></a><span data-ttu-id="5d38c-342">Zasady skalowania</span><span class="sxs-lookup"><span data-stu-id="5d38c-342">Scaling policy</span></span>

<span data-ttu-id="5d38c-343">Dynamiczne obciążeń można zapisać i stosować [automatyczne skalowanie formuła](#scaling-compute-resources) tooa puli.</span><span class="sxs-lookup"><span data-stu-id="5d38c-343">For dynamic workloads, you can write and apply an [auto-scaling formula](#scaling-compute-resources) tooa pool.</span></span> <span data-ttu-id="5d38c-344">Witaj usługa partia zadań okresowo ocenia formuły i koryguje hello liczbę węzłów w ramach puli hello na podstawie różnych puli, zadania i parametry zadania, które można określić.</span><span class="sxs-lookup"><span data-stu-id="5d38c-344">hello Batch service periodically evaluates your formula and adjusts hello number of nodes within hello pool based on various pool, job, and task parameters that you can specify.</span></span>

### <a name="task-scheduling-policy"></a><span data-ttu-id="5d38c-345">Zasady planowania zadań podrzędnych</span><span class="sxs-lookup"><span data-stu-id="5d38c-345">Task scheduling policy</span></span>

<span data-ttu-id="5d38c-346">Witaj [maksymalnej liczby zadań na węzeł](batch-parallel-node-tasks.md) opcji konfiguracji określa maksymalną liczbę zadań, które mogą być uruchamiane równolegle na każdym węźle obliczeń w puli hello hello.</span><span class="sxs-lookup"><span data-stu-id="5d38c-346">hello [max tasks per node](batch-parallel-node-tasks.md) configuration option determines hello maximum number of tasks that can be run in parallel on each compute node within hello pool.</span></span>

<span data-ttu-id="5d38c-347">Hello domyślna konfiguracja Określa, że działa jedno zadanie naraz w węźle, ale w przypadku scenariuszy, w których jest korzystne toohave co najmniej dwa zadania wykonywane w węźle jednocześnie.</span><span class="sxs-lookup"><span data-stu-id="5d38c-347">hello default configuration specifies that one task at a time runs on a node, but there are scenarios where it is beneficial toohave two or more tasks executed on a node simultaneously.</span></span> <span data-ttu-id="5d38c-348">Zobacz hello [przykładowy scenariusz](batch-parallel-node-tasks.md#example-scenario) w hello [węzła równoczesnych zadań](batch-parallel-node-tasks.md) toosee artykułu, jak można korzystać z wielu zadań na węzeł.</span><span class="sxs-lookup"><span data-stu-id="5d38c-348">See hello [example scenario](batch-parallel-node-tasks.md#example-scenario) in hello [concurrent node tasks](batch-parallel-node-tasks.md) article toosee how you can benefit from multiple tasks per node.</span></span>

<span data-ttu-id="5d38c-349">Można również określić *typ wypełnienia* który określa, czy partii rozprzestrzenia zadania hello równomiernie we wszystkich węzłach w puli, czy pakiety każdego węzła za hello maksymalna liczba zadań przed przypisaniem węzeł tooanother zadania.</span><span class="sxs-lookup"><span data-stu-id="5d38c-349">You can also specify a *fill type* which determines whether Batch spreads hello tasks evenly across all nodes in a pool, or packs each node with hello maximum number of tasks before assigning tasks tooanother node.</span></span>

### <a name="communication-status-for-compute-nodes"></a><span data-ttu-id="5d38c-350">Stan komunikacji węzłów obliczeniowych</span><span class="sxs-lookup"><span data-stu-id="5d38c-350">Communication status for compute nodes</span></span>

<span data-ttu-id="5d38c-351">W większości przypadków zadania działać niezależnie i nie ma potrzeby toocommunicate ze sobą.</span><span class="sxs-lookup"><span data-stu-id="5d38c-351">In most scenarios, tasks operate independently and do not need toocommunicate with one another.</span></span> <span data-ttu-id="5d38c-352">Jednak w niektórych aplikacjach będzie wymagana komunikacja między zadaniami podrzędnymi (np. w [scenariuszach MPI](batch-mpi.md)).</span><span class="sxs-lookup"><span data-stu-id="5d38c-352">However, there are some applications in which tasks must communicate, like [MPI scenarios](batch-mpi.md).</span></span>

<span data-ttu-id="5d38c-353">Można skonfigurować tooallow puli **komunikacji między węzłami**, dzięki czemu węzłów w puli może komunikować się w czasie wykonywania.</span><span class="sxs-lookup"><span data-stu-id="5d38c-353">You can configure a pool tooallow **internode communication**, so that nodes within a pool can communicate at runtime.</span></span> <span data-ttu-id="5d38c-354">Po włączeniu komunikacji międzywęzłowej węzły w pulach konfiguracji usług Cloud Services mogą komunikować się ze sobą na portach większych niż 1100, a w przypadku pul konfiguracji usługi Virtual Machines ruch nie jest ograniczony do żadnego portu.</span><span class="sxs-lookup"><span data-stu-id="5d38c-354">When internode communication is enabled, nodes in Cloud Services Configuration pools can communicate with each other on ports greater than 1100, and Virtual Machine Configuration pools do not restrict traffic on any port.</span></span>

<span data-ttu-id="5d38c-355">Warto zauważyć, że włączenie komunikacji między węzłami również wpływa na rozmieszczenie hello hello węzłów w ramach klastrów może ograniczyć hello maksymalną liczbę węzłów w puli z powodu ograniczeń wdrożenia.</span><span class="sxs-lookup"><span data-stu-id="5d38c-355">Note that enabling internode communication also impacts hello placement of hello nodes within clusters and might limit hello maximum number of nodes in a pool because of deployment restrictions.</span></span> <span data-ttu-id="5d38c-356">Jeśli aplikacja nie wymaga komunikacji między węzłami, hello usługa partia zadań można przydzielić potencjalnie dużej liczby węzłów puli toohello z wielu różnych klastrów i centrów danych tooenable zwiększyć możliwości przetwarzania równoległego.</span><span class="sxs-lookup"><span data-stu-id="5d38c-356">If your application does not require communication between nodes, hello Batch service can allocate a potentially large number of nodes toohello pool from many different clusters and datacenters tooenable increased parallel processing power.</span></span>

### <a name="start-tasks-for-compute-nodes"></a><span data-ttu-id="5d38c-357">Zadanie podrzędne uruchamiania dla węzłów obliczeniowych</span><span class="sxs-lookup"><span data-stu-id="5d38c-357">Start tasks for compute nodes</span></span>

<span data-ttu-id="5d38c-358">opcjonalne Hello *Uruchom zadanie* wykonywane na każdym węźle, ponieważ ten węzeł dołącza hello puli i każdym razem, kiedy węzeł zostanie ponownie uruchomiony lub odtworzyć z obrazu.</span><span class="sxs-lookup"><span data-stu-id="5d38c-358">hello optional *start task* executes on each node as that node joins hello pool, and each time a node is restarted or reimaged.</span></span> <span data-ttu-id="5d38c-359">zadania uruchamiania Hello jest szczególnie przydatna w przypadku przygotowywania węzły obliczeniowe hello wykonywania zadań, takich jak instalowanie aplikacji hello, które zadania uruchamiane na powitania węzłów obliczeniowych.</span><span class="sxs-lookup"><span data-stu-id="5d38c-359">hello start task is especially useful for preparing compute nodes for hello execution of tasks, like installing hello applications that your tasks run on hello compute nodes.</span></span>

### <a name="application-packages"></a><span data-ttu-id="5d38c-360">Pakiety aplikacji</span><span class="sxs-lookup"><span data-stu-id="5d38c-360">Application packages</span></span>

<span data-ttu-id="5d38c-361">Można określić [pakietów aplikacji](#application-packages) toodeploy toohello obliczeniowe węzłów w puli hello.</span><span class="sxs-lookup"><span data-stu-id="5d38c-361">You can specify [application packages](#application-packages) toodeploy toohello compute nodes in hello pool.</span></span> <span data-ttu-id="5d38c-362">Pakiety aplikacji zapewniają uproszczone wdrażanie i wersji aplikacji hello, których uruchamianie zadań.</span><span class="sxs-lookup"><span data-stu-id="5d38c-362">Application packages provide simplified deployment and versioning of hello applications that your tasks run.</span></span> <span data-ttu-id="5d38c-363">Pakiety aplikacji wybrane dla puli są instalowane w każdym węźle dołączanym do puli oraz za każdym razem, gdy węzeł jest ponownie uruchamiany lub odtwarzany z obrazu.</span><span class="sxs-lookup"><span data-stu-id="5d38c-363">Application packages that you specify for a pool are installed on every node that joins that pool, and every time a node is rebooted or reimaged.</span></span>

> [!NOTE]
> <span data-ttu-id="5d38c-364">Pakiety aplikacji są obsługiwane we wszystkich pulach usługi Batch utworzonych po 5 lipca 2017 r.</span><span class="sxs-lookup"><span data-stu-id="5d38c-364">Application packages are supported on all Batch pools created after 5 July 2017.</span></span> <span data-ttu-id="5d38c-365">Są one obsługiwane w pulach partii utworzyć między 10 marca 2016 i 5 2017 lipca tylko wtedy, gdy pula hello został utworzony za pomocą konfiguracji usługi w chmurze.</span><span class="sxs-lookup"><span data-stu-id="5d38c-365">They are supported on Batch pools created between 10 March 2016 and 5 July 2017 only if hello pool was created using a Cloud Service configuration.</span></span> <span data-ttu-id="5d38c-366">Pule partii utworzone przed too10 marca 2016 r nie obsługują pakietów aplikacji.</span><span class="sxs-lookup"><span data-stu-id="5d38c-366">Batch pools created prior too10 March 2016 do not support application packages.</span></span> <span data-ttu-id="5d38c-367">Aby uzyskać więcej informacji dotyczących używania aplikacji pakiety toodeploy węzły partii tooyour aplikacji, zobacz [wdrożyć aplikacje toocompute węzły z pakietami aplikacji partii](batch-application-packages.md).</span><span class="sxs-lookup"><span data-stu-id="5d38c-367">For more information about using application packages toodeploy your applications tooyour Batch nodes, see [Deploy applications toocompute nodes with Batch application packages](batch-application-packages.md).</span></span>
>
>

### <a name="network-configuration"></a><span data-ttu-id="5d38c-368">Konfiguracja sieci</span><span class="sxs-lookup"><span data-stu-id="5d38c-368">Network configuration</span></span>

<span data-ttu-id="5d38c-369">Można określić podsieci hello Azure [sieć wirtualną (VNet)](../virtual-network/virtual-networks-overview.md) w puli które hello obliczeń należy utworzyć węzłów.</span><span class="sxs-lookup"><span data-stu-id="5d38c-369">You can specify hello subnet of an Azure [virtual network (VNet)](../virtual-network/virtual-networks-overview.md) in which hello pool's compute nodes should be created.</span></span> <span data-ttu-id="5d38c-370">Zobacz hello [konfiguracji sieci puli](#pool-network-configuration) sekcji, aby uzyskać więcej informacji.</span><span class="sxs-lookup"><span data-stu-id="5d38c-370">See hello [Pool network configuration](#pool-network-configuration) section for more information.</span></span>


## <a name="job"></a><span data-ttu-id="5d38c-371">Zadanie</span><span class="sxs-lookup"><span data-stu-id="5d38c-371">Job</span></span>
<span data-ttu-id="5d38c-372">Zadanie to kolekcja zadań podrzędnych.</span><span class="sxs-lookup"><span data-stu-id="5d38c-372">A job is a collection of tasks.</span></span> <span data-ttu-id="5d38c-373">Zarządza realizację jego zadań podrzędnych na powitania węzłów obliczeniowych w puli obliczeń.</span><span class="sxs-lookup"><span data-stu-id="5d38c-373">It manages how computation is performed by its tasks on hello compute nodes in a pool.</span></span>

* <span data-ttu-id="5d38c-374">zadanie Hello określa hello **puli** w których hello pracy jest toobe Uruchom.</span><span class="sxs-lookup"><span data-stu-id="5d38c-374">hello job specifies hello **pool** in which hello work is toobe run.</span></span> <span data-ttu-id="5d38c-375">Możesz utworzyć nową pulę dla każdego zadania lub używać jednej puli dla wielu zadań.</span><span class="sxs-lookup"><span data-stu-id="5d38c-375">You can create a new pool for each job, or use one pool for many jobs.</span></span> <span data-ttu-id="5d38c-376">Możesz utworzyć pulę dla każdego zadania skojarzonego z harmonogramem zadań lub dla wszystkich zadań skojarzonych z harmonogramem zadań.</span><span class="sxs-lookup"><span data-stu-id="5d38c-376">You can create a pool for each job that is associated with a job schedule, or for all jobs that are associated with a job schedule.</span></span>
* <span data-ttu-id="5d38c-377">Możesz określić opcjonalny **priorytet zadania**.</span><span class="sxs-lookup"><span data-stu-id="5d38c-377">You can specify an optional **job priority**.</span></span> <span data-ttu-id="5d38c-378">Po przesłaniu zadania mające wyższy priorytet niż zadania, które są obecnie w toku hello zadań dla zadania o wyższym priorytecie hello są wstawiane do kolejki hello wcześniejsze zadań dla zadania o niższym priorytecie hello.</span><span class="sxs-lookup"><span data-stu-id="5d38c-378">When a job is submitted with a higher priority than jobs that are currently in progress, hello tasks for hello higher-priority job are inserted into hello queue ahead of tasks for hello lower-priority jobs.</span></span> <span data-ttu-id="5d38c-379">Zadania podrzędne w zadaniach o niższym priorytecie, które zostały już uruchomione, nie są przerywane.</span><span class="sxs-lookup"><span data-stu-id="5d38c-379">Tasks in lower-priority jobs that are already running are not preempted.</span></span>
* <span data-ttu-id="5d38c-380">Należy użyć zadania **ograniczenia** toospecify pewnych ograniczeń dla zadań:</span><span class="sxs-lookup"><span data-stu-id="5d38c-380">You can use job **constraints** toospecify certain limits for your jobs:</span></span>

    <span data-ttu-id="5d38c-381">Można ustawić **wallclock maksymalny czas**, dzięki czemu, gdy zadanie działa przez czas dłuższy niż hello wallclock maksymalny czas, kończą hello zadania i wszystkie jego zadań podrzędnych.</span><span class="sxs-lookup"><span data-stu-id="5d38c-381">You can set a **maximum wallclock time**, so that if a job runs for longer than hello maximum wallclock time that is specified, hello job and all of its tasks are terminated.</span></span>

    <span data-ttu-id="5d38c-382">Usługa Batch może wykrywać zadania podrzędne zakończone niepowodzeniem, a następnie ponownie próbować je uruchomić.</span><span class="sxs-lookup"><span data-stu-id="5d38c-382">Batch can detect and then retry failed tasks.</span></span> <span data-ttu-id="5d38c-383">Można określić hello **maksymalnej liczby ponownych prób zadań** jako ograniczenie, w tym zadania *zawsze* lub *nigdy nie* ponowione.</span><span class="sxs-lookup"><span data-stu-id="5d38c-383">You can specify hello **maximum number of task retries** as a constraint, including whether a task is *always* or *never* retried.</span></span> <span data-ttu-id="5d38c-384">Ponawianie próby zadania oznacza, że to zadanie hello toobe umieszczony w kolejce, uruchom ponownie.</span><span class="sxs-lookup"><span data-stu-id="5d38c-384">Retrying a task means that hello task is requeued toobe run again.</span></span>
* <span data-ttu-id="5d38c-385">Aplikacja kliencka można dodać zadania tooa zadania lub określić [zadanie Menedżer zadania](#job-manager-task).</span><span class="sxs-lookup"><span data-stu-id="5d38c-385">Your client application can add tasks tooa job, or you can specify a [job manager task](#job-manager-task).</span></span> <span data-ttu-id="5d38c-386">Zadanie Menedżer zadania zawiera hello informacje, które są niezbędne toocreate hello wymaganych zadań dla zadania, zadania Menedżer zadania hello uruchomione na jednym z hello węzły w puli hello obliczeniowe.</span><span class="sxs-lookup"><span data-stu-id="5d38c-386">A job manager task contains hello information that is necessary toocreate hello required tasks for a job, with hello job manager task being run on one of hello compute nodes in hello pool.</span></span> <span data-ttu-id="5d38c-387">Witaj zadanie Menedżer zadania jest obsługiwane w szczególności przez partię — jest Zakolejkowane natychmiast hello zadania jest tworzony i zostanie ponownie uruchomiony, jeśli jej nie powiedzie się.</span><span class="sxs-lookup"><span data-stu-id="5d38c-387">hello job manager task is handled specifically by Batch--it is queued as soon as hello job is created, and is restarted if it fails.</span></span> <span data-ttu-id="5d38c-388">Zadanie Menedżer zadania jest *wymagane* dla zadań, które są tworzone przez [harmonogram zadań](#scheduled-jobs) ponieważ przed utworzeniem wystąpienia jest zadanie hello jest hello tylko sposób toodefine hello zadania.</span><span class="sxs-lookup"><span data-stu-id="5d38c-388">A job manager task is *required* for jobs that are created by a [job schedule](#scheduled-jobs) because it is hello only way toodefine hello tasks before hello job is instantiated.</span></span>
* <span data-ttu-id="5d38c-389">Domyślnie zadania pozostają w stanie aktywnym hello po zakończeniu wszystkich zadań w ramach zadania hello.</span><span class="sxs-lookup"><span data-stu-id="5d38c-389">By default, jobs remain in hello active state when all tasks within hello job are complete.</span></span> <span data-ttu-id="5d38c-390">Aby zmienić to zachowanie, dzięki czemu hello zadań kończy się automatycznie po zakończeniu wszystkich zadań w zadaniu hello.</span><span class="sxs-lookup"><span data-stu-id="5d38c-390">You can change this behavior so that hello job is automatically terminated when all tasks in hello job are complete.</span></span> <span data-ttu-id="5d38c-391">Zestaw hello zadania **onAllTasksComplete** właściwości ([OnAllTasksComplete] [ net_onalltaskscomplete] w partiami platformy .NET) zbyt*terminatejob* tooautomatically z chwilą zadania hello wszystkich swoich zadań znajdują się w stanie hello ukończone.</span><span class="sxs-lookup"><span data-stu-id="5d38c-391">Set hello job's **onAllTasksComplete** property ([OnAllTasksComplete][net_onalltaskscomplete] in Batch .NET) too*terminatejob* tooautomatically terminate hello job when all of its tasks are in hello completed state.</span></span>

    <span data-ttu-id="5d38c-392">Należy pamiętać, że usługa partia zadań hello uwzględnia zadania o *nie* toohave zadania wszystkie zadania zakończone.</span><span class="sxs-lookup"><span data-stu-id="5d38c-392">Note that hello Batch service considers a job with *no* tasks toohave all of its tasks completed.</span></span> <span data-ttu-id="5d38c-393">W związku z tym ta opcja jest najczęściej używana w przypadku [zadania podrzędnego Menedżera zadań](#job-manager-task).</span><span class="sxs-lookup"><span data-stu-id="5d38c-393">Therefore, this option is most commonly used with a [job manager task](#job-manager-task).</span></span> <span data-ttu-id="5d38c-394">Jeśli chcesz toouse zadanie automatycznego zakończenia bez Menedżer zadań należy ustawić początkowo nowe zadanie **onAllTasksComplete** właściwości zbyt*noaction*, ustawić także*terminatejob* dopiero po zakończeniu dodawania zadań toohello zadania.</span><span class="sxs-lookup"><span data-stu-id="5d38c-394">If you want toouse automatic job termination without a job manager, you should initially set a new job's **onAllTasksComplete** property too*noaction*, then set it too*terminatejob* only after you've finished adding tasks toohello job.</span></span>

### <a name="job-priority"></a><span data-ttu-id="5d38c-395">Priorytet zadań</span><span class="sxs-lookup"><span data-stu-id="5d38c-395">Job priority</span></span>
<span data-ttu-id="5d38c-396">Można przypisać toojobs priorytetu, które są tworzone w partii.</span><span class="sxs-lookup"><span data-stu-id="5d38c-396">You can assign a priority toojobs that you create in Batch.</span></span> <span data-ttu-id="5d38c-397">wartość priorytetu hello hello zadania toodetermine hello kolejność planowania zadań w ramach konta używa Hello usługa partia zadań (nie jest to toobe mylić z [zaplanowane zadanie](#scheduled-jobs)).</span><span class="sxs-lookup"><span data-stu-id="5d38c-397">hello Batch service uses hello priority value of hello job toodetermine hello order of job scheduling within an account (this is not toobe confused with a [scheduled job](#scheduled-jobs)).</span></span> <span data-ttu-id="5d38c-398">wartości priorytetu Hello należeć do zakresu od -1000 too1000, przy czym -1000 jest hello najniższy priorytet, a 1000 hello najwyższy.</span><span class="sxs-lookup"><span data-stu-id="5d38c-398">hello priority values range from -1000 too1000, with -1000 being hello lowest priority and 1000 being hello highest.</span></span> <span data-ttu-id="5d38c-399">priorytet hello tooupdate zadania hello wywołania [hello właściwości zadania aktualizacji] [ rest_update_job] operacji (REST partii), lub zmodyfikuj hello [CloudJob.Priority] [ net_cloudjob_priority] właściwości (partiami platformy .NET).</span><span class="sxs-lookup"><span data-stu-id="5d38c-399">tooupdate hello priority of a job, call hello [Update hello properties of a job][rest_update_job] operation (Batch REST), or modify hello [CloudJob.Priority][net_cloudjob_priority] property (Batch .NET).</span></span>

<span data-ttu-id="5d38c-400">W ramach hello tego samego konta, wyższy priorytet zadania mają planowania pierwszeństwo nad zadania o niższym priorytecie.</span><span class="sxs-lookup"><span data-stu-id="5d38c-400">Within hello same account, higher-priority jobs have scheduling precedence over lower-priority jobs.</span></span> <span data-ttu-id="5d38c-401">Zadanie o wyższym priorytecie na jednym koncie nie ma pierwszeństwa planowania nad innym zadaniem o niższym priorytecie na innym koncie.</span><span class="sxs-lookup"><span data-stu-id="5d38c-401">A job with a higher-priority value in one account does not have scheduling precedence over another job with a lower-priority value in a different account.</span></span>

<span data-ttu-id="5d38c-402">Planowanie zadań między pulami odbywa się niezależnie.</span><span class="sxs-lookup"><span data-stu-id="5d38c-402">Job scheduling across pools is independent.</span></span> <span data-ttu-id="5d38c-403">Między różnymi pulami nie ma żadnej gwarancji, że zadanie o wyższym priorytecie zostanie zaplanowane jako pierwsze, jeśli w skojarzonej z nim puli brakuje bezczynnych węzłów.</span><span class="sxs-lookup"><span data-stu-id="5d38c-403">Between different pools, it is not guaranteed that a higher-priority job is scheduled first if its associated pool is short of idle nodes.</span></span> <span data-ttu-id="5d38c-404">W hello tej samej puli, zadania z hello sam priorytet mają taki sam sposób przez cały czas zaplanowane.</span><span class="sxs-lookup"><span data-stu-id="5d38c-404">In hello same pool, jobs with hello same priority level have an equal chance of being scheduled.</span></span>

### <a name="scheduled-jobs"></a><span data-ttu-id="5d38c-405">Zaplanowane zadania</span><span class="sxs-lookup"><span data-stu-id="5d38c-405">Scheduled jobs</span></span>
<span data-ttu-id="5d38c-406">[Harmonogramy zadań] [ rest_job_schedules] pozwalają toocreate zadań cyklicznych, w ramach hello usługa partia zadań.</span><span class="sxs-lookup"><span data-stu-id="5d38c-406">[Job schedules][rest_job_schedules] enable you toocreate recurring jobs within hello Batch service.</span></span> <span data-ttu-id="5d38c-407">Harmonogram zadania określa po toorun zadania i zawiera specyfikacje hello hello toobe zadania uruchamiania.</span><span class="sxs-lookup"><span data-stu-id="5d38c-407">A job schedule specifies when toorun jobs and includes hello specifications for hello jobs toobe run.</span></span> <span data-ttu-id="5d38c-408">Można określić czas trwania hello harmonogramu hello —, jak długo po hello harmonogram obowiązuje — i jak często zadania są tworzone podczas hello zaplanowany okres.</span><span class="sxs-lookup"><span data-stu-id="5d38c-408">You can specify hello duration of hello schedule--how long and when hello schedule is in effect--and how frequently jobs are created during hello scheduled period.</span></span>

## <a name="task"></a><span data-ttu-id="5d38c-409">Zadanie</span><span class="sxs-lookup"><span data-stu-id="5d38c-409">Task</span></span>
<span data-ttu-id="5d38c-410">Zadanie podrzędne to jednostka obliczeniowa skojarzona z zadaniem.</span><span class="sxs-lookup"><span data-stu-id="5d38c-410">A task is a unit of computation that is associated with a job.</span></span> <span data-ttu-id="5d38c-411">Jest ono uruchamiane w węźle.</span><span class="sxs-lookup"><span data-stu-id="5d38c-411">It runs on a node.</span></span> <span data-ttu-id="5d38c-412">Zadania są przypisane tooa węzła w celu wykonywania lub są umieszczane w kolejce, dopóki zwolnieniu węzła.</span><span class="sxs-lookup"><span data-stu-id="5d38c-412">Tasks are assigned tooa node for execution, or are queued until a node becomes free.</span></span> <span data-ttu-id="5d38c-413">Po prostu umieść, zadanie działa programów lub skryptów na obliczeń węzła tooperform hello pracy potrzebne.</span><span class="sxs-lookup"><span data-stu-id="5d38c-413">Put simply, a task runs one or more programs or scripts on a compute node tooperform hello work you need done.</span></span>

<span data-ttu-id="5d38c-414">Podczas tworzenia zadania podrzędnego można określić:</span><span class="sxs-lookup"><span data-stu-id="5d38c-414">When you create a task, you can specify:</span></span>

* <span data-ttu-id="5d38c-415">Witaj **wiersza polecenia** hello zadania.</span><span class="sxs-lookup"><span data-stu-id="5d38c-415">hello **command line** for hello task.</span></span> <span data-ttu-id="5d38c-416">Jest to hello wiersz polecenia, który działa w węźle obliczeń hello aplikacji lub skryptu.</span><span class="sxs-lookup"><span data-stu-id="5d38c-416">This is hello command line that runs your application or script on hello compute node.</span></span>

    <span data-ttu-id="5d38c-417">Jest ważne toonote, który hello wiersza polecenia nie jest rzeczywiście uruchamiany w powłoce.</span><span class="sxs-lookup"><span data-stu-id="5d38c-417">It is important toonote that hello command line does not actually run under a shell.</span></span> <span data-ttu-id="5d38c-418">W związku z tym natywnie nie może przyjąć korzystać z funkcji powłoki, takie jak [zmiennej środowiskowej](#environment-settings-for-tasks) rozszerzenia (dotyczy to również hello `PATH`).</span><span class="sxs-lookup"><span data-stu-id="5d38c-418">Therefore, it cannot natively take advantage of shell features like [environment variable](#environment-settings-for-tasks) expansion (this includes hello `PATH`).</span></span> <span data-ttu-id="5d38c-419">tootake korzystać z takich funkcji, należy wywołać hello powłoki w wierszu polecenia hello — na przykład uruchamiając `cmd.exe` w węzłach systemu Windows lub `/bin/sh` w systemie Linux:</span><span class="sxs-lookup"><span data-stu-id="5d38c-419">tootake advantage of such features, you must invoke hello shell in hello command line--for example, by launching `cmd.exe` on Windows nodes or `/bin/sh` on Linux:</span></span>

    `cmd /c MyTaskApplication.exe %MY_ENV_VAR%`

    `/bin/sh -c MyTaskApplication $MY_ENV_VAR`

    <span data-ttu-id="5d38c-420">W przypadku zadania konieczne toorun aplikacji lub skrypt, który nie znajduje się w hello węzła `PATH` lub odwołać zmiennych środowiskowych, wywołaj powłoki hello jawnie w wierszu polecenia zadania hello.</span><span class="sxs-lookup"><span data-stu-id="5d38c-420">If your tasks need toorun an application or script that is not in hello node's `PATH` or reference environment variables, invoke hello shell explicitly in hello task command line.</span></span>
* <span data-ttu-id="5d38c-421">**Pliki zasobów** zawierających toobe danych hello przetworzone.</span><span class="sxs-lookup"><span data-stu-id="5d38c-421">**Resource files** that contain hello data toobe processed.</span></span> <span data-ttu-id="5d38c-422">Te pliki są automatycznie skopiowane toohello węzła z magazynu obiektów Blob na koncie magazynu Azure ogólnego przeznaczenia, przed wykonaniem zadań hello wiersza polecenia.</span><span class="sxs-lookup"><span data-stu-id="5d38c-422">These files are automatically copied toohello node from Blob storage in a general-purpose Azure Storage account before hello task's command line is executed.</span></span> <span data-ttu-id="5d38c-423">Aby uzyskać więcej informacji, zobacz sekcje hello [zadania uruchamiania](#start-task) i [plików i katalogów](#files-and-directories).</span><span class="sxs-lookup"><span data-stu-id="5d38c-423">For more information, see hello sections [Start task](#start-task) and [Files and directories](#files-and-directories).</span></span>
* <span data-ttu-id="5d38c-424">Witaj **zmiennych środowiskowych** wymagane przez aplikację.</span><span class="sxs-lookup"><span data-stu-id="5d38c-424">hello **environment variables** that are required by your application.</span></span> <span data-ttu-id="5d38c-425">Aby uzyskać więcej informacji, zobacz hello [ustawienia środowiska dla zadań](#environment-settings-for-tasks) sekcji.</span><span class="sxs-lookup"><span data-stu-id="5d38c-425">For more information, see hello [Environment settings for tasks](#environment-settings-for-tasks) section.</span></span>
* <span data-ttu-id="5d38c-426">Witaj **ograniczenia** pod które hello mają być wykonywane zadania.</span><span class="sxs-lookup"><span data-stu-id="5d38c-426">hello **constraints** under which hello task should execute.</span></span> <span data-ttu-id="5d38c-427">Na przykład ograniczenia obejmują hello maksymalny czas zadania hello jest dozwolona toorun, hello maksymalną liczbę razy, należy wykonać ponownie zadania zakończone niepowodzeniem, i hello maksymalny czas, który pliki w katalogu roboczym hello zadania są zachowywane.</span><span class="sxs-lookup"><span data-stu-id="5d38c-427">For example, constraints include hello maximum time that hello task is allowed toorun, hello maximum number of times a failed task should be retried, and hello maximum time that files in hello task's working directory are retained.</span></span>
* <span data-ttu-id="5d38c-428">**Pakiety aplikacji** toodeploy toohello obliczeniowe węzeł, na którym hello zadanie jest zaplanowane toorun.</span><span class="sxs-lookup"><span data-stu-id="5d38c-428">**Application packages** toodeploy toohello compute node on which hello task is scheduled toorun.</span></span> <span data-ttu-id="5d38c-429">[Pakiety aplikacji](#application-packages) uproszczone wdrażanie i wersji aplikacji hello, których uruchamianie zadań.</span><span class="sxs-lookup"><span data-stu-id="5d38c-429">[Application packages](#application-packages) provide simplified deployment and versioning of hello applications that your tasks run.</span></span> <span data-ttu-id="5d38c-430">Pakiety aplikacji na poziomie zadania są szczególnie przydatne w środowiskach udostępnionych puli, której różne zadania są uruchamiane w jednej puli i hello puli nie zostanie usunięta po zakończeniu zadania.</span><span class="sxs-lookup"><span data-stu-id="5d38c-430">Task-level application packages are especially useful in shared-pool environments, where different jobs are run on one pool, and hello pool is not deleted when a job is completed.</span></span> <span data-ttu-id="5d38c-431">Jeśli zadanie ma mniejszą liczbę zadań niż węzłów w puli hello, pakiety aplikacji zadań można zminimalizować transfer danych, ponieważ aplikacja jest wdrożony toohello tylko węzły, które uruchamiania zadań.</span><span class="sxs-lookup"><span data-stu-id="5d38c-431">If your job has fewer tasks than nodes in hello pool, task application packages can minimize data transfer since your application is deployed only toohello nodes that run tasks.</span></span>

<span data-ttu-id="5d38c-432">Ponadto należy zdefiniować w węźle obliczeń tooperform tootasks, powitania po specjalnych zadań podawane są również przez usługi partia zadań hello:</span><span class="sxs-lookup"><span data-stu-id="5d38c-432">In addition tootasks you define tooperform computation on a node, hello following special tasks are also provided by hello Batch service:</span></span>

* [<span data-ttu-id="5d38c-433">Zadanie podrzędne uruchamiania</span><span class="sxs-lookup"><span data-stu-id="5d38c-433">Start task</span></span>](#start-task)
* [<span data-ttu-id="5d38c-434">Zadanie podrzędne Menedżera zadań</span><span class="sxs-lookup"><span data-stu-id="5d38c-434">Job manager task</span></span>](#job-manager-task)
* [<span data-ttu-id="5d38c-435">Zadania podrzędne przygotowania i zwolnienia zadań</span><span class="sxs-lookup"><span data-stu-id="5d38c-435">Job preparation and release tasks</span></span>](#job-preparation-and-release-tasks)
* [<span data-ttu-id="5d38c-436">Zadania podrzędne obejmujące wiele wystąpień (MPI)</span><span class="sxs-lookup"><span data-stu-id="5d38c-436">Multi-instance tasks (MPI)</span></span>](#multi-instance-tasks)
* [<span data-ttu-id="5d38c-437">Zależności zadań podrzędnych</span><span class="sxs-lookup"><span data-stu-id="5d38c-437">Task dependencies</span></span>](#task-dependencies)

### <a name="start-task"></a><span data-ttu-id="5d38c-438">Zadanie uruchamiania</span><span class="sxs-lookup"><span data-stu-id="5d38c-438">Start task</span></span>
<span data-ttu-id="5d38c-439">Kojarząc **Uruchom zadanie** z puli, można przygotować hello działających w środowisku z jego węzłów.</span><span class="sxs-lookup"><span data-stu-id="5d38c-439">By associating a **start task** with a pool, you can prepare hello operating environment of its nodes.</span></span> <span data-ttu-id="5d38c-440">Na przykład można wykonać akcji, takich jak instalowanie aplikacji hello, których uruchamianie zadań lub uruchamianie procesów w tle.</span><span class="sxs-lookup"><span data-stu-id="5d38c-440">For example, you can perform actions like installing hello applications that your tasks run or starting background processes.</span></span> <span data-ttu-id="5d38c-441">zadania uruchamiania Hello jest uruchamiany za każdym razem, gdy rozpoczyna się węzeł, dla tak długo, jak pozostaje w puli hello — tym, gdy węzeł hello jest najpierw dodać puli toohello i kiedy zostanie ponownie uruchomiony lub odtworzyć z obrazu.</span><span class="sxs-lookup"><span data-stu-id="5d38c-441">hello start task runs every time a node starts, for as long as it remains in hello pool--including when hello node is first added toohello pool and when it is restarted or reimaged.</span></span>

<span data-ttu-id="5d38c-442">Główną zaletą zadania uruchamiania hello jest można ją zawiera wszystkie informacje hello jest konieczne tooconfigure węźle obliczeń i instalację aplikacji hello, które są wymagane do wykonania zadania.</span><span class="sxs-lookup"><span data-stu-id="5d38c-442">A primary benefit of hello start task is that it can contain all of hello information that is necessary tooconfigure a compute node and install hello applications that are required for task execution.</span></span> <span data-ttu-id="5d38c-443">W związku z tym zwiększenie hello liczby węzłów w puli jest tak proste, jak określanie liczby węzeł docelowy nowych hello.</span><span class="sxs-lookup"><span data-stu-id="5d38c-443">Therefore, increasing hello number of nodes in a pool is as simple as specifying hello new target node count.</span></span> <span data-ttu-id="5d38c-444">zadania uruchamiania Hello zawiera hello partii usługi hello informacje, które jest wymagane tooconfigure hello nowe węzły i przygotowanie ich do akceptowania zadań.</span><span class="sxs-lookup"><span data-stu-id="5d38c-444">hello start task provides hello Batch service hello information that is needed tooconfigure hello new nodes and get them ready for accepting tasks.</span></span>

<span data-ttu-id="5d38c-445">Zgodnie z dowolnego zadania partii zadań Azure można określić listę **pliki zasobów** w [usługi Azure Storage][azure_storage], oprócz tooa **wiersza polecenia** toobe wykonywane.</span><span class="sxs-lookup"><span data-stu-id="5d38c-445">As with any Azure Batch task, you can specify a list of **resource files** in [Azure Storage][azure_storage], in addition tooa **command line** toobe executed.</span></span> <span data-ttu-id="5d38c-446">Usługa partia zadań Hello najpierw kopiuje hello zasobów plików toohello węzeł z usługi Azure Storage, a następnie wykonuje hello wiersza polecenia.</span><span class="sxs-lookup"><span data-stu-id="5d38c-446">hello Batch service first copies hello resource files toohello node from Azure Storage, and then runs hello command line.</span></span> <span data-ttu-id="5d38c-447">Zadania uruchamiania puli listy plików hello zazwyczaj zawiera hello zadań aplikacji i jej zależności.</span><span class="sxs-lookup"><span data-stu-id="5d38c-447">For a pool start task, hello file list typically contains hello task application and its dependencies.</span></span>

<span data-ttu-id="5d38c-448">Jednak hello rozpoczęcia zadań można także używane przez wszystkie zadania, które są uruchomione w węźle obliczeń hello toobe danych odwołania.</span><span class="sxs-lookup"><span data-stu-id="5d38c-448">However, hello start task could also include reference data toobe used by all tasks that are running on hello compute node.</span></span> <span data-ttu-id="5d38c-449">Na przykład można wykonać zadania uruchamiania wiersza polecenia `robocopy` operacji toocopy pliki aplikacji (które zostały określone w postaci plików zasobów i pobrać toohello węzła) z hello uruchomić zadania [katalog roboczy](#files-and-directories) toohello [folderu udostępnionego](#files-and-directories), a następnie uruchom Instalatora MSI lub `setup.exe`.</span><span class="sxs-lookup"><span data-stu-id="5d38c-449">For example, a start task's command line could perform a `robocopy` operation toocopy application files (which were specified as resource files and downloaded toohello node) from hello start task's [working directory](#files-and-directories) toohello [shared folder](#files-and-directories), and then run an MSI or `setup.exe`.</span></span>

<span data-ttu-id="5d38c-450">Zwykle pożądane jest na powitania partii usługi toowait dla hello rozpoczęcia zadań toocomplete przed uwzględnieniu hello węzła gotowe toobe przypisane zadania, ale można go skonfigurować.</span><span class="sxs-lookup"><span data-stu-id="5d38c-450">It is typically desirable for hello Batch service toowait for hello start task toocomplete before considering hello node ready toobe assigned tasks, but you can configure this.</span></span>

<span data-ttu-id="5d38c-451">Jeśli zadanie uruchamiania nie powiedzie się w węźle obliczeń, następnie hello węzła hello jest w stanie niepowodzenia hello tooreflect zaktualizowane i hello węzeł nie ma przydzielonych żadnych zadań.</span><span class="sxs-lookup"><span data-stu-id="5d38c-451">If a start task fails on a compute node, then hello state of hello node is updated tooreflect hello failure, and hello node is not assigned any tasks.</span></span> <span data-ttu-id="5d38c-452">Zadania uruchamiania może zakończyć się niepowodzeniem, jeśli wystąpi problem kopiowanie jego pliki zasobów z magazynu, czy Proces hello wykonywane przez jego wiersza polecenia zwraca kod zakończenia różną od zera.</span><span class="sxs-lookup"><span data-stu-id="5d38c-452">A start task can fail if there is an issue copying its resource files from storage, or if hello process executed by its command line returns a nonzero exit code.</span></span>

<span data-ttu-id="5d38c-453">Jeśli musisz dodać lub zaktualizować hello zadania uruchamiania dla istniejącej puli, musisz ponownie uruchomić jego węzły obliczeniowe hello rozpoczęcia zadań toobe stosowane toohello węzłów.</span><span class="sxs-lookup"><span data-stu-id="5d38c-453">If you add or update hello start task for an existing pool, you must reboot its compute nodes for hello start task toobe applied toohello nodes.</span></span>

>[!NOTE]
> <span data-ttu-id="5d38c-454">Witaj łączny rozmiar zadania uruchamiania musi być mniejsza lub równa znaków too32768, w tym plików zasobów i zmiennych środowiskowych.</span><span class="sxs-lookup"><span data-stu-id="5d38c-454">hello total size of a start task must be less than or equal too32768 characters, including resource files and environment variables.</span></span> <span data-ttu-id="5d38c-455">tooensure czy zadania rozpoczęcia spełnia tego wymagania, można użyć jednej z dwóch metod:</span><span class="sxs-lookup"><span data-stu-id="5d38c-455">tooensure that your start task meets this requirement, you can use one of two approaches:</span></span>
>
> 1. <span data-ttu-id="5d38c-456">Umożliwia aplikacji toodistribute pakiety aplikacji i danych w każdym węźle w puli partii.</span><span class="sxs-lookup"><span data-stu-id="5d38c-456">You can use application packages toodistribute applications or data across each node in your Batch pool.</span></span> <span data-ttu-id="5d38c-457">Aby uzyskać więcej informacji na temat pakietów aplikacji, zobacz [wdrożyć aplikacje toocompute węzły z pakietami aplikacji partii](batch-application-packages.md).</span><span class="sxs-lookup"><span data-stu-id="5d38c-457">For more information about application packages, see [Deploy applications toocompute nodes with Batch application packages](batch-application-packages.md).</span></span>
> 2. <span data-ttu-id="5d38c-458">Możesz ręcznie utworzyć skompresowane archiwum zawierające pliki aplikacji.</span><span class="sxs-lookup"><span data-stu-id="5d38c-458">You can manually create a zipped archive containing your applications files.</span></span> <span data-ttu-id="5d38c-459">Przekazywanie z archiwum zip tooAzure magazynu jako obiektu blob.</span><span class="sxs-lookup"><span data-stu-id="5d38c-459">Upload your zipped archive tooAzure Storage as a blob.</span></span> <span data-ttu-id="5d38c-460">Określ archiwum zip hello pliku zasobów w celu rozpoczęcia zadania.</span><span class="sxs-lookup"><span data-stu-id="5d38c-460">Specify hello zipped archive as a resource file for your start task.</span></span> <span data-ttu-id="5d38c-461">Przed uruchomieniem wiersza polecenia hello rozpoczęcia zadania, Rozpakuj archiwum hello z wiersza polecenia hello.</span><span class="sxs-lookup"><span data-stu-id="5d38c-461">Before you run hello command line for your start task, unzip hello archive from hello command line.</span></span> 
>
>    <span data-ttu-id="5d38c-462">archiwum hello toounzip, możesz użyć hello archiwizacji dowolnego narzędzia.</span><span class="sxs-lookup"><span data-stu-id="5d38c-462">toounzip hello archive, you can use hello archiving tool of your choice.</span></span> <span data-ttu-id="5d38c-463">Należy użyć archiwum hello toounzip jako plik zasobów na powitania zadanie uruchamiania narzędzia hello tooinclude.</span><span class="sxs-lookup"><span data-stu-id="5d38c-463">You will need tooinclude hello tool that you use toounzip hello archive as a resource file for hello start task.</span></span>
>
>

### <a name="job-manager-task"></a><span data-ttu-id="5d38c-464">Zadanie Menedżera zadań</span><span class="sxs-lookup"><span data-stu-id="5d38c-464">Job manager task</span></span>
<span data-ttu-id="5d38c-465">Zazwyczaj używają **zadanie Menedżer zadania** toocontrol i/lub monitor zadania wykonywania — na przykład toocreate i przesłać hello zadań dla zadania, określić dodatkowe zadania toorun i ustalić, po zakończeniu pracy.</span><span class="sxs-lookup"><span data-stu-id="5d38c-465">You typically use a **job manager task** toocontrol and/or monitor job execution--for example, toocreate and submit hello tasks for a job, determine additional tasks toorun, and determine when work is complete.</span></span> <span data-ttu-id="5d38c-466">Zadanie Menedżer zadania nie jest jednak ograniczony toothese działań.</span><span class="sxs-lookup"><span data-stu-id="5d38c-466">However, a job manager task is not restricted toothese activities.</span></span> <span data-ttu-id="5d38c-467">Jest całkowicie użytecznym zadanie, które mogą wykonywać wszystkie akcje, które są wymagane dla zadania hello.</span><span class="sxs-lookup"><span data-stu-id="5d38c-467">It is a fully fledged task that can perform any actions that are required for hello job.</span></span> <span data-ttu-id="5d38c-468">Na przykład zadanie Menedżer zadania może pobrać plik, który jest określony jako parametr, analizowanie hello zawartość tego pliku i przesłać dodatkowych zadań na podstawie tych zawartości.</span><span class="sxs-lookup"><span data-stu-id="5d38c-468">For example, a job manager task might download a file that is specified as a parameter, analyze hello contents of that file, and submit additional tasks based on those contents.</span></span>

<span data-ttu-id="5d38c-469">Zadanie podrzędne Menedżera zadań jest uruchamiane przed innymi zadaniami podrzędnymi.</span><span class="sxs-lookup"><span data-stu-id="5d38c-469">A job manager task is started before all other tasks.</span></span> <span data-ttu-id="5d38c-470">Udostępnia ona hello następujące funkcje:</span><span class="sxs-lookup"><span data-stu-id="5d38c-470">It provides hello following features:</span></span>

* <span data-ttu-id="5d38c-471">Jest automatycznie przesyłany jako zadanie przez hello usługa partia zadań po utworzeniu zadania hello.</span><span class="sxs-lookup"><span data-stu-id="5d38c-471">It is automatically submitted as a task by hello Batch service when hello job is created.</span></span>
* <span data-ttu-id="5d38c-472">Jego jest zaplanowane tooexecute przed hello innych zadań w ramach zadania.</span><span class="sxs-lookup"><span data-stu-id="5d38c-472">It is scheduled tooexecute before hello other tasks in a job.</span></span>
* <span data-ttu-id="5d38c-473">Jego skojarzony węzeł jest hello toobe ostatniego usunąć z puli, gdy jest on downsized hello puli.</span><span class="sxs-lookup"><span data-stu-id="5d38c-473">Its associated node is hello last toobe removed from a pool when hello pool is being downsized.</span></span>
* <span data-ttu-id="5d38c-474">Kończenie jego działania może być wiązanej toohello zakończenie wszystkich zadań w zadaniu hello.</span><span class="sxs-lookup"><span data-stu-id="5d38c-474">Its termination can be tied toohello termination of all tasks in hello job.</span></span>
* <span data-ttu-id="5d38c-475">Zadanie Menedżer zadania otrzymuje hello najwyższy priorytet podczas musi toobe ponownego uruchomienia.</span><span class="sxs-lookup"><span data-stu-id="5d38c-475">A job manager task is given hello highest priority when it needs toobe restarted.</span></span> <span data-ttu-id="5d38c-476">Jeśli węzeł bezczynności nie jest dostępny, hello usługa partia zadań może zakończyć jedną hello inne uruchomione zadania w pomieszczeniu toomake puli hello na powitania zadania Menedżera zadań toorun.</span><span class="sxs-lookup"><span data-stu-id="5d38c-476">If an idle node is not available, hello Batch service might terminate one of hello other running tasks in hello pool toomake room for hello job manager task toorun.</span></span>
* <span data-ttu-id="5d38c-477">Zadanie Menedżer zadania jedno zadanie nie mają pierwszeństwo przed zadania hello innych zadań.</span><span class="sxs-lookup"><span data-stu-id="5d38c-477">A job manager task in one job does not have priority over hello tasks of other jobs.</span></span> <span data-ttu-id="5d38c-478">W zadaniach przestrzegane są tylko priorytety na poziomie zadań.</span><span class="sxs-lookup"><span data-stu-id="5d38c-478">Across jobs, only job-level priorities are observed.</span></span>

### <a name="job-preparation-and-release-tasks"></a><span data-ttu-id="5d38c-479">Zadania przygotowania i zwolnienia zadań</span><span class="sxs-lookup"><span data-stu-id="5d38c-479">Job preparation and release tasks</span></span>
<span data-ttu-id="5d38c-480">Usługa Batch oferuje zadania podrzędne przygotowywania zadania na potrzeby konfiguracji przed wykonaniem zadania.</span><span class="sxs-lookup"><span data-stu-id="5d38c-480">Batch provides job preparation tasks for pre-job execution setup.</span></span> <span data-ttu-id="5d38c-481">Zadania podrzędne zwolnienia zadania to zadania konserwacji lub czyszczenia po wykonaniu zadania.</span><span class="sxs-lookup"><span data-stu-id="5d38c-481">Job release tasks are for post-job maintenance or cleanup.</span></span>

* <span data-ttu-id="5d38c-482">**Zadanie przygotowanie zadania**: uruchamia zadanie przygotowanie zadania na wszystkie węzły obliczeniowe, które są toorun zaplanowanego zadania, przed każdą hello są wykonywane inne zadania.</span><span class="sxs-lookup"><span data-stu-id="5d38c-482">**Job preparation task**: A job preparation task runs on all compute nodes that are scheduled toorun tasks, before any of hello other job tasks are executed.</span></span> <span data-ttu-id="5d38c-483">Można użyć danych toocopy zadania przygotowanie zadania, który jest współużytkowana przez wszystkie zadania, ale jest unikatowy toohello zadania, na przykład.</span><span class="sxs-lookup"><span data-stu-id="5d38c-483">You can use a job preparation task toocopy data that is shared by all tasks, but is unique toohello job, for example.</span></span>
* <span data-ttu-id="5d38c-484">**Zadanie zwolnienie zadania**: po ukończeniu zadania zadania Zwolnienie zadania działa na każdym węźle puli hello wykonywane co najmniej jedno zadanie.</span><span class="sxs-lookup"><span data-stu-id="5d38c-484">**Job release task**: When a job has completed, a job release task runs on each node in hello pool that executed at least one task.</span></span> <span data-ttu-id="5d38c-485">Na przykład można użyć zadania zlecenia zadań toodelete kopiowane dane to przez zadanie przygotowanie zadania hello lub toocompress i przekazywanie dzienników danych diagnostycznych.</span><span class="sxs-lookup"><span data-stu-id="5d38c-485">You can use a job release task toodelete data that is copied by hello job preparation task, or toocompress and upload diagnostic log data, for example.</span></span>

<span data-ttu-id="5d38c-486">Oba zadania przygotowanie i zadania wersji pozwalają toospecify toorun wiersza polecenia po wywołaniu hello zadań.</span><span class="sxs-lookup"><span data-stu-id="5d38c-486">Both job preparation and release tasks allow you toospecify a command line toorun when hello task is invoked.</span></span> <span data-ttu-id="5d38c-487">Oferują one takie funkcje jak pobieranie plików, wykonywanie z podwyższonym poziomem uprawnień, niestandardowe zmienne środowiskowe, maksymalny czas trwania wykonywania, liczba ponownych prób i czas przechowywania pliku.</span><span class="sxs-lookup"><span data-stu-id="5d38c-487">They offer features like file download, elevated execution, custom environment variables, maximum execution duration, retry count, and file retention time.</span></span>

<span data-ttu-id="5d38c-488">Więcej informacji na temat zadań przygotowania i zwolnienia zadań znajduje się w temacie [Run job preparation and completion tasks on Azure Batch compute nodes](batch-job-prep-release.md) (Uruchamianie zadań przygotowania i ukończenia zadań w węzłach obliczeniowych w usłudze Azure Batch).</span><span class="sxs-lookup"><span data-stu-id="5d38c-488">For more information on job preparation and release tasks, see [Run job preparation and completion tasks on Azure Batch compute nodes](batch-job-prep-release.md).</span></span>

### <a name="multi-instance-task"></a><span data-ttu-id="5d38c-489">Zadanie podrzędne obejmujące wiele wystąpień</span><span class="sxs-lookup"><span data-stu-id="5d38c-489">Multi-instance task</span></span>
<span data-ttu-id="5d38c-490">A [zadań wielu wystąpieniach](batch-mpi.md) to zadanie, które jest skonfigurowany toorun na więcej niż jeden węzeł obliczeń jednocześnie.</span><span class="sxs-lookup"><span data-stu-id="5d38c-490">A [multi-instance task](batch-mpi.md) is a task that is configured toorun on more than one compute node simultaneously.</span></span> <span data-ttu-id="5d38c-491">Korzystając z wielu wystąpień zadania, można włączyć wysokiej wydajności scenariuszach obliczeniowych, które wymagają określenia grupy węzły obliczeniowe, które są przydzielone razem tooprocess pojedyncze obciążenie (takie jak wiadomości interfejsu (Passing Interface)).</span><span class="sxs-lookup"><span data-stu-id="5d38c-491">With multi-instance tasks, you can enable high-performance computing scenarios that require a group of compute nodes that are allocated together tooprocess a single workload (like Message Passing Interface (MPI)).</span></span>

<span data-ttu-id="5d38c-492">Szczegółowe omówienie na uruchomionych zadań MPI w partii przy użyciu biblioteki partiami platformy .NET hello, zapoznaj się z [użycie wielu wystąpień zadań toorun komunikat interfejsu (Passing Interface) aplikacji w partii zadań Azure](batch-mpi.md).</span><span class="sxs-lookup"><span data-stu-id="5d38c-492">For a detailed discussion on running MPI jobs in Batch by using hello Batch .NET library, check out [Use multi-instance tasks toorun Message Passing Interface (MPI) applications in Azure Batch](batch-mpi.md).</span></span>

### <a name="task-dependencies"></a><span data-ttu-id="5d38c-493">Zależności zadań</span><span class="sxs-lookup"><span data-stu-id="5d38c-493">Task dependencies</span></span>
<span data-ttu-id="5d38c-494">[Zależności zadań](batch-task-dependencies.md), jako hello oznacza nazwę, pozwalają toospecify zadania zależne od ukończenia hello innych zadań przed jej wykonanie.</span><span class="sxs-lookup"><span data-stu-id="5d38c-494">[Task dependencies](batch-task-dependencies.md), as hello name implies, allow you toospecify that a task depends on hello completion of other tasks before its execution.</span></span> <span data-ttu-id="5d38c-495">Ta funkcja zapewnia obsługę sytuacje, w których zadanie "podrzędne" zużywa hello wyjściowych zadania "nadrzędnego"--lub gdy niektóre inicjowania wymaganych przez podrzędne zadania wykonuje zadania nadrzędnego.</span><span class="sxs-lookup"><span data-stu-id="5d38c-495">This feature provides support for situations in which a "downstream" task consumes hello output of an "upstream" task--or when an upstream task performs some initialization that is required by a downstream task.</span></span> <span data-ttu-id="5d38c-496">toouse tej funkcji, należy najpierw pierwszy zależności zadań Włącz na zadania wsadowego.</span><span class="sxs-lookup"><span data-stu-id="5d38c-496">toouse this feature, you must first enable task dependencies on your Batch job.</span></span> <span data-ttu-id="5d38c-497">Następnie dla każdego zadania, który jest zależny od innego (lub inne), określ hello zadania, które zależy od tego zadania.</span><span class="sxs-lookup"><span data-stu-id="5d38c-497">Then, for each task that depends on another (or many others), you specify hello tasks which that task depends on.</span></span>

<span data-ttu-id="5d38c-498">Zależności zadań można skonfigurować scenariuszy, takich jak hello poniżej:</span><span class="sxs-lookup"><span data-stu-id="5d38c-498">With task dependencies, you can configure scenarios like hello following:</span></span>

* <span data-ttu-id="5d38c-499">*zadanie_podrzędne_B* zależy od *zadania_podrzędnego_A* (wykonywanie *zadania_podrzędnego_B* nie rozpocznie się, dopóki nie zostanie ukończone *zadanie_podrzędne_A*).</span><span class="sxs-lookup"><span data-stu-id="5d38c-499">*taskB* depends on *taskA* (*taskB* will not begin execution until *taskA* has completed).</span></span>
* <span data-ttu-id="5d38c-500">*zadanie_podrzędne_C* zależy od *zadania_podrzędnego_A* i *zadania_podrzędnego_B*.</span><span class="sxs-lookup"><span data-stu-id="5d38c-500">*taskC* depends on both *taskA* and *taskB*.</span></span>
* <span data-ttu-id="5d38c-501">*zadanie_podrzędne_D* zależy od wcześniejszego wykonania zakresu zadań podrzędnych, np. zadań od *1* do *10*.</span><span class="sxs-lookup"><span data-stu-id="5d38c-501">*taskD* depends on a range of tasks, such as tasks *1* through *10*, before it executes.</span></span>

<span data-ttu-id="5d38c-502">Zapoznaj się z [zadań zależności w partii zadań Azure](batch-task-dependencies.md) i hello [TaskDependencies] [ github_sample_taskdeps] przykładowy kod w hello [azure partii próbek] [ github_samples] Repozytorium GitHub, aby uzyskać więcej informacji szczegółowych o tej funkcji.</span><span class="sxs-lookup"><span data-stu-id="5d38c-502">Check out [Task dependencies in Azure Batch](batch-task-dependencies.md) and hello [TaskDependencies][github_sample_taskdeps] code sample in hello [azure-batch-samples][github_samples] GitHub repository for more in-depth details on this feature.</span></span>

## <a name="environment-settings-for-tasks"></a><span data-ttu-id="5d38c-503">Ustawienia środowiska dla zadań</span><span class="sxs-lookup"><span data-stu-id="5d38c-503">Environment settings for tasks</span></span>
<span data-ttu-id="5d38c-504">Poszczególne zadania wykonywane przez hello usługa partia zadań ma dostęp tooenvironment zmiennych, które ustawia w węzłach obliczeniowych.</span><span class="sxs-lookup"><span data-stu-id="5d38c-504">Each task executed by hello Batch service has access tooenvironment variables that it sets on compute nodes.</span></span> <span data-ttu-id="5d38c-505">Obejmuje to zdefiniowane przez hello usługa partia zadań zmienne środowiskowe ([usługa zdefiniowana][msdn_env_vars]) i zmiennych środowiskowych niestandardowych, które można zdefiniować dla zadań.</span><span class="sxs-lookup"><span data-stu-id="5d38c-505">This includes environment variables defined by hello Batch service ([service-defined][msdn_env_vars]) and custom environment variables that you can define for your tasks.</span></span> <span data-ttu-id="5d38c-506">Hello aplikacje i skrypty, których wykonanie zadań mają zmiennych środowiskowych toothese dostępu podczas wykonywania.</span><span class="sxs-lookup"><span data-stu-id="5d38c-506">hello applications and scripts your tasks execute have access toothese environment variables during execution.</span></span>

<span data-ttu-id="5d38c-507">Można ustawić zmienne środowiskowe niestandardowe na poziomie hello zadań, definiując hello *ustawienia środowiska* właściwości dla tych obiektów.</span><span class="sxs-lookup"><span data-stu-id="5d38c-507">You can set custom environment variables at hello task or job level by populating hello *environment settings* property for these entities.</span></span> <span data-ttu-id="5d38c-508">Na przykład, zobacz hello [dodać zadania tooa zadań] [ rest_add_task] operacji (interfejsu API REST partii) lub hello [CloudTask.EnvironmentSettings] [ net_cloudtask_env] i [ CloudJob.CommonEnvironmentSettings] [ net_job_env] właściwości w partiami platformy .NET.</span><span class="sxs-lookup"><span data-stu-id="5d38c-508">For example, see hello [Add a task tooa job][rest_add_task] operation (Batch REST API), or hello [CloudTask.EnvironmentSettings][net_cloudtask_env] and [CloudJob.CommonEnvironmentSettings][net_job_env] properties in Batch .NET.</span></span>

<span data-ttu-id="5d38c-509">Klient aplikacji lub usługi, można uzyskać zmiennych środowiskowych zadania, zarówno usługa zdefiniowana i niestandardowych, za pomocą hello [uzyskać informacje o zadaniu] [ rest_get_task_info] operacji (REST partii) lub uzyskując dostęp do Witaj [CloudTask.EnvironmentSettings] [ net_cloudtask_env] właściwości (partiami platformy .NET).</span><span class="sxs-lookup"><span data-stu-id="5d38c-509">Your client application or service can obtain a task's environment variables, both service-defined and custom, by using hello [Get information about a task][rest_get_task_info] operation (Batch REST) or by accessing hello [CloudTask.EnvironmentSettings][net_cloudtask_env] property (Batch .NET).</span></span> <span data-ttu-id="5d38c-510">Procesy wykonywane w węźle obliczeń mogą uzyskiwać dostęp do tych i innych zmiennych środowiskowych w węźle hello, na przykład za pomocą hello znanych `%VARIABLE_NAME%` (system Windows) lub `$VARIABLE_NAME` składni (Linux).</span><span class="sxs-lookup"><span data-stu-id="5d38c-510">Processes executing on a compute node can access these and other environment variables on hello node, for example, by using hello familiar `%VARIABLE_NAME%` (Windows) or `$VARIABLE_NAME` (Linux) syntax.</span></span>

<span data-ttu-id="5d38c-511">Pełna lista wszystkich zmiennych środowiskowych zdefiniowanych przez usługę jest dostępna w artykule dotyczącym [zmiennych środowiskowych węzłów obliczeniowych][msdn_env_vars].</span><span class="sxs-lookup"><span data-stu-id="5d38c-511">You can find a full list of all service-defined environment variables in [Compute node environment variables][msdn_env_vars].</span></span>

## <a name="files-and-directories"></a><span data-ttu-id="5d38c-512">Pliki i katalogi</span><span class="sxs-lookup"><span data-stu-id="5d38c-512">Files and directories</span></span>
<span data-ttu-id="5d38c-513">Każde zadanie podrzędne ma *katalog roboczy*, w którym tworzy pliki i katalogi (ich liczba może również wynosić zero).</span><span class="sxs-lookup"><span data-stu-id="5d38c-513">Each task has a *working directory* under which it creates zero or more files and directories.</span></span> <span data-ttu-id="5d38c-514">Ten katalog roboczy może służyć do przechowywania program hello uruchamiany przez zadanie hello, dane hello przetwarza, i hello wyjściowych przetwarzania hello, którą wykonuje.</span><span class="sxs-lookup"><span data-stu-id="5d38c-514">This working directory can be used for storing hello program that is run by hello task, hello data that it processes, and hello output of hello processing it performs.</span></span> <span data-ttu-id="5d38c-515">Wszystkie pliki i katalogi zadania są własnością hello zadań użytkownika.</span><span class="sxs-lookup"><span data-stu-id="5d38c-515">All files and directories of a task are owned by hello task user.</span></span>

<span data-ttu-id="5d38c-516">Witaj usługa partia zadań udostępnia część hello system plików na węzeł jako hello *katalog główny*.</span><span class="sxs-lookup"><span data-stu-id="5d38c-516">hello Batch service exposes a portion of hello file system on a node as hello *root directory*.</span></span> <span data-ttu-id="5d38c-517">Zadania można uzyskać dostępu do katalogu głównego hello odwołując hello `AZ_BATCH_NODE_ROOT_DIR` zmiennej środowiskowej.</span><span class="sxs-lookup"><span data-stu-id="5d38c-517">Tasks can access hello root directory by referencing hello `AZ_BATCH_NODE_ROOT_DIR` environment variable.</span></span> <span data-ttu-id="5d38c-518">Więcej informacji na temat korzystania ze zmiennych środowiskowych znajduje się w temacie[Environment settings for tasks](#environment-settings-for-tasks) (Ustawienia środowiska dla zadań).</span><span class="sxs-lookup"><span data-stu-id="5d38c-518">For more information about using environment variables, see [Environment settings for tasks](#environment-settings-for-tasks).</span></span>

<span data-ttu-id="5d38c-519">katalog główny Hello zawiera powitania po strukturę katalogów:</span><span class="sxs-lookup"><span data-stu-id="5d38c-519">hello root directory contains hello following directory structure:</span></span>

![Struktura katalogu węzła obliczeniowego][1]

* <span data-ttu-id="5d38c-521">**udostępniony**: ten katalog zapewnia dostęp do odczytu/zapisu zbyt*wszystkie* zadań, które są uruchomione w węźle.</span><span class="sxs-lookup"><span data-stu-id="5d38c-521">**shared**: This directory provides read/write access too*all* tasks that run on a node.</span></span> <span data-ttu-id="5d38c-522">Wszystkie zadania w węźle hello można tworzenia, odczytu, aktualizacji i usuwania plików w tym katalogu.</span><span class="sxs-lookup"><span data-stu-id="5d38c-522">Any task that runs on hello node can create, read, update, and delete files in this directory.</span></span> <span data-ttu-id="5d38c-523">Zadania można uzyskać dostępu do tego katalogu odwołując hello `AZ_BATCH_NODE_SHARED_DIR` zmiennej środowiskowej.</span><span class="sxs-lookup"><span data-stu-id="5d38c-523">Tasks can access this directory by referencing hello `AZ_BATCH_NODE_SHARED_DIR` environment variable.</span></span>
* <span data-ttu-id="5d38c-524">**startup**: ten katalog jest używany jako katalog roboczy przez zadanie podrzędne uruchamiania.</span><span class="sxs-lookup"><span data-stu-id="5d38c-524">**startup**: This directory is used by a start task as its working directory.</span></span> <span data-ttu-id="5d38c-525">Wszystkie pliki hello węzła toohello pobrane przez zadanie uruchamiania hello są przechowywane w tym miejscu.</span><span class="sxs-lookup"><span data-stu-id="5d38c-525">All of hello files that are downloaded toohello node by hello start task are stored here.</span></span> <span data-ttu-id="5d38c-526">zadania uruchamiania Hello można tworzenia, odczytu, aktualizacji i usuwania plików w tym katalogu.</span><span class="sxs-lookup"><span data-stu-id="5d38c-526">hello start task can create, read, update, and delete files under this directory.</span></span> <span data-ttu-id="5d38c-527">Zadania można uzyskać dostępu do tego katalogu odwołując hello `AZ_BATCH_NODE_STARTUP_DIR` zmiennej środowiskowej.</span><span class="sxs-lookup"><span data-stu-id="5d38c-527">Tasks can access this directory by referencing hello `AZ_BATCH_NODE_STARTUP_DIR` environment variable.</span></span>
* <span data-ttu-id="5d38c-528">**Zadania**: katalog jest tworzony dla każdego zadania w węźle hello.</span><span class="sxs-lookup"><span data-stu-id="5d38c-528">**Tasks**: A directory is created for each task that runs on hello node.</span></span> <span data-ttu-id="5d38c-529">Jest on dostępny za pomocą odwołań do hello `AZ_BATCH_TASK_DIR` zmiennej środowiskowej.</span><span class="sxs-lookup"><span data-stu-id="5d38c-529">It is accessed by referencing hello `AZ_BATCH_TASK_DIR` environment variable.</span></span>

    <span data-ttu-id="5d38c-530">W każdym katalogu zadania usługa partia zadań hello tworzy katalog roboczy (`wd`) którego unikatowej ścieżki jest określona przez hello `AZ_BATCH_TASK_WORKING_DIR` zmiennej środowiskowej.</span><span class="sxs-lookup"><span data-stu-id="5d38c-530">Within each task directory, hello Batch service creates a working directory (`wd`) whose unique path is specified by hello `AZ_BATCH_TASK_WORKING_DIR` environment variable.</span></span> <span data-ttu-id="5d38c-531">Ten katalog zawiera zadania toohello dostęp do odczytu/zapisu.</span><span class="sxs-lookup"><span data-stu-id="5d38c-531">This directory provides read/write access toohello task.</span></span> <span data-ttu-id="5d38c-532">zadanie Hello można tworzenia, odczytu, aktualizacji i usuwania plików w tym katalogu.</span><span class="sxs-lookup"><span data-stu-id="5d38c-532">hello task can create, read, update, and delete files under this directory.</span></span> <span data-ttu-id="5d38c-533">Ten katalog jest zachowane, oparte na powitania *RetentionTime* ograniczenie, które jest określone dla zadania hello.</span><span class="sxs-lookup"><span data-stu-id="5d38c-533">This directory is retained based on hello *RetentionTime* constraint that is specified for hello task.</span></span>

    <span data-ttu-id="5d38c-534">`stdout.txt`i `stderr.txt`: te pliki są zapisywane toohello folderu zadań podczas wykonywania hello hello zadania.</span><span class="sxs-lookup"><span data-stu-id="5d38c-534">`stdout.txt` and `stderr.txt`: These files are written toohello task folder during hello execution of hello task.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="5d38c-535">Gdy węzeł zostanie usunięty z puli hello *wszystkie* z hello plików przechowywanych w węźle hello są usuwane.</span><span class="sxs-lookup"><span data-stu-id="5d38c-535">When a node is removed from hello pool, *all* of hello files that are stored on hello node are removed.</span></span>
>
>

## <a name="application-packages"></a><span data-ttu-id="5d38c-536">Pakiety aplikacji</span><span class="sxs-lookup"><span data-stu-id="5d38c-536">Application packages</span></span>
<span data-ttu-id="5d38c-537">Witaj [pakietów aplikacji](batch-application-packages.md) funkcja zapewnia łatwe zarządzanie i wdrażanie aplikacji toohello węzłów obliczeniowych w Twojej puli.</span><span class="sxs-lookup"><span data-stu-id="5d38c-537">hello [application packages](batch-application-packages.md) feature provides easy management and deployment of applications toohello compute nodes in your pools.</span></span> <span data-ttu-id="5d38c-538">Możesz przekazać i zarządzanie wieloma wersjami programu hello, które aplikacje są uruchamiane przez zadania, w tym ich pliki binarne i pliki obsługi.</span><span class="sxs-lookup"><span data-stu-id="5d38c-538">You can upload and manage multiple versions of hello applications run by your tasks, including their binaries and support files.</span></span> <span data-ttu-id="5d38c-539">Następnie można automatycznie wdrażać lub jeden z tych aplikacji toohello obliczeniowe węzłów w puli.</span><span class="sxs-lookup"><span data-stu-id="5d38c-539">Then you can automatically deploy one or more of these applications toohello compute nodes in your pool.</span></span>

<span data-ttu-id="5d38c-540">Można określić pakietów aplikacji na poziomie hello puli i zadań.</span><span class="sxs-lookup"><span data-stu-id="5d38c-540">You can specify application packages at hello pool and task level.</span></span> <span data-ttu-id="5d38c-541">Po określeniu pakietów aplikacji w puli aplikacji hello jest węzeł tooevery wdrożonej w puli hello.</span><span class="sxs-lookup"><span data-stu-id="5d38c-541">When you specify pool application packages, hello application is deployed tooevery node in hello pool.</span></span> <span data-ttu-id="5d38c-542">Po określeniu pakietów aplikacji zadań aplikacja hello wdrożone tylko toonodes, które są zaplanowane co najmniej jeden toorun zadań hello zadania, bezpośrednio przed hello jest uruchamiany wiersz polecenia zadania.</span><span class="sxs-lookup"><span data-stu-id="5d38c-542">When you specify task application packages, hello application is deployed only toonodes that are scheduled toorun at least one of hello job's tasks, just before hello task's command line is run.</span></span>

<span data-ttu-id="5d38c-543">Uchwyty partii hello szczegółowe informacje o pracy z usługi Azure Storage toostore pakiety aplikacji i wdrażać je węzłów toocompute, można uprościć kod i zarządzania koszty.</span><span class="sxs-lookup"><span data-stu-id="5d38c-543">Batch handles hello details of working with Azure Storage toostore your application packages and deploy them toocompute nodes, so both your code and management overhead can be simplified.</span></span>

<span data-ttu-id="5d38c-544">toofind więcej informacji na temat funkcji pakietu aplikacji hello, zapoznaj się z [wdrożyć aplikacje toocompute węzły z pakietami aplikacji partii](batch-application-packages.md).</span><span class="sxs-lookup"><span data-stu-id="5d38c-544">toofind out more about hello application package feature, check out [Deploy applications toocompute nodes with Batch application packages](batch-application-packages.md).</span></span>

> [!NOTE]
> <span data-ttu-id="5d38c-545">Jeśli dodasz puli aplikacji pakietów tooan *istniejących* puli, musisz ponownie uruchomić jego węzły obliczeniowe dla węzłów toohello toobe wdrożone pakiety aplikacji hello.</span><span class="sxs-lookup"><span data-stu-id="5d38c-545">If you add pool application packages tooan *existing* pool, you must reboot its compute nodes for hello application packages toobe deployed toohello nodes.</span></span>
>
>

## <a name="pool-and-compute-node-lifetime"></a><span data-ttu-id="5d38c-546">Okres istnienia puli i węzła obliczeniowego</span><span class="sxs-lookup"><span data-stu-id="5d38c-546">Pool and compute node lifetime</span></span>
<span data-ttu-id="5d38c-547">Podczas projektowania rozwiązania partii zadań Azure, masz toomake decyzja o tym, jak i gdy pule są tworzone i jak długo wyliczenia węzłów w ramach tych pule są przechowywane.</span><span class="sxs-lookup"><span data-stu-id="5d38c-547">When you design your Azure Batch solution, you have toomake a design decision about how and when pools are created, and how long compute nodes within those pools are kept available.</span></span>

<span data-ttu-id="5d38c-548">W jednym zakończeniu spektrum hello można utworzyć puli dla każdego zadania, które można przesłać i usunąć pulę hello, jak jego zadań zakończenia wykonywania.</span><span class="sxs-lookup"><span data-stu-id="5d38c-548">On one end of hello spectrum, you can create a pool for each job that you submit, and delete hello pool as soon as its tasks finish execution.</span></span> <span data-ttu-id="5d38c-549">Maksymalizację wykorzystania, ponieważ węzły hello są alokowane tylko, gdy potrzebne i zamknąć, jak są one bezczynności.</span><span class="sxs-lookup"><span data-stu-id="5d38c-549">This maximizes utilization because hello nodes are only allocated when needed, and shut down as soon as they're idle.</span></span> <span data-ttu-id="5d38c-550">Gdy to oznacza, że zadanie hello musi czekać, aż toobe węzłów hello przydzielone, jest ważne toonote, które zadania zaplanowane do uruchomienia, jak tylko węzły są dostępne oddzielnie, przydzielona i hello zadanie uruchamiania zostało zakończone.</span><span class="sxs-lookup"><span data-stu-id="5d38c-550">While this means that hello job must wait for hello nodes toobe allocated, it's important toonote that tasks are scheduled for execution as soon as nodes are individually available, allocated, and hello start task has completed.</span></span> <span data-ttu-id="5d38c-551">Partii jest *nie* poczekaj, aż wszystkie węzły w puli są dostępne przed przypisaniem zadania toohello węzłów.</span><span class="sxs-lookup"><span data-stu-id="5d38c-551">Batch does *not* wait until all nodes within a pool are available before assigning tasks toohello nodes.</span></span> <span data-ttu-id="5d38c-552">Dzięki temu zapewnia maksymalne wykorzystanie wszystkich dostępnych węzłów.</span><span class="sxs-lookup"><span data-stu-id="5d38c-552">This ensures maximum utilization of all available nodes.</span></span>

<span data-ttu-id="5d38c-553">Na powitania drugiej spektrum hello, jeśli jest posiadanie zadania natychmiast rozpocząć hello najwyższy priorytet można można utworzyć pulę wcześniejsze i udostępnić jego węzłów przed przesłaniem zadania.</span><span class="sxs-lookup"><span data-stu-id="5d38c-553">At hello other end of hello spectrum, if having jobs start immediately is hello highest priority, you can create a pool ahead of time and make its nodes available before jobs are submitted.</span></span> <span data-ttu-id="5d38c-554">W tym scenariuszu zadań można uruchomić natychmiast, ale węzłów może sit bezczynności podczas oczekiwania na ich toobe przypisane.</span><span class="sxs-lookup"><span data-stu-id="5d38c-554">In this scenario, tasks can start immediately, but nodes might sit idle while waiting for them toobe assigned.</span></span>

<span data-ttu-id="5d38c-555">W przypadku zmiennego, ale ciągłego obciążenia zwykle jest stosowane rozwiązanie mieszane.</span><span class="sxs-lookup"><span data-stu-id="5d38c-555">A combined approach is typically used for handling a variable, but ongoing, load.</span></span> <span data-ttu-id="5d38c-556">Masz puli są przesyłane do wielu zadań, ale można skalować hello liczby węzłów w górę lub w dół zgodnie z toohello zadania obciążenia (zobacz [zasoby obliczeniowe skalowanie](#scaling-compute-resources) w powitania po sekcji).</span><span class="sxs-lookup"><span data-stu-id="5d38c-556">You can have a pool that multiple jobs are submitted to, but can scale hello number of nodes up or down according toohello job load (see [Scaling compute resources](#scaling-compute-resources) in hello following section).</span></span> <span data-ttu-id="5d38c-557">Można to zrobić w sposób reaktywny, w oparciu o bieżące obciążenie, lub aktywny, jeśli obciążenie można przewidzieć.</span><span class="sxs-lookup"><span data-stu-id="5d38c-557">You can do this reactively, based on current load, or proactively, if load can be predicted.</span></span>

## <a name="virtual-network-vnet-and-firewall-configuration"></a><span data-ttu-id="5d38c-558">Konfiguracja sieci wirtualnej i zapory</span><span class="sxs-lookup"><span data-stu-id="5d38c-558">Virtual network (VNet) and firewall configuration</span></span> 

<span data-ttu-id="5d38c-559">Podczas obsługi administracyjnej puli węzłów obliczeniowych w partii zadań Azure hello puli można skojarzyć z podsiecią Azure [sieć wirtualną (VNet)](../virtual-network/virtual-networks-overview.md).</span><span class="sxs-lookup"><span data-stu-id="5d38c-559">When you provision a pool of compute nodes in Azure Batch, you can associate hello pool with a subnet of an Azure [virtual network (VNet)](../virtual-network/virtual-networks-overview.md).</span></span> <span data-ttu-id="5d38c-560">toolearn więcej informacji na temat tworzenia sieci wirtualnej z podsieciami, zobacz [Utwórz sieć wirtualną platformy Azure z podsieciami](../virtual-network/virtual-networks-create-vnet-arm-pportal.md).</span><span class="sxs-lookup"><span data-stu-id="5d38c-560">toolearn more about creating a VNet with subnets, see [Create an Azure virtual network with subnets](../virtual-network/virtual-networks-create-vnet-arm-pportal.md).</span></span> 

 * <span data-ttu-id="5d38c-561">Witaj sieci wirtualnej skojarzone z pulą musi być:</span><span class="sxs-lookup"><span data-stu-id="5d38c-561">hello VNet associated with a pool must be:</span></span>

   * <span data-ttu-id="5d38c-562">W hello Azure tego samego **region** jako hello konto partii zadań Azure.</span><span class="sxs-lookup"><span data-stu-id="5d38c-562">In hello same Azure **region** as hello Azure Batch account.</span></span>
   * <span data-ttu-id="5d38c-563">W hello sam **subskrypcji** jako hello konto partii zadań Azure.</span><span class="sxs-lookup"><span data-stu-id="5d38c-563">In hello same **subscription** as hello Azure Batch account.</span></span>

* <span data-ttu-id="5d38c-564">Typ Hello obsługiwane sieci wirtualnej, zależy od tego, pule są przydzielaniem dla hello konta usługi partia zadań:</span><span class="sxs-lookup"><span data-stu-id="5d38c-564">hello type of VNet supported depends on how pools are being allocated for hello Batch account:</span></span>

    - <span data-ttu-id="5d38c-565">Jeśli hello puli alokacji dla konta wsadowego jest tryb tooBatch usługi, a następnie można przypisać toopools tylko sieci wirtualnej, utworzone za pomocą hello **konfiguracji usługi w chmurze**.</span><span class="sxs-lookup"><span data-stu-id="5d38c-565">If hello pool allocation mode for your Batch account is set tooBatch Service, then you can assign a VNet only toopools created with hello **Cloud Services Configuration**.</span></span> <span data-ttu-id="5d38c-566">Ponadto hello określona sieć wirtualna musi zostać utworzona z hello klasycznego modelu wdrażania.</span><span class="sxs-lookup"><span data-stu-id="5d38c-566">Additionally, hello specified VNet must be created with hello classic deployment model.</span></span> <span data-ttu-id="5d38c-567">Sieci wirtualne utworzone za pomocą modelu wdrażania usługi Azure Resource Manager hello nie są obsługiwane.</span><span class="sxs-lookup"><span data-stu-id="5d38c-567">VNets created with hello Azure Resource Manager deployment model are not supported.</span></span>
 
    - <span data-ttu-id="5d38c-568">Jeśli hello puli alokacji dla konta wsadowego jest tryb tooUser subskrypcji, a następnie można przypisać toopools tylko sieci wirtualnej, utworzone za pomocą hello **konfiguracji maszyny wirtualnej**.</span><span class="sxs-lookup"><span data-stu-id="5d38c-568">If hello pool allocation mode for your Batch account is set tooUser Subscription, then you can assign a VNet only toopools created with hello **Virtual Machine Configuration**.</span></span> <span data-ttu-id="5d38c-569">Pule utworzone za pomocą hello **konfiguracji usługi w chmurze** nie są obsługiwane.</span><span class="sxs-lookup"><span data-stu-id="5d38c-569">Pools created with hello **Cloud Service Configuration** are not supported.</span></span> <span data-ttu-id="5d38c-570">Witaj, skojarzone sieci wirtualnej mogą zostać utworzone przy użyciu modelu wdrażania usługi Azure Resource Manager hello lub hello klasycznego modelu wdrażania.</span><span class="sxs-lookup"><span data-stu-id="5d38c-570">hello associated VNet may be created with either hello Azure Resource Manager deployment model or hello classic deployment model.</span></span>

    <span data-ttu-id="5d38c-571">Dla tabeli podsumowania obsługi sieci wirtualnej zgodnie z toopool Tryb alokacji, zobacz hello [Tryb alokacji puli](#pool-allocation-mode) sekcji.</span><span class="sxs-lookup"><span data-stu-id="5d38c-571">For a table summarizing VNet support according toopool allocation mode, see hello [Pool allocation mode](#pool-allocation-mode) section.</span></span>

* <span data-ttu-id="5d38c-572">Jeśli tryb alokacji puli hello konta usługi partia zadań jest ustawiona tooBatch usługi, należy podać się, że uprawnienia dla hello tooaccess główna usługi partii hello sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="5d38c-572">If hello pool allocation mode for your Batch account is set tooBatch Service, then you must provide permissions for hello Batch service principal tooaccess hello VNet.</span></span> <span data-ttu-id="5d38c-573">Witaj sieci wirtualnej, należy przypisać hello [Classic Virtual Machine Contributor Role-Based kontroli dostępu (RBAC)](https://azure.microsoft.com/documentation/articles/role-based-access-built-in-roles/#classic-virtual-machine-contributor) roli toohello partii service principal.</span><span class="sxs-lookup"><span data-stu-id="5d38c-573">hello VNet must assign hello [Classic Virtual Machine Contributor Role-Based Access Control (RBAC)](https://azure.microsoft.com/documentation/articles/role-based-access-built-in-roles/#classic-virtual-machine-contributor) role toohello Batch service principal.</span></span> <span data-ttu-id="5d38c-574">Jeśli hello określona rola RBAC nie został podany, usługa partia zadań hello zwraca 400 (nieprawidłowe żądanie).</span><span class="sxs-lookup"><span data-stu-id="5d38c-574">If hello specified RBAC role is not provided, hello Batch service returns 400 (Bad Request).</span></span> <span data-ttu-id="5d38c-575">Rola hello tooadd w hello portalu Azure:</span><span class="sxs-lookup"><span data-stu-id="5d38c-575">tooadd hello role in hello Azure portal:</span></span>

    1. <span data-ttu-id="5d38c-576">Wybierz hello **sieci wirtualnej**, następnie **(IAM) kontroli dostępu** > **ról** > **Współautor·maszyny·wirtualnej**  >  **Dodać**.</span><span class="sxs-lookup"><span data-stu-id="5d38c-576">Select hello **VNet**, then **Access control (IAM)** > **Roles** > **Virtual Machine Contributor** > **Add**.</span></span>
    2. <span data-ttu-id="5d38c-577">Na powitania **dodać uprawnienia** bloku, wybierz hello **Współautor·maszyny·wirtualnej** roli.</span><span class="sxs-lookup"><span data-stu-id="5d38c-577">On hello **Add permissions** blade, select hello **Virtual Machine Contributor** role.</span></span>
    3. <span data-ttu-id="5d38c-578">Na powitania **dodać uprawnienia** bloku, wyszukiwanie hello interfejsu API partii.</span><span class="sxs-lookup"><span data-stu-id="5d38c-578">On hello **Add permissions** blade, search for hello Batch API.</span></span> <span data-ttu-id="5d38c-579">Wyszukaj każdy z tych ciągów z kolei do momentu znalezienia hello interfejsu API:</span><span class="sxs-lookup"><span data-stu-id="5d38c-579">Search for each of these strings in turn until you find hello API:</span></span>
        1. <span data-ttu-id="5d38c-580">**MicrosoftAzureBatch**.</span><span class="sxs-lookup"><span data-stu-id="5d38c-580">**MicrosoftAzureBatch**.</span></span>
        2. <span data-ttu-id="5d38c-581">**Microsoft Azure Batch**.</span><span class="sxs-lookup"><span data-stu-id="5d38c-581">**Microsoft Azure Batch**.</span></span> <span data-ttu-id="5d38c-582">W przypadku nowszych dzierżaw usługi Azure AD może być używana ta nazwa.</span><span class="sxs-lookup"><span data-stu-id="5d38c-582">Newer Azure AD tenants may use this name.</span></span>
        3. <span data-ttu-id="5d38c-583">**ddbf3205-c6bd-46ae-8127-60eb93363864** jest identyfikator hello hello interfejsu API partii.</span><span class="sxs-lookup"><span data-stu-id="5d38c-583">**ddbf3205-c6bd-46ae-8127-60eb93363864** is hello ID for hello Batch API.</span></span> 
    3. <span data-ttu-id="5d38c-584">Wybierz hello nazwy głównej usługi interfejsu API partii.</span><span class="sxs-lookup"><span data-stu-id="5d38c-584">Select hello Batch API service principal.</span></span> 
    4. <span data-ttu-id="5d38c-585">Kliknij pozycję **Zapisz**.</span><span class="sxs-lookup"><span data-stu-id="5d38c-585">Click **Save**.</span></span>

        ![Przypisz jednostki usługi tooBatch roli współautora maszyny Wirtualnej](./media/batch-api-basics/iam-add-role.png)


* <span data-ttu-id="5d38c-587">Hello Określona podsieć powinna mieć wystarczającej ilości wolnego **adresów IP** tooaccommodate hello łączna liczba węzłów docelowy; hello to znaczy sumę hello `targetDedicatedNodes` i `targetLowPriorityNodes` właściwości hello puli.</span><span class="sxs-lookup"><span data-stu-id="5d38c-587">hello specified subnet should have enough free **IP addresses** tooaccommodate hello total number of target nodes; that is, hello sum of hello `targetDedicatedNodes` and `targetLowPriorityNodes` properties of hello pool.</span></span> <span data-ttu-id="5d38c-588">Jeśli hello podsieci nie ma za mało dostępnych adresów IP, hello usługa partia zadań częściowo przydziela hello węzłów obliczeniowych w puli hello i zwraca błąd zmiany rozmiaru.</span><span class="sxs-lookup"><span data-stu-id="5d38c-588">If hello subnet doesn't have enough free IP addresses, hello Batch service partially allocates hello compute nodes in hello pool and returns a resize error.</span></span>

* <span data-ttu-id="5d38c-589">Witaj określono podsieci musi Zezwalaj na komunikację z hello partii usługi toobe tooschedule stanie zadania na powitania węzłów obliczeniowych.</span><span class="sxs-lookup"><span data-stu-id="5d38c-589">hello specified subnet must allow communication from hello Batch service toobe able tooschedule tasks on hello compute nodes.</span></span> <span data-ttu-id="5d38c-590">Jeśli węzły obliczeniowe toohello komunikacji jest odrzucany przez **grupy zabezpieczeń sieci (NSG)** skojarzone z hello sieci wirtualnej, a następnie hello usługa partia zadań ustawia stan hello węzłów obliczeniowych hello zbyt**bezużyteczne**.</span><span class="sxs-lookup"><span data-stu-id="5d38c-590">If communication toohello compute nodes is denied by a **Network Security Group (NSG)** associated with hello VNet, then hello Batch service sets hello state of hello compute nodes too**unusable**.</span></span>

* <span data-ttu-id="5d38c-591">Jeśli hello określona sieć wirtualna ma skojarzone **grup zabezpieczeń sieci (NSG)** i/lub **zapory**, a następnie kilka portów zarezerwowaną przez system, należy włączyć komunikacji przychodzącej:</span><span class="sxs-lookup"><span data-stu-id="5d38c-591">If hello specified VNet has associated **Network Security Groups (NSGs)** and/or a **firewall**, then a few reserved system ports must be enabled for inbound communication:</span></span>

- <span data-ttu-id="5d38c-592">W przypadku pul utworzonych za pomocą konfiguracji maszyny wirtualnej włącz porty 29876 i 29877 oraz port 22 dla systemu Linux i port 3389 dla systemu Windows.</span><span class="sxs-lookup"><span data-stu-id="5d38c-592">For pools created with a virtual machine configuration, enable ports 29876 and 29877, as well as port 22 for Linux and port 3389 for Windows.</span></span> 
- <span data-ttu-id="5d38c-593">W przypadku pul utworzonych za pomocą konfiguracji usługi w chmurze włącz porty 10100, 20100 i 30100.</span><span class="sxs-lookup"><span data-stu-id="5d38c-593">For pools created with a cloud service configuration, enable ports 10100, 20100, and 30100.</span></span> 
- <span data-ttu-id="5d38c-594">Włącz połączenia wychodzące tooAzure magazynu na porcie 443.</span><span class="sxs-lookup"><span data-stu-id="5d38c-594">Enable outbound connections tooAzure Storage on port 443.</span></span> <span data-ttu-id="5d38c-595">Upewnij się również, że punkt końcowy usługi Azure Storage może zostać rozpoznany przez dowolne niestandardowe serwery DNS, które obsługują sieć wirtualną.</span><span class="sxs-lookup"><span data-stu-id="5d38c-595">Also, ensure that your Azure Storage endpoint can be resolved by any custom DNS servers that serve your VNET.</span></span> <span data-ttu-id="5d38c-596">W szczególności adresu URL formularza hello `<account>.table.core.windows.net` powinna być rozpoznawana.</span><span class="sxs-lookup"><span data-stu-id="5d38c-596">Specifically, a URL of hello form `<account>.table.core.windows.net` should be resolvable.</span></span>

    <span data-ttu-id="5d38c-597">Witaj poniższej tabeli opisano hello ruchu przychodzącego portów, które muszą tooenable dla pul, które zostały utworzone z konfiguracją maszyny wirtualnej hello:</span><span class="sxs-lookup"><span data-stu-id="5d38c-597">hello following table describes hello inbound ports that you need tooenable for pools that you created with hello virtual machine configuration:</span></span>

    |    <span data-ttu-id="5d38c-598">Porty docelowe</span><span class="sxs-lookup"><span data-stu-id="5d38c-598">Destination Port(s)</span></span>    |    <span data-ttu-id="5d38c-599">Źródłowy adres IP</span><span class="sxs-lookup"><span data-stu-id="5d38c-599">Source IP address</span></span>      |    <span data-ttu-id="5d38c-600">Czy usługa Batch dodaje sieciowe grupy zabezpieczeń?</span><span class="sxs-lookup"><span data-stu-id="5d38c-600">Does Batch add NSGs?</span></span>    |    <span data-ttu-id="5d38c-601">Wymagane dla toobe maszyny Wirtualnej można używać?</span><span class="sxs-lookup"><span data-stu-id="5d38c-601">Required for VM toobe usable?</span></span>    |    <span data-ttu-id="5d38c-602">Akcja użytkownika</span><span class="sxs-lookup"><span data-stu-id="5d38c-602">Action from user</span></span>   |
    |---------------------------|---------------------------|----------------------------|-------------------------------------|-----------------------|
    |    <ul><li><span data-ttu-id="5d38c-603">Dla pul utworzone za pomocą konfiguracji maszyny wirtualnej hello: 29876, 29877</span><span class="sxs-lookup"><span data-stu-id="5d38c-603">For pools created with hello virtual machine configuration: 29876, 29877</span></span></li><li><span data-ttu-id="5d38c-604">Dla pul utworzone z konfiguracją usługi w chmurze hello: 10100, 20100, 30100</span><span class="sxs-lookup"><span data-stu-id="5d38c-604">For pools created with hello cloud service configuration: 10100, 20100, 30100</span></span></li></ul>         |    <span data-ttu-id="5d38c-605">Tylko adresy IP roli usługi Batch</span><span class="sxs-lookup"><span data-stu-id="5d38c-605">Only Batch service role IP addresses</span></span> |    <span data-ttu-id="5d38c-606">Tak.</span><span class="sxs-lookup"><span data-stu-id="5d38c-606">Yes.</span></span> <span data-ttu-id="5d38c-607">Wsadowe dodaje grupy NSG na poziomie hello tooVMs interfejsów (NIC), dołączony w sieci.</span><span class="sxs-lookup"><span data-stu-id="5d38c-607">Batch adds NSGs at hello level of network interfaces (NIC) attached tooVMs.</span></span> <span data-ttu-id="5d38c-608">Te sieciowe grupy zabezpieczeń zezwalają tylko na ruch z adresów IP roli usługi Batch.</span><span class="sxs-lookup"><span data-stu-id="5d38c-608">These NSGs allow traffic only from Batch service role IP addresses.</span></span> <span data-ttu-id="5d38c-609">Nawet jeśli możesz otworzyć te porty dla całej sieci web hello, hello ruchu zostaną zablokowane na powitania karty sieciowej.</span><span class="sxs-lookup"><span data-stu-id="5d38c-609">Even if you open these ports for hello  entire web, hello traffic will get blocked at hello NIC.</span></span> |    <span data-ttu-id="5d38c-610">Tak</span><span class="sxs-lookup"><span data-stu-id="5d38c-610">Yes</span></span>  |  <span data-ttu-id="5d38c-611">Nie ma potrzeby toospecify NSG, ponieważ tylko adresy IP partii umożliwia wsadowe.</span><span class="sxs-lookup"><span data-stu-id="5d38c-611">You do not need toospecify an NSG, because Batch allows only Batch IP addresses.</span></span> <br /><br /> <span data-ttu-id="5d38c-612">Jeśli jednak określisz sieciową grupę zabezpieczeń, upewnij się, że te porty zostały otwarte na potrzeby ruchu przychodzącego.</span><span class="sxs-lookup"><span data-stu-id="5d38c-612">However, if you do specify an NSG, please ensure that these ports are open for inbound traffic.</span></span> <br /><br /> <span data-ttu-id="5d38c-613">Jeśli określisz * jako hello źródłowy adres IP w sieci grupy NSG, partii doda grupy NSG na poziomie hello tooVMs kartę Sieciową podłączoną.</span><span class="sxs-lookup"><span data-stu-id="5d38c-613">If you specify * as hello source IP in your NSG, Batch still adds NSGs at hello level of NIC attached tooVMs.</span></span> |
    |    <span data-ttu-id="5d38c-614">3389, 22</span><span class="sxs-lookup"><span data-stu-id="5d38c-614">3389, 22</span></span>               |    <span data-ttu-id="5d38c-615">Użytkownik maszyny używane na potrzeby debugowania, tak aby zdalny dostęp do hello maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="5d38c-615">User machines, used for debugging purposes, so that you can remotely access hello VM.</span></span>    |    <span data-ttu-id="5d38c-616">Nie</span><span class="sxs-lookup"><span data-stu-id="5d38c-616">No</span></span>                                    |    <span data-ttu-id="5d38c-617">Nie</span><span class="sxs-lookup"><span data-stu-id="5d38c-617">No</span></span>                     |    <span data-ttu-id="5d38c-618">Dodaj grupy NSG, jeśli chcesz toopermit dostępu zdalnego (RDP/SSH) toohello maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="5d38c-618">Add NSGs if you want toopermit remote access (RDP/SSH) toohello VM.</span></span>   |                 

    <span data-ttu-id="5d38c-619">Witaj w poniższej tabeli opisano hello port wychodzący konieczność tooenable toopermit dostępu tooAzure magazynu:</span><span class="sxs-lookup"><span data-stu-id="5d38c-619">hello following table describes hello outbound port that you need tooenable toopermit access tooAzure Storage:</span></span>

    |    <span data-ttu-id="5d38c-620">Porty ruchu wychodzącego</span><span class="sxs-lookup"><span data-stu-id="5d38c-620">Outbound Port(s)</span></span>    |    <span data-ttu-id="5d38c-621">Element docelowy</span><span class="sxs-lookup"><span data-stu-id="5d38c-621">Destination</span></span>    |    <span data-ttu-id="5d38c-622">Czy usługa Batch dodaje sieciowe grupy zabezpieczeń?</span><span class="sxs-lookup"><span data-stu-id="5d38c-622">Does Batch add NSGs?</span></span>    |    <span data-ttu-id="5d38c-623">Wymagane dla toobe maszyny Wirtualnej można używać?</span><span class="sxs-lookup"><span data-stu-id="5d38c-623">Required for VM toobe usable?</span></span>    |    <span data-ttu-id="5d38c-624">Akcja użytkownika</span><span class="sxs-lookup"><span data-stu-id="5d38c-624">Action from user</span></span>    |
    |------------------------|-------------------|----------------------------|-------------------------------------|------------------------|
    |    <span data-ttu-id="5d38c-625">443</span><span class="sxs-lookup"><span data-stu-id="5d38c-625">443</span></span>    |    <span data-ttu-id="5d38c-626">Azure Storage</span><span class="sxs-lookup"><span data-stu-id="5d38c-626">Azure Storage</span></span>    |    <span data-ttu-id="5d38c-627">Nie</span><span class="sxs-lookup"><span data-stu-id="5d38c-627">No</span></span>    |    <span data-ttu-id="5d38c-628">Tak</span><span class="sxs-lookup"><span data-stu-id="5d38c-628">Yes</span></span>    |    <span data-ttu-id="5d38c-629">Jeśli dodać żadnych grup NSG, upewnij się, że ten port jest otwarty toooutbound ruchu.</span><span class="sxs-lookup"><span data-stu-id="5d38c-629">If you add any NSGs, then ensure that this port is open toooutbound   traffic.</span></span>    |


## <a name="scaling-compute-resources"></a><span data-ttu-id="5d38c-630">Skalowanie zasobów obliczeniowych</span><span class="sxs-lookup"><span data-stu-id="5d38c-630">Scaling compute resources</span></span>
<span data-ttu-id="5d38c-631">Z [automatyczne skalowanie](batch-automatic-scaling.md), usługa partia zadań hello dynamicznie zmieniać hello liczba węzłów obliczeniowych w puli, zgodnie z toohello bieżącego obciążenia i użycie zasobów obliczeniowych scenariusz może mieć.</span><span class="sxs-lookup"><span data-stu-id="5d38c-631">With [automatic scaling](batch-automatic-scaling.md), you can have hello Batch service dynamically adjust hello number of compute nodes in a pool according toohello current workload and resource usage of your compute scenario.</span></span> <span data-ttu-id="5d38c-632">Dzięki temu można toolower hello całkowity koszt uruchamiania aplikacji przy użyciu tylko hello zasoby potrzebne i udostępnia te nie wymagają.</span><span class="sxs-lookup"><span data-stu-id="5d38c-632">This allows you toolower hello overall cost of running your application by using only hello resources you need, and releasing those you don't need.</span></span>

<span data-ttu-id="5d38c-633">Automatyczne skalowanie można włączyć, pisząc [formułę automatycznego skalowania](batch-automatic-scaling.md#automatic-scaling-formulas) i kojarząc ją z pulą.</span><span class="sxs-lookup"><span data-stu-id="5d38c-633">You enable automatic scaling by writing an [automatic scaling formula](batch-automatic-scaling.md#automatic-scaling-formulas) and associating that formula with a pool.</span></span> <span data-ttu-id="5d38c-634">Hello usługa partia zadań używa hello formuły toodetermine hello docelowej liczby węzłów w puli hello hello następnym interwale skalowania (interwał, z którym można skonfigurować).</span><span class="sxs-lookup"><span data-stu-id="5d38c-634">hello Batch service uses hello formula toodetermine hello target number of nodes in hello pool for hello next scaling interval (an interval that you can configure).</span></span> <span data-ttu-id="5d38c-635">Można określić hello Ustawienia skalowania automatycznego dla puli, podczas jego tworzenia lub włączyć skalowanie później w puli.</span><span class="sxs-lookup"><span data-stu-id="5d38c-635">You can specify hello automatic scaling settings for a pool when you create it, or enable scaling on a pool later.</span></span> <span data-ttu-id="5d38c-636">Można także zaktualizować hello skalowanie ustawienia w puli obsługą skalowania.</span><span class="sxs-lookup"><span data-stu-id="5d38c-636">You can also update hello scaling settings on a scaling-enabled pool.</span></span>

<span data-ttu-id="5d38c-637">Na przykład możliwe, że zadanie wymaga czy przesłać bardzo dużej liczby toobe zadania wykonywane.</span><span class="sxs-lookup"><span data-stu-id="5d38c-637">As an example, perhaps a job requires that you submit a very large number of tasks toobe executed.</span></span> <span data-ttu-id="5d38c-638">Można przypisać skalowania puli toohello formuły, które można dostosować hello liczby węzłów w puli hello na podstawie hello bieżąca liczba zadań w kolejce i szybkość ukończenia hello hello zadań w zadaniu hello.</span><span class="sxs-lookup"><span data-stu-id="5d38c-638">You can assign a scaling formula toohello pool that adjusts hello number of nodes in hello pool based on hello current number of queued tasks and hello completion rate of hello tasks in hello job.</span></span> <span data-ttu-id="5d38c-639">Witaj usługa partia zadań okresowo ocenia formuła hello i zmienia rozmiar puli hello, na podstawie obciążenia i inne ustawienia formuły.</span><span class="sxs-lookup"><span data-stu-id="5d38c-639">hello Batch service periodically evaluates hello formula and resizes hello pool, based on workload and your other formula settings.</span></span> <span data-ttu-id="5d38c-640">Usługa Hello dodaje węzłów w chwili, gdy ma dużą liczbę zadań umieszczonych w kolejce i usuwa węzłów, gdy nie ma żadnych zadań w kolejce lub nie działają.</span><span class="sxs-lookup"><span data-stu-id="5d38c-640">hello service adds nodes as needed when there are a large number of queued tasks, and removes nodes when there are no queued or running tasks.</span></span>

<span data-ttu-id="5d38c-641">Formuła skalowania mogą być oparte na powitania następujące metryki:</span><span class="sxs-lookup"><span data-stu-id="5d38c-641">A scaling formula can be based on hello following metrics:</span></span>

* <span data-ttu-id="5d38c-642">**Metryki czasu** są oparte na statystyki zbierane co pięć minut w hello określona liczba godzin.</span><span class="sxs-lookup"><span data-stu-id="5d38c-642">**Time metrics** are based on statistics collected every five minutes in hello specified number of hours.</span></span>
* <span data-ttu-id="5d38c-643">**Metryki zasobów** — na podstawie użycia procesora, wykorzystania przepustowości, użycia pamięci i liczby węzłów.</span><span class="sxs-lookup"><span data-stu-id="5d38c-643">**Resource metrics** are based on CPU usage, bandwidth usage, memory usage, and number of nodes.</span></span>
* <span data-ttu-id="5d38c-644">**Metryki zadań podrzędnych** — na podstawie stanu zadania podrzędnego, takiego jak *Aktywne* (w kolejce), *Uruchomione* lub *Ukończone*.</span><span class="sxs-lookup"><span data-stu-id="5d38c-644">**Task metrics** are based on task state, such as *Active* (queued), *Running*, or *Completed*.</span></span>

<span data-ttu-id="5d38c-645">Podczas automatycznego skalowania zmniejsza hello liczba węzłów obliczeniowych w puli, należy rozważyć sposób toohandle zadań, które są uruchomione w momencie hello hello zmniejszyć operacji.</span><span class="sxs-lookup"><span data-stu-id="5d38c-645">When automatic scaling decreases hello number of compute nodes in a pool, you must consider how toohandle tasks that are running at hello time of hello decrease operation.</span></span> <span data-ttu-id="5d38c-646">tooaccommodate tej, partii zapewnia *opcję dezalokacji węzła* obejmujących w formułach.</span><span class="sxs-lookup"><span data-stu-id="5d38c-646">tooaccommodate this, Batch provides a *node deallocation option* that you can include in your formulas.</span></span> <span data-ttu-id="5d38c-647">Na przykład można określić, że uruchomione zadania są natychmiast zatrzymać, natychmiast zatrzymać i następnie umieszczony w kolejce do wykonania w innym węźle lub dozwolone toofinish przed hello węzeł zostanie usunięty z puli hello.</span><span class="sxs-lookup"><span data-stu-id="5d38c-647">For example, you can specify that running tasks are stopped immediately, stopped immediately and then requeued for execution on another node, or allowed toofinish before hello node is removed from hello pool.</span></span>

<span data-ttu-id="5d38c-648">Więcej informacji na temat automatycznego skalowania aplikacji znajduje się w temacie [Automatically scale compute nodes in an Azure Batch pool](batch-automatic-scaling.md) (Automatyczne skalowanie węzłów obliczeniowych w puli usługi Azure Batch).</span><span class="sxs-lookup"><span data-stu-id="5d38c-648">For more information about automatically scaling an application, see [Automatically scale compute nodes in an Azure Batch pool](batch-automatic-scaling.md).</span></span>

> [!TIP]
> <span data-ttu-id="5d38c-649">toomaximize obliczeniowe wykorzystania zasobów, ustaw hello docelowy liczbę węzłów toozero na końcu hello zadania, ale zezwalaj uruchomionych zadań toofinish.</span><span class="sxs-lookup"><span data-stu-id="5d38c-649">toomaximize compute resource utilization, set hello target number of nodes toozero at hello end of a job, but allow running tasks toofinish.</span></span>
>
>

## <a name="security-with-certificates"></a><span data-ttu-id="5d38c-650">Zabezpieczenia oparte na certyfikatach</span><span class="sxs-lookup"><span data-stu-id="5d38c-650">Security with certificates</span></span>
<span data-ttu-id="5d38c-651">Zazwyczaj potrzebne certyfikaty toouse zaszyfrować lub odszyfrować poufnych informacji dla zadania, takie jak klucz hello [konta magazynu Azure][azure_storage].</span><span class="sxs-lookup"><span data-stu-id="5d38c-651">You typically need toouse certificates when you encrypt or decrypt sensitive information for tasks, like hello key for an [Azure Storage account][azure_storage].</span></span> <span data-ttu-id="5d38c-652">toosupport, możesz zainstalować certyfikaty na węzłach.</span><span class="sxs-lookup"><span data-stu-id="5d38c-652">toosupport this, you can install certificates on nodes.</span></span> <span data-ttu-id="5d38c-653">Zaszyfrowanych kluczy tajnych są przekazywane tootasks przez parametry wiersza polecenia lub osadzone w jeden z zasobów zadań hello i hello zainstalowane certyfikaty mogą być używane toodecrypt je.</span><span class="sxs-lookup"><span data-stu-id="5d38c-653">Encrypted secrets are passed tootasks via command-line parameters or embedded in one of hello task resources, and hello installed certificates can be used toodecrypt them.</span></span>

<span data-ttu-id="5d38c-654">Użyj hello [Dodaj certyfikat] [ rest_add_cert] operacji (REST partii) lub [CertificateOperations.CreateCertificate] [ net_create_cert] — metoda (partiami platformy .NET) tooadd tooa certyfikatu konta usługi partia zadań.</span><span class="sxs-lookup"><span data-stu-id="5d38c-654">You use hello [Add certificate][rest_add_cert] operation (Batch REST) or [CertificateOperations.CreateCertificate][net_create_cert] method (Batch .NET) tooadd a certificate tooa Batch account.</span></span> <span data-ttu-id="5d38c-655">Następnie można skojarzyć hello certyfikatu przy użyciu nowej lub istniejącej puli.</span><span class="sxs-lookup"><span data-stu-id="5d38c-655">You can then associate hello certificate with a new or existing pool.</span></span> <span data-ttu-id="5d38c-656">Gdy certyfikat jest skojarzony z pulą, usługa partia zadań hello instaluje certyfikat hello w każdym węźle hello puli.</span><span class="sxs-lookup"><span data-stu-id="5d38c-656">When a certificate is associated with a pool, hello Batch service installs hello certificate on each node in hello pool.</span></span> <span data-ttu-id="5d38c-657">Hello usługa partia zadań instaluje odpowiednie certyfikaty hello podczas uruchamiania hello węzła, przed uruchomieniem żadnych zadań (w tym hello uruchamiania zadań i zadania Menedżer zadania).</span><span class="sxs-lookup"><span data-stu-id="5d38c-657">hello Batch service installs hello appropriate certificates when hello node starts up, before launching any tasks (including hello start task and job manager task).</span></span>

<span data-ttu-id="5d38c-658">Jeśli dodasz tooan certyfikaty *istniejących* puli, musisz ponownie uruchomić jego węzły obliczeniowe hello certyfikatów toobe stosowane toohello węzłów.</span><span class="sxs-lookup"><span data-stu-id="5d38c-658">If you add certificates tooan *existing* pool, you must reboot its compute nodes for hello certificates toobe applied toohello nodes.</span></span>

## <a name="error-handling"></a><span data-ttu-id="5d38c-659">Obsługa błędów</span><span class="sxs-lookup"><span data-stu-id="5d38c-659">Error handling</span></span>
<span data-ttu-id="5d38c-660">Może być konieczne toohandle błędów zarówno zadań i aplikacji w ramach rozwiązania partii.</span><span class="sxs-lookup"><span data-stu-id="5d38c-660">You might find it necessary toohandle both task and application failures within your Batch solution.</span></span>

### <a name="task-failure-handling"></a><span data-ttu-id="5d38c-661">Obsługa błędów zadań</span><span class="sxs-lookup"><span data-stu-id="5d38c-661">Task failure handling</span></span>
<span data-ttu-id="5d38c-662">Błędy zadań można podzielić na następujące kategorie:</span><span class="sxs-lookup"><span data-stu-id="5d38c-662">Task failures fall into these categories:</span></span>

* <span data-ttu-id="5d38c-663">**Błędy przetwarzania wstępnego**</span><span class="sxs-lookup"><span data-stu-id="5d38c-663">**Pre-processing failures**</span></span>

    <span data-ttu-id="5d38c-664">Jeśli zadanie nie powiedzie się toostart, błąd przetwarzania wstępnego ustawiono hello zadania.</span><span class="sxs-lookup"><span data-stu-id="5d38c-664">If a task fails toostart, a pre-processing error is set for hello task.</span></span>  

    <span data-ttu-id="5d38c-665">Błędy przetwarzania wstępnego może wystąpić, jeśli zadanie hello pliki zasobów zostały przeniesione, hello konta magazynu nie jest już dostępny lub wystąpił inny problem czy hello uniemożliwił pomyślne kopiowanie plików toohello węzła.</span><span class="sxs-lookup"><span data-stu-id="5d38c-665">Pre-processing errors can occur if hello task's resource files have moved, hello Storage account is no longer available, or another issue was encountered that prevented hello successful copying of files toohello node.</span></span>

* <span data-ttu-id="5d38c-666">**Błędy przekazywania plików**</span><span class="sxs-lookup"><span data-stu-id="5d38c-666">**File upload failures**</span></span>

    <span data-ttu-id="5d38c-667">Jeśli przekazywania plików, które są określone dla zadania nie powiedzie się z jakiegokolwiek powodu, błąd przekazywania pliku wynosi hello zadania.</span><span class="sxs-lookup"><span data-stu-id="5d38c-667">If uploading files that are specified for a task fails for any reason, a file upload error is set for hello task.</span></span>

    <span data-ttu-id="5d38c-668">Przekazywanie, mogą wystąpić błędy, jeśli hello SAS dostarczone dla uzyskiwania dostępu do magazynu Azure jest nieprawidłowy lub nie ma uprawnienia do zapisu, jeśli konto magazynu hello nie jest już dostępny lub inny problem uniemożliwiający hello pomyślne kopiowanie plików z pliku węzeł Hello.</span><span class="sxs-lookup"><span data-stu-id="5d38c-668">File upload errors can occur if hello SAS supplied for accessing Azure Storage is invalid or does not provide write permissions, if hello storage account is no longer available, or if another issue was encountered that prevented hello successful copying of files from hello node.</span></span>    

* <span data-ttu-id="5d38c-669">**Błędy aplikacji**</span><span class="sxs-lookup"><span data-stu-id="5d38c-669">**Application failures**</span></span>

    <span data-ttu-id="5d38c-670">proces Hello, który jest określony za pomocą wiersza polecenia zadania hello również może zakończyć się niepowodzeniem.</span><span class="sxs-lookup"><span data-stu-id="5d38c-670">hello process that is specified by hello task's command line can also fail.</span></span> <span data-ttu-id="5d38c-671">Witaj proces jest traktowany toohave nie powiodło się podczas przez proces hello, która jest wykonywana przez zadanie hello zostanie zwrócony kod zakończenia różną od zera (zobacz *kody zakończenia zadania* w następnej sekcji hello).</span><span class="sxs-lookup"><span data-stu-id="5d38c-671">hello process is deemed toohave failed when a nonzero exit code is returned by hello process that is executed by hello task (see *Task exit codes* in hello next section).</span></span>

    <span data-ttu-id="5d38c-672">Błędy aplikacji, można skonfigurować partii tooautomatically ponawiania hello zadanie w górę tooa określona liczba razy.</span><span class="sxs-lookup"><span data-stu-id="5d38c-672">For application failures, you can configure Batch tooautomatically retry hello task up tooa specified number of times.</span></span>

* <span data-ttu-id="5d38c-673">**Błędy ograniczenia**</span><span class="sxs-lookup"><span data-stu-id="5d38c-673">**Constraint failures**</span></span>

    <span data-ttu-id="5d38c-674">Można ustawić ograniczenia, które określa hello wykonywania maksymalny czas trwania zadania lub zadania, hello *maxWallClockTime*.</span><span class="sxs-lookup"><span data-stu-id="5d38c-674">You can set a constraint that specifies hello maximum execution duration for a job or task, hello *maxWallClockTime*.</span></span> <span data-ttu-id="5d38c-675">Może to być przydatne w przypadku zakończenia zadania, które nie są tooprogress.</span><span class="sxs-lookup"><span data-stu-id="5d38c-675">This can be useful for terminating tasks that fail tooprogress.</span></span>

    <span data-ttu-id="5d38c-676">Przekroczenia hello maksymalną ilość czasu zadań hello jest oznaczony jako *ukończone*, ale kod zakończenia hello jest zbyt`0xC000013A` i hello *schedulingError* pole jest oznaczone jako `{ category:"ServerError", code="TaskEnded"}`.</span><span class="sxs-lookup"><span data-stu-id="5d38c-676">When hello maximum amount of time has been exceeded, hello task is marked as *completed*, but hello exit code is set too`0xC000013A` and hello *schedulingError* field is marked as `{ category:"ServerError", code="TaskEnded"}`.</span></span>

### <a name="debugging-application-failures"></a><span data-ttu-id="5d38c-677">Błędy debugowania aplikacji</span><span class="sxs-lookup"><span data-stu-id="5d38c-677">Debugging application failures</span></span>
* <span data-ttu-id="5d38c-678">`stderr` i `stdout`</span><span class="sxs-lookup"><span data-stu-id="5d38c-678">`stderr` and `stdout`</span></span>

    <span data-ttu-id="5d38c-679">Podczas wykonywania aplikacja może powodować generowanie wyjście diagnostyczne służy tootroubleshoot problemów.</span><span class="sxs-lookup"><span data-stu-id="5d38c-679">During execution, an application might produce diagnostic output that you can use tootroubleshoot issues.</span></span> <span data-ttu-id="5d38c-680">Jak wspomniano w hello wcześniej sekcji [plików i katalogów](#files-and-directories), hello usługa partia zadań zapisuje wyjście standardowe i błąd standardowy output zbyt`stdout.txt` i `stderr.txt` plików w katalogu zadania hello na powitania węzła obliczeniowego.</span><span class="sxs-lookup"><span data-stu-id="5d38c-680">As mentioned in hello earlier section [Files and directories](#files-and-directories), hello Batch service writes standard output and standard error output too`stdout.txt` and `stderr.txt` files in hello task directory on hello compute node.</span></span> <span data-ttu-id="5d38c-681">Używając hello portalu Azure lub jednego z toodownload wsadowego zestawów SDK hello tych plików.</span><span class="sxs-lookup"><span data-stu-id="5d38c-681">You can use hello Azure portal or one of hello Batch SDKs toodownload these files.</span></span> <span data-ttu-id="5d38c-682">Na przykład można pobrać tych i innych plików na potrzeby rozwiązywania problemów przy użyciu [ComputeNode.GetNodeFile] [ net_getfile_node] i [CloudTask.GetNodeFile] [ net_getfile_task] hello biblioteki partiami platformy .NET.</span><span class="sxs-lookup"><span data-stu-id="5d38c-682">For example, you can retrieve these and other files for troubleshooting purposes by using [ComputeNode.GetNodeFile][net_getfile_node] and [CloudTask.GetNodeFile][net_getfile_task] in hello Batch .NET library.</span></span>

* <span data-ttu-id="5d38c-683">**Kody zakończenia zadania podrzędnego**</span><span class="sxs-lookup"><span data-stu-id="5d38c-683">**Task exit codes**</span></span>

    <span data-ttu-id="5d38c-684">Jak wspomniano wcześniej, zadanie zostanie oznaczone jako jako nieudane przez usługi partia zadań hello, jeśli proces hello, która jest wykonywana przez zadanie hello zwraca kod zakończenia różną od zera.</span><span class="sxs-lookup"><span data-stu-id="5d38c-684">As mentioned earlier, a task is marked as failed by hello Batch service if hello process that is executed by hello task returns a nonzero exit code.</span></span> <span data-ttu-id="5d38c-685">Podczas procesu zadania, partii wypełnienie właściwości kodu zakończenia zadania hello z hello *zwracają kod procesu hello*.</span><span class="sxs-lookup"><span data-stu-id="5d38c-685">When a task executes a process, Batch populates hello task's exit code property with hello *return code of hello process*.</span></span> <span data-ttu-id="5d38c-686">Jest ważne toonote, który jest kodem zakończenia zadania **nie** ustaleniami hello usługa partia zadań.</span><span class="sxs-lookup"><span data-stu-id="5d38c-686">It is important toonote that a task's exit code is **not** determined by hello Batch service.</span></span> <span data-ttu-id="5d38c-687">Kod zakończenia zadania jest określana przez sam proces hello lub hello systemu operacyjnego, na których proces hello wykonywane.</span><span class="sxs-lookup"><span data-stu-id="5d38c-687">A task's exit code is determined by hello process itself or hello operating system on which hello process executed.</span></span>

### <a name="accounting-for-task-failures-or-interruptions"></a><span data-ttu-id="5d38c-688">Uwzględnianie błędów zadań lub przerw w zadaniach </span><span class="sxs-lookup"><span data-stu-id="5d38c-688">Accounting for task failures or interruptions</span></span>
<span data-ttu-id="5d38c-689">Od czasu do czasu zadania podrzędne mogą zakończyć się niepowodzeniem lub zostać przerwane.</span><span class="sxs-lookup"><span data-stu-id="5d38c-689">Tasks might occasionally fail or be interrupted.</span></span> <span data-ttu-id="5d38c-690">Witaj samą aplikację zadań może się nie powieść, może zostać przeprowadzony ponowny rozruch węzła hello, na które hello zadanie jest uruchomione lub węzła hello może zostać usunięta z puli hello podczas operacji zmiany rozmiaru w przypadku hello zasady dezalokacji puli zestaw węzłów tooremove natychmiast bez oczekiwania na toofinish zadania.</span><span class="sxs-lookup"><span data-stu-id="5d38c-690">hello task application itself might fail, hello node on which hello task is running might be rebooted, or hello node might be removed from hello pool during a resize operation if hello pool's deallocation policy is set tooremove nodes immediately without waiting for tasks toofinish.</span></span> <span data-ttu-id="5d38c-691">We wszystkich przypadkach hello zadań mogą być automatycznie umieszczony w kolejce przez partię do wykonania w innym węźle.</span><span class="sxs-lookup"><span data-stu-id="5d38c-691">In all cases, hello task can be automatically requeued by Batch for execution on another node.</span></span>

<span data-ttu-id="5d38c-692">Jest również możliwe toocause tymczasowy problem toohang zadań lub tooexecute zbyt długo potrwać.</span><span class="sxs-lookup"><span data-stu-id="5d38c-692">It is also possible for an intermittent issue toocause a task toohang or take too long tooexecute.</span></span> <span data-ttu-id="5d38c-693">Można ustawić interwał powitania maksymalną wykonywania zadania.</span><span class="sxs-lookup"><span data-stu-id="5d38c-693">You can set hello maximum execution interval for a task.</span></span> <span data-ttu-id="5d38c-694">Po przekroczeniu hello wykonywania maksymalny interwał hello usługa partia zadań przerwań hello zadań aplikacji.</span><span class="sxs-lookup"><span data-stu-id="5d38c-694">If hello maximum execution interval is exceeded, hello Batch service interrupts hello task application.</span></span>

### <a name="connecting-toocompute-nodes"></a><span data-ttu-id="5d38c-695">Łączenie węzłów toocompute</span><span class="sxs-lookup"><span data-stu-id="5d38c-695">Connecting toocompute nodes</span></span>
<span data-ttu-id="5d38c-696">Można wykonywać dodatkowe debugowania i rozwiązywania problemów, logując się w węźle obliczeń tooa zdalnie.</span><span class="sxs-lookup"><span data-stu-id="5d38c-696">You can perform additional debugging and troubleshooting by signing in tooa compute node remotely.</span></span> <span data-ttu-id="5d38c-697">Można użyć hello Azure toodownload portalu plików protokołu RDP (Remote Desktop) dla systemu Windows węzłów i uzyskać informacje o połączeniu Secure Shell (SSH) dla systemu Linux węzłów.</span><span class="sxs-lookup"><span data-stu-id="5d38c-697">You can use hello Azure portal toodownload a Remote Desktop Protocol (RDP) file for Windows nodes and obtain Secure Shell (SSH) connection information for Linux nodes.</span></span> <span data-ttu-id="5d38c-698">Również można to zrobić za pomocą hello interfejsów API partii — na przykład [partiami platformy .NET] [ net_rdpfile] lub [Python partii](batch-linux-nodes.md#connect-to-linux-nodes-using-ssh).</span><span class="sxs-lookup"><span data-stu-id="5d38c-698">You can also do this by using hello Batch APIs--for example, with [Batch .NET][net_rdpfile] or [Batch Python](batch-linux-nodes.md#connect-to-linux-nodes-using-ssh).</span></span>

> [!IMPORTANT]
> <span data-ttu-id="5d38c-699">tooconnect tooa węzła za pośrednictwem protokołu RDP lub SSH, użytkownik musi najpierw utworzyć w węźle hello.</span><span class="sxs-lookup"><span data-stu-id="5d38c-699">tooconnect tooa node via RDP or SSH, you must first create a user on hello node.</span></span> <span data-ttu-id="5d38c-700">toodo, można użyć hello portalu Azure, [Dodaj węzeł tooa konta użytkownika] [ rest_create_user] przy użyciu interfejsu API REST partii hello, wywołaj hello [ComputeNode.CreateComputeNodeUser] [ net_create_user] w partiami platformy .NET lub hello wywołania metody [add_user] [ py_add_user] metody w module języka Python partii hello.</span><span class="sxs-lookup"><span data-stu-id="5d38c-700">toodo this, you can use hello Azure portal, [add a user account tooa node][rest_create_user] by using hello Batch REST API, call hello [ComputeNode.CreateComputeNodeUser][net_create_user] method in Batch .NET, or call hello [add_user][py_add_user] method in hello Batch Python module.</span></span>
>
>

### <a name="troubleshooting-problematic-compute-nodes"></a><span data-ttu-id="5d38c-701">Rozwiązywanie problemów z węzłami obliczeniowymi</span><span class="sxs-lookup"><span data-stu-id="5d38c-701">Troubleshooting problematic compute nodes</span></span>
<span data-ttu-id="5d38c-702">W sytuacjach, w której niektóre z zadań kończy się niepowodzeniem partii klienta aplikacji lub usługi można zbadać metadane hello hello nie powiodło się zadania tooidentify błędna węzła.</span><span class="sxs-lookup"><span data-stu-id="5d38c-702">In situations where some of your tasks are failing, your Batch client application or service can examine hello metadata of hello failed tasks tooidentify a misbehaving node.</span></span> <span data-ttu-id="5d38c-703">Każdy węzeł w puli otrzymuje unikatowy identyfikator, a hello węzeł, na którym uruchamiane jest zadanie jest uwzględniona w hello zadań metadanych.</span><span class="sxs-lookup"><span data-stu-id="5d38c-703">Each node in a pool is given a unique ID, and hello node on which a task runs is included in hello task metadata.</span></span> <span data-ttu-id="5d38c-704">Po zidentyfikowaniu problemu dotyczącego węzła można wykonać kilka powiązanych czynności:</span><span class="sxs-lookup"><span data-stu-id="5d38c-704">After you've identified a problem node, you can take several actions with it:</span></span>

* <span data-ttu-id="5d38c-705">**Ponowny rozruch węzła hello** ([REST][rest_reboot] | [.NET][net_reboot])</span><span class="sxs-lookup"><span data-stu-id="5d38c-705">**Reboot hello node** ([REST][rest_reboot] | [.NET][net_reboot])</span></span>

    <span data-ttu-id="5d38c-706">Ponownie uruchomić węzeł hello można czasami wyczyszczone ukryty problemów, takich jak zablokowane lub awaria procesów.</span><span class="sxs-lookup"><span data-stu-id="5d38c-706">Restarting hello node can sometimes clear up latent issues like stuck or crashed processes.</span></span> <span data-ttu-id="5d38c-707">Należy pamiętać, że jeśli pulę używa zadanie uruchamiania lub zadanie używa zadanie przygotowanie zadania, są wykonywane po ponownym uruchomieniu węzła hello.</span><span class="sxs-lookup"><span data-stu-id="5d38c-707">Note that if your pool uses a start task or your job uses a job preparation task, they are executed when hello node restarts.</span></span>
* <span data-ttu-id="5d38c-708">**Odtworzyć z obrazu węzła hello** ([REST][rest_reimage] | [.NET][net_reimage])</span><span class="sxs-lookup"><span data-stu-id="5d38c-708">**Reimage hello node** ([REST][rest_reimage] | [.NET][net_reimage])</span></span>

    <span data-ttu-id="5d38c-709">W węźle hello ponownie instaluje system operacyjny hello.</span><span class="sxs-lookup"><span data-stu-id="5d38c-709">This reinstalls hello operating system on hello node.</span></span> <span data-ttu-id="5d38c-710">Podobnie jak w przypadku ponowny rozruch węzła, uruchamiania zadań i zadania przygotowanie zadania są wykonywane ponownie, po hello węzeł ma zostać odtworzyć z obrazu.</span><span class="sxs-lookup"><span data-stu-id="5d38c-710">As with rebooting a node, start tasks and job preparation tasks are rerun after hello node has been reimaged.</span></span>
* <span data-ttu-id="5d38c-711">**Usuń węzeł hello z puli hello** ([REST][rest_remove] | [.NET][net_remove])</span><span class="sxs-lookup"><span data-stu-id="5d38c-711">**Remove hello node from hello pool** ([REST][rest_remove] | [.NET][net_remove])</span></span>

    <span data-ttu-id="5d38c-712">Czasami jest konieczne toocompletely Usuń hello węzła z hello puli.</span><span class="sxs-lookup"><span data-stu-id="5d38c-712">Sometimes it is necessary toocompletely remove hello node from hello pool.</span></span>
* <span data-ttu-id="5d38c-713">**Wyłącz Planowanie zadań w węźle hello** ([REST][rest_offline] | [.NET][net_offline])</span><span class="sxs-lookup"><span data-stu-id="5d38c-713">**Disable task scheduling on hello node** ([REST][rest_offline] | [.NET][net_offline])</span></span>

    <span data-ttu-id="5d38c-714">Efektywnie trwa to hello węzła w trybie offline, aby kolejne zadania są przypisane tooit, ale umożliwia uruchamianie tooremain węzła hello i hello puli.</span><span class="sxs-lookup"><span data-stu-id="5d38c-714">This effectively takes hello node offline so that no further tasks are assigned tooit, but allows hello node tooremain running and in hello pool.</span></span> <span data-ttu-id="5d38c-715">Dzięki temu możesz tooperform dalsze badania hello Przyczyna awarii hello bez utraty danych hello zadania nie powiodło się i bez węzła hello przyczyną błędów dodatkowe zadania.</span><span class="sxs-lookup"><span data-stu-id="5d38c-715">This enables you tooperform further investigation into hello cause of hello failures without losing hello failed task's data, and without hello node causing additional task failures.</span></span> <span data-ttu-id="5d38c-716">Na przykład można wyłączyć harmonogramy w węźle hello następnie zadań [Zaloguj się w](#connecting-to-compute-nodes) tooexamine hello węzła Dzienniki zdarzeń i rozwiązywania problemów z innymi.</span><span class="sxs-lookup"><span data-stu-id="5d38c-716">For example, you can disable task scheduling on hello node, then [sign in remotely](#connecting-to-compute-nodes) tooexamine hello node's event logs or perform other troubleshooting.</span></span> <span data-ttu-id="5d38c-717">Po zakończeniu badania, następnie przełączeniem węzła hello ponownie do trybu online, należy włączyć harmonogramy zadań ([REST][rest_online] | [.NET] [ net_online]), lub wykonaj jedną z hello inne akcje wymienione powyżej.</span><span class="sxs-lookup"><span data-stu-id="5d38c-717">After you've finished your investigation, you can then bring hello node back online by enabling task scheduling ([REST][rest_online] | [.NET][net_online]), or perform one of hello other actions discussed earlier.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="5d38c-718">Z każdego działania opisane w tej sekcji--ponowny rozruch, odtworzenia z obrazu, Usuń i Wyłącz Planowanie zadań — są możliwe toospecify obsługi zadania uruchomione w węźle hello podczas wykonywania akcji hello.</span><span class="sxs-lookup"><span data-stu-id="5d38c-718">With each action that is described in this section--reboot, reimage, remove, and disable task scheduling--you are able toospecify how tasks currently running on hello node are handled when you perform hello action.</span></span> <span data-ttu-id="5d38c-719">Na przykład po wyłączeniu Planowanie zadań w węźle, za pomocą biblioteki klienta .NET partii hello, można określić [DisableComputeNodeSchedulingOption] [ net_offline_option] wyliczenia wartości toospecify czy zbyt**Przerwania** uruchamianie zadań, **Requeue** ich do planowania na innych węzłach lub zezwolić toocomplete zadań uruchomiona przed wykonaniem akcji hello (**TaskCompletion**).</span><span class="sxs-lookup"><span data-stu-id="5d38c-719">For example, when you disable task scheduling on a node by using hello Batch .NET client library, you can specify a [DisableComputeNodeSchedulingOption][net_offline_option] enum value toospecify whether too**Terminate** running tasks, **Requeue** them for scheduling on other nodes, or allow running tasks toocomplete before performing hello action (**TaskCompletion**).</span></span>
>
>

## <a name="next-steps"></a><span data-ttu-id="5d38c-720">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="5d38c-720">Next steps</span></span>
* <span data-ttu-id="5d38c-721">Dowiedz się więcej o hello [narzędzia i interfejsy API partii](batch-apis-tools.md) dostępne do tworzenia rozwiązań partii.</span><span class="sxs-lookup"><span data-stu-id="5d38c-721">Learn about hello [Batch APIs and tools](batch-apis-tools.md) available for building Batch solutions.</span></span>
* <span data-ttu-id="5d38c-722">Zapoznaj się z artykułem krok po kroku w przykładowej aplikacji partii [wprowadzenie hello biblioteki partii zadań Azure dla platformy .NET](batch-dotnet-get-started.md).</span><span class="sxs-lookup"><span data-stu-id="5d38c-722">Walk through a sample Batch application step-by-step in [Get started with hello Azure Batch Library for .NET](batch-dotnet-get-started.md).</span></span> <span data-ttu-id="5d38c-723">Istnieje również [wersji języka Python](batch-python-tutorial.md) węzły obliczeniowe samouczek hello, który uruchamia obciążenia w systemie Linux.</span><span class="sxs-lookup"><span data-stu-id="5d38c-723">There is also a [Python version](batch-python-tutorial.md) of hello tutorial that runs a workload on Linux compute nodes.</span></span>
* <span data-ttu-id="5d38c-724">Pobieranie i tworzenie hello [Explorer partii] [ github_batchexplorer] przykładowy projekt do użycia podczas opracowywania rozwiązań partii.</span><span class="sxs-lookup"><span data-stu-id="5d38c-724">Download and build hello [Batch Explorer][github_batchexplorer] sample project for use while you develop your Batch solutions.</span></span> <span data-ttu-id="5d38c-725">Przy użyciu hello Explorer partii, można wykonywać następujące hello i inne:</span><span class="sxs-lookup"><span data-stu-id="5d38c-725">Using hello Batch Explorer, you can perform hello following and more:</span></span>

  * <span data-ttu-id="5d38c-726">Monitorowanie pul i zadań w ramach konta usługi Batch i manipulowanie nimi</span><span class="sxs-lookup"><span data-stu-id="5d38c-726">Monitor and manipulate pools, jobs, and tasks within your Batch account</span></span>
  * <span data-ttu-id="5d38c-727">Pobieranie `stdout.txt`, `stderr.txt` i innych plików z węzłów</span><span class="sxs-lookup"><span data-stu-id="5d38c-727">Download `stdout.txt`, `stderr.txt`, and other files from nodes</span></span>
  * <span data-ttu-id="5d38c-728">Tworzenie użytkowników w węzłach i pobieranie plików RDP do logowania zdalnego</span><span class="sxs-lookup"><span data-stu-id="5d38c-728">Create users on nodes and download RDP files for remote login</span></span>
* <span data-ttu-id="5d38c-729">Dowiedz się, jak za[tworzenia pul węzły obliczeniowe Linux](batch-linux-nodes.md).</span><span class="sxs-lookup"><span data-stu-id="5d38c-729">Learn how too[create pools of Linux compute nodes](batch-linux-nodes.md).</span></span>
* <span data-ttu-id="5d38c-730">Odwiedź hello [forum usługi partia zadań Azure] [ batch_forum] w witrynie MSDN.</span><span class="sxs-lookup"><span data-stu-id="5d38c-730">Visit hello [Azure Batch forum][batch_forum] on MSDN.</span></span> <span data-ttu-id="5d38c-731">Hello forum jest bardzo umieścić tooask pytania, czy po prostu uczą się lub są eksperta w partii, używając.</span><span class="sxs-lookup"><span data-stu-id="5d38c-731">hello forum is a good place tooask questions, whether you are just learning or are an expert in using Batch.</span></span>

[1]: ./media/batch-api-basics/node-folder-structure.png

[azure_storage]: https://azure.microsoft.com/services/storage/
[batch_forum]: https://social.msdn.microsoft.com/Forums/en-US/home?forum=azurebatch
[cloud_service_sizes]: ../cloud-services/cloud-services-sizes-specs.md
[msmpi]: https://msdn.microsoft.com/library/bb524831.aspx
[github_samples]: https://github.com/Azure/azure-batch-samples
[github_sample_taskdeps]:  https://github.com/Azure/azure-batch-samples/tree/master/CSharp/ArticleProjects/TaskDependencies
[github_batchexplorer]: https://github.com/Azure/azure-batch-samples/tree/master/CSharp/BatchExplorer
[batch_net_api]: https://msdn.microsoft.com/library/azure/mt348682.aspx
[msdn_env_vars]: https://msdn.microsoft.com/library/azure/mt743623.aspx
[net_cloudjob_jobmanagertask]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudjob.jobmanagertask.aspx
[net_cloudjob_priority]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudjob.priority.aspx
[net_cloudpool_starttask]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudpool.starttask.aspx
[net_cloudtask_env]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudtask.environmentsettings.aspx
[net_create_cert]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.certificateoperations.createcertificate.aspx
[net_create_user]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.computenode.createcomputenodeuser.aspx
[net_getfile_node]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.computenode.getnodefile.aspx
[net_getfile_task]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudtask.getnodefile.aspx
[net_job_env]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudjob.commonenvironmentsettings.aspx
[net_multiinstancesettings]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.multiinstancesettings.aspx
[net_onalltaskscomplete]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudjob.onalltaskscomplete.aspx
[net_rdp]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.computenode.getrdpfile.aspx
[net_reboot]: https://msdn.microsoft.com/library/azure/mt631495.aspx
[net_reimage]: https://msdn.microsoft.com/library/azure/mt631496.aspx
[net_remove]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.pooloperations.removefrompoolasync.aspx
[net_offline]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.computenode.disableschedulingasync.aspx
[net_online]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.computenode.enableschedulingasync.aspx
[net_offline_option]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.common.disablecomputenodeschedulingoption.aspx
[net_rdpfile]: https://msdn.microsoft.com/library/azure/Mt272127.aspx
[vnet]: https://msdn.microsoft.com/library/azure/dn820174.aspx#bk_netconf

[py_add_user]: http://azure-sdk-for-python.readthedocs.io/en/latest/ref/azure.batch.operations.html#azure.batch.operations.ComputeNodeOperations.add_user

[batch_rest_api]: https://msdn.microsoft.com/library/azure/Dn820158.aspx
[rest_add_job]: https://msdn.microsoft.com/library/azure/mt282178.aspx
[rest_add_pool]: https://msdn.microsoft.com/library/azure/dn820174.aspx
[rest_add_cert]: https://msdn.microsoft.com/library/azure/dn820169.aspx
[rest_add_task]: https://msdn.microsoft.com/library/azure/dn820105.aspx
[rest_create_user]: https://msdn.microsoft.com/library/azure/dn820137.aspx
[rest_get_task_info]: https://msdn.microsoft.com/library/azure/dn820133.aspx
[rest_job_schedules]: https://msdn.microsoft.com/library/azure/mt282179.aspx
[rest_multiinstance]: https://msdn.microsoft.com/library/azure/mt637905.aspx
[rest_multiinstancesettings]: https://msdn.microsoft.com/library/azure/dn820105.aspx#multiInstanceSettings
[rest_update_job]: https://msdn.microsoft.com/library/azure/dn820162.aspx
[rest_rdp]: https://msdn.microsoft.com/library/azure/dn820120.aspx
[rest_reboot]: https://msdn.microsoft.com/library/azure/dn820171.aspx
[rest_reimage]: https://msdn.microsoft.com/library/azure/dn820157.aspx
[rest_remove]: https://msdn.microsoft.com/library/azure/dn820194.aspx
[rest_offline]: https://msdn.microsoft.com/library/azure/mt637904.aspx
[rest_online]: https://msdn.microsoft.com/library/azure/mt637907.aspx

[vm_marketplace]: https://azure.microsoft.com/marketplace/virtual-machines/
