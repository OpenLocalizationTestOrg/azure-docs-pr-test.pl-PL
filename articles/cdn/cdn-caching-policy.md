---
title: "aaaManage Azure CDN zasad buforowania w usłudze Azure Media Services | Dokumentacja firmy Microsoft"
description: "Dowiedz się, jak toomanage Azure CDN zasad buforowania w usłudze Azure Media Services."
services: media-services,cdn
documentationcenter: .NET
author: juliako
manager: erikre
editor: 
ms.assetid: be33aecc-6dbe-43d7-a056-10ba911e0e94
ms.service: media-services
ms.workload: tbd
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 02/04/2017
ms.author: juliako
ms.openlocfilehash: 4c7ee2922fcbb5727e10fbe44fc6e61b79f6917c
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="manage-azure-cdn-caching-policy-in-azure-media-services"></a><span data-ttu-id="27599-103">Zarządzanie Azure CDN buforowanie zasad w usłudze Azure Media Services</span><span class="sxs-lookup"><span data-stu-id="27599-103">Manage Azure CDN caching policy in Azure Media Services</span></span>
<span data-ttu-id="27599-104">Usługa Azure Media Services zapewnia HTTP adaptacyjnego przesyłania strumieniowego i pobierania progresywnego.</span><span class="sxs-lookup"><span data-stu-id="27599-104">Azure Media Services provides HTTP based Adaptive Streaming and progressive download.</span></span> <span data-ttu-id="27599-105">Oparty na protokole HTTP przesyłania strumieniowego jest wysoce skalowalna z zalet buforowanie w serwera proxy i warstwy CDN, jak również buforowanie po stronie klienta.</span><span class="sxs-lookup"><span data-stu-id="27599-105">HTTP based streaming is highly scalable with benefits of caching in proxy and CDN layers as well as client side caching.</span></span> <span data-ttu-id="27599-106">Punkty końcowe przesyłania strumieniowego zawiera ogólne możliwości przesyłania strumieniowego, a także konfiguracji nagłówków HTTP pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="27599-106">Streaming endpoints provides general streaming capabilities and also configuration for HTTP cache headers.</span></span> <span data-ttu-id="27599-107">Punkty końcowe przesyłania strumieniowego ustawia HTTP Cache-Control: maksymalny wiek i Expires headers.</span><span class="sxs-lookup"><span data-stu-id="27599-107">Streaming endpoints sets HTTP Cache-Control: max-age and Expires headers.</span></span> <span data-ttu-id="27599-108">Można uzyskać dodatkowe informacje dotyczące nagłówków HTTP pamięci podręcznej z [adresem W3.org](http://www.w3.org/Protocols/rfc2616/rfc2616-sec13.html).</span><span class="sxs-lookup"><span data-stu-id="27599-108">You can get more information for HTTP cache headers from [W3.org](http://www.w3.org/Protocols/rfc2616/rfc2616-sec13.html).</span></span>

## <a name="default-caching-headers"></a><span data-ttu-id="27599-109">Domyślne nagłówki buforowanie</span><span class="sxs-lookup"><span data-stu-id="27599-109">Default Caching headers</span></span>
<span data-ttu-id="27599-110">Domyślnie — punkty końcowe przesyłania strumieniowego zastosować 3 dni nagłówków pamięci podręcznej danych przesyłania strumieniowego na żądanie (multimedialna fragmenty/fragmentów) i manifest(playlist).</span><span class="sxs-lookup"><span data-stu-id="27599-110">By default streaming-endpoints apply 3 day cache headers for on-demand streaming data (actual media fragments/chunks) and manifest(playlist).</span></span> <span data-ttu-id="27599-111">Transmisja strumieniowa na żywo punktów końcowych przesyłania strumieniowego zastosować 3 dni nagłówków pamięci podręcznej danych (multimedialna fragmenty/fragmentów) i nagłówek żądania manifest(playlist) pamięci podręcznej 2 sekundy.</span><span class="sxs-lookup"><span data-stu-id="27599-111">For live streaming, streaming endpoints apply 3 day cache headers for data (actual media fragments/chunks) and 2 seconds cache header for manifest(playlist) requests.</span></span> <span data-ttu-id="27599-112">Podczas program na żywo włącza tooon żądanie (archiwum na żywo) mają zastosowanie nagłówków pamięci podręcznej z przesyłania strumieniowego na żądanie.</span><span class="sxs-lookup"><span data-stu-id="27599-112">When live program turns tooon-demand (live archive) then on-demand streaming cache headers apply.</span></span>

## <a name="azure-cdn-integration"></a><span data-ttu-id="27599-113">Integracja z usługą Azure CDN</span><span class="sxs-lookup"><span data-stu-id="27599-113">Azure CDN integration</span></span>
<span data-ttu-id="27599-114">Azure Media Services udostępnia [zintegrowane CDN](https://azure.microsoft.com/updates/azure-media-services-now-fully-integrated-with-azure-cdn/) dla — punkty końcowe przesyłania strumieniowego.</span><span class="sxs-lookup"><span data-stu-id="27599-114">Azure Media Services provides [integrated CDN](https://azure.microsoft.com/updates/azure-media-services-now-fully-integrated-with-azure-cdn/) for streaming-endpoints.</span></span> <span data-ttu-id="27599-115">Nagłówki kontroli pamięci podręcznej działa w hello sam sposób jak tooCDN punkty końcowe przesyłania strumieniowego włączone punktów końcowych przesyłania strumieniowego.</span><span class="sxs-lookup"><span data-stu-id="27599-115">Cache-control headers applies in hello same way as streaming endpoints tooCDN enabled streaming endpoints.</span></span> <span data-ttu-id="27599-116">Azure używa CDN przesyłania strumieniowego punkt końcowy skonfigurowany pamięci podręcznej wartości toodefine hello okres istnienia hello wewnętrznie obiektów w pamięci podręcznej i używa również nagłówków tej wartości tooset hello dostarczania pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="27599-116">Azure CDN uses streaming endpoint configured cache values toodefine hello life time of hello internally cached objects and also uses this value tooset hello delivery cache headers.</span></span> <span data-ttu-id="27599-117">Przy użyciu usługi CDN włączone punktów końcowych przesyłania strumieniowego nie jest zalecane tooset wartości małych pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="27599-117">When using CDN enabled streaming endpoints it is not recommended tooset small cache values.</span></span> <span data-ttu-id="27599-118">Ustawianie wartości małych obniżyć wydajność hello i zmniejszyć hello zaletą sieci CDN.</span><span class="sxs-lookup"><span data-stu-id="27599-118">Setting small values will decrease hello performance and reduce hello benefit of CDN.</span></span> <span data-ttu-id="27599-119">Nie można z obsługą tooset nagłówków pamięci podręcznej jest mniejszy niż 600 sekund dla sieci CDN punktów końcowych przesyłania strumieniowego.</span><span class="sxs-lookup"><span data-stu-id="27599-119">It is not allowed tooset cache headers smaller than 600 seconds for CDN enabled streaming endpoints.</span></span>

> [!IMPORTANT]
><span data-ttu-id="27599-120">Usługa Azure Media Services zawiera pełną integrację z usługą Azure CDN.</span><span class="sxs-lookup"><span data-stu-id="27599-120">Azure Media Services has complete integration with Azure CDN.</span></span> <span data-ttu-id="27599-121">Za pomocą jednego kliknięcia można zintegrować wszystkich hello dostępne usługi Azure CDN dostawców (Akamai i Verizon) tooyour przesyłania strumieniowego punktu końcowego, włącznie z produktami w sieci CDN w warstwie standardowa i Premium.</span><span class="sxs-lookup"><span data-stu-id="27599-121">With a single click you can integrate all hello available Azure CDN providers (Akamai and Verizon) tooyour streaming endpoint including CDN Standard and Premium products.</span></span> <span data-ttu-id="27599-122">Aby uzyskać więcej informacji, zobacz [anonsu](https://azure.microsoft.com/blog/standardstreamingendpoint/).</span><span class="sxs-lookup"><span data-stu-id="27599-122">For more information, see this [announcement](https://azure.microsoft.com/blog/standardstreamingendpoint/).</span></span>
> 
> <span data-ttu-id="27599-123">Opłatami za przesyłanie danych z przesyłania strumieniowego punktu końcowego tooCDN pobiera tylko wyłączonych włączenie hello CDN za pośrednictwem interfejsów API punktu końcowego przesyłania strumieniowego lub przy użyciu sekcji punktu końcowego przesyłania strumieniowego portalu zarządzania Azure.</span><span class="sxs-lookup"><span data-stu-id="27599-123">Data charges from streaming endpoint tooCDN only gets disabled if hello CDN is enabled over streaming endpoint APIs or using Azure management portal's streaming endpoint section.</span></span> <span data-ttu-id="27599-124">Integracja ręczna lub bezpośrednio tworzenia punktu końcowego usługi CDN przy użyciu interfejsów API usługi CDN lub portalu sekcji nie spowoduje wyłączenie hello danych opłat.</span><span class="sxs-lookup"><span data-stu-id="27599-124">Manual integration or directly creating a CDN endpoint using CDN APIs or portal section will not disable hello data charges.</span></span>

## <a name="configuring-cache-headers-with-azure-media-services"></a><span data-ttu-id="27599-125">Konfigurowanie nagłówków pamięci podręcznej w usłudze Azure Media Services</span><span class="sxs-lookup"><span data-stu-id="27599-125">Configuring cache headers with Azure Media Services</span></span>
<span data-ttu-id="27599-126">Możesz użyć portalu zarządzania Azure lub wartości nagłówka w pamięci podręcznej tooconfigure interfejsów API usługi Azure Media Services.</span><span class="sxs-lookup"><span data-stu-id="27599-126">You can use Azure Management portal or Azure Media Services APIs tooconfigure cache header values.</span></span>

1. <span data-ttu-id="27599-127">tooconfigure nagłówków pamięci podręcznej za pomocą zarządzania portalu można znaleźć zbyt[jak punkty końcowe przesyłania strumieniowego tooManage](../media-services/media-services-portal-manage-streaming-endpoints.md) sekcji Konfigurowanie hello punktu końcowego przesyłania strumieniowego.</span><span class="sxs-lookup"><span data-stu-id="27599-127">tooconfigure cache headers using management portal please refer too[How tooManage Streaming Endpoints](../media-services/media-services-portal-manage-streaming-endpoints.md) section Configuring hello Streaming Endpoint.</span></span>
2. <span data-ttu-id="27599-128">W przypadku interfejsu API REST usługi Azure Media Services [StreamingEndpoint](https://msdn.microsoft.com/library/azure/dn783468.aspx#StreamingEndpointCacheControl).</span><span class="sxs-lookup"><span data-stu-id="27599-128">Azure Media Services REST API, [StreamingEndpoint](https://msdn.microsoft.com/library/azure/dn783468.aspx#StreamingEndpointCacheControl).</span></span>
3. <span data-ttu-id="27599-129">Zestaw .NET SDK usługi Azure Media Services [StreamingEndpointCacheControl właściwości](http://go.microsoft.com/fwlink/?LinkId=615302).</span><span class="sxs-lookup"><span data-stu-id="27599-129">Azure Media Services .NET SDK, [StreamingEndpointCacheControl Properties](http://go.microsoft.com/fwlink/?LinkId=615302).</span></span>

## <a name="cache-configuration-precedence-order"></a><span data-ttu-id="27599-130">Kolejność pierwszeństwa konfiguracji pamięci podręcznej</span><span class="sxs-lookup"><span data-stu-id="27599-130">Cache configuration precedence order</span></span>
1. <span data-ttu-id="27599-131">Azure Media Services skonfigurowany pamięci podręcznej wartość zastępuje wartości domyślne.</span><span class="sxs-lookup"><span data-stu-id="27599-131">Azure Media Services configured cache value overrides default value.</span></span>
2. <span data-ttu-id="27599-132">Jeśli nie istnieje konfiguracja ręczna, zastosowanie wartości domyślnych.</span><span class="sxs-lookup"><span data-stu-id="27599-132">If there is no manual configuration, default values applies.</span></span>
3. <span data-ttu-id="27599-133">Domyślnie 2 sekundy nagłówków pamięci podręcznej stosuje toolive przesyłania strumieniowego manifest(playlist) niezależnie od konfiguracji multimediów Azure lub usługi Azure Storage i zastępowanie tej wartości nie jest dostępna.</span><span class="sxs-lookup"><span data-stu-id="27599-133">By default 2 seconds cache headers applies toolive streaming manifest(playlist) regardless of Azure Media or Azure Storage configuration and overriding of this value is not available.</span></span>

