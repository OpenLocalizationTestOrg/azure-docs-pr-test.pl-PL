---
title: "Zarządzanie Azure CDN buforowanie zasad w usłudze Azure Media Services | Dokumentacja firmy Microsoft"
description: "Informacje o sposobie zarządzania usługi Azure CDN buforowanie zasad w usłudze Azure Media Services."
services: media-services,cdn
documentationcenter: .NET
author: juliako
manager: erikre
editor: 
ms.assetid: be33aecc-6dbe-43d7-a056-10ba911e0e94
ms.service: media-services
ms.workload: tbd
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 02/04/2017
ms.author: juliako
ms.openlocfilehash: 0c479a58f4158bb1a72dc43432507160f65d2791
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 07/11/2017
---
# <a name="manage-azure-cdn-caching-policy-in-azure-media-services"></a><span data-ttu-id="aa8e1-103">Zarządzanie Azure CDN buforowanie zasad w usłudze Azure Media Services</span><span class="sxs-lookup"><span data-stu-id="aa8e1-103">Manage Azure CDN caching policy in Azure Media Services</span></span>
<span data-ttu-id="aa8e1-104">Usługa Azure Media Services zapewnia HTTP adaptacyjnego przesyłania strumieniowego i pobierania progresywnego.</span><span class="sxs-lookup"><span data-stu-id="aa8e1-104">Azure Media Services provides HTTP based Adaptive Streaming and progressive download.</span></span> <span data-ttu-id="aa8e1-105">Oparty na protokole HTTP przesyłania strumieniowego jest wysoce skalowalna z zalet buforowanie w serwera proxy i warstwy CDN, jak również buforowanie po stronie klienta.</span><span class="sxs-lookup"><span data-stu-id="aa8e1-105">HTTP based streaming is highly scalable with benefits of caching in proxy and CDN layers as well as client side caching.</span></span> <span data-ttu-id="aa8e1-106">Punkty końcowe przesyłania strumieniowego zawiera ogólne możliwości przesyłania strumieniowego, a także konfiguracji nagłówków HTTP pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="aa8e1-106">Streaming endpoints provides general streaming capabilities and also configuration for HTTP cache headers.</span></span> <span data-ttu-id="aa8e1-107">Punkty końcowe przesyłania strumieniowego ustawia HTTP Cache-Control: maksymalny wiek i Expires headers.</span><span class="sxs-lookup"><span data-stu-id="aa8e1-107">Streaming endpoints sets HTTP Cache-Control: max-age and Expires headers.</span></span> <span data-ttu-id="aa8e1-108">Można uzyskać dodatkowe informacje dotyczące nagłówków HTTP pamięci podręcznej z [adresem W3.org](http://www.w3.org/Protocols/rfc2616/rfc2616-sec13.html).</span><span class="sxs-lookup"><span data-stu-id="aa8e1-108">You can get more information for HTTP cache headers from [W3.org](http://www.w3.org/Protocols/rfc2616/rfc2616-sec13.html).</span></span>

## <a name="default-caching-headers"></a><span data-ttu-id="aa8e1-109">Domyślne nagłówki buforowanie</span><span class="sxs-lookup"><span data-stu-id="aa8e1-109">Default Caching headers</span></span>
<span data-ttu-id="aa8e1-110">Domyślnie — punkty końcowe przesyłania strumieniowego zastosować 3 dni nagłówków pamięci podręcznej danych przesyłania strumieniowego na żądanie (multimedialna fragmenty/fragmentów) i manifest(playlist).</span><span class="sxs-lookup"><span data-stu-id="aa8e1-110">By default streaming-endpoints apply 3 day cache headers for on-demand streaming data (actual media fragments/chunks) and manifest(playlist).</span></span> <span data-ttu-id="aa8e1-111">Transmisja strumieniowa na żywo punktów końcowych przesyłania strumieniowego zastosować 3 dni nagłówków pamięci podręcznej danych (multimedialna fragmenty/fragmentów) i nagłówek żądania manifest(playlist) pamięci podręcznej 2 sekundy.</span><span class="sxs-lookup"><span data-stu-id="aa8e1-111">For live streaming, streaming endpoints apply 3 day cache headers for data (actual media fragments/chunks) and 2 seconds cache header for manifest(playlist) requests.</span></span> <span data-ttu-id="aa8e1-112">Podczas program na żywo zmieni się na żądanie (archiwum na żywo) mają zastosowanie nagłówków pamięci podręcznej z przesyłania strumieniowego na żądanie.</span><span class="sxs-lookup"><span data-stu-id="aa8e1-112">When live program turns to on-demand (live archive) then on-demand streaming cache headers apply.</span></span>

## <a name="azure-cdn-integration"></a><span data-ttu-id="aa8e1-113">Integracja z usługą Azure CDN</span><span class="sxs-lookup"><span data-stu-id="aa8e1-113">Azure CDN integration</span></span>
<span data-ttu-id="aa8e1-114">Azure Media Services udostępnia [zintegrowane CDN](https://azure.microsoft.com/updates/azure-media-services-now-fully-integrated-with-azure-cdn/) dla — punkty końcowe przesyłania strumieniowego.</span><span class="sxs-lookup"><span data-stu-id="aa8e1-114">Azure Media Services provides [integrated CDN](https://azure.microsoft.com/updates/azure-media-services-now-fully-integrated-with-azure-cdn/) for streaming-endpoints.</span></span> <span data-ttu-id="aa8e1-115">Nagłówki kontroli pamięci podręcznej stosuje się w taki sam sposób jak punktów końcowych przesyłania strumieniowego do sieci CDN włączone punktów końcowych przesyłania strumieniowego.</span><span class="sxs-lookup"><span data-stu-id="aa8e1-115">Cache-control headers applies in the same way as streaming endpoints to CDN enabled streaming endpoints.</span></span> <span data-ttu-id="aa8e1-116">Azure używa CDN punktu końcowego przesyłania strumieniowego skonfigurowane wartości pamięci podręcznej, aby zdefiniować okres istnienia obiektów wewnętrznie pamięci podręcznej i używa również tę wartość można ustawić dostarczanie nagłówków pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="aa8e1-116">Azure CDN uses streaming endpoint configured cache values to define the life time of the internally cached objects and also uses this value to set the delivery cache headers.</span></span> <span data-ttu-id="aa8e1-117">Włączenie przy użyciu CDN punktów końcowych przesyłania strumieniowego nie zaleca się ustawiania wartości małych pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="aa8e1-117">When using CDN enabled streaming endpoints it is not recommended to set small cache values.</span></span> <span data-ttu-id="aa8e1-118">Ustawienie wartości małych zmniejszenie wydajności i zmniejszenia korzyści CDN.</span><span class="sxs-lookup"><span data-stu-id="aa8e1-118">Setting small values will decrease the performance and reduce the benefit of CDN.</span></span> <span data-ttu-id="aa8e1-119">Ustaw mniejszy niż 600 sekund dla CDN włączone punktów końcowych przesyłania strumieniowego nagłówków pamięci podręcznej jest niedozwolone.</span><span class="sxs-lookup"><span data-stu-id="aa8e1-119">It is not allowed to set cache headers smaller than 600 seconds for CDN enabled streaming endpoints.</span></span>

> [!IMPORTANT]
><span data-ttu-id="aa8e1-120">Usługa Azure Media Services zawiera pełną integrację z usługą Azure CDN.</span><span class="sxs-lookup"><span data-stu-id="aa8e1-120">Azure Media Services has complete integration with Azure CDN.</span></span> <span data-ttu-id="aa8e1-121">Za pomocą jednego kliknięcia można zintegrować wszystkie dostępne usługi Azure CDN dostawców (Akamai i Verizon) do punktu końcowego przesyłania strumieniowego w tym produktów w sieci CDN w warstwie standardowa i Premium.</span><span class="sxs-lookup"><span data-stu-id="aa8e1-121">With a single click you can integrate all the available Azure CDN providers (Akamai and Verizon) to your streaming endpoint including CDN Standard and Premium products.</span></span> <span data-ttu-id="aa8e1-122">Aby uzyskać więcej informacji, zobacz [anonsu](https://azure.microsoft.com/blog/standardstreamingendpoint/).</span><span class="sxs-lookup"><span data-stu-id="aa8e1-122">For more information, see this [announcement](https://azure.microsoft.com/blog/standardstreamingendpoint/).</span></span>
> 
> <span data-ttu-id="aa8e1-123">Tylko opłatami za przesyłanie danych z przesyłania strumieniowego punktu końcowego CDN pobiera wyłączony, jeśli element CDN jest włączona za pośrednictwem interfejsów API punktu końcowego przesyłania strumieniowego lub przy użyciu sekcji punktu końcowego przesyłania strumieniowego portalu zarządzania Azure.</span><span class="sxs-lookup"><span data-stu-id="aa8e1-123">Data charges from streaming endpoint to CDN only gets disabled if the CDN is enabled over streaming endpoint APIs or using Azure management portal's streaming endpoint section.</span></span> <span data-ttu-id="aa8e1-124">Integracja ręczna lub bezpośrednio tworzenia punktu końcowego usługi CDN przy użyciu interfejsów API usługi CDN lub portalu sekcji nie spowoduje wyłączenie opłatami za przesyłanie danych.</span><span class="sxs-lookup"><span data-stu-id="aa8e1-124">Manual integration or directly creating a CDN endpoint using CDN APIs or portal section will not disable the data charges.</span></span>

## <a name="configuring-cache-headers-with-azure-media-services"></a><span data-ttu-id="aa8e1-125">Konfigurowanie nagłówków pamięci podręcznej w usłudze Azure Media Services</span><span class="sxs-lookup"><span data-stu-id="aa8e1-125">Configuring cache headers with Azure Media Services</span></span>
<span data-ttu-id="aa8e1-126">Aby skonfigurować wartości nagłówka pamięci podręcznej, można użyć portalu zarządzania Azure lub interfejsów API usługi Azure Media Services.</span><span class="sxs-lookup"><span data-stu-id="aa8e1-126">You can use Azure Management portal or Azure Media Services APIs to configure cache header values.</span></span>

1. <span data-ttu-id="aa8e1-127">Konfigurowanie nagłówków pamięci podręcznej za pomocą portalu zarządzania zapoznaj się [jak zarządzać punktami końcowymi przesyłania strumieniowego](../media-services/media-services-portal-manage-streaming-endpoints.md) sekcji konfiguracji punktu końcowego przesyłania strumieniowego.</span><span class="sxs-lookup"><span data-stu-id="aa8e1-127">To configure cache headers using management portal please refer to [How to Manage Streaming Endpoints](../media-services/media-services-portal-manage-streaming-endpoints.md) section Configuring the Streaming Endpoint.</span></span>
2. <span data-ttu-id="aa8e1-128">W przypadku interfejsu API REST usługi Azure Media Services [StreamingEndpoint](https://msdn.microsoft.com/library/azure/dn783468.aspx#StreamingEndpointCacheControl).</span><span class="sxs-lookup"><span data-stu-id="aa8e1-128">Azure Media Services REST API, [StreamingEndpoint](https://msdn.microsoft.com/library/azure/dn783468.aspx#StreamingEndpointCacheControl).</span></span>
3. <span data-ttu-id="aa8e1-129">Zestaw .NET SDK usługi Azure Media Services [StreamingEndpointCacheControl właściwości](http://go.microsoft.com/fwlink/?LinkId=615302).</span><span class="sxs-lookup"><span data-stu-id="aa8e1-129">Azure Media Services .NET SDK, [StreamingEndpointCacheControl Properties](http://go.microsoft.com/fwlink/?LinkId=615302).</span></span>

## <a name="cache-configuration-precedence-order"></a><span data-ttu-id="aa8e1-130">Kolejność pierwszeństwa konfiguracji pamięci podręcznej</span><span class="sxs-lookup"><span data-stu-id="aa8e1-130">Cache configuration precedence order</span></span>
1. <span data-ttu-id="aa8e1-131">Azure Media Services skonfigurowany pamięci podręcznej wartość zastępuje wartości domyślne.</span><span class="sxs-lookup"><span data-stu-id="aa8e1-131">Azure Media Services configured cache value overrides default value.</span></span>
2. <span data-ttu-id="aa8e1-132">Jeśli nie istnieje konfiguracja ręczna, zastosowanie wartości domyślnych.</span><span class="sxs-lookup"><span data-stu-id="aa8e1-132">If there is no manual configuration, default values applies.</span></span>
3. <span data-ttu-id="aa8e1-133">Przez pamięć podręczną 2 sekundy domyślne nagłówki ma zastosowanie do aktywnego przesyłania strumieniowego manifest(playlist) niezależnie od konfiguracji multimediów Azure lub usługi Azure Storage i zastępowanie tej wartości nie jest dostępna.</span><span class="sxs-lookup"><span data-stu-id="aa8e1-133">By default 2 seconds cache headers applies to live streaming manifest(playlist) regardless of Azure Media or Azure Storage configuration and overriding of this value is not available.</span></span>

