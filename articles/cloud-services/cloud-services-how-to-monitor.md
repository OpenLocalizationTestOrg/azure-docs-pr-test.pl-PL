---
title: "Jak monitorować usługi w chmurze | Dokumentacja firmy Microsoft"
description: "Dowiedz się, jak monitorować usługi w chmurze przy użyciu klasycznego portalu Azure."
services: cloud-services
documentationcenter: 
author: thraka
manager: timlt
editor: 
ms.assetid: 5c48d2fb-b8ea-420f-80df-7aebe2b66b1b
ms.service: cloud-services
ms.workload: tbd
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 12/07/2015
ms.author: adegeo
ms.openlocfilehash: c369b22cf068a473343b006eb1b06fdd350d31db
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 08/29/2017
---
# <a name="how-to-monitor-cloud-services"></a><span data-ttu-id="d0d01-103">Jak monitorować usługi Cloud Services</span><span class="sxs-lookup"><span data-stu-id="d0d01-103">How to Monitor Cloud Services</span></span>
[!INCLUDE [disclaimer](../../includes/disclaimer.md)]

<span data-ttu-id="d0d01-104">Można monitorować `key` metryki wydajności dla usług w chmurze w klasycznym portalu Azure.</span><span class="sxs-lookup"><span data-stu-id="d0d01-104">You can monitor `key` performance metrics for your cloud services in the Azure classic portal.</span></span> <span data-ttu-id="d0d01-105">Można ustawić poziom monitorowania minimalnego i pełne dla każdej usługi roli i dostosować Wyświetla monitorowania.</span><span class="sxs-lookup"><span data-stu-id="d0d01-105">You can set the level of monitoring to minimal and verbose for each service role, and can customize the monitoring displays.</span></span> <span data-ttu-id="d0d01-106">Pełne dane monitorowania są przechowywane na koncie magazynu, które jest dostępne spoza portalu.</span><span class="sxs-lookup"><span data-stu-id="d0d01-106">Verbose monitoring data is stored in a storage account, which you can access outside the portal.</span></span> 

<span data-ttu-id="d0d01-107">Wyświetla monitorowania w klasycznym portalu Azure są konfigurowane w dużej.</span><span class="sxs-lookup"><span data-stu-id="d0d01-107">Monitoring displays in the Azure classic portal are highly configurable.</span></span> <span data-ttu-id="d0d01-108">Można wybrać metryki mają być monitorowane na liście metryki na **Monitor** strony, a można wybrać, które metryk do wykreślenia w metryki wykresy na **Monitor** strony i pulpitu nawigacyjnego.</span><span class="sxs-lookup"><span data-stu-id="d0d01-108">You can choose the metrics you want to monitor in the metrics list on the **Monitor** page, and you can choose which metrics to plot in metrics charts on the **Monitor** page and the dashboard.</span></span> 

## <a name="concepts"></a><span data-ttu-id="d0d01-109">Pojęcia</span><span class="sxs-lookup"><span data-stu-id="d0d01-109">Concepts</span></span>
<span data-ttu-id="d0d01-110">Domyślnie minimalnym monitorowania jest podawany nową usługę w chmurze za pomocą liczników wydajności zebranych z systemu operacyjnego hosta w wystąpieniach ról (maszyn wirtualnych).</span><span class="sxs-lookup"><span data-stu-id="d0d01-110">By default, minimal monitoring is provided for a new cloud service using performance counters gathered from the host operating system for the roles instances (virtual machines).</span></span> <span data-ttu-id="d0d01-111">Minimalny metryki są ograniczone do procent użycia procesora CPU, dane w danych wychodzących, przepływność odczytu dysku i przepływność zapisu dysku.</span><span class="sxs-lookup"><span data-stu-id="d0d01-111">The minimal metrics are limited to CPU Percentage, Data In, Data Out, Disk Read Throughput, and Disk Write Throughput.</span></span> <span data-ttu-id="d0d01-112">Konfigurując pełnego monitorowania może otrzymywać dodatkowe metryki na podstawie danych o wydajności na maszynach wirtualnych (wystąpienia roli).</span><span class="sxs-lookup"><span data-stu-id="d0d01-112">By configuring verbose monitoring, you can receive additional metrics based on performance data within the virtual machines (role instances).</span></span> <span data-ttu-id="d0d01-113">Pełne metryki Włącz analizę bliżej problemów występujących podczas działania aplikacji.</span><span class="sxs-lookup"><span data-stu-id="d0d01-113">The verbose metrics enable closer analysis of issues that occur during application operations.</span></span>

<span data-ttu-id="d0d01-114">Domyślnie dane licznika wydajności z wystąpień roli jest próbkowany i przekazywane z wystąpienia roli co 3 minut.</span><span class="sxs-lookup"><span data-stu-id="d0d01-114">By default performance counter data from role instances is sampled and transferred from the role instance at 3-minute intervals.</span></span> <span data-ttu-id="d0d01-115">Po włączeniu pełnego monitorowania wydajności pierwotnych danych licznika jest agregowana częstotliwością wynoszącą 5 minut, godzinę i 12 godzin dla każdego wystąpienia roli, a w wystąpieniach ról dla każdej roli.</span><span class="sxs-lookup"><span data-stu-id="d0d01-115">When you enable verbose monitoring, the raw performance counter data is aggregated for each role instance and across role instances for each role at intervals of 5 minutes, 1 hour, and 12 hours.</span></span> <span data-ttu-id="d0d01-116">Zagregowane dane są przeczyszczane po 10 dni.</span><span class="sxs-lookup"><span data-stu-id="d0d01-116">The aggregated data is purged after 10 days.</span></span>

<span data-ttu-id="d0d01-117">Po włączeniu pełnego monitorowania zagregowane dane monitorowania są przechowywane w tabelach na koncie magazynu.</span><span class="sxs-lookup"><span data-stu-id="d0d01-117">After you enable verbose monitoring, the aggregated monitoring data is stored in tables in your storage account.</span></span> <span data-ttu-id="d0d01-118">Aby włączyć monitorowanie pełne dla roli, należy skonfigurować parametry połączenia diagnostyki prowadzący do konta magazynu.</span><span class="sxs-lookup"><span data-stu-id="d0d01-118">To enable verbose monitoring for a role, you must configure a diagnostics connection string that links to the storage account.</span></span> <span data-ttu-id="d0d01-119">Można użyć różnych kont magazynu dla różnych ról.</span><span class="sxs-lookup"><span data-stu-id="d0d01-119">You can use different storage accounts for different roles.</span></span>

<span data-ttu-id="d0d01-120">Włączenie pełnego monitorowania zwiększa koszty magazynowania związane z magazynu danych, transfer danych i magazynu transakcji.</span><span class="sxs-lookup"><span data-stu-id="d0d01-120">Enabling verbose monitoring increases your storage costs related to data storage, data transfer, and storage transactions.</span></span> <span data-ttu-id="d0d01-121">Minimalny monitorowania nie wymaga konta magazynu.</span><span class="sxs-lookup"><span data-stu-id="d0d01-121">Minimal monitoring does not require a storage account.</span></span> <span data-ttu-id="d0d01-122">Nawet w przypadku ustawienia monitorowania poziom do pełnych danych dla metryki, które są dostępne na minimalnym poziomie monitorowania nie są przechowywane na koncie magazynu.</span><span class="sxs-lookup"><span data-stu-id="d0d01-122">The data for the metrics that are exposed at the minimal monitoring level are not stored in your storage account, even if you set the monitoring level to verbose.</span></span>

## <a name="how-to-configure-monitoring-for-cloud-services"></a><span data-ttu-id="d0d01-123">Porady: Konfigurowanie monitorowania dla usług w chmurze</span><span class="sxs-lookup"><span data-stu-id="d0d01-123">How to: Configure monitoring for cloud services</span></span>
<span data-ttu-id="d0d01-124">Użyj poniższych procedur, aby skonfigurować, pełne lub minimalnym monitorowania w klasycznym portalu Azure.</span><span class="sxs-lookup"><span data-stu-id="d0d01-124">Use the following procedures to configure verbose or minimal monitoring in the Azure classic portal.</span></span> 

### <a name="before-you-begin"></a><span data-ttu-id="d0d01-125">Przed rozpoczęciem</span><span class="sxs-lookup"><span data-stu-id="d0d01-125">Before you begin</span></span>
* <span data-ttu-id="d0d01-126">Utwórz *klasycznego* konta magazynu do przechowywania danych monitorowania.</span><span class="sxs-lookup"><span data-stu-id="d0d01-126">Create a *classic* storage account to store the monitoring data.</span></span> <span data-ttu-id="d0d01-127">Można użyć różnych kont magazynu dla różnych ról.</span><span class="sxs-lookup"><span data-stu-id="d0d01-127">You can use different storage accounts for different roles.</span></span> <span data-ttu-id="d0d01-128">Aby uzyskać więcej informacji, zobacz [jak utworzyć konto magazynu](../storage/common/storage-create-storage-account.md#create-a-storage-account).</span><span class="sxs-lookup"><span data-stu-id="d0d01-128">For more information, see [How to create a storage account](../storage/common/storage-create-storage-account.md#create-a-storage-account).</span></span>
* <span data-ttu-id="d0d01-129">Włącz diagnostyki Azure dla role usługi w chmurze.</span><span class="sxs-lookup"><span data-stu-id="d0d01-129">Enable Azure Diagnostics for your cloud service roles.</span></span> <span data-ttu-id="d0d01-130">Zobacz [Konfigurowanie diagnostyki dla usługi w chmurze](cloud-services-dotnet-diagnostics.md).</span><span class="sxs-lookup"><span data-stu-id="d0d01-130">See [Configuring Diagnostics for Cloud Services](cloud-services-dotnet-diagnostics.md).</span></span>

<span data-ttu-id="d0d01-131">Upewnij się, że parametry połączenia diagnostyki są dostępne w konfiguracji roli.</span><span class="sxs-lookup"><span data-stu-id="d0d01-131">Ensure that the diagnostics connection string is present in the Role configuration.</span></span> <span data-ttu-id="d0d01-132">Nie można włączyć pełne monitorowania do czasu włączenia diagnostyki Azure i obejmują parametry połączenia diagnostyki w konfiguracji roli.</span><span class="sxs-lookup"><span data-stu-id="d0d01-132">You cannot turn on verbose monitoring until you enable Azure Diagnostics and include a diagnostics connection string in the Role configuration.</span></span>   

> [!NOTE]
> <span data-ttu-id="d0d01-133">Projektach przeznaczonych dla 2.5 zestawu SDK platformy Azure nie obejmują automatycznie diagnostyki parametry połączenia w szablonie projektu.</span><span class="sxs-lookup"><span data-stu-id="d0d01-133">Projects targeting Azure SDK 2.5 did not automatically include the diagnostics connection string in the project template.</span></span> <span data-ttu-id="d0d01-134">Te projekty musisz ręcznie dodać parametry połączenia diagnostyki do konfiguracji roli.</span><span class="sxs-lookup"><span data-stu-id="d0d01-134">For these projects, you need to manually add the diagnostics connection string to the Role configuration.</span></span>
> 
> 

<span data-ttu-id="d0d01-135">**Aby ręcznie dodać parametry połączenia diagnostyki do konfiguracji roli**</span><span class="sxs-lookup"><span data-stu-id="d0d01-135">**To manually add diagnostics connection string to Role configuration**</span></span>

1. <span data-ttu-id="d0d01-136">Otwórz projekt usługi w chmurze w programie Visual Studio</span><span class="sxs-lookup"><span data-stu-id="d0d01-136">Open the Cloud Service project in Visual Studio</span></span>
2. <span data-ttu-id="d0d01-137">Kliknij dwukrotnie **roli** otworzyć projektanta i wybierz rolę **ustawienia** kartę</span><span class="sxs-lookup"><span data-stu-id="d0d01-137">Double-click on the **Role** to open the Role designer and select the **Settings** tab</span></span>
3. <span data-ttu-id="d0d01-138">Wyszukaj ustawienie o nazwie **Microsoft.WindowsAzure.Plugins.Diagnostics.ConnectionString**.</span><span class="sxs-lookup"><span data-stu-id="d0d01-138">Look for a setting named **Microsoft.WindowsAzure.Plugins.Diagnostics.ConnectionString**.</span></span> 
4. <span data-ttu-id="d0d01-139">Jeśli to ustawienie nie jest obecny, kliknij **Dodaj ustawienie** przycisk, aby dodać je do konfiguracji i zmienić typ nowe ustawienie do **ConnectionString**</span><span class="sxs-lookup"><span data-stu-id="d0d01-139">If this setting is not present, click on the **Add Setting** button to add it to the configuration and change the type for the new setting to **ConnectionString**</span></span>
5. <span data-ttu-id="d0d01-140">Ustawianie wartości parametrów połączenia, klikając **...**  przycisku.</span><span class="sxs-lookup"><span data-stu-id="d0d01-140">Set the value for connection string the by clicking on the **...** button.</span></span> <span data-ttu-id="d0d01-141">Zostanie otwarte okno dialogowe umożliwiające wybranie konta magazynu.</span><span class="sxs-lookup"><span data-stu-id="d0d01-141">This will open up a dialog allowing you to select a storage account.</span></span>
   
    ![Ustawienia programu Visual Studio](./media/cloud-services-how-to-monitor/CloudServices_Monitor_VisualStudioDiagnosticsConnectionString.png)

### <a name="to-change-the-monitoring-level-to-verbose-or-minimal"></a><span data-ttu-id="d0d01-143">Aby zmienić poziom monitorowania pełne lub minimalnego</span><span class="sxs-lookup"><span data-stu-id="d0d01-143">To change the monitoring level to verbose or minimal</span></span>
1. <span data-ttu-id="d0d01-144">W [klasycznego portalu Azure](https://manage.windowsazure.com/), otwórz **Konfiguruj** strony dla wdrożenia usługi w chmurze.</span><span class="sxs-lookup"><span data-stu-id="d0d01-144">In the [Azure classic portal](https://manage.windowsazure.com/), open the **Configure** page for the cloud service deployment.</span></span>
2. <span data-ttu-id="d0d01-145">W **poziom**, kliknij przycisk **pełne** lub **minimalnego**.</span><span class="sxs-lookup"><span data-stu-id="d0d01-145">In **Level**, click **Verbose** or **Minimal**.</span></span> 
3. <span data-ttu-id="d0d01-146">Kliknij pozycję **Zapisz**.</span><span class="sxs-lookup"><span data-stu-id="d0d01-146">Click **Save**.</span></span>

<span data-ttu-id="d0d01-147">Po włączeniu pełnego monitorowania powinny zacząć się wyświetlać dane monitorowania w klasycznym portalu Azure w ciągu godziny.</span><span class="sxs-lookup"><span data-stu-id="d0d01-147">After you turn on verbose monitoring, you should start seeing the monitoring data in the Azure classic portal within the hour.</span></span>

<span data-ttu-id="d0d01-148">Dane licznika wydajności pierwotnych i zagregowanych danych monitorowania są przechowywane na koncie magazynu w tabelach kwalifikowana przez identyfikator wdrożenia dla ról.</span><span class="sxs-lookup"><span data-stu-id="d0d01-148">The raw performance counter data and aggregated monitoring data are stored in the storage account in tables qualified by the deployment ID for the roles.</span></span> 

## <a name="how-to-receive-alerts-for-cloud-service-metrics"></a><span data-ttu-id="d0d01-149">Porady: otrzymywać alerty dotyczące metryk usługi w chmurze</span><span class="sxs-lookup"><span data-stu-id="d0d01-149">How to: Receive alerts for cloud service metrics</span></span>
<span data-ttu-id="d0d01-150">Możesz otrzymywać alerty oparte na monitorowanie metryki usługi w chmurze.</span><span class="sxs-lookup"><span data-stu-id="d0d01-150">You can receive alerts based on your cloud service monitoring metrics.</span></span> <span data-ttu-id="d0d01-151">Na **usług zarządzania** strony klasyczny Portal Azure portalu, możesz utworzyć regułę do wyzwolenia alertu, gdy zostanie wybrana Metryka osiągnie wartość określonej.</span><span class="sxs-lookup"><span data-stu-id="d0d01-151">On the **Management Services** page of the Azure classic portal, you can create a rule to trigger an alert when the metric you choose reaches a value that you specify.</span></span> <span data-ttu-id="d0d01-152">Można również mieć wiadomości e-mail wysyłane po wyzwoleniu alertu.</span><span class="sxs-lookup"><span data-stu-id="d0d01-152">You can also choose to have email sent when the alert is triggered.</span></span> <span data-ttu-id="d0d01-153">Aby uzyskać więcej informacji, zobacz [porady: odbieranie powiadomień o alertach i Zarządzaj zasadami alertów w usłudze Azure](http://go.microsoft.com/fwlink/?LinkId=309356).</span><span class="sxs-lookup"><span data-stu-id="d0d01-153">For more information, see [How to: Receive Alert Notifications and Manage Alert Rules in Azure](http://go.microsoft.com/fwlink/?LinkId=309356).</span></span>

## <a name="how-to-add-metrics-to-the-metrics-table"></a><span data-ttu-id="d0d01-154">Porady: Dodawanie metryk do tabeli metryk</span><span class="sxs-lookup"><span data-stu-id="d0d01-154">How to: Add metrics to the metrics table</span></span>
1. <span data-ttu-id="d0d01-155">W [klasycznego portalu Azure](http://manage.windowsazure.com/), otwórz **Monitor** strony dla usługi w chmurze.</span><span class="sxs-lookup"><span data-stu-id="d0d01-155">In the [Azure classic portal](http://manage.windowsazure.com/), open the **Monitor** page for the cloud service.</span></span>
   
    <span data-ttu-id="d0d01-156">Domyślnie tabeli metryki przedstawia podzbiór dostępne metryki.</span><span class="sxs-lookup"><span data-stu-id="d0d01-156">By default, the metrics table displays a subset of the available metrics.</span></span> <span data-ttu-id="d0d01-157">Na ilustracji przedstawiono domyślne pełne metryki dla usługi w chmurze, które jest ograniczona do wartości licznika wydajności pamięć\dostępna pamięć (MB), dane zagregowane na poziomie roli.</span><span class="sxs-lookup"><span data-stu-id="d0d01-157">The illustration shows the default verbose metrics for a cloud service, which is limited to the Memory\Available MBytes performance counter, with data aggregated at the role level.</span></span> <span data-ttu-id="d0d01-158">Użyj **dodać metryki** aby wybrać dodatkowe metryki agregacji i na poziomie roli, do monitorowania w klasycznym portalu Azure.</span><span class="sxs-lookup"><span data-stu-id="d0d01-158">Use **Add Metrics** to select additional aggregate and role-level metrics to monitor in the Azure classic portal.</span></span>
   
    ![Pełny ekran](./media/cloud-services-how-to-monitor/CloudServices_DefaultVerboseDisplay.png)
2. <span data-ttu-id="d0d01-160">Aby dodać metryk do tabeli metryki:</span><span class="sxs-lookup"><span data-stu-id="d0d01-160">To add metrics to the metrics table:</span></span>
   
   1. <span data-ttu-id="d0d01-161">Kliknij przycisk **dodać metryki** otworzyć **wybrać metryki**, przedstawiono poniżej.</span><span class="sxs-lookup"><span data-stu-id="d0d01-161">Click **Add Metrics** to open **Choose Metrics**, shown below.</span></span>
      
       <span data-ttu-id="d0d01-162">Pierwszy dostępne metryki jest rozwinięty, aby wyświetlić opcje, które są dostępne.</span><span class="sxs-lookup"><span data-stu-id="d0d01-162">The first available metric is expanded to show options that are available.</span></span> <span data-ttu-id="d0d01-163">Dla każdego metryki opcję top Wyświetla zagregowane dane monitorowania dla wszystkich ról.</span><span class="sxs-lookup"><span data-stu-id="d0d01-163">For each metric, the top option displays aggregated monitoring data for all roles.</span></span> <span data-ttu-id="d0d01-164">Ponadto można wybrać poszczególnych ról, aby wyświetlić dane.</span><span class="sxs-lookup"><span data-stu-id="d0d01-164">In addition, you can choose individual roles to display data for.</span></span>
      
       ![Dodaj metryk](./media/cloud-services-how-to-monitor/CloudServices_AddMetrics.png)
   2. <span data-ttu-id="d0d01-166">Aby wybrać metryki, aby wyświetlić</span><span class="sxs-lookup"><span data-stu-id="d0d01-166">To select metrics to display</span></span>
      
      * <span data-ttu-id="d0d01-167">Kliknij strzałkę w dół według metryki, aby rozwinąć opcje monitorowania.</span><span class="sxs-lookup"><span data-stu-id="d0d01-167">Click the down arrow by the metric to expand the monitoring options.</span></span>
      * <span data-ttu-id="d0d01-168">Zaznacz pole wyboru dla każdej opcji monitorowania, które mają być wyświetlane.</span><span class="sxs-lookup"><span data-stu-id="d0d01-168">Select the check box for each monitoring option you want to display.</span></span>
        
        <span data-ttu-id="d0d01-169">W tabeli metryki można wyświetlić metryk do 50.</span><span class="sxs-lookup"><span data-stu-id="d0d01-169">You can display up to 50 metrics in the metrics table.</span></span>
        
        > [!TIP]
        > <span data-ttu-id="d0d01-170">W ramach monitorowania pełne lista metryki może zawierać dziesiątki metryki.</span><span class="sxs-lookup"><span data-stu-id="d0d01-170">In verbose monitoring, the metrics list can contain dozens of metrics.</span></span> <span data-ttu-id="d0d01-171">Aby wyświetlić paska przewijania, umieść kursor nad prawą stronę okna dialogowego.</span><span class="sxs-lookup"><span data-stu-id="d0d01-171">To display a scrollbar, hover over the right side of the dialog box.</span></span> <span data-ttu-id="d0d01-172">Aby filtrować listę, kliknij ikonę wyszukiwania, a w polu wyszukiwania wpisz tekst, jak pokazano poniżej.</span><span class="sxs-lookup"><span data-stu-id="d0d01-172">To filter the list, click the search icon, and enter text in the search box, as shown below.</span></span>
        > 
        > 
        
        ![Dodaj wyszukiwanie metryk](./media/cloud-services-how-to-monitor/CloudServices_AddMetrics_Search.png)
3. <span data-ttu-id="d0d01-174">Po wybraniu metryki, kliknij przycisk OK (znacznikiem wyboru).</span><span class="sxs-lookup"><span data-stu-id="d0d01-174">After you finish selecting metrics, click OK (checkmark).</span></span>
   
    <span data-ttu-id="d0d01-175">Wybrane metryki są dodawane do tabeli metryki, jak pokazano poniżej.</span><span class="sxs-lookup"><span data-stu-id="d0d01-175">The selected metrics are added to the metrics table, as shown below.</span></span>
   
    ![Monitor metryk](./media/cloud-services-how-to-monitor/CloudServices_Monitor_UpdatedMetrics.png)
4. <span data-ttu-id="d0d01-177">Aby usunąć metryki z tabeli metryki, kliknij przycisk metrykę, aby go zaznaczyć, a następnie kliknij przycisk **usunąć Metryka**.</span><span class="sxs-lookup"><span data-stu-id="d0d01-177">To delete a metric from the metrics table, click the metric to select it, and then click **Delete Metric**.</span></span> <span data-ttu-id="d0d01-178">(Wyświetlane są tylko **usunąć Metryka** Jeśli masz wybraną metryką.)</span><span class="sxs-lookup"><span data-stu-id="d0d01-178">(You only see **Delete Metric** when you have a metric selected.)</span></span>

### <a name="to-add-custom-metrics-to-the-metrics-table"></a><span data-ttu-id="d0d01-179">Aby dodać niestandardowe metryki do tabeli metryk</span><span class="sxs-lookup"><span data-stu-id="d0d01-179">To add custom metrics to the metrics table</span></span>
<span data-ttu-id="d0d01-180">**Pełne** monitorowania poziomu zawiera listę domyślne metryki, które można monitorować w portalu.</span><span class="sxs-lookup"><span data-stu-id="d0d01-180">The **Verbose** monitoring level provides a list of default metrics that you can monitor on the portal.</span></span> <span data-ttu-id="d0d01-181">Oprócz tych można monitorować wszystkie metryki niestandardowe lub liczników wydajności zdefiniowanych przez aplikację za pośrednictwem portalu.</span><span class="sxs-lookup"><span data-stu-id="d0d01-181">In addition to these you can monitor any custom metrics or performance counters defined by your application through the portal.</span></span>

<span data-ttu-id="d0d01-182">W następujących krokach założono, że włączono **pełne** poziom monitorowania i skonfigurowano do zbierania i transferu niestandardowe liczniki wydajności aplikacji.</span><span class="sxs-lookup"><span data-stu-id="d0d01-182">The following steps assume that you have turned on **Verbose** monitoring level and have configured your application to collect and transfer custom performance counters.</span></span> 

<span data-ttu-id="d0d01-183">Aby wyświetlić liczniki wydajności niestandardowych w portalu, musisz zaktualizować konfiguracji w wad formantu kontenera:</span><span class="sxs-lookup"><span data-stu-id="d0d01-183">To display the custom performance counters in the portal you need to update the configuration in wad-control-container:</span></span>

1. <span data-ttu-id="d0d01-184">Otwórz wad formantu kontenera obiektu blob na koncie magazynu diagnostyki.</span><span class="sxs-lookup"><span data-stu-id="d0d01-184">Open the wad-control-container blob in your diagnostics storage account.</span></span> <span data-ttu-id="d0d01-185">W tym celu można użyć programu Visual Studio lub innych Eksploratora magazynu.</span><span class="sxs-lookup"><span data-stu-id="d0d01-185">You can use Visual Studio or any other storage explorer to do this.</span></span>
   
    ![W Eksploratorze serwera programu Visual Studio](./media/cloud-services-how-to-monitor/CloudServices_Monitor_VisualStudioBlobExplorer.png)
2. <span data-ttu-id="d0d01-187">Przejdź do ścieżki obiektu blob przy użyciu wzorca **DeploymentId/RoleName/RoleInstance** można znaleźć konfiguracji dla swojego wystąpienia roli.</span><span class="sxs-lookup"><span data-stu-id="d0d01-187">Navigate the blob path using the pattern **DeploymentId/RoleName/RoleInstance** to find the configuration for your role instance.</span></span> 
   
    ![Eksplorator usługi Storage programu Visual Studio](./media/cloud-services-how-to-monitor/CloudServices_Monitor_VisualStudioStorage.png)
3. <span data-ttu-id="d0d01-189">Pobierz plik konfiguracji dla swojego wystąpienia roli i zaktualizować go, aby uwzględnić wszystkie niestandardowe liczniki wydajności.</span><span class="sxs-lookup"><span data-stu-id="d0d01-189">Download the configuration file for your role instance and update it to include any custom performance counters.</span></span> <span data-ttu-id="d0d01-190">Na przykład do monitora *Bajty zapisu dysku/s* dla *dysku C* Dodaj następujący kod pod **PerformanceCounters\Subscriptions** węzła</span><span class="sxs-lookup"><span data-stu-id="d0d01-190">For example to monitor *Disk Write Bytes/sec* for the *C drive* add the following under **PerformanceCounters\Subscriptions** node</span></span>
   
    ```xml
    <PerformanceCounterConfiguration>
    <CounterSpecifier>\LogicalDisk(C:)\Disk Write Bytes/sec</CounterSpecifier>
    <SampleRateInSeconds>180</SampleRateInSeconds>
    </PerformanceCounterConfiguration>
    ```
4. <span data-ttu-id="d0d01-191">Zapisz zmiany i przekazać plik konfiguracji do tej samej lokalizacji, zastępując istniejący plik w obiekcie blob.</span><span class="sxs-lookup"><span data-stu-id="d0d01-191">Save the changes and upload the configuration file back to the same location overwriting the existing file in the blob.</span></span>
5. <span data-ttu-id="d0d01-192">Przełącz do trybu informacji pełnej w konfiguracji platformy Azure portalu klasycznego.</span><span class="sxs-lookup"><span data-stu-id="d0d01-192">Toggle to Verbose mode in the Azure classic portal configuration.</span></span> <span data-ttu-id="d0d01-193">Jeśli były w trybie informacji pełnej już konieczne będzie Przełącz do minimalnego i z powrotem do pełnego.</span><span class="sxs-lookup"><span data-stu-id="d0d01-193">If you were in Verbose mode already you will have to toggle to minimal and back to verbose.</span></span>
6. <span data-ttu-id="d0d01-194">Licznik wydajności niestandardowe będą teraz dostępne w **dodać metryki** okno dialogowe.</span><span class="sxs-lookup"><span data-stu-id="d0d01-194">The custom performance counter will now be available in the **Add Metrics** dialog box.</span></span> 

## <a name="how-to-customize-the-metrics-chart"></a><span data-ttu-id="d0d01-195">Porady: Dostosowywanie wykresu metryk</span><span class="sxs-lookup"><span data-stu-id="d0d01-195">How to: Customize the metrics chart</span></span>
1. <span data-ttu-id="d0d01-196">W tabeli metryki wybierz metryk do 6 do wykreślenia wykresu metryki.</span><span class="sxs-lookup"><span data-stu-id="d0d01-196">In the metrics table, select up to 6 metrics to plot on the metrics chart.</span></span> <span data-ttu-id="d0d01-197">Aby wybrać metryki, kliknij pole wyboru jego lewej strony.</span><span class="sxs-lookup"><span data-stu-id="d0d01-197">To select a metric, click the check box on its left side.</span></span> <span data-ttu-id="d0d01-198">Aby usunąć metryki z wykresu metryki, wyczyść jej pole wyboru w tabeli metryki.</span><span class="sxs-lookup"><span data-stu-id="d0d01-198">To remove a metric from the metrics chart, clear its check box in the metrics table.</span></span>
   
    <span data-ttu-id="d0d01-199">Po wybraniu metryki w tabeli metryki metryki są dodawane do wykresu metryki.</span><span class="sxs-lookup"><span data-stu-id="d0d01-199">As you select metrics in the metrics table, the metrics are added to the metrics chart.</span></span> <span data-ttu-id="d0d01-200">Na ekranie wąskie **n więcej** listy rozwijanej zawiera nagłówki metryk, które nie pasują do wyświetlenia.</span><span class="sxs-lookup"><span data-stu-id="d0d01-200">On a narrow display, an **n more** drop-down list contains metric headers that won't fit the display.</span></span>
2. <span data-ttu-id="d0d01-201">Aby przełączyć się między względne wartości (końcowa wartość tylko dla każdego metryki) i wartości bezwzględne (wyświetlane oś Y), wybierz względną lub bezwzględną w górnej części wykresu.</span><span class="sxs-lookup"><span data-stu-id="d0d01-201">To switch between displaying relative values (final value only for each metric) and absolute values (Y axis displayed), select Relative or Absolute at the top of the chart.</span></span>
   
    ![Względna lub bezwzględna](./media/cloud-services-how-to-monitor/CloudServices_Monitor_RelativeAbsolute.png)
3. <span data-ttu-id="d0d01-203">Aby zmienić zakres czasu wyświetla wykres metryki, wybierz godzinę, 24 godzin lub dni 7 w górnej części wykresu.</span><span class="sxs-lookup"><span data-stu-id="d0d01-203">To change the time range the metrics chart displays, select 1 hour, 24 hours, or 7 days at the top of the chart.</span></span>
   
    ![Monitor okres wyświetlania](./media/cloud-services-how-to-monitor/CloudServices_Monitor_DisplayPeriod.png)
   
    <span data-ttu-id="d0d01-205">Na wykresie metryki pulpitu nawigacyjnego metody do kreślenia metryki różni się.</span><span class="sxs-lookup"><span data-stu-id="d0d01-205">On the dashboard metrics chart, the method for plotting metrics is different.</span></span> <span data-ttu-id="d0d01-206">Standardowy zestaw metryki jest dostępna, i metryki zostały dodane lub usunięte przez wybranie metryki nagłówka.</span><span class="sxs-lookup"><span data-stu-id="d0d01-206">A standard set of metrics is available, and metrics are added or removed by selecting the metric header.</span></span>

### <a name="to-customize-the-metrics-chart-on-the-dashboard"></a><span data-ttu-id="d0d01-207">Aby dostosować wykres metryki na pulpicie nawigacyjnym</span><span class="sxs-lookup"><span data-stu-id="d0d01-207">To customize the metrics chart on the dashboard</span></span>
1. <span data-ttu-id="d0d01-208">Otwórz pulpit nawigacyjny dla usługi w chmurze.</span><span class="sxs-lookup"><span data-stu-id="d0d01-208">Open the dashboard for the cloud service.</span></span>
2. <span data-ttu-id="d0d01-209">Dodaj lub usuń metryki z wykresu:</span><span class="sxs-lookup"><span data-stu-id="d0d01-209">Add or remove metrics from the chart:</span></span>
   
   * <span data-ttu-id="d0d01-210">Do wykreślenia nowe metryki, zaznacz pole wyboru metryki w nagłówkach wykresu.</span><span class="sxs-lookup"><span data-stu-id="d0d01-210">To plot a new metric, select the check box for the metric in the chart headers.</span></span> <span data-ttu-id="d0d01-211">Na ekranie wąskie, kliknij strzałkę w dół przez  ***n* ? metryki** do wykreślenia metrykę obszaru wykresu, do nagłówka nie może wyświetlić.</span><span class="sxs-lookup"><span data-stu-id="d0d01-211">On a narrow display, click the down arrow by ***n*??metrics** to plot a metric the chart header area can't display.</span></span>
   * <span data-ttu-id="d0d01-212">Aby usunąć metrykę, które są kreślone na wykresie, wyczyść pole wyboru przy jej nagłówek.</span><span class="sxs-lookup"><span data-stu-id="d0d01-212">To delete a metric that is plotted on the chart, clear the check box by its header.</span></span>
   
3. <span data-ttu-id="d0d01-213">Przełączanie między **względną** i **bezwzględne** Wyświetla.</span><span class="sxs-lookup"><span data-stu-id="d0d01-213">Switch between **Relative** and **Absolute** displays.</span></span>
4. <span data-ttu-id="d0d01-214">Wybierz godzinę, 24 godzin lub 7 dni danych do wyświetlenia.</span><span class="sxs-lookup"><span data-stu-id="d0d01-214">Choose 1 hour, 24 hours, or 7 days of data to display.</span></span>

## <a name="how-to-access-verbose-monitoring-data-outside-the-azure-classic-portal"></a><span data-ttu-id="d0d01-215">Porady: dostęp do pełnego monitorowania danych poza klasycznego portalu Azure</span><span class="sxs-lookup"><span data-stu-id="d0d01-215">How to: Access verbose monitoring data outside the Azure classic portal</span></span>
<span data-ttu-id="d0d01-216">Pełne dane monitorowania są przechowywane w tabelach na kontach magazynu, które określają dla każdej roli.</span><span class="sxs-lookup"><span data-stu-id="d0d01-216">Verbose monitoring data is stored in tables in the storage accounts that you specify for each role.</span></span> <span data-ttu-id="d0d01-217">Dla każdego wdrożenia usługi chmury sześciu tabele są tworzone dla roli.</span><span class="sxs-lookup"><span data-stu-id="d0d01-217">For each cloud service deployment, six tables are created for the role.</span></span> <span data-ttu-id="d0d01-218">Dwie tabele są tworzone dla każdej (5 minut, godzinę i 12 godzin).</span><span class="sxs-lookup"><span data-stu-id="d0d01-218">Two tables are created for each (5 minutes, 1 hour, and 12 hours).</span></span> <span data-ttu-id="d0d01-219">Jeden z tych tabel przechowuje agregacji na poziomie roli; drugiej tabeli przechowuje agregacji dla wystąpień roli.</span><span class="sxs-lookup"><span data-stu-id="d0d01-219">One of these tables stores role-level aggregations; the other table stores aggregations for role instances.</span></span> 

<span data-ttu-id="d0d01-220">Nazwy tabeli mają następujący format:</span><span class="sxs-lookup"><span data-stu-id="d0d01-220">The table names have the following format:</span></span>

```
WAD*deploymentID*PT*aggregation_interval*[R|RI]Table
```

<span data-ttu-id="d0d01-221">Gdzie:</span><span class="sxs-lookup"><span data-stu-id="d0d01-221">where:</span></span>

* <span data-ttu-id="d0d01-222">*deploymentID* jest identyfikatorem GUID przypisany do wdrożenia usługi w chmurze</span><span class="sxs-lookup"><span data-stu-id="d0d01-222">*deploymentID* is the GUID assigned to the cloud service deployment</span></span>
* <span data-ttu-id="d0d01-223">*aggregation_interval* = 5 M, 1 H lub 12 H</span><span class="sxs-lookup"><span data-stu-id="d0d01-223">*aggregation_interval* = 5M, 1H, or 12H</span></span>
* <span data-ttu-id="d0d01-224">agregacji na poziomie roli = R</span><span class="sxs-lookup"><span data-stu-id="d0d01-224">role-level aggregations = R</span></span>
* <span data-ttu-id="d0d01-225">agregacji dla wystąpień roli = RI</span><span class="sxs-lookup"><span data-stu-id="d0d01-225">aggregations for role instances = RI</span></span>

<span data-ttu-id="d0d01-226">Na przykład poniższe tabele będzie przechowywać pełne dane monitorowania zagregowane na 1 godzinę:</span><span class="sxs-lookup"><span data-stu-id="d0d01-226">For example, the following tables would store verbose monitoring data aggregated at 1-hour intervals:</span></span>

```
WAD8b7c4233802442b494d0cc9eb9d8dd9fPT1HRTable (hourly aggregations for the role)

WAD8b7c4233802442b494d0cc9eb9d8dd9fPT1HRITable (hourly aggregations for role instances)
```
