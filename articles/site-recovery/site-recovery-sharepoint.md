---
title: "Replikowanie wielowarstwowej aplikacji programu SharePoint przy użyciu usługi Azure Site Recovery | Dokumentacja firmy Microsoft"
description: "W tym artykule opisano sposób replikowania wielowarstwowej aplikacji programu SharePoint przy użyciu możliwości usługi Azure Site Recovery."
services: site-recovery
documentationcenter: 
author: sujayt
manager: rochakm
editor: 
ms.assetid: 
ms.service: site-recovery
ms.workload: storage-backup-recovery
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/10/2017
ms.author: sutalasi
ms.openlocfilehash: 9c0570b9da661a8ffb0041e5c24905480f55f6e2
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 07/11/2017
---
# <a name="replicate-a-multi-tier-sharepoint-application-for-disaster-recovery-using-azure-site-recovery"></a><span data-ttu-id="57db9-103">Replikowanie wielowarstwowej aplikacji programu SharePoint przy użyciu usługi Azure Site Recovery odzyskiwania po awarii</span><span class="sxs-lookup"><span data-stu-id="57db9-103">Replicate a multi-tier SharePoint application for disaster recovery using Azure Site Recovery</span></span>

<span data-ttu-id="57db9-104">W tym artykule opisano szczegółowo sposób chronić aplikacji programu SharePoint za pomocą [usługi Azure Site Recovery](site-recovery-overview.md).</span><span class="sxs-lookup"><span data-stu-id="57db9-104">This article describes in detail how to protect a SharePoint application using  [Azure Site Recovery](site-recovery-overview.md).</span></span>


## <a name="overview"></a><span data-ttu-id="57db9-105">Omówienie</span><span class="sxs-lookup"><span data-stu-id="57db9-105">Overview</span></span>

<span data-ttu-id="57db9-106">Microsoft SharePoint jest zaawansowanych aplikacji, które mogą ułatwić grupy lub działu organizowanie, współpracę i udostępnianie informacji.</span><span class="sxs-lookup"><span data-stu-id="57db9-106">Microsoft SharePoint is a powerful application that can help a group or department organize, collaborate, and share information.</span></span> <span data-ttu-id="57db9-107">SharePoint zapewniają portali sieci intranet, Zarządzanie dokumentami i plikami, współpracy, sieci społecznościowych, sieci ekstranet, witryn sieci Web, wyszukiwania enterprise i business intelligence.</span><span class="sxs-lookup"><span data-stu-id="57db9-107">SharePoint can provide intranet portals, document and file management, collaboration, social networks, extranets, websites, enterprise search, and business intelligence.</span></span> <span data-ttu-id="57db9-108">Ma również integracji systemu, integracji procesów i możliwości automatyzacji przepływu pracy.</span><span class="sxs-lookup"><span data-stu-id="57db9-108">It also has system integration, process integration, and workflow automation capabilities.</span></span> <span data-ttu-id="57db9-109">Zazwyczaj organizacje uważają, że jako aplikacja warstwy 1 wrażliwe na czas przestoju i utraty danych.</span><span class="sxs-lookup"><span data-stu-id="57db9-109">Typically, organizations consider it as a Tier-1 application sensitive to downtime and data loss.</span></span>

<span data-ttu-id="57db9-110">Już dziś Microsoft SharePoint nie zawiera żadnych funkcji odzyskiwania po awarii poza pole.</span><span class="sxs-lookup"><span data-stu-id="57db9-110">Today, Microsoft SharePoint  does not provide any out-of-the-box disaster recovery capabilities.</span></span> <span data-ttu-id="57db9-111">Niezależnie od typu i skali awarii odzyskiwanie obejmuje korzystanie z centrum danych wstrzymania, które można odzyskać do farmy.</span><span class="sxs-lookup"><span data-stu-id="57db9-111">Regardless of the type and scale of a disaster, recovery involves the use of a standby data center that you can recover the farm to.</span></span> <span data-ttu-id="57db9-112">Centra danych wstrzymania są wymagane dla scenariuszy, w którym lokalnego nadmiarowych systemów i kopii zapasowych nie można odzyskać z przestoju w centrum danych podstawowych.</span><span class="sxs-lookup"><span data-stu-id="57db9-112">Standby data centers are required for scenarios where local redundant systems and backups cannot recover from the outage at the primary data center.</span></span>

<span data-ttu-id="57db9-113">Rozwiązanie odzyskiwania po awarii dobrej powinien umożliwić modelowania planów odzyskiwania wokół architekturach aplikacji złożonych, takich jak SharePoint.</span><span class="sxs-lookup"><span data-stu-id="57db9-113">A good disaster recovery solution should allow modeling of recovery plans around the  complex application architectures such as SharePoint.</span></span> <span data-ttu-id="57db9-114">Powinien on także możliwość dodawania niestandardowych kroki w celu obsługi aplikacji mapowań między różnych warstw i dlatego udostępnianie trybu failover z jednym kliknięciem w dolnym RTO w przypadku awarii.</span><span class="sxs-lookup"><span data-stu-id="57db9-114">It should also have the ability to add customized steps to handle application mappings between various tiers and hence providing a single-click failover with a lower RTO in the event of a disaster.</span></span>

<span data-ttu-id="57db9-115">W tym artykule opisano szczegółowo sposób chronić aplikacji programu SharePoint za pomocą [usługi Azure Site Recovery](site-recovery-overview.md).</span><span class="sxs-lookup"><span data-stu-id="57db9-115">This article describes in detail how to protect a SharePoint application using [Azure Site Recovery](site-recovery-overview.md).</span></span> <span data-ttu-id="57db9-116">W tym artykule opisano najlepsze rozwiązania dotyczące replikacji trzy warstwy aplikacji programu SharePoint na platformie Azure, jak wyszczególniania odzyskiwania po awarii oraz sposób pracy awaryjnej aplikacji na platformie Azure.</span><span class="sxs-lookup"><span data-stu-id="57db9-116">This article will cover best practices for replicating a three tier SharePoint application to Azure, how you can do a disaster recovery drill, and how you can failover the application to Azure.</span></span>

<span data-ttu-id="57db9-117">Możesz obserwować poniżej wideo o odzyskiwaniu multi warstwy aplikacji na platformie Azure.</span><span class="sxs-lookup"><span data-stu-id="57db9-117">You can watch the below video about recovering a multi tier application to Azure.</span></span>

> [!VIDEO https://channel9.msdn.com/Series/Azure-Site-Recovery/Disaster-Recovery-of-load-balanced-multi-tier-applications-using-Azure-Site-Recovery/player]


## <a name="prerequisites"></a><span data-ttu-id="57db9-118">Wymagania wstępne</span><span class="sxs-lookup"><span data-stu-id="57db9-118">Prerequisites</span></span>

<span data-ttu-id="57db9-119">Przed rozpoczęciem upewnij się, że należy zrozumieć następujące kwestie:</span><span class="sxs-lookup"><span data-stu-id="57db9-119">Before you start, make sure you understand the following:</span></span>

1. [<span data-ttu-id="57db9-120">Replikacja maszyny wirtualnej na platformie Azure</span><span class="sxs-lookup"><span data-stu-id="57db9-120">Replicating a virtual machine to Azure</span></span>](site-recovery-vmware-to-azure.md)
2. <span data-ttu-id="57db9-121">Jak [projektowania sieci odzyskiwania](site-recovery-network-design.md)</span><span class="sxs-lookup"><span data-stu-id="57db9-121">How to [design a recovery network](site-recovery-network-design.md)</span></span>
3. [<span data-ttu-id="57db9-122">Ten test trybu failover na platformie Azure</span><span class="sxs-lookup"><span data-stu-id="57db9-122">Doing a test failover to Azure</span></span>](site-recovery-test-failover-to-azure.md)
4. [<span data-ttu-id="57db9-123">Podczas pracy w trybie failover na platformie Azure</span><span class="sxs-lookup"><span data-stu-id="57db9-123">Doing a failover to Azure</span></span>](site-recovery-failover.md)
5. <span data-ttu-id="57db9-124">Jak [replikacji kontrolera domeny](site-recovery-active-directory.md)</span><span class="sxs-lookup"><span data-stu-id="57db9-124">How to [replicate a domain controller](site-recovery-active-directory.md)</span></span>
6. <span data-ttu-id="57db9-125">Jak [replikacji programu SQL Server](site-recovery-sql.md)</span><span class="sxs-lookup"><span data-stu-id="57db9-125">How to [replicate SQL Server](site-recovery-sql.md)</span></span>

## <a name="sharepoint-architecture"></a><span data-ttu-id="57db9-126">Architektura programu SharePoint</span><span class="sxs-lookup"><span data-stu-id="57db9-126">SharePoint architecture</span></span>

<span data-ttu-id="57db9-127">Programu SharePoint można wdrożyć na jeden lub więcej serwerów przy użyciu topologii warstwowych i ról serwera do implementowania projektu farmy, spełniającej konkretne cele i cele.</span><span class="sxs-lookup"><span data-stu-id="57db9-127">SharePoint can be deployed on one or more servers using tiered topologies and server roles to implement a farm design that meets specific goals and objectives.</span></span> <span data-ttu-id="57db9-128">Typowy dużych, wysokiej jakości farmy programu SharePoint server obsługującego dużej liczby równoczesnych użytkowników i dużą liczbę elementów zawartości Użyj grupowania usługi w ramach strategii ich skalowalności.</span><span class="sxs-lookup"><span data-stu-id="57db9-128">A typical large, high-demand SharePoint server farm that supports a high number of concurrent users and a large number of content items use service grouping as part of their scalability strategy.</span></span> <span data-ttu-id="57db9-129">Ta metoda polega na uruchamianie usług na dedykowanych serwerach, grupowanie tych usług, a następnie skalowanie w poziomie serwery w grupie.</span><span class="sxs-lookup"><span data-stu-id="57db9-129">This approach involves running services on dedicated servers, grouping these services together, and then scaling out the servers as a group.</span></span> <span data-ttu-id="57db9-130">Następujące topologii zilustrowano usługi i grupowanie trzy warstwy farmy serwerów programu SharePoint server.</span><span class="sxs-lookup"><span data-stu-id="57db9-130">The following topology illustrates the service and server grouping for a three tier SharePoint server farm.</span></span> <span data-ttu-id="57db9-131">Zobacz dokumentację programu SharePoint i architektury linii produktu szczegółowe wskazówki dotyczące różnych topologiach programu SharePoint.</span><span class="sxs-lookup"><span data-stu-id="57db9-131">Please refer to SharePoint documentation and product line architectures for detailed guidance on different SharePoint topologies.</span></span> <span data-ttu-id="57db9-132">Można znaleźć więcej szczegółów na temat wdrażania programu SharePoint 2013 w [tego dokumentu](https://technet.microsoft.com/en-us/library/cc303422.aspx).</span><span class="sxs-lookup"><span data-stu-id="57db9-132">You can find more details about SharePoint 2013 deployment in [this document](https://technet.microsoft.com/en-us/library/cc303422.aspx).</span></span>



![Wzorzec wdrożenia 1](./media/site-recovery-sharepoint/sharepointarch.png)


## <a name="site-recovery-support"></a><span data-ttu-id="57db9-134">Obsługa odzyskiwania lokacji</span><span class="sxs-lookup"><span data-stu-id="57db9-134">Site Recovery support</span></span>

<span data-ttu-id="57db9-135">Do tworzenia w tym artykule, użyto maszyn wirtualnych VMware z systemem Windows Server 2012 R2 Enterprise.</span><span class="sxs-lookup"><span data-stu-id="57db9-135">For creating this article, VMware virtual machines with Windows Server 2012 R2 Enterprise were used.</span></span> <span data-ttu-id="57db9-136">Użyto programu SharePoint 2013 Enterprise edition i programu SQL server 2014 Enterprise edition.</span><span class="sxs-lookup"><span data-stu-id="57db9-136">SharePoint 2013 Enterprise edition and SQL server 2014 Enterprise edition were used.</span></span> <span data-ttu-id="57db9-137">Zgodnie z replikacji usługi Site Recovery jest niezależny od aplikacji, do przechowywania następujących scenariuszach również powinny zalecenia zawarte w tym miejscu.</span><span class="sxs-lookup"><span data-stu-id="57db9-137">As Site Recovery replication is application agnostic, the recommendations provided here are expected to hold on for following scenarios as well.</span></span>

### <a name="source-and-target"></a><span data-ttu-id="57db9-138">Źródłowa i docelowa</span><span class="sxs-lookup"><span data-stu-id="57db9-138">Source and target</span></span>

<span data-ttu-id="57db9-139">**Scenariusz**</span><span class="sxs-lookup"><span data-stu-id="57db9-139">**Scenario**</span></span> | <span data-ttu-id="57db9-140">**Do lokacji dodatkowej**</span><span class="sxs-lookup"><span data-stu-id="57db9-140">**To a secondary site**</span></span> | <span data-ttu-id="57db9-141">**Na platformie Azure**</span><span class="sxs-lookup"><span data-stu-id="57db9-141">**To Azure**</span></span>
--- | --- | ---
<span data-ttu-id="57db9-142">**Funkcja Hyper-V**</span><span class="sxs-lookup"><span data-stu-id="57db9-142">**Hyper-V**</span></span> | <span data-ttu-id="57db9-143">Tak</span><span class="sxs-lookup"><span data-stu-id="57db9-143">Yes</span></span> | <span data-ttu-id="57db9-144">Tak</span><span class="sxs-lookup"><span data-stu-id="57db9-144">Yes</span></span>
<span data-ttu-id="57db9-145">**VMware**</span><span class="sxs-lookup"><span data-stu-id="57db9-145">**VMware**</span></span> | <span data-ttu-id="57db9-146">Tak</span><span class="sxs-lookup"><span data-stu-id="57db9-146">Yes</span></span> | <span data-ttu-id="57db9-147">Tak</span><span class="sxs-lookup"><span data-stu-id="57db9-147">Yes</span></span>
<span data-ttu-id="57db9-148">**Serwer fizyczny**</span><span class="sxs-lookup"><span data-stu-id="57db9-148">**Physical server**</span></span> | <span data-ttu-id="57db9-149">Tak</span><span class="sxs-lookup"><span data-stu-id="57db9-149">Yes</span></span> | <span data-ttu-id="57db9-150">Tak</span><span class="sxs-lookup"><span data-stu-id="57db9-150">Yes</span></span>

### <a name="sharepoint-versions"></a><span data-ttu-id="57db9-151">Wersje programu SharePoint</span><span class="sxs-lookup"><span data-stu-id="57db9-151">SharePoint Versions</span></span>
<span data-ttu-id="57db9-152">Obsługiwane są następujące wersje serwera programu SharePoint.</span><span class="sxs-lookup"><span data-stu-id="57db9-152">The following SharePoint server versions are supported.</span></span>

* <span data-ttu-id="57db9-153">Program SharePoint server 2013 standardowe</span><span class="sxs-lookup"><span data-stu-id="57db9-153">SharePoint server 2013 Standard</span></span>
* <span data-ttu-id="57db9-154">Program SharePoint server 2013 Enterprise</span><span class="sxs-lookup"><span data-stu-id="57db9-154">SharePoint server 2013 Enterprise</span></span>
* <span data-ttu-id="57db9-155">Serwer programu SharePoint 2016 standardowe</span><span class="sxs-lookup"><span data-stu-id="57db9-155">SharePoint server 2016 Standard</span></span>
* <span data-ttu-id="57db9-156">Program SharePoint server 2016 Enterprise</span><span class="sxs-lookup"><span data-stu-id="57db9-156">SharePoint server 2016 Enterprise</span></span>

### <a name="things-to-keep-in-mind"></a><span data-ttu-id="57db9-157">Warto pamiętać o</span><span class="sxs-lookup"><span data-stu-id="57db9-157">Things to keep in mind</span></span>

<span data-ttu-id="57db9-158">Jeśli używasz udostępniony klaster opartej na dysku jako wszystkie warstwy aplikacji następnie nie będzie można używać usługi Site Recovery replikacji replikacja tych maszyn wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="57db9-158">If you are using a shared disk-based cluster as any tier in your application then you will not be able to use Site Recovery replication to replicate those virtual machines.</span></span> <span data-ttu-id="57db9-159">Można przy użyciu replikacji natywnego udostępniany przez aplikację, a następnie użyć [planu odzyskiwania](site-recovery-create-recovery-plans.md) warstwy z informacjami na tryb failover wszystkich.</span><span class="sxs-lookup"><span data-stu-id="57db9-159">You can use native replication provided by the application and then use a [recovery plan](site-recovery-create-recovery-plans.md) to failover all tiers.</span></span>

## <a name="replicating-virtual-machines"></a><span data-ttu-id="57db9-160">Replikowanie maszyn wirtualnych</span><span class="sxs-lookup"><span data-stu-id="57db9-160">Replicating virtual machines</span></span>

<span data-ttu-id="57db9-161">Postępuj zgodnie z [w tych wskazówkach](site-recovery-vmware-to-azure.md) do rozpoczęcia replikacji maszyny wirtualnej na platformie Azure.</span><span class="sxs-lookup"><span data-stu-id="57db9-161">Follow [this guidance](site-recovery-vmware-to-azure.md) to start replicating the virtual machine to Azure.</span></span>

* <span data-ttu-id="57db9-162">Po zakończeniu replikacji, upewnij się, przejdź do każdej maszyny wirtualnej dla każdej warstwy i wybierz zestaw tej samej dostępności "elementu zreplikowane > Ustawienia > Właściwości > obliczenia i sieć".</span><span class="sxs-lookup"><span data-stu-id="57db9-162">Once the replication is complete, make sure you go to each virtual machine of each tier and select same availability set in 'Replicated item > Settings > Properties > Compute and Network'.</span></span> <span data-ttu-id="57db9-163">Na przykład jeśli warstwę web 3 maszyn wirtualnych, upewnij się, że wszystkie 3 maszyny wirtualne są skonfigurowane jako część tego samego zestawem dostępności w usłudze Azure.</span><span class="sxs-lookup"><span data-stu-id="57db9-163">For example, if your web tier has 3 VMs, ensure all the 3 VMs are configured to be part of same availability set in Azure.</span></span>

    ![Zestaw dostępności zestawu](./media/site-recovery-sharepoint/select-av-set.png)

* <span data-ttu-id="57db9-165">Aby uzyskać wskazówki dotyczące ochrony usługi Active Directory i DNS, zapoznaj się [ochrony usługi Active Directory i DNS](site-recovery-active-directory.md) dokumentu.</span><span class="sxs-lookup"><span data-stu-id="57db9-165">For guidance on protecting Active Directory and DNS, refer to [Protect Active Directory and DNS](site-recovery-active-directory.md) document.</span></span>

* <span data-ttu-id="57db9-166">Aby uzyskać wskazówki dotyczące ochrony warstwy bazy danych uruchomiony na serwerze SQL server, zapoznaj się [ochrony programu SQL Server](site-recovery-active-directory.md) dokumentu.</span><span class="sxs-lookup"><span data-stu-id="57db9-166">For guidance on protecting database tier running on SQL server, refer to [Protect SQL Server](site-recovery-active-directory.md) document.</span></span>

## <a name="networking-configuration"></a><span data-ttu-id="57db9-167">Konfiguracja sieci</span><span class="sxs-lookup"><span data-stu-id="57db9-167">Networking configuration</span></span>

### <a name="network-properties"></a><span data-ttu-id="57db9-168">Właściwości sieci</span><span class="sxs-lookup"><span data-stu-id="57db9-168">Network properties</span></span>

* <span data-ttu-id="57db9-169">Dla aplikacji i maszyny wirtualne warstwy sieci Web należy skonfigurować ustawienia sieciowe w portalu Azure, aby maszyn wirtualnych uzyskać dołączona do prawej sieci DR po pracy awaryjnej.</span><span class="sxs-lookup"><span data-stu-id="57db9-169">For the App and Web tier VMs, configure network settings in Azure portal so that the VMs get attached to the right DR network after failover.</span></span>

    ![Wybierz sieć](./media/site-recovery-sharepoint/select-network.png)


* <span data-ttu-id="57db9-171">Jeśli używasz statycznego adresu IP, określ adres IP, który ma maszyny wirtualnej w **docelowy adres IP** pola</span><span class="sxs-lookup"><span data-stu-id="57db9-171">If you are using a static IP, then specify the IP that you want the virtual machine to take in the **Target IP** field</span></span>

    ![Ustawianie statycznego adresu IP](./media/site-recovery-sharepoint/set-static-ip.png)

### <a name="dns-and-traffic-routing"></a><span data-ttu-id="57db9-173">DNS i routingu ruchu</span><span class="sxs-lookup"><span data-stu-id="57db9-173">DNS and Traffic Routing</span></span>

<span data-ttu-id="57db9-174">Dla witryn, internetowy [tworzenia profilu usługi Traffic Manager typu 'Priority'](../traffic-manager/traffic-manager-create-profile.md) w subskrypcji platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="57db9-174">For internet facing sites, [create a Traffic Manager profile of 'Priority' type](../traffic-manager/traffic-manager-create-profile.md) in the Azure subscription.</span></span> <span data-ttu-id="57db9-175">A następnie skonfiguruj profil DNS i usługi Traffic Manager w następujący sposób.</span><span class="sxs-lookup"><span data-stu-id="57db9-175">And then configure your DNS and Traffic Manager profile in the following manner.</span></span>


| <span data-ttu-id="57db9-176">**Gdzie**</span><span class="sxs-lookup"><span data-stu-id="57db9-176">**Where**</span></span> | <span data-ttu-id="57db9-177">**Źródło**</span><span class="sxs-lookup"><span data-stu-id="57db9-177">**Source**</span></span> | <span data-ttu-id="57db9-178">**Docelowy**</span><span class="sxs-lookup"><span data-stu-id="57db9-178">**Target**</span></span>|
| --- | --- | --- |
| <span data-ttu-id="57db9-179">Publicznym systemie DNS</span><span class="sxs-lookup"><span data-stu-id="57db9-179">Public DNS</span></span> | <span data-ttu-id="57db9-180">Publicznym systemie DNS dla witryny programu SharePoint</span><span class="sxs-lookup"><span data-stu-id="57db9-180">Public DNS for SharePoint sites</span></span> <br/><br/> <span data-ttu-id="57db9-181">Przykład: sharepoint.contoso.com</span><span class="sxs-lookup"><span data-stu-id="57db9-181">Ex: sharepoint.contoso.com</span></span> | <span data-ttu-id="57db9-182">Traffic Manager</span><span class="sxs-lookup"><span data-stu-id="57db9-182">Traffic Manager</span></span> <br/><br/> <span data-ttu-id="57db9-183">contososharepoint.trafficmanager.NET</span><span class="sxs-lookup"><span data-stu-id="57db9-183">contososharepoint.trafficmanager.net</span></span> |
| <span data-ttu-id="57db9-184">DNS lokalnego</span><span class="sxs-lookup"><span data-stu-id="57db9-184">On-premises DNS</span></span> | <span data-ttu-id="57db9-185">sharepointonprem.contoso.com</span><span class="sxs-lookup"><span data-stu-id="57db9-185">sharepointonprem.contoso.com</span></span> | <span data-ttu-id="57db9-186">Publiczny adres IP w farmie lokalnej</span><span class="sxs-lookup"><span data-stu-id="57db9-186">Public IP on the on-premises farm</span></span> |


<span data-ttu-id="57db9-187">W profilu usługi Traffic Manager [utworzyć punkty końcowe podstawowymi i odzyskiwania](../traffic-manager/traffic-manager-configure-priority-routing-method.md).</span><span class="sxs-lookup"><span data-stu-id="57db9-187">In the Traffic Manager profile, [create the primary and recovery endpoints](../traffic-manager/traffic-manager-configure-priority-routing-method.md).</span></span> <span data-ttu-id="57db9-188">Użyj zewnętrznego punktu końcowego dla lokalnego punktu końcowego i publicznego adresu IP dla punktu końcowego platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="57db9-188">Use the external endpoint for on-premises endpoint and public IP for Azure endpoint.</span></span> <span data-ttu-id="57db9-189">Upewnij się, że priorytet ma wartość wyższej do lokalnego punktu końcowego.</span><span class="sxs-lookup"><span data-stu-id="57db9-189">Ensure that the priority is set higher to on-premises endpoint.</span></span>

<span data-ttu-id="57db9-190">Host stronę testową na określonym porcie (np. 800) w warstwie sieci web programu SharePoint dla Menedżera ruchu można automatycznie wykryć dostępności post w tryb failover.</span><span class="sxs-lookup"><span data-stu-id="57db9-190">Host a test page on a specific port (for example, 800) in the SharePoint web tier in order for Traffic Manager to automatically detect availability post failover.</span></span> <span data-ttu-id="57db9-191">W przypadku, gdy nie można włączyć uwierzytelnianie anonimowe dla poszczególnych witryn programu SharePoint jest obejście tego problemu.</span><span class="sxs-lookup"><span data-stu-id="57db9-191">This is a workaround in case you cannot enable anonymous authentication on any of your SharePoint sites.</span></span>

<span data-ttu-id="57db9-192">[Skonfiguruj profil Menedżera ruchu](../traffic-manager/traffic-manager-configure-priority-routing-method.md) z poniższych ustawień.</span><span class="sxs-lookup"><span data-stu-id="57db9-192">[Configure the Traffic Manager profile](../traffic-manager/traffic-manager-configure-priority-routing-method.md) with the below settings.</span></span>

* <span data-ttu-id="57db9-193">Metoda routingu - 'Priority'</span><span class="sxs-lookup"><span data-stu-id="57db9-193">Routing method - 'Priority'</span></span>
* <span data-ttu-id="57db9-194">Czas wygaśnięcia (TTL) - 30 sekund DNS</span><span class="sxs-lookup"><span data-stu-id="57db9-194">DNS time to live (TTL) - '30 seconds'</span></span>
* <span data-ttu-id="57db9-195">Ustawienia monitora punktu końcowego — Jeśli zostanie włączone uwierzytelnianie anonimowe można nadać punktu końcowego określonej witryny sieci Web.</span><span class="sxs-lookup"><span data-stu-id="57db9-195">Endpoint monitor settings - If you can enable anonymous authentication, you can give a specific website endpoint.</span></span> <span data-ttu-id="57db9-196">Lub za pomocą strony testu na określonym porcie (np. 800).</span><span class="sxs-lookup"><span data-stu-id="57db9-196">Or, you can use a test page on a specific port (for example, 800).</span></span>

## <a name="creating-a-recovery-plan"></a><span data-ttu-id="57db9-197">Tworzenie planu odzyskiwania</span><span class="sxs-lookup"><span data-stu-id="57db9-197">Creating a recovery plan</span></span>

<span data-ttu-id="57db9-198">Plan odzyskiwania umożliwia sekwencjonowania pracę awaryjną różnych warstw w wielowarstwowej aplikacji, w związku z tym zachowaniu spójności aplikacji.</span><span class="sxs-lookup"><span data-stu-id="57db9-198">A recovery plan allows sequencing the failover of various tiers in a multi-tier application, hence, maintaining application consistency.</span></span> <span data-ttu-id="57db9-199">Wykonaj następujące czynności, podczas tworzenia planu odzyskiwania dla aplikacji sieci web w wielowarstwowych.</span><span class="sxs-lookup"><span data-stu-id="57db9-199">Follow the below steps while creating a recovery plan for a multi-tier web application.</span></span> <span data-ttu-id="57db9-200">[Dowiedz się więcej o tworzeniu planu odzyskiwania](site-recovery-runbook-automation.md#customize-the-recovery-plan).</span><span class="sxs-lookup"><span data-stu-id="57db9-200">[Learn more about creating a recovery plan](site-recovery-runbook-automation.md#customize-the-recovery-plan).</span></span>

### <a name="adding-virtual-machines-to-failover-groups"></a><span data-ttu-id="57db9-201">Dodawanie maszyn wirtualnych do trybu failover grupy</span><span class="sxs-lookup"><span data-stu-id="57db9-201">Adding virtual machines to failover groups</span></span>

1. <span data-ttu-id="57db9-202">Tworzenie planu odzyskiwania przez dodanie aplikacji i maszyny wirtualne warstwy sieci Web.</span><span class="sxs-lookup"><span data-stu-id="57db9-202">Create a recovery plan by adding the App and Web tier VMs.</span></span>
2. <span data-ttu-id="57db9-203">Kliknij pozycję Dostosuj, aby zgrupować maszyn wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="57db9-203">Click on 'Customize' to group the VMs.</span></span> <span data-ttu-id="57db9-204">Domyślnie wszystkie maszyny wirtualne są częścią "Grupa 1".</span><span class="sxs-lookup"><span data-stu-id="57db9-204">By default, all VMs are part of 'Group 1'.</span></span>

    ![Dostosowywanie planu odzyskiwania](./media/site-recovery-sharepoint/rp-groups.png)

3. <span data-ttu-id="57db9-206">Utworzyć inną grupę (Grupa 2) i przenieść warstwa sieci Web, maszyn wirtualnych do nowej grupy.</span><span class="sxs-lookup"><span data-stu-id="57db9-206">Create another Group (Group 2) and move the Web tier VMs into the new group.</span></span> <span data-ttu-id="57db9-207">Warstwę aplikacji maszyn wirtualnych powinny być częścią "Grupa 1" i warstwa sieci Web maszyn wirtualnych powinny być częścią "Grupa 2".</span><span class="sxs-lookup"><span data-stu-id="57db9-207">Your App tier VMs should be part of 'Group 1' and Web tier VMs should be part of 'Group 2'.</span></span> <span data-ttu-id="57db9-208">To jest zapewnienie, że rozruch maszyny wirtualne warstwy aplikacji się najpierw następuje warstwa sieci Web maszyn wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="57db9-208">This is to ensure that the App tier VMs boot up first followed by Web tier VMs.</span></span>


### <a name="adding-scripts-to-the-recovery-plan"></a><span data-ttu-id="57db9-209">Dodawanie skryptów do planu odzyskiwania</span><span class="sxs-lookup"><span data-stu-id="57db9-209">Adding scripts to the recovery plan</span></span>

<span data-ttu-id="57db9-210">Najczęściej używane skrypty usługi Azure Site Recovery można wdrożyć na koncie automatyzacji, klikając przycisk "Wdrażanie na platformie Azure" poniżej.</span><span class="sxs-lookup"><span data-stu-id="57db9-210">You can deploy the most commonly used Azure Site Recovery scripts into your Automation account clicking the 'Deploy to Azure' button below.</span></span> <span data-ttu-id="57db9-211">Korzystając z dowolnego skryptu opublikowane, upewnij się, że możesz postępuj zgodnie ze wskazówkami w skrypcie.</span><span class="sxs-lookup"><span data-stu-id="57db9-211">When you are using any published script, ensure you follow the guidance in the script.</span></span>

<span data-ttu-id="57db9-212">[![Wdrażanie na platformie Azure](https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/c4803408-340e-49e3-9a1f-0ed3f689813d.png)](https://aka.ms/asr-automationrunbooks-deploy)</span><span class="sxs-lookup"><span data-stu-id="57db9-212">[![Deploy to Azure](https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/c4803408-340e-49e3-9a1f-0ed3f689813d.png)](https://aka.ms/asr-automationrunbooks-deploy)</span></span>

1. <span data-ttu-id="57db9-213">Skrypt przed akcji "Grupa 1" do trybu failover grupy dostępności funkcji SQL.</span><span class="sxs-lookup"><span data-stu-id="57db9-213">Add a pre-action script to 'Group 1' to failover SQL Availability group.</span></span> <span data-ttu-id="57db9-214">Użyj skryptu "ASR-SQL-FailoverAG" opublikowany w przykładowe skrypty.</span><span class="sxs-lookup"><span data-stu-id="57db9-214">Use the 'ASR-SQL-FailoverAG' script published in the sample scripts.</span></span> <span data-ttu-id="57db9-215">Upewnij się, postępuj zgodnie ze wskazówkami w skrypcie i odpowiednio wprowadzić wymagane zmiany w skrypcie.</span><span class="sxs-lookup"><span data-stu-id="57db9-215">Ensure you follow the guidance in the script and make the required changes in the script appropriately.</span></span>

    ![Dodaj AG-skryptu krok-1](./media/site-recovery-sharepoint/add-ag-script-step1.png)

    ![Dodaj AG-skryptu krok-2](./media/site-recovery-sharepoint/add-ag-script-step2.png)

2. <span data-ttu-id="57db9-218">Dodawanie skryptu akcji post do podłączenia modułu równoważenia obciążenia na nieudane przez maszyny wirtualne warstwy sieci Web (Grupa 2).</span><span class="sxs-lookup"><span data-stu-id="57db9-218">Add a post action script to attach a load balancer on the failed over virtual machines of Web tier (Group 2).</span></span> <span data-ttu-id="57db9-219">Użyj skryptu "ASR AddSingleLoadBalancer" opublikowany w przykładowe skrypty.</span><span class="sxs-lookup"><span data-stu-id="57db9-219">Use the 'ASR-AddSingleLoadBalancer' script published in the sample scripts.</span></span> <span data-ttu-id="57db9-220">Upewnij się, postępuj zgodnie ze wskazówkami w skrypcie i odpowiednio wprowadzić wymagane zmiany w skrypcie.</span><span class="sxs-lookup"><span data-stu-id="57db9-220">Ensure you follow the guidance in the script and make the required changes in the script appropriately.</span></span>

    ![Dodaj LB-skryptu krok-1](./media/site-recovery-sharepoint/add-lb-script-step1.png)

    ![Dodaj LB-skryptu krok-2](./media/site-recovery-sharepoint/add-lb-script-step2.png)

3. <span data-ttu-id="57db9-223">Dodaj krok wykonywany ręcznie do aktualizowania rekordów DNS, aby wskazywał nową farmę na platformie Azure.</span><span class="sxs-lookup"><span data-stu-id="57db9-223">Add a manual step to update the DNS records to point to the new farm in Azure.</span></span>

    * <span data-ttu-id="57db9-224">Dla witryn internetowy nie DNS ma aktualizacji wymagane po pracy awaryjnej.</span><span class="sxs-lookup"><span data-stu-id="57db9-224">For internet facing sites, no DNS updates are required post failover.</span></span> <span data-ttu-id="57db9-225">Wykonaj kroki opisane w sekcji "Wskazówki sieci", aby skonfigurować Menedżera ruchu.</span><span class="sxs-lookup"><span data-stu-id="57db9-225">Follow the steps described in the 'Networking guidance' section to configure Traffic Manager.</span></span> <span data-ttu-id="57db9-226">Jeśli profil usługi Traffic Manager został skonfigurowany zgodnie z opisem w poprzedniej sekcji, należy dodać skrypt, aby otworzyć port zastępczego (800 w przykładzie) na maszynie Wirtualnej Azure.</span><span class="sxs-lookup"><span data-stu-id="57db9-226">If the Traffic Manager profile has been set up as described in the previous section, add a script to open dummy port (800 in the example) on the Azure VM.</span></span>

    * <span data-ttu-id="57db9-227">Dla wewnętrznych witryn Dodaj krok wykonywany ręcznie, aby zaktualizować rekord DNS, aby wskazywał IP usługi równoważenia obciążenia nowych sieci Web warstwy maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="57db9-227">For internal facing sites, add a manual step to update the DNS record to point to the new Web tier VM’s load balancer IP.</span></span>

4. <span data-ttu-id="57db9-228">Dodaj krok wykonywany ręcznie, aby przywrócić z kopii zapasowej aplikacji wyszukiwania lub uruchomić nową usługę wyszukiwania.</span><span class="sxs-lookup"><span data-stu-id="57db9-228">Add a manual step to restore search application from a backup or start a new search service.</span></span>

5. <span data-ttu-id="57db9-229">Przywracanie aplikacji usługi wyszukiwania z kopii zapasowej, wykonaj następujące czynności.</span><span class="sxs-lookup"><span data-stu-id="57db9-229">For restoring Search service application from a backup, follow below steps.</span></span>

    * <span data-ttu-id="57db9-230">Ta metoda przyjęto założenie, że przed zdarzeniem krytycznego wykonano kopię zapasową aplikacji usługi wyszukiwania i kopia zapasowa jest dostępna w lokacji odzyskiwania po awarii.</span><span class="sxs-lookup"><span data-stu-id="57db9-230">This method assumes that a backup of the Search Service Application was performed before the catastrophic event and that the backup is available at the DR site.</span></span>
    * <span data-ttu-id="57db9-231">Łatwo można to osiągnąć przez planowanie tworzenia kopii zapasowej (na przykład raz dziennie) i umieść kopię zapasową w lokacji odzyskiwania po awarii za pomocą procedury kopiowania.</span><span class="sxs-lookup"><span data-stu-id="57db9-231">This can easily be achieved by scheduling the backup (for example, once daily) and using a copy procedure to place the backup at the DR site.</span></span> <span data-ttu-id="57db9-232">Procedury kopiowania mogą obejmować skryptową programów, takich jak AzCopy (kopiowania na platformę Azure) lub konfigurowania DFSR (Distributed pliku usługi replikacji).</span><span class="sxs-lookup"><span data-stu-id="57db9-232">Copy procedures could include scripted programs such as AzCopy (Azure Copy) or setting up DFSR (Distributed File Services Replication).</span></span>
    * <span data-ttu-id="57db9-233">Po farmy programu SharePoint jest uruchomiona, przejdź administracji centralnej "Kopia zapasowa i przywracanie" i wybierz przywracania.</span><span class="sxs-lookup"><span data-stu-id="57db9-233">Now that the SharePoint farm is running, navigate the Central Administration, 'Backup and Restore' and select Restore.</span></span> <span data-ttu-id="57db9-234">Przywracanie interrogates określona lokalizacja kopii zapasowej (może być konieczne zaktualizowanie wartości).</span><span class="sxs-lookup"><span data-stu-id="57db9-234">The restore interrogates the backup location specified (you may need to update the value).</span></span> <span data-ttu-id="57db9-235">Wybierz kopię zapasową aplikacji usługi wyszukiwania, który chcesz przywrócić.</span><span class="sxs-lookup"><span data-stu-id="57db9-235">Select the Search Service Application backup you would like to restore.</span></span>
    * <span data-ttu-id="57db9-236">Po przywróceniu wyszukiwania.</span><span class="sxs-lookup"><span data-stu-id="57db9-236">Search is restored.</span></span> <span data-ttu-id="57db9-237">Należy pamiętać, która oczekuje przywracania można znaleźć taki sam topologii (tej samej liczby serwerów) i te same dysk twardy litery przypisane do tych serwerów.</span><span class="sxs-lookup"><span data-stu-id="57db9-237">Keep in mind that the restore expects to find the same topology (same number of servers) and same hard drive letters assigned to those servers.</span></span> <span data-ttu-id="57db9-238">Aby uzyskać więcej informacji, zobacz ["Aplikacji usługi przywrócić wyszukiwania w SharePoint 2013"](https://technet.microsoft.com/library/ee748654.aspx) dokumentu.</span><span class="sxs-lookup"><span data-stu-id="57db9-238">For more information, see ['Restore Search service application in SharePoint 2013'](https://technet.microsoft.com/library/ee748654.aspx) document.</span></span>


6. <span data-ttu-id="57db9-239">Począwszy od nowej aplikacji usługi wyszukiwania, wykonaj następujące czynności.</span><span class="sxs-lookup"><span data-stu-id="57db9-239">For starting with a new Search service application, follow below steps.</span></span>

    * <span data-ttu-id="57db9-240">Ta metoda zakłada, że kopia zapasowa bazy danych "Administracja wyszukiwania" dostępne w lokacji odzyskiwania po awarii.</span><span class="sxs-lookup"><span data-stu-id="57db9-240">This method assumes that a backup of the “Search Administration” database is available at the DR site.</span></span>
    * <span data-ttu-id="57db9-241">Ponieważ innych baz danych aplikacji usługi wyszukiwania nie są replikowane, muszą zostać ponownie utworzone.</span><span class="sxs-lookup"><span data-stu-id="57db9-241">Since the other Search Service Application databases are not replicated, they need to be re-created.</span></span> <span data-ttu-id="57db9-242">Aby to zrobić, przejdź do witryny Administracja centralna i Usuń aplikację usługi wyszukiwania.</span><span class="sxs-lookup"><span data-stu-id="57db9-242">To do so, navigate to Central Administration and delete the Search Service Application.</span></span> <span data-ttu-id="57db9-243">Na wszystkich serwerach, które host indeksu wyszukiwania Usuń pliki indeksu.</span><span class="sxs-lookup"><span data-stu-id="57db9-243">On any servers which host the Search Index, delete the index files.</span></span>
    * <span data-ttu-id="57db9-244">Ponownie utwórz aplikację usługi wyszukiwania i tworzy to ponownie baz danych.</span><span class="sxs-lookup"><span data-stu-id="57db9-244">Re-create the Search Service Application and this re-creates the databases.</span></span> <span data-ttu-id="57db9-245">Zaleca się, aby przygotować skrypt, który tworzy ponownie tej aplikacji usługi, ponieważ nie można wykonywać wszystkie akcje, za pomocą graficznego interfejsu użytkownika.</span><span class="sxs-lookup"><span data-stu-id="57db9-245">It is recommended to have a prepared script that re-creates this service application since it is not possible to perform all actions via the GUI.</span></span> <span data-ttu-id="57db9-246">Na przykład lokalizacji dysku indeksu i Konfigurowanie topologii wyszukiwania są możliwe tylko przy użyciu poleceń cmdlet programu PowerShell programu SharePoint.</span><span class="sxs-lookup"><span data-stu-id="57db9-246">For example, setting the index drive location and configuring the search topology are only possible by using SharePoint PowerShell cmdlets.</span></span> <span data-ttu-id="57db9-247">Użyj polecenia cmdlet programu Windows PowerShell Restore SPEnterpriseSearchServiceApplication i określ dziennikiem i replikowane Administracja wyszukiwania w bazie danych, Search_Service__DB.</span><span class="sxs-lookup"><span data-stu-id="57db9-247">Use the Windows PowerShell cmdlet Restore-SPEnterpriseSearchServiceApplication and specify the log-shipped and replicated Search Administration database, Search_Service__DB.</span></span> <span data-ttu-id="57db9-248">To polecenie cmdlet umożliwia wyszukiwanie konfiguracji, schematu, właściwości zarządzanych, reguł i źródeł oraz tworzy domyślny zestaw składników.</span><span class="sxs-lookup"><span data-stu-id="57db9-248">This cmdlet gives the search configuration, schema, managed properties, rules, and sources and creates a default set of the other components.</span></span>
    * <span data-ttu-id="57db9-249">Po aplikacji usługi wyszukiwania ma zostać utworzony ponownie, należy uruchomić pełne przeszukiwanie dla każdego źródła zawartości przywrócić usługi wyszukiwania.</span><span class="sxs-lookup"><span data-stu-id="57db9-249">Once the Search Service Application has be re-created, you must start a full crawl for each content source to restore the Search Service.</span></span> <span data-ttu-id="57db9-250">Niektóre informacje analytics z farmy lokalnych, takich jak zalecenia wyszukiwania zostaną utracone.</span><span class="sxs-lookup"><span data-stu-id="57db9-250">You lose some analytics information from the on-premises farm, such as search recommendations.</span></span>

7. <span data-ttu-id="57db9-251">Po wykonaniu wszystkich kroków, zapisać planu odzyskiwania i planu odzyskiwania końcowego będą wyglądać jak poniżej.</span><span class="sxs-lookup"><span data-stu-id="57db9-251">Once all the steps are completed, save the recovery plan and the final recovery plan will look like following.</span></span>

    ![Zapisane planu odzyskiwania](./media/site-recovery-sharepoint/saved-rp.png)

## <a name="doing-a-test-failover"></a><span data-ttu-id="57db9-253">Ten test trybu failover</span><span class="sxs-lookup"><span data-stu-id="57db9-253">Doing a test failover</span></span>
<span data-ttu-id="57db9-254">Postępuj zgodnie z [w tych wskazówkach](site-recovery-test-failover-to-azure.md) przeprowadzić test trybu failover.</span><span class="sxs-lookup"><span data-stu-id="57db9-254">Follow [this guidance](site-recovery-test-failover-to-azure.md) to do a test failover.</span></span>

1.  <span data-ttu-id="57db9-255">Przejdź do portalu Azure i wybierz magazyn usług odzyskiwania.</span><span class="sxs-lookup"><span data-stu-id="57db9-255">Go to Azure portal and select your Recovery Service vault.</span></span>
2.  <span data-ttu-id="57db9-256">Polecenie planu odzyskiwania utworzone dla aplikacji programu SharePoint.</span><span class="sxs-lookup"><span data-stu-id="57db9-256">Click on the recovery plan created for SharePoint application.</span></span>
3.  <span data-ttu-id="57db9-257">Kliknij na "Test trybu Failover".</span><span class="sxs-lookup"><span data-stu-id="57db9-257">Click on 'Test Failover'.</span></span>
4.  <span data-ttu-id="57db9-258">Wybierz punkt odzyskiwania i sieć wirtualna platformy Azure, aby rozpocząć proces test trybu failover.</span><span class="sxs-lookup"><span data-stu-id="57db9-258">Select recovery point and Azure virtual network to start the test failover process.</span></span>
5.  <span data-ttu-id="57db9-259">Po skonfigurowaniu dodatkowej środowiska można wykonywać z operacji sprawdzania poprawności.</span><span class="sxs-lookup"><span data-stu-id="57db9-259">Once the secondary environment is up, you can perform your validations.</span></span>
6.  <span data-ttu-id="57db9-260">Po zakończeniu operacji sprawdzania poprawności, kliknij przycisk "Oczyszczania testowy tryb failover" w planie odzyskiwania i testowe środowisko trybu failover jest czyszczona.</span><span class="sxs-lookup"><span data-stu-id="57db9-260">Once the validations are complete, you can click 'Cleanup test failover' on the recovery plan and the test failover environment is cleaned.</span></span>

<span data-ttu-id="57db9-261">Wskazówki na ten test trybu failover dla usługi AD i DNS, zapoznaj się z [Test pracy awaryjnej zagadnienia dotyczące AD i DNS](site-recovery-active-directory.md#test-failover-considerations) dokumentu.</span><span class="sxs-lookup"><span data-stu-id="57db9-261">For guidance on doing test failover for AD and DNS, refer to [Test failover considerations for AD and DNS](site-recovery-active-directory.md#test-failover-considerations) document.</span></span>

<span data-ttu-id="57db9-262">Aby uzyskać wskazówki na ten test trybu failover dla SQL zawsze dotyczących grup dostępności, zobacz [podczas testowego trybu failover dla programu SQL Server AlwaysOn](site-recovery-sql.md#steps-to-do-a-test-failover) dokumentu.</span><span class="sxs-lookup"><span data-stu-id="57db9-262">For guidance on doing test failover for SQL Always ON availability groups, refer to [Doing Test failover for SQL Server Always On](site-recovery-sql.md#steps-to-do-a-test-failover) document.</span></span>

## <a name="doing-a-failover"></a><span data-ttu-id="57db9-263">Podczas pracy w trybie failover</span><span class="sxs-lookup"><span data-stu-id="57db9-263">Doing a failover</span></span>
<span data-ttu-id="57db9-264">Postępuj zgodnie z [w tych wskazówkach](site-recovery-failover.md) do wykonywania pracy awaryjnej.</span><span class="sxs-lookup"><span data-stu-id="57db9-264">Follow [this guidance](site-recovery-failover.md) for doing a failover.</span></span>

1.  <span data-ttu-id="57db9-265">Przejdź do portalu Azure i wybierz magazyn usług odzyskiwania.</span><span class="sxs-lookup"><span data-stu-id="57db9-265">Go to Azure portal and select your Recovery Services vault.</span></span>
2.  <span data-ttu-id="57db9-266">Polecenie planu odzyskiwania utworzone dla aplikacji programu SharePoint.</span><span class="sxs-lookup"><span data-stu-id="57db9-266">Click on the recovery plan created for SharePoint application.</span></span>
3.  <span data-ttu-id="57db9-267">Kliknij pozycję "Failover".</span><span class="sxs-lookup"><span data-stu-id="57db9-267">Click on 'Failover'.</span></span>
4.  <span data-ttu-id="57db9-268">Wybierz punkt odzyskiwania, aby rozpocząć proces trybu failover.</span><span class="sxs-lookup"><span data-stu-id="57db9-268">Select recovery point to start the failover process.</span></span>

## <a name="next-steps"></a><span data-ttu-id="57db9-269">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="57db9-269">Next steps</span></span>
<span data-ttu-id="57db9-270">Użytkownik może dowiedzieć się więcej o [replikowanie inne aplikacje](site-recovery-workload.md) przy użyciu usługi Site Recovery.</span><span class="sxs-lookup"><span data-stu-id="57db9-270">You can learn more about [replicating other applications](site-recovery-workload.md) using Site Recovery.</span></span>
