---
title: "aaaReplicate aplikacji za pomocą programu SQL Server i usługi Azure Site Recovery | Dokumentacja firmy Microsoft"
description: "W tym artykule opisano sposób tooreplicate SQL Server przy użyciu usługi Azure Site Recovery dla funkcji po awarii programu SQL Server."
services: site-recovery
documentationcenter: 
author: prateek9us
manager: gauravd
editor: 
ms.assetid: 9126f5e8-e9ed-4c31-b6b4-bf969c12c184
ms.service: site-recovery
ms.workload: storage-backup-recovery
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/11/2017
ms.author: pratshar
ms.openlocfilehash: 99755f2cd2f7e924071f1e230ac4a0bda88f0a39
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="protect-sql-server-using-sql-server-disaster-recovery-and-azure-site-recovery"></a><span data-ttu-id="4ee29-103">Ochrona programu SQL Server przy użyciu odzyskiwanie po awarii programu SQL Server i usługi Azure Site Recovery</span><span class="sxs-lookup"><span data-stu-id="4ee29-103">Protect SQL Server using SQL Server disaster recovery and Azure Site Recovery</span></span>

<span data-ttu-id="4ee29-104">W tym artykule opisano, jak hello tooprotect programu SQL Server zaplecza aplikacji przy użyciu kombinacji ciągłość prowadzenia działalności biznesowej programu SQL Server i technologii (BCDR) odzyskiwania po awarii, a [usługi Azure Site Recovery](site-recovery-overview.md).</span><span class="sxs-lookup"><span data-stu-id="4ee29-104">This article describes how tooprotect hello SQL Server back end of an application using a combination of SQL Server business continuity and disaster recovery (BCDR) technologies, and [Azure Site Recovery](site-recovery-overview.md).</span></span>

<span data-ttu-id="4ee29-105">Przed rozpoczęciem upewnij się, że rozumiesz możliwości odzyskiwania po awarii programu SQL Server, łącznie z klastra trybu failover, zawsze włączonych grup dostępności funkcji dublowania baz danych i wysyłania dziennika.</span><span class="sxs-lookup"><span data-stu-id="4ee29-105">Before you start, make sure you understand SQL Server disaster recovery capabilities, including failover clustering, Always On availability groups, database mirroring, and log shipping.</span></span>


## <a name="sql-server-deployments"></a><span data-ttu-id="4ee29-106">Wdrożenie programu SQL Server</span><span class="sxs-lookup"><span data-stu-id="4ee29-106">SQL Server deployments</span></span>

<span data-ttu-id="4ee29-107">Wiele obciążeń Użyj programu SQL Server jako podstawę i można zintegrować z aplikacji, takich jak SharePoint, Dynamics i SAP, tooimplement usług danych.</span><span class="sxs-lookup"><span data-stu-id="4ee29-107">Many workloads use SQL Server as a foundation, and it can be integrated with apps such as SharePoint, Dynamics, and SAP, tooimplement data services.</span></span>  <span data-ttu-id="4ee29-108">SQL Server może być wdrożony na kilka sposobów:</span><span class="sxs-lookup"><span data-stu-id="4ee29-108">SQL Server can be deployed in a number of ways:</span></span>

* <span data-ttu-id="4ee29-109">**Autonomicznego serwera SQL**: SQL Server i wszystkie bazy danych znajdują się na pojedynczym komputerze (fizycznej lub wirtualnej).</span><span class="sxs-lookup"><span data-stu-id="4ee29-109">**Standalone SQL Server**: SQL Server and all databases are hosted on a single machine (physical or a virtual).</span></span> <span data-ttu-id="4ee29-110">Podczas wirtualizacji, klaster hosta jest używana do lokalnego wysokiej dostępności.</span><span class="sxs-lookup"><span data-stu-id="4ee29-110">When virtualized, host clustering is used for local high availability.</span></span> <span data-ttu-id="4ee29-111">Wysoka dostępność poziomie gościa nie jest zaimplementowana.</span><span class="sxs-lookup"><span data-stu-id="4ee29-111">Guest-level high availability isn't implemented.</span></span>
* <span data-ttu-id="4ee29-112">**Tryb Failover Clustering wystąpienia programu SQL Server (zawsze na FCI)**: co najmniej dwa węzły z uruchomionym programem SQL Server instancji z udostępnionych dysków są skonfigurowane w klastrze pracy awaryjnej systemu Windows.</span><span class="sxs-lookup"><span data-stu-id="4ee29-112">**SQL Server Failover Clustering Instances (Always On FCI)**: Two or more nodes running SQL Server instanced with shared disks are configured in a Windows Failover cluster.</span></span> <span data-ttu-id="4ee29-113">Jeśli węzeł jest wyłączony, hello klastra może przełączyć tooanother wystąpienia programu SQL Server.</span><span class="sxs-lookup"><span data-stu-id="4ee29-113">If a node is down, hello cluster can fail SQL Server over tooanother instance.</span></span> <span data-ttu-id="4ee29-114">Ta konfiguracja jest najczęściej używanymi tooimplement wysokiej dostępności w lokacji głównej.</span><span class="sxs-lookup"><span data-stu-id="4ee29-114">This setup is typically used tooimplement high availability at a primary site.</span></span> <span data-ttu-id="4ee29-115">To wdrożenie nie chroni przed uszkodzenie lub awaria hello warstwy magazynu udostępnionego.</span><span class="sxs-lookup"><span data-stu-id="4ee29-115">This deployment doesn't protect against failure or outage in hello shared storage layer.</span></span> <span data-ttu-id="4ee29-116">Udostępniony dysk może być zaimplementowany przy użyciu udostępnionego dysku vhdx, fiber channel lub iSCSI.</span><span class="sxs-lookup"><span data-stu-id="4ee29-116">A shared disk can be implemented using iSCSI, fiber channel or shared vhdx.</span></span>
* <span data-ttu-id="4ee29-117">**SQL zawsze włączonych grup dostępności**: co najmniej dwa węzły są konfigurowane w udostępnionym klastra nic z baz danych serwera SQL skonfigurowany w grupie dostępności, Replikacja synchroniczna i automatycznej pracy awaryjnej.</span><span class="sxs-lookup"><span data-stu-id="4ee29-117">**SQL Always On Availability Groups**: Two or more nodes are set up in a shared nothing cluster, with SQL Server databases configured in an availability group, with synchronous replication and automatic failover.</span></span>

 <span data-ttu-id="4ee29-118">W tym artykule wykorzystuje powitania po natywnego technologii odzyskiwania po awarii SQL do przywrócenia lokacji zdalnej tooa baz danych:</span><span class="sxs-lookup"><span data-stu-id="4ee29-118">This article leverages hello following native SQL disaster recovery technologies for recovering databases tooa remote site:</span></span>

* <span data-ttu-id="4ee29-119">SQL zawsze włączonych grup dostępności, tooprovide odzyskiwania po awarii dla programu SQL Server 2012 lub 2014 Enterprise Edition.</span><span class="sxs-lookup"><span data-stu-id="4ee29-119">SQL Always On Availability Groups, tooprovide for disaster recovery for SQL Server 2012 or 2014 Enterprise editions.</span></span>
* <span data-ttu-id="4ee29-120">Funkcja dublowania bazy danych SQL w trybie wysokiego bezpieczeństwa, SQL Server Standard edition (dowolna wersja) lub SQL Server 2008 R2.</span><span class="sxs-lookup"><span data-stu-id="4ee29-120">SQL database mirroring in high safety mode, for SQL Server Standard edition (any version), or for SQL Server 2008 R2.</span></span>

## <a name="site-recovery-support"></a><span data-ttu-id="4ee29-121">Obsługa odzyskiwania lokacji</span><span class="sxs-lookup"><span data-stu-id="4ee29-121">Site Recovery support</span></span>

### <a name="supported-scenarios"></a><span data-ttu-id="4ee29-122">Obsługiwane scenariusze</span><span class="sxs-lookup"><span data-stu-id="4ee29-122">Supported scenarios</span></span>
<span data-ttu-id="4ee29-123">Usługa Site Recovery może chronić programu SQL Server, zgodnie z opisem w tabeli hello.</span><span class="sxs-lookup"><span data-stu-id="4ee29-123">Site Recovery can protect SQL Server as summarized in hello table.</span></span>

<span data-ttu-id="4ee29-124">**Scenariusz**</span><span class="sxs-lookup"><span data-stu-id="4ee29-124">**Scenario**</span></span> | <span data-ttu-id="4ee29-125">**tooa lokacji dodatkowej**</span><span class="sxs-lookup"><span data-stu-id="4ee29-125">**tooa secondary site**</span></span> | <span data-ttu-id="4ee29-126">**tooAzure**</span><span class="sxs-lookup"><span data-stu-id="4ee29-126">**tooAzure**</span></span>
--- | --- | ---
<span data-ttu-id="4ee29-127">**Funkcja Hyper-V**</span><span class="sxs-lookup"><span data-stu-id="4ee29-127">**Hyper-V**</span></span> | <span data-ttu-id="4ee29-128">Tak</span><span class="sxs-lookup"><span data-stu-id="4ee29-128">Yes</span></span> | <span data-ttu-id="4ee29-129">Tak</span><span class="sxs-lookup"><span data-stu-id="4ee29-129">Yes</span></span>
<span data-ttu-id="4ee29-130">**VMware**</span><span class="sxs-lookup"><span data-stu-id="4ee29-130">**VMware**</span></span> | <span data-ttu-id="4ee29-131">Tak</span><span class="sxs-lookup"><span data-stu-id="4ee29-131">Yes</span></span> | <span data-ttu-id="4ee29-132">Tak</span><span class="sxs-lookup"><span data-stu-id="4ee29-132">Yes</span></span>
<span data-ttu-id="4ee29-133">**Serwer fizyczny**</span><span class="sxs-lookup"><span data-stu-id="4ee29-133">**Physical server**</span></span> | <span data-ttu-id="4ee29-134">Tak</span><span class="sxs-lookup"><span data-stu-id="4ee29-134">Yes</span></span> | <span data-ttu-id="4ee29-135">Tak</span><span class="sxs-lookup"><span data-stu-id="4ee29-135">Yes</span></span>

### <a name="supported-sql-server-versions"></a><span data-ttu-id="4ee29-136">Obsługiwane wersje programu SQL Server</span><span class="sxs-lookup"><span data-stu-id="4ee29-136">Supported SQL Server versions</span></span>
<span data-ttu-id="4ee29-137">Te wersje programu SQL Server są obsługiwane dla hello obsługiwane scenariusze:</span><span class="sxs-lookup"><span data-stu-id="4ee29-137">These SQL Server versions are supported, for hello supported scenarios:</span></span>

* <span data-ttu-id="4ee29-138">SQL Server 2016 Enterprise i Standard</span><span class="sxs-lookup"><span data-stu-id="4ee29-138">SQL Server 2016 Enterprise and Standard</span></span>
* <span data-ttu-id="4ee29-139">SQL Server 2014 Enterprise i Standard</span><span class="sxs-lookup"><span data-stu-id="4ee29-139">SQL Server 2014 Enterprise and Standard</span></span>
* <span data-ttu-id="4ee29-140">SQL Server 2012 Enterprise i Standard</span><span class="sxs-lookup"><span data-stu-id="4ee29-140">SQL Server 2012 Enterprise and Standard</span></span>
* <span data-ttu-id="4ee29-141">SQL Server 2008 R2 Enterprise i Standard</span><span class="sxs-lookup"><span data-stu-id="4ee29-141">SQL Server 2008 R2 Enterprise and Standard</span></span>

### <a name="supported-sql-server-integration"></a><span data-ttu-id="4ee29-142">Obsługiwaną integracji programu SQL Server</span><span class="sxs-lookup"><span data-stu-id="4ee29-142">Supported SQL Server integration</span></span>

<span data-ttu-id="4ee29-143">Usługa Site Recovery można zintegrować z natywnego technologiami BCDR serwera SQL podsumowane w tabeli hello, tooprovide rozwiązanie odzyskiwania po awarii.</span><span class="sxs-lookup"><span data-stu-id="4ee29-143">Site Recovery can be integrated with native SQL Server BCDR technologies summarized in hello table, tooprovide a disaster recovery solution.</span></span>

<span data-ttu-id="4ee29-144">**Funkcja**</span><span class="sxs-lookup"><span data-stu-id="4ee29-144">**Feature**</span></span> | <span data-ttu-id="4ee29-145">**Szczegóły**</span><span class="sxs-lookup"><span data-stu-id="4ee29-145">**Details**</span></span> | <span data-ttu-id="4ee29-146">**SQL Server**</span><span class="sxs-lookup"><span data-stu-id="4ee29-146">**SQL Server**</span></span> |
--- | --- | ---
<span data-ttu-id="4ee29-147">**Konfigurowanie zawsze włączonej grupy dostępności**</span><span class="sxs-lookup"><span data-stu-id="4ee29-147">**Always On availability group**</span></span> | <span data-ttu-id="4ee29-148">Uruchamianie wielu wystąpień autonomicznych programu SQL Server w klastrze trybu failover, który ma wiele węzłów.</span><span class="sxs-lookup"><span data-stu-id="4ee29-148">Multiple standalone instances of SQL Server each run in a failover cluster that has multiple nodes.</span></span><br/><br/><span data-ttu-id="4ee29-149">Bazy danych można grupować w grupy trybu failover, które mogą zostać skopiowane (dublowany) w wystąpieniach programu SQL Server, aby niezbędne jest brak udostępnionego magazynu.</span><span class="sxs-lookup"><span data-stu-id="4ee29-149">Databases can be grouped into failover groups that can be copied (mirrored) on SQL Server instances so that no shared storage is needed.</span></span><br/><br/><span data-ttu-id="4ee29-150">Zapewnia odzyskiwanie po awarii między lokacją główną i co najmniej jednej lokacji dodatkowej.</span><span class="sxs-lookup"><span data-stu-id="4ee29-150">Provides disaster recovery between a primary site and one or more secondary sites.</span></span> <span data-ttu-id="4ee29-151">Dwa węzły można skonfigurować w udostępnionej nic skonfigurowany klaster z baz danych programu SQL Server w grupie dostępności Replikacja synchroniczna i automatycznej pracy awaryjnej.</span><span class="sxs-lookup"><span data-stu-id="4ee29-151">Two nodes can be set up in a shared nothing cluster with SQL Server databases configured in an availability group with synchronous replication and automatic failover.</span></span> | <span data-ttu-id="4ee29-152">SQL Server 2014 & 2012 w wersji Enterprise</span><span class="sxs-lookup"><span data-stu-id="4ee29-152">SQL Server 2014 & 2012 Enterprise edition</span></span>
<span data-ttu-id="4ee29-153">**(Zawsze na FCI dla) klastra trybu failover**</span><span class="sxs-lookup"><span data-stu-id="4ee29-153">**Failover clustering (Always On FCI)**</span></span> | <span data-ttu-id="4ee29-154">SQL Server korzysta z systemu Windows klastra trybu failover dla wysokiej dostępności lokalnego obciążeń programu SQL Server.</span><span class="sxs-lookup"><span data-stu-id="4ee29-154">SQL Server leverages Windows failover clustering for high availability of on-premises SQL Server workloads.</span></span><br/><br/><span data-ttu-id="4ee29-155">Węzły uruchomione wystąpienia programu SQL Server z udostępnionych dysków są skonfigurowane w klastrze pracy awaryjnej.</span><span class="sxs-lookup"><span data-stu-id="4ee29-155">Nodes running instances of SQL Server with shared disks are configured in a failover cluster.</span></span> <span data-ttu-id="4ee29-156">Jeśli wystąpienie jest wyłączony za pośrednictwem toodifferent, co nie powiedzie się hello klastra.</span><span class="sxs-lookup"><span data-stu-id="4ee29-156">If an instance is down hello cluster fails over toodifferent one.</span></span><br/><br/><span data-ttu-id="4ee29-157">Witaj klastra nie chroni przed awarią lub awarie w magazynie udostępnionym.</span><span class="sxs-lookup"><span data-stu-id="4ee29-157">hello cluster doesn't protect against failure or outages in shared storage.</span></span> <span data-ttu-id="4ee29-158">Witaj udostępnionego dysku może być zaimplementowany z interfejsu iSCSI, fiber channel, lub udostępnionego Vhdx.</span><span class="sxs-lookup"><span data-stu-id="4ee29-158">hello shared disk can be implemented with iSCSI, fiber channel, or shared VHDXs.</span></span> | <span data-ttu-id="4ee29-159">SQL Server Enterprise Edition</span><span class="sxs-lookup"><span data-stu-id="4ee29-159">SQL Server Enterprise editions</span></span><br/><br/><span data-ttu-id="4ee29-160">SQL Server Standard edition (tylko dla węzłów ograniczona tootwo)</span><span class="sxs-lookup"><span data-stu-id="4ee29-160">SQL Server Standard edition (limited tootwo nodes only)</span></span>
<span data-ttu-id="4ee29-161">**(Tryb wysokiego bezpieczeństwa) dublowania bazy danych**</span><span class="sxs-lookup"><span data-stu-id="4ee29-161">**Database mirroring (high safety mode)**</span></span> | <span data-ttu-id="4ee29-162">Zapewnia ochronę jednej kopii bazy danych tooa jednej dodatkowej.</span><span class="sxs-lookup"><span data-stu-id="4ee29-162">Protects a single database tooa single secondary copy.</span></span> <span data-ttu-id="4ee29-163">Dostępne w obu wysokiego bezpieczeństwa (synchroniczne) i wysokiej wydajności replikacji (asynchronicznej) trybów.</span><span class="sxs-lookup"><span data-stu-id="4ee29-163">Available in both high safety (synchronous) and high performance (asynchronous) replication modes.</span></span> <span data-ttu-id="4ee29-164">Nie wymaga klastra pracy awaryjnej.</span><span class="sxs-lookup"><span data-stu-id="4ee29-164">Doesn’t require a failover cluster.</span></span> | <span data-ttu-id="4ee29-165">SQL Server 2008 R2</span><span class="sxs-lookup"><span data-stu-id="4ee29-165">SQL Server 2008 R2</span></span><br/><br/><span data-ttu-id="4ee29-166">SQL Server Enterprise wszystkie wersje</span><span class="sxs-lookup"><span data-stu-id="4ee29-166">SQL Server Enterprise all editions</span></span>
<span data-ttu-id="4ee29-167">**Autonomiczny program SQL Server**</span><span class="sxs-lookup"><span data-stu-id="4ee29-167">**Standalone SQL Server**</span></span> | <span data-ttu-id="4ee29-168">Hello programu SQL Server i bazy danych znajdują się na jednym serwerze (fizycznych lub wirtualnych).</span><span class="sxs-lookup"><span data-stu-id="4ee29-168">hello SQL Server and database are hosted on a single server (physical or virtual).</span></span> <span data-ttu-id="4ee29-169">Klaster hostów jest używana wysokiej dostępności, gdy serwer hello jest wirtualnego.</span><span class="sxs-lookup"><span data-stu-id="4ee29-169">Host clustering is used for high availability if hello server is virtual.</span></span> <span data-ttu-id="4ee29-170">Nie wysokiej dostępności poziomie gościa.</span><span class="sxs-lookup"><span data-stu-id="4ee29-170">No guest-level high availability.</span></span> | <span data-ttu-id="4ee29-171">Enterprise lub Standard edition</span><span class="sxs-lookup"><span data-stu-id="4ee29-171">Enterprise or Standard edition</span></span>

## <a name="deployment-recommendations"></a><span data-ttu-id="4ee29-172">Zalecenia dotyczące wdrożenia</span><span class="sxs-lookup"><span data-stu-id="4ee29-172">Deployment recommendations</span></span>

<span data-ttu-id="4ee29-173">Ta tabela zawiera podsumowanie Nasze zalecenia dotyczące integracji z usługą Site Recovery technologiami BCDR serwera SQL.</span><span class="sxs-lookup"><span data-stu-id="4ee29-173">This table summarizes our recommendations for integrating SQL Server BCDR technologies with Site Recovery.</span></span>

| <span data-ttu-id="4ee29-174">**Wersja**</span><span class="sxs-lookup"><span data-stu-id="4ee29-174">**Version**</span></span> | <span data-ttu-id="4ee29-175">**Wersja**</span><span class="sxs-lookup"><span data-stu-id="4ee29-175">**Edition**</span></span> | <span data-ttu-id="4ee29-176">**Wdrożenie**</span><span class="sxs-lookup"><span data-stu-id="4ee29-176">**Deployment**</span></span> | <span data-ttu-id="4ee29-177">**Lokalnego tooon — wersja Premium**</span><span class="sxs-lookup"><span data-stu-id="4ee29-177">**On-prem tooon-prem**</span></span> | <span data-ttu-id="4ee29-178">**TooAzure lokalnego**</span><span class="sxs-lookup"><span data-stu-id="4ee29-178">**On-prem tooAzure**</span></span> |
| --- | --- | --- | --- | --- |
| <span data-ttu-id="4ee29-179">SQL Server 2014 lub 2012</span><span class="sxs-lookup"><span data-stu-id="4ee29-179">SQL Server 2014 or 2012</span></span> |<span data-ttu-id="4ee29-180">Enterprise</span><span class="sxs-lookup"><span data-stu-id="4ee29-180">Enterprise</span></span> |<span data-ttu-id="4ee29-181">Wystąpienie klastra pracy awaryjnej</span><span class="sxs-lookup"><span data-stu-id="4ee29-181">Failover cluster instance</span></span> |<span data-ttu-id="4ee29-182">Zawsze włączone grupy dostępności</span><span class="sxs-lookup"><span data-stu-id="4ee29-182">Always On availability groups</span></span> |<span data-ttu-id="4ee29-183">Zawsze włączone grupy dostępności</span><span class="sxs-lookup"><span data-stu-id="4ee29-183">Always On availability groups</span></span> |
|| <span data-ttu-id="4ee29-184">Enterprise</span><span class="sxs-lookup"><span data-stu-id="4ee29-184">Enterprise</span></span> |<span data-ttu-id="4ee29-185">Zawsze włączone grupy dostępności wysokiej dostępności</span><span class="sxs-lookup"><span data-stu-id="4ee29-185">Always On availability groups for high availability</span></span> |<span data-ttu-id="4ee29-186">Zawsze włączone grupy dostępności</span><span class="sxs-lookup"><span data-stu-id="4ee29-186">Always On availability groups</span></span> |<span data-ttu-id="4ee29-187">Zawsze włączone grupy dostępności</span><span class="sxs-lookup"><span data-stu-id="4ee29-187">Always On availability groups</span></span> | |
|| <span data-ttu-id="4ee29-188">Standardowa</span><span class="sxs-lookup"><span data-stu-id="4ee29-188">Standard</span></span> |<span data-ttu-id="4ee29-189">Wystąpienia klastra trybu failover (FCI)</span><span class="sxs-lookup"><span data-stu-id="4ee29-189">Failover cluster instance (FCI)</span></span> |<span data-ttu-id="4ee29-190">Replikacja z lokacji odzyskiwania dublowaniem lokalnego</span><span class="sxs-lookup"><span data-stu-id="4ee29-190">Site Recovery replication with local mirror</span></span> |<span data-ttu-id="4ee29-191">Replikacja z lokacji odzyskiwania dublowaniem lokalnego</span><span class="sxs-lookup"><span data-stu-id="4ee29-191">Site Recovery replication with local mirror</span></span> | |
|| <span data-ttu-id="4ee29-192">Enterprise lub Standard</span><span class="sxs-lookup"><span data-stu-id="4ee29-192">Enterprise or Standard</span></span> |<span data-ttu-id="4ee29-193">Autonomiczna</span><span class="sxs-lookup"><span data-stu-id="4ee29-193">Standalone</span></span> |<span data-ttu-id="4ee29-194">Replikacja odzyskiwania lokacji</span><span class="sxs-lookup"><span data-stu-id="4ee29-194">Site Recovery replication</span></span> |<span data-ttu-id="4ee29-195">Replikacja odzyskiwania lokacji</span><span class="sxs-lookup"><span data-stu-id="4ee29-195">Site Recovery replication</span></span> | |
| <span data-ttu-id="4ee29-196">SQL Server 2008 R2 lub 2008</span><span class="sxs-lookup"><span data-stu-id="4ee29-196">SQL Server 2008 R2 or 2008</span></span> |<span data-ttu-id="4ee29-197">Enterprise lub Standard</span><span class="sxs-lookup"><span data-stu-id="4ee29-197">Enterprise or Standard</span></span> |<span data-ttu-id="4ee29-198">Wystąpienia klastra trybu failover (FCI)</span><span class="sxs-lookup"><span data-stu-id="4ee29-198">Failover cluster instance (FCI)</span></span> |<span data-ttu-id="4ee29-199">Replikacja z lokacji odzyskiwania dublowaniem lokalnego</span><span class="sxs-lookup"><span data-stu-id="4ee29-199">Site Recovery replication with local mirror</span></span> |<span data-ttu-id="4ee29-200">Replikacja z lokacji odzyskiwania dublowaniem lokalnego</span><span class="sxs-lookup"><span data-stu-id="4ee29-200">Site Recovery replication with local mirror</span></span> |
|| <span data-ttu-id="4ee29-201">Enterprise lub Standard</span><span class="sxs-lookup"><span data-stu-id="4ee29-201">Enterprise or Standard</span></span> |<span data-ttu-id="4ee29-202">Autonomiczna</span><span class="sxs-lookup"><span data-stu-id="4ee29-202">Standalone</span></span> |<span data-ttu-id="4ee29-203">Replikacja odzyskiwania lokacji</span><span class="sxs-lookup"><span data-stu-id="4ee29-203">Site Recovery replication</span></span> |<span data-ttu-id="4ee29-204">Replikacja odzyskiwania lokacji</span><span class="sxs-lookup"><span data-stu-id="4ee29-204">Site Recovery replication</span></span> | |
| <span data-ttu-id="4ee29-205">SQL Server (dowolna wersja)</span><span class="sxs-lookup"><span data-stu-id="4ee29-205">SQL Server (Any version)</span></span> |<span data-ttu-id="4ee29-206">Enterprise lub Standard</span><span class="sxs-lookup"><span data-stu-id="4ee29-206">Enterprise or Standard</span></span> |<span data-ttu-id="4ee29-207">Wystąpienie klastra pracy awaryjnej — aplikacji usługi DTC</span><span class="sxs-lookup"><span data-stu-id="4ee29-207">Failover cluster instance - DTC application</span></span> |<span data-ttu-id="4ee29-208">Replikacja odzyskiwania lokacji</span><span class="sxs-lookup"><span data-stu-id="4ee29-208">Site Recovery replication</span></span> |<span data-ttu-id="4ee29-209">Nieobsługiwane</span><span class="sxs-lookup"><span data-stu-id="4ee29-209">Not Supported</span></span> |

## <a name="deployment-prerequisites"></a><span data-ttu-id="4ee29-210">Wymagania wstępne dotyczące wdrożenia</span><span class="sxs-lookup"><span data-stu-id="4ee29-210">Deployment prerequisites</span></span>

* <span data-ttu-id="4ee29-211">Lokalnego wdrożenia serwera SQL, zainstalowana obsługiwana wersja programu SQL Server.</span><span class="sxs-lookup"><span data-stu-id="4ee29-211">An on-premises SQL Server deployment, running a supported SQL Server version.</span></span> <span data-ttu-id="4ee29-212">Zazwyczaj należy również usługi Active Directory dla programu SQL server.</span><span class="sxs-lookup"><span data-stu-id="4ee29-212">Typically, you also need Active Directory for your SQL server.</span></span>
* <span data-ttu-id="4ee29-213">wymagania Hello hello scenariusz ma toodeploy.</span><span class="sxs-lookup"><span data-stu-id="4ee29-213">hello requirements for hello scenario you want toodeploy.</span></span> <span data-ttu-id="4ee29-214">Dowiedz się więcej o wymaganiach dotyczących pomocy technicznej dla [tooAzure replikacji](site-recovery-support-matrix-to-azure.md) i [lokalnymi](site-recovery-support-matrix.md), i [wymagania wstępne dotyczące wdrażania](site-recovery-prereq.md).</span><span class="sxs-lookup"><span data-stu-id="4ee29-214">Learn more about support requirements for [replication tooAzure](site-recovery-support-matrix-to-azure.md) and [on-premises](site-recovery-support-matrix.md), and [deployment prerequisites](site-recovery-prereq.md).</span></span>
* <span data-ttu-id="4ee29-215">tooset zapasowej odzyskiwania na platformie Azure, uruchom hello [oceny gotowości maszyny wirtualnej Azure](http://www.microsoft.com/download/details.aspx?id=40898) narzędzia na maszynach wirtualnych programu SQL Server toomake się, że są one zgodne z platformy Azure i usługi Site Recovery.</span><span class="sxs-lookup"><span data-stu-id="4ee29-215">tooset up recovery in Azure, run hello [Azure Virtual Machine Readiness Assessment](http://www.microsoft.com/download/details.aspx?id=40898) tool on your SQL Server virtual machines, toomake sure they're compatible with Azure and Site Recovery.</span></span>

## <a name="set-up-active-directory"></a><span data-ttu-id="4ee29-216">Konfigurowanie usługi Active Directory</span><span class="sxs-lookup"><span data-stu-id="4ee29-216">Set up Active Directory</span></span>

<span data-ttu-id="4ee29-217">Usługi Active Directory, w lokacji dodatkowej odzyskiwania hello, dla programu SQL Server toorun prawidłowo skonfigurowany.</span><span class="sxs-lookup"><span data-stu-id="4ee29-217">Set up Active Directory, in hello secondary recovery site, for SQL Server toorun properly.</span></span>

* <span data-ttu-id="4ee29-218">**Małe przedsiębiorstwa**— z mniejszą liczbą aplikacji i jednego kontrolera domeny do lokacji lokalnej hello, jeśli chcesz toofail za pośrednictwem hello całej lokacji, zalecane jest użycie usługi Site Recovery replikacji tooreplicate hello kontrolerem domeny toohello dodatkowego centrum danych lub tooAzure.</span><span class="sxs-lookup"><span data-stu-id="4ee29-218">**Small enterprise**—With a small number of applications, and single domain controller for hello on-premises site, if you want toofail over hello entire site, we recommend you use Site Recovery replication tooreplicate hello domain controller toohello secondary datacenter, or tooAzure.</span></span>
* <span data-ttu-id="4ee29-219">**Średnia toolarge enterprise**— Jeśli masz wiele aplikacji w lesie usługi Active Directory i chcesz toofail przez aplikację lub obciążenia, zaleca się Konfigurowanie dodatkowego kontrolera domeny w hello dodatkowego centrum danych lub w Azure.</span><span class="sxs-lookup"><span data-stu-id="4ee29-219">**Medium toolarge enterprise**—If you have a large number of applications, an Active Directory forest, and you want toofail over by application or workload, we recommend you set up an additional domain controller in hello secondary datacenter, or in Azure.</span></span> <span data-ttu-id="4ee29-220">Jeśli używasz zawsze na dostępność grupy toorecover tooa lokacji zdalnej, zaleca się Konfigurowanie innego dodatkowego kontrolera domeny w lokacji dodatkowej hello lub na platformie Azure, toouse dla wystąpienia programu SQL Server hello odzyskane.</span><span class="sxs-lookup"><span data-stu-id="4ee29-220">If you're using Always On availability groups toorecover tooa remote site, we recommend you set up another additional domain controller on hello secondary site or in Azure, toouse for hello recovered SQL Server instance.</span></span>

<span data-ttu-id="4ee29-221">Witaj instrukcje w tym artykule zakładają, że kontroler domeny jest dostępny w lokalizacji dodatkowej hello.</span><span class="sxs-lookup"><span data-stu-id="4ee29-221">hello instructions in this article presume that a domain controller is available in hello secondary location.</span></span> <span data-ttu-id="4ee29-222">[Dowiedz się więcej](site-recovery-active-directory.md) o ochronie usługi Active Directory z usługą Site Recovery.</span><span class="sxs-lookup"><span data-stu-id="4ee29-222">[Read more](site-recovery-active-directory.md) about protecting Active Directory with Site Recovery.</span></span>


## <a name="integrate-with-sql-server-always-on-for-replication-tooazure"></a><span data-ttu-id="4ee29-223">Integrowanie z programu SQL Server AlwaysOn dla tooAzure replikacji</span><span class="sxs-lookup"><span data-stu-id="4ee29-223">Integrate with SQL Server Always On for replication tooAzure</span></span>

<span data-ttu-id="4ee29-224">Oto co należy toodo:</span><span class="sxs-lookup"><span data-stu-id="4ee29-224">Here's what you need toodo:</span></span>

1. <span data-ttu-id="4ee29-225">Importuj skryptów do konta usługi Automatyzacja Azure.</span><span class="sxs-lookup"><span data-stu-id="4ee29-225">Import scripts into your Azure Automation account.</span></span> <span data-ttu-id="4ee29-226">Zawiera toofailover skrypty hello grupy dostępności SQL w [maszyny wirtualnej usługi Resource Manager](https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/asr-automation-recovery/scripts/ASR-SQL-FailoverAG.ps1) i [maszynę wirtualną w klasycznym](https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/asr-automation-recovery/scripts/ASR-SQL-FailoverAGClassic.ps1).</span><span class="sxs-lookup"><span data-stu-id="4ee29-226">This contains hello scripts toofailover SQL Availability Group in a [Resource Manager virtual machine](https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/asr-automation-recovery/scripts/ASR-SQL-FailoverAG.ps1) and a [Classic virtual machine](https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/asr-automation-recovery/scripts/ASR-SQL-FailoverAGClassic.ps1).</span></span>

    <span data-ttu-id="4ee29-227">[![Wdrażanie tooAzure](https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/c4803408-340e-49e3-9a1f-0ed3f689813d.png)](https://aka.ms/asr-automationrunbooks-deploy)</span><span class="sxs-lookup"><span data-stu-id="4ee29-227">[![Deploy tooAzure](https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/c4803408-340e-49e3-9a1f-0ed3f689813d.png)](https://aka.ms/asr-automationrunbooks-deploy)</span></span>


1. <span data-ttu-id="4ee29-228">Dodaj ASR-SQL-FailoverAG jako akcją przed pierwszą grupą hello hello planu odzyskiwania.</span><span class="sxs-lookup"><span data-stu-id="4ee29-228">Add ASR-SQL-FailoverAG as a pre action of hello first group of hello recovery plan.</span></span>

1. <span data-ttu-id="4ee29-229">Wykonaj instrukcje hello dostępne w hello skryptu toocreate nazwa hello tooprovide zmiennej automatyzacji hello grup dostępności.</span><span class="sxs-lookup"><span data-stu-id="4ee29-229">Follow hello instructions available in hello script toocreate an automation variable tooprovide hello name of hello availability groups.</span></span>

### <a name="steps-toodo-a-test-failover"></a><span data-ttu-id="4ee29-230">Kroki toodo test trybu failover</span><span class="sxs-lookup"><span data-stu-id="4ee29-230">Steps toodo a test failover</span></span>

<span data-ttu-id="4ee29-231">Program SQL AlwaysOn nie obsługuje natywnie testowy tryb failover.</span><span class="sxs-lookup"><span data-stu-id="4ee29-231">SQL Always On doesn’t natively support test failover.</span></span> <span data-ttu-id="4ee29-232">Dlatego zaleca się następujące hello:</span><span class="sxs-lookup"><span data-stu-id="4ee29-232">Therefore, we recommend hello following:</span></span>

1. <span data-ttu-id="4ee29-233">Konfigurowanie [kopia zapasowa Azure](../backup/backup-azure-vms.md) na maszynie wirtualnej hello hostującego replikę grupy dostępności hello na platformie Azure.</span><span class="sxs-lookup"><span data-stu-id="4ee29-233">Set up [Azure Backup](../backup/backup-azure-vms.md) on hello virtual machine that hosts hello availability group replica in Azure.</span></span>

1. <span data-ttu-id="4ee29-234">Aby mogło nastąpić wyzwolenie testowy tryb failover planu odzyskiwania hello, odzyskać hello maszyny wirtualnej z kopii zapasowej hello w poprzednim kroku hello.</span><span class="sxs-lookup"><span data-stu-id="4ee29-234">Before triggering test failover of hello recovery plan, recover hello virtual machine from hello backup taken in hello previous step.</span></span>

    ![<span data-ttu-id="4ee29-235">Przywracanie z kopii zapasowej systemu Azure</span><span class="sxs-lookup"><span data-stu-id="4ee29-235">Restore from Azure Backup</span></span> ](./media/site-recovery-sql/restore-from-backup.png)

1. <span data-ttu-id="4ee29-236">[Wymuszenie kworum](https://docs.microsoft.com/sql/sql-server/failover-clusters/windows/force-a-wsfc-cluster-to-start-without-a-quorum#PowerShellProcedure) hello maszyny wirtualnej przywróconej z kopii zapasowej.</span><span class="sxs-lookup"><span data-stu-id="4ee29-236">[Force a quorum](https://docs.microsoft.com/sql/sql-server/failover-clusters/windows/force-a-wsfc-cluster-to-start-without-a-quorum#PowerShellProcedure) in hello virtual machine restored from backup.</span></span>

1. <span data-ttu-id="4ee29-237">Zaktualizuj IP hello odbiornika tooan IP dostępne w hello testowej sieci trybu failover.</span><span class="sxs-lookup"><span data-stu-id="4ee29-237">Update IP of hello listener tooan IP available in hello test failover network.</span></span>

    ![Zaktualizuj odbiornik IP](./media/site-recovery-sql/update-listener-ip.png)

1. <span data-ttu-id="4ee29-239">Przełącz odbiornika w trybie online.</span><span class="sxs-lookup"><span data-stu-id="4ee29-239">Bring listener online.</span></span>

    ![Przełącz do trybu Online odbiornika](./media/site-recovery-sql/bring-listener-online.png)

1. <span data-ttu-id="4ee29-241">Tworzenie modułu równoważenia obciążenia z jeden adres IP utworzone na podstawie frontonu IP puli odpowiedniego tooeach odbiornika grupy dostępności i maszyny wirtualnej SQL hello dodane w puli zaplecza hello.</span><span class="sxs-lookup"><span data-stu-id="4ee29-241">Create a load balancer with one IP created under frontend IP pool corresponding tooeach availability group listener and with hello SQL virtual machine added in hello backend pool.</span></span>

     ![<span data-ttu-id="4ee29-242">Tworzenie usługi równoważenia obciążenia - puli adresów IP frontonu</span><span class="sxs-lookup"><span data-stu-id="4ee29-242">Create Load Balancer - Frontend IP pool</span></span> ](./media/site-recovery-sql/create-load-balancer1.png)

    ![<span data-ttu-id="4ee29-243">Tworzenie usługi równoważenia obciążenia - puli wewnętrznej bazy danych</span><span class="sxs-lookup"><span data-stu-id="4ee29-243">Create Load Balancer - Backend pool</span></span> ](./media/site-recovery-sql/create-load-balancer2.png)

1. <span data-ttu-id="4ee29-244">Wykonaj test trybu failover planu odzyskiwania hello.</span><span class="sxs-lookup"><span data-stu-id="4ee29-244">Do a test failover of hello recovery plan.</span></span>

### <a name="steps-toodo-a-failover"></a><span data-ttu-id="4ee29-245">Kroki toodo trybu failover</span><span class="sxs-lookup"><span data-stu-id="4ee29-245">Steps toodo a failover</span></span>

<span data-ttu-id="4ee29-246">Po dodaniu hello skryptu w planie odzyskiwania hello i planu odzyskiwania zweryfikowanych hello wykonując test trybu failover, możesz to zrobić trybu failover planu odzyskiwania hello.</span><span class="sxs-lookup"><span data-stu-id="4ee29-246">Once you have added hello script in hello recovery plan and validated hello recovery plan by doing a test failover, you can do failover of hello recovery plan.</span></span>


## <a name="integrate-with-sql-server-always-on-for-replication-tooa-secondary-on-premises-site"></a><span data-ttu-id="4ee29-247">Integracja z programu SQL Server AlwaysOn dla lokacji dodatkowej lokalnymi tooa replikacji</span><span class="sxs-lookup"><span data-stu-id="4ee29-247">Integrate with SQL Server Always On for replication tooa secondary on-premises site</span></span>

<span data-ttu-id="4ee29-248">Hello programu SQL Server używa grup dostępności dla wysokiej dostępności (lub FCI), zaleca się przy użyciu grup dostępności w również hello odzyskiwania lokacji.</span><span class="sxs-lookup"><span data-stu-id="4ee29-248">If hello SQL Server is using availability groups for high availability (or an FCI), we recommend using availability groups on hello recovery site as well.</span></span> <span data-ttu-id="4ee29-249">Należy pamiętać, że ma to zastosowanie tooapps, który nie używaj transakcji rozproszonej.</span><span class="sxs-lookup"><span data-stu-id="4ee29-249">Note that this applies tooapps that don't use distributed transactions.</span></span>

1. <span data-ttu-id="4ee29-250">[Skonfuguruj](https://msdn.microsoft.com/library/hh213078.aspx) do grupy dostępności.</span><span class="sxs-lookup"><span data-stu-id="4ee29-250">[Configure databases](https://msdn.microsoft.com/library/hh213078.aspx) into availability groups.</span></span>
1. <span data-ttu-id="4ee29-251">Tworzenie sieci wirtualnej w lokacji dodatkowej hello.</span><span class="sxs-lookup"><span data-stu-id="4ee29-251">Create a virtual network on hello secondary site.</span></span>
1. <span data-ttu-id="4ee29-252">Konfigurowanie połączenia sieci VPN lokacja lokacja między hello sieci wirtualnej i lokacji głównej hello.</span><span class="sxs-lookup"><span data-stu-id="4ee29-252">Set up a site-to-site VPN connection between hello virtual network, and hello primary site.</span></span>
1. <span data-ttu-id="4ee29-253">Utwórz maszynę wirtualną na powitania odzyskiwania lokacji i SQL Server należy zainstalować na nim.</span><span class="sxs-lookup"><span data-stu-id="4ee29-253">Create a virtual machine on hello recovery site, and install SQL Server on it.</span></span>
1. <span data-ttu-id="4ee29-254">Rozszerzanie hello istniejących zawsze na dostępność grupy toohello nową maszynę Wirtualną programu SQL Server.</span><span class="sxs-lookup"><span data-stu-id="4ee29-254">Extend hello existing Always On availability groups toohello new SQL Server VM.</span></span> <span data-ttu-id="4ee29-255">Konfigurowania tego wystąpienia programu SQL Server jako kopia repliki asynchronicznego.</span><span class="sxs-lookup"><span data-stu-id="4ee29-255">Configure this SQL Server instance as an asynchronous replica copy.</span></span>
1. <span data-ttu-id="4ee29-256">Utwórz odbiornik grupy dostępności, lub zaktualizuj hello istniejący odbiornik tooinclude hello asynchroniczne maszyny wirtualnej repliki.</span><span class="sxs-lookup"><span data-stu-id="4ee29-256">Create an availability group listener, or update hello existing listener tooinclude hello asynchronous replica virtual machine.</span></span>
1. <span data-ttu-id="4ee29-257">Upewnij się, że w farmie aplikacji hello jest skonfigurowany odbiornik hello.</span><span class="sxs-lookup"><span data-stu-id="4ee29-257">Make sure that hello application farm is set up using hello listener.</span></span> <span data-ttu-id="4ee29-258">Jeśli Instalator przy użyciu nazwy serwera bazy danych hello, aktualizować toouse hello odbiornika, więc nie trzeba tooreconfigure go po hello w tryb failover.</span><span class="sxs-lookup"><span data-stu-id="4ee29-258">If it's setup up using hello database server name, update it toouse hello listener, so you don't need tooreconfigure it after hello failover.</span></span>

<span data-ttu-id="4ee29-259">W przypadku aplikacji korzystających z transakcji rozproszonych, zaleca się wdrażania usługi Site Recovery z [replikacji do lokacji serwera VMware/fizyczne](site-recovery-vmware-to-vmware.md).</span><span class="sxs-lookup"><span data-stu-id="4ee29-259">For applications that use distributed transactions, we recommend you deploy Site Recovery with [VMware/physical server site-to-site replication](site-recovery-vmware-to-vmware.md).</span></span>

### <a name="recovery-plan-considerations"></a><span data-ttu-id="4ee29-260">Zagadnienia dotyczące planu odzyskiwania</span><span class="sxs-lookup"><span data-stu-id="4ee29-260">Recovery plan considerations</span></span>
1. <span data-ttu-id="4ee29-261">Ten przykładowy skrypt toohello biblioteki VMM, należy dodać w lokacjach głównych i dodatkowych hello.</span><span class="sxs-lookup"><span data-stu-id="4ee29-261">Add this sample script toohello VMM library, on hello primary and secondary sites.</span></span>

        Param(
        [string]$SQLAvailabilityGroupPath
        )
        import-module sqlps
        Switch-SqlAvailabilityGroup -Path $SQLAvailabilityGroupPath -AllowDataLoss -force

1. <span data-ttu-id="4ee29-262">Po utworzeniu planu odzyskiwania dla aplikacji hello Dodaj sprzed akcji tooGroup 1 inicjowanych przez skrypty krok, wywołująca hello skryptu toofail za pośrednictwem grup dostępności.</span><span class="sxs-lookup"><span data-stu-id="4ee29-262">When you create a recovery plan for hello application, add a pre action tooGroup-1 scripted step, that invokes hello script toofail over availability groups.</span></span>

## <a name="protect-a-standalone-sql-server"></a><span data-ttu-id="4ee29-263">Ochrona autonomicznego serwera SQL</span><span class="sxs-lookup"><span data-stu-id="4ee29-263">Protect a standalone SQL Server</span></span>

<span data-ttu-id="4ee29-264">W tym scenariuszu zaleca się, że używasz usługi Site Recovery replikacji tooprotect hello programu SQL Server maszyny.</span><span class="sxs-lookup"><span data-stu-id="4ee29-264">In this scenario, we recommend that you use Site Recovery replication tooprotect hello SQL Server machine.</span></span> <span data-ttu-id="4ee29-265">Hello kolejnych kroków zależy, czy serwer SQL jest maszyny Wirtualnej lub serwerze fizycznym i czy ma tooreplicate tooAzure lub dodatkowej lokacji lokalnymi.</span><span class="sxs-lookup"><span data-stu-id="4ee29-265">hello exact steps will depend whether SQL Server is a VM or a physical server, and whether you want tooreplicate tooAzure or a secondary on-premises site.</span></span> <span data-ttu-id="4ee29-266">Dowiedz się więcej o [scenariuszy odzyskiwania lokacji](site-recovery-overview.md).</span><span class="sxs-lookup"><span data-stu-id="4ee29-266">Learn about [Site Recovery scenarios](site-recovery-overview.md).</span></span>

## <a name="protect-a-sql-server-cluster-standard-editionwindows-server-2008-r2"></a><span data-ttu-id="4ee29-267">Ochrona klastra programu SQL Server (standard edition/Windows Server 2008 R2)</span><span class="sxs-lookup"><span data-stu-id="4ee29-267">Protect a SQL Server cluster (standard edition/Windows Server 2008 R2)</span></span>

<span data-ttu-id="4ee29-268">W przypadku klastra z programem SQL Server Standard edition lub SQL Server 2008 R2, firma Microsoft zaleca się, że używasz usługi Site Recovery tooprotect replikacji programu SQL Server.</span><span class="sxs-lookup"><span data-stu-id="4ee29-268">For a cluster running SQL Server Standard edition, or SQL Server 2008 R2, we recommend you use Site Recovery replication tooprotect SQL Server.</span></span>

### <a name="on-premises-tooon-premises"></a><span data-ttu-id="4ee29-269">Lokalne tooon lokalnej</span><span class="sxs-lookup"><span data-stu-id="4ee29-269">On-premises tooon-premises</span></span>

* <span data-ttu-id="4ee29-270">Jeśli aplikacja hello korzysta z transakcji rozproszonych zalecamy wdrożeniem [odzyskiwania lokacji za pomocą replikacji SAN](site-recovery-vmm-san.md) w środowisku funkcji Hyper-V lub [tooVMware serwera VMware/fizyczne](site-recovery-vmware-to-vmware.md) w środowisku VMware.</span><span class="sxs-lookup"><span data-stu-id="4ee29-270">If hello app uses distributed transactions we recommend you deploy [Site Recovery with SAN replication](site-recovery-vmm-san.md) for a Hyper-V environment, or [VMware/physical server tooVMware](site-recovery-vmware-to-vmware.md) for a VMware environment.</span></span>
* <span data-ttu-id="4ee29-271">Dla aplikacji z systemem innym niż DTC należy użyć hello powyżej podejście toorecover hello klastra jako serwer autonomiczny, dzięki wykorzystaniu lokalnego wysokiego bezpieczeństwa dublowania bazy danych.</span><span class="sxs-lookup"><span data-stu-id="4ee29-271">For non-DTC applications, use hello above approach toorecover hello cluster as a standalone server, by leveraging a local high safety DB mirror.</span></span>

### <a name="on-premises-tooazure"></a><span data-ttu-id="4ee29-272">TooAzure lokalnej</span><span class="sxs-lookup"><span data-stu-id="4ee29-272">On-premises tooAzure</span></span>

<span data-ttu-id="4ee29-273">Usługa Site Recovery nie zapewnia gościa Obsługa klastrów podczas replikowania tooAzure.</span><span class="sxs-lookup"><span data-stu-id="4ee29-273">Site Recovery doesn't provide guest cluster support when replicating tooAzure.</span></span> <span data-ttu-id="4ee29-274">Dla wersji Standard programu SQL Server również nie zapewnia rozwiązanie odzyskiwania po awarii niskich kosztach.</span><span class="sxs-lookup"><span data-stu-id="4ee29-274">SQL Server also doesn't provide a low-cost disaster recovery solution for Standard edition.</span></span> <span data-ttu-id="4ee29-275">W tym scenariuszu zalecamy chronić hello lokalnego programu SQL Server klastra tooa autonomiczny programu SQL Server i odzyskać ją na platformie Azure.</span><span class="sxs-lookup"><span data-stu-id="4ee29-275">In this scenario, we recommend you protect hello on-premises SQL Server cluster tooa standalone SQL Server, and recover it in Azure.</span></span>

1. <span data-ttu-id="4ee29-276">Skonfiguruj dodatkowe autonomiczne wystąpienie programu SQL Server na powitania lokacji lokalnej.</span><span class="sxs-lookup"><span data-stu-id="4ee29-276">Configure an additional standalone SQL Server instance on hello on-premises site.</span></span>
1. <span data-ttu-id="4ee29-277">Skonfiguruj hello wystąpienia tooserve jako dublowania dla hello baz danych można mają tooprotect.</span><span class="sxs-lookup"><span data-stu-id="4ee29-277">Configure hello instance tooserve as a mirror for hello databases you want tooprotect.</span></span> <span data-ttu-id="4ee29-278">Konfigurowanie funkcji dublowania w trybie wysokiego bezpieczeństwa.</span><span class="sxs-lookup"><span data-stu-id="4ee29-278">Configure mirroring in high safety mode.</span></span>
1. <span data-ttu-id="4ee29-279">Konfigurowanie usługi Site Recovery w witrynie lokalne powitania dla ([funkcji Hyper-V](site-recovery-hyper-v-site-to-azure.md) lub [VMware maszyny wirtualne/serwery fizyczne)](site-recovery-vmware-to-azure-classic.md).</span><span class="sxs-lookup"><span data-stu-id="4ee29-279">Configure Site Recovery on hello on-premises site, for ([Hyper-V](site-recovery-hyper-v-site-to-azure.md) or [VMware VMs/physical servers)](site-recovery-vmware-to-azure-classic.md).</span></span>
1. <span data-ttu-id="4ee29-280">Użyj usługi Site Recovery replikacji tooreplicate hello nowego programu SQL Server wystąpienia tooAzure.</span><span class="sxs-lookup"><span data-stu-id="4ee29-280">Use Site Recovery replication tooreplicate hello new SQL Server instance tooAzure.</span></span> <span data-ttu-id="4ee29-281">Ponieważ jest kopii duplikatu wysokiego bezpieczeństwa, zostanie on zsynchronizowany z klastra głównego hello, ale będzie replikowany tooAzure przy użyciu replikacji usługi Site Recovery.</span><span class="sxs-lookup"><span data-stu-id="4ee29-281">Since it's a high safety mirror copy, it will be synchronized with hello primary cluster, but it will be replicated tooAzure using Site Recovery replication.</span></span>


![Klaster w warstwie Standardowa](./media/site-recovery-sql/standalone-cluster-local.png)

### <a name="failback-considerations"></a><span data-ttu-id="4ee29-283">Zagadnienia dotyczące powrotu po awarii</span><span class="sxs-lookup"><span data-stu-id="4ee29-283">Failback considerations</span></span>

<span data-ttu-id="4ee29-284">W przypadku klastrów programu SQL Server Standard powrotu po awarii po nieplanowany tryb failover wymaga kopii zapasowej serwera SQL i przywracania z hello dublowany wystąpienia toohello oryginalnego klastra, z reestablishment hello duplikatu.</span><span class="sxs-lookup"><span data-stu-id="4ee29-284">For SQL Server Standard clusters, failback after an unplanned failover requires a SQL server backup and restore, from hello mirror instance toohello original cluster, with reestablishment of hello mirror.</span></span>

## <a name="next-steps"></a><span data-ttu-id="4ee29-285">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="4ee29-285">Next steps</span></span>
<span data-ttu-id="4ee29-286">[Dowiedz się więcej](site-recovery-components.md) o architekturze usługi Site Recovery.</span><span class="sxs-lookup"><span data-stu-id="4ee29-286">[Learn more](site-recovery-components.md) about Site Recovery architecture.</span></span>
