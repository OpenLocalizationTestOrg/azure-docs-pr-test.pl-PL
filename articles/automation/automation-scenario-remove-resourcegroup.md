---
title: "Automatyczne usuwanie grup zasobów | Microsoft Docs"
description: "Wersja scenariusza użycia usługi Azure Automation obejmująca wykorzystanie przepływu pracy programu PowerShell i elementów Runbook umożliwiających usunięcie wszystkich grupy zasobów w subskrypcji."
services: automation
documentationcenter: 
author: MGoedtel
manager: jwhit
editor: 
ms.assetid: b848e345-fd5d-4b9d-bc57-3fe41d2ddb5c
ms.service: automation
ms.workload: tbd
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: get-started-article
ms.date: 09/26/2016
ms.author: magoedte
ms.openlocfilehash: 6aa3897d44b146483204d43e026d3d158c3e13b6
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 07/11/2017
---
# <a name="azure-automation-scenario---automate-removal-of-resource-groups"></a><span data-ttu-id="d5439-103">Scenariusz użycia usługi Azure Automation — automatyczne usuwanie grup zasobów</span><span class="sxs-lookup"><span data-stu-id="d5439-103">Azure Automation scenario - automate removal of resource groups</span></span>
<span data-ttu-id="d5439-104">Wielu klientów tworzy więcej niż jedną grupę zasobów.</span><span class="sxs-lookup"><span data-stu-id="d5439-104">Many customers create more than one resource group.</span></span> <span data-ttu-id="d5439-105">Niektóre grupy mogą służyć do zarządzania aplikacjami produkcyjnymi, a inne mogą być używane jako środowiska rozwojowe, testowe lub przejściowe.</span><span class="sxs-lookup"><span data-stu-id="d5439-105">Some might be used for managing production applications, and others might be used as development, testing, and staging environments.</span></span> <span data-ttu-id="d5439-106">Automatyzacja wdrażania tych zasobów to jedno, ale wymagane jest również zapewnienie możliwości łatwej likwidacji grupy zasobów.</span><span class="sxs-lookup"><span data-stu-id="d5439-106">Automating the deployment of these resources is one thing, but being able to decommission a resource group with a click of the button is another.</span></span> <span data-ttu-id="d5439-107">To typowe zadanie zarządzania można uprościć przy użyciu usługi Azure Automation.</span><span class="sxs-lookup"><span data-stu-id="d5439-107">You can streamline this common management task by using Azure Automation.</span></span> <span data-ttu-id="d5439-108">Przydaje się to w przypadku korzystania z subskrypcji platformy Azure z limitem wydatków w ramach takich ofert jak MSDN lub program Microsoft Partner Network Cloud Essentials.</span><span class="sxs-lookup"><span data-stu-id="d5439-108">This is helpful if you are working with an Azure subscription that has a spending limit through a member offer like MSDN or the Microsoft Partner Network Cloud Essentials program.</span></span>

<span data-ttu-id="d5439-109">Ten scenariusz jest oparty na elemencie Runbook programu PowerShell i jest przeznaczony do usuwania określonych grup zasobów z subskrypcji.</span><span class="sxs-lookup"><span data-stu-id="d5439-109">This scenario is based on a PowerShell runbook and is designed to remove one or more resource groups that you specify from your subscription.</span></span> <span data-ttu-id="d5439-110">Domyślne ustawienie elementu Runbook powoduje testowanie przed wykonaniem.</span><span class="sxs-lookup"><span data-stu-id="d5439-110">The default setting of the runbook is to test before proceeding.</span></span> <span data-ttu-id="d5439-111">Daje to gwarancję, że nie można przypadkowo usunąć grupy zasobów przed przygotowaniem wszystkiego do wykonania tej procedury.</span><span class="sxs-lookup"><span data-stu-id="d5439-111">This ensures that you don't accidentally delete the resource group before you're ready to complete this procedure.</span></span>   

## <a name="getting-the-scenario"></a><span data-ttu-id="d5439-112">Uzyskiwanie scenariusza</span><span class="sxs-lookup"><span data-stu-id="d5439-112">Getting the scenario</span></span>
<span data-ttu-id="d5439-113">Ten scenariusz składa się z elementu Runbook programu PowerShell, który można pobrać z [Galerii programu PowerShell](https://www.powershellgallery.com/packages/Remove-ResourceGroup/1.0/DisplayScript).</span><span class="sxs-lookup"><span data-stu-id="d5439-113">This scenario consists of a PowerShell runbook that you can download from the [PowerShell Gallery](https://www.powershellgallery.com/packages/Remove-ResourceGroup/1.0/DisplayScript).</span></span> <span data-ttu-id="d5439-114">Można również zaimportować go bezpośrednio z [Galerii elementów Runbook](automation-runbook-gallery.md) w witrynie Azure Portal.</span><span class="sxs-lookup"><span data-stu-id="d5439-114">You can also import it directly from the [Runbook Gallery](automation-runbook-gallery.md) in the Azure portal.</span></span><br><br>

| <span data-ttu-id="d5439-115">Element Runbook</span><span class="sxs-lookup"><span data-stu-id="d5439-115">Runbook</span></span> | <span data-ttu-id="d5439-116">Opis</span><span class="sxs-lookup"><span data-stu-id="d5439-116">Description</span></span> |
| --- | --- |
| <span data-ttu-id="d5439-117">Remove-ResourceGroup</span><span class="sxs-lookup"><span data-stu-id="d5439-117">Remove-ResourceGroup</span></span> |<span data-ttu-id="d5439-118">Umożliwia usunięcie z subskrypcji grup zasobów (jednej lub wielu) platformy Azure wraz z powiązanymi zasobami.</span><span class="sxs-lookup"><span data-stu-id="d5439-118">Removes one or more Azure resource groups and associated resources from the subscription.</span></span> |

<br>
<span data-ttu-id="d5439-119">Dla tego elementu Runbook zdefiniowano następujące parametry wejściowe:</span><span class="sxs-lookup"><span data-stu-id="d5439-119">The following input parameters are defined for this runbook:</span></span>

| <span data-ttu-id="d5439-120">Parametr</span><span class="sxs-lookup"><span data-stu-id="d5439-120">Parameter</span></span> | <span data-ttu-id="d5439-121">Opis</span><span class="sxs-lookup"><span data-stu-id="d5439-121">Description</span></span> |
| --- | --- |
| <span data-ttu-id="d5439-122">NameFilter (Filtr nazw) (wymagany)</span><span class="sxs-lookup"><span data-stu-id="d5439-122">NameFilter (Required)</span></span> |<span data-ttu-id="d5439-123">Określa filtr nazw w celu ograniczenia grup zasobów, które mają zostać usunięte.</span><span class="sxs-lookup"><span data-stu-id="d5439-123">Specifies a name filter to limit the resource groups that you intend on deleting.</span></span> <span data-ttu-id="d5439-124">Można przekazać wiele wartości za pomocą listy rozdzielanej przecinkami.</span><span class="sxs-lookup"><span data-stu-id="d5439-124">You can pass multiple values using a comma-separated list.</span></span><br><span data-ttu-id="d5439-125">Filtr nie uwzględnia wielkości liter i pokaże wszystkie grupy zasobów zawierające dany ciąg.</span><span class="sxs-lookup"><span data-stu-id="d5439-125">The filter is not case-sensitive and will match any resource group that contains the string.</span></span> |
| <span data-ttu-id="d5439-126">PreviewMode (Tryb podglądu) (opcjonalny)</span><span class="sxs-lookup"><span data-stu-id="d5439-126">PreviewMode (Optional)</span></span> |<span data-ttu-id="d5439-127">Umożliwia uruchomienie elementu Runbook w celu sprawdzenia, które grupy zasobów zostaną usunięte, ale bez podejmowania żadnych działań.</span><span class="sxs-lookup"><span data-stu-id="d5439-127">Executes the runbook to see which resource groups would be deleted, but takes no action.</span></span><br><span data-ttu-id="d5439-128">Wartość domyślna równa **true** (prawda) pozwala zapobiec przypadkowemu usunięciu jednej lub większej liczby grup zasobów przekazanych do elementu Runbook.</span><span class="sxs-lookup"><span data-stu-id="d5439-128">The default is **true** to help avoid accidental deletion of one or more resource groups passed to the runbook.</span></span> |

## <a name="install-and-configure-this-scenario"></a><span data-ttu-id="d5439-129">Instalowanie i konfigurowanie tego scenariusza</span><span class="sxs-lookup"><span data-stu-id="d5439-129">Install and configure this scenario</span></span>
### <a name="prerequisites"></a><span data-ttu-id="d5439-130">Wymagania wstępne</span><span class="sxs-lookup"><span data-stu-id="d5439-130">Prerequisites</span></span>
<span data-ttu-id="d5439-131">Uwierzytelnianie elementu Runbook odbywa się przy użyciu [konta Uruchom jako platformy Azure](automation-sec-configure-azure-runas-account.md).</span><span class="sxs-lookup"><span data-stu-id="d5439-131">This runbook authenticates using the [Azure Run As account](automation-sec-configure-azure-runas-account.md).</span></span>    

### <a name="install-and-publish-the-runbooks"></a><span data-ttu-id="d5439-132">Instalowanie i publikowanie elementów Runbook</span><span class="sxs-lookup"><span data-stu-id="d5439-132">Install and publish the runbooks</span></span>
<span data-ttu-id="d5439-133">Po pobraniu elementu Runbook można go zaimportować za pomocą [procedury importowania elementów Runbook](automation-creating-importing-runbook.md#importing-a-runbook-from-a-file-into-azure-automation).</span><span class="sxs-lookup"><span data-stu-id="d5439-133">After you download the runbook, you can import it by using the procedure in [Importing runbook procedures](automation-creating-importing-runbook.md#importing-a-runbook-from-a-file-into-azure-automation).</span></span> <span data-ttu-id="d5439-134">Po pomyślnym zaimportowaniu elementu Runbook do konta usługi Automation należy go opublikować.</span><span class="sxs-lookup"><span data-stu-id="d5439-134">Publish the runbook after it has been successfully imported into your Automation account.</span></span>

## <a name="using-the-runbook"></a><span data-ttu-id="d5439-135">Używanie elementu Runbook</span><span class="sxs-lookup"><span data-stu-id="d5439-135">Using the runbook</span></span>
<span data-ttu-id="d5439-136">Poniższe instrukcje umożliwiają uruchomienie tego elementu Runbook i zapoznanie się z jego działaniem.</span><span class="sxs-lookup"><span data-stu-id="d5439-136">The following steps will walk you through the execution of this runbook and help you become familiar with how it works.</span></span> <span data-ttu-id="d5439-137">Ten przykład obejmuje tylko testowanie elementu Runbook bez faktycznego usuwania grupy zasobów.</span><span class="sxs-lookup"><span data-stu-id="d5439-137">You will only be testing the runbook in this example, not actually deleting the resource group.</span></span>  

1. <span data-ttu-id="d5439-138">W witrynie Azure Portal otwórz konto usługi Automation i kliknij kafelek **Elementy Runbook**.</span><span class="sxs-lookup"><span data-stu-id="d5439-138">From the Azure portal, open your Automation account and click **Runbooks**.</span></span>
2. <span data-ttu-id="d5439-139">Wybierz element Runbook **Remove-ResourceGroup** i kliknij pozycję **Uruchom**.</span><span class="sxs-lookup"><span data-stu-id="d5439-139">Select the **Remove-ResourceGroup** runbook and click **Start**.</span></span>
3. <span data-ttu-id="d5439-140">Uruchomienie elementu Runbook powoduje otwarcie bloku **Uruchom element Runbook**, w którym można skonfigurować parametry.</span><span class="sxs-lookup"><span data-stu-id="d5439-140">When you start the runbook, the **Start Runbook** blade opens and you can configure the parameters.</span></span> <span data-ttu-id="d5439-141">Wprowadź nazwy grup zasobów w subskrypcji, której możesz użyć do testów bez powodowania żadnych szkód w razie przypadkowego usunięcia.</span><span class="sxs-lookup"><span data-stu-id="d5439-141">Enter the names of resource groups in your subscription that you can use for testing and will cause no harm if accidentally deleted.</span></span><br> <span data-ttu-id="d5439-142">![Parametry elementu Runbook Remove-ResouceGroup](media/automation-scenario-remove-resourcegroup/remove-resourcegroup-input-parameters.png)</span><span class="sxs-lookup"><span data-stu-id="d5439-142">![Remove-ResouceGroup parameters](media/automation-scenario-remove-resourcegroup/remove-resourcegroup-input-parameters.png)</span></span>

   > [!NOTE]
   > <span data-ttu-id="d5439-143">Aby uniknąć usunięcia wybranych grup zasobów, upewnij się, że parametr **Previewmode** (Tryb podglądu) ma wartość **true** (prawda).</span><span class="sxs-lookup"><span data-stu-id="d5439-143">Make sure **Previewmode** is set to **true** to avoid deleting the selected resource groups.</span></span>  <span data-ttu-id="d5439-144">**Pamiętaj**, że element Runbook nie usunie grupy zasobów zawierającej konto usługi Automation, na którym jest uruchomiony ten element Runbook.</span><span class="sxs-lookup"><span data-stu-id="d5439-144">**Note** that this runbook will not remove the resource group that contains the Automation account that is running this runbook.</span></span>  
   >
   >
4. <span data-ttu-id="d5439-145">Po skonfigurowaniu wszystkich wartości parametrów kliknij przycisk **OK**. Element Runbook zostanie umieszczony w kolejce do wykonania.</span><span class="sxs-lookup"><span data-stu-id="d5439-145">After you have configured all the parameter values, click **OK**, and the runbook will be queued for execution.</span></span>  

<span data-ttu-id="d5439-146">Aby wyświetlić szczegóły zadania elementu Runbook **Remove-ResourceGroup** w witrynie Azure Portal, kliknij kafelek **Zadania** w elemencie Runbook.</span><span class="sxs-lookup"><span data-stu-id="d5439-146">To view the details of the **Remove-ResourceGroup** runbook job in the Azure portal, select **Jobs** in the runbook.</span></span> <span data-ttu-id="d5439-147">W podsumowaniu zadania są wyświetlane parametry wejściowe i dane ze strumienia wyjściowego oraz ogólne informacje o zadaniu wraz z wygenerowanymi wyjątkami.</span><span class="sxs-lookup"><span data-stu-id="d5439-147">The job summary displays the input parameters and the output stream in addition to general information about the job and any exceptions that occurred.</span></span><br> <span data-ttu-id="d5439-148">![Stan zadania elementu Runbook Remove-ResourceGroup](media/automation-scenario-remove-resourcegroup/remove-resourcegroup-runbook-job-status.png).</span><span class="sxs-lookup"><span data-stu-id="d5439-148">![Remove-ResourceGroup runbook job status](media/automation-scenario-remove-resourcegroup/remove-resourcegroup-runbook-job-status.png).</span></span>

<span data-ttu-id="d5439-149">W obszarze **Podsumowanie zadania** są widoczne ostrzeżenia i komunikaty o błędach oraz dane ze strumienia wyjściowego.</span><span class="sxs-lookup"><span data-stu-id="d5439-149">The **Job Summary** includes messages from the output, warning, and error streams.</span></span> <span data-ttu-id="d5439-150">Kliknij kafelek **Dane wyjściowe**, aby wyświetlić szczegółowe wyniki wykonania elementu Runbook.</span><span class="sxs-lookup"><span data-stu-id="d5439-150">Select **Output** to view detailed results from the runbook execution.</span></span><br> <span data-ttu-id="d5439-151">![Dane wyjściowe elementu Runbook Remove-ResourceGroup](media/automation-scenario-remove-resourcegroup/remove-resourcegroup-runbook-job-output.png)</span><span class="sxs-lookup"><span data-stu-id="d5439-151">![Remove-ResourceGroup runbook output results](media/automation-scenario-remove-resourcegroup/remove-resourcegroup-runbook-job-output.png)</span></span>

## <a name="next-steps"></a><span data-ttu-id="d5439-152">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="d5439-152">Next steps</span></span>
* <span data-ttu-id="d5439-153">Aby rozpocząć tworzenie własnego elementu Runbook, zobacz artykuł [Creating or importing a runbook in Azure Automation](automation-creating-importing-runbook.md) (Tworzenie lub importowanie elementu Runbook w usłudze Azure Automation).</span><span class="sxs-lookup"><span data-stu-id="d5439-153">To get started creating your own runbook, see [Creating or importing a runbook in Azure Automation](automation-creating-importing-runbook.md).</span></span>
* <span data-ttu-id="d5439-154">Aby rozpocząć pracę z elementami Runbook przepływu pracy programu PowerShell, zobacz artykuł [Mój pierwszy element Runbook przepływu pracy programu PowerShell](automation-first-runbook-textual.md).</span><span class="sxs-lookup"><span data-stu-id="d5439-154">To get started with PowerShell Workflow runbooks, see [My first PowerShell Workflow runbook](automation-first-runbook-textual.md).</span></span>
