---
title: "Obsługa w graficznych elementów runbook usługi Automatyzacja Azure aaaError | Dokumentacja firmy Microsoft"
description: "W tym artykule opisano sposób obsługi logiki w graficznych elementów runbook usługi Automatyzacja Azure tooimplement błędów."
services: automation
documentationcenter: 
author: mgoedtel
manager: jwhit
editor: tysonn
ms.assetid: 
ms.service: automation
ms.workload: tbd
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: get-started-article
ms.date: 12/26/2016
ms.author: magoedte
ms.openlocfilehash: b9ff01361d2ebd9c0174b074a7a290b1cc2fd1c8
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="error-handling-in-azure-automation-graphical-runbooks"></a><span data-ttu-id="8842a-103">Obsługa błędów w graficznych elementach Runbook w usłudze Azure Automation</span><span class="sxs-lookup"><span data-stu-id="8842a-103">Error handling in Azure Automation graphical runbooks</span></span>

<span data-ttu-id="8842a-104">Tooconsider główny projekt klucza runbook identyfikuje różnych problemów, które mogą wystąpić elementu runbook.</span><span class="sxs-lookup"><span data-stu-id="8842a-104">A key runbook design principal tooconsider is identifying different issues that a runbook might experience.</span></span> <span data-ttu-id="8842a-105">Przykładowe problemy to powodzenie, oczekiwane stany błędu i nieoczekiwane warunki błędu.</span><span class="sxs-lookup"><span data-stu-id="8842a-105">These issues can include success, expected error states, and unexpected error conditions.</span></span>

<span data-ttu-id="8842a-106">Elementy runbook powinny zawierać obsługę błędów.</span><span class="sxs-lookup"><span data-stu-id="8842a-106">Runbooks should include error handling.</span></span> <span data-ttu-id="8842a-107">toovalidate hello dane wyjściowe działania lub obsługi błędu z graficznych elementów runbook, można użyć działania kodu programu Windows PowerShell, zdefiniuj logikę warunkową hello łącze dane wyjściowe działania hello lub zastosowania innej metody.</span><span class="sxs-lookup"><span data-stu-id="8842a-107">toovalidate hello output of an activity or handle an error with graphical runbooks, you could use a Windows PowerShell code activity, define conditional logic on hello output link of hello activity, or apply another method.</span></span>          

<span data-ttu-id="8842a-108">Często w przypadku błąd niepowodujący, która występuje podczas działania elementu runbook, niezależnie od błędu hello są przetwarzane działalności, która jest zgodna.</span><span class="sxs-lookup"><span data-stu-id="8842a-108">Often, if there is a non-terminating error that occurs with a runbook activity, any activity that follows is processed regardless of hello error.</span></span> <span data-ttu-id="8842a-109">Błąd Hello jest prawdopodobnie toogenerate wyjątek, ale toorun nadal uzyskuje zezwolenie na powitania następnego działania.</span><span class="sxs-lookup"><span data-stu-id="8842a-109">hello error is likely toogenerate an exception, but hello next activity is still allowed toorun.</span></span> <span data-ttu-id="8842a-110">Jest to hello sposób, że programu PowerShell jest zaprojektowana toohandle błędy.</span><span class="sxs-lookup"><span data-stu-id="8842a-110">This is hello way that PowerShell is designed toohandle errors.</span></span>    

<span data-ttu-id="8842a-111">Przerywanie Hello typów błędów środowiska PowerShell, które mogą wystąpić podczas wykonywania lub niepowodujący.</span><span class="sxs-lookup"><span data-stu-id="8842a-111">hello types of PowerShell errors that can occur during execution are terminating or non-terminating.</span></span> <span data-ttu-id="8842a-112">Hello różnice między Trwa przerywanie działania i niepowodujący błędy są następujące:</span><span class="sxs-lookup"><span data-stu-id="8842a-112">hello differences between terminating and non-terminating errors are as follows:</span></span>

* <span data-ttu-id="8842a-113">**Trwa przerywanie wykonywania błąd**: poważny błąd podczas wykonywania, która całkowicie zatrzymuje hello polecenia (lub wykonywanie skryptu).</span><span class="sxs-lookup"><span data-stu-id="8842a-113">**Terminating error**: A serious error during execution that halts hello command (or script execution) completely.</span></span> <span data-ttu-id="8842a-114">Do przykładów należą nieistniejące polecenia cmdlet, błędy składniowe, które uniemożliwiają wykonanie polecenia cmdlet, lub inne błędy krytyczne.</span><span class="sxs-lookup"><span data-stu-id="8842a-114">Examples include non-existent cmdlets, syntax errors that prevent a cmdlet from running, or other fatal errors.</span></span>

* <span data-ttu-id="8842a-115">**Przerywanie bez błędu**: z systemem innym niż poważny błąd, który umożliwia wykonanie toocontinue pomimo awarii hello.</span><span class="sxs-lookup"><span data-stu-id="8842a-115">**Non-terminating error**: A non-serious error that allows execution toocontinue despite hello failure.</span></span> <span data-ttu-id="8842a-116">Do przykładów należą błędy operacyjne, takie jak niemożność odnalezienia pliku i problemy z uprawnieniami.</span><span class="sxs-lookup"><span data-stu-id="8842a-116">Examples include operational errors such as file not found errors and permissions problems.</span></span>

<span data-ttu-id="8842a-117">Graficzne elementy runbook automatyzacji Azure ulepszono z obsługi błędów tooinclude możliwości hello.</span><span class="sxs-lookup"><span data-stu-id="8842a-117">Azure Automation graphical runbooks have been improved with hello capability tooinclude error handling.</span></span> <span data-ttu-id="8842a-118">Teraz możesz przekształcać wyjątki w błędy niepowodujące zakończenia oraz tworzyć linki błędów między działaniami.</span><span class="sxs-lookup"><span data-stu-id="8842a-118">You can now turn exceptions into non-terminating errors and create error links between activities.</span></span> <span data-ttu-id="8842a-119">Ten proces umożliwia twórcy elementu runbook toocatch błędy i Zarządzaj warunkami rzeczywista lub nieoczekiwany.</span><span class="sxs-lookup"><span data-stu-id="8842a-119">This process allows a runbook author toocatch errors and manage realized or unexpected conditions.</span></span>  

## <a name="when-toouse-error-handling"></a><span data-ttu-id="8842a-120">Podczas obsługi błędów toouse</span><span class="sxs-lookup"><span data-stu-id="8842a-120">When toouse error handling</span></span>

<span data-ttu-id="8842a-121">Zawsze, gdy jest krytyczny działania, która zgłasza błąd lub wyjątek, jest ważne tooprevent hello następne działanie w elemencie runbook toohandle i przetwarzania błędu hello odpowiednio.</span><span class="sxs-lookup"><span data-stu-id="8842a-121">Whenever there is a critical activity that throws an error or exception, it's important tooprevent hello next activity in your runbook from processing and toohandle hello error appropriately.</span></span> <span data-ttu-id="8842a-122">Jest to bardzo ważne zwłaszcza wtedy, gdy Twoje elementy runbook obsługują proces operacji usługi lub biznesowy.</span><span class="sxs-lookup"><span data-stu-id="8842a-122">This is especially critical when your runbooks are supporting a business or service operations process.</span></span>

<span data-ttu-id="8842a-123">Dla każdego działania, które mogą wytwarzać błąd hello Autor elementów runbook można dodać Błąd łącza tooany innych działań.</span><span class="sxs-lookup"><span data-stu-id="8842a-123">For each activity that can produce an error, hello runbook author can add an error link pointing tooany other activity.</span></span>  <span data-ttu-id="8842a-124">działanie docelowe Hello mogą być dowolnego typu, łącznie z czynności kodu wywoływanie polecenia cmdlet, wywoływania innego elementu runbook i tak dalej.</span><span class="sxs-lookup"><span data-stu-id="8842a-124">hello destination activity can be of any type, including code activities, invoking a cmdlet, invoking another runbook, and so on.</span></span>

<span data-ttu-id="8842a-125">Ponadto działania docelowego hello również może mieć linki wychodzące.</span><span class="sxs-lookup"><span data-stu-id="8842a-125">In addition, hello destination activity can also have outgoing links.</span></span> <span data-ttu-id="8842a-126">Mogą to być zwykłe linki lub linki błędów.</span><span class="sxs-lookup"><span data-stu-id="8842a-126">These links can be regular links or error links.</span></span> <span data-ttu-id="8842a-127">Oznacza to, że autor elementów runbook hello można zaimplementować złożonej logiki obsługi błędów bez ponowne sortowanie tooa działania kodu.</span><span class="sxs-lookup"><span data-stu-id="8842a-127">This means hello runbook author can implement complex error-handling logic without resorting tooa code activity.</span></span> <span data-ttu-id="8842a-128">Witaj zalecane rozwiązaniem jest toocreate dedykowanych runbook obsługi błędów z typowych funkcji, ale nie jest obowiązkowe.</span><span class="sxs-lookup"><span data-stu-id="8842a-128">hello recommended practice is toocreate a dedicated error-handling runbook with common functionality, but it's not mandatory.</span></span> <span data-ttu-id="8842a-129">Logika obsługi błędów w działaniu kodu programu PowerShell, który nie jest hello tylko opcja.</span><span class="sxs-lookup"><span data-stu-id="8842a-129">Error-handling logic in a PowerShell code activity it isn't hello only option.</span></span>  

<span data-ttu-id="8842a-130">Na przykład rozważmy elementu runbook, który próbuje toostart maszynę Wirtualną i zainstalować aplikację na nim.</span><span class="sxs-lookup"><span data-stu-id="8842a-130">For example, consider a runbook that tries toostart a VM and install an application on it.</span></span> <span data-ttu-id="8842a-131">Jeśli hello maszyny Wirtualnej nie uruchamia się poprawnie, wykonuje dwie czynności:</span><span class="sxs-lookup"><span data-stu-id="8842a-131">If hello VM doesn't start correctly, it performs two actions:</span></span>

1. <span data-ttu-id="8842a-132">Wysyła powiadomienie o tym problemie.</span><span class="sxs-lookup"><span data-stu-id="8842a-132">It sends a notification about this problem.</span></span>
2. <span data-ttu-id="8842a-133">Uruchamia inny element runbook, który automatycznie aprowizuje nową maszynę wirtualną.</span><span class="sxs-lookup"><span data-stu-id="8842a-133">It starts another runbook that automatically provisions a new VM instead.</span></span>

<span data-ttu-id="8842a-134">Jedno rozwiązanie jest toohave łącza błąd działania tooan dojść do kroku 1.</span><span class="sxs-lookup"><span data-stu-id="8842a-134">One solution is toohave an error link pointing tooan activity that handles step one.</span></span> <span data-ttu-id="8842a-135">Na przykład można połączyć hello **Write-Warning** działania tooan polecenia cmdlet w kroku 2, takich jak hello **Start AzureRmAutomationRunbook** polecenia cmdlet.</span><span class="sxs-lookup"><span data-stu-id="8842a-135">For example, you could connect hello **Write-Warning** cmdlet tooan activity for step two, such as hello **Start-AzureRmAutomationRunbook** cmdlet.</span></span>

<span data-ttu-id="8842a-136">To zachowanie do użycia w wielu elementów runbook można również generalize umieszczenie tych dwóch działań w oddzielnych błąd obsługi runbook i poniższe wskazówki hello sugerowane wcześniej.</span><span class="sxs-lookup"><span data-stu-id="8842a-136">You could also generalize this behavior for use in many runbooks by putting these two activities in a separate error handling runbook and following hello guidance suggested earlier.</span></span> <span data-ttu-id="8842a-137">Przed wywołaniem elementu runbook to obsługa błędów, można utworzyć niestandardowe wiadomość hello danych w oryginalnej runbook hello, a następnie przekaż go jako element parametru toohello obsługi błędów.</span><span class="sxs-lookup"><span data-stu-id="8842a-137">Before calling this error-handling runbook, you could construct a custom message from hello data in hello original runbook, and then pass it as a parameter toohello error-handling runbook.</span></span>

## <a name="how-toouse-error-handling"></a><span data-ttu-id="8842a-138">Sposób obsługi błędów toouse</span><span class="sxs-lookup"><span data-stu-id="8842a-138">How toouse error handling</span></span>

<span data-ttu-id="8842a-139">Każde działanie ma ustawienie konfiguracji umożliwiające przekształcenie wyjątków w błędy niepowodujące zakończenia.</span><span class="sxs-lookup"><span data-stu-id="8842a-139">Each activity has a configuration setting that turns exceptions into non-terminating errors.</span></span> <span data-ttu-id="8842a-140">To ustawienie jest domyślnie wyłączone.</span><span class="sxs-lookup"><span data-stu-id="8842a-140">By default, this setting is disabled.</span></span> <span data-ttu-id="8842a-141">Zaleca się włączenie tego ustawienia na żadnej aktywności, w którym ma toohandle błędy.</span><span class="sxs-lookup"><span data-stu-id="8842a-141">We recommend that you enable this setting on any activity where you want toohandle errors.</span></span>  

<span data-ttu-id="8842a-142">Przez włączenie tej konfiguracji, jest zapewnienie są traktowane jako błędy niepowodujący zakończenia i niepowodujący błędy w działaniu hello i mogą być obsługiwane z łączem błędu.</span><span class="sxs-lookup"><span data-stu-id="8842a-142">By enabling this configuration, you are assuring that both terminating and non-terminating errors in hello activity are handled as non-terminating errors, and can be handled with an error link.</span></span>  

<span data-ttu-id="8842a-143">Po skonfigurowaniu tego ustawienia, możesz utworzyć działanie, które obsługuje hello błędu.</span><span class="sxs-lookup"><span data-stu-id="8842a-143">After configuring this setting, you create an activity that handles hello error.</span></span> <span data-ttu-id="8842a-144">Jeśli działanie tworzy wszelkie błędy, następnie hello wychodzących błąd, który łączy zostaną wykonane, a hello regularnego połączenia nie są nawet wtedy, gdy działanie hello tworzy także regularne danych wyjściowych.</span><span class="sxs-lookup"><span data-stu-id="8842a-144">If an activity produces any error, then hello outgoing error links are followed, and hello regular links are not, even if hello activity produces regular output as well.</span></span><br><br> ![Przykład linka błędu elementu runbook usługi Automation](media/automation-runbook-graphical-error-handling/error-link-example.png)

<span data-ttu-id="8842a-146">W hello poniższy przykład element runbook pobiera zmienna, która zawiera nazwę komputera hello maszyny wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="8842a-146">In hello following example, a runbook retrieves a variable that contains hello computer name of a virtual machine.</span></span> <span data-ttu-id="8842a-147">Podejmuje maszyny wirtualnej hello toostart z hello następnego działania.</span><span class="sxs-lookup"><span data-stu-id="8842a-147">It then attempts toostart hello virtual machine with hello next activity.</span></span><br><br> ![Przykład obsługi błędu elementu runbook usługi Automation](media/automation-runbook-graphical-error-handling/runbook-example-error-handling.png)<br><br>      

<span data-ttu-id="8842a-149">Witaj **Get-AutomationVariable** działania i **Start AzureRmVm** są tooerrors wyjątki tooconvert skonfigurowany.</span><span class="sxs-lookup"><span data-stu-id="8842a-149">hello **Get-AutomationVariable** activity and **Start-AzureRmVm** are configured tooconvert exceptions tooerrors.</span></span>  <span data-ttu-id="8842a-150">Jeśli występują problemy z uzyskiwaniem hello zmiennej lub początkowy hello maszyny Wirtualnej, a następnie generowane są błędy.</span><span class="sxs-lookup"><span data-stu-id="8842a-150">If there are problems getting hello variable or starting hello VM, then errors are generated.</span></span><br><br> <span data-ttu-id="8842a-151">![Ustawienia działania obsługi błędu elementu runbook usługi Automation](media/automation-runbook-graphical-error-handling/activity-blade-convertexception-option.png)</span><span class="sxs-lookup"><span data-stu-id="8842a-151">![Automation runbook error-handling activity settings](media/automation-runbook-graphical-error-handling/activity-blade-convertexception-option.png)</span></span>

<span data-ttu-id="8842a-152">Błąd łącza przepływać z tych działań tooa pojedynczego **błąd zarządzania** działania (działanie kodu).</span><span class="sxs-lookup"><span data-stu-id="8842a-152">Error links flow from these activities tooa single **error management** activity (a code activity).</span></span> <span data-ttu-id="8842a-153">To działanie jest konfigurowana proste wyrażenie programu PowerShell, który używa hello *Throw* toostop — słowo kluczowe przetwarzania, wraz z *$Error.Exception.Message* tooget hello komunikat, który opisuje hello Bieżący wyjątek.</span><span class="sxs-lookup"><span data-stu-id="8842a-153">This activity is configured with a simple PowerShell expression that uses hello *Throw* keyword toostop processing, along with *$Error.Exception.Message* tooget hello message that describes hello current exception.</span></span><br><br> <span data-ttu-id="8842a-154">![Przykład kodu obsługi błędu elementu runbook usługi Automation](media/automation-runbook-graphical-error-handling/runbook-example-error-handling-code.png)</span><span class="sxs-lookup"><span data-stu-id="8842a-154">![Automation runbook error-handling code example](media/automation-runbook-graphical-error-handling/runbook-example-error-handling-code.png)</span></span>


## <a name="next-steps"></a><span data-ttu-id="8842a-155">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="8842a-155">Next steps</span></span>

* <span data-ttu-id="8842a-156">toolearn więcej informacji na temat łącza i typy łączy w graficznych elementów runbook, zobacz [tworzenia graficznego automatyzacji Azure](automation-graphical-authoring-intro.md#links-and-workflow).</span><span class="sxs-lookup"><span data-stu-id="8842a-156">toolearn more about links and link types in graphical runbooks, see [Graphical authoring in Azure Automation](automation-graphical-authoring-intro.md#links-and-workflow).</span></span>

* <span data-ttu-id="8842a-157">więcej informacji o wykonanie elementu runbook, w jaki sposób toomonitor zadań i inne szczegółowe informacje techniczne, zobacz toolearn [śledzić zadania elementu runbook](automation-runbook-execution.md).</span><span class="sxs-lookup"><span data-stu-id="8842a-157">toolearn more about runbook execution, how toomonitor runbook jobs, and other technical details, see [Track a runbook job](automation-runbook-execution.md).</span></span>
