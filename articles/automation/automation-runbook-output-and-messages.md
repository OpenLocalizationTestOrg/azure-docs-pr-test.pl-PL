---
title: "Element Runbook dane wyjściowe i komunikaty w automatyzacji Azure | Dokumentacja firmy Microsoft"
description: "Opisuje sposób tworzenia i pobrać dane wyjściowe i błąd komunikaty z elementów runbook automatyzacji Azure."
services: automation
documentationcenter: 
author: mgoedtel
manager: jwhit
editor: tysonn
ms.assetid: 13a414f5-0e2c-4be2-9558-a3e3ec84b6b2
ms.service: automation
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 11/11/2016
ms.author: magoedte;bwren
ms.openlocfilehash: 6f01f97e38aa271034741c8a5e2f8057ab61fcd7
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 07/11/2017
---
# <a name="runbook-output-and-messages-in-azure-automation"></a><span data-ttu-id="e3ddf-103">Element Runbook danych wyjściowych i komunikatów w usłudze Automatyzacja Azure</span><span class="sxs-lookup"><span data-stu-id="e3ddf-103">Runbook output and messages in Azure Automation</span></span>
<span data-ttu-id="e3ddf-104">Większość elementów runbook automatyzacji Azure będzie miał jakiegoś typu danych wyjściowych, np. komunikat o błędzie dla użytkownika lub obiekt złożony przeznaczony do użycia przez inny przepływ pracy.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-104">Most Azure Automation runbooks will have some form of output such as an error message to the user or a complex object intended to be consumed by another workflow.</span></span> <span data-ttu-id="e3ddf-105">Środowisko Windows PowerShell udostępnia [wiele strumieni](http://blogs.technet.com/heyscriptingguy/archive/2014/03/30/understanding-streams-redirection-and-write-host-in-powershell.aspx) do wysyłania danych wyjściowych w skrypcie lub przepływ pracy.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-105">Windows PowerShell provides [multiple streams](http://blogs.technet.com/heyscriptingguy/archive/2014/03/30/understanding-streams-redirection-and-write-host-in-powershell.aspx) to send output from a script or workflow.</span></span> <span data-ttu-id="e3ddf-106">Automatyzacja Azure działa z każdym z tych strumieni inaczej, a należy stosować najlepsze rozwiązania dotyczące sposobu używania każdej podczas tworzenia elementu runbook.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-106">Azure Automation works with each of these streams differently, and you should follow best practices for how to use each when you are creating a runbook.</span></span>

<span data-ttu-id="e3ddf-107">Poniższa tabela zawiera krótki opis każdego strumienia i jego zachowanie w portalu zarządzania Azure, zarówno podczas uruchamiania opublikowanego elementu runbook, jak i podczas [testowania elementu runbook](automation-testing-runbook.md).</span><span class="sxs-lookup"><span data-stu-id="e3ddf-107">The following table provides a brief description of each of the streams and their behavior in the Azure Management Portal both when running a published runbook and when [testing a runbook](automation-testing-runbook.md).</span></span> <span data-ttu-id="e3ddf-108">W kolejnych sekcjach znajdują się dodatkowe informacje na temat każdego strumienia.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-108">Further details on each stream are provided in subsequent sections.</span></span>

| <span data-ttu-id="e3ddf-109">Strumień</span><span class="sxs-lookup"><span data-stu-id="e3ddf-109">Stream</span></span> | <span data-ttu-id="e3ddf-110">Opis</span><span class="sxs-lookup"><span data-stu-id="e3ddf-110">Description</span></span> | <span data-ttu-id="e3ddf-111">Opublikowano</span><span class="sxs-lookup"><span data-stu-id="e3ddf-111">Published</span></span> | <span data-ttu-id="e3ddf-112">Testowanie</span><span class="sxs-lookup"><span data-stu-id="e3ddf-112">Test</span></span> |
|:--- |:--- |:--- |:--- |
| <span data-ttu-id="e3ddf-113">Dane wyjściowe</span><span class="sxs-lookup"><span data-stu-id="e3ddf-113">Output</span></span> |<span data-ttu-id="e3ddf-114">Obiekty, które mają być używane przez inne elementy runbook.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-114">Objects intended to be consumed by other runbooks.</span></span> |<span data-ttu-id="e3ddf-115">Zapisywany w historii zadania.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-115">Written to the job history.</span></span> |<span data-ttu-id="e3ddf-116">Wyświetlane w okienku danych wyjściowych testu.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-116">Displayed in the Test Output Pane.</span></span> |
| <span data-ttu-id="e3ddf-117">Ostrzeżenie</span><span class="sxs-lookup"><span data-stu-id="e3ddf-117">Warning</span></span> |<span data-ttu-id="e3ddf-118">Komunikat ostrzegawczy przeznaczony dla użytkownika.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-118">Warning message intended for the user.</span></span> |<span data-ttu-id="e3ddf-119">Zapisywany w historii zadania.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-119">Written to the job history.</span></span> |<span data-ttu-id="e3ddf-120">Wyświetlane w okienku danych wyjściowych testu.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-120">Displayed in the Test Output Pane.</span></span> |
| <span data-ttu-id="e3ddf-121">Błąd</span><span class="sxs-lookup"><span data-stu-id="e3ddf-121">Error</span></span> |<span data-ttu-id="e3ddf-122">Komunikat o błędzie przeznaczony dla użytkownika.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-122">Error message intended for the user.</span></span> <span data-ttu-id="e3ddf-123">W odróżnieniu od wyjątek element runbook kontynuuje po komunikat o błędzie domyślnie.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-123">Unlike an exception, the runbook continues after an error message by default.</span></span> |<span data-ttu-id="e3ddf-124">Zapisywany w historii zadania.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-124">Written to the job history.</span></span> |<span data-ttu-id="e3ddf-125">Wyświetlane w okienku danych wyjściowych testu.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-125">Displayed in the Test Output Pane.</span></span> |
| <span data-ttu-id="e3ddf-126">Pełne</span><span class="sxs-lookup"><span data-stu-id="e3ddf-126">Verbose</span></span> |<span data-ttu-id="e3ddf-127">Komunikaty z informacjami ogólne lub debugowania.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-127">Messages providing general or debugging information.</span></span> |<span data-ttu-id="e3ddf-128">Zapisywany w historii zadań tylko wtedy, gdy jest włączone pełne rejestrowanie dla elementu runbook.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-128">Written to job history only if verbose logging is turned on for the runbook.</span></span> |<span data-ttu-id="e3ddf-129">Wyświetlane w okienku danych wyjściowych testu tylko wtedy, gdy $VerbosePreference ma ustawioną wartość Kontynuuj w elemencie runbook.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-129">Displayed in the Test Output pane only if $VerbosePreference is set to Continue in the runbook.</span></span> |
| <span data-ttu-id="e3ddf-130">Postęp</span><span class="sxs-lookup"><span data-stu-id="e3ddf-130">Progress</span></span> |<span data-ttu-id="e3ddf-131">Rekordy są generowane automatycznie przed i po każdym działaniu elementu runbook.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-131">Records automatically generated before and after each activity in the runbook.</span></span> <span data-ttu-id="e3ddf-132">Element runbook nie powinny podejmować próby tworzenia swoich własnych rekordów postępu, ponieważ są one przeznaczone dla użytkownika interaktywnego.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-132">The runbook should not attempt to create its own progress records since they are intended for an interactive user.</span></span> |<span data-ttu-id="e3ddf-133">Zapisywany w historii zadań tylko wtedy, gdy dla elementu runbook jest włączone rejestrowanie postępu.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-133">Written to job history only if progress logging is turned on for the runbook.</span></span> |<span data-ttu-id="e3ddf-134">Nie są wyświetlane w okienku danych wyjściowych testu.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-134">Not displayed in the Test Output Pane.</span></span> |
| <span data-ttu-id="e3ddf-135">Debugowanie</span><span class="sxs-lookup"><span data-stu-id="e3ddf-135">Debug</span></span> |<span data-ttu-id="e3ddf-136">Komunikaty przeznaczone dla użytkownika interaktywnego.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-136">Messages intended for an interactive user.</span></span> <span data-ttu-id="e3ddf-137">Nie można używać w elementach runbook.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-137">Should not be used in runbooks.</span></span> |<span data-ttu-id="e3ddf-138">Nie jest zapisywany w historii zadań.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-138">Not written to job history.</span></span> |<span data-ttu-id="e3ddf-139">Nie zapisać w okienku danych wyjściowych testu.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-139">Not written to Test Output Pane.</span></span> |

## <a name="output-stream"></a><span data-ttu-id="e3ddf-140">Strumień wyjściowy</span><span class="sxs-lookup"><span data-stu-id="e3ddf-140">Output stream</span></span>
<span data-ttu-id="e3ddf-141">Strumień wyjściowy jest przeznaczony dla danych wyjściowych obiektów utworzonych przy użyciu skryptu lub przepływu pracy po uruchomieniu poprawnie.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-141">The Output stream is intended for output of objects created by a script or workflow when it runs correctly.</span></span> <span data-ttu-id="e3ddf-142">W automatyzacji Azure ten strumień jest używany głównie dla obiektów, które mają być używane przez [nadrzędne elementy runbook, które wywołań bieżącego elementu runbook](automation-child-runbooks.md).</span><span class="sxs-lookup"><span data-stu-id="e3ddf-142">In Azure Automation, this stream is primarily used for objects intended to be consumed by [parent runbooks that call the current runbook](automation-child-runbooks.md).</span></span> <span data-ttu-id="e3ddf-143">Gdy zostanie [wywołać wbudowanego elementu runbook](automation-child-runbooks.md#invoking-a-child-runbook-using-inline-execution) z nadrzędnego elementu runbook, to zwróci dane strumienia wyjściowego do nadrzędnego.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-143">When you [call a runbook inline](automation-child-runbooks.md#invoking-a-child-runbook-using-inline-execution) from a parent runbook, it returns data from the output stream to the parent.</span></span> <span data-ttu-id="e3ddf-144">Strumienia wyjściowego należy używać tylko do przekazywania ogólnych informacji do użytkownika, jeśli wiadomo, że element runbook nigdy nie zostanie wywołana przez inny element runbook.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-144">You should only use the output stream to communicate general information back to the user if you know the runbook will never be called by another runbook.</span></span> <span data-ttu-id="e3ddf-145">Najlepszym rozwiązaniem, jednak należy zwykle użyć [strumień pełny](#Verbose) do przekazywania ogólnych informacji do użytkownika.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-145">As a best practice, however, you should typically use the [Verbose Stream](#Verbose) to communicate general information to the user.</span></span>

<span data-ttu-id="e3ddf-146">Można zapisać danych do strumienia wyjściowego przy użyciu [Write-Output](http://technet.microsoft.com/library/hh849921.aspx) lub umieszczając obiekt w osobnym wierszu w elemencie runbook.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-146">You can write data to the output stream using [Write-Output](http://technet.microsoft.com/library/hh849921.aspx) or by putting the object on its own line in the runbook.</span></span>

    #The following lines both write an object to the output stream.
    Write-Output –InputObject $object
    $object

### <a name="output-from-a-function"></a><span data-ttu-id="e3ddf-147">Dane wyjściowe funkcji</span><span class="sxs-lookup"><span data-stu-id="e3ddf-147">Output from a function</span></span>
<span data-ttu-id="e3ddf-148">Podczas zapisywania do strumienia wyjściowego w funkcji, który znajduje się w elemencie runbook, dane wyjściowe są przekazywane z powrotem do elementu runbook.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-148">When you write to the output stream in a function that is included in your runbook, the output is passed back to the runbook.</span></span> <span data-ttu-id="e3ddf-149">Jeśli element runbook przypisuje te dane wyjściowe do zmiennej, następnie go nie jest zapisywany do strumienia wyjściowego.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-149">If the runbook assigns that output to a variable, then it is not written to the output stream.</span></span> <span data-ttu-id="e3ddf-150">Zapisywanie do wszelkich innych strumieni w funkcji będą zapisywane do odpowiedniego strumienia elementu runbook.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-150">Writing to any other streams from within the function will write to the corresponding stream for the runbook.</span></span>

<span data-ttu-id="e3ddf-151">Rozważmy następujący przykładowy element runbook.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-151">Consider the following sample runbook.</span></span>

    Workflow Test-Runbook
    {
        Write-Verbose "Verbose outside of function" -Verbose
        Write-Output "Output outside of function"
        $functionOutput = Test-Function
        $functionOutput

    Function Test-Function
     {
        Write-Verbose "Verbose inside of function" -Verbose
        Write-Output "Output inside of function"
      }
    }


<span data-ttu-id="e3ddf-152">Strumień wyjściowy dla zadania elementu runbook należy:</span><span class="sxs-lookup"><span data-stu-id="e3ddf-152">The output stream for the runbook job would be:</span></span>

    Output inside of function
    Output outside of function

<span data-ttu-id="e3ddf-153">Strumień pełny dla zadania elementu runbook należy:</span><span class="sxs-lookup"><span data-stu-id="e3ddf-153">The verbose stream for the runbook job would be:</span></span>

    Verbose outside of function
    Verbose inside of function

<span data-ttu-id="e3ddf-154">Po opublikowaniu elementu runbook i przed rozpoczęciem pracy, należy również włączyć pełne rejestrowanie w ustawienia elementu runbook, aby uzyskać pełne strumieni wyjściowych.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-154">Once you have published the runbook and before you start it, you must also turn on Verbose logging in the runbook settings in order to get the Verbose stream output.</span></span>

### <a name="declaring-output-data-type"></a><span data-ttu-id="e3ddf-155">Deklaracyjny typ danych wyjściowych</span><span class="sxs-lookup"><span data-stu-id="e3ddf-155">Declaring output data type</span></span>
<span data-ttu-id="e3ddf-156">Przepływ pracy można określić typu danych przy użyciu jego dane wyjściowe [atrybutu OutputType](http://technet.microsoft.com/library/hh847785.aspx).</span><span class="sxs-lookup"><span data-stu-id="e3ddf-156">A workflow can specify the data type of its output using the [OutputType attribute](http://technet.microsoft.com/library/hh847785.aspx).</span></span> <span data-ttu-id="e3ddf-157">Ten atrybut nie ma znaczenia w czasie wykonywania, ale stanowi wskazówkę dla twórcy elementu runbook w czasie projektowania oczekiwanych danych wyjściowych elementu runbook.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-157">This attribute has no effect during runtime, but it provides an indication to the runbook author at design time of the expected output of the runbook.</span></span> <span data-ttu-id="e3ddf-158">Jak zestaw narzędzi dla elementów runbook w dalszym ciągu rozwijany, deklarowanie typów danych wyjściowych w czasie projektowania będzie zyskiwać na znaczeniu.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-158">As the toolset for runbooks continues to evolve, the importance of declaring output data types at design time will increase in importance.</span></span> <span data-ttu-id="e3ddf-159">W związku z tym jest najlepsze rozwiązanie to dołączenie tej deklaracji w żadnych tworzonym elemencie runbook.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-159">As a result, it is a best practice to include this declaration in any runbooks that you create.</span></span>

<span data-ttu-id="e3ddf-160">W tym miejscu znajduje się lista przykładowe typy danych wyjściowych:</span><span class="sxs-lookup"><span data-stu-id="e3ddf-160">Here is a list of example output types:</span></span>

* <span data-ttu-id="e3ddf-161">System.String</span><span class="sxs-lookup"><span data-stu-id="e3ddf-161">System.String</span></span>
* <span data-ttu-id="e3ddf-162">System.Int32</span><span class="sxs-lookup"><span data-stu-id="e3ddf-162">System.Int32</span></span>
* <span data-ttu-id="e3ddf-163">System.Collections.Hashtable</span><span class="sxs-lookup"><span data-stu-id="e3ddf-163">System.Collections.Hashtable</span></span>
* <span data-ttu-id="e3ddf-164">Microsoft.Azure.Commands.Compute.Models.PSVirtualMachine</span><span class="sxs-lookup"><span data-stu-id="e3ddf-164">Microsoft.Azure.Commands.Compute.Models.PSVirtualMachine</span></span>

<span data-ttu-id="e3ddf-165">Następujący przykładowy element runbook generuje obiekt ciągu i zawiera deklarację typu jego danych wyjściowych.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-165">The following sample runbook outputs a string object and includes a declaration of its output type.</span></span> <span data-ttu-id="e3ddf-166">Jeśli element runbook generuje tablicę pewnego typu, należy także określić typu, a nie tablicę typu.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-166">If your runbook outputs an array of a certain type, then you should still specify the type as opposed to an array of the type.</span></span>

    Workflow Test-Runbook
    {
       [OutputType([string])]

       $output = "This is some string output."
       Write-Output $output
    }

<span data-ttu-id="e3ddf-167">Aby zadeklarować typ danych wyjściowych w elementach runbook Grapical lub graficzny przepływ pracy programu PowerShell, można wybrać **wejściowa i wyjściowa** opcji menu i wpisz nazwę typu danych wyjściowych.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-167">To declare an output type in Grapical or Graphical PowerShell Workflow runbooks, you can select the **Input and Output** menu option and type in the name of the output type.</span></span>  <span data-ttu-id="e3ddf-168">Firma Microsoft zaleca się, że używasz Pełna nazwa klasy .NET, aby ułatwić jego identyfikację podczas odwoływania się do nadrzędnego elementu runbook.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-168">We recommend you use the full .NET class name to make it easily identifiable when referencing it from a parent runbook.</span></span>  <span data-ttu-id="e3ddf-169">Opisuje właściwości tej klasy w magistrali danych w elemencie runbook i zapewnia dużą elastyczność w przypadku, gdy ich użycie jako logikę warunkową, rejestrowania i odwołuje się do wartości dla innych działań w elemencie runbook.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-169">This exposes all the properties of that class to the data bus in the runbook and provides a lot of flexibility when using them for conditional logic, logging, and referencing as values for other activities in the runbook.</span></span><br> <span data-ttu-id="e3ddf-170">![Opcja Runbook dane wejściowe i wyjściowe](media/automation-runbook-output-and-messages/runbook-menu-input-and-output-option.png)</span><span class="sxs-lookup"><span data-stu-id="e3ddf-170">![Runbook Input and Output option](media/automation-runbook-output-and-messages/runbook-menu-input-and-output-option.png)</span></span>

<span data-ttu-id="e3ddf-171">W poniższym przykładzie mamy dwa graficznych elementów runbook, aby pokazać tę funkcję.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-171">In the following example, we have two graphical runbooks to demonstrate this feature.</span></span>  <span data-ttu-id="e3ddf-172">Jeśli Trwa stosowanie model projektowania moduły elementu runbook, będziemy mieć jeden element runbook, który służy jako *uwierzytelniania szablonem* Zarządzanie uwierzytelniania przy użyciu platformy Azure przy użyciu konta Uruchom jako.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-172">If we apply the modular runbook design model, we have one runbook which serves as the *Authentication Runbook template* managing authentication with Azure using the Run As account.</span></span>  <span data-ttu-id="e3ddf-173">Nasze drugiego elementu runbook, które zwykle przeprowadziłby logiki core można zautomatyzować w danej sytuacji, w tym przypadku ma wykonać *uwierzytelniania szablonem* i wyświetlić wyniki w Twojej **testu** okienku danych wyjściowych.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-173">Our second runbook, which would normally perform the core logic to automate a given scenario, in this case is going to execute the *Authentication Runbook template* and display the results to your **Test** output pane.</span></span>  <span data-ttu-id="e3ddf-174">W normalnych okolicznościach trzeba ten element runbook czymś względem zasobów, wykorzystując dane wyjściowe z podrzędnego elementu runbook.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-174">Under normal circumstances, we would have this runbook do something against a resource leveraging the output from the child runbook.</span></span>    

<span data-ttu-id="e3ddf-175">Poniżej przedstawiono podstawowe logiki **AuthenticateTo Azure** elementu runbook.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-175">Here is the basic logic of the **AuthenticateTo-Azure** runbook.</span></span><br> <span data-ttu-id="e3ddf-176">![Przykład szablonem uwierzytelniania](media/automation-runbook-output-and-messages/runbook-authentication-template.png).</span><span class="sxs-lookup"><span data-stu-id="e3ddf-176">![Authenticate Runbook Template Example](media/automation-runbook-output-and-messages/runbook-authentication-template.png).</span></span>  

<span data-ttu-id="e3ddf-177">Zawiera typ danych wyjściowych *Microsoft.Azure.Commands.Profile.Models.PSAzureContext*, który zwróci uwierzytelniania właściwości profilu.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-177">It includes the output type *Microsoft.Azure.Commands.Profile.Models.PSAzureContext*, which will return the authentication profile properties.</span></span><br> <span data-ttu-id="e3ddf-178">![Przykład typ danych wyjściowych elementu Runbook](media/automation-runbook-output-and-messages/runbook-input-and-output-add-blade.png)</span><span class="sxs-lookup"><span data-stu-id="e3ddf-178">![Runbook Output Type Example](media/automation-runbook-output-and-messages/runbook-input-and-output-add-blade.png)</span></span> 

<span data-ttu-id="e3ddf-179">Gdy ten element runbook jest bardzo proste do przodu, istnieje jeden element konfiguracji w celu wyróżnienia w tym miejscu.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-179">While this runbook is very straight forward, there is one configuration item to call out here.</span></span>  <span data-ttu-id="e3ddf-180">Ostatnie działanie jest wykonywany **Write-Output** polecenia cmdlet i zapisuje dane profilu przy użyciu wyrażenia środowiska PowerShell dla zmiennej _ $ **Inputobject** parametr, który jest wymagany dla tego polecenia cmdlet.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-180">The last activity is executing the **Write-Output** cmdlet and writes the profile data to a $_ variable using a PowerShell expression for the **Inputobject** parameter, which is required for that cmdlet.</span></span>  

<span data-ttu-id="e3ddf-181">Dla drugiego elementu runbook w tym przykładzie, o nazwie *ChildOutputType testu*, po prostu mamy dwóch działań.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-181">For the second runbook in this example, named *Test-ChildOutputType*, we simply have two activities.</span></span><br> <span data-ttu-id="e3ddf-182">![Przykład podrzędnych Output typ elementu Runbook](media/automation-runbook-output-and-messages/runbook-display-authentication-results-example.png)</span><span class="sxs-lookup"><span data-stu-id="e3ddf-182">![Example Child Output Type Runbook](media/automation-runbook-output-and-messages/runbook-display-authentication-results-example.png)</span></span> 

<span data-ttu-id="e3ddf-183">Pierwsze wywołania działania **AuthenticateTo Azure** elementu runbook, a drugi działania działa **Write-Verbose** polecenia cmdlet z **źródła danych** z **dane wyjściowe działania** i wartości dla **ścieżkę pola** jest **Context.Subscription.SubscriptionName**, który jest określenie kontekstu dane wyjściowe z **AuthenticateTo Azure** elementu runbook.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-183">The first activity calls the **AuthenticateTo-Azure** runbook and the second activity is running the **Write-Verbose** cmdlet with the **Data source** of **Activity output** and the value for **Field path** is **Context.Subscription.SubscriptionName**, which is specifying the context output from the **AuthenticateTo-Azure** runbook.</span></span><br> <span data-ttu-id="e3ddf-184">![Write-Verbose polecenia cmdlet parametr źródła danych](media/automation-runbook-output-and-messages/runbook-write-verbose-parameters-config.png)</span><span class="sxs-lookup"><span data-stu-id="e3ddf-184">![Write-Verbose cmdlet Parameter Data Source](media/automation-runbook-output-and-messages/runbook-write-verbose-parameters-config.png)</span></span>    

<span data-ttu-id="e3ddf-185">Dane wyjściowe to nazwa subskrypcji.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-185">The resulting output is the name of the subscription.</span></span><br> ![Wyniki Runbook ChildOutputType testu](media/automation-runbook-output-and-messages/runbook-test-childoutputtype-results.png)

<span data-ttu-id="e3ddf-187">Co należy pamiętać o zachowaniu kontroli typ danych wyjściowych.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-187">One note about the behavior of the Output Type control.</span></span>  <span data-ttu-id="e3ddf-188">Gdy wpisz wartość w polu Typ danych wyjściowych w danych wejściowych i wyjściowych bloku właściwości, trzeba kliknąć poza kontrolą po wpisaniu, aby wpis zostały rozpoznane przez formant.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-188">When you type a value in the Output Type field on the Input and Output properties blade, you have to click outside of the control  after you type it, in order for your entry to be recognized by the control.</span></span>  

## <a name="message-streams"></a><span data-ttu-id="e3ddf-189">Strumienie komunikatów</span><span class="sxs-lookup"><span data-stu-id="e3ddf-189">Message streams</span></span>
<span data-ttu-id="e3ddf-190">W przeciwieństwie do strumienia wyjściowego strumieni komunikatów są przeznaczone do przekazywania informacji do użytkownika.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-190">Unlike the output stream, message streams are intended to communicate information to the user.</span></span> <span data-ttu-id="e3ddf-191">Istnieje wiele strumieni komunikatów dla różnych typów informacji, a każdy różni się w automatyzacji Azure.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-191">There are multiple message streams for different kinds of information, and each is handled differently by Azure Automation.</span></span>

### <a name="warning-and-error-streams"></a><span data-ttu-id="e3ddf-192">Strumienie ostrzeżeń i błędów</span><span class="sxs-lookup"><span data-stu-id="e3ddf-192">Warning and error streams</span></span>
<span data-ttu-id="e3ddf-193">Strumienie ostrzeżeń i błędów są przeznaczone do rejestrowania problemów występujących w elemencie runbook.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-193">The Warning and Error streams are intended to log problems that occur in a runbook.</span></span> <span data-ttu-id="e3ddf-194">Są one zapisywane w historii zadań, gdy element runbook jest wykonywane i znajdują się w okienku danych wyjściowych testu w portalu zarządzania Azure podczas testowania elementu runbook.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-194">They are written to the job history when a runbook is executed, and are included in the Test Output Pane in the Azure Management Portal when a runbook is tested.</span></span> <span data-ttu-id="e3ddf-195">Domyślnie element runbook kontynuuje wykonywanie po ostrzeżeniu lub błędzie.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-195">By default, the runbook will continue executing after a warning or error.</span></span> <span data-ttu-id="e3ddf-196">Można określić, że element runbook ma zostać zawieszony w ostrzeżenia lub błędu, ustawiając [zmiennej preferencji](#PreferenceVariables) w elemencie runbook przed utworzeniem komunikatu.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-196">You can specify that the runbook should be suspended on a warning or error by setting a [preference variable](#PreferenceVariables) in the runbook before creating the message.</span></span> <span data-ttu-id="e3ddf-197">Na przykład, aby spowodować zawieszenie w przypadku wystąpienia błędu, jak wyjątek elementu runbook, należy ustawić **$ErrorActionPreference** do zatrzymania.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-197">For example, to cause a runbook to suspend on an error as it would an exception, set **$ErrorActionPreference** to Stop.</span></span>

<span data-ttu-id="e3ddf-198">Utwórz ostrzeżenia lub błędu komunikat przy użyciu [Write-Warning](https://technet.microsoft.com/library/hh849931.aspx) lub [Write-Error](http://technet.microsoft.com/library/hh849962.aspx) polecenia cmdlet.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-198">Create a warning or error message using the [Write-Warning](https://technet.microsoft.com/library/hh849931.aspx) or [Write-Error](http://technet.microsoft.com/library/hh849962.aspx) cmdlet.</span></span> <span data-ttu-id="e3ddf-199">Działania mogą także zapisywać do tych strumieni.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-199">Activities may also write to these streams.</span></span>

    #The following lines create a warning message and then an error message that will suspend the runbook.

    $ErrorActionPreference = "Stop"
    Write-Warning –Message "This is a warning message."
    Write-Error –Message "This is an error message that will stop the runbook because of the preference variable."

### <a name="verbose-stream"></a><span data-ttu-id="e3ddf-200">Strumień pełny</span><span class="sxs-lookup"><span data-stu-id="e3ddf-200">Verbose stream</span></span>
<span data-ttu-id="e3ddf-201">Strumień komunikatów pełnych jest ogólne informacje o działaniu elementu runbook.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-201">The Verbose message stream is for general information about the runbook operation.</span></span> <span data-ttu-id="e3ddf-202">Ponieważ [strumienia debugowania](#Debug) jest niedostępny w elemencie runbook, komunikaty pełne należy używać dla informacji debugowania.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-202">Since the [Debug Stream](#Debug) is not available in a runbook, verbose messages should be used for debug information.</span></span> <span data-ttu-id="e3ddf-203">Domyślnie komunikaty pełne z opublikowanych elementów runbook nie będą przechowywane w historii zadań.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-203">By default, verbose messages from published runbooks will not be stored in the job history.</span></span> <span data-ttu-id="e3ddf-204">Aby zapisywać komunikaty pełne, skonfiguruj opublikowane elementy runbook do rejestrowania rekordów pełnych na karcie Konfigurowanie elementu runbook w portalu zarządzania Azure.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-204">To store verbose messages, configure published runbooks to Log Verbose Records on the Configure tab of the runbook in the Azure Management Portal.</span></span> <span data-ttu-id="e3ddf-205">W większości przypadków należy pozostawić domyślne ustawienie nie rejestrowania rekordów pełnych dla elementu runbook ze względu na wydajność.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-205">In most cases, you should keep the default setting of not logging verbose records for a runbook for performance reasons.</span></span> <span data-ttu-id="e3ddf-206">Włącz tę opcję tylko do rozwiązania lub debugowania elementu runbook.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-206">Turn on this option only to troubleshoot or debug a runbook.</span></span>

<span data-ttu-id="e3ddf-207">Gdy [testowania elementu runbook](automation-testing-runbook.md), komunikaty pełne nie są wyświetlane, nawet jeśli element runbook jest skonfigurowany pod kątem rejestrowania rekordów pełnych.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-207">When [testing a runbook](automation-testing-runbook.md), verbose messages are not displayed even if the runbook is configured to log verbose records.</span></span> <span data-ttu-id="e3ddf-208">Aby wyświetlić komunikaty pełne podczas [testowania elementu runbook](automation-testing-runbook.md), musisz ustawić dla zmiennej $VerbosePreference Kontynuuj.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-208">To display verbose messages while [testing a runbook](automation-testing-runbook.md), you must set the $VerbosePreference variable to Continue.</span></span> <span data-ttu-id="e3ddf-209">Z ta zmienna jest ustawiona komunikaty pełne będą wyświetlane w okienku danych wyjściowych testu portalu Azure.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-209">With that variable set, verbose messages will be displayed in the Test Output Pane of the Azure portal.</span></span>

<span data-ttu-id="e3ddf-210">Tworzenie przy użyciu komunikat trybu informacji pełnej [Write-Verbose](http://technet.microsoft.com/library/hh849951.aspx) polecenia cmdlet.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-210">Create a verbose message using the [Write-Verbose](http://technet.microsoft.com/library/hh849951.aspx) cmdlet.</span></span>

    #The following line creates a verbose message.

    Write-Verbose –Message "This is a verbose message."

### <a name="debug-stream"></a><span data-ttu-id="e3ddf-211">Strumień debugowania</span><span class="sxs-lookup"><span data-stu-id="e3ddf-211">Debug stream</span></span>
<span data-ttu-id="e3ddf-212">Strumień debugowania jest przeznaczony dla użytkownika interaktywnego i nie należy używać w elementach runbook.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-212">The Debug stream is intended for use with an interactive user and should not be used in runbooks.</span></span>

## <a name="progress-records"></a><span data-ttu-id="e3ddf-213">Rekordy postępu</span><span class="sxs-lookup"><span data-stu-id="e3ddf-213">Progress records</span></span>
<span data-ttu-id="e3ddf-214">Jeśli skonfigurujesz rejestruje elementu runbook do rejestrowania postępu (na karcie Konfigurowanie elementu runbook w portalu Azure), a następnie rekord zostanie zapisany w historii zadań przed i po każdym uruchomieniem działania.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-214">If you configure a runbook to log progress records (on the Configure tab of the runbook in the Azure portal), then a record will be written to the job history before and after each activity is run.</span></span> <span data-ttu-id="e3ddf-215">W większości przypadków należy pozostawić domyślne ustawienie nie rejestrowania rekordów postępu dla elementu runbook, aby zmaksymalizować wydajność.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-215">In most cases, you should keep the default setting of not logging progress records for a runbook in order to maximize performance.</span></span> <span data-ttu-id="e3ddf-216">Włącz tę opcję tylko do rozwiązania lub debugowania elementu runbook.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-216">Turn on this option only to troubleshoot or debug a runbook.</span></span> <span data-ttu-id="e3ddf-217">Podczas testowania elementu runbook, komunikaty o postępie nie są wyświetlane, nawet jeśli element runbook jest skonfigurowany pod kątem rejestrowania rekordów postępu.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-217">When testing a runbook, progress messages are not displayed even if the runbook is configured to log progress records.</span></span>

<span data-ttu-id="e3ddf-218">[Write-Progress](http://technet.microsoft.com/library/hh849902.aspx) polecenia cmdlet jest nieprawidłowy w elemencie runbook, ponieważ ta wartość jest przeznaczona do użycia z użytkownika interaktywnego.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-218">The [Write-Progress](http://technet.microsoft.com/library/hh849902.aspx) cmdlet is not valid in a runbook, since this is intended for use with an interactive user.</span></span>

## <a name="preference-variables"></a><span data-ttu-id="e3ddf-219">Zmienne preferencji</span><span class="sxs-lookup"><span data-stu-id="e3ddf-219">Preference variables</span></span>
<span data-ttu-id="e3ddf-220">Program Windows PowerShell korzysta [zmienne preferencji](http://technet.microsoft.com/library/hh847796.aspx) ustalenie, jak odpowiedzieć na dane przesyłane do różnych strumieni wyjściowych.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-220">Windows PowerShell uses [preference variables](http://technet.microsoft.com/library/hh847796.aspx) to determine how to respond to data sent to different output streams.</span></span> <span data-ttu-id="e3ddf-221">Te zmienne możesz ustawić w elemencie runbook, aby kontrolować sposób odpowiadania przez niego na dane przesyłane do różnych strumieni.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-221">You can set these variables in a runbook to control how it will respond to data sent into different streams.</span></span>

<span data-ttu-id="e3ddf-222">W poniższej tabeli przedstawiono zmienne preferencji, których można użyć w elementach runbook oraz ich prawidłowe i domyślne wartości.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-222">The following table lists the preference variables that can be used in runbooks with their valid and default values.</span></span> <span data-ttu-id="e3ddf-223">Należy pamiętać, że ta tabela zawiera tylko wartości, które są nieprawidłowe w elemencie runbook.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-223">Note that this table only includes the values that are valid in a runbook.</span></span> <span data-ttu-id="e3ddf-224">Dodatkowe wartości są prawidłowe dla zmiennych preferencji, gdy jest używany w programie Windows PowerShell poza automatyzacji Azure.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-224">Additional values are valid for the preference variables when used in Windows PowerShell outside of Azure Automation.</span></span>

| <span data-ttu-id="e3ddf-225">Zmienna</span><span class="sxs-lookup"><span data-stu-id="e3ddf-225">Variable</span></span> | <span data-ttu-id="e3ddf-226">Wartość domyślna</span><span class="sxs-lookup"><span data-stu-id="e3ddf-226">Default Value</span></span> | <span data-ttu-id="e3ddf-227">Prawidłowe wartości</span><span class="sxs-lookup"><span data-stu-id="e3ddf-227">Valid Values</span></span> |
|:--- |:--- |:--- |
| <span data-ttu-id="e3ddf-228">WarningPreference</span><span class="sxs-lookup"><span data-stu-id="e3ddf-228">WarningPreference</span></span> |<span data-ttu-id="e3ddf-229">Kontynuuj</span><span class="sxs-lookup"><span data-stu-id="e3ddf-229">Continue</span></span> |<span data-ttu-id="e3ddf-230">Stop</span><span class="sxs-lookup"><span data-stu-id="e3ddf-230">Stop</span></span><br><span data-ttu-id="e3ddf-231">Kontynuuj</span><span class="sxs-lookup"><span data-stu-id="e3ddf-231">Continue</span></span><br><span data-ttu-id="e3ddf-232">SilentlyContinue</span><span class="sxs-lookup"><span data-stu-id="e3ddf-232">SilentlyContinue</span></span> |
| <span data-ttu-id="e3ddf-233">ErrorActionPreference</span><span class="sxs-lookup"><span data-stu-id="e3ddf-233">ErrorActionPreference</span></span> |<span data-ttu-id="e3ddf-234">Kontynuuj</span><span class="sxs-lookup"><span data-stu-id="e3ddf-234">Continue</span></span> |<span data-ttu-id="e3ddf-235">Stop</span><span class="sxs-lookup"><span data-stu-id="e3ddf-235">Stop</span></span><br><span data-ttu-id="e3ddf-236">Kontynuuj</span><span class="sxs-lookup"><span data-stu-id="e3ddf-236">Continue</span></span><br><span data-ttu-id="e3ddf-237">SilentlyContinue</span><span class="sxs-lookup"><span data-stu-id="e3ddf-237">SilentlyContinue</span></span> |
| <span data-ttu-id="e3ddf-238">VerbosePreference</span><span class="sxs-lookup"><span data-stu-id="e3ddf-238">VerbosePreference</span></span> |<span data-ttu-id="e3ddf-239">SilentlyContinue</span><span class="sxs-lookup"><span data-stu-id="e3ddf-239">SilentlyContinue</span></span> |<span data-ttu-id="e3ddf-240">Stop</span><span class="sxs-lookup"><span data-stu-id="e3ddf-240">Stop</span></span><br><span data-ttu-id="e3ddf-241">Kontynuuj</span><span class="sxs-lookup"><span data-stu-id="e3ddf-241">Continue</span></span><br><span data-ttu-id="e3ddf-242">SilentlyContinue</span><span class="sxs-lookup"><span data-stu-id="e3ddf-242">SilentlyContinue</span></span> |

<span data-ttu-id="e3ddf-243">W poniższej tabeli wymieniono zachowania dla wartości zmiennych preferencji, które są prawidłowe w elementach runbook.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-243">The following table lists the behavior for the preference variable values that are valid in runbooks.</span></span>

| <span data-ttu-id="e3ddf-244">Wartość</span><span class="sxs-lookup"><span data-stu-id="e3ddf-244">Value</span></span> | <span data-ttu-id="e3ddf-245">Zachowanie</span><span class="sxs-lookup"><span data-stu-id="e3ddf-245">Behavior</span></span> |
|:--- |:--- |
| <span data-ttu-id="e3ddf-246">Kontynuuj</span><span class="sxs-lookup"><span data-stu-id="e3ddf-246">Continue</span></span> |<span data-ttu-id="e3ddf-247">Rejestruje komunikat i kontynuuje wykonywanie elementu runbook.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-247">Logs the message and continues executing the runbook.</span></span> |
| <span data-ttu-id="e3ddf-248">SilentlyContinue</span><span class="sxs-lookup"><span data-stu-id="e3ddf-248">SilentlyContinue</span></span> |<span data-ttu-id="e3ddf-249">Kontynuuje wykonywanie elementu runbook bez rejestrowania komunikatu.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-249">Continues executing the runbook without logging the message.</span></span> <span data-ttu-id="e3ddf-250">To powoduje zignorowanie komunikatu.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-250">This has the effect of ignoring the message.</span></span> |
| <span data-ttu-id="e3ddf-251">Stop</span><span class="sxs-lookup"><span data-stu-id="e3ddf-251">Stop</span></span> |<span data-ttu-id="e3ddf-252">Rejestruje komunikat i zawiesza element runbook.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-252">Logs the message and suspends the runbook.</span></span> |

## <a name="retrieving-runbook-output-and-messages"></a><span data-ttu-id="e3ddf-253">Pobieranie elementu runbook dane wyjściowe i komunikaty</span><span class="sxs-lookup"><span data-stu-id="e3ddf-253">Retrieving runbook output and messages</span></span>
### <a name="azure-portal"></a><span data-ttu-id="e3ddf-254">Azure Portal</span><span class="sxs-lookup"><span data-stu-id="e3ddf-254">Azure portal</span></span>
<span data-ttu-id="e3ddf-255">Szczegóły zadania elementu runbook można wyświetlić w portalu Azure na karcie zadania, elementu runbook.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-255">You can view the details of a runbook job in the Azure portal from the Jobs tab of a runbook.</span></span> <span data-ttu-id="e3ddf-256">Podsumowanie zadania będą wyświetlane parametry wejściowe i [strumienia wyjściowego](#Output) także ogólne informacje o zadaniu i wszystkie wyjątki, jeśli takie były.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-256">The Summary of the job will display the input parameters and the [Output Stream](#Output) in addition to general information about the job and any exceptions if they occurred.</span></span> <span data-ttu-id="e3ddf-257">Historia zawiera komunikaty ze [strumienia wyjściowego](#Output) i [strumienie ostrzeżeń i błędów](#WarningError) oprócz [strumień pełny](#Verbose) i [rekordów postępu](#Progress) Jeśli element runbook jest skonfigurowany do dziennika pełne i rekordy postępu.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-257">The History will include messages from the [Output Stream](#Output) and [Warning and Error Streams](#WarningError) in addition to the [Verbose Stream](#Verbose) and [Progress Records](#Progress) if the runbook is configured to log verbose and progress records.</span></span>

### <a name="windows-powershell"></a><span data-ttu-id="e3ddf-258">Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="e3ddf-258">Windows PowerShell</span></span>
<span data-ttu-id="e3ddf-259">W programie Windows PowerShell można pobrać dane wyjściowe i komunikaty z elementu runbook za pomocą [Get-AzureAutomationJobOutput](https://msdn.microsoft.com/library/mt603476.aspx) polecenia cmdlet.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-259">In Windows PowerShell, you can retrieve output and messages from a runbook using the [Get-AzureAutomationJobOutput](https://msdn.microsoft.com/library/mt603476.aspx) cmdlet.</span></span> <span data-ttu-id="e3ddf-260">To polecenie cmdlet wymaga Identyfikatora zadania i ma parametr o nazwie strumienia, w którym można określić strumień do zwrócenia.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-260">This cmdlet requires the ID of the job and has a parameter called Stream where you specify which stream to return.</span></span> <span data-ttu-id="e3ddf-261">Można określić, aby spowodować zwrócenie wszystkich strumieni zadania.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-261">You can specify Any to return all streams for the job.</span></span>

<span data-ttu-id="e3ddf-262">Poniższy przykład uruchamiany Przykładowy element runbook, a następnie oczekiwanie na jej zakończenie.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-262">The following example starts a sample runbook and then waits for it to complete.</span></span> <span data-ttu-id="e3ddf-263">Po zakończeniu jego strumień wyjściowy jest zbierany z zadania.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-263">Once completed, its output stream is collected from the job.</span></span>

    $job = Start-AzureRmAutomationRunbook -ResourceGroupName "ResourceGroup01" `
    –AutomationAccountName "MyAutomationAccount" –Name "Test-Runbook"

    $doLoop = $true
    While ($doLoop) {
       $job = Get-AzureRmAutomationJob -ResourceGroupName "ResourceGroup01" `
       –AutomationAccountName "MyAutomationAccount" -Id $job.JobId
       $status = $job.Status
       $doLoop = (($status -ne "Completed") -and ($status -ne "Failed") -and ($status -ne "Suspended") -and ($status -ne "Stopped")
    }

    Get-AzureRmAutomationJobOutput -ResourceGroupName "ResourceGroup01" `
    –AutomationAccountName "MyAutomationAccount" -Id $job.JobId –Stream Output

### <a name="graphical-authoring"></a><span data-ttu-id="e3ddf-264">Tworzenie graficznych</span><span class="sxs-lookup"><span data-stu-id="e3ddf-264">Graphical Authoring</span></span>
<span data-ttu-id="e3ddf-265">Graficznych elementów runbook bardzo rejestrowania jest dostępna w formie śledzenie poziom aktywności.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-265">For graphical runbooks, extra logging is available in the form of activity-level tracing.</span></span>  <span data-ttu-id="e3ddf-266">Istnieją dwa poziomy śledzenia: Basic i szczegółowe.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-266">There are two levels of tracing: Basic and Detailed.</span></span>  <span data-ttu-id="e3ddf-267">W śledzenia, można sprawdzić rozpoczęcia i godzina zakończenia działania każdego elementu runbook oraz informacje dotyczące ponownych prób wszystkie działania, takie jak liczba prób i godzina rozpoczęcia działania.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-267">In Basic tracing, you can see the start and end time of each activity in the runbook plus information related to any activity retries, such as number of attempts and start time of the activity.</span></span>  <span data-ttu-id="e3ddf-268">W szczegółowego śledzenia, należy uzyskać śledzenia plus danych wejściowych i danych wyjściowych dla każdego działania.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-268">In Detailed tracing, you get Basic tracing plus input and output data for each activity.</span></span>  <span data-ttu-id="e3ddf-269">Należy pamiętać, że obecnie rekordów śledzenia są zapisywane przy użyciu strumień pełny, więc musisz włączyć pełne rejestrowanie, podczas włączania śledzenia.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-269">Note that currently the trace records are written using the verbose stream, so you must enable Verbose logging when you enable tracing.</span></span>  <span data-ttu-id="e3ddf-270">Dla graficznych elementów runbook z włączonym śledzeniem jest niepotrzebna pod kątem rejestrowania rekordów postępu, ponieważ śledzenie podstawowe pełni tę samą funkcję i więcej informacji.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-270">For graphical runbooks with tracing enabled there is no need to log progress records, because the Basic tracing serves the same purpose and is more informative.</span></span>

![Zadanie tworzenia graficznego strumieni widoku](media/automation-runbook-output-and-messages/job-streams-view-blade.png)

<span data-ttu-id="e3ddf-272">Z powyższych zrzut ekranu widać, gdy jest włączone pełne rejestrowanie i śledzenia dla graficznych elementów runbook, znacznie więcej informacji o dostępnych w środowisku produkcyjnym widoku strumieni zadania.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-272">You can see from the above screenshot that when you enable Verbose logging and tracing for Graphical runbooks, much more information is available in the production Job Streams view.</span></span>  <span data-ttu-id="e3ddf-273">Te dodatkowe informacje mogą być niezbędne podczas rozwiązywania problemów w środowisku produkcyjnym z elementu runbook, a w związku z tym należy włączać jedynie go do tego celu, a nie jako rozwiązaniem ogólne.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-273">This extra information can be essential for troubleshooting production problems with a runbook, and therefore you should only enable it for that purpose and not as a general practice.</span></span>    
<span data-ttu-id="e3ddf-274">Może być szczególnie wiele rekordów śledzenia.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-274">The Trace records can be especially numerous.</span></span>  <span data-ttu-id="e3ddf-275">Z graficznym elementem runbook śledzenia, należy uzyskać dwóch do czterech rekordów na działania w zależności od tego, czy skonfigurowano śledzenie podstawowy lub szczegółowy.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-275">With Graphical runbook tracing you can get two to four records per activity depending on whether you have configured Basic or Detailed tracing.</span></span>  <span data-ttu-id="e3ddf-276">Jeśli nie potrzebujesz tych informacji, aby śledzić postęp działania elementu runbook w celu rozwiązania problemu, możesz chcieć zachować śledzenia wyłączone.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-276">Unless you need this information to track the progress of a runbook for troubleshooting, you might want to keep Tracing turned off.</span></span>

<span data-ttu-id="e3ddf-277">**Aby włączyć śledzenie poziom aktywności, wykonaj następujące kroki.**</span><span class="sxs-lookup"><span data-stu-id="e3ddf-277">**To enable activity-level tracing, perform the following steps.**</span></span>

1. <span data-ttu-id="e3ddf-278">W portalu Azure otwórz konto usługi Automation.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-278">In the Azure Portal, open your Automation account.</span></span>
2. <span data-ttu-id="e3ddf-279">Kliknij kafelek **Elementy Runbook**, aby otworzyć listę elementów Runbook.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-279">Click on the **Runbooks** tile to open the list of runbooks.</span></span>
3. <span data-ttu-id="e3ddf-280">W bloku elementów Runbook kliknij, aby wybrać graficznego elementu runbook z listy elementów runbook.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-280">On the Runbooks blade, click to select a graphical runbook from your list of runbooks.</span></span>
4. <span data-ttu-id="e3ddf-281">W bloku ustawień dla wybranego elementu runbook, kliknij przycisk **rejestrowania i śledzenia**.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-281">On the Settings blade for the selected runbook, click **Logging and Tracing**.</span></span>
5. <span data-ttu-id="e3ddf-282">Rejestrowanie i śledzenie bloku, w obszarze rejestrowania rekordów pełnych, kliknij przycisk **na** Aby włączyć pełne rejestrowanie i śledzenie udner poziom aktywności, zmień poziom śledzenia do **podstawowe** lub **szczegółowy** na podstawie poziomu śledzenia wymagane.</span><span class="sxs-lookup"><span data-stu-id="e3ddf-282">On the Logging and Tracing blade, under Log verbose records, click **On** to enable verbose logging and udner Activity-level tracing, change the trace level to **Basic** or **Detailed** based on the level of tracing you require.</span></span><br>
   
   ![Graficzny tworzenia rejestrowania i śledzenia bloku](media/automation-runbook-output-and-messages/logging-and-tracing-settings-blade.png)

### <a name="microsoft-operations-management-suite-oms-log-analytics"></a><span data-ttu-id="e3ddf-284">Analiza dzienników programu Microsoft Operations Management Suite (OMS)</span><span class="sxs-lookup"><span data-stu-id="e3ddf-284">Microsoft Operations Management Suite (OMS) Log Analytics</span></span>
<span data-ttu-id="e3ddf-285">Automatyzacja może wysyłać runbook strumieni zadania stanu i zadania do swojego obszaru roboczego analizy dzienników programu Microsoft Operations Management Suite (OMS).</span><span class="sxs-lookup"><span data-stu-id="e3ddf-285">Automation can send runbook job status and job streams to your Microsoft Operations Management Suite (OMS) Log Analytics workspace.</span></span>  <span data-ttu-id="e3ddf-286">Za pomocą analizy dzienników można,</span><span class="sxs-lookup"><span data-stu-id="e3ddf-286">With Log Analytics you can,</span></span>

* <span data-ttu-id="e3ddf-287">Uzyskiwanie wglądu w zadaniach automatyzacji</span><span class="sxs-lookup"><span data-stu-id="e3ddf-287">Get insight on your Automation jobs</span></span> 
* <span data-ttu-id="e3ddf-288">Wyzwalacz poczty e-mail lub alertu oparte na stan zadania elementu runbook (np. nie powiodło się lub wstrzymane)</span><span class="sxs-lookup"><span data-stu-id="e3ddf-288">Trigger an email or alert based on your runbook job status (e.g. failed or suspended)</span></span> 
* <span data-ttu-id="e3ddf-289">Zapis zaawansowanych zapytań na strumienie zadania</span><span class="sxs-lookup"><span data-stu-id="e3ddf-289">Write advanced queries across your job streams</span></span> 
* <span data-ttu-id="e3ddf-290">Korelowanie zadań na konta automatyzacji</span><span class="sxs-lookup"><span data-stu-id="e3ddf-290">Correlate jobs across Automation accounts</span></span> 
* <span data-ttu-id="e3ddf-291">Wizualizuj historię zadania wraz z upływem czasu</span><span class="sxs-lookup"><span data-stu-id="e3ddf-291">Visualize your job history over time</span></span>    

<span data-ttu-id="e3ddf-292">Aby uzyskać więcej informacji na temat konfigurowania integracji z analizy dzienników do zbierania, korelowania i działają na dane zadania, zobacz [przekazuj strumienie zadania i stan zadania z automatyzacji analizy dzienników (OMS)](automation-manage-send-joblogs-log-analytics.md).</span><span class="sxs-lookup"><span data-stu-id="e3ddf-292">For more information on how to configure integration with Log Analytics to collect, correlate and act on job data, see [Forward job status and job streams from Automation to Log Analytics (OMS)](automation-manage-send-joblogs-log-analytics.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="e3ddf-293">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="e3ddf-293">Next steps</span></span>
* <span data-ttu-id="e3ddf-294">Aby dowiedzieć się więcej o wykonywaniu elementów Runbook, sposobie monitorowania zadań elementów Runbook i innych szczegółach technicznych, zobacz [Track a runbook job](automation-runbook-execution.md) (Śledzenie zadania elementu Runbook)</span><span class="sxs-lookup"><span data-stu-id="e3ddf-294">To learn more about runbook execution, how to monitor runbook jobs, and other technical details, see [Track a runbook job](automation-runbook-execution.md)</span></span>
* <span data-ttu-id="e3ddf-295">Aby zrozumieć sposób projektowania i używania podrzędnych elementów runbook, zobacz [podrzędnych elementów runbook automatyzacji Azure](automation-child-runbooks.md)</span><span class="sxs-lookup"><span data-stu-id="e3ddf-295">To understand how to design and use child runbooks, see [Child runbooks in Azure Automation](automation-child-runbooks.md)</span></span>

