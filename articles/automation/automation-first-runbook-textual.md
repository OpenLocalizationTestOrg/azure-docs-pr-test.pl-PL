---
title: "aaaMy pierwszy przepływu pracy programu PowerShell elementu runbook automatyzacji Azure | Dokumentacja firmy Microsoft"
description: "Samouczek, który przeprowadzi Cię przez kolejne hello tworzenia, testowania i publikowania elementu runbook prosty tekst za pomocą przepływu pracy programu PowerShell."
services: automation
documentationcenter: 
author: mgoedtel
manager: jwhit
editor: 
keywords: "przepływ pracy programu powershell, przykłady przepływu pracy programu powershell, program powershell przepływu pracy"
ms.assetid: 0002d7f7-e2b5-46e3-b5eb-4596b84fd526
ms.service: automation
ms.workload: tbd
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: get-started-article
ms.date: 03/26/2017
ms.author: magoedte;bwren
ms.openlocfilehash: b5a34d363ef4865878f3f68119833367b5280f83
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="my-first-powershell-workflow-runbook"></a><span data-ttu-id="51047-104">Mój pierwszy element Runbook przepływu pracy programu PowerShell</span><span class="sxs-lookup"><span data-stu-id="51047-104">My first PowerShell Workflow runbook</span></span>

> [!div class="op_single_selector"]
> * [<span data-ttu-id="51047-105">Element graficzny</span><span class="sxs-lookup"><span data-stu-id="51047-105">Graphical</span></span>](automation-first-runbook-graphical.md)
> * [<span data-ttu-id="51047-106">Program PowerShell</span><span class="sxs-lookup"><span data-stu-id="51047-106">PowerShell</span></span>](automation-first-runbook-textual-powershell.md)
> * [<span data-ttu-id="51047-107">Przepływ pracy programu PowerShell</span><span class="sxs-lookup"><span data-stu-id="51047-107">PowerShell Workflow</span></span>](automation-first-runbook-textual.md)
> 
> 

<span data-ttu-id="51047-108">Ten samouczek przedstawia tworzenie hello [runbook przepływu pracy programu PowerShell](automation-runbook-types.md#powershell-workflow-runbooks) automatyzacji Azure.</span><span class="sxs-lookup"><span data-stu-id="51047-108">This tutorial walks you through hello creation of a [PowerShell Workflow runbook](automation-runbook-types.md#powershell-workflow-runbooks) in Azure Automation.</span></span> <span data-ttu-id="51047-109">Możemy zaczynać prosty element runbook, który możemy testowanie i publikowanie podczas wyjaśniający, jak tootrack hello stanu zadania elementu runbook hello.</span><span class="sxs-lookup"><span data-stu-id="51047-109">We start with a simple runbook that we test and publish while explaining how tootrack hello status of hello runbook job.</span></span> <span data-ttu-id="51047-110">Firma Microsoft zmodyfikowanie hello runbook tooactually zarządzania zasobami Azure, w tym przypadku uruchamiania maszyny wirtualnej platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="51047-110">Then we modify hello runbook tooactually manage Azure resources, in this case starting an Azure virtual machine.</span></span> <span data-ttu-id="51047-111">Na koniec wykonujemy hello runbook bardziej niezawodne, dodając parametry elementu runbook.</span><span class="sxs-lookup"><span data-stu-id="51047-111">Lastly we make hello runbook more robust by adding runbook parameters.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="51047-112">Wymagania wstępne</span><span class="sxs-lookup"><span data-stu-id="51047-112">Prerequisites</span></span>
<span data-ttu-id="51047-113">toocomplete tego samouczka należy hello następujące:</span><span class="sxs-lookup"><span data-stu-id="51047-113">toocomplete this tutorial, you will need hello following:</span></span>

* <span data-ttu-id="51047-114">Subskrypcja platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="51047-114">Azure subscription.</span></span> <span data-ttu-id="51047-115">Jeśli nie masz subskrypcji, możesz [aktywować korzyści dla subskrybentów MSDN](https://azure.microsoft.com/pricing/member-offers/msdn-benefits-details/) lub <a href="/pricing/free-account/" target="_blank">[utworzyć bezpłatne konto](https://azure.microsoft.com/free/).</span><span class="sxs-lookup"><span data-stu-id="51047-115">If you don't have one yet, you can [activate your MSDN subscriber benefits](https://azure.microsoft.com/pricing/member-offers/msdn-benefits-details/) or <a href="/pricing/free-account/" target="_blank">[sign up for a free account](https://azure.microsoft.com/free/).</span></span>
* <span data-ttu-id="51047-116">[Konto automatyzacji](automation-sec-configure-azure-runas-account.md) toohold hello elementu runbook i ich uwierzytelniać tooAzure zasobów.</span><span class="sxs-lookup"><span data-stu-id="51047-116">[Automation account](automation-sec-configure-azure-runas-account.md) toohold hello runbook and authenticate tooAzure resources.</span></span>  <span data-ttu-id="51047-117">To konto musi mieć uprawnienie toostart i zatrzymać hello maszyny wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="51047-117">This account must have permission toostart and stop hello virtual machine.</span></span>
* <span data-ttu-id="51047-118">Maszyna wirtualna platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="51047-118">An Azure virtual machine.</span></span> <span data-ttu-id="51047-119">Będziemy uruchamiać i zatrzymywać tę maszynę, dlatego należy użyć maszyny innej niż produkcyjna.</span><span class="sxs-lookup"><span data-stu-id="51047-119">We stop and start this machine so it should not be a production VM.</span></span>

## <a name="step-1---create-new-runbook"></a><span data-ttu-id="51047-120">Krok 1. Tworzenie nowego elementu Runbook</span><span class="sxs-lookup"><span data-stu-id="51047-120">Step 1 - Create new runbook</span></span>
<span data-ttu-id="51047-121">Zaczniemy przez utworzenie prostego elementu runbook, która wyświetla tekst hello *Hello World*.</span><span class="sxs-lookup"><span data-stu-id="51047-121">We'll start by creating a simple runbook that outputs hello text *Hello World*.</span></span>

1. <span data-ttu-id="51047-122">Otwórz hello portalu Azure, Twoje konto usługi Automatyzacja.</span><span class="sxs-lookup"><span data-stu-id="51047-122">In hello Azure portal, open your Automation account.</span></span>  
   <span data-ttu-id="51047-123">Strona kont automatyzacji Hello zapewnia szybki przegląd hello zasobów na tym koncie.</span><span class="sxs-lookup"><span data-stu-id="51047-123">hello Automation account page gives you a quick view of hello resources in this account.</span></span> <span data-ttu-id="51047-124">Konto powinno mieć już pewne elementy zawartości.</span><span class="sxs-lookup"><span data-stu-id="51047-124">You should already have some assets.</span></span> <span data-ttu-id="51047-125">Większość tych to hello modułów, które są automatycznie umieszczane w koncie automatyzacji.</span><span class="sxs-lookup"><span data-stu-id="51047-125">Most of those are hello modules that are automatically included in a new Automation account.</span></span> <span data-ttu-id="51047-126">Należy również zaznaczyć zasób poświadczeń hello, który jest wymieniony w hello [wymagania wstępne](#prerequisites).</span><span class="sxs-lookup"><span data-stu-id="51047-126">You should also have hello Credential asset that's mentioned in hello [prerequisites](#prerequisites).</span></span>
2. <span data-ttu-id="51047-127">Polecenie hello **elementów Runbook** kafelka tooopen hello listy elementów runbook.</span><span class="sxs-lookup"><span data-stu-id="51047-127">Click on hello **Runbooks** tile tooopen hello list of runbooks.</span></span><br><br> <span data-ttu-id="51047-128">![Kontrolka Elementy Runbook](media/automation-first-runbook-textual/runbooks-control-tiles.png)</span><span class="sxs-lookup"><span data-stu-id="51047-128">![Runbooks control](media/automation-first-runbook-textual/runbooks-control-tiles.png)</span></span>
3. <span data-ttu-id="51047-129">Utwórz nowy element runbook, klikając hello **Dodaj element runbook** przycisk, a następnie **Utwórz nowy element runbook**.</span><span class="sxs-lookup"><span data-stu-id="51047-129">Create a new runbook by clicking on hello **Add a runbook** button and then **Create a new runbook**.</span></span>
4. <span data-ttu-id="51047-130">Nadaj nazwę hello runbook hello *przepływu pracy MyFirstRunbook*.</span><span class="sxs-lookup"><span data-stu-id="51047-130">Give hello runbook hello name *MyFirstRunbook-Workflow*.</span></span>
5. <span data-ttu-id="51047-131">W takim przypadku zamierzamy toocreate [runbook przepływu pracy programu PowerShell](automation-runbook-types.md#powershell-workflow-runbooks) tak wybierz **przepływu pracy programu Powershell** dla **typ elementu Runbook**.</span><span class="sxs-lookup"><span data-stu-id="51047-131">In this case, we're going toocreate a [PowerShell Workflow runbook](automation-runbook-types.md#powershell-workflow-runbooks) so select **Powershell Workflow** for **Runbook type**.</span></span><br><br> <span data-ttu-id="51047-132">![Nowy element Runbook](media/automation-first-runbook-textual/new-runbook-properties.png)</span><span class="sxs-lookup"><span data-stu-id="51047-132">![New runbook](media/automation-first-runbook-textual/new-runbook-properties.png)</span></span>
6. <span data-ttu-id="51047-133">Kliknij przycisk **Utwórz** toocreate hello elementu runbook i hello Otwórz edytor tekstowy.</span><span class="sxs-lookup"><span data-stu-id="51047-133">Click **Create** toocreate hello runbook and open hello textual editor.</span></span>

## <a name="step-2---add-code-toohello-runbook"></a><span data-ttu-id="51047-134">Krok 2 — Dodaj kod toohello runbook</span><span class="sxs-lookup"><span data-stu-id="51047-134">Step 2 - Add code toohello runbook</span></span>
<span data-ttu-id="51047-135">Można albo kod typu bezpośrednio do elementu runbook hello, lub można wybrać polecenia cmdlet, elementy runbook i zasoby z hello formant biblioteki i ich dodano toohello runbook za pomocą parametrów powiązanych.</span><span class="sxs-lookup"><span data-stu-id="51047-135">You can either type code directly into hello runbook, or you can select cmdlets, runbooks, and assets from hello Library control and have them added toohello runbook with any related parameters.</span></span> <span data-ttu-id="51047-136">W ramach tego przewodnika firma Microsoft będzie wpisać bezpośrednio w hello elementu runbook.</span><span class="sxs-lookup"><span data-stu-id="51047-136">For this walkthrough, we'll type directly into hello runbook.</span></span>

1. <span data-ttu-id="51047-137">Nasze elementu runbook jest obecnie pusta z tylko hello wymagane *przepływu pracy* — słowo kluczowe, nazwę hello naszych runbook i nawiasów klamrowych hello, które będą encase hello całego przepływu pracy.</span><span class="sxs-lookup"><span data-stu-id="51047-137">Our runbook is currently empty with only hello required *workflow* keyword, hello name of our runbook, and hello braces that will encase hello entire workflow.</span></span>

   ```
   Workflow MyFirstRunbook-Workflow
   {
   }
   ```
2. <span data-ttu-id="51047-138">Wpisz ciąg *Write-Output „Witaj, świecie”*</span><span class="sxs-lookup"><span data-stu-id="51047-138">Type *Write-Output "Hello World."*</span></span> <span data-ttu-id="51047-139">nawiasach hello.</span><span class="sxs-lookup"><span data-stu-id="51047-139">between hello braces.</span></span>

   ```
   Workflow MyFirstRunbook-Workflow
   {
   Write-Output "Hello World"
   }
   ```
3. <span data-ttu-id="51047-140">Zapisz element runbook hello, klikając **zapisać**.</span><span class="sxs-lookup"><span data-stu-id="51047-140">Save hello runbook by clicking **Save**.</span></span><br><br> <span data-ttu-id="51047-141">![Zapisywanie elementu Runbook](media/automation-first-runbook-textual/automation-runbook-edit-controls-save.png)</span><span class="sxs-lookup"><span data-stu-id="51047-141">![Save runbook](media/automation-first-runbook-textual/automation-runbook-edit-controls-save.png)</span></span>

## <a name="step-3---test-hello-runbook"></a><span data-ttu-id="51047-142">Krok 3 - Test hello runbook</span><span class="sxs-lookup"><span data-stu-id="51047-142">Step 3 - Test hello runbook</span></span>
<span data-ttu-id="51047-143">Zanim firma Microsoft publikować hello runbook toomake go dostępne w środowisku produkcyjnym, chcemy tootest on toomake się upewnić, że działa on prawidłowo.</span><span class="sxs-lookup"><span data-stu-id="51047-143">Before we publish hello runbook toomake it available in production, we want tootest it toomake sure that it works properly.</span></span> <span data-ttu-id="51047-144">Testowanie elementu Runbook polega na uruchomieniu jego **wersji roboczej** i interaktywnym przejrzeniu danych wyjściowych.</span><span class="sxs-lookup"><span data-stu-id="51047-144">When you test a runbook, you run its **Draft** version and view its output interactively.</span></span>

1. <span data-ttu-id="51047-145">Kliknij przycisk **okienku testu** tooopen hello testu okienka.</span><span class="sxs-lookup"><span data-stu-id="51047-145">Click **Test pane** tooopen hello Test pane.</span></span><br><br> <span data-ttu-id="51047-146">![Okienko testowania](media/automation-first-runbook-textual/automation-runbook-edit-controls-test.png)</span><span class="sxs-lookup"><span data-stu-id="51047-146">![Test pane](media/automation-first-runbook-textual/automation-runbook-edit-controls-test.png)</span></span>
2. <span data-ttu-id="51047-147">Kliknij przycisk **Start** toostart hello testu.</span><span class="sxs-lookup"><span data-stu-id="51047-147">Click **Start** toostart hello test.</span></span> <span data-ttu-id="51047-148">Powinno to być hello włączyć tylko opcję.</span><span class="sxs-lookup"><span data-stu-id="51047-148">This should be hello only enabled option.</span></span>
3. <span data-ttu-id="51047-149">Zostanie utworzone [zadanie elementu Runbook](automation-runbook-execution.md) i pojawi się jego stan.</span><span class="sxs-lookup"><span data-stu-id="51047-149">A [runbook job](automation-runbook-execution.md) is created and its status displayed.</span></span>  
   <span data-ttu-id="51047-150">Stan zadania Hello zostanie uruchomiona jako *w kolejce* wskazujący, że oczekuje na proces roboczy elementu runbook, w toocome chmury hello dostępne.</span><span class="sxs-lookup"><span data-stu-id="51047-150">hello job status will start as *Queued* indicating that it is waiting for a runbook worker in hello cloud toocome available.</span></span> <span data-ttu-id="51047-151">Będzie on przenoszony za*uruchamianie* gdy pracownik oświadczeń hello zadania, a następnie *systemem* , gdy element runbook hello faktycznie zacznie działać.</span><span class="sxs-lookup"><span data-stu-id="51047-151">It will then move too*Starting* when a worker claims hello job, and then *Running* when hello runbook actually starts running.</span></span>  
4. <span data-ttu-id="51047-152">Po zakończeniu zadania elementu runbook hello jego dane wyjściowe są wyświetlane.</span><span class="sxs-lookup"><span data-stu-id="51047-152">When hello runbook job completes, its output is displayed.</span></span> <span data-ttu-id="51047-153">W naszym przypadku powinien być widoczny ciąg *Witaj, świecie*.</span><span class="sxs-lookup"><span data-stu-id="51047-153">In our case, we should see *Hello World*.</span></span><br><br> <span data-ttu-id="51047-154">![Witaj, świecie](media/automation-first-runbook-textual/test-output-hello-world.png)</span><span class="sxs-lookup"><span data-stu-id="51047-154">![Hello World](media/automation-first-runbook-textual/test-output-hello-world.png)</span></span>
5. <span data-ttu-id="51047-155">Zamknij hello testu okienku tooreturn toohello kanwy.</span><span class="sxs-lookup"><span data-stu-id="51047-155">Close hello Test pane tooreturn toohello canvas.</span></span>

## <a name="step-4---publish-and-start-hello-runbook"></a><span data-ttu-id="51047-156">Krok 4 — publikowanie i uruchomić hello elementu runbook</span><span class="sxs-lookup"><span data-stu-id="51047-156">Step 4 - Publish and start hello runbook</span></span>
<span data-ttu-id="51047-157">Witaj elementu runbook, który właśnie utworzony jest nadal w trybie wersji roboczej.</span><span class="sxs-lookup"><span data-stu-id="51047-157">hello runbook that we just created is still in Draft mode.</span></span> <span data-ttu-id="51047-158">Potrzebujemy toopublish go przed możemy można uruchomić w środowisku produkcyjnym.</span><span class="sxs-lookup"><span data-stu-id="51047-158">We need toopublish it before we can run it in production.</span></span> <span data-ttu-id="51047-159">Podczas publikowania elementu runbook, należy zastąpić hello istniejącej opublikowanej wersji hello wersję roboczą.</span><span class="sxs-lookup"><span data-stu-id="51047-159">When you publish a runbook, you overwrite hello existing Published version with hello Draft version.</span></span> <span data-ttu-id="51047-160">W tym przypadku nie mamy wersję opublikowaną jeszcze ponieważ właśnie utworzyliśmy hello elementu runbook.</span><span class="sxs-lookup"><span data-stu-id="51047-160">In our case, we don't have a Published version yet because we just created hello runbook.</span></span>

1. <span data-ttu-id="51047-161">Kliknij przycisk **publikowania** toopublish hello runbook, a następnie **tak** po wyświetleniu monitu.</span><span class="sxs-lookup"><span data-stu-id="51047-161">Click **Publish** toopublish hello runbook and then **Yes** when prompted.</span></span><br><br> <span data-ttu-id="51047-162">![Publikowanie](media/automation-first-runbook-textual/automation-runbook-edit-controls-publish.png)</span><span class="sxs-lookup"><span data-stu-id="51047-162">![Publish](media/automation-first-runbook-textual/automation-runbook-edit-controls-publish.png)</span></span>
2. <span data-ttu-id="51047-163">Podczas przewijania tooview po lewej stronie powitania runbook w programie hello **elementów Runbook** okienko teraz, zostanie wyświetlona **stan pisania przyp** z **opublikowano**.</span><span class="sxs-lookup"><span data-stu-id="51047-163">If you scroll left tooview hello runbook in hello **Runbooks** pane now, it will show an **Authoring Status** of **Published**.</span></span>
3. <span data-ttu-id="51047-164">Przewijania wstecz toohello prawo tooview hello okienka **przepływu pracy MyFirstRunbook**.</span><span class="sxs-lookup"><span data-stu-id="51047-164">Scroll back toohello right tooview hello pane for **MyFirstRunbook-Workflow**.</span></span>  
   <span data-ttu-id="51047-165">Witaj opcje górze hello zezwolić nam toostart hello runbook, zaplanowane toostart w czasie w przyszłości hello lub tworzenia [elementu webhook](automation-webhooks.md) , może być uruchamiany za pośrednictwem połączenia HTTP.</span><span class="sxs-lookup"><span data-stu-id="51047-165">hello options across hello top allow us toostart hello runbook, schedule it toostart at some time in hello future, or create a [webhook](automation-webhooks.md) so it can be started through an HTTP call.</span></span>
4. <span data-ttu-id="51047-166">Chcemy tylko toostart hello runbook więc klikamy **Start** , a następnie **tak** po wyświetleniu monitu.</span><span class="sxs-lookup"><span data-stu-id="51047-166">We just want toostart hello runbook so click **Start** and then **Yes** when prompted.</span></span><br><br> <span data-ttu-id="51047-167">![Uruchamianie elementu Runbook](media/automation-first-runbook-textual/automation-runbook-controls-start.png)</span><span class="sxs-lookup"><span data-stu-id="51047-167">![Start runbook](media/automation-first-runbook-textual/automation-runbook-controls-start.png)</span></span>
5. <span data-ttu-id="51047-168">Okienko zadania został otwarty do hello zadanie elementu runbook, który właśnie utworzony.</span><span class="sxs-lookup"><span data-stu-id="51047-168">A job pane is opened for hello runbook job that we just created.</span></span> <span data-ttu-id="51047-169">Możemy zamknąć w tym okienku, ale w takim przypadku pozostanie on otwarte aby firma Microsoft obserwować postęp zadania hello.</span><span class="sxs-lookup"><span data-stu-id="51047-169">We can close this pane, but in this case we'll leave it open so we can watch hello job's progress.</span></span>
6. <span data-ttu-id="51047-170">Stan zadania Hello jest wyświetlany w **Podsumowanie zadania** i dopasowań hello stany widzieliśmy po przetestowaliśmy hello elementu runbook.</span><span class="sxs-lookup"><span data-stu-id="51047-170">hello job status is shown in **Job Summary** and matches hello statuses that we saw when we tested hello runbook.</span></span><br><br> <span data-ttu-id="51047-171">![Podsumowanie zadania](media/automation-first-runbook-textual/job-pane-status-blade-jobsummary.png)</span><span class="sxs-lookup"><span data-stu-id="51047-171">![Job Summary](media/automation-first-runbook-textual/job-pane-status-blade-jobsummary.png)</span></span>
7. <span data-ttu-id="51047-172">Raz hello pokazuje stan elementu runbook *Ukończono*, kliknij przycisk **dane wyjściowe**.</span><span class="sxs-lookup"><span data-stu-id="51047-172">Once hello runbook status shows *Completed*, click **Output**.</span></span> <span data-ttu-id="51047-173">w okienku z wyjściem Hello jest otwarty i możemy stwierdzić, naszych *Hello World*.</span><span class="sxs-lookup"><span data-stu-id="51047-173">hello Output pane is opened, and we can see our *Hello World*.</span></span><br><br> <span data-ttu-id="51047-174">![Podsumowanie zadania](media/automation-first-runbook-textual/job-pane-status-blade-outputtile.png)</span><span class="sxs-lookup"><span data-stu-id="51047-174">![Job Summary](media/automation-first-runbook-textual/job-pane-status-blade-outputtile.png)</span></span>  
8. <span data-ttu-id="51047-175">W okienku z wyjściem hello Zamknij.</span><span class="sxs-lookup"><span data-stu-id="51047-175">Close hello Output pane.</span></span>
9. <span data-ttu-id="51047-176">Kliknij przycisk **wszystkie dzienniki** tooopen hello strumieni okienka hello zadanie elementu runbook.</span><span class="sxs-lookup"><span data-stu-id="51047-176">Click **All Logs** tooopen hello Streams pane for hello runbook job.</span></span> <span data-ttu-id="51047-177">Firma Microsoft powinien zobaczyć tylko *Hello World* w danych wyjściowych hello strumienia, ale mogą być prezentowane z innych strumieni dla zadania elementu runbook, takie jak Verbose i błąd hello runbook toothem zapisywać dane.</span><span class="sxs-lookup"><span data-stu-id="51047-177">We should only see *Hello World* in hello output stream, but this can show other streams for a runbook job such as Verbose and Error if hello runbook writes toothem.</span></span><br><br> <span data-ttu-id="51047-178">![Podsumowanie zadania](media/automation-first-runbook-textual/job-pane-status-blade-alllogstile.png)</span><span class="sxs-lookup"><span data-stu-id="51047-178">![Job Summary](media/automation-first-runbook-textual/job-pane-status-blade-alllogstile.png)</span></span>
10. <span data-ttu-id="51047-179">Zamknij okienko strumieni hello i hello zadania tooreturn toohello MyFirstRunbook okienko.</span><span class="sxs-lookup"><span data-stu-id="51047-179">Close hello Streams pane and hello Job pane tooreturn toohello MyFirstRunbook pane.</span></span>
11. <span data-ttu-id="51047-180">Kliknij przycisk **zadania** okienka zadań hello tooopen dla tego elementu runbook.</span><span class="sxs-lookup"><span data-stu-id="51047-180">Click **Jobs** tooopen hello Jobs pane for this runbook.</span></span> <span data-ttu-id="51047-181">Ta lista zawiera wszystkie hello zadań utworzonych przez ten element runbook.</span><span class="sxs-lookup"><span data-stu-id="51047-181">This lists all of hello jobs created by this runbook.</span></span> <span data-ttu-id="51047-182">Widzimy powinien tylko jedno zadanie na liście, ponieważ tylko wystąpił hello zadania raz.</span><span class="sxs-lookup"><span data-stu-id="51047-182">We should only see one job listed since we only ran hello job once.</span></span><br><br> <span data-ttu-id="51047-183">![Zadania](media/automation-first-runbook-textual/runbook-control-job-tile.png)</span><span class="sxs-lookup"><span data-stu-id="51047-183">![Jobs](media/automation-first-runbook-textual/runbook-control-job-tile.png)</span></span>
12. <span data-ttu-id="51047-184">Możesz kliknąć ten hello tooopen zadania sam okienka zadania, które możemy wyświetlić przy uruchamianiu firma Microsoft hello runbook.</span><span class="sxs-lookup"><span data-stu-id="51047-184">You can click on this job tooopen hello same Job pane that we viewed when we started hello runbook.</span></span> <span data-ttu-id="51047-185">Dzięki temu można toogo Wstecz w czasie i wyświetlenia jej szczegółów hello wszystkie zadania, które zostało utworzone dla określonego elementu runbook.</span><span class="sxs-lookup"><span data-stu-id="51047-185">This allows you toogo back in time and view hello details of any job that was created for a particular runbook.</span></span>

## <a name="step-5---add-authentication-toomanage-azure-resources"></a><span data-ttu-id="51047-186">Krok 5 — Dodawanie uwierzytelniania toomanage zasobów platformy Azure</span><span class="sxs-lookup"><span data-stu-id="51047-186">Step 5 - Add authentication toomanage Azure resources</span></span>
<span data-ttu-id="51047-187">Nasz element Runbook został przetestowany i opublikowany, ale jak do tej pory nie wykonuje on żadnych użytecznych czynności.</span><span class="sxs-lookup"><span data-stu-id="51047-187">We've tested and published our runbook, but so far it doesn't do anything useful.</span></span> <span data-ttu-id="51047-188">Chcemy toohave go zarządzania zasobami Azure.</span><span class="sxs-lookup"><span data-stu-id="51047-188">We want toohave it manage Azure resources.</span></span> <span data-ttu-id="51047-189">Nie będzie stanie toodo, że chociaż chyba, że mamy uwierzytelniania przy użyciu poświadczeń hello określonym tooin hello [wymagania wstępne](#prerequisites).</span><span class="sxs-lookup"><span data-stu-id="51047-189">It won't be able toodo that though unless we have it authenticate using hello credentials that are referred tooin hello [prerequisites](#prerequisites).</span></span> <span data-ttu-id="51047-190">Przejdziemy z hello **Add-AzureRMAccount** polecenia cmdlet.</span><span class="sxs-lookup"><span data-stu-id="51047-190">We do that with hello **Add-AzureRMAccount** cmdlet.</span></span>

1. <span data-ttu-id="51047-191">Hello Otwórz edytor tekstowy, klikając **Edytuj** w okienku hello MyFirstRunbook — przepływ pracy.</span><span class="sxs-lookup"><span data-stu-id="51047-191">Open hello textual editor by clicking **Edit** on hello MyFirstRunbook-Workflow pane.</span></span><br><br> <span data-ttu-id="51047-192">![Edytowanie elementu Runbook](media/automation-first-runbook-textual/automation-runbook-controls-edit.png)</span><span class="sxs-lookup"><span data-stu-id="51047-192">![Edit runbook](media/automation-first-runbook-textual/automation-runbook-controls-edit.png)</span></span>
2. <span data-ttu-id="51047-193">Firma Microsoft nie ma potrzeby hello **Write-Output** wiersz już, więc Przejdź dalej i usuń go.</span><span class="sxs-lookup"><span data-stu-id="51047-193">We don't need hello **Write-Output** line anymore, so go ahead and delete it.</span></span>
3. <span data-ttu-id="51047-194">Umieść kursor hello w nawiasach klamrowych hello pustym wierszu.</span><span class="sxs-lookup"><span data-stu-id="51047-194">Position hello cursor on a blank line between hello braces.</span></span>
4. <span data-ttu-id="51047-195">Wpisz lub skopiuj i Wklej hello następującego kodu, który będzie obsługiwał hello uwierzytelniania przy użyciu konta Uruchom jako automatyzacji:</span><span class="sxs-lookup"><span data-stu-id="51047-195">Type or copy and paste hello following code that will handle hello authentication with your Automation Run As account:</span></span>

   ```
   $Conn = Get-AutomationConnection -Name AzureRunAsConnection
   Add-AzureRMAccount -ServicePrincipal -Tenant $Conn.TenantID `
   -ApplicationId $Conn.ApplicationID -CertificateThumbprint $Conn.CertificateThumbprint
   ```
5. <span data-ttu-id="51047-196">Kliknij przycisk **okienku testu** tak, aby można było przetestować hello elementu runbook.</span><span class="sxs-lookup"><span data-stu-id="51047-196">Click **Test pane** so that we can test hello runbook.</span></span>
6. <span data-ttu-id="51047-197">Kliknij przycisk **Start** toostart hello testu.</span><span class="sxs-lookup"><span data-stu-id="51047-197">Click **Start** toostart hello test.</span></span> <span data-ttu-id="51047-198">Po zakończeniu działania, powinien zostać wyświetlony toohello podobne dane wyjściowe po, wyświetlania podstawowych informacji z Twojego konta.</span><span class="sxs-lookup"><span data-stu-id="51047-198">Once it completes, you should receive output similar toohello following, displaying basic information from your account.</span></span> <span data-ttu-id="51047-199">Potwierdza to, że to poświadczenie hello jest prawidłowy.</span><span class="sxs-lookup"><span data-stu-id="51047-199">This confirms that hello credential is valid.</span></span><br><br> <span data-ttu-id="51047-200">![Uwierzytelnianie](media/automation-first-runbook-textual/runbook-auth-output.png)</span><span class="sxs-lookup"><span data-stu-id="51047-200">![Authenticate](media/automation-first-runbook-textual/runbook-auth-output.png)</span></span>

## <a name="step-6---add-code-toostart-a-virtual-machine"></a><span data-ttu-id="51047-201">Krok 6 — Dodaj kod toostart maszyny wirtualnej</span><span class="sxs-lookup"><span data-stu-id="51047-201">Step 6 - Add code toostart a virtual machine</span></span>
<span data-ttu-id="51047-202">Teraz, gdy naszych runbook uwierzytelnia tooour subskrypcji platformy Azure, firma Microsoft mogą zarządzać zasobami.</span><span class="sxs-lookup"><span data-stu-id="51047-202">Now that our runbook is authenticating tooour Azure subscription, we can manage resources.</span></span> <span data-ttu-id="51047-203">Dodamy toostart polecenia maszyny wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="51047-203">We add a command toostart a virtual machine.</span></span> <span data-ttu-id="51047-204">Można wybrać żadnej maszyny wirtualnej w ramach subskrypcji platformy Azure, a teraz będziemy hardcoding o nazwie w elemencie runbook hello.</span><span class="sxs-lookup"><span data-stu-id="51047-204">You can pick any virtual machine in your Azure subscription, and for now we will be hardcoding that name in hello runbook.</span></span>

1. <span data-ttu-id="51047-205">Po *Add-AzureRmAccount*, typ *Start AzureRmVM-Name "VMName" - ResourceGroupName "NameofResourceGroup"* podanie nazwy hello i nazwę grupy zasobów hello toostart maszyny wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="51047-205">After *Add-AzureRmAccount*, type *Start-AzureRmVM -Name 'VMName' -ResourceGroupName 'NameofResourceGroup'* providing hello name and Resource Group name of hello virtual machine toostart.</span></span>  

   ```
   workflow MyFirstRunbook-Workflow
   {
   $Conn = Get-AutomationConnection -Name AzureRunAsConnection
   Add-AzureRMAccount -ServicePrincipal -Tenant $Conn.TenantID -ApplicationId $Conn.ApplicationID -CertificateThumbprint $Conn.CertificateThumbprint
   Start-AzureRmVM -Name 'VMName' -ResourceGroupName 'ResourceGroupName'
   }
   ```
2. <span data-ttu-id="51047-206">Zapisz hello elementu runbook, a następnie kliknij przycisk **okienku testu** tak, aby można było przetestować go.</span><span class="sxs-lookup"><span data-stu-id="51047-206">Save hello runbook and then click **Test pane** so that we can test it.</span></span>
3. <span data-ttu-id="51047-207">Kliknij przycisk **Start** toostart hello testu.</span><span class="sxs-lookup"><span data-stu-id="51047-207">Click **Start** toostart hello test.</span></span> <span data-ttu-id="51047-208">Po zakończeniu instalacji sprawdź, czy hello maszyny wirtualnej została uruchomiona.</span><span class="sxs-lookup"><span data-stu-id="51047-208">Once it completes, check that hello virtual machine was started.</span></span>

## <a name="step-7---add-an-input-parameter-toohello-runbook"></a><span data-ttu-id="51047-209">Krok 7 — Dodaj element runbook toohello parametru wejściowego</span><span class="sxs-lookup"><span data-stu-id="51047-209">Step 7 - Add an input parameter toohello runbook</span></span>
<span data-ttu-id="51047-210">Nasze runbook aktualnie uruchamia hello wirtualnej maszyny, że firma Microsoft zapisane na stałe w elemencie runbook hello, ale byłoby bardziej użyteczna, jeśli firma Microsoft może określać hello maszyny wirtualnej po uruchomieniu elementu runbook hello.</span><span class="sxs-lookup"><span data-stu-id="51047-210">Our runbook currently starts hello virtual machine that we hardcoded in hello runbook, but it would be more useful if we could specify hello virtual machine when hello runbook is started.</span></span> <span data-ttu-id="51047-211">Teraz dodamy parametrów wejściowych toohello runbook tooprovide te funkcje.</span><span class="sxs-lookup"><span data-stu-id="51047-211">We will now add input parameters toohello runbook tooprovide that functionality.</span></span>

1. <span data-ttu-id="51047-212">Dodaj parametry *VMName* i *ResourceGroupName* toohello runbook i użyć tych zmiennych hello **Start AzureRmVM** polecenia cmdlet, jak w poniższym przykładzie hello.</span><span class="sxs-lookup"><span data-stu-id="51047-212">Add parameters for *VMName* and *ResourceGroupName* toohello runbook and use these variables with hello **Start-AzureRmVM** cmdlet as in hello example below.</span></span>

   ```
   workflow MyFirstRunbook-Workflow
   {
    Param(
     [string]$VMName,
     [string]$ResourceGroupName
    )  
   $Conn = Get-AutomationConnection -Name AzureRunAsConnection
   Add-AzureRMAccount -ServicePrincipal -Tenant $Conn.TenantID -ApplicationId $Conn.ApplicationID -CertificateThumbprint $Conn.CertificateThumbprint
   Start-AzureRmVM -Name $VMName -ResourceGroupName $ResourceGroupName
   }
   ```
2. <span data-ttu-id="51047-213">Zapisz hello runbook i otwórz okienko testu hello.</span><span class="sxs-lookup"><span data-stu-id="51047-213">Save hello runbook and open hello Test pane.</span></span> <span data-ttu-id="51047-214">Należy pamiętać, że użytkownik może teraz wartości dla hello dwie zmienne wejściowe, które zostaną użyte w badaniu hello.</span><span class="sxs-lookup"><span data-stu-id="51047-214">Note that you can now provide values for hello two input variables that will be used in hello test.</span></span>
3. <span data-ttu-id="51047-215">Zamknij hello okienku testu.</span><span class="sxs-lookup"><span data-stu-id="51047-215">Close hello Test pane.</span></span>
4. <span data-ttu-id="51047-216">Kliknij przycisk **publikowania** toopublish hello nowej wersji elementu hello runbook.</span><span class="sxs-lookup"><span data-stu-id="51047-216">Click **Publish** toopublish hello new version of hello runbook.</span></span>
5. <span data-ttu-id="51047-217">Zatrzymaj hello maszyny wirtualnej, który został uruchomiony w poprzednim kroku hello.</span><span class="sxs-lookup"><span data-stu-id="51047-217">Stop hello virtual machine that you started in hello previous step.</span></span>
6. <span data-ttu-id="51047-218">Kliknij przycisk **Start** toostart hello runbook.</span><span class="sxs-lookup"><span data-stu-id="51047-218">Click **Start** toostart hello runbook.</span></span> <span data-ttu-id="51047-219">Typ w hello **VMName** i **ResourceGroupName** dla maszyny wirtualnej hello zacząć toostart.</span><span class="sxs-lookup"><span data-stu-id="51047-219">Type in hello **VMName** and **ResourceGroupName** for hello virtual machine that you're going toostart.</span></span><br><br> <span data-ttu-id="51047-220">![Uruchamianie elementu Runbook](media/automation-first-runbook-textual/automation-pass-params.png)</span><span class="sxs-lookup"><span data-stu-id="51047-220">![Start Runbook](media/automation-first-runbook-textual/automation-pass-params.png)</span></span><br>  
7. <span data-ttu-id="51047-221">Po zakończeniu działania elementu runbook hello, sprawdź, czy hello maszyny wirtualnej została uruchomiona.</span><span class="sxs-lookup"><span data-stu-id="51047-221">When hello runbook completes, check that hello virtual machine was started.</span></span>  

## <a name="next-steps"></a><span data-ttu-id="51047-222">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="51047-222">Next steps</span></span>
* <span data-ttu-id="51047-223">tooget wprowadzenie do graficznych elementów runbook, zobacz [Mój pierwszy graficznym elementem runbook](automation-first-runbook-graphical.md)</span><span class="sxs-lookup"><span data-stu-id="51047-223">tooget started with Graphical runbooks, see [My first graphical runbook](automation-first-runbook-graphical.md)</span></span>
* <span data-ttu-id="51047-224">tooget pracę z elementów runbook programu PowerShell, zobacz [Moje pierwszego elementu runbook programu PowerShell](automation-first-runbook-textual-powershell.md)</span><span class="sxs-lookup"><span data-stu-id="51047-224">tooget started with PowerShell runbooks, see [My first PowerShell runbook](automation-first-runbook-textual-powershell.md)</span></span>
* <span data-ttu-id="51047-225">Zobacz toolearn więcej informacji na temat typów elementów runbook, ich zalety i ograniczenia, [typy elementu runbook usługi Automatyzacja Azure](automation-runbook-types.md)</span><span class="sxs-lookup"><span data-stu-id="51047-225">toolearn more about runbook types, their advantages and limitations, see [Azure Automation runbook types](automation-runbook-types.md)</span></span>
* <span data-ttu-id="51047-226">Aby uzyskać więcej informacji o funkcji obsługi skryptów programu PowerShell, zobacz artykuł [Native PowerShell script support in Azure Automation](https://azure.microsoft.com/blog/announcing-powershell-script-support-azure-automation-2/) (Obsługa natywnych skryptów programu PowerShell w usłudze Azure Automation).</span><span class="sxs-lookup"><span data-stu-id="51047-226">For more information on PowerShell script support feature, see [Native PowerShell script support in Azure Automation](https://azure.microsoft.com/blog/announcing-powershell-script-support-azure-automation-2/)</span></span>
