---
title: "aaaForward tooOMS dane zadanie usługi Automatyzacja Azure Log Analytics | Dokumentacja firmy Microsoft"
description: "W tym artykule przedstawiono sposób toosend stanu i runbook zadanie strumieni tooMicrosoft Operations Management Suite Log Analytics toodeliver dodatkowe szczegółowe dane i zarządzania."
services: automation
documentationcenter: 
author: MGoedtel
manager: carmonm
editor: tysonn
ms.assetid: c12724c6-01a9-4b55-80ae-d8b7b99bd436
ms.service: automation
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 06/02/2017
ms.author: magoedte
ms.openlocfilehash: e78b6c6677d6502711ce828e2d32b7a91922ae26
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="forward-job-status-and-job-streams-from-automation-toolog-analytics-oms"></a><span data-ttu-id="001d6-103">Przekazuj strumienie zadania i stan zadania z automatyzacji tooLog Analytics (OMS)</span><span class="sxs-lookup"><span data-stu-id="001d6-103">Forward job status and job streams from Automation tooLog Analytics (OMS)</span></span>
<span data-ttu-id="001d6-104">Automatyzacja może wysyłać runbook zadania stanu i zadania strumienie tooyour programu Microsoft Operations Management Suite (OMS) obszar roboczy analizy dzienników.</span><span class="sxs-lookup"><span data-stu-id="001d6-104">Automation can send runbook job status and job streams tooyour Microsoft Operations Management Suite (OMS) Log Analytics workspace.</span></span>  <span data-ttu-id="001d6-105">Rejestruje zadania i strumieni zadania są widoczne w portalu Azure hello lub przy użyciu programu PowerShell, dla poszczególnych zadań, a to pozwala tooperform dochodzenia proste.</span><span class="sxs-lookup"><span data-stu-id="001d6-105">Job logs and job streams are visible in hello Azure portal, or with PowerShell, for individual jobs and this allows you tooperform simple investigations.</span></span> <span data-ttu-id="001d6-106">Teraz przy użyciu analizy dzienników można:</span><span class="sxs-lookup"><span data-stu-id="001d6-106">Now with Log Analytics you can:</span></span>

* <span data-ttu-id="001d6-107">Uzyskiwanie wglądu w zadaniach automatyzacji</span><span class="sxs-lookup"><span data-stu-id="001d6-107">Get insight on your Automation jobs</span></span>
* <span data-ttu-id="001d6-108">Wyzwalacz poczty e-mail lub alertu oparte na stan zadania elementu runbook (na przykład nie powiodło się lub wstrzymane)</span><span class="sxs-lookup"><span data-stu-id="001d6-108">Trigger an email or alert based on your runbook job status (for example, failed or suspended)</span></span>
* <span data-ttu-id="001d6-109">Zapis zaawansowanych zapytań na strumienie zadania</span><span class="sxs-lookup"><span data-stu-id="001d6-109">Write advanced queries across your job streams</span></span>
* <span data-ttu-id="001d6-110">Korelowanie zadań na konta automatyzacji</span><span class="sxs-lookup"><span data-stu-id="001d6-110">Correlate jobs across Automation accounts</span></span>
* <span data-ttu-id="001d6-111">Wizualizuj historię zadania wraz z upływem czasu</span><span class="sxs-lookup"><span data-stu-id="001d6-111">Visualize your job history over time</span></span>     

## <a name="prerequisites-and-deployment-considerations"></a><span data-ttu-id="001d6-112">Wymagania wstępne i zagadnienia dotyczące wdrażania</span><span class="sxs-lookup"><span data-stu-id="001d6-112">Prerequisites and deployment considerations</span></span>
<span data-ttu-id="001d6-113">toostart Wysyłanie Twojej automatyzacji w dziennikach tooLog Analytics, należy:</span><span class="sxs-lookup"><span data-stu-id="001d6-113">toostart sending your Automation logs tooLog Analytics, you need:</span></span>

1. <span data-ttu-id="001d6-114">Witaj listopada 2016 lub nowszej wersji usługi [programu Azure PowerShell](https://docs.microsoft.com/powershell/azureps-cmdlets-docs/) (v2.3.0).</span><span class="sxs-lookup"><span data-stu-id="001d6-114">hello November 2016 or later release of [Azure PowerShell](https://docs.microsoft.com/powershell/azureps-cmdlets-docs/) (v2.3.0).</span></span>
2. <span data-ttu-id="001d6-115">Obszar roboczy analizy dzienników.</span><span class="sxs-lookup"><span data-stu-id="001d6-115">A Log Analytics workspace.</span></span> <span data-ttu-id="001d6-116">Aby uzyskać więcej informacji, zobacz [wprowadzenie do analizy dzienników](../log-analytics/log-analytics-get-started.md).</span><span class="sxs-lookup"><span data-stu-id="001d6-116">For more information, see [Get started with Log Analytics](../log-analytics/log-analytics-get-started.md).</span></span> 
3. <span data-ttu-id="001d6-117">Witaj ResourceId dla Twojego konta usługi Automatyzacja Azure</span><span class="sxs-lookup"><span data-stu-id="001d6-117">hello ResourceId for your Azure Automation account</span></span>

<span data-ttu-id="001d6-118">Witaj toofind ResourceId dla konta usługi Automatyzacja Azure i obszaru roboczego analizy dzienników, uruchom hello następującego środowiska PowerShell:</span><span class="sxs-lookup"><span data-stu-id="001d6-118">toofind hello ResourceId for your Azure Automation account and Log Analytics workspace, run hello following PowerShell:</span></span>

```powershell
# Find hello ResourceId for hello Automation Account
Find-AzureRmResource -ResourceType "Microsoft.Automation/automationAccounts"

# Find hello ResourceId for hello Log Analytics workspace
Find-AzureRmResource -ResourceType "Microsoft.OperationalInsights/workspaces"
```

<span data-ttu-id="001d6-119">Jeśli masz wiele kont automatyzacji lub obszary robocze, w danych wyjściowych hello hello poprzedzających poleceń, Znajdź hello *nazwa* należy tooconfigure i skopiuj wartość hello *ResourceId*.</span><span class="sxs-lookup"><span data-stu-id="001d6-119">If you have multiple Automation accounts, or workspaces, in hello output of hello preceding commands, find hello *Name* you need tooconfigure and copy hello value for *ResourceId*.</span></span>

<span data-ttu-id="001d6-120">Jeśli potrzebujesz toofind hello *nazwa* Twojego konta automatyzacji w hello portalu Azure wybierz konto automatyzacji z hello **konto automatyzacji** bloku, a następnie wybierz **wszystkie ustawienia**.</span><span class="sxs-lookup"><span data-stu-id="001d6-120">If you need toofind hello *Name* of your Automation account, in hello Azure portal select your Automation account from hello **Automation account** blade and select **All settings**.</span></span>  <span data-ttu-id="001d6-121">Z hello **wszystkie ustawienia** bloku, w obszarze **ustawienia konta** wybierz **właściwości**.</span><span class="sxs-lookup"><span data-stu-id="001d6-121">From hello **All settings** blade, under **Account Settings** select **Properties**.</span></span>  <span data-ttu-id="001d6-122">W hello **właściwości** bloku, pamiętaj, te wartości.</span><span class="sxs-lookup"><span data-stu-id="001d6-122">In hello **Properties** blade, you can note these values.</span></span><br> <span data-ttu-id="001d6-123">![Właściwości konta automatyzacji](media/automation-manage-send-joblogs-log-analytics/automation-account-properties.png).</span><span class="sxs-lookup"><span data-stu-id="001d6-123">![Automation Account properties](media/automation-manage-send-joblogs-log-analytics/automation-account-properties.png).</span></span>

## <a name="set-up-integration-with-log-analytics"></a><span data-ttu-id="001d6-124">Konfigurowanie integracji z analizy dzienników</span><span class="sxs-lookup"><span data-stu-id="001d6-124">Set up integration with Log Analytics</span></span>
1. <span data-ttu-id="001d6-125">Na komputerze, należy uruchomić **programu Windows PowerShell** z hello **Start** ekranu.</span><span class="sxs-lookup"><span data-stu-id="001d6-125">On your computer, start **Windows PowerShell** from hello **Start** screen.</span></span>  
2. <span data-ttu-id="001d6-126">Skopiuj i Wklej hello następującego środowiska PowerShell i edytować wartość hello hello `$workspaceId` i `$automationAccountId`.</span><span class="sxs-lookup"><span data-stu-id="001d6-126">Copy and paste hello following PowerShell, and edit hello value for hello `$workspaceId` and `$automationAccountId`.</span></span>  <span data-ttu-id="001d6-127">Dla hello `-Environment` są prawidłowe wartości parametru, *AzureCloud* lub *AzureUSGovernment* w zależności od pracujesz w środowisku chmury hello.</span><span class="sxs-lookup"><span data-stu-id="001d6-127">For hello `-Environment` parameter, valid values are *AzureCloud* or *AzureUSGovernment* depending on hello cloud environment you are working in.</span></span>     

```powershell
[cmdletBinding()]
    Param
    (
        [Parameter(Mandatory=$True)]
        [ValidateSet("AzureCloud","AzureUSGovernment")]
        [string]$Environment="AzureCloud"
    )

#Check toosee which cloud environment toosign into.
Switch ($Environment)
   {
       "AzureCloud" {Login-AzureRmAccount}
       "AzureUSGovernment" {Login-AzureRmAccount -EnvironmentName AzureUSGovernment} 
   }

# if you have one Log Analytics workspace you can use hello following command tooget hello resource id of hello workspace
$workspaceId = (Get-AzureRmOperationalInsightsWorkspace).ResourceId

$automationAccountId = "/SUBSCRIPTIONS/ec11ca60-1234-491e-5678-0ea07feae25c/RESOURCEGROUPS/DEMO/PROVIDERS/MICROSOFT.AUTOMATION/ACCOUNTS/DEMO" 

Set-AzureRmDiagnosticSetting -ResourceId $automationAccountId -WorkspaceId $workspaceId -Enabled $true

```

<span data-ttu-id="001d6-128">Po uruchomieniu tego skryptu, zostanie wyświetlony w ciągu 10 minut nowe JobLogs lub JobStreams zapisywana rekordów w analizy dzienników.</span><span class="sxs-lookup"><span data-stu-id="001d6-128">After running this script, you will see records in Log Analytics within 10 minutes of new JobLogs or JobStreams being written.</span></span>

<span data-ttu-id="001d6-129">toosee hello dzienniki, uruchom następujące zapytanie operacji wyszukiwania dziennika analizy dzienników hello:`Type=AzureDiagnostics ResourceProvider="MICROSOFT.AUTOMATION"`</span><span class="sxs-lookup"><span data-stu-id="001d6-129">toosee hello logs, run hello following query in Log Analytics log search: `Type=AzureDiagnostics ResourceProvider="MICROSOFT.AUTOMATION"`</span></span>

### <a name="verify-configuration"></a><span data-ttu-id="001d6-130">Weryfikowanie konfiguracji</span><span class="sxs-lookup"><span data-stu-id="001d6-130">Verify configuration</span></span>
<span data-ttu-id="001d6-131">tooconfirm, który wysyła Twoje konto usługi Automatyzacja w dziennikach tooyour obszaru roboczego analizy dzienników, sprawdź, czy diagnostyki są poprawnie ustawione na koncie automatyzacji hello przy użyciu hello następującego środowiska PowerShell:</span><span class="sxs-lookup"><span data-stu-id="001d6-131">tooconfirm that your Automation account is sending logs tooyour Log Analytics workspace, check that diagnostics are set correctly on hello Automation account using hello following PowerShell:</span></span>

```powershell
[cmdletBinding()]
    Param
    (
        [Parameter(Mandatory=$True)]
        [ValidateSet("AzureCloud","AzureUSGovernment")]
        [string]$Environment="AzureCloud"
    )

#Check toosee which cloud environment toosign into.
Switch ($Environment)
   {
       "AzureCloud" {Login-AzureRmAccount}
       "AzureUSGovernment" {Login-AzureRmAccount -EnvironmentName AzureUSGovernment} 
   }
# if you have one Log Analytics workspace you can use hello following command tooget hello resource id of hello workspace
$workspaceId = (Get-AzureRmOperationalInsightsWorkspace).ResourceId

$automationAccountId = "/SUBSCRIPTIONS/ec11ca60-1234-491e-5678-0ea07feae25c/RESOURCEGROUPS/DEMO/PROVIDERS/MICROSOFT.AUTOMATION/ACCOUNTS/DEMO" 

Get-AzureRmDiagnosticSetting -ResourceId $automationAccountId
```

<span data-ttu-id="001d6-132">W danych wyjściowych hello upewnij się, że:</span><span class="sxs-lookup"><span data-stu-id="001d6-132">In hello output ensure that:</span></span>
+ <span data-ttu-id="001d6-133">W obszarze *dzienniki*, hello wartość *włączone* jest *wartość True*</span><span class="sxs-lookup"><span data-stu-id="001d6-133">Under *Logs*, hello value for *Enabled* is *True*</span></span>
+ <span data-ttu-id="001d6-134">Witaj wartość *WorkspaceId* ustawiono toohello ResourceId obszaru roboczego analizy dzienników</span><span class="sxs-lookup"><span data-stu-id="001d6-134">hello value of *WorkspaceId* is set toohello ResourceId of your Log Analytics workspace</span></span>


## <a name="log-analytics-records"></a><span data-ttu-id="001d6-135">Rekordy usługi Log Analytics</span><span class="sxs-lookup"><span data-stu-id="001d6-135">Log Analytics records</span></span>
<span data-ttu-id="001d6-136">Diagnostyka usługi Automatyzacja Azure tworzy dwa typy rekordów w analizy dzienników i są oznaczone jako **typu = AzureDiagnostics**.</span><span class="sxs-lookup"><span data-stu-id="001d6-136">Diagnostics from Azure Automation creates two types of records in Log Analytics and are tagged as **Type=AzureDiagnostics**.</span></span>

### <a name="job-logs"></a><span data-ttu-id="001d6-137">Rejestruje zadania</span><span class="sxs-lookup"><span data-stu-id="001d6-137">Job Logs</span></span>
| <span data-ttu-id="001d6-138">Właściwość</span><span class="sxs-lookup"><span data-stu-id="001d6-138">Property</span></span> | <span data-ttu-id="001d6-139">Opis</span><span class="sxs-lookup"><span data-stu-id="001d6-139">Description</span></span> |
| --- | --- |
| <span data-ttu-id="001d6-140">TimeGenerated</span><span class="sxs-lookup"><span data-stu-id="001d6-140">TimeGenerated</span></span> |<span data-ttu-id="001d6-141">Data i godzina, kiedy wykonać zadanie elementu runbook hello.</span><span class="sxs-lookup"><span data-stu-id="001d6-141">Date and time when hello runbook job executed.</span></span> |
| <span data-ttu-id="001d6-142">RunbookName_s</span><span class="sxs-lookup"><span data-stu-id="001d6-142">RunbookName_s</span></span> |<span data-ttu-id="001d6-143">Nazwa Hello hello elementu runbook.</span><span class="sxs-lookup"><span data-stu-id="001d6-143">hello name of hello runbook.</span></span> |
| <span data-ttu-id="001d6-144">Caller_s</span><span class="sxs-lookup"><span data-stu-id="001d6-144">Caller_s</span></span> |<span data-ttu-id="001d6-145">Kto zainicjował operację hello.</span><span class="sxs-lookup"><span data-stu-id="001d6-145">Who initiated hello operation.</span></span>  <span data-ttu-id="001d6-146">Możliwe wartości to adres e-mail lub system w przypadku zaplanowanych zadań.</span><span class="sxs-lookup"><span data-stu-id="001d6-146">Possible values are either an email address or system for scheduled jobs.</span></span> |
| <span data-ttu-id="001d6-147">Tenant_g</span><span class="sxs-lookup"><span data-stu-id="001d6-147">Tenant_g</span></span> | <span data-ttu-id="001d6-148">Identyfikator GUID, który identyfikuje hello dzierżawy hello wywołującego.</span><span class="sxs-lookup"><span data-stu-id="001d6-148">GUID that identifies hello tenant for hello Caller.</span></span> |
| <span data-ttu-id="001d6-149">JobId_g</span><span class="sxs-lookup"><span data-stu-id="001d6-149">JobId_g</span></span> |<span data-ttu-id="001d6-150">Identyfikator GUID jest hello identyfikator hello zadania elementu runbook.</span><span class="sxs-lookup"><span data-stu-id="001d6-150">GUID that is hello Id of hello runbook job.</span></span> |
| <span data-ttu-id="001d6-151">Typ ResultType</span><span class="sxs-lookup"><span data-stu-id="001d6-151">ResultType</span></span> |<span data-ttu-id="001d6-152">Stan Hello hello zadanie elementu runbook.</span><span class="sxs-lookup"><span data-stu-id="001d6-152">hello status of hello runbook job.</span></span>  <span data-ttu-id="001d6-153">Możliwe wartości:</span><span class="sxs-lookup"><span data-stu-id="001d6-153">Possible values are:</span></span><br><span data-ttu-id="001d6-154">— Uruchomione</span><span class="sxs-lookup"><span data-stu-id="001d6-154">- Started</span></span><br><span data-ttu-id="001d6-155">— Zatrzymane</span><span class="sxs-lookup"><span data-stu-id="001d6-155">- Stopped</span></span><br><span data-ttu-id="001d6-156">— Wstrzymane</span><span class="sxs-lookup"><span data-stu-id="001d6-156">- Suspended</span></span><br><span data-ttu-id="001d6-157">— Nie powiodło się</span><span class="sxs-lookup"><span data-stu-id="001d6-157">- Failed</span></span><br><span data-ttu-id="001d6-158">-Ukończone</span><span class="sxs-lookup"><span data-stu-id="001d6-158">- Completed</span></span> |
| <span data-ttu-id="001d6-159">Kategoria</span><span class="sxs-lookup"><span data-stu-id="001d6-159">Category</span></span> | <span data-ttu-id="001d6-160">Klasyfikacja hello typu danych.</span><span class="sxs-lookup"><span data-stu-id="001d6-160">Classification of hello type of data.</span></span>  <span data-ttu-id="001d6-161">Do automatyzacji wartość hello jest JobLogs.</span><span class="sxs-lookup"><span data-stu-id="001d6-161">For Automation, hello value is JobLogs.</span></span> |
| <span data-ttu-id="001d6-162">OperationName</span><span class="sxs-lookup"><span data-stu-id="001d6-162">OperationName</span></span> | <span data-ttu-id="001d6-163">Określa typ hello operacje wykonywane na platformie Azure.</span><span class="sxs-lookup"><span data-stu-id="001d6-163">Specifies hello type of operation performed in Azure.</span></span>  <span data-ttu-id="001d6-164">Do automatyzacji wartość hello jest zadanie.</span><span class="sxs-lookup"><span data-stu-id="001d6-164">For Automation, hello value is Job.</span></span> |
| <span data-ttu-id="001d6-165">Zasób</span><span class="sxs-lookup"><span data-stu-id="001d6-165">Resource</span></span> | <span data-ttu-id="001d6-166">Nazwa hello konta automatyzacji</span><span class="sxs-lookup"><span data-stu-id="001d6-166">Name of hello Automation account</span></span> |
| <span data-ttu-id="001d6-167">SourceSystem</span><span class="sxs-lookup"><span data-stu-id="001d6-167">SourceSystem</span></span> | <span data-ttu-id="001d6-168">Jak analizy dzienników zbierane dane hello.</span><span class="sxs-lookup"><span data-stu-id="001d6-168">How Log Analytics collected hello data.</span></span> <span data-ttu-id="001d6-169">Zawsze *Azure* diagnostyki Azure.</span><span class="sxs-lookup"><span data-stu-id="001d6-169">Always *Azure* for Azure diagnostics.</span></span> |
| <span data-ttu-id="001d6-170">ResultDescription</span><span class="sxs-lookup"><span data-stu-id="001d6-170">ResultDescription</span></span> |<span data-ttu-id="001d6-171">Opisuje stan wyniku zadania elementu runbook hello.</span><span class="sxs-lookup"><span data-stu-id="001d6-171">Describes hello runbook job result state.</span></span>  <span data-ttu-id="001d6-172">Możliwe wartości:</span><span class="sxs-lookup"><span data-stu-id="001d6-172">Possible values are:</span></span><br><span data-ttu-id="001d6-173">— Zadanie jest uruchomione</span><span class="sxs-lookup"><span data-stu-id="001d6-173">- Job is started</span></span><br><span data-ttu-id="001d6-174">— Zadanie nie powiodło się</span><span class="sxs-lookup"><span data-stu-id="001d6-174">- Job Failed</span></span><br><span data-ttu-id="001d6-175">— Zadanie zostało ukończone</span><span class="sxs-lookup"><span data-stu-id="001d6-175">- Job Completed</span></span> |
| <span data-ttu-id="001d6-176">CorrelationId</span><span class="sxs-lookup"><span data-stu-id="001d6-176">CorrelationId</span></span> |<span data-ttu-id="001d6-177">Identyfikator GUID jest hello identyfikator korelacji hello zadania elementu runbook.</span><span class="sxs-lookup"><span data-stu-id="001d6-177">GUID that is hello Correlation Id of hello runbook job.</span></span> |
| <span data-ttu-id="001d6-178">Identyfikator zasobu</span><span class="sxs-lookup"><span data-stu-id="001d6-178">ResourceId</span></span> |<span data-ttu-id="001d6-179">Określa identyfikator zasobu konto usługi Automatyzacja Azure hello hello elementu runbook.</span><span class="sxs-lookup"><span data-stu-id="001d6-179">Specifies hello Azure Automation account resource id of hello runbook.</span></span> |
| <span data-ttu-id="001d6-180">SubscriptionId</span><span class="sxs-lookup"><span data-stu-id="001d6-180">SubscriptionId</span></span> | <span data-ttu-id="001d6-181">Witaj subskrypcji platformy Azure identyfikatora (GUID) dla hello konta automatyzacji.</span><span class="sxs-lookup"><span data-stu-id="001d6-181">hello Azure subscription Id (GUID) for hello Automation account.</span></span> |
| <span data-ttu-id="001d6-182">ResourceGroup</span><span class="sxs-lookup"><span data-stu-id="001d6-182">ResourceGroup</span></span> | <span data-ttu-id="001d6-183">Nazwa grupy zasobów hello hello konta automatyzacji.</span><span class="sxs-lookup"><span data-stu-id="001d6-183">Name of hello resource group for hello Automation account.</span></span> |
| <span data-ttu-id="001d6-184">ResourceProvider</span><span class="sxs-lookup"><span data-stu-id="001d6-184">ResourceProvider</span></span> | <span data-ttu-id="001d6-185">FIRMY MICROSOFT. AUTOMATYZACJA</span><span class="sxs-lookup"><span data-stu-id="001d6-185">MICROSOFT.AUTOMATION</span></span> |
| <span data-ttu-id="001d6-186">ResourceType</span><span class="sxs-lookup"><span data-stu-id="001d6-186">ResourceType</span></span> | <span data-ttu-id="001d6-187">AUTOMATIONACCOUNTS</span><span class="sxs-lookup"><span data-stu-id="001d6-187">AUTOMATIONACCOUNTS</span></span> |


### <a name="job-streams"></a><span data-ttu-id="001d6-188">Strumienie zadania</span><span class="sxs-lookup"><span data-stu-id="001d6-188">Job Streams</span></span>
| <span data-ttu-id="001d6-189">Właściwość</span><span class="sxs-lookup"><span data-stu-id="001d6-189">Property</span></span> | <span data-ttu-id="001d6-190">Opis</span><span class="sxs-lookup"><span data-stu-id="001d6-190">Description</span></span> |
| --- | --- |
| <span data-ttu-id="001d6-191">TimeGenerated</span><span class="sxs-lookup"><span data-stu-id="001d6-191">TimeGenerated</span></span> |<span data-ttu-id="001d6-192">Data i godzina, kiedy wykonać zadanie elementu runbook hello.</span><span class="sxs-lookup"><span data-stu-id="001d6-192">Date and time when hello runbook job executed.</span></span> |
| <span data-ttu-id="001d6-193">RunbookName_s</span><span class="sxs-lookup"><span data-stu-id="001d6-193">RunbookName_s</span></span> |<span data-ttu-id="001d6-194">Nazwa Hello hello elementu runbook.</span><span class="sxs-lookup"><span data-stu-id="001d6-194">hello name of hello runbook.</span></span> |
| <span data-ttu-id="001d6-195">Caller_s</span><span class="sxs-lookup"><span data-stu-id="001d6-195">Caller_s</span></span> |<span data-ttu-id="001d6-196">Kto zainicjował operację hello.</span><span class="sxs-lookup"><span data-stu-id="001d6-196">Who initiated hello operation.</span></span>  <span data-ttu-id="001d6-197">Możliwe wartości to adres e-mail lub system w przypadku zaplanowanych zadań.</span><span class="sxs-lookup"><span data-stu-id="001d6-197">Possible values are either an email address or system for scheduled jobs.</span></span> |
| <span data-ttu-id="001d6-198">StreamType_s</span><span class="sxs-lookup"><span data-stu-id="001d6-198">StreamType_s</span></span> |<span data-ttu-id="001d6-199">Typ Hello strumienia zadania.</span><span class="sxs-lookup"><span data-stu-id="001d6-199">hello type of job stream.</span></span> <span data-ttu-id="001d6-200">Możliwe wartości:</span><span class="sxs-lookup"><span data-stu-id="001d6-200">Possible values are:</span></span><br><span data-ttu-id="001d6-201">— Postęp</span><span class="sxs-lookup"><span data-stu-id="001d6-201">-Progress</span></span><br><span data-ttu-id="001d6-202">— Dane wyjściowe</span><span class="sxs-lookup"><span data-stu-id="001d6-202">- Output</span></span><br><span data-ttu-id="001d6-203">— Ostrzeżenie</span><span class="sxs-lookup"><span data-stu-id="001d6-203">- Warning</span></span><br><span data-ttu-id="001d6-204">— Błąd</span><span class="sxs-lookup"><span data-stu-id="001d6-204">- Error</span></span><br><span data-ttu-id="001d6-205">— Debugowanie</span><span class="sxs-lookup"><span data-stu-id="001d6-205">- Debug</span></span><br><span data-ttu-id="001d6-206">— Pełne</span><span class="sxs-lookup"><span data-stu-id="001d6-206">- Verbose</span></span> |
| <span data-ttu-id="001d6-207">Tenant_g</span><span class="sxs-lookup"><span data-stu-id="001d6-207">Tenant_g</span></span> | <span data-ttu-id="001d6-208">Identyfikator GUID, który identyfikuje hello dzierżawy hello wywołującego.</span><span class="sxs-lookup"><span data-stu-id="001d6-208">GUID that identifies hello tenant for hello Caller.</span></span> |
| <span data-ttu-id="001d6-209">JobId_g</span><span class="sxs-lookup"><span data-stu-id="001d6-209">JobId_g</span></span> |<span data-ttu-id="001d6-210">Identyfikator GUID jest hello identyfikator hello zadania elementu runbook.</span><span class="sxs-lookup"><span data-stu-id="001d6-210">GUID that is hello Id of hello runbook job.</span></span> |
| <span data-ttu-id="001d6-211">Typ ResultType</span><span class="sxs-lookup"><span data-stu-id="001d6-211">ResultType</span></span> |<span data-ttu-id="001d6-212">Stan Hello hello zadanie elementu runbook.</span><span class="sxs-lookup"><span data-stu-id="001d6-212">hello status of hello runbook job.</span></span>  <span data-ttu-id="001d6-213">Możliwe wartości:</span><span class="sxs-lookup"><span data-stu-id="001d6-213">Possible values are:</span></span><br><span data-ttu-id="001d6-214">— W toku</span><span class="sxs-lookup"><span data-stu-id="001d6-214">- In Progress</span></span> |
| <span data-ttu-id="001d6-215">Kategoria</span><span class="sxs-lookup"><span data-stu-id="001d6-215">Category</span></span> | <span data-ttu-id="001d6-216">Klasyfikacja hello typu danych.</span><span class="sxs-lookup"><span data-stu-id="001d6-216">Classification of hello type of data.</span></span>  <span data-ttu-id="001d6-217">Do automatyzacji wartość hello jest JobStreams.</span><span class="sxs-lookup"><span data-stu-id="001d6-217">For Automation, hello value is JobStreams.</span></span> |
| <span data-ttu-id="001d6-218">OperationName</span><span class="sxs-lookup"><span data-stu-id="001d6-218">OperationName</span></span> | <span data-ttu-id="001d6-219">Określa typ hello operacje wykonywane na platformie Azure.</span><span class="sxs-lookup"><span data-stu-id="001d6-219">Specifies hello type of operation performed in Azure.</span></span>  <span data-ttu-id="001d6-220">Do automatyzacji wartość hello jest zadanie.</span><span class="sxs-lookup"><span data-stu-id="001d6-220">For Automation, hello value is Job.</span></span> |
| <span data-ttu-id="001d6-221">Zasób</span><span class="sxs-lookup"><span data-stu-id="001d6-221">Resource</span></span> | <span data-ttu-id="001d6-222">Nazwa hello konta automatyzacji</span><span class="sxs-lookup"><span data-stu-id="001d6-222">Name of hello Automation account</span></span> |
| <span data-ttu-id="001d6-223">SourceSystem</span><span class="sxs-lookup"><span data-stu-id="001d6-223">SourceSystem</span></span> | <span data-ttu-id="001d6-224">Jak analizy dzienników zbierane dane hello.</span><span class="sxs-lookup"><span data-stu-id="001d6-224">How Log Analytics collected hello data.</span></span> <span data-ttu-id="001d6-225">Zawsze *Azure* diagnostyki Azure.</span><span class="sxs-lookup"><span data-stu-id="001d6-225">Always *Azure* for Azure diagnostics.</span></span> |
| <span data-ttu-id="001d6-226">ResultDescription</span><span class="sxs-lookup"><span data-stu-id="001d6-226">ResultDescription</span></span> |<span data-ttu-id="001d6-227">Obejmuje strumienia wyjściowego hello z hello elementu runbook.</span><span class="sxs-lookup"><span data-stu-id="001d6-227">Includes hello output stream from hello runbook.</span></span> |
| <span data-ttu-id="001d6-228">CorrelationId</span><span class="sxs-lookup"><span data-stu-id="001d6-228">CorrelationId</span></span> |<span data-ttu-id="001d6-229">Identyfikator GUID jest hello identyfikator korelacji hello zadania elementu runbook.</span><span class="sxs-lookup"><span data-stu-id="001d6-229">GUID that is hello Correlation Id of hello runbook job.</span></span> |
| <span data-ttu-id="001d6-230">Identyfikator zasobu</span><span class="sxs-lookup"><span data-stu-id="001d6-230">ResourceId</span></span> |<span data-ttu-id="001d6-231">Określa identyfikator zasobu konto usługi Automatyzacja Azure hello hello elementu runbook.</span><span class="sxs-lookup"><span data-stu-id="001d6-231">Specifies hello Azure Automation account resource id of hello runbook.</span></span> |
| <span data-ttu-id="001d6-232">SubscriptionId</span><span class="sxs-lookup"><span data-stu-id="001d6-232">SubscriptionId</span></span> | <span data-ttu-id="001d6-233">Witaj subskrypcji platformy Azure identyfikatora (GUID) dla hello konta automatyzacji.</span><span class="sxs-lookup"><span data-stu-id="001d6-233">hello Azure subscription Id (GUID) for hello Automation account.</span></span> |
| <span data-ttu-id="001d6-234">ResourceGroup</span><span class="sxs-lookup"><span data-stu-id="001d6-234">ResourceGroup</span></span> | <span data-ttu-id="001d6-235">Nazwa grupy zasobów hello hello konta automatyzacji.</span><span class="sxs-lookup"><span data-stu-id="001d6-235">Name of hello resource group for hello Automation account.</span></span> |
| <span data-ttu-id="001d6-236">ResourceProvider</span><span class="sxs-lookup"><span data-stu-id="001d6-236">ResourceProvider</span></span> | <span data-ttu-id="001d6-237">FIRMY MICROSOFT. AUTOMATYZACJA</span><span class="sxs-lookup"><span data-stu-id="001d6-237">MICROSOFT.AUTOMATION</span></span> |
| <span data-ttu-id="001d6-238">ResourceType</span><span class="sxs-lookup"><span data-stu-id="001d6-238">ResourceType</span></span> | <span data-ttu-id="001d6-239">AUTOMATIONACCOUNTS</span><span class="sxs-lookup"><span data-stu-id="001d6-239">AUTOMATIONACCOUNTS</span></span> |

## <a name="viewing-automation-logs-in-log-analytics"></a><span data-ttu-id="001d6-240">Wyświetlanie automatyzacji loguje analizy dzienników</span><span class="sxs-lookup"><span data-stu-id="001d6-240">Viewing Automation Logs in Log Analytics</span></span>
<span data-ttu-id="001d6-241">Teraz, gdy rozpoczęto wysyłanie tooLog dzienniki programu automatyzacji zadanie analizy, zobacz, co można zrobić za pomocą tych dzienników wewnątrz analizy dzienników.</span><span class="sxs-lookup"><span data-stu-id="001d6-241">Now that you have started sending your Automation job logs tooLog Analytics, let’s see what you can do with these logs inside Log Analytics.</span></span>

<span data-ttu-id="001d6-242">toosee hello dzienniki, uruchom następujące zapytanie hello:`Type=AzureDiagnostics ResourceProvider="MICROSOFT.AUTOMATION"`</span><span class="sxs-lookup"><span data-stu-id="001d6-242">toosee hello logs, run hello following query: `Type=AzureDiagnostics ResourceProvider="MICROSOFT.AUTOMATION"`</span></span>

### <a name="send-an-email-when-a-runbook-job-fails-or-suspends"></a><span data-ttu-id="001d6-243">Wyślij wiadomość e-mail, gdy zadanie elementu runbook nie powiodło się lub wstrzymuje</span><span class="sxs-lookup"><span data-stu-id="001d6-243">Send an email when a runbook job fails or suspends</span></span>
<span data-ttu-id="001d6-244">Jeden z naszych najwyższym odbiorcy zapyta dotyczy toosend możliwości hello adresu e-mail lub tekstu w przypadku wystąpienia problemów z zadanie elementu runbook.</span><span class="sxs-lookup"><span data-stu-id="001d6-244">One of our top customer asks is for hello ability toosend an email or a text when something goes wrong with a runbook job.</span></span>   

<span data-ttu-id="001d6-245">reguły toocreate alert, rozpoczyna się od utworzenia wyszukiwania dziennika elementu runbook hello rekordów zadań, które powinny wywoływać hello alert.</span><span class="sxs-lookup"><span data-stu-id="001d6-245">toocreate an alert rule, you start by creating a log search for hello runbook job records that should invoke hello alert.</span></span>  <span data-ttu-id="001d6-246">Kliknij przycisk hello **Alert** przycisk toocreate i skonfigurować hello reguły alertów.</span><span class="sxs-lookup"><span data-stu-id="001d6-246">Click hello **Alert** button toocreate and configure hello alert rule.</span></span>

1. <span data-ttu-id="001d6-247">Na stronie Przegląd analizy dziennika powitania kliknij **wyszukiwania dziennika**.</span><span class="sxs-lookup"><span data-stu-id="001d6-247">From hello Log Analytics Overview page, click **Log Search**.</span></span>
2. <span data-ttu-id="001d6-248">Utwórz kwerendę wyszukiwania dziennika dla alertu, wpisując powitania po wyszukiwania do pola zapytania hello: `Type=AzureDiagnostics ResourceProvider="MICROSOFT.AUTOMATION" Category=JobLogs (ResultType=Failed OR ResultType=Suspended)` można także grupować według hello RunbookName przy użyciu:`Type=AzureDiagnostics ResourceProvider="MICROSOFT.AUTOMATION" Category=JobLogs (ResultType=Failed OR ResultType=Suspended) | measure Count() by RunbookName_s`</span><span class="sxs-lookup"><span data-stu-id="001d6-248">Create a log search query for your alert by typing hello following search into hello query field:  `Type=AzureDiagnostics ResourceProvider="MICROSOFT.AUTOMATION" Category=JobLogs (ResultType=Failed OR ResultType=Suspended)`  You can also group by hello RunbookName by using: `Type=AzureDiagnostics ResourceProvider="MICROSOFT.AUTOMATION" Category=JobLogs (ResultType=Failed OR ResultType=Suspended) | measure Count() by RunbookName_s`</span></span>   

   <span data-ttu-id="001d6-249">Jeśli zdefiniowano dzienników z ponad jednego automatyzacji konto lub subskrypcja tooyour obszaru roboczego można grupować alerty subskrypcji i konto automatyzacji.</span><span class="sxs-lookup"><span data-stu-id="001d6-249">If you have set up logs from more than one Automation account or subscription tooyour workspace, you can group your alerts by subscription and Automation account.</span></span>  <span data-ttu-id="001d6-250">Nazwa konta automatyzacji mogą pochodzić z pola zasobów hello hello wyszukiwania JobLogs.</span><span class="sxs-lookup"><span data-stu-id="001d6-250">Automation account name can be derived from hello Resource field in hello search of JobLogs.</span></span>  
3. <span data-ttu-id="001d6-251">tooopen hello **Dodaj regułę alertu** kliknij **alertu** u góry hello hello strony.</span><span class="sxs-lookup"><span data-stu-id="001d6-251">tooopen hello **Add Alert Rule** screen, click **Alert** at hello top of hello page.</span></span> <span data-ttu-id="001d6-252">Szczegółowe informacje o hello opcje tooconfigure hello alertu, zobacz [alertów w analizy dzienników](../log-analytics/log-analytics-alerts.md#alert-rules).</span><span class="sxs-lookup"><span data-stu-id="001d6-252">For further details on hello options tooconfigure hello alert, see [Alerts in Log Analytics](../log-analytics/log-analytics-alerts.md#alert-rules).</span></span>

### <a name="find-all-jobs-that-have-completed-with-errors"></a><span data-ttu-id="001d6-253">Znajdź wszystkie zadania, które zostały ukończone z błędami</span><span class="sxs-lookup"><span data-stu-id="001d6-253">Find all jobs that have completed with errors</span></span>
<span data-ttu-id="001d6-254">Ponadto tooalerting na awarie, można znaleźć po błąd niepowodujący zadanie elementu runbook.</span><span class="sxs-lookup"><span data-stu-id="001d6-254">In addition tooalerting on failures, you can find when a runbook job has a non-terminating error.</span></span> <span data-ttu-id="001d6-255">W takich przypadkach PowerShell tworzy strumień błędów, ale błędy niepowodujący hello nie spowodować toosuspend Twojego zadania lub się nie powieść.</span><span class="sxs-lookup"><span data-stu-id="001d6-255">In these cases PowerShell produces an error stream, but hello non-terminating errors do not cause your job toosuspend or fail.</span></span>    

1. <span data-ttu-id="001d6-256">W obszarze roboczym analizy dzienników, kliknij przycisk **wyszukiwania dziennika**.</span><span class="sxs-lookup"><span data-stu-id="001d6-256">In your Log Analytics workspace, click **Log Search**.</span></span>
2. <span data-ttu-id="001d6-257">W polu zapytania hello wpisz `Type=AzureDiagnostics ResourceProvider="MICROSOFT.AUTOMATION" Category=JobStreams StreamType_s=Error | measure count() by JobId_g` , a następnie kliknij przycisk **wyszukiwania**.</span><span class="sxs-lookup"><span data-stu-id="001d6-257">In hello query field, type `Type=AzureDiagnostics ResourceProvider="MICROSOFT.AUTOMATION" Category=JobStreams StreamType_s=Error | measure count() by JobId_g` and then click **Search**.</span></span>

### <a name="view-job-streams-for-a-job"></a><span data-ttu-id="001d6-258">Wyświetl zadania strumieni zadania</span><span class="sxs-lookup"><span data-stu-id="001d6-258">View job streams for a job</span></span>
<span data-ttu-id="001d6-259">Podczas debugowania zadania, można również toolook do hello strumieni zadania.</span><span class="sxs-lookup"><span data-stu-id="001d6-259">When you are debugging a job, you may also want toolook into hello job streams.</span></span>  <span data-ttu-id="001d6-260">Witaj następujące zapytanie Wyświetla wszystkich strumieni hello pojedynczego zadania z identyfikatorem GUID 2ebd22ea-e05e-4eb9 - 9d 76-d73cbd4356e0:</span><span class="sxs-lookup"><span data-stu-id="001d6-260">hello following query shows all hello streams for a single job with GUID 2ebd22ea-e05e-4eb9-9d76-d73cbd4356e0:</span></span>   

`Type=AzureDiagnostics ResourceProvider="MICROSOFT.AUTOMATION" Category=JobStreams JobId_g="2ebd22ea-e05e-4eb9-9d76-d73cbd4356e0" | sort TimeGenerated | select ResultDescription`

### <a name="view-historical-job-status"></a><span data-ttu-id="001d6-261">Widok stanu zadania historycznych</span><span class="sxs-lookup"><span data-stu-id="001d6-261">View historical job status</span></span>
<span data-ttu-id="001d6-262">Na koniec można toovisualize historię zadania wraz z upływem czasu.</span><span class="sxs-lookup"><span data-stu-id="001d6-262">Finally, you may want toovisualize your job history over time.</span></span>  <span data-ttu-id="001d6-263">Wraz z upływem czasu, można użyć tego toosearch zapytania hello stanu zadań.</span><span class="sxs-lookup"><span data-stu-id="001d6-263">You can use this query toosearch for hello status of your jobs over time.</span></span>

`Type=AzureDiagnostics ResourceProvider="MICROSOFT.AUTOMATION" Category=JobLogs NOT(ResultType="started") | measure Count() by ResultType interval 1hour`  
<br> <span data-ttu-id="001d6-264">![Wykres stanu zadania historycznych OMS](media/automation-manage-send-joblogs-log-analytics/historical-job-status-chart.png)</span><span class="sxs-lookup"><span data-stu-id="001d6-264">![OMS Historical Job Status Chart](media/automation-manage-send-joblogs-log-analytics/historical-job-status-chart.png)</span></span><br>

## <a name="summary"></a><span data-ttu-id="001d6-265">Podsumowanie</span><span class="sxs-lookup"><span data-stu-id="001d6-265">Summary</span></span>
<span data-ttu-id="001d6-266">Wysyłając Twojej automatyzacji zadań stanu i strumień danych tooLog Analytics można uzyskać lepszy wgląd w stan hello automatyzacji zadań przez:</span><span class="sxs-lookup"><span data-stu-id="001d6-266">By sending your Automation job status and stream data tooLog Analytics, you can get better insight into hello status of your Automation jobs by:</span></span>
+ <span data-ttu-id="001d6-267">Konfigurowanie alertów toonotify należy po problemu</span><span class="sxs-lookup"><span data-stu-id="001d6-267">Setting up alerts toonotify you when there is an issue</span></span>
+ <span data-ttu-id="001d6-268">Przy użyciu niestandardowych widoków i toovisualize zapytań wyszukiwania z wyników elementu runbook, stan zadania elementu runbook i inne powiązane kluczowych wskaźników i metryki.</span><span class="sxs-lookup"><span data-stu-id="001d6-268">Using custom views and search queries toovisualize your runbook results, runbook job status, and other related key indicators or metrics.</span></span>  

<span data-ttu-id="001d6-269">Analiza dzienników zapewnia lepszą widoczność operacyjne tooyour automatyzacji zadań i może ułatwić adres zdarzenia szybciej.</span><span class="sxs-lookup"><span data-stu-id="001d6-269">Log Analytics provides greater operational visibility tooyour Automation jobs and can help address incidents quicker.</span></span>  

## <a name="next-steps"></a><span data-ttu-id="001d6-270">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="001d6-270">Next steps</span></span>
* <span data-ttu-id="001d6-271">Zobacz toolearn więcej informacji na temat sposobu tooconstruct różne zapytania i przejrzyj hello automatyzacji zadania dzienniki z analizy dzienników [Zaloguj wyszukiwania analizy dzienników](../log-analytics/log-analytics-log-searches.md)</span><span class="sxs-lookup"><span data-stu-id="001d6-271">toolearn more about how tooconstruct different search queries and review hello Automation job logs with Log Analytics, see [Log searches in Log Analytics](../log-analytics/log-analytics-log-searches.md)</span></span>
* <span data-ttu-id="001d6-272">toounderstand toocreate i pobrać dane wyjściowe i komunikaty o błędach z elementami runbook, zobacz temat [elementu Runbook dane wyjściowe i komunikaty](automation-runbook-output-and-messages.md)</span><span class="sxs-lookup"><span data-stu-id="001d6-272">toounderstand how toocreate and retrieve output and error messages from runbooks, see [Runbook output and messages](automation-runbook-output-and-messages.md)</span></span>
* <span data-ttu-id="001d6-273">więcej informacji o wykonanie elementu runbook, w jaki sposób toomonitor zadań i inne szczegółowe informacje techniczne, zobacz toolearn [śledzić zadania elementu runbook](automation-runbook-execution.md)</span><span class="sxs-lookup"><span data-stu-id="001d6-273">toolearn more about runbook execution, how toomonitor runbook jobs, and other technical details, see [Track a runbook job](automation-runbook-execution.md)</span></span>
* <span data-ttu-id="001d6-274">toolearn więcej informacji na temat analizy dzienników OMS i źródeł zbierania danych, zobacz [Azure zbierania danych magazynu w omówieniu analizy dzienników](../log-analytics/log-analytics-azure-storage.md)</span><span class="sxs-lookup"><span data-stu-id="001d6-274">toolearn more about OMS Log Analytics and data collection sources, see [Collecting Azure storage data in Log Analytics overview](../log-analytics/log-analytics-azure-storage.md)</span></span>
