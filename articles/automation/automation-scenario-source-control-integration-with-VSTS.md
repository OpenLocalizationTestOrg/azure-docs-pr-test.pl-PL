---
title: "aaaIntegrate usługi Automatyzacja Azure z kontroli źródła Visual Stuido Team Services | Dokumentacja firmy Microsoft"
description: "Scenariusz przeprowadzi Cię przez proces konfigurowania integracji z kontroli źródła Visual Stuido Team Services i konto usługi Automatyzacja Azure."
services: automation
documentationcenter: 
author: eamono
manager: 
editor: 
keywords: "Program Azure powershell, VSTS, kontroli źródła, automatyzacji"
ms.assetid: a43b395a-e740-41a3-ae62-40eac9d0ec00
ms.service: automation
ms.workload: infrastructure-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/24/2017
ms.openlocfilehash: 8f6faa596a5ad1f8b72e820ca320b3e103d83579
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="azure-automation-scenario---automation-source-control-integration-with-visual-studio-team-services"></a><span data-ttu-id="6ce9e-104">Scenariusz automatyzacji Azure - automatyzacji integracji kontroli źródła z Visual Studio Team Services</span><span class="sxs-lookup"><span data-stu-id="6ce9e-104">Azure Automation scenario - Automation source control integration with Visual Studio Team Services</span></span>

<span data-ttu-id="6ce9e-105">W tym scenariuszu masz projektu Visual Studio Team Services używasz toomanage elementu runbook usługi Automatyzacja Azure lub konfiguracji DSC pod kontrolą źródła.</span><span class="sxs-lookup"><span data-stu-id="6ce9e-105">In this scenario, you have a Visual Studio Team Services project that you are using toomanage Azure Automation runbooks or DSC configurations under source control.</span></span>
<span data-ttu-id="6ce9e-106">W tym artykule opisano sposób toointegrate VSTS ze środowiskiem usługi Automatyzacja Azure tak się stanie w tym ciągłej integracji dla każdego wyboru.</span><span class="sxs-lookup"><span data-stu-id="6ce9e-106">This article describes how toointegrate VSTS with your Azure Automation environment so that continuous integration happens for each check-in.</span></span>

## <a name="getting-hello-scenario"></a><span data-ttu-id="6ce9e-107">Pobieranie hello scenariusza</span><span class="sxs-lookup"><span data-stu-id="6ce9e-107">Getting hello scenario</span></span>

<span data-ttu-id="6ce9e-108">W tym scenariuszu składa się z dwóch elementów runbook programu PowerShell, które można importować bezpośrednio z hello [galerię elementów Runbook](automation-runbook-gallery.md) w portalu Azure hello lub pobrać z hello [galerii programu PowerShell](https://www.powershellgallery.com).</span><span class="sxs-lookup"><span data-stu-id="6ce9e-108">This scenario consists of two PowerShell runbooks that you can import directly from hello [Runbook Gallery](automation-runbook-gallery.md) in hello Azure portal or download from hello [PowerShell Gallery](https://www.powershellgallery.com).</span></span>

### <a name="runbooks"></a><span data-ttu-id="6ce9e-109">Elementy Runbook</span><span class="sxs-lookup"><span data-stu-id="6ce9e-109">Runbooks</span></span>

<span data-ttu-id="6ce9e-110">Element Runbook</span><span class="sxs-lookup"><span data-stu-id="6ce9e-110">Runbook</span></span> | <span data-ttu-id="6ce9e-111">Opis</span><span class="sxs-lookup"><span data-stu-id="6ce9e-111">Description</span></span>| 
--------|------------|
<span data-ttu-id="6ce9e-112">VSTS synchronizacji</span><span class="sxs-lookup"><span data-stu-id="6ce9e-112">Sync-VSTS</span></span> | <span data-ttu-id="6ce9e-113">Importowanie elementów runbook lub konfiguracje z kontroli źródła programu VSTS podczas ewidencjonowania.</span><span class="sxs-lookup"><span data-stu-id="6ce9e-113">Import runbooks or configurations from VSTS source control when a check-in is done.</span></span> <span data-ttu-id="6ce9e-114">Jeśli ręcznie uruchom zaimportuje i opublikować wszystkie elementy runbook lub konfiguracje do hello konta automatyzacji.</span><span class="sxs-lookup"><span data-stu-id="6ce9e-114">If run manually, it will import and publish all runbooks or configurations into hello Automation account.</span></span>| 
<span data-ttu-id="6ce9e-115">VSTSGit synchronizacji</span><span class="sxs-lookup"><span data-stu-id="6ce9e-115">Sync-VSTSGit</span></span> | <span data-ttu-id="6ce9e-116">Importowanie elementów runbook lub konfiguracji z programu VSTS pod kontrolą źródła Git podczas ewidencjonowania.</span><span class="sxs-lookup"><span data-stu-id="6ce9e-116">Import runbooks or configurations from VSTS under Git source control when a check-in is done.</span></span> <span data-ttu-id="6ce9e-117">Jeśli ręcznie uruchom zaimportuje i opublikować wszystkie elementy runbook lub konfiguracje do hello konta automatyzacji.</span><span class="sxs-lookup"><span data-stu-id="6ce9e-117">If run manually, it will import and publish all runbooks or configurations into hello Automation account.</span></span>|

### <a name="variables"></a><span data-ttu-id="6ce9e-118">Zmienne</span><span class="sxs-lookup"><span data-stu-id="6ce9e-118">Variables</span></span>

<span data-ttu-id="6ce9e-119">Zmienna</span><span class="sxs-lookup"><span data-stu-id="6ce9e-119">Variable</span></span> | <span data-ttu-id="6ce9e-120">Opis</span><span class="sxs-lookup"><span data-stu-id="6ce9e-120">Description</span></span>|
-----------|------------|
<span data-ttu-id="6ce9e-121">VSToken</span><span class="sxs-lookup"><span data-stu-id="6ce9e-121">VSToken</span></span> | <span data-ttu-id="6ce9e-122">Bezpieczne zasób zmiennej utworzysz zawierający hello VSTS osobisty token dostępu.</span><span class="sxs-lookup"><span data-stu-id="6ce9e-122">Secure variable asset you will create that contains hello VSTS personal access token.</span></span> <span data-ttu-id="6ce9e-123">Dowiedz się jak toocreate osobiste VSTS uzyskują dostęp do tokenu na powitania [strony uwierzytelniania programu VSTS](https://www.visualstudio.com/en-us/docs/integrate/get-started/auth/overview).</span><span class="sxs-lookup"><span data-stu-id="6ce9e-123">You can learn how toocreate a VSTS personal access token on hello [VSTS authentication page](https://www.visualstudio.com/en-us/docs/integrate/get-started/auth/overview).</span></span> 
## <a name="installing-and-configuring-this-scenario"></a><span data-ttu-id="6ce9e-124">Instalowanie i konfigurowanie scenariusza</span><span class="sxs-lookup"><span data-stu-id="6ce9e-124">Installing and configuring this scenario</span></span>

<span data-ttu-id="6ce9e-125">Utwórz [osobisty token dostępu](https://www.visualstudio.com/en-us/docs/integrate/get-started/auth/overview) w VSTS, że na koncie automatyzacji będzie używać elementów runbook hello toosync lub konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="6ce9e-125">Create a [personal access token](https://www.visualstudio.com/en-us/docs/integrate/get-started/auth/overview) in VSTS that you will use toosync hello runbooks or configurations into your automation account.</span></span>

![](media/automation-scenario-source-control-integration-with-VSTS/VSTSPersonalToken.png) 

<span data-ttu-id="6ce9e-126">Utwórz [bezpiecznego zmiennej](automation-variables.md) w Twojej hello toohold konta automatyzacji osobiste dostępu token, aby hello runbook mógł uwierzytelnić tooVSTS i synchronizacji elementów runbook hello lub konfiguracje do hello konta automatyzacji.</span><span class="sxs-lookup"><span data-stu-id="6ce9e-126">Create a [secure variable](automation-variables.md) in your automation account toohold hello personal access token so that hello runbook can authenticate tooVSTS and sync hello runbooks or configurations into hello Automation account.</span></span> <span data-ttu-id="6ce9e-127">Można określić nazwę tego VSToken.</span><span class="sxs-lookup"><span data-stu-id="6ce9e-127">You can name this VSToken.</span></span> 

![](media/automation-scenario-source-control-integration-with-VSTS/VSTSTokenVariable.png)

<span data-ttu-id="6ce9e-128">Importowanie elementu runbook hello, która zsynchronizuje się z elementów runbook lub konfiguracje pod uwagę automatyzacji hello.</span><span class="sxs-lookup"><span data-stu-id="6ce9e-128">Import hello runbook that will sync your runbooks or configurations into hello automation account.</span></span> <span data-ttu-id="6ce9e-129">Można użyć hello [VSTS przykładowego elementu runbook](https://www.powershellgallery.com/packages/Sync-VSTS/1.0/DisplayScript) lub hello [programu VSTS z Git przykładowego elementu runbook] (https://www.powershellgallery.com/packages/Sync-VSTSGit/1.0/DisplayScript) z hello PowerShellGallery.com w zależności od tego, jeśli używasz programu VSTS źródłowy formant lub VSTS za pomocą narzędzia Git i wdrażanie tooyour konta automatyzacji.</span><span class="sxs-lookup"><span data-stu-id="6ce9e-129">You can use hello [VSTS sample runbook](https://www.powershellgallery.com/packages/Sync-VSTS/1.0/DisplayScript) or hello [VSTS with Git sample runbook] (https://www.powershellgallery.com/packages/Sync-VSTSGit/1.0/DisplayScript) from hello PowerShellGallery.com depending on if you use VSTS source control or VSTS with Git and deploy tooyour automation account.</span></span>

![](media/automation-scenario-source-control-integration-with-VSTS/VSTSPowerShellGallery.png)

<span data-ttu-id="6ce9e-130">Możesz teraz [publikowania](automation-creating-importing-runbook.md#publishing-a-runbook) ten element runbook, dzięki czemu można tworzyć elementu webhook.</span><span class="sxs-lookup"><span data-stu-id="6ce9e-130">You can now [publish](automation-creating-importing-runbook.md#publishing-a-runbook) this runbook so you can create a webhook.</span></span> 
![](media/automation-scenario-source-control-integration-with-VSTS/VSTSPublishRunbook.png)

<span data-ttu-id="6ce9e-131">Utwórz [webhook](automation-webhooks.md) dla tego elementu runbook programu VSTS synchronizacji i wypełnij hello parametrów, jak pokazano poniżej.</span><span class="sxs-lookup"><span data-stu-id="6ce9e-131">Create a [webhook](automation-webhooks.md) for this Sync-VSTS runbook and fill in hello parameters as shown below.</span></span> <span data-ttu-id="6ce9e-132">Upewnij się, że skopiuj adres url elementu webhook hello jak będą one potrzebne dla usługi haka w VSTS.</span><span class="sxs-lookup"><span data-stu-id="6ce9e-132">Make sure you copy hello webhook url as you will need it for a service hook in VSTS.</span></span> <span data-ttu-id="6ce9e-133">Witaj VSAccessTokenVariableName jest nazwą hello (VSToken) hello zmiennej bezpiecznego utworzony wcześniej toohold hello osobisty token dostępu.</span><span class="sxs-lookup"><span data-stu-id="6ce9e-133">hello VSAccessTokenVariableName is hello name (VSToken) of hello secure variable that you created earlier toohold hello personal access token.</span></span> 

<span data-ttu-id="6ce9e-134">Integrowanie z programu VSTS (synchronizacji VSTS.ps1) potrwa hello następujące parametry.</span><span class="sxs-lookup"><span data-stu-id="6ce9e-134">Integrating with VSTS (Sync-VSTS.ps1) will take hello following parameters.</span></span>
### <a name="sync-vsts-parameters"></a><span data-ttu-id="6ce9e-135">Parametry programu VSTS synchronizacji</span><span class="sxs-lookup"><span data-stu-id="6ce9e-135">Sync-VSTS Parameters</span></span>

<span data-ttu-id="6ce9e-136">Parametr</span><span class="sxs-lookup"><span data-stu-id="6ce9e-136">Parameter</span></span> | <span data-ttu-id="6ce9e-137">Opis</span><span class="sxs-lookup"><span data-stu-id="6ce9e-137">Description</span></span>| 
--------|------------|
<span data-ttu-id="6ce9e-138">WebhookData</span><span class="sxs-lookup"><span data-stu-id="6ce9e-138">WebhookData</span></span> | <span data-ttu-id="6ce9e-139">To będzie zawierać hello zaewidencjonowania informacje wysyłane z punktu zaczepienia usługi VSTS hello.</span><span class="sxs-lookup"><span data-stu-id="6ce9e-139">This will contain hello checkin information sent from hello VSTS service hook.</span></span> <span data-ttu-id="6ce9e-140">Ten parametr należy pozostawić pusty.</span><span class="sxs-lookup"><span data-stu-id="6ce9e-140">You should leave this parameter blank.</span></span>| 
<span data-ttu-id="6ce9e-141">ResourceGroup</span><span class="sxs-lookup"><span data-stu-id="6ce9e-141">ResourceGroup</span></span> | <span data-ttu-id="6ce9e-142">Jest to nazwa hello hello grupy zasobów, które konto automatyzacji hello.</span><span class="sxs-lookup"><span data-stu-id="6ce9e-142">This is hello name of hello resource group that hello automation account is in.</span></span>|
<span data-ttu-id="6ce9e-143">AutomationAccountName</span><span class="sxs-lookup"><span data-stu-id="6ce9e-143">AutomationAccountName</span></span> | <span data-ttu-id="6ce9e-144">Nazwa Hello hello automatyzacji konta, które zostaną zsynchronizowane z usługi VSTS.</span><span class="sxs-lookup"><span data-stu-id="6ce9e-144">hello name of hello automation account that will sync with VSTS.</span></span>|
<span data-ttu-id="6ce9e-145">VSFolder</span><span class="sxs-lookup"><span data-stu-id="6ce9e-145">VSFolder</span></span> | <span data-ttu-id="6ce9e-146">Nazwa folderu hello w VSTS, jeśli istnieje hello elementów runbook i konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="6ce9e-146">The name of hello folder in VSTS where hello runbooks and configurations exist.</span></span>|
<span data-ttu-id="6ce9e-147">VSAccount</span><span class="sxs-lookup"><span data-stu-id="6ce9e-147">VSAccount</span></span> | <span data-ttu-id="6ce9e-148">Nazwa Hello hello konta usługi Visual Studio Team Services.</span><span class="sxs-lookup"><span data-stu-id="6ce9e-148">hello name of hello Visual Studio Team Services account.</span></span>| 
<span data-ttu-id="6ce9e-149">VSAccessTokenVariableName</span><span class="sxs-lookup"><span data-stu-id="6ce9e-149">VSAccessTokenVariableName</span></span> | <span data-ttu-id="6ce9e-150">Nazwa Hello zmiennej bezpiecznego hello (VSToken), która przechowuje hello VSTS osobisty token dostępu.</span><span class="sxs-lookup"><span data-stu-id="6ce9e-150">hello name of hello secure variable (VSToken) that holds hello VSTS personal access token.</span></span>| 


![](media/automation-scenario-source-control-integration-with-VSTS/VSTSWebhook.png)

<span data-ttu-id="6ce9e-151">Jeśli używasz programu VSTS z usługą GIT (synchronizacji VSTSGit.ps1) potrwa hello następujące parametry.</span><span class="sxs-lookup"><span data-stu-id="6ce9e-151">If you are using VSTS with GIT (Sync-VSTSGit.ps1) it will take hello following parameters.</span></span>

<span data-ttu-id="6ce9e-152">Parametr</span><span class="sxs-lookup"><span data-stu-id="6ce9e-152">Parameter</span></span> | <span data-ttu-id="6ce9e-153">Opis</span><span class="sxs-lookup"><span data-stu-id="6ce9e-153">Description</span></span>|
--------|------------|
<span data-ttu-id="6ce9e-154">WebhookData</span><span class="sxs-lookup"><span data-stu-id="6ce9e-154">WebhookData</span></span> | <span data-ttu-id="6ce9e-155">To będzie zawierać hello zaewidencjonowania informacje wysyłane z punktu zaczepienia usługi VSTS hello.</span><span class="sxs-lookup"><span data-stu-id="6ce9e-155">This will contain hello checkin information sent from hello VSTS service hook.</span></span> <span data-ttu-id="6ce9e-156">Ten parametr należy pozostawić pusty.</span><span class="sxs-lookup"><span data-stu-id="6ce9e-156">You should leave this parameter blank.</span></span>| <span data-ttu-id="6ce9e-157">ResourceGroup</span><span class="sxs-lookup"><span data-stu-id="6ce9e-157">ResourceGroup</span></span> | <span data-ttu-id="6ce9e-158">Ta nazwa hello hello grupy zasobów, które hello konto automatyzacji jest.</span><span class="sxs-lookup"><span data-stu-id="6ce9e-158">This hello name of hello resource group that hello automation account is in.</span></span>|
<span data-ttu-id="6ce9e-159">AutomationAccountName</span><span class="sxs-lookup"><span data-stu-id="6ce9e-159">AutomationAccountName</span></span> | <span data-ttu-id="6ce9e-160">Nazwa Hello hello automatyzacji konta, które zostaną zsynchronizowane z usługi VSTS.</span><span class="sxs-lookup"><span data-stu-id="6ce9e-160">hello name of hello automation account that will sync with VSTS.</span></span>|
<span data-ttu-id="6ce9e-161">VSAccount</span><span class="sxs-lookup"><span data-stu-id="6ce9e-161">VSAccount</span></span> | <span data-ttu-id="6ce9e-162">Nazwa Hello hello konta usługi Visual Studio Team Services.</span><span class="sxs-lookup"><span data-stu-id="6ce9e-162">hello name of hello Visual Studio Team Services account.</span></span>|
<span data-ttu-id="6ce9e-163">VSProject</span><span class="sxs-lookup"><span data-stu-id="6ce9e-163">VSProject</span></span> | <span data-ttu-id="6ce9e-164">Nazwa Hello hello projektu w VSTS, jeśli istnieje hello elementów runbook i konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="6ce9e-164">hello name of hello project in VSTS where hello runbooks and configurations exist.</span></span>|
<span data-ttu-id="6ce9e-165">GitRepo</span><span class="sxs-lookup"><span data-stu-id="6ce9e-165">GitRepo</span></span> | <span data-ttu-id="6ce9e-166">Nazwa Hello hello repozytorium Git.</span><span class="sxs-lookup"><span data-stu-id="6ce9e-166">hello name of hello Git repository.</span></span>|
<span data-ttu-id="6ce9e-167">GitBranch</span><span class="sxs-lookup"><span data-stu-id="6ce9e-167">GitBranch</span></span> | <span data-ttu-id="6ce9e-168">Nazwa Hello hello gałęzi w repozytorium Git programu VSTS.</span><span class="sxs-lookup"><span data-stu-id="6ce9e-168">hello name of hello branch in VSTS Git repository.</span></span>|
<span data-ttu-id="6ce9e-169">Folder</span><span class="sxs-lookup"><span data-stu-id="6ce9e-169">Folder</span></span> | <span data-ttu-id="6ce9e-170">Nazwa Hello folderu hello w gałęzi VSTS Git.</span><span class="sxs-lookup"><span data-stu-id="6ce9e-170">hello name of hello folder in VSTS Git branch.</span></span>|
<span data-ttu-id="6ce9e-171">VSAccessTokenVariableName</span><span class="sxs-lookup"><span data-stu-id="6ce9e-171">VSAccessTokenVariableName</span></span> | <span data-ttu-id="6ce9e-172">Nazwa Hello zmiennej bezpiecznego hello (VSToken), która przechowuje hello VSTS osobisty token dostępu.</span><span class="sxs-lookup"><span data-stu-id="6ce9e-172">hello name of hello secure variable (VSToken) that holds hello VSTS personal access token.</span></span>|

![](media/automation-scenario-source-control-integration-with-VSTS/VSTSGitWebhook.png)

<span data-ttu-id="6ce9e-173">Utworzyć haka usługi w VSTS dla folderu toohello zaewidencjonowania, który wyzwala ten element webhook na ewidencjonowania kodu.</span><span class="sxs-lookup"><span data-stu-id="6ce9e-173">Create a service hook in VSTS for check-ins toohello folder that triggers this webhook on code check-in.</span></span> <span data-ttu-id="6ce9e-174">Wybierz techniki Web Hooks jako hello toointegrate usługi z podczas tworzenia nowej subskrypcji.</span><span class="sxs-lookup"><span data-stu-id="6ce9e-174">Select Web Hooks as hello service toointegrate with when you create a new subscription.</span></span> <span data-ttu-id="6ce9e-175">Możesz dowiedzieć się więcej o punktach wpięcia usług na [punkty zaczepienia usługi VSTS dokumentacji](https://www.visualstudio.com/en-us/docs/marketplace/integrate/service-hooks/get-started).</span><span class="sxs-lookup"><span data-stu-id="6ce9e-175">You can learn more about service hooks on [VSTS Service Hooks documentation](https://www.visualstudio.com/en-us/docs/marketplace/integrate/service-hooks/get-started).</span></span>
![](media/automation-scenario-source-control-integration-with-VSTS/VSTSServiceHook.png)

<span data-ttu-id="6ce9e-176">Powinny teraz być stanie toodo zaewidencjonowania wszystkich elementów runbook i konfiguracji do programu VSTS i są automatycznie synchronizowane miał na koncie automatyzacji.</span><span class="sxs-lookup"><span data-stu-id="6ce9e-176">You should now be able toodo all check-ins of your runbooks and configurations into VSTS and have these automatically sync’d into your automation account.</span></span>

![](media/automation-scenario-source-control-integration-with-VSTS/VSTSSyncRunbookOutput.png)

<span data-ttu-id="6ce9e-177">Jeśli ten element runbook zostanie uruchomiony ręcznie bez inicjowane przez VSTS, można pozostawić pusty parametr webhookdata hello i wykona pełną synchronizację z określonego folderu programu VSTS hello.</span><span class="sxs-lookup"><span data-stu-id="6ce9e-177">If you run this runbook manually without being triggered by VSTS, you can leave hello webhookdata parameter empty and it will do a full sync from hello VSTS folder specified.</span></span>

<span data-ttu-id="6ce9e-178">W razie potrzeby scenariusza hello toouninstall usuwanie hello haku usługi VSTS, Usuń hello runbook i hello VSToken zmiennej.</span><span class="sxs-lookup"><span data-stu-id="6ce9e-178">If you wish toouninstall hello scenario, remove hello service hook from VSTS, delete hello runbook, and hello VSToken variable.</span></span>
