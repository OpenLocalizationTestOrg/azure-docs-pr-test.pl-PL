---
title: "Omówienie delegowania DNS na platformie Azure | Microsoft Docs"
description: "Dowiedz się, jak zmienić delegowanie domeny i korzystać z serwerów nazw usługi Azure DNS do zapewniania hostingu domeny."
services: dns
documentationcenter: na
author: georgewallace
manager: timlt
ms.assetid: 257da6ec-d6e2-4b6f-ad76-ee2dde4efbcc
ms.service: dns
ms.devlang: na
ms.topic: get-started-article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 04/12/2017
ms.author: gwallace
ms.openlocfilehash: 31a500502a4d3e729ecb79929ed6c1de156d6259
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 07/11/2017
---
# <a name="delegation-of-dns-zones-with-azure-dns"></a><span data-ttu-id="23975-103">Delegowanie stref DNS za pomocą usługi Azure DNS</span><span class="sxs-lookup"><span data-stu-id="23975-103">Delegation of DNS zones with Azure DNS</span></span>

<span data-ttu-id="23975-104">Usługa Azure DNS umożliwia hostowanie strefy DNS i zarządzanie rekordami DNS dla domeny na platformie Azure.</span><span class="sxs-lookup"><span data-stu-id="23975-104">Azure DNS allows you to host a DNS zone and manage the DNS records for a domain in Azure.</span></span> <span data-ttu-id="23975-105">Aby zapytania DNS dla domeny miały dostęp do usługi Azure DNS, należy delegować domenę do usługi Azure DNS z domeny nadrzędnej.</span><span class="sxs-lookup"><span data-stu-id="23975-105">In order for DNS queries for a domain to reach Azure DNS, the domain has to be delegated to Azure DNS from the parent domain.</span></span> <span data-ttu-id="23975-106">Należy pamiętać, że usługa Azure DNS nie jest rejestratorem domen.</span><span class="sxs-lookup"><span data-stu-id="23975-106">Keep in mind Azure DNS is not the domain registrar.</span></span> <span data-ttu-id="23975-107">W tym artykule wyjaśniono, jak działa delegowanie domeny i jak delegować domeny do usługi Azure DNS.</span><span class="sxs-lookup"><span data-stu-id="23975-107">This article explains how domain delegation works and how to delegate domains to Azure DNS.</span></span>

## <a name="how-dns-delegation-works"></a><span data-ttu-id="23975-108">Jak działa delegowanie DNS</span><span class="sxs-lookup"><span data-stu-id="23975-108">How DNS delegation works</span></span>

### <a name="domains-and-zones"></a><span data-ttu-id="23975-109">Domeny i strefy</span><span class="sxs-lookup"><span data-stu-id="23975-109">Domains and zones</span></span>

<span data-ttu-id="23975-110">System nazw domen (DNS, Domain Name System) jest hierarchią domen.</span><span class="sxs-lookup"><span data-stu-id="23975-110">The Domain Name System is a hierarchy of domains.</span></span> <span data-ttu-id="23975-111">Hierarchia rozpoczyna się od domeny głównej, której nazwa to po prostu „**.**”.</span><span class="sxs-lookup"><span data-stu-id="23975-111">The hierarchy starts from the 'root' domain, whose name is simply '**.**'.</span></span>  <span data-ttu-id="23975-112">Poniżej są domeny najwyższego poziomu, takie jak „com”, „net”, „org”, „uk” lub „jp”.</span><span class="sxs-lookup"><span data-stu-id="23975-112">Below this come top-level domains, such as 'com', 'net', 'org', 'uk' or 'jp'.</span></span>  <span data-ttu-id="23975-113">Pod tymi domenami najwyższego poziomu są domeny drugiego poziomu, takie jak „org.uk” lub „co.jp”.</span><span class="sxs-lookup"><span data-stu-id="23975-113">Below these top-level domains are second-level domains, such as 'org.uk' or 'co.jp'.</span></span>  <span data-ttu-id="23975-114">I tak dalej.</span><span class="sxs-lookup"><span data-stu-id="23975-114">And so on.</span></span> <span data-ttu-id="23975-115">Domeny w hierarchii DNS są hostowane przy użyciu osobnych stref DNS.</span><span class="sxs-lookup"><span data-stu-id="23975-115">The domains in the DNS hierarchy are hosted using separate DNS zones.</span></span> <span data-ttu-id="23975-116">Te strefy są globalnie rozproszone, hostowane przez serwery DNS na całym świecie.</span><span class="sxs-lookup"><span data-stu-id="23975-116">These zones are globally distributed, hosted by DNS name servers around the world.</span></span>

<span data-ttu-id="23975-117">**Strefa DNS** — Domena jest unikatową nazwą w systemie nazw domen, na przykład „contoso.com”.</span><span class="sxs-lookup"><span data-stu-id="23975-117">**DNS zone** - A domain is a unique name in the Domain Name System, for example 'contoso.com'.</span></span> <span data-ttu-id="23975-118">Strefa DNS jest używana do hostowania rekordów DNS dla określonej domeny.</span><span class="sxs-lookup"><span data-stu-id="23975-118">A DNS zone is used to host the DNS records for a particular domain.</span></span> <span data-ttu-id="23975-119">Na przykład domena „contoso.com” może zawierać wiele rekordów DNS, takich jak „mail.contoso.com” (dla serwera poczty) i „www.contoso.com” (dla witryny sieci Web).</span><span class="sxs-lookup"><span data-stu-id="23975-119">For example, the domain 'contoso.com' may contain several DNS records such as 'mail.contoso.com' (for a mail server) and 'www.contoso.com' (for a website).</span></span>

<span data-ttu-id="23975-120">**Rejestrator domen** — Rejestrator domen to firma, która może udostępniać nazwy domen internetowych.</span><span class="sxs-lookup"><span data-stu-id="23975-120">**Domain registrar** - A domain registrar is a company who can provide Internet domain names.</span></span> <span data-ttu-id="23975-121">Weryfikuje ona, czy domena internetowa, której chcesz używać, jest dostępna, i umożliwi jej zakupienie.</span><span class="sxs-lookup"><span data-stu-id="23975-121">They verify if the Internet domain you want to use is available and allow you to purchase it.</span></span> <span data-ttu-id="23975-122">Po zarejestrowaniu nazwy domeny jesteś jej prawnym właścicielem.</span><span class="sxs-lookup"><span data-stu-id="23975-122">Once the domain name is registered, you are the legal owner for the domain name.</span></span> <span data-ttu-id="23975-123">Jeśli masz już domenę internetową, będziesz korzystać z bieżącego rejestratora domeny do delegowania jej do usługi Azure DNS.</span><span class="sxs-lookup"><span data-stu-id="23975-123">If you already have an Internet domain, you will use the current domain registrar to delegate to Azure DNS.</span></span>

<span data-ttu-id="23975-124">Aby dowiedzieć się, kto jest właścicielem danej nazwy domeny lub uzyskać informacje o tym, jak kupić domenę, zobacz [Zarządzanie domenami internetowymi w usłudze Azure AD](https://msdn.microsoft.com/library/azure/hh969248.aspx).</span><span class="sxs-lookup"><span data-stu-id="23975-124">To find out more information on who owns a given domain name, or for information on how to buy a domain, see [Internet domain management in Azure AD](https://msdn.microsoft.com/library/azure/hh969248.aspx).</span></span>

### <a name="resolution-and-delegation"></a><span data-ttu-id="23975-125">Rozpoznawanie i delegowanie</span><span class="sxs-lookup"><span data-stu-id="23975-125">Resolution and delegation</span></span>

<span data-ttu-id="23975-126">Istnieją dwa typy serwerów DNS:</span><span class="sxs-lookup"><span data-stu-id="23975-126">There are two types of DNS servers:</span></span>

* <span data-ttu-id="23975-127">*Autorytatywny* serwer DNS hostuje strefy DNS.</span><span class="sxs-lookup"><span data-stu-id="23975-127">An *authoritative* DNS server hosts DNS zones.</span></span> <span data-ttu-id="23975-128">Odpowiada na zapytania DNS dotyczące rekordów tylko w tych strefach.</span><span class="sxs-lookup"><span data-stu-id="23975-128">It answers DNS queries for records in those zones only.</span></span>
* <span data-ttu-id="23975-129">*Cykliczny* serwer DNS nie hostuje stref DNS.</span><span class="sxs-lookup"><span data-stu-id="23975-129">A *recursive* DNS server does not host DNS zones.</span></span> <span data-ttu-id="23975-130">Odpowiada na zapytania DNS, wywołując autorytatywne serwery DNS w celu zebrania danych, których potrzebuje.</span><span class="sxs-lookup"><span data-stu-id="23975-130">It answers all DNS queries by calling authoritative DNS servers to gather the data it needs.</span></span>

<span data-ttu-id="23975-131">Usługa Azure DNS zapewnia autorytatywną usługę DNS.</span><span class="sxs-lookup"><span data-stu-id="23975-131">Azure DNS provides an authoritative DNS service.</span></span>  <span data-ttu-id="23975-132">Nie zapewnia cyklicznej usługi DNS.</span><span class="sxs-lookup"><span data-stu-id="23975-132">It does not provide a recursive DNS service.</span></span> <span data-ttu-id="23975-133">Usługa Cloud Services i maszyny wirtualne na platformie Azure są automatycznie skonfigurowane do korzystania z rekursywnych usług DNS udostępnianych oddzielnie w ramach infrastruktury platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="23975-133">Cloud Services and VMs in Azure are automatically configured to use a recursive DNS service that is provided separately as part of Azure's infrastructure.</span></span> <span data-ttu-id="23975-134">Aby uzyskać informacje na temat zmiany tych ustawień DNS, zobacz [Name Resolution in Azure](../virtual-network/virtual-networks-name-resolution-for-vms-and-role-instances.md#name-resolution-using-your-own-dns-server) (Rozpoznawanie nazw na platformie Azure).</span><span class="sxs-lookup"><span data-stu-id="23975-134">For information on how to change these DNS settings, see [Name Resolution in Azure](../virtual-network/virtual-networks-name-resolution-for-vms-and-role-instances.md#name-resolution-using-your-own-dns-server).</span></span>

<span data-ttu-id="23975-135">Klienci DNS na komputerach i urządzeniach przenośnych zwykle wywołują cykliczny serwer DNS w celu wykonywania wszelkich zapytań DNS potrzebnych aplikacjom klienckim.</span><span class="sxs-lookup"><span data-stu-id="23975-135">DNS clients in PCs or mobile devices typically call a recursive DNS server to perform any DNS queries the client applications need.</span></span>

<span data-ttu-id="23975-136">Gdy cykliczny serwer DNS odbiera zapytanie dotyczące rekordu DNS takiego jak „www.contoso.com”, najpierw musi znaleźć serwer nazw hostujący strefę dla domeny „contoso.com”.</span><span class="sxs-lookup"><span data-stu-id="23975-136">When a recursive DNS server receives a query for a DNS record such as 'www.contoso.com', it first needs to find the name server hosting the zone for the 'contoso.com' domain.</span></span> <span data-ttu-id="23975-137">W celu znalezienia serwera nazw rozpoczyna od serwerów nazw głównych i wyszukuje serwery nazw hostujące strefę „com”.</span><span class="sxs-lookup"><span data-stu-id="23975-137">To find the name server, it starts at the root name servers, and from there finds the name servers hosting the 'com' zone.</span></span> <span data-ttu-id="23975-138">Następnie wykonuje zapytanie względem serwerów nazw „com”, aby znaleźć serwery nazw hostujące strefę „contoso.com”.</span><span class="sxs-lookup"><span data-stu-id="23975-138">It then queries the 'com' name servers to find the name servers hosting the 'contoso.com' zone.</span></span>  <span data-ttu-id="23975-139">Na koniec jest w stanie wykonać względem tych serwerów nazw zapytanie dla „www.contoso.com”.</span><span class="sxs-lookup"><span data-stu-id="23975-139">Finally, it is able to query these name servers for 'www.contoso.com'.</span></span>

<span data-ttu-id="23975-140">Ta procedura jest nazywana rozpoznawaniem nazwy DNS.</span><span class="sxs-lookup"><span data-stu-id="23975-140">This procedure is called resolving the DNS name.</span></span> <span data-ttu-id="23975-141">Mówiąc ściślej, rozpoznawanie nazw DNS obejmuje dodatkowe czynności, takie jak śledzenie rekordów CNAME, ale nie jest to istotne dla zrozumienia, jak działa delegowanie DNS.</span><span class="sxs-lookup"><span data-stu-id="23975-141">Strictly speaking, DNS resolution includes additional steps such as following CNAMEs, but that's not important to understanding how DNS delegation works.</span></span>

<span data-ttu-id="23975-142">W jaki sposób strefa nadrzędna wskazuje serwery nazw dla strefy podrzędnej?</span><span class="sxs-lookup"><span data-stu-id="23975-142">How does a parent zone 'point' to the name servers for a child zone?</span></span> <span data-ttu-id="23975-143">Robi to przy użyciu specjalnego rekordu DNS nazywanego rekordem NS (angielski akronim „NS” oznacza „name server”, czyli „serwer nazw”).</span><span class="sxs-lookup"><span data-stu-id="23975-143">It does this using a special type of DNS record called an NS record (NS stands for 'name server').</span></span> <span data-ttu-id="23975-144">Na przykład strefa główna zawiera rekordy NS dla strefy „com” i pokazuje serwery nazw strefy „com”.</span><span class="sxs-lookup"><span data-stu-id="23975-144">For example, the root zone contains NS records for 'com' and shows the name servers for the 'com' zone.</span></span> <span data-ttu-id="23975-145">Z kolei strefa „com” zawiera rekordy NS dla strefy „contoso.com”, która wyświetla serwery nazw dla strefy „contoso.com”.</span><span class="sxs-lookup"><span data-stu-id="23975-145">In turn, the 'com' zone contains NS records for 'contoso.com', which shows the name servers for the 'contoso.com' zone.</span></span> <span data-ttu-id="23975-146">Konfigurowanie rekordów NS dla strefy podrzędnej w strefie nadrzędnej nazywa się delegowaniem domeny.</span><span class="sxs-lookup"><span data-stu-id="23975-146">Setting up the NS records for a child zone in a parent zone is called delegating the domain.</span></span>

<span data-ttu-id="23975-147">Na poniższej ilustracji przedstawiono przykładowe zapytanie DNS.</span><span class="sxs-lookup"><span data-stu-id="23975-147">The following image shows an example DNS query.</span></span> <span data-ttu-id="23975-148">Contoso.net i partners.contoso.net są strefami DNS na platformie Azure.</span><span class="sxs-lookup"><span data-stu-id="23975-148">The contoso.net and partners.contoso.net are Azure DNS zones.</span></span>

![Dns-nameserver](./media/dns-domain-delegation/image1.png)

1. <span data-ttu-id="23975-150">Klient żąda adresu `www.partners.contoso.net` z lokalnego serwera DNS.</span><span class="sxs-lookup"><span data-stu-id="23975-150">The client requests `www.partners.contoso.net` from their local DNS server.</span></span>
1. <span data-ttu-id="23975-151">Lokalny serwer DNS nie ma tego rekordu, dlatego wysyła żądanie do swojego głównego serwera nazw.</span><span class="sxs-lookup"><span data-stu-id="23975-151">The local DNS server does not have the record so it makes a request to their root name server.</span></span>
1. <span data-ttu-id="23975-152">Główny serwer nazw nie ma tego rekordu, ale dysponuje informacjami o adresie serwera nazw `.net`, udostępnia więc ten adres serwerowi DNS.</span><span class="sxs-lookup"><span data-stu-id="23975-152">The root name server does not have the record, but knows the address of the `.net` name server, it provides that address to the DNS server</span></span>
1. <span data-ttu-id="23975-153">Serwer DNS wysyła żądanie do serwera nazw `.net`. Na tym serwerze nie ma właściwego rekordu, ale jest informacja o adresie serwera nazw contoso.net.</span><span class="sxs-lookup"><span data-stu-id="23975-153">The DNS sends the request to the `.net` name server, it does not have the record but does know the address of the contoso.net name server.</span></span> <span data-ttu-id="23975-154">W tym przypadku jest to strefa DNS hostowana w usłudze Azure DNS.</span><span class="sxs-lookup"><span data-stu-id="23975-154">In this case it is a DNS zone hosted in Azure DNS.</span></span>
1. <span data-ttu-id="23975-155">Strefa `contoso.net` nie ma szukanego rekordu, ale dysponuje informacjami o serwerze nazw dla adresu `partners.contoso.net` i w odpowiedzi przekazuje te informacje.</span><span class="sxs-lookup"><span data-stu-id="23975-155">The zone `contoso.net` does not have the record but knows the name server for `partners.contoso.net` and responds with that.</span></span> <span data-ttu-id="23975-156">W tym przypadku jest to strefa DNS hostowana w usłudze Azure DNS.</span><span class="sxs-lookup"><span data-stu-id="23975-156">In this case it is a DNS zone hosted in Azure DNS.</span></span>
1. <span data-ttu-id="23975-157">Serwer DNS żąda adresu IP `partners.contoso.net` ze strefy `partners.contoso.net`.</span><span class="sxs-lookup"><span data-stu-id="23975-157">The DNS server requests the IP address of `partners.contoso.net` from the `partners.contoso.net` zone.</span></span> <span data-ttu-id="23975-158">Zawiera ona rekord A i w odpowiedzi zwraca adres IP.</span><span class="sxs-lookup"><span data-stu-id="23975-158">It contains the A record and responds with the IP address.</span></span>
1. <span data-ttu-id="23975-159">Serwer DNS udostępnia adres IP klientowi.</span><span class="sxs-lookup"><span data-stu-id="23975-159">The DNS server provides the IP address to the client</span></span>
1. <span data-ttu-id="23975-160">Klient łączy się z witryną sieci Web `www.partners.contoso.net`.</span><span class="sxs-lookup"><span data-stu-id="23975-160">The client connects to the website `www.partners.contoso.net`.</span></span>

<span data-ttu-id="23975-161">Każde delegowanie faktycznie zawiera dwie kopie rekordów NS — jedną w strefie nadrzędnej wskazującej strefę podrzędną i drugą w samej strefie podrzędnej.</span><span class="sxs-lookup"><span data-stu-id="23975-161">Each delegation actually has two copies of the NS records; one in the parent zone pointing to the child, and another in the child zone itself.</span></span> <span data-ttu-id="23975-162">Strefa „contoso.net” zawiera rekordy NS dla strefy „contoso.net” (oprócz rekordów NS w strefie „net”).</span><span class="sxs-lookup"><span data-stu-id="23975-162">The 'contoso.net' zone contains the NS records for 'contoso.net' (in addition to the NS records in 'net').</span></span> <span data-ttu-id="23975-163">Są to tak zwane autorytatywne rekordy NS i znajdują się na wierzchołku strefy podrzędnej.</span><span class="sxs-lookup"><span data-stu-id="23975-163">These records are called authoritative NS records and they sit at the apex of the child zone.</span></span>

## <a name="next-steps"></a><span data-ttu-id="23975-164">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="23975-164">Next steps</span></span>

<span data-ttu-id="23975-165">Dowiedz się, jak [delegować domenę do usługi Azure DNS](dns-delegate-domain-azure-dns.md).</span><span class="sxs-lookup"><span data-stu-id="23975-165">Learn how to [delegate your domain to Azure DNS](dns-delegate-domain-azure-dns.md)</span></span>

