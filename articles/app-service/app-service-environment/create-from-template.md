---
title: "Utwórz środowisko usługi Azure App Service przy użyciu szablonu usługi Resource Manager"
description: "Wyjaśniono, jak utworzyć środowisko zewnętrznego lub ILB usłudze Azure App Service przy użyciu szablonu usługi Resource Manager"
services: app-service
documentationcenter: na
author: ccompy
manager: stefsch
ms.assetid: 6eb7d43d-e820-4a47-818c-80ff7d3b6f8e
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/13/2017
ms.author: ccompy
ms.openlocfilehash: e6b21086488352c1da914b4656ad1d216fd6de85
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 08/03/2017
---
# <a name="create-an-ase-by-using-an-azure-resource-manager-template"></a><span data-ttu-id="2a77c-103">Utwórz ASE za pomocą szablonu usługi Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="2a77c-103">Create an ASE by using an Azure Resource Manager template</span></span>

## <a name="overview"></a><span data-ttu-id="2a77c-104">Omówienie</span><span class="sxs-lookup"><span data-stu-id="2a77c-104">Overview</span></span>
<span data-ttu-id="2a77c-105">Środowiska usługi aplikacji Azure (ASEs) mogą być tworzone z Internetu dostępnym punkcie końcowym lub punkt końcowy wewnętrznego adresu w sieci wirtualnej platformy Azure (VNet).</span><span class="sxs-lookup"><span data-stu-id="2a77c-105">Azure App Service environments (ASEs) can be created with an internet-accessible endpoint or an endpoint on an internal address in an Azure virtual network (VNet).</span></span> <span data-ttu-id="2a77c-106">Podczas tworzenia z wewnętrzny punkt końcowy tego punktu końcowego jest udostępniane przez platformę Azure składnika o nazwie wewnętrznego modułu równoważenia obciążenia (ILB).</span><span class="sxs-lookup"><span data-stu-id="2a77c-106">When created with an internal endpoint, that endpoint is provided by an Azure component called an internal load balancer (ILB).</span></span> <span data-ttu-id="2a77c-107">ASE na wewnętrzny adres IP jest nazywany ASE ILB.</span><span class="sxs-lookup"><span data-stu-id="2a77c-107">The ASE on an internal IP address is called an ILB ASE.</span></span> <span data-ttu-id="2a77c-108">ASE z publiczny punkt końcowy jest nazywany ASE zewnętrznych.</span><span class="sxs-lookup"><span data-stu-id="2a77c-108">The ASE with a public endpoint is called an External ASE.</span></span> 

<span data-ttu-id="2a77c-109">ASE mogą być tworzone przy użyciu portalu Azure lub szablonu usługi Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="2a77c-109">An ASE can be created by using the Azure portal or an Azure Resource Manager template.</span></span> <span data-ttu-id="2a77c-110">W tym artykule przedstawiono kroki i składni konieczne utworzenie ASE zewnętrznych lub ILB ASE z szablonami usługi Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="2a77c-110">This article walks through the steps and syntax you need to create an External ASE or ILB ASE with Resource Manager templates.</span></span> <span data-ttu-id="2a77c-111">Aby dowiedzieć się, jak utworzyć ASE w portalu Azure, zobacz [wprowadzić zewnętrznego ASE] [ MakeExternalASE] lub [upewnij ASE ILB][MakeILBASE].</span><span class="sxs-lookup"><span data-stu-id="2a77c-111">To learn how to create an ASE in the Azure portal, see [Make an External ASE][MakeExternalASE] or [Make an ILB ASE][MakeILBASE].</span></span>

<span data-ttu-id="2a77c-112">Po utworzeniu ASE w portalu Azure, możesz utworzyć sieci wirtualnej w tym samym czasie, lub wybrać istniejących sieci wirtualnej do wdrożenia w.</span><span class="sxs-lookup"><span data-stu-id="2a77c-112">When you create an ASE in the Azure portal, you can create your VNet at the same time or choose a preexisting VNet to deploy into.</span></span> <span data-ttu-id="2a77c-113">Po utworzeniu ASE z szablonu musi rozpoczynać się od:</span><span class="sxs-lookup"><span data-stu-id="2a77c-113">When you create an ASE from a template, you must start with:</span></span> 

* <span data-ttu-id="2a77c-114">Menedżer zasobów sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="2a77c-114">A Resource Manager VNet.</span></span>
* <span data-ttu-id="2a77c-115">Podsieci w tej sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="2a77c-115">A subnet in that VNet.</span></span> <span data-ttu-id="2a77c-116">Firma Microsoft zaleca rozmiar podsieci ASE `/25` 128 adresy umożliwiających rozwój w przyszłości.</span><span class="sxs-lookup"><span data-stu-id="2a77c-116">We recommend an ASE subnet size of `/25` with 128 addresses to accomodate future growth.</span></span> <span data-ttu-id="2a77c-117">Po utworzeniu ASE, nie można zmienić rozmiar.</span><span class="sxs-lookup"><span data-stu-id="2a77c-117">After the ASE is created, you can't change the size.</span></span>
* <span data-ttu-id="2a77c-118">Identyfikator zasobu z sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="2a77c-118">The resource ID from your VNet.</span></span> <span data-ttu-id="2a77c-119">Te informacje można uzyskać z portalu Azure w obszarze właściwości sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="2a77c-119">You can get this information from the Azure portal under your virtual network properties.</span></span>
* <span data-ttu-id="2a77c-120">Subskrypcję, którą chcesz wdrożyć w.</span><span class="sxs-lookup"><span data-stu-id="2a77c-120">The subscription you want to deploy into.</span></span>
* <span data-ttu-id="2a77c-121">Lokalizacja, którą chcesz wdrożyć w.</span><span class="sxs-lookup"><span data-stu-id="2a77c-121">The location you want to deploy into.</span></span>

<span data-ttu-id="2a77c-122">Aby zautomatyzować tworzenie użytkownika ASE:</span><span class="sxs-lookup"><span data-stu-id="2a77c-122">To automate your ASE creation:</span></span>

1. <span data-ttu-id="2a77c-123">Utwórz ASE na podstawie szablonu.</span><span class="sxs-lookup"><span data-stu-id="2a77c-123">Create the ASE from a template.</span></span> <span data-ttu-id="2a77c-124">Jeśli utworzysz zewnętrznych ASE zakończeniu po wykonaniu tego kroku.</span><span class="sxs-lookup"><span data-stu-id="2a77c-124">If you create an External ASE, you're finished after this step.</span></span> <span data-ttu-id="2a77c-125">Jeśli tworzysz ASE ILB, istnieje kilka czynności wykonywane.</span><span class="sxs-lookup"><span data-stu-id="2a77c-125">If you create an ILB ASE, there are a few more things to do.</span></span>

2. <span data-ttu-id="2a77c-126">Po utworzeniu sieci ASE ILB przekazaniu pasujący domenę ILB ASE certyfikat SSL.</span><span class="sxs-lookup"><span data-stu-id="2a77c-126">After your ILB ASE is created, an SSL certificate that matches your ILB ASE domain is uploaded.</span></span>

3. <span data-ttu-id="2a77c-127">Przekazany certyfikat SSL jest przypisany do ILB ASE jako swojego certyfikatu SSL "domyślny".</span><span class="sxs-lookup"><span data-stu-id="2a77c-127">The uploaded SSL certificate is assigned to the ILB ASE as its "default" SSL certificate.</span></span>  <span data-ttu-id="2a77c-128">Ten certyfikat jest używany dla ruchu protokołu SSL do aplikacji w ILB ASE, jeśli korzystają z typowych domeny głównej, przypisane do ASE (na przykład https://someapp.mycustomrootcomain.com).</span><span class="sxs-lookup"><span data-stu-id="2a77c-128">This certificate is used for SSL traffic to apps on the ILB ASE when they use the common root domain that's assigned to the ASE (for example, https://someapp.mycustomrootcomain.com).</span></span>


## <a name="create-the-ase"></a><span data-ttu-id="2a77c-129">Utwórz ASE</span><span class="sxs-lookup"><span data-stu-id="2a77c-129">Create the ASE</span></span>
<span data-ttu-id="2a77c-130">Szablon usługi Resource Manager, który pozwala ASE i jego pliku skojarzone z nimi parametry jest dostępna [w przykładzie] [ quickstartasev2create] w witrynie GitHub.</span><span class="sxs-lookup"><span data-stu-id="2a77c-130">A Resource Manager template that creates an ASE and its associated parameters file is available [in an example][quickstartasev2create] on GitHub.</span></span>

<span data-ttu-id="2a77c-131">Jeśli chcesz ASE ILB, użyj tych szablonu usługi Resource Manager [przykłady][quickstartilbasecreate].</span><span class="sxs-lookup"><span data-stu-id="2a77c-131">If you want to make an ILB ASE, use these Resource Manager template [examples][quickstartilbasecreate].</span></span> <span data-ttu-id="2a77c-132">One automatycznie dostosowują się do których przypadek użycia.</span><span class="sxs-lookup"><span data-stu-id="2a77c-132">They cater to that use case.</span></span> <span data-ttu-id="2a77c-133">Większość parametrów w *azuredeploy.parameters.json* plików są często używane do tworzenia ILB ASEs i ASEs zewnętrznych.</span><span class="sxs-lookup"><span data-stu-id="2a77c-133">Most of the parameters in the *azuredeploy.parameters.json* file are common to the creation of ILB ASEs and External ASEs.</span></span> <span data-ttu-id="2a77c-134">Poniższa lista uwidacznia parametry specjalne uwagi lub są unikatowe, podczas tworzenia ASE ILB:</span><span class="sxs-lookup"><span data-stu-id="2a77c-134">The following list calls out parameters of special note, or that are unique, when you create an ILB ASE:</span></span>

* <span data-ttu-id="2a77c-135">*interalLoadBalancingMode*: W większości przypadków będzie powiązany zestaw to 3, co oznacza ruchu HTTP/HTTPS na porty 80/443 i kontroli/danych portów kanału nasłuch przez usługę FTP na ASE przydzielone ILB sieci wirtualnej wewnętrzny adres.</span><span class="sxs-lookup"><span data-stu-id="2a77c-135">*interalLoadBalancingMode*: In most cases, set this to 3, which means both HTTP/HTTPS traffic on ports 80/443, and the control/data channel ports listened to by the FTP service on the ASE, will be bound to an ILB-allocated virtual network internal address.</span></span> <span data-ttu-id="2a77c-136">Jeśli ta właściwość jest równa 2, tylko FTP związane z usługą portów (kanały zarówno kontroli, jak i dane) są powiązane z adresem ILB.</span><span class="sxs-lookup"><span data-stu-id="2a77c-136">If this property is set to 2, only the FTP service-related ports (both control and data channels) are bound to an ILB address.</span></span> <span data-ttu-id="2a77c-137">Pozostaje ruchu HTTP/HTTPS na publiczny adres VIP.</span><span class="sxs-lookup"><span data-stu-id="2a77c-137">The HTTP/HTTPS traffic remains on the public VIP.</span></span>
* <span data-ttu-id="2a77c-138">*dnsSuffix*: ten parametr określa domyślnej domeny katalogu głównego jest przypisany do ASE.</span><span class="sxs-lookup"><span data-stu-id="2a77c-138">*dnsSuffix*: This parameter defines the default root domain that's assigned to the ASE.</span></span> <span data-ttu-id="2a77c-139">W publicznej wersji usługi Azure App Service, domyślnej domeny głównej dla wszystkich aplikacji w sieci web jest *azurewebsites.net*.</span><span class="sxs-lookup"><span data-stu-id="2a77c-139">In the public variation of Azure App Service, the default root domain for all web apps is *azurewebsites.net*.</span></span> <span data-ttu-id="2a77c-140">Ponieważ ASE ILB jest wewnętrzna sieć wirtualna klienta, go nie ma sensu do korzystania z usługi publicznego domyślnego głównym domeny.</span><span class="sxs-lookup"><span data-stu-id="2a77c-140">Because an ILB ASE is internal to a customer's virtual network, it doesn't make sense to use the public service's default root domain.</span></span> <span data-ttu-id="2a77c-141">Zamiast tego ASE ILB powinien mieć domyślnej domeny katalogu głównego, pasującą do użytku w wewnętrznej sieci wirtualnej firmy.</span><span class="sxs-lookup"><span data-stu-id="2a77c-141">Instead, an ILB ASE should have a default root domain that makes sense for use within a company's internal virtual network.</span></span> <span data-ttu-id="2a77c-142">Na przykład firma Contoso może użyć domyślną domeną katalogu głównego *wewnętrzny contoso.com* dla aplikacji, które mają być rozpoznawalna i dostępny tylko w ramach sieci wirtualnej firmy Contoso.</span><span class="sxs-lookup"><span data-stu-id="2a77c-142">For example, Contoso Corporation might use a default root domain of *internal-contoso.com* for apps that are intended to be resolvable and accessible only within Contoso's virtual network.</span></span> 
* <span data-ttu-id="2a77c-143">*ipSslAddressCount*: Domyślnie ustawienie tego parametru na wartość 0 w *azuredeploy.json* pliku, ponieważ ILB ASEs mieć tylko jeden adres ILB.</span><span class="sxs-lookup"><span data-stu-id="2a77c-143">*ipSslAddressCount*: This parameter automatically defaults to a value of 0 in the *azuredeploy.json* file because ILB ASEs only have a single ILB address.</span></span> <span data-ttu-id="2a77c-144">Nie ma żadnych jawnych adresów IP protokołu SSL dla ASE ILB.</span><span class="sxs-lookup"><span data-stu-id="2a77c-144">There are no explicit IP-SSL addresses for an ILB ASE.</span></span> <span data-ttu-id="2a77c-145">W związku z tym puli adresów IP protokołu SSL dla ASE ILB musi mieć ustawioną wartość zero.</span><span class="sxs-lookup"><span data-stu-id="2a77c-145">Hence, the IP-SSL address pool for an ILB ASE must be set to zero.</span></span> <span data-ttu-id="2a77c-146">W przeciwnym razie wystąpi błąd inicjowania obsługi administracyjnej.</span><span class="sxs-lookup"><span data-stu-id="2a77c-146">Otherwise, a provisioning error occurs.</span></span> 

<span data-ttu-id="2a77c-147">Po *azuredeploy.parameters.json* plik zostanie wypełnione, Utwórz ASE przy użyciu programu PowerShell fragmentu kodu.</span><span class="sxs-lookup"><span data-stu-id="2a77c-147">After the *azuredeploy.parameters.json* file is filled in, create the ASE by using the PowerShell code snippet.</span></span> <span data-ttu-id="2a77c-148">Zmienianie ścieżki pliku do dopasowania lokalizacji pliku szablonu usługi Resource Manager na tym komputerze.</span><span class="sxs-lookup"><span data-stu-id="2a77c-148">Change the file paths to match the Resource Manager template-file locations on your machine.</span></span> <span data-ttu-id="2a77c-149">Pamiętaj, aby podać własne wartości dla nazwy wdrożenia usługi Resource Manager i nazwę grupy zasobów:</span><span class="sxs-lookup"><span data-stu-id="2a77c-149">Remember to supply your own values for the Resource Manager deployment name and the resource group name:</span></span>

    $templatePath="PATH\azuredeploy.json"
    $parameterPath="PATH\azuredeploy.parameters.json"

    New-AzureRmResourceGroupDeployment -Name "CHANGEME" -ResourceGroupName "YOUR-RG-NAME-HERE" -TemplateFile $templatePath -TemplateParameterFile $parameterPath

<span data-ttu-id="2a77c-150">Trwa około godziny ASE ma zostać utworzony.</span><span class="sxs-lookup"><span data-stu-id="2a77c-150">It takes about an hour for the ASE to be created.</span></span> <span data-ttu-id="2a77c-151">Następnie ASE zostaną wyświetlone w portalu na liście ASEs subskrypcji, która wyzwoliła wdrożenia.</span><span class="sxs-lookup"><span data-stu-id="2a77c-151">Then the ASE shows up in the portal in the list of ASEs for the subscription that triggered the deployment.</span></span>

## <a name="upload-and-configure-the-default-ssl-certificate"></a><span data-ttu-id="2a77c-152">Przekazać i skonfigurować certyfikat SSL "domyślny"</span><span class="sxs-lookup"><span data-stu-id="2a77c-152">Upload and configure the "default" SSL certificate</span></span>
<span data-ttu-id="2a77c-153">Certyfikat SSL musi być skojarzony z ASE jako certyfikat SSL "domyślne", który jest używany do ustanawiania połączeń SSL do aplikacji.</span><span class="sxs-lookup"><span data-stu-id="2a77c-153">An SSL certificate must be associated with the ASE as the "default" SSL certificate that's used to establish SSL connections to apps.</span></span> <span data-ttu-id="2a77c-154">Jeśli ASE domyślny sufiks DNS jest *wewnętrzny contoso.com*, połączenie https://some-random-app.internal-contoso.com wymaga certyfikatu SSL, który jest prawidłowy dla **.internal contoso.com*.</span><span class="sxs-lookup"><span data-stu-id="2a77c-154">If the ASE's default DNS suffix is *internal-contoso.com*, a connection to https://some-random-app.internal-contoso.com requires an SSL certificate that's valid for **.internal-contoso.com*.</span></span> 

<span data-ttu-id="2a77c-155">Uzyskaj prawidłowy certyfikat SSL przy użyciu certyfikatu wewnętrznego urzędów, zakup certyfikatu od zewnętrznego wystawcy lub przy użyciu certyfikatu z podpisem własnym.</span><span class="sxs-lookup"><span data-stu-id="2a77c-155">Obtain a valid SSL certificate by using internal certificate authorities, purchasing a certificate from an external issuer, or using a self-signed certificate.</span></span> <span data-ttu-id="2a77c-156">Niezależnie od źródła certyfikatu protokołu SSL następujące atrybuty certyfikatu musi być prawidłowo skonfigurowane:</span><span class="sxs-lookup"><span data-stu-id="2a77c-156">Regardless of the source of the SSL certificate, the following certificate attributes must be configured properly:</span></span>

* <span data-ttu-id="2a77c-157">**Temat**: ten atrybut musi być równa **.your głównego domeny here.com*.</span><span class="sxs-lookup"><span data-stu-id="2a77c-157">**Subject**: This attribute must be set to **.your-root-domain-here.com*.</span></span>
* <span data-ttu-id="2a77c-158">**Alternatywna nazwa podmiotu**: ten atrybut musi zawierać zarówno **.your głównego domeny here.com* i **.scm.your-głównego-domeny-here.com*.</span><span class="sxs-lookup"><span data-stu-id="2a77c-158">**Subject Alternative Name**: This attribute must include both **.your-root-domain-here.com* and **.scm.your-root-domain-here.com*.</span></span> <span data-ttu-id="2a77c-159">Połączenia SSL do witryny SCM/Kudu skojarzone z każdej aplikacji używać adresu w postaci *your-app-name.scm.your-root-domain-here.com*.</span><span class="sxs-lookup"><span data-stu-id="2a77c-159">SSL connections to the SCM/Kudu site associated with each app use an address of the form *your-app-name.scm.your-root-domain-here.com*.</span></span>

<span data-ttu-id="2a77c-160">Przy użyciu prawidłowego certyfikatu SSL w ręcznie potrzebne są dwa dodatkowe czynności przygotowawczych.</span><span class="sxs-lookup"><span data-stu-id="2a77c-160">With a valid SSL certificate in hand, two additional preparatory steps are needed.</span></span> <span data-ttu-id="2a77c-161">Konwertuj/Zapisz certyfikat jako plik pfx.</span><span class="sxs-lookup"><span data-stu-id="2a77c-161">Convert/save the SSL certificate as a .pfx file.</span></span> <span data-ttu-id="2a77c-162">Pamiętać, że plik PFX musi zawierać wszystkie pośrednie i certyfikaty główne.</span><span class="sxs-lookup"><span data-stu-id="2a77c-162">Remember that the .pfx file must include all intermediate and root certificates.</span></span> <span data-ttu-id="2a77c-163">Zabezpiecz ją przy użyciu hasła.</span><span class="sxs-lookup"><span data-stu-id="2a77c-163">Secure it with a password.</span></span>

<span data-ttu-id="2a77c-164">Plik PFX wymaga do przekonwertowania na ciąg w formacie base64, ponieważ certyfikat SSL jest przekazywany za pomocą szablonu usługi Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="2a77c-164">The .pfx file needs to be converted into a base64 string because the SSL certificate is uploaded by using a Resource Manager template.</span></span> <span data-ttu-id="2a77c-165">Ponieważ szablonów Resource Manager są plikami tekstowymi, należy przekonwertować plik PFX do ciąg w formacie base64.</span><span class="sxs-lookup"><span data-stu-id="2a77c-165">Because Resource Manager templates are text files, the .pfx file must be converted into a base64 string.</span></span> <span data-ttu-id="2a77c-166">W ten sposób może zostać dołączony jako parametr szablonu.</span><span class="sxs-lookup"><span data-stu-id="2a77c-166">This way it can be included as a parameter of the template.</span></span>

<span data-ttu-id="2a77c-167">Użyj następującego fragmentu kodu programu PowerShell do:</span><span class="sxs-lookup"><span data-stu-id="2a77c-167">Use the following PowerShell code snippet to:</span></span>

* <span data-ttu-id="2a77c-168">Wygeneruj certyfikat z podpisem własnym.</span><span class="sxs-lookup"><span data-stu-id="2a77c-168">Generate a self-signed certificate.</span></span>
* <span data-ttu-id="2a77c-169">Wyeksportuj certyfikat jako plik pfx.</span><span class="sxs-lookup"><span data-stu-id="2a77c-169">Export the certificate as a .pfx file.</span></span>
* <span data-ttu-id="2a77c-170">Konwertowanie pliku .pfx na ciąg kodowany w formacie base64.</span><span class="sxs-lookup"><span data-stu-id="2a77c-170">Convert the .pfx file into a base64-encoded string.</span></span>
* <span data-ttu-id="2a77c-171">Zapisz ciąg kodowany w formacie base64 w oddzielnym pliku.</span><span class="sxs-lookup"><span data-stu-id="2a77c-171">Save the base64-encoded string to a separate file.</span></span> 

<span data-ttu-id="2a77c-172">Ten kod programu PowerShell dla kodowania base64 pochodzi z [blogu skrypty programu PowerShell][examplebase64encoding]:</span><span class="sxs-lookup"><span data-stu-id="2a77c-172">This PowerShell code for base64 encoding was adapted from the [PowerShell scripts blog][examplebase64encoding]:</span></span>

        $certificate = New-SelfSignedCertificate -certstorelocation cert:\localmachine\my -dnsname "*.internal-contoso.com","*.scm.internal-contoso.com"

        $certThumbprint = "cert:\localMachine\my\" + $certificate.Thumbprint
        $password = ConvertTo-SecureString -String "CHANGETHISPASSWORD" -Force -AsPlainText

        $fileName = "exportedcert.pfx"
        Export-PfxCertificate -cert $certThumbprint -FilePath $fileName -Password $password     

        $fileContentBytes = get-content -encoding byte $fileName
        $fileContentEncoded = [System.Convert]::ToBase64String($fileContentBytes)
        $fileContentEncoded | set-content ($fileName + ".b64")

<span data-ttu-id="2a77c-173">Po certyfikat SSL jest pomyślnie wygenerowany i konwertowana na ciąg kodowany w formacie base64, użyj szablonu usługi Resource Manager przykład [skonfigurować certyfikat SSL domyślne] [ quickstartconfiguressl] w witrynie GitHub.</span><span class="sxs-lookup"><span data-stu-id="2a77c-173">After the SSL certificate is successfully generated and converted to a base64-encoded string, use the example Resource Manager template [Configure the default SSL certificate][quickstartconfiguressl] on GitHub.</span></span> 

<span data-ttu-id="2a77c-174">Parametry w *azuredeploy.parameters.json* plików są wyświetlane tutaj:</span><span class="sxs-lookup"><span data-stu-id="2a77c-174">The parameters in the *azuredeploy.parameters.json* file are listed here:</span></span>

* <span data-ttu-id="2a77c-175">*appServiceEnvironmentName*: Nazwa ASE ILB skonfigurowany.</span><span class="sxs-lookup"><span data-stu-id="2a77c-175">*appServiceEnvironmentName*: The name of the ILB ASE being configured.</span></span>
* <span data-ttu-id="2a77c-176">*existingAseLocation*: ciąg tekstowy zawierający wdrożonym ILB ASE region platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="2a77c-176">*existingAseLocation*: Text string containing the Azure region where the ILB ASE was deployed.</span></span>  <span data-ttu-id="2a77c-177">Na przykład: "Południowo-środkowe Stany".</span><span class="sxs-lookup"><span data-stu-id="2a77c-177">For example: "South Central US".</span></span>
* <span data-ttu-id="2a77c-178">*pfxBlobString*: ciąg kodowany w formacie based64 reprezentację pliku .pfx.</span><span class="sxs-lookup"><span data-stu-id="2a77c-178">*pfxBlobString*: The based64-encoded string representation of the .pfx file.</span></span> <span data-ttu-id="2a77c-179">Użyj fragment kodu pokazano wcześniej, a następnie skopiuj ciąg "exportedcert.pfx.b64".</span><span class="sxs-lookup"><span data-stu-id="2a77c-179">Use the code snippet shown earlier and copy the string contained in "exportedcert.pfx.b64".</span></span> <span data-ttu-id="2a77c-180">Wklej go jako wartość *pfxBlobString* atrybutu.</span><span class="sxs-lookup"><span data-stu-id="2a77c-180">Paste it in as the value of the *pfxBlobString* attribute.</span></span>
* <span data-ttu-id="2a77c-181">*hasło*: hasło używane do zabezpieczania pliku .pfx.</span><span class="sxs-lookup"><span data-stu-id="2a77c-181">*password*: The password used to secure the .pfx file.</span></span>
* <span data-ttu-id="2a77c-182">*certificateThumbprint*: Odcisk palca certyfikatu.</span><span class="sxs-lookup"><span data-stu-id="2a77c-182">*certificateThumbprint*: The certificate's thumbprint.</span></span> <span data-ttu-id="2a77c-183">Jeśli pobierania tej wartości ze środowiska PowerShell (na przykład *$certificate. Odcisk palca* z wcześniejszych fragment kodu), można użyć wartości, ponieważ jest.</span><span class="sxs-lookup"><span data-stu-id="2a77c-183">If you retrieve this value from PowerShell (for example, *$certificate.Thumbprint* from the earlier code snippet), you can use the value as is.</span></span> <span data-ttu-id="2a77c-184">Jeśli wartość jest skopiować z okna dialogowego certyfikatu systemu Windows, pamiętaj, aby usuwają usunięciu spacji.</span><span class="sxs-lookup"><span data-stu-id="2a77c-184">If you copy the value from the Windows certificate dialog box, remember to strip out the extraneous spaces.</span></span> <span data-ttu-id="2a77c-185">*CertificateThumbprint* powinien wyglądać jak AF3143EB61D43F6727842115BB7F17BBCECAECAE.</span><span class="sxs-lookup"><span data-stu-id="2a77c-185">The *certificateThumbprint* should look something like  AF3143EB61D43F6727842115BB7F17BBCECAECAE.</span></span>
* <span data-ttu-id="2a77c-186">*certificateName*: identyfikator ciągu przyjazną wybranej przez użytkownika używane do identyfikowania certyfikatu.</span><span class="sxs-lookup"><span data-stu-id="2a77c-186">*certificateName*: A friendly string identifier of your own choosing used to identity the certificate.</span></span> <span data-ttu-id="2a77c-187">Nazwa jest używana jako część Unikatowy identyfikator menedżera zasobów *Microsoft.Web/certificates* jednostki, która reprezentuje certyfikatu SSL.</span><span class="sxs-lookup"><span data-stu-id="2a77c-187">The name is used as part of the unique Resource Manager identifier for the *Microsoft.Web/certificates* entity that represents the SSL certificate.</span></span> <span data-ttu-id="2a77c-188">Nazwa *musi* kończyć się sufiksem następujących: \_yourASENameHere_InternalLoadBalancingASE.</span><span class="sxs-lookup"><span data-stu-id="2a77c-188">The name *must* end with the following suffix: \_yourASENameHere_InternalLoadBalancingASE.</span></span> <span data-ttu-id="2a77c-189">Azure portal używa ten sufiks jako wskaźnik certyfikat służy do zabezpieczania ASE włączone ILB.</span><span class="sxs-lookup"><span data-stu-id="2a77c-189">The Azure portal uses this suffix as an indicator that the certificate is used to secure an ILB-enabled ASE.</span></span>

<span data-ttu-id="2a77c-190">Przykład skróconej *azuredeploy.parameters.json* jest następujący:</span><span class="sxs-lookup"><span data-stu-id="2a77c-190">An abbreviated example of *azuredeploy.parameters.json* is shown here:</span></span>

    {
         "$schema": "http://schema.management.azure.com/schemas/2015-01-01/deploymentParameters.json",
         "contentVersion": "1.0.0.0",
         "parameters": {
              "appServiceEnvironmentName": {
                   "value": "yourASENameHere"
              },
              "existingAseLocation": {
                   "value": "East US 2"
              },
              "pfxBlobString": {
                   "value": "MIIKcAIBAz...snip...snip...pkCAgfQ"
              },
              "password": {
                   "value": "PASSWORDGOESHERE"
              },
              "certificateThumbprint": {
                   "value": "AF3143EB61D43F6727842115BB7F17BBCECAECAE"
              },
              "certificateName": {
                   "value": "DefaultCertificateFor_yourASENameHere_InternalLoadBalancingASE"
              }
         }
    }

<span data-ttu-id="2a77c-191">Po *azuredeploy.parameters.json* plik zostanie wypełnione, skonfigurować domyślnego certyfikatu SSL za pomocą programu PowerShell fragmentu kodu.</span><span class="sxs-lookup"><span data-stu-id="2a77c-191">After the *azuredeploy.parameters.json* file is filled in, configure the default SSL certificate by using the PowerShell code snippet.</span></span> <span data-ttu-id="2a77c-192">Zmienianie ścieżki pliku do dopasowania, gdy pliki szablonu usługi Resource Manager znajdują się na tym komputerze.</span><span class="sxs-lookup"><span data-stu-id="2a77c-192">Change the file paths to match where the Resource Manager template files are located on your machine.</span></span> <span data-ttu-id="2a77c-193">Pamiętaj, aby podać własne wartości dla nazwy wdrożenia usługi Resource Manager i nazwę grupy zasobów:</span><span class="sxs-lookup"><span data-stu-id="2a77c-193">Remember to supply your own values for the Resource Manager deployment name and the resource group name:</span></span>

     $templatePath="PATH\azuredeploy.json"
     $parameterPath="PATH\azuredeploy.parameters.json"

     New-AzureRmResourceGroupDeployment -Name "CHANGEME" -ResourceGroupName "YOUR-RG-NAME-HERE" -TemplateFile $templatePath -TemplateParameterFile $parameterPath

<span data-ttu-id="2a77c-194">Trwa około 40 minut na ASE frontonu do zastosowania zmiany.</span><span class="sxs-lookup"><span data-stu-id="2a77c-194">It takes roughly 40 minutes per ASE front end to apply the change.</span></span> <span data-ttu-id="2a77c-195">Na przykład dla ASE o rozmiarze domyślnym wykorzystuje dwa końce frontonu, szablon zajmie około jednej godziny i 20 minut do wykonania.</span><span class="sxs-lookup"><span data-stu-id="2a77c-195">For example, for a default-sized ASE that uses two front ends, the template takes around one hour and 20 minutes to complete.</span></span> <span data-ttu-id="2a77c-196">Szablon jest uruchomiona, nie można skalować ASE.</span><span class="sxs-lookup"><span data-stu-id="2a77c-196">While the template is running, the ASE can't scale.</span></span>  

<span data-ttu-id="2a77c-197">Po zakończeniu szablonu aplikacji w ILB ASE są dostępne za pośrednictwem protokołu HTTPS.</span><span class="sxs-lookup"><span data-stu-id="2a77c-197">After the template finishes, apps on the ILB ASE can be accessed over HTTPS.</span></span> <span data-ttu-id="2a77c-198">Połączenia są zabezpieczone za pomocą domyślnego certyfikatu SSL.</span><span class="sxs-lookup"><span data-stu-id="2a77c-198">The connections are secured by using the default SSL certificate.</span></span> <span data-ttu-id="2a77c-199">Domyślny certyfikat SSL służy do aplikacji w ILB ASE dotyczą przy użyciu kombinacji nazwy aplikacji oraz nazwa hosta domyślnego.</span><span class="sxs-lookup"><span data-stu-id="2a77c-199">The default SSL certificate is used when apps on the ILB ASE are addressed by using a combination of the application name plus the default host name.</span></span> <span data-ttu-id="2a77c-200">Na przykład https://mycustomapp.internal-contoso.com używa domyślnego certyfikatu SSL dla **.internal contoso.com*.</span><span class="sxs-lookup"><span data-stu-id="2a77c-200">For example, https://mycustomapp.internal-contoso.com uses the default SSL certificate for **.internal-contoso.com*.</span></span>

<span data-ttu-id="2a77c-201">Jednak podobnie jak aplikacji uruchamianych w publicznej usługi wielodostępnym, deweloperzy mogą konfigurować nazwy hosta niestandardowego dla poszczególnych aplikacji.</span><span class="sxs-lookup"><span data-stu-id="2a77c-201">However, just like apps that run on the public multitenant service, developers can configure custom host names for individual apps.</span></span> <span data-ttu-id="2a77c-202">Może również skonfigurować unikatowe powiązania certyfikatu SNI SSL dla poszczególnych aplikacji.</span><span class="sxs-lookup"><span data-stu-id="2a77c-202">They also can configure unique SNI SSL certificate bindings for individual apps.</span></span>

## <a name="app-service-environment-v1"></a><span data-ttu-id="2a77c-203">Środowisko usługi App Service — wersja 1</span><span class="sxs-lookup"><span data-stu-id="2a77c-203">App Service Environment v1</span></span> ##
<span data-ttu-id="2a77c-204">Środowiska usługi aplikacji ma dwie wersje: ASEv1 i ASEv2.</span><span class="sxs-lookup"><span data-stu-id="2a77c-204">App Service Environment has two versions: ASEv1 and ASEv2.</span></span> <span data-ttu-id="2a77c-205">Oparto na ASEv2 powyższych informacji.</span><span class="sxs-lookup"><span data-stu-id="2a77c-205">The preceding information was based on ASEv2.</span></span> <span data-ttu-id="2a77c-206">W tej sekcji przedstawiono różnice między ASEv1 i ASEv2.</span><span class="sxs-lookup"><span data-stu-id="2a77c-206">This section shows you the differences between ASEv1 and ASEv2.</span></span>

<span data-ttu-id="2a77c-207">ASEv1 zarządzania wszystkie zasoby ręcznie.</span><span class="sxs-lookup"><span data-stu-id="2a77c-207">In ASEv1, you manage all of the resources manually.</span></span> <span data-ttu-id="2a77c-208">Zawierającej interfejsy, pracowników i adresy IP używane dla opartych na protokole SSL.</span><span class="sxs-lookup"><span data-stu-id="2a77c-208">That includes the front ends, workers, and IP addresses used for IP-based SSL.</span></span> <span data-ttu-id="2a77c-209">Zanim można skalować w poziomie planu usługi aplikacji, musisz skalowanie puli procesów roboczych, który chcesz udostępnić go.</span><span class="sxs-lookup"><span data-stu-id="2a77c-209">Before you can scale out your App Service plan, you must scale out the worker pool that you want to host it.</span></span>

<span data-ttu-id="2a77c-210">ASEv1 używa innego modelu cenowego z ASEv2.</span><span class="sxs-lookup"><span data-stu-id="2a77c-210">ASEv1 uses a different pricing model from ASEv2.</span></span> <span data-ttu-id="2a77c-211">W ASEv1 płacisz za każdego rdzenia przydzielone.</span><span class="sxs-lookup"><span data-stu-id="2a77c-211">In ASEv1, you pay for each core allocated.</span></span> <span data-ttu-id="2a77c-212">Zawierającej rdzeni, używanych do interfejsy lub pracowników, którzy nie są hosting dowolnych zadań.</span><span class="sxs-lookup"><span data-stu-id="2a77c-212">That includes cores that are used for front ends or workers that aren't hosting any workloads.</span></span> <span data-ttu-id="2a77c-213">W ASEv1 domyślny rozmiar maksymalny skali ASE jest 55 hosty łącznie.</span><span class="sxs-lookup"><span data-stu-id="2a77c-213">In ASEv1, the default maximum-scale size of an ASE is 55 total hosts.</span></span> <span data-ttu-id="2a77c-214">Zawierającej pracowników i interfejsy.</span><span class="sxs-lookup"><span data-stu-id="2a77c-214">That includes workers and front ends.</span></span> <span data-ttu-id="2a77c-215">Jedną z zalet ASEv1 jest, że może on zostać wdrożony w klasycznej sieci wirtualnej i sieci wirtualnych Menedżera zasobów.</span><span class="sxs-lookup"><span data-stu-id="2a77c-215">One advantage to ASEv1 is that it can be deployed in a classic virtual network and a Resource Manager virtual network.</span></span> <span data-ttu-id="2a77c-216">Aby dowiedzieć się więcej na temat ASEv1, zobacz [wprowadzenie v1 środowiska usługi aplikacji][ASEv1Intro].</span><span class="sxs-lookup"><span data-stu-id="2a77c-216">To learn more about ASEv1, see [App Service Environment v1 introduction][ASEv1Intro].</span></span>

<span data-ttu-id="2a77c-217">Aby utworzyć ASEv1 przy użyciu szablonu usługi Resource Manager, zobacz [utworzyć przy użyciu szablonu usługi Resource Manager v1 ILB ASE][ILBASEv1Template].</span><span class="sxs-lookup"><span data-stu-id="2a77c-217">To create an ASEv1 by using a Resource Manager template, see [Create an ILB ASE v1 with a Resource Manager template][ILBASEv1Template].</span></span>


<!--Links-->
[quickstartilbasecreate]: http://azure.microsoft.com/documentation/templates/201-web-app-asev2-ilb-create
[quickstartasev2create]: http://azure.microsoft.com/documentation/templates/201-web-app-asev2-create
[quickstartconfiguressl]: http://azure.microsoft.com/documentation/templates/201-web-app-ase-ilb-configure-default-ssl
[quickstartwebapponasev2create]: http://azure.microsoft.com/documentation/templates/201-web-app-asp-app-on-asev2-create
[examplebase64encoding]: http://powershellscripts.blogspot.com/2007/02/base64-encode-file.html 
[configuringDefaultSSLCertificate]: https://azure.microsoft.com/documentation/templates/201-web-app-ase-ilb-configure-default-ssl/
[Intro]: ./intro.md
[MakeExternalASE]: ./create-external-ase.md
[MakeASEfromTemplate]: ./create-from-template.md
[MakeILBASE]: ./create-ilb-ase.md
[ASENetwork]: ./network-info.md
[ASEReadme]: ./readme.md
[UsingASE]: ./using-an-ase.md
[UDRs]: ../../virtual-network/virtual-networks-udr-overview.md
[NSGs]: ../../virtual-network/virtual-networks-nsg.md
[ConfigureASEv1]: ../../app-service-web/app-service-web-configure-an-app-service-environment.md
[ASEv1Intro]: ../../app-service-web/app-service-app-service-environment-intro.md
[webapps]: ../../app-service-web/app-service-web-overview.md
[mobileapps]: ../../app-service-mobile/app-service-mobile-value-prop.md
[APIapps]: ../../app-service-api/app-service-api-apps-why-best-platform.md
[Functions]: ../../azure-functions/index.yml
[Pricing]: http://azure.microsoft.com/pricing/details/app-service/
[ARMOverview]: ../../azure-resource-manager/resource-group-overview.md
[ConfigureSSL]: ../../app-service-web/web-sites-purchase-ssl-web-site.md
[Kudu]: http://azure.microsoft.com/resources/videos/super-secret-kudu-debug-console-for-azure-web-sites/
[AppDeploy]: ../../app-service-web/web-sites-deploy.md
[ASEWAF]: ../../app-service-web/app-service-app-service-environment-web-application-firewall.md
[AppGW]: ../../application-gateway/application-gateway-web-application-firewall-overview.md
[ILBASEv1Template]: ../../app-service-web/app-service-app-service-environment-create-ilb-ase-resourcemanager.md
