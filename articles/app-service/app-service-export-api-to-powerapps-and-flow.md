---
title: "Eksportowanie interfejs API hostowanymi na platformie Azure do PowerApps i przepływów Microsoft | Dokumentacja firmy Microsoft"
description: "Omówienie sposobu uwidacznia interfejs API hostowany w usłudze App Service w rozwiązaniu PowerApps i Flow firmy Microsoft"
services: app-service
documentationcenter: 
author: mattchenderson
manager: erikre
editor: 
ms.assetid: 
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: multiple
ms.topic: article
ms.date: 06/20/2017
ms.author: mahender
ms.openlocfilehash: 0d166a2e5b60c3b9f911f9fc3ad49ad7f252abb4
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 07/11/2017
---
# <a name="exporting-an-azure-hosted-api-to-powerapps-and-microsoft-flow"></a><span data-ttu-id="e5fc2-103">Eksportowanie interfejs API hostowanymi na platformie Azure do PowerApps i przepływów firmy Microsoft</span><span class="sxs-lookup"><span data-stu-id="e5fc2-103">Exporting an Azure-hosted API to PowerApps and Microsoft Flow</span></span>

## <a name="creating-custom-connectors-for-powerapps-and-microsoft-flow"></a><span data-ttu-id="e5fc2-104">Tworzenie niestandardowych łączniki dla PowerApps i Flow firmy Microsoft</span><span class="sxs-lookup"><span data-stu-id="e5fc2-104">Creating custom connectors for PowerApps and Microsoft Flow</span></span>

<span data-ttu-id="e5fc2-105">[Rozwiązanie PowerApps](https://powerapps.com) to usługa do tworzenia i używania aplikacji biznesowych niestandardowych, Połącz z danymi, które działają na różnych platformach.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-105">[PowerApps](https://powerapps.com) is a service for building and using custom business apps that connect to your data and work across platforms.</span></span> <span data-ttu-id="e5fc2-106">[Microsoft Flow](https://flow.microsoft.com) można łatwo automatyzować przepływy pracy i procesy biznesowe między ulubionych aplikacji i usług.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-106">[Microsoft Flow](https://flow.microsoft.com) makes it easy to automate workflows and business processes between your favorite apps and services.</span></span> <span data-ttu-id="e5fc2-107">Zarówno PowerApps i Microsoft Flow wyposażone w szereg łączników do źródeł danych, takich jak usługi Office 365, Dynamics 365 Salesforce i więcej.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-107">Both PowerApps and Microsoft Flow come with a variety of built-in connectors to data sources such as Office 365, Dynamics 365, Salesforce, and more.</span></span> <span data-ttu-id="e5fc2-108">Jednak użytkownicy również muszą mieć możliwość wykorzystania źródeł danych i interfejsów API konstruowany przez organizację.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-108">However, users also need to be able to leverage data sources and APIs being built by their organization.</span></span>

<span data-ttu-id="e5fc2-109">Podobnie deweloperów, które mają być ujawnia swoje interfejsy API szerzej w organizacji może być konieczne udostępnienie ich interfejsów API użytkownikom PowerApps i Flow firmy Microsoft.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-109">Similarly, developers that want to expose their APIs more broadly within the organization may want to make their APIs available to PowerApps and Microsoft Flow users.</span></span> <span data-ttu-id="e5fc2-110">W tym temacie opisano, jak do udostępnienia interfejsu API z usługi aplikacji Azure lub usługi Azure Functions do PowerApps i Flow firmy Microsoft.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-110">This topic will show you how to expose an API built with Azure App Service or Azure Functions to PowerApps and Microsoft Flow.</span></span> <span data-ttu-id="e5fc2-111">[Usługa aplikacji Azure](https://azure.microsoft.com/services/app-service/) jest ofertę platformy jako usługa, która umożliwia deweloperom szybkie i łatwe tworzenie aplikacji interfejsu API, mobilne i sieci web korporacyjnej.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-111">[Azure App Service](https://azure.microsoft.com/services/app-service/) is a platform-as-a-service offering that allows developers to quickly and easily build enterprise-grade web, mobile, and API applications.</span></span> <span data-ttu-id="e5fc2-112">[Środowisko Azure Functions](https://azure.microsoft.com/services/functions/) to rozwiązanie oparte na zdarzeniu niekorzystającą obliczeniowe, które pozwala na szybkie kodu autora mogą reagować na inne części systemu i skali na podstawie zapotrzebowania.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-112">[Azure Functions](https://azure.microsoft.com/services/functions/) is an event-based serverless compute solution that allows you to quickly author code that can react to other parts of your system and scale based on demand.</span></span>

<span data-ttu-id="e5fc2-113">Aby dowiedzieć się więcej na temat tych usług, zobacz:</span><span class="sxs-lookup"><span data-stu-id="e5fc2-113">To learn more about these services, see:</span></span>
- [<span data-ttu-id="e5fc2-114">Rozwiązanie PowerApps z przewodnikiem Learning</span><span class="sxs-lookup"><span data-stu-id="e5fc2-114">PowerApps Guided Learning</span></span>](https://powerapps.microsoft.com/guided-learning/learning-introducing-powerapps/) 
- [<span data-ttu-id="e5fc2-115">Uczenie z przewodnikiem przepływu firmy Microsoft</span><span class="sxs-lookup"><span data-stu-id="e5fc2-115">Microsoft Flow Guided Learning</span></span>](https://flow.microsoft.com/guided-learning/learning-introducing-flow/)
- [<span data-ttu-id="e5fc2-116">Co to jest usługa App Service?</span><span class="sxs-lookup"><span data-stu-id="e5fc2-116">What is App Service?</span></span>](https://docs.microsoft.com/azure/app-service/app-service-value-prop-what-is)
- [<span data-ttu-id="e5fc2-117">Co to jest Azure Functions</span><span class="sxs-lookup"><span data-stu-id="e5fc2-117">What is Azure Functions</span></span>](https://docs.microsoft.com/azure/azure-functions/functions-overview)

## <a name="sharing-an-api-definition"></a><span data-ttu-id="e5fc2-118">Udostępnianie definicji interfejsu API</span><span class="sxs-lookup"><span data-stu-id="e5fc2-118">Sharing an API definition</span></span>

<span data-ttu-id="e5fc2-119">Interfejsy API są często opisane przy użyciu [dokumentu OpenAPI](https://www.openapis.org/) (czasem określana jako dokument "Swagger").</span><span class="sxs-lookup"><span data-stu-id="e5fc2-119">APIs are often described using an [OpenAPI document](https://www.openapis.org/) (sometimes referred to as a "Swagger" document).</span></span> <span data-ttu-id="e5fc2-120">Zawiera wszystkie informacje, jakie operacje są dostępne i struktury danych.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-120">This contains all of the information about what operations are available and how the data should be structured.</span></span> <span data-ttu-id="e5fc2-121">PowerApps i Microsoft Flow można tworzyć niestandardowe łączniki dla każdego dokumentu OpenAPI 2.0.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-121">PowerApps and Microsoft Flow can create custom connectors for any OpenAPI 2.0 document.</span></span> <span data-ttu-id="e5fc2-122">Po utworzeniu niestandardowego łącznika można dokładnie tak samo jak jedną z wbudowanych łączników i szybko można zintegrować aplikacji.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-122">Once a custom connector is created, it can be used in exactly the same way as one of the built-in connectors and can quickly be integrated into an application.</span></span>

<span data-ttu-id="e5fc2-123">Azure App Service i usługi Azure Functions [wbudowana obsługa](https://docs.microsoft.com/azure/app-service-api/app-service-api-metadata) do tworzenia i zarządzania dokumentami OpenAPI hostingu.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-123">Azure App Service and Azure Functions have [built-in support](https://docs.microsoft.com/azure/app-service-api/app-service-api-metadata) for creating, hosting, and managing an OpenAPI document.</span></span> <span data-ttu-id="e5fc2-124">Aby utworzyć niestandardowy łącznik dla sieci web, mobilnych, interfejsu API lub funkcji aplikacji, PowerApps i przepływów muszą mieć kopię definicji.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-124">In order to create a custom connector for a web, mobile, API, or function app, PowerApps and Flow need to be given a copy of the definition.</span></span>

> [!NOTE]
> <span data-ttu-id="e5fc2-125">Ponieważ kopię definicji interfejsu API jest używany z PowerApps i Microsoft Flow nie będą od razu wiedzieć o aktualizacje i zmiany podziału do aplikacji.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-125">Because a copy of the API definition is being used, PowerApps and Microsoft Flow will not immediately know about updates or breaking changes to the application.</span></span> <span data-ttu-id="e5fc2-126">Jeśli nowa wersja interfejsu API jest dostępny, należy powtórzyć te kroki dla nowej wersji.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-126">If a new version of the API is made available, these steps should be repeated for the new version.</span></span> 

<span data-ttu-id="e5fc2-127">Aby zapewnić PowerApps i Microsoft Flow hostowanej definicji interfejsu API dla aplikacji, wykonaj następujące kroki:</span><span class="sxs-lookup"><span data-stu-id="e5fc2-127">To provide PowerApps and Microsoft Flow with the hosted API definition for your app, follow these steps:</span></span>

1. <span data-ttu-id="e5fc2-128">Otwórz [Azure Portal](https://portal.azure.com) i przejdź do aplikacji usługi aplikacji lub usługi Azure Functions.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-128">Open the [Azure Portal](https://portal.azure.com) and navigate to your App Service or Azure Functions application.</span></span>

    <span data-ttu-id="e5fc2-129">Jeśli przy użyciu usługi Azure App Service, wybierz **definicji interfejsu API** na liście ustawień.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-129">If using Azure App Service, select **API definition** from the settings list.</span></span> 
    
    <span data-ttu-id="e5fc2-130">Jeśli używasz usługi Azure Functions, wybierz aplikację funkcji, a następnie wybierz **funkcji platformy**, a następnie **definicji interfejsu API**.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-130">If using Azure Functions, select your function app, and then choose **Platform features**, and then **API definition**.</span></span> <span data-ttu-id="e5fc2-131">Można również wybrać otwieranie **definicji interfejsu API (wersja zapoznawcza)** karcie zamiast tego.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-131">You could also choose to open the **API definition (preview)** tab instead.</span></span>

2. <span data-ttu-id="e5fc2-132">Jeśli podano definicji interfejsu API, zobaczysz **wyeksportować do rozwiązania PowerApps + Microsoft Flow** przycisku.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-132">If an API definition has been provided, you will see an **Export to PowerApps + Microsoft Flow** button.</span></span> <span data-ttu-id="e5fc2-133">Kliknij ten przycisk, aby rozpocząć proces eksportu.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-133">Click this button to begin the export process.</span></span>

3. <span data-ttu-id="e5fc2-134">Wybierz **Eksport tryb**.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-134">Select the **Export mode**.</span></span> <span data-ttu-id="e5fc2-135">Określa czynności, które należy wykonać, aby utworzyć łącznik.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-135">This determines the steps you will need to follow to create a connector.</span></span> <span data-ttu-id="e5fc2-136">Usługa App Service oferuje dwie opcje dostarczanie PowerApps i Microsoft Flow definicja interfejsu API:</span><span class="sxs-lookup"><span data-stu-id="e5fc2-136">App Service offers two options for providing PowerApps and Microsoft Flow with your API definition:</span></span>

    <span data-ttu-id="e5fc2-137">**Express** umożliwia tworzenie niestandardowych łącznik z portalu Azure.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-137">**Express** lets you create the custom connector from within the Azure portal.</span></span> <span data-ttu-id="e5fc2-138">Wymaga to, że bieżącej zalogowany użytkownik ma uprawnienia do tworzenia łączników w środowisku docelowym.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-138">It requires that the curent logged-in user has permission to create connectors in the target environment.</span></span> <span data-ttu-id="e5fc2-139">Jest to zalecane podejście, jeśli ten wymóg może zostać spełniony.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-139">This is the recommended approach if that requirement can be met.</span></span> <span data-ttu-id="e5fc2-140">Jeśli ten tryb jest używany, wykonaj [Express eksportu](#express) poniższe instrukcje.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-140">If using this mode, follow the [Express export](#express) instructions below.</span></span>

    <span data-ttu-id="e5fc2-141">**Ręczne** umożliwia eksportowanie kopii definicji interfejsu API, które można zaimportować przy użyciu portali rozwiązania PowerApps lub Flow firmy Microsoft.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-141">**Manual** lets you export a copy of the API definiton which can be imported using the PowerApps or Microsoft Flow portals.</span></span> <span data-ttu-id="e5fc2-142">Jest to zalecane podejście, jeśli użytkowników platformy Azure i użytkownik z uprawnieniami do tworzenia łączników są różne osoby, lub Jeśli łącznik musi zostać utworzona w innej dzierżawie.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-142">This is the recommended approach if the Azure user and the user with permission to create connectors are different people or if the connector needs to be created in another tenant.</span></span> <span data-ttu-id="e5fc2-143">Jeśli ten tryb jest używany, wykonaj [ręczne eksportu i importu](#manual) poniższe instrukcje.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-143">If using this mode, follow the [Manual export and import](#manual) instructions below.</span></span>

<a name="express"></a>
## <a name="express-export"></a><span data-ttu-id="e5fc2-144">Express eksportu</span><span class="sxs-lookup"><span data-stu-id="e5fc2-144">Express export</span></span>

<span data-ttu-id="e5fc2-145">W tej sekcji utworzysz nowego niestandardowego łącznika z w portalu Azure.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-145">In this section, you will create a new custom connector from within the Azure portal.</span></span> <span data-ttu-id="e5fc2-146">Użytkownik musi być zalogowany do dzierżawy, do którego chcesz wyeksportować, a musi mieć uprawnienia do tworzenia niestandardowego łącznika w środowisku docelowym.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-146">You must be logged into the tenant to which you wish to export, and you must have permission to create a custom connector in the target environment.</span></span>

1. <span data-ttu-id="e5fc2-147">Wybierz środowisko, w którym chcesz utworzyć łącznik.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-147">Select the environment in which you would like to create the connector.</span></span> <span data-ttu-id="e5fc2-148">Następnie podaj nazwę łącznik niestandardowy.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-148">Then provide a name for your custom connector.</span></span>

2. <span data-ttu-id="e5fc2-149">Jeśli definicja interfejsu API zawiera żadnych definicji zabezpieczeń, to zostanie wywołana w kroku #2.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-149">If your API definition includes any security definitions, these will be called out in step #2.</span></span> <span data-ttu-id="e5fc2-150">Jeśli to konieczne, podaj szczegóły konfiguracji zabezpieczeń, konieczne jest zezwolenie użytkownikom na dostęp do interfejsu API.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-150">If required, provide the security configuration details needed to grant users access to your API.</span></span> <span data-ttu-id="e5fc2-151">Aby uzyskać więcej informacji, zobacz [uwierzytelniania](#auth) poniżej.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-151">For more information, see [Authentication](#auth) below.</span></span> 

3. <span data-ttu-id="e5fc2-152">Kliknij przycisk **OK** można utworzyć łącznik niestandardowy.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-152">Click **OK** to create your custom connector.</span></span>


<a name="manual"></a>
## <a name="manual-export-and-import"></a><span data-ttu-id="e5fc2-153">Ręczne eksportu i importu</span><span class="sxs-lookup"><span data-stu-id="e5fc2-153">Manual export and import</span></span>

<span data-ttu-id="e5fc2-154">Aby utworzyć niestandardowy łącznik dla sieci web, mobilnych, interfejsu API lub funkcji aplikacji, będą potrzebne dwa kroki:</span><span class="sxs-lookup"><span data-stu-id="e5fc2-154">In order to create a custom connector for a web, mobile, API, or function app, two steps will be needed:</span></span>

1. [<span data-ttu-id="e5fc2-155">Pobieranie definicji interfejsu API z usługi aplikacji lub usługi Azure Functions</span><span class="sxs-lookup"><span data-stu-id="e5fc2-155">Retrieving the API definition from App Service or Azure Functions</span></span>](#export)
2. [<span data-ttu-id="e5fc2-156">Importowanie definicji interfejsu API PowerApps i Flow firmy Microsoft</span><span class="sxs-lookup"><span data-stu-id="e5fc2-156">Importing the API definition into PowerApps and Microsoft Flow</span></span>](#import)

<span data-ttu-id="e5fc2-157">Istnieje możliwość, że te dwa kroki należy przeprowadzane przez oddzielne osób w organizacji, jako określony użytkownik może nie mieć uprawnień do wykonania obu czynności.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-157">It is possible that these two steps will need to be carried out by separate individuals within an organization, as a given user may not have permission to perform both actions.</span></span> <span data-ttu-id="e5fc2-158">W takim przypadku deweloperze, który ma współautora dostęp do aplikacji usługi aplikacji lub usługi Azure Functions trzeba uzyskać definicji interfejsu API (pojedynczy plik JSON) lub do niej łącza.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-158">In this case, a developer who has contributor access to the App Service or Azure Functions application will need to obtain the API definition (a single JSON file) or a link to it.</span></span> <span data-ttu-id="e5fc2-159">Następnie należy podać tej definicji do właściciela rozwiązania PowerApps lub Flow firmy Microsoft.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-159">They will then need to provide that definition to a PowerApps or Microsoft Flow owner.</span></span> <span data-ttu-id="e5fc2-160">Tego właściciela umożliwia utworzenie łącznika niestandardowych metadanych.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-160">That owner can use the metadata to create the custom connector.</span></span>

<a name="export"></a>
### <a name="retrieving-the-api-definition-from-app-service-or-azure-functions"></a><span data-ttu-id="e5fc2-161">Pobieranie definicji interfejsu API z usługi aplikacji lub usługi Azure Functions</span><span class="sxs-lookup"><span data-stu-id="e5fc2-161">Retrieving the API definition from App Service or Azure Functions</span></span>

<span data-ttu-id="e5fc2-162">W tej sekcji będzie eksportować definicji interfejsu API dla aplikacji usługi interfejsu API, do użycia później w rozwiązaniu PowerApps lub Microsoft Flow portalu.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-162">In this section, you will export the API definition for your App Service API, to be used later in the PowerApps or Microsoft Flow portal.</span></span>

1. <span data-ttu-id="e5fc2-163">Można albo **Pobierz definicję interfejsu API** lub **Uzyskaj link**.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-163">You can choose to either **Download the API definition** or **Get a link**.</span></span> <span data-ttu-id="e5fc2-164">Jeżeli wybierzesz, wynik będzie znajdować się w następnej sekcji.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-164">Whichever you choose, the result will be provided in the next section.</span></span> <span data-ttu-id="e5fc2-165">Wybierz jedną z tych opcji i postępuj zgodnie z instrukcjami.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-165">Select one of these options and follow the instructions.</span></span>
 
2. <span data-ttu-id="e5fc2-166">Jeśli definicja interfejsu API zawiera żadnych definicji zabezpieczeń, to zostanie wywołana w kroku #2.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-166">If your API definition includes any security definitions, these will be called out in step #2.</span></span> <span data-ttu-id="e5fc2-167">Podczas importowania PowerApps i Microsoft Flow wykryje to i wyświetli monit o podanie informacji o zabezpieczeniach.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-167">During import, PowerApps and Microsoft Flow will detect these and will prompt for security information.</span></span> <span data-ttu-id="e5fc2-168">Zbierz poświadczenia związane z każdej definicji do użycia w następnej sekcji.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-168">Gather the credentials related to each definition for use in the next section.</span></span> <span data-ttu-id="e5fc2-169">Aby uzyskać więcej informacji, zobacz [uwierzytelniania](#auth) poniżej.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-169">For more information, see [Authentication](#auth) below.</span></span> 

<a name="import"></a>
### <a name="importing-the-api-definition-into-powerapps-and-microsoft-flow"></a><span data-ttu-id="e5fc2-170">Importowanie definicji interfejsu API PowerApps i Flow firmy Microsoft</span><span class="sxs-lookup"><span data-stu-id="e5fc2-170">Importing the API definition into PowerApps and Microsoft Flow</span></span>

<span data-ttu-id="e5fc2-171">W tej sekcji utworzysz niestandardowego łącznika w rozwiązaniu PowerApps i Flow firmy Microsoft przy użyciu definicji interfejsu API uzyskany wcześniej.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-171">In this section, you will create a custom connector in PowerApps and Microsoft Flow using the API definition obtained earlier.</span></span> <span data-ttu-id="e5fc2-172">Niestandardowe łączników są współużytkowane przez dwie usługi, więc musisz zaimportować definicję raz.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-172">Custom connectors are shared between the two services, so you only need to import the definition once.</span></span> <span data-ttu-id="e5fc2-173">Aby uzyskać więcej informacji na łączników niestandardowych, zobacz [zarejestrować i używanie łączników niestandardowych w rozwiązaniu PowerApps] i [zarejestrować i używania niestandardowych łączników w Microsoft Flow].</span><span class="sxs-lookup"><span data-stu-id="e5fc2-173">For more information on custom connectors, see [Register and use custom connectors in PowerApps] and [Register and use custom connectors in Microsoft Flow].</span></span>

1. <span data-ttu-id="e5fc2-174">Otwórz [portalu sieci web w rozwiązaniu Powerapps](https://web.powerapps.com) lub [portalu sieci web Microsoft Flow](https://flow.microsoft.com/)i zaloguj się.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-174">Open the [Powerapps web portal](https://web.powerapps.com) or the [Microsoft Flow web portal](https://flow.microsoft.com/), and sign in.</span></span> 

2. <span data-ttu-id="e5fc2-175">Kliknij przycisk **ustawienia** przycisk (koło zębate ikonę) w prawym górnym rogu strony i wybierz **łączniki niestandardowe**.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-175">Click the **Settings** button (the gear icon) at the upper right of the page and select **Custom connectors**.</span></span> 

3. <span data-ttu-id="e5fc2-176">Kliknij przycisk **Tworzenie niestandardowego łącznika**.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-176">Click **Create custom connector**.</span></span>

4. <span data-ttu-id="e5fc2-177">Na **ogólne** karcie, podaj nazwę dla interfejsu API, a następnie przekaż definicji OpenAPI lub wklej adres URL metadanych.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-177">On the **General** tab, provide a name for your API, and then upload the OpenAPI definition or paste in the metadata URL.</span></span> <span data-ttu-id="e5fc2-178">Kliknij przycisk **kontynuować**.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-178">Click **Continue**.</span></span>

4. <span data-ttu-id="e5fc2-179">Na **zabezpieczeń** karcie, jeśli zostanie wyświetlony monit, aby podać szczegóły uwierzytelnianie, wprowadź wartości uzyskane w poprzedniej sekcji.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-179">On the **Security** tab, if you are prompted to provide authentication details, enter the values obtained in the previous section.</span></span> <span data-ttu-id="e5fc2-180">Jeśli nie, przejdź do następnego kroku.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-180">If not, proceed to the next step.</span></span>

5. <span data-ttu-id="e5fc2-181">Na **definicje** , wszystkie operacje określone w pliku OpenAPI są wypełniane automatycznie.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-181">On the **Definitions** tab, all the operations defined in your OpenAPI file are auto-populated.</span></span> <span data-ttu-id="e5fc2-182">Jeśli wszystkie wymagane operacje są zdefiniowane, można przejść do następnego kroku.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-182">If all your required operations are defined, you can go to the next step.</span></span> <span data-ttu-id="e5fc2-183">Jeśli nie, można dodawać i modyfikować tutaj operacji.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-183">If not, you can add and modify operations here.</span></span>

6. <span data-ttu-id="e5fc2-184">Kliknij przycisk **utworzyć łącznik**.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-184">Click **Create connector**.</span></span> <span data-ttu-id="e5fc2-185">Jeśli chcesz przetestować wywołań interfejsu API, przejdź do następnego kroku.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-185">If you want to test API calls, go to the next step.</span></span>

7. <span data-ttu-id="e5fc2-186">Na **Test** , Utwórz połączenie, wybierz operację, aby przetestować, a następnie wprowadzić wszelkich danych wymaganych przez operację.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-186">On the **Test** tab, create a connection, select an operation to test, and enter any data required by the operation.</span></span>

8. <span data-ttu-id="e5fc2-187">Kliknij przycisk **Operacja testowania**.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-187">Click **Test operation**.</span></span>


<a name="auth"></a>
## <a name="authentication"></a><span data-ttu-id="e5fc2-188">Authentication</span><span class="sxs-lookup"><span data-stu-id="e5fc2-188">Authentication</span></span>

<span data-ttu-id="e5fc2-189">PowerApps i Microsoft Flow obsługują kolekcja dostawców tożsamości, które mogą być używane do logowania użytkowników łącznik niestandardowy.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-189">PowerApps and Microsoft Flow natively support a collection of identity providers which can be used to log in users of your custom connector.</span></span> <span data-ttu-id="e5fc2-190">Jeśli Twój interfejs API wymaga uwierzytelnienia, upewnij się, że jest przechwytywany jako _definicji zabezpieczeń_ w dokumencie OpenAPI.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-190">If your API requires authentication, ensure that it is captured as a _security definition_ in your OpenAPI document.</span></span> <span data-ttu-id="e5fc2-191">Podczas eksportowania należy podać wartości konfiguracji, które umożliwia rozwiązanie PowerApps Flow firmy Microsoft do wykonania akcji logowania.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-191">During export, you will need to provide configuration values that allow PowerApps an Microsoft Flow to perform login actions.</span></span>

<span data-ttu-id="e5fc2-192">W tej sekcji opisano typy uwierzytelniania, które są obsługiwane przez express przepływu: klucz interfejsu API, Azure Active Directory i rodzajowy OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-192">This section covers the authentication types which are supported by the express flow: API key, Azure Active Directory, and Generic OAuth 2.0.</span></span> <span data-ttu-id="e5fc2-193">Pełną listę dostawców i każda wymaga poświadczeń, zobacz [zarejestrować i używanie łączników niestandardowych w rozwiązaniu PowerApps] i [zarejestrować i używania niestandardowych łączników w Microsoft Flow].</span><span class="sxs-lookup"><span data-stu-id="e5fc2-193">For a complete list of providers and the credentials each requires, see [Register and use custom connectors in PowerApps] and [Register and use custom connectors in Microsoft Flow].</span></span>

### <a name="api-key"></a><span data-ttu-id="e5fc2-194">Klucz interfejsu API</span><span class="sxs-lookup"><span data-stu-id="e5fc2-194">API key</span></span>
<span data-ttu-id="e5fc2-195">W przypadku tego systemu zabezpieczeń użytkowników łącznika wyświetli monit o podanie klucza podczas tworzenia połączenia.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-195">When this security scheme is used, the users of your connector will be prompted to provide the key when they create a connection.</span></span> <span data-ttu-id="e5fc2-196">Możesz podać nazwa klucza interfejsu API, aby go poinformować, klucz, do którego jest potrzebny.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-196">You can provide an API key name to help them know which key is needed.</span></span> <span data-ttu-id="e5fc2-197">Dla usługi Azure Functions zazwyczaj będzie jeden z kluczy hosta, obejmujące kilka funkcji w funkcji aplikacji.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-197">For Azure Functions, this will typically be one of the host keys, covering several functions within the function app.</span></span>

### <a name="azure-active-directory"></a><span data-ttu-id="e5fc2-198">Usługa Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="e5fc2-198">Azure Active Directory</span></span>
<span data-ttu-id="e5fc2-199">Podczas konfigurowania łącznika niestandardowego, który wymaga logowania usługi AAD, wymagane są dwa rejestracji aplikacji usługi AAD: jeden do modelowania zaplecza interfejsu API, a drugi do modelowania łącznika w rozwiązaniu PowerApps i przepływów.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-199">When configuring a custom connector that requires AAD login, two AAD application registrations are required: one to model the backend API, and one to model the connector in PowerApps and Flow.</span></span>

<span data-ttu-id="e5fc2-200">Interfejs API powinny być skonfigurowane do pracy z pierwszej rejestracji, a to będzie już można podjąć się jeśli użyto [uwierzytelniania/autoryzacji dla aplikacji usługi](https://docs.microsoft.com/azure/app-service-mobile/app-service-mobile-how-to-configure-active-directory-authentication) funkcji.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-200">Your API should be configured to work with the first registration, and this will already be taken care of if you used the [App Service Authentication/Authorization](https://docs.microsoft.com/azure/app-service-mobile/app-service-mobile-how-to-configure-active-directory-authentication) feature.</span></span>

<span data-ttu-id="e5fc2-201">Konieczne będzie ręczne tworzenie rejestracji drugi łącznik, wykonując kroki opisane w [Dodawanie aplikacji AAD](https://docs.microsoft.com/azure/active-directory/develop/active-directory-integrating-applications#adding-an-application).</span><span class="sxs-lookup"><span data-stu-id="e5fc2-201">You will have to manually create the second registration for the connector, using the steps covered in [Adding an AAD application](https://docs.microsoft.com/azure/active-directory/develop/active-directory-integrating-applications#adding-an-application).</span></span> <span data-ttu-id="e5fc2-202">Rejestracja musi mieć delegowane dostęp do interfejsu API i adres URL odpowiedzi `https://msmanaged-na.consent.azure-apim.net/redirect`.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-202">The registration needs to have delegated access to your API and a reply URL of `https://msmanaged-na.consent.azure-apim.net/redirect`.</span></span> <span data-ttu-id="e5fc2-203">Zobacz [w tym przykładzie](
https://powerapps.microsoft.com/tutorials/customapi-azure-resource-manager-tutorial/) uzyskać więcej szczegółów, podstawiając Twój interfejs API usługi Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-203">Please see [this example](
https://powerapps.microsoft.com/tutorials/customapi-azure-resource-manager-tutorial/) for more detail, substituting your API for the Azure Resource Manager.</span></span>

<span data-ttu-id="e5fc2-204">Wymagane są następujące wartości konfiguracji:</span><span class="sxs-lookup"><span data-stu-id="e5fc2-204">The following configuration values are required:</span></span>
- <span data-ttu-id="e5fc2-205">**Identyfikator klienta** — identyfikator klienta łącznika AAD rejestracji</span><span class="sxs-lookup"><span data-stu-id="e5fc2-205">**Client ID** - the client ID of your connector AAD registration</span></span>
- <span data-ttu-id="e5fc2-206">**Klucz tajny klienta** — klucz tajny klienta łącznika AAD rejestracji</span><span class="sxs-lookup"><span data-stu-id="e5fc2-206">**Client secret** - the client secret of your connector AAD registration</span></span>
- <span data-ttu-id="e5fc2-207">**Adres URL logowania** — podstawowy adres URL dla usługi AAD.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-207">**Login URL** - the base URL for AAD.</span></span> <span data-ttu-id="e5fc2-208">W publicznej Azure zwykle są to `https://login.windows.net`.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-208">In public Azure, this will typically be `https://login.windows.net`.</span></span>
- <span data-ttu-id="e5fc2-209">**Identyfikator dzierżawy** — identyfikator dzierżawcy do użycia dla danych logowania.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-209">**Tenant ID** - the ID of the tenant to be used for the login.</span></span> <span data-ttu-id="e5fc2-210">Powinno to być "typowych" lub identyfikator dzierżawy, w którym jest tworzona łącznika.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-210">This should be "common" or the ID of the tenant in which the connector is being created.</span></span>
- <span data-ttu-id="e5fc2-211">**Adres URL zasobu** — adres URL zasobu Twojej rejestracji usługi AAD zaplecza interfejsu API</span><span class="sxs-lookup"><span data-stu-id="e5fc2-211">**Resource URL** - the resource URL of your API backend AAD registration</span></span>

> [!IMPORTANT]
> <span data-ttu-id="e5fc2-212">Jeśli innej osoby zaimportować definicję interfejsu API w rozwiązaniu PowerApps i Microsoft Flow jako część przepływu ręczne, należy podać je z Identyfikatorem klienta i klucz tajny klienta **rejestracji łącznika**, a także adres URL zasobu interfejsu API.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-212">If another individual will be importing the API definition into PowerApps and Microsoft Flow as part of the manual flow, you will need to provide them with the client ID and client secret **of the connector registration**, as well as the resource URL of your API.</span></span> <span data-ttu-id="e5fc2-213">Upewnij się, że tych kluczy tajnych są zarządzane w bezpieczny sposób.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-213">Make sure that these secrets are managed securely.</span></span> <span data-ttu-id="e5fc2-214">**Nie udostępniaj poświadczenia zabezpieczeń samego interfejsu API.**</span><span class="sxs-lookup"><span data-stu-id="e5fc2-214">**Do not share the security credentials of the API itself.**</span></span>

### <a name="generic-oauth-20"></a><span data-ttu-id="e5fc2-215">Ogólny OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="e5fc2-215">Generic OAuth 2.0</span></span>
<span data-ttu-id="e5fc2-216">Ogólny obsługi protokołu OAuth 2.0 umożliwia integrację z każdego dostawcy OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-216">The generic OAuth 2.0 support allows you to integrate with any OAuth 2.0 provider.</span></span> <span data-ttu-id="e5fc2-217">Dzięki temu można przenieść niestandardowego dostawcę, który nie jest obsługiwany natywnie.</span><span class="sxs-lookup"><span data-stu-id="e5fc2-217">This allows you to bring in any custom provider which is not natively supported.</span></span>

<span data-ttu-id="e5fc2-218">Wymagane są następujące wartości konfiguracji:</span><span class="sxs-lookup"><span data-stu-id="e5fc2-218">The following configuration values are required:</span></span>
- <span data-ttu-id="e5fc2-219">**Identyfikator klienta** — identyfikator klienta OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="e5fc2-219">**Client ID** - the OAuth 2.0 client ID</span></span>
- <span data-ttu-id="e5fc2-220">**Klucz tajny klienta** — klucz tajny klienta OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="e5fc2-220">**Client secret** - the OAuth 2.0 client secret</span></span>
- <span data-ttu-id="e5fc2-221">**Adres URL autoryzacji** -adresu URL autoryzacji OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="e5fc2-221">**Authorization URL** - the OAuth 2.0 authorization URL</span></span>
- <span data-ttu-id="e5fc2-222">**Adres URL token** — adres URL tokenu OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="e5fc2-222">**Token URL** - the OAuth 2.0 token URL</span></span>
- <span data-ttu-id="e5fc2-223">**Odśwież adres URL** — adres URL odświeżania OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="e5fc2-223">**Refresh URL** - the OAuth 2.0 refresh URL</span></span>



<span data-ttu-id="e5fc2-224">[zarejestrować i używanie łączników niestandardowych w rozwiązaniu PowerApps]: https://powerapps.microsoft.com/tutorials/register-custom-api/</span><span class="sxs-lookup"><span data-stu-id="e5fc2-224">[Register and use custom connectors in PowerApps]: https://powerapps.microsoft.com/tutorials/register-custom-api/</span></span>
<span data-ttu-id="e5fc2-225">[zarejestrować i używania niestandardowych łączników w Microsoft Flow]: https://flow.microsoft.com/documentation/register-custom-api/</span><span class="sxs-lookup"><span data-stu-id="e5fc2-225">[Register and use custom connectors in Microsoft Flow]: https://flow.microsoft.com/documentation/register-custom-api/</span></span>
