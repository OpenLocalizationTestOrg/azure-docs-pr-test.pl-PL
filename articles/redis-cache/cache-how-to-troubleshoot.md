---
title: "Jak rozwiązywać problemy z pamięcią podręczną Redis Azure | Dokumentacja firmy Microsoft"
description: "Dowiedz się, jak rozwiązać typowe problemy z pamięcią podręczną Redis Azure."
services: redis-cache
documentationcenter: 
author: steved0x
manager: douge
editor: 
ms.assetid: 928b9b9c-d64f-4252-884f-af7ba8309af6
ms.service: cache
ms.workload: tbd
ms.tgt_pltfrm: cache-redis
ms.devlang: na
ms.topic: article
ms.date: 01/06/2017
ms.author: sdanie
ms.openlocfilehash: 2e9d1b644f1e80c7d916a261a6c47fcc11a1ffe0
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 07/11/2017
---
# <a name="how-to-troubleshoot-azure-redis-cache"></a><span data-ttu-id="ae567-103">Jak rozwiązywać problemy z pamięcią podręczną Redis Azure</span><span class="sxs-lookup"><span data-stu-id="ae567-103">How to troubleshoot Azure Redis Cache</span></span>
<span data-ttu-id="ae567-104">Ten artykuł zawiera wskazówki dotyczące rozwiązywania problemów z następujących kategorii problemy z pamięcią podręczną Redis Azure.</span><span class="sxs-lookup"><span data-stu-id="ae567-104">This article provides guidance for troubleshooting the following categories of Azure Redis Cache issues.</span></span>

* <span data-ttu-id="ae567-105">[Rozwiązywanie problemów po stronie klienta](#client-side-troubleshooting) — ta sekcja zawiera wskazówki dotyczące identyfikowania i rozwiązywania problemów spowodowanych aplikacji nawiązywania połączenia z pamięcią podręczną Redis Azure.</span><span class="sxs-lookup"><span data-stu-id="ae567-105">[Client side troubleshooting](#client-side-troubleshooting) - This section provides guidelines on identifying and resolving issues caused by the application connecting to Azure Redis Cache.</span></span>
* <span data-ttu-id="ae567-106">[Rozwiązywanie problemów po stronie serwera](#server-side-troubleshooting) — ta sekcja zawiera wskazówki dotyczące identyfikowania i rozwiązywania problemów spowodował po stronie serwera pamięci podręcznej Redis Azure.</span><span class="sxs-lookup"><span data-stu-id="ae567-106">[Server side troubleshooting](#server-side-troubleshooting) - This section provides guidelines on identifying and resolving issues caused on the Azure Redis Cache server side.</span></span>
* <span data-ttu-id="ae567-107">[Wyjątków przekroczenia limitu czasu w programie StackExchange.Redis](#stackexchangeredis-timeout-exceptions) — ta sekcja zawiera informacje na temat rozwiązywania problemów podczas korzystania z klienta w programie StackExchange.Redis.</span><span class="sxs-lookup"><span data-stu-id="ae567-107">[StackExchange.Redis timeout exceptions](#stackexchangeredis-timeout-exceptions) - This section provides information on troubleshooting issues when using the StackExchange.Redis client.</span></span>

> [!NOTE]
> <span data-ttu-id="ae567-108">Kilka kroków w tym przewodniku obejmują instrukcji, aby uruchomić polecenia Redis i monitorować różne metryki wydajności.</span><span class="sxs-lookup"><span data-stu-id="ae567-108">Several of the troubleshooting steps in this guide include instructions to run Redis commands and monitor various performance metrics.</span></span> <span data-ttu-id="ae567-109">Aby uzyskać więcej informacji oraz instrukcje, zobacz artykuły w [dodatkowe informacje](#additional-information) sekcji.</span><span class="sxs-lookup"><span data-stu-id="ae567-109">For more information and instructions, see the articles in the [Additional information](#additional-information) section.</span></span>
> 
> 

## <a name="client-side-troubleshooting"></a><span data-ttu-id="ae567-110">Rozwiązywanie problemów po stronie klienta</span><span class="sxs-lookup"><span data-stu-id="ae567-110">Client side troubleshooting</span></span>
<span data-ttu-id="ae567-111">W tej sekcji omówiono rozwiązywanie problemów występujących ze względu na warunek aplikacji klienta.</span><span class="sxs-lookup"><span data-stu-id="ae567-111">This section discusses troubleshooting issues that occur because of a condition on the client application.</span></span>

* [<span data-ttu-id="ae567-112">Wykorzystania pamięci na komputerze klienckim</span><span class="sxs-lookup"><span data-stu-id="ae567-112">Memory pressure on the client</span></span>](#memory-pressure-on-the-client)
* [<span data-ttu-id="ae567-113">Serii ruchu</span><span class="sxs-lookup"><span data-stu-id="ae567-113">Burst of traffic</span></span>](#burst-of-traffic)
* [<span data-ttu-id="ae567-114">Klient wysokie użycie procesora CPU</span><span class="sxs-lookup"><span data-stu-id="ae567-114">High client CPU usage</span></span>](#high-client-cpu-usage)
* [<span data-ttu-id="ae567-115">Przekroczona przepustowość po stronie klienta</span><span class="sxs-lookup"><span data-stu-id="ae567-115">Client Side Bandwidth Exceeded</span></span>](#client-side-bandwidth-exceeded)
* [<span data-ttu-id="ae567-116">Rozmiar dużych żądania/odpowiedzi</span><span class="sxs-lookup"><span data-stu-id="ae567-116">Large Request/Response Size</span></span>](#large-requestresponse-size)
* [<span data-ttu-id="ae567-117">Co się stało z danych w pamięci podręcznej Redis?</span><span class="sxs-lookup"><span data-stu-id="ae567-117">What happened to my data in Redis?</span></span>](#what-happened-to-my-data-in-redis)

### <a name="memory-pressure-on-the-client"></a><span data-ttu-id="ae567-118">Wykorzystania pamięci na komputerze klienckim</span><span class="sxs-lookup"><span data-stu-id="ae567-118">Memory pressure on the client</span></span>
#### <a name="problem"></a><span data-ttu-id="ae567-119">Problem</span><span class="sxs-lookup"><span data-stu-id="ae567-119">Problem</span></span>
<span data-ttu-id="ae567-120">Wykorzystania pamięci na komputerze klienckim prowadzi do wszystkie rodzaje problemów z wydajnością, które mogą opóźnić proces przetwarzania danych, który został wysłany przez wystąpienie Redis bez opóźnień.</span><span class="sxs-lookup"><span data-stu-id="ae567-120">Memory pressure on the client machine leads to all kinds of performance problems that can delay processing of data that was sent by the Redis instance without any delay.</span></span> <span data-ttu-id="ae567-121">Gdy liczba trafień wykorzystania pamięci, system zwykle ma do danych strony od ilości pamięci fizycznej w pamięci wirtualnej, która znajduje się na dysku.</span><span class="sxs-lookup"><span data-stu-id="ae567-121">When memory pressure hits, the system typically has to page data from physical memory to virtual memory which is on disk.</span></span> <span data-ttu-id="ae567-122">To *spowodowaniem błędu strony* spowoduje znaczne spowolnienie jego działania systemu.</span><span class="sxs-lookup"><span data-stu-id="ae567-122">This *page faulting* causes the system to slow down significantly.</span></span>

#### <a name="measurement"></a><span data-ttu-id="ae567-123">Miary</span><span class="sxs-lookup"><span data-stu-id="ae567-123">Measurement</span></span>
1. <span data-ttu-id="ae567-124">Monitorowanie użycia pamięci na komputerze, aby upewnić się, że nie przekracza ilość dostępnej pamięci.</span><span class="sxs-lookup"><span data-stu-id="ae567-124">Monitor memory usage on machine to make sure that it does not exceed available memory.</span></span> 
2. <span data-ttu-id="ae567-125">Monitor `Page Faults/Sec` licznika wydajności.</span><span class="sxs-lookup"><span data-stu-id="ae567-125">Monitor the `Page Faults/Sec` performance counter.</span></span> <span data-ttu-id="ae567-126">Większość systemów będzie mieć niektórych błędów stron nawet podczas normalnego działania, tak obserwowania maksymalnej ten licznik wydajności błędów strony, które odpowiadają przekroczeń limitu czasu.</span><span class="sxs-lookup"><span data-stu-id="ae567-126">Most systems will have some page faults even during normal operation, so watch for spikes in this page faults performance counter which correspond with timeouts.</span></span>

#### <a name="resolution"></a><span data-ttu-id="ae567-127">Rozwiązanie</span><span class="sxs-lookup"><span data-stu-id="ae567-127">Resolution</span></span>
<span data-ttu-id="ae567-128">Uaktualnić klienta na kliencie większy rozmiar maszyny Wirtualnej więcej pamięci lub dig do Twoich wzorców użycia pamięci zmniejszenie consuption pamięci.</span><span class="sxs-lookup"><span data-stu-id="ae567-128">Upgrade your client to a larger client VM size with more memory or dig into your memory usage patterns to reduce memory consuption.</span></span>

### <a name="burst-of-traffic"></a><span data-ttu-id="ae567-129">Serii ruchu</span><span class="sxs-lookup"><span data-stu-id="ae567-129">Burst of traffic</span></span>
#### <a name="problem"></a><span data-ttu-id="ae567-130">Problem</span><span class="sxs-lookup"><span data-stu-id="ae567-130">Problem</span></span>
<span data-ttu-id="ae567-131">Seria ruchu w połączeniu z słaby `ThreadPool` ustawień może spowodować opóźnienia w przetwarzaniu danych już wysłanych przez serwer Redis, ale nie została jeszcze używane po stronie klienta.</span><span class="sxs-lookup"><span data-stu-id="ae567-131">Bursts of traffic combined with poor `ThreadPool` settings can result in delays in processing data already sent by the Redis Server but not yet consumed on the client side.</span></span>

#### <a name="measurement"></a><span data-ttu-id="ae567-132">Miary</span><span class="sxs-lookup"><span data-stu-id="ae567-132">Measurement</span></span>
<span data-ttu-id="ae567-133">Monitor jak Twoje `ThreadPool` statystyki zmieniać przy użyciu kodu [podobny](https://github.com/JonCole/SampleCode/blob/master/ThreadPoolMonitor/ThreadPoolLogger.cs).</span><span class="sxs-lookup"><span data-stu-id="ae567-133">Monitor how your `ThreadPool` statistics change over time using code [like this](https://github.com/JonCole/SampleCode/blob/master/ThreadPoolMonitor/ThreadPoolLogger.cs).</span></span> <span data-ttu-id="ae567-134">Można również sprawdzić `TimeoutException` wiadomości w programie StackExchange.Redis.</span><span class="sxs-lookup"><span data-stu-id="ae567-134">You can also look at the `TimeoutException` message from StackExchange.Redis.</span></span> <span data-ttu-id="ae567-135">Oto przykład:</span><span class="sxs-lookup"><span data-stu-id="ae567-135">Here is an example :</span></span>

    System.TimeoutException: Timeout performing EVAL, inst: 8, mgr: Inactive, queue: 0, qu: 0, qs: 0, qc: 0, wr: 0, wq: 0, in: 64221, ar: 0, 
    IOCP: (Busy=6,Free=999,Min=2,Max=1000), WORKER: (Busy=7,Free=8184,Min=2,Max=8191)

<span data-ttu-id="ae567-136">W komunikacie powyżej istnieją pewne problemy, które mogą być interesujące:</span><span class="sxs-lookup"><span data-stu-id="ae567-136">In the above message, there are several issues that are interesting:</span></span>

1. <span data-ttu-id="ae567-137">Zwróć uwagę, że w `IOCP` sekcji i `WORKER` sekcji masz `Busy` wartość, która jest większa niż `Min` wartości.</span><span class="sxs-lookup"><span data-stu-id="ae567-137">Notice that in the `IOCP` section and the `WORKER` section you have a `Busy` value that is greater than the `Min` value.</span></span> <span data-ttu-id="ae567-138">Oznacza to, że Twoje `ThreadPool` ustawienia należy dostosowywania.</span><span class="sxs-lookup"><span data-stu-id="ae567-138">This means that your `ThreadPool` settings need adjusting.</span></span>
2. <span data-ttu-id="ae567-139">Możesz również sprawdzić `in: 64221`.</span><span class="sxs-lookup"><span data-stu-id="ae567-139">You can also see `in: 64221`.</span></span> <span data-ttu-id="ae567-140">Oznacza to, że 64211 bajtów odbieranych w warstwie gniazda jądra, ale jeszcze nie zostały przeczytane przez aplikację (np. programie StackExchange.Redis).</span><span class="sxs-lookup"><span data-stu-id="ae567-140">This indicates that 64211 bytes have been received at the kernel socket layer but haven't yet been read by the application (e.g. StackExchange.Redis).</span></span> <span data-ttu-id="ae567-141">Zwykle oznacza to, że aplikacji będą nie jest odczyt danych z sieci tak szybko, jak serwer wysyła go do użytkownika.</span><span class="sxs-lookup"><span data-stu-id="ae567-141">This typically means that your application isn't reading data from the network as quickly as the server is sending it to you.</span></span>

#### <a name="resolution"></a><span data-ttu-id="ae567-142">Rozwiązanie</span><span class="sxs-lookup"><span data-stu-id="ae567-142">Resolution</span></span>
<span data-ttu-id="ae567-143">Konfigurowanie sieci [ustawienia puli wątków](https://gist.github.com/JonCole/e65411214030f0d823cb) aby upewnić się, że w puli wątków będzie skalowanie w górę szybko w obszarze serii scenariuszy.</span><span class="sxs-lookup"><span data-stu-id="ae567-143">Configure your [ThreadPool Settings](https://gist.github.com/JonCole/e65411214030f0d823cb) to make sure that your thread pool will scale up quickly under burst scenarios.</span></span>

### <a name="high-client-cpu-usage"></a><span data-ttu-id="ae567-144">Klient wysokie użycie procesora CPU</span><span class="sxs-lookup"><span data-stu-id="ae567-144">High client CPU usage</span></span>
#### <a name="problem"></a><span data-ttu-id="ae567-145">Problem</span><span class="sxs-lookup"><span data-stu-id="ae567-145">Problem</span></span>
<span data-ttu-id="ae567-146">Wysokie użycie procesora CPU na kliencie jest wskazanie, że system nie może nadążyć z pracy, który został poproszony do wykonania.</span><span class="sxs-lookup"><span data-stu-id="ae567-146">High CPU usage on the client is an indication that the system cannot keep up with the work that it has been asked to perform.</span></span> <span data-ttu-id="ae567-147">Oznacza to, że klient może się nie powieść przetworzyć odpowiedzi z pamięci podręcznej Redis w odpowiednim czasie, mimo że Redis wysyłane odpowiedzi bardzo szybko.</span><span class="sxs-lookup"><span data-stu-id="ae567-147">This means that the client may fail to process a response from Redis in a timely fashion even though Redis sent the response very quickly.</span></span>

#### <a name="measurement"></a><span data-ttu-id="ae567-148">Miary</span><span class="sxs-lookup"><span data-stu-id="ae567-148">Measurement</span></span>
<span data-ttu-id="ae567-149">Monitorowanie użycia Procesora szeroki systemu za pośrednictwem portalu Azure lub licznika wydajności skojarzonego.</span><span class="sxs-lookup"><span data-stu-id="ae567-149">Monitor the System Wide CPU usage through the Azure Portal or through the associated performance counter.</span></span> <span data-ttu-id="ae567-150">Nie można więc monitorować *procesu* Procesora, ponieważ jeden proces może mieć niskie użycie procesora CPU w tym samym czasu ogólną systemu Procesora może być wysokie.</span><span class="sxs-lookup"><span data-stu-id="ae567-150">Be careful not to monitor *process* CPU because a single process can have low CPU usage at the same time that overall system CPU can be high.</span></span> <span data-ttu-id="ae567-151">Obserwowania maksymalnej wykorzystania Procesora, które odpowiadają przekroczeń limitu czasu.</span><span class="sxs-lookup"><span data-stu-id="ae567-151">Watch for spikes in CPU usage that correspond with timeouts.</span></span> <span data-ttu-id="ae567-152">Wyniku wysokiej Procesora może również zostać wyświetlony wysokiego `in: XXX` wartości w `TimeoutException` komunikaty o błędach zgodnie z opisem w [serii ruchu](#burst-of-traffic) sekcji.</span><span class="sxs-lookup"><span data-stu-id="ae567-152">As a result of high CPU, you may also see high `in: XXX` values in `TimeoutException` error messages as described in the [Burst of traffic](#burst-of-traffic) section.</span></span>

> [!NOTE]
> <span data-ttu-id="ae567-153">Programie StackExchange.Redis 1.1.603 i nowszych obejmują `local-cpu` metryki w `TimeoutException` komunikaty o błędach.</span><span class="sxs-lookup"><span data-stu-id="ae567-153">StackExchange.Redis 1.1.603 and later includes the `local-cpu` metric in `TimeoutException` error messages.</span></span> <span data-ttu-id="ae567-154">Upewnij się, używając najnowszej wersji [pakietu NuGet w programie StackExchange.Redis](https://www.nuget.org/packages/StackExchange.Redis/).</span><span class="sxs-lookup"><span data-stu-id="ae567-154">Ensure you using the latest version of the [StackExchange.Redis NuGet package](https://www.nuget.org/packages/StackExchange.Redis/).</span></span> <span data-ttu-id="ae567-155">Istnieją błędy stale usunięte w kodzie, aby był bardziej niezawodne dla limitów czasu tak ważne jest posiadanie najnowszej wersji.</span><span class="sxs-lookup"><span data-stu-id="ae567-155">There are bugs constantly being fixed in the code to make it more robust to timeouts so having the latest version is important.</span></span>
> 
> 

#### <a name="resolution"></a><span data-ttu-id="ae567-156">Rozwiązanie</span><span class="sxs-lookup"><span data-stu-id="ae567-156">Resolution</span></span>
<span data-ttu-id="ae567-157">Uaktualnij do większego rozmiaru maszyny Wirtualnej o większej pojemności procesora CPU lub zbadać przyczynę nagłego procesora CPU.</span><span class="sxs-lookup"><span data-stu-id="ae567-157">Upgrade to a larger VM size with more CPU capacity or investigate what is causing CPU spikes.</span></span> 

### <a name="client-side-bandwidth-exceeded"></a><span data-ttu-id="ae567-158">Przekroczona przepustowość po stronie klienta</span><span class="sxs-lookup"><span data-stu-id="ae567-158">Client side bandwidth exceeded</span></span>
#### <a name="problem"></a><span data-ttu-id="ae567-159">Problem</span><span class="sxs-lookup"><span data-stu-id="ae567-159">Problem</span></span>
<span data-ttu-id="ae567-160">Komputery klienckie o rozmiarze różnych podlegają ograniczeniom na przepustowość sieci, ile mają one dostępne.</span><span class="sxs-lookup"><span data-stu-id="ae567-160">Different sized client machines have limitations on how much network bandwidth they have available.</span></span> <span data-ttu-id="ae567-161">Jeśli klient przekracza dostępną przepustowość, następnie dane nie będą przetwarzane po stronie klienta tak szybko, jak serwer wysyła go.</span><span class="sxs-lookup"><span data-stu-id="ae567-161">If the client exceeds the available bandwidth, then data will not be processed on the client side as quickly as the server is sending it.</span></span> <span data-ttu-id="ae567-162">Może to prowadzić do przekroczenia limitu czasu.</span><span class="sxs-lookup"><span data-stu-id="ae567-162">This can lead to timeouts.</span></span>

#### <a name="measurement"></a><span data-ttu-id="ae567-163">Miary</span><span class="sxs-lookup"><span data-stu-id="ae567-163">Measurement</span></span>
<span data-ttu-id="ae567-164">Monitorowanie, w jaki sposób zmienić wykorzystanie przepustowości sieci w czasie przy użyciu kodu [podobny](https://github.com/JonCole/SampleCode/blob/master/BandWidthMonitor/BandwidthLogger.cs).</span><span class="sxs-lookup"><span data-stu-id="ae567-164">Monitor how your Bandwidth usage change over time using code [like this](https://github.com/JonCole/SampleCode/blob/master/BandWidthMonitor/BandwidthLogger.cs).</span></span> <span data-ttu-id="ae567-165">Należy pamiętać, że ten kod, mogą nie działać prawidłowo w niektórych środowiskach z ograniczonymi uprawnieniami (np. witryny sieci web platformy Azure).</span><span class="sxs-lookup"><span data-stu-id="ae567-165">Note that this code may not run successfully in some environments with restricted permissions (like Azure web sites).</span></span>

#### <a name="resolution"></a><span data-ttu-id="ae567-166">Rozwiązanie</span><span class="sxs-lookup"><span data-stu-id="ae567-166">Resolution</span></span>
<span data-ttu-id="ae567-167">Zwiększ rozmiar maszyny Wirtualnej klienta lub zmniejszyć wykorzystanie przepustowości sieci.</span><span class="sxs-lookup"><span data-stu-id="ae567-167">Increase Client VM size or reduce network bandwidth consumption.</span></span>

### <a name="large-requestresponse-size"></a><span data-ttu-id="ae567-168">Rozmiar dużych żądania/odpowiedzi</span><span class="sxs-lookup"><span data-stu-id="ae567-168">Large Request/Response Size</span></span>
#### <a name="problem"></a><span data-ttu-id="ae567-169">Problem</span><span class="sxs-lookup"><span data-stu-id="ae567-169">Problem</span></span>
<span data-ttu-id="ae567-170">Duże żądanie/odpowiedź może spowodować przekroczeń limitu czasu.</span><span class="sxs-lookup"><span data-stu-id="ae567-170">A large request/response can cause timeouts.</span></span> <span data-ttu-id="ae567-171">Na przykład załóżmy, że skonfigurowany na komputerze klienckim wartość limitu czasu wynosi 1 s.</span><span class="sxs-lookup"><span data-stu-id="ae567-171">As an example, Suppose your timeout value configured on your client is 1 second.</span></span> <span data-ttu-id="ae567-172">Aplikacja żąda dwa klucze (np. "A" i "B") w tym samym czasie (przy użyciu tego samego połączenia sieci fizycznej).</span><span class="sxs-lookup"><span data-stu-id="ae567-172">Your application requests two keys (e.g. 'A' and 'B') at the same time (using the same physical network connection).</span></span> <span data-ttu-id="ae567-173">Większość klientów obsługuje "Pipelining" żądań, w taki sposób, że zarówno żądania "A" i "B" są wysyłane umieszczonego na serwerze, jeden po drugim bez oczekiwania na odpowiedzi.</span><span class="sxs-lookup"><span data-stu-id="ae567-173">Most clients support "Pipelining" of requests, such that both requests 'A' and 'B' are sent on the wire to the server one after the other without waiting for the responses.</span></span> <span data-ttu-id="ae567-174">Serwer będzie wysyłać odpowiedzi w tej samej kolejności.</span><span class="sxs-lookup"><span data-stu-id="ae567-174">The server will send the responses back in the same order.</span></span> <span data-ttu-id="ae567-175">Jeśli odpowiedzi "A" jest duży wystarczająco go pochłaniają większość limitu czasu dla kolejnych żądań.</span><span class="sxs-lookup"><span data-stu-id="ae567-175">If response 'A' is large enough it can eat up most of the timeout for subsequent requests.</span></span> 

<span data-ttu-id="ae567-176">W poniższym przykładzie pokazano, w tym scenariuszu.</span><span class="sxs-lookup"><span data-stu-id="ae567-176">The following example demonstrates this scenario.</span></span> <span data-ttu-id="ae567-177">W tym scenariuszu szybko wysłaniem żądania "A" i "B", serwer rozpocznie szybkie wysyłanie odpowiedzi na "A" i "B", ale z powodu czasu przesyłania danych, 'B' zatrzymywane za żądania i limit mimo że szybko odpowiedź serwera.</span><span class="sxs-lookup"><span data-stu-id="ae567-177">In this scenario, Request 'A' and 'B' are sent quickly, the server starts sending responses 'A' and 'B' quickly, but because of data transfer times, 'B' get stuck behind the other request and times out even though the server responded quickly.</span></span>

    |-------- 1 Second Timeout (A)----------|
    |-Request A-|
         |-------- 1 Second Timeout (B) ----------|
         |-Request B-|
                |- Read Response A --------|
                                           |- Read Response B-| (**TIMEOUT**)



#### <a name="measurement"></a><span data-ttu-id="ae567-178">Miary</span><span class="sxs-lookup"><span data-stu-id="ae567-178">Measurement</span></span>
<span data-ttu-id="ae567-179">To jest trudne do pomiaru.</span><span class="sxs-lookup"><span data-stu-id="ae567-179">This is a difficult one to measure.</span></span> <span data-ttu-id="ae567-180">Zasadniczo ma Instrumentacja kod klienta do śledzenia dużych żądań i odpowiedzi.</span><span class="sxs-lookup"><span data-stu-id="ae567-180">You basically have to instrument your client code to track large requests and responses.</span></span> 

#### <a name="resolution"></a><span data-ttu-id="ae567-181">Rozwiązanie</span><span class="sxs-lookup"><span data-stu-id="ae567-181">Resolution</span></span>
1. <span data-ttu-id="ae567-182">Redis jest zoptymalizowana pod kątem dużą liczbę małych wartości, zamiast kilku dużych wartości.</span><span class="sxs-lookup"><span data-stu-id="ae567-182">Redis is optimized for a large number of small values, rather than a few large values.</span></span> <span data-ttu-id="ae567-183">Preferowanym rozwiązaniem jest podzielić dane powiązane mniejsze wartości.</span><span class="sxs-lookup"><span data-stu-id="ae567-183">The preferred solution is to break up your data into related smaller values.</span></span> <span data-ttu-id="ae567-184">Zobacz [co to jest zakres rozmiar wartość idealna dla pamięci podręcznej redis? 100KB jest za duży? ](https://groups.google.com/forum/#!searchin/redis-db/size/redis-db/n7aa2A4DZDs/3OeEPHSQBAAJ) post szczegółowe wokół Dlaczego zalecane są mniejsze wartości.</span><span class="sxs-lookup"><span data-stu-id="ae567-184">See the [What is the ideal value size range for redis? Is 100KB too large?](https://groups.google.com/forum/#!searchin/redis-db/size/redis-db/n7aa2A4DZDs/3OeEPHSQBAAJ) post for details around why smaller values are recommended.</span></span>
2. <span data-ttu-id="ae567-185">Zwiększ rozmiar maszyny wirtualnej (w przypadku klienta i serwera pamięci podręcznej Redis), można pobrać wyższej przepustowości możliwości, zmniejszenie czasu przesyłania danych na większy odpowiedzi.</span><span class="sxs-lookup"><span data-stu-id="ae567-185">Increase the size of your VM (for client and Redis Cache Server), to get higher bandwidth capabilities, reducing data transfer times for larger responses.</span></span> <span data-ttu-id="ae567-186">Należy pamiętać, że pobieranie większej przepustowości, tylko z serwera lub tylko na klienta może nie być wystarczająca.</span><span class="sxs-lookup"><span data-stu-id="ae567-186">Note that getting more bandwidth on just the server or just on the client may not be enough.</span></span> <span data-ttu-id="ae567-187">Zmierz wykorzystanie przepustowości sieci i porównaj je z możliwości rozmiaru aktualnie maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="ae567-187">Measure your bandwidth usage and compare it to the capabilities of the size of VM you currently have.</span></span>
3. <span data-ttu-id="ae567-188">Zwiększ liczbę `ConnectionMultiplexer` obiekty są użycia i okrężnego żądań za pośrednictwem różnych połączeń.</span><span class="sxs-lookup"><span data-stu-id="ae567-188">Increase the number of `ConnectionMultiplexer` objects you use and round-robin requests over different connections.</span></span>

### <a name="what-happened-to-my-data-in-redis"></a><span data-ttu-id="ae567-189">Co się stało z danych w pamięci podręcznej Redis?</span><span class="sxs-lookup"><span data-stu-id="ae567-189">What happened to my data in Redis?</span></span>
#### <a name="problem"></a><span data-ttu-id="ae567-190">Problem</span><span class="sxs-lookup"><span data-stu-id="ae567-190">Problem</span></span>
<span data-ttu-id="ae567-191">Dla niektórych oczekiwanych danych w mojej wystąpienia pamięci podręcznej Redis Azure, ale nie wydaje się być istnieje.</span><span class="sxs-lookup"><span data-stu-id="ae567-191">I expected for certain data to be in my Azure Redis Cache instance but it didn't seem to be there.</span></span>

#### <a name="resolution"></a><span data-ttu-id="ae567-192">Rozwiązanie</span><span class="sxs-lookup"><span data-stu-id="ae567-192">Resolution</span></span>
<span data-ttu-id="ae567-193">Zobacz [co się stało z danych w pamięci podręcznej Redis?](https://gist.github.com/JonCole/b6354d92a2d51c141490f10142884ea4#file-whathappenedtomydatainredis-md) możliwe przyczyny i rozwiązania.</span><span class="sxs-lookup"><span data-stu-id="ae567-193">See [What happened to my data in Redis?](https://gist.github.com/JonCole/b6354d92a2d51c141490f10142884ea4#file-whathappenedtomydatainredis-md) for possible causes and resolutions.</span></span>

## <a name="server-side-troubleshooting"></a><span data-ttu-id="ae567-194">Rozwiązywanie problemów po stronie serwera</span><span class="sxs-lookup"><span data-stu-id="ae567-194">Server side troubleshooting</span></span>
<span data-ttu-id="ae567-195">W tej sekcji omówiono rozwiązywanie problemów występujących ze względu na warunek na serwerze pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="ae567-195">This section discusses troubleshooting issues that occur because of a condition on the cache server.</span></span>

* [<span data-ttu-id="ae567-196">Wykorzystania pamięci na serwerze</span><span class="sxs-lookup"><span data-stu-id="ae567-196">Memory Pressure on the server</span></span>](#memory-pressure-on-the-server)
* [<span data-ttu-id="ae567-197">Wysokie użycie procesora CPU / ładowania serwera</span><span class="sxs-lookup"><span data-stu-id="ae567-197">High CPU usage / Server Load</span></span>](#high-cpu-usage-server-load)
* [<span data-ttu-id="ae567-198">Przekroczona przepustowość po stronie serwera</span><span class="sxs-lookup"><span data-stu-id="ae567-198">Server Side Bandwidth Exceeded</span></span>](#server-side-bandwidth-exceeded)

### <a name="memory-pressure-on-the-server"></a><span data-ttu-id="ae567-199">Wykorzystania pamięci na serwerze</span><span class="sxs-lookup"><span data-stu-id="ae567-199">Memory Pressure on the server</span></span>
#### <a name="problem"></a><span data-ttu-id="ae567-200">Problem</span><span class="sxs-lookup"><span data-stu-id="ae567-200">Problem</span></span>
<span data-ttu-id="ae567-201">Wykorzystania pamięci po stronie serwera prowadzi do wszystkie rodzaje problemów z wydajnością, które mogą opóźnić proces przetwarzania żądania.</span><span class="sxs-lookup"><span data-stu-id="ae567-201">Memory pressure on the server side leads to all kinds of performance problems that can delay processing of requests.</span></span> <span data-ttu-id="ae567-202">Gdy liczba trafień wykorzystania pamięci, system zwykle ma do danych strony od ilości pamięci fizycznej w pamięci wirtualnej, która znajduje się na dysku.</span><span class="sxs-lookup"><span data-stu-id="ae567-202">When memory pressure hits, the system typically has to page data from physical memory to virtual memory which is on disk.</span></span> <span data-ttu-id="ae567-203">To *spowodowaniem błędu strony* spowoduje znaczne spowolnienie jego działania systemu.</span><span class="sxs-lookup"><span data-stu-id="ae567-203">This *page faulting* causes the system to slow down significantly.</span></span> <span data-ttu-id="ae567-204">Istnieje kilka możliwych przyczyn tego wykorzystania pamięci:</span><span class="sxs-lookup"><span data-stu-id="ae567-204">There are several possible causes of this memory pressure:</span></span> 

1. <span data-ttu-id="ae567-205">Wypełnienie pamięci podręcznej, aby pełną pojemność z danymi.</span><span class="sxs-lookup"><span data-stu-id="ae567-205">You have filled the cache to full capacity with data.</span></span> 
2. <span data-ttu-id="ae567-206">Redis ma do czynienia fragmentacji pamięci wysokiej - Najczęstszą przyczyną przechowywania dużych obiektów (Redis jest zoptymalizowana pod kątem małych obiektów — zobacz [co to jest zakres rozmiar wartość idealna dla pamięci podręcznej redis? 100KB jest za duży? ](https://groups.google.com/forum/#!searchin/redis-db/size/redis-db/n7aa2A4DZDs/3OeEPHSQBAAJ) post, aby uzyskać szczegółowe informacje).</span><span class="sxs-lookup"><span data-stu-id="ae567-206">Redis is seeing high memory fragmentation - most often caused by storing large objects (Redis is optimized for a small objects - See the [What is the ideal value size range for redis? Is 100KB too large?](https://groups.google.com/forum/#!searchin/redis-db/size/redis-db/n7aa2A4DZDs/3OeEPHSQBAAJ) post for details).</span></span> 

#### <a name="measurement"></a><span data-ttu-id="ae567-207">Miary</span><span class="sxs-lookup"><span data-stu-id="ae567-207">Measurement</span></span>
<span data-ttu-id="ae567-208">Redis przedstawia dwa metryk, które mogą ułatwić identyfikację ten problem.</span><span class="sxs-lookup"><span data-stu-id="ae567-208">Redis exposes two metrics that can help you identify this issue.</span></span> <span data-ttu-id="ae567-209">Pierwsza to `used_memory` , a druga `used_memory_rss`.</span><span class="sxs-lookup"><span data-stu-id="ae567-209">The first is `used_memory` and the other is `used_memory_rss`.</span></span> <span data-ttu-id="ae567-210">[Te metryki](cache-how-to-monitor.md#available-metrics-and-reporting-intervals) są dostępne w portalu Azure lub za pośrednictwem [Redis informacji](http://redis.io/commands/info) polecenia.</span><span class="sxs-lookup"><span data-stu-id="ae567-210">[These metrics](cache-how-to-monitor.md#available-metrics-and-reporting-intervals) are available in the Azure Portal or through the [Redis INFO](http://redis.io/commands/info) command.</span></span>

#### <a name="resolution"></a><span data-ttu-id="ae567-211">Rozwiązanie</span><span class="sxs-lookup"><span data-stu-id="ae567-211">Resolution</span></span>
<span data-ttu-id="ae567-212">Istnieje kilka możliwych zmian, które pozwala zapewnić użycie pamięci dobrej kondycji:</span><span class="sxs-lookup"><span data-stu-id="ae567-212">There are several possible changes that you can make to help keep memory usage healthy:</span></span>

1. <span data-ttu-id="ae567-213">[Skonfiguruj zasady pamięci](cache-configure.md#maxmemory-policy-and-maxmemory-reserved) i ustaw czas wygaśnięcia w Twoje klucze.</span><span class="sxs-lookup"><span data-stu-id="ae567-213">[Configure a memory policy](cache-configure.md#maxmemory-policy-and-maxmemory-reserved) and set expiration times on your keys.</span></span> <span data-ttu-id="ae567-214">Należy pamiętać, że to może nie być wystarczające, jeśli masz fragmentacji.</span><span class="sxs-lookup"><span data-stu-id="ae567-214">Note that this may not be sufficient if you have fragmentation.</span></span>
2. <span data-ttu-id="ae567-215">[Skonfiguruj wartość maxmemory zastrzeżone](cache-configure.md#maxmemory-policy-and-maxmemory-reserved) jest wystarczająco duży, aby rozliczyć fragmentacji pamięci.</span><span class="sxs-lookup"><span data-stu-id="ae567-215">[Configure a maxmemory-reserved value](cache-configure.md#maxmemory-policy-and-maxmemory-reserved) that is large enough to compensate for memory fragmentation.</span></span>
3. <span data-ttu-id="ae567-216">Rozdziel dużych obiektów pamięci podręcznej w mniejszych powiązanych obiektów.</span><span class="sxs-lookup"><span data-stu-id="ae567-216">Break up your large cached objects into smaller related objects.</span></span>
4. <span data-ttu-id="ae567-217">[Skala](cache-how-to-scale.md) na większy rozmiar pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="ae567-217">[Scale](cache-how-to-scale.md) to a larger cache size.</span></span>
5. <span data-ttu-id="ae567-218">Jeśli używasz [premium pamięci podręcznej Redis klastra włączone](cache-how-to-premium-clustering.md) można [zwiększyć liczbę fragmentów](cache-how-to-premium-clustering.md#change-the-cluster-size-on-a-running-premium-cache).</span><span class="sxs-lookup"><span data-stu-id="ae567-218">If you are using a [premium cache with Redis cluster enabled](cache-how-to-premium-clustering.md) you can [increase the number of shards](cache-how-to-premium-clustering.md#change-the-cluster-size-on-a-running-premium-cache).</span></span>

### <a name="high-cpu-usage--server-load"></a><span data-ttu-id="ae567-219">Wysokie użycie procesora CPU / ładowania serwera</span><span class="sxs-lookup"><span data-stu-id="ae567-219">High CPU usage / Server Load</span></span>
#### <a name="problem"></a><span data-ttu-id="ae567-220">Problem</span><span class="sxs-lookup"><span data-stu-id="ae567-220">Problem</span></span>
<span data-ttu-id="ae567-221">Wysokie użycie Procesora może oznaczać, że może zakończyć się niepowodzeniem po stronie klienta można przetworzyć odpowiedzi z pamięci podręcznej Redis w odpowiednim czasie, mimo że Redis wysyłane odpowiedzi bardzo szybko.</span><span class="sxs-lookup"><span data-stu-id="ae567-221">High CPU usage can mean that the client side can fail to process a response from Redis in a timely fashion even though Redis sent the response very quickly.</span></span>

#### <a name="measurement"></a><span data-ttu-id="ae567-222">Miary</span><span class="sxs-lookup"><span data-stu-id="ae567-222">Measurement</span></span>
<span data-ttu-id="ae567-223">Monitorowanie użycia Procesora szeroki systemu za pośrednictwem portalu Azure lub licznika wydajności skojarzonego.</span><span class="sxs-lookup"><span data-stu-id="ae567-223">Monitor the System Wide CPU usage through the Azure Portal or through the associated performance counter.</span></span> <span data-ttu-id="ae567-224">Nie można więc monitorować *procesu* Procesora, ponieważ jeden proces może mieć niskie użycie procesora CPU w tym samym czasu ogólną systemu Procesora może być wysokie.</span><span class="sxs-lookup"><span data-stu-id="ae567-224">Be careful not to monitor *process* CPU because a single process can have low CPU usage at the same time that overall system CPU can be high.</span></span> <span data-ttu-id="ae567-225">Obserwowania maksymalnej wykorzystania Procesora, które odpowiadają przekroczeń limitu czasu.</span><span class="sxs-lookup"><span data-stu-id="ae567-225">Watch for spikes in CPU usage that correspond with timeouts.</span></span>

#### <a name="resolution"></a><span data-ttu-id="ae567-226">Rozwiązanie</span><span class="sxs-lookup"><span data-stu-id="ae567-226">Resolution</span></span>
<span data-ttu-id="ae567-227">[Skala](cache-how-to-scale.md) do większych pamięci podręcznej warstwy o większej pojemności procesora CPU lub zbadać, co jest przyczyną nagłego procesora CPU.</span><span class="sxs-lookup"><span data-stu-id="ae567-227">[Scale](cache-how-to-scale.md) to a larger cache tier with more CPU capacity or investigate what is causing CPU spikes.</span></span> 

### <a name="server-side-bandwidth-exceeded"></a><span data-ttu-id="ae567-228">Przekroczona przepustowość po stronie serwera</span><span class="sxs-lookup"><span data-stu-id="ae567-228">Server Side Bandwidth Exceeded</span></span>
#### <a name="problem"></a><span data-ttu-id="ae567-229">Problem</span><span class="sxs-lookup"><span data-stu-id="ae567-229">Problem</span></span>
<span data-ttu-id="ae567-230">Wystąpienia inny rozmiar pamięci podręcznej mieć ograniczenia na przepustowość sieci, ile mają one dostępne.</span><span class="sxs-lookup"><span data-stu-id="ae567-230">Different sized cache instances have limitations on how much network bandwidth they have available.</span></span> <span data-ttu-id="ae567-231">Jeśli serwer przekracza dostępną przepustowość, danych nie będzie można wysłać do klienta tak szybko.</span><span class="sxs-lookup"><span data-stu-id="ae567-231">If the server exceeds the available bandwidth, then data will not be sent to the client as quickly.</span></span> <span data-ttu-id="ae567-232">Może to prowadzić do przekroczenia limitu czasu.</span><span class="sxs-lookup"><span data-stu-id="ae567-232">This can lead to timeouts.</span></span>

#### <a name="measurement"></a><span data-ttu-id="ae567-233">Miary</span><span class="sxs-lookup"><span data-stu-id="ae567-233">Measurement</span></span>
<span data-ttu-id="ae567-234">Można monitorować `Cache Read` metryki, czyli ilość danych do odczytu z pamięci podręcznej w MB na sekundę (MB/s) w określonym interwale raportowania.</span><span class="sxs-lookup"><span data-stu-id="ae567-234">You can monitor the `Cache Read` metric, which is the amount of data read from the cache in Megabytes per second (MB/s) during the specified reporting interval.</span></span> <span data-ttu-id="ae567-235">Ta wartość odpowiada przepustowości sieci używanej przez tę pamięć podręczną.</span><span class="sxs-lookup"><span data-stu-id="ae567-235">This value corresponds to the network bandwidth used by this cache.</span></span> <span data-ttu-id="ae567-236">Jeśli chcesz skonfigurować alerty dla limity przepustowości sieci po stronie serwera, możesz utworzyć je za pomocą tej `Cache Read` licznika.</span><span class="sxs-lookup"><span data-stu-id="ae567-236">If you want to set up alerts for server side network bandwidth limits, you can create them using this `Cache Read` counter.</span></span> <span data-ttu-id="ae567-237">Porównaj z odczyty z wartościami w [tej tabeli](cache-faq.md#cache-performance) limitów obserwowanych przepustowości dla różnych pamięci podręcznej ceny warstw i rozmiary.</span><span class="sxs-lookup"><span data-stu-id="ae567-237">Compare your readings with the values in [this table](cache-faq.md#cache-performance) for the observed bandwidth limits for various cache pricing tiers and sizes.</span></span>

#### <a name="resolution"></a><span data-ttu-id="ae567-238">Rozwiązanie</span><span class="sxs-lookup"><span data-stu-id="ae567-238">Resolution</span></span>
<span data-ttu-id="ae567-239">Jeśli użytkownik zawsze w pobliżu obserwowanych maksymalnej przepustowości cenową rozmiar warstwy i pamięci podręcznej, należy wziąć pod uwagę [skalowanie](cache-how-to-scale.md) cenową warstwy lub rozmiar, która ma większą przepustowość sieci, używając wartości w [tej tabeli](cache-faq.md#cache-performance) jako przewodnika.</span><span class="sxs-lookup"><span data-stu-id="ae567-239">If you are consistently near the observed maximum bandwidth for your pricing tier and cache size, consider [scaling](cache-how-to-scale.md) to a pricing tier or size that has greater network bandwidth, using the values in [this table](cache-faq.md#cache-performance) as a guide.</span></span>

## <a name="stackexchangeredis-timeout-exceptions"></a><span data-ttu-id="ae567-240">Wyjątków przekroczenia limitu czasu w programie StackExchange.Redis</span><span class="sxs-lookup"><span data-stu-id="ae567-240">StackExchange.Redis timeout exceptions</span></span>
<span data-ttu-id="ae567-241">Programie StackExchange.Redis używa konfiguracji ustawienie o nazwie `synctimeout` dla operacji synchronicznych, które ma wartość domyślną 1000 ms.</span><span class="sxs-lookup"><span data-stu-id="ae567-241">StackExchange.Redis uses a configuration setting named `synctimeout` for synchronous operations which has a default value  of 1000 ms.</span></span> <span data-ttu-id="ae567-242">Jeśli wywołania synchronicznego nie zakończy się w określonym czasie, przez klienta w programie StackExchange.Redis zgłasza błąd limitu czasu podobny do poniższego przykładu.</span><span class="sxs-lookup"><span data-stu-id="ae567-242">If a synchronous call doesn’t complete in the stipulated time, the StackExchange.Redis client throws a timeout error similar to the following example.</span></span>

    System.TimeoutException: Timeout performing MGET 2728cc84-58ae-406b-8ec8-3f962419f641, inst: 1,mgr: Inactive, queue: 73, qu=6, qs=67, qc=0, wr=1/1, in=0/0 IOCP: (Busy=6, Free=999, Min=2,Max=1000), WORKER (Busy=7,Free=8184,Min=2,Max=8191)


<span data-ttu-id="ae567-243">Ten komunikat o błędzie zawiera metryki, które pozwalają wskazać przyczynę i możliwe rozwiązania problemu.</span><span class="sxs-lookup"><span data-stu-id="ae567-243">This error message contains metrics that can help point you to the cause and possible resolution of the issue.</span></span> <span data-ttu-id="ae567-244">Poniższa tabela zawiera szczegółowe informacje o metryki komunikat błędu.</span><span class="sxs-lookup"><span data-stu-id="ae567-244">The following table contains details about the error message metrics.</span></span>

| <span data-ttu-id="ae567-245">Metryka komunikat błędu</span><span class="sxs-lookup"><span data-stu-id="ae567-245">Error message metric</span></span> | <span data-ttu-id="ae567-246">Szczegóły</span><span class="sxs-lookup"><span data-stu-id="ae567-246">Details</span></span> |
| --- | --- |
| <span data-ttu-id="ae567-247">inst</span><span class="sxs-lookup"><span data-stu-id="ae567-247">inst</span></span> |<span data-ttu-id="ae567-248">W ostatnim przedziału czasu: 0 polecenia zostały wydane</span><span class="sxs-lookup"><span data-stu-id="ae567-248">In the last time slice: 0 commands have been issued</span></span> |
| <span data-ttu-id="ae567-249">Mgr</span><span class="sxs-lookup"><span data-stu-id="ae567-249">mgr</span></span> |<span data-ttu-id="ae567-250">Menedżer gniazda wykonuje `socket.select` co oznacza, że jest zapytaniem systemu operacyjnego, aby wskazać gniazda, który ma coś zrobić; zasadniczo: czytnik nie aktywnie odczytuje z sieci, ponieważ nie reakcji, coś zrobić</span><span class="sxs-lookup"><span data-stu-id="ae567-250">The socket manager is performing `socket.select` which means it is asking the OS to indicate a socket that has something to do; basically: the reader is not actively reading from the network because it doesn't think there is anything to do</span></span> |
| <span data-ttu-id="ae567-251">Kolejki</span><span class="sxs-lookup"><span data-stu-id="ae567-251">queue</span></span> |<span data-ttu-id="ae567-252">73 całkowita operacji w toku</span><span class="sxs-lookup"><span data-stu-id="ae567-252">There are 73 total in-progress operations</span></span> |
| <span data-ttu-id="ae567-253">Ustawienia kol</span><span class="sxs-lookup"><span data-stu-id="ae567-253">qu</span></span> |<span data-ttu-id="ae567-254">6 w trakcie wykonywania operacji w kolejce niewysłane i nie zostały zapisane z siecią ruchu wychodzącego</span><span class="sxs-lookup"><span data-stu-id="ae567-254">6 of the in-progress operations are in the unsent queue and have not yet been written to the outbound network</span></span> |
| <span data-ttu-id="ae567-255">QS</span><span class="sxs-lookup"><span data-stu-id="ae567-255">qs</span></span> |<span data-ttu-id="ae567-256">67 he trwające operacje zostały wysłane do serwera, ale odpowiedź nie jest jeszcze dostępna.</span><span class="sxs-lookup"><span data-stu-id="ae567-256">67 of he in-progress operations have been sent to the server but a response is not yet available.</span></span> <span data-ttu-id="ae567-257">Odpowiedzi mogą być `Not yet sent by the server` lub`sent by the server but not yet processed by the client.`</span><span class="sxs-lookup"><span data-stu-id="ae567-257">The response could be `Not yet sent by the server` or `sent by the server but not yet processed by the client.`</span></span> |
| <span data-ttu-id="ae567-258">QC</span><span class="sxs-lookup"><span data-stu-id="ae567-258">qc</span></span> |<span data-ttu-id="ae567-259">jak już wspomniano odpowiedzi 0 operacji w toku, ale nie została oznaczona jako zakończona z powodu oczekiwania na zakończenie pętli</span><span class="sxs-lookup"><span data-stu-id="ae567-259">0 of the in-progress operations have seen replies but have not yet been marked as complete due to waiting on the completion loop</span></span> |
| <span data-ttu-id="ae567-260">wR</span><span class="sxs-lookup"><span data-stu-id="ae567-260">wr</span></span> |<span data-ttu-id="ae567-261">Brak bajty/activewriters active składnika zapisywania (co oznacza, że 6 niewysłane żądania nie są ignorowane)</span><span class="sxs-lookup"><span data-stu-id="ae567-261">There is an active writer (meaning the 6 unsent requests are not being ignored) bytes/activewriters</span></span> |
| <span data-ttu-id="ae567-262">W</span><span class="sxs-lookup"><span data-stu-id="ae567-262">in</span></span> |<span data-ttu-id="ae567-263">Nie ma żadnych aktywnych czytników i zero bajtów są dostępne do odczytu na NIC bajty/activereaders</span><span class="sxs-lookup"><span data-stu-id="ae567-263">There are no active readers and zero bytes are available to be read on the NIC bytes/activereaders</span></span> |

### <a name="steps-to-investigate"></a><span data-ttu-id="ae567-264">Kroki w celu zbadania</span><span class="sxs-lookup"><span data-stu-id="ae567-264">Steps to investigate</span></span>
1. <span data-ttu-id="ae567-265">Jako najlepsze rozwiązanie upewnij się, że używasz następującego wzorca nawiązać podczas korzystania z klienta w programie StackExchange.Redis.</span><span class="sxs-lookup"><span data-stu-id="ae567-265">As a best practice make sure you are using the following pattern to connect when using the StackExchange.Redis client.</span></span>

    ```c#
    private static Lazy<ConnectionMultiplexer> lazyConnection = new Lazy<ConnectionMultiplexer>(() =>
    {
        return ConnectionMultiplexer.Connect("cachename.redis.cache.windows.net,abortConnect=false,ssl=true,password=...");
    
    });
    
    public static ConnectionMultiplexer Connection
    {
        get
        {
            return lazyConnection.Value;
        }
    }
    ````

    <span data-ttu-id="ae567-266">Aby uzyskać więcej informacji, zobacz [Połącz z pamięci podręcznej, za pomocą programie StackExchange.Redis](cache-dotnet-how-to-use-azure-redis-cache.md#connect-to-the-cache).</span><span class="sxs-lookup"><span data-stu-id="ae567-266">For more information, see [Connect to the cache using StackExchange.Redis](cache-dotnet-how-to-use-azure-redis-cache.md#connect-to-the-cache).</span></span>

1. <span data-ttu-id="ae567-267">Upewnij się, że pamięć podręczna Redis Azure i aplikacja kliencka są w tym samym regionie platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="ae567-267">Ensure that your Azure Redis Cache and the client application are in the same region in Azure.</span></span> <span data-ttu-id="ae567-268">Na przykład możesz może występować limity czasu gdy pamięć podręczna jest wschodnie stany USA, ale klient znajduje się w zachodnie stany USA i żądania nie zakończyła się w ciągu `synctimeout` interwał lub użytkownik może uzyskać przekroczeń limitu czasu podczas debugowania z komputera lokalnego rozwoju.</span><span class="sxs-lookup"><span data-stu-id="ae567-268">For example, you might be getting timeouts when your cache is in East US but the client is in West US and the request doesn't complete within the `synctimeout` interval or you might be getting timeouts when you are debugging from your local development machine.</span></span> 
   
    <span data-ttu-id="ae567-269">Zdecydowanie zaleca się ma pamięci podręcznej i na komputerze klienckim, w tym samym regionie Azure.</span><span class="sxs-lookup"><span data-stu-id="ae567-269">It’s highly recommended to have the cache and in the client in the same Azure region.</span></span> <span data-ttu-id="ae567-270">Jeśli scenariusz, który zawiera wywołań między regionu, należy ustawić `synctimeout` interwał na wartość większą niż domyślny interwał 1000 ms, umieszczając w niej `synctimeout` właściwości w parametrach połączenia.</span><span class="sxs-lookup"><span data-stu-id="ae567-270">If you have a scenario that includes cross region calls, you should set the `synctimeout` interval to a value higher than the default 1000 ms interval by including a `synctimeout` property in the connection string.</span></span> <span data-ttu-id="ae567-271">W poniższym przykładzie przedstawiono fragment ciągu połączenia programie StackExchange.Redis pamięci podręcznej z `synctimeout` z 2000 ms.</span><span class="sxs-lookup"><span data-stu-id="ae567-271">The following example shows a StackExchange.Redis cache connection string snippet with a `synctimeout` of 2000 ms.</span></span>
   
        synctimeout=2000,cachename.redis.cache.windows.net,abortConnect=false,ssl=true,password=...
2. <span data-ttu-id="ae567-272">Upewnij się, używając najnowszej wersji [pakietu NuGet w programie StackExchange.Redis](https://www.nuget.org/packages/StackExchange.Redis/).</span><span class="sxs-lookup"><span data-stu-id="ae567-272">Ensure you using the latest version of the [StackExchange.Redis NuGet package](https://www.nuget.org/packages/StackExchange.Redis/).</span></span> <span data-ttu-id="ae567-273">Istnieją błędy stale usunięte w kodzie, aby był bardziej niezawodne dla limitów czasu tak ważne jest posiadanie najnowszej wersji.</span><span class="sxs-lookup"><span data-stu-id="ae567-273">There are bugs constantly being fixed in the code to make it more robust to timeouts so having the latest version is important.</span></span>
3. <span data-ttu-id="ae567-274">W przypadku żądań pobierania powiązanych przez ograniczenia przepustowości serwera lub klienta będzie trwało dłużej na ich zakończenie i spowodować przekroczeń limitu czasu.</span><span class="sxs-lookup"><span data-stu-id="ae567-274">If there are requests that are getting bound by bandwidth limitations on the server or client, it will take longer for them to complete and thereby cause timeouts.</span></span> <span data-ttu-id="ae567-275">Aby sprawdzić, czy Twoje limitu czasu jest ze względu na przepustowość sieci na serwerze, zobacz [Przekroczona przepustowość po stronie serwera](#server-side-bandwidth-exceeded).</span><span class="sxs-lookup"><span data-stu-id="ae567-275">To see if your timeout is due to network bandwidth on the server, see [Server side bandwidth exceeded](#server-side-bandwidth-exceeded).</span></span> <span data-ttu-id="ae567-276">Aby sprawdzić, czy Twoje limitu czasu jest ze względu na przepustowość sieci klienta, zobacz [Przekroczona przepustowość po stronie klienta](#client-side-bandwidth-exceeded).</span><span class="sxs-lookup"><span data-stu-id="ae567-276">To see if your timeout is due to client network bandwidth, see [Client side bandwidth exceeded](#client-side-bandwidth-exceeded).</span></span>
4. <span data-ttu-id="ae567-277">Na serwerze lub na komputerze klienckim należy pobierania Procesora powiązanych?</span><span class="sxs-lookup"><span data-stu-id="ae567-277">Are you getting CPU bound on the server or on the client?</span></span>
   
   * <span data-ttu-id="ae567-278">Sprawdź, jeśli użytkownik pobierania powiązanych przez procesor CPU na komputerze klienckim, który może spowodować, że żądania nie można przetworzyć w ramach `synctimeout` interwał, powodując przekroczenie limitu czasu.</span><span class="sxs-lookup"><span data-stu-id="ae567-278">Check if you are getting bound by CPU on your client which could cause the request to not be processed within the `synctimeout` interval, thus causing a timeout.</span></span> <span data-ttu-id="ae567-279">Przejście do większego rozmiaru klienta lub dystrybucji obciążenia może pomóc to kontrolowane przez usługę.</span><span class="sxs-lookup"><span data-stu-id="ae567-279">Moving to a larger client size or distributing the load can help to control this.</span></span> 
   * <span data-ttu-id="ae567-280">Sprawdź, czy występują procesora CPU związane na serwerze monitorowania `CPU` [pamięci podręcznej metryki wydajności](cache-how-to-monitor.md#available-metrics-and-reporting-intervals).</span><span class="sxs-lookup"><span data-stu-id="ae567-280">Check if you are getting CPU bound on the server by monitoring the `CPU` [cache performance metric](cache-how-to-monitor.md#available-metrics-and-reporting-intervals).</span></span> <span data-ttu-id="ae567-281">Żądań przychodzących podczas Redis jest powiązany Procesora może powodować tych żądań w celu limitu czasu.</span><span class="sxs-lookup"><span data-stu-id="ae567-281">Requests coming in while Redis is CPU bound can cause those requests to timeout.</span></span> <span data-ttu-id="ae567-282">Aby rozwiązać ten rozpowszechniają obciążenia wielu fragmentów w pamięci podręcznej premium lub uaktualnienie do warstwy cenowej lub większy rozmiar.</span><span class="sxs-lookup"><span data-stu-id="ae567-282">To address this you can distribute the load across multiple shards in a premium cache, or upgrade to a larger size or pricing tier.</span></span> <span data-ttu-id="ae567-283">Aby uzyskać więcej informacji, zobacz [Przekroczona przepustowość po stronie serwera](#server-side-bandwidth-exceeded).</span><span class="sxs-lookup"><span data-stu-id="ae567-283">For more information, see [Server Side Bandwidth Exceeded](#server-side-bandwidth-exceeded).</span></span>
5. <span data-ttu-id="ae567-284">Istnieją polecenia biorąc długi czas przetwarzania na serwerze?</span><span class="sxs-lookup"><span data-stu-id="ae567-284">Are there commands taking long time to process on the server?</span></span> <span data-ttu-id="ae567-285">Czas uruchamiania poleceń, które są tworzone długi czas przetwarzania na serwerze redis może spowodować przekroczeń limitu czasu.</span><span class="sxs-lookup"><span data-stu-id="ae567-285">Long running commands that are taking long time to process on the redis-server can cause timeouts.</span></span> <span data-ttu-id="ae567-286">Oto kilka przykładów poleceń długotrwała `mget` z dużą liczbę kluczy, `keys *` lub niepoprawnie napisane skrypty lua.</span><span class="sxs-lookup"><span data-stu-id="ae567-286">Some examples of long running commands are `mget` with large numbers of keys, `keys *` or poorly written lua scripts.</span></span> <span data-ttu-id="ae567-287">Można nawiązać połączenia z wystąpienia pamięci podręcznej Redis Azure za pomocą klienta pamięci podręcznej redis-cli lub użyć [Redis konsoli](cache-configure.md#redis-console) i uruchom [SlowLog](http://redis.io/commands/slowlog) polecenie, aby sprawdzić, czy są żądania trwa dłużej niż oczekiwano.</span><span class="sxs-lookup"><span data-stu-id="ae567-287">You can connect to your Azure Redis Cache instance using the redis-cli client or use the [Redis Console](cache-configure.md#redis-console) and run the [SlowLog](http://redis.io/commands/slowlog) command to see if there are requests taking longer than expected.</span></span> <span data-ttu-id="ae567-288">Serwer redis i programie StackExchange.Redis są zoptymalizowane pod kątem wiele żądań małych zamiast mniej dużych żądania.</span><span class="sxs-lookup"><span data-stu-id="ae567-288">Redis Server and StackExchange.Redis are optimized for many small requests rather than fewer large requests.</span></span> <span data-ttu-id="ae567-289">Podział na mniejsze fragmenty danych może zwiększyć rzeczy w tym miejscu.</span><span class="sxs-lookup"><span data-stu-id="ae567-289">Splitting your data into smaller chunks may improve things here.</span></span> 
   
    <span data-ttu-id="ae567-290">Aby uzyskać informacje dotyczące nawiązywania połączenia przy użyciu interfejsu wiersza polecenia redis i stunnel punkt końcowy SSL pamięci podręcznej Redis Azure, zobacz [Announcing ASP.NET dostawcę stanu sesji dla wersji zapoznawczej Redis](http://blogs.msdn.com/b/webdev/archive/2014/05/12/announcing-asp-net-session-state-provider-for-redis-preview-release.aspx) wpis w blogu.</span><span class="sxs-lookup"><span data-stu-id="ae567-290">For information on connecting to the Azure Redis Cache SSL endpoint using redis-cli and stunnel, see the [Announcing ASP.NET Session State Provider for Redis Preview Release](http://blogs.msdn.com/b/webdev/archive/2014/05/12/announcing-asp-net-session-state-provider-for-redis-preview-release.aspx) blog post.</span></span> <span data-ttu-id="ae567-291">Aby uzyskać więcej informacji, zobacz [SlowLog](http://redis.io/commands/slowlog).</span><span class="sxs-lookup"><span data-stu-id="ae567-291">For more information, see [SlowLog](http://redis.io/commands/slowlog).</span></span>
6. <span data-ttu-id="ae567-292">Wysokie obciążenie serwera pamięci podręcznej Redis może spowodować przekroczeń limitu czasu.</span><span class="sxs-lookup"><span data-stu-id="ae567-292">High Redis server load can cause timeouts.</span></span> <span data-ttu-id="ae567-293">Można monitorować obciążenie serwera monitorowania `Redis Server Load` [pamięci podręcznej metryki wydajności](cache-how-to-monitor.md#available-metrics-and-reporting-intervals).</span><span class="sxs-lookup"><span data-stu-id="ae567-293">You can monitor the server load by monitoring the `Redis Server Load` [cache performance metric](cache-how-to-monitor.md#available-metrics-and-reporting-intervals).</span></span> <span data-ttu-id="ae567-294">Obciążenie serwera, 100 (wartość maksymalna) oznacza, że serwer redis zostało zajęte, bez czasu bezczynności, przetwarzanie żądań.</span><span class="sxs-lookup"><span data-stu-id="ae567-294">A server load of 100 (maximum value) signifies that the redis server has been busy, with no idle time, processing requests.</span></span> <span data-ttu-id="ae567-295">Aby zobaczyć, jeśli niektórych żądań zajmują wszystkich funkcji serwera, uruchom polecenie SlowLog, zgodnie z opisem w poprzednim akapicie.</span><span class="sxs-lookup"><span data-stu-id="ae567-295">To see if certain requests are taking up all of the server capability, run the SlowLog command, as described in the previous paragraph.</span></span> <span data-ttu-id="ae567-296">Aby uzyskać więcej informacji, zobacz [użycie procesora CPU wysoka / Server załadować](#high-cpu-usage-server-load).</span><span class="sxs-lookup"><span data-stu-id="ae567-296">For more information, see [High CPU usage / Server Load](#high-cpu-usage-server-load).</span></span>
7. <span data-ttu-id="ae567-297">Po stronie klienta, który może to być spowodowane blip sieci były inne zdarzenia?</span><span class="sxs-lookup"><span data-stu-id="ae567-297">Was there any other event on the client side that could have caused a network blip?</span></span> <span data-ttu-id="ae567-298">Sprawdź, czy na kliencie (sieć web, rolę procesu roboczego lub maszyn wirtualnych Iaas) Jeśli było zdarzeń, takich jak skalowanie liczby wystąpień klienta w górę lub w dół lub wdrażania nowej wersji klienta lub automatyczne skalowanie jest włączone? Podczas testów zostały znalezione, może spowodować błąd automatycznego skalowania lub skalowanie w górę/dół łączności sieciowej wychodzącego mogą zostać utracone przez kilka sekund.</span><span class="sxs-lookup"><span data-stu-id="ae567-298">Check on the client (web, worker role or an Iaas VM) if there was an event like scaling the number of client instances up or down, or deploying a new version of the client or auto-scale is enabled?In our testing we have found that autoscale or scaling up/down can cause outbound network connectivity can be lost for several seconds.</span></span> <span data-ttu-id="ae567-299">Kod w programie StackExchange.Redis jest odporność na takich zdarzeń i połączy się ponownie.</span><span class="sxs-lookup"><span data-stu-id="ae567-299">StackExchange.Redis code is resilient to such events and will reconnect.</span></span> <span data-ttu-id="ae567-300">W tym czasie ponowne połączenie żądań w kolejce może upłynął limit czasu.</span><span class="sxs-lookup"><span data-stu-id="ae567-300">During this time of re-connection any requests in the queue can time out.</span></span>
8. <span data-ttu-id="ae567-301">Były big poprzedzających kilka małych żądań do pamięci podręcznej Redis, który upłynął limit czasu żądania?</span><span class="sxs-lookup"><span data-stu-id="ae567-301">Was there a big request preceding several small requests to the Redis Cache that timed out?</span></span> <span data-ttu-id="ae567-302">Parametr `qs` w dzienniku błędów komunikat informuje, ile żądań zostały wysłane z klienta do serwera, ale odpowiedź nie jest jeszcze przetworzone.</span><span class="sxs-lookup"><span data-stu-id="ae567-302">The parameter `qs` in the error message tells you how many requests were sent from the client to the server, but have not yet processed a response.</span></span> <span data-ttu-id="ae567-303">Ta wartość może rosnące, ponieważ w programie StackExchange.Redis używa pojedynczego połączenia TCP i może odczytać tylko jedna odpowiedź w czasie.</span><span class="sxs-lookup"><span data-stu-id="ae567-303">This value can keep growing because StackExchange.Redis uses a single TCP connection and can only read one response at a time.</span></span> <span data-ttu-id="ae567-304">Mimo że przekroczono limit czasu operacji pierwszy, nie zatrzymuje danych wysłanych z serwera, a inne żądania są zablokowane, aż do jej zakończeniu, co powoduje limity czasu.</span><span class="sxs-lookup"><span data-stu-id="ae567-304">Even though the first operation timed out, it does not stop the data being sent to/from the server, and other requests are blocked until this is finished, causing time outs.</span></span> <span data-ttu-id="ae567-305">Rozwiązanie polega na zminimalizować ryzyko przekroczeń limitu czasu przez zapewnienie, że pamięć podręczna jest wystarczająco duży dla obciążenia i dzielenie dużych wartości na mniejsze fragmenty.</span><span class="sxs-lookup"><span data-stu-id="ae567-305">One solution is to minimize the chance of timeouts by ensuring that your cache is large enough for your workload and splitting large values into smaller chunks.</span></span> <span data-ttu-id="ae567-306">Innym rozwiązaniem możliwe jest korzystanie z puli z `ConnectionMultiplexer` obiektów na kliencie, a następnie wybierz pozycję najmniej załadować `ConnectionMultiplexer` wysyłając żądanie nowego.</span><span class="sxs-lookup"><span data-stu-id="ae567-306">Another possible solution is to use a pool of `ConnectionMultiplexer` objects in your client, and choose the least loaded `ConnectionMultiplexer` when sending a new request.</span></span> <span data-ttu-id="ae567-307">To powinno zapobiec pojedynczego limitu czasu powoduje innych żądaniach dotyczących również limit czasu.</span><span class="sxs-lookup"><span data-stu-id="ae567-307">This should prevent a single timeout from causing other requests to also timeout.</span></span>
9. <span data-ttu-id="ae567-308">Jeśli używasz `RedisSessionStateprovider`, upewnij się, że limit ponownych prób została poprawnie ustawiona.</span><span class="sxs-lookup"><span data-stu-id="ae567-308">If you are using `RedisSessionStateprovider`, ensure you have set the retry timeout correctly.</span></span> <span data-ttu-id="ae567-309">`retrytimeoutInMilliseconds`powinien być większy niż `operationTimeoutinMilliseonds`, w przeciwnym razie wystąpi brak ponownych prób.</span><span class="sxs-lookup"><span data-stu-id="ae567-309">`retrytimeoutInMilliseconds` should be higher than `operationTimeoutinMilliseonds`, otherwise no retries will occur.</span></span> <span data-ttu-id="ae567-310">W poniższym przykładzie `retrytimeoutInMilliseconds` ustawiono 3000.</span><span class="sxs-lookup"><span data-stu-id="ae567-310">In the following example `retrytimeoutInMilliseconds` is set to 3000.</span></span> <span data-ttu-id="ae567-311">Aby uzyskać więcej informacji, zobacz [dostawcę stanu sesji ASP.NET dla pamięci podręcznej Redis Azure](cache-aspnet-session-state-provider.md) i [jak używać parametrów konfiguracji dostawcy stanu sesji i dostawcy wyjściowej pamięci podręcznej](https://github.com/Azure/aspnet-redis-providers/wiki/Configuration).</span><span class="sxs-lookup"><span data-stu-id="ae567-311">For more information, see [ASP.NET Session State Provider for Azure Redis Cache](cache-aspnet-session-state-provider.md) and [How to use the configuration parameters of Session State Provider and Output Cache Provider](https://github.com/Azure/aspnet-redis-providers/wiki/Configuration).</span></span>

    <add
      name="AFRedisCacheSessionStateProvider"
      type="Microsoft.Web.Redis.RedisSessionStateProvider"
      host="enbwcache.redis.cache.windows.net"
      port="6380"
      accessKey="…"
      ssl="true"
      databaseId="0"
      applicationName="AFRedisCacheSessionState"
      connectionTimeoutInMilliseconds = "5000"
      operationTimeoutInMilliseconds = "1000"
      retryTimeoutInMilliseconds="3000" />


1. <span data-ttu-id="ae567-312">Sprawdź użycie pamięci na serwerze usługi pamięć podręczna Redis Azure przez [monitorowania](cache-how-to-monitor.md#available-metrics-and-reporting-intervals) `Used Memory RSS` i `Used Memory`.</span><span class="sxs-lookup"><span data-stu-id="ae567-312">Check memory usage on the Azure Redis Cache server by [monitoring](cache-how-to-monitor.md#available-metrics-and-reporting-intervals) `Used Memory RSS` and `Used Memory`.</span></span> <span data-ttu-id="ae567-313">Czy zasady wykluczania znajduje się w miejscu, rozpoczyna się Redis wykluczania kluczy podczas `Used_Memory` osiągnie rozmiar pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="ae567-313">If an eviction policy is in place, Redis starts evicting keys when `Used_Memory` reaches the cache size.</span></span> <span data-ttu-id="ae567-314">W idealnym przypadku `Used Memory RSS` powinny być tylko nieznacznie wyższe niż `Used memory`.</span><span class="sxs-lookup"><span data-stu-id="ae567-314">Ideally, `Used Memory RSS` should be only slightly higher than `Used memory`.</span></span> <span data-ttu-id="ae567-315">Duża różnica oznacza brak fragmentacji pamięci (wewnętrzne lub zewnętrzne.</span><span class="sxs-lookup"><span data-stu-id="ae567-315">A large difference means there is memory fragmentation (internal or external.</span></span> <span data-ttu-id="ae567-316">Gdy `Used Memory RSS` jest mniejsza niż `Used Memory`, oznacza to część pamięci podręcznej została zapisana przez system operacyjny.</span><span class="sxs-lookup"><span data-stu-id="ae567-316">When `Used Memory RSS` is less than `Used Memory`, it means part of the cache memory has been swapped  by the operating system.</span></span> <span data-ttu-id="ae567-317">W takim przypadku można oczekiwać, że niektóre znaczne opóźnienia.</span><span class="sxs-lookup"><span data-stu-id="ae567-317">If this occurs you can expect some significant latencies.</span></span> <span data-ttu-id="ae567-318">Ponieważ Redis nie mają kontrolę nad jak alokacje są mapowane do stron pamięci wysokiej `Used Memory RSS` często jest wynikiem kolekcji użycia pamięci.</span><span class="sxs-lookup"><span data-stu-id="ae567-318">Because Redis does not have control over how its allocations are mapped to memory pages, high `Used Memory RSS` is often the result of a spike in memory usage.</span></span> <span data-ttu-id="ae567-319">Gdy Redis zwalnia pamięć, pamięć znajduje się wstecz do przydzielania i programu przydzielania może lub może nie być pamięć wstecz do systemu.</span><span class="sxs-lookup"><span data-stu-id="ae567-319">When Redis frees memory, the memory is given back to the allocator, and the allocator may or may not give the memory back to the system.</span></span> <span data-ttu-id="ae567-320">Może być niezgodność między `Used Memory` zużycie wartość i pamięci podaną przez system operacyjny.</span><span class="sxs-lookup"><span data-stu-id="ae567-320">There may be a discrepancy between the `Used Memory` value and memory consumption as reported by the operating system.</span></span> <span data-ttu-id="ae567-321">Może być ze względu na fakt pamięci został użyty i wydane przez Redis, ale nie podany wstecz do systemu.</span><span class="sxs-lookup"><span data-stu-id="ae567-321">It may be due to the fact memory has been used and released by Redis, but not given back to the system.</span></span> <span data-ttu-id="ae567-322">Aby rozwiązać problemy z pamięcią można wykonać następujące czynności.</span><span class="sxs-lookup"><span data-stu-id="ae567-322">To help mitigate memory issues you can perform the following steps.</span></span>
   
   * <span data-ttu-id="ae567-323">Uaktualnij do większy rozmiar pamięci podręcznej, tak, aby nie zostały uruchomione sprawdzania ograniczenia ilości pamięci w systemie.</span><span class="sxs-lookup"><span data-stu-id="ae567-323">Upgrade the cache to a larger size so that you are not running up against memory limitations on the system.</span></span>
   * <span data-ttu-id="ae567-324">Ustaw czas wygaśnięcia na klucze starsze wartości są aktywne wykluczony.</span><span class="sxs-lookup"><span data-stu-id="ae567-324">Set expiration times on the keys so that older values are evicted proactively.</span></span>
   * <span data-ttu-id="ae567-325">Monitor `used_memory_rss` pamięci podręcznej metryki.</span><span class="sxs-lookup"><span data-stu-id="ae567-325">Monitor the the `used_memory_rss` cache metric.</span></span> <span data-ttu-id="ae567-326">Gdy ta wartość koloru zbliża się rozmiar pamięci podręcznej, jest prawdopodobne zacząć wyświetlać problemy z wydajnością.</span><span class="sxs-lookup"><span data-stu-id="ae567-326">When this value approaches the size of their cache, you are likely to start seeing performance issues.</span></span> <span data-ttu-id="ae567-327">Rozpowszechniają danych wielu odłamków przy użyciu usługi pamięć podręczna premium, lub Uaktualnij do większy rozmiar pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="ae567-327">Distribute the data across multiple shards if you are using a premium cache, or upgrade to a larger cache size.</span></span>
   
   <span data-ttu-id="ae567-328">Aby uzyskać więcej informacji, zobacz [wykorzystania pamięci na serwerze](#memory-pressure-on-the-server).</span><span class="sxs-lookup"><span data-stu-id="ae567-328">For more information, see [Memory Pressure on the server](#memory-pressure-on-the-server).</span></span>

## <a name="additional-information"></a><span data-ttu-id="ae567-329">Dodatkowe informacje</span><span class="sxs-lookup"><span data-stu-id="ae567-329">Additional information</span></span>
* [<span data-ttu-id="ae567-330">Której oferty i jakiego rozmiaru usługi Redis Cache mam użyć?</span><span class="sxs-lookup"><span data-stu-id="ae567-330">What Redis Cache offering and size should I use?</span></span>](cache-faq.md#what-redis-cache-offering-and-size-should-i-use)
* [<span data-ttu-id="ae567-331">Jak testu wydajności i testowania wydajności Moje pamięci podręcznej?</span><span class="sxs-lookup"><span data-stu-id="ae567-331">How can I benchmark and test the performance of my cache?</span></span>](cache-faq.md#how-can-i-benchmark-and-test-the-performance-of-my-cache)
* [<span data-ttu-id="ae567-332">Jak uruchomić polecenia Redis?</span><span class="sxs-lookup"><span data-stu-id="ae567-332">How can I run Redis commands?</span></span>](cache-faq.md#how-can-i-run-redis-commands)
* [<span data-ttu-id="ae567-333">Jak monitorować pamięć podręczna Redis Azure</span><span class="sxs-lookup"><span data-stu-id="ae567-333">How to monitor Azure Redis Cache</span></span>](cache-how-to-monitor.md)

