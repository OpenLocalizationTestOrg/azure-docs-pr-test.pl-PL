---
title: "tootroubleshoot aaaHow pamięć podręczna Redis Azure | Dokumentacja firmy Microsoft"
description: "Dowiedz się, jak tooresolve typowe problemy związane z pamięcią podręczną Redis Azure."
services: redis-cache
documentationcenter: 
author: steved0x
manager: douge
editor: 
ms.assetid: 928b9b9c-d64f-4252-884f-af7ba8309af6
ms.service: cache
ms.workload: tbd
ms.tgt_pltfrm: cache-redis
ms.devlang: na
ms.topic: article
ms.date: 01/06/2017
ms.author: sdanie
ms.openlocfilehash: 4e736fce2b6d5200a2a8d802f3f1384b63458cab
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="how-tootroubleshoot-azure-redis-cache"></a><span data-ttu-id="10fe6-103">Jak tootroubleshoot Azure pamięci podręcznej Redis</span><span class="sxs-lookup"><span data-stu-id="10fe6-103">How tootroubleshoot Azure Redis Cache</span></span>
<span data-ttu-id="10fe6-104">Ten artykuł zawiera wskazówki dotyczące rozwiązywania hello następujące kategorie problemy z pamięcią podręczną Redis Azure.</span><span class="sxs-lookup"><span data-stu-id="10fe6-104">This article provides guidance for troubleshooting hello following categories of Azure Redis Cache issues.</span></span>

* <span data-ttu-id="10fe6-105">[Rozwiązywanie problemów po stronie klienta](#client-side-troubleshooting) — ta sekcja zawiera wskazówki dotyczące identyfikowania i rozwiązywania problemów spowodowanych aplikacji hello łączenie tooAzure pamięci podręcznej Redis.</span><span class="sxs-lookup"><span data-stu-id="10fe6-105">[Client side troubleshooting](#client-side-troubleshooting) - This section provides guidelines on identifying and resolving issues caused by hello application connecting tooAzure Redis Cache.</span></span>
* <span data-ttu-id="10fe6-106">[Rozwiązywanie problemów po stronie serwera](#server-side-troubleshooting) — ta sekcja zawiera wskazówki dotyczące identyfikowania i rozwiązywania problemów spowodował na powitania po stronie serwera pamięci podręcznej Redis Azure.</span><span class="sxs-lookup"><span data-stu-id="10fe6-106">[Server side troubleshooting](#server-side-troubleshooting) - This section provides guidelines on identifying and resolving issues caused on hello Azure Redis Cache server side.</span></span>
* <span data-ttu-id="10fe6-107">[Wyjątków przekroczenia limitu czasu w programie StackExchange.Redis](#stackexchangeredis-timeout-exceptions) — ta sekcja zawiera informacje dotyczące rozwiązywania problemów, gdy za pomocą hello programie StackExchange.Redis klienta.</span><span class="sxs-lookup"><span data-stu-id="10fe6-107">[StackExchange.Redis timeout exceptions](#stackexchangeredis-timeout-exceptions) - This section provides information on troubleshooting issues when using hello StackExchange.Redis client.</span></span>

> [!NOTE]
> <span data-ttu-id="10fe6-108">Kilka kroków w tym przewodniku rozwiązywania problemów hello instrukcje toorun Redis poleceń i monitorować różne metryki wydajności.</span><span class="sxs-lookup"><span data-stu-id="10fe6-108">Several of hello troubleshooting steps in this guide include instructions toorun Redis commands and monitor various performance metrics.</span></span> <span data-ttu-id="10fe6-109">Aby uzyskać więcej informacji oraz instrukcje, zobacz artykuły hello w hello [dodatkowe informacje](#additional-information) sekcji.</span><span class="sxs-lookup"><span data-stu-id="10fe6-109">For more information and instructions, see hello articles in hello [Additional information](#additional-information) section.</span></span>
> 
> 

## <a name="client-side-troubleshooting"></a><span data-ttu-id="10fe6-110">Rozwiązywanie problemów po stronie klienta</span><span class="sxs-lookup"><span data-stu-id="10fe6-110">Client side troubleshooting</span></span>
<span data-ttu-id="10fe6-111">W tej sekcji omówiono rozwiązywanie problemów, które wynika z warunkiem na powitania klienta aplikacji.</span><span class="sxs-lookup"><span data-stu-id="10fe6-111">This section discusses troubleshooting issues that occur because of a condition on hello client application.</span></span>

* [<span data-ttu-id="10fe6-112">Wykorzystania pamięci na powitania klienta</span><span class="sxs-lookup"><span data-stu-id="10fe6-112">Memory pressure on hello client</span></span>](#memory-pressure-on-the-client)
* [<span data-ttu-id="10fe6-113">Serii ruchu</span><span class="sxs-lookup"><span data-stu-id="10fe6-113">Burst of traffic</span></span>](#burst-of-traffic)
* [<span data-ttu-id="10fe6-114">Klient wysokie użycie procesora CPU</span><span class="sxs-lookup"><span data-stu-id="10fe6-114">High client CPU usage</span></span>](#high-client-cpu-usage)
* [<span data-ttu-id="10fe6-115">Przekroczona przepustowość po stronie klienta</span><span class="sxs-lookup"><span data-stu-id="10fe6-115">Client Side Bandwidth Exceeded</span></span>](#client-side-bandwidth-exceeded)
* [<span data-ttu-id="10fe6-116">Rozmiar dużych żądania/odpowiedzi</span><span class="sxs-lookup"><span data-stu-id="10fe6-116">Large Request/Response Size</span></span>](#large-requestresponse-size)
* [<span data-ttu-id="10fe6-117">Jakie wystąpiły toomy dane w pamięci podręcznej Redis?</span><span class="sxs-lookup"><span data-stu-id="10fe6-117">What happened toomy data in Redis?</span></span>](#what-happened-to-my-data-in-redis)

### <a name="memory-pressure-on-hello-client"></a><span data-ttu-id="10fe6-118">Wykorzystania pamięci na powitania klienta</span><span class="sxs-lookup"><span data-stu-id="10fe6-118">Memory pressure on hello client</span></span>
#### <a name="problem"></a><span data-ttu-id="10fe6-119">Problem</span><span class="sxs-lookup"><span data-stu-id="10fe6-119">Problem</span></span>
<span data-ttu-id="10fe6-120">Wykorzystania pamięci na komputerze klienckim hello prowadzi tooall rodzaje problemów z wydajnością, które mogą opóźnić proces przetwarzania danych, który został wysłany przez wystąpienie pamięci podręcznej Redis hello bez opóźnień.</span><span class="sxs-lookup"><span data-stu-id="10fe6-120">Memory pressure on hello client machine leads tooall kinds of performance problems that can delay processing of data that was sent by hello Redis instance without any delay.</span></span> <span data-ttu-id="10fe6-121">Gdy liczba trafień wykorzystania pamięci, hello system zwykle ma toopage dane z pamięci toovirtual pamięci fizycznej, która znajduje się na dysku.</span><span class="sxs-lookup"><span data-stu-id="10fe6-121">When memory pressure hits, hello system typically has toopage data from physical memory toovirtual memory which is on disk.</span></span> <span data-ttu-id="10fe6-122">To *spowodowaniem błędu strony* przyczyny hello tooslow systemu dół znacznie.</span><span class="sxs-lookup"><span data-stu-id="10fe6-122">This *page faulting* causes hello system tooslow down significantly.</span></span>

#### <a name="measurement"></a><span data-ttu-id="10fe6-123">Miary</span><span class="sxs-lookup"><span data-stu-id="10fe6-123">Measurement</span></span>
1. <span data-ttu-id="10fe6-124">Monitorowanie użycia pamięci w komputerze toomake się, że nie przekracza ilość dostępnej pamięci.</span><span class="sxs-lookup"><span data-stu-id="10fe6-124">Monitor memory usage on machine toomake sure that it does not exceed available memory.</span></span> 
2. <span data-ttu-id="10fe6-125">Monitor hello `Page Faults/Sec` licznika wydajności.</span><span class="sxs-lookup"><span data-stu-id="10fe6-125">Monitor hello `Page Faults/Sec` performance counter.</span></span> <span data-ttu-id="10fe6-126">Większość systemów będzie mieć niektórych błędów stron nawet podczas normalnego działania, tak obserwowania maksymalnej ten licznik wydajności błędów strony, które odpowiadają przekroczeń limitu czasu.</span><span class="sxs-lookup"><span data-stu-id="10fe6-126">Most systems will have some page faults even during normal operation, so watch for spikes in this page faults performance counter which correspond with timeouts.</span></span>

#### <a name="resolution"></a><span data-ttu-id="10fe6-127">Rozwiązanie</span><span class="sxs-lookup"><span data-stu-id="10fe6-127">Resolution</span></span>
<span data-ttu-id="10fe6-128">Uaktualnić klienta większy rozmiar maszyny Wirtualnej więcej pamięci tooa klienta lub dig do consuption użycia pamięci tooreduce wzorce z pamięci.</span><span class="sxs-lookup"><span data-stu-id="10fe6-128">Upgrade your client tooa larger client VM size with more memory or dig into your memory usage patterns tooreduce memory consuption.</span></span>

### <a name="burst-of-traffic"></a><span data-ttu-id="10fe6-129">Serii ruchu</span><span class="sxs-lookup"><span data-stu-id="10fe6-129">Burst of traffic</span></span>
#### <a name="problem"></a><span data-ttu-id="10fe6-130">Problem</span><span class="sxs-lookup"><span data-stu-id="10fe6-130">Problem</span></span>
<span data-ttu-id="10fe6-131">Seria ruchu w połączeniu z słaby `ThreadPool` ustawień może spowodować opóźnienia w przetwarzaniu danych już wysłane przez powitania serwera Redis, ale nie została jeszcze używane na powitania po stronie klienta.</span><span class="sxs-lookup"><span data-stu-id="10fe6-131">Bursts of traffic combined with poor `ThreadPool` settings can result in delays in processing data already sent by hello Redis Server but not yet consumed on hello client side.</span></span>

#### <a name="measurement"></a><span data-ttu-id="10fe6-132">Miary</span><span class="sxs-lookup"><span data-stu-id="10fe6-132">Measurement</span></span>
<span data-ttu-id="10fe6-133">Monitor jak Twoje `ThreadPool` statystyki zmieniać przy użyciu kodu [podobny](https://github.com/JonCole/SampleCode/blob/master/ThreadPoolMonitor/ThreadPoolLogger.cs).</span><span class="sxs-lookup"><span data-stu-id="10fe6-133">Monitor how your `ThreadPool` statistics change over time using code [like this](https://github.com/JonCole/SampleCode/blob/master/ThreadPoolMonitor/ThreadPoolLogger.cs).</span></span> <span data-ttu-id="10fe6-134">Można również sprawdzić hello `TimeoutException` wiadomości w programie StackExchange.Redis.</span><span class="sxs-lookup"><span data-stu-id="10fe6-134">You can also look at hello `TimeoutException` message from StackExchange.Redis.</span></span> <span data-ttu-id="10fe6-135">Oto przykład:</span><span class="sxs-lookup"><span data-stu-id="10fe6-135">Here is an example :</span></span>

    System.TimeoutException: Timeout performing EVAL, inst: 8, mgr: Inactive, queue: 0, qu: 0, qs: 0, qc: 0, wr: 0, wq: 0, in: 64221, ar: 0, 
    IOCP: (Busy=6,Free=999,Min=2,Max=1000), WORKER: (Busy=7,Free=8184,Min=2,Max=8191)

<span data-ttu-id="10fe6-136">Hello powyżej wiadomości istnieją pewne problemy, które mogą być interesujące:</span><span class="sxs-lookup"><span data-stu-id="10fe6-136">In hello above message, there are several issues that are interesting:</span></span>

1. <span data-ttu-id="10fe6-137">Zwróć uwagę, że hello w `IOCP` sekcji i hello `WORKER` sekcji masz `Busy` wartość, która jest większa niż hello `Min` wartość.</span><span class="sxs-lookup"><span data-stu-id="10fe6-137">Notice that in hello `IOCP` section and hello `WORKER` section you have a `Busy` value that is greater than hello `Min` value.</span></span> <span data-ttu-id="10fe6-138">Oznacza to, że Twoje `ThreadPool` ustawienia należy dostosowywania.</span><span class="sxs-lookup"><span data-stu-id="10fe6-138">This means that your `ThreadPool` settings need adjusting.</span></span>
2. <span data-ttu-id="10fe6-139">Możesz również sprawdzić `in: 64221`.</span><span class="sxs-lookup"><span data-stu-id="10fe6-139">You can also see `in: 64221`.</span></span> <span data-ttu-id="10fe6-140">Oznacza to, że 64211 bajtów odbieranych w hello jądra SSL, ale jeszcze nie zostały przeczytane przez aplikację hello (np. programie StackExchange.Redis).</span><span class="sxs-lookup"><span data-stu-id="10fe6-140">This indicates that 64211 bytes have been received at hello kernel socket layer but haven't yet been read by hello application (e.g. StackExchange.Redis).</span></span> <span data-ttu-id="10fe6-141">Zwykle oznacza to, że aplikacja będą nie jest odczytywania danych z hello sieci tak szybko, jak hello serwer wysyła on tooyou.</span><span class="sxs-lookup"><span data-stu-id="10fe6-141">This typically means that your application isn't reading data from hello network as quickly as hello server is sending it tooyou.</span></span>

#### <a name="resolution"></a><span data-ttu-id="10fe6-142">Rozwiązanie</span><span class="sxs-lookup"><span data-stu-id="10fe6-142">Resolution</span></span>
<span data-ttu-id="10fe6-143">Konfigurowanie sieci [ustawienia puli wątków](https://gist.github.com/JonCole/e65411214030f0d823cb) toomake się upewnić, że w puli wątków będzie skalowanie w górę szybko w obszarze serii scenariuszy.</span><span class="sxs-lookup"><span data-stu-id="10fe6-143">Configure your [ThreadPool Settings](https://gist.github.com/JonCole/e65411214030f0d823cb) toomake sure that your thread pool will scale up quickly under burst scenarios.</span></span>

### <a name="high-client-cpu-usage"></a><span data-ttu-id="10fe6-144">Klient wysokie użycie procesora CPU</span><span class="sxs-lookup"><span data-stu-id="10fe6-144">High client CPU usage</span></span>
#### <a name="problem"></a><span data-ttu-id="10fe6-145">Problem</span><span class="sxs-lookup"><span data-stu-id="10fe6-145">Problem</span></span>
<span data-ttu-id="10fe6-146">Wysokie użycie procesora CPU na powitania klienta jest wskazanie, że hello system nie może nadążyć z pracą hello, że ma został poproszony tooperform.</span><span class="sxs-lookup"><span data-stu-id="10fe6-146">High CPU usage on hello client is an indication that hello system cannot keep up with hello work that it has been asked tooperform.</span></span> <span data-ttu-id="10fe6-147">Oznacza to, że powitania klienta może się nie powieść tooprocess odpowiedzi z pamięci podręcznej Redis w odpowiednim czasie, mimo że Redis wysyłane odpowiedzi hello bardzo szybko.</span><span class="sxs-lookup"><span data-stu-id="10fe6-147">This means that hello client may fail tooprocess a response from Redis in a timely fashion even though Redis sent hello response very quickly.</span></span>

#### <a name="measurement"></a><span data-ttu-id="10fe6-148">Miary</span><span class="sxs-lookup"><span data-stu-id="10fe6-148">Measurement</span></span>
<span data-ttu-id="10fe6-149">Witaj Monitor użycia Procesora szeroki systemu za pośrednictwem portalu Azure hello lub hello skojarzonego licznika wydajności.</span><span class="sxs-lookup"><span data-stu-id="10fe6-149">Monitor hello System Wide CPU usage through hello Azure Portal or through hello associated performance counter.</span></span> <span data-ttu-id="10fe6-150">Należy zachować ostrożność nie toomonitor *procesu* Procesora, ponieważ jeden proces może mieć niskie użycie Procesora hello sam czasu, że całego systemu Procesora może być wysokie.</span><span class="sxs-lookup"><span data-stu-id="10fe6-150">Be careful not toomonitor *process* CPU because a single process can have low CPU usage at hello same time that overall system CPU can be high.</span></span> <span data-ttu-id="10fe6-151">Obserwowania maksymalnej wykorzystania Procesora, które odpowiadają przekroczeń limitu czasu.</span><span class="sxs-lookup"><span data-stu-id="10fe6-151">Watch for spikes in CPU usage that correspond with timeouts.</span></span> <span data-ttu-id="10fe6-152">Wyniku wysokiej Procesora może również zostać wyświetlony wysokiego `in: XXX` wartości w `TimeoutException` komunikaty o błędach zgodnie z opisem w hello [serii ruchu](#burst-of-traffic) sekcji.</span><span class="sxs-lookup"><span data-stu-id="10fe6-152">As a result of high CPU, you may also see high `in: XXX` values in `TimeoutException` error messages as described in hello [Burst of traffic](#burst-of-traffic) section.</span></span>

> [!NOTE]
> <span data-ttu-id="10fe6-153">Programie StackExchange.Redis 1.1.603 i nowszych obejmują hello `local-cpu` metryki w `TimeoutException` komunikaty o błędach.</span><span class="sxs-lookup"><span data-stu-id="10fe6-153">StackExchange.Redis 1.1.603 and later includes hello `local-cpu` metric in `TimeoutException` error messages.</span></span> <span data-ttu-id="10fe6-154">Upewnij się, używając najnowszej wersji hello hello [pakietu NuGet w programie StackExchange.Redis](https://www.nuget.org/packages/StackExchange.Redis/).</span><span class="sxs-lookup"><span data-stu-id="10fe6-154">Ensure you using hello latest version of hello [StackExchange.Redis NuGet package](https://www.nuget.org/packages/StackExchange.Redis/).</span></span> <span data-ttu-id="10fe6-155">Istnieją błędy stale ustalone w toomake kodu hello go bardziej niezawodne tootimeouts tak ważne jest posiadanie hello najnowszej wersji.</span><span class="sxs-lookup"><span data-stu-id="10fe6-155">There are bugs constantly being fixed in hello code toomake it more robust tootimeouts so having hello latest version is important.</span></span>
> 
> 

#### <a name="resolution"></a><span data-ttu-id="10fe6-156">Rozwiązanie</span><span class="sxs-lookup"><span data-stu-id="10fe6-156">Resolution</span></span>
<span data-ttu-id="10fe6-157">Uaktualnij tooa większy rozmiar maszyny Wirtualnej o większej pojemności procesora CPU lub zbadać przyczynę nagłego procesora CPU.</span><span class="sxs-lookup"><span data-stu-id="10fe6-157">Upgrade tooa larger VM size with more CPU capacity or investigate what is causing CPU spikes.</span></span> 

### <a name="client-side-bandwidth-exceeded"></a><span data-ttu-id="10fe6-158">Przekroczona przepustowość po stronie klienta</span><span class="sxs-lookup"><span data-stu-id="10fe6-158">Client side bandwidth exceeded</span></span>
#### <a name="problem"></a><span data-ttu-id="10fe6-159">Problem</span><span class="sxs-lookup"><span data-stu-id="10fe6-159">Problem</span></span>
<span data-ttu-id="10fe6-160">Komputery klienckie o rozmiarze różnych podlegają ograniczeniom na przepustowość sieci, ile mają one dostępne.</span><span class="sxs-lookup"><span data-stu-id="10fe6-160">Different sized client machines have limitations on how much network bandwidth they have available.</span></span> <span data-ttu-id="10fe6-161">Jeśli powitania klienta przekracza hello dostępnej przepustowości, a następnie dane nie zostaną przetworzone po stronie klienta hello tak szybko, jak serwer hello wysyła go.</span><span class="sxs-lookup"><span data-stu-id="10fe6-161">If hello client exceeds hello available bandwidth, then data will not be processed on hello client side as quickly as hello server is sending it.</span></span> <span data-ttu-id="10fe6-162">Może to spowodować tootimeouts.</span><span class="sxs-lookup"><span data-stu-id="10fe6-162">This can lead tootimeouts.</span></span>

#### <a name="measurement"></a><span data-ttu-id="10fe6-163">Miary</span><span class="sxs-lookup"><span data-stu-id="10fe6-163">Measurement</span></span>
<span data-ttu-id="10fe6-164">Monitorowanie, w jaki sposób zmienić wykorzystanie przepustowości sieci w czasie przy użyciu kodu [podobny](https://github.com/JonCole/SampleCode/blob/master/BandWidthMonitor/BandwidthLogger.cs).</span><span class="sxs-lookup"><span data-stu-id="10fe6-164">Monitor how your Bandwidth usage change over time using code [like this](https://github.com/JonCole/SampleCode/blob/master/BandWidthMonitor/BandwidthLogger.cs).</span></span> <span data-ttu-id="10fe6-165">Należy pamiętać, że ten kod, mogą nie działać prawidłowo w niektórych środowiskach z ograniczonymi uprawnieniami (np. witryny sieci web platformy Azure).</span><span class="sxs-lookup"><span data-stu-id="10fe6-165">Note that this code may not run successfully in some environments with restricted permissions (like Azure web sites).</span></span>

#### <a name="resolution"></a><span data-ttu-id="10fe6-166">Rozwiązanie</span><span class="sxs-lookup"><span data-stu-id="10fe6-166">Resolution</span></span>
<span data-ttu-id="10fe6-167">Zwiększ rozmiar maszyny Wirtualnej klienta lub zmniejszyć wykorzystanie przepustowości sieci.</span><span class="sxs-lookup"><span data-stu-id="10fe6-167">Increase Client VM size or reduce network bandwidth consumption.</span></span>

### <a name="large-requestresponse-size"></a><span data-ttu-id="10fe6-168">Rozmiar dużych żądania/odpowiedzi</span><span class="sxs-lookup"><span data-stu-id="10fe6-168">Large Request/Response Size</span></span>
#### <a name="problem"></a><span data-ttu-id="10fe6-169">Problem</span><span class="sxs-lookup"><span data-stu-id="10fe6-169">Problem</span></span>
<span data-ttu-id="10fe6-170">Duże żądanie/odpowiedź może spowodować przekroczeń limitu czasu.</span><span class="sxs-lookup"><span data-stu-id="10fe6-170">A large request/response can cause timeouts.</span></span> <span data-ttu-id="10fe6-171">Na przykład załóżmy, że skonfigurowany na komputerze klienckim wartość limitu czasu wynosi 1 s.</span><span class="sxs-lookup"><span data-stu-id="10fe6-171">As an example, Suppose your timeout value configured on your client is 1 second.</span></span> <span data-ttu-id="10fe6-172">Aplikacja żąda dwa klucze (np. "A" i "B") na powitania tym samym czasie (przy użyciu hello tego samego połączenia sieci fizycznej).</span><span class="sxs-lookup"><span data-stu-id="10fe6-172">Your application requests two keys (e.g. 'A' and 'B') at hello same time (using hello same physical network connection).</span></span> <span data-ttu-id="10fe6-173">Większość klientów obsługuje "Pipelining" żądań, w taki sposób, że zarówno żądania "A" i "B" są wysyłane na serwerze hello toohello danych przesyłanych w sieci, jeden po hello innych bez oczekiwania na odpowiedzi hello.</span><span class="sxs-lookup"><span data-stu-id="10fe6-173">Most clients support "Pipelining" of requests, such that both requests 'A' and 'B' are sent on hello wire toohello server one after hello other without waiting for hello responses.</span></span> <span data-ttu-id="10fe6-174">Witaj serwer będzie wysyłał hello odpowiedzi z powrotem w hello sam kolejności.</span><span class="sxs-lookup"><span data-stu-id="10fe6-174">hello server will send hello responses back in hello same order.</span></span> <span data-ttu-id="10fe6-175">Jeśli odpowiedzi "A" jest duży wystarczająco go pochłaniają większość hello przekroczenia limitu czasu dla kolejnych żądań.</span><span class="sxs-lookup"><span data-stu-id="10fe6-175">If response 'A' is large enough it can eat up most of hello timeout for subsequent requests.</span></span> 

<span data-ttu-id="10fe6-176">Witaj poniższy przykład pokazuje, w tym scenariuszu.</span><span class="sxs-lookup"><span data-stu-id="10fe6-176">hello following example demonstrates this scenario.</span></span> <span data-ttu-id="10fe6-177">W tym scenariuszu żądania "" i "B" są wysyłane szybkiego hello serwer jest uruchamiany szybkie wysyłanie odpowiedzi na "A" i "B", ale z powodu czasu przesyłania danych, 'B' zatrzymywane za hello inne żądania i limit, mimo że hello serwer zwrócił szybko.</span><span class="sxs-lookup"><span data-stu-id="10fe6-177">In this scenario, Request 'A' and 'B' are sent quickly, hello server starts sending responses 'A' and 'B' quickly, but because of data transfer times, 'B' get stuck behind hello other request and times out even though hello server responded quickly.</span></span>

    |-------- 1 Second Timeout (A)----------|
    |-Request A-|
         |-------- 1 Second Timeout (B) ----------|
         |-Request B-|
                |- Read Response A --------|
                                           |- Read Response B-| (**TIMEOUT**)



#### <a name="measurement"></a><span data-ttu-id="10fe6-178">Miary</span><span class="sxs-lookup"><span data-stu-id="10fe6-178">Measurement</span></span>
<span data-ttu-id="10fe6-179">To jest trudne, co toomeasure.</span><span class="sxs-lookup"><span data-stu-id="10fe6-179">This is a difficult one toomeasure.</span></span> <span data-ttu-id="10fe6-180">Zasadniczo masz tooinstrument Twojego kodu tootrack dużych żądań i odpowiedzi.</span><span class="sxs-lookup"><span data-stu-id="10fe6-180">You basically have tooinstrument your client code tootrack large requests and responses.</span></span> 

#### <a name="resolution"></a><span data-ttu-id="10fe6-181">Rozwiązanie</span><span class="sxs-lookup"><span data-stu-id="10fe6-181">Resolution</span></span>
1. <span data-ttu-id="10fe6-182">Redis jest zoptymalizowana pod kątem dużą liczbę małych wartości, zamiast kilku dużych wartości.</span><span class="sxs-lookup"><span data-stu-id="10fe6-182">Redis is optimized for a large number of small values, rather than a few large values.</span></span> <span data-ttu-id="10fe6-183">Witaj preferowane się, że rozwiązanie jest toobreak danych do powiązanych mniejsze wartości.</span><span class="sxs-lookup"><span data-stu-id="10fe6-183">hello preferred solution is toobreak up your data into related smaller values.</span></span> <span data-ttu-id="10fe6-184">Zobacz hello [co to jest zakres rozmiar idealny wartość hello redis? 100KB jest za duży? ](https://groups.google.com/forum/#!searchin/redis-db/size/redis-db/n7aa2A4DZDs/3OeEPHSQBAAJ) post szczegółowe wokół Dlaczego zalecane są mniejsze wartości.</span><span class="sxs-lookup"><span data-stu-id="10fe6-184">See hello [What is hello ideal value size range for redis? Is 100KB too large?](https://groups.google.com/forum/#!searchin/redis-db/size/redis-db/n7aa2A4DZDs/3OeEPHSQBAAJ) post for details around why smaller values are recommended.</span></span>
2. <span data-ttu-id="10fe6-185">Zwiększ rozmiar hello maszyny wirtualnej (w przypadku klienta i serwera pamięci podręcznej Redis) tooget wyższej przepustowości możliwości, zmniejszając danych transfer razy większy odpowiedzi.</span><span class="sxs-lookup"><span data-stu-id="10fe6-185">Increase hello size of your VM (for client and Redis Cache Server), tooget higher bandwidth capabilities, reducing data transfer times for larger responses.</span></span> <span data-ttu-id="10fe6-186">Należy pamiętać, tym wprowadzenie większą przepustowość na właśnie powitania serwera lub tylko na powitania klienta może nie być wystarczająca.</span><span class="sxs-lookup"><span data-stu-id="10fe6-186">Note that getting more bandwidth on just hello server or just on hello client may not be enough.</span></span> <span data-ttu-id="10fe6-187">Zmierz wykorzystanie przepustowości sieci i porównania go możliwości toohello hello rozmiaru maszyny wirtualnej ma obecnie.</span><span class="sxs-lookup"><span data-stu-id="10fe6-187">Measure your bandwidth usage and compare it toohello capabilities of hello size of VM you currently have.</span></span>
3. <span data-ttu-id="10fe6-188">Zwiększ liczbę hello `ConnectionMultiplexer` obiekty są użycia i okrężnego żądań za pośrednictwem różnych połączeń.</span><span class="sxs-lookup"><span data-stu-id="10fe6-188">Increase hello number of `ConnectionMultiplexer` objects you use and round-robin requests over different connections.</span></span>

### <a name="what-happened-toomy-data-in-redis"></a><span data-ttu-id="10fe6-189">Jakie wystąpiły toomy dane w pamięci podręcznej Redis?</span><span class="sxs-lookup"><span data-stu-id="10fe6-189">What happened toomy data in Redis?</span></span>
#### <a name="problem"></a><span data-ttu-id="10fe6-190">Problem</span><span class="sxs-lookup"><span data-stu-id="10fe6-190">Problem</span></span>
<span data-ttu-id="10fe6-191">Oczekiwana dla niektórych danych toobe w mojej wystąpienia pamięci podręcznej Redis Azure, ale nie wydaje się toobe.</span><span class="sxs-lookup"><span data-stu-id="10fe6-191">I expected for certain data toobe in my Azure Redis Cache instance but it didn't seem toobe there.</span></span>

#### <a name="resolution"></a><span data-ttu-id="10fe6-192">Rozwiązanie</span><span class="sxs-lookup"><span data-stu-id="10fe6-192">Resolution</span></span>
<span data-ttu-id="10fe6-193">Zobacz [wystąpił toomy danych w pamięci podręcznej Redis?](https://gist.github.com/JonCole/b6354d92a2d51c141490f10142884ea4#file-whathappenedtomydatainredis-md) możliwe przyczyny i rozwiązania.</span><span class="sxs-lookup"><span data-stu-id="10fe6-193">See [What happened toomy data in Redis?](https://gist.github.com/JonCole/b6354d92a2d51c141490f10142884ea4#file-whathappenedtomydatainredis-md) for possible causes and resolutions.</span></span>

## <a name="server-side-troubleshooting"></a><span data-ttu-id="10fe6-194">Rozwiązywanie problemów po stronie serwera</span><span class="sxs-lookup"><span data-stu-id="10fe6-194">Server side troubleshooting</span></span>
<span data-ttu-id="10fe6-195">W tej sekcji omówiono rozwiązywanie problemów, które wynika z warunkiem na powitania serwera pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="10fe6-195">This section discusses troubleshooting issues that occur because of a condition on hello cache server.</span></span>

* [<span data-ttu-id="10fe6-196">Wykorzystania pamięci na powitania serwera</span><span class="sxs-lookup"><span data-stu-id="10fe6-196">Memory Pressure on hello server</span></span>](#memory-pressure-on-the-server)
* [<span data-ttu-id="10fe6-197">Wysokie użycie procesora CPU / ładowania serwera</span><span class="sxs-lookup"><span data-stu-id="10fe6-197">High CPU usage / Server Load</span></span>](#high-cpu-usage-server-load)
* [<span data-ttu-id="10fe6-198">Przekroczona przepustowość po stronie serwera</span><span class="sxs-lookup"><span data-stu-id="10fe6-198">Server Side Bandwidth Exceeded</span></span>](#server-side-bandwidth-exceeded)

### <a name="memory-pressure-on-hello-server"></a><span data-ttu-id="10fe6-199">Wykorzystania pamięci na powitania serwera</span><span class="sxs-lookup"><span data-stu-id="10fe6-199">Memory Pressure on hello server</span></span>
#### <a name="problem"></a><span data-ttu-id="10fe6-200">Problem</span><span class="sxs-lookup"><span data-stu-id="10fe6-200">Problem</span></span>
<span data-ttu-id="10fe6-201">Wykorzystania pamięci na powitania po stronie serwera prowadzi tooall rodzaje problemów z wydajnością, które mogą opóźnić proces przetwarzania żądania.</span><span class="sxs-lookup"><span data-stu-id="10fe6-201">Memory pressure on hello server side leads tooall kinds of performance problems that can delay processing of requests.</span></span> <span data-ttu-id="10fe6-202">Gdy liczba trafień wykorzystania pamięci, hello system zwykle ma toopage dane z pamięci toovirtual pamięci fizycznej, która znajduje się na dysku.</span><span class="sxs-lookup"><span data-stu-id="10fe6-202">When memory pressure hits, hello system typically has toopage data from physical memory toovirtual memory which is on disk.</span></span> <span data-ttu-id="10fe6-203">To *spowodowaniem błędu strony* przyczyny hello tooslow systemu dół znacznie.</span><span class="sxs-lookup"><span data-stu-id="10fe6-203">This *page faulting* causes hello system tooslow down significantly.</span></span> <span data-ttu-id="10fe6-204">Istnieje kilka możliwych przyczyn tego wykorzystania pamięci:</span><span class="sxs-lookup"><span data-stu-id="10fe6-204">There are several possible causes of this memory pressure:</span></span> 

1. <span data-ttu-id="10fe6-205">Pojemność toofull pamięci podręcznej hello wypełnione z danymi.</span><span class="sxs-lookup"><span data-stu-id="10fe6-205">You have filled hello cache toofull capacity with data.</span></span> 
2. <span data-ttu-id="10fe6-206">Redis ma do czynienia fragmentacji pamięci wysokiej - Najczęstszą przyczyną przechowywania dużych obiektów (Redis jest zoptymalizowana pod kątem małych obiektów — Zobacz hello [co to jest zakres rozmiar idealny wartość hello redis? 100KB jest za duży? ](https://groups.google.com/forum/#!searchin/redis-db/size/redis-db/n7aa2A4DZDs/3OeEPHSQBAAJ) post, aby uzyskać szczegółowe informacje).</span><span class="sxs-lookup"><span data-stu-id="10fe6-206">Redis is seeing high memory fragmentation - most often caused by storing large objects (Redis is optimized for a small objects - See hello [What is hello ideal value size range for redis? Is 100KB too large?](https://groups.google.com/forum/#!searchin/redis-db/size/redis-db/n7aa2A4DZDs/3OeEPHSQBAAJ) post for details).</span></span> 

#### <a name="measurement"></a><span data-ttu-id="10fe6-207">Miary</span><span class="sxs-lookup"><span data-stu-id="10fe6-207">Measurement</span></span>
<span data-ttu-id="10fe6-208">Redis przedstawia dwa metryk, które mogą ułatwić identyfikację ten problem.</span><span class="sxs-lookup"><span data-stu-id="10fe6-208">Redis exposes two metrics that can help you identify this issue.</span></span> <span data-ttu-id="10fe6-209">najpierw jest Hello `used_memory` i innych hello jest `used_memory_rss`.</span><span class="sxs-lookup"><span data-stu-id="10fe6-209">hello first is `used_memory` and hello other is `used_memory_rss`.</span></span> <span data-ttu-id="10fe6-210">[Te metryki](cache-how-to-monitor.md#available-metrics-and-reporting-intervals) są dostępne w portalu Azure hello lub za pośrednictwem hello [Redis informacji](http://redis.io/commands/info) polecenia.</span><span class="sxs-lookup"><span data-stu-id="10fe6-210">[These metrics](cache-how-to-monitor.md#available-metrics-and-reporting-intervals) are available in hello Azure Portal or through hello [Redis INFO](http://redis.io/commands/info) command.</span></span>

#### <a name="resolution"></a><span data-ttu-id="10fe6-211">Rozwiązanie</span><span class="sxs-lookup"><span data-stu-id="10fe6-211">Resolution</span></span>
<span data-ttu-id="10fe6-212">Istnieje kilka możliwych zmian umożliwia użycie pamięci Zachowaj toohelp dobrej kondycji:</span><span class="sxs-lookup"><span data-stu-id="10fe6-212">There are several possible changes that you can make toohelp keep memory usage healthy:</span></span>

1. <span data-ttu-id="10fe6-213">[Skonfiguruj zasady pamięci](cache-configure.md#maxmemory-policy-and-maxmemory-reserved) i ustaw czas wygaśnięcia w Twoje klucze.</span><span class="sxs-lookup"><span data-stu-id="10fe6-213">[Configure a memory policy](cache-configure.md#maxmemory-policy-and-maxmemory-reserved) and set expiration times on your keys.</span></span> <span data-ttu-id="10fe6-214">Należy pamiętać, że to może nie być wystarczające, jeśli masz fragmentacji.</span><span class="sxs-lookup"><span data-stu-id="10fe6-214">Note that this may not be sufficient if you have fragmentation.</span></span>
2. <span data-ttu-id="10fe6-215">[Skonfiguruj wartość maxmemory zastrzeżone](cache-configure.md#maxmemory-policy-and-maxmemory-reserved) który jest wystarczająco duży toocompensate fragmentacji pamięci.</span><span class="sxs-lookup"><span data-stu-id="10fe6-215">[Configure a maxmemory-reserved value](cache-configure.md#maxmemory-policy-and-maxmemory-reserved) that is large enough toocompensate for memory fragmentation.</span></span>
3. <span data-ttu-id="10fe6-216">Rozdziel dużych obiektów pamięci podręcznej w mniejszych powiązanych obiektów.</span><span class="sxs-lookup"><span data-stu-id="10fe6-216">Break up your large cached objects into smaller related objects.</span></span>
4. <span data-ttu-id="10fe6-217">[Skala](cache-how-to-scale.md) tooa większy rozmiar pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="10fe6-217">[Scale](cache-how-to-scale.md) tooa larger cache size.</span></span>
5. <span data-ttu-id="10fe6-218">Jeśli używasz [premium pamięci podręcznej Redis klastra włączone](cache-how-to-premium-clustering.md) można [zwiększyć liczbę hello odłamków](cache-how-to-premium-clustering.md#change-the-cluster-size-on-a-running-premium-cache).</span><span class="sxs-lookup"><span data-stu-id="10fe6-218">If you are using a [premium cache with Redis cluster enabled](cache-how-to-premium-clustering.md) you can [increase hello number of shards](cache-how-to-premium-clustering.md#change-the-cluster-size-on-a-running-premium-cache).</span></span>

### <a name="high-cpu-usage--server-load"></a><span data-ttu-id="10fe6-219">Wysokie użycie procesora CPU / ładowania serwera</span><span class="sxs-lookup"><span data-stu-id="10fe6-219">High CPU usage / Server Load</span></span>
#### <a name="problem"></a><span data-ttu-id="10fe6-220">Problem</span><span class="sxs-lookup"><span data-stu-id="10fe6-220">Problem</span></span>
<span data-ttu-id="10fe6-221">Wysokie użycie Procesora może oznaczać, że powitania po stronie klienta może zakończyć się niepowodzeniem tooprocess odpowiedzi z pamięci podręcznej Redis w odpowiednim czasie, mimo że Redis wysyłane odpowiedzi hello bardzo szybko.</span><span class="sxs-lookup"><span data-stu-id="10fe6-221">High CPU usage can mean that hello client side can fail tooprocess a response from Redis in a timely fashion even though Redis sent hello response very quickly.</span></span>

#### <a name="measurement"></a><span data-ttu-id="10fe6-222">Miary</span><span class="sxs-lookup"><span data-stu-id="10fe6-222">Measurement</span></span>
<span data-ttu-id="10fe6-223">Witaj Monitor użycia Procesora szeroki systemu za pośrednictwem portalu Azure hello lub hello skojarzonego licznika wydajności.</span><span class="sxs-lookup"><span data-stu-id="10fe6-223">Monitor hello System Wide CPU usage through hello Azure Portal or through hello associated performance counter.</span></span> <span data-ttu-id="10fe6-224">Należy zachować ostrożność nie toomonitor *procesu* Procesora, ponieważ jeden proces może mieć niskie użycie Procesora hello sam czasu, że całego systemu Procesora może być wysokie.</span><span class="sxs-lookup"><span data-stu-id="10fe6-224">Be careful not toomonitor *process* CPU because a single process can have low CPU usage at hello same time that overall system CPU can be high.</span></span> <span data-ttu-id="10fe6-225">Obserwowania maksymalnej wykorzystania Procesora, które odpowiadają przekroczeń limitu czasu.</span><span class="sxs-lookup"><span data-stu-id="10fe6-225">Watch for spikes in CPU usage that correspond with timeouts.</span></span>

#### <a name="resolution"></a><span data-ttu-id="10fe6-226">Rozwiązanie</span><span class="sxs-lookup"><span data-stu-id="10fe6-226">Resolution</span></span>
<span data-ttu-id="10fe6-227">[Skala](cache-how-to-scale.md) tooa większą pamięć podręczną warstwy o większej pojemności procesora CPU lub zbadać, co jest przyczyną nagłego procesora CPU.</span><span class="sxs-lookup"><span data-stu-id="10fe6-227">[Scale](cache-how-to-scale.md) tooa larger cache tier with more CPU capacity or investigate what is causing CPU spikes.</span></span> 

### <a name="server-side-bandwidth-exceeded"></a><span data-ttu-id="10fe6-228">Przekroczona przepustowość po stronie serwera</span><span class="sxs-lookup"><span data-stu-id="10fe6-228">Server Side Bandwidth Exceeded</span></span>
#### <a name="problem"></a><span data-ttu-id="10fe6-229">Problem</span><span class="sxs-lookup"><span data-stu-id="10fe6-229">Problem</span></span>
<span data-ttu-id="10fe6-230">Wystąpienia inny rozmiar pamięci podręcznej mieć ograniczenia na przepustowość sieci, ile mają one dostępne.</span><span class="sxs-lookup"><span data-stu-id="10fe6-230">Different sized cache instances have limitations on how much network bandwidth they have available.</span></span> <span data-ttu-id="10fe6-231">Jeśli serwera hello przekracza dostępną przepustowość hello, następnie zostanie nie można wysłać danych klienta toohello tak szybko.</span><span class="sxs-lookup"><span data-stu-id="10fe6-231">If hello server exceeds hello available bandwidth, then data will not be sent toohello client as quickly.</span></span> <span data-ttu-id="10fe6-232">Może to spowodować tootimeouts.</span><span class="sxs-lookup"><span data-stu-id="10fe6-232">This can lead tootimeouts.</span></span>

#### <a name="measurement"></a><span data-ttu-id="10fe6-233">Miary</span><span class="sxs-lookup"><span data-stu-id="10fe6-233">Measurement</span></span>
<span data-ttu-id="10fe6-234">Można monitorować hello `Cache Read` metryki, czyli hello ilość danych odczytu z pamięci podręcznej hello w MB na sekundę (MB/s) w określonym interwale raportowania hello.</span><span class="sxs-lookup"><span data-stu-id="10fe6-234">You can monitor hello `Cache Read` metric, which is hello amount of data read from hello cache in Megabytes per second (MB/s) during hello specified reporting interval.</span></span> <span data-ttu-id="10fe6-235">Ta wartość odpowiada toohello przepustowość sieci używanych przez pamięć podręczną.</span><span class="sxs-lookup"><span data-stu-id="10fe6-235">This value corresponds toohello network bandwidth used by this cache.</span></span> <span data-ttu-id="10fe6-236">Jeśli chcesz tooset alerty dla limity przepustowości sieci po stronie serwera, można utworzyć je za pomocą tej `Cache Read` licznika.</span><span class="sxs-lookup"><span data-stu-id="10fe6-236">If you want tooset up alerts for server side network bandwidth limits, you can create them using this `Cache Read` counter.</span></span> <span data-ttu-id="10fe6-237">Porównaj z odczyty z wartościami hello w [tej tabeli](cache-faq.md#cache-performance) dla hello obserwowanych limity przepustowości dla różnych pamięci podręcznej ceny warstw i rozmiary.</span><span class="sxs-lookup"><span data-stu-id="10fe6-237">Compare your readings with hello values in [this table](cache-faq.md#cache-performance) for hello observed bandwidth limits for various cache pricing tiers and sizes.</span></span>

#### <a name="resolution"></a><span data-ttu-id="10fe6-238">Rozwiązanie</span><span class="sxs-lookup"><span data-stu-id="10fe6-238">Resolution</span></span>
<span data-ttu-id="10fe6-239">Jeśli jesteś spójnie niemal hello obserwowanych maksymalną przepustowość dla cenową rozmiar warstwy i pamięci podręcznej, należy wziąć pod uwagę [skalowanie](cache-how-to-scale.md) tooa cen warstwy lub rozmiar, która ma większą przepustowość sieci, używając wartości hello w [tej tabeli](cache-faq.md#cache-performance) jako przewodnika.</span><span class="sxs-lookup"><span data-stu-id="10fe6-239">If you are consistently near hello observed maximum bandwidth for your pricing tier and cache size, consider [scaling](cache-how-to-scale.md) tooa pricing tier or size that has greater network bandwidth, using hello values in [this table](cache-faq.md#cache-performance) as a guide.</span></span>

## <a name="stackexchangeredis-timeout-exceptions"></a><span data-ttu-id="10fe6-240">Wyjątków przekroczenia limitu czasu w programie StackExchange.Redis</span><span class="sxs-lookup"><span data-stu-id="10fe6-240">StackExchange.Redis timeout exceptions</span></span>
<span data-ttu-id="10fe6-241">Programie StackExchange.Redis używa konfiguracji ustawienie o nazwie `synctimeout` dla operacji synchronicznych, które ma wartość domyślną 1000 ms.</span><span class="sxs-lookup"><span data-stu-id="10fe6-241">StackExchange.Redis uses a configuration setting named `synctimeout` for synchronous operations which has a default value  of 1000 ms.</span></span> <span data-ttu-id="10fe6-242">Jeśli wywołania synchronicznego nie została zakończona w hello ustalić czas hello programie StackExchange.Redis klienta zgłasza limitu czasu błąd toohello podobne, poniższy przykład.</span><span class="sxs-lookup"><span data-stu-id="10fe6-242">If a synchronous call doesn’t complete in hello stipulated time, hello StackExchange.Redis client throws a timeout error similar toohello following example.</span></span>

    System.TimeoutException: Timeout performing MGET 2728cc84-58ae-406b-8ec8-3f962419f641, inst: 1,mgr: Inactive, queue: 73, qu=6, qs=67, qc=0, wr=1/1, in=0/0 IOCP: (Busy=6, Free=999, Min=2,Max=1000), WORKER (Busy=7,Free=8184,Min=2,Max=8191)


<span data-ttu-id="10fe6-243">Ten komunikat o błędzie zawiera metryki, które pozwalają wskazać przyczynę i możliwe rozwiązania toohello hello problemu.</span><span class="sxs-lookup"><span data-stu-id="10fe6-243">This error message contains metrics that can help point you toohello cause and possible resolution of hello issue.</span></span> <span data-ttu-id="10fe6-244">Witaj Poniższa tabela zawiera szczegółowe informacje o hello błąd komunikat metryki.</span><span class="sxs-lookup"><span data-stu-id="10fe6-244">hello following table contains details about hello error message metrics.</span></span>

| <span data-ttu-id="10fe6-245">Metryka komunikat błędu</span><span class="sxs-lookup"><span data-stu-id="10fe6-245">Error message metric</span></span> | <span data-ttu-id="10fe6-246">Szczegóły</span><span class="sxs-lookup"><span data-stu-id="10fe6-246">Details</span></span> |
| --- | --- |
| <span data-ttu-id="10fe6-247">inst</span><span class="sxs-lookup"><span data-stu-id="10fe6-247">inst</span></span> |<span data-ttu-id="10fe6-248">W hello ostatni przedział czasu: 0 polecenia zostały wydane</span><span class="sxs-lookup"><span data-stu-id="10fe6-248">In hello last time slice: 0 commands have been issued</span></span> |
| <span data-ttu-id="10fe6-249">Mgr</span><span class="sxs-lookup"><span data-stu-id="10fe6-249">mgr</span></span> |<span data-ttu-id="10fe6-250">Menedżer gniazda Hello wykonuje `socket.select` co oznacza, że jest zapytaniem tooindicate hello systemu operacyjnego gniazda, który ma element toodo; zasadniczo: hello czytnik nie jest aktywnie odczytu z sieci hello w ponieważ go nie wziąć pod uwagę coś toodo</span><span class="sxs-lookup"><span data-stu-id="10fe6-250">hello socket manager is performing `socket.select` which means it is asking hello OS tooindicate a socket that has something toodo; basically: hello reader is not actively reading from hello network because it doesn't think there is anything toodo</span></span> |
| <span data-ttu-id="10fe6-251">Kolejki</span><span class="sxs-lookup"><span data-stu-id="10fe6-251">queue</span></span> |<span data-ttu-id="10fe6-252">73 całkowita operacji w toku</span><span class="sxs-lookup"><span data-stu-id="10fe6-252">There are 73 total in-progress operations</span></span> |
| <span data-ttu-id="10fe6-253">Ustawienia kol</span><span class="sxs-lookup"><span data-stu-id="10fe6-253">qu</span></span> |<span data-ttu-id="10fe6-254">6 hello w trakcie wykonywania operacji w kolejce niewysłane hello i nie zostały jeszcze jeszcze zapisane toohello wychodzących sieci</span><span class="sxs-lookup"><span data-stu-id="10fe6-254">6 of hello in-progress operations are in hello unsent queue and have not yet been written toohello outbound network</span></span> |
| <span data-ttu-id="10fe6-255">QS</span><span class="sxs-lookup"><span data-stu-id="10fe6-255">qs</span></span> |<span data-ttu-id="10fe6-256">67 he trwające operacje zostały wysłane toohello serwera, ale odpowiedź nie jest jeszcze dostępna.</span><span class="sxs-lookup"><span data-stu-id="10fe6-256">67 of he in-progress operations have been sent toohello server but a response is not yet available.</span></span> <span data-ttu-id="10fe6-257">Witaj odpowiedzi może być `Not yet sent by hello server` lub`sent by hello server but not yet processed by hello client.`</span><span class="sxs-lookup"><span data-stu-id="10fe6-257">hello response could be `Not yet sent by hello server` or `sent by hello server but not yet processed by hello client.`</span></span> |
| <span data-ttu-id="10fe6-258">QC</span><span class="sxs-lookup"><span data-stu-id="10fe6-258">qc</span></span> |<span data-ttu-id="10fe6-259">0 hello w trakcie wykonywania operacji odpowiedzi jak już wspomniano, ale nie jeszcze zostały oznaczone jako zakończone powodu toowaiting hello zakończenia pętli</span><span class="sxs-lookup"><span data-stu-id="10fe6-259">0 of hello in-progress operations have seen replies but have not yet been marked as complete due toowaiting on hello completion loop</span></span> |
| <span data-ttu-id="10fe6-260">wR</span><span class="sxs-lookup"><span data-stu-id="10fe6-260">wr</span></span> |<span data-ttu-id="10fe6-261">Brak aktywnych składnika zapisywania (co oznacza hello 6 niewysłane żądania nie są ignorowane) bajty/activewriters</span><span class="sxs-lookup"><span data-stu-id="10fe6-261">There is an active writer (meaning hello 6 unsent requests are not being ignored) bytes/activewriters</span></span> |
| <span data-ttu-id="10fe6-262">W</span><span class="sxs-lookup"><span data-stu-id="10fe6-262">in</span></span> |<span data-ttu-id="10fe6-263">Nie ma żadnych aktywnych czytników i zero bajtów są dostępne toobe odczytu na powitania kart bajty/activereaders</span><span class="sxs-lookup"><span data-stu-id="10fe6-263">There are no active readers and zero bytes are available toobe read on hello NIC bytes/activereaders</span></span> |

### <a name="steps-tooinvestigate"></a><span data-ttu-id="10fe6-264">Kroki tooinvestigate</span><span class="sxs-lookup"><span data-stu-id="10fe6-264">Steps tooinvestigate</span></span>
1. <span data-ttu-id="10fe6-265">Jako najlepsze rozwiązanie upewnij się, że używasz powitania po tooconnect wzorzec, korzystając z klienta programie StackExchange.Redis hello.</span><span class="sxs-lookup"><span data-stu-id="10fe6-265">As a best practice make sure you are using hello following pattern tooconnect when using hello StackExchange.Redis client.</span></span>

    ```c#
    private static Lazy<ConnectionMultiplexer> lazyConnection = new Lazy<ConnectionMultiplexer>(() =>
    {
        return ConnectionMultiplexer.Connect("cachename.redis.cache.windows.net,abortConnect=false,ssl=true,password=...");
    
    });
    
    public static ConnectionMultiplexer Connection
    {
        get
        {
            return lazyConnection.Value;
        }
    }
    ````

    <span data-ttu-id="10fe6-266">Aby uzyskać więcej informacji, zobacz [połączyć toohello pamięci podręcznej za pomocą programie StackExchange.Redis](cache-dotnet-how-to-use-azure-redis-cache.md#connect-to-the-cache).</span><span class="sxs-lookup"><span data-stu-id="10fe6-266">For more information, see [Connect toohello cache using StackExchange.Redis](cache-dotnet-how-to-use-azure-redis-cache.md#connect-to-the-cache).</span></span>

1. <span data-ttu-id="10fe6-267">Upewnij się, że pamięć podręczna Redis Azure i aplikacji klienckiej hello są w hello tego samego regionu w systemie Azure.</span><span class="sxs-lookup"><span data-stu-id="10fe6-267">Ensure that your Azure Redis Cache and hello client application are in hello same region in Azure.</span></span> <span data-ttu-id="10fe6-268">Na przykład możesz może występować limity czasu gdy pamięć podręczna jest wschodnie stany USA, ale klient hello jest zachodnie stany USA i hello żądania nie zakończyła się w ciągu hello `synctimeout` interwał lub użytkownik może uzyskać przekroczeń limitu czasu podczas debugowania z komputera lokalnego rozwoju.</span><span class="sxs-lookup"><span data-stu-id="10fe6-268">For example, you might be getting timeouts when your cache is in East US but hello client is in West US and hello request doesn't complete within hello `synctimeout` interval or you might be getting timeouts when you are debugging from your local development machine.</span></span> 
   
    <span data-ttu-id="10fe6-269">Jest zdecydowanie zalecane toohave hello w pamięci podręcznej, a w kliencie hello w hello sam region platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="10fe6-269">It’s highly recommended toohave hello cache and in hello client in hello same Azure region.</span></span> <span data-ttu-id="10fe6-270">Jeśli scenariusz, który zawiera wywołań między regionu, należy ustawić hello `synctimeout` interwał tooa wartość większą niż hello domyślny 1000 ms interwał, umieszczając w niej `synctimeout` właściwości w parametrach połączenia hello.</span><span class="sxs-lookup"><span data-stu-id="10fe6-270">If you have a scenario that includes cross region calls, you should set hello `synctimeout` interval tooa value higher than hello default 1000 ms interval by including a `synctimeout` property in hello connection string.</span></span> <span data-ttu-id="10fe6-271">Witaj poniższy przykład przedstawia fragment ciągu połączenia programie StackExchange.Redis pamięci podręcznej z `synctimeout` z 2000 ms.</span><span class="sxs-lookup"><span data-stu-id="10fe6-271">hello following example shows a StackExchange.Redis cache connection string snippet with a `synctimeout` of 2000 ms.</span></span>
   
        synctimeout=2000,cachename.redis.cache.windows.net,abortConnect=false,ssl=true,password=...
2. <span data-ttu-id="10fe6-272">Upewnij się, używając najnowszej wersji hello hello [pakietu NuGet w programie StackExchange.Redis](https://www.nuget.org/packages/StackExchange.Redis/).</span><span class="sxs-lookup"><span data-stu-id="10fe6-272">Ensure you using hello latest version of hello [StackExchange.Redis NuGet package](https://www.nuget.org/packages/StackExchange.Redis/).</span></span> <span data-ttu-id="10fe6-273">Istnieją błędy stale ustalone w toomake kodu hello go bardziej niezawodne tootimeouts tak ważne jest posiadanie hello najnowszej wersji.</span><span class="sxs-lookup"><span data-stu-id="10fe6-273">There are bugs constantly being fixed in hello code toomake it more robust tootimeouts so having hello latest version is important.</span></span>
3. <span data-ttu-id="10fe6-274">W przypadku żądań pobierania powiązanych przez ograniczenia przepustowości na powitania serwera lub klienta będzie trwało dłużej dla nich toocomplete i spowodować przekroczeń limitu czasu.</span><span class="sxs-lookup"><span data-stu-id="10fe6-274">If there are requests that are getting bound by bandwidth limitations on hello server or client, it will take longer for them toocomplete and thereby cause timeouts.</span></span> <span data-ttu-id="10fe6-275">toosee Twojego limitu czasu jest powodu toonetwork przepustowość na powitania serwera, zobacz [Przekroczona przepustowość po stronie serwera](#server-side-bandwidth-exceeded).</span><span class="sxs-lookup"><span data-stu-id="10fe6-275">toosee if your timeout is due toonetwork bandwidth on hello server, see [Server side bandwidth exceeded](#server-side-bandwidth-exceeded).</span></span> <span data-ttu-id="10fe6-276">toosee w przypadku czasu z powodu tooclient przepustowość sieci, zobacz [Przekroczona przepustowość po stronie klienta](#client-side-bandwidth-exceeded).</span><span class="sxs-lookup"><span data-stu-id="10fe6-276">toosee if your timeout is due tooclient network bandwidth, see [Client side bandwidth exceeded](#client-side-bandwidth-exceeded).</span></span>
4. <span data-ttu-id="10fe6-277">Na serwerze hello lub na powitania klienta możesz pobierania Procesora powiązanych?</span><span class="sxs-lookup"><span data-stu-id="10fe6-277">Are you getting CPU bound on hello server or on hello client?</span></span>
   
   * <span data-ttu-id="10fe6-278">Sprawdź, czy możesz pobierania powiązanych przez procesor CPU na komputerze klienckim, co może spowodować hello toonot żądania przetwarzane w ramach hello `synctimeout` interwał, powodując przekroczenie limitu czasu.</span><span class="sxs-lookup"><span data-stu-id="10fe6-278">Check if you are getting bound by CPU on your client which could cause hello request toonot be processed within hello `synctimeout` interval, thus causing a timeout.</span></span> <span data-ttu-id="10fe6-279">Przenoszenie tooa większego rozmiaru klienta lub dystrybucji obciążenia hello może pomóc toocontrol to.</span><span class="sxs-lookup"><span data-stu-id="10fe6-279">Moving tooa larger client size or distributing hello load can help toocontrol this.</span></span> 
   * <span data-ttu-id="10fe6-280">Sprawdź, czy występują procesora CPU związane na powitania serwera monitorowania hello `CPU` [pamięci podręcznej metryki wydajności](cache-how-to-monitor.md#available-metrics-and-reporting-intervals).</span><span class="sxs-lookup"><span data-stu-id="10fe6-280">Check if you are getting CPU bound on hello server by monitoring hello `CPU` [cache performance metric](cache-how-to-monitor.md#available-metrics-and-reporting-intervals).</span></span> <span data-ttu-id="10fe6-281">Żądań przychodzących, gdy Redis jest powiązane z Procesora może powodować te żądania tootimeout.</span><span class="sxs-lookup"><span data-stu-id="10fe6-281">Requests coming in while Redis is CPU bound can cause those requests tootimeout.</span></span> <span data-ttu-id="10fe6-282">tooaddress to można rozpowszechniać hello obciążenia w wielu fragmentów w pamięci podręcznej premium lub uaktualnienie tooa większy rozmiar lub warstwy cenowej.</span><span class="sxs-lookup"><span data-stu-id="10fe6-282">tooaddress this you can distribute hello load across multiple shards in a premium cache, or upgrade tooa larger size or pricing tier.</span></span> <span data-ttu-id="10fe6-283">Aby uzyskać więcej informacji, zobacz [Przekroczona przepustowość po stronie serwera](#server-side-bandwidth-exceeded).</span><span class="sxs-lookup"><span data-stu-id="10fe6-283">For more information, see [Server Side Bandwidth Exceeded](#server-side-bandwidth-exceeded).</span></span>
5. <span data-ttu-id="10fe6-284">Istnieją polecenia biorąc tooprocess dużo czasu na powitania serwera?</span><span class="sxs-lookup"><span data-stu-id="10fe6-284">Are there commands taking long time tooprocess on hello server?</span></span> <span data-ttu-id="10fe6-285">Czas uruchamiania poleceń, które trwa długo tooprocess na serwer redis hello może spowodować przekroczeń limitu czasu.</span><span class="sxs-lookup"><span data-stu-id="10fe6-285">Long running commands that are taking long time tooprocess on hello redis-server can cause timeouts.</span></span> <span data-ttu-id="10fe6-286">Oto kilka przykładów poleceń długotrwała `mget` z dużą liczbę kluczy, `keys *` lub niepoprawnie napisane skrypty lua.</span><span class="sxs-lookup"><span data-stu-id="10fe6-286">Some examples of long running commands are `mget` with large numbers of keys, `keys *` or poorly written lua scripts.</span></span> <span data-ttu-id="10fe6-287">Możesz połączyć tooyour wystąpienia pamięci podręcznej Redis Azure za pomocą klienta infrastruktury cli redis hello lub użyć hello [Redis konsoli](cache-configure.md#redis-console) i wykonywania hello [SlowLog](http://redis.io/commands/slowlog) toosee polecenia, jeśli istnieją żądania trwa dłużej niż oczekiwano.</span><span class="sxs-lookup"><span data-stu-id="10fe6-287">You can connect tooyour Azure Redis Cache instance using hello redis-cli client or use hello [Redis Console](cache-configure.md#redis-console) and run hello [SlowLog](http://redis.io/commands/slowlog) command toosee if there are requests taking longer than expected.</span></span> <span data-ttu-id="10fe6-288">Serwer redis i programie StackExchange.Redis są zoptymalizowane pod kątem wiele żądań małych zamiast mniej dużych żądania.</span><span class="sxs-lookup"><span data-stu-id="10fe6-288">Redis Server and StackExchange.Redis are optimized for many small requests rather than fewer large requests.</span></span> <span data-ttu-id="10fe6-289">Podział na mniejsze fragmenty danych może zwiększyć rzeczy w tym miejscu.</span><span class="sxs-lookup"><span data-stu-id="10fe6-289">Splitting your data into smaller chunks may improve things here.</span></span> 
   
    <span data-ttu-id="10fe6-290">Informacje dotyczące łączenia punkt końcowy SSL pamięci podręcznej Redis Azure toohello przy użyciu interfejsu wiersza polecenia redis i stunnel, zobacz hello [Announcing ASP.NET dostawcę stanu sesji dla wersji zapoznawczej Redis](http://blogs.msdn.com/b/webdev/archive/2014/05/12/announcing-asp-net-session-state-provider-for-redis-preview-release.aspx) wpis w blogu.</span><span class="sxs-lookup"><span data-stu-id="10fe6-290">For information on connecting toohello Azure Redis Cache SSL endpoint using redis-cli and stunnel, see hello [Announcing ASP.NET Session State Provider for Redis Preview Release](http://blogs.msdn.com/b/webdev/archive/2014/05/12/announcing-asp-net-session-state-provider-for-redis-preview-release.aspx) blog post.</span></span> <span data-ttu-id="10fe6-291">Aby uzyskać więcej informacji, zobacz [SlowLog](http://redis.io/commands/slowlog).</span><span class="sxs-lookup"><span data-stu-id="10fe6-291">For more information, see [SlowLog](http://redis.io/commands/slowlog).</span></span>
6. <span data-ttu-id="10fe6-292">Wysokie obciążenie serwera pamięci podręcznej Redis może spowodować przekroczeń limitu czasu.</span><span class="sxs-lookup"><span data-stu-id="10fe6-292">High Redis server load can cause timeouts.</span></span> <span data-ttu-id="10fe6-293">Można monitorować obciążenie serwera hello monitorowania hello `Redis Server Load` [pamięci podręcznej metryki wydajności](cache-how-to-monitor.md#available-metrics-and-reporting-intervals).</span><span class="sxs-lookup"><span data-stu-id="10fe6-293">You can monitor hello server load by monitoring hello `Redis Server Load` [cache performance metric](cache-how-to-monitor.md#available-metrics-and-reporting-intervals).</span></span> <span data-ttu-id="10fe6-294">Obciążenie serwera, 100 (wartość maksymalna) oznacza, czy ten serwer redis hello został zajęty, bez czasu bezczynności, przetwarzanie żądań.</span><span class="sxs-lookup"><span data-stu-id="10fe6-294">A server load of 100 (maximum value) signifies that hello redis server has been busy, with no idle time, processing requests.</span></span> <span data-ttu-id="10fe6-295">toosee w przypadku niektórych żądań zajmują się wszystkich funkcji serwera hello, uruchom polecenie SlowLog hello, zgodnie z opisem w poprzednim akapicie hello.</span><span class="sxs-lookup"><span data-stu-id="10fe6-295">toosee if certain requests are taking up all of hello server capability, run hello SlowLog command, as described in hello previous paragraph.</span></span> <span data-ttu-id="10fe6-296">Aby uzyskać więcej informacji, zobacz [użycie procesora CPU wysoka / Server załadować](#high-cpu-usage-server-load).</span><span class="sxs-lookup"><span data-stu-id="10fe6-296">For more information, see [High CPU usage / Server Load](#high-cpu-usage-server-load).</span></span>
7. <span data-ttu-id="10fe6-297">Na powitania po stronie klienta, który może to być spowodowane blip sieci były inne zdarzenia?</span><span class="sxs-lookup"><span data-stu-id="10fe6-297">Was there any other event on hello client side that could have caused a network blip?</span></span> <span data-ttu-id="10fe6-298">Sprawdź na powitania klienta (sieć web, rolę procesu roboczego lub maszyn wirtualnych Iaas), jeśli został zdarzeń, takich jak skalowanie hello liczbą wystąpień klienta w górę lub w dół lub wdrażania nowej wersji klienta hello lub automatyczne skalowanie jest włączone? Podczas testów zostały znalezione, może spowodować błąd automatycznego skalowania lub skalowanie w górę/dół łączności sieciowej wychodzącego mogą zostać utracone przez kilka sekund.</span><span class="sxs-lookup"><span data-stu-id="10fe6-298">Check on hello client (web, worker role or an Iaas VM) if there was an event like scaling hello number of client instances up or down, or deploying a new version of hello client or auto-scale is enabled?In our testing we have found that autoscale or scaling up/down can cause outbound network connectivity can be lost for several seconds.</span></span> <span data-ttu-id="10fe6-299">Kod programie StackExchange.Redis jest odporność toosuch zdarzeń i połączy się ponownie.</span><span class="sxs-lookup"><span data-stu-id="10fe6-299">StackExchange.Redis code is resilient toosuch events and will reconnect.</span></span> <span data-ttu-id="10fe6-300">W tym czasie ponowne połączenie żądań w kolejce hello może upłynął limit czasu.</span><span class="sxs-lookup"><span data-stu-id="10fe6-300">During this time of re-connection any requests in hello queue can time out.</span></span>
8. <span data-ttu-id="10fe6-301">Były poprzedzających kilka toohello małych żądań pamięci podręcznej Redis, który upłynął limit czasu żądania duży? Witaj parametru `qs` omyłkowo hello komunikat informujący, ile żądań zostały wysłane z powitania klienta toohello serwera, ale odpowiedź nie jest jeszcze przetworzone.</span><span class="sxs-lookup"><span data-stu-id="10fe6-301">Was there a big request preceding several small requests toohello Redis Cache that timed out? hello parameter `qs` in hello error message tells you how many requests were sent from hello client toohello server, but have not yet processed a response.</span></span> <span data-ttu-id="10fe6-302">Ta wartość może rosnące, ponieważ w programie StackExchange.Redis używa pojedynczego połączenia TCP i może odczytać tylko jedna odpowiedź w czasie.</span><span class="sxs-lookup"><span data-stu-id="10fe6-302">This value can keep growing because StackExchange.Redis uses a single TCP connection and can only read one response at a time.</span></span> <span data-ttu-id="10fe6-303">Mimo że przekroczono limit czasu operacji pierwszy hello, nie zatrzymuje hello dane wysyłane z serwera hello, a inne żądania są zablokowane, aż do jej zakończeniu, co powoduje limity czasu.</span><span class="sxs-lookup"><span data-stu-id="10fe6-303">Even though hello first operation timed out, it does not stop hello data being sent to/from hello server, and other requests are blocked until this is finished, causing time outs.</span></span> <span data-ttu-id="10fe6-304">Jedno rozwiązanie jest ryzyko hello toominimize limitów czasu zapewnia, że pamięć podręczna jest wystarczająco duży dla obciążenia i dzielenia dużych wartości na mniejsze fragmenty.</span><span class="sxs-lookup"><span data-stu-id="10fe6-304">One solution is toominimize hello chance of timeouts by ensuring that your cache is large enough for your workload and splitting large values into smaller chunks.</span></span> <span data-ttu-id="10fe6-305">Innym rozwiązaniem możliwe jest toouse puli `ConnectionMultiplexer` obiektów na kliencie, a następnie wybierz pozycję hello najmniej załadować `ConnectionMultiplexer` wysyłając żądanie nowego.</span><span class="sxs-lookup"><span data-stu-id="10fe6-305">Another possible solution is toouse a pool of `ConnectionMultiplexer` objects in your client, and choose hello least loaded `ConnectionMultiplexer` when sending a new request.</span></span> <span data-ttu-id="10fe6-306">To powinno zapobiec pojedynczego limitu czasu powoduje timeout tooalso innych żądań.</span><span class="sxs-lookup"><span data-stu-id="10fe6-306">This should prevent a single timeout from causing other requests tooalso timeout.</span></span>
9. <span data-ttu-id="10fe6-307">Jeśli używasz `RedisSessionStateprovider`, upewnij się, ma limit ponownych prób hello zostały prawidłowo skonfigurowane.</span><span class="sxs-lookup"><span data-stu-id="10fe6-307">If you are using `RedisSessionStateprovider`, ensure you have set hello retry timeout correctly.</span></span> <span data-ttu-id="10fe6-308">`retrytimeoutInMilliseconds`powinien być większy niż `operationTimeoutinMilliseonds`, w przeciwnym razie wystąpi brak ponownych prób.</span><span class="sxs-lookup"><span data-stu-id="10fe6-308">`retrytimeoutInMilliseconds` should be higher than `operationTimeoutinMilliseonds`, otherwise no retries will occur.</span></span> <span data-ttu-id="10fe6-309">W hello poniższy przykład `retrytimeoutInMilliseconds` ustawiono too3000.</span><span class="sxs-lookup"><span data-stu-id="10fe6-309">In hello following example `retrytimeoutInMilliseconds` is set too3000.</span></span> <span data-ttu-id="10fe6-310">Aby uzyskać więcej informacji, zobacz [dostawcę stanu sesji ASP.NET dla pamięci podręcznej Redis Azure](cache-aspnet-session-state-provider.md) i [jak toouse hello parametry konfiguracji dostawcy stanu sesji i dostawcy wyjściowej pamięci podręcznej](https://github.com/Azure/aspnet-redis-providers/wiki/Configuration).</span><span class="sxs-lookup"><span data-stu-id="10fe6-310">For more information, see [ASP.NET Session State Provider for Azure Redis Cache](cache-aspnet-session-state-provider.md) and [How toouse hello configuration parameters of Session State Provider and Output Cache Provider](https://github.com/Azure/aspnet-redis-providers/wiki/Configuration).</span></span>

    <add
      name="AFRedisCacheSessionStateProvider"
      type="Microsoft.Web.Redis.RedisSessionStateProvider"
      host="enbwcache.redis.cache.windows.net"
      port="6380"
      accessKey="…"
      ssl="true"
      databaseId="0"
      applicationName="AFRedisCacheSessionState"
      connectionTimeoutInMilliseconds = "5000"
      operationTimeoutInMilliseconds = "1000"
      retryTimeoutInMilliseconds="3000" />


1. <span data-ttu-id="10fe6-311">Sprawdź użycie pamięci na serwerze usługi pamięć podręczna Redis Azure hello przez [monitorowania](cache-how-to-monitor.md#available-metrics-and-reporting-intervals) `Used Memory RSS` i `Used Memory`.</span><span class="sxs-lookup"><span data-stu-id="10fe6-311">Check memory usage on hello Azure Redis Cache server by [monitoring](cache-how-to-monitor.md#available-metrics-and-reporting-intervals) `Used Memory RSS` and `Used Memory`.</span></span> <span data-ttu-id="10fe6-312">Czy zasady wykluczania znajduje się w miejscu, rozpoczyna się Redis wykluczania kluczy podczas `Used_Memory` osiągnie hello rozmiar pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="10fe6-312">If an eviction policy is in place, Redis starts evicting keys when `Used_Memory` reaches hello cache size.</span></span> <span data-ttu-id="10fe6-313">W idealnym przypadku `Used Memory RSS` powinny być tylko nieznacznie wyższe niż `Used memory`.</span><span class="sxs-lookup"><span data-stu-id="10fe6-313">Ideally, `Used Memory RSS` should be only slightly higher than `Used memory`.</span></span> <span data-ttu-id="10fe6-314">Duża różnica oznacza brak fragmentacji pamięci (wewnętrzne lub zewnętrzne.</span><span class="sxs-lookup"><span data-stu-id="10fe6-314">A large difference means there is memory fragmentation (internal or external.</span></span> <span data-ttu-id="10fe6-315">Gdy `Used Memory RSS` jest mniejsza niż `Used Memory`, oznacza to część pamięci podręcznej hello została zapisana przez system operacyjny hello.</span><span class="sxs-lookup"><span data-stu-id="10fe6-315">When `Used Memory RSS` is less than `Used Memory`, it means part of hello cache memory has been swapped  by hello operating system.</span></span> <span data-ttu-id="10fe6-316">W takim przypadku można oczekiwać, że niektóre znaczne opóźnienia.</span><span class="sxs-lookup"><span data-stu-id="10fe6-316">If this occurs you can expect some significant latencies.</span></span> <span data-ttu-id="10fe6-317">Ponieważ Redis nie mają kontrolę nad jak alokacje są mapowane stron toomemory wysokiej `Used Memory RSS` często jest wynikiem hello kolekcji użycia pamięci.</span><span class="sxs-lookup"><span data-stu-id="10fe6-317">Because Redis does not have control over how its allocations are mapped toomemory pages, high `Used Memory RSS` is often hello result of a spike in memory usage.</span></span> <span data-ttu-id="10fe6-318">Po Redis zwalnia pamięć, pamięci hello jest ponownie określony alokatora toohello i przydzielania hello mogą lub może nie być hello pamięci wstecz toohello systemu.</span><span class="sxs-lookup"><span data-stu-id="10fe6-318">When Redis frees memory, hello memory is given back toohello allocator, and hello allocator may or may not give hello memory back toohello system.</span></span> <span data-ttu-id="10fe6-319">Może być rozbieżności między hello `Used Memory` zużycie wartość i pamięci podaną przez system operacyjny hello.</span><span class="sxs-lookup"><span data-stu-id="10fe6-319">There may be a discrepancy between hello `Used Memory` value and memory consumption as reported by hello operating system.</span></span> <span data-ttu-id="10fe6-320">Może być spowodowane fakt toohello pamięci został użyty i wydane przez Redis, ale nie podany wstecz toohello systemu.</span><span class="sxs-lookup"><span data-stu-id="10fe6-320">It may be due toohello fact memory has been used and released by Redis, but not given back toohello system.</span></span> <span data-ttu-id="10fe6-321">toohelp chroni przed wykonaniem hello następujące kroki problemy z pamięcią.</span><span class="sxs-lookup"><span data-stu-id="10fe6-321">toohelp mitigate memory issues you can perform hello following steps.</span></span>
   
   * <span data-ttu-id="10fe6-322">Uaktualnij hello pamięci podręcznej tooa większy rozmiar, aby nie zostały uruchomione w systemie hello sprawdzania ograniczenia ilości pamięci.</span><span class="sxs-lookup"><span data-stu-id="10fe6-322">Upgrade hello cache tooa larger size so that you are not running up against memory limitations on hello system.</span></span>
   * <span data-ttu-id="10fe6-323">Ustaw czas wygaśnięcia kluczy hello starsze wartości są aktywne wykluczony.</span><span class="sxs-lookup"><span data-stu-id="10fe6-323">Set expiration times on hello keys so that older values are evicted proactively.</span></span>
   * <span data-ttu-id="10fe6-324">Monitor Witaj Witaj `used_memory_rss` pamięci podręcznej metryki.</span><span class="sxs-lookup"><span data-stu-id="10fe6-324">Monitor hello hello `used_memory_rss` cache metric.</span></span> <span data-ttu-id="10fe6-325">Ta wartość koloru zbliża się hello rozmiar pamięci podręcznej, są prawdopodobnie toostart wyświetlanie problemy z wydajnością.</span><span class="sxs-lookup"><span data-stu-id="10fe6-325">When this value approaches hello size of their cache, you are likely toostart seeing performance issues.</span></span> <span data-ttu-id="10fe6-326">Rozpowszechniają danych hello wielu odłamków korzystają z usługi pamięć podręczna premium, lub uaktualnieniu tooa większy rozmiar pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="10fe6-326">Distribute hello data across multiple shards if you are using a premium cache, or upgrade tooa larger cache size.</span></span>
   
   <span data-ttu-id="10fe6-327">Aby uzyskać więcej informacji, zobacz [wykorzystania pamięci na serwerze hello](#memory-pressure-on-the-server).</span><span class="sxs-lookup"><span data-stu-id="10fe6-327">For more information, see [Memory Pressure on hello server](#memory-pressure-on-the-server).</span></span>

## <a name="additional-information"></a><span data-ttu-id="10fe6-328">Dodatkowe informacje</span><span class="sxs-lookup"><span data-stu-id="10fe6-328">Additional information</span></span>
* [<span data-ttu-id="10fe6-329">Której oferty i jakiego rozmiaru usługi Redis Cache mam użyć?</span><span class="sxs-lookup"><span data-stu-id="10fe6-329">What Redis Cache offering and size should I use?</span></span>](cache-faq.md#what-redis-cache-offering-and-size-should-i-use)
* [<span data-ttu-id="10fe6-330">Jak testu wydajności i przetestować hello wydajności Moje pamięci podręcznej?</span><span class="sxs-lookup"><span data-stu-id="10fe6-330">How can I benchmark and test hello performance of my cache?</span></span>](cache-faq.md#how-can-i-benchmark-and-test-the-performance-of-my-cache)
* [<span data-ttu-id="10fe6-331">Jak uruchomić polecenia Redis?</span><span class="sxs-lookup"><span data-stu-id="10fe6-331">How can I run Redis commands?</span></span>](cache-faq.md#how-can-i-run-redis-commands)
* [<span data-ttu-id="10fe6-332">Jak toomonitor Azure pamięci podręcznej Redis</span><span class="sxs-lookup"><span data-stu-id="10fe6-332">How toomonitor Azure Redis Cache</span></span>](cache-how-to-monitor.md)

