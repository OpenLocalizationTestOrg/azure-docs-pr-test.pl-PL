---
title: "Jak skonfigurować replikację geograficzną dla pamięci podręcznej Redis Azure | Dokumentacja firmy Microsoft"
description: "Informacje o replikacji z wystąpienia pamięci podręcznej Redis Azure w regionach geograficznych."
services: redis-cache
documentationcenter: 
author: steved0x
manager: douge
editor: 
ms.assetid: 375643dc-dbac-4bab-8004-d9ae9570440d
ms.service: cache
ms.workload: tbd
ms.tgt_pltfrm: cache-redis
ms.devlang: na
ms.topic: article
ms.date: 07/06/2017
ms.author: sdanie
ms.openlocfilehash: 71b0d4add7e642487f6d67cda692c500ee78b0e6
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 07/11/2017
---
# <a name="how-to-configure-geo-replication-for-azure-redis-cache"></a><span data-ttu-id="21d68-103">Jak skonfigurować replikację geograficzną dla pamięci podręcznej Redis Azure</span><span class="sxs-lookup"><span data-stu-id="21d68-103">How to configure Geo-replication for Azure Redis Cache</span></span>

<span data-ttu-id="21d68-104">Replikacja geograficzna udostępnia mechanizm do konsolidacji dwa wystąpienia pamięci podręcznej Redis Azure warstwy Premium.</span><span class="sxs-lookup"><span data-stu-id="21d68-104">Geo-replication provides a mechanism for linking two Premium tier Azure Redis Cache instances.</span></span> <span data-ttu-id="21d68-105">Jedna pamięć podręczna jest wyznaczony jako głównej połączonego pamięci podręcznej, a drugi jako dodatkowej pamięci podręcznej połączony.</span><span class="sxs-lookup"><span data-stu-id="21d68-105">One cache is designated as the primary linked cache, and the other as the secondary linked cache.</span></span> <span data-ttu-id="21d68-106">Dodatkowej pamięci podręcznej połączonego staje się tylko do odczytu, a dane zapisywane w pamięci podręcznej podstawowej są replikowane do dodatkowej połączonego pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="21d68-106">The secondary linked cache becomes read-only, and data written to the primary cache is replicated to the secondary linked cache.</span></span> <span data-ttu-id="21d68-107">Ta funkcja umożliwia replikowanie pamięci podręcznej w regionach platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="21d68-107">This functionality can be used to replicate a cache across Azure regions.</span></span> <span data-ttu-id="21d68-108">Ten artykuł zawiera przewodnik dotyczący konfigurowania — replikacja geograficzna dla swoich wystąpień pamięci podręcznej Redis Azure warstwy Premium.</span><span class="sxs-lookup"><span data-stu-id="21d68-108">This article provides a guide to configuring Geo-replication for your Premium tier Azure Redis Cache instances.</span></span>

## <a name="geo-replication-prerequisites"></a><span data-ttu-id="21d68-109">Replikacja geograficzna wymagania wstępne</span><span class="sxs-lookup"><span data-stu-id="21d68-109">Geo-replication prerequisites</span></span>

<span data-ttu-id="21d68-110">Aby skonfigurować replikację geograficzną między dwoma pamięci podręcznych, muszą być spełnione następujące wymagania wstępne:</span><span class="sxs-lookup"><span data-stu-id="21d68-110">To configure Geo-replication between two caches, the following prerequisites must be met:</span></span>

- <span data-ttu-id="21d68-111">Zarówno pamięci podręcznej musi być [warstwy Premium](cache-premium-tier-intro.md) przechowuje w pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="21d68-111">Both caches must be [Premium tier](cache-premium-tier-intro.md) caches.</span></span>
- <span data-ttu-id="21d68-112">Zarówno pamięci podręcznej musi być w tej samej subskrypcji platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="21d68-112">Both caches must be in the same Azure subscription.</span></span>
- <span data-ttu-id="21d68-113">Połączone dodatkowej pamięci podręcznej musi być tej samej warstwie cenowej lub większy poziom cenowy niż podstawowy połączonego pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="21d68-113">The secondary linked cache must be either the same pricing tier or a larger pricing tier than the primary linked cache.</span></span>
- <span data-ttu-id="21d68-114">Jeśli klaster włączone głównej połączonego pamięci podręcznej, dodatkowej pamięci podręcznej połączonego musi mieć klaster włączone z taką samą liczbę fragmentów jako podstawowy połączonego pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="21d68-114">If the primary linked cache has clustering enabled, the secondary linked cache must have clustering enabled with the same number of shards as the primary linked cache.</span></span>
- <span data-ttu-id="21d68-115">Zarówno pamięci podręcznych muszą zostać utworzone i uruchomione.</span><span class="sxs-lookup"><span data-stu-id="21d68-115">Both caches must be created and in a running state.</span></span>
- <span data-ttu-id="21d68-116">Trwałości nie mogą być włączone na obu pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="21d68-116">Persistence must not be enabled on either cache.</span></span>
- <span data-ttu-id="21d68-117">Replikacja geograficzna między pamięci podręcznych w tej samej sieci Wirtualnej jest obsługiwane.</span><span class="sxs-lookup"><span data-stu-id="21d68-117">Geo-replication between caches in the same VNET is supported.</span></span> <span data-ttu-id="21d68-118">Replikacja geograficzna między pamięci podręcznych w różnych sieci wirtualnych jest również obsługiwany, jak długo dwie sieci wirtualne są skonfigurowane w taki sposób, że zasoby w sieci wirtualne są dostęp do siebie za pośrednictwem połączeń TCP.</span><span class="sxs-lookup"><span data-stu-id="21d68-118">Geo-replication between caches in different VNETs is also supported, as long as the two VNETs are configured in such a way that resources in the VNETs are able to reach each other via TCP connections.</span></span>

<span data-ttu-id="21d68-119">Po skonfigurowaniu replikacji geograficznej parę z połączonego pamięci podręcznej, obowiązują następujące ograniczenia:</span><span class="sxs-lookup"><span data-stu-id="21d68-119">After Geo-replication is configured, the following restrictions apply to your linked cache pair:</span></span>

- <span data-ttu-id="21d68-120">Połączone dodatkowej pamięci podręcznej jest tylko do odczytu. można odczytać z niego, ale nie można zapisać danych do niego.</span><span class="sxs-lookup"><span data-stu-id="21d68-120">The secondary linked cache is read-only; you can read from it, but you can't write any data to it.</span></span> 
- <span data-ttu-id="21d68-121">Wszystkie dane sprzed w dodatkowej pamięci podręcznej połączonego łącze zostało dodane zostaną usunięte.</span><span class="sxs-lookup"><span data-stu-id="21d68-121">Any data that was in the secondary linked cache before the link was added is removed.</span></span> <span data-ttu-id="21d68-122">Jeśli replikacja geograficzna następnie usunięciu jednak replikowanych danych pozostaje w połączonych dodatkowej pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="21d68-122">If the Geo-replication is subsequently removed however, the replicated data remains in the secondary linked cache.</span></span>
- <span data-ttu-id="21d68-123">Nie można zainicjować [operacji skalowania](cache-how-to-scale.md) na obu pamięci podręcznej lub [zmienić liczbę fragmentów](cache-how-to-premium-clustering.md) Jeśli pamięć podręczna zawiera klastrowanie włączone.</span><span class="sxs-lookup"><span data-stu-id="21d68-123">You can't initiate a [scaling operation](cache-how-to-scale.md) on either cache or [change the number of shards](cache-how-to-premium-clustering.md) if the cache has clustering enabled.</span></span>
- <span data-ttu-id="21d68-124">Nie można włączyć trwałości na obu pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="21d68-124">You can't enable persistence on either cache.</span></span>
- <span data-ttu-id="21d68-125">Można użyć [wyeksportować](cache-how-to-import-export-data.md#export) z albo pamięcią podręczną, ale możesz tylko [importu](cache-how-to-import-export-data.md#import) do głównej połączonego pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="21d68-125">You can use [Export](cache-how-to-import-export-data.md#export) with either cache, but you can only [Import](cache-how-to-import-export-data.md#import) into the primary linked cache.</span></span>
- <span data-ttu-id="21d68-126">Nie można usunąć połączonej pamięci podręcznej lub grupy zasobów, którym się znajdują, przed usunięciem łącza replikacji geograficznej.</span><span class="sxs-lookup"><span data-stu-id="21d68-126">You can't delete either linked cache, or the resource group that contains them, until you remove the Geo-replication link.</span></span> <span data-ttu-id="21d68-127">Aby uzyskać więcej informacji, zobacz [Dlaczego operacji nie próba Usuń Moje połączonego pamięci podręcznej?](#why-did-the-operation-fail-when-i-tried-to-delete-my-linked-cache)</span><span class="sxs-lookup"><span data-stu-id="21d68-127">For more information, see [Why did the operation fail when I tried to delete my linked cache?](#why-did-the-operation-fail-when-i-tried-to-delete-my-linked-cache)</span></span>
- <span data-ttu-id="21d68-128">W przypadku dwóch pamięci podręcznych w różnych regionach, koszty wyjście sieci dotyczą dane replikowane w regionach do połączonego dodatkowej pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="21d68-128">If the two caches are in different regions, network egress costs will apply to the data replicated across regions to the secondary linked cache.</span></span> <span data-ttu-id="21d68-129">Aby uzyskać więcej informacji, zobacz [ile kosztuje replikowanie danych w regionach platformy Azure?](#how-much-does-it-cost-to-replicate-my-data-across-azure-regions)</span><span class="sxs-lookup"><span data-stu-id="21d68-129">For more information, see [How much does it cost to replicate my data across Azure regions?](#how-much-does-it-cost-to-replicate-my-data-across-azure-regions)</span></span>
- <span data-ttu-id="21d68-130">Jest nie automatycznej pracy awaryjnej do połączonego dodatkowej pamięci podręcznej, jeśli podstawowy pamięci podręcznej (i jego repliką) przestaną działać.</span><span class="sxs-lookup"><span data-stu-id="21d68-130">There is no automatic failover to the secondary linked cache if the primary cache (and its replica) go down.</span></span> <span data-ttu-id="21d68-131">Aby aplikacje klienckie trybu failover należy ręcznie usunąć łącza replikacji geograficznej i aplikacje klienckie do pamięci podręcznej, który był wcześniej dodatkowej pamięci podręcznej połączonego punktu.</span><span class="sxs-lookup"><span data-stu-id="21d68-131">In order to failover client applications, you would need to manually remove the Geo-replication link and point the client applications to the cache that was formerly the secondary linked cache.</span></span> <span data-ttu-id="21d68-132">Aby uzyskać więcej informacji, zobacz [jak działa awarii do połączonego dodatkowej pamięci podręcznej?](#how-does-failing-over-to-the-secondary-linked-cache-work)</span><span class="sxs-lookup"><span data-stu-id="21d68-132">For more information, see [How does failing over to the secondary linked cache work?](#how-does-failing-over-to-the-secondary-linked-cache-work)</span></span>

## <a name="add-a-geo-replication-link"></a><span data-ttu-id="21d68-133">Dodaj łącze — replikacja geograficzna</span><span class="sxs-lookup"><span data-stu-id="21d68-133">Add a Geo-replication link</span></span>

1. <span data-ttu-id="21d68-134">Aby połączyć dwie premium pamięci podręcznych za replikację geograficzną, kliknij przycisk **— replikacja geograficzna** z menu zasobów pamięci podręcznej pełnić rolę serwera podstawowego połączone pamięci podręcznej, a następnie kliknij przycisk **łącza replikacji pamięci podręcznej Dodaj** z **— replikacja geograficzna** bloku.</span><span class="sxs-lookup"><span data-stu-id="21d68-134">To link two premium caches together for geo-replication, click **Geo-replication** from the Resource menu of the cache intended as the primary linked cache, and then click **Add cache replication link** from the **Geo-replication** blade.</span></span>

    ![Dodaj łącze](./media/cache-how-to-geo-replication/cache-geo-location-menu.png)

2. <span data-ttu-id="21d68-136">Kliknij nazwę żądanego dodatkowej pamięci podręcznej z **zgodne pamięci podręcznych** listy.</span><span class="sxs-lookup"><span data-stu-id="21d68-136">Click the name of the desired secondary cache from the **Compatible caches** list.</span></span> <span data-ttu-id="21d68-137">Jeśli żądany pamięci podręcznej nie jest wyświetlana na liście, upewnij się, że [wymagania wstępne — replikacja geograficzna](#geo-replication-prerequisites) spełnione są odpowiednie dodatkowej pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="21d68-137">If your desired cache isn't displayed in the list, verify that the [Geo-replication prerequisites](#geo-replication-prerequisites) for the desired secondary cache are met.</span></span> <span data-ttu-id="21d68-138">Aby filtrować pamięci podręcznych według regionu, kliknij odpowiedni region na mapie, aby wyświetlić tylko tych pamięci podręcznych w **zgodne pamięci podręcznych** listy.</span><span class="sxs-lookup"><span data-stu-id="21d68-138">To filter the caches by region, click the desired region in the map to display only those caches in the **Compatible caches** list.</span></span>

    ![Replikacja geograficzna zgodne pamięci podręczne](./media/cache-how-to-geo-replication/cache-geo-location-select-link.png)
    
    <span data-ttu-id="21d68-140">Można również zainicjować proces łączenia lub wyświetlić szczegóły dotyczące dodatkowej pamięci podręcznej za pomocą menu kontekstowego.</span><span class="sxs-lookup"><span data-stu-id="21d68-140">You can also initiate the linking process or view details about the secondary cache by using the context menu.</span></span>

    ![Menu kontekstowe — replikacja geograficzna](./media/cache-how-to-geo-replication/cache-geo-location-select-link-context-menu.png)

3. <span data-ttu-id="21d68-142">Kliknij przycisk **łącze** Połącz dwa pamięci podręcznych i rozpocząć proces replikacji.</span><span class="sxs-lookup"><span data-stu-id="21d68-142">Click **Link** to link the two caches together and begin the replication process.</span></span>

    ![Pamięci podręczne łącza](./media/cache-how-to-geo-replication/cache-geo-location-confirm-link.png)

4. <span data-ttu-id="21d68-144">Postęp procesu replikacji można wyświetlić na **— replikacja geograficzna** bloku.</span><span class="sxs-lookup"><span data-stu-id="21d68-144">You can view the progress of the replication process on the **Geo-replication** blade.</span></span>

    ![Łączenie stanu](./media/cache-how-to-geo-replication/cache-geo-location-linking.png)

    <span data-ttu-id="21d68-146">Można również wyświetlić stan połączeń na **omówienie** bloku dla buforów podstawowego i pomocniczego.</span><span class="sxs-lookup"><span data-stu-id="21d68-146">You can also view the linking status on the **Overview** blade for both the primary and secondary caches.</span></span>

    ![Stan pamięci podręcznej](./media/cache-how-to-geo-replication/cache-geo-location-link-status.png)

    <span data-ttu-id="21d68-148">Po zakończeniu procesu replikacji **Link stanu** zmienia się na **zakończyło się pomyślnie**.</span><span class="sxs-lookup"><span data-stu-id="21d68-148">Once the replication process is complete, the **Link status** changes to **Succeeded**.</span></span>

    ![Stan pamięci podręcznej](./media/cache-how-to-geo-replication/cache-geo-location-link-successful.png)

    <span data-ttu-id="21d68-150">Podczas procesu łączenia głównej połączonego pamięci podręcznej pozostaje dostępna do użycia, ale dodatkowej połączonego bufor nie jest dostępny, dopóki nie zakończy proces łączenia.</span><span class="sxs-lookup"><span data-stu-id="21d68-150">During the linking process, the primary linked cache remains available for use but the secondary linked cache is not available until the linking process completes.</span></span>

## <a name="remove-a-geo-replication-link"></a><span data-ttu-id="21d68-151">Usuń łącze — replikacja geograficzna</span><span class="sxs-lookup"><span data-stu-id="21d68-151">Remove a Geo-replication link</span></span>

1. <span data-ttu-id="21d68-152">Kliknij, aby usunąć połączenie między dwoma pamięci podręcznych i zatrzymać replikację geograficzną **odłączyć pamięci podręcznych** z **— replikacja geograficzna** bloku.</span><span class="sxs-lookup"><span data-stu-id="21d68-152">To remove the link between two caches and stop Geo-replication, click **Unlink caches** from the **Geo-replication** blade.</span></span>
    
    ![Rozłącz pamięci podręczne](./media/cache-how-to-geo-replication/cache-geo-location-unlink.png)

    <span data-ttu-id="21d68-154">Po zakończeniu procesu rozłączanie dodatkowej pamięci podręcznej jest dostępna dla odczytów i zapisów.</span><span class="sxs-lookup"><span data-stu-id="21d68-154">When the unlinking process completes, the secondary cache is available for both reads and writes.</span></span>

>[!NOTE]
><span data-ttu-id="21d68-155">Usunięcie łącza replikacji geograficznej replikowane dane z głównej połączonego pamięci podręcznej pozostaje w dodatkowej pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="21d68-155">When the Geo-replication link is removed, the replicated data from the primary linked cache remains in the secondary cache.</span></span>
>
>

## <a name="geo-replication-faq"></a><span data-ttu-id="21d68-156">Replikacja geograficzna — często zadawane pytania</span><span class="sxs-lookup"><span data-stu-id="21d68-156">Geo-replication FAQ</span></span>

- [<span data-ttu-id="21d68-157">Replikacja geograficzna można używać z pamięci podręcznej warstwy standardowa lub Basic?</span><span class="sxs-lookup"><span data-stu-id="21d68-157">Can I use Geo-replication with a Standard or Basic tier cache?</span></span>](#can-i-use-geo-replication-with-a-standard-or-basic-tier-cache)
- [<span data-ttu-id="21d68-158">Moje pamięci podręcznej jest dostępny do użytku podczas procesu łączenia lub odłączanie?</span><span class="sxs-lookup"><span data-stu-id="21d68-158">Is my cache available for use during the linking or unlinking process?</span></span>](#is-my-cache-available-for-use-during-the-linking-or-unlinking-process)
- [<span data-ttu-id="21d68-159">Czy można połączyć więcej niż dwa pamięci podręcznych razem?</span><span class="sxs-lookup"><span data-stu-id="21d68-159">Can I link more than two caches together?</span></span>](#can-i-link-more-than-two-caches-together)
- [<span data-ttu-id="21d68-160">Czy można połączyć dwóch pamięci podręczne z różnych subskrypcji platformy Azure?</span><span class="sxs-lookup"><span data-stu-id="21d68-160">Can I link two caches from different Azure subscriptions?</span></span>](#can-i-link-two-caches-from-different-azure-subscriptions)
- [<span data-ttu-id="21d68-161">Czy można połączyć dwóch buforów o różnych rozmiarach?</span><span class="sxs-lookup"><span data-stu-id="21d68-161">Can I link two caches with different sizes?</span></span>](#can-i-link-two-caches-with-different-sizes)
- [<span data-ttu-id="21d68-162">Replikacja geograficzna można używać z włączoną funkcją klastrowania?</span><span class="sxs-lookup"><span data-stu-id="21d68-162">Can I use Geo-replication with clustering enabled?</span></span>](#can-i-use-geo-replication-with-clustering-enabled)
- [<span data-ttu-id="21d68-163">Replikacja geograficzna można używać z mojej pamięci podręcznych w sieci Wirtualnej?</span><span class="sxs-lookup"><span data-stu-id="21d68-163">Can I use Geo-replication with my caches in a VNET?</span></span>](#can-i-use-geo-replication-with-my-caches-in-a-vnet)
- [<span data-ttu-id="21d68-164">Do zarządzania — replikacja geograficzna może używać programu PowerShell lub interfejsu wiersza polecenia Azure?</span><span class="sxs-lookup"><span data-stu-id="21d68-164">Can I use PowerShell or Azure CLI to manage Geo-replication?</span></span>](#can-i-use-powershell-or-azure-cli-to-manage-geo-replication)
- [<span data-ttu-id="21d68-165">Ile kosztuje replikowanie danych w regionach platformy Azure?</span><span class="sxs-lookup"><span data-stu-id="21d68-165">How much does it cost to replicate my data across Azure regions?</span></span>](#how-much-does-it-cost-to-replicate-my-data-across-azure-regions)
- [<span data-ttu-id="21d68-166">Dlaczego operacji nie próba Usuń Moje połączonego pamięci podręcznej?</span><span class="sxs-lookup"><span data-stu-id="21d68-166">Why did the operation fail when I tried to delete my linked cache?</span></span>](#why-did-the-operation-fail-when-i-tried-to-delete-my-linked-cache)
- [<span data-ttu-id="21d68-167">Jakie region Użyj mojej dodatkowej pamięci podręcznej połączonego</span><span class="sxs-lookup"><span data-stu-id="21d68-167">What region should I use for my secondary linked cache?</span></span>](#what-region-should-i-use-for-my-secondary-linked-cache)
- [<span data-ttu-id="21d68-168">Jak działa awarii do połączonego dodatkowej pamięci podręcznej?</span><span class="sxs-lookup"><span data-stu-id="21d68-168">How does failing over to the secondary linked cache work?</span></span>](#how-does-failing-over-to-the-secondary-linked-cache-work)

### <a name="can-i-use-geo-replication-with-a-standard-or-basic-tier-cache"></a><span data-ttu-id="21d68-169">Replikacja geograficzna można używać z pamięci podręcznej warstwy standardowa lub Basic?</span><span class="sxs-lookup"><span data-stu-id="21d68-169">Can I use Geo-replication with a Standard or Basic tier cache?</span></span>

<span data-ttu-id="21d68-170">Nie, replikacja geograficzna dostępnej tylko dla pamięci podręcznej warstwy Premium.</span><span class="sxs-lookup"><span data-stu-id="21d68-170">No, Geo-replication is only available for Premium tier caches.</span></span>

### <a name="is-my-cache-available-for-use-during-the-linking-or-unlinking-process"></a><span data-ttu-id="21d68-171">Moje pamięci podręcznej jest dostępny do użytku podczas procesu łączenia lub odłączanie?</span><span class="sxs-lookup"><span data-stu-id="21d68-171">Is my cache available for use during the linking or unlinking process?</span></span>

- <span data-ttu-id="21d68-172">Gdy łączący dwa pamięci podręcznych za replikację geograficzną, podstawowego połączonego pamięci podręcznej pozostaje dostępna do użycia, ale dodatkowej połączonego bufor nie jest dostępny, dopóki nie zakończy proces łączenia.</span><span class="sxs-lookup"><span data-stu-id="21d68-172">When linking two caches together for Geo-replication, the primary linked cache remains available for use but the secondary linked cache is not available until the linking process completes.</span></span>
- <span data-ttu-id="21d68-173">Podczas usuwania łącza replikacji geograficznej między dwoma pamięci podręcznych, zarówno pamięci podręcznych pozostają dostępne do użycia.</span><span class="sxs-lookup"><span data-stu-id="21d68-173">When removing the Geo-replication link between two caches, both caches remain available for use.</span></span>

### <a name="can-i-link-more-than-two-caches-together"></a><span data-ttu-id="21d68-174">Czy można połączyć więcej niż dwa pamięci podręcznych razem?</span><span class="sxs-lookup"><span data-stu-id="21d68-174">Can I link more than two caches together?</span></span>

<span data-ttu-id="21d68-175">Nie, używając — replikacja geograficzna można połączyć tylko dwa pamięci podręcznych razem.</span><span class="sxs-lookup"><span data-stu-id="21d68-175">No, when using Geo-replication you can only link two caches together.</span></span>

### <a name="can-i-link-two-caches-from-different-azure-subscriptions"></a><span data-ttu-id="21d68-176">Czy można połączyć dwóch pamięci podręczne z różnych subskrypcji platformy Azure?</span><span class="sxs-lookup"><span data-stu-id="21d68-176">Can I link two caches from different Azure subscriptions?</span></span>

<span data-ttu-id="21d68-177">Pamięci podręcznych, nie musi być w tej samej subskrypcji platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="21d68-177">No, both caches must be in the same Azure subscription.</span></span>

### <a name="can-i-link-two-caches-with-different-sizes"></a><span data-ttu-id="21d68-178">Czy można połączyć dwóch buforów o różnych rozmiarach?</span><span class="sxs-lookup"><span data-stu-id="21d68-178">Can I link two caches with different sizes?</span></span>

<span data-ttu-id="21d68-179">Tak, jak połączonych dodatkowej pamięci podręcznej jest większy niż podstawowy połączonego pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="21d68-179">Yes, as long as the secondary linked cache is larger than the primary linked cache.</span></span>

### <a name="can-i-use-geo-replication-with-clustering-enabled"></a><span data-ttu-id="21d68-180">Replikacja geograficzna można używać z włączoną funkcją klastrowania?</span><span class="sxs-lookup"><span data-stu-id="21d68-180">Can I use Geo-replication with clustering enabled?</span></span>

<span data-ttu-id="21d68-181">Tak, jak długo zarówno pamięci podręcznych ma taką samą liczbę fragmentów.</span><span class="sxs-lookup"><span data-stu-id="21d68-181">Yes, as long as both caches have the same number of shards.</span></span>

### <a name="can-i-use-geo-replication-with-my-caches-in-a-vnet"></a><span data-ttu-id="21d68-182">Replikacja geograficzna można używać z mojej pamięci podręcznych w sieci Wirtualnej?</span><span class="sxs-lookup"><span data-stu-id="21d68-182">Can I use Geo-replication with my caches in a VNET?</span></span>

<span data-ttu-id="21d68-183">Tak, replikacja geograficzna pamięci podręcznych w sieci wirtualnych są obsługiwane.</span><span class="sxs-lookup"><span data-stu-id="21d68-183">Yes, Geo-replication of caches in VNETs are supported.</span></span> 

- <span data-ttu-id="21d68-184">Replikacja geograficzna między pamięci podręcznych w tej samej sieci Wirtualnej jest obsługiwane.</span><span class="sxs-lookup"><span data-stu-id="21d68-184">Geo-replication between caches in the same VNET is supported.</span></span>
- <span data-ttu-id="21d68-185">Replikacja geograficzna między pamięci podręcznych w różnych sieci wirtualnych jest również obsługiwany, jak długo dwie sieci wirtualne są skonfigurowane w taki sposób, że zasoby w sieci wirtualne są dostęp do siebie za pośrednictwem połączeń TCP.</span><span class="sxs-lookup"><span data-stu-id="21d68-185">Geo-replication between caches in different VNETs is also supported, as long as the two VNETs are configured in such a way that resources in the VNETs are able to reach each other via TCP connections.</span></span>

### <a name="can-i-use-powershell-or-azure-cli-to-manage-geo-replication"></a><span data-ttu-id="21d68-186">Do zarządzania — replikacja geograficzna może używać programu PowerShell lub interfejsu wiersza polecenia Azure?</span><span class="sxs-lookup"><span data-stu-id="21d68-186">Can I use PowerShell or Azure CLI to manage Geo-replication?</span></span>

<span data-ttu-id="21d68-187">W tej chwili można zarządzać tylko replikacja geograficzna, przy użyciu portalu Azure.</span><span class="sxs-lookup"><span data-stu-id="21d68-187">At this time you can only manage Geo-replication using the Azure portal.</span></span>

### <a name="how-much-does-it-cost-to-replicate-my-data-across-azure-regions"></a><span data-ttu-id="21d68-188">Ile kosztuje replikowanie danych w regionach platformy Azure?</span><span class="sxs-lookup"><span data-stu-id="21d68-188">How much does it cost to replicate my data across Azure regions?</span></span>

<span data-ttu-id="21d68-189">Używając — replikacja geograficzna, dane z głównej połączonego pamięci podręcznej są replikowane do dodatkowej połączonego pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="21d68-189">When using Geo-replication, data from the primary linked cache is replicated to the secondary linked cache.</span></span> <span data-ttu-id="21d68-190">Jeśli dwa połączone pamięci podręcznych znajdują się w tym samym regionie Azure, jest bezpłatna do transferu danych.</span><span class="sxs-lookup"><span data-stu-id="21d68-190">If the two linked caches are in the same Azure region, there is no charge for the data transfer.</span></span> <span data-ttu-id="21d68-191">Jeśli dwa połączone pamięci podręcznych znajdują się w różnych regionach platformy Azure, opłat transfer danych — replikacja geograficzna jest kosztów przepustowości replikacji danych do innego regionu systemu Azure.</span><span class="sxs-lookup"><span data-stu-id="21d68-191">If the two linked caches are in different Azure regions, the Geo-Replication data transfer charge is the bandwidth cost of replicating that data to the other Azure region.</span></span> <span data-ttu-id="21d68-192">Aby uzyskać więcej informacji, zobacz [szczegóły cennika przepustowości](https://azure.microsoft.com/pricing/details/bandwidth/).</span><span class="sxs-lookup"><span data-stu-id="21d68-192">For more information, see [Bandwidth Pricing Details](https://azure.microsoft.com/pricing/details/bandwidth/).</span></span>

### <a name="why-did-the-operation-fail-when-i-tried-to-delete-my-linked-cache"></a><span data-ttu-id="21d68-193">Dlaczego operacji nie próba Usuń Moje połączonego pamięci podręcznej?</span><span class="sxs-lookup"><span data-stu-id="21d68-193">Why did the operation fail when I tried to delete my linked cache?</span></span>

<span data-ttu-id="21d68-194">Gdy dwa pamięci podręcznych są połączone ze sobą, nie można usunąć pamięci podręcznej lub grupę zasobów, która zawiera je przed usunięciem łącza replikacji geograficznej.</span><span class="sxs-lookup"><span data-stu-id="21d68-194">When two caches are linked together, you can't delete either cache or the resource group that contains them until you remove the Geo-replication link.</span></span> <span data-ttu-id="21d68-195">Jeśli próbujesz usunąć grupę zasobów, która zawiera jedną lub obie połączonych buforów, inne zasoby w grupie zasobów zostaną usunięte, lecz pozostaje grupy zasobów w `deleting` stanu i wszystkie połączone pamięci podręcznej w grupie zasobów pozostają w `running`stanu.</span><span class="sxs-lookup"><span data-stu-id="21d68-195">If you attempt to delete the resource group that contains one or both of the linked caches, the other resources in the resource group are deleted, but the resource group stays in the `deleting` state and any linked caches in the resource group remain in the `running` state.</span></span> <span data-ttu-id="21d68-196">Aby ukończyć usuwanie grupy zasobów i połączone pamięci podręcznych w nim, przerwać łącze replikacji geograficznej zgodnie z opisem w [Usuń łącze replikacji geograficznej](#remove-a-geo-replication-link).</span><span class="sxs-lookup"><span data-stu-id="21d68-196">To complete the deletion of the resource group and the linked caches within it, break the Geo-replication link as described in [Remove a Geo-replication link](#remove-a-geo-replication-link).</span></span>

### <a name="what-region-should-i-use-for-my-secondary-linked-cache"></a><span data-ttu-id="21d68-197">Jakie region Użyj mojej dodatkowej pamięci podręcznej połączonego</span><span class="sxs-lookup"><span data-stu-id="21d68-197">What region should I use for my secondary linked cache?</span></span>

<span data-ttu-id="21d68-198">Ogólnie rzecz biorąc zaleca się dla istnieje w tym samym regionie Azure, jak aplikacja, która uzyskuje on dostęp do pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="21d68-198">In general, it is recommended for your cache to exist in the same Azure region as the application that accesses it.</span></span> <span data-ttu-id="21d68-199">Jeśli aplikacja ma regionu podstawowego i rezerwowej, pamięci podręcznych podstawowych i pomocniczych powinna istnieć w tym samym regionach.</span><span class="sxs-lookup"><span data-stu-id="21d68-199">If your application has a primary and fallback region, then your primary and secondary caches should exist in those same regions.</span></span> <span data-ttu-id="21d68-200">Aby uzyskać więcej informacji na temat sparowanego regionów, zobacz [najlepszych rozwiązań — regiony platformy Azure sparowanym](../best-practices-availability-paired-regions.md).</span><span class="sxs-lookup"><span data-stu-id="21d68-200">For more information about paired regions, see [Best Practices – Azure Paired regions](../best-practices-availability-paired-regions.md).</span></span>

### <a name="how-does-failing-over-to-the-secondary-linked-cache-work"></a><span data-ttu-id="21d68-201">Jak działa awarii do połączonego dodatkowej pamięci podręcznej?</span><span class="sxs-lookup"><span data-stu-id="21d68-201">How does failing over to the secondary linked cache work?</span></span>

<span data-ttu-id="21d68-202">W wersji początkowej replikacji geograficznej pamięć podręczna Redis Azure nie obsługuje automatycznej pracy awaryjnej w regionach platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="21d68-202">In the initial release of Geo-replication, Azure Redis Cache does not support automatic failover across Azure regions.</span></span> <span data-ttu-id="21d68-203">Replikacja geograficzna jest używany głównie w przypadku odzyskiwania po awarii.</span><span class="sxs-lookup"><span data-stu-id="21d68-203">Geo-replication is used primarily in a disaster recovery scenario.</span></span> <span data-ttu-id="21d68-204">W przypadku odzyskiwania distater klientów należy wyświetlić całego stosu aplikacji w regionie kopii zapasowej w skoordynowany sposób zamiast umożliwienie poszczególnych składników aplikacji zadecydować o czasie przełączyć się do ich kopie zapasowe na ich własnych.</span><span class="sxs-lookup"><span data-stu-id="21d68-204">In a distater recovery scenario, customers should bring up the entire application stack in a backup region in a coordinated manner rather than letting individual application components decide when to switch to their backups on their own.</span></span> <span data-ttu-id="21d68-205">Jest to szczególnie istotne w pamięci podręcznej Redis.</span><span class="sxs-lookup"><span data-stu-id="21d68-205">This is especially relevant to Redis.</span></span> <span data-ttu-id="21d68-206">Jedną z kluczowych zalet Redis jest magazynem bardzo małe opóźnienia.</span><span class="sxs-lookup"><span data-stu-id="21d68-206">One of the key benefits of Redis is that it is a very low-latency store.</span></span> <span data-ttu-id="21d68-207">Jeśli używany przez aplikację pamięci podręcznej Redis awaryjnie w innym regionie Azure, ale nie będzie warstwie obliczeniowej, czas obiegu dodano mają zauważalnego wpływu na wydajność.</span><span class="sxs-lookup"><span data-stu-id="21d68-207">If Redis used by an application fails over to a different Azure region but the compute tier does not, the added round trip time would have a noticeable impact on performance.</span></span> <span data-ttu-id="21d68-208">Z tego powodu chcemy uniknąć niepowodzenie Redis za pośrednictwem automatycznie z powodu problemów dotyczących dostępności przejściowej.</span><span class="sxs-lookup"><span data-stu-id="21d68-208">For this reason, we would like to avoid Redis failing over automatically due to transient availability issues.</span></span>

<span data-ttu-id="21d68-209">Aktualnie Aby zainicjować trybu failover, należy Usuń łącze replikacji geograficznej w portalu Azure, a następnie zmień punktu końcowego połączenia klienta pamięci podręcznej Redis z głównej połączonego pamięci podręcznej (dawniej połączonych) dodatkowej pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="21d68-209">Currently, to initiate the failover, you need to remove the Geo-replication link in the Azure portal, and then change the connection end-point in the Redis client from the primary linked cache to the (formerly linked) secondary cache.</span></span> <span data-ttu-id="21d68-210">Gdy dwa pamięci podręcznych są usunąć skojarzenia, replika staje się regularne pamięci podręcznej odczytu i zapisu ponownie i akceptuje żądania bezpośrednio od klientów pamięci podręcznej Redis.</span><span class="sxs-lookup"><span data-stu-id="21d68-210">When the two caches are disassociated, the replica becomes a regular read-write cache again and accepts requests directly from Redis clients.</span></span>


## <a name="next-steps"></a><span data-ttu-id="21d68-211">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="21d68-211">Next steps</span></span>

<span data-ttu-id="21d68-212">Dowiedz się więcej o [warstwy pamięci podręcznej Redis Azure Premium](cache-premium-tier-intro.md).</span><span class="sxs-lookup"><span data-stu-id="21d68-212">Learn more about the [Azure Redis Cache Premium tier](cache-premium-tier-intro.md).</span></span>

