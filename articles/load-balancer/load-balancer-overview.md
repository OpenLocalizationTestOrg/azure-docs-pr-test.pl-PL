---
title: "Omówienie usługi równoważenia obciążenia aaaAzure | Dokumentacja firmy Microsoft"
description: "Omówienie funkcji równoważenia obciążenia Azure, architektura i implementacji. Dowiedz się, jak działa usługa równoważenia obciążenia hello i wykorzystać go w chmurze hello."
services: load-balancer
documentationcenter: na
author: kumudd
manager: timlt
editor: 
ms.assetid: 0f313dc0-f007-4cee-b2b9-f542357925a3
ms.service: load-balancer
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 10/24/2016
ms.author: kumud
ms.openlocfilehash: 2376a02f7cbbbed6a90f216419c0c3d30f594272
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="azure-load-balancer-overview"></a><span data-ttu-id="d188e-104">Omówienie usługi Azure Load Balancer</span><span class="sxs-lookup"><span data-stu-id="d188e-104">Azure Load Balancer overview</span></span>

<span data-ttu-id="d188e-105">Moduł równoważenia obciążenia Azure zapewnia wysoką wydajność dostępności i sieci tooyour aplikacji.</span><span class="sxs-lookup"><span data-stu-id="d188e-105">Azure Load Balancer delivers high availability and network performance tooyour applications.</span></span> <span data-ttu-id="d188e-106">Jest równoważenia obciążenia warstwy 4 (TCP, UDP), który rozdziela przychodzący ruch między dobrej kondycji wystąpień usługi zdefiniowane w zestawie o zrównoważonym obciążeniu.</span><span class="sxs-lookup"><span data-stu-id="d188e-106">It is a Layer 4 (TCP, UDP) load balancer that distributes incoming traffic among healthy instances of services defined in a load-balanced set.</span></span>

<span data-ttu-id="d188e-107">Moduł równoważenia obciążenia Azure można skonfigurować w celu:</span><span class="sxs-lookup"><span data-stu-id="d188e-107">Azure Load Balancer can be configured to:</span></span>

* <span data-ttu-id="d188e-108">Obciążenie saldo przychodzące Internet ruchu toovirtual maszyn.</span><span class="sxs-lookup"><span data-stu-id="d188e-108">Load balance incoming Internet traffic toovirtual machines.</span></span> <span data-ttu-id="d188e-109">Ta konfiguracja jest określana jako [równoważenia obciążenia internetowy](load-balancer-internet-overview.md).</span><span class="sxs-lookup"><span data-stu-id="d188e-109">This configuration is known as [Internet-facing load balancing](load-balancer-internet-overview.md).</span></span>
* <span data-ttu-id="d188e-110">Ruch Równoważenie obciążenia między maszynami wirtualnymi w sieci wirtualnej, między maszynami wirtualnymi w usługi w chmurze lub między komputerami lokalnymi i maszyn wirtualnych w sieci wirtualnej między lokalizacjami.</span><span class="sxs-lookup"><span data-stu-id="d188e-110">Load balance traffic between virtual machines in a virtual network, between virtual machines in cloud services, or between on-premises computers and virtual machines in a cross-premises virtual network.</span></span> <span data-ttu-id="d188e-111">Ta konfiguracja jest określana jako [równoważenia obciążenia wewnętrznego](load-balancer-internal-overview.md).</span><span class="sxs-lookup"><span data-stu-id="d188e-111">This configuration is known as [internal load balancing](load-balancer-internal-overview.md).</span></span>
* <span data-ttu-id="d188e-112">Przekazuje ruch zewnętrzny tooa określonej maszyny wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="d188e-112">Forward external traffic tooa specific virtual machine.</span></span>

<span data-ttu-id="d188e-113">Wszystkie zasoby w chmurze hello muszą dostępny z Internetu hello publicznego toobe adresów IP.</span><span class="sxs-lookup"><span data-stu-id="d188e-113">All resources in hello cloud need a public IP address toobe reachable from hello Internet.</span></span> <span data-ttu-id="d188e-114">Hello infrastruktury chmury na platformie Azure używa bez obsługi routingu adresów IP do jej zasobów.</span><span class="sxs-lookup"><span data-stu-id="d188e-114">hello cloud infrastructure in Azure uses non-routable IP addresses for its resources.</span></span> <span data-ttu-id="d188e-115">Azure używa translatora adresów sieciowych (NAT) z adresów toocommunicate toohello Internet publicznego adresu IP.</span><span class="sxs-lookup"><span data-stu-id="d188e-115">Azure uses network address translation (NAT) with public IP addresses toocommunicate toohello Internet.</span></span>

## <a name="azure-deployment-models"></a><span data-ttu-id="d188e-116">Modele wdrażania platformy Azure</span><span class="sxs-lookup"><span data-stu-id="d188e-116">Azure deployment models</span></span>

<span data-ttu-id="d188e-117">Jest ważne toounderstand hello różnice między hello Azure classic i Menedżer zasobów [modele wdrażania](../azure-resource-manager/resource-manager-deployment-model.md).</span><span class="sxs-lookup"><span data-stu-id="d188e-117">It's important toounderstand hello differences between hello Azure classic and Resource Manager [deployment models](../azure-resource-manager/resource-manager-deployment-model.md).</span></span> <span data-ttu-id="d188e-118">Moduł równoważenia obciążenia Azure jest konfigurowane różnie w każdym modelu.</span><span class="sxs-lookup"><span data-stu-id="d188e-118">Azure Load Balancer is configured differently in each model.</span></span>

### <a name="azure-classic-deployment-model"></a><span data-ttu-id="d188e-119">Azure klasycznego modelu wdrażania</span><span class="sxs-lookup"><span data-stu-id="d188e-119">Azure classic deployment model</span></span>

<span data-ttu-id="d188e-120">Maszyn wirtualnych wdrożonych w obrębie granicy usługi chmury mogą być zgrupowane toouse modułu równoważenia obciążenia.</span><span class="sxs-lookup"><span data-stu-id="d188e-120">Virtual machines deployed within a cloud service boundary can be grouped toouse a load balancer.</span></span> <span data-ttu-id="d188e-121">W tym modelu publicznego adresu IP i pełni kwalifikowana nazwa domeny, (FQDN) są przypisane tooa usługi w chmurze.</span><span class="sxs-lookup"><span data-stu-id="d188e-121">In this model a public IP address and a Fully Qualified Domain Name, (FQDN) are assigned tooa cloud service.</span></span> <span data-ttu-id="d188e-122">Moduł równoważenia obciążenia Hello portu tłumaczenia i obciążenia równoważy hello ruchu sieciowego za pomocą hello publicznego adresu IP dla usługi w chmurze hello.</span><span class="sxs-lookup"><span data-stu-id="d188e-122">hello load balancer does port translation and load balances hello network traffic by using hello public IP address for hello cloud service.</span></span>

<span data-ttu-id="d188e-123">Ruch z równoważeniem obciążenia jest zdefiniowane przez punkty końcowe.</span><span class="sxs-lookup"><span data-stu-id="d188e-123">Load-balanced traffic is defined by endpoints.</span></span> <span data-ttu-id="d188e-124">Punkty końcowe tłumaczenia portu mają relacją między portu przypisany publicznego hello hello publicznego adresu IP i portu lokalnego hello przypisane usługi toohello na określonej maszyny wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="d188e-124">Port translation endpoints have a one-to-one relationship between hello public-assigned port of hello public IP address and hello local port assigned toohello service on a specific virtual machine.</span></span> <span data-ttu-id="d188e-125">Punkty końcowe równoważenia obciążenia mają relacji jeden do wielu między hello publicznego adresu IP i usługami toohello przypisane porty lokalne powitania na maszynach wirtualnych hello hello w usłudze w chmurze.</span><span class="sxs-lookup"><span data-stu-id="d188e-125">Load balancing endpoints have a one-to-many relationship between hello public IP address and hello local ports assigned toohello services on hello virtual machines in hello cloud service.</span></span>

![Moduł równoważenia obciążenia Azure w hello klasycznego modelu wdrażania](./media/load-balancer-overview/asm-lb.png)

<span data-ttu-id="d188e-127">Rysunek 1 - Azure usługi równoważenia obciążenia w hello klasycznego modelu wdrażania</span><span class="sxs-lookup"><span data-stu-id="d188e-127">Figure 1 - Azure Load Balancer in hello classic deployment model</span></span>

<span data-ttu-id="d188e-128">Etykieta domeny Hello hello publiczny adres IP, który używa modułu równoważenia obciążenia dla tego modelu wdrażania hello jest \<nazwa usługi w chmurze\>. cloudapp.net.</span><span class="sxs-lookup"><span data-stu-id="d188e-128">hello domain label for hello public IP address that hello load balancer uses for this deployment model is \<cloud service name\>.cloudapp.net.</span></span> <span data-ttu-id="d188e-129">Witaj poniższy rysunek przedstawia hello modułu równoważenia obciążenia Azure w tym modelu.</span><span class="sxs-lookup"><span data-stu-id="d188e-129">hello following graphic shows hello Azure Load Balancer in this model.</span></span>

### <a name="azure-resource-manager-deployment-model"></a><span data-ttu-id="d188e-130">Model wdrażania usługi Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="d188e-130">Azure Resource Manager deployment model</span></span>

<span data-ttu-id="d188e-131">W modelu wdrażania usługi Resource Manager hello nie ma żadnych toocreate konieczność usługi w chmurze.</span><span class="sxs-lookup"><span data-stu-id="d188e-131">In hello Resource Manager deployment model there is no need toocreate a Cloud service.</span></span> <span data-ttu-id="d188e-132">Moduł równoważenia obciążenia Hello jest tworzony tooexplicitly kierować ruchem między wieloma maszynami wirtualnymi.</span><span class="sxs-lookup"><span data-stu-id="d188e-132">hello load balancer is created tooexplicitly route traffic among multiple virtual machines.</span></span>

<span data-ttu-id="d188e-133">Publiczny adres IP jest pojedynczego zasobu, który zawiera etykietę domeny (nazwa DNS).</span><span class="sxs-lookup"><span data-stu-id="d188e-133">A public IP address is an individual resource that has a domain label (DNS name).</span></span> <span data-ttu-id="d188e-134">Hello publiczny adres IP jest skojarzony z zasobem usługi równoważenia obciążenia hello.</span><span class="sxs-lookup"><span data-stu-id="d188e-134">hello public IP address is associated with hello load balancer resource.</span></span> <span data-ttu-id="d188e-135">Reguły modułu równoważenia obciążenia i przychodzącej reguły NAT użyć hello publicznego adresu IP, który został hello punktu końcowego Internet hello zasobów, które są odbieranie ruchu sieciowego z równoważeniem obciążenia.</span><span class="sxs-lookup"><span data-stu-id="d188e-135">Load balancer rules and inbound NAT rules use hello public IP address as hello Internet endpoint for hello resources that are receiving load-balanced network traffic.</span></span>

<span data-ttu-id="d188e-136">Prywatny lub publiczny adres IP jest przypisany maszyny wirtualnej tooa zasobów dołączony toohello sieci interfejsu.</span><span class="sxs-lookup"><span data-stu-id="d188e-136">A private or public IP address is assigned toohello network interface resource attached tooa virtual machine.</span></span> <span data-ttu-id="d188e-137">Po dodaniu puli adresów IP zaplecza tooa usługi równoważenia obciążenia interfejsu sieciowego hello modułu równoważenia obciążenia jest toosend stanie równoważeniem obciążenia ruchu sieciowego na podstawie równoważeniem obciążenia reguł hello, które są tworzone.</span><span class="sxs-lookup"><span data-stu-id="d188e-137">Once a network interface is added tooa load balancer's back-end IP address pool, hello load balancer is able toosend load-balanced network traffic based on hello load-balanced rules that are created.</span></span>

<span data-ttu-id="d188e-138">Witaj poniższy rysunek przedstawia hello Azure usługi równoważenia obciążenia w danym modelu:</span><span class="sxs-lookup"><span data-stu-id="d188e-138">hello following graphic shows hello Azure Load Balancer in this model:</span></span>

![Równoważenia obciążenia Azure Resource Manager](./media/load-balancer-overview/arm-lb.png)

<span data-ttu-id="d188e-140">Rysunek 2 — równoważenia obciążenia Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="d188e-140">Figure 2 - Azure Load Balancer in Resource Manager</span></span>

<span data-ttu-id="d188e-141">Moduł równoważenia obciążenia Hello mogą być zarządzane za pomocą Menedżera zasobów na podstawie szablonów, interfejsów API i narzędzia.</span><span class="sxs-lookup"><span data-stu-id="d188e-141">hello load balancer can be managed through Resource Manager-based templates, APIs, and tools.</span></span> <span data-ttu-id="d188e-142">toolearn więcej o Resource Manager, zobacz hello [omówienie Resource Manager](../azure-resource-manager/resource-group-overview.md).</span><span class="sxs-lookup"><span data-stu-id="d188e-142">toolearn more about Resource Manager, see hello [Resource Manager overview](../azure-resource-manager/resource-group-overview.md).</span></span>

## <a name="load-balancer-features"></a><span data-ttu-id="d188e-143">Funkcje równoważenia obciążenia</span><span class="sxs-lookup"><span data-stu-id="d188e-143">Load Balancer features</span></span>

* <span data-ttu-id="d188e-144">Dystrybucji wyznaczania wartości skrótu</span><span class="sxs-lookup"><span data-stu-id="d188e-144">Hash-based distribution</span></span>

    <span data-ttu-id="d188e-145">Moduł równoważenia obciążenia Azure używa algorytmu wyznaczania wartości skrótu dystrybucji.</span><span class="sxs-lookup"><span data-stu-id="d188e-145">Azure Load Balancer uses a hash-based distribution algorithm.</span></span> <span data-ttu-id="d188e-146">Domyślnie używa skrót 5-elementowej składa się z źródłowy adres IP, port źródłowy, docelowy adres IP, docelowy port i protokół typu toomap ruchu tooavailable serwerów.</span><span class="sxs-lookup"><span data-stu-id="d188e-146">By default, it uses a 5-tuple hash composed of source IP, source port, destination IP, destination port, and protocol type toomap traffic tooavailable servers.</span></span> <span data-ttu-id="d188e-147">Zapewnia tylko lepkości *w* sesji transportu.</span><span class="sxs-lookup"><span data-stu-id="d188e-147">It provides stickiness only *within* a transport session.</span></span> <span data-ttu-id="d188e-148">Pakietów hello tej samej sesji TCP lub UDP zostanie przekierowany toohello samo wystąpienie za punktem końcowym hello równoważeniem obciążenia.</span><span class="sxs-lookup"><span data-stu-id="d188e-148">Packets in hello same TCP or UDP session will be directed toohello same instance behind hello load-balanced endpoint.</span></span> <span data-ttu-id="d188e-149">Gdy powitania klienta zostanie zamknięte i ponownie otwiera połączenia hello lub uruchamia nową sesję z hello tego samego źródłowego adresu IP, zmiany portu źródłowego hello.</span><span class="sxs-lookup"><span data-stu-id="d188e-149">When hello client closes and reopens hello connection or starts a new session from hello same source IP, hello source port changes.</span></span> <span data-ttu-id="d188e-150">Może to spowodować hello ruchu toogo tooa innym punktem końcowym w różnych centrach danych.</span><span class="sxs-lookup"><span data-stu-id="d188e-150">This may cause hello traffic toogo tooa different endpoint in a different datacenter.</span></span>

    <span data-ttu-id="d188e-151">Aby uzyskać więcej informacji, zobacz [tryb dystrybucji modułu równoważenia obciążenia](load-balancer-distribution-mode.md).</span><span class="sxs-lookup"><span data-stu-id="d188e-151">For more details, see [Load balancer distribution mode](load-balancer-distribution-mode.md).</span></span> <span data-ttu-id="d188e-152">Witaj poniższy rysunek przedstawia dystrybucji hello wyznaczania wartości skrótu:</span><span class="sxs-lookup"><span data-stu-id="d188e-152">hello following graphic shows hello hash-based distribution:</span></span>

    ![Dystrybucji wyznaczania wartości skrótu](./media/load-balancer-overview/load-balancer-distribution.png)

    <span data-ttu-id="d188e-154">Rysunek 3 – skrótu na podstawie dystrybucji</span><span class="sxs-lookup"><span data-stu-id="d188e-154">Figure 3 - Hash based distribution</span></span>

* <span data-ttu-id="d188e-155">Przekierowanie portów</span><span class="sxs-lookup"><span data-stu-id="d188e-155">Port forwarding</span></span>

    <span data-ttu-id="d188e-156">Sterowanie za pośrednictwem komunikacji przychodzącej jak odbywa się Azure oferuje usługi równoważenia obciążenia.</span><span class="sxs-lookup"><span data-stu-id="d188e-156">Azure Load Balancer gives you control over how inbound communication is managed.</span></span> <span data-ttu-id="d188e-157">Ta komunikacja ruch inicjowane z Internetu hosty, maszyny wirtualne w innych usług w chmurze lub sieci wirtualne.</span><span class="sxs-lookup"><span data-stu-id="d188e-157">This communication includes traffic initiated from Internet hosts, virtual machines in other cloud services, or virtual networks.</span></span> <span data-ttu-id="d188e-158">Ten formant jest reprezentowany przez punkt końcowy (nazywanych również wejściowy punkt końcowy).</span><span class="sxs-lookup"><span data-stu-id="d188e-158">This control is represented by an endpoint (also called an input endpoint).</span></span>

    <span data-ttu-id="d188e-159">Wejściowy punkt końcowy nasłuchuje na porcie publicznego i przekazuje ruch tooan wewnętrznego portu.</span><span class="sxs-lookup"><span data-stu-id="d188e-159">An input endpoint listens on a public port and forwards traffic tooan internal port.</span></span> <span data-ttu-id="d188e-160">Można mapować hello takie same porty dla wewnętrznego lub zewnętrznego punktu końcowego lub użyć innego portu dla nich.</span><span class="sxs-lookup"><span data-stu-id="d188e-160">You can map hello same ports for an internal or external endpoint or use a different port for them.</span></span> <span data-ttu-id="d188e-161">Na przykład może mieć tooport toolisten skonfigurowanego serwera sieci web 81 podczas mapowania publiczny punkt końcowy hello jest port 80.</span><span class="sxs-lookup"><span data-stu-id="d188e-161">For example, you can have a web server configured toolisten tooport 81 while hello public endpoint mapping is port 80.</span></span> <span data-ttu-id="d188e-162">Tworzenie Hello publiczny punkt końcowy wyzwala hello utworzenie wystąpienia usługi równoważenia obciążenia.</span><span class="sxs-lookup"><span data-stu-id="d188e-162">hello creation of a public endpoint triggers hello creation of a load balancer instance.</span></span>

    <span data-ttu-id="d188e-163">Gdy utworzona za pomocą hello portalu Azure, portalu hello automatycznie tworzy maszynę wirtualną toohello punktów końcowych dla hello protokołu RDP (Remote Desktop) i zdalnego ruch w sesji środowiska Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="d188e-163">When created using hello Azure portal, hello portal automatically creates endpoints toohello virtual machine for hello Remote Desktop Protocol (RDP) and remote Windows PowerShell session traffic.</span></span> <span data-ttu-id="d188e-164">Można użyć tych punktów końcowych tooremotely administrować hello maszyny wirtualnej za pośrednictwem hello Internet.</span><span class="sxs-lookup"><span data-stu-id="d188e-164">You can use these endpoints tooremotely administer hello virtual machine over hello Internet.</span></span>

* <span data-ttu-id="d188e-165">Automatyczna ponowna konfiguracja</span><span class="sxs-lookup"><span data-stu-id="d188e-165">Automatic reconfiguration</span></span>

    <span data-ttu-id="d188e-166">Moduł równoważenia obciążenia Azure natychmiast ponownie konfiguruje się wystąpień skalowanie w górę lub w dół.</span><span class="sxs-lookup"><span data-stu-id="d188e-166">Azure Load Balancer instantly reconfigures itself when you scale instances up or down.</span></span> <span data-ttu-id="d188e-167">Na przykład tego procesu ponownej konfiguracji odbywa się wraz ze zwiększeniem, hello liczba wystąpień ról sieć web/proces roboczy w usłudze w chmurze lub podczas dodawania kolejnych maszyn wirtualnych do hello Ustaw sam równoważeniem obciążenia.</span><span class="sxs-lookup"><span data-stu-id="d188e-167">For example, this reconfiguration happens when you increase hello instance count for web/worker roles in a cloud service or when you add additional virtual machines into hello same load-balanced set.</span></span>

* <span data-ttu-id="d188e-168">Monitorowanie usługi</span><span class="sxs-lookup"><span data-stu-id="d188e-168">Service monitoring</span></span>

    <span data-ttu-id="d188e-169">Moduł równoważenia obciążenia Azure można badania kondycji hello hello różne wystąpienia serwera.</span><span class="sxs-lookup"><span data-stu-id="d188e-169">Azure Load Balancer can probe hello health of hello various server instances.</span></span> <span data-ttu-id="d188e-170">W przypadku awarii toorespond sondę modułu równoważenia obciążenia hello zatrzymuje, wysyłanie nowych połączeń toohello złej kondycji wystąpień.</span><span class="sxs-lookup"><span data-stu-id="d188e-170">When a probe fails toorespond, hello load balancer stops sending new connections toohello unhealthy instances.</span></span> <span data-ttu-id="d188e-171">Nie dotyczy istniejących połączeń.</span><span class="sxs-lookup"><span data-stu-id="d188e-171">Existing connections are not impacted.</span></span>

    <span data-ttu-id="d188e-172">Obsługiwane są trzy typy sond:</span><span class="sxs-lookup"><span data-stu-id="d188e-172">Three types of probes are supported:</span></span>

    + <span data-ttu-id="d188e-173">**Sondowanie agenta gościa (na platformie jako usługa maszyn wirtualnych tylko):** hello agenta gościa w maszynie wirtualnej hello korzysta z usługi równoważenia obciążenia hello.</span><span class="sxs-lookup"><span data-stu-id="d188e-173">**Guest agent probe (on Platform as a Service Virtual Machines only):** hello load balancer utilizes hello guest agent inside hello virtual machine.</span></span> <span data-ttu-id="d188e-174">Hello agenta gościa wykrywa i wysyła odpowiedź HTTP 200 OK tylko wtedy, gdy hello wystąpienie jest w stanie gotowe hello (tj. hello wystąpienia nie jest w stanie tak zajęty, odtwarzanie lub zatrzymywanie).</span><span class="sxs-lookup"><span data-stu-id="d188e-174">hello guest agent listens and responds with an HTTP 200 OK response only when hello instance is in hello ready state (i.e. hello instance is not in a state like busy, recycling, or stopping).</span></span> <span data-ttu-id="d188e-175">W przypadku niepowodzenia toorespond HTTP 200 OK agenta hello znaczniki usługi równoważenia obciążenia hello hello wystąpienia jako odpowiadać i kończy działanie wysyłania ruchu toothat wystąpienia.</span><span class="sxs-lookup"><span data-stu-id="d188e-175">If hello agent fails toorespond with an HTTP 200 OK, hello load balancer marks hello instance as unresponsive and stops sending traffic toothat instance.</span></span> <span data-ttu-id="d188e-176">Moduł równoważenia obciążenia Hello nadal tooping hello wystąpienia.</span><span class="sxs-lookup"><span data-stu-id="d188e-176">hello load balancer continues tooping hello instance.</span></span> <span data-ttu-id="d188e-177">Agent gościa hello odpowie 200 protokołu HTTP, hello modułu równoważenia obciążenia będzie wysyłać ruch toothat wystąpienia ponownie.</span><span class="sxs-lookup"><span data-stu-id="d188e-177">If hello guest agent responds with an HTTP 200, hello load balancer will send traffic toothat instance again.</span></span> <span data-ttu-id="d188e-178">Podczas korzystania z roli sieci web, kodu witryny sieci Web jest zwykle działa w w3wp.exe, który nie jest monitorowane przez hello Azure sieci szkieletowej lub agenta gościa.</span><span class="sxs-lookup"><span data-stu-id="d188e-178">When you're using a web role, your website code typically runs in w3wp.exe, which is not monitored by hello Azure fabric or guest agent.</span></span> <span data-ttu-id="d188e-179">To oznacza, że błędy w w3wp.exe (np. w odpowiedzi HTTP 500) nie będzie toohello zgłoszone agenta gościa, a hello modułu równoważenia obciążenia nie będzie wiedzieć, tootake danego wystąpienia poza obrotu.</span><span class="sxs-lookup"><span data-stu-id="d188e-179">This means that failures in w3wp.exe (e.g. HTTP 500 responses) will not be reported toohello guest agent, and hello load balancer will not know tootake that instance out of rotation.</span></span>
    + <span data-ttu-id="d188e-180">**Niestandardowe badanie HTTP:** sonda zastępuje hello domyślnej funkcji badania (agenta gościa).</span><span class="sxs-lookup"><span data-stu-id="d188e-180">**HTTP custom probe:** This probe overrides hello default (guest agent) probe.</span></span> <span data-ttu-id="d188e-181">Można użyć toocreate kondycję hello toodetermine niestandardowej logiki własne hello wystąpienia roli.</span><span class="sxs-lookup"><span data-stu-id="d188e-181">You can use it toocreate your own custom logic toodetermine hello health of hello role instance.</span></span> <span data-ttu-id="d188e-182">Moduł równoważenia obciążenia Hello będzie regularnie sondowania punktu końcowego (co 15 sekund, domyślnie).</span><span class="sxs-lookup"><span data-stu-id="d188e-182">hello load balancer will regularly probe your endpoint (every 15 seconds, by default).</span></span> <span data-ttu-id="d188e-183">wystąpienie Hello jest uznawany za toobe rotacji, jeśli odpowiada 200 protokołu HTTP lub TCP potwierdzenia w hello limicie czasu (domyślnie 31 sekund).</span><span class="sxs-lookup"><span data-stu-id="d188e-183">hello instance is considered toobe in rotation if it responds with a TCP ACK or HTTP 200 within hello timeout period (default of 31 seconds).</span></span> <span data-ttu-id="d188e-184">Jest to przydatne wykonywania własnego wystąpienia tooremove logiki z obrotu hello usługi równoważenia obciążenia.</span><span class="sxs-lookup"><span data-stu-id="d188e-184">This is useful for implementing your own logic tooremove instances from hello load balancer's rotation.</span></span> <span data-ttu-id="d188e-185">Na przykład można skonfigurować hello wystąpienia tooreturn stan – 200, jeśli wystąpienie hello jest ponad 90% zasobów Procesora.</span><span class="sxs-lookup"><span data-stu-id="d188e-185">For example, you can configure hello instance tooreturn a non-200 status if hello instance is above 90% CPU.</span></span> <span data-ttu-id="d188e-186">Dla role sieci web, które używają w3wp.exe, możesz również uzyskać automatyczne monitorowania witryny sieci Web, ponieważ badanie stanu – 200 toohello zwracać błędów w kodzie witryny sieci Web.</span><span class="sxs-lookup"><span data-stu-id="d188e-186">For web roles that use w3wp.exe, you also get automatic monitoring of your website, since failures in your website code return a non-200 status toohello probe.</span></span>
    + <span data-ttu-id="d188e-187">**Niestandardowe sondowaniem TCP:** sonda opiera się na pomyślne port sondy tooa zdefiniowane ustanowienia TCP sesji.</span><span class="sxs-lookup"><span data-stu-id="d188e-187">**TCP custom probe:** This probe relies on successful TCP session establishment tooa defined probe port.</span></span>

    <span data-ttu-id="d188e-188">Aby uzyskać więcej informacji, zobacz hello [schematu LoadBalancerProbe](https://msdn.microsoft.com/library/azure/jj151530.aspx).</span><span class="sxs-lookup"><span data-stu-id="d188e-188">For more information, see hello [LoadBalancerProbe schema](https://msdn.microsoft.com/library/azure/jj151530.aspx).</span></span>

* <span data-ttu-id="d188e-189">Źródło translatora adresów Sieciowych</span><span class="sxs-lookup"><span data-stu-id="d188e-189">Source NAT</span></span>

    <span data-ttu-id="d188e-190">Wszystkie toohello ruch wychodzący Internetu, która pochodzi z usługi podlega źródła translatora adresów Sieciowych (SNAT) przy użyciu hello tego samego adresu VIP, ponieważ hello ruchu przychodzącego.</span><span class="sxs-lookup"><span data-stu-id="d188e-190">All outbound traffic toohello Internet that originates from your service undergoes source NAT (SNAT) by using hello same VIP address as hello incoming traffic.</span></span> <span data-ttu-id="d188e-191">SNAT oferuje istotne korzyści:</span><span class="sxs-lookup"><span data-stu-id="d188e-191">SNAT provides important benefits:</span></span>

    + <span data-ttu-id="d188e-192">Umożliwia on łatwe uaktualnianie i odzyskiwanie po awarii usługi, ponieważ hello VIP można dynamicznie mapowane tooanother wystąpienie usługi hello.</span><span class="sxs-lookup"><span data-stu-id="d188e-192">It enables easy upgrade and disaster recovery of services, since hello VIP can be dynamically mapped tooanother instance of hello service.</span></span>
    + <span data-ttu-id="d188e-193">Ułatwia ona zarządzanie listę kontroli dostępu (ACL) kontrolą dostępu.</span><span class="sxs-lookup"><span data-stu-id="d188e-193">It makes access control list (ACL) management easier.</span></span> <span data-ttu-id="d188e-194">Listy kontroli dostępu w przeliczeniu na adresy VIP nie zmieniaj jako skalowania usługi w górę, dół, lub pobrać ponownej instalacji.</span><span class="sxs-lookup"><span data-stu-id="d188e-194">ACLs expressed in terms of VIPs do not change as services scale up, down, or get redeployed.</span></span>

    <span data-ttu-id="d188e-195">konfiguracji usługi równoważenia obciążenia Hello obsługuje pełne stożkowy NAT UDP.</span><span class="sxs-lookup"><span data-stu-id="d188e-195">hello load balancer configuration supports full cone NAT for UDP.</span></span> <span data-ttu-id="d188e-196">Pełna stożkowy translatora adresów Sieciowych jest typem translatora adresów Sieciowych, gdzie hello port zezwala na połączenia przychodzące z dowolnym hostem zewnętrznych (w odpowiedzi żądania wychodzącego tooan).</span><span class="sxs-lookup"><span data-stu-id="d188e-196">Full cone NAT is a type of NAT where hello port allows inbound connections from any external host (in response tooan outbound request).</span></span>

    <span data-ttu-id="d188e-197">Dla każdego nowego wychodzące połączenie, które inicjuje maszynę wirtualną portu wychodzącego również jest przydzielany przez hello równoważenia obciążenia.</span><span class="sxs-lookup"><span data-stu-id="d188e-197">For each new outbound connection that a virtual machine initiates, an outbound port is also allocated by hello load balancer.</span></span> <span data-ttu-id="d188e-198">hoście zewnętrznym Hello widzi ruch przydzielone wirtualne adresy IP IP portu wirtualnego.</span><span class="sxs-lookup"><span data-stu-id="d188e-198">hello external host sees traffic with a virtual IP (VIP)-allocated port.</span></span> <span data-ttu-id="d188e-199">Scenariusze, które wymagają dużej liczby połączeń wychodzących, zalecane jest toouse [poziomie wystąpienia publicznego adresu IP](../virtual-network/virtual-networks-instance-level-public-ip.md) adresów hello maszyny wirtualne mają SNAT dedykowany adres IP ruchu wychodzącego.</span><span class="sxs-lookup"><span data-stu-id="d188e-199">For scenarios that require a large number of outbound connections, it is recommended toouse [instance-level public IP](../virtual-network/virtual-networks-instance-level-public-ip.md) addresses so that hello VMs have a dedicated outbound IP address for SNAT.</span></span> <span data-ttu-id="d188e-200">Zmniejsza ryzyko hello wyczerpania portu.</span><span class="sxs-lookup"><span data-stu-id="d188e-200">This reduces hello risk of port exhaustion.</span></span>

    <span data-ttu-id="d188e-201">Zobacz [połączeń wychodzących](load-balancer-outbound-connections.md) artykułu, aby uzyskać więcej informacji na ten temat.</span><span class="sxs-lookup"><span data-stu-id="d188e-201">Please see [outbound connections](load-balancer-outbound-connections.md) article for more details on this topic.</span></span>

### <a name="support-for-multiple-load-balanced-ip-addresses-for-virtual-machines"></a><span data-ttu-id="d188e-202">Obsługa wielu adresów IP z równoważeniem obciążenia dla maszyn wirtualnych</span><span class="sxs-lookup"><span data-stu-id="d188e-202">Support for multiple load-balanced IP addresses for virtual machines</span></span>
<span data-ttu-id="d188e-203">Można przypisać więcej niż jeden z równoważeniem obciążenia publicznego zbiór adresów IP tooa maszyn wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="d188e-203">You can assign more than one load-balanced public IP address tooa set of virtual machines.</span></span> <span data-ttu-id="d188e-204">Z tej możliwości może obsługiwać wiele witryn sieci Web protokołu SSL i/lub wielu odbiorniki grupy dostępności AlwaysOn programu SQL Server na powitania sam zestaw maszyn wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="d188e-204">With this ability, you can host multiple SSL websites and/or multiple SQL Server AlwaysOn Availability Group listeners on hello same set of virtual machines.</span></span> <span data-ttu-id="d188e-205">Aby uzyskać więcej informacji, zobacz [wieloma wirtualnymi adresami IP dla danej usługi chmury](load-balancer-multivip.md).</span><span class="sxs-lookup"><span data-stu-id="d188e-205">For more information, see [Multiple VIPs per cloud service](load-balancer-multivip.md).</span></span>

[!INCLUDE [load-balancer-compare-tm-ag-lb-include.md](../../includes/load-balancer-compare-tm-ag-lb-include.md)]

## <a name="limitations"></a><span data-ttu-id="d188e-206">Ograniczenia</span><span class="sxs-lookup"><span data-stu-id="d188e-206">Limitations</span></span>

<span data-ttu-id="d188e-207">Pul zaplecza modułu równoważenia obciążenia może zawierać żadnych SKU maszyny Wirtualnej, z wyjątkiem warstwy podstawowa.</span><span class="sxs-lookup"><span data-stu-id="d188e-207">Load Balancer backend pools can contain any VM SKU except Basic tier.</span></span>

## <a name="next-steps"></a><span data-ttu-id="d188e-208">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="d188e-208">Next steps</span></span>

- <span data-ttu-id="d188e-209">Dowiedz się więcej o [internetowy modułu równoważenia obciążenia](load-balancer-internet-overview.md)</span><span class="sxs-lookup"><span data-stu-id="d188e-209">Learn more about [Internet-facing load balancer](load-balancer-internet-overview.md)</span></span>

- <span data-ttu-id="d188e-210">Dowiedz się więcej o [Omówienie usługi równoważenia obciążenia wewnętrznego](load-balancer-internal-overview.md)</span><span class="sxs-lookup"><span data-stu-id="d188e-210">Learn more about [Internal load balancer overview](load-balancer-internal-overview.md)</span></span>

- <span data-ttu-id="d188e-211">Utwórz [internetowy modułu równoważenia obciążenia](load-balancer-get-started-internet-portal.md)</span><span class="sxs-lookup"><span data-stu-id="d188e-211">Create an [Internet-facing load balancer](load-balancer-get-started-internet-portal.md)</span></span>

- <span data-ttu-id="d188e-212">Dowiedz się więcej o niektórych hello innego klucza [możliwości w zakresie obsługi](../networking/networking-overview.md) platformy Azure</span><span class="sxs-lookup"><span data-stu-id="d188e-212">Learn about some of hello other key [networking capabilities](../networking/networking-overview.md) of Azure</span></span>

