---
title: "Omówienie usługi równoważenia obciążenia Azure | Dokumentacja firmy Microsoft"
description: "Omówienie funkcji równoważenia obciążenia Azure, architektura i implementacji. Dowiedz się, jak działa usługa równoważenia obciążenia i wykorzystać go w chmurze."
services: load-balancer
documentationcenter: na
author: kumudd
manager: timlt
editor: 
ms.assetid: 0f313dc0-f007-4cee-b2b9-f542357925a3
ms.service: load-balancer
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 10/24/2016
ms.author: kumud
ms.openlocfilehash: 617da1cf41db08d319d6fe9fa7bc96b794a0001e
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 08/03/2017
---
# <a name="azure-load-balancer-overview"></a><span data-ttu-id="37257-104">Omówienie usługi Azure Load Balancer</span><span class="sxs-lookup"><span data-stu-id="37257-104">Azure Load Balancer overview</span></span>

<span data-ttu-id="37257-105">Usługa Azure Load Balancer zapewnia Twoim aplikacjom wysoką dostępność i wydajność sieci.</span><span class="sxs-lookup"><span data-stu-id="37257-105">Azure Load Balancer delivers high availability and network performance to your applications.</span></span> <span data-ttu-id="37257-106">Jest równoważenia obciążenia warstwy 4 (TCP, UDP), który rozdziela przychodzący ruch między dobrej kondycji wystąpień usługi zdefiniowane w zestawie o zrównoważonym obciążeniu.</span><span class="sxs-lookup"><span data-stu-id="37257-106">It is a Layer 4 (TCP, UDP) load balancer that distributes incoming traffic among healthy instances of services defined in a load-balanced set.</span></span>

<span data-ttu-id="37257-107">Moduł równoważenia obciążenia Azure można skonfigurować w celu:</span><span class="sxs-lookup"><span data-stu-id="37257-107">Azure Load Balancer can be configured to:</span></span>

* <span data-ttu-id="37257-108">Równoważenia obciążenia przychodzącego Internet ruchu do maszyn wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="37257-108">Load balance incoming Internet traffic to virtual machines.</span></span> <span data-ttu-id="37257-109">Ta konfiguracja jest określana jako [równoważenia obciążenia internetowy](load-balancer-internet-overview.md).</span><span class="sxs-lookup"><span data-stu-id="37257-109">This configuration is known as [Internet-facing load balancing](load-balancer-internet-overview.md).</span></span>
* <span data-ttu-id="37257-110">Ruch Równoważenie obciążenia między maszynami wirtualnymi w sieci wirtualnej, między maszynami wirtualnymi w usługi w chmurze lub między komputerami lokalnymi i maszyn wirtualnych w sieci wirtualnej między lokalizacjami.</span><span class="sxs-lookup"><span data-stu-id="37257-110">Load balance traffic between virtual machines in a virtual network, between virtual machines in cloud services, or between on-premises computers and virtual machines in a cross-premises virtual network.</span></span> <span data-ttu-id="37257-111">Ta konfiguracja jest określana jako [równoważenia obciążenia wewnętrznego](load-balancer-internal-overview.md).</span><span class="sxs-lookup"><span data-stu-id="37257-111">This configuration is known as [internal load balancing](load-balancer-internal-overview.md).</span></span>
* <span data-ttu-id="37257-112">Przesyłanie zewnętrznego ruchu sieciowego do określonej maszyny wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="37257-112">Forward external traffic to a specific virtual machine.</span></span>

<span data-ttu-id="37257-113">Wszystkie zasoby w chmurze muszą publiczny adres IP, który ma być dostępny z Internetu.</span><span class="sxs-lookup"><span data-stu-id="37257-113">All resources in the cloud need a public IP address to be reachable from the Internet.</span></span> <span data-ttu-id="37257-114">Infrastruktury chmury na platformie Azure używa bez obsługi routingu adresów IP do jej zasobów.</span><span class="sxs-lookup"><span data-stu-id="37257-114">The cloud infrastructure in Azure uses non-routable IP addresses for its resources.</span></span> <span data-ttu-id="37257-115">Azure używa translatora adresów sieciowych (NAT) z publicznych adresów IP do komunikacji z Internetem.</span><span class="sxs-lookup"><span data-stu-id="37257-115">Azure uses network address translation (NAT) with public IP addresses to communicate to the Internet.</span></span>

## <a name="azure-deployment-models"></a><span data-ttu-id="37257-116">Modele wdrażania platformy Azure</span><span class="sxs-lookup"><span data-stu-id="37257-116">Azure deployment models</span></span>

<span data-ttu-id="37257-117">Ważne jest, aby poznać różnice między klasyczny Portal Azure i Menedżer zasobów [modele wdrażania](../azure-resource-manager/resource-manager-deployment-model.md).</span><span class="sxs-lookup"><span data-stu-id="37257-117">It's important to understand the differences between the Azure classic and Resource Manager [deployment models](../azure-resource-manager/resource-manager-deployment-model.md).</span></span> <span data-ttu-id="37257-118">Moduł równoważenia obciążenia Azure jest konfigurowane różnie w każdym modelu.</span><span class="sxs-lookup"><span data-stu-id="37257-118">Azure Load Balancer is configured differently in each model.</span></span>

### <a name="azure-classic-deployment-model"></a><span data-ttu-id="37257-119">Azure klasycznego modelu wdrażania</span><span class="sxs-lookup"><span data-stu-id="37257-119">Azure classic deployment model</span></span>

<span data-ttu-id="37257-120">Aby użyć modułu równoważenia obciążenia można grupować maszyn wirtualnych wdrożonych w obrębie granicy usługi chmury.</span><span class="sxs-lookup"><span data-stu-id="37257-120">Virtual machines deployed within a cloud service boundary can be grouped to use a load balancer.</span></span> <span data-ttu-id="37257-121">W tym modelu publicznego adresu IP i pełni kwalifikowana nazwa domeny, (FQDN), które są przypisane do usługi w chmurze.</span><span class="sxs-lookup"><span data-stu-id="37257-121">In this model a public IP address and a Fully Qualified Domain Name, (FQDN) are assigned to a cloud service.</span></span> <span data-ttu-id="37257-122">Moduł równoważenia obciążenia portu tłumaczenia i obciążenia równoważy ruchu sieciowego za pomocą publicznego adresu IP dla usługi w chmurze.</span><span class="sxs-lookup"><span data-stu-id="37257-122">The load balancer does port translation and load balances the network traffic by using the public IP address for the cloud service.</span></span>

<span data-ttu-id="37257-123">Ruch z równoważeniem obciążenia jest zdefiniowane przez punkty końcowe.</span><span class="sxs-lookup"><span data-stu-id="37257-123">Load-balanced traffic is defined by endpoints.</span></span> <span data-ttu-id="37257-124">Punkty końcowe tłumaczenia portu mają relacją między przypisany publiczny port publiczny adres IP i portu lokalnego z usługą na określonej maszyny wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="37257-124">Port translation endpoints have a one-to-one relationship between the public-assigned port of the public IP address and the local port assigned to the service on a specific virtual machine.</span></span> <span data-ttu-id="37257-125">Punkty końcowe równoważenia obciążenia ma relacji jeden do wielu między publiczny adres IP i portów lokalnych przypisane do usług w przypadku maszyn wirtualnych w usłudze w chmurze.</span><span class="sxs-lookup"><span data-stu-id="37257-125">Load balancing endpoints have a one-to-many relationship between the public IP address and the local ports assigned to the services on the virtual machines in the cloud service.</span></span>

![Moduł równoważenia obciążenia Azure w klasycznym modelu wdrażania](./media/load-balancer-overview/asm-lb.png)

<span data-ttu-id="37257-127">Rysunek 1 — moduł równoważenia obciążenia Azure w klasycznym modelu wdrażania</span><span class="sxs-lookup"><span data-stu-id="37257-127">Figure 1 - Azure Load Balancer in the classic deployment model</span></span>

<span data-ttu-id="37257-128">Etykieta domeny publicznego adresu IP, który korzysta z usługi równoważenia obciążenia dla tego modelu wdrażania jest \<nazwa usługi w chmurze\>. cloudapp.net.</span><span class="sxs-lookup"><span data-stu-id="37257-128">The domain label for the public IP address that the load balancer uses for this deployment model is \<cloud service name\>.cloudapp.net.</span></span> <span data-ttu-id="37257-129">Na poniższym rysunku przedstawiono moduł równoważenia obciążenia Azure, w tym modelu.</span><span class="sxs-lookup"><span data-stu-id="37257-129">The following graphic shows the Azure Load Balancer in this model.</span></span>

### <a name="azure-resource-manager-deployment-model"></a><span data-ttu-id="37257-130">Model wdrażania usługi Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="37257-130">Azure Resource Manager deployment model</span></span>

<span data-ttu-id="37257-131">W modelu wdrażania usługi Resource Manager nie ma potrzeby tworzenia usługi w chmurze.</span><span class="sxs-lookup"><span data-stu-id="37257-131">In the Resource Manager deployment model there is no need to create a Cloud service.</span></span> <span data-ttu-id="37257-132">Moduł równoważenia obciążenia tworzona jest jawnie kierować ruchem między wieloma maszynami wirtualnymi.</span><span class="sxs-lookup"><span data-stu-id="37257-132">The load balancer is created to explicitly route traffic among multiple virtual machines.</span></span>

<span data-ttu-id="37257-133">Publiczny adres IP jest pojedynczego zasobu, który zawiera etykietę domeny (nazwa DNS).</span><span class="sxs-lookup"><span data-stu-id="37257-133">A public IP address is an individual resource that has a domain label (DNS name).</span></span> <span data-ttu-id="37257-134">Publiczny adres IP jest skojarzony z zasobem usługi równoważenia obciążenia.</span><span class="sxs-lookup"><span data-stu-id="37257-134">The public IP address is associated with the load balancer resource.</span></span> <span data-ttu-id="37257-135">Reguły modułu równoważenia obciążenia i przychodzącej reguły NAT Użyj publicznego adresu IP jako punkt końcowy Internet zasobów, które są odbieranie ruchu sieciowego z równoważeniem obciążenia.</span><span class="sxs-lookup"><span data-stu-id="37257-135">Load balancer rules and inbound NAT rules use the public IP address as the Internet endpoint for the resources that are receiving load-balanced network traffic.</span></span>

<span data-ttu-id="37257-136">Prywatny lub publiczny adres IP jest przypisany do zasobu interfejsu sieciowego dołączony do maszyny wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="37257-136">A private or public IP address is assigned to the network interface resource attached to a virtual machine.</span></span> <span data-ttu-id="37257-137">Po dodaniu karty sieciowej do puli adresów IP zaplecza modułu równoważenia obciążenia modułu równoważenia obciążenia jest możliwość wysyłania ruchu równoważeniem obciążenia sieciowego na podstawie reguł równoważenia obciążenia, które są tworzone.</span><span class="sxs-lookup"><span data-stu-id="37257-137">Once a network interface is added to a load balancer's back-end IP address pool, the load balancer is able to send load-balanced network traffic based on the load-balanced rules that are created.</span></span>

<span data-ttu-id="37257-138">Na poniższym rysunku przedstawiono moduł równoważenia obciążenia Azure w danym modelu:</span><span class="sxs-lookup"><span data-stu-id="37257-138">The following graphic shows the Azure Load Balancer in this model:</span></span>

![Równoważenia obciążenia Azure Resource Manager](./media/load-balancer-overview/arm-lb.png)

<span data-ttu-id="37257-140">Rysunek 2 — równoważenia obciążenia Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="37257-140">Figure 2 - Azure Load Balancer in Resource Manager</span></span>

<span data-ttu-id="37257-141">Moduł równoważenia obciążenia mogą być zarządzane za pomocą Menedżera zasobów na podstawie szablonów, interfejsów API i narzędzia.</span><span class="sxs-lookup"><span data-stu-id="37257-141">The load balancer can be managed through Resource Manager-based templates, APIs, and tools.</span></span> <span data-ttu-id="37257-142">Aby dowiedzieć się więcej na temat Menedżera zasobów, zobacz [omówienie Resource Manager](../azure-resource-manager/resource-group-overview.md).</span><span class="sxs-lookup"><span data-stu-id="37257-142">To learn more about Resource Manager, see the [Resource Manager overview](../azure-resource-manager/resource-group-overview.md).</span></span>

## <a name="load-balancer-features"></a><span data-ttu-id="37257-143">Funkcje równoważenia obciążenia</span><span class="sxs-lookup"><span data-stu-id="37257-143">Load Balancer features</span></span>

* <span data-ttu-id="37257-144">Dystrybucji wyznaczania wartości skrótu</span><span class="sxs-lookup"><span data-stu-id="37257-144">Hash-based distribution</span></span>

    <span data-ttu-id="37257-145">Moduł równoważenia obciążenia Azure używa algorytmu wyznaczania wartości skrótu dystrybucji.</span><span class="sxs-lookup"><span data-stu-id="37257-145">Azure Load Balancer uses a hash-based distribution algorithm.</span></span> <span data-ttu-id="37257-146">Domyślnie skrót 5-elementowej składa się z źródłowy adres IP, port źródłowy, docelowy adres IP, port docelowy i typ protokołu używa do mapowania ruchu na dostępne serwery.</span><span class="sxs-lookup"><span data-stu-id="37257-146">By default, it uses a 5-tuple hash composed of source IP, source port, destination IP, destination port, and protocol type to map traffic to available servers.</span></span> <span data-ttu-id="37257-147">Zapewnia tylko lepkości *w* sesji transportu.</span><span class="sxs-lookup"><span data-stu-id="37257-147">It provides stickiness only *within* a transport session.</span></span> <span data-ttu-id="37257-148">Pakiety w tej samej sesji TCP lub UDP zostanie przekierowany do tego samego wystąpienia za punktem końcowym równoważeniem obciążenia.</span><span class="sxs-lookup"><span data-stu-id="37257-148">Packets in the same TCP or UDP session will be directed to the same instance behind the load-balanced endpoint.</span></span> <span data-ttu-id="37257-149">Jeśli klient zamyka i ponownie otwiera połączenie lub zaczyna się nowa sesja w tej samej źródłowy adres IP, zmiany portu źródłowego.</span><span class="sxs-lookup"><span data-stu-id="37257-149">When the client closes and reopens the connection or starts a new session from the same source IP, the source port changes.</span></span> <span data-ttu-id="37257-150">Może to spowodować ruchu przejść do innego punktu końcowego w różnych centrach danych.</span><span class="sxs-lookup"><span data-stu-id="37257-150">This may cause the traffic to go to a different endpoint in a different datacenter.</span></span>

    <span data-ttu-id="37257-151">Aby uzyskać więcej informacji, zobacz [tryb dystrybucji modułu równoważenia obciążenia](load-balancer-distribution-mode.md).</span><span class="sxs-lookup"><span data-stu-id="37257-151">For more details, see [Load balancer distribution mode](load-balancer-distribution-mode.md).</span></span> <span data-ttu-id="37257-152">Na poniższym rysunku przedstawiono dystrybucji wyznaczania wartości skrótu:</span><span class="sxs-lookup"><span data-stu-id="37257-152">The following graphic shows the hash-based distribution:</span></span>

    ![Dystrybucji wyznaczania wartości skrótu](./media/load-balancer-overview/load-balancer-distribution.png)

    <span data-ttu-id="37257-154">Rysunek 3 – skrótu na podstawie dystrybucji</span><span class="sxs-lookup"><span data-stu-id="37257-154">Figure 3 - Hash based distribution</span></span>

* <span data-ttu-id="37257-155">Przekierowanie portów</span><span class="sxs-lookup"><span data-stu-id="37257-155">Port forwarding</span></span>

    <span data-ttu-id="37257-156">Sterowanie za pośrednictwem komunikacji przychodzącej jak odbywa się Azure oferuje usługi równoważenia obciążenia.</span><span class="sxs-lookup"><span data-stu-id="37257-156">Azure Load Balancer gives you control over how inbound communication is managed.</span></span> <span data-ttu-id="37257-157">Ta komunikacja ruch inicjowane z Internetu hosty, maszyny wirtualne w innych usług w chmurze lub sieci wirtualne.</span><span class="sxs-lookup"><span data-stu-id="37257-157">This communication includes traffic initiated from Internet hosts, virtual machines in other cloud services, or virtual networks.</span></span> <span data-ttu-id="37257-158">Ten formant jest reprezentowany przez punkt końcowy (nazywanych również wejściowy punkt końcowy).</span><span class="sxs-lookup"><span data-stu-id="37257-158">This control is represented by an endpoint (also called an input endpoint).</span></span>

    <span data-ttu-id="37257-159">Wejściowy punkt końcowy nasłuchuje na porcie publicznego i przekazuje ruch do wewnętrznego portu.</span><span class="sxs-lookup"><span data-stu-id="37257-159">An input endpoint listens on a public port and forwards traffic to an internal port.</span></span> <span data-ttu-id="37257-160">Można mapować tych samych portów dla wewnętrznego lub zewnętrznego punktu końcowego lub użyć innego portu dla nich.</span><span class="sxs-lookup"><span data-stu-id="37257-160">You can map the same ports for an internal or external endpoint or use a different port for them.</span></span> <span data-ttu-id="37257-161">Na przykład można mieć serwera sieci web skonfigurowane do nasłuchiwania na porcie 81 podczas mapowania publiczny punkt końcowy jest port 80.</span><span class="sxs-lookup"><span data-stu-id="37257-161">For example, you can have a web server configured to listen to port 81 while the public endpoint mapping is port 80.</span></span> <span data-ttu-id="37257-162">Tworzenie publiczny punkt końcowy wyzwala utworzenie wystąpienia usługi równoważenia obciążenia.</span><span class="sxs-lookup"><span data-stu-id="37257-162">The creation of a public endpoint triggers the creation of a load balancer instance.</span></span>

    <span data-ttu-id="37257-163">Podczas tworzenia przy użyciu portalu Azure, portalu automatycznie tworzy punktów końcowych do maszyny wirtualnej dla protokołu RDP (Remote Desktop) i zdalnego ruch w sesji środowiska Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="37257-163">When created using the Azure portal, the portal automatically creates endpoints to the virtual machine for the Remote Desktop Protocol (RDP) and remote Windows PowerShell session traffic.</span></span> <span data-ttu-id="37257-164">Te punkty końcowe umożliwia zdalne administrowanie maszyny wirtualnej za pośrednictwem Internetu.</span><span class="sxs-lookup"><span data-stu-id="37257-164">You can use these endpoints to remotely administer the virtual machine over the Internet.</span></span>

* <span data-ttu-id="37257-165">Automatyczna ponowna konfiguracja</span><span class="sxs-lookup"><span data-stu-id="37257-165">Automatic reconfiguration</span></span>

    <span data-ttu-id="37257-166">Moduł równoważenia obciążenia Azure natychmiast ponownie konfiguruje się wystąpień skalowanie w górę lub w dół.</span><span class="sxs-lookup"><span data-stu-id="37257-166">Azure Load Balancer instantly reconfigures itself when you scale instances up or down.</span></span> <span data-ttu-id="37257-167">Na przykład tego procesu ponownej konfiguracji odbywa się podczas zwiększyć liczby wystąpień ról sieć web/proces roboczy w usłudze w chmurze lub podczas dodawania kolejnych maszyn wirtualnych do tego samego zestawu z równoważeniem obciążenia.</span><span class="sxs-lookup"><span data-stu-id="37257-167">For example, this reconfiguration happens when you increase the instance count for web/worker roles in a cloud service or when you add additional virtual machines into the same load-balanced set.</span></span>

* <span data-ttu-id="37257-168">Monitorowanie usługi</span><span class="sxs-lookup"><span data-stu-id="37257-168">Service monitoring</span></span>

    <span data-ttu-id="37257-169">Moduł równoważenia obciążenia Azure można badanie kondycji różne wystąpienia serwera.</span><span class="sxs-lookup"><span data-stu-id="37257-169">Azure Load Balancer can probe the health of the various server instances.</span></span> <span data-ttu-id="37257-170">Podczas badania nie odpowiada, usługi równoważenia obciążenia zatrzymuje wysyłanie nowych połączeń do wystąpień złej kondycji.</span><span class="sxs-lookup"><span data-stu-id="37257-170">When a probe fails to respond, the load balancer stops sending new connections to the unhealthy instances.</span></span> <span data-ttu-id="37257-171">Nie dotyczy istniejących połączeń.</span><span class="sxs-lookup"><span data-stu-id="37257-171">Existing connections are not impacted.</span></span>

    <span data-ttu-id="37257-172">Obsługiwane są trzy typy sond:</span><span class="sxs-lookup"><span data-stu-id="37257-172">Three types of probes are supported:</span></span>

    + <span data-ttu-id="37257-173">**Sondowanie agenta gościa (na platformie jako usługa maszyn wirtualnych tylko):** korzysta z usługi równoważenia obciążenia agenta gościa na maszynie wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="37257-173">**Guest agent probe (on Platform as a Service Virtual Machines only):** The load balancer utilizes the guest agent inside the virtual machine.</span></span> <span data-ttu-id="37257-174">Agent gościa wykrywa i wysyła odpowiedź HTTP 200 OK tylko wtedy, gdy wystąpienie jest w stanie gotowe (tj. wystąpienie nie jest w stanie tak zajęty, odtwarzanie lub zatrzymywanie).</span><span class="sxs-lookup"><span data-stu-id="37257-174">The guest agent listens and responds with an HTTP 200 OK response only when the instance is in the ready state (i.e. the instance is not in a state like busy, recycling, or stopping).</span></span> <span data-ttu-id="37257-175">Jeśli agent nie odpowiada OK 200 protokołu HTTP, usługi równoważenia obciążenia oznacza wystąpienia jako odpowiadać i zatrzymuje wysyłania ruchu do tego wystąpienia.</span><span class="sxs-lookup"><span data-stu-id="37257-175">If the agent fails to respond with an HTTP 200 OK, the load balancer marks the instance as unresponsive and stops sending traffic to that instance.</span></span> <span data-ttu-id="37257-176">Moduł równoważenia obciążenia w dalszym ciągu polecenie ping z wystąpieniem.</span><span class="sxs-lookup"><span data-stu-id="37257-176">The load balancer continues to ping the instance.</span></span> <span data-ttu-id="37257-177">Agent gościa odpowie 200 protokołu HTTP, usługi równoważenia obciążenia będzie wysyłać ruch do tego wystąpienia ponownie.</span><span class="sxs-lookup"><span data-stu-id="37257-177">If the guest agent responds with an HTTP 200, the load balancer will send traffic to that instance again.</span></span> <span data-ttu-id="37257-178">Podczas korzystania z roli sieci web, kodu witryny sieci Web zwykle działa w w3wp.exe, który nie jest monitorowane przez usługę Azure agenta sieci szkieletowej lub gościa.</span><span class="sxs-lookup"><span data-stu-id="37257-178">When you're using a web role, your website code typically runs in w3wp.exe, which is not monitored by the Azure fabric or guest agent.</span></span> <span data-ttu-id="37257-179">To oznacza, że błędów w w3wp.exe (np. w odpowiedzi HTTP 500) nie będą raportowane do agenta gościa, a moduł równoważenia obciążenia nie będzie wiedzieć, do wykonania danego wystąpienia poza obrotu.</span><span class="sxs-lookup"><span data-stu-id="37257-179">This means that failures in w3wp.exe (e.g. HTTP 500 responses) will not be reported to the guest agent, and the load balancer will not know to take that instance out of rotation.</span></span>
    + <span data-ttu-id="37257-180">**Niestandardowe badanie HTTP:** sonda zastąpienia domyślnej funkcji badania (agenta gościa).</span><span class="sxs-lookup"><span data-stu-id="37257-180">**HTTP custom probe:** This probe overrides the default (guest agent) probe.</span></span> <span data-ttu-id="37257-181">Służy on do tworzenia niestandardowej logiki do ustalenia stanu wystąpienia roli.</span><span class="sxs-lookup"><span data-stu-id="37257-181">You can use it to create your own custom logic to determine the health of the role instance.</span></span> <span data-ttu-id="37257-182">Moduł równoważenia obciążenia będzie regularnie sondowania punktu końcowego (co 15 sekund, domyślnie).</span><span class="sxs-lookup"><span data-stu-id="37257-182">The load balancer will regularly probe your endpoint (every 15 seconds, by default).</span></span> <span data-ttu-id="37257-183">Wystąpienie jest uważana rotacji, gdy odpowiada potwierdzenia TCP lub HTTP 200 przed upływem limitu czasu (domyślnie 31 sekund).</span><span class="sxs-lookup"><span data-stu-id="37257-183">The instance is considered to be in rotation if it responds with a TCP ACK or HTTP 200 within the timeout period (default of 31 seconds).</span></span> <span data-ttu-id="37257-184">Jest to przydatne dla implementacji logiki można usunąć wystąpienia z obrotu modułu równoważenia obciążenia.</span><span class="sxs-lookup"><span data-stu-id="37257-184">This is useful for implementing your own logic to remove instances from the load balancer's rotation.</span></span> <span data-ttu-id="37257-185">Na przykład można skonfigurować wystąpienia próbę zwrócenia stanu z systemem innym niż 200, jeśli wystąpienie jest ponad 90% zasobów Procesora.</span><span class="sxs-lookup"><span data-stu-id="37257-185">For example, you can configure the instance to return a non-200 status if the instance is above 90% CPU.</span></span> <span data-ttu-id="37257-186">Dla role sieci web, które używają w3wp.exe, możesz również uzyskać automatyczne monitorowania witryny sieci Web, ponieważ błędów w kodzie witryny sieci Web zwraca stan – 200 sondy.</span><span class="sxs-lookup"><span data-stu-id="37257-186">For web roles that use w3wp.exe, you also get automatic monitoring of your website, since failures in your website code return a non-200 status to the probe.</span></span>
    + <span data-ttu-id="37257-187">**Niestandardowe sondowaniem TCP:** sonda opiera się na pomyślne ustanawiania sesji TCP port sondy zdefiniowane.</span><span class="sxs-lookup"><span data-stu-id="37257-187">**TCP custom probe:** This probe relies on successful TCP session establishment to a defined probe port.</span></span>

    <span data-ttu-id="37257-188">Aby uzyskać więcej informacji, zobacz [schematu LoadBalancerProbe](https://msdn.microsoft.com/library/azure/jj151530.aspx).</span><span class="sxs-lookup"><span data-stu-id="37257-188">For more information, see the [LoadBalancerProbe schema](https://msdn.microsoft.com/library/azure/jj151530.aspx).</span></span>

* <span data-ttu-id="37257-189">Źródło translatora adresów Sieciowych</span><span class="sxs-lookup"><span data-stu-id="37257-189">Source NAT</span></span>

    <span data-ttu-id="37257-190">Cały ruch wychodzący do Internetu, która pochodzi z usługi podlega źródła translatora adresów Sieciowych (SNAT) przy użyciu tego samego adresu VIP jako ruchu przychodzącego.</span><span class="sxs-lookup"><span data-stu-id="37257-190">All outbound traffic to the Internet that originates from your service undergoes source NAT (SNAT) by using the same VIP address as the incoming traffic.</span></span> <span data-ttu-id="37257-191">SNAT oferuje istotne korzyści:</span><span class="sxs-lookup"><span data-stu-id="37257-191">SNAT provides important benefits:</span></span>

    + <span data-ttu-id="37257-192">Umożliwia on łatwe uaktualnianie i odzyskiwanie po awarii usługi, ponieważ adres VIP, które mogą być dynamicznie mapowane do innego wystąpienia usługi.</span><span class="sxs-lookup"><span data-stu-id="37257-192">It enables easy upgrade and disaster recovery of services, since the VIP can be dynamically mapped to another instance of the service.</span></span>
    + <span data-ttu-id="37257-193">Ułatwia ona zarządzanie listę kontroli dostępu (ACL) kontrolą dostępu.</span><span class="sxs-lookup"><span data-stu-id="37257-193">It makes access control list (ACL) management easier.</span></span> <span data-ttu-id="37257-194">Listy kontroli dostępu w przeliczeniu na adresy VIP nie zmieniaj jako skalowania usługi w górę, dół, lub pobrać ponownej instalacji.</span><span class="sxs-lookup"><span data-stu-id="37257-194">ACLs expressed in terms of VIPs do not change as services scale up, down, or get redeployed.</span></span>

    <span data-ttu-id="37257-195">Konfiguracji usługi równoważenia obciążenia obsługuje pełne stożkowy translatora adresów Sieciowych dla protokołu UDP.</span><span class="sxs-lookup"><span data-stu-id="37257-195">The load balancer configuration supports full cone NAT for UDP.</span></span> <span data-ttu-id="37257-196">Pełna stożkowy translatora adresów Sieciowych jest typem translatora adresów Sieciowych, gdzie port umożliwia połączenia przychodzące z dowolnym hostem zewnętrznych (w odpowiedzi na żądanie wychodzących).</span><span class="sxs-lookup"><span data-stu-id="37257-196">Full cone NAT is a type of NAT where the port allows inbound connections from any external host (in response to an outbound request).</span></span>

    <span data-ttu-id="37257-197">Dla każdego nowego wychodzące połączenie, które inicjuje maszynę wirtualną port wychodzący również jest przydzielany przez moduł równoważenia obciążenia.</span><span class="sxs-lookup"><span data-stu-id="37257-197">For each new outbound connection that a virtual machine initiates, an outbound port is also allocated by the load balancer.</span></span> <span data-ttu-id="37257-198">Hoście zewnętrznym widzi ruch przydzielone wirtualne adresy IP IP portu wirtualnego.</span><span class="sxs-lookup"><span data-stu-id="37257-198">The external host sees traffic with a virtual IP (VIP)-allocated port.</span></span> <span data-ttu-id="37257-199">W scenariuszach wymagających dużej liczby połączeń wychodzących, zaleca się używania [poziomie wystąpienia publicznego adresu IP](../virtual-network/virtual-networks-instance-level-public-ip.md) adresów maszyn wirtualnych ma dedykowany adres IP ruchu wychodzącego dla SNAT.</span><span class="sxs-lookup"><span data-stu-id="37257-199">For scenarios that require a large number of outbound connections, it is recommended to use [instance-level public IP](../virtual-network/virtual-networks-instance-level-public-ip.md) addresses so that the VMs have a dedicated outbound IP address for SNAT.</span></span> <span data-ttu-id="37257-200">Zmniejsza ryzyko wyczerpania portu.</span><span class="sxs-lookup"><span data-stu-id="37257-200">This reduces the risk of port exhaustion.</span></span>

    <span data-ttu-id="37257-201">Zobacz [połączeń wychodzących](load-balancer-outbound-connections.md) artykułu, aby uzyskać więcej informacji na ten temat.</span><span class="sxs-lookup"><span data-stu-id="37257-201">Please see [outbound connections](load-balancer-outbound-connections.md) article for more details on this topic.</span></span>

### <a name="support-for-multiple-load-balanced-ip-addresses-for-virtual-machines"></a><span data-ttu-id="37257-202">Obsługa wielu adresów IP z równoważeniem obciążenia dla maszyn wirtualnych</span><span class="sxs-lookup"><span data-stu-id="37257-202">Support for multiple load-balanced IP addresses for virtual machines</span></span>
<span data-ttu-id="37257-203">Zestaw maszyn wirtualnych można przypisać więcej niż jeden publiczny adres IP z równoważeniem obciążenia.</span><span class="sxs-lookup"><span data-stu-id="37257-203">You can assign more than one load-balanced public IP address to a set of virtual machines.</span></span> <span data-ttu-id="37257-204">Z tej możliwości może obsługiwać wiele witryn sieci Web protokołu SSL i/lub wielu odbiorniki grupy dostępności AlwaysOn programu SQL Server na tym samym zestawie maszyn wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="37257-204">With this ability, you can host multiple SSL websites and/or multiple SQL Server AlwaysOn Availability Group listeners on the same set of virtual machines.</span></span> <span data-ttu-id="37257-205">Aby uzyskać więcej informacji, zobacz [wieloma wirtualnymi adresami IP dla danej usługi chmury](load-balancer-multivip.md).</span><span class="sxs-lookup"><span data-stu-id="37257-205">For more information, see [Multiple VIPs per cloud service](load-balancer-multivip.md).</span></span>

[!INCLUDE [load-balancer-compare-tm-ag-lb-include.md](../../includes/load-balancer-compare-tm-ag-lb-include.md)]

## <a name="limitations"></a><span data-ttu-id="37257-206">Ograniczenia</span><span class="sxs-lookup"><span data-stu-id="37257-206">Limitations</span></span>

<span data-ttu-id="37257-207">Pul zaplecza modułu równoważenia obciążenia może zawierać żadnych SKU maszyny Wirtualnej, z wyjątkiem warstwy podstawowa.</span><span class="sxs-lookup"><span data-stu-id="37257-207">Load Balancer backend pools can contain any VM SKU except Basic tier.</span></span>

## <a name="next-steps"></a><span data-ttu-id="37257-208">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="37257-208">Next steps</span></span>

- <span data-ttu-id="37257-209">Dowiedz się więcej o [internetowy modułu równoważenia obciążenia](load-balancer-internet-overview.md)</span><span class="sxs-lookup"><span data-stu-id="37257-209">Learn more about [Internet-facing load balancer](load-balancer-internet-overview.md)</span></span>

- <span data-ttu-id="37257-210">Dowiedz się więcej o [Omówienie usługi równoważenia obciążenia wewnętrznego](load-balancer-internal-overview.md)</span><span class="sxs-lookup"><span data-stu-id="37257-210">Learn more about [Internal load balancer overview](load-balancer-internal-overview.md)</span></span>

- <span data-ttu-id="37257-211">Utwórz [internetowy modułu równoważenia obciążenia](load-balancer-get-started-internet-portal.md)</span><span class="sxs-lookup"><span data-stu-id="37257-211">Create an [Internet-facing load balancer](load-balancer-get-started-internet-portal.md)</span></span>

- <span data-ttu-id="37257-212">Dowiedz się więcej o niektóre inne kluczowe [możliwości w zakresie obsługi](../networking/networking-overview.md) platformy Azure</span><span class="sxs-lookup"><span data-stu-id="37257-212">Learn about some of the other key [networking capabilities](../networking/networking-overview.md) of Azure</span></span>

