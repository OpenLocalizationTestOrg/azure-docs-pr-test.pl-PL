---
title: aaaIIS loguje Log Analytics | Dokumentacja firmy Microsoft
description: "Internet Information Services (IIS) są przechowywane działań użytkownika w plikach dziennika, które mogą zostać zebrane przez analizy dzienników.  W tym artykule opisano, jak tooconfigure zbierania dzienników usług IIS i szczegóły rekordów hello tworzą hello OMS repozytorium."
services: log-analytics
documentationcenter: 
author: bwren
manager: jwhit
editor: tysonn
ms.assetid: cec5ff0a-01f5-4262-b2e8-e3db7b7467d2
ms.service: log-analytics
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 07/12/2017
ms.author: bwren
ms.openlocfilehash: c5575351090cdabaf651bcb49867794ee3a4b6e6
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="iis-logs-in-log-analytics"></a><span data-ttu-id="720d6-104">Rejestrowania przez usługi IIS w analizy dzienników</span><span class="sxs-lookup"><span data-stu-id="720d6-104">IIS logs in Log Analytics</span></span>
<span data-ttu-id="720d6-105">Internet Information Services (IIS) są przechowywane działań użytkownika w plikach dziennika, które mogą zostać zebrane przez analizy dzienników.</span><span class="sxs-lookup"><span data-stu-id="720d6-105">Internet Information Services (IIS) stores user activity in log files that can be collected by Log Analytics.</span></span>  

![Dzienniki usług IIS](media/log-analytics-data-sources-iis-logs/overview.png)

## <a name="configuring-iis-logs"></a><span data-ttu-id="720d6-107">Konfigurowanie usług IIS dzienników</span><span class="sxs-lookup"><span data-stu-id="720d6-107">Configuring IIS logs</span></span>
<span data-ttu-id="720d6-108">Analiza dzienników zbiera wpisy z pliki dziennika utworzone przez usługi IIS, więc należy [konfigurowania usług IIS do rejestrowania](https://technet.microsoft.com/library/hh831775.aspx).</span><span class="sxs-lookup"><span data-stu-id="720d6-108">Log Analytics collects entries from log files created by IIS, so you must [configure IIS for logging](https://technet.microsoft.com/library/hh831775.aspx).</span></span>

<span data-ttu-id="720d6-109">Analiza dzienników tylko obsługuje przechowywane w formacie W3C plików dziennika usług IIS i nie obsługuje pól niestandardowych lub zaawansowanych rejestrowanie programu IIS.</span><span class="sxs-lookup"><span data-stu-id="720d6-109">Log Analytics only supports IIS log files stored in W3C format and does not support custom fields or IIS Advanced Logging.</span></span>  
<span data-ttu-id="720d6-110">Analiza dzienników nie zbiera dzienniki w formacie native NCSA lub usług IIS.</span><span class="sxs-lookup"><span data-stu-id="720d6-110">Log Analytics does not collect logs in NCSA or IIS native format.</span></span>

<span data-ttu-id="720d6-111">Konfigurowanie dzienników usług IIS w analizy dzienników z hello [danych menu Ustawienia usługi Analiza dzienników](log-analytics-data-sources.md#configuring-data-sources).</span><span class="sxs-lookup"><span data-stu-id="720d6-111">Configure IIS logs in Log Analytics from hello [Data menu in Log Analytics Settings](log-analytics-data-sources.md#configuring-data-sources).</span></span>  <span data-ttu-id="720d6-112">Jest wymagana żadna konfiguracja innych niż wybranie **pliki dziennika w formacie W3C zbieranie IIS**.</span><span class="sxs-lookup"><span data-stu-id="720d6-112">There is no configuration required other than selecting **Collect W3C format IIS log files**.</span></span>

<span data-ttu-id="720d6-113">Zaleca się, że po włączeniu zbierania dzienników usług IIS, należy skonfigurować ustawienie przerzucania dziennika usług IIS hello na każdym serwerze.</span><span class="sxs-lookup"><span data-stu-id="720d6-113">We recommend that when you enable IIS log collection, you should configure hello IIS log rollover setting on each server.</span></span>

## <a name="data-collection"></a><span data-ttu-id="720d6-114">Zbieranie danych</span><span class="sxs-lookup"><span data-stu-id="720d6-114">Data collection</span></span>
<span data-ttu-id="720d6-115">Analiza dzienników zbiera wpisy dziennika usług IIS z wszystkich połączonych źródeł, co 15 minut.</span><span class="sxs-lookup"><span data-stu-id="720d6-115">Log Analytics collects IIS log entries from each connected source approximately every 15 minutes.</span></span>  <span data-ttu-id="720d6-116">Hello agent rejestruje jego miejsce w każdym dzienniku zdarzeń zbierane z.</span><span class="sxs-lookup"><span data-stu-id="720d6-116">hello agent records its place in each event log that it collects from.</span></span>  <span data-ttu-id="720d6-117">Jeśli hello agent przejdzie do trybu offline, następnie analizy dzienników zbiera dane zdarzeń z którym ostatnio przerwał, nawet jeśli te zdarzenia zostały utworzone podczas hello agent jest w trybie offline.</span><span class="sxs-lookup"><span data-stu-id="720d6-117">If hello agent goes offline, then Log Analytics collects events from where it last left off, even if those events were created while hello agent was offline.</span></span>

## <a name="iis-log-record-properties"></a><span data-ttu-id="720d6-118">Właściwości rekordu dziennika usług IIS</span><span class="sxs-lookup"><span data-stu-id="720d6-118">IIS log record properties</span></span>
<span data-ttu-id="720d6-119">Rekordy dziennika usług IIS zawiera typu **W3CIISLog** i mają właściwości hello w hello w poniższej tabeli:</span><span class="sxs-lookup"><span data-stu-id="720d6-119">IIS log records have a type of **W3CIISLog** and have hello properties in hello following table:</span></span>

| <span data-ttu-id="720d6-120">Właściwość</span><span class="sxs-lookup"><span data-stu-id="720d6-120">Property</span></span> | <span data-ttu-id="720d6-121">Opis</span><span class="sxs-lookup"><span data-stu-id="720d6-121">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="720d6-122">Computer (Komputer)</span><span class="sxs-lookup"><span data-stu-id="720d6-122">Computer</span></span> |<span data-ttu-id="720d6-123">Nazwę komputera hello hello zdarzeń zostały zebrane.</span><span class="sxs-lookup"><span data-stu-id="720d6-123">Name of hello computer that hello event was collected from.</span></span> |
| <span data-ttu-id="720d6-124">cIP</span><span class="sxs-lookup"><span data-stu-id="720d6-124">cIP</span></span> |<span data-ttu-id="720d6-125">Adres IP powitania klienta.</span><span class="sxs-lookup"><span data-stu-id="720d6-125">IP address of hello client.</span></span> |
| <span data-ttu-id="720d6-126">csMethod</span><span class="sxs-lookup"><span data-stu-id="720d6-126">csMethod</span></span> |<span data-ttu-id="720d6-127">Metoda żądania hello, takich jak GET lub POST.</span><span class="sxs-lookup"><span data-stu-id="720d6-127">Method of hello request such as GET or POST.</span></span> |
| <span data-ttu-id="720d6-128">csReferer</span><span class="sxs-lookup"><span data-stu-id="720d6-128">csReferer</span></span> |<span data-ttu-id="720d6-129">Lokacja tego hello użytkownika wybrane łącze toohello bieżącej lokacji.</span><span class="sxs-lookup"><span data-stu-id="720d6-129">Site that hello user followed a link from toohello current site.</span></span> |
| <span data-ttu-id="720d6-130">csUserAgent</span><span class="sxs-lookup"><span data-stu-id="720d6-130">csUserAgent</span></span> |<span data-ttu-id="720d6-131">Typ przeglądarki powitania klienta.</span><span class="sxs-lookup"><span data-stu-id="720d6-131">Browser type of hello client.</span></span> |
| <span data-ttu-id="720d6-132">csUserName</span><span class="sxs-lookup"><span data-stu-id="720d6-132">csUserName</span></span> |<span data-ttu-id="720d6-133">Nazwa hello uwierzytelniony użytkownik, który uzyskał dostęp powitania serwera.</span><span class="sxs-lookup"><span data-stu-id="720d6-133">Name of hello authenticated user that accessed hello server.</span></span> <span data-ttu-id="720d6-134">Użytkownicy anonimowi są wskazywani przez łącznik.</span><span class="sxs-lookup"><span data-stu-id="720d6-134">Anonymous users are indicated by a hyphen.</span></span> |
| <span data-ttu-id="720d6-135">csUriStem</span><span class="sxs-lookup"><span data-stu-id="720d6-135">csUriStem</span></span> |<span data-ttu-id="720d6-136">Obiekt docelowy żądania hello, takich jak strony sieci web.</span><span class="sxs-lookup"><span data-stu-id="720d6-136">Target of hello request such as a web page.</span></span> |
| <span data-ttu-id="720d6-137">csUriQuery</span><span class="sxs-lookup"><span data-stu-id="720d6-137">csUriQuery</span></span> |<span data-ttu-id="720d6-138">Zapytania, jeśli taki występuje, ten klient hello próbował tooperform.</span><span class="sxs-lookup"><span data-stu-id="720d6-138">Query, if any, that hello client was trying tooperform.</span></span> |
| <span data-ttu-id="720d6-139">ManagementGroupName</span><span class="sxs-lookup"><span data-stu-id="720d6-139">ManagementGroupName</span></span> |<span data-ttu-id="720d6-140">Nazwa grupy zarządzania hello agenty programu Operations Manager.</span><span class="sxs-lookup"><span data-stu-id="720d6-140">Name of hello management group for Operations Manager agents.</span></span>  <span data-ttu-id="720d6-141">W przypadku innych agentów jest AOI -\<identyfikator obszaru roboczego\></span><span class="sxs-lookup"><span data-stu-id="720d6-141">For other agents, this is AOI-\<workspace ID\></span></span> |
| <span data-ttu-id="720d6-142">RemoteIPCountry</span><span class="sxs-lookup"><span data-stu-id="720d6-142">RemoteIPCountry</span></span> |<span data-ttu-id="720d6-143">Kraj adres IP hello powitania klienta.</span><span class="sxs-lookup"><span data-stu-id="720d6-143">Country of hello IP address of hello client.</span></span> |
| <span data-ttu-id="720d6-144">RemoteIPLatitude</span><span class="sxs-lookup"><span data-stu-id="720d6-144">RemoteIPLatitude</span></span> |<span data-ttu-id="720d6-145">Szerokość geograficzna adresu IP powitania klienta.</span><span class="sxs-lookup"><span data-stu-id="720d6-145">Latitude of hello client IP address.</span></span> |
| <span data-ttu-id="720d6-146">RemoteIPLongitude</span><span class="sxs-lookup"><span data-stu-id="720d6-146">RemoteIPLongitude</span></span> |<span data-ttu-id="720d6-147">Długość geograficzna adresu IP powitania klienta.</span><span class="sxs-lookup"><span data-stu-id="720d6-147">Longitude of hello client IP address.</span></span> |
| <span data-ttu-id="720d6-148">scStatus</span><span class="sxs-lookup"><span data-stu-id="720d6-148">scStatus</span></span> |<span data-ttu-id="720d6-149">Kod stanu HTTP.</span><span class="sxs-lookup"><span data-stu-id="720d6-149">HTTP status code.</span></span> |
| <span data-ttu-id="720d6-150">scSubStatus</span><span class="sxs-lookup"><span data-stu-id="720d6-150">scSubStatus</span></span> |<span data-ttu-id="720d6-151">Kod błędu podstanu.</span><span class="sxs-lookup"><span data-stu-id="720d6-151">Substatus error code.</span></span> |
| <span data-ttu-id="720d6-152">scWin32Status</span><span class="sxs-lookup"><span data-stu-id="720d6-152">scWin32Status</span></span> |<span data-ttu-id="720d6-153">Kod stanu systemu Windows.</span><span class="sxs-lookup"><span data-stu-id="720d6-153">Windows status code.</span></span> |
| <span data-ttu-id="720d6-154">sIP</span><span class="sxs-lookup"><span data-stu-id="720d6-154">sIP</span></span> |<span data-ttu-id="720d6-155">Adres IP serwera sieci web hello.</span><span class="sxs-lookup"><span data-stu-id="720d6-155">IP address of hello web server.</span></span> |
| <span data-ttu-id="720d6-156">SourceSystem</span><span class="sxs-lookup"><span data-stu-id="720d6-156">SourceSystem</span></span> |<span data-ttu-id="720d6-157">Program Operations Manager</span><span class="sxs-lookup"><span data-stu-id="720d6-157">OpsMgr</span></span> |
| <span data-ttu-id="720d6-158">sPort</span><span class="sxs-lookup"><span data-stu-id="720d6-158">sPort</span></span> |<span data-ttu-id="720d6-159">Port na powitania serwera powitania klienta połączony.</span><span class="sxs-lookup"><span data-stu-id="720d6-159">Port on hello server hello client connected to.</span></span> |
| <span data-ttu-id="720d6-160">sSiteName</span><span class="sxs-lookup"><span data-stu-id="720d6-160">sSiteName</span></span> |<span data-ttu-id="720d6-161">Nazwa witryny usług IIS hello.</span><span class="sxs-lookup"><span data-stu-id="720d6-161">Name of hello IIS site.</span></span> |
| <span data-ttu-id="720d6-162">TimeGenerated</span><span class="sxs-lookup"><span data-stu-id="720d6-162">TimeGenerated</span></span> |<span data-ttu-id="720d6-163">Data i godzina wpisu hello został zarejestrowany.</span><span class="sxs-lookup"><span data-stu-id="720d6-163">Date and time hello entry was logged.</span></span> |
| <span data-ttu-id="720d6-164">Właściwość timeTaken</span><span class="sxs-lookup"><span data-stu-id="720d6-164">TimeTaken</span></span> |<span data-ttu-id="720d6-165">Żądanie długość hello tooprocess czasu w milisekundach.</span><span class="sxs-lookup"><span data-stu-id="720d6-165">Length of time tooprocess hello request in milliseconds.</span></span> |

## <a name="log-searches-with-iis-logs"></a><span data-ttu-id="720d6-166">Dziennik wyszukiwania przy użyciu dzienników usług IIS</span><span class="sxs-lookup"><span data-stu-id="720d6-166">Log searches with IIS logs</span></span>
<span data-ttu-id="720d6-167">Witaj poniższej tabeli przedstawiono różne przykłady dziennika zapytań, które pobierają rekordy dziennika usług IIS.</span><span class="sxs-lookup"><span data-stu-id="720d6-167">hello following table provides different examples of log queries that retrieve IIS log records.</span></span>

| <span data-ttu-id="720d6-168">Zapytanie</span><span class="sxs-lookup"><span data-stu-id="720d6-168">Query</span></span> | <span data-ttu-id="720d6-169">Opis</span><span class="sxs-lookup"><span data-stu-id="720d6-169">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="720d6-170">Typ = W3CIISLog</span><span class="sxs-lookup"><span data-stu-id="720d6-170">Type=W3CIISLog</span></span> |<span data-ttu-id="720d6-171">Wszystkie rekordy dziennika usług IIS.</span><span class="sxs-lookup"><span data-stu-id="720d6-171">All IIS log records.</span></span> |
| <span data-ttu-id="720d6-172">Typ = W3CIISLog scStatus = 500</span><span class="sxs-lookup"><span data-stu-id="720d6-172">Type=W3CIISLog scStatus=500</span></span> |<span data-ttu-id="720d6-173">Wszystkie rekordy dziennika usług IIS o stanie zwracanych 500.</span><span class="sxs-lookup"><span data-stu-id="720d6-173">All IIS log records with a return status of 500.</span></span> |
| <span data-ttu-id="720d6-174">Typ = W3CIISLog &#124; Miara count() przez cIP</span><span class="sxs-lookup"><span data-stu-id="720d6-174">Type=W3CIISLog &#124; Measure count() by cIP</span></span> |<span data-ttu-id="720d6-175">Liczba usług IIS pozycje dziennika za pomocą adresu IP klienta.</span><span class="sxs-lookup"><span data-stu-id="720d6-175">Count of IIS log entries by client IP address.</span></span> |
| <span data-ttu-id="720d6-176">Typ = W3CIISLog csHost = "www.contoso.com" &#124; Miara count() przez csUriStem</span><span class="sxs-lookup"><span data-stu-id="720d6-176">Type=W3CIISLog csHost="www.contoso.com" &#124; Measure count() by csUriStem</span></span> |<span data-ttu-id="720d6-177">Liczba usług IIS dziennika wpisy przez adres URL dla hello hosta www.contoso.com.</span><span class="sxs-lookup"><span data-stu-id="720d6-177">Count of IIS log entries by URL for hello host www.contoso.com.</span></span> |
| <span data-ttu-id="720d6-178">Typ = W3CIISLog &#124; Miara Sum(csBytes) przez komputer &#124; TOP 500000</span><span class="sxs-lookup"><span data-stu-id="720d6-178">Type=W3CIISLog &#124; Measure Sum(csBytes) by Computer &#124; top 500000</span></span> |<span data-ttu-id="720d6-179">Całkowita liczba bajtów odebranych przez każdy komputer usług IIS.</span><span class="sxs-lookup"><span data-stu-id="720d6-179">Total bytes received by each IIS computer.</span></span> |

>[!NOTE]
> <span data-ttu-id="720d6-180">Jeśli obszaru roboczego został uaktualniony toohello [języka zapytań nowe analizy dzienników](log-analytics-log-search-upgrade.md), następnie hello powyżej zapytania spowoduje zmianę następujących toohello.</span><span class="sxs-lookup"><span data-stu-id="720d6-180">If your workspace has been upgraded toohello [new Log Analytics query language](log-analytics-log-search-upgrade.md), then hello above queries would change toohello following.</span></span>

> | <span data-ttu-id="720d6-181">Zapytanie</span><span class="sxs-lookup"><span data-stu-id="720d6-181">Query</span></span> | <span data-ttu-id="720d6-182">Opis</span><span class="sxs-lookup"><span data-stu-id="720d6-182">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="720d6-183">W3CIISLog</span><span class="sxs-lookup"><span data-stu-id="720d6-183">W3CIISLog</span></span> |<span data-ttu-id="720d6-184">Wszystkie rekordy dziennika usług IIS.</span><span class="sxs-lookup"><span data-stu-id="720d6-184">All IIS log records.</span></span> |
| <span data-ttu-id="720d6-185">W3CIISLog &#124; gdzie scStatus == 500</span><span class="sxs-lookup"><span data-stu-id="720d6-185">W3CIISLog &#124; where scStatus==500</span></span> |<span data-ttu-id="720d6-186">Wszystkie rekordy dziennika usług IIS o stanie zwracanych 500.</span><span class="sxs-lookup"><span data-stu-id="720d6-186">All IIS log records with a return status of 500.</span></span> |
| <span data-ttu-id="720d6-187">W3CIISLog &#124; Podsumowanie funkcji count() przez cIP</span><span class="sxs-lookup"><span data-stu-id="720d6-187">W3CIISLog &#124; summarize count() by cIP</span></span> |<span data-ttu-id="720d6-188">Liczba usług IIS pozycje dziennika za pomocą adresu IP klienta.</span><span class="sxs-lookup"><span data-stu-id="720d6-188">Count of IIS log entries by client IP address.</span></span> |
| <span data-ttu-id="720d6-189">W3CIISLog &#124; gdzie csHost == "www.contoso.com" &#124; Podsumowanie funkcji count() przez csUriStem</span><span class="sxs-lookup"><span data-stu-id="720d6-189">W3CIISLog &#124; where csHost=="www.contoso.com" &#124; summarize count() by csUriStem</span></span> |<span data-ttu-id="720d6-190">Liczba usług IIS dziennika wpisy przez adres URL dla hello hosta www.contoso.com.</span><span class="sxs-lookup"><span data-stu-id="720d6-190">Count of IIS log entries by URL for hello host www.contoso.com.</span></span> |
| <span data-ttu-id="720d6-191">W3CIISLog &#124; Podsumuj sum(csBytes) przez komputer &#124; podejmij 500000</span><span class="sxs-lookup"><span data-stu-id="720d6-191">W3CIISLog &#124; summarize sum(csBytes) by Computer &#124; take 500000</span></span> |<span data-ttu-id="720d6-192">Całkowita liczba bajtów odebranych przez każdy komputer usług IIS.</span><span class="sxs-lookup"><span data-stu-id="720d6-192">Total bytes received by each IIS computer.</span></span> |

## <a name="next-steps"></a><span data-ttu-id="720d6-193">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="720d6-193">Next steps</span></span>
* <span data-ttu-id="720d6-194">Konfigurowanie analizy dzienników toocollect innych [źródeł danych](log-analytics-data-sources.md) do analizy.</span><span class="sxs-lookup"><span data-stu-id="720d6-194">Configure Log Analytics toocollect other [data sources](log-analytics-data-sources.md) for analysis.</span></span>
* <span data-ttu-id="720d6-195">Dowiedz się więcej o [dziennika wyszukiwania](log-analytics-log-searches.md) tooanalyze hello dane zebrane ze źródeł danych i rozwiązań.</span><span class="sxs-lookup"><span data-stu-id="720d6-195">Learn about [log searches](log-analytics-log-searches.md) tooanalyze hello data collected from data sources and solutions.</span></span>
* <span data-ttu-id="720d6-196">Konfigurowanie alertów w analizy dzienników tooproactively informować o ważnych warunków znaleziono w dziennikach usług IIS.</span><span class="sxs-lookup"><span data-stu-id="720d6-196">Configure alerts in Log Analytics tooproactively notify you of important conditions found in IIS logs.</span></span>
