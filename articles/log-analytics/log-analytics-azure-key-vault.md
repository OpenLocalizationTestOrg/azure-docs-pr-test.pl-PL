---
title: "aaaAzure rozwiązania analizy dzienników usługi Key Vault | Dokumentacja firmy Microsoft"
description: "Za pomocą rozwiązania Azure Key Vault hello w tooreview analizy dzienników, dzienniki usługi Azure Key Vault."
services: log-analytics
documentationcenter: 
author: richrundmsft
manager: jochan
editor: 
ms.assetid: 5e25e6d6-dd20-4528-9820-6e2958a40dae
ms.service: log-analytics
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 02/09/2017
ms.author: richrund
ms.openlocfilehash: 1c6eae26ded7ad55b0159a3be09cdc9901596298
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="azure-key-vault-analytics-solution-in-log-analytics"></a><span data-ttu-id="a72ed-103">Azure Key Vault Analytics rozwiązania analizy dzienników</span><span class="sxs-lookup"><span data-stu-id="a72ed-103">Azure Key Vault Analytics solution in Log Analytics</span></span>

![Symbol magazyn kluczy](./media/log-analytics-azure-keyvault/key-vault-analytics-symbol.png)

<span data-ttu-id="a72ed-105">Za pomocą rozwiązania Azure Key Vault hello w tooreview analizy dzienników, dzienniki usługi Azure Key Vault AuditEvent.</span><span class="sxs-lookup"><span data-stu-id="a72ed-105">You can use hello Azure Key Vault solution in Log Analytics tooreview Azure Key Vault AuditEvent logs.</span></span>

<span data-ttu-id="a72ed-106">toouse hello rozwiązanie, należy tooenable rejestrowanie usługi Azure Key Vault diagnostyki i bezpośredniego hello obszaru roboczego analizy dzienników tooa dla diagnostyki.</span><span class="sxs-lookup"><span data-stu-id="a72ed-106">toouse hello solution, you need tooenable logging of Azure Key Vault diagnostics and direct hello diagnostics tooa Log Analytics workspace.</span></span> <span data-ttu-id="a72ed-107">Nie jest magazynu obiektów Blob tooAzure niezbędne toowrite hello dzienników.</span><span class="sxs-lookup"><span data-stu-id="a72ed-107">It is not necessary toowrite hello logs tooAzure Blob storage.</span></span>

> [!NOTE]
> <span data-ttu-id="a72ed-108">W stycznia 2017 r. hello obsługiwane wysyłać dzienniki z tooLog Key Vault, zmienić Analytics.</span><span class="sxs-lookup"><span data-stu-id="a72ed-108">In January 2017, hello supported way of sending logs from Key Vault tooLog Analytics changed.</span></span> <span data-ttu-id="a72ed-109">Jeśli używasz hello Key Vault rozwiązanie zawiera *(przestarzałe)* w tytule hello odwoływać się za[migrowania hello starego magazynu kluczy rozwiązania](#migrating-from-the-old-key-vault-solution) czynności należy toofollow.</span><span class="sxs-lookup"><span data-stu-id="a72ed-109">If hello Key Vault solution you are using shows *(deprecated)* in hello title, refer too[migrating from hello old Key Vault solution](#migrating-from-the-old-key-vault-solution) for steps you need toofollow.</span></span>
>
>

## <a name="install-and-configure-hello-solution"></a><span data-ttu-id="a72ed-110">Instalowanie i konfigurowanie hello rozwiązania</span><span class="sxs-lookup"><span data-stu-id="a72ed-110">Install and configure hello solution</span></span>
<span data-ttu-id="a72ed-111">Użyj hello następujące instrukcje tooinstall i skonfiguruj rozwiązanie usługi Azure Key Vault hello:</span><span class="sxs-lookup"><span data-stu-id="a72ed-111">Use hello following instructions tooinstall and configure hello Azure Key Vault solution:</span></span>

1. <span data-ttu-id="a72ed-112">Włącz hello Azure Key Vault rozwiązania z [witrynę Azure marketplace](https://azuremarketplace.microsoft.com/marketplace/apps/Microsoft.KeyVaultAnalyticsOMS?tab=Overview) lub za pomocą hello procesu opisanego w temacie [rozwiązań analizy dzienników dodać hello galerii rozwiązań](log-analytics-add-solutions.md).</span><span class="sxs-lookup"><span data-stu-id="a72ed-112">Enable hello Azure Key Vault solution from [Azure marketplace](https://azuremarketplace.microsoft.com/marketplace/apps/Microsoft.KeyVaultAnalyticsOMS?tab=Overview) or by using hello process described in [Add Log Analytics solutions from hello Solutions Gallery](log-analytics-add-solutions.md).</span></span>
2. <span data-ttu-id="a72ed-113">Włącz diagnostykę rejestrowania toomonitor zasobów usługi Key Vault hello, używając albo hello [portal](#enable-key-vault-diagnostics-in-the-portal) lub [programu PowerShell](#enable-key-vault-diagnostics-using-powershell)</span><span class="sxs-lookup"><span data-stu-id="a72ed-113">Enable diagnostics logging for hello Key Vault resources toomonitor, using either hello [portal](#enable-key-vault-diagnostics-in-the-portal) or [PowerShell](#enable-key-vault-diagnostics-using-powershell)</span></span>

### <a name="enable-key-vault-diagnostics-in-hello-portal"></a><span data-ttu-id="a72ed-114">Włącz diagnostykę Key Vault w portalu hello</span><span class="sxs-lookup"><span data-stu-id="a72ed-114">Enable Key Vault diagnostics in hello portal</span></span>

1. <span data-ttu-id="a72ed-115">W hello portalu Azure Przejdź toomonitor zasobu usługi Key Vault toohello</span><span class="sxs-lookup"><span data-stu-id="a72ed-115">In hello Azure portal, navigate toohello Key Vault resource toomonitor</span></span>
2. <span data-ttu-id="a72ed-116">Wybierz *dzienników diagnostycznych* hello tooopen po stronie</span><span class="sxs-lookup"><span data-stu-id="a72ed-116">Select *Diagnostics logs* tooopen hello following page</span></span>

   ![obrazów kafelków usługi Azure Key Vault](./media/log-analytics-azure-keyvault/log-analytics-keyvault-enable-diagnostics01.png)
3. <span data-ttu-id="a72ed-118">Kliknij przycisk *Włącz diagnostykę* hello tooopen po stronie</span><span class="sxs-lookup"><span data-stu-id="a72ed-118">Click *Turn on diagnostics* tooopen hello following page</span></span>

   ![obrazów kafelków usługi Azure Key Vault](./media/log-analytics-azure-keyvault/log-analytics-keyvault-enable-diagnostics02.png)
4. <span data-ttu-id="a72ed-120">Kliknij tooturn diagnostykę, *na* w obszarze *stanu*</span><span class="sxs-lookup"><span data-stu-id="a72ed-120">tooturn on diagnostics, click *On* under *Status*</span></span>
5. <span data-ttu-id="a72ed-121">Kliknij przycisk wyboru hello *wysyłania tooLog analityka*</span><span class="sxs-lookup"><span data-stu-id="a72ed-121">Click hello checkbox for *Send tooLog Analytics*</span></span>
6. <span data-ttu-id="a72ed-122">Wybierz istniejący obszar roboczy analizy dzienników lub tworzenie obszaru roboczego</span><span class="sxs-lookup"><span data-stu-id="a72ed-122">Select an existing Log Analytics workspace, or create a workspace</span></span>
7. <span data-ttu-id="a72ed-123">tooenable *AuditEvent* dzienniki, kliknij pole wyboru hello dziennika</span><span class="sxs-lookup"><span data-stu-id="a72ed-123">tooenable *AuditEvent* logs, click hello checkbox under Log</span></span>
8. <span data-ttu-id="a72ed-124">Kliknij przycisk *zapisać* tooenable hello rejestrowania diagnostyki tooLog analityka</span><span class="sxs-lookup"><span data-stu-id="a72ed-124">Click *Save* tooenable hello logging of diagnostics tooLog Analytics</span></span>

### <a name="enable-key-vault-diagnostics-using-powershell"></a><span data-ttu-id="a72ed-125">Włącz diagnostykę Key Vault przy użyciu programu PowerShell</span><span class="sxs-lookup"><span data-stu-id="a72ed-125">Enable Key Vault diagnostics using PowerShell</span></span>
<span data-ttu-id="a72ed-126">Witaj następującego skryptu programu PowerShell zawiera przykładowy sposób toouse `Set-AzureRmDiagnosticSetting` tooenable diagnostyczne dla usługi Key Vault:</span><span class="sxs-lookup"><span data-stu-id="a72ed-126">hello following PowerShell script provides an example of how toouse `Set-AzureRmDiagnosticSetting` tooenable diagnostic logging for Key Vault:</span></span>
```
$workspaceId = "/subscriptions/d2e37fee-1234-40b2-5678-0b2199de3b50/resourcegroups/oi-default-east-us/providers/microsoft.operationalinsights/workspaces/rollingbaskets"

$kv = Get-AzureRmKeyVault -VaultName 'ContosoKeyVault'

Set-AzureRmDiagnosticSetting -ResourceId $kv.ResourceId  -WorkspaceId $workspaceId -Enabled $true
```



## <a name="review-azure-key-vault-data-collection-details"></a><span data-ttu-id="a72ed-127">Przejrzyj szczegóły zbierania danych usługi Azure Key Vault</span><span class="sxs-lookup"><span data-stu-id="a72ed-127">Review Azure Key Vault data collection details</span></span>
<span data-ttu-id="a72ed-128">Azure Key Vault rozwiązania służy do zbierania dzienników diagnostycznych bezpośrednio z hello Key Vault.</span><span class="sxs-lookup"><span data-stu-id="a72ed-128">Azure Key Vault solution collects diagnostics logs directly from hello Key Vault.</span></span>
<span data-ttu-id="a72ed-129">Nie jest konieczne toowrite hello dzienniki tooAzure magazynu obiektów Blob i agent nie jest wymagany do zbierania danych.</span><span class="sxs-lookup"><span data-stu-id="a72ed-129">It is not necessary toowrite hello logs tooAzure Blob storage and no agent is required for data collection.</span></span>

<span data-ttu-id="a72ed-130">Witaj poniższej tabeli przedstawiono metody zbierania danych i inne szczegółowe informacje o sposobie dane są zbierane dla usługi Azure Key Vault.</span><span class="sxs-lookup"><span data-stu-id="a72ed-130">hello following table shows data collection methods and other details about how data is collected for Azure Key Vault.</span></span>

| <span data-ttu-id="a72ed-131">Platforma</span><span class="sxs-lookup"><span data-stu-id="a72ed-131">Platform</span></span> | <span data-ttu-id="a72ed-132">Bezpośrednie agenta</span><span class="sxs-lookup"><span data-stu-id="a72ed-132">Direct agent</span></span> | <span data-ttu-id="a72ed-133">Agent menedżera operacji centrum systemów</span><span class="sxs-lookup"><span data-stu-id="a72ed-133">Systems Center Operations Manager agent</span></span> | <span data-ttu-id="a72ed-134">Azure</span><span class="sxs-lookup"><span data-stu-id="a72ed-134">Azure</span></span> | <span data-ttu-id="a72ed-135">Wymagane programu Operations Manager?</span><span class="sxs-lookup"><span data-stu-id="a72ed-135">Operations Manager required?</span></span> | <span data-ttu-id="a72ed-136">Danych agenta programu Operations Manager są wysyłane za pośrednictwem grupy zarządzania</span><span class="sxs-lookup"><span data-stu-id="a72ed-136">Operations Manager agent data sent via management group</span></span> | <span data-ttu-id="a72ed-137">Częstotliwość zbierania</span><span class="sxs-lookup"><span data-stu-id="a72ed-137">Collection frequency</span></span> |
| --- | --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="a72ed-138">Azure</span><span class="sxs-lookup"><span data-stu-id="a72ed-138">Azure</span></span> |  |  |<span data-ttu-id="a72ed-139">&#8226;</span><span class="sxs-lookup"><span data-stu-id="a72ed-139">&#8226;</span></span> |  |  | <span data-ttu-id="a72ed-140">po przybyciu</span><span class="sxs-lookup"><span data-stu-id="a72ed-140">on arrival</span></span> |

## <a name="use-azure-key-vault"></a><span data-ttu-id="a72ed-141">Korzystanie z rozwiązania Azure Key Vault</span><span class="sxs-lookup"><span data-stu-id="a72ed-141">Use Azure Key Vault</span></span>
<span data-ttu-id="a72ed-142">Po [zainstalować rozwiązanie hello](https://azuremarketplace.microsoft.com/marketplace/apps/Microsoft.KeyVaultAnalyticsOMS?tab=Overview), przeglądać dane usługi Key Vault hello klikając hello **usługi Azure Key Vault** Kafelek z hello **omówienie** strony analizy dzienników.</span><span class="sxs-lookup"><span data-stu-id="a72ed-142">After you [install hello solution](https://azuremarketplace.microsoft.com/marketplace/apps/Microsoft.KeyVaultAnalyticsOMS?tab=Overview), view hello Key Vault data by clicking hello **Azure Key Vault** tile from hello **Overview** page of Log Analytics.</span></span>

![obrazów kafelków usługi Azure Key Vault](./media/log-analytics-azure-keyvault/log-analytics-keyvault-tile.png)

<span data-ttu-id="a72ed-144">Po kliknięciu hello **omówienie** kafelka, można wyświetlić podsumowania dzienników, a następnie Drąż w toodetails dla hello następujące kategorie:</span><span class="sxs-lookup"><span data-stu-id="a72ed-144">After you click hello **Overview** tile, you can view summaries of your logs and then drill in toodetails for hello following categories:</span></span>

* <span data-ttu-id="a72ed-145">Wolumin wszystkie operacje magazynu kluczy w czasie</span><span class="sxs-lookup"><span data-stu-id="a72ed-145">Volume of all key vault operations over time</span></span>
* <span data-ttu-id="a72ed-146">Nie powiodła się operacja woluminów wraz z upływem czasu</span><span class="sxs-lookup"><span data-stu-id="a72ed-146">Failed operation volumes over time</span></span>
* <span data-ttu-id="a72ed-147">Średni czas oczekiwania operacyjnej, przez operację</span><span class="sxs-lookup"><span data-stu-id="a72ed-147">Average operational latency by operation</span></span>
* <span data-ttu-id="a72ed-148">Jakość usług dla operacji o hello liczba operacji, które przyjmują więcej niż 1000 ms oraz listę działań, które przyjmują więcej niż 1000 ms</span><span class="sxs-lookup"><span data-stu-id="a72ed-148">Quality of service for operations with hello number of operations that take more than 1000 ms and a list of operations that take more than 1000 ms</span></span>

![Obraz pulpitu nawigacyjnego usługi Azure Key Vault](./media/log-analytics-azure-keyvault/log-analytics-keyvault01.png)

![Obraz pulpitu nawigacyjnego usługi Azure Key Vault](./media/log-analytics-azure-keyvault/log-analytics-keyvault02.png)

### <a name="tooview-details-for-any-operation"></a><span data-ttu-id="a72ed-151">Szczegóły tooview do żadnej operacji</span><span class="sxs-lookup"><span data-stu-id="a72ed-151">tooview details for any operation</span></span>
1. <span data-ttu-id="a72ed-152">Na powitania **omówienie** kliknij przycisk hello **usługi Azure Key Vault** kafelka.</span><span class="sxs-lookup"><span data-stu-id="a72ed-152">On hello **Overview** page, click hello **Azure Key Vault** tile.</span></span>
2. <span data-ttu-id="a72ed-153">Na powitania **usługi Azure Key Vault** pulpitu nawigacyjnego, przejrzyj hello informacje podsumowania w jednym z bloków hello, a następnie kliknij jedną tooview szczegółowe informacje o nim w hello dziennik wyszukiwania strony.</span><span class="sxs-lookup"><span data-stu-id="a72ed-153">On hello **Azure Key Vault** dashboard, review hello summary information in one of hello blades, and then click one tooview detailed information about it in hello log search page.</span></span>

    <span data-ttu-id="a72ed-154">Na wszystkich stronach wyszukiwania dziennika hello można wyświetlić wyniki według czasu, szczegółowe wyniki i historię dziennik wyszukiwania.</span><span class="sxs-lookup"><span data-stu-id="a72ed-154">On any of hello log search pages, you can view results by time, detailed results, and your log search history.</span></span> <span data-ttu-id="a72ed-155">Można również filtrować według aspekty toonarrow hello wyników.</span><span class="sxs-lookup"><span data-stu-id="a72ed-155">You can also filter by facets toonarrow hello results.</span></span>

## <a name="log-analytics-records"></a><span data-ttu-id="a72ed-156">Rekordy usługi Log Analytics</span><span class="sxs-lookup"><span data-stu-id="a72ed-156">Log Analytics records</span></span>
<span data-ttu-id="a72ed-157">Witaj rozwiązania Azure Key Vault analizuje rekordów, które mają typ **KeyVaults** które są zbierane z [dzienniki AuditEvent](../key-vault/key-vault-logging.md) w diagnostyce Azure.</span><span class="sxs-lookup"><span data-stu-id="a72ed-157">hello Azure Key Vault solution analyzes records that have a type of **KeyVaults** that are collected from [AuditEvent logs](../key-vault/key-vault-logging.md) in Azure Diagnostics.</span></span>  <span data-ttu-id="a72ed-158">Właściwości te rekordy są hello w poniższej tabeli:</span><span class="sxs-lookup"><span data-stu-id="a72ed-158">Properties for these records are in hello following table:</span></span>  

| <span data-ttu-id="a72ed-159">Właściwość</span><span class="sxs-lookup"><span data-stu-id="a72ed-159">Property</span></span> | <span data-ttu-id="a72ed-160">Opis</span><span class="sxs-lookup"><span data-stu-id="a72ed-160">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="a72ed-161">Typ</span><span class="sxs-lookup"><span data-stu-id="a72ed-161">Type</span></span> |<span data-ttu-id="a72ed-162">*AzureDiagnostics*</span><span class="sxs-lookup"><span data-stu-id="a72ed-162">*AzureDiagnostics*</span></span> |
| <span data-ttu-id="a72ed-163">SourceSystem</span><span class="sxs-lookup"><span data-stu-id="a72ed-163">SourceSystem</span></span> |<span data-ttu-id="a72ed-164">*Azure*</span><span class="sxs-lookup"><span data-stu-id="a72ed-164">*Azure*</span></span> |
| <span data-ttu-id="a72ed-165">CallerIpAddress</span><span class="sxs-lookup"><span data-stu-id="a72ed-165">CallerIpAddress</span></span> |<span data-ttu-id="a72ed-166">Adres IP klienta hello, który wysłał żądanie hello</span><span class="sxs-lookup"><span data-stu-id="a72ed-166">IP address of hello client who made hello request</span></span> |
| <span data-ttu-id="a72ed-167">Kategoria</span><span class="sxs-lookup"><span data-stu-id="a72ed-167">Category</span></span> | <span data-ttu-id="a72ed-168">*AuditEvent*</span><span class="sxs-lookup"><span data-stu-id="a72ed-168">*AuditEvent*</span></span> |
| <span data-ttu-id="a72ed-169">CorrelationId</span><span class="sxs-lookup"><span data-stu-id="a72ed-169">CorrelationId</span></span> |<span data-ttu-id="a72ed-170">Opcjonalny identyfikator GUID hello klienta można przekazać toocorrelate dzienników po stronie klienta z dziennikami po stronie usługi (Key Vault).</span><span class="sxs-lookup"><span data-stu-id="a72ed-170">An optional GUID that hello client can pass toocorrelate client-side logs with service-side (Key Vault) logs.</span></span> |
| <span data-ttu-id="a72ed-171">DurationMs</span><span class="sxs-lookup"><span data-stu-id="a72ed-171">DurationMs</span></span> |<span data-ttu-id="a72ed-172">Czas trwania żądania interfejsu API REST hello tooservice, w milisekundach.</span><span class="sxs-lookup"><span data-stu-id="a72ed-172">Time it took tooservice hello REST API request, in milliseconds.</span></span> <span data-ttu-id="a72ed-173">Tym razem nie obejmuje opóźnienia sieci, więc czas zmierzony po stronie klienta hello hello mogą być niezgodne z tym razem.</span><span class="sxs-lookup"><span data-stu-id="a72ed-173">This time does not include network latency, so hello time that you measure on hello client side might not match this time.</span></span> |
| <span data-ttu-id="a72ed-174">httpStatusCode_d</span><span class="sxs-lookup"><span data-stu-id="a72ed-174">httpStatusCode_d</span></span> |<span data-ttu-id="a72ed-175">Zwrócony przez Żądanie hello kod stanu HTTP (na przykład *200*)</span><span class="sxs-lookup"><span data-stu-id="a72ed-175">HTTP status code returned by hello request (for example, *200*)</span></span> |
| <span data-ttu-id="a72ed-176">id_s</span><span class="sxs-lookup"><span data-stu-id="a72ed-176">id_s</span></span> |<span data-ttu-id="a72ed-177">Unikatowy identyfikator żądania hello</span><span class="sxs-lookup"><span data-stu-id="a72ed-177">Unique ID of hello request</span></span> |
| <span data-ttu-id="a72ed-178">identity_claim_appid_g</span><span class="sxs-lookup"><span data-stu-id="a72ed-178">identity_claim_appid_g</span></span> | <span data-ttu-id="a72ed-179">Identyfikator GUID dla identyfikatora aplikacji hello</span><span class="sxs-lookup"><span data-stu-id="a72ed-179">GUID for hello application id</span></span> |
| <span data-ttu-id="a72ed-180">OperationName</span><span class="sxs-lookup"><span data-stu-id="a72ed-180">OperationName</span></span> |<span data-ttu-id="a72ed-181">Nazwa operacji hello, zgodnie z opisem w [rejestrowanie usługi Azure Key Vault](../key-vault/key-vault-logging.md)</span><span class="sxs-lookup"><span data-stu-id="a72ed-181">Name of hello operation, as documented in [Azure Key Vault Logging](../key-vault/key-vault-logging.md)</span></span> |
| <span data-ttu-id="a72ed-182">OperationVersion</span><span class="sxs-lookup"><span data-stu-id="a72ed-182">OperationVersion</span></span> |<span data-ttu-id="a72ed-183">Wersja interfejsu API REST zażądał powitania klienta (na przykład *2015-06-01*)</span><span class="sxs-lookup"><span data-stu-id="a72ed-183">REST API version requested by hello client (for example *2015-06-01*)</span></span> |
| <span data-ttu-id="a72ed-184">requestUri_s</span><span class="sxs-lookup"><span data-stu-id="a72ed-184">requestUri_s</span></span> |<span data-ttu-id="a72ed-185">Identyfikator URI żądania hello</span><span class="sxs-lookup"><span data-stu-id="a72ed-185">Uri of hello request</span></span> |
| <span data-ttu-id="a72ed-186">Zasób</span><span class="sxs-lookup"><span data-stu-id="a72ed-186">Resource</span></span> |<span data-ttu-id="a72ed-187">Nazwa magazynu kluczy hello</span><span class="sxs-lookup"><span data-stu-id="a72ed-187">Name of hello key vault</span></span> |
| <span data-ttu-id="a72ed-188">ResourceGroup</span><span class="sxs-lookup"><span data-stu-id="a72ed-188">ResourceGroup</span></span> |<span data-ttu-id="a72ed-189">Grupa zasobów hello magazyn kluczy</span><span class="sxs-lookup"><span data-stu-id="a72ed-189">Resource group of hello key vault</span></span> |
| <span data-ttu-id="a72ed-190">Identyfikator zasobu</span><span class="sxs-lookup"><span data-stu-id="a72ed-190">ResourceId</span></span> |<span data-ttu-id="a72ed-191">Identyfikator zasobu usługi Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="a72ed-191">Azure Resource Manager Resource ID.</span></span> <span data-ttu-id="a72ed-192">W przypadku dzienników usługi Key Vault jest hello Key Vault z identyfikatorem zasobu.</span><span class="sxs-lookup"><span data-stu-id="a72ed-192">For Key Vault logs, this is hello Key Vault resource ID.</span></span> |
| <span data-ttu-id="a72ed-193">ResourceProvider</span><span class="sxs-lookup"><span data-stu-id="a72ed-193">ResourceProvider</span></span> |<span data-ttu-id="a72ed-194">*FIRMY MICROSOFT. KEYVAULT*</span><span class="sxs-lookup"><span data-stu-id="a72ed-194">*MICROSOFT.KEYVAULT*</span></span> |
| <span data-ttu-id="a72ed-195">ResourceType</span><span class="sxs-lookup"><span data-stu-id="a72ed-195">ResourceType</span></span> | <span data-ttu-id="a72ed-196">*MAGAZYNÓW*</span><span class="sxs-lookup"><span data-stu-id="a72ed-196">*VAULTS*</span></span> |
| <span data-ttu-id="a72ed-197">ResultSignature</span><span class="sxs-lookup"><span data-stu-id="a72ed-197">ResultSignature</span></span> |<span data-ttu-id="a72ed-198">Stan HTTP (na przykład *OK*)</span><span class="sxs-lookup"><span data-stu-id="a72ed-198">HTTP status (for example, *OK*)</span></span> |
| <span data-ttu-id="a72ed-199">Typ ResultType</span><span class="sxs-lookup"><span data-stu-id="a72ed-199">ResultType</span></span> |<span data-ttu-id="a72ed-200">Wynik żądania interfejsu API REST (na przykład *Powodzenie*)</span><span class="sxs-lookup"><span data-stu-id="a72ed-200">Result of REST API request (for example, *Success*)</span></span> |
| <span data-ttu-id="a72ed-201">SubscriptionId</span><span class="sxs-lookup"><span data-stu-id="a72ed-201">SubscriptionId</span></span> |<span data-ttu-id="a72ed-202">Identyfikator subskrypcji Azure subskrypcji hello zawierający hello magazyn kluczy</span><span class="sxs-lookup"><span data-stu-id="a72ed-202">Azure subscription ID of hello subscription containing hello Key Vault</span></span> |

## <a name="migrating-from-hello-old-key-vault-solution"></a><span data-ttu-id="a72ed-203">Migracja z rozwiązania do hello starego magazynu kluczy</span><span class="sxs-lookup"><span data-stu-id="a72ed-203">Migrating from hello old Key Vault solution</span></span>
<span data-ttu-id="a72ed-204">W stycznia 2017 r. hello obsługiwane wysyłać dzienniki z tooLog Key Vault, zmienić Analytics.</span><span class="sxs-lookup"><span data-stu-id="a72ed-204">In January 2017, hello supported way of sending logs from Key Vault tooLog Analytics changed.</span></span> <span data-ttu-id="a72ed-205">Te zmiany zapewniają hello następujące korzyści:</span><span class="sxs-lookup"><span data-stu-id="a72ed-205">These changes provide hello following advantages:</span></span>
+ <span data-ttu-id="a72ed-206">Dzienniki są zapisywane bezpośrednio tooLog Analytics bez hello muszą toouse konta magazynu</span><span class="sxs-lookup"><span data-stu-id="a72ed-206">Logs are written directly tooLog Analytics without hello need toouse a storage account</span></span>
+ <span data-ttu-id="a72ed-207">Mniejsze opóźnienia od czasu hello, kiedy są dzienniki generowane toothem dostępne w analizy dzienników</span><span class="sxs-lookup"><span data-stu-id="a72ed-207">Less latency from hello time when logs are generated toothem being available in Log Analytics</span></span>
+ <span data-ttu-id="a72ed-208">Mniejszej liczby kroków konfiguracji</span><span class="sxs-lookup"><span data-stu-id="a72ed-208">Fewer configuration steps</span></span>
+ <span data-ttu-id="a72ed-209">Format wspólne dla wszystkich typów Diagnostyka Azure</span><span class="sxs-lookup"><span data-stu-id="a72ed-209">A common format for all types of Azure diagnostics</span></span>

<span data-ttu-id="a72ed-210">Witaj toouse zaktualizowane rozwiązania:</span><span class="sxs-lookup"><span data-stu-id="a72ed-210">toouse hello updated solution:</span></span>

1. [<span data-ttu-id="a72ed-211">Skonfiguruj toobe diagnostyki wysyłane bezpośrednio tooLog Analytics z magazynu kluczy</span><span class="sxs-lookup"><span data-stu-id="a72ed-211">Configure diagnostics toobe sent directly tooLog Analytics from Key Vault</span></span>](#enable-key-vault-diagnostics-in-the-portal)  
2. <span data-ttu-id="a72ed-212">Włącz rozwiązanie usługi Azure Key Vault hello przy użyciu hello procesu opisanego w temacie [rozwiązań analizy dzienników dodać hello galerii rozwiązań](log-analytics-add-solutions.md)</span><span class="sxs-lookup"><span data-stu-id="a72ed-212">Enable hello Azure Key Vault solution by using hello process described in [Add Log Analytics solutions from hello Solutions Gallery](log-analytics-add-solutions.md)</span></span>
3. <span data-ttu-id="a72ed-213">Wszystkie zapisane kwerendy, pulpity nawigacyjne lub alerty toouse hello nowy typ danych</span><span class="sxs-lookup"><span data-stu-id="a72ed-213">Update any saved queries, dashboards, or alerts toouse hello new data type</span></span>
  + <span data-ttu-id="a72ed-214">Typ jest zmiana z: KeyVaults tooAzureDiagnostics.</span><span class="sxs-lookup"><span data-stu-id="a72ed-214">Type is change from: KeyVaults tooAzureDiagnostics.</span></span> <span data-ttu-id="a72ed-215">Możesz użyć hello ResourceType toofilter tooKey dzienniki magazynu.</span><span class="sxs-lookup"><span data-stu-id="a72ed-215">You can use hello ResourceType toofilter tooKey Vault Logs.</span></span>
  - <span data-ttu-id="a72ed-216">Zamiast: `Type=KeyVaults`, użyj`Type=AzureDiagnostics ResourceType=VAULTS`</span><span class="sxs-lookup"><span data-stu-id="a72ed-216">Instead of: `Type=KeyVaults`, use `Type=AzureDiagnostics ResourceType=VAULTS`</span></span>
  + <span data-ttu-id="a72ed-217">Pola: (nazwy pól jest rozróżniana wielkość liter)</span><span class="sxs-lookup"><span data-stu-id="a72ed-217">Fields: (Field names are case-sensitive)</span></span>
  - <span data-ttu-id="a72ed-218">Dla dowolnego pola, które sufiks \_s, \_d, lub \_g w nazwie hello, zmień hello pierwszy znak toolower przypadku</span><span class="sxs-lookup"><span data-stu-id="a72ed-218">For any field that has a suffix of \_s, \_d, or \_g in hello name, change hello first character toolower case</span></span>
  - <span data-ttu-id="a72ed-219">Dla dowolnego pola, które sufiks \_o w polu Nazwa danych hello jest podzielony na poszczególnych pól na podstawie nazw pól hello zagnieżdżone.</span><span class="sxs-lookup"><span data-stu-id="a72ed-219">For any field that has a suffix of \_o in name, hello data is split into individual fields based on hello nested field names.</span></span> <span data-ttu-id="a72ed-220">Na przykład hello UPN wywołującego hello jest przechowywany w polu`identity_claim_http_schemas_xmlsoap_org_ws_2005_05_identity_claims_upn_s`</span><span class="sxs-lookup"><span data-stu-id="a72ed-220">For example, hello UPN of hello caller is stored in a field `identity_claim_http_schemas_xmlsoap_org_ws_2005_05_identity_claims_upn_s`</span></span>
   - <span data-ttu-id="a72ed-221">TooCallerIPAddress CallerIpAddress pola zmienione</span><span class="sxs-lookup"><span data-stu-id="a72ed-221">Field CallerIpAddress changed tooCallerIPAddress</span></span>
   - <span data-ttu-id="a72ed-222">Pole RemoteIPCountry nie jest już obecne</span><span class="sxs-lookup"><span data-stu-id="a72ed-222">Field RemoteIPCountry is no longer present</span></span>
4. <span data-ttu-id="a72ed-223">Usuń hello *analityka magazynu kluczy (przestarzały)* rozwiązania.</span><span class="sxs-lookup"><span data-stu-id="a72ed-223">Remove hello *Key Vault Analytics (Deprecated)* solution.</span></span> <span data-ttu-id="a72ed-224">Jeśli używasz programu PowerShell, użyj`Set-AzureOperationalInsightsIntelligencePack -ResourceGroupName <resource group that hello workspace is in> -WorkspaceName <name of hello log analytics workspace> -IntelligencePackName "KeyVault" -Enabled $false`</span><span class="sxs-lookup"><span data-stu-id="a72ed-224">If you are using PowerShell, use `Set-AzureOperationalInsightsIntelligencePack -ResourceGroupName <resource group that hello workspace is in> -WorkspaceName <name of hello log analytics workspace> -IntelligencePackName "KeyVault" -Enabled $false`</span></span>

<span data-ttu-id="a72ed-225">Dane zbierane przed hello zmiany nie jest widoczna w hello nowego rozwiązania.</span><span class="sxs-lookup"><span data-stu-id="a72ed-225">Data collected before hello change is not visible in hello new solution.</span></span> <span data-ttu-id="a72ed-226">Możesz kontynuować tooquery dla tego danych przy użyciu hello stary typ i nazwy pola.</span><span class="sxs-lookup"><span data-stu-id="a72ed-226">You can continue tooquery for this data using hello old Type and field names.</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="a72ed-227">Rozwiązywanie problemów</span><span class="sxs-lookup"><span data-stu-id="a72ed-227">Troubleshooting</span></span>
[!INCLUDE [log-analytics-troubleshoot-azure-diagnostics](../../includes/log-analytics-troubleshoot-azure-diagnostics.md)]

## <a name="next-steps"></a><span data-ttu-id="a72ed-228">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="a72ed-228">Next steps</span></span>
* <span data-ttu-id="a72ed-229">Użyj [Zaloguj wyszukiwania analizy dzienników](log-analytics-log-searches.md) tooview szczegółowe dane usługi Azure Key Vault.</span><span class="sxs-lookup"><span data-stu-id="a72ed-229">Use [Log searches in Log Analytics](log-analytics-log-searches.md) tooview detailed Azure Key Vault data.</span></span>
