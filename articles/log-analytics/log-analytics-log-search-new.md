---
title: aaaLog wyszukiwania OMS Log Analytics | Dokumentacja firmy Microsoft
description: "Tooretrieve wyszukiwania dziennika jest wymagane żadne dane z analizy dzienników.  W tym artykule opisano sposób nowy dziennik wyszukiwania są używane w analizy dzienników i zapewnia koncepcje potrzebne toounderstand przed utworzeniem jeden."
services: log-analytics
documentationcenter: 
author: bwren
manager: carmonm
editor: 
ms.service: log-analytics
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/25/2017
ms.author: bwren
ms.openlocfilehash: 08fda1d9eb9e6ab824ffb9e12af09832c3e3fad2
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="understanding-log-searches-in-log-analytics"></a><span data-ttu-id="534e7-104">Opis wyszukiwania dziennika analizy dzienników</span><span class="sxs-lookup"><span data-stu-id="534e7-104">Understanding log searches in Log Analytics</span></span>

> [!NOTE]
> <span data-ttu-id="534e7-105">W tym artykule opisano dziennik wyszukiwania przy użyciu hello nowego języka zapytań usługi Analiza dzienników Azure.</span><span class="sxs-lookup"><span data-stu-id="534e7-105">This article describes log searches in Azure Log Analytics using hello new query language.</span></span>  <span data-ttu-id="534e7-106">Możesz dowiedzieć się więcej o nowy język hello i uzyskać hello procedury tooupgrade obszaru roboczego na [uaktualnienia wyszukiwania dziennika toonew roboczym usługi Analiza dzienników Azure](log-analytics-log-search-upgrade.md).</span><span class="sxs-lookup"><span data-stu-id="534e7-106">You can learn more about hello new language and get hello procedure tooupgrade your workspace at [Upgrade your Azure Log Analytics workspace toonew log search](log-analytics-log-search-upgrade.md).</span></span>  
>
> <span data-ttu-id="534e7-107">Jeśli obszar roboczy nie został uaktualniony toohello nowy język zapytań, należy zapoznać się zbyt[wyszukiwanie danych przy użyciu dziennika wyszukiwania w analizy dzienników](log-analytics-log-searches.md).</span><span class="sxs-lookup"><span data-stu-id="534e7-107">If your workspace hasn't been upgraded toohello new query language, you should refer too[Find data using log searches in Log Analytics](log-analytics-log-searches.md).</span></span>

<span data-ttu-id="534e7-108">Tooretrieve wyszukiwania dziennika jest wymagane żadne dane z analizy dzienników.</span><span class="sxs-lookup"><span data-stu-id="534e7-108">You require a log search tooretrieve any data from Log Analytics.</span></span>  <span data-ttu-id="534e7-109">Czy w przypadku analizowania danych w portalu hello, konfigurowanie toobe reguły alertu powiadomienie określony warunek, lub podczas pobierania danych przy użyciu hello dziennika analizy interfejsu API, będzie używać danych hello toospecify wyszukiwania dziennika, który ma.</span><span class="sxs-lookup"><span data-stu-id="534e7-109">Whether you're analyzing data in hello portal, configuring an alert rule toobe notified of a particular condition, or retrieving data using hello Log Analytics API, you will use a log search toospecify hello data you want.</span></span>  <span data-ttu-id="534e7-110">W tym artykule opisano sposób użycia dziennika wyszukiwania w analizy dzienników i zapewnia pojęcia, które należy zrozumieć przed utworzeniem jeden.</span><span class="sxs-lookup"><span data-stu-id="534e7-110">This article describes how log searches are used in Log Analytics and provides concepts that should understand before creating one.</span></span> <span data-ttu-id="534e7-111">Zobacz hello [następne kroki](#next-steps) sekcji, aby uzyskać więcej informacji na temat tworzenia i edytowania dziennik wyszukiwania i odwołań na powitania język zapytań.</span><span class="sxs-lookup"><span data-stu-id="534e7-111">See hello [Next steps](#next-steps) section for details on creating and editing log searches and for references on hello query language.</span></span>

## <a name="where-log-searches-are-used"></a><span data-ttu-id="534e7-112">Gdzie są używane dziennik wyszukiwania</span><span class="sxs-lookup"><span data-stu-id="534e7-112">Where log searches are used</span></span>

<span data-ttu-id="534e7-113">różne sposoby Hello, który będzie używany dziennik wyszukiwania w analizy dzienników Uwzględnij hello następujące elementy:</span><span class="sxs-lookup"><span data-stu-id="534e7-113">hello different ways that you will use log searches in Log Analytics include hello following:</span></span>

- <span data-ttu-id="534e7-114">**Portale.**</span><span class="sxs-lookup"><span data-stu-id="534e7-114">**Portals.**</span></span> <span data-ttu-id="534e7-115">Można wykonywać analizy interakcyjnej danych w repozytorium hello i hello [dziennik wyszukiwania portalu](log-analytics-log-search-log-search-portal.md) lub hello [portal analityka zaawansowane](https://go.microsoft.com/fwlink/?linkid=856587).</span><span class="sxs-lookup"><span data-stu-id="534e7-115">You can perform interactive analysis of data in hello repository with hello [Log Search portal](log-analytics-log-search-log-search-portal.md) or hello [Advanced Analytics portal](https://go.microsoft.com/fwlink/?linkid=856587).</span></span>  <span data-ttu-id="534e7-116">Dzięki temu można tooedit Twojego zapytania i Analizuj wyniki hello w różnych formatach i wizualizacji.</span><span class="sxs-lookup"><span data-stu-id="534e7-116">This allows you tooedit your query and analyze hello results in a variety of formats and visualizations.</span></span>  <span data-ttu-id="534e7-117">Większość zapytań, które możesz utworzyć zostanie uruchomiony w jednym z portali hello i następnie skopiowana po zweryfikowaniu, że działa zgodnie z oczekiwaniami.</span><span class="sxs-lookup"><span data-stu-id="534e7-117">Most queries that you create will start in one of hello portals and then copied once you verify that it works as expected.</span></span>
- <span data-ttu-id="534e7-118">**Reguły alertów.**</span><span class="sxs-lookup"><span data-stu-id="534e7-118">**Alert rules.**</span></span> <span data-ttu-id="534e7-119">[Reguły alertów](log-analytics-alerts.md) aktywne identyfikowanie problemów z danych w obszarze roboczym.</span><span class="sxs-lookup"><span data-stu-id="534e7-119">[Alert rules](log-analytics-alerts.md) proactively identify issues from data in your workspace.</span></span>  <span data-ttu-id="534e7-120">Każdej reguły alertu jest oparta na wyszukiwania dziennika, który jest automatycznie uruchamiany w regularnych odstępach czasu.</span><span class="sxs-lookup"><span data-stu-id="534e7-120">Each alert rule is based on a log search that is automatically run at regular intervals.</span></span>  <span data-ttu-id="534e7-121">wyniki Hello są toodetermine kontrolowanego, jeśli alert powinien zostać utworzony.</span><span class="sxs-lookup"><span data-stu-id="534e7-121">hello results are inspected toodetermine if an alert should be created.</span></span>
- <span data-ttu-id="534e7-122">**Widoki.**</span><span class="sxs-lookup"><span data-stu-id="534e7-122">**Views.**</span></span>  <span data-ttu-id="534e7-123">Możesz utworzyć wizualizacje toobe dane zawarte w pulpity nawigacyjne użytkownika z [Widok projektanta](log-analytics-view-designer.md).</span><span class="sxs-lookup"><span data-stu-id="534e7-123">You can create visualizations of data toobe included in user dashboards with [View Designer](log-analytics-view-designer.md).</span></span>  <span data-ttu-id="534e7-124">Wyszukiwanie dziennika zawierają dane hello używane przez [Kafelki](log-analytics-view-designer-tiles.md) i [części wizualizacji](log-analytics-view-designer-parts.md) w każdym widoku.</span><span class="sxs-lookup"><span data-stu-id="534e7-124">Log searches provide hello data used by [tiles](log-analytics-view-designer-tiles.md) and [visualization parts](log-analytics-view-designer-parts.md) in each view.</span></span>  <span data-ttu-id="534e7-125">Możesz można przejść z części wizualizacji do hello dziennik wyszukiwania portalu tooperform dalszą analizę danych hello.</span><span class="sxs-lookup"><span data-stu-id="534e7-125">You can drill down from visualization parts into hello Log Search portal tooperform further analysis on hello data.</span></span>
- <span data-ttu-id="534e7-126">**Eksportowanie.**</span><span class="sxs-lookup"><span data-stu-id="534e7-126">**Export.**</span></span>  <span data-ttu-id="534e7-127">Podczas eksportowania danych z tooExcel obszaru roboczego analizy dzienników hello lub [usługi Power BI](log-analytics-powerbi.md), Utwórz tooexport dziennik wyszukiwania toodefine hello danych.</span><span class="sxs-lookup"><span data-stu-id="534e7-127">When you export data from hello Log Analytics workspace tooExcel or [Power BI](log-analytics-powerbi.md), you create a log search toodefine hello data tooexport.</span></span>
- <span data-ttu-id="534e7-128">**Środowiska PowerShell.**</span><span class="sxs-lookup"><span data-stu-id="534e7-128">**PowerShell.**</span></span> <span data-ttu-id="534e7-129">Należy uruchomić skrypt programu PowerShell z wiersza polecenia lub element runbook usługi Automatyzacja Azure, która używa [Get-AzureRmOperationalInsightsSearchResults](https://docs.microsoft.com/powershell/module/azurerm.operationalinsights/get-azurermoperationalinsightssearchresults?view=azurermps-4.0.0) tooretrieve dane z analizy dzienników.</span><span class="sxs-lookup"><span data-stu-id="534e7-129">You can run a PowerShell script from a command line or an Azure Automation runbook that uses [Get-AzureRmOperationalInsightsSearchResults](https://docs.microsoft.com/powershell/module/azurerm.operationalinsights/get-azurermoperationalinsightssearchresults?view=azurermps-4.0.0) tooretrieve data from Log Analytics.</span></span>  <span data-ttu-id="534e7-130">To polecenie cmdlet wymaga kwerendy toodetermine hello danych tooretrieve.</span><span class="sxs-lookup"><span data-stu-id="534e7-130">This cmdlet requires a query toodetermine hello data tooretrieve.</span></span>
- <span data-ttu-id="534e7-131">**Interfejs API analizy dziennika.**</span><span class="sxs-lookup"><span data-stu-id="534e7-131">**Log Analytics API.**</span></span>  <span data-ttu-id="534e7-132">Witaj [analizy dzienników dziennika wyszukiwania interfejsu API](log-analytics-log-search-api.md) umożliwia tooretrieve danych z obszaru roboczego hello dowolnego klienta interfejsu API REST.</span><span class="sxs-lookup"><span data-stu-id="534e7-132">hello [Log Analytics log search API](log-analytics-log-search-api.md) allows any REST API client tooretrieve data from hello workspace.</span></span>  <span data-ttu-id="534e7-133">żądanie interfejsu API Hello zawiera zapytanie, które jest wykonywane na tooretrieve danych hello toodetermine analizy dzienników.</span><span class="sxs-lookup"><span data-stu-id="534e7-133">hello API request includes a query that is run against Log Analytics toodetermine hello data tooretrieve.</span></span>

![Dziennik wyszukiwania](media/log-analytics-log-search-new/log-search-overview.png)

## <a name="how-log-analytics-data-is-organized"></a><span data-ttu-id="534e7-135">Sposób organizowania danych analizy dzienników</span><span class="sxs-lookup"><span data-stu-id="534e7-135">How Log Analytics data is organized</span></span>
<span data-ttu-id="534e7-136">Podczas tworzenia zapytania należy rozpocząć od określania tabel, które znajdują się dane hello, którego szukasz.</span><span class="sxs-lookup"><span data-stu-id="534e7-136">When you build a query, you start by determining which tables have hello data that you're looking for.</span></span> <span data-ttu-id="534e7-137">Każdy [źródła danych](log-analytics-data-sources.md) i [rozwiązania](../operations-management-suite/operations-management-suite-solutions.md) przechowuje dane w tabelach dedykowanych w obszarze roboczym analizy dzienników hello.</span><span class="sxs-lookup"><span data-stu-id="534e7-137">Each [data source](log-analytics-data-sources.md) and [solution](../operations-management-suite/operations-management-suite-solutions.md) stores its data in dedicated tables in hello Log Analytics workspace.</span></span>  <span data-ttu-id="534e7-138">Dokumentacja dla każdego źródła danych i rozwiązanie zawiera nazwę hello hello typu danych, które tworzy i opis każdego z jego właściwości.</span><span class="sxs-lookup"><span data-stu-id="534e7-138">Documentation for each data source and solution includes hello name of hello data type that it creates and a description of each of its properties.</span></span>     <span data-ttu-id="534e7-139">Wiele zapytań będzie wymagać tylko dane z jednej tabeli, ale inne osoby mogą używać różnych opcji tooinclude danych z wielu tabel.</span><span class="sxs-lookup"><span data-stu-id="534e7-139">Many queries will only require data from a single tables, but others may use a variety of options tooinclude data from multiple tables.</span></span>

![Tabele](media/log-analytics-log-search-new/queries-tables.png)


## <a name="writing-a-query"></a><span data-ttu-id="534e7-141">Pisanie zapytań</span><span class="sxs-lookup"><span data-stu-id="534e7-141">Writing a query</span></span>
<span data-ttu-id="534e7-142">W podstawowej hello dziennika jest wyszukiwanie w analizy dzienników [język zapytań szeroką gamę](https://docs.loganalytics.io/) umożliwia pobieranie i analizowanie danych z repozytorium hello na różne sposoby.</span><span class="sxs-lookup"><span data-stu-id="534e7-142">At hello core of log searches in Log Analytics is [an extensive query language](https://docs.loganalytics.io/) that lets you retrieve and analyze data from hello repository in a variety of ways.</span></span>  <span data-ttu-id="534e7-143">Tym samym języku zapytania jest używana do [usługi Application Insights](../application-insights/app-insights-analytics.md).</span><span class="sxs-lookup"><span data-stu-id="534e7-143">This same query language is used for [Application Insights](../application-insights/app-insights-analytics.md).</span></span>  <span data-ttu-id="534e7-144">Learning, jak toowrite zapytania jest krytyczne toocreating wyszukiwania dziennika analizy dzienników.</span><span class="sxs-lookup"><span data-stu-id="534e7-144">Learning how toowrite a query is critical toocreating log searches in Log Analytics.</span></span>  <span data-ttu-id="534e7-145">Będzie zazwyczaj rozpoczyna się z zapytaniami podstawowa, a następnie toouse postępu bardziej zaawansowane funkcje zgodnie z wymaganiami staną się bardziej złożonych.</span><span class="sxs-lookup"><span data-stu-id="534e7-145">You'll typically start with basic queries and then progress toouse more advanced functions as your requirements become more complex.</span></span>

<span data-ttu-id="534e7-146">Hello podstawową strukturę zapytania jest tabela źródłowa następuje szereg operatory oddzielone znakiem potoku `|`.</span><span class="sxs-lookup"><span data-stu-id="534e7-146">hello basic structure of a query is a source table followed by a series of operators separated by a pipe character `|`.</span></span>  <span data-ttu-id="534e7-147">Możesz łańcuch wielu operatorów toorefine hello danych i wykonywanie zaawansowanych funkcji.</span><span class="sxs-lookup"><span data-stu-id="534e7-147">You can chain together multiple operators toorefine hello data and perform advanced functions.</span></span>

<span data-ttu-id="534e7-148">Na przykład załóżmy, że chce toofind hello top dziesięć komputerów z hello większość zdarzeń błędów za pośrednictwem hello dnia.</span><span class="sxs-lookup"><span data-stu-id="534e7-148">For example, suppose you wanted toofind hello top ten computers with hello most error events over hello past day.</span></span>

    Event
    | where (EventLevelName == "Error")
    | where (TimeGenerated > ago(1days))
    | summarize ErrorCount = count() by Computer
    | top 10 by ErrorCount desc

<span data-ttu-id="534e7-149">A może warto toofind komputerów, które nie mam pulsu w hello ostatni dzień.</span><span class="sxs-lookup"><span data-stu-id="534e7-149">Or maybe you want toofind computers that haven't had a heartbeat in hello last day.</span></span>

    Heartbeat
    | where TimeGenerated > ago(7d)
    | summarize max(TimeGenerated) by Computer
    | where max_TimeGenerated < ago(1d)  

<span data-ttu-id="534e7-150">Jak wykres liniowy z hello użycie procesora dla każdego komputera w ostatnim tygodniu?</span><span class="sxs-lookup"><span data-stu-id="534e7-150">How about a line chart with hello processor utilization for each computer from last week?</span></span>

    Perf
    | where ObjectName == "Processor" and CounterName == "% Processor Time"
    | where TimeGenerated  between (startofweek(ago(7d)) .. endofweek(ago(7d)) )
    | summarize avg(CounterValue) by Computer, bin(TimeGenerated, 5min)
    | render timechart    

<span data-ttu-id="534e7-151">Z tych szybkie przykłady, które niezależnie od hello rodzaj danych, które użytkownik pracuje, hello można zauważyć, że przypomina strukturę hello zapytania.</span><span class="sxs-lookup"><span data-stu-id="534e7-151">You can see from these quick samples that regardless of hello kind of data that you're working with, hello structure of hello query is similar.</span></span>  <span data-ttu-id="534e7-152">Można podzielić je w dół na różne czynności wysyłania hello danych wynikowych polecenia za pomocą potoku hello toohello następnego polecenia.</span><span class="sxs-lookup"><span data-stu-id="534e7-152">You can break it down into distinct steps where hello resulting data from one command is sent through hello pipeline toohello next command.</span></span>

<span data-ttu-id="534e7-153">Pełna dokumentacja języka zapytań usługi Analiza dzienników Azure hello tym samouczki i materiały referencyjne dotyczące języka, zobacz hello [dokumentację dotyczącą języka zapytań usługi Analiza dzienników Azure](https://docs.loganalytics.io/).</span><span class="sxs-lookup"><span data-stu-id="534e7-153">For complete documentation on hello Azure Log Analytics query language including tutorials and language reference, see hello [Azure Log Analytics query language documentation](https://docs.loganalytics.io/).</span></span>

## <a name="next-steps"></a><span data-ttu-id="534e7-154">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="534e7-154">Next steps</span></span>

- <span data-ttu-id="534e7-155">Dowiedz się więcej o hello [portali Użyj toocreate, a następnie edytować dziennik wyszukiwania](log-analytics-log-search-portals.md).</span><span class="sxs-lookup"><span data-stu-id="534e7-155">Learn about hello [portals that you use toocreate and edit log searches](log-analytics-log-search-portals.md).</span></span>
- <span data-ttu-id="534e7-156">Zapoznaj się z [Samouczek o pisaniu zapytań](https://go.microsoft.com/fwlink/?linkid=856078) przy użyciu hello nowy język kwerendy.</span><span class="sxs-lookup"><span data-stu-id="534e7-156">Check out a [tutorial on writing queries](https://go.microsoft.com/fwlink/?linkid=856078) using hello new query language.</span></span>
