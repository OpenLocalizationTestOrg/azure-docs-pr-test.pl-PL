---
title: "Zagadnienia wydajności i optymalizacji wyszukiwania aaaAzure | Dokumentacja firmy Microsoft"
description: "Dostrajanie wydajności usługi Azure Search i skonfigurować optymalnej skali"
services: search
documentationcenter: 
author: LiamCavanagh
manager: pablocas
editor: 
ms.assetid: 4d3cd864-29d2-4921-be0d-a3f1a819de46
ms.service: search
ms.devlang: rest-api
ms.workload: search
ms.topic: article
ms.tgt_pltfrm: na
ms.date: 05/01/2017
ms.author: liamca
ms.openlocfilehash: 725149ba32773ab6b4c9d4b441424aba78db7c42
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="azure-search-performance-and-optimization-considerations"></a><span data-ttu-id="df520-103">Azure zagadnienia wydajności i optymalizacji wyszukiwania</span><span class="sxs-lookup"><span data-stu-id="df520-103">Azure Search performance and optimization considerations</span></span>
<span data-ttu-id="df520-104">Wyszukiwanie dużą jest klucza toosuccess dla wielu urządzeń przenośnych i aplikacji sieci web.</span><span class="sxs-lookup"><span data-stu-id="df520-104">A great search experience is a key toosuccess for many mobile and web applications.</span></span> <span data-ttu-id="df520-105">Z nieruchomości tooused samochodu rynków tooonline katalogi, szybkie wyszukiwanie i odpowiednie wyniki będzie miało wpływ na wrażenia hello.</span><span class="sxs-lookup"><span data-stu-id="df520-105">From real estate, tooused car marketplaces tooonline catalogs, fast search and relevant results will affect hello customer experience.</span></span> <span data-ttu-id="df520-106">Ten dokument jest zamierzone toohelp odnajdywanie najlepsze rozwiązania dotyczące sposobu hello tooget maksymalne wykorzystanie możliwości usługi Azure Search, szczególnie w przypadku zaawansowanych scenariuszy z zaawansowane opcje wymagań dotyczących skalowalności, obsługi wielu języków lub niestandardowych klasyfikacji.</span><span class="sxs-lookup"><span data-stu-id="df520-106">This document is intended toohelp you discover best practices for how tooget hello most out of Azure Search, especially for advanced scenarios with sophisticated requirements for scalability, multi-language support, or custom ranking.</span></span>  <span data-ttu-id="df520-107">Ponadto ten dokument przedstawia ustawienia wewnętrzne i obejmuje metodami działał efektywnie w aplikacjach rzeczywistych klientów.</span><span class="sxs-lookup"><span data-stu-id="df520-107">In addition, this document outlines internals and covers approaches that work effectively in real-world customer apps.</span></span>

## <a name="performance-and-scale-tuning-for-search-services"></a><span data-ttu-id="df520-108">Wydajność i skalę dostrajania dla usługi wyszukiwania</span><span class="sxs-lookup"><span data-stu-id="df520-108">Performance and scale tuning for Search services</span></span>
<span data-ttu-id="df520-109">Możemy wszystkie aparaty używane toosearch takich jak Bing i Google hello wysokiej wydajności i oferują.</span><span class="sxs-lookup"><span data-stu-id="df520-109">We are all used toosearch engines such as Bing and Google and hello high performance they offer.</span></span>  <span data-ttu-id="df520-110">W związku z tym gdy klienci użyć wyszukiwania sieci web lub aplikacji mobilnej, będzie oczekiwać podobne charakterystyki wydajności.</span><span class="sxs-lookup"><span data-stu-id="df520-110">As a result, when customers use your search-enabled web or mobile application, they will expect similar performance characteristics.</span></span>  <span data-ttu-id="df520-111">Podczas optymalizacji wydajności wyszukiwania, jednym z najlepszych metod hello jest toofocus na opóźnienia, czyli hello czas kwerendy toocomplete i zwrot wyników.</span><span class="sxs-lookup"><span data-stu-id="df520-111">When optimizing for search performance, one of hello best approaches is toofocus on latency, which is hello time a query takes toocomplete and return results.</span></span>  <span data-ttu-id="df520-112">Podczas optymalizacji dla opóźnienia wyszukiwania ważne jest, aby:</span><span class="sxs-lookup"><span data-stu-id="df520-112">When optimizing for search latency it is important to:</span></span>

1. <span data-ttu-id="df520-113">Wybierz docelowym czasem oczekiwania (lub maksymalną ilość czasu) o tym, że żądania wyszukiwania typowych powinno mieć toocomplete.</span><span class="sxs-lookup"><span data-stu-id="df520-113">Pick a target latency (or maximum amount of time) that a typical search request should take toocomplete.</span></span>
2. <span data-ttu-id="df520-114">Tworzenie i testowanie rzeczywiste obciążenie wysyłane do usługi wyszukiwania z toomeasure realistyczne zestawu danych z tych wskaźników opóźnienia.</span><span class="sxs-lookup"><span data-stu-id="df520-114">Create and test a real workload against your search service with a realistic dataset toomeasure these latency rates.</span></span>
3. <span data-ttu-id="df520-115">Rozpoczynać się od małej liczbie zapytania na sekundę (QPS) i kontynuować tooincrease hello liczbę wykonywanych w hello testu do momentu hello zapytań, czas oczekiwania spadnie poniżej hello zdefiniowania docelowym czasem oczekiwania.</span><span class="sxs-lookup"><span data-stu-id="df520-115">Start with a low number of queries per second (QPS) and continue tooincrease hello number executed in hello test until hello query latency drops below hello defined target latency.</span></span>  <span data-ttu-id="df520-116">Jest to ważne testu porównawczego toohelp, której planujesz skali wraz z rozwojem aplikacji w sposób użycia.</span><span class="sxs-lookup"><span data-stu-id="df520-116">This is an important benchmark toohelp you plan for scale as your application grows in usage.</span></span>
4. <span data-ttu-id="df520-117">W miarę możliwości ponownego użycia połączenia HTTP.</span><span class="sxs-lookup"><span data-stu-id="df520-117">Wherever possible, reuse HTTP connections.</span></span>  <span data-ttu-id="df520-118">Jeśli używasz hello zestawu .NET SDK usługi Azure Search, oznacza to, należy używać ponownie wystąpienia lub [SearchIndexClient](https://docs.microsoft.com/dotnet/api/microsoft.azure.search.searchindexclient) wystąpienia, a jeśli używasz hello interfejsu API REST, należy używać ponownie pojedynczego HttpClient.</span><span class="sxs-lookup"><span data-stu-id="df520-118">If you are using hello Azure Search .NET SDK, this means you should reuse an instance or [SearchIndexClient](https://docs.microsoft.com/dotnet/api/microsoft.azure.search.searchindexclient) instance, and if you are using hello REST API, you should reuse a single HttpClient.</span></span>

<span data-ttu-id="df520-119">Podczas tworzenia tych testów obciążenia, brak niektórych właściwości tookeep usługi Azure Search pamiętać:</span><span class="sxs-lookup"><span data-stu-id="df520-119">While creating these test workloads, there are some characteristics of Azure Search tookeep in mind:</span></span>

1. <span data-ttu-id="df520-120">Istnieje możliwość toopush wyszukiwania tak wiele zapytań w tym samym czasie, że będzie przeciążony hello zasoby dostępne w usłudze Azure Search.</span><span class="sxs-lookup"><span data-stu-id="df520-120">It is possible toopush so many search queries at one time, that hello resources available in your Azure Search service will be overwhelmed.</span></span>  <span data-ttu-id="df520-121">W takim przypadku zobaczysz kody odpowiedzi HTTP 503.</span><span class="sxs-lookup"><span data-stu-id="df520-121">When this happens, you will see HTTP 503 response codes.</span></span>  <span data-ttu-id="df520-122">Z tego powodu jest najlepszym toostart z różnych zakresów wyszukiwania żądań toosee hello różnice w stawki opóźnienia podczas dodawania więcej żądań wyszukiwania.</span><span class="sxs-lookup"><span data-stu-id="df520-122">For this reason, it is best toostart with various ranges of search requests toosee hello differences in latency rates as you add more search requests.</span></span>
2. <span data-ttu-id="df520-123">Przekazywanie zawartości tooAzure, który wyszukiwania będzie miało wpływ na hello ogólną wydajność i opóźnienie hello usługi Azure Search.</span><span class="sxs-lookup"><span data-stu-id="df520-123">Uploading of content tooAzure Search will impact hello overall performance and latency of hello Azure Search service.</span></span>  <span data-ttu-id="df520-124">Jeśli toosend danych podczas przeprowadzania wyszukiwania użytkowników, jest ważne tootake to obciążenie do konta w testach.</span><span class="sxs-lookup"><span data-stu-id="df520-124">If you expect toosend data while users are performing searches, it is important tootake this workload into account in your tests.</span></span>
3. <span data-ttu-id="df520-125">Nie wszystkie zapytania wyszukiwania będzie wykonywać na powitania same poziomy wydajności.</span><span class="sxs-lookup"><span data-stu-id="df520-125">Not every search query will perform at hello same performance levels.</span></span>  <span data-ttu-id="df520-126">Na przykład sugestii wyszukiwania lub wyszukiwania dokumentu zazwyczaj będzie wykonywać szybciej niż zapytanie z znaczących aspektów i filtry.</span><span class="sxs-lookup"><span data-stu-id="df520-126">For example, a document lookup or search suggestion will typically perform faster than a query with a significant number of facets and filters.</span></span>  <span data-ttu-id="df520-127">Jest najlepszym hello tootake różne zapytania oczekiwanych toosee do konta podczas kompilowania testów.</span><span class="sxs-lookup"><span data-stu-id="df520-127">It is best tootake hello various queries you expect toosee into account when building your tests.</span></span>  
4. <span data-ttu-id="df520-128">Zmiany żądania wyszukiwania jest ważne, ponieważ Jeśli stale wykonane hello wyszukiwania same żądania, buforowanie danych wydajności toomake start wygląd nie może być bardziej różnych zapytania ustawiana.</span><span class="sxs-lookup"><span data-stu-id="df520-128">Variation of search requests is important because if you continually execute hello same search requests, caching of data will start toomake performance look better than it might with a more disparate query set.</span></span>

> [!NOTE]
> <span data-ttu-id="df520-129">[Visual Studio obciążenia testowania](https://www.visualstudio.com/docs/test/performance-testing/run-performance-tests-app-before-release) jest naprawdę dobrze tooperform Twojego testu porównawczego testów, ponieważ umożliwia on żądań tooexecute HTTP potrzebnych do wykonywania zapytań dotyczących usługi Azure Search i umożliwia paralelizacja żądań.</span><span class="sxs-lookup"><span data-stu-id="df520-129">[Visual Studio Load Testing](https://www.visualstudio.com/docs/test/performance-testing/run-performance-tests-app-before-release) is a really good way tooperform your benchmark tests as it allows you tooexecute HTTP requests as you would need for executing queries against Azure Search and enables parallelization of requests.</span></span>
> 
> 

## <a name="scaling-azure-search-for-high-query-rates-and-throttled-requests"></a><span data-ttu-id="df520-130">Skalowanie usługi Azure Search dla zapytania wysokiej szybkości i ograniczenie żądań</span><span class="sxs-lookup"><span data-stu-id="df520-130">Scaling Azure Search for high query rates and throttled requests</span></span>
<span data-ttu-id="df520-131">Gdy otrzymują zbyt wiele żądań z ograniczeniem przepustowości lub przekracza stawki opóźnienia sieci docelowej z zapytania zwiększenie obciążenia, można sprawdzić toodecrease opóźnienia szybkości w jeden z dwóch sposobów:</span><span class="sxs-lookup"><span data-stu-id="df520-131">When you are receiving too many throttled requests or exceed your target latency rates from an increased query load, you can look toodecrease latency rates in one of two ways:</span></span>

1. <span data-ttu-id="df520-132">**Zwiększ replik:** repliki przypomina kopię stosowanie usługi Azure Search tooload równoważenie żądań przed hello wiele kopii danych.</span><span class="sxs-lookup"><span data-stu-id="df520-132">**Increase Replicas:**  A replica is like a copy of your data allowing Azure Search tooload balance requests against hello multiple copies.</span></span>  <span data-ttu-id="df520-133">Wszystkie Równoważenie obciążenia i replikacji danych między replikami jest zarządzane przez usługę Azure Search i hello liczby replikami przydzielone dla usługi w dowolnym momencie można zmienić.</span><span class="sxs-lookup"><span data-stu-id="df520-133">All load balancing and replication of data across replicas is managed by Azure Search and you can alter hello number of replicas allocated for your service at any time.</span></span>  <span data-ttu-id="df520-134">Możesz przydzielić too12 replik w standardową usługę wyszukiwania i 3 replik w usłudze wyszukiwania podstawowego.</span><span class="sxs-lookup"><span data-stu-id="df520-134">You can allocate up too12 replicas in a Standard search service and 3 replicas in a Basic search service.</span></span> <span data-ttu-id="df520-135">Repliki mogą być dostosowane z hello [portalu Azure](search-create-service-portal.md) lub [PowerShell](search-manage-powershell.md).</span><span class="sxs-lookup"><span data-stu-id="df520-135">Replicas can be adjusted either from hello [Azure portal](search-create-service-portal.md) or [PowerShell](search-manage-powershell.md).</span></span>
2. <span data-ttu-id="df520-136">**Zwiększ wyszukiwania warstwy:** usługa Azure Search jest dostarczany [liczba warstw](https://azure.microsoft.com/pricing/details/search/) i każdy z tych warstw oferuje różne poziomy wydajności.</span><span class="sxs-lookup"><span data-stu-id="df520-136">**Increase Search Tier:**  Azure Search comes in a [number of tiers](https://azure.microsoft.com/pricing/details/search/) and each of these tiers offers different levels of performance.</span></span>  <span data-ttu-id="df520-137">W niektórych przypadkach może być tak wiele zapytań warstwa hello sieci nie może dostarczyć szybkości wystarczająco małe opóźnienia, nawet wtedy, gdy limit maksymalnego wykorzystania replik.  W takim przypadku można tooconsider, wykorzystując jedną z hello wyższych warstw wyszukiwania hello Azure Search S3 warstwy, która jest odpowiednia w scenariuszach z dużą liczbą dokumentów i bardzo dużej zapytania obciążeń.</span><span class="sxs-lookup"><span data-stu-id="df520-137">In some cases, you may have so many queries that hello tier you are on cannot provide sufficiently low latency rates, even when replicas are maxed out.  In this case, you may want tooconsider leveraging one of hello higher search tiers such as hello Azure Search S3 tier that is well suited for scenarios with large numbers of documents and extremely high query workloads.</span></span>

## <a name="scaling-azure-search-for-slow-individual-queries"></a><span data-ttu-id="df520-138">Skalowanie usługi Azure Search dla poszczególnych zapytań powolne</span><span class="sxs-lookup"><span data-stu-id="df520-138">Scaling Azure Search for slow individual queries</span></span>
<span data-ttu-id="df520-139">Kolejny powód, dlaczego stawki opóźnienia może działać powoli pochodzi z pojedynczego zapytania biorąc toocomplete zbyt długa.</span><span class="sxs-lookup"><span data-stu-id="df520-139">Another reason why latency rates can be slow is from a single query taking too long toocomplete.</span></span>  <span data-ttu-id="df520-140">W takim przypadku Dodawanie repliki nie spowoduje zwiększenie szybkości opóźnienia.</span><span class="sxs-lookup"><span data-stu-id="df520-140">In this case, adding replicas will not improve latency rates.</span></span>  <span data-ttu-id="df520-141">Dla tego przypadku dostępne są dwie opcje:</span><span class="sxs-lookup"><span data-stu-id="df520-141">For this case there are two options available:</span></span>

1. <span data-ttu-id="df520-142">**Zwiększ partycje** partycja to mechanizm służący do dzielenia danych na dodatkowe zasoby.</span><span class="sxs-lookup"><span data-stu-id="df520-142">**Increase Partitions** A partition is a mechanism for splitting your data across extra resources.</span></span>  <span data-ttu-id="df520-143">Z tego powodu po dodaniu drugiej partycji, dane pobiera podzielić na dwa.</span><span class="sxs-lookup"><span data-stu-id="df520-143">For this reason, when you add a second partition, your data gets split into two.</span></span>  <span data-ttu-id="df520-144">Trzeci partycji dzieli indeksu na trzech itp.  Ma to również hello efekt, że w niektórych przypadkach powolne zapytania wykona szybciej powodu paralelizacja toohello obliczeń.</span><span class="sxs-lookup"><span data-stu-id="df520-144">A third partition splits your index into three, etc.  This also has hello effect that in some cases, slow queries will perform faster due toohello parallelization of computation.</span></span>  <span data-ttu-id="df520-145">Istnieje kilka przykładów którym zaobserwowano tego paralelizacja bardzo dobrze współpracować zapytań, które mają niski wybieralność zapytania.</span><span class="sxs-lookup"><span data-stu-id="df520-145">There are a few examples of where we have seen this parallelization work extremely well with queries that have low selectivity queries.</span></span>  <span data-ttu-id="df520-146">Składa się z zapytań, które odpowiada wiele dokumentów, lub gdy tworzenie aspektów musi tooprovide liczniki przez dużą liczbę dokumentów.</span><span class="sxs-lookup"><span data-stu-id="df520-146">This consists of queries that match many documents or when faceting needs tooprovide counts over large numbers of documents.</span></span>  <span data-ttu-id="df520-147">Ponieważ istnieje wiele obliczeń potrzebne dokładność hello tooscore dokumentów hello lub toocount hello liczby dokumentów, dodając dodatkowe partycje mogą pomóc tooprovide dodatkowe obliczeń.</span><span class="sxs-lookup"><span data-stu-id="df520-147">Since there is a lot of computation needed tooscore hello relevancy of hello documents or toocount hello numbers of documents, adding extra partitions can help tooprovide additional computation.</span></span>  
   
   <span data-ttu-id="df520-148">Może istnieć maksymalnie 12 partycji w standardową usługę wyszukiwania i 1 partycji w usłudze wyszukiwania podstawowego hello.</span><span class="sxs-lookup"><span data-stu-id="df520-148">There can be a maximum of 12 partitions in Standard search service and 1 partition in hello basic search service.</span></span>  <span data-ttu-id="df520-149">Partycje mogą być dostosowane z hello [portalu Azure](search-create-service-portal.md) lub [PowerShell](search-manage-powershell.md).</span><span class="sxs-lookup"><span data-stu-id="df520-149">Partitions can be adjusted either from hello [Azure portal](search-create-service-portal.md) or [PowerShell](search-manage-powershell.md).</span></span>
2. <span data-ttu-id="df520-150">**Limit wysokiej pola Kardynalność:** pola dużej kardynalności składa się z aspektów lub Filtrowanie pola, które ma znaczący liczbę unikatowych wartości i w związku z tym przejmuje dużej ilości zasobów toocompute wyników.</span><span class="sxs-lookup"><span data-stu-id="df520-150">**Limit High Cardinality Fields:** A high cardinality field consists of a facetable or filterable field that has a significant number of unique values, and as a result, takes a lot of resources toocompute results over.</span></span>   <span data-ttu-id="df520-151">Na przykład ustawienie pola Identyfikator produktu lub opisu jako aspektów/filtrowanie spowodowałoby dla dużej kardynalności ponieważ większość hello wartości z toodocument dokumentu są unikatowe.</span><span class="sxs-lookup"><span data-stu-id="df520-151">For example, setting a Product ID or Description field as facetable/filterable would make for high cardinality because most of hello values from document toodocument are unique.</span></span> <span data-ttu-id="df520-152">Gdy jest to możliwe, Ogranicz liczbę hello dużej kardynalności pól.</span><span class="sxs-lookup"><span data-stu-id="df520-152">Wherever possible, limit hello number of high cardinality fields.</span></span>
3. <span data-ttu-id="df520-153">**Zwiększ wyszukiwania warstwy:** przesunięcie w górę tooa wyższej warstwy usługi Azure Search może być inny sposób tooimprove wydajność kwerend powolne.</span><span class="sxs-lookup"><span data-stu-id="df520-153">**Increase Search Tier:**  Moving up tooa higher Azure Search tier can be another way tooimprove performance of slow queries.</span></span>  <span data-ttu-id="df520-154">Każdy wyższego poziomu także szybsze Procesora i większa ilość pamięci, które mogą mieć pozytywny wpływ na wydajność kwerend.</span><span class="sxs-lookup"><span data-stu-id="df520-154">Each higher tier also provides faster CPU’s and more memory which can have a positive impact on query performance.</span></span>

## <a name="scaling-for-availability"></a><span data-ttu-id="df520-155">Skalowanie dla dostępności</span><span class="sxs-lookup"><span data-stu-id="df520-155">Scaling for availability</span></span>
<span data-ttu-id="df520-156">Replik nie tylko zmniejszenia opóźnienia kwerendy, ale może również umożliwiać wysokiej dostępności.</span><span class="sxs-lookup"><span data-stu-id="df520-156">Replicas not only help reduce query latency but can also allow for high availability.</span></span>  <span data-ttu-id="df520-157">Z pojedynczą replikę należy oczekiwać okresowe przestoje powodu tooserver jest uruchamiany ponownie po aktualizacji oprogramowania lub inne zdarzenia konserwacji, które będą przeprowadzane.</span><span class="sxs-lookup"><span data-stu-id="df520-157">With a single replica, you should expect periodic downtime due tooserver reboots after software updates or for other maintenance events that will occur.</span></span>  <span data-ttu-id="df520-158">W związku z tym jest ważne tooconsider Jeśli aplikacja wymaga wysokiej dostępności wyszukiwania (queries) oraz zapisów (indeksowania zdarzeń).</span><span class="sxs-lookup"><span data-stu-id="df520-158">As a result, it is important tooconsider if your application requires high availability of searches (queries) as well as writes (indexing events).</span></span>  <span data-ttu-id="df520-159">Usługa wyszukiwanie Azure oferuje opcje SLA na wszystkich hello oferty płatnej wyszukiwania z hello następujące atrybuty:</span><span class="sxs-lookup"><span data-stu-id="df520-159">Azure Search offers SLA options on all hello paid search offerings with hello following attributes:</span></span>

* <span data-ttu-id="df520-160">2 replik wysokiej dostępności obciążeń tylko do odczytu (queries)</span><span class="sxs-lookup"><span data-stu-id="df520-160">2 replicas for high availability of read-only workloads (queries)</span></span>
* <span data-ttu-id="df520-161">3 lub więcej replik wysokiej dostępności obciążeń odczytu i zapisu (zapytań i indeksowanie)</span><span class="sxs-lookup"><span data-stu-id="df520-161">3 or more replicas for high availability of read-write workloads (queries and indexing)</span></span>

<span data-ttu-id="df520-162">Więcej szczegółów na ten, odwiedź stronę hello [umową dotyczącą poziomu usług wyszukiwanie Azure](https://azure.microsoft.com/support/legal/sla/search/v1_0/).</span><span class="sxs-lookup"><span data-stu-id="df520-162">For more details on this, please visit hello [Azure Search Service Level Agreement](https://azure.microsoft.com/support/legal/sla/search/v1_0/).</span></span>

<span data-ttu-id="df520-163">Ponieważ repliki są kopie danych, mających wiele replik umożliwia ponowne uruchomienie komputera toodo usługi Azure Search i konserwacji względem jednej replice w czasie, podczas gdy zapytanie wykonywane toobe toocontinue hello innych replik.</span><span class="sxs-lookup"><span data-stu-id="df520-163">Since replicas are copies of your data, having multiple replicas allows Azure Search toodo machine reboots and maintenance against one replica at a time while allowing queries toocontinue toobe executed against hello other replicas.</span></span>  <span data-ttu-id="df520-164">Z tego powodu należy również tooconsider, jak to przestoju może mieć wpływ na powitania zapytań, które jest wykonywane co mniej kopii danych hello toobe.</span><span class="sxs-lookup"><span data-stu-id="df520-164">For that reason, you will also need tooconsider how this downtime may impact hello queries that now have toobe executed against one less copy of hello data.</span></span>

## <a name="scaling-geo-distributed-workloads-and-provide-geo-redundancy"></a><span data-ttu-id="df520-165">Skalowanie rozproszona geograficznie obciążeń i zapewnić nadmiarowość geograficzna</span><span class="sxs-lookup"><span data-stu-id="df520-165">Scaling geo-distributed workloads and provide geo-redundancy</span></span>
<span data-ttu-id="df520-166">W przypadku obciążeń rozproszona geograficznie zostanie ustalone, że użytkownicy znajdujący się daleko od hello centrum danych, gdzie jest hostowana usługi Azure Search większe opóźnienia.</span><span class="sxs-lookup"><span data-stu-id="df520-166">For geo-distributed workloads, you will find that users located far from hello data center where your Azure Search service is hosted will have higher latency rates.</span></span>  <span data-ttu-id="df520-167">Z tego powodu często jest ważne toohave wyszukiwania wielu usług w regionach, znajdujących się w bliżej zbliżeniowe toothese użytkowników.</span><span class="sxs-lookup"><span data-stu-id="df520-167">For this reason, it is often important toohave multiple search services in regions that are in closer proximity toothese users.</span></span>  <span data-ttu-id="df520-168">Usługa Azure Search nie ma obecnie zautomatyzowaną metodę replikację geograficzną indeksów usługi Azure Search w regionach, ale istnieją pewne techniki, które mogą być używane, które można wprowadzić ten proces tooimplement proste i zarządzać nimi.</span><span class="sxs-lookup"><span data-stu-id="df520-168">Azure Search does not currently provide an automated method of geo-replicating Azure Search indexes across regions, but there are some techniques that can be used that can make this process simple tooimplement and manage.</span></span> <span data-ttu-id="df520-169">Te są opisane w hello kolejnych sekcjach kilku.</span><span class="sxs-lookup"><span data-stu-id="df520-169">These are outlined in hello next few sections.</span></span>

<span data-ttu-id="df520-170">Hello celem rozproszona geograficznie zbiór usług wyszukiwania jest toohave dwa lub więcej indeksów, dostępne w dwóch lub więcej regionów, w którym użytkownik będzie kierowany usługa Azure Search toohello, która zapewnia hello można uzyskać najmniejsze opóźnienia, jak pokazano w poniższym przykładzie:</span><span class="sxs-lookup"><span data-stu-id="df520-170">hello goal of a geo-distributed set of search services is toohave two or more indexes available in two or more regions where a user will be routed toohello Azure Search service that provides hello lowest latency as seen in this example:</span></span>

   ![Między — karta usług według regionu][1]

### <a name="keeping-data-in-sync-across-multiple-azure-search-services"></a><span data-ttu-id="df520-172">Synchronizacja danych w wielu usługach Azure Search</span><span class="sxs-lookup"><span data-stu-id="df520-172">Keeping data in sync across multiple Azure Search services</span></span>
<span data-ttu-id="df520-173">Dostępne są dwie opcje przechowywania wyszukiwania rozproszonego usługi synchronizacji składające się z przy użyciu hello [indeksatora wyszukiwania Azure](search-indexer-overview.md) lub hello Push interfejsu API (nazywana także tooas hello [interfejsu API REST wyszukiwania Azure](https://docs.microsoft.com/rest/api/searchservice/)).</span><span class="sxs-lookup"><span data-stu-id="df520-173">There are two options for keeping your distributed search services in sync which consist of either using hello [Azure Search Indexer](search-indexer-overview.md) or hello Push API (also referred tooas hello [Azure Search REST API](https://docs.microsoft.com/rest/api/searchservice/)).</span></span>  

### <a name="azure-search-indexers"></a><span data-ttu-id="df520-174">Indeksatory w usłudze Azure Search</span><span class="sxs-lookup"><span data-stu-id="df520-174">Azure Search Indexers</span></span>
<span data-ttu-id="df520-175">Jeśli używasz hello Azure indeksatora wyszukiwania są już importowanie zmiany danych z centralnego magazynu danych, takich jak bazy danych SQL Azure lub bazy danych Azure rozwiązania Cosmos.</span><span class="sxs-lookup"><span data-stu-id="df520-175">If you are using hello Azure Search Indexer, you are already importing data changes from a central datastore such as Azure SQL DB or Azure Cosmos DB.</span></span> <span data-ttu-id="df520-176">Podczas tworzenia nowego wyszukiwania usługi, należy po prostu również tworzyć nowe indeksatora wyszukiwania Azure dla tej usługi tego toothis punktów tego samego magazynu danych.</span><span class="sxs-lookup"><span data-stu-id="df520-176">When you create a new search Service, you simply also create a new Azure Search Indexer for that service that points toothis same datastore.</span></span> <span data-ttu-id="df520-177">W ten sposób, przy każdym nowych zmian wejścia hello magazynu danych, zostaną indeksowane według hello różnych indeksatorów.</span><span class="sxs-lookup"><span data-stu-id="df520-177">That way, whenever new changes come into hello data store, they will then be indexed by hello various Indexers.</span></span>  

<span data-ttu-id="df520-178">Oto przykład jak będzie wyglądać danej architekturze.</span><span class="sxs-lookup"><span data-stu-id="df520-178">Here is an example of what that architecture would look like.</span></span>

   ![Pojedyncze źródło danych z kombinacji usługi i rozproszone indeksatora][2]

### <a name="push-api"></a><span data-ttu-id="df520-180">Wypychanie interfejsu API</span><span class="sxs-lookup"><span data-stu-id="df520-180">Push API</span></span>
<span data-ttu-id="df520-181">Jeśli używasz hello interfejsu API usługi Azure Search Push zbyt[zaktualizować zawartość w indeksie usługi Azure Search](https://docs.microsoft.com/rest/api/searchservice/update-index), można zachować na różne usługi wyszukiwania w synchronizacji przez wypychanie usługi wyszukiwania tooall zmiany, gdy wymagana jest aktualizacja.</span><span class="sxs-lookup"><span data-stu-id="df520-181">If you are using hello Azure Search Push API too[update content in your Azure Search index](https://docs.microsoft.com/rest/api/searchservice/update-index), you can keep your various search services in sync by pushing changes tooall search services whenever an update is required.</span></span>  <span data-ttu-id="df520-182">W ten sposób jest ważne toomake się, że toohandle przypadkach, gdy usługa wyszukiwania tooone aktualizacji nie powiedzie się i pomyślnie co najmniej jednej aktualizacji.</span><span class="sxs-lookup"><span data-stu-id="df520-182">When doing this it is important toomake sure toohandle cases where an update tooone search service fails and one or more updates succeed.</span></span>

## <a name="leveraging-azure-traffic-manager"></a><span data-ttu-id="df520-183">Korzystanie z usług Azure Traffic Manager</span><span class="sxs-lookup"><span data-stu-id="df520-183">Leveraging Azure Traffic Manager</span></span>
<span data-ttu-id="df520-184">[Menedżer ruchu Azure](../traffic-manager/traffic-manager-overview.md) pozwala tooroute żądań toomultiple znajdujący się geograficznie witryn, które następnie bazują na wielu usług wyszukiwanie Azure.</span><span class="sxs-lookup"><span data-stu-id="df520-184">[Azure Traffic Manager](../traffic-manager/traffic-manager-overview.md) allows you tooroute requests toomultiple geo-located websites that are then backed by multiple Azure Search Services.</span></span>  <span data-ttu-id="df520-185">Jedną z zalet hello Menedżera ruchu jest może on sondowania tooensure usługi Azure Search, że jest dostępny i kierować usługi wyszukiwania tooalternate użytkowników w przypadku hello przestoju.</span><span class="sxs-lookup"><span data-stu-id="df520-185">One advantage of hello Traffic Manager is that it can probe Azure Search tooensure that it is available and route users tooalternate search services in hello event of downtime.</span></span>  <span data-ttu-id="df520-186">Ponadto jeśli są routingu żądań wyszukiwania do witryn sieci Web platformy Azure, Azure Traffic Manager można tooload saldo przypadku witryny sieci Web hello się, ale nie usługi Azure Search.</span><span class="sxs-lookup"><span data-stu-id="df520-186">In addition, if you are routing search requests through Azure Web Sites, Azure Traffic Manager allows you tooload balance cases where hello Website is up but not Azure Search.</span></span>  <span data-ttu-id="df520-187">Oto przykład jakie architektury hello, który korzysta z Menedżera ruchu.</span><span class="sxs-lookup"><span data-stu-id="df520-187">Here is an example of what hello architecture that leverages Traffic Manager.</span></span>

   ![Między — karta usług według regionu, centralnej menedżera ruchu][3]

## <a name="monitoring-performance"></a><span data-ttu-id="df520-189">Monitorowanie wydajności</span><span class="sxs-lookup"><span data-stu-id="df520-189">Monitoring performance</span></span>
<span data-ttu-id="df520-190">Usługa Azure Search udostępnia hello możliwości tooanalyze i monitorować hello wydajność usługi za pośrednictwem [analizy ruchu wyszukiwania (STA)](search-traffic-analytics.md).</span><span class="sxs-lookup"><span data-stu-id="df520-190">Azure Search offers hello ability tooanalyze and monitor hello performance of your service through [Search Traffic Analytics (STA)](search-traffic-analytics.md).</span></span> <span data-ttu-id="df520-191">Za pomocą STA można opcjonalnie dziennika operacji wyszukiwania poszczególnych hello, a także konta magazynu Azure tooan zagregowane metryk, które następnie mogą być przetwarzane do analizy lub wizualizowane w usłudze Power BI.</span><span class="sxs-lookup"><span data-stu-id="df520-191">Through STA, you can optionally log hello individual search operations as well as aggregated metrics tooan Azure Storage account that can then be processed for analysis or visualized in Power BI.</span></span>  <span data-ttu-id="df520-192">Metryki STA można przeglądać statystyki, takie jak średnia liczba zapytań lub czas odpowiedzi na zapytania.</span><span class="sxs-lookup"><span data-stu-id="df520-192">Using STA metrics, you can review performance statistics such as average number of queries or query response times.</span></span>  <span data-ttu-id="df520-193">Ponadto rejestrowanie operacji hello pozwala toodrill do szczegółów operacji wyszukiwania określonych.</span><span class="sxs-lookup"><span data-stu-id="df520-193">In addition, hello operation logging allows you toodrill into details of specific search operations.</span></span>

<span data-ttu-id="df520-194">STA jest przydatnym narzędziem toounderstand opóźnienia stawki z punktu widzenia tej usługi Azure Search.</span><span class="sxs-lookup"><span data-stu-id="df520-194">STA is a valuable tool toounderstand latency rates from that Azure Search perspective.</span></span>  <span data-ttu-id="df520-195">Ponieważ metryki wydajności kwerendy hello rejestrowane są oparte na powitania czasu zapytania ma toobe całkowicie przetworzone w usłudze Azure Search (od czasu hello jest żądany toowhen zostaną wysłane), są możliwe toouse toodetermine, to w przypadku problemów z opóźnieniem z hello usługi Azure Search po stronie lub poza hello usługi, na przykład opóźnienia sieci.</span><span class="sxs-lookup"><span data-stu-id="df520-195">Since hello query performance metrics logged are based on hello time a query takes toobe fully processed in Azure Search (from hello time it is requested toowhen it is sent out), you are able toouse this toodetermine if latency issues are from hello Azure Search service side or outside of hello service, such as from network latency.</span></span>  

## <a name="next-steps"></a><span data-ttu-id="df520-196">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="df520-196">Next steps</span></span>
<span data-ttu-id="df520-197">toolearn więcej informacji na temat hello ceny warstw i limity usług dla każdego z nich, zobacz [usługi limity w usłudze Azure Search](search-limits-quotas-capacity.md).</span><span class="sxs-lookup"><span data-stu-id="df520-197">toolearn more about hello pricing tiers and services limits for each one, see [Service limits in Azure Search](search-limits-quotas-capacity.md).</span></span>

<span data-ttu-id="df520-198">Odwiedź stronę [planowania pojemności](search-capacity-planning.md) toolearn więcej informacji na temat kombinacji partycji i replik.</span><span class="sxs-lookup"><span data-stu-id="df520-198">Visit [Capacity planning](search-capacity-planning.md) toolearn more about partition and replica combinations.</span></span>

<span data-ttu-id="df520-199">Do rozwijania więcej szczegółów na wydajność i toosee niektórych pokazy jak tooimplement hello optymalizacje omówione w tym artykule Obejrzyj powitania po wideo:</span><span class="sxs-lookup"><span data-stu-id="df520-199">For more drilldown on performance and toosee some demonstrations of how tooimplement hello optimizations discussed in this article, watch hello following video:</span></span>

> [!VIDEO https://channel9.msdn.com/Events/Microsoft-Azure/AzureCon-2015/ACON319/player]
> 
> 

<!--Image references-->
[1]: ./media/search-performance-optimization/geo-redundancy.png
[2]: ./media/search-performance-optimization/scale-indexers.png
[3]: ./media/search-performance-optimization/geo-search-traffic-mgr.png
