---
title: "nawigacji aspektowej tooimplement aaaHow w usłudze Azure Search | Dokumentacja firmy Microsoft"
description: "Dodaj tooapplications nawigacji Aspektowej, które integrują się z usługi Azure Search, usługą wyszukiwania w chmurze hostowanej w systemie Microsoft Azure."
services: search
documentationcenter: 
author: HeidiSteen
manager: mblythe
editor: 
ms.assetid: cdf98fd4-63fd-4b50-b0b0-835cb08ad4d3
ms.service: search
ms.devlang: rest-api
ms.workload: search
ms.topic: article
ms.tgt_pltfrm: na
ms.date: 3/10/2017
ms.author: heidist
ms.openlocfilehash: c1e6bf9dc55d0044525db79e37d35a50ded5a736
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="how-tooimplement-faceted-navigation-in-azure-search"></a><span data-ttu-id="8d291-103">Jak tooimplement nawigacji aspektowej w usłudze Azure Search</span><span class="sxs-lookup"><span data-stu-id="8d291-103">How tooimplement faceted navigation in Azure Search</span></span>
<span data-ttu-id="8d291-104">Nawigacji aspektowej jest mechanizm filtrowania, który udostępnia samodzielnego rozwijania szczegółów nawigacji w aplikacji wyszukiwania.</span><span class="sxs-lookup"><span data-stu-id="8d291-104">Faceted navigation is a filtering mechanism that provides self-directed drilldown navigation in search applications.</span></span> <span data-ttu-id="8d291-105">Witaj termin "nawigacji aspektowej" mogą być nieznane, ale prawdopodobnie użyto go przed.</span><span class="sxs-lookup"><span data-stu-id="8d291-105">hello term 'faceted navigation' may be unfamiliar, but you've probably used it before.</span></span> <span data-ttu-id="8d291-106">Jako hello po przykładzie nawigacji aspektowej jest tylko hello kategorie używane toofilter wyników.</span><span class="sxs-lookup"><span data-stu-id="8d291-106">As hello following example shows, faceted navigation is nothing more than hello categories used toofilter results.</span></span>

 ![Pokaz portalu zadania wyszukiwanie Azure][1]

<span data-ttu-id="8d291-108">Nawigacji aspektowej jest toosearch punktu wejścia alternatywnych.</span><span class="sxs-lookup"><span data-stu-id="8d291-108">Faceted navigation is an alternative entry point toosearch.</span></span> <span data-ttu-id="8d291-109">Oferuje wygodny tootyping alternatywnych wyrażenia złożone wyszukiwania ręcznie.</span><span class="sxs-lookup"><span data-stu-id="8d291-109">It offers a convenient alternative tootyping complex search expressions by hand.</span></span> <span data-ttu-id="8d291-110">Aspekty ułatwia znajdowanie, czego szukasz, zapewniając, że nie pobieraj wyników.</span><span class="sxs-lookup"><span data-stu-id="8d291-110">Facets can help you find what you're looking for, while ensuring that you don’t get zero results.</span></span> <span data-ttu-id="8d291-111">Deweloperzy aspekty umożliwiają udostępnianie hello najbardziej przydatne kryteria wyszukiwania do nawigowania Boże Twojego wyszukiwania.</span><span class="sxs-lookup"><span data-stu-id="8d291-111">As a developer, facets let you expose hello most useful search criteria for navigating your search corpus.</span></span> <span data-ttu-id="8d291-112">W aplikacji online detalicznej nawigacji aspektowej często jest utworzony za pośrednictwem marki, działów (Kącik buty), rozmiar, ceny, popularność i klasyfikacji.</span><span class="sxs-lookup"><span data-stu-id="8d291-112">In online retail applications, faceted navigation is often built over brands, departments (kid’s shoes), size, price, popularity, and ratings.</span></span> 

<span data-ttu-id="8d291-113">Implementowanie nawigacji aspektowej różni się między technologii wyszukiwania.</span><span class="sxs-lookup"><span data-stu-id="8d291-113">Implementing faceted navigation differs across search technologies.</span></span> <span data-ttu-id="8d291-114">W usłudze Azure Search nawigacji aspektowej jest oparty na etapie zapytania przy użyciu pól, które uprzednio przypisane w schemat.</span><span class="sxs-lookup"><span data-stu-id="8d291-114">In Azure Search, faceted navigation is built at query time, using fields that you previously attributed in your schema.</span></span>

-   <span data-ttu-id="8d291-115">W zapytaniach hello, które tworzy aplikację, należy wysłać zapytanie *parametry zapytania aspektu* wyników wartości filtru tooget hello aspektu dostępne dla tego dokumentu.</span><span class="sxs-lookup"><span data-stu-id="8d291-115">In hello queries that your application builds, a query must send *facet query parameters* tooget hello available facet filter values for that document result set.</span></span>

-   <span data-ttu-id="8d291-116">tooactually trim zestawu wyników hello dokumentu, również należy zastosować aplikacji hello `$filter` wyrażenia.</span><span class="sxs-lookup"><span data-stu-id="8d291-116">tooactually trim hello document result set, hello application must also apply a `$filter` expression.</span></span>

<span data-ttu-id="8d291-117">Przy projektowaniu aplikacji pisania kodu, który konstruuje zapytania stanowi zbiorczego hello hello pracy.</span><span class="sxs-lookup"><span data-stu-id="8d291-117">In your application development, writing code that constructs queries constitutes hello bulk of hello work.</span></span> <span data-ttu-id="8d291-118">Wiele zachowania aplikacji hello, których można oczekiwać od nawigacji aspektowej są udostępniane przez usługi hello, w tym wbudowaną obsługę definiowania zakresów i pobieranie liczby wyników zestawu reguł.</span><span class="sxs-lookup"><span data-stu-id="8d291-118">Many of hello application behaviors that you would expect from faceted navigation are provided by hello service, including built-in support for defining ranges and getting counts for facet results.</span></span> <span data-ttu-id="8d291-119">Hello usługi zawiera również za pośrednictwem ustawień domyślnych, które pomagają uniknąć struktury niewygodna nawigacji.</span><span class="sxs-lookup"><span data-stu-id="8d291-119">hello service also includes sensible defaults that help you avoid unwieldy navigation structures.</span></span> 

## <a name="sample-code-and-demo"></a><span data-ttu-id="8d291-120">Przykładowy kod i wersja demonstracyjna</span><span class="sxs-lookup"><span data-stu-id="8d291-120">Sample code and demo</span></span>
<span data-ttu-id="8d291-121">W tym artykule wykorzystano portalu wyszukiwania zadania, na przykład.</span><span class="sxs-lookup"><span data-stu-id="8d291-121">This article uses a job search portal as an example.</span></span> <span data-ttu-id="8d291-122">przykład Witaj jest implementowany jako aplikacji platformy ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="8d291-122">hello example is implemented as an ASP.NET MVC application.</span></span>

-   <span data-ttu-id="8d291-123">Zobacz i testowania hello pracy Pokaz online na [Azure Search zadania portalu pokaz](http://azjobsdemo.azurewebsites.net/).</span><span class="sxs-lookup"><span data-stu-id="8d291-123">See and test hello working demo online at [Azure Search Job Portal Demo](http://azjobsdemo.azurewebsites.net/).</span></span>

-   <span data-ttu-id="8d291-124">Pobierz kod hello z hello [repozytorium Azure-próbek w serwisie GitHub](https://github.com/Azure-Samples/search-dotnet-asp-net-mvc-jobs).</span><span class="sxs-lookup"><span data-stu-id="8d291-124">Download hello code from hello [Azure-Samples repo on GitHub](https://github.com/Azure-Samples/search-dotnet-asp-net-mvc-jobs).</span></span>

## <a name="get-started"></a><span data-ttu-id="8d291-125">Rozpoczęcie pracy</span><span class="sxs-lookup"><span data-stu-id="8d291-125">Get started</span></span>
<span data-ttu-id="8d291-126">W przypadku nowych wdrożeń toosearch, hello najlepsze sposób toothink nawigacji aspektowej jest widoczny hello możliwości samodzielnego wyszukiwania.</span><span class="sxs-lookup"><span data-stu-id="8d291-126">If you're new toosearch development, hello best way toothink of faceted navigation is that it shows hello possibilities for self-directed search.</span></span> <span data-ttu-id="8d291-127">Jest to typ przechodzenia wyszukiwania zależy, wstępnie zdefiniowanych filtrów, używany do szybkiego zawężanie dół wyników wyszukiwania za pomocą akcji punktu i kliknij.</span><span class="sxs-lookup"><span data-stu-id="8d291-127">It’s a type of drill-down search experience, based on predefined filters, used for quickly narrowing down search results through point-and-click actions.</span></span> 

### <a name="interaction-model"></a><span data-ttu-id="8d291-128">Model interakcji</span><span class="sxs-lookup"><span data-stu-id="8d291-128">Interaction model</span></span>

<span data-ttu-id="8d291-129">Hello środowiska wyszukiwania w nawigacji aspektowej jest iteracyjną, więc warto zacząć od zrozumienia go jako sekwencja zapytań, które ujawniać w działaniach toouser odpowiedzi.</span><span class="sxs-lookup"><span data-stu-id="8d291-129">hello search experience for faceted navigation is iterative, so let’s start by understanding it as a sequence of queries that unfold in response toouser actions.</span></span>

<span data-ttu-id="8d291-130">punkt początkowy Hello jest udostępniający nawigacji aspektowej zwykle umieszczane w obwodzie hello strony aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8d291-130">hello starting point is an application page that provides faceted navigation, typically placed on hello periphery.</span></span> <span data-ttu-id="8d291-131">Nawigacji aspektowej jest często strukturze drzewa z pól wyboru dla każdej wartość lub tekst aktywne.</span><span class="sxs-lookup"><span data-stu-id="8d291-131">Faceted navigation is often a tree structure, with checkboxes for each value, or clickable text.</span></span> 

1. <span data-ttu-id="8d291-132">Zapytanie wysyłane tooAzure wyszukiwania określa strukturę nawigacji aspektowej hello za pośrednictwem jednego lub więcej parametrów zapytania zestawu reguł.</span><span class="sxs-lookup"><span data-stu-id="8d291-132">A query sent tooAzure Search specifies hello faceted navigation structure via one or more facet query parameters.</span></span> <span data-ttu-id="8d291-133">Na przykład może obejmować zapytania hello `facet=Rating`, prawdopodobnie z `:values` lub `:sort` toofurther opcji uściślić hello prezentacji.</span><span class="sxs-lookup"><span data-stu-id="8d291-133">For instance, hello query might include `facet=Rating`, perhaps with a `:values` or `:sort` option toofurther refine hello presentation.</span></span>
2. <span data-ttu-id="8d291-134">Warstwa prezentacji Hello renderuje stronę wyszukiwania, która zapewnia nawigacji aspektowej przy użyciu aspektami hello określonymi na powitania żądania.</span><span class="sxs-lookup"><span data-stu-id="8d291-134">hello presentation layer renders a search page that provides faceted navigation, using hello facets specified on hello request.</span></span>
3. <span data-ttu-id="8d291-135">Podana struktura nawigacji aspektowej, która obejmuje klasyfikacji, możesz kliknąć tooindicate "4", który ma być wyświetlany tylko produkty z klasyfikacją z 4 lub nowszej.</span><span class="sxs-lookup"><span data-stu-id="8d291-135">Given a faceted navigation structure that includes Rating, you click "4" tooindicate that only products with a rating of 4 or higher should be shown.</span></span> 
4. <span data-ttu-id="8d291-136">W odpowiedzi aplikacja hello wysyła kwerendę, która obejmuje`$filter=Rating ge 4`</span><span class="sxs-lookup"><span data-stu-id="8d291-136">In response, hello application sends a query that includes `$filter=Rating ge 4`</span></span> 
5. <span data-ttu-id="8d291-137">Hello prezentacji warstwy aktualizacje hello strona, wyświetlająca zestaw wyników obniżona, zawierający tylko te elementy, które spełniają kryteria nowe hello (w tym przypadku produktów oceną 4 i nowsze).</span><span class="sxs-lookup"><span data-stu-id="8d291-137">hello presentation layer updates hello page, showing a reduced result set, containing just those items that satisfy hello new criteria (in this case, products rated 4 and up).</span></span>

<span data-ttu-id="8d291-138">Zestaw reguł, to parametr zapytania, ale nie należy mylić z zapytania w danych wejściowych.</span><span class="sxs-lookup"><span data-stu-id="8d291-138">A facet is a query parameter, but do not confuse it with query input.</span></span> <span data-ttu-id="8d291-139">Nigdy nie jest używany jako kryteriów wyboru w zapytaniu.</span><span class="sxs-lookup"><span data-stu-id="8d291-139">It is never used as selection criteria in a query.</span></span> <span data-ttu-id="8d291-140">Zamiast tego należy traktować aspektu parametry zapytania jako dane wejściowe toohello nawigacji struktury wróci hello odpowiedzi.</span><span class="sxs-lookup"><span data-stu-id="8d291-140">Instead, think of facet query parameters as inputs toohello navigation structure that comes back in hello response.</span></span> <span data-ttu-id="8d291-141">Dla każdego parametru zapytania aspektu podane przez użytkownika usługi Azure Search oblicza liczbę dokumenty są hello częściowe wyniki dla każdej wartości aspektu.</span><span class="sxs-lookup"><span data-stu-id="8d291-141">For each facet query parameter you provide, Azure Search evaluates how many documents are in hello partial results for each facet value.</span></span>

<span data-ttu-id="8d291-142">Powiadomienie hello `$filter` w kroku 4.</span><span class="sxs-lookup"><span data-stu-id="8d291-142">Notice hello `$filter` in step 4.</span></span> <span data-ttu-id="8d291-143">Filtr Hello jest ważnym aspektem nawigacji aspektowej.</span><span class="sxs-lookup"><span data-stu-id="8d291-143">hello filter is an important aspect of faceted navigation.</span></span> <span data-ttu-id="8d291-144">Mimo że aspekty i filtry są niezależne hello interfejsu API, należy obu toodeliver hello środowisko, które mają.</span><span class="sxs-lookup"><span data-stu-id="8d291-144">Although facets and filters are independent in hello API, you need both toodeliver hello experience you intend.</span></span> 

### <a name="app-design-pattern"></a><span data-ttu-id="8d291-145">Wzorzec projektowania aplikacji</span><span class="sxs-lookup"><span data-stu-id="8d291-145">App design pattern</span></span>

<span data-ttu-id="8d291-146">W kodzie aplikacji hello wzorzec jest toouse aspektu parametry tooreturn hello nawigacji aspektowej strukturę wraz z aspektu wyników, a także wyrażenia $filter.</span><span class="sxs-lookup"><span data-stu-id="8d291-146">In application code, hello pattern is toouse facet query parameters tooreturn hello faceted navigation structure along with facet results, plus a $filter expression.</span></span>  <span data-ttu-id="8d291-147">hello uchwytów wyrażenie filtru powitania kliknij zdarzenie na wartość aspektu hello.</span><span class="sxs-lookup"><span data-stu-id="8d291-147">hello filter expression handles hello click event on hello facet value.</span></span> <span data-ttu-id="8d291-148">Pomyśl o hello `$filter` warstwę prezentacji toohello zwracane wyrażenie jako hello kodzie przycinanie rzeczywiste hello wyników wyszukiwania.</span><span class="sxs-lookup"><span data-stu-id="8d291-148">Think of hello `$filter` expression as hello code behind hello actual trimming of search results returned toohello presentation layer.</span></span> <span data-ttu-id="8d291-149">Biorąc pod uwagę aspektu kolorów, klikając hello kolor czerwony jest implementowane za pośrednictwem `$filter` wyrażenia, który wybiera tylko te elementy, które mają kolor czerwony.</span><span class="sxs-lookup"><span data-stu-id="8d291-149">Given a Colors facet, clicking hello color Red is implemented through a `$filter` expression that selects only those items that have a color of red.</span></span> 

### <a name="query-basics"></a><span data-ttu-id="8d291-150">Podstawowe informacje o zapytań</span><span class="sxs-lookup"><span data-stu-id="8d291-150">Query basics</span></span>

<span data-ttu-id="8d291-151">W usłudze Azure Search, żądanie jest określany za pośrednictwem jednego lub więcej parametrów zapytania (zobacz [dokumenty wyszukiwania](http://msdn.microsoft.com/library/azure/dn798927.aspx) opis każdego z nich).</span><span class="sxs-lookup"><span data-stu-id="8d291-151">In Azure Search, a request is specified through one or more query parameters (see [Search Documents](http://msdn.microsoft.com/library/azure/dn798927.aspx) for a description of each one).</span></span> <span data-ttu-id="8d291-152">Żaden z parametrów zapytania hello nie jest wymagana, ale możesz musi mieć co najmniej jeden aby toobe zapytania jest nieprawidłowa.</span><span class="sxs-lookup"><span data-stu-id="8d291-152">None of hello query parameters are required, but you must have at least one in order for a query toobe valid.</span></span>

<span data-ttu-id="8d291-153">Dokładność, rozumieć hello toofilter możliwości limit nie ma znaczenia trafień odbywa się za pośrednictwem jednego lub obu tych wyrażeń:</span><span class="sxs-lookup"><span data-stu-id="8d291-153">Precision, understood as hello ability toofilter out irrelevant hits, is achieved through one or both of these expressions:</span></span>

-   <span data-ttu-id="8d291-154">**wyszukiwania =**</span><span class="sxs-lookup"><span data-stu-id="8d291-154">**search=**</span></span>  
    <span data-ttu-id="8d291-155">wartość tego parametru Hello stanowi hello wyrażenia.</span><span class="sxs-lookup"><span data-stu-id="8d291-155">hello value of this parameter constitutes hello search expression.</span></span> <span data-ttu-id="8d291-156">Może być elementu text lub wyrażenie złożone wyszukiwania, które zawiera wiele warunków i operatory.</span><span class="sxs-lookup"><span data-stu-id="8d291-156">It might be a single piece of text, or a complex search expression that includes multiple terms and operators.</span></span> <span data-ttu-id="8d291-157">Na serwerze hello wyrażenia służy do wyszukiwania pełnotekstowego, zapytanie pól z możliwością wyszukiwania w indeksie hello na potrzeby uzgadniania warunków zwracania wyników według rangi.</span><span class="sxs-lookup"><span data-stu-id="8d291-157">On hello server, a search expression is used for full-text search, querying searchable fields in hello index for matching terms, returning results in rank order.</span></span> <span data-ttu-id="8d291-158">Jeśli ustawisz `search` toonull, wykonywanie kwerend znajduje się nad całym indeksie hello (czyli `search=*`).</span><span class="sxs-lookup"><span data-stu-id="8d291-158">If you set `search` toonull, query execution is over hello entire index (that is, `search=*`).</span></span> <span data-ttu-id="8d291-159">In this case, inne elementy hello zapytania, takie jak `$filter` lub hello oceniania profilu, są podstawowym czynników wpływających na dokumenty, które są zwracane `($filter`) i w jakiej kolejności (`scoringProfile` lub `$orderby`).</span><span class="sxs-lookup"><span data-stu-id="8d291-159">In this case, other elements of hello query, such as a `$filter` or scoring profile, are hello primary factors affecting which documents are returned `($filter`) and in what order (`scoringProfile` or `$orderby`).</span></span>

-   <span data-ttu-id="8d291-160">**$filter =**</span><span class="sxs-lookup"><span data-stu-id="8d291-160">**$filter=**</span></span>  
    <span data-ttu-id="8d291-161">Filtr jest zaawansowanym mechanizmem służącym do ograniczania rozmiaru hello wyniki wyszukiwania na podstawie wartości hello atrybutów określonego dokumentu.</span><span class="sxs-lookup"><span data-stu-id="8d291-161">A filter is a powerful mechanism for limiting hello size of search results based on hello values of specific document attributes.</span></span> <span data-ttu-id="8d291-162">A `$filter` jest szacowana jako pierwsza, a następnie logiki tworzenie aspektów, które generuje hello dostępne wartości oraz liczby odpowiednich dla każdej wartości</span><span class="sxs-lookup"><span data-stu-id="8d291-162">A `$filter` is evaluated first, followed by faceting logic that generates hello available values and corresponding counts for each value</span></span>

<span data-ttu-id="8d291-163">Wyrażenia złożone wyszukiwania obniżyć wydajność hello hello zapytania.</span><span class="sxs-lookup"><span data-stu-id="8d291-163">Complex search expressions decrease hello performance of hello query.</span></span> <span data-ttu-id="8d291-164">Jeśli to możliwe, dokładność tooincrease wyrażenia filtru dobrze skonstruowany przy użyciu, a poprawiać wydajność zapytań.</span><span class="sxs-lookup"><span data-stu-id="8d291-164">Where possible, use well-constructed filter expressions tooincrease precision and improve query performance.</span></span>

<span data-ttu-id="8d291-165">toobetter zrozumieć, jak filtr dodaje większą dokładność, porównanie tooone wyrażenie złożone wyszukiwania, który zawiera wyrażenie filtru:</span><span class="sxs-lookup"><span data-stu-id="8d291-165">toobetter understand how a filter adds more precision, compare a complex search expression tooone that includes a filter expression:</span></span>

-   `GET /indexes/hotel/docs?search=lodging budget +Seattle –motel +parking`
-   `GET /indexes/hotel/docs?search=lodging&$filter=City eq ‘Seattle’ and Parking and Type ne ‘motel’`

<span data-ttu-id="8d291-166">Oba zapytania są prawidłowe, ale hello jest drugi wyższego poziomu, jeśli szukasz z systemem innym niż motele postojowego w Seattle.</span><span class="sxs-lookup"><span data-stu-id="8d291-166">Both queries are valid, but hello second is superior if you’re looking for non-motels with parking in Seattle.</span></span>
-   <span data-ttu-id="8d291-167">Witaj pierwszego zapytania zależy od tych słów są wymienione lub nie są wymienione w polach ciąg, takie jak nazwa, opis i inne pola zawierające dane z możliwością wyszukiwania.</span><span class="sxs-lookup"><span data-stu-id="8d291-167">hello first query relies on those specific words being mentioned or not mentioned in string fields like Name, Description, and any other field containing searchable data.</span></span>
-   <span data-ttu-id="8d291-168">Witaj drugiego zapytania szuka dokładne dopasowania na danych strukturalnych i jest prawdopodobnie bardziej dokładne toobe.</span><span class="sxs-lookup"><span data-stu-id="8d291-168">hello second query looks for precise matches on structured data and is likely toobe much more accurate.</span></span>

<span data-ttu-id="8d291-169">Upewnij się, że każda akcja użytkownika za pośrednictwem struktury nawigacji aspektowej towarzyszy zawęzić wyniki wyszukiwania w aplikacji, które obejmują nawigacji aspektowej.</span><span class="sxs-lookup"><span data-stu-id="8d291-169">In applications that include faceted navigation, make sure that each user action over a faceted navigation structure is accompanied by a narrowing of search results.</span></span> <span data-ttu-id="8d291-170">wyniki toonarrow, użyj wyrażenia filtru.</span><span class="sxs-lookup"><span data-stu-id="8d291-170">toonarrow results, use a filter expression.</span></span>

<a name="howtobuildit"></a>

## <a name="build-a-faceted-navigation-app"></a><span data-ttu-id="8d291-171">Tworzenie aplikacji nawigacji aspektowej</span><span class="sxs-lookup"><span data-stu-id="8d291-171">Build a faceted navigation app</span></span>
<span data-ttu-id="8d291-172">Zaimplementowaniem nawigacji aspektowej z usługi Azure Search w kodzie aplikacji, która tworzy hello żądania wyszukiwania.</span><span class="sxs-lookup"><span data-stu-id="8d291-172">You implement faceted navigation with Azure Search in your application code that builds hello search request.</span></span> <span data-ttu-id="8d291-173">nawigacji aspektowej Hello zależy od elementów schematu wcześniej zdefiniowany.</span><span class="sxs-lookup"><span data-stu-id="8d291-173">hello faceted navigation relies on elements in your schema that you defined previously.</span></span>

<span data-ttu-id="8d291-174">Wstępnie zdefiniowane w indeksie wyszukiwania jest hello `Facetable [true|false]` indeksu atrybutu, ustawiać tooenable wybranych pól lub wyłączyć ich użycie w strukturze nawigacji aspektowej.</span><span class="sxs-lookup"><span data-stu-id="8d291-174">Predefined in your search index is hello `Facetable [true|false]` index attribute, set on selected fields tooenable or disable their use in a faceted navigation structure.</span></span> <span data-ttu-id="8d291-175">Bez `"Facetable" = true`, nie można użyć pola w nawigacji zestawu reguł.</span><span class="sxs-lookup"><span data-stu-id="8d291-175">Without `"Facetable" = true`, a field cannot be used in facet navigation.</span></span>

<span data-ttu-id="8d291-176">Warstwa prezentacji Hello w kodzie zapewnia hello użytkownika.</span><span class="sxs-lookup"><span data-stu-id="8d291-176">hello presentation layer in your code provides hello user experience.</span></span> <span data-ttu-id="8d291-177">Należy go listy elementów składowych hello nawigacji aspektowej hello, takich jak hello etykiety, wartości pola wyboru i liczby hello.</span><span class="sxs-lookup"><span data-stu-id="8d291-177">It should list hello constituent parts of hello faceted navigation, such as hello label, values, check boxes, and hello count.</span></span> <span data-ttu-id="8d291-178">Witaj API REST usługi Azure Search jest niezależny od platformy, należy więc niezależnie od języka i ma platformy.</span><span class="sxs-lookup"><span data-stu-id="8d291-178">hello Azure Search REST API is platform agnostic, so use whatever language and platform you want.</span></span> <span data-ttu-id="8d291-179">ważną kwestią Hello jest tooinclude elementy interfejsu użytkownika, które obsługują przyrostowej odświeżenie, z zaktualizowany stan interfejsu użytkownika każdego aspektu dodatkowe jest zaznaczone.</span><span class="sxs-lookup"><span data-stu-id="8d291-179">hello important thing is tooinclude UI elements that support incremental refresh, with updated UI state as each additional facet is selected.</span></span> 

<span data-ttu-id="8d291-180">Na etapie zapytania kod aplikacji tworzy żądanie zawiera `facet=[string]`, zapewnia toofacet pola hello przez parametr żądania.</span><span class="sxs-lookup"><span data-stu-id="8d291-180">At query time, your application code creates a request that includes `facet=[string]`, a request parameter that provides hello field toofacet by.</span></span> <span data-ttu-id="8d291-181">Kwerenda może mieć wiele aspektów, takich jak `&facet=color&facet=category&facet=rating`, każda z nich oddzielone ampersand (&) znaków.</span><span class="sxs-lookup"><span data-stu-id="8d291-181">A query can have multiple facets, such as `&facet=color&facet=category&facet=rating`, each one separated by an ampersand (&) character.</span></span>

<span data-ttu-id="8d291-182">Kod aplikacji należy również tworzyć `$filter` wyrażenie toohandle powitania kliknij zdarzeń w nawigacji aspektowej.</span><span class="sxs-lookup"><span data-stu-id="8d291-182">Application code must also construct a `$filter` expression toohandle hello click events in faceted navigation.</span></span> <span data-ttu-id="8d291-183">A `$filter` ogranicza wyniki wyszukiwania hello, przy użyciu wartości aspektu hello jako kryteria filtrowania.</span><span class="sxs-lookup"><span data-stu-id="8d291-183">A `$filter` reduces hello search results, using hello facet value as filter criteria.</span></span>

<span data-ttu-id="8d291-184">Usługa Azure Search zwraca hello wyniki wyszukiwania, na podstawie co najmniej jeden warunków, które należy wprowadzić, wraz ze struktury nawigacji aspektowej toohello aktualizacji.</span><span class="sxs-lookup"><span data-stu-id="8d291-184">Azure Search returns hello search results, based on one or more terms that you enter, along with updates toohello faceted navigation structure.</span></span> <span data-ttu-id="8d291-185">W usłudze Azure Search nawigacji aspektowej jest konstrukcji poziomie, z wartości aspektu liczby i liczbę wyników znajdują się dla każdej z nich.</span><span class="sxs-lookup"><span data-stu-id="8d291-185">In Azure Search, faceted navigation is a single-level construction, with facet values, and counts of how many results are found for each one.</span></span>

<span data-ttu-id="8d291-186">W następujące sekcje hello, traktujemy bliższe spojrzenie na jak toobuild każdej części.</span><span class="sxs-lookup"><span data-stu-id="8d291-186">In hello following sections, we take a closer look at how toobuild each part.</span></span>

<a name="buildindex"></a>

## <a name="build-hello-index"></a><span data-ttu-id="8d291-187">Tworzenie indeksu hello</span><span class="sxs-lookup"><span data-stu-id="8d291-187">Build hello index</span></span>
<span data-ttu-id="8d291-188">Tworzenie aspektów jest włączona na podstawie przez pola w indeksie hello, za pomocą tego atrybutu indeksu: `"Facetable": true`.</span><span class="sxs-lookup"><span data-stu-id="8d291-188">Faceting is enabled on a field-by-field basis in hello index, via this index attribute: `"Facetable": true`.</span></span>  
<span data-ttu-id="8d291-189">Wszystkie typy pól, które prawdopodobnie mogą być używane w nawigacji aspektowej są `Facetable` domyślnie.</span><span class="sxs-lookup"><span data-stu-id="8d291-189">All field types that could possibly be used in faceted navigation are `Facetable` by default.</span></span> <span data-ttu-id="8d291-190">Takie typy pól `Edm.String`, `Edm.DateTimeOffset`, i hello wszystkie typy pól liczbowych (zasadniczo wszystkie typy pól są tworzenie aspektów, z wyjątkiem `Edm.GeographyPoint`, nie można użyć w nawigacji aspektowej).</span><span class="sxs-lookup"><span data-stu-id="8d291-190">Such field types include `Edm.String`, `Edm.DateTimeOffset`, and all hello numeric field types (essentially, all field types are facetable except `Edm.GeographyPoint`, which can’t be used in faceted navigation).</span></span> 

<span data-ttu-id="8d291-191">Podczas tworzenia indeksu, najlepszym rozwiązaniem w nawigacji aspektowej jest tworzenie aspektów Włącz tooexplicitly wyłączone dla pól, które nie mogą być używane jako zestaw reguł.</span><span class="sxs-lookup"><span data-stu-id="8d291-191">When building an index, a best practice for faceted navigation is tooexplicitly turn faceting off for fields that should never be used as a facet.</span></span>  <span data-ttu-id="8d291-192">W szczególności pól ciągów dla pojedynczych wartości, takich jak identyfikator lub nazwa produktu, należy ustawić także`"Facetable": false` tooprevent ich przypadkowemu (i nieskuteczne) używanych w nawigacji aspektowej.</span><span class="sxs-lookup"><span data-stu-id="8d291-192">In particular, string fields for singleton values, such as an ID or product name, should be set too`"Facetable": false` tooprevent their accidental (and ineffective) use in faceted navigation.</span></span> <span data-ttu-id="8d291-193">Włączanie tworzenie aspektów poza których nie należy go pomaga zachować mały rozmiar hello hello indeksu i zwykle zwiększa wydajność.</span><span class="sxs-lookup"><span data-stu-id="8d291-193">Turning faceting off where you don’t need it helps keep hello size of hello index small, and typically improves performance.</span></span>

<span data-ttu-id="8d291-194">Poniżej znajduje się częścią hello schematu dla aplikacji przykładowej pokaz portalu zadania hello przycięty rozmiaru hello tooreduce niektóre atrybuty:</span><span class="sxs-lookup"><span data-stu-id="8d291-194">Following is part of hello schema for hello Job Portal Demo sample app, trimmed of some attributes tooreduce hello size:</span></span>

```json
{
  ...
  "name": "nycjobs",
  "fields": [
    { “name”: "id",                 "type": "Edm.String",              "searchable": false, "filterable": false, ... "facetable": false, ... },
    { “name”: "job_id",             "type": "Edm.String",              "searchable": false, "filterable": false, ... "facetable": false, ... },
    { “name”: "agency",              "type": "Edm.String",             "searchable": true,  "filterable": true, ...  "facetable": true, ...  },
    { “name”: "posting_type",        "type": "Edm.String",             "searchable": true,  "filterable": true, ...  "facetable": true, ...  },
    { “name”: "num_of_positions",    "type": "Edm.Int32",              "searchable": false, "filterable": true, ...  "facetable": true, ...  },
    { “name”: "business_title",      "type": "Edm.String",             "searchable": true,  "filterable": true, ...  "facetable": true, ...  },
    { “name”: "civil_service_title", "type": "Edm.String",             "searchable": true,  "filterable": true, ...  "facetable": true, ...  },
    { “name”: "title_code_no",       "type": "Edm.String",             "searchable": true,  "filterable": true, ...  "facetable": true, ...  },
    { “name”: "level",               "type": "Edm.String",             "searchable": true,  "filterable": true, ...  "facetable": true, ...  },
    { “name”: "salary_range_from",   "type": "Edm.Int32",              "searchable": false, "filterable": true, ...  "facetable": true, ...  },
    { “name”: "salary_range_to",     "type": "Edm.Int32",              "searchable": false, "filterable": true, ...  "facetable": true, ...  },
    { “name”: "salary_frequency",    "type": "Edm.String",             "searchable": true,  "filterable": true, ...  "facetable": true, ...  },
    { “name”: "work_location",       "type": "Edm.String",             "searchable": true,  "filterable": true, ...  "facetable": true, ...  },
…
    { “name”: "geo_location",        "type": "Edm.GeographyPoint",     "searchable": false, "filterable": true, ...  "facetable": false, ... },
    { “name”: "tags",                "type": "Collection(Edm.String)", "searchable": true,  "filterable": true, ...  "facetable": true, ...  }
  ],
…
}
```

<span data-ttu-id="8d291-195">Jak widać w schemacie próbki hello, `Facetable` jest wyłączona w przypadku pól ciągów, które nie powinny być używane jako aspektów, takich jak wartości Identyfikatora.</span><span class="sxs-lookup"><span data-stu-id="8d291-195">As you can see in hello sample schema, `Facetable` is turned off for string fields that shouldn’t be used as facets, such as ID values.</span></span> <span data-ttu-id="8d291-196">Włączanie tworzenie aspektów poza których nie należy go pomaga zachować mały rozmiar hello hello indeksu i zwykle zwiększa wydajność.</span><span class="sxs-lookup"><span data-stu-id="8d291-196">Turning faceting off where you don’t need it helps keep hello size of hello index small, and typically improves performance.</span></span>

> [!TIP]
> <span data-ttu-id="8d291-197">Najlepszym rozwiązaniem obejmują hello pełny zestaw atrybutów indeksu dla każdego pola.</span><span class="sxs-lookup"><span data-stu-id="8d291-197">As a best practice, include hello full set of index attributes for each field.</span></span> <span data-ttu-id="8d291-198">Mimo że `Facetable` jest domyślnie włączona dla prawie wszystkich pól, celowo ustawienie każdego atrybutu może pomóc w przemyślenie hello efekty każdej decyzji schematu.</span><span class="sxs-lookup"><span data-stu-id="8d291-198">Although `Facetable` is on by default for almost all fields, purposely setting each attribute can help you think through hello implications of each schema decision.</span></span> 

<a name="checkdata"></a>

## <a name="check-hello-data"></a><span data-ttu-id="8d291-199">Sprawdzenie, czy dane hello</span><span class="sxs-lookup"><span data-stu-id="8d291-199">Check hello data</span></span>
<span data-ttu-id="8d291-200">Witaj jakości danych ma bezpośredni wpływ na czy strukturze nawigacji aspektowej hello zostaje zgodnie z oczekiwaniami do.</span><span class="sxs-lookup"><span data-stu-id="8d291-200">hello quality of your data has a direct effect on whether hello faceted navigation structure materializes as you expect it to.</span></span> <span data-ttu-id="8d291-201">Wpływa to również na powitania łatwość tworzenia zestawu wyników hello tooreduce filtrów.</span><span class="sxs-lookup"><span data-stu-id="8d291-201">It also affects hello ease of constructing filters tooreduce hello result set.</span></span>

<span data-ttu-id="8d291-202">Chcąc toofacet marki lub cen, każdy dokument powinna zawierać wartości dla *BrandName* i *ProductPrice* które są prawidłowe, spójności i produktywności jako opcja filtra.</span><span class="sxs-lookup"><span data-stu-id="8d291-202">If you want toofacet by Brand or Price, each document should contain values for *BrandName* and *ProductPrice* that are valid, consistent, and productive as a filter option.</span></span>

<span data-ttu-id="8d291-203">Poniżej przedstawiono kilka przypomnienia o jakie tooscrub dla:</span><span class="sxs-lookup"><span data-stu-id="8d291-203">Here are a few reminders of what tooscrub for:</span></span>

* <span data-ttu-id="8d291-204">Dla każdego pola, który ma toofacet przez Spróbuj odpowiedzieć sobie zawiera wartości, które są odpowiednie jako filtry w samodzielnego wyszukiwania.</span><span class="sxs-lookup"><span data-stu-id="8d291-204">For every field that you want toofacet by, ask yourself whether it contains values that are suitable as filters in self-directed search.</span></span> <span data-ttu-id="8d291-205">Hello wartości powinna być krótka, opisowa i dostatecznie wyróżniające toooffer możliwość wyboru między opcjami konkurencyjnych.</span><span class="sxs-lookup"><span data-stu-id="8d291-205">hello values should be short, descriptive, and sufficiently distinctive toooffer a clear choice between competing options.</span></span>
* <span data-ttu-id="8d291-206">Błędów pisowni lub prawie pasujących wartości.</span><span class="sxs-lookup"><span data-stu-id="8d291-206">Misspellings or nearly matching values.</span></span> <span data-ttu-id="8d291-207">Jeśli aspektu na kolor i wartości pola zawierają pomarańczowy i Ornage (błąd), zestaw reguł na podstawie pola koloru hello odebrania czy obu.</span><span class="sxs-lookup"><span data-stu-id="8d291-207">If you facet on Color, and field values include Orange and Ornage (a misspelling), a facet based on hello Color field would pick up both.</span></span>
* <span data-ttu-id="8d291-208">Wielkość tekstu mieszanego można także zrobić spustoszenie w nawigacji aspektowej pomarańczowy i kolor pomarańczowy występujących w dwóch różnych wartości.</span><span class="sxs-lookup"><span data-stu-id="8d291-208">Mixed case text can also wreak havoc in faceted navigation, with orange and Orange appearing as two different values.</span></span> 
* <span data-ttu-id="8d291-209">Jedno- i mnogiej wersje powitalne tej samej wartości może spowodować dla każdego aspektu oddzielne.</span><span class="sxs-lookup"><span data-stu-id="8d291-209">Single and plural versions of hello same value can result in a separate facet for each.</span></span>

<span data-ttu-id="8d291-210">Jak można wyobrazić sobie starannością w przygotowaniu danych hello jest ważnym aspektem skutecznego nawigacji aspektowej.</span><span class="sxs-lookup"><span data-stu-id="8d291-210">As you can imagine, diligence in preparing hello data is an essential aspect of effective faceted navigation.</span></span>

<a name="presentationlayer"></a>

## <a name="build-hello-ui"></a><span data-ttu-id="8d291-211">Tworzenie hello interfejsu użytkownika</span><span class="sxs-lookup"><span data-stu-id="8d291-211">Build hello UI</span></span>
<span data-ttu-id="8d291-212">Praca z warstwy prezentacji hello pomocy odkrywanie wymagania, które mogły pominięte, w przeciwnym razie i zrozumieć, jakie funkcje są istotne toohello przeszukać środowisko.</span><span class="sxs-lookup"><span data-stu-id="8d291-212">Working back from hello presentation layer can help you uncover requirements that might be missed otherwise, and understand which capabilities are essential toohello search experience.</span></span>

<span data-ttu-id="8d291-213">W nawigacji aspektowej strony sieci web lub aplikacji wyświetla hello nawigacji aspektowej strukturę, wykryje danych wejściowych użytkownika na stronie powitania i wstawia hello zmienione elementy.</span><span class="sxs-lookup"><span data-stu-id="8d291-213">In terms of faceted navigation, your web or application page displays hello faceted navigation structure, detects user input on hello page, and inserts hello changed elements.</span></span> 

<span data-ttu-id="8d291-214">Dla aplikacji sieci web AJAX to powszechnie używane w warstwie prezentacji hello, ponieważ pozwala toorefresh zmiany przyrostowe.</span><span class="sxs-lookup"><span data-stu-id="8d291-214">For web applications, AJAX is commonly used in hello presentation layer because it allows you toorefresh incremental changes.</span></span> <span data-ttu-id="8d291-215">Można także użyć programu ASP.NET MVC lub innych platform wizualizacji, czy można połączyć tooan usługi Azure Search za pośrednictwem protokołu HTTP.</span><span class="sxs-lookup"><span data-stu-id="8d291-215">You could also use ASP.NET MVC or any other visualization platform that can connect tooan Azure Search service over HTTP.</span></span> <span data-ttu-id="8d291-216">Hello przykładowej aplikacji przywoływany w tym artykule — Witaj **Azure Search zadania portalu pokaz** — sytuacji toobe aplikacji platformy ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="8d291-216">hello sample application referenced throughout this article -- hello **Azure Search Job Portal Demo** – happens toobe an ASP.NET MVC application.</span></span>

<span data-ttu-id="8d291-217">W przykładowym hello nawigacji aspektowej jest wbudowana w strony wyników wyszukiwania hello.</span><span class="sxs-lookup"><span data-stu-id="8d291-217">In hello sample, faceted navigation is built into hello search results page.</span></span> <span data-ttu-id="8d291-218">Witaj następujący przykład pobranych z hello `index.cshtml` strona wyników pliku hello przykładowej aplikacji, pokazuje hello HTML struktury statycznej wyświetlania nawigacji aspektowej na powitania wyszukiwania.</span><span class="sxs-lookup"><span data-stu-id="8d291-218">hello following example, taken from hello `index.cshtml` file of hello sample application, shows hello static HTML structure for displaying faceted navigation on hello search results page.</span></span> <span data-ttu-id="8d291-219">listę Hello aspekty jest wbudowana lub odbudować dynamicznie podczas przesyłania wyszukiwanego terminu, lub wybierz lub wyczyść zestaw reguł.</span><span class="sxs-lookup"><span data-stu-id="8d291-219">hello list of facets is built or rebuilt dynamically when you submit a search term, or select or clear a facet.</span></span>

```html
<div class="widget sidebar-widget jobs-filter-widget">
  <h5 class="widget-title">Filter Results</h5>
    <p id="filterReset"></p>
    <div class="widget-content">

      <h6 id="businessTitleFacetTitle">Business Title</h6>
      <ul class="filter-list" id="business_title_facets">
      </ul>

      <h6>Location</h6>
      <ul class="filter-list" id="posting_type_facets">
      </ul>

      <h6>Posting Type</h6>
      <ul class="filter-list" id="posting_type_facets"></ul>

      <h6>Minimum Salary</h6>
      <ul class="filter-list" id="salary_range_facets">
      </ul>

  </div>
</div>
```

<span data-ttu-id="8d291-220">Witaj następujący fragment kodu z hello `index.cshtml` stronę dynamicznie tworzy hello HTML toodisplay hello pierwszy aspekt, tytuł biznesowych.</span><span class="sxs-lookup"><span data-stu-id="8d291-220">hello following code snippet from hello `index.cshtml` page dynamically builds hello HTML toodisplay hello first facet, Business Title.</span></span> <span data-ttu-id="8d291-221">Podobne funkcje kompilacji dynamicznie hello HTML dla hello inne aspekty.</span><span class="sxs-lookup"><span data-stu-id="8d291-221">Similar functions dynamically build hello HTML for hello other facets.</span></span> <span data-ttu-id="8d291-222">Każdego aspektu ma etykiety i licznik, który wyświetla liczbę hello elementy znalezione daje w wyniku tego zestawu reguł.</span><span class="sxs-lookup"><span data-stu-id="8d291-222">Each facet has a label and a count, which displays hello number of items found for that facet result.</span></span>

```js
function UpdateBusinessTitleFacets(data) {
  var facetResultsHTML = '';
  for (var i = 0; i < data.length; i++) {
    facetResultsHTML += '<li><a href="javascript:void(0)" onclick="ChooseBusinessTitleFacet(\'' + data[i].Value + '\');">' + data[i].Value + ' (' + data[i].Count + ')</span></a></li>';
  }

  $("#business_title_facets").html(facetResultsHTML);
}
```

> [!TIP]
> <span data-ttu-id="8d291-223">Podczas projektowania strony wyników wyszukiwania hello Pamiętaj tooadd mechanizm wyczyszczenie aspektami.</span><span class="sxs-lookup"><span data-stu-id="8d291-223">When you design hello search results page, remember tooadd a mechanism for clearing facets.</span></span> <span data-ttu-id="8d291-224">Jeśli dodajesz pola wyboru, łatwo widać jak tooclear hello filtry.</span><span class="sxs-lookup"><span data-stu-id="8d291-224">If you add check boxes, you can easily see how tooclear hello filters.</span></span> <span data-ttu-id="8d291-225">Dla innych układów może być konieczne wzorzec stron nadrzędnych lub innym rozwiązaniem creative.</span><span class="sxs-lookup"><span data-stu-id="8d291-225">For other layouts, you might need a breadcrumb pattern or another creative approach.</span></span> <span data-ttu-id="8d291-226">Na przykład w hello zadania wyszukiwania portalu przykładowej aplikacji, można kliknąć hello `[X]` po tooclear wybranego aspektu hello zestaw reguł.</span><span class="sxs-lookup"><span data-stu-id="8d291-226">For example, in hello Job Search Portal sample application, you can click hello `[X]` after a selected facet tooclear hello facet.</span></span>

<a name="buildquery"></a>

## <a name="build-hello-query"></a><span data-ttu-id="8d291-227">Tworzenie zapytań hello</span><span class="sxs-lookup"><span data-stu-id="8d291-227">Build hello query</span></span>
<span data-ttu-id="8d291-228">Kod Hello zapisu do tworzenia zapytania należy określić wszystkie części prawidłowe zapytanie, takich jak wyrażeniach wyszukiwania, aspekty, filtry oceniania profile — niczego używanych tooformulate żądanie.</span><span class="sxs-lookup"><span data-stu-id="8d291-228">hello code that you write for building queries should specify all parts of a valid query, including search expressions, facets, filters, scoring profiles– anything used tooformulate a request.</span></span> <span data-ttu-id="8d291-229">W tej sekcji możemy Eksploruj, gdzie aspekty pasuje do zapytania i jak są używane filtry z aspektami toodeliver obniżonej wyników.</span><span class="sxs-lookup"><span data-stu-id="8d291-229">In this section, we explore where facets fit into a query, and how filters are used with facets toodeliver a reduced result set.</span></span>

<span data-ttu-id="8d291-230">Zwróć uwagę, że aspekty są integralną w tej przykładowej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8d291-230">Notice that facets are integral in this sample application.</span></span> <span data-ttu-id="8d291-231">Hello środowiska wyszukiwania w hello pokaz portalu zadania jest zaprojektowana dla nawigacji aspektowej i filtry.</span><span class="sxs-lookup"><span data-stu-id="8d291-231">hello search experience in hello Job Portal Demo is designed around faceted navigation and filters.</span></span> <span data-ttu-id="8d291-232">Hello poświęcone umieszczania nawigacji aspektowej na stronie powitania pokazuje jego znaczenie.</span><span class="sxs-lookup"><span data-stu-id="8d291-232">hello prominent placement of faceted navigation on hello page demonstrates its importance.</span></span> 

<span data-ttu-id="8d291-233">Przykładem jest często toobegin dobrym miejscem.</span><span class="sxs-lookup"><span data-stu-id="8d291-233">An example is often a good place toobegin.</span></span> <span data-ttu-id="8d291-234">Witaj następujący przykład pobranych z hello `JobsSearch.cs` pliku, żądanie, które tworzy aspektu nawigacji na podstawie tytuł biznesowych, lokalizacji, Księgowanie typu i wynagrodzenie co najmniej kompilacji.</span><span class="sxs-lookup"><span data-stu-id="8d291-234">hello following example, taken from hello `JobsSearch.cs` file, builds a request that creates facet navigation based on Business Title, Location, Posting Type, and Minimum Salary.</span></span> 

```cs
SearchParameters sp = new SearchParameters()
{
  ...
  // Add facets
  Facets = new List<String>() { "business_title", "posting_type", "level", "salary_range_from,interval:50000" },
};
```

<span data-ttu-id="8d291-235">Parametr zapytania aspektu ma wartość pola tooa i w zależności od typu danych hello, mogą być dodatkowe parametry funkcjom rozdzielana przecinkami lista zawierająca `count:<integer>`, `sort:<>`, `interval:<integer>`, i `values:<list>`.</span><span class="sxs-lookup"><span data-stu-id="8d291-235">A facet query parameter is set tooa field and depending on hello data type, can be further parameterized by comma-delimited list that includes `count:<integer>`, `sort:<>`, `interval:<integer>`, and `values:<list>`.</span></span> <span data-ttu-id="8d291-236">Lista wartości jest obsługiwana dla danych liczbowych, podczas konfigurowania zakresów.</span><span class="sxs-lookup"><span data-stu-id="8d291-236">A values list is supported for numeric data when setting up ranges.</span></span> <span data-ttu-id="8d291-237">Zobacz [wyszukiwania dokumentów (interfejsu API usługi Azure Search)](http://msdn.microsoft.com/library/azure/dn798927.aspx) szczegóły użycia.</span><span class="sxs-lookup"><span data-stu-id="8d291-237">See [Search Documents (Azure Search API)](http://msdn.microsoft.com/library/azure/dn798927.aspx) for usage details.</span></span>

<span data-ttu-id="8d291-238">Wraz z aspektów Żądanie hello sformułowane przez aplikację powinno również utworzyć toonarrow filtrów w dół hello zbiór candidate dokumentów na podstawie zaznaczenia wartość aspektu.</span><span class="sxs-lookup"><span data-stu-id="8d291-238">Along with facets, hello request formulated by your application should also build filters toonarrow down hello set of candidate documents based on a facet value selection.</span></span> <span data-ttu-id="8d291-239">Magazynu roweru nawigacji aspektowej zapewnia tooquestions operacji, takich jak *jakie kolory, producenci i typy rowerów są dostępne?*.</span><span class="sxs-lookup"><span data-stu-id="8d291-239">For a bike store, faceted navigation provides clues tooquestions like *What colors, manufacturers, and types of bikes are available?*.</span></span> <span data-ttu-id="8d291-240">Filtrowanie odpowiedzi na pytania, takie jak *które dokładne rowerów są oznaczone kolorem czerwonym, rowerów górski, w tym ceny zakresu?*.</span><span class="sxs-lookup"><span data-stu-id="8d291-240">Filtering answers questions like *Which exact bikes are red, mountain bikes, in this price range?*.</span></span> <span data-ttu-id="8d291-241">Po kliknięciu tooindicate "Red", który ma być wyświetlany tylko czerwony produktów, wysyła hello następna aplikacja hello zapytania zawiera `$filter=Color eq ‘Red’`.</span><span class="sxs-lookup"><span data-stu-id="8d291-241">When you click "Red" tooindicate that only Red products should be shown, hello next query hello application sends includes `$filter=Color eq ‘Red’`.</span></span>

<span data-ttu-id="8d291-242">Witaj następujący fragment kodu z hello `JobsSearch.cs` strony dodaje hello wybrane tytuł firm toohello filtru w przypadku wybrania wartości z zestawu reguł biznesowych tytuł hello.</span><span class="sxs-lookup"><span data-stu-id="8d291-242">hello following code snippet from hello `JobsSearch.cs` page adds hello selected Business Title toohello filter if you select a value from hello Business Title facet.</span></span>

```cs
if (businessTitleFacet != "")
  filter = "business_title eq '" + businessTitleFacet + "'";
```

<a name="tips"></a> 

## <a name="tips-and-best-practices"></a><span data-ttu-id="8d291-243">Wskazówki i najlepsze rozwiązania</span><span class="sxs-lookup"><span data-stu-id="8d291-243">Tips and best practices</span></span>

### <a name="indexing-tips"></a><span data-ttu-id="8d291-244">Indeksowanie porady</span><span class="sxs-lookup"><span data-stu-id="8d291-244">Indexing tips</span></span>
<span data-ttu-id="8d291-245">**Poprawa wydajności indeksu, jeśli nie używasz pole wyszukiwania**</span><span class="sxs-lookup"><span data-stu-id="8d291-245">**Improve index efficiency if you don't use a Search box**</span></span>

<span data-ttu-id="8d291-246">Jeśli aplikacja używa nawigacji aspektowej wyłącznie (to znaczy, nie pole wyszukiwania), można zaznaczyć pole hello jako `searchable=false`, `facetable=true` tooproduce mniejszych indeksu.</span><span class="sxs-lookup"><span data-stu-id="8d291-246">If your application uses faceted navigation exclusively (that is, no search box), you can mark hello field as `searchable=false`, `facetable=true` tooproduce a more compact index.</span></span> <span data-ttu-id="8d291-247">Ponadto indeksowania występuje tylko dla wartości aspektu całego, nie dzielenie wyrazów lub indeksowania hello składniki word wielu wartości.</span><span class="sxs-lookup"><span data-stu-id="8d291-247">In addition, indexing occurs only on whole facet values, with no word-break or indexing of hello component parts of a multi-word value.</span></span>

<span data-ttu-id="8d291-248">**Określ pola, które mogą być używane jako aspekty**</span><span class="sxs-lookup"><span data-stu-id="8d291-248">**Specify which fields can be used as facets**</span></span>

<span data-ttu-id="8d291-249">Odwołaj ten hello schematu indeksu hello określa pola, które są dostępne toouse jako zestaw reguł.</span><span class="sxs-lookup"><span data-stu-id="8d291-249">Recall that hello schema of hello index determines which fields are available toouse as a facet.</span></span> <span data-ttu-id="8d291-250">Zakładając, że pole jest tworzenie aspektów, zapytanie hello określa toofacet pola, które przez.</span><span class="sxs-lookup"><span data-stu-id="8d291-250">Assuming a field is facetable, hello query specifies which fields toofacet by.</span></span> <span data-ttu-id="8d291-251">pole Hello za pomocą której jesteś tworzenie aspektów umożliwia hello wartości, które są wyświetlane poniżej hello etykiety.</span><span class="sxs-lookup"><span data-stu-id="8d291-251">hello field by which you are faceting provides hello values that appear below hello label.</span></span> 

<span data-ttu-id="8d291-252">Hello wartości, które pojawiają się w każdej etykiety są pobierane z hello indeksu.</span><span class="sxs-lookup"><span data-stu-id="8d291-252">hello values that appear under each label are retrieved from hello index.</span></span> <span data-ttu-id="8d291-253">Na przykład jeśli hello jest pole aspektu *kolor*, dostępne do filtrowania dodatkowe wartości hello są hello wartości dla tego pola - czerwony, czarne i tak dalej.</span><span class="sxs-lookup"><span data-stu-id="8d291-253">For example, if hello facet field is *Color*, hello values available for additional filtering are hello values for that field - Red, Black, and so forth.</span></span>

<span data-ttu-id="8d291-254">Liczbowych i DateTime tylko wartości, można jawnie ustawić wartości na powitania aspektu pola (na przykład `facet=Rating,values:1|2|3|4|5`).</span><span class="sxs-lookup"><span data-stu-id="8d291-254">For Numeric and DateTime values only, you can explicitly set values on hello facet field (for example, `facet=Rating,values:1|2|3|4|5`).</span></span> <span data-ttu-id="8d291-255">Lista wartości jest dozwolone dla tych pola typy toosimplify hello rozdzielenie aspektu wyniki do zakresy ciągłe (albo zakresy na podstawie wartości liczbowe lub okresów).</span><span class="sxs-lookup"><span data-stu-id="8d291-255">A values list is allowed for these field types toosimplify hello separation of facet results into contiguous ranges (either ranges based on numeric values or time periods).</span></span> 

<span data-ttu-id="8d291-256">**Domyślnie może istnieć tylko jeden poziom nawigacji aspektowej**</span><span class="sxs-lookup"><span data-stu-id="8d291-256">**By default you can only have one level of faceted navigation**</span></span> 

<span data-ttu-id="8d291-257">Jak wspomniano, istnieje bezpośrednią obsługę zagnieżdżania aspekty w hierarchii.</span><span class="sxs-lookup"><span data-stu-id="8d291-257">As noted, there is no direct support for nesting facets in a hierarchy.</span></span> <span data-ttu-id="8d291-258">Domyślnie nawigacji aspektowej w usłudze Azure Search obsługuje tylko jeden poziom filtrów.</span><span class="sxs-lookup"><span data-stu-id="8d291-258">By default, faceted navigation in Azure Search only supports one level of filters.</span></span> <span data-ttu-id="8d291-259">Jednak istnieć obejścia.</span><span class="sxs-lookup"><span data-stu-id="8d291-259">However, workarounds do exist.</span></span> <span data-ttu-id="8d291-260">Może zakodować strukturę hierarchiczną aspektu w `Collection(Edm.String)` z jednego wpisu punktu danej hierarchii.</span><span class="sxs-lookup"><span data-stu-id="8d291-260">You can encode a hierarchical facet structure in a `Collection(Edm.String)` with one entry point per hierarchy.</span></span> <span data-ttu-id="8d291-261">Wdrażanie tego rozwiązania wykracza poza zakres tego artykułu hello.</span><span class="sxs-lookup"><span data-stu-id="8d291-261">Implementing this workaround is beyond hello scope of this article.</span></span> 

### <a name="querying-tips"></a><span data-ttu-id="8d291-262">Wykonywanie zapytania porady</span><span class="sxs-lookup"><span data-stu-id="8d291-262">Querying tips</span></span>
<span data-ttu-id="8d291-263">**Sprawdzanie poprawności pola**</span><span class="sxs-lookup"><span data-stu-id="8d291-263">**Validate fields**</span></span>

<span data-ttu-id="8d291-264">W przypadku tworzenia listy hello aspekty dynamicznie oparte na danych wejściowych użytkownika niezaufanych, należy zweryfikować, że hello nazwy pól aspektowej hello są prawidłowe.</span><span class="sxs-lookup"><span data-stu-id="8d291-264">If you build hello list of facets dynamically based on untrusted user input, validate that hello names of hello faceted fields are valid.</span></span> <span data-ttu-id="8d291-265">Lub escape hello nazw podczas kompilowania przy użyciu adresów URL `Uri.EscapeDataString()` .NET lub hello odpowiednik w wybranej platformy.</span><span class="sxs-lookup"><span data-stu-id="8d291-265">Or, escape hello names when building URLs by using either `Uri.EscapeDataString()` in .NET, or hello equivalent in your platform of choice.</span></span>

### <a name="filtering-tips"></a><span data-ttu-id="8d291-266">Wskazówki dotyczące filtrowania</span><span class="sxs-lookup"><span data-stu-id="8d291-266">Filtering tips</span></span>
<span data-ttu-id="8d291-267">**Zwiększyć dokładność wyszukiwania z filtrami**</span><span class="sxs-lookup"><span data-stu-id="8d291-267">**Increase search precision with filters**</span></span>

<span data-ttu-id="8d291-268">Używanie filtrów.</span><span class="sxs-lookup"><span data-stu-id="8d291-268">Use filters.</span></span> <span data-ttu-id="8d291-269">Jeśli użytkownik korzysta z właśnie wyrażeniach wyszukiwania wyłącznie danych może spowodować, że toobe dokument został zwrócony nie znajduje się wartość aspektu dokładne hello w jednym z jego pól.</span><span class="sxs-lookup"><span data-stu-id="8d291-269">If you rely on just search expressions alone, stemming could cause a document toobe returned that doesn’t have hello precise facet value in any of its fields.</span></span>

<span data-ttu-id="8d291-270">**Zwiększyć wydajność wyszukiwania z filtrami**</span><span class="sxs-lookup"><span data-stu-id="8d291-270">**Increase search performance with filters**</span></span>

<span data-ttu-id="8d291-271">Filtry zawęzić zestaw hello dokumenty kandydata do wyszukiwania i wykluczyć je z klasyfikacji.</span><span class="sxs-lookup"><span data-stu-id="8d291-271">Filters narrow down hello set of candidate documents for search and exclude them from ranking.</span></span> <span data-ttu-id="8d291-272">Jeśli masz dużego zestawu dokumentów, często przy użyciu selektywnego aspektu przechodzenia zapewnia lepszą wydajność.</span><span class="sxs-lookup"><span data-stu-id="8d291-272">If you have a large set of documents, using a selective facet drill-down often gives you better performance.</span></span>
  
<span data-ttu-id="8d291-273">**Filtruj tylko pola aspektowej hello**</span><span class="sxs-lookup"><span data-stu-id="8d291-273">**Filter only hello faceted fields**</span></span>

<span data-ttu-id="8d291-274">W aspektowej przechodzenia, zazwyczaj mają tooonly obejmują dokumentów, których wartość aspektu hello w określonym polu (aspektowej), nie w dowolnym miejscu we wszystkich pól z możliwością wyszukiwania.</span><span class="sxs-lookup"><span data-stu-id="8d291-274">In faceted drill-down, you typically want tooonly include documents that have hello facet value in a specific (faceted) field, not anywhere across all searchable fields.</span></span> <span data-ttu-id="8d291-275">Dodawanie filtru wzmacnia pola docelowego hello kierując toosearch usługi hello tylko w polu aspektowej powitania dla pasującej wartości.</span><span class="sxs-lookup"><span data-stu-id="8d291-275">Adding a filter reinforces hello target field by directing hello service toosearch only in hello faceted field for a matching value.</span></span>

<span data-ttu-id="8d291-276">**TRIM aspektu wyników z filtrami więcej**</span><span class="sxs-lookup"><span data-stu-id="8d291-276">**Trim facet results with more filters**</span></span>

<span data-ttu-id="8d291-277">Aspekt wyniki są znalezionych w wynikach wyszukiwania hello spełniających warunek aspektu dokumentów.</span><span class="sxs-lookup"><span data-stu-id="8d291-277">Facet results are documents found in hello search results that match a facet term.</span></span> <span data-ttu-id="8d291-278">W hello poniższy przykład, w wynikach wyszukiwania *chmura obliczeniowa*, 254 elementy mają także *wewnętrzny specyfikacji* jako typu zawartości.</span><span class="sxs-lookup"><span data-stu-id="8d291-278">In hello following example, in search results for *cloud computing*, 254 items also have *internal specification* as a content type.</span></span> <span data-ttu-id="8d291-279">Elementy nie są zawsze wykluczają się wzajemnie.</span><span class="sxs-lookup"><span data-stu-id="8d291-279">Items are not necessarily mutually exclusive.</span></span> <span data-ttu-id="8d291-280">Jeśli element spełnia kryteria hello obu filtrów, jest liczony w każdej z nich.</span><span class="sxs-lookup"><span data-stu-id="8d291-280">If an item meets hello criteria of both filters, it is counted in each one.</span></span> <span data-ttu-id="8d291-281">To duplikatów, jest możliwe, gdy tworzenie aspektów na `Collection(Edm.String)` pola, które są często używane znakowanie dokumentu tooimplement.</span><span class="sxs-lookup"><span data-stu-id="8d291-281">This duplication is possible when faceting on `Collection(Edm.String)` fields, which are often used tooimplement document tagging.</span></span>

        Search term: "cloud computing"
        Content type
           Internal specification (254)
           Video (10) 

<span data-ttu-id="8d291-282">Ogólnie rzecz biorąc Jeśli okaże się, że wyniki aspektu spójnie są za duże, firma Microsoft zaleca dodanie więcej filtrów użytkowników toogive dodatkowe opcje dotyczące zawężanie hello wyszukiwania.</span><span class="sxs-lookup"><span data-stu-id="8d291-282">In general, if you find that facet results are consistently too large, we recommend that you add more filters toogive users more options for narrowing hello search.</span></span>

### <a name="tips-about-result-count"></a><span data-ttu-id="8d291-283">Porady dotyczące liczba wyników</span><span class="sxs-lookup"><span data-stu-id="8d291-283">Tips about result count</span></span>

<span data-ttu-id="8d291-284">**Ogranicz liczbę elementów w nawigacji aspektu hello hello**</span><span class="sxs-lookup"><span data-stu-id="8d291-284">**Limit hello number of items in hello facet navigation**</span></span>

<span data-ttu-id="8d291-285">Dla każdego pola aspektowej w drzewie nawigacyjnym hello Brak domyślnego limitu 10 wartości.</span><span class="sxs-lookup"><span data-stu-id="8d291-285">For each faceted field in hello navigation tree, there is a default limit of 10 values.</span></span> <span data-ttu-id="8d291-286">To ustawienie domyślne sens struktury nawigacji, ponieważ utrzymuje hello wartości rozmiarów tooa listy.</span><span class="sxs-lookup"><span data-stu-id="8d291-286">This default makes sense for navigation structures because it keeps hello values list tooa manageable size.</span></span> <span data-ttu-id="8d291-287">Można zastąpić domyślne hello przypisując toocount wartość.</span><span class="sxs-lookup"><span data-stu-id="8d291-287">You can override hello default by assigning a value toocount.</span></span>

* <span data-ttu-id="8d291-288">`&facet=city,count:5`Określa, że tylko hello najpierw pięciu miast znaleziono u góry hello uszeregowane wyniki są zwracane jako wynik zestaw reguł.</span><span class="sxs-lookup"><span data-stu-id="8d291-288">`&facet=city,count:5` specifies that only hello first five cities found in hello top ranked results are returned as a facet result.</span></span> <span data-ttu-id="8d291-289">Należy wziąć pod uwagę przykładowe zapytanie z wyszukiwany termin "lotnisku" i 32 dopasowań.</span><span class="sxs-lookup"><span data-stu-id="8d291-289">Consider a sample query with a search term of “airport” and 32 matches.</span></span> <span data-ttu-id="8d291-290">Jeśli zapytanie hello Określa `&facet=city,count:5`tylko hello pierwsze pięć miast unikatowy hello większości dokumentów w wynikach wyszukiwania hello są uwzględnione w hello aspektu wyników.</span><span class="sxs-lookup"><span data-stu-id="8d291-290">If hello query specifies `&facet=city,count:5`, only hello first five unique cities with hello most documents in hello search results are included in hello facet results.</span></span>

<span data-ttu-id="8d291-291">Powiadomienie hello rozróżnienia aspektu wyników i wyników wyszukiwania.</span><span class="sxs-lookup"><span data-stu-id="8d291-291">Notice hello distinction between facet results and search results.</span></span> <span data-ttu-id="8d291-292">Wyniki wyszukiwania są wszystkie dokumenty hello spełniających hello kwerendy.</span><span class="sxs-lookup"><span data-stu-id="8d291-292">Search results are all hello documents that match hello query.</span></span> <span data-ttu-id="8d291-293">Aspekt wyniki są hello jest zgodny dla każdej wartości aspektu.</span><span class="sxs-lookup"><span data-stu-id="8d291-293">Facet results are hello matches for each facet value.</span></span> <span data-ttu-id="8d291-294">Przykład Witaj wyniki wyszukiwania zawierają nazwy Miasto, które nie są na liście hello aspektu klasyfikacji (5 w tym przykładzie).</span><span class="sxs-lookup"><span data-stu-id="8d291-294">In hello example, search results include City names that are not in hello facet classification list (5 in our example).</span></span> <span data-ttu-id="8d291-295">Wyniki, które są odfiltrowywane przez nawigacji aspektowej stają się widoczne, gdy wyczyść aspekty, lub wybierz inne aspekty oprócz miasta.</span><span class="sxs-lookup"><span data-stu-id="8d291-295">Results that are filtered out through faceted navigation become visible when you clear facets, or choose other facets besides City.</span></span> 

> [!NOTE]
> <span data-ttu-id="8d291-296">Omawianie `count` Jeśli istnieje więcej niż jednego typu może być mylące.</span><span class="sxs-lookup"><span data-stu-id="8d291-296">Discussing `count` when there is more than one type can be confusing.</span></span> <span data-ttu-id="8d291-297">Witaj poniższej tabeli oferuje krótkie podsumowanie sposobu używania termin hello interfejsu API usługi Azure Search, przykładowy kod i dokumentacji.</span><span class="sxs-lookup"><span data-stu-id="8d291-297">hello following table offers a brief summary of how hello term is used in Azure Search API, sample code, and documentation.</span></span> 

* `@colorFacet.count`<br/>
  <span data-ttu-id="8d291-298">W kodzie prezentacji parametru liczba powinna zostać wyświetlona na aspektu hello, używane toodisplay hello liczba wyników aspekt.</span><span class="sxs-lookup"><span data-stu-id="8d291-298">In presentation code, you should see a count parameter on hello facet, used toodisplay hello number of facet results.</span></span> <span data-ttu-id="8d291-299">W wynikach aspektu liczba wskazuje hello liczbę dokumentów, które odpowiadają na powitania aspektu termin lub zakresu.</span><span class="sxs-lookup"><span data-stu-id="8d291-299">In facet results, count indicates hello number of documents that match on hello facet term or range.</span></span>
* `&facet=City,count:12`<br/>
  <span data-ttu-id="8d291-300">W zapytaniu aspektu można ustawić wartości tooa liczby.</span><span class="sxs-lookup"><span data-stu-id="8d291-300">In a facet query, you can set count tooa value.</span></span>  <span data-ttu-id="8d291-301">Witaj domyślna to 10, ale można ustawić większej lub mniejszej.</span><span class="sxs-lookup"><span data-stu-id="8d291-301">hello default is 10, but you can set it higher or lower.</span></span> <span data-ttu-id="8d291-302">Ustawienie `count:12` pobiera hello najlepsze 12 dopasowania w wynikach aspektu według liczby dokumentu.</span><span class="sxs-lookup"><span data-stu-id="8d291-302">Setting `count:12` gets hello top 12 matches in facet results by document count.</span></span>
* <span data-ttu-id="8d291-303">"`@odata.count`"</span><span class="sxs-lookup"><span data-stu-id="8d291-303">"`@odata.count`"</span></span><br/>
  <span data-ttu-id="8d291-304">W odpowiedzi na zapytanie hello ta wartość wskazuje hello Liczba pasujących elementów w wynikach wyszukiwania hello.</span><span class="sxs-lookup"><span data-stu-id="8d291-304">In hello query response, this value indicates hello number of matching items in hello search results.</span></span> <span data-ttu-id="8d291-305">Średnio jest większy niż suma hello wszystkie wyniki aspektu łączyć powodu obecności toohello elementów, które odpowiadają hello wyszukiwany termin, ale ma odpowiedników wartość aspektu.</span><span class="sxs-lookup"><span data-stu-id="8d291-305">On average, it’s larger than hello sum of all facet results combined, due toohello presence of items that match hello search term, but have no facet value matches.</span></span>

<span data-ttu-id="8d291-306">**Uzyskać liczby w wynikach aspektu**</span><span class="sxs-lookup"><span data-stu-id="8d291-306">**Get counts in facet results**</span></span>

<span data-ttu-id="8d291-307">Po dodaniu kwerendy aspektowej tooa filtru może być tooretain hello aspektu instrukcji (na przykład `facet=Rating&$filter=Rating ge 4`).</span><span class="sxs-lookup"><span data-stu-id="8d291-307">When you add a filter tooa faceted query, you might want tooretain hello facet statement (for example, `facet=Rating&$filter=Rating ge 4`).</span></span> <span data-ttu-id="8d291-308">Z technicznego punktu widzenia aspektu = klasyfikacji nie jest wymagane, ale on zwraca hello liczby wartości aspektu klasyfikacje, 4 lub nowszy.</span><span class="sxs-lookup"><span data-stu-id="8d291-308">Technically, facet=Rating isn’t needed, but keeping it returns hello counts of facet values for ratings 4 and higher.</span></span> <span data-ttu-id="8d291-309">Na przykład, jeśli po kliknięciu "4" hello zapytanie zawiera filtru dla większy lub równy zbyt "4", liczby są zwracane dla każdej klasyfikacji, który jest 4 lub nowszy.</span><span class="sxs-lookup"><span data-stu-id="8d291-309">For example, if you click "4" and hello query includes a filter for greater or equal too"4", counts are returned for each rating that is 4 and higher.</span></span>  

<span data-ttu-id="8d291-310">**Upewnij się, że możesz uzyskać dokładne aspektu liczby**</span><span class="sxs-lookup"><span data-stu-id="8d291-310">**Make sure you get accurate facet counts**</span></span>

<span data-ttu-id="8d291-311">W pewnych okolicznościach, można znaleźć aspektu liczby nie są zgodne hello zestawów wyników (zobacz [nawigacji Aspektowej w usłudze Azure Search (wpis na forum)](https://social.msdn.microsoft.com/Forums/azure/06461173-ea26-4e6a-9545-fbbd7ee61c8f/faceting-on-azure-search?forum=azuresearch)).</span><span class="sxs-lookup"><span data-stu-id="8d291-311">Under certain circumstances, you might find that facet counts do not match hello result sets (see [Faceted navigation in Azure Search (forum post)](https://social.msdn.microsoft.com/Forums/azure/06461173-ea26-4e6a-9545-fbbd7ee61c8f/faceting-on-azure-search?forum=azuresearch)).</span></span>

<span data-ttu-id="8d291-312">Aspekt liczby mogą być niedokładne powodu toohello architektura dzielenia na fragmenty.</span><span class="sxs-lookup"><span data-stu-id="8d291-312">Facet counts can be inaccurate due toohello sharding architecture.</span></span> <span data-ttu-id="8d291-313">Każdy indeks ma wiele odłamków i każdego niezależnych raporty aspekty pierwszych N hello według liczby dokumentów, które następnie są łączone w pojedynczy wynik.</span><span class="sxs-lookup"><span data-stu-id="8d291-313">Every search index has multiple shards, and each shard reports hello top N facets by document count, which is then combined into a single result.</span></span> <span data-ttu-id="8d291-314">Jeśli niektóre odłamków ma wiele pasujących wartości, podczas gdy inne zawierają mniej, może się okazać czy niektóre wartości aspektu brakuje lub w obszarze zliczany w wynikach hello.</span><span class="sxs-lookup"><span data-stu-id="8d291-314">If some shards have many matching values, while others have fewer, you may find that some facet values are missing or under-counted in hello results.</span></span>

<span data-ttu-id="8d291-315">Mimo że to zachowanie można zmienić w dowolnym momencie, jeśli wystąpi ten problem dzisiaj, można obejść go przez sztucznie pompowania liczba hello:<number> tooa duża liczba tooenforce pełne raportowania z każdym niezależnego fragmentu.</span><span class="sxs-lookup"><span data-stu-id="8d291-315">Although this behavior could change at any time, if you encounter this behavior today, you can work around it by artificially inflating hello count:<number> tooa large number tooenforce full reporting from each shard.</span></span> <span data-ttu-id="8d291-316">Jeśli wartość liczby hello: jest większa niż lub równa toohello liczba unikatowych wartości w polu hello są zagwarantować prawidłowych wyników.</span><span class="sxs-lookup"><span data-stu-id="8d291-316">If hello value of count: is greater than or equal toohello number of unique values in hello field, you are guaranteed accurate results.</span></span> <span data-ttu-id="8d291-317">Jednak w przypadku wysokiej liczby dokumentów jest zmniejszenie wydajności, więc należy rozważnie Użyj tej opcji.</span><span class="sxs-lookup"><span data-stu-id="8d291-317">However, when document counts are high, there is a performance penalty, so use this option judiciously.</span></span>

### <a name="user-interface-tips"></a><span data-ttu-id="8d291-318">Wskazówki dotyczące interfejsu użytkownika</span><span class="sxs-lookup"><span data-stu-id="8d291-318">User interface tips</span></span>
<span data-ttu-id="8d291-319">**Dodaj znaczniki dla każdego pola w nawigacji aspektu**</span><span class="sxs-lookup"><span data-stu-id="8d291-319">**Add labels for each field in facet navigation**</span></span>

<span data-ttu-id="8d291-320">Etykiety są zazwyczaj definiowane w formie lub hello HTML (`index.cshtml` w hello przykładowej aplikacji).</span><span class="sxs-lookup"><span data-stu-id="8d291-320">Labels are typically defined in hello HTML or form (`index.cshtml` in hello sample application).</span></span> <span data-ttu-id="8d291-321">Brak żadnego interfejsu API w usłudze Azure Search etykiet nawigacji zestawu reguł lub innych metadanych.</span><span class="sxs-lookup"><span data-stu-id="8d291-321">There is no API in Azure Search for facet navigation labels or any other metadata.</span></span>

<a name="rangefacets"></a>

## <a name="filter-based-on-a-range"></a><span data-ttu-id="8d291-322">Filtr na podstawie zakresu</span><span class="sxs-lookup"><span data-stu-id="8d291-322">Filter based on a range</span></span>
<span data-ttu-id="8d291-323">Tworzenie aspektów zakresach wartości jest typowe wymagania aplikacji wyszukiwania.</span><span class="sxs-lookup"><span data-stu-id="8d291-323">Faceting over ranges of values is a common search application requirement.</span></span> <span data-ttu-id="8d291-324">Zakresy są obsługiwane dla danych liczbowych i wartości daty/godziny.</span><span class="sxs-lookup"><span data-stu-id="8d291-324">Ranges are supported for numeric data and DateTime values.</span></span> <span data-ttu-id="8d291-325">Więcej o każde podejście w [wyszukiwania dokumentów (interfejsu API usługi Azure Search)](http://msdn.microsoft.com/library/azure/dn798927.aspx).</span><span class="sxs-lookup"><span data-stu-id="8d291-325">You can read more about each approach in [Search Documents (Azure Search API)](http://msdn.microsoft.com/library/azure/dn798927.aspx).</span></span>

<span data-ttu-id="8d291-326">Wyszukiwanie Azure ułatwia konstrukcji zakresu, zapewniając dwa podejścia do przetwarzania danych zakresu.</span><span class="sxs-lookup"><span data-stu-id="8d291-326">Azure Search simplifies range construction by providing two approaches for computing a range.</span></span> <span data-ttu-id="8d291-327">Dla obu podejść usługi Azure Search tworzy hello odpowiednie zakresy podane dane wejściowe hello, dostarczona przez Ciebie.</span><span class="sxs-lookup"><span data-stu-id="8d291-327">For both approaches, Azure Search creates hello appropriate ranges given hello inputs you’ve provided.</span></span> <span data-ttu-id="8d291-328">Na przykład jeśli określisz wartości z zakresu od 10 | 20 | 30, automatycznie tworzy zakres 0-10, 10-20, 20 – 30.</span><span class="sxs-lookup"><span data-stu-id="8d291-328">For instance, if you specify range values of 10|20|30, it automatically creates ranges of 0-10, 10-20, 20-30.</span></span> <span data-ttu-id="8d291-329">Aplikację można opcjonalnie usunąć żadnych interwałów, które są puste.</span><span class="sxs-lookup"><span data-stu-id="8d291-329">Your application can optionally remove any intervals that are empty.</span></span> 

<span data-ttu-id="8d291-330">**Podejście 1: Użyj parametru Interwał hello**</span><span class="sxs-lookup"><span data-stu-id="8d291-330">**Approach 1: Use hello interval parameter**</span></span>  
<span data-ttu-id="8d291-331">tooset aspektów cen w przyrostach $10, należy określić:`&facet=price,interval:10`</span><span class="sxs-lookup"><span data-stu-id="8d291-331">tooset price facets in $10 increments, you would specify: `&facet=price,interval:10`</span></span>

<span data-ttu-id="8d291-332">**Podejście 2: Użyj listy wartości**</span><span class="sxs-lookup"><span data-stu-id="8d291-332">**Approach 2: Use a values list**</span></span>  
<span data-ttu-id="8d291-333">Dla danych liczbowych używając listy wartości.</span><span class="sxs-lookup"><span data-stu-id="8d291-333">For numeric data, you can use a values list.</span></span>  <span data-ttu-id="8d291-334">Należy wziąć pod uwagę zakres aspektu hello `listPrice` pola renderowane w następujący sposób:</span><span class="sxs-lookup"><span data-stu-id="8d291-334">Consider hello facet range for a `listPrice` field, rendered as follows:</span></span>

  ![Lista przykładów wartości][5]

<span data-ttu-id="8d291-336">toospecify zakresu zestawu reguł, takich jak hello w hello zrzut ekranu przedstawiający poprzedzających korzystaj z listy wartości:</span><span class="sxs-lookup"><span data-stu-id="8d291-336">toospecify a facet range like hello one in hello preceding screen shot, use a values list:</span></span>

    facet=listPrice,values:10|25|100|500|1000|2500

<span data-ttu-id="8d291-337">Każdy zakres jest utworzony przy użyciu 0 jako punkt początkowy, wartość z listy hello jako punktu końcowego, a następnie przycinana hello poprzedniej zakresu toocreate odrębny interwałów.</span><span class="sxs-lookup"><span data-stu-id="8d291-337">Each range is built using 0 as a starting point, a value from hello list as an endpoint, and then trimmed of hello previous range toocreate discrete intervals.</span></span> <span data-ttu-id="8d291-338">Usługa wyszukiwanie Azure wykonuje te czynności w ramach nawigacji aspektowej.</span><span class="sxs-lookup"><span data-stu-id="8d291-338">Azure Search does these things as part of faceted navigation.</span></span> <span data-ttu-id="8d291-339">Nie masz kod toowrite dla każdego interwału struktury.</span><span class="sxs-lookup"><span data-stu-id="8d291-339">You do not have toowrite code for structuring each interval.</span></span>

### <a name="build-a-filter-for-a-range"></a><span data-ttu-id="8d291-340">Utworzyć filtr dla zakresu</span><span class="sxs-lookup"><span data-stu-id="8d291-340">Build a filter for a range</span></span>
<span data-ttu-id="8d291-341">toofilter dokumentów na podstawie zakresu zostanie wybrana, można użyć hello `"ge"` i `"lt"` operatorów w wyrażeniu dwóch elementów, które definiuje punkty końcowe hello hello zakresu filtru.</span><span class="sxs-lookup"><span data-stu-id="8d291-341">toofilter documents based on a range you select, you can use hello `"ge"` and `"lt"` filter operators in a two-part expression that defines hello endpoints of hello range.</span></span> <span data-ttu-id="8d291-342">Na przykład, jeśli wybierzesz hello zakresu 10-25 dla `listPrice` polu Filtr hello byłby `$filter=listPrice ge 10 and listPrice lt 25`.</span><span class="sxs-lookup"><span data-stu-id="8d291-342">For example, if you choose hello range 10-25 for a `listPrice` field, hello filter would be `$filter=listPrice ge 10 and listPrice lt 25`.</span></span> <span data-ttu-id="8d291-343">W przykładowym kodzie hello używa wyrażenia filtru hello **priceFrom** i **priceTo** punkty końcowe hello tooset parametrów.</span><span class="sxs-lookup"><span data-stu-id="8d291-343">In hello sample code, hello filter expression uses **priceFrom** and **priceTo** parameters tooset hello endpoints.</span></span> 

  ![Zapytanie dla zakresu wartości][6]

<a name="geofacets"></a> 

## <a name="filter-based-on-distance"></a><span data-ttu-id="8d291-345">Filtr oparty na odległość</span><span class="sxs-lookup"><span data-stu-id="8d291-345">Filter based on distance</span></span>
<span data-ttu-id="8d291-346">Jego typowe toosee filtry ułatwiające wybranego magazynu, restauracji lub docelowym na podstawie jego zbliżeniowe tooyour bieżącej lokalizacji.</span><span class="sxs-lookup"><span data-stu-id="8d291-346">It’s common toosee filters that help you choose a store, restaurant, or destination based on its proximity tooyour current location.</span></span> <span data-ttu-id="8d291-347">Chociaż ten typ filtru może wyglądać nawigacji aspektowej, jest tylko filtr.</span><span class="sxs-lookup"><span data-stu-id="8d291-347">While this type of filter might look like faceted navigation, it’s just a filter.</span></span> <span data-ttu-id="8d291-348">Możemy tu wspomina dla osób, które kto w szczególności szukasz implementacji wskazówki dotyczące tego problemu konkretnego projektu.</span><span class="sxs-lookup"><span data-stu-id="8d291-348">We mention it here for those of you who are specifically looking for implementation advice for that particular design problem.</span></span>

<span data-ttu-id="8d291-349">Dostępne są dwie funkcje dane geograficzne w usłudze Azure Search **geo.distance** i **geo.intersects**.</span><span class="sxs-lookup"><span data-stu-id="8d291-349">There are two Geospatial functions in Azure Search, **geo.distance** and **geo.intersects**.</span></span>

* <span data-ttu-id="8d291-350">Witaj **geo.distance** funkcja zwraca w kilometrach hello odległość między dwoma punktami.</span><span class="sxs-lookup"><span data-stu-id="8d291-350">hello **geo.distance** function returns hello distance in kilometers between two points.</span></span> <span data-ttu-id="8d291-351">Pole jest jeden punkt i innych jest stałą przekazanych jako część hello filtru.</span><span class="sxs-lookup"><span data-stu-id="8d291-351">One point is a field and other is a constant passed as part of hello filter.</span></span> 
* <span data-ttu-id="8d291-352">Witaj **geo.intersects** funkcja zwraca wartość true, jeśli dany punkt znajduje się w danym wielokąta.</span><span class="sxs-lookup"><span data-stu-id="8d291-352">hello **geo.intersects** function returns true if a given point is within a given polygon.</span></span> <span data-ttu-id="8d291-353">pole jest punkt Hello i wielokąta hello jest określony jako listę stałych współrzędne przekazanych jako część hello filtru.</span><span class="sxs-lookup"><span data-stu-id="8d291-353">hello point is a field and hello polygon is specified as a constant list of coordinates passed as part of hello filter.</span></span>

<span data-ttu-id="8d291-354">Można znaleźć przykłady filtru w [składni wyrażeń OData (Azure Search)](http://msdn.microsoft.com/library/azure/dn798921.aspx).</span><span class="sxs-lookup"><span data-stu-id="8d291-354">You can find filter examples in [OData expression syntax (Azure Search)](http://msdn.microsoft.com/library/azure/dn798921.aspx).</span></span>

<a name="tryitout"></a>

## <a name="try-hello-demo"></a><span data-ttu-id="8d291-355">Demonstracyjnym hello</span><span class="sxs-lookup"><span data-stu-id="8d291-355">Try hello demo</span></span>
<span data-ttu-id="8d291-356">Hello Azure Search zadania portalu pokaz zawiera przykłady hello występujący w odwołaniu w tym artykule.</span><span class="sxs-lookup"><span data-stu-id="8d291-356">hello Azure Search Job Portal Demo contains hello examples referenced in this article.</span></span>

-   <span data-ttu-id="8d291-357">Zobacz i testowania hello pracy Pokaz online na [Azure Search zadania portalu pokaz](http://azjobsdemo.azurewebsites.net/).</span><span class="sxs-lookup"><span data-stu-id="8d291-357">See and test hello working demo online at [Azure Search Job Portal Demo](http://azjobsdemo.azurewebsites.net/).</span></span>

-   <span data-ttu-id="8d291-358">Pobierz kod hello z hello [repozytorium Azure-próbek w serwisie GitHub](https://github.com/Azure-Samples/search-dotnet-asp-net-mvc-jobs).</span><span class="sxs-lookup"><span data-stu-id="8d291-358">Download hello code from hello [Azure-Samples repo on GitHub](https://github.com/Azure-Samples/search-dotnet-asp-net-mvc-jobs).</span></span>

<span data-ttu-id="8d291-359">Podczas pracy z wynikami wyszukiwania, obejrzyj URL hello zmiany w konstrukcji zapytania.</span><span class="sxs-lookup"><span data-stu-id="8d291-359">As you work with search results, watch hello URL for changes in query construction.</span></span> <span data-ttu-id="8d291-360">Ta aplikacja odbywa się tooappend aspekty toohello identyfikatora URI po wybraniu każdego z nich.</span><span class="sxs-lookup"><span data-stu-id="8d291-360">This application happens tooappend facets toohello URI as you select each one.</span></span>

1. <span data-ttu-id="8d291-361">funkcje mapowania hello toouse hello aplikacja demonstracyjna, uzyskać klucz usługi mapy Bing z hello [Centrum deweloperów map Bing](https://www.bingmapsportal.com/).</span><span class="sxs-lookup"><span data-stu-id="8d291-361">toouse hello mapping functionality of hello demo app, get a Bing Maps key from hello [Bing Maps Dev Center](https://www.bingmapsportal.com/).</span></span> <span data-ttu-id="8d291-362">Wklej go za pośrednictwem hello istniejącego klucza w hello `index.cshtml` strony.</span><span class="sxs-lookup"><span data-stu-id="8d291-362">Paste it over hello existing key in hello `index.cshtml` page.</span></span> <span data-ttu-id="8d291-363">Witaj `BingApiKey` ustawienie w hello `Web.config` plik nie jest używany.</span><span class="sxs-lookup"><span data-stu-id="8d291-363">hello `BingApiKey` setting in hello `Web.config` file is not used.</span></span> 

2. <span data-ttu-id="8d291-364">Uruchamianie aplikacji hello.</span><span class="sxs-lookup"><span data-stu-id="8d291-364">Run hello application.</span></span> <span data-ttu-id="8d291-365">Samouczek opcjonalne hello lub odrzucić okno dialogowe hello.</span><span class="sxs-lookup"><span data-stu-id="8d291-365">Take hello optional tour, or dismiss hello dialog box.</span></span>
   
3. <span data-ttu-id="8d291-366">Wprowadź wyszukiwany termin, takie jak "analityka" i kliknij ikonę wyszukiwania hello.</span><span class="sxs-lookup"><span data-stu-id="8d291-366">Enter a search term, such as "analyst", and click hello Search icon.</span></span> <span data-ttu-id="8d291-367">Zapytanie Hello wykonuje szybko.</span><span class="sxs-lookup"><span data-stu-id="8d291-367">hello query executes quickly.</span></span>
   
   <span data-ttu-id="8d291-368">Struktura nawigacji aspektowej jest także zwracany z wynikami wyszukiwania hello.</span><span class="sxs-lookup"><span data-stu-id="8d291-368">A faceted navigation structure is also returned with hello search results.</span></span> <span data-ttu-id="8d291-369">W wynikach wyszukiwania hello struktura nawigacji aspektowej hello zawiera liczniki dla każdego aspektu wyniku.</span><span class="sxs-lookup"><span data-stu-id="8d291-369">In hello search result page, hello faceted navigation structure includes counts for each facet result.</span></span> <span data-ttu-id="8d291-370">Nie aspekty nie wybrano, więc wszystkie pasujących wyników są zwracane.</span><span class="sxs-lookup"><span data-stu-id="8d291-370">No facets are selected, so all matching results are returned.</span></span>
   
   ![Wyniki wyszukiwania przed wybraniem aspektów][11]

4. <span data-ttu-id="8d291-372">Kliknij tytuł biznesowych, lokalizacji lub minimalna wynagrodzenia.</span><span class="sxs-lookup"><span data-stu-id="8d291-372">Click a Business Title, Location, or Minimum Salary.</span></span> <span data-ttu-id="8d291-373">Aspekty była zerowa na powitania początkowe wyszukiwanie, ale zgodnie z ich wejściem dla wartości hello wyniki wyszukiwania są usuwane z elementów, które nie odpowiadają.</span><span class="sxs-lookup"><span data-stu-id="8d291-373">Facets were null on hello initial search, but as they take on values, hello search results are trimmed of items that no longer match.</span></span>
   
   ![Wyniki wyszukiwania po wybraniu aspektów][12]

5. <span data-ttu-id="8d291-375">tooclear hello aspektowej zapytania, aby spróbować zachowania inne zapytanie, kliknij przycisk hello `[X]` po hello aspekty tooclear hello aspektami.</span><span class="sxs-lookup"><span data-stu-id="8d291-375">tooclear hello faceted query so that you can try different query behaviors, click hello `[X]` after hello selected facets tooclear hello facets.</span></span>
   
<a name="nextstep"></a>

## <a name="learn-more"></a><span data-ttu-id="8d291-376">Dowiedz się więcej</span><span class="sxs-lookup"><span data-stu-id="8d291-376">Learn more</span></span>
<span data-ttu-id="8d291-377">Obejrzyj [nowości wyszukiwanie Azure](http://channel9.msdn.com/Events/TechEd/Europe/2014/DBI-B410).</span><span class="sxs-lookup"><span data-stu-id="8d291-377">Watch [Azure Search Deep Dive](http://channel9.msdn.com/Events/TechEd/Europe/2014/DBI-B410).</span></span> <span data-ttu-id="8d291-378">W 45:25, jak jest pokaz tooimplement aspektami.</span><span class="sxs-lookup"><span data-stu-id="8d291-378">At 45:25, there is a demo on how tooimplement facets.</span></span>

<span data-ttu-id="8d291-379">Aby uzyskać więcej szczegółowych informacji o zasadach projektowania dla nawigacji aspektowej zaleca się hello następującego łącza:</span><span class="sxs-lookup"><span data-stu-id="8d291-379">For more insights on design principles for faceted navigation, we recommend hello following links:</span></span>

* [<span data-ttu-id="8d291-380">Projektowanie pod kątem Aspektowej wyszukiwania</span><span class="sxs-lookup"><span data-stu-id="8d291-380">Designing for Faceted Search</span></span>](http://www.uie.com/articles/faceted_search/)
* [<span data-ttu-id="8d291-381">Wzorce projektowe: Nawigacji Aspektowej</span><span class="sxs-lookup"><span data-stu-id="8d291-381">Design Patterns: Faceted Navigation</span></span>](http://alistapart.com/article/design-patterns-faceted-navigation)


<!--Anchors-->
[How toobuild it]: #howtobuildit
[Build hello presentation layer]: #presentationlayer
[Build hello index]: #buildindex
[Check for data quality]: #checkdata
[Build hello query]: #buildquery
[Tips on how toocontrol faceted navigation]: #tips
[Faceted navigation based on range values]: #rangefacets
[Faceted navigation based on GeoPoints]: #geofacets
[Try it out]: #tryitout

<!--Image references-->
[1]: ./media/search-faceted-navigation/azure-search-faceting-example.PNG
[2]: ./media/search-faceted-navigation/Facet-2-CSHTML.PNG
[3]: ./media/search-faceted-navigation/Facet-3-schema.PNG
[4]: ./media/search-faceted-navigation/Facet-4-SearchMethod.PNG
[5]: ./media/search-faceted-navigation/Facet-5-Prices.PNG
[6]: ./media/search-faceted-navigation/Facet-6-buildfilter.PNG
[7]: ./media/search-faceted-navigation/Facet-7-appstart.png
[8]: ./media/search-faceted-navigation/Facet-8-appbike.png
[9]: ./media/search-faceted-navigation/Facet-9-appbikefaceted.png
[10]: ./media/search-faceted-navigation/Facet-10-appTitle.png
[11]: ./media/search-faceted-navigation/faceted-search-before-facets.png
[12]: ./media/search-faceted-navigation/faceted-search-after-facets.png

<!--Link references-->
[Designing for Faceted Search]: http://www.uie.com/articles/faceted_search/
[Design Patterns: Faceted Navigation]: http://alistapart.com/article/design-patterns-faceted-navigation
[Create your first application]: search-create-first-solution.md
[OData expression syntax (Azure Search)]: http://msdn.microsoft.com/library/azure/dn798921.aspx
[Azure Search Adventure Works Demo]: https://azuresearchadventureworksdemo.codeplex.com/
[http://www.odata.org/documentation/odata-version-2-0/overview/]: http://www.odata.org/documentation/odata-version-2-0/overview/ 
[Faceting on Azure Search forum post]: ../faceting-on-azure-search.md?forum=azuresearch
[Search Documents (Azure Search API)]: http://msdn.microsoft.com/library/azure/dn798927.aspx

