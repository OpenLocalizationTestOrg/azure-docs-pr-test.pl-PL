---
title: "aaaModeling Wielodostępności w usłudze Azure Search | Dokumentacja firmy Microsoft"
description: "Poznaj typowe wzorce projektowe dla wielodostępnych aplikacji SaaS przy użyciu usługi Azure Search."
services: search
manager: jhubbard
author: ashmaka
documentationcenter: 
ms.assetid: 72e9696a-553b-47dc-9e05-a82db0ebf094
ms.service: search
ms.devlang: NA
ms.workload: search
ms.topic: article
ms.tgt_pltfrm: na
ms.date: 10/26/2016
ms.author: ashmaka
ms.openlocfilehash: dd46cda772d32566b9aaa18d407f12fdf178bd43
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="design-patterns-for-multitenant-saas-applications-and-azure-search"></a><span data-ttu-id="146ca-103">Projektowanie wzorce dla wielodostępnych aplikacji SaaS i usługi Azure Search</span><span class="sxs-lookup"><span data-stu-id="146ca-103">Design patterns for multitenant SaaS applications and Azure Search</span></span>
<span data-ttu-id="146ca-104">Wielodostępna aplikacji to taki, który udostępnia hello tej samej usługi i możliwości tooany liczby dzierżawców, którzy nie można wyświetlić dane lub udostępniać hello z innymi dzierżawami.</span><span class="sxs-lookup"><span data-stu-id="146ca-104">A multitenant application is one that provides hello same services and capabilities tooany number of tenants who cannot see or share hello data of any other tenant.</span></span> <span data-ttu-id="146ca-105">W tym dokumencie omówiono strategii izolacji dzierżawy dla wielodostępnych aplikacji skompilowanej za pomocą usługi Azure Search.</span><span class="sxs-lookup"><span data-stu-id="146ca-105">This document discusses tenant isolation strategies for multitenant applications built with Azure Search.</span></span>

## <a name="azure-search-concepts"></a><span data-ttu-id="146ca-106">Pojęcia wyszukiwanie Azure</span><span class="sxs-lookup"><span data-stu-id="146ca-106">Azure Search concepts</span></span>
<span data-ttu-id="146ca-107">Jako rozwiązaniem wyszukiwanie jako usługa Azure Search umożliwia deweloperom tooadd sformatowanego wyszukiwania napotka tooapplications bez dowolnej infrastruktury zarządzania i staje się eksperta w wyszukiwaniu.</span><span class="sxs-lookup"><span data-stu-id="146ca-107">As a search-as-a-service solution, Azure Search allows developers tooadd rich search experiences tooapplications without managing any infrastructure or becoming an expert in search.</span></span> <span data-ttu-id="146ca-108">Dane są przekazywane toohello usługi i następnie przechowywane w chmurze hello.</span><span class="sxs-lookup"><span data-stu-id="146ca-108">Data is uploaded toohello service and then stored in hello cloud.</span></span> <span data-ttu-id="146ca-109">Przy użyciu prostych żądań toohello interfejsu API usługi Azure Search, dane hello następnie można modyfikować i przeszukiwane.</span><span class="sxs-lookup"><span data-stu-id="146ca-109">Using simple requests toohello Azure Search API, hello data can then be modified and searched.</span></span> <span data-ttu-id="146ca-110">Omówienie usługi hello znajdują się w [w tym artykule](http://aka.ms/whatisazsearch).</span><span class="sxs-lookup"><span data-stu-id="146ca-110">An overview of hello service can be found in [this article](http://aka.ms/whatisazsearch).</span></span> <span data-ttu-id="146ca-111">Przed omówieniem wzorce projektowe, jest ważne toounderstand niektóre pojęcia dotyczące usługi Azure Search.</span><span class="sxs-lookup"><span data-stu-id="146ca-111">Before discussing design patterns, it is important toounderstand some concepts in Azure Search.</span></span>

### <a name="search-services-indexes-fields-and-documents"></a><span data-ttu-id="146ca-112">Wyszukiwanie w usługach, indeksów, pól i dokumentów</span><span class="sxs-lookup"><span data-stu-id="146ca-112">Search services, indexes, fields, and documents</span></span>
<span data-ttu-id="146ca-113">Podczas korzystania z usługi Azure Search, jeden subskrybuje tooa *usługi wyszukiwania*.</span><span class="sxs-lookup"><span data-stu-id="146ca-113">When using Azure Search, one subscribes tooa *search service*.</span></span> <span data-ttu-id="146ca-114">Ponieważ dane są przekazane tooAzure wyszukiwania, jest ona przechowywana w *indeksu* w ramach hello usługi wyszukiwania.</span><span class="sxs-lookup"><span data-stu-id="146ca-114">As data is uploaded tooAzure Search, it is stored in an *index* within hello search service.</span></span> <span data-ttu-id="146ca-115">Może to być liczba indeksów w ramach jednej usługi.</span><span class="sxs-lookup"><span data-stu-id="146ca-115">There can be a number of indexes within a single service.</span></span> <span data-ttu-id="146ca-116">toouse hello znane pojęcia baz danych usługi wyszukiwania hello można przyrównać tooa bazy danych indeksów hello w ramach usługi mogą być przyrównać tootables w bazie danych.</span><span class="sxs-lookup"><span data-stu-id="146ca-116">toouse hello familiar concepts of databases, hello search service can be likened tooa database while hello indexes within a service can be likened tootables within a database.</span></span>

<span data-ttu-id="146ca-117">Każdy indeks w ramach usługi wyszukiwania ma własny schemat, który jest zdefiniowany przez liczbę można dostosowywać *pola*.</span><span class="sxs-lookup"><span data-stu-id="146ca-117">Each index within a search service has its own schema, which is defined by a number of customizable *fields*.</span></span> <span data-ttu-id="146ca-118">Dodanie indeksu usługi Azure Search tooan danych w formie hello indywidualnego *dokumenty*.</span><span class="sxs-lookup"><span data-stu-id="146ca-118">Data is added tooan Azure Search index in hello form of individual *documents*.</span></span> <span data-ttu-id="146ca-119">Każdy dokument musi być przekazana tooa określonego indeksu i musi znajdować się w tym Indeksuj schemat.</span><span class="sxs-lookup"><span data-stu-id="146ca-119">Each document must be uploaded tooa particular index and must fit that index's schema.</span></span> <span data-ttu-id="146ca-120">Podczas wyszukiwania danych przy użyciu usługi Azure Search, zapytania wyszukiwania pełnotekstowego hello są wystawiony na podstawie określonego indeksu.</span><span class="sxs-lookup"><span data-stu-id="146ca-120">When searching data using Azure Search, hello full-text search queries are issued against a particular index.</span></span>  <span data-ttu-id="146ca-121">toocompare te pojęcia toothose bazy danych, pola można przyrównać toocolumns w tabeli, a także dokumenty mogą być przyrównać toorows.</span><span class="sxs-lookup"><span data-stu-id="146ca-121">toocompare these concepts toothose of a database, fields can be likened toocolumns in a table and documents can be likened toorows.</span></span>

### <a name="scalability"></a><span data-ttu-id="146ca-122">Skalowalność</span><span class="sxs-lookup"><span data-stu-id="146ca-122">Scalability</span></span>
<span data-ttu-id="146ca-123">Wszystkie usługi Azure Search w hello Standard [warstwy cenowej](https://azure.microsoft.com/pricing/details/search/) można skalować w dwóch wymiarów: magazynu i dostępności.</span><span class="sxs-lookup"><span data-stu-id="146ca-123">Any Azure Search service in hello Standard [pricing tier](https://azure.microsoft.com/pricing/details/search/) can scale in two dimensions: storage and availability.</span></span>

* <span data-ttu-id="146ca-124">*Partycje* można dodać tooincrease hello magazynu usługi wyszukiwania.</span><span class="sxs-lookup"><span data-stu-id="146ca-124">*Partitions* can be added tooincrease hello storage of a search service.</span></span>
* <span data-ttu-id="146ca-125">*Repliki* można dodać tooa usługi tooincrease hello przepływności żądań, jaką może obsłużyć usługi wyszukiwania.</span><span class="sxs-lookup"><span data-stu-id="146ca-125">*Replicas* can be added tooa service tooincrease hello throughput of requests that a search service can handle.</span></span>

<span data-ttu-id="146ca-126">Dodawanie i usuwanie partycji i replik w umożliwi hello pojemność toogrow usługi wyszukiwania hello z hello ilość danych i ruchu hello przez aplikację.</span><span class="sxs-lookup"><span data-stu-id="146ca-126">Adding and removing partitions and replicas at will allow hello capacity of hello search service toogrow with hello amount of data and traffic hello application demands.</span></span> <span data-ttu-id="146ca-127">W celu dla tooachieve usługi wyszukiwania odczytu [SLA](https://azure.microsoft.com/support/legal/sla/search/v1_0/), wymaga dwóch replik.</span><span class="sxs-lookup"><span data-stu-id="146ca-127">In order for a search service tooachieve a read [SLA](https://azure.microsoft.com/support/legal/sla/search/v1_0/), it requires two replicas.</span></span> <span data-ttu-id="146ca-128">W celu dla tooachieve usługi odczytu i zapisu [SLA](https://azure.microsoft.com/support/legal/sla/search/v1_0/), wymaga trzech replik.</span><span class="sxs-lookup"><span data-stu-id="146ca-128">In order for a service tooachieve a read-write [SLA](https://azure.microsoft.com/support/legal/sla/search/v1_0/), it requires three replicas.</span></span>

### <a name="service-and-index-limits-in-azure-search"></a><span data-ttu-id="146ca-129">Limity usług i indeksu w usłudze Azure Search</span><span class="sxs-lookup"><span data-stu-id="146ca-129">Service and index limits in Azure Search</span></span>
<span data-ttu-id="146ca-130">Istnieje kilka różnych [warstw cenowych](https://azure.microsoft.com/pricing/details/search/) w usłudze Azure Search, każdy z warstw hello ma inną [limity i przydziały](search-limits-quotas-capacity.md).</span><span class="sxs-lookup"><span data-stu-id="146ca-130">There are a few different [pricing tiers](https://azure.microsoft.com/pricing/details/search/) in Azure Search, each of hello tiers has different [limits and quotas](search-limits-quotas-capacity.md).</span></span> <span data-ttu-id="146ca-131">Niektóre z tych limitów są na powitania poziomu usług, niektóre są na poziomie indeksu hello i niektóre są na poziomie partycji hello.</span><span class="sxs-lookup"><span data-stu-id="146ca-131">Some of these limits are at hello service-level, some are at hello index-level, and some are at hello partition-level.</span></span>

|  | <span data-ttu-id="146ca-132">Podstawowa</span><span class="sxs-lookup"><span data-stu-id="146ca-132">Basic</span></span> | <span data-ttu-id="146ca-133">Standard1</span><span class="sxs-lookup"><span data-stu-id="146ca-133">Standard1</span></span> | <span data-ttu-id="146ca-134">Standard2</span><span class="sxs-lookup"><span data-stu-id="146ca-134">Standard2</span></span> | <span data-ttu-id="146ca-135">Standard3</span><span class="sxs-lookup"><span data-stu-id="146ca-135">Standard3</span></span> | <span data-ttu-id="146ca-136">Standard3 HD</span><span class="sxs-lookup"><span data-stu-id="146ca-136">Standard3 HD</span></span> |
| --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="146ca-137">Maksymalna replik dla usługi</span><span class="sxs-lookup"><span data-stu-id="146ca-137">Maximum Replicas per Service</span></span> |<span data-ttu-id="146ca-138">3</span><span class="sxs-lookup"><span data-stu-id="146ca-138">3</span></span> |<span data-ttu-id="146ca-139">12</span><span class="sxs-lookup"><span data-stu-id="146ca-139">12</span></span> |<span data-ttu-id="146ca-140">12</span><span class="sxs-lookup"><span data-stu-id="146ca-140">12</span></span> |<span data-ttu-id="146ca-141">12</span><span class="sxs-lookup"><span data-stu-id="146ca-141">12</span></span> |<span data-ttu-id="146ca-142">12</span><span class="sxs-lookup"><span data-stu-id="146ca-142">12</span></span> |
| <span data-ttu-id="146ca-143">Maksymalna partycji dla usługi</span><span class="sxs-lookup"><span data-stu-id="146ca-143">Maximum Partitions per Service</span></span> |<span data-ttu-id="146ca-144">1</span><span class="sxs-lookup"><span data-stu-id="146ca-144">1</span></span> |<span data-ttu-id="146ca-145">12</span><span class="sxs-lookup"><span data-stu-id="146ca-145">12</span></span> |<span data-ttu-id="146ca-146">12</span><span class="sxs-lookup"><span data-stu-id="146ca-146">12</span></span> |<span data-ttu-id="146ca-147">12</span><span class="sxs-lookup"><span data-stu-id="146ca-147">12</span></span> |<span data-ttu-id="146ca-148">1</span><span class="sxs-lookup"><span data-stu-id="146ca-148">1</span></span> |
| <span data-ttu-id="146ca-149">Jednostek wyszukiwania maksymalną (replik * partycje) dla usługi</span><span class="sxs-lookup"><span data-stu-id="146ca-149">Maximum Search Units (Replicas*Partitions) per Service</span></span> |<span data-ttu-id="146ca-150">3</span><span class="sxs-lookup"><span data-stu-id="146ca-150">3</span></span> |<span data-ttu-id="146ca-151">36</span><span class="sxs-lookup"><span data-stu-id="146ca-151">36</span></span> |<span data-ttu-id="146ca-152">36</span><span class="sxs-lookup"><span data-stu-id="146ca-152">36</span></span> |<span data-ttu-id="146ca-153">36</span><span class="sxs-lookup"><span data-stu-id="146ca-153">36</span></span> |<span data-ttu-id="146ca-154">36 (max partycji 3)</span><span class="sxs-lookup"><span data-stu-id="146ca-154">36 (max 3 partitions)</span></span> |
| <span data-ttu-id="146ca-155">Maksymalna dokumentów dla usługi</span><span class="sxs-lookup"><span data-stu-id="146ca-155">Maximum Documents per Service</span></span> |<span data-ttu-id="146ca-156">1 mln</span><span class="sxs-lookup"><span data-stu-id="146ca-156">1 million</span></span> |<span data-ttu-id="146ca-157">180 milionów</span><span class="sxs-lookup"><span data-stu-id="146ca-157">180 million</span></span> |<span data-ttu-id="146ca-158">720 milionów</span><span class="sxs-lookup"><span data-stu-id="146ca-158">720 million</span></span> |<span data-ttu-id="146ca-159">1.4 mld</span><span class="sxs-lookup"><span data-stu-id="146ca-159">1.4 billion</span></span> |<span data-ttu-id="146ca-160">600 mln</span><span class="sxs-lookup"><span data-stu-id="146ca-160">600 million</span></span> |
| <span data-ttu-id="146ca-161">Maksymalna przestrzeń magazynowa dla usługi</span><span class="sxs-lookup"><span data-stu-id="146ca-161">Maximum Storage per Service</span></span> |<span data-ttu-id="146ca-162">2 GB</span><span class="sxs-lookup"><span data-stu-id="146ca-162">2 GB</span></span> |<span data-ttu-id="146ca-163">300 GB</span><span class="sxs-lookup"><span data-stu-id="146ca-163">300 GB</span></span> |<span data-ttu-id="146ca-164">1,2 TB</span><span class="sxs-lookup"><span data-stu-id="146ca-164">1.2 TB</span></span> |<span data-ttu-id="146ca-165">2,4 TB</span><span class="sxs-lookup"><span data-stu-id="146ca-165">2.4 TB</span></span> |<span data-ttu-id="146ca-166">600 GB</span><span class="sxs-lookup"><span data-stu-id="146ca-166">600 GB</span></span> |
| <span data-ttu-id="146ca-167">Maksymalna dokumentów na partycję</span><span class="sxs-lookup"><span data-stu-id="146ca-167">Maximum Documents per Partition</span></span> |<span data-ttu-id="146ca-168">1 mln</span><span class="sxs-lookup"><span data-stu-id="146ca-168">1 million</span></span> |<span data-ttu-id="146ca-169">15 milionów</span><span class="sxs-lookup"><span data-stu-id="146ca-169">15 million</span></span> |<span data-ttu-id="146ca-170">60 milionów</span><span class="sxs-lookup"><span data-stu-id="146ca-170">60 million</span></span> |<span data-ttu-id="146ca-171">120 milionów</span><span class="sxs-lookup"><span data-stu-id="146ca-171">120 million</span></span> |<span data-ttu-id="146ca-172">200 milionów</span><span class="sxs-lookup"><span data-stu-id="146ca-172">200 million</span></span> |
| <span data-ttu-id="146ca-173">Maksymalna przestrzeń magazynowa dla każdej partycji</span><span class="sxs-lookup"><span data-stu-id="146ca-173">Maximum Storage per Partition</span></span> |<span data-ttu-id="146ca-174">2 GB</span><span class="sxs-lookup"><span data-stu-id="146ca-174">2 GB</span></span> |<span data-ttu-id="146ca-175">25 GB</span><span class="sxs-lookup"><span data-stu-id="146ca-175">25 GB</span></span> |<span data-ttu-id="146ca-176">100 GB</span><span class="sxs-lookup"><span data-stu-id="146ca-176">100 GB</span></span> |<span data-ttu-id="146ca-177">200 GB</span><span class="sxs-lookup"><span data-stu-id="146ca-177">200 GB</span></span> |<span data-ttu-id="146ca-178">200 GB</span><span class="sxs-lookup"><span data-stu-id="146ca-178">200 GB</span></span> |
| <span data-ttu-id="146ca-179">Maksymalna indeksów dla usługi</span><span class="sxs-lookup"><span data-stu-id="146ca-179">Maximum Indexes per Service</span></span> |<span data-ttu-id="146ca-180">5</span><span class="sxs-lookup"><span data-stu-id="146ca-180">5</span></span> |<span data-ttu-id="146ca-181">50</span><span class="sxs-lookup"><span data-stu-id="146ca-181">50</span></span> |<span data-ttu-id="146ca-182">200</span><span class="sxs-lookup"><span data-stu-id="146ca-182">200</span></span> |<span data-ttu-id="146ca-183">200</span><span class="sxs-lookup"><span data-stu-id="146ca-183">200</span></span> |<span data-ttu-id="146ca-184">3000 (max 1000 indeksów/partycji)</span><span class="sxs-lookup"><span data-stu-id="146ca-184">3000 (max 1000 indexes/partition)</span></span> |

#### <a name="s3-high-density"></a><span data-ttu-id="146ca-185">S3 o wysokiej gęstości "</span><span class="sxs-lookup"><span data-stu-id="146ca-185">S3 High Density'</span></span>
<span data-ttu-id="146ca-186">W usłudze Azure Search S3 warstwę cenową istnieje opcja trybu wysokiej gęstości (HD) hello zaprojektowane specjalnie dla scenariuszy wielodostępnym.</span><span class="sxs-lookup"><span data-stu-id="146ca-186">In Azure Search’s S3 pricing tier, there is an option for hello High Density (HD) mode designed specifically for multitenant scenarios.</span></span> <span data-ttu-id="146ca-187">W wielu przypadkach jest konieczne toosupport dużą liczbą mniejszą dzierżaw w jednej usługi tooachieve hello zalet prostotę i koszt wydajności.</span><span class="sxs-lookup"><span data-stu-id="146ca-187">In many cases, it is necessary toosupport a large number of smaller tenants under a single service tooachieve hello benefits of simplicity and cost efficiency.</span></span>

<span data-ttu-id="146ca-188">S3 HD umożliwia hello wiele indeksów małych toobe pakowane w obszarze Zarządzanie hello usługi wyszukiwania pojedynczego przez handlowymi tooscale możliwości hello limit indeksów przy partycje toohost możliwości hello więcej indeksów w jednej usługi.</span><span class="sxs-lookup"><span data-stu-id="146ca-188">S3 HD allows for hello many small indexes toobe packed under hello management of a single search service by trading hello ability tooscale out indexes using partitions for hello ability toohost more indexes in a single service.</span></span>

<span data-ttu-id="146ca-189">Konkretnie usługa S3 może mieć od 1 do 200 indeksów, które razem może udostępniać too1.4 miliarda dokumentów.</span><span class="sxs-lookup"><span data-stu-id="146ca-189">Concretely, an S3 service could have between 1 and 200 indexes that together could host up too1.4 billion documents.</span></span> <span data-ttu-id="146ca-190">HD S3 hello drugiej umożliwiałyby tooonly poszczególnych indeksów Przejdź too1 milionów dokumentów, ale może obsłużyć się too1000 indeksów dla partycji (w górę too3000 poszczególnych usług) wraz z liczbą całkowitą dokumentu 200 milionów dla każdej partycji (się too600 milionów usługi).</span><span class="sxs-lookup"><span data-stu-id="146ca-190">An S3 HD on hello other hand would allow individual indexes tooonly go up too1 million documents, but it can handle up too1000 indexes per partition (up too3000 per service) with a total document count of 200 million per partition (up too600 million per service).</span></span>

## <a name="considerations-for-multitenant-applications"></a><span data-ttu-id="146ca-191">Zagadnienia dotyczące aplikacji wielodostępnego</span><span class="sxs-lookup"><span data-stu-id="146ca-191">Considerations for multitenant applications</span></span>
<span data-ttu-id="146ca-192">Aplikacje wielodostępne musi efektywnie dystrybuuje zasobów między dzierżawcami hello przy zachowaniu pewnego poziomu prywatności między hello różnych dzierżaw.</span><span class="sxs-lookup"><span data-stu-id="146ca-192">Multitenant applications must effectively distribute resources among hello tenants while preserving some level of privacy between hello various tenants.</span></span> <span data-ttu-id="146ca-193">Istnieje kilka zagadnień podczas projektowania architektury powitania dla takich aplikacji:</span><span class="sxs-lookup"><span data-stu-id="146ca-193">There are a few considerations when designing hello architecture for such an application:</span></span>

* <span data-ttu-id="146ca-194">*Odizolowania dzierżawców:* deweloperzy aplikacji muszą tootake odpowiednie środki tooensure czy dzierżawcy nie mają nieautoryzowane lub niechcianego dostępu do danych toohello innych dzierżawców.</span><span class="sxs-lookup"><span data-stu-id="146ca-194">*Tenant isolation:* Application developers need tootake appropriate measures tooensure that no tenants have unauthorized or unwanted access toohello data of other tenants.</span></span> <span data-ttu-id="146ca-195">Poza perspektywy hello prywatność danych strategii izolacji dzierżawcy wymagają efektywne zarządzanie udostępnionymi zasobami oraz ochrony przed zakłócenia sąsiadów.</span><span class="sxs-lookup"><span data-stu-id="146ca-195">Beyond hello perspective of data privacy, tenant isolation strategies require effective management of shared resources and protection from noisy neighbors.</span></span>
* <span data-ttu-id="146ca-196">*Koszt zasobów w chmurze:* zgodnie z innej aplikacji, rozwiązania w zakresie oprogramowania muszą pozostać koszt konkurencyjnych jako składnik wielodostępnych aplikacji.</span><span class="sxs-lookup"><span data-stu-id="146ca-196">*Cloud resource cost:* As with any other application, software solutions must remain cost competitive as a component of a multitenant application.</span></span>
* <span data-ttu-id="146ca-197">*Łatwość operacji:* podczas opracowywania architektura wielodostępnej, hello wpływ na operacje aplikacji hello i ważną kwestią jest złożoności.</span><span class="sxs-lookup"><span data-stu-id="146ca-197">*Ease of Operations:* When developing a multitenant architecture, hello impact on hello application's operations and complexity is an important consideration.</span></span> <span data-ttu-id="146ca-198">Usługa wyszukiwanie Azure ma [SLA 99,9%](https://azure.microsoft.com/support/legal/sla/search/v1_0/).</span><span class="sxs-lookup"><span data-stu-id="146ca-198">Azure Search has a [99.9% SLA](https://azure.microsoft.com/support/legal/sla/search/v1_0/).</span></span>
* <span data-ttu-id="146ca-199">*Globalne zużycie:* wielodostępnych aplikacji może być konieczne tooeffectively służą dzierżawcami, które są rozproszone na Witaj świecie.</span><span class="sxs-lookup"><span data-stu-id="146ca-199">*Global footprint:* Multitenant applications may need tooeffectively serve tenants which are distributed across hello globe.</span></span>
* <span data-ttu-id="146ca-200">*Skalowalność:* deweloperzy aplikacji muszą tooconsider jak uzgodnienia między utrzymanie wystarczająco niski poziom złożoności aplikacji i projektowania tooscale aplikacji hello z liczby dzierżawców i hello rozmiar danych dzierżawców i Obciążenie pracą.</span><span class="sxs-lookup"><span data-stu-id="146ca-200">*Scalability:* Application developers need tooconsider how they reconcile between maintaining a sufficiently low level of application complexity and designing hello application tooscale with number of tenants and hello size of tenants' data and workload.</span></span>

<span data-ttu-id="146ca-201">Usługa Azure Search udostępnia kilka granice, które mogą być dzierżaw tooisolate używanych danych i obciążenia.</span><span class="sxs-lookup"><span data-stu-id="146ca-201">Azure Search offers a few boundaries that can be used tooisolate tenants’ data and workload.</span></span>

## <a name="modeling-multitenancy-with-azure-search"></a><span data-ttu-id="146ca-202">Obsługa wielu podmiotów modelowania z usługi Azure Search</span><span class="sxs-lookup"><span data-stu-id="146ca-202">Modeling multitenancy with Azure Search</span></span>
<span data-ttu-id="146ca-203">W przypadku hello scenariusza wielodostępnym Deweloper aplikacji hello zużywa co najmniej jednej usługi wyszukiwania i dzielenia dzierżawcom między usługi i/lub indeksy.</span><span class="sxs-lookup"><span data-stu-id="146ca-203">In hello case of a multitenant scenario, hello application developer consumes one or more search services and divide their tenants among services, indexes, or both.</span></span> <span data-ttu-id="146ca-204">Usługa wyszukiwanie Azure ma kilka typowych wzorców podczas modelowania wielodostępnym scenariusza:</span><span class="sxs-lookup"><span data-stu-id="146ca-204">Azure Search has a few common patterns when modeling a multitenant scenario:</span></span>

1. <span data-ttu-id="146ca-205">*Indeks dla poszczególnych dzierżawców:* każdy dzierżawca ma własnych indeksu w usłudze wyszukiwania, która jest współdzielony z innymi dzierżawcami.</span><span class="sxs-lookup"><span data-stu-id="146ca-205">*Index per tenant:* Each tenant has its own index within a search service that is shared with other tenants.</span></span>
2. <span data-ttu-id="146ca-206">*Usługi dla poszczególnych dzierżawców:* poszczególne dzierżawy zawierają własne dedykowane usługi Azure Search oferty najwyższy poziom separacji danych i jego obciążenie.</span><span class="sxs-lookup"><span data-stu-id="146ca-206">*Service per tenant:* Each tenant has its own dedicated Azure Search service, offering highest level of data and workload separation.</span></span>
3. <span data-ttu-id="146ca-207">*Kombinacja obu:* większych i bardziej aktywny dzierżawcy przypisano dedykowanych usług podczas mniejszych dzierżaw są przypisane poszczególnych indeksy w ramach usług udostępnionych.</span><span class="sxs-lookup"><span data-stu-id="146ca-207">*Mix of both:* Larger, more-active tenants are assigned dedicated services while smaller tenants are assigned individual indexes within shared services.</span></span>

## <a name="1-index-per-tenant"></a><span data-ttu-id="146ca-208">1. Indeks dla każdego dzierżawcy</span><span class="sxs-lookup"><span data-stu-id="146ca-208">1. Index per tenant</span></span>
![Wizerunku hello indeksu na dzierżawy modelu](./media/search-modeling-multitenant-saas-applications/azure-search-index-per-tenant.png)

<span data-ttu-id="146ca-210">W modelu indeksu na dzierżawy wielu dzierżawców zajmują jednej usługi Azure Search gdzie każdy dzierżawca ma własnych indeksu.</span><span class="sxs-lookup"><span data-stu-id="146ca-210">In an index-per-tenant model, multiple tenants occupy a single Azure Search service where each tenant has their own index.</span></span>

<span data-ttu-id="146ca-211">Dzierżawcy osiągnąć izolacji danych, ponieważ wszystkie żądania wyszukiwania, a operacje dokumentu są wydawane na poziomie indeksu w usłudze Azure Search.</span><span class="sxs-lookup"><span data-stu-id="146ca-211">Tenants achieve data isolation because all search requests and document operations are issued at an index level in Azure Search.</span></span> <span data-ttu-id="146ca-212">W warstwie aplikacji hello Brak świadomości potrzeby hello toodirect hello różnych dzierżaw ruchu toohello odpowiednie indeksy podczas również zarządzanie zasobami na poziomie usługi hello wszystkich dzierżawców.</span><span class="sxs-lookup"><span data-stu-id="146ca-212">In hello application layer, there is hello need awareness toodirect hello various tenants’ traffic toohello proper indexes while also managing resources at hello service level across all tenants.</span></span>

<span data-ttu-id="146ca-213">Atrybutu klucza w modelu indeksu na dzierżawy hello jest zdolność hello pojemności dewelopera aplikacji hello hello toooversubscribe między aplikacji hello dzierżaw usługi wyszukiwania.</span><span class="sxs-lookup"><span data-stu-id="146ca-213">A key attribute of hello index-per-tenant model is hello ability for hello application developer toooversubscribe hello capacity of a search service among hello application’s tenants.</span></span> <span data-ttu-id="146ca-214">Jeśli hello dzierżawy mają nierówny rozkład obciążenia, hello optymalnego połączenia dzierżawcy mogą być rozproszone na usługi wyszukiwania indeksowania tooaccommodate liczba wysokiej dzierżaw aktywnych, użyciem zasobów jednocześnie służąc długi koniec mniej aktywne dzierżawcy.</span><span class="sxs-lookup"><span data-stu-id="146ca-214">If hello tenants have an uneven distribution of workload, hello optimal combination of tenants can be distributed across a search service’s indexes tooaccommodate a number of highly active, resource-intensive tenants while simultaneously serving a long tail of less active tenants.</span></span> <span data-ttu-id="146ca-215">rozwiązanie Hello jest brakiem hello hello modelu toohandle sytuacje, w której poszczególne dzierżawy jest jednocześnie wysokiej aktywna.</span><span class="sxs-lookup"><span data-stu-id="146ca-215">hello trade-off is hello inability of hello model toohandle situations where each tenant is concurrently highly active.</span></span>

<span data-ttu-id="146ca-216">model indeksu na dzierżawy Hello stanowi podstawę hello modelu koszt zmiennej, gdzie są kupowane ponoszonych z góry całej usługi Azure Search, a następnie wypełnione z dzierżawcami.</span><span class="sxs-lookup"><span data-stu-id="146ca-216">hello index-per-tenant model provides hello basis for a variable cost model, where an entire Azure Search service is bought up-front and then subsequently filled with tenants.</span></span> <span data-ttu-id="146ca-217">Dzięki temu wyznaczony prób i konta bezpłatne toobe nieużywane miejsce.</span><span class="sxs-lookup"><span data-stu-id="146ca-217">This allows for unused capacity toobe designated for trials and free accounts.</span></span>

<span data-ttu-id="146ca-218">Dla aplikacji z globalnego wpływ hello indeksu na dzierżawy modelu nie może być najbardziej efektywne hello.</span><span class="sxs-lookup"><span data-stu-id="146ca-218">For applications with a global footprint, hello index-per-tenant model may not be hello most efficient.</span></span> <span data-ttu-id="146ca-219">Jeśli dzierżawcy aplikacji są rozproszone na Witaj świecie, oddzielne usługi może być konieczne dla każdego regionu, w którym mogą Zduplikuj kosztów na każdej z nich.</span><span class="sxs-lookup"><span data-stu-id="146ca-219">If an application's tenants are distributed across hello globe, a separate service may be necessary for each region which may duplicate costs across each of them.</span></span>

<span data-ttu-id="146ca-220">Usługa wyszukiwanie Azure umożliwia skali hello hello poszczególnych indeksy i hello łączna liczba indeksów toogrow.</span><span class="sxs-lookup"><span data-stu-id="146ca-220">Azure Search allows for hello scale of both hello individual indexes and hello total number of indexes toogrow.</span></span> <span data-ttu-id="146ca-221">Jeśli odpowiednie ceny warstwy wybrano, partycji i replik można dodać toohello całego wyszukiwania usługi podczas konkretnego indeksu w usłudze hello zbytnio się rozrośnie pod względem ruchu lub magazynu.</span><span class="sxs-lookup"><span data-stu-id="146ca-221">If an appropriate pricing tier is chosen, partitions and replicas can be added toohello entire search service when an individual index within hello service grows too large in terms of storage or traffic.</span></span>

<span data-ttu-id="146ca-222">Jeśli łączna liczba indeksów hello zbytnio się rozrośnie dla jednej usługi, innej usługi ma tooaccommodate toobe elastycznie hello nowi dzierżawcy.</span><span class="sxs-lookup"><span data-stu-id="146ca-222">If hello total number of indexes grows too large for a single service, another service has toobe provisioned tooaccommodate hello new tenants.</span></span> <span data-ttu-id="146ca-223">Jeśli indeksy toobe przenosić między usługi wyszukiwania w miarę dodawania nowych usług, danych powitania od indeksu hello ma toobe ręcznie skopiowane z jednego indeksu toohello innych zgodnie z usługi Azure Search nie zezwala na toobe indeksu przeniesiony.</span><span class="sxs-lookup"><span data-stu-id="146ca-223">If indexes have toobe moved between search services as new services are added, hello data from hello index has toobe manually copied from one index toohello other as Azure Search does not allow for an index toobe moved.</span></span>

## <a name="2-service-per-tenant"></a><span data-ttu-id="146ca-224">2. Usługi dla poszczególnych dzierżawców</span><span class="sxs-lookup"><span data-stu-id="146ca-224">2. Service per tenant</span></span>
![Wizerunku hello modelu usług dla dzierżawców](./media/search-modeling-multitenant-saas-applications/azure-search-service-per-tenant.png)

<span data-ttu-id="146ca-226">W architekturze usługi na dzierżawy każdy dzierżawca ma własną usługę wyszukiwania.</span><span class="sxs-lookup"><span data-stu-id="146ca-226">In a service-per-tenant architecture, each tenant has its own search service.</span></span>

<span data-ttu-id="146ca-227">W tym modelu aplikacji hello osiąga hello maksymalny poziom izolacji dla swoich dzierżaw.</span><span class="sxs-lookup"><span data-stu-id="146ca-227">In this model, hello application achieves hello maximum level of isolation for its tenants.</span></span> <span data-ttu-id="146ca-228">Każda usługa ma dedykowany Magazyn oraz przepustowość do obsługi żądania wyszukiwania, a także osobne klucze interfejsu API.</span><span class="sxs-lookup"><span data-stu-id="146ca-228">Each service has dedicated storage and throughput for handling search request as well as separate API keys.</span></span>

<span data-ttu-id="146ca-229">Dla aplikacji, w której poszczególne dzierżawy zawierają duże zużycie lub hello obciążenie ma mało zmienności z tootenant dzierżawy modelu usług dla dzierżawy hello jest rzeczywistą możliwość wyboru zasobów nie są współdzielone przez różnych dzierżaw obciążeń.</span><span class="sxs-lookup"><span data-stu-id="146ca-229">For applications where each tenant has a large footprint or hello workload has little variability from tenant tootenant, hello service-per-tenant model is an effective choice as resources are not shared across various tenants’ workloads.</span></span>

<span data-ttu-id="146ca-230">Usługa na modelu dzierżawy oferuje również korzyści hello modelu koszt przewidywalne, stały.</span><span class="sxs-lookup"><span data-stu-id="146ca-230">A service per tenant model also offers hello benefit of a predictable, fixed cost model.</span></span> <span data-ttu-id="146ca-231">Nie jest brak początkowych inwestycji w usłudze całego wyszukiwania do momentu toofill dzierżawy, jednak hello koszt na dzierżawy jest wyższy niż model indeksu dla dzierżawy.</span><span class="sxs-lookup"><span data-stu-id="146ca-231">There is no up-front investment in an entire search service until there is a tenant toofill it, however hello cost-per-tenant is higher than an index-per-tenant model.</span></span>

<span data-ttu-id="146ca-232">model usługi dla dzierżawy Hello jest wydajne wybór dla aplikacji z globalnego zużycie.</span><span class="sxs-lookup"><span data-stu-id="146ca-232">hello service-per-tenant model is an efficient choice for applications with a global footprint.</span></span> <span data-ttu-id="146ca-233">Dzierżawcom rozproszonej geograficznie, usługa ta jest łatwe toohave każdego dzierżawcy w hello odpowiedniego regionu.</span><span class="sxs-lookup"><span data-stu-id="146ca-233">With geographically-distributed tenants, it is easy toohave each tenant's service in hello appropriate region.</span></span>

<span data-ttu-id="146ca-234">wyzwania Hello skalowania tego wzorca wystąpić, gdy poszczególnych dzierżaw pokonać usługi.</span><span class="sxs-lookup"><span data-stu-id="146ca-234">hello challenges in scaling this pattern arise when individual tenants outgrow their service.</span></span> <span data-ttu-id="146ca-235">Usługa Azure Search nie obsługuje obecnie uaktualnianie hello cenowym usługi wyszukiwania, dlatego wszystkie dane byłyby toobe ręcznie skopiowane tooa nowej usługi.</span><span class="sxs-lookup"><span data-stu-id="146ca-235">Azure Search does not currently support upgrading hello pricing tier of a search service, so all data would have toobe manually copied tooa new service.</span></span>

## <a name="3-mixing-both-models"></a><span data-ttu-id="146ca-236">3. Mieszanie obu modeli</span><span class="sxs-lookup"><span data-stu-id="146ca-236">3. Mixing both models</span></span>
<span data-ttu-id="146ca-237">Wzorzec innego modelowania wielodostępności jest mieszanie strategii zarówno indeksu na dzierżawy i usług na dzierżawy.</span><span class="sxs-lookup"><span data-stu-id="146ca-237">Another pattern for modeling multitenancy is mixing both index-per-tenant and service-per-tenant strategies.</span></span>

<span data-ttu-id="146ca-238">Przez mieszanie hello dwa wzorce, dzierżaw największy aplikacji może być dedykowany usług podczas hello długo tail z mniej dzierżaw aktywnych, mniejsze może zajmować indeksów w udostępnionej usłudze.</span><span class="sxs-lookup"><span data-stu-id="146ca-238">By mixing hello two patterns, an application's largest tenants can occupy dedicated services while hello long tail of less active, smaller tenants can occupy indexes in a shared service.</span></span> <span data-ttu-id="146ca-239">Ten model gwarantuje, że największy dzierżaw hello spójnie wysokiej wydajności z usługi hello jednocześnie dbając o tooprotect hello mniejszych dzierżaw z dowolnym zakłócenia sąsiadów.</span><span class="sxs-lookup"><span data-stu-id="146ca-239">This model ensures that hello largest tenants have consistently high performance from hello service while helping tooprotect hello smaller tenants from any noisy neighbors.</span></span>

<span data-ttu-id="146ca-240">Jednak implementacja tej strategii polega prognozowania w przewidywania dzierżawcami, które wymaga dedykowanego usługę indeksu w usług udostępnionych.</span><span class="sxs-lookup"><span data-stu-id="146ca-240">However, implementing this strategy relies foresight in predicting which tenants will require a dedicated service versus an index in a shared service.</span></span> <span data-ttu-id="146ca-241">Złożoność aplikacji zwiększa się wraz z hello potrzeby toomanage obu tych modeli wielodostępności.</span><span class="sxs-lookup"><span data-stu-id="146ca-241">Application complexity increases with hello need toomanage both of these multitenancy models.</span></span>

## <a name="achieving-even-finer-granularity"></a><span data-ttu-id="146ca-242">Obsługiwanie jeszcze bardziej szczegółowy</span><span class="sxs-lookup"><span data-stu-id="146ca-242">Achieving even finer granularity</span></span>
<span data-ttu-id="146ca-243">Witaj powyżej scenariuszy wielodostępnym toomodel wzorce projektowania w usłudze Azure Search założono uniform zakresu, w której poszczególne dzierżawy jest całego wystąpienia aplikacji.</span><span class="sxs-lookup"><span data-stu-id="146ca-243">hello above design patterns toomodel multitenant scenarios in Azure Search assume a uniform scope where each tenant is a whole instance of an application.</span></span> <span data-ttu-id="146ca-244">Jednak aplikacje czasami może obsługiwać wiele zakresów mniejsze.</span><span class="sxs-lookup"><span data-stu-id="146ca-244">However, applications can sometimes handle many smaller scopes.</span></span>

<span data-ttu-id="146ca-245">Jeśli dzierżawa na usługi i indeksu na dzierżawy modele nie są wystarczająco małych zakresów, jest możliwe toomodel tooachieve indeksu jeszcze bardziej precyzyjną stopień szczegółowości.</span><span class="sxs-lookup"><span data-stu-id="146ca-245">If service-per-tenant and index-per-tenant models are not sufficiently small scopes, it is possible toomodel an index tooachieve an even finer degree of granularity.</span></span>

<span data-ttu-id="146ca-246">toohave jeden indeks zachowywać się inaczej dla różnych klientów punktów końcowych, pola może być dodany tooan indeksu, który wyznacza wartość dla każdego klienta możliwe.</span><span class="sxs-lookup"><span data-stu-id="146ca-246">toohave a single index behave differently for different client endpoints, a field can be added tooan index which designates a certain value for each possible client.</span></span> <span data-ttu-id="146ca-247">Zawsze, klient wywołuje tooquery usługi Azure Search lub zmodyfikuj indeks, hello kod z aplikacji klienckiej hello określa hello odpowiednią wartość dla tego pola przy użyciu usługi Azure Search [filtru](https://msdn.microsoft.com/library/azure/dn798921.aspx) możliwości podczas przeszukiwania.</span><span class="sxs-lookup"><span data-stu-id="146ca-247">Each time a client calls Azure Search tooquery or modify an index, hello code from hello client application specifies hello appropriate value for that field using Azure Search's [filter](https://msdn.microsoft.com/library/azure/dn798921.aspx) capability at query time.</span></span>

<span data-ttu-id="146ca-248">Ta metoda może być używane tooachieve funkcjonalność oddzielnych kont użytkowników, poziomy uprawnień oddzielne i nawet osobny aplikacji.</span><span class="sxs-lookup"><span data-stu-id="146ca-248">This method can be used tooachieve functionality of separate user accounts, separate permission levels, and even completely separate applications.</span></span>

> [!NOTE]
> <span data-ttu-id="146ca-249">Podejście hello opisany powyżej tooconfigure tooserve indeks wiele dzierżaw wpływa na powitania znaczenie wyników wyszukiwania.</span><span class="sxs-lookup"><span data-stu-id="146ca-249">Using hello approach described above tooconfigure a single index tooserve multiple tenants affects hello relevance of search results.</span></span> <span data-ttu-id="146ca-250">Znaczenie w wyszukiwaniu są obliczane w zakresie poziomu indeksu, a nie zakresu poziomie dzierżawy, więc dzierżawcy wszystkich danych oceny przydatności hello podstawowej statystyk, takich jak częstotliwość termin jest włączona.</span><span class="sxs-lookup"><span data-stu-id="146ca-250">Search relevance scores are computed at an index-level scope, not a tenant-level scope, so all tenants' data is incorporated in hello relevance scores' underlying statistics such as term frequency.</span></span>
> 
> 

## <a name="next-steps"></a><span data-ttu-id="146ca-251">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="146ca-251">Next steps</span></span>
<span data-ttu-id="146ca-252">Usługa Azure Search jest atrakcyjnych wybór dla wielu aplikacji [Dowiedz się więcej o możliwości przeprowadzania hello usługi](http://aka.ms/whatisazsearch).</span><span class="sxs-lookup"><span data-stu-id="146ca-252">Azure Search is a compelling choice for many applications, [read more about hello service's robust capabilities](http://aka.ms/whatisazsearch).</span></span> <span data-ttu-id="146ca-253">Podczas obliczania hello różnych projektu wzorce dla wielodostępnych aplikacji, należy wziąć pod uwagę hello [różnych warstw cenowych](https://azure.microsoft.com/pricing/details/search/) i hello odpowiednich [usługi limity](search-limits-quotas-capacity.md) toobest dostosować toofit usługi Azure Search obciążeń aplikacji i architektur różnej wielkości.</span><span class="sxs-lookup"><span data-stu-id="146ca-253">When evaluating hello various design patterns for multitenant applications, consider hello [various pricing tiers](https://azure.microsoft.com/pricing/details/search/) and hello respective [service limits](search-limits-quotas-capacity.md) toobest tailor Azure Search toofit application workloads and architectures of all sizes.</span></span>

<span data-ttu-id="146ca-254">Pytania dotyczące usługi Azure Search i scenariusze wielodostępnym może zostać skierowany tooazuresearch_contact@microsoft.com.</span><span class="sxs-lookup"><span data-stu-id="146ca-254">Any questions about Azure Search and multitenant scenarios can be directed tooazuresearch_contact@microsoft.com.</span></span>

