---
title: "aaaAuthentication scenariusze dla usługi Azure AD | Dokumentacja firmy Microsoft"
description: "Omówienie hello 5 najbardziej typowych scenariuszy uwierzytelniania dla usługi Azure Active Directory (AAD)"
services: active-directory
documentationcenter: dev-center-name
author: skwan
manager: mbaldwin
editor: 
ms.assetid: 0c84e7d0-16aa-4897-82f2-f53c6c990fd9
ms.service: active-directory
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: identity
ms.date: 04/27/2017
ms.author: skwan
ms.custom: aaddev
ms.openlocfilehash: 5b391e3f096fcb52934c4a8aff08688352bfd3dc
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="authentication-scenarios-for-azure-ad"></a><span data-ttu-id="deb1c-103">Scenariusze uwierzytelniania dla usługi Azure AD</span><span class="sxs-lookup"><span data-stu-id="deb1c-103">Authentication Scenarios for Azure AD</span></span>
<span data-ttu-id="deb1c-104">Azure Active Directory (Azure AD) ułatwia uwierzytelniania dla deweloperów, zapewniając tożsamości jako usługa, z obsługą, dla standardowych protokołów, takich jak OAuth 2.0 i OpenID Connect, a także biblioteki typu open source dla różnych platform toohelp możesz programować szybko.</span><span class="sxs-lookup"><span data-stu-id="deb1c-104">Azure Active Directory (Azure AD) simplifies authentication for developers by providing identity as a service, with support for industry-standard protocols such as OAuth 2.0 and OpenID Connect, as well as open source libraries for different platforms toohelp you start coding quickly.</span></span> <span data-ttu-id="deb1c-105">Ten dokument pomaga zrozumieć hello różnych scenariuszy usługi Azure AD obsługuje i opisano sposób uruchamiania tooget.</span><span class="sxs-lookup"><span data-stu-id="deb1c-105">This document will help you understand hello various scenarios Azure AD supports and will show you how tooget started.</span></span> <span data-ttu-id="deb1c-106">Scenariusz jest podzielony na powitania następujące sekcje:</span><span class="sxs-lookup"><span data-stu-id="deb1c-106">It’s divided into hello following sections:</span></span>

* [<span data-ttu-id="deb1c-107">Podstawy uwierzytelniania w usłudze Azure AD</span><span class="sxs-lookup"><span data-stu-id="deb1c-107">Basics of Authentication in Azure AD</span></span>](#basics-of-authentication-in-azure-ad)
* [<span data-ttu-id="deb1c-108">Oświadczenia w tokenach zabezpieczających usługi Azure AD</span><span class="sxs-lookup"><span data-stu-id="deb1c-108">Claims in Azure AD Security Tokens</span></span>](#claims-in-azure-ad-security-tokens)
* [<span data-ttu-id="deb1c-109">Podstawowe informacje dotyczące rejestrowania aplikacji w usłudze Azure AD</span><span class="sxs-lookup"><span data-stu-id="deb1c-109">Basics of Registering an Application in Azure AD</span></span>](#basics-of-registering-an-application-in-azure-ad)
* [<span data-ttu-id="deb1c-110">Typy aplikacji i scenariusze</span><span class="sxs-lookup"><span data-stu-id="deb1c-110">Application Types and Scenarios</span></span>](#application-types-and-scenarios)
  
  * [<span data-ttu-id="deb1c-111">TooWeb przeglądarki sieci Web aplikacji</span><span class="sxs-lookup"><span data-stu-id="deb1c-111">Web Browser tooWeb Application</span></span>](#web-browser-to-web-application)
  * [<span data-ttu-id="deb1c-112">Jednostronicowej aplikacji JEDNOSTRONICOWEJ</span><span class="sxs-lookup"><span data-stu-id="deb1c-112">Single Page Application (SPA)</span></span>](#single-page-application-spa)
  * [<span data-ttu-id="deb1c-113">Natywny tooWeb aplikacji interfejsu API</span><span class="sxs-lookup"><span data-stu-id="deb1c-113">Native Application tooWeb API</span></span>](#native-application-to-web-api)
  * [<span data-ttu-id="deb1c-114">TooWeb aplikacji sieci Web interfejsu API</span><span class="sxs-lookup"><span data-stu-id="deb1c-114">Web Application tooWeb API</span></span>](#web-application-to-web-api)
  * [<span data-ttu-id="deb1c-115">TooWeb demon lub serwera aplikacji interfejsu API</span><span class="sxs-lookup"><span data-stu-id="deb1c-115">Daemon or Server Application tooWeb API</span></span>](#daemon-or-server-application-to-web-api)

## <a name="basics-of-authentication-in-azure-ad"></a><span data-ttu-id="deb1c-116">Podstawy uwierzytelniania w usłudze Azure AD</span><span class="sxs-lookup"><span data-stu-id="deb1c-116">Basics of Authentication in Azure AD</span></span>
<span data-ttu-id="deb1c-117">Jeśli znasz podstawowe koncepcje uwierzytelniania w usłudze Azure AD, do odczytu w tej sekcji.</span><span class="sxs-lookup"><span data-stu-id="deb1c-117">If you are unfamiliar with basic concepts of authentication in Azure AD, read this section.</span></span> <span data-ttu-id="deb1c-118">W przeciwnym razie możesz tooskip dół za[typy aplikacji i scenariusze](#application-types-and-scenarios).</span><span class="sxs-lookup"><span data-stu-id="deb1c-118">Otherwise, you may want tooskip down too[Application Types and Scenarios](#application-types-and-scenarios).</span></span>

<span data-ttu-id="deb1c-119">Teraz Rozważmy scenariusz najbardziej podstawowa hello, gdy wymagana jest tożsamość: aplikacja sieci web tooa tooauthenticate musi użytkownika w przeglądarce sieci web.</span><span class="sxs-lookup"><span data-stu-id="deb1c-119">Let’s consider hello most basic scenario where identity is required: a user in a web browser needs tooauthenticate tooa web application.</span></span> <span data-ttu-id="deb1c-120">Ten scenariusz jest opisany bardziej szczegółowo na powitania [tooWeb przeglądarki sieci Web aplikacji](#web-browser-to-web-application) sekcji, ale jego przydatne tooillustrate punkt początkowy hello możliwości usługi Azure AD i conceptualize, jak działa hello scenariusza.</span><span class="sxs-lookup"><span data-stu-id="deb1c-120">This scenario is described in greater detail in hello [Web Browser tooWeb Application](#web-browser-to-web-application) section, but it’s a useful starting point tooillustrate hello capabilities of Azure AD and conceptualize how hello scenario works.</span></span> <span data-ttu-id="deb1c-121">Należy wziąć pod uwagę powitania po diagramu dla tego scenariusza:</span><span class="sxs-lookup"><span data-stu-id="deb1c-121">Consider hello following diagram for this scenario:</span></span>

![Omówienie logowania jednokrotnego tooweb aplikacji](./media/active-directory-authentication-scenarios/basics_of_auth_in_aad.png)

<span data-ttu-id="deb1c-123">Diagram hello powyżej pamiętać, Oto co należy tooknow o jego różne składniki:</span><span class="sxs-lookup"><span data-stu-id="deb1c-123">With hello diagram above in mind, here’s what you need tooknow about its various components:</span></span>

* <span data-ttu-id="deb1c-124">Usługi Azure AD jest hello dostawcy tożsamości, odpowiedzialny za weryfikowanie hello tożsamości użytkowników i aplikacje, które znajdują się w katalogu organizacji, a ostatecznie wystawiania tokenów zabezpieczających na pomyślne uwierzytelnienie tych użytkowników i aplikacji.</span><span class="sxs-lookup"><span data-stu-id="deb1c-124">Azure AD is hello identity provider, responsible for verifying hello identity of users and applications that exist in an organization’s directory, and ultimately issuing security tokens upon successful authentication of those users and applications.</span></span>
* <span data-ttu-id="deb1c-125">Aplikacja, która chce toooutsource tooAzure uwierzytelniania AD muszą być zarejestrowane w usłudze Azure AD, który rejestruje i unikatowo identyfikuje aplikacji hello w katalogu hello.</span><span class="sxs-lookup"><span data-stu-id="deb1c-125">An application that wants toooutsource authentication tooAzure AD must be registered in Azure AD, which registers and uniquely identifies hello app in hello directory.</span></span>
* <span data-ttu-id="deb1c-126">Deweloperzy mogą używać hello typu open source usługi Azure AD authentication bibliotek toomake uwierzytelniania łatwe dzięki obsłudze szczegółów protokołu hello za Ciebie.</span><span class="sxs-lookup"><span data-stu-id="deb1c-126">Developers can use hello open source Azure AD authentication libraries toomake authentication easy by handling hello protocol details for you.</span></span> <span data-ttu-id="deb1c-127">Zobacz [bibliotek uwierzytelniania usługi Azure Active Directory](active-directory-authentication-libraries.md) Aby uzyskać więcej informacji.</span><span class="sxs-lookup"><span data-stu-id="deb1c-127">See [Azure Active Directory Authentication Libraries](active-directory-authentication-libraries.md) for more information.</span></span>

<span data-ttu-id="deb1c-128">• Raz użytkownik został uwierzytelniony, aplikacja hello zweryfikować tooensure tokenu zabezpieczeń użytkownika hello tego uwierzytelnianie zakończyło się pomyślnie, na powitania przeznaczone strony.</span><span class="sxs-lookup"><span data-stu-id="deb1c-128">• Once a user has been authenticated, hello application must validate hello user’s security token tooensure that authentication was successful for hello intended parties.</span></span> <span data-ttu-id="deb1c-129">Deweloperzy mogą używać hello podane Weryfikacja toohandle biblioteki uwierzytelniania żadnych tokenu z usługi Azure AD, w tym tokenów sieci Web JSON (JWT) lub SAML 2.0.</span><span class="sxs-lookup"><span data-stu-id="deb1c-129">Developers can use hello provided authentication libraries toohandle validation of any token from Azure AD, including JSON Web Tokens (JWT) or SAML 2.0.</span></span> <span data-ttu-id="deb1c-130">Sprawdzanie poprawności tooperform ręcznie, zobacz hello [programu obsługi tokenów JWT](https://msdn.microsoft.com/library/dn205065.aspx) dokumentacji.</span><span class="sxs-lookup"><span data-stu-id="deb1c-130">If you want tooperform validation manually, see hello [JWT Token Handler](https://msdn.microsoft.com/library/dn205065.aspx) documentation.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="deb1c-131">Usługi Azure AD używa tokenów toosign kluczem publicznym i sprawdź, czy są prawidłowe.</span><span class="sxs-lookup"><span data-stu-id="deb1c-131">Azure AD uses public key cryptography toosign tokens and verify that they are valid.</span></span> <span data-ttu-id="deb1c-132">Zobacz [ważne informacje dotyczące podpisywania klucza przerzucania w usłudze Azure AD](active-directory-signing-key-rollover.md) więcej informacji na temat logiki niezbędne hello musi mieć w Twojej aplikacji tooensure on jest zawsze zaktualizowane hello najnowsze kluczy.</span><span class="sxs-lookup"><span data-stu-id="deb1c-132">See [Important Information About Signing Key Rollover in Azure AD](active-directory-signing-key-rollover.md) for more information on hello necessary logic you must have in your application tooensure it’s always updated with hello latest keys.</span></span>
> 
> 

<span data-ttu-id="deb1c-133">• hello przepływ żądań i odpowiedzi dla procesu uwierzytelniania hello jest określany przez protokół uwierzytelniania hello, który był używany, takich jak OAuth 2.0, OpenID Connect, WS-Federation oraz SAML 2.0.</span><span class="sxs-lookup"><span data-stu-id="deb1c-133">• hello flow of requests and responses for hello authentication process is determined by hello authentication protocol that was used, such as OAuth 2.0, OpenID Connect, WS-Federation, or SAML 2.0.</span></span> <span data-ttu-id="deb1c-134">Te protokoły omówiono bardziej szczegółowo w hello [protokoły uwierzytelniania usługi Active Directory Azure](active-directory-authentication-protocols.md) tematu w poniższych sekcjach hello.</span><span class="sxs-lookup"><span data-stu-id="deb1c-134">These protocols are discussed in more detail in hello [Azure Active Directory Authentication Protocols](active-directory-authentication-protocols.md) topic and in hello sections below.</span></span>

> [!NOTE]
> <span data-ttu-id="deb1c-135">Usługi Azure AD obsługuje hello OAuth 2.0 i standardów OpenID Connect, które szeroką gamę wykorzystanie tokenów elementu nośnego, łącznie z tokenów elementu nośnego reprezentowane jako tokenów Jwt.</span><span class="sxs-lookup"><span data-stu-id="deb1c-135">Azure AD supports hello OAuth 2.0 and OpenID Connect standards that make extensive use of bearer tokens, including bearer tokens represented as JWTs.</span></span> <span data-ttu-id="deb1c-136">Token elementu nośnego jest token zabezpieczający lekkie, że przyznaje hello tooa dostępu "bearer" chronionych zasobów.</span><span class="sxs-lookup"><span data-stu-id="deb1c-136">A bearer token is a lightweight security token that grants hello “bearer” access tooa protected resource.</span></span> <span data-ttu-id="deb1c-137">W tym sensie "bearer" hello jest każda strona, która może ona powodować hello tokenu.</span><span class="sxs-lookup"><span data-stu-id="deb1c-137">In this sense, hello “bearer” is any party that can present hello token.</span></span> <span data-ttu-id="deb1c-138">Jeśli strona muszą najpierw zostać uwierzytelnione z tokenu elementu nośnego hello tooreceive usługi Azure AD, czy hello wymagane kroki nie są brane toosecure hello token w transmisji i przechowywania, można przechwycony i używane przez firmę niezamierzone.</span><span class="sxs-lookup"><span data-stu-id="deb1c-138">Though a party must first authenticate with Azure AD tooreceive hello bearer token, if hello required steps are not taken toosecure hello token in transmission and storage, it can be intercepted and used by an unintended party.</span></span> <span data-ttu-id="deb1c-139">Chociaż w niektórych tokeny zabezpieczające wbudowany mechanizm uniemożliwia ich użycie przez osoby nieupoważnione, tokenów elementu nośnego nie mają ten mechanizm i musi być transportowane bezpiecznego kanału, takie jak zabezpieczeń warstwy transportu (HTTPS).</span><span class="sxs-lookup"><span data-stu-id="deb1c-139">While some security tokens have a built-in mechanism for preventing unauthorized parties from using them, bearer tokens do not have this mechanism and must be transported in a secure channel such as transport layer security (HTTPS).</span></span> <span data-ttu-id="deb1c-140">Jeśli token elementu nośnego jest przesyłany w hello Wyczyść, środkowej atak powitania man-in mogą być używane przez token hello tooacquire strony złośliwych i użyć jej do zasobu tooa chronione nieautoryzowanego dostępu.</span><span class="sxs-lookup"><span data-stu-id="deb1c-140">If a bearer token is transmitted in hello clear, a man-in hello middle attack can be used by a malicious party tooacquire hello token and use it for an unauthorized access tooa protected resource.</span></span> <span data-ttu-id="deb1c-141">Witaj te same zasady zabezpieczeń mają zastosowanie po zapisaniu lub buforowanie tokenów elementu nośnego do późniejszego użycia.</span><span class="sxs-lookup"><span data-stu-id="deb1c-141">hello same security principles apply when storing or caching bearer tokens for later use.</span></span> <span data-ttu-id="deb1c-142">Zawsze upewnij się, że aplikacja przesyła i przechowuje tokenów elementu nośnego w bezpieczny sposób.</span><span class="sxs-lookup"><span data-stu-id="deb1c-142">Always ensure that your application transmits and stores bearer tokens in a secure manner.</span></span> <span data-ttu-id="deb1c-143">Aby uzyskać więcej zagadnienia dotyczące zabezpieczeń na tokenów elementu nośnego, zobacz [RFC 6750 sekcji 5](http://tools.ietf.org/html/rfc6750).</span><span class="sxs-lookup"><span data-stu-id="deb1c-143">For more security considerations on bearer tokens, see [RFC 6750 Section 5](http://tools.ietf.org/html/rfc6750).</span></span>
> 
> 

<span data-ttu-id="deb1c-144">Teraz, gdy masz omówienie podstawy hello, przeczytaj hello sekcjami toounderstand sposób inicjowania obsługi administracyjnej działa w usłudze Azure AD i obsługuje hello typowych scenariuszy usługi Azure AD.</span><span class="sxs-lookup"><span data-stu-id="deb1c-144">Now that you have an overview of hello basics, read hello sections below toounderstand how provisioning works in Azure AD and hello common scenarios Azure AD supports.</span></span>

## <a name="claims-in-azure-ad-security-tokens"></a><span data-ttu-id="deb1c-145">Oświadczenia w tokenach zabezpieczających usługi Azure AD</span><span class="sxs-lookup"><span data-stu-id="deb1c-145">Claims in Azure AD Security Tokens</span></span>
<span data-ttu-id="deb1c-146">Tokenów zabezpieczających wydanych przez usługę Azure AD zawiera oświadczenia lub potwierdzenia informacji na temat hello, który został uwierzytelniony.</span><span class="sxs-lookup"><span data-stu-id="deb1c-146">Security tokens issued by Azure AD contain claims, or assertions of information about hello subject that has been authenticated.</span></span> <span data-ttu-id="deb1c-147">Te oświadczenia mogą posłużyć aplikacji hello dla różnych zadań.</span><span class="sxs-lookup"><span data-stu-id="deb1c-147">These claims can be used by hello application for various tasks.</span></span> <span data-ttu-id="deb1c-148">Na przykład można je używane toovalidate hello token, zidentyfikować dzierżawy directory hello podmiotu, Wyświetl informacje o użytkowniku, określa autoryzację hello podmiotu i itd.</span><span class="sxs-lookup"><span data-stu-id="deb1c-148">For example, they can be used toovalidate hello token, identify hello subject's directory tenant, display user information, determine hello subject's authorization, and so on.</span></span> <span data-ttu-id="deb1c-149">oświadczenia Hello w dowolnym tokenu zabezpieczeń są zależne od typu hello tokenu, hello typ poświadczeń używanych tooauthenticate hello użytkownika i konfiguracji aplikacji hello.</span><span class="sxs-lookup"><span data-stu-id="deb1c-149">hello claims present in any given security token are dependent upon hello type of token, hello type of credential used tooauthenticate hello user, and hello application configuration.</span></span> <span data-ttu-id="deb1c-150">W poniższej tabeli hello znajduje się krótki opis każdego typu oświadczenia emitowane przez usługę Azure AD.</span><span class="sxs-lookup"><span data-stu-id="deb1c-150">A brief description of each type of claim emitted by Azure AD is provided in hello table below.</span></span> <span data-ttu-id="deb1c-151">Aby uzyskać więcej informacji, zobacz zbyt[obsługiwany Token i typy oświadczeń](active-directory-token-and-claims.md).</span><span class="sxs-lookup"><span data-stu-id="deb1c-151">For more information, refer too[Supported Token and Claim Types](active-directory-token-and-claims.md).</span></span>

| <span data-ttu-id="deb1c-152">Claim</span><span class="sxs-lookup"><span data-stu-id="deb1c-152">Claim</span></span> | <span data-ttu-id="deb1c-153">Opis</span><span class="sxs-lookup"><span data-stu-id="deb1c-153">Description</span></span> |
| --- | --- |
| <span data-ttu-id="deb1c-154">Identyfikator aplikacji</span><span class="sxs-lookup"><span data-stu-id="deb1c-154">Application ID</span></span> |<span data-ttu-id="deb1c-155">Identyfikuje aplikacji hello, która używa hello tokenu.</span><span class="sxs-lookup"><span data-stu-id="deb1c-155">Identifies hello application that is using hello token.</span></span> |
| <span data-ttu-id="deb1c-156">Grupy odbiorców</span><span class="sxs-lookup"><span data-stu-id="deb1c-156">Audience</span></span> |<span data-ttu-id="deb1c-157">Określa zasób odbiorcy hello hello token jest przeznaczony dla.</span><span class="sxs-lookup"><span data-stu-id="deb1c-157">Identifies hello recipient resource hello token is intended for.</span></span> |
| <span data-ttu-id="deb1c-158">Application Authentication Context Class Reference</span><span class="sxs-lookup"><span data-stu-id="deb1c-158">Application Authentication Context Class Reference</span></span> |<span data-ttu-id="deb1c-159">Wskazuje, jak powitania klienta został uwierzytelniony (publicznego klienta a poufne klienta).</span><span class="sxs-lookup"><span data-stu-id="deb1c-159">Indicates how hello client was authenticated (public client vs. confidential client).</span></span> |
| <span data-ttu-id="deb1c-160">Błyskawiczne uwierzytelniania</span><span class="sxs-lookup"><span data-stu-id="deb1c-160">Authentication Instant</span></span> |<span data-ttu-id="deb1c-161">Rejestruje hello Data i godzina wystąpienia hello uwierzytelniania.</span><span class="sxs-lookup"><span data-stu-id="deb1c-161">Records hello date and time when hello authentication occurred.</span></span> |
| <span data-ttu-id="deb1c-162">Metoda uwierzytelniania</span><span class="sxs-lookup"><span data-stu-id="deb1c-162">Authentication Method</span></span> |<span data-ttu-id="deb1c-163">Wskazuje, jak został uwierzytelniony podmiot hello hello tokenu (hasło, certyfikat itp.).</span><span class="sxs-lookup"><span data-stu-id="deb1c-163">Indicates how hello subject of hello token was authenticated (password, certificate, etc.).</span></span> |
| <span data-ttu-id="deb1c-164">Imię</span><span class="sxs-lookup"><span data-stu-id="deb1c-164">First Name</span></span> |<span data-ttu-id="deb1c-165">Udostępnia hello imię użytkownika hello zgodnie z ustawieniami w usłudze Azure AD.</span><span class="sxs-lookup"><span data-stu-id="deb1c-165">Provides hello given name of hello user as set in Azure AD.</span></span> |
| <span data-ttu-id="deb1c-166">Grupy</span><span class="sxs-lookup"><span data-stu-id="deb1c-166">Groups</span></span> |<span data-ttu-id="deb1c-167">Zawiera grupy identyfikatorów Azure AD obiektu, który hello użytkownik jest członkiem.</span><span class="sxs-lookup"><span data-stu-id="deb1c-167">Contains object Ids of Azure AD groups hello user is a member of.</span></span> |
| <span data-ttu-id="deb1c-168">Dostawca tożsamości</span><span class="sxs-lookup"><span data-stu-id="deb1c-168">Identity Provider</span></span> |<span data-ttu-id="deb1c-169">Rejestruje hello dostawcy tożsamości, który uwierzytelniony podmiot hello hello tokenu.</span><span class="sxs-lookup"><span data-stu-id="deb1c-169">Records hello identity provider that authenticated hello subject of hello token.</span></span> |
| <span data-ttu-id="deb1c-170">Wystawiony w</span><span class="sxs-lookup"><span data-stu-id="deb1c-170">Issued At</span></span> |<span data-ttu-id="deb1c-171">W których hello token został wystawiony, często używany do tokenu świeżości czas hello rekordów.</span><span class="sxs-lookup"><span data-stu-id="deb1c-171">Records hello time at which hello token was issued, often used for token freshness.</span></span> |
| <span data-ttu-id="deb1c-172">Wystawcy</span><span class="sxs-lookup"><span data-stu-id="deb1c-172">Issuer</span></span> |<span data-ttu-id="deb1c-173">Identyfikuje STS hello, które wysyłanego hello token, a także hello dzierżawy usługi Azure AD.</span><span class="sxs-lookup"><span data-stu-id="deb1c-173">Identifies hello STS that emitted hello token as well as hello Azure AD tenant.</span></span> |
| <span data-ttu-id="deb1c-174">Nazwisko</span><span class="sxs-lookup"><span data-stu-id="deb1c-174">Last Name</span></span> |<span data-ttu-id="deb1c-175">Udostępnia hello nazwisko użytkownika hello zgodnie z ustawieniami w usłudze Azure AD.</span><span class="sxs-lookup"><span data-stu-id="deb1c-175">Provides hello surname of hello user as set in Azure AD.</span></span> |
| <span data-ttu-id="deb1c-176">Nazwa</span><span class="sxs-lookup"><span data-stu-id="deb1c-176">Name</span></span> |<span data-ttu-id="deb1c-177">Udostępnia człowieka wartość do odczytu, która identyfikuje podmiotu hello hello tokenu.</span><span class="sxs-lookup"><span data-stu-id="deb1c-177">Provides a human readable value that identifies hello subject of hello token.</span></span> |
| <span data-ttu-id="deb1c-178">Identyfikator obiektu:</span><span class="sxs-lookup"><span data-stu-id="deb1c-178">Object Id</span></span> |<span data-ttu-id="deb1c-179">Zawiera niezmienne, unikatowy identyfikator podmiotu hello w usłudze Azure AD.</span><span class="sxs-lookup"><span data-stu-id="deb1c-179">Contains an immutable, unique identifier of hello subject in Azure AD.</span></span> |
| <span data-ttu-id="deb1c-180">Role</span><span class="sxs-lookup"><span data-stu-id="deb1c-180">Roles</span></span> |<span data-ttu-id="deb1c-181">Zawiera przyjaznych nazw ról aplikacji w usłudze Azure AD tego hello użytkownikowi zostało udzielone.</span><span class="sxs-lookup"><span data-stu-id="deb1c-181">Contains friendly names of Azure AD Application Roles that hello user has been granted.</span></span> |
| <span data-ttu-id="deb1c-182">Zakres</span><span class="sxs-lookup"><span data-stu-id="deb1c-182">Scope</span></span> |<span data-ttu-id="deb1c-183">Wskazuje hello uprawnienia nadanego toohello klienta aplikacji.</span><span class="sxs-lookup"><span data-stu-id="deb1c-183">Indicates hello permissions granted toohello client application.</span></span> |
| <span data-ttu-id="deb1c-184">Temat</span><span class="sxs-lookup"><span data-stu-id="deb1c-184">Subject</span></span> |<span data-ttu-id="deb1c-185">Wskazuje hello podmiot zabezpieczeń, o które hello token deklaracji rozkazujących informacji.</span><span class="sxs-lookup"><span data-stu-id="deb1c-185">Indicates hello principal about which hello token asserts information.</span></span> |
| <span data-ttu-id="deb1c-186">Identyfikator dzierżawy</span><span class="sxs-lookup"><span data-stu-id="deb1c-186">Tenant Id</span></span> |<span data-ttu-id="deb1c-187">Zawiera niezmienne, unikatowy identyfikator hello katalogu dzierżawy, który wystawił hello tokenu.</span><span class="sxs-lookup"><span data-stu-id="deb1c-187">Contains an immutable, unique identifier of hello directory tenant that issued hello token.</span></span> |
| <span data-ttu-id="deb1c-188">Okres istnienia tokenu</span><span class="sxs-lookup"><span data-stu-id="deb1c-188">Token Lifetime</span></span> |<span data-ttu-id="deb1c-189">Definiuje hello interwał czasu, w którym token jest prawidłowy.</span><span class="sxs-lookup"><span data-stu-id="deb1c-189">Defines hello time interval within which a token is valid.</span></span> |
| <span data-ttu-id="deb1c-190">Główna nazwa użytkownika</span><span class="sxs-lookup"><span data-stu-id="deb1c-190">User Principal Name</span></span> |<span data-ttu-id="deb1c-191">Zawiera hello nazwy głównej użytkownika hello podmiotu.</span><span class="sxs-lookup"><span data-stu-id="deb1c-191">Contains hello user principal name of hello subject.</span></span> |
| <span data-ttu-id="deb1c-192">Wersja</span><span class="sxs-lookup"><span data-stu-id="deb1c-192">Version</span></span> |<span data-ttu-id="deb1c-193">Zawiera numer wersji hello hello tokenu.</span><span class="sxs-lookup"><span data-stu-id="deb1c-193">Contains hello version number of hello token.</span></span> |

## <a name="basics-of-registering-an-application-in-azure-ad"></a><span data-ttu-id="deb1c-194">Podstawowe informacje dotyczące rejestrowania aplikacji w usłudze Azure AD</span><span class="sxs-lookup"><span data-stu-id="deb1c-194">Basics of Registering an Application in Azure AD</span></span>
<span data-ttu-id="deb1c-195">Dowolnej aplikacji, która outsources tooAzure uwierzytelniania, AD muszą być rejestrowane w katalogu.</span><span class="sxs-lookup"><span data-stu-id="deb1c-195">Any application that outsources authentication tooAzure AD must be registered in a directory.</span></span> <span data-ttu-id="deb1c-196">Ten krok obejmuje informuje usługi Azure AD o aplikacji, w tym hello adresu URL, jeśli jest to znajduje się, hello toosend adres URL odpowiedzi po uwierzytelnieniu hello tooidentify identyfikator URI aplikacji i inne.</span><span class="sxs-lookup"><span data-stu-id="deb1c-196">This step involves telling Azure AD about your application, including hello URL where it’s located, hello URL toosend replies after authentication, hello URI tooidentify your application, and more.</span></span> <span data-ttu-id="deb1c-197">Te informacje są niezbędne dla kilka przyczyn, dla klucza:</span><span class="sxs-lookup"><span data-stu-id="deb1c-197">This information is required for a few key reasons:</span></span>

* <span data-ttu-id="deb1c-198">Usługi Azure AD musi toocommunicate współrzędnych z aplikacji hello podczas obsługi logowania jednokrotnego lub wymianę tokenów.</span><span class="sxs-lookup"><span data-stu-id="deb1c-198">Azure AD needs coordinates toocommunicate with hello application when handling sign-on or exchanging tokens.</span></span> <span data-ttu-id="deb1c-199">Obejmują one hello następujące czynności:</span><span class="sxs-lookup"><span data-stu-id="deb1c-199">These include hello following:</span></span>
  
  * <span data-ttu-id="deb1c-200">Identyfikator URI Identyfikatora aplikacji: hello identyfikator dla aplikacji.</span><span class="sxs-lookup"><span data-stu-id="deb1c-200">Application ID URI: hello identifier for an application.</span></span> <span data-ttu-id="deb1c-201">Ta wartość jest wysyłana tooAzure AD podczas tooindicate uwierzytelniania, których aplikacja hello wywołującego chce token dla.</span><span class="sxs-lookup"><span data-stu-id="deb1c-201">This value is sent tooAzure AD during authentication tooindicate which application hello caller wants a token for.</span></span> <span data-ttu-id="deb1c-202">Ponadto ta wartość jest uwzględnione w tokenie hello tak, aby aplikacja hello wie, że był hello mającą docelowej.</span><span class="sxs-lookup"><span data-stu-id="deb1c-202">Additionally, this value is included in hello token so that hello application knows it was hello intended target.</span></span>
  * <span data-ttu-id="deb1c-203">Odpowiedz na adres URL i identyfikator URI przekierowania: W przypadku hello interfejsu API sieci web lub aplikacji sieci web, hello adres URL odpowiedzi jest hello toowhich lokalizacji usługi Azure AD będzie wysyłać odpowiedzi uwierzytelniania hello, w tym tokenu, jeśli uwierzytelnianie zakończyło się pomyślnie.</span><span class="sxs-lookup"><span data-stu-id="deb1c-203">Reply URL and Redirect URI: In hello case of a web API or web application, hello Reply URL is hello location toowhich Azure AD will send hello authentication response, including a token if authentication was successful.</span></span> <span data-ttu-id="deb1c-204">W przypadku hello natywnych aplikacji hello identyfikator URI przekierowania jest unikatowy identyfikator toowhich usługi Azure AD przekieruje agenta użytkownika hello w żądaniu protokołu OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="deb1c-204">In hello case of a native application, hello Redirect URI is a unique identifier toowhich Azure AD will redirect hello user-agent in an OAuth 2.0 request.</span></span>
  * <span data-ttu-id="deb1c-205">Identyfikator aplikacji: hello identyfikator dla aplikacji, które jest generowany przez usługę Azure AD, gdy aplikacja hello jest zarejestrowana.</span><span class="sxs-lookup"><span data-stu-id="deb1c-205">Application ID: hello ID for an application, which is generated by Azure AD when hello application is registered.</span></span> <span data-ttu-id="deb1c-206">Podczas żądania kodu autoryzacji lub na tokenie, hello identyfikator aplikacji i klucz są wysyłane tooAzure AD podczas uwierzytelniania.</span><span class="sxs-lookup"><span data-stu-id="deb1c-206">When requesting an authorization code or token, hello Application ID and key are sent tooAzure AD during authentication.</span></span>
  * <span data-ttu-id="deb1c-207">Klucz: hello klucz, który jest wysyłany razem z Identyfikatorem aplikacji podczas uwierzytelniania toocall tooAzure AD interfejs API sieci web.</span><span class="sxs-lookup"><span data-stu-id="deb1c-207">Key: hello key that is sent along with a Application ID when authenticating tooAzure AD toocall a web API.</span></span>
* <span data-ttu-id="deb1c-208">Azure musi AD aplikacja hello tooensure hello tooaccess uprawnienia wymagane dane katalogu innych aplikacji w organizacji i tak dalej</span><span class="sxs-lookup"><span data-stu-id="deb1c-208">Azure AD needs tooensure hello application has hello required permissions tooaccess your directory data, other applications in your organization, and so on</span></span>

<span data-ttu-id="deb1c-209">Inicjowanie obsługi administracyjnej staje się jaśniejszy po zapoznaniu się, że istnieją dwie kategorie aplikacji, które mogą być opracowane i zintegrowane z usługą Azure AD:</span><span class="sxs-lookup"><span data-stu-id="deb1c-209">Provisioning becomes clearer when you understand that there are two categories of applications that can be developed and integrated with Azure AD:</span></span>

* <span data-ttu-id="deb1c-210">Pojedyncza aplikacja dzierżawy: aplikacji pojedynczej dzierżawy jest przeznaczony do użytku w jednej z organizacji.</span><span class="sxs-lookup"><span data-stu-id="deb1c-210">Single tenant application: A single tenant application is intended for use in one organization.</span></span> <span data-ttu-id="deb1c-211">Są to zazwyczaj — biznesowych (LoB) aplikacje napisane przez autora przedsiębiorstwa.</span><span class="sxs-lookup"><span data-stu-id="deb1c-211">These are typically line-of-business (LoB) applications written by an enterprise developer.</span></span> <span data-ttu-id="deb1c-212">Stosowanie pojedynczej dzierżawy musi tylko toobe dostępne dla użytkowników w jednym katalogu, i w związku z tym tylko musi toobe udostępniane w jednym katalogu.</span><span class="sxs-lookup"><span data-stu-id="deb1c-212">A single tenant application only needs toobe accessed by users in one directory, and as a result, it only needs toobe provisioned in one directory.</span></span> <span data-ttu-id="deb1c-213">Te aplikacje zwykle są rejestrowane przez dewelopera w organizacji hello.</span><span class="sxs-lookup"><span data-stu-id="deb1c-213">These applications are typically registered by a developer in hello organization.</span></span>
* <span data-ttu-id="deb1c-214">Wielodostępne aplikacji: aplikacji wielodostępnych jest przeznaczony do użycia w wielu organizacjach nie tylko jednej z organizacji.</span><span class="sxs-lookup"><span data-stu-id="deb1c-214">Multi-tenant application: A multi-tenant application is intended for use in many organizations, not just one organization.</span></span> <span data-ttu-id="deb1c-215">Są to zazwyczaj oprogramowania jako — usługa (SaaS) aplikacje napisane przez niezależnego dostawcy oprogramowania (ISV).</span><span class="sxs-lookup"><span data-stu-id="deb1c-215">These are typically software-as-a-service (SaaS) applications written by an independent software vendor (ISV).</span></span> <span data-ttu-id="deb1c-216">Aplikacje wielodostępne muszą toobe udostępniane w każdym katalogu gdzie będą one używane, co wymaga tooregister zgody użytkownika lub administratora je.</span><span class="sxs-lookup"><span data-stu-id="deb1c-216">Multi-tenant applications need toobe provisioned in each directory where they will be used, which requires user or administrator consent tooregister them.</span></span> <span data-ttu-id="deb1c-217">Ten proces zgody uruchamiana, gdy aplikacja została zarejestrowana w katalogu hello i uzyskuje dostęp do interfejsu API programu Graph toohello lub być może inny interfejs API sieci web.</span><span class="sxs-lookup"><span data-stu-id="deb1c-217">This consent process starts when an application has been registered in hello directory and is given access toohello Graph API or perhaps another web API.</span></span> <span data-ttu-id="deb1c-218">Gdy użytkownik lub administrator z innej organizacji zarejestrowaniu aplikacji hello toouse, mają być przedstawiane z okna dialogowego, które wyświetla hello uprawnienia, które wymaga aplikacji hello.</span><span class="sxs-lookup"><span data-stu-id="deb1c-218">When a user or administrator from a different organization signs up toouse hello application, they are presented with a dialog that displays hello permissions hello application requires.</span></span> <span data-ttu-id="deb1c-219">Witaj użytkownik lub administrator może następnie zgody toohello aplikacji, co daje toohello dostępu aplikacji hello określone dane, a na koniec rejestrów hello aplikacji w ich katalogu.</span><span class="sxs-lookup"><span data-stu-id="deb1c-219">hello user or administrator can then consent toohello application, which gives hello application access toohello stated data, and finally registers hello application in their directory.</span></span> <span data-ttu-id="deb1c-220">Aby uzyskać więcej informacji, zobacz [omówienie hello zgody Framework](active-directory-integrating-applications.md#overview-of-the-consent-framework).</span><span class="sxs-lookup"><span data-stu-id="deb1c-220">For more information, see [Overview of hello Consent Framework](active-directory-integrating-applications.md#overview-of-the-consent-framework).</span></span>

<span data-ttu-id="deb1c-221">Kilka dodatkowych kwestii dotyczących wystąpić podczas opracowywania aplikacji wielodostępnych, zamiast aplikacji pojedynczej dzierżawy.</span><span class="sxs-lookup"><span data-stu-id="deb1c-221">Some additional considerations arise when developing a multi-tenant application instead of a single tenant application.</span></span> <span data-ttu-id="deb1c-222">Na przykład, jeśli tworzysz toousers dostępne w Twojej aplikacji w wielu katalogach, należy toodetermine mechanizmu dzierżawy, które występowały w.</span><span class="sxs-lookup"><span data-stu-id="deb1c-222">For example, if you are making your application available toousers in multiple directories, you need a mechanism toodetermine which tenant they’re in.</span></span> <span data-ttu-id="deb1c-223">Aplikacji pojedynczej dzierżawy musi tylko toolook w jego własnej katalogu dla użytkownika, gdy aplikacji wielodostępnych musi tooidentify określonego użytkownika ze wszystkich katalogów hello w usłudze Azure AD.</span><span class="sxs-lookup"><span data-stu-id="deb1c-223">A single tenant application only needs toolook in its own directory for a user, while a multi-tenant application needs tooidentify a specific user from all hello directories in Azure AD.</span></span> <span data-ttu-id="deb1c-224">tooaccomplish tego zadania, usługa Azure AD zapewnia wspólnego punktu końcowego uwierzytelniania gdzie wszelkie aplikacje wielodostępne może kierować żądań logowania, zamiast punktu końcowego specyficznego dla dzierżawy.</span><span class="sxs-lookup"><span data-stu-id="deb1c-224">tooaccomplish this task, Azure AD provides a common authentication endpoint where any multi-tenant application can direct sign-in requests, instead of a tenant-specific endpoint.</span></span> <span data-ttu-id="deb1c-225">Ten punkt końcowy jest https://login.microsoftonline.com/common dla wszystkich katalogów w usłudze Azure AD, punkt końcowy specyficznego dla dzierżawy może być https://login.microsoftonline.com/contoso.onmicrosoft.com. Witaj wspólnego punktu końcowego jest szczególnie ważne tooconsider podczas opracowywania aplikacji, ponieważ będziesz potrzebować toohandle niezbędne logiki hello wielu dzierżawców podczas logowania, wylogowania i tokenu weryfikacji.</span><span class="sxs-lookup"><span data-stu-id="deb1c-225">This endpoint is https://login.microsoftonline.com/common for all directories in Azure AD, whereas a tenant-specific endpoint might be https://login.microsoftonline.com/contoso.onmicrosoft.com. hello common endpoint is especially important tooconsider when developing your application because you’ll need hello necessary logic toohandle multiple tenants during sign-in, sign-out, and token validation.</span></span>

<span data-ttu-id="deb1c-226">Jeśli obecnie opracowujesz aplikację pojedynczej dzierżawy, ale mają toomake go dostępne toomany organizacji, można łatwo wprowadzać zmiany toohello aplikacji i jej konfiguracji w usłudze Azure AD toomake go obsługujących wielu dzierżawców.</span><span class="sxs-lookup"><span data-stu-id="deb1c-226">If you are currently developing a single tenant application but want toomake it available toomany organizations, you can easily make changes toohello application and its configuration in Azure AD toomake it multi-tenant capable.</span></span> <span data-ttu-id="deb1c-227">Ponadto usługi Azure AD używa hello tego samego klucza dla wszystkich tokenów we wszystkich katalogach podpisywania czy udostępniasz uwierzytelniania w pojedynczej dzierżawy lub aplikacji wielu dzierżawców.</span><span class="sxs-lookup"><span data-stu-id="deb1c-227">In addition, Azure AD uses hello same signing key for all tokens in all directories, whether you are providing authentication in a single tenant or multi-tenant application.</span></span>

<span data-ttu-id="deb1c-228">Każdy scenariusz wymienione w niniejszym dokumencie zawiera podsekcja opisującą jego wymagania inicjowania obsługi administracyjnej.</span><span class="sxs-lookup"><span data-stu-id="deb1c-228">Each scenario listed in this document includes a sub-section that describes its provisioning requirements.</span></span> <span data-ttu-id="deb1c-229">Aby uzyskać bardziej szczegółowe informacje dotyczące inicjowania obsługi aplikacji w usłudze Azure AD i hello różnice między aplikacjami pojedynczych i wielu dzierżawców, zobacz [integracji aplikacji z usługą Azure Active Directory](active-directory-integrating-applications.md) Aby uzyskać więcej informacji.</span><span class="sxs-lookup"><span data-stu-id="deb1c-229">For more in-depth information about provisioning an application in Azure AD and hello differences between single and multi-tenant applications, see [Integrating Applications with Azure Active Directory](active-directory-integrating-applications.md) for more information.</span></span> <span data-ttu-id="deb1c-230">Nadal odczytywania toounderstand hello typowych scenariuszy aplikacji w usłudze Azure AD.</span><span class="sxs-lookup"><span data-stu-id="deb1c-230">Continue reading toounderstand hello common application scenarios in Azure AD.</span></span>

## <a name="application-types-and-scenarios"></a><span data-ttu-id="deb1c-231">Typy aplikacji i scenariusze</span><span class="sxs-lookup"><span data-stu-id="deb1c-231">Application Types and Scenarios</span></span>
<span data-ttu-id="deb1c-232">Każdy z opisanych w tym dokumencie scenariuszy hello mogą być opracowane za pomocą różnych języków i platform.</span><span class="sxs-lookup"><span data-stu-id="deb1c-232">Each of hello scenarios described in this document can be developed using various languages and platforms.</span></span> <span data-ttu-id="deb1c-233">One wszystkich bazują na pełną przykłady, które są dostępne w naszych [przykłady kodu przewodnik](active-directory-code-samples.md), lub bezpośrednio z odpowiadającego hello [repozytoriów GitHub próbki](https://github.com/Azure-Samples?utf8=%E2%9C%93&query=active-directory).</span><span class="sxs-lookup"><span data-stu-id="deb1c-233">They are all backed by complete code samples which are available in our [Code Samples guide](active-directory-code-samples.md), or directly from hello corresponding [GitHub sample repositories](https://github.com/Azure-Samples?utf8=%E2%9C%93&query=active-directory).</span></span> <span data-ttu-id="deb1c-234">Ponadto jeśli aplikacja wymaga konkretne lub segment end-to-end scenariusz, w większości przypadków te funkcje można dodać niezależnie.</span><span class="sxs-lookup"><span data-stu-id="deb1c-234">In addition, if your application needs a specific piece or segment of an end-to-end scenario, in most cases that functionality can be added independently.</span></span> <span data-ttu-id="deb1c-235">Na przykład jeśli masz natywnych aplikacji, która wywołuje interfejs API sieci web, można łatwo dodać aplikacji sieci web wywołująca hello interfejsu API sieci web.</span><span class="sxs-lookup"><span data-stu-id="deb1c-235">For example, if you have a native application that calls a web API, you can easily add a web application that also calls hello web API.</span></span> <span data-ttu-id="deb1c-236">Witaj poniższym diagramie przedstawiono te scenariusze i typy aplikacji i w jaki sposób można dodać różnych składników:</span><span class="sxs-lookup"><span data-stu-id="deb1c-236">hello following diagram illustrates these scenarios and application types, and how different components can be added:</span></span>

![Typy aplikacji i scenariusze](./media/active-directory-authentication-scenarios/application_types_and_scenarios.png)

<span data-ttu-id="deb1c-238">Są to pięć scenariuszy głównej aplikacji hello, obsługiwane przez usługę Azure AD:</span><span class="sxs-lookup"><span data-stu-id="deb1c-238">These are hello five primary application scenarios supported by Azure AD:</span></span>

* <span data-ttu-id="deb1c-239">[Sieci Web przeglądarce tooWeb aplikacji](#web-browser-to-web-application): użytkownik musi toosign w tooa aplikacji sieci web chronionej przez usługę Azure AD.</span><span class="sxs-lookup"><span data-stu-id="deb1c-239">[Web Browser tooWeb Application](#web-browser-to-web-application): A user needs toosign in tooa web application that is secured by Azure AD.</span></span>
* <span data-ttu-id="deb1c-240">[Pojedynczy strony aplikacji JEDNOSTRONICOWEJ](#single-page-application-spa): użytkownik musi toosign w tooa jednostronicowej aplikacji chronionej przez usługę Azure AD.</span><span class="sxs-lookup"><span data-stu-id="deb1c-240">[Single Page Application (SPA)](#single-page-application-spa): A user needs toosign in tooa single page application that is secured by Azure AD.</span></span>
* <span data-ttu-id="deb1c-241">[Natywny tooWeb aplikacji interfejsu API](#native-application-to-web-api): aplikacji natywnej działającym na telefonie, tablecie lub tooauthenticate potrzeb PC tooget użytkownika zasobów z interfejsu API sieci web chronionej przez usługę Azure AD.</span><span class="sxs-lookup"><span data-stu-id="deb1c-241">[Native Application tooWeb API](#native-application-to-web-api): A native application that runs on a phone, tablet, or PC needs tooauthenticate a user tooget resources from a web API that is secured by Azure AD.</span></span>
* <span data-ttu-id="deb1c-242">[Interfejs API tooWeb aplikacji sieci Web](#web-application-to-web-api): aplikacja sieci web wymaga zasobów tooget ze składnika web API zabezpieczone przez usługę Azure AD.</span><span class="sxs-lookup"><span data-stu-id="deb1c-242">[Web Application tooWeb API](#web-application-to-web-api): A web application needs tooget resources from a web API secured by Azure AD.</span></span>
* <span data-ttu-id="deb1c-243">[TooWeb demon lub serwera aplikacji interfejsu API](#daemon-or-server-application-to-web-api): aplikację demona lub serwera bez interfejsu użytkownika sieci web wymaga zasobów tooget ze składnika web API zabezpieczone przez usługę Azure AD.</span><span class="sxs-lookup"><span data-stu-id="deb1c-243">[Daemon or Server Application tooWeb API](#daemon-or-server-application-to-web-api): A daemon application or a server application with no web user interface needs tooget resources from a web API secured by Azure AD.</span></span>

### <a name="web-browser-tooweb-application"></a><span data-ttu-id="deb1c-244">TooWeb przeglądarki sieci Web aplikacji</span><span class="sxs-lookup"><span data-stu-id="deb1c-244">Web Browser tooWeb Application</span></span>
<span data-ttu-id="deb1c-245">W tej sekcji opisano aplikację, która służy do uwierzytelniania użytkowników w aplikacji sieci web tooa przeglądarki sieci web.</span><span class="sxs-lookup"><span data-stu-id="deb1c-245">This section describes an application that authenticates a user in a web browser tooa web application.</span></span> <span data-ttu-id="deb1c-246">W tym scenariuszu aplikacji sieci web hello kieruje użytkownika hello przeglądarki toosign w tooAzure AD.</span><span class="sxs-lookup"><span data-stu-id="deb1c-246">In this scenario, hello web application directs hello user’s browser toosign them in tooAzure AD.</span></span> <span data-ttu-id="deb1c-247">Usługi Azure AD zwraca odpowiedź logowania za pośrednictwem przeglądarki hello użytkownika, który zawiera oświadczenia dotyczące użytkownika hello w tokenie zabezpieczającym.</span><span class="sxs-lookup"><span data-stu-id="deb1c-247">Azure AD returns a sign-in response through hello user’s browser, which contains claims about hello user in a security token.</span></span> <span data-ttu-id="deb1c-248">Ten scenariusz obsługuje logowania przy użyciu protokołów hello WS-Federation, SAML 2.0 i OpenID Connect.</span><span class="sxs-lookup"><span data-stu-id="deb1c-248">This scenario supports sign-on using hello WS-Federation, SAML 2.0, and OpenID Connect protocols.</span></span>

#### <a name="diagram"></a><span data-ttu-id="deb1c-249">Diagram</span><span class="sxs-lookup"><span data-stu-id="deb1c-249">Diagram</span></span>
![Przepływ uwierzytelniania dla aplikacji tooweb przeglądarki](./media/active-directory-authentication-scenarios/web_browser_to_web_api.png)

#### <a name="description-of-protocol-flow"></a><span data-ttu-id="deb1c-251">Opis protokołu przepływu</span><span class="sxs-lookup"><span data-stu-id="deb1c-251">Description of Protocol Flow</span></span>
1. <span data-ttu-id="deb1c-252">Gdy użytkownik odwiedza aplikacji hello i wymaga toosign w, zostanie przekierowany za pośrednictwem punktu końcowego uwierzytelniania toohello żądania logowania w usłudze Azure AD.</span><span class="sxs-lookup"><span data-stu-id="deb1c-252">When a user visits hello application and needs toosign in, they are redirected via a sign-in request toohello authentication endpoint in Azure AD.</span></span>
2. <span data-ttu-id="deb1c-253">Witaj użytkownik loguje się na powitania strony logowania.</span><span class="sxs-lookup"><span data-stu-id="deb1c-253">hello user signs in on hello sign-in page.</span></span>
3. <span data-ttu-id="deb1c-254">Jeśli uwierzytelnianie zakończy się pomyślnie, usługi Azure AD umożliwia utworzenie tokenu uwierzytelniania i zwraca adres URL odpowiedzi aplikacji toohello logowania odpowiedzi, który został skonfigurowany w hello portalu Azure.</span><span class="sxs-lookup"><span data-stu-id="deb1c-254">If authentication is successful, Azure AD creates an authentication token and returns a sign-in response toohello application’s Reply URL that was configured in hello Azure Portal.</span></span> <span data-ttu-id="deb1c-255">W przypadku aplikacji produkcyjnej ten adres URL odpowiedzi powinna być HTTPS.</span><span class="sxs-lookup"><span data-stu-id="deb1c-255">For a production application, this Reply URL should be HTTPS.</span></span> <span data-ttu-id="deb1c-256">Witaj zwrócił token zawiera oświadczenia dotyczące użytkownika hello i Azure AD, które są wymagane przez token hello toovalidate aplikacji hello.</span><span class="sxs-lookup"><span data-stu-id="deb1c-256">hello returned token includes claims about hello user and Azure AD that are required by hello application toovalidate hello token.</span></span>
4. <span data-ttu-id="deb1c-257">Aplikacja Hello weryfikuje hello token przy użyciu publicznego klucza podpisywania i wystawcy informacji dostępnych w hello dokument metadanych usług federacyjnych dla usługi Azure AD.</span><span class="sxs-lookup"><span data-stu-id="deb1c-257">hello application validates hello token by using a public signing key and issuer information available at hello federation metadata document for Azure AD.</span></span> <span data-ttu-id="deb1c-258">Po aplikacji hello weryfikuje hello token, usługi Azure AD nowa sesja rozpoczyna się od hello użytkownika.</span><span class="sxs-lookup"><span data-stu-id="deb1c-258">After hello application validates hello token, Azure AD starts a new session with hello user.</span></span> <span data-ttu-id="deb1c-259">Ta sesja umożliwia tooaccess użytkownika hello hello aplikacji do momentu wygaśnięcia.</span><span class="sxs-lookup"><span data-stu-id="deb1c-259">This session allows hello user tooaccess hello application until it expires.</span></span>

#### <a name="code-samples"></a><span data-ttu-id="deb1c-260">Przykłady kodu</span><span class="sxs-lookup"><span data-stu-id="deb1c-260">Code Samples</span></span>
<span data-ttu-id="deb1c-261">Zobacz hello przykłady kodu dla scenariuszy aplikacji tooWeb przeglądarki sieci Web.</span><span class="sxs-lookup"><span data-stu-id="deb1c-261">See hello code samples for Web Browser tooWeb Application scenarios.</span></span> <span data-ttu-id="deb1c-262">I wrócić tu często — możemy dodać nowe próbki cały czas hello.</span><span class="sxs-lookup"><span data-stu-id="deb1c-262">And, check back frequently -- we add new samples all hello time.</span></span> <span data-ttu-id="deb1c-263">[Sieci Web przeglądarce tooWeb aplikacji](active-directory-code-samples.md#web-browser-to-web-application).</span><span class="sxs-lookup"><span data-stu-id="deb1c-263">[Web Browser tooWeb Application](active-directory-code-samples.md#web-browser-to-web-application).</span></span>

#### <a name="registering"></a><span data-ttu-id="deb1c-264">Rejestrowanie</span><span class="sxs-lookup"><span data-stu-id="deb1c-264">Registering</span></span>
* <span data-ttu-id="deb1c-265">Pojedynczej dzierżawy: Jeśli tworzysz aplikację tylko dla organizacji, musi być zarejestrowana w katalogu firmy przy użyciu hello portalu Azure.</span><span class="sxs-lookup"><span data-stu-id="deb1c-265">Single Tenant: If you are building an application just for your organization, it must be registered in your company’s directory by using hello Azure Portal.</span></span>
* <span data-ttu-id="deb1c-266">Wielodostępne: Jeśli tworzysz aplikację, która może być używane przez użytkowników spoza organizacji, to musi być zarejestrowana w katalogu firmy, ale musi być zarejestrowana w poszczególnych organizacji w katalogu, który będzie używany w aplikacji hello.</span><span class="sxs-lookup"><span data-stu-id="deb1c-266">Multi-Tenant: If you are building an application that can be used by users outside your organization, it must be registered in your company’s directory, but also must be registered in each organization’s directory that will be using hello application.</span></span> <span data-ttu-id="deb1c-267">toomake dostępnych w ich katalogu aplikacji, można dołączyć procesu tworzenia konta dla klientów, które umożliwia im tooconsent tooyour aplikacji.</span><span class="sxs-lookup"><span data-stu-id="deb1c-267">toomake your application available in their directory, you can include a sign-up process for your customers that enables them tooconsent tooyour application.</span></span> <span data-ttu-id="deb1c-268">Rejestracji aplikacji, ich zostanie wyświetlone okno dialogowe, które pokazuje aplikacji hello uprawnienia hello wymaga, a następnie hello tooconsent opcji.</span><span class="sxs-lookup"><span data-stu-id="deb1c-268">When they sign up for your application, they will be presented with a dialog that shows hello permissions hello application requires, and then hello option tooconsent.</span></span> <span data-ttu-id="deb1c-269">W zależności od hello wymagane uprawnienia administratora w hello innej organizacji mogą być wymagane zgody toogive.</span><span class="sxs-lookup"><span data-stu-id="deb1c-269">Depending on hello required permissions, an administrator in hello other organization may be required toogive consent.</span></span> <span data-ttu-id="deb1c-270">Gdy hello użytkownik lub administrator wyraża zgodę, aplikacja hello jest zarejestrowany w ich katalogu.</span><span class="sxs-lookup"><span data-stu-id="deb1c-270">When hello user or administrator consents, hello application is registered in their directory.</span></span> <span data-ttu-id="deb1c-271">Aby uzyskać więcej informacji, zobacz [integracji aplikacji z usługą Azure Active Directory](active-directory-integrating-applications.md).</span><span class="sxs-lookup"><span data-stu-id="deb1c-271">For more information, see [Integrating Applications with Azure Active Directory](active-directory-integrating-applications.md).</span></span>

#### <a name="token-expiration"></a><span data-ttu-id="deb1c-272">Wygaśnięcia tokenu</span><span class="sxs-lookup"><span data-stu-id="deb1c-272">Token Expiration</span></span>
<span data-ttu-id="deb1c-273">Hello sesja wygasa po upływie okresu istnienia hello hello token wystawiony przez usługę Azure AD.</span><span class="sxs-lookup"><span data-stu-id="deb1c-273">hello user’s session expires when hello lifetime of hello token issued by Azure AD expires.</span></span> <span data-ttu-id="deb1c-274">Aplikację można zmniejszyć tym okresie, w razie potrzeby, takie jak wylogowywania użytkowników oparte na okresie braku aktywności.</span><span class="sxs-lookup"><span data-stu-id="deb1c-274">Your application can shorten this time period if desired, such as signing out users based on a period of inactivity.</span></span> <span data-ttu-id="deb1c-275">Po wygaśnięciu sesji hello hello użytkownik będzie ponownie zostanie wyświetlony monit o toosign w.</span><span class="sxs-lookup"><span data-stu-id="deb1c-275">When hello session expires, hello user will be prompted toosign in again.</span></span>

### <a name="single-page-application-spa"></a><span data-ttu-id="deb1c-276">Jednostronicowej aplikacji JEDNOSTRONICOWEJ</span><span class="sxs-lookup"><span data-stu-id="deb1c-276">Single Page Application (SPA)</span></span>
<span data-ttu-id="deb1c-277">W tej sekcji opisano uwierzytelnianie dla jednej aplikacji strony, która używa usługi Azure AD i hello niejawne autoryzacji OAuth 2.0 udzielić toosecure zakończenia jego interfejsu API sieci web ponownie.</span><span class="sxs-lookup"><span data-stu-id="deb1c-277">This section describes authentication for a Single Page Application, that uses Azure AD and hello OAuth 2.0 implicit authorization grant toosecure its web API back end.</span></span> <span data-ttu-id="deb1c-278">Aplikacje jednostronicowe zwykle mają strukturę jako Warstwa prezentacji JavaScript (frontonu) uruchomioną w przeglądarce hello i interfejsu API sieci Web wewnętrznej działającą na serwerze i implementuje hello logiki biznesowej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="deb1c-278">Single Page Applications are typically structured as a JavaScript presentation layer (front end) that runs in hello browser and a Web API back end that runs on a server and implements hello application’s business logic.</span></span> <span data-ttu-id="deb1c-279">Zobacz toolearn więcej informacji na temat udzielania autoryzacji niejawne hello i pomoc można zdecydować, czy odpowiednie dla danego scenariusza aplikacji [hello opis OAuth2 niejawne Przyznaj przepływu w usłudze Azure Active Directory](active-directory-dev-understanding-oauth2-implicit-grant.md).</span><span class="sxs-lookup"><span data-stu-id="deb1c-279">toolearn more about hello implicit authorization grant, and help you decide whether it's right for your application scenario, see [Understanding hello OAuth2 implicit grant flow in Azure Active Directory](active-directory-dev-understanding-oauth2-implicit-grant.md).</span></span>

<span data-ttu-id="deb1c-280">W tym scenariuszu po zalogowaniu użytkownika hello hello JavaScript front end używa [biblioteki uwierzytelniania usługi Active Directory dla języka JavaScript (ADAL. JS)](https://github.com/AzureAD/azure-activedirectory-library-for-js/tree/dev) i autoryzacji niejawne hello udzielić tooobtain identyfikator tokenu (żądaniu) z usługi Azure AD.</span><span class="sxs-lookup"><span data-stu-id="deb1c-280">In this scenario, when hello user signs in, hello JavaScript front end uses [Active Directory Authentication Library for JavaScript (ADAL.JS)](https://github.com/AzureAD/azure-activedirectory-library-for-js/tree/dev) and hello implicit authorization grant tooobtain an ID token (id_token) from Azure AD.</span></span> <span data-ttu-id="deb1c-281">Hello token jest buforowany i powitania klienta dołączona toohello żądania jako token elementu nośnego hello wywołania końcowego, który jest zabezpieczone przy użyciu oprogramowania pośredniczącego OWIN hello powrotem tooits interfejsu API sieci Web.</span><span class="sxs-lookup"><span data-stu-id="deb1c-281">hello token is cached and hello client attaches it toohello request as hello bearer token when making calls tooits Web API back end, which is secured using hello OWIN middleware.</span></span> 

#### <a name="diagram"></a><span data-ttu-id="deb1c-282">Diagram</span><span class="sxs-lookup"><span data-stu-id="deb1c-282">Diagram</span></span>
![Jeden diagram strony aplikacji](./media/active-directory-authentication-scenarios/single_page_app.png)

#### <a name="description-of-protocol-flow"></a><span data-ttu-id="deb1c-284">Opis protokołu przepływu</span><span class="sxs-lookup"><span data-stu-id="deb1c-284">Description of Protocol Flow</span></span>
1. <span data-ttu-id="deb1c-285">Witaj, użytkownik przechodzi toohello aplikacji sieci web.</span><span class="sxs-lookup"><span data-stu-id="deb1c-285">hello user navigates toohello web application.</span></span>
2. <span data-ttu-id="deb1c-286">Aplikacja Hello zwraca hello JavaScript frontonu (Warstwa prezentacji) toohello przeglądarki.</span><span class="sxs-lookup"><span data-stu-id="deb1c-286">hello application returns hello JavaScript front end (presentation layer) toohello browser.</span></span>
3. <span data-ttu-id="deb1c-287">Użytkownik Hello inicjuje logowania, na przykład klikając znak łącza.</span><span class="sxs-lookup"><span data-stu-id="deb1c-287">hello user initiates sign in, for example by clicking a sign in link.</span></span> <span data-ttu-id="deb1c-288">Przeglądarka Hello wysyła toorequest toohello punktu końcowego autoryzacji usługi Azure AD GET token Identyfikatora.</span><span class="sxs-lookup"><span data-stu-id="deb1c-288">hello browser sends a GET toohello Azure AD authorization endpoint toorequest an ID token.</span></span> <span data-ttu-id="deb1c-289">To żądanie zawiera hello identyfikator i odpowiedzi adres URL aplikacji hello parametry zapytania.</span><span class="sxs-lookup"><span data-stu-id="deb1c-289">This request includes hello application ID and reply URL in hello query parameters.</span></span>
4. <span data-ttu-id="deb1c-290">Usługi Azure AD weryfikuje hello adres URL odpowiedzi przed hello zarejestrowany adres URL odpowiedzi, który został skonfigurowany w hello portalu Azure.</span><span class="sxs-lookup"><span data-stu-id="deb1c-290">Azure AD validates hello Reply URL against hello registered Reply URL that was configured in hello Azure Portal.</span></span>
5. <span data-ttu-id="deb1c-291">Witaj użytkownik loguje się na powitania strony logowania.</span><span class="sxs-lookup"><span data-stu-id="deb1c-291">hello user signs in on hello sign-in page.</span></span>
6. <span data-ttu-id="deb1c-292">Jeśli uwierzytelnianie zakończy się pomyślnie, usługi Azure AD umożliwia utworzenie tokenu identyfikator i zwraca go jako adresu URL fragmentu # toohello odpowiedzi adresem URL aplikacji.</span><span class="sxs-lookup"><span data-stu-id="deb1c-292">If authentication is successful, Azure AD creates an ID token and returns it as a URL fragment (#) toohello application’s Reply URL.</span></span> <span data-ttu-id="deb1c-293">W przypadku aplikacji produkcyjnej ten adres URL odpowiedzi powinna być HTTPS.</span><span class="sxs-lookup"><span data-stu-id="deb1c-293">For a production application, this Reply URL should be HTTPS.</span></span> <span data-ttu-id="deb1c-294">Witaj zwrócił token zawiera oświadczenia dotyczące użytkownika hello i Azure AD, które są wymagane przez token hello toovalidate aplikacji hello.</span><span class="sxs-lookup"><span data-stu-id="deb1c-294">hello returned token includes claims about hello user and Azure AD that are required by hello application toovalidate hello token.</span></span>
7. <span data-ttu-id="deb1c-295">Kod klienta JavaScript Hello uruchomiony w przeglądarce hello wyodrębnia hello token z toouse odpowiedzi hello zabezpieczania wywołania zakończenia toohello aplikacji interfejsu API sieci web ponownie.</span><span class="sxs-lookup"><span data-stu-id="deb1c-295">hello JavaScript client code running in hello browser extracts hello token from hello response toouse in securing calls toohello application’s web API back end.</span></span>
8. <span data-ttu-id="deb1c-296">wywołania przeglądarki Hello hello aplikacji sieci web w nagłówku autoryzacji hello interfejsu API z powrotem kończyć hello tokenu dostępu.</span><span class="sxs-lookup"><span data-stu-id="deb1c-296">hello browser calls hello application’s web API back end with hello access token in hello authorization header.</span></span>

#### <a name="code-samples"></a><span data-ttu-id="deb1c-297">Przykłady kodu</span><span class="sxs-lookup"><span data-stu-id="deb1c-297">Code Samples</span></span>
<span data-ttu-id="deb1c-298">Zobacz hello przykłady kodu dla scenariuszy jednej strony aplikacji JEDNOSTRONICOWEJ.</span><span class="sxs-lookup"><span data-stu-id="deb1c-298">See hello code samples for Single Page Application (SPA) scenarios.</span></span> <span data-ttu-id="deb1c-299">Należy się toocheck wstecz często — możemy dodać nowe próbki cały czas hello.</span><span class="sxs-lookup"><span data-stu-id="deb1c-299">Be sure toocheck back frequently -- we add new samples all hello time.</span></span> <span data-ttu-id="deb1c-300">[Pojedynczy strony aplikacji JEDNOSTRONICOWEJ](active-directory-code-samples.md#single-page-application-spa).</span><span class="sxs-lookup"><span data-stu-id="deb1c-300">[Single Page Application (SPA)](active-directory-code-samples.md#single-page-application-spa).</span></span>

#### <a name="registering"></a><span data-ttu-id="deb1c-301">Rejestrowanie</span><span class="sxs-lookup"><span data-stu-id="deb1c-301">Registering</span></span>
* <span data-ttu-id="deb1c-302">Pojedynczej dzierżawy: Jeśli tworzysz aplikację tylko dla organizacji, musi być zarejestrowana w katalogu firmy przy użyciu hello portalu Azure.</span><span class="sxs-lookup"><span data-stu-id="deb1c-302">Single Tenant: If you are building an application just for your organization, it must be registered in your company’s directory by using hello Azure Portal.</span></span>
* <span data-ttu-id="deb1c-303">Wielodostępne: Jeśli tworzysz aplikację, która może być używane przez użytkowników spoza organizacji, to musi być zarejestrowana w katalogu firmy, ale musi być zarejestrowana w poszczególnych organizacji w katalogu, który będzie używany w aplikacji hello.</span><span class="sxs-lookup"><span data-stu-id="deb1c-303">Multi-Tenant: If you are building an application that can be used by users outside your organization, it must be registered in your company’s directory, but also must be registered in each organization’s directory that will be using hello application.</span></span> <span data-ttu-id="deb1c-304">toomake dostępnych w ich katalogu aplikacji, można dołączyć procesu tworzenia konta dla klientów, które umożliwia im tooconsent tooyour aplikacji.</span><span class="sxs-lookup"><span data-stu-id="deb1c-304">toomake your application available in their directory, you can include a sign-up process for your customers that enables them tooconsent tooyour application.</span></span> <span data-ttu-id="deb1c-305">Rejestracji aplikacji, ich zostanie wyświetlone okno dialogowe, które pokazuje aplikacji hello uprawnienia hello wymaga, a następnie hello tooconsent opcji.</span><span class="sxs-lookup"><span data-stu-id="deb1c-305">When they sign up for your application, they will be presented with a dialog that shows hello permissions hello application requires, and then hello option tooconsent.</span></span> <span data-ttu-id="deb1c-306">W zależności od hello wymagane uprawnienia administratora w hello innej organizacji mogą być wymagane zgody toogive.</span><span class="sxs-lookup"><span data-stu-id="deb1c-306">Depending on hello required permissions, an administrator in hello other organization may be required toogive consent.</span></span> <span data-ttu-id="deb1c-307">Gdy hello użytkownik lub administrator wyraża zgodę, aplikacja hello jest zarejestrowany w ich katalogu.</span><span class="sxs-lookup"><span data-stu-id="deb1c-307">When hello user or administrator consents, hello application is registered in their directory.</span></span> <span data-ttu-id="deb1c-308">Aby uzyskać więcej informacji, zobacz [integracji aplikacji z usługą Azure Active Directory](active-directory-integrating-applications.md).</span><span class="sxs-lookup"><span data-stu-id="deb1c-308">For more information, see [Integrating Applications with Azure Active Directory](active-directory-integrating-applications.md).</span></span>

<span data-ttu-id="deb1c-309">Po zarejestrowaniu aplikacji hello musi być skonfigurowany toouse protokołu OAuth 2.0 niejawne Przyznaj.</span><span class="sxs-lookup"><span data-stu-id="deb1c-309">After registering hello application, it must be configured toouse OAuth 2.0 Implicit Grant protocol.</span></span> <span data-ttu-id="deb1c-310">Domyślnie ten protokół jest wyłączone dla aplikacji.</span><span class="sxs-lookup"><span data-stu-id="deb1c-310">By default, this protocol is disabled for applications.</span></span> <span data-ttu-id="deb1c-311">Witaj tooenable protokołu OAuth2 niejawne Przyznaj aplikacji, Edytuj jej w manifeście aplikacji z portalu Azure hello i ustaw tootrue wartość "oauth2AllowImplicitFlow" hello.</span><span class="sxs-lookup"><span data-stu-id="deb1c-311">tooenable hello OAuth2 Implicit Grant protocol for your application, edit its application manifest from hello Azure Portal and set hello “oauth2AllowImplicitFlow” value tootrue.</span></span> <span data-ttu-id="deb1c-312">Aby uzyskać szczegółowe instrukcje, zobacz [włączenie OAuth 2.0 niejawne Przyznaj dla aplikacje jednostronicowe](active-directory-integrating-applications.md).</span><span class="sxs-lookup"><span data-stu-id="deb1c-312">For detailed instructions, see [Enabling OAuth 2.0 Implicit Grant for Single Page Applications](active-directory-integrating-applications.md).</span></span>

#### <a name="token-expiration"></a><span data-ttu-id="deb1c-313">Wygaśnięcia tokenu</span><span class="sxs-lookup"><span data-stu-id="deb1c-313">Token Expiration</span></span>
<span data-ttu-id="deb1c-314">Gdy używasz uwierzytelniania toomanage ADAL.js z usługą Azure AD, korzystać z kilku funkcji, które ułatwiają wygasły token odświeżania, a także uzyskiwania tokenów dodatkowe sieci web interfejsu API zasobów, które może być wywoływany przez aplikacji hello.</span><span class="sxs-lookup"><span data-stu-id="deb1c-314">When you use ADAL.js toomanage authentication with Azure AD, you benefit from several features that facilitate refreshing an expired token as well as getting tokens for additional web API resources that may be called by hello application.</span></span> <span data-ttu-id="deb1c-315">Gdy hello użytkownik zostanie pomyślnie uwierzytelniony z usługą Azure AD, zabezpieczone przez plik cookie sesji zostanie nawiązane dla użytkownika hello między hello przeglądarki i Azure AD.</span><span class="sxs-lookup"><span data-stu-id="deb1c-315">When hello user successfully authenticates with Azure AD, a session secured by a cookie is established for hello user between hello browser and Azure AD.</span></span> <span data-ttu-id="deb1c-316">Jest ważne toonote, który hello sesji istnieje między hello użytkownika i Azure AD i nie między hello użytkownika i aplikacji sieci web hello na powitania serwera.</span><span class="sxs-lookup"><span data-stu-id="deb1c-316">It’s important toonote that hello session exists between hello user and Azure AD and not between hello user and hello web application running on hello server.</span></span> <span data-ttu-id="deb1c-317">Po wygaśnięciu tokenu ADAL.js używa tej sesji toosilently uzyskać inny token.</span><span class="sxs-lookup"><span data-stu-id="deb1c-317">When a token expires, ADAL.js uses this session toosilently obtain another token.</span></span> <span data-ttu-id="deb1c-318">Dokonuje tego przy użyciu toosend ukryte iFrame, a mógł odebrać Żądanie hello przy użyciu protokołu OAuth niejawne Przyznaj hello.</span><span class="sxs-lookup"><span data-stu-id="deb1c-318">It does this by using a hidden iFrame toosend and receive hello request using hello OAuth Implicit Grant protocol.</span></span> <span data-ttu-id="deb1c-319">ADAL.js można również użyć ten sam mechanizm toosilently uzyskanie tokenów dostępu z usługą Azure AD, inne zasoby interfejsu API czy wywołania aplikacji hello tak długo, jak te zasoby obsługuje współużytkowanie zasobów między źródłami (CORS), do udostępniania są zarejestrowane w katalogu użytkownika hello i wszystkie wymagane zgody podał hello użytkownika podczas logowania.</span><span class="sxs-lookup"><span data-stu-id="deb1c-319">ADAL.js can also use this same mechanism toosilently obtain access tokens from Azure AD for other web API resources that hello application calls as long as these resources support cross-origin resource sharing (CORS), are registered in hello user’s directory, and any required consent was given by hello user during sign-in.</span></span>

### <a name="native-application-tooweb-api"></a><span data-ttu-id="deb1c-320">Natywny tooWeb aplikacji interfejsu API</span><span class="sxs-lookup"><span data-stu-id="deb1c-320">Native Application tooWeb API</span></span>
<span data-ttu-id="deb1c-321">W tej sekcji opisano natywnych aplikacji, która wywołuje interfejs API sieci web w imieniu użytkownika.</span><span class="sxs-lookup"><span data-stu-id="deb1c-321">This section describes a native application that calls a web API on behalf of a user.</span></span> <span data-ttu-id="deb1c-322">Ten scenariusz jest zbudowany na typ grant kodu autoryzacji hello OAuth 2.0 za pomocą publicznego klienta, zgodnie z opisem w sekcji 4.1 hello [Specyfikacja protokołu OAuth 2.0](http://tools.ietf.org/html/rfc6749).</span><span class="sxs-lookup"><span data-stu-id="deb1c-322">This scenario is built on hello OAuth 2.0 authorization code grant type with a public client, as described in section 4.1 of hello [OAuth 2.0 specification](http://tools.ietf.org/html/rfc6749).</span></span> <span data-ttu-id="deb1c-323">natywnych aplikacji Hello uzyskuje token dostępu dla użytkownika hello przy użyciu protokołu hello OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="deb1c-323">hello native application obtains an access token for hello user by using hello OAuth 2.0 protocol.</span></span> <span data-ttu-id="deb1c-324">Ten token dostępu jest następnie wysyłane hello żądanie toohello interfejsu API sieci web, które autoryzują użytkowników hello i zwraca hello żądanego zasobu.</span><span class="sxs-lookup"><span data-stu-id="deb1c-324">This access token is then sent in hello request toohello web API, which authorizes hello user and returns hello desired resource.</span></span>

#### <a name="diagram"></a><span data-ttu-id="deb1c-325">Diagram</span><span class="sxs-lookup"><span data-stu-id="deb1c-325">Diagram</span></span>
![Natywny tooWeb aplikacji interfejsu API diagramu](./media/active-directory-authentication-scenarios/native_app_to_web_api.png)

#### <a name="authentication-flow-for-native-application-tooapi"></a><span data-ttu-id="deb1c-327">Przepływ uwierzytelniania dla aplikacji natywnej tooAPI</span><span class="sxs-lookup"><span data-stu-id="deb1c-327">Authentication flow for native application tooAPI</span></span>
#### <a name="description-of-protocol-flow"></a><span data-ttu-id="deb1c-328">Opis protokołu przepływu</span><span class="sxs-lookup"><span data-stu-id="deb1c-328">Description of Protocol Flow</span></span>
<span data-ttu-id="deb1c-329">Jeśli korzystasz z biblioteki uwierzytelniania hello AD, większość szczegóły protokołu hello opisanych poniżej są obsługiwane, takich jak okienko wyskakujące przeglądarki hello buforowaniem tokena i Obsługa tokenów odświeżania.</span><span class="sxs-lookup"><span data-stu-id="deb1c-329">If you are using hello AD Authentication Libraries, most of hello protocol details described below are handled for you, such as hello browser pop-up, token caching, and handling of refresh tokens.</span></span>

1. <span data-ttu-id="deb1c-330">Przy użyciu okienko wyskakujące przeglądarki, natywnych aplikacji hello sprawia, że punkt końcowy autoryzacji toohello żądania w usłudze Azure AD.</span><span class="sxs-lookup"><span data-stu-id="deb1c-330">Using a browser pop-up, hello native application makes a request toohello authorization endpoint in Azure AD.</span></span> <span data-ttu-id="deb1c-331">To żądanie zawiera hello identyfikator aplikacji i hello przekierowania URI natywnych aplikacji hello, jak pokazano na powitania portalu Azure i aplikacji hello identyfikator URI dla interfejsu API sieci web hello.</span><span class="sxs-lookup"><span data-stu-id="deb1c-331">This request includes hello Application ID and hello redirect URI of hello native application as shown in hello Azure Portal, and hello application ID URI for hello web API.</span></span> <span data-ttu-id="deb1c-332">Jeśli użytkownik hello nie jest już zalogowany, zostanie wyświetlony monit o toosign w ponownie są</span><span class="sxs-lookup"><span data-stu-id="deb1c-332">If hello user hasn’t already signed in, they are prompted toosign in again</span></span>
2. <span data-ttu-id="deb1c-333">Usługa Azure AD uwierzytelnia użytkownika hello.</span><span class="sxs-lookup"><span data-stu-id="deb1c-333">Azure AD authenticates hello user.</span></span> <span data-ttu-id="deb1c-334">Jeśli jest to aplikacja wielodostępnych aplikacji hello toouse wymagana jest zgoda, użytkownik hello będzie tooconsent wymagane, jeśli ich nie zostało to jeszcze zrobione.</span><span class="sxs-lookup"><span data-stu-id="deb1c-334">If it is a multi-tenant application and consent is required toouse hello application, hello user will be required tooconsent if they haven’t already done so.</span></span> <span data-ttu-id="deb1c-335">Po przyznaniu zgody i po pomyślnym uwierzytelnieniu usługa Azure AD wystawia autoryzacji kod odpowiedzi wstecz toohello klienta przez identyfikator URI przekierowania aplikacji.</span><span class="sxs-lookup"><span data-stu-id="deb1c-335">After granting consent and upon successful authentication, Azure AD issues an authorization code response back toohello client application’s redirect URI.</span></span>
3. <span data-ttu-id="deb1c-336">Gdy usługa Azure AD wystawia wstecz odpowiedzi kod autoryzacji toohello identyfikator URI przekierowania, hello kodem aplikacji klienta zatrzymuje przeglądarki interakcji i wyodrębnia hello autoryzacji z odpowiedzi hello.</span><span class="sxs-lookup"><span data-stu-id="deb1c-336">When Azure AD issues an authorization code response back toohello redirect URI, hello client application stops browser interaction and extracts hello authorization code from hello response.</span></span> <span data-ttu-id="deb1c-337">Przy użyciu tego kodu autoryzacji, aplikacja kliencka hello wysyła żądanie tooAzure Directory token punktu końcowego, który zawiera kod autoryzacji hello, szczegółowe informacje o hello aplikacji klienta (identyfikator aplikacji i identyfikator URI przekierowania) i hello żądanego zasobu (identyfikator aplikacji Identyfikator URI dla interfejsu API sieci web hello).</span><span class="sxs-lookup"><span data-stu-id="deb1c-337">Using this authorization code, hello client application sends a request tooAzure AD’s token endpoint that includes hello authorization code, details about hello client application (Application ID and redirect URI), and hello desired resource (application ID URI for hello web API).</span></span>
4. <span data-ttu-id="deb1c-338">Kod autoryzacji Hello i informacje dotyczące aplikacji klienckiej hello i interfejs API sieci web są weryfikowane przez usługę Azure AD.</span><span class="sxs-lookup"><span data-stu-id="deb1c-338">hello authorization code and information about hello client application and web API are validated by Azure AD.</span></span> <span data-ttu-id="deb1c-339">Po pomyślnym zweryfikowaniem usługi Azure AD zwraca dwa tokeny: token JWT dostępu i token odświeżania JWT.</span><span class="sxs-lookup"><span data-stu-id="deb1c-339">Upon successful validation, Azure AD returns two tokens: a JWT access token and a JWT refresh token.</span></span> <span data-ttu-id="deb1c-340">Ponadto usługi Azure AD zwraca podstawowe informacje o użytkowniku hello, takie jak ich wyświetlaną nazwę i dzierżawy identyfikatorów.</span><span class="sxs-lookup"><span data-stu-id="deb1c-340">In addition, Azure AD returns basic information about hello user, such as their display name and tenant ID.</span></span>
5. <span data-ttu-id="deb1c-341">Przy użyciu protokołu HTTPS aplikacja kliencka hello używa hello zwracane hello tooadd tokenu dostępu JWT ciąg tokenu JWT z oznaczeniem "Bearer" w nagłówku autoryzacji hello hello żądanie toohello interfejsu API sieci web.</span><span class="sxs-lookup"><span data-stu-id="deb1c-341">Over HTTPS, hello client application uses hello returned JWT access token tooadd hello JWT string with a “Bearer” designation in hello Authorization header of hello request toohello web API.</span></span> <span data-ttu-id="deb1c-342">Interfejs API sieci web Hello następnie weryfikuje hello JWT token, a Jeśli weryfikacja zakończy się pomyślnie, zwraca hello żądanego zasobu.</span><span class="sxs-lookup"><span data-stu-id="deb1c-342">hello web API then validates hello JWT token, and if validation is successful, returns hello desired resource.</span></span>
6. <span data-ttu-id="deb1c-343">Po wygaśnięciu tokenu dostępu hello powitania klienta aplikacji zostanie wyświetlony błąd, który wskazuje, że użytkownik hello musi tooauthenticate ponownie.</span><span class="sxs-lookup"><span data-stu-id="deb1c-343">When hello access token expires, hello client application will receive an error that indicates hello user needs tooauthenticate again.</span></span> <span data-ttu-id="deb1c-344">Aplikacja hello ma token odświeżania prawidłowy, można używane tooacquire nowy token dostępu bez monitowania użytkownika toosign w Witaj ponownie.</span><span class="sxs-lookup"><span data-stu-id="deb1c-344">If hello application has a valid refresh token, it can be used tooacquire a new access token without prompting hello user toosign in again.</span></span> <span data-ttu-id="deb1c-345">Jeśli token odświeżania hello wygaśnie, należy aplikacji hello toointeractively uwierzytelnić użytkownika hello jeszcze raz.</span><span class="sxs-lookup"><span data-stu-id="deb1c-345">If hello refresh token expires, hello application will need toointeractively authenticate hello user once again.</span></span>

> [!NOTE]
> <span data-ttu-id="deb1c-346">token odświeżania Hello wystawiony przez usługę Azure AD mogą być używane tooaccess wielu zasobów.</span><span class="sxs-lookup"><span data-stu-id="deb1c-346">hello refresh token issued by Azure AD can be used tooaccess multiple resources.</span></span> <span data-ttu-id="deb1c-347">Na przykład jeśli masz aplikacji klienckiej, która ma uprawnienia interfejsów API sieci web toocall dwa token odświeżania hello może być używane tooget dostępu tokenu toohello innego interfejsu API sieci web w również.</span><span class="sxs-lookup"><span data-stu-id="deb1c-347">For example, if you have a client application that has permission toocall two web APIs, hello refresh token can be used tooget an access token toohello other web API as well.</span></span>
> 
> 

#### <a name="code-samples"></a><span data-ttu-id="deb1c-348">Przykłady kodu</span><span class="sxs-lookup"><span data-stu-id="deb1c-348">Code Samples</span></span>
<span data-ttu-id="deb1c-349">Zobacz hello przykłady kodu dla scenariuszy interfejsu API tooWeb natywnych aplikacji.</span><span class="sxs-lookup"><span data-stu-id="deb1c-349">See hello code samples for Native Application tooWeb API scenarios.</span></span> <span data-ttu-id="deb1c-350">I wrócić tu często — możemy dodać nowe próbki cały czas hello.</span><span class="sxs-lookup"><span data-stu-id="deb1c-350">And, check back frequently -- we add new samples all hello time.</span></span> <span data-ttu-id="deb1c-351">[Natywny tooWeb aplikacji interfejsu API](active-directory-code-samples.md#native-application-to-web-api).</span><span class="sxs-lookup"><span data-stu-id="deb1c-351">[Native Application tooWeb API](active-directory-code-samples.md#native-application-to-web-api).</span></span>

#### <a name="registering"></a><span data-ttu-id="deb1c-352">Rejestrowanie</span><span class="sxs-lookup"><span data-stu-id="deb1c-352">Registering</span></span>
* <span data-ttu-id="deb1c-353">Pojedynczej dzierżawy: Zarówno hello aplikacji natywnej i hello interfejsu API sieci web musi być zarejestrowana w hello tym samym katalogu w usłudze Azure AD.</span><span class="sxs-lookup"><span data-stu-id="deb1c-353">Single Tenant: Both hello native application and hello web API must be registered in hello same directory in Azure AD.</span></span> <span data-ttu-id="deb1c-354">Witaj interfejsu API sieci web może być skonfigurowany tooexpose zestaw uprawnień, które są używane toolimit hello natywnych aplikacji dostęp do zasobów tooits.</span><span class="sxs-lookup"><span data-stu-id="deb1c-354">hello web API can be configured tooexpose a set of permissions, which are used toolimit hello native application’s access tooits resources.</span></span> <span data-ttu-id="deb1c-355">następnie aplikacja kliencka Hello wybiera hello potrzebne uprawnienia z menu rozwijanego "TooOther uprawnienia aplikacji" hello w hello portalu Azure.</span><span class="sxs-lookup"><span data-stu-id="deb1c-355">hello client application then selects hello desired permissions from hello “Permissions tooOther Applications” drop-down menu in hello Azure Portal.</span></span>
* <span data-ttu-id="deb1c-356">Wielodostępne: Po raz pierwszy, natywnych aplikacji hello tylko zarejestrowane w katalogu wydawcy lub hello developer.</span><span class="sxs-lookup"><span data-stu-id="deb1c-356">Multi-Tenant: First, hello native application only ever registered in hello developer or publisher’s directory.</span></span> <span data-ttu-id="deb1c-357">Po drugie natywnych aplikacji hello są uprawnienia hello skonfigurowanego tooindicate wymaga toobe funkcjonalności.</span><span class="sxs-lookup"><span data-stu-id="deb1c-357">Second, hello native application is configured tooindicate hello permissions it requires toobe functional.</span></span> <span data-ttu-id="deb1c-358">Ta lista wymaganych uprawnień jest wyświetlany w oknie dialogowym, jeśli użytkownik lub administrator w katalogu docelowym hello daje aplikacji toohello zgody, dzięki czemu dostępne tootheir organizacji.</span><span class="sxs-lookup"><span data-stu-id="deb1c-358">This list of required permissions is shown in a dialog when a user or administrator in hello destination directory gives consent toohello application, which makes it available tootheir organization.</span></span> <span data-ttu-id="deb1c-359">Niektóre aplikacje wymagają tylko użytkownika poziomu uprawnień, które każdy użytkownik w organizacji hello można wyrazić zgodę na.</span><span class="sxs-lookup"><span data-stu-id="deb1c-359">Some applications require just user-level permissions, which any user in hello organization can consent to.</span></span> <span data-ttu-id="deb1c-360">Inne aplikacje wymagają uprawnień na poziomie administratora, które użytkownik w organizacji hello nie można wyrazić zgodę na.</span><span class="sxs-lookup"><span data-stu-id="deb1c-360">Other applications require administrator-level permissions, which a user in hello organization cannot consent to.</span></span> <span data-ttu-id="deb1c-361">Tylko administrator katalogu, który pozwala tooapplications zgody, które wymagają tego poziomu uprawnień.</span><span class="sxs-lookup"><span data-stu-id="deb1c-361">Only a directory administrator can give consent tooapplications that require this level of permissions.</span></span> <span data-ttu-id="deb1c-362">Gdy użytkownik hello lub administrator wyrazi na to zgody, tylko hello interfejsu API sieci web jest zarejestrowany w ich katalogu.</span><span class="sxs-lookup"><span data-stu-id="deb1c-362">When hello user or administrator consents, only hello web API is registered in their directory.</span></span> <span data-ttu-id="deb1c-363">Aby uzyskać więcej informacji, zobacz [integracji aplikacji z usługą Azure Active Directory](active-directory-integrating-applications.md).</span><span class="sxs-lookup"><span data-stu-id="deb1c-363">For more information, see [Integrating Applications with Azure Active Directory](active-directory-integrating-applications.md).</span></span>

#### <a name="token-expiration"></a><span data-ttu-id="deb1c-364">Wygaśnięcia tokenu</span><span class="sxs-lookup"><span data-stu-id="deb1c-364">Token Expiration</span></span>
<span data-ttu-id="deb1c-365">Gdy natywnych aplikacji hello używa jej tooget kod autoryzacji tokenu JWT dostępu, również odbiera token odświeżania JWT.</span><span class="sxs-lookup"><span data-stu-id="deb1c-365">When hello native application uses its authorization code tooget a JWT access token, it also receives a JWT refresh token.</span></span> <span data-ttu-id="deb1c-366">Po wygaśnięciu tokenu dostępu hello token odświeżania hello mogą być używane toore-uwierzytelnić użytkownika hello bez konieczności ich toosign w ponownie.</span><span class="sxs-lookup"><span data-stu-id="deb1c-366">When hello access token expires, hello refresh token can be used toore-authenticate hello user without requiring them toosign in again.</span></span> <span data-ttu-id="deb1c-367">Ten token odświeżania jest używane tooauthenticate hello użytkownika, nowe dostępu, którego wynikiem token i Odśwież tokenu.</span><span class="sxs-lookup"><span data-stu-id="deb1c-367">This refresh token is then used tooauthenticate hello user, which results in a new access token and refresh token.</span></span>

### <a name="web-application-tooweb-api"></a><span data-ttu-id="deb1c-368">TooWeb aplikacji sieci Web interfejsu API</span><span class="sxs-lookup"><span data-stu-id="deb1c-368">Web Application tooWeb API</span></span>
<span data-ttu-id="deb1c-369">W tej sekcji opisano aplikacji sieci web, która potrzebuje zasobów tooget z interfejsu API sieci web.</span><span class="sxs-lookup"><span data-stu-id="deb1c-369">This section describes a web application that needs tooget resources from a web API.</span></span> <span data-ttu-id="deb1c-370">W tym scenariuszu istnieją dwa typy tożsamości, które hello aplikacji sieci web można używać tooauthenticate i wywołania interfejsu API sieci web hello: tożsamość aplikacji lub tożsamości użytkownika delegowanego.</span><span class="sxs-lookup"><span data-stu-id="deb1c-370">In this scenario, there are two identity types that hello web application can use tooauthenticate and call hello web API: an application identity, or a delegated user identity.</span></span>

<span data-ttu-id="deb1c-371">*Tożsamość aplikacji:* interfejs API sieci web to scenariusz korzysta z poświadczeń klienta OAuth 2.0 przyznanie tooauthenticate jako aplikacja hello i hello dostępu.</span><span class="sxs-lookup"><span data-stu-id="deb1c-371">*Application identity:* This scenario uses OAuth 2.0 client credentials grant tooauthenticate as hello application and access hello web API.</span></span> <span data-ttu-id="deb1c-372">Korzystając z tożsamością aplikacji sieci web hello interfejsu API tylko może wykryć, czy wywołanie aplikacji sieci web hello, jako hello interfejsu API sieci web nie otrzymuje żadnych informacji o hello użytkownika.</span><span class="sxs-lookup"><span data-stu-id="deb1c-372">When using an application identity, hello web API can only detect that hello web application is calling it, as hello web API does not receive any information about hello user.</span></span> <span data-ttu-id="deb1c-373">Jeśli aplikacja hello odbiera informacje o użytkowniku hello, zostaną wysłane za pośrednictwem protokołu aplikacji hello i nie jest podpisany przez usługę Azure AD.</span><span class="sxs-lookup"><span data-stu-id="deb1c-373">If hello application receives information about hello user, it will be sent via hello application protocol, and it is not signed by Azure AD.</span></span> <span data-ttu-id="deb1c-374">Interfejs API sieci web Hello zaufania, czy aplikacja sieci web hello uwierzytelniony użytkownik hello.</span><span class="sxs-lookup"><span data-stu-id="deb1c-374">hello web API trusts that hello web application authenticated hello user.</span></span> <span data-ttu-id="deb1c-375">Z tego powodu ten wzorzec jest wywoływana zaufany podsystem.</span><span class="sxs-lookup"><span data-stu-id="deb1c-375">For this reason, this pattern is called a trusted subsystem.</span></span>

<span data-ttu-id="deb1c-376">*Delegowane tożsamości użytkownika:* w tym scenariuszu można przeprowadzić na dwa sposoby: OpenID Connect i udzielania kodu autoryzacji protokołu OAuth 2.0 z klientem poufne.</span><span class="sxs-lookup"><span data-stu-id="deb1c-376">*Delegated user identity:* This scenario can be accomplished in two ways: OpenID Connect, and OAuth 2.0 authorization code grant with a confidential client.</span></span> <span data-ttu-id="deb1c-377">Aplikacja sieci web Hello uzyskuje token dostępu dla użytkownika hello, który okaże się toohello składnika web API tej aplikacji sieci web toohello użytkownik pomyślnie uwierzytelniony hello i aplikacji sieci web hello został tooobtain stanie delegowany użytkownik tożsamości toocall hello interfejsu API sieci web.</span><span class="sxs-lookup"><span data-stu-id="deb1c-377">hello web application obtains an access token for hello user, which proves toohello web API that hello user successfully authenticated toohello web application and that hello web application was able tooobtain a delegated user identity toocall hello web API.</span></span> <span data-ttu-id="deb1c-378">Ten token dostępu jest wysyłane w hello żądanie toohello interfejsu API sieci web, które autoryzują użytkowników hello i zwraca hello żądanego zasobu.</span><span class="sxs-lookup"><span data-stu-id="deb1c-378">This access token is sent in hello request toohello web API, which authorizes hello user and returns hello desired resource.</span></span>

#### <a name="diagram"></a><span data-ttu-id="deb1c-379">Diagram</span><span class="sxs-lookup"><span data-stu-id="deb1c-379">Diagram</span></span>
![Diagram tooWeb interfejsu API aplikacji w sieci Web](./media/active-directory-authentication-scenarios/web_app_to_web_api.png)

#### <a name="description-of-protocol-flow"></a><span data-ttu-id="deb1c-381">Opis protokołu przepływu</span><span class="sxs-lookup"><span data-stu-id="deb1c-381">Description of Protocol Flow</span></span>
<span data-ttu-id="deb1c-382">Zarówno hello tożsamości aplikacji i typów tożsamości użytkownika delegowanego omówiono w przepływie hello poniżej.</span><span class="sxs-lookup"><span data-stu-id="deb1c-382">Both hello application identity and delegated user identity types are discussed in hello flow below.</span></span> <span data-ttu-id="deb1c-383">Witaj klucza różnica między nimi polega na tym, że tożsamość użytkownika hello delegowane muszą kupić kod autoryzacji przed hello użytkownik może logowania i uzyskania interfejsu API sieci web toohello dostępu.</span><span class="sxs-lookup"><span data-stu-id="deb1c-383">hello key difference between them is that hello delegated user identity must first acquire an authorization code before hello user can sign-in and gain access toohello web API.</span></span>

##### <a name="application-identity-with-oauth-20-client-credentials-grant"></a><span data-ttu-id="deb1c-384">Udziel poświadczenia tożsamości aplikacji z klienta OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="deb1c-384">Application Identity with OAuth 2.0 Client Credentials Grant</span></span>
1. <span data-ttu-id="deb1c-385">Użytkownik jest zalogowany tooAzure AD w aplikacji sieci web hello (zobacz hello [tooWeb przeglądarki sieci Web aplikacji](#web-browser-to-web-application) powyżej).</span><span class="sxs-lookup"><span data-stu-id="deb1c-385">A user is signed in tooAzure AD in hello web application (see hello [Web Browser tooWeb Application](#web-browser-to-web-application) above).</span></span>
2. <span data-ttu-id="deb1c-386">Aplikacja sieci web Hello musi tooacquire tokenu dostępu, który można uwierzytelnić interfejsu API sieci web toohello i pobrać hello żądanego zasobu.</span><span class="sxs-lookup"><span data-stu-id="deb1c-386">hello web application needs tooacquire an access token so that it can authenticate toohello web API and retrieve hello desired resource.</span></span> <span data-ttu-id="deb1c-387">Powoduje to dodanie tooAzure żądania AD dla punktu końcowego tokena, hello poświadczeń, identyfikator aplikacji i aplikacji sieci web interfejsu API identyfikator URI.</span><span class="sxs-lookup"><span data-stu-id="deb1c-387">It makes a request tooAzure AD’s token endpoint, providing hello credential, Application ID, and web API’s application ID URI.</span></span>
3. <span data-ttu-id="deb1c-388">Usługi Azure AD uwierzytelnia aplikacji hello i zwraca token dostępu JWT jest interfejs API sieci web hello toocall używane.</span><span class="sxs-lookup"><span data-stu-id="deb1c-388">Azure AD authenticates hello application and returns a JWT access token that is used toocall hello web API.</span></span>
4. <span data-ttu-id="deb1c-389">Przy użyciu protokołu HTTPS aplikacja sieci web hello używa hello zwracane hello tooadd tokenu dostępu JWT ciąg tokenu JWT z oznaczeniem "Bearer" w nagłówku autoryzacji hello hello żądanie toohello interfejsu API sieci web.</span><span class="sxs-lookup"><span data-stu-id="deb1c-389">Over HTTPS, hello web application uses hello returned JWT access token tooadd hello JWT string with a “Bearer” designation in hello Authorization header of hello request toohello web API.</span></span> <span data-ttu-id="deb1c-390">Interfejs API sieci web Hello następnie weryfikuje hello JWT token, a Jeśli weryfikacja zakończy się pomyślnie, zwraca hello żądanego zasobu.</span><span class="sxs-lookup"><span data-stu-id="deb1c-390">hello web API then validates hello JWT token, and if validation is successful, returns hello desired resource.</span></span>

##### <a name="delegated-user-identity-with-openid-connect"></a><span data-ttu-id="deb1c-391">Tożsamość użytkownika delegowanego z OpenID Connect</span><span class="sxs-lookup"><span data-stu-id="deb1c-391">Delegated User Identity with OpenID Connect</span></span>
1. <span data-ttu-id="deb1c-392">Użytkownik jest zalogowany w aplikacji sieci web tooa przy użyciu usługi Azure AD (zobacz hello [tooWeb przeglądarki sieci Web aplikacji](#web-browser-to-web-application) powyższej sekcji).</span><span class="sxs-lookup"><span data-stu-id="deb1c-392">A user is signed in tooa web application using Azure AD (see hello [Web Browser tooWeb Application](#web-browser-to-web-application) section above).</span></span> <span data-ttu-id="deb1c-393">Jeśli użytkownik hello hello aplikacji sieci web nie zgodził jeszcze tooallowing hello web toocall hello sieci web aplikacji interfejsu API w jego imieniu, hello użytkownicy będą musieli tooconsent.</span><span class="sxs-lookup"><span data-stu-id="deb1c-393">If hello user of hello web application has not yet consented tooallowing hello web application toocall hello web API on its behalf, hello user will need tooconsent.</span></span> <span data-ttu-id="deb1c-394">Aplikacja Hello wyświetli hello uprawnienia, które wymaga, a jeśli którakolwiek z tych uprawnień na poziomie administratora, zwykłego użytkownika w katalogu hello nie będą mogli tooconsent.</span><span class="sxs-lookup"><span data-stu-id="deb1c-394">hello application will display hello permissions it requires, and if any of these are administrator-level permissions, a normal user in hello directory will not be able tooconsent.</span></span> <span data-ttu-id="deb1c-395">Ten proces zgody dotyczy tylko toomulti dzierżawy, aplikacje nie pojedynczej dzierżawy zgodnie z aplikacji hello mają już hello niezbędne uprawnienia.</span><span class="sxs-lookup"><span data-stu-id="deb1c-395">This consent process only applies toomulti-tenant applications, not single tenant applications, as hello application will already have hello necessary permissions.</span></span> <span data-ttu-id="deb1c-396">Podczas hello użytkownik zalogowany, hello aplikacji sieci web odebrał identyfikator tokenu z informacjami o hello użytkownika, a także kod autoryzacji.</span><span class="sxs-lookup"><span data-stu-id="deb1c-396">When hello user signed in, hello web application received an ID token with information about hello user, as well as an authorization code.</span></span>
2. <span data-ttu-id="deb1c-397">Przy użyciu kodu autoryzacji hello wystawiony przez usługę Azure AD, hello aplikacji sieci web wysyła żądanie tooAzure Directory token punktu końcowego, który zawiera kod autoryzacji hello, szczegółowe informacje o aplikacji klienckiej hello (identyfikator aplikacji i identyfikator URI przekierowania) i hello żądanego zasobu ( Aplikacja identyfikator URI dla interfejsu API sieci web hello).</span><span class="sxs-lookup"><span data-stu-id="deb1c-397">Using hello authorization code issued by Azure AD, hello web application sends a request tooAzure AD’s token endpoint that includes hello authorization code, details about hello client application (Application ID and redirect URI), and hello desired resource (application ID URI for hello web API).</span></span>
3. <span data-ttu-id="deb1c-398">Kod autoryzacji Hello i informacji na temat interfejsu API sieci web i aplikacji sieci web hello są weryfikowane przez usługę Azure AD.</span><span class="sxs-lookup"><span data-stu-id="deb1c-398">hello authorization code and information about hello web application and web API are validated by Azure AD.</span></span> <span data-ttu-id="deb1c-399">Po pomyślnym zweryfikowaniem usługi Azure AD zwraca dwa tokeny: token JWT dostępu i token odświeżania JWT.</span><span class="sxs-lookup"><span data-stu-id="deb1c-399">Upon successful validation, Azure AD returns two tokens: a JWT access token and a JWT refresh token.</span></span>
4. <span data-ttu-id="deb1c-400">Przy użyciu protokołu HTTPS aplikacja sieci web hello używa hello zwracane hello tooadd tokenu dostępu JWT ciąg tokenu JWT z oznaczeniem "Bearer" w nagłówku autoryzacji hello hello żądanie toohello interfejsu API sieci web.</span><span class="sxs-lookup"><span data-stu-id="deb1c-400">Over HTTPS, hello web application uses hello returned JWT access token tooadd hello JWT string with a “Bearer” designation in hello Authorization header of hello request toohello web API.</span></span> <span data-ttu-id="deb1c-401">Interfejs API sieci web Hello następnie weryfikuje hello JWT token, a Jeśli weryfikacja zakończy się pomyślnie, zwraca hello żądanego zasobu.</span><span class="sxs-lookup"><span data-stu-id="deb1c-401">hello web API then validates hello JWT token, and if validation is successful, returns hello desired resource.</span></span>

##### <a name="delegated-user-identity-with-oauth-20-authorization-code-grant"></a><span data-ttu-id="deb1c-402">Tożsamość użytkownika delegowanej za udzielania kodu autoryzacji OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="deb1c-402">Delegated User Identity with OAuth 2.0 Authorization Code Grant</span></span>
1. <span data-ttu-id="deb1c-403">Użytkownik jest już zalogowany tooa aplikacji sieci web, w których mechanizm uwierzytelniania jest niezależna od usługi Azure AD.</span><span class="sxs-lookup"><span data-stu-id="deb1c-403">A user is already signed in tooa web application, whose authentication mechanism is independent of Azure AD.</span></span>
2. <span data-ttu-id="deb1c-404">Witaj aplikacji sieci web wymaga autoryzacji code tooacquire tokenu dostępu, więc emituje żądanie za pośrednictwem punktu końcowego autoryzacji hello przeglądarki tooAzure przez usługi AD, podając identyfikator aplikacji hello i identyfikator URI przekierowania dla aplikacji sieci web powitania po pomyślnym uwierzytelnianie.</span><span class="sxs-lookup"><span data-stu-id="deb1c-404">hello web application requires an authorization code tooacquire an access token, so it issues a request through hello browser tooAzure AD’s authorization endpoint, providing hello Application ID and redirect URI for hello web application after successful authentication.</span></span> <span data-ttu-id="deb1c-405">Witaj użytkownik loguje się tooAzure AD.</span><span class="sxs-lookup"><span data-stu-id="deb1c-405">hello user signs in tooAzure AD.</span></span>
3. <span data-ttu-id="deb1c-406">Jeśli użytkownik hello hello aplikacji sieci web nie zgodził jeszcze tooallowing hello web toocall hello sieci web aplikacji interfejsu API w jego imieniu, hello użytkownicy będą musieli tooconsent.</span><span class="sxs-lookup"><span data-stu-id="deb1c-406">If hello user of hello web application has not yet consented tooallowing hello web application toocall hello web API on its behalf, hello user will need tooconsent.</span></span> <span data-ttu-id="deb1c-407">Aplikacja Hello wyświetli hello uprawnienia, które wymaga, a jeśli którakolwiek z tych uprawnień na poziomie administratora, zwykłego użytkownika w katalogu hello nie będą mogli tooconsent.</span><span class="sxs-lookup"><span data-stu-id="deb1c-407">hello application will display hello permissions it requires, and if any of these are administrator-level permissions, a normal user in hello directory will not be able tooconsent.</span></span> <span data-ttu-id="deb1c-408">Tej zgody dotyczy aplikacji tooboth pojedynczych i wielu dzierżawców.</span><span class="sxs-lookup"><span data-stu-id="deb1c-408">This consent applies tooboth single and multi-tenant application.</span></span>  <span data-ttu-id="deb1c-409">W przypadku pojedynczej dzierżawy hello administrator może wykonywać tooconsent zgody administratora w imieniu użytkowników.</span><span class="sxs-lookup"><span data-stu-id="deb1c-409">In hello single tenant case, an admin can perform admin consent tooconsent on behalf of their users.</span></span>  <span data-ttu-id="deb1c-410">Można to zrobić przy użyciu hello `Grant Permissions` przycisku na powitania [Azure Portal](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="deb1c-410">This can be done using hello `Grant Permissions` button in hello [Azure Portal](https://portal.azure.com).</span></span> 
4. <span data-ttu-id="deb1c-411">Po hello użytkownik zgodził się, aplikacji sieci web hello odbiera kod autoryzacji hello, że wymaga ona tooacquire tokenu dostępu.</span><span class="sxs-lookup"><span data-stu-id="deb1c-411">After hello user has consented, hello web application receives hello authorization code that it needs tooacquire an access token.</span></span>
5. <span data-ttu-id="deb1c-412">Przy użyciu kodu autoryzacji hello wystawiony przez usługę Azure AD, hello aplikacji sieci web wysyła żądanie tooAzure Directory token punktu końcowego, który zawiera kod autoryzacji hello, szczegółowe informacje o aplikacji klienckiej hello (identyfikator aplikacji i identyfikator URI przekierowania) i hello żądanego zasobu ( Aplikacja identyfikator URI dla interfejsu API sieci web hello).</span><span class="sxs-lookup"><span data-stu-id="deb1c-412">Using hello authorization code issued by Azure AD, hello web application sends a request tooAzure AD’s token endpoint that includes hello authorization code, details about hello client application (Application ID and redirect URI), and hello desired resource (application ID URI for hello web API).</span></span>
6. <span data-ttu-id="deb1c-413">Kod autoryzacji Hello i informacji na temat interfejsu API sieci web i aplikacji sieci web hello są weryfikowane przez usługę Azure AD.</span><span class="sxs-lookup"><span data-stu-id="deb1c-413">hello authorization code and information about hello web application and web API are validated by Azure AD.</span></span> <span data-ttu-id="deb1c-414">Po pomyślnym zweryfikowaniem usługi Azure AD zwraca dwa tokeny: token JWT dostępu i token odświeżania JWT.</span><span class="sxs-lookup"><span data-stu-id="deb1c-414">Upon successful validation, Azure AD returns two tokens: a JWT access token and a JWT refresh token.</span></span>
7. <span data-ttu-id="deb1c-415">Przy użyciu protokołu HTTPS aplikacja sieci web hello używa hello zwracane hello tooadd tokenu dostępu JWT ciąg tokenu JWT z oznaczeniem "Bearer" w nagłówku autoryzacji hello hello żądanie toohello interfejsu API sieci web.</span><span class="sxs-lookup"><span data-stu-id="deb1c-415">Over HTTPS, hello web application uses hello returned JWT access token tooadd hello JWT string with a “Bearer” designation in hello Authorization header of hello request toohello web API.</span></span> <span data-ttu-id="deb1c-416">Interfejs API sieci web Hello następnie weryfikuje hello JWT token, a Jeśli weryfikacja zakończy się pomyślnie, zwraca hello żądanego zasobu.</span><span class="sxs-lookup"><span data-stu-id="deb1c-416">hello web API then validates hello JWT token, and if validation is successful, returns hello desired resource.</span></span>

#### <a name="code-samples"></a><span data-ttu-id="deb1c-417">Przykłady kodu</span><span class="sxs-lookup"><span data-stu-id="deb1c-417">Code Samples</span></span>
<span data-ttu-id="deb1c-418">Zobacz hello przykłady kodu dla scenariuszy interfejsu API tooWeb aplikacji sieci Web.</span><span class="sxs-lookup"><span data-stu-id="deb1c-418">See hello code samples for Web Application tooWeb API scenarios.</span></span> <span data-ttu-id="deb1c-419">I wrócić tu często — możemy dodać nowe próbki cały czas hello.</span><span class="sxs-lookup"><span data-stu-id="deb1c-419">And, check back frequently -- we add new samples all hello time.</span></span> <span data-ttu-id="deb1c-420">Web [tooWeb aplikacji interfejsu API](active-directory-code-samples.md#web-application-to-web-api).</span><span class="sxs-lookup"><span data-stu-id="deb1c-420">Web [Application tooWeb API](active-directory-code-samples.md#web-application-to-web-api).</span></span>

#### <a name="registering"></a><span data-ttu-id="deb1c-421">Rejestrowanie</span><span class="sxs-lookup"><span data-stu-id="deb1c-421">Registering</span></span>
* <span data-ttu-id="deb1c-422">Pojedynczej dzierżawy: Tożsamość aplikacji hello i przypadków tożsamości użytkownika delegowanego hello aplikacji sieci web i hello interfejsu API sieci web musi być zarejestrowana w hello tym samym katalogu w usłudze Azure AD.</span><span class="sxs-lookup"><span data-stu-id="deb1c-422">Single Tenant: For both hello application identity and delegated user identity cases, hello web application and hello web API must be registered in hello same directory in Azure AD.</span></span> <span data-ttu-id="deb1c-423">Witaj interfejsu API sieci web może być skonfigurowany tooexpose zestaw uprawnień, które są używane toolimit hello tej aplikacji sieci web dostęp do zasobów tooits.</span><span class="sxs-lookup"><span data-stu-id="deb1c-423">hello web API can be configured tooexpose a set of permissions, which are used toolimit hello web application’s access tooits resources.</span></span> <span data-ttu-id="deb1c-424">Jeśli jest używany typ tożsamości użytkownika delegowanego hello aplikacji sieci web musi tooselect hello potrzebne uprawnienia z menu rozwijanego "TooOther uprawnienia aplikacji" hello w hello portalu Azure.</span><span class="sxs-lookup"><span data-stu-id="deb1c-424">If a delegated user identity type is being used, hello web application needs tooselect hello desired permissions from hello “Permissions tooOther Applications” drop-down menu in hello Azure Portal.</span></span> <span data-ttu-id="deb1c-425">Ten krok nie jest wymagane, jeśli typ tożsamości aplikacji hello jest używany.</span><span class="sxs-lookup"><span data-stu-id="deb1c-425">This step is not required if hello application identity type is being used.</span></span>
* <span data-ttu-id="deb1c-426">Wielodostępne: Najpierw hello aplikacji sieci web jest skonfigurowany tooindicate hello uprawnienia wymaga toobe funkcjonalności.</span><span class="sxs-lookup"><span data-stu-id="deb1c-426">Multi-Tenant: First, hello web application is configured tooindicate hello permissions it requires toobe functional.</span></span> <span data-ttu-id="deb1c-427">Ta lista wymaganych uprawnień jest wyświetlany w oknie dialogowym, jeśli użytkownik lub administrator w katalogu docelowym hello daje aplikacji toohello zgody, dzięki czemu dostępne tootheir organizacji.</span><span class="sxs-lookup"><span data-stu-id="deb1c-427">This list of required permissions is shown in a dialog when a user or administrator in hello destination directory gives consent toohello application, which makes it available tootheir organization.</span></span> <span data-ttu-id="deb1c-428">Niektóre aplikacje wymagają tylko użytkownika poziomu uprawnień, które każdy użytkownik w organizacji hello można wyrazić zgodę na.</span><span class="sxs-lookup"><span data-stu-id="deb1c-428">Some applications require just user-level permissions, which any user in hello organization can consent to.</span></span> <span data-ttu-id="deb1c-429">Inne aplikacje wymagają uprawnień na poziomie administratora, które użytkownik w organizacji hello nie można wyrazić zgodę na.</span><span class="sxs-lookup"><span data-stu-id="deb1c-429">Other applications require administrator-level permissions, which a user in hello organization cannot consent to.</span></span> <span data-ttu-id="deb1c-430">Tylko administrator katalogu, który pozwala tooapplications zgody, które wymagają tego poziomu uprawnień.</span><span class="sxs-lookup"><span data-stu-id="deb1c-430">Only a directory administrator can give consent tooapplications that require this level of permissions.</span></span> <span data-ttu-id="deb1c-431">Gdy hello zgody użytkownika lub administratora, hello hello i aplikacji sieci web interfejsu API sieci web są oba zarejestrowane w ich katalogu.</span><span class="sxs-lookup"><span data-stu-id="deb1c-431">When hello user or administrator consents, hello web application and hello web API are both registered in their directory.</span></span>

#### <a name="token-expiration"></a><span data-ttu-id="deb1c-432">Wygaśnięcia tokenu</span><span class="sxs-lookup"><span data-stu-id="deb1c-432">Token Expiration</span></span>
<span data-ttu-id="deb1c-433">Gdy hello aplikacji sieci web używa jej tooget kod autoryzacji tokenu JWT dostępu, również odbiera token odświeżania JWT.</span><span class="sxs-lookup"><span data-stu-id="deb1c-433">When hello web application uses its authorization code tooget a JWT access token, it also receives a JWT refresh token.</span></span> <span data-ttu-id="deb1c-434">Po wygaśnięciu tokenu dostępu hello token odświeżania hello mogą być używane toore-uwierzytelnić użytkownika hello bez konieczności ich toosign w ponownie.</span><span class="sxs-lookup"><span data-stu-id="deb1c-434">When hello access token expires, hello refresh token can be used toore-authenticate hello user without requiring them toosign in again.</span></span> <span data-ttu-id="deb1c-435">Ten token odświeżania jest używane tooauthenticate hello użytkownika, nowe dostępu, którego wynikiem token i Odśwież tokenu.</span><span class="sxs-lookup"><span data-stu-id="deb1c-435">This refresh token is then used tooauthenticate hello user, which results in a new access token and refresh token.</span></span>

### <a name="daemon-or-server-application-tooweb-api"></a><span data-ttu-id="deb1c-436">TooWeb demon lub serwera aplikacji interfejsu API</span><span class="sxs-lookup"><span data-stu-id="deb1c-436">Daemon or Server Application tooWeb API</span></span>
<span data-ttu-id="deb1c-437">W tej sekcji opisano demon lub serwera aplikacji, która potrzebuje zasobów tooget z interfejsu API sieci web.</span><span class="sxs-lookup"><span data-stu-id="deb1c-437">This section describes a daemon or server application that needs tooget resources from a web API.</span></span> <span data-ttu-id="deb1c-438">Istnieją dwa scenariusze podrzędne, stosowane sekcji toothis: demon wymagające toocall interfejsu API sieci web, oparty na typ przydziału poświadczeń klienta OAuth 2.0; i aplikacji serwera (np. interfejsu API sieci web), która wymaga toocall składnika web API, oparty na OAuth 2.0 On-Behalf-Of specyfikacji wersji roboczej.</span><span class="sxs-lookup"><span data-stu-id="deb1c-438">There are two sub-scenarios that apply toothis section: A daemon that needs toocall a web API, built on OAuth 2.0 client credentials grant type; and a server application (such as a web API) that needs toocall a web API, built on OAuth 2.0 On-Behalf-Of draft specification.</span></span>

<span data-ttu-id="deb1c-439">W scenariuszu hello podczas demon aplikację toocall interfejs API sieci web jest ważne toounderstand kilka rzeczy.</span><span class="sxs-lookup"><span data-stu-id="deb1c-439">For hello scenario when a daemon application needs toocall a web API, it’s important toounderstand a few things.</span></span> <span data-ttu-id="deb1c-440">Po pierwsze interakcji z użytkownikiem nie jest możliwe z aplikacją demon, który wymaga toohave aplikacji hello jego tożsamość.</span><span class="sxs-lookup"><span data-stu-id="deb1c-440">First, user interaction is not possible with a daemon application, which requires hello application toohave its own identity.</span></span> <span data-ttu-id="deb1c-441">Przykładem aplikacji demon jest zadanie wsadowe lub uruchomione w tle hello usługa systemu operacyjnego.</span><span class="sxs-lookup"><span data-stu-id="deb1c-441">An example of a daemon application is a batch job, or an operating system service running in hello background.</span></span> <span data-ttu-id="deb1c-442">Aplikacje tego typu żądania tokenu dostępu przy użyciu tożsamości aplikacji i umożliwienie korzystania z jego identyfikator aplikacji, dostęp do poświadczeń (hasło lub certyfikat) i tooAzure identyfikator URI aplikacji usługi AD.</span><span class="sxs-lookup"><span data-stu-id="deb1c-442">This type of application requests an access token by using its application identity and presenting its Application ID, credential (password or certificate), and application ID URI tooAzure AD.</span></span> <span data-ttu-id="deb1c-443">Po pomyślnym uwierzytelnieniu demon hello odbiera token dostępu z usługi Azure AD, która jest następnie używane toocall hello interfejsu API sieci web.</span><span class="sxs-lookup"><span data-stu-id="deb1c-443">After successful authentication, hello daemon receives an access token from Azure AD, which is then used toocall hello web API.</span></span>

<span data-ttu-id="deb1c-444">W scenariuszu hello gdy aplikacja serwera wymaga toocall składnika web API, jest przydatne toouse przykład.</span><span class="sxs-lookup"><span data-stu-id="deb1c-444">For hello scenario when a server application needs toocall a web API, it’s helpful toouse an example.</span></span> <span data-ttu-id="deb1c-445">Załóżmy, że użytkownik został uwierzytelniony w natywnej aplikacji i tej aplikacji natywnej musi toocall interfejs API sieci web.</span><span class="sxs-lookup"><span data-stu-id="deb1c-445">Imagine that a user has authenticated on a native application, and this native application needs toocall a web API.</span></span> <span data-ttu-id="deb1c-446">Usługa Azure AD wystawia token JWT dostępu tokenu toocall hello interfejsu API sieci web.</span><span class="sxs-lookup"><span data-stu-id="deb1c-446">Azure AD issues a JWT access token toocall hello web API.</span></span> <span data-ttu-id="deb1c-447">Jeśli hello interfejsu API sieci web wymaga toocall inny podrzędny interfejs API sieci web, go za pomocą hello imieniu-przepływ "w" toodelegate hello tożsamości użytkownika i toohello interfejsu API sieci web warstwy drugiego uwierzytelniania.</span><span class="sxs-lookup"><span data-stu-id="deb1c-447">If hello web API needs toocall another downstream web API, it can use hello on-behalf-of flow toodelegate hello user’s identity and authenticate toohello second-tier web API.</span></span>

#### <a name="diagram"></a><span data-ttu-id="deb1c-448">Diagram</span><span class="sxs-lookup"><span data-stu-id="deb1c-448">Diagram</span></span>
![Diagram tooWeb interfejsu API demon lub serwera aplikacji](./media/active-directory-authentication-scenarios/daemon_server_app_to_web_api.png)

#### <a name="description-of-protocol-flow"></a><span data-ttu-id="deb1c-450">Opis protokołu przepływu</span><span class="sxs-lookup"><span data-stu-id="deb1c-450">Description of Protocol Flow</span></span>
##### <a name="application-identity-with-oauth-20-client-credentials-grant"></a><span data-ttu-id="deb1c-451">Udziel poświadczenia tożsamości aplikacji z klienta OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="deb1c-451">Application Identity with OAuth 2.0 Client Credentials Grant</span></span>
1. <span data-ttu-id="deb1c-452">Powitania serwera aplikacji musi najpierw tooauthenticate z usługą Azure AD jako, bez interakcji ludzi, takich jak interakcyjne okno logowania jednokrotnego.</span><span class="sxs-lookup"><span data-stu-id="deb1c-452">First, hello server application needs tooauthenticate with Azure AD as itself, without any human interaction such as an interactive sign-on dialog.</span></span> <span data-ttu-id="deb1c-453">Powoduje to dodanie tooAzure żądania AD dla punktu końcowego tokena, hello poświadczeń, identyfikator aplikacji i identyfikator URI aplikacji.</span><span class="sxs-lookup"><span data-stu-id="deb1c-453">It makes a request tooAzure AD’s token endpoint, providing hello credential, Application ID, and application ID URI.</span></span>
2. <span data-ttu-id="deb1c-454">Usługi Azure AD uwierzytelnia aplikacji hello i zwraca token dostępu JWT jest interfejs API sieci web hello toocall używane.</span><span class="sxs-lookup"><span data-stu-id="deb1c-454">Azure AD authenticates hello application and returns a JWT access token that is used toocall hello web API.</span></span>
3. <span data-ttu-id="deb1c-455">Przy użyciu protokołu HTTPS aplikacja sieci web hello używa hello zwracane hello tooadd tokenu dostępu JWT ciąg tokenu JWT z oznaczeniem "Bearer" w nagłówku autoryzacji hello hello żądanie toohello interfejsu API sieci web.</span><span class="sxs-lookup"><span data-stu-id="deb1c-455">Over HTTPS, hello web application uses hello returned JWT access token tooadd hello JWT string with a “Bearer” designation in hello Authorization header of hello request toohello web API.</span></span> <span data-ttu-id="deb1c-456">Interfejs API sieci web Hello następnie weryfikuje hello JWT token, a Jeśli weryfikacja zakończy się pomyślnie, zwraca hello żądanego zasobu.</span><span class="sxs-lookup"><span data-stu-id="deb1c-456">hello web API then validates hello JWT token, and if validation is successful, returns hello desired resource.</span></span>

##### <a name="delegated-user-identity-with-oauth-20-on-behalf-of-draft-specification"></a><span data-ttu-id="deb1c-457">Tożsamość użytkownika delegowanego ze specyfikacją w imieniu — z wersji próbnej OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="deb1c-457">Delegated User Identity with OAuth 2.0 On-Behalf-Of Draft Specification</span></span>
<span data-ttu-id="deb1c-458">Przepływ Hello omówiony poniżej założono, że użytkownik został uwierzytelniony w innej aplikacji (na przykład aplikacji natywnej) i ich tożsamość użytkownika została tooacquire używany interfejs API sieci web warstwy pierwszej toohello tokenu dostępu.</span><span class="sxs-lookup"><span data-stu-id="deb1c-458">hello flow discussed below assumes that a user has been authenticated on another application (such as a native application), and their user identity has been used tooacquire an access token toohello first-tier web API.</span></span>

1. <span data-ttu-id="deb1c-459">aplikacja macierzysta Hello wysyła hello dostępu tokenu toohello pierwszej warstwy interfejsu API sieci web.</span><span class="sxs-lookup"><span data-stu-id="deb1c-459">hello native application sends hello access token toohello first-tier web API.</span></span>
2. <span data-ttu-id="deb1c-460">Witaj interfejsu API sieci web warstwy pierwszej wysyła żądania tooAzure Directory punktu końcowego tokena, podając jego identyfikator aplikacji i poświadczenia, a także hello tokenu dostępu.</span><span class="sxs-lookup"><span data-stu-id="deb1c-460">hello first-tier web API sends a request tooAzure AD’s token endpoint, providing its Application ID and credentials, as well as hello user’s access token.</span></span> <span data-ttu-id="deb1c-461">Ponadto są wysyłane żądania hello on_behalf_of parametrem, który wskazuje hello nowych żąda interfejsu API sieci web tokeny toocall interfejs API sieci web podrzędne w imieniu hello oryginalnego użytkownika.</span><span class="sxs-lookup"><span data-stu-id="deb1c-461">In addition, hello request is sent with an on_behalf_of parameter that indicates hello web API is requesting new tokens toocall a downstream web API on behalf of hello original user.</span></span>
3. <span data-ttu-id="deb1c-462">Usługi Azure AD sprawdza tego hello pierwszej warstwy interfejsu API sieci web ma uprawnienia tooaccess hello podrzędne składnika web API i weryfikuje Żądanie hello zwracanie tokenu JWT dostępu i token JWT interfejsu API sieci web warstwy pierwszej token toohello odświeżania.</span><span class="sxs-lookup"><span data-stu-id="deb1c-462">Azure AD verifies that hello first-tier web API has permissions tooaccess hello second-tier web API and validates hello request, returning a JWT access token and a JWT refresh token toohello first-tier web API.</span></span>
4. <span data-ttu-id="deb1c-463">Przy użyciu protokołu HTTPS sieci web warstwy pierwszej hello, który wywołuje interfejs API hello podrzędne interfejsu API sieci web przez dodanie hello ciąg tokenu w nagłówku autoryzacji hello w żądaniu hello.</span><span class="sxs-lookup"><span data-stu-id="deb1c-463">Over HTTPS, hello first-tier web API then calls hello second-tier web API by appending hello token string in hello Authorization header in hello request.</span></span> <span data-ttu-id="deb1c-464">Witaj interfejsu API sieci web warstwy pierwszej nadal toocall hello podrzędne interfejsu API sieci web tak długo, jak hello token dostępu i tokenów odświeżania są prawidłowe.</span><span class="sxs-lookup"><span data-stu-id="deb1c-464">hello first-tier web API can continue toocall hello second-tier web API as long as hello access token and refresh tokens are valid.</span></span>

#### <a name="code-samples"></a><span data-ttu-id="deb1c-465">Przykłady kodu</span><span class="sxs-lookup"><span data-stu-id="deb1c-465">Code Samples</span></span>
<span data-ttu-id="deb1c-466">Zobacz hello przykłady kodu dla scenariuszy tooWeb interfejsu API demon lub serwera aplikacji.</span><span class="sxs-lookup"><span data-stu-id="deb1c-466">See hello code samples for Daemon or Server Application tooWeb API scenarios.</span></span> <span data-ttu-id="deb1c-467">I wrócić tu często — możemy dodać nowe próbki cały czas hello.</span><span class="sxs-lookup"><span data-stu-id="deb1c-467">And, check back frequently -- we add new samples all hello time.</span></span> [<span data-ttu-id="deb1c-468">Serwer lub aplikacja demon tooWeb interfejsu API</span><span class="sxs-lookup"><span data-stu-id="deb1c-468">Server or Daemon Application tooWeb API</span></span>](active-directory-code-samples.md#server-or-daemon-application-to-web-api)

#### <a name="registering"></a><span data-ttu-id="deb1c-469">Rejestrowanie</span><span class="sxs-lookup"><span data-stu-id="deb1c-469">Registering</span></span>
* <span data-ttu-id="deb1c-470">Pojedynczej dzierżawy: Tożsamość aplikacji hello i przypadków tożsamości użytkownika delegowanego hello demon lub serwera aplikacji musi być zarejestrowana w hello tym samym katalogu w usłudze Azure AD.</span><span class="sxs-lookup"><span data-stu-id="deb1c-470">Single Tenant: For both hello application identity and delegated user identity cases, hello daemon or server application must be registered in hello same directory in Azure AD.</span></span> <span data-ttu-id="deb1c-471">Hello interfejsu API sieci web może być skonfigurowany tooexpose zestaw uprawnień, które są używane toolimit hello demon lub zasobów tooits dostępu do serwera.</span><span class="sxs-lookup"><span data-stu-id="deb1c-471">hello web API can be configured tooexpose a set of permissions, which are used toolimit hello daemon or server’s access tooits resources.</span></span> <span data-ttu-id="deb1c-472">Jeśli jest używany typ tożsamości użytkownika delegowanego powitania serwera aplikacji musi tooselect hello potrzebne uprawnienia z menu rozwijanego "TooOther uprawnienia aplikacji" hello w hello portalu Azure.</span><span class="sxs-lookup"><span data-stu-id="deb1c-472">If a delegated user identity type is being used, hello server application needs tooselect hello desired permissions from hello “Permissions tooOther Applications” drop-down menu in hello Azure Portal.</span></span> <span data-ttu-id="deb1c-473">Ten krok nie jest wymagane, jeśli typ tożsamości aplikacji hello jest używany.</span><span class="sxs-lookup"><span data-stu-id="deb1c-473">This step is not required if hello application identity type is being used.</span></span>
* <span data-ttu-id="deb1c-474">Wielodostępne: Najpierw hello demon lub serwera aplikacji jest tooindicate skonfigurowane uprawnienia hello wymaga toobe funkcjonalności.</span><span class="sxs-lookup"><span data-stu-id="deb1c-474">Multi-Tenant: First, hello daemon or server application is configured tooindicate hello permissions it requires toobe functional.</span></span> <span data-ttu-id="deb1c-475">Ta lista wymaganych uprawnień jest wyświetlany w oknie dialogowym, jeśli użytkownik lub administrator w katalogu docelowym hello daje aplikacji toohello zgody, dzięki czemu dostępne tootheir organizacji.</span><span class="sxs-lookup"><span data-stu-id="deb1c-475">This list of required permissions is shown in a dialog when a user or administrator in hello destination directory gives consent toohello application, which makes it available tootheir organization.</span></span> <span data-ttu-id="deb1c-476">Niektóre aplikacje wymagają tylko użytkownika poziomu uprawnień, które każdy użytkownik w organizacji hello można wyrazić zgodę na.</span><span class="sxs-lookup"><span data-stu-id="deb1c-476">Some applications require just user-level permissions, which any user in hello organization can consent to.</span></span> <span data-ttu-id="deb1c-477">Inne aplikacje wymagają uprawnień na poziomie administratora, które użytkownik w organizacji hello nie można wyrazić zgodę na.</span><span class="sxs-lookup"><span data-stu-id="deb1c-477">Other applications require administrator-level permissions, which a user in hello organization cannot consent to.</span></span> <span data-ttu-id="deb1c-478">Tylko administrator katalogu, który pozwala tooapplications zgody, które wymagają tego poziomu uprawnień.</span><span class="sxs-lookup"><span data-stu-id="deb1c-478">Only a directory administrator can give consent tooapplications that require this level of permissions.</span></span> <span data-ttu-id="deb1c-479">Gdy użytkownik hello lub administrator wyrazi na to zgody, zarówno hello interfejsów API sieci web są rejestrowane w ich katalogu.</span><span class="sxs-lookup"><span data-stu-id="deb1c-479">When hello user or administrator consents, both of hello web APIs are registered in their directory.</span></span>

#### <a name="token-expiration"></a><span data-ttu-id="deb1c-480">Wygaśnięcia tokenu</span><span class="sxs-lookup"><span data-stu-id="deb1c-480">Token Expiration</span></span>
<span data-ttu-id="deb1c-481">Podczas pierwszej aplikacji hello używa jej tooget kod autoryzacji tokenu JWT dostępu, również odbiera token odświeżania JWT.</span><span class="sxs-lookup"><span data-stu-id="deb1c-481">When hello first application uses its authorization code tooget a JWT access token, it also receives a JWT refresh token.</span></span> <span data-ttu-id="deb1c-482">Po wygaśnięciu tokenu dostępu hello token odświeżania hello mogą być używane toore-uwierzytelnić użytkownika hello bez wyświetlania monitu o poświadczenia.</span><span class="sxs-lookup"><span data-stu-id="deb1c-482">When hello access token expires, hello refresh token can be used toore-authenticate hello user without prompting for credentials.</span></span> <span data-ttu-id="deb1c-483">Ten token odświeżania jest używane tooauthenticate hello użytkownika, nowe dostępu, którego wynikiem token i Odśwież tokenu.</span><span class="sxs-lookup"><span data-stu-id="deb1c-483">This refresh token is then used tooauthenticate hello user, which results in a new access token and refresh token.</span></span>

## <a name="see-also"></a><span data-ttu-id="deb1c-484">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="deb1c-484">See Also</span></span>
[<span data-ttu-id="deb1c-485">Przewodnik dewelopera usługi Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="deb1c-485">Azure Active Directory Developer's Guide</span></span>](active-directory-developers-guide.md)

[<span data-ttu-id="deb1c-486">Przykłady kodu usługi Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="deb1c-486">Azure Active Directory Code Samples</span></span>](active-directory-code-samples.md)

[<span data-ttu-id="deb1c-487">Ważne informacje dotyczące podpisywania przerzucania kluczy w usłudze Azure AD</span><span class="sxs-lookup"><span data-stu-id="deb1c-487">Important Information About Signing Key Rollover in Azure AD</span></span>](active-directory-signing-key-rollover.md)

[<span data-ttu-id="deb1c-488">OAuth 2.0 w usłudze Azure AD</span><span class="sxs-lookup"><span data-stu-id="deb1c-488">OAuth 2.0 in Azure AD</span></span>](https://msdn.microsoft.com/library/azure/dn645545.aspx)

