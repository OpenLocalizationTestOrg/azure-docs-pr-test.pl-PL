---
title: "aaaAzure usługi Active Directory w wersji 2.0 tokeny odwołania | Dokumentacja firmy Microsoft"
description: "Witaj typy tokenów i oświadczeń emitowane przez hello punktu końcowego v2.0 usługi Azure AD"
services: active-directory
documentationcenter: 
author: dstrockis
manager: mbaldwin
editor: 
ms.assetid: dc58c282-9684-4b38-b151-f3e079f034fd
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/07/2017
ms.author: dastrock
ms.custom: aaddev
ms.openlocfilehash: 29eb5c3402aeae302ee7c6234488520495f85904
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="azure-active-directory-v20-tokens-reference"></a><span data-ttu-id="babff-103">Azure Active Directory w wersji 2.0 tokeny odwołania</span><span class="sxs-lookup"><span data-stu-id="babff-103">Azure Active Directory v2.0 tokens reference</span></span>
<span data-ttu-id="babff-104">Witaj punktu końcowego v2.0 usługi Azure Active Directory (Azure AD) emituje kilka typów tokenów zabezpieczających w każdym [przepływ uwierzytelniania](active-directory-v2-flows.md).</span><span class="sxs-lookup"><span data-stu-id="babff-104">hello Azure Active Directory (Azure AD) v2.0 endpoint emits several types of security tokens in each [authentication flow](active-directory-v2-flows.md).</span></span> <span data-ttu-id="babff-105">To odwołanie opisano hello format, właściwości zabezpieczeń i zawartości każdego typu tokenu.</span><span class="sxs-lookup"><span data-stu-id="babff-105">This reference describes hello format, security characteristics, and contents of each type of token.</span></span>

> [!NOTE]
> <span data-ttu-id="babff-106">punktu końcowego v2.0 Hello nie obsługuje wszystkich scenariuszy Azure Active Directory i funkcji.</span><span class="sxs-lookup"><span data-stu-id="babff-106">hello v2.0 endpoint does not support all Azure Active Directory scenarios and features.</span></span> <span data-ttu-id="babff-107">toodetermine, czy należy używać punktu końcowego v2.0 hello, przeczytaj o [ograniczenia v2.0](active-directory-v2-limitations.md).</span><span class="sxs-lookup"><span data-stu-id="babff-107">toodetermine whether you should use hello v2.0 endpoint, read about [v2.0 limitations](active-directory-v2-limitations.md).</span></span>
>
>

## <a name="types-of-tokens"></a><span data-ttu-id="babff-108">Typy tokenów</span><span class="sxs-lookup"><span data-stu-id="babff-108">Types of tokens</span></span>
<span data-ttu-id="babff-109">Witaj punktu końcowego v2.0 obsługuje hello [protokół OAuth 2.0](active-directory-v2-protocols.md), który korzysta z tokenów dostępu i tokenów odświeżania.</span><span class="sxs-lookup"><span data-stu-id="babff-109">hello v2.0 endpoint supports hello [OAuth 2.0 authorization protocol](active-directory-v2-protocols.md), which uses access tokens and refresh tokens.</span></span> <span data-ttu-id="babff-110">punktu końcowego v2.0 Hello obsługuje również uwierzytelniania i logowania za pomocą [OpenID Connect](active-directory-v2-protocols.md).</span><span class="sxs-lookup"><span data-stu-id="babff-110">hello v2.0 endpoint also supports authentication and sign-in via [OpenID Connect](active-directory-v2-protocols.md).</span></span> <span data-ttu-id="babff-111">OpenID Connect wprowadza trzeci typ tokenu, hello Identyfikatora tokenu.</span><span class="sxs-lookup"><span data-stu-id="babff-111">OpenID Connect introduces a third type of token, hello ID token.</span></span> <span data-ttu-id="babff-112">Każdy z tych tokenów jest reprezentowany jako *elementu nośnego* tokenu.</span><span class="sxs-lookup"><span data-stu-id="babff-112">Each of these tokens is represented as a *bearer* token.</span></span>

<span data-ttu-id="babff-113">Token elementu nośnego jest token zabezpieczający lekkie, że przyznaje hello tooa dostępu do elementu nośnego chronionych zasobów.</span><span class="sxs-lookup"><span data-stu-id="babff-113">A bearer token is a lightweight security token that grants hello bearer access tooa protected resource.</span></span> <span data-ttu-id="babff-114">elementu nośnego Hello jest każda strona, która może ona powodować hello tokenu.</span><span class="sxs-lookup"><span data-stu-id="babff-114">hello bearer is any party that can present hello token.</span></span> <span data-ttu-id="babff-115">Mimo że strona musi przeprowadzić uwierzytelnianie tokenu elementu nośnego hello tooreceive usługi Azure AD, jeśli kroki nie są brane toosecure hello tokenu podczas transmisji i przechowywania, można przechwycony i używane przez niezamierzone strony.</span><span class="sxs-lookup"><span data-stu-id="babff-115">Although a party must authenticate with Azure AD tooreceive hello bearer token, if steps are not taken toosecure hello token during transmission and storage, it can be intercepted and used by an unintended party.</span></span> <span data-ttu-id="babff-116">Niektóre tokeny zabezpieczające ma wbudowany mechanizm strony tooprevent nieautoryzowany używana, ale tokenów elementu nośnego nie.</span><span class="sxs-lookup"><span data-stu-id="babff-116">Some security tokens have a built-in mechanism tooprevent unauthorized parties from using them, but bearer tokens do not.</span></span> <span data-ttu-id="babff-117">Musi być transportowane tokenów elementu nośnego bezpiecznego kanału, takie jak zabezpieczeń warstwy transportu (HTTPS).</span><span class="sxs-lookup"><span data-stu-id="babff-117">Bearer tokens must be transported in a secure channel such as transport layer security (HTTPS).</span></span> <span data-ttu-id="babff-118">Jeśli token elementu nośnego, są przesyłane bez zabezpieczeń tego typu, strony złośliwych można użyć tokenu "man-in--middle ataku" hello tooacquire i użyć jej do nieautoryzowanego dostępu tooa chronionych zasobów.</span><span class="sxs-lookup"><span data-stu-id="babff-118">If a bearer token is transmitted without this type of security, a malicious party could use a "man-in-the-middle attack" tooacquire hello token and use it for unauthorized access tooa protected resource.</span></span> <span data-ttu-id="babff-119">Witaj te same zasady zabezpieczeń mają zastosowanie po zapisaniu lub buforowanie tokenów elementu nośnego do późniejszego użycia.</span><span class="sxs-lookup"><span data-stu-id="babff-119">hello same security principles apply when storing or caching bearer tokens for later use.</span></span> <span data-ttu-id="babff-120">Zawsze upewnij się, że aplikacji bezpiecznego przesyła i przechowuje tokenów elementu nośnego.</span><span class="sxs-lookup"><span data-stu-id="babff-120">Always ensure that your app securely transmits and stores bearer tokens.</span></span> <span data-ttu-id="babff-121">Aby uzyskać więcej uwagi dotyczące zabezpieczeń tokenów elementu nośnego, zobacz [RFC 6750 sekcji 5](http://tools.ietf.org/html/rfc6750).</span><span class="sxs-lookup"><span data-stu-id="babff-121">For more security considerations for bearer tokens, see [RFC 6750 Section 5](http://tools.ietf.org/html/rfc6750).</span></span>

<span data-ttu-id="babff-122">Wiele hello tokenów wystawionych przez punktu końcowego v2.0 hello są zaimplementowane jako tokenów sieci Web JSON (Jwt).</span><span class="sxs-lookup"><span data-stu-id="babff-122">Many of hello tokens issued by hello v2.0 endpoint are implemented as JSON Web Tokens (JWTs).</span></span> <span data-ttu-id="babff-123">Token JWT jest informacji tootransfer sposób compact, bezpieczne dla adresu URL, między dwiema stronami.</span><span class="sxs-lookup"><span data-stu-id="babff-123">A JWT is a compact, URL-safe way tootransfer information between two parties.</span></span> <span data-ttu-id="babff-124">Witaj w token JWT nosi nazwę *oświadczeń*.</span><span class="sxs-lookup"><span data-stu-id="babff-124">hello information in a JWT is called a *claim*.</span></span> <span data-ttu-id="babff-125">To potwierdzenie informacji na temat elementów nośnych hello i podmiotu hello tokenu.</span><span class="sxs-lookup"><span data-stu-id="babff-125">It's an assertion of information about hello bearer and subject of hello token.</span></span> <span data-ttu-id="babff-126">oświadczenia Hello w token JWT są obiektów JavaScript Object Notation (JSON), które są zakodowane i serializację do transmisji.</span><span class="sxs-lookup"><span data-stu-id="babff-126">hello claims in a JWT are JavaScript Object Notation (JSON) objects that are encoded and serialized for transmission.</span></span> <span data-ttu-id="babff-127">Ponieważ hello Jwt wystawione przez punktu końcowego v2.0 hello jest podpisany, ale nie są szyfrowane, możesz łatwo sprawdzić zawartość hello token JWT na potrzeby debugowania.</span><span class="sxs-lookup"><span data-stu-id="babff-127">Because hello JWTs issued by hello v2.0 endpoint are signed but not encrypted, you can easily inspect hello contents of a JWT for debugging purposes.</span></span> <span data-ttu-id="babff-128">Aby uzyskać więcej informacji na temat tokenów Jwt, zobacz hello [specyfikacji JWT](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html).</span><span class="sxs-lookup"><span data-stu-id="babff-128">For more information about JWTs, see hello [JWT specification](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html).</span></span>

### <a name="id-tokens"></a><span data-ttu-id="babff-129">Tokeny Identyfikatora</span><span class="sxs-lookup"><span data-stu-id="babff-129">ID tokens</span></span>
<span data-ttu-id="babff-130">Identyfikator tokenu jest formą logowania w tokenie zabezpieczającym aplikacja odbiera podczas uwierzytelniania przy użyciu [OpenID Connect](active-directory-v2-protocols.md).</span><span class="sxs-lookup"><span data-stu-id="babff-130">An ID token is a form of sign-in security token that your app receives when it performs authentication by using [OpenID Connect](active-directory-v2-protocols.md).</span></span> <span data-ttu-id="babff-131">Identyfikator tokeny są reprezentowane jako [Jwt](#types-of-tokens), i zawierają roszczenia, w której można toosign hello użytkownika w aplikacji tooyour.</span><span class="sxs-lookup"><span data-stu-id="babff-131">ID tokens are represented as [JWTs](#types-of-tokens), and they contain claims that you can use toosign hello user in tooyour app.</span></span> <span data-ttu-id="babff-132">Można użyć hello oświadczenia w tokenie identyfikator na różne sposoby.</span><span class="sxs-lookup"><span data-stu-id="babff-132">You can use hello claims in an ID token in various ways.</span></span> <span data-ttu-id="babff-133">Zazwyczaj Administratorzy korzystają informacji o identyfikatorze tokenów toodisplay konta lub toomake decyzje dotyczące kontroli dostępu w aplikacji.</span><span class="sxs-lookup"><span data-stu-id="babff-133">Typically, admins use ID tokens toodisplay account information or toomake access control decisions in an app.</span></span> <span data-ttu-id="babff-134">punktu końcowego v2.0 Hello wystawia tylko jednego typu Identyfikatora tokenu, który ma spójny zestaw oświadczeń, niezależnie od typu hello użytkownika, który jest zalogowany.</span><span class="sxs-lookup"><span data-stu-id="babff-134">hello v2.0 endpoint issues only one type of ID token, which has a consistent set of claims, regardless of hello type of user that is signed in.</span></span> <span data-ttu-id="babff-135">Hello format i zawartość tokeny Identyfikatora są hello takie same, osobistych użytkowników kont Microsoft i konta firmowego lub szkolnego.</span><span class="sxs-lookup"><span data-stu-id="babff-135">hello format and content of ID tokens are hello same for personal Microsoft account users and for work or school accounts.</span></span>

<span data-ttu-id="babff-136">Tokeny Identyfikatora są obecnie podpisany, ale nie jest zaszyfrowany.</span><span class="sxs-lookup"><span data-stu-id="babff-136">Currently, ID tokens are signed but not encrypted.</span></span> <span data-ttu-id="babff-137">Gdy aplikacja odbiera token Identyfikatora, należy [sprawdzanie poprawności podpisu hello](#validating-tokens) tooprove hello autentyczności tokenu i zweryfikować kilka oświadczenia w hello token tooprove jego ważności.</span><span class="sxs-lookup"><span data-stu-id="babff-137">When your app receives an ID token, it must [validate hello signature](#validating-tokens) tooprove hello token's authenticity and validate a few claims in hello token tooprove its validity.</span></span> <span data-ttu-id="babff-138">Witaj oświadczeń zweryfikowany przez aplikację różny w zależności od wymagań scenariusza, ale aplikacji należy wykonać niektóre [typowych operacji sprawdzania poprawności oświadczeń](#validating-tokens) w każdym scenariuszu.</span><span class="sxs-lookup"><span data-stu-id="babff-138">hello claims validated by an app vary depending on scenario requirements, but your app must perform some [common claim validations](#validating-tokens) in every scenario.</span></span>

<span data-ttu-id="babff-139">Firma Microsoft daje hello wszystkich szczegółów dotyczących oświadczenia w tokenach identyfikator w hello następujących sekcji, oprócz tooa przykładowy identyfikator token.</span><span class="sxs-lookup"><span data-stu-id="babff-139">We give you hello full details about claims in ID tokens in hello following sections, in addition tooa sample ID token.</span></span> <span data-ttu-id="babff-140">Należy pamiętać, że oświadczenia w tokenach identyfikator nie są zwracane w określonej kolejności.</span><span class="sxs-lookup"><span data-stu-id="babff-140">Note that claims in ID tokens are not returned in a specific order.</span></span> <span data-ttu-id="babff-141">Ponadto oświadczeń nowy mogą zostać wprowadzone do tokeny Identyfikatora, w dowolnym momencie.</span><span class="sxs-lookup"><span data-stu-id="babff-141">Also, new claims can be introduced into ID tokens at any time.</span></span> <span data-ttu-id="babff-142">Aplikacji nie powinna Przerwij, gdy wprowadzono nowych oświadczeń.</span><span class="sxs-lookup"><span data-stu-id="babff-142">Your app should not break when new claims are introduced.</span></span> <span data-ttu-id="babff-143">Hello następujące listy zawiera hello oświadczenia, które aplikacji obecnie można niezawodnie zinterpretować.</span><span class="sxs-lookup"><span data-stu-id="babff-143">hello following list includes hello claims that your app currently can reliably interpret.</span></span> <span data-ttu-id="babff-144">Więcej informacji można znaleźć w hello [OpenID Connect specyfikacji](http://openid.net/specs/openid-connect-core-1_0.html).</span><span class="sxs-lookup"><span data-stu-id="babff-144">You can find more details in hello [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html).</span></span>

#### <a name="sample-id-token"></a><span data-ttu-id="babff-145">Przykładowy identyfikator token</span><span class="sxs-lookup"><span data-stu-id="babff-145">Sample ID token</span></span>
```
eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik1uQ19WWmNBVGZNNXBPWWlKSE1iYTlnb0VLWSJ9.eyJhdWQiOiI2NzMxZGU3Ni0xNGE2LTQ5YWUtOTdiYy02ZWJhNjkxNDM5MWUiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vYjk0MTk4MTgtMDlhZi00OWMyLWIwYzMtNjUzYWRjMWYzNzZlL3YyLjAiLCJpYXQiOjE0NTIyODUzMzEsIm5iZiI6MTQ1MjI4NTMzMSwiZXhwIjoxNDUyMjg5MjMxLCJuYW1lIjoiQmFiZSBSdXRoIiwibm9uY2UiOiIxMjM0NSIsIm9pZCI6ImExZGJkZGU4LWU0ZjktNDU3MS1hZDkzLTMwNTllMzc1MGQyMyIsInByZWZlcnJlZF91c2VybmFtZSI6InRoZWdyZWF0YmFtYmlub0BueXkub25taWNyb3NvZnQuY29tIiwic3ViIjoiTUY0Zi1nZ1dNRWppMTJLeW5KVU5RWnBoYVVUdkxjUXVnNWpkRjJubDAxUSIsInRpZCI6ImI5NDE5ODE4LTA5YWYtNDljMi1iMGMzLTY1M2FkYzFmMzc2ZSIsInZlciI6IjIuMCJ9.p_rYdrtJ1oCmgDBggNHB9O38KTnLCMGbMDODdirdmZbmJcTHiZDdtTc-hguu3krhbtOsoYM2HJeZM3Wsbp_YcfSKDY--X_NobMNsxbT7bqZHxDnA2jTMyrmt5v2EKUnEeVtSiJXyO3JWUq9R0dO-m4o9_8jGP6zHtR62zLaotTBYHmgeKpZgTFB9WtUq8DVdyMn_HSvQEfz-LWqckbcTwM_9RNKoGRVk38KChVJo4z5LkksYRarDo8QgQ7xEKmYmPvRr_I7gvM2bmlZQds2OeqWLB1NSNbFZqyFOCgYn3bAQ-nEQSKwBaA36jYGPOVG2r2Qv1uKcpSOxzxaQybzYpQ
```

> [!TIP]
> <span data-ttu-id="babff-146">Praktyki, tooinspect hello oświadczenia w tokenie identyfikator próbki hello, Wklej hello przykładowy identyfikator tokenu do [calebb.net](http://calebb.net/).</span><span class="sxs-lookup"><span data-stu-id="babff-146">For practice, tooinspect hello claims in hello sample ID token, paste hello sample ID token into [calebb.net](http://calebb.net/).</span></span>
>
>

#### <a name="claims-in-id-tokens"></a><span data-ttu-id="babff-147">Oświadczenia w tokenach identyfikator</span><span class="sxs-lookup"><span data-stu-id="babff-147">Claims in ID tokens</span></span>
| <span data-ttu-id="babff-148">Nazwa</span><span class="sxs-lookup"><span data-stu-id="babff-148">Name</span></span> | <span data-ttu-id="babff-149">Claim</span><span class="sxs-lookup"><span data-stu-id="babff-149">Claim</span></span> | <span data-ttu-id="babff-150">Przykładowa wartość</span><span class="sxs-lookup"><span data-stu-id="babff-150">Example value</span></span> | <span data-ttu-id="babff-151">Opis</span><span class="sxs-lookup"><span data-stu-id="babff-151">Description</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="babff-152">grupy odbiorców</span><span class="sxs-lookup"><span data-stu-id="babff-152">audience</span></span> |`aud` |`6731de76-14a6-49ae-97bc-6eba6914391e` |<span data-ttu-id="babff-153">Identyfikuje hello przeznaczone odbiorcy tokenu hello.</span><span class="sxs-lookup"><span data-stu-id="babff-153">Identifies hello intended recipient of hello token.</span></span> <span data-ttu-id="babff-154">W tokenach identyfikator odbiorców hello jest identyfikator aplikacji aplikacji, przypisany tooyour aplikacji w portalu rejestracji aplikacji Microsoft hello.</span><span class="sxs-lookup"><span data-stu-id="babff-154">In ID tokens, hello audience is your app's Application ID, assigned tooyour app in hello Microsoft Application Registration Portal.</span></span> <span data-ttu-id="babff-155">Aplikację należy sprawdzić tę wartość i Odrzuć hello token, jeśli wartość hello jest niezgodna.</span><span class="sxs-lookup"><span data-stu-id="babff-155">Your app should validate this value, and reject hello token if hello value does not match.</span></span> |
| <span data-ttu-id="babff-156">Wystawcy</span><span class="sxs-lookup"><span data-stu-id="babff-156">issuer</span></span> |`iss` |`https://login.microsoftonline.com/b9419818-09af-49c2-b0c3-653adc1f376e/v2.0 ` |<span data-ttu-id="babff-157">Identyfikuje hello usługi tokenu zabezpieczającego (STS) tworzy i zwraca hello token i hello dzierżawy usługi Azure AD, w których hello uwierzytelnienia użytkownika.</span><span class="sxs-lookup"><span data-stu-id="babff-157">Identifies hello security token service (STS) that constructs and returns hello token, and hello Azure AD tenant in which hello user was authenticated.</span></span> <span data-ttu-id="babff-158">Aplikację należy zweryfikować Witaj wystawca oświadczeń tooensure, który hello tokenu pochodzi z punktu końcowego v2.0 hello.</span><span class="sxs-lookup"><span data-stu-id="babff-158">Your app should validate hello issuer claim tooensure that hello token came from hello v2.0 endpoint.</span></span> <span data-ttu-id="babff-159">On również należy używać części identyfikatora GUID hello hello toorestrict hello zestawu oświadczeń dzierżawcami, które można zarejestrować się w aplikacji toohello.</span><span class="sxs-lookup"><span data-stu-id="babff-159">It also should use hello GUID portion of hello claim toorestrict hello set of tenants that can sign in toohello app.</span></span> <span data-ttu-id="babff-160">Witaj identyfikator GUID, który wskazuje użytkownika hello jest użytkownik konsumentów firmy Microsoft, konto jest `9188040d-6c67-4c5b-b112-36a304b66dad`.</span><span class="sxs-lookup"><span data-stu-id="babff-160">hello GUID that indicates that hello user is a consumer user from a Microsoft account is `9188040d-6c67-4c5b-b112-36a304b66dad`.</span></span> |
| <span data-ttu-id="babff-161">wystawiony w</span><span class="sxs-lookup"><span data-stu-id="babff-161">issued at</span></span> |`iat` |`1452285331` |<span data-ttu-id="babff-162">czas Hello, w których hello token został wystawiony, czas epoki.</span><span class="sxs-lookup"><span data-stu-id="babff-162">hello time at which hello token was issued, represented in epoch time.</span></span> |
| <span data-ttu-id="babff-163">czas wygaśnięcia</span><span class="sxs-lookup"><span data-stu-id="babff-163">expiration time</span></span> |`exp` |`1452289231` |<span data-ttu-id="babff-164">czas Hello, w których hello token staje się nieprawidłowy, reprezentowane w czasie epoki.</span><span class="sxs-lookup"><span data-stu-id="babff-164">hello time at which hello token becomes invalid, represented in epoch time.</span></span> <span data-ttu-id="babff-165">Aplikację należy użyć tego oświadczenia tooverify hello ważności hello okres ważności tokenu.</span><span class="sxs-lookup"><span data-stu-id="babff-165">Your app should use this claim tooverify hello validity of hello token lifetime.</span></span> |
| <span data-ttu-id="babff-166">nie wcześniej niż</span><span class="sxs-lookup"><span data-stu-id="babff-166">not before</span></span> |`nbf` |`1452285331` |<span data-ttu-id="babff-167">czas Hello, w których hello token staje się nieprawidłowy, reprezentowane w czasie epoki.</span><span class="sxs-lookup"><span data-stu-id="babff-167">hello time at which hello token becomes valid, represented in epoch time.</span></span> <span data-ttu-id="babff-168">Jest zwykle hello sam jako czas wystawiania hello.</span><span class="sxs-lookup"><span data-stu-id="babff-168">It is usually hello same as hello issuance time.</span></span> <span data-ttu-id="babff-169">Aplikację należy użyć tego oświadczenia tooverify hello ważności hello okres ważności tokenu.</span><span class="sxs-lookup"><span data-stu-id="babff-169">Your app should use this claim tooverify hello validity of hello token lifetime.</span></span> |
| <span data-ttu-id="babff-170">Wersja</span><span class="sxs-lookup"><span data-stu-id="babff-170">version</span></span> |`ver` |`2.0` |<span data-ttu-id="babff-171">Wersja Hello hello identyfikator tokenu, zgodnie z definicją w usłudze Azure AD.</span><span class="sxs-lookup"><span data-stu-id="babff-171">hello version of hello ID token, as defined by Azure AD.</span></span> <span data-ttu-id="babff-172">Dla punktu końcowego v2.0 hello, wartość hello jest `2.0`.</span><span class="sxs-lookup"><span data-stu-id="babff-172">For hello v2.0 endpoint, hello value is `2.0`.</span></span> |
| <span data-ttu-id="babff-173">Identyfikator dzierżawy</span><span class="sxs-lookup"><span data-stu-id="babff-173">tenant ID</span></span> |`tid` |`b9419818-09af-49c2-b0c3-653adc1f376e` |<span data-ttu-id="babff-174">Identyfikator GUID, który reprezentuje dzierżawy hello Azure AD, która hello użytkownika jest.</span><span class="sxs-lookup"><span data-stu-id="babff-174">A GUID that represents hello Azure AD tenant that hello user is from.</span></span> <span data-ttu-id="babff-175">Dla kont służbowych hello identyfikator GUID jest hello niezmienne dzierżawy, której należy dany identyfikator organizacji hello hello użytkownika.</span><span class="sxs-lookup"><span data-stu-id="babff-175">For work and school accounts, hello GUID is hello immutable tenant ID of hello organization that hello user belongs to.</span></span> <span data-ttu-id="babff-176">W przypadku konta osobiste, wartość hello jest `9188040d-6c67-4c5b-b112-36a304b66dad`.</span><span class="sxs-lookup"><span data-stu-id="babff-176">For personal accounts, hello value is `9188040d-6c67-4c5b-b112-36a304b66dad`.</span></span> <span data-ttu-id="babff-177">Witaj `profile` zakres jest wymagany w celu tooreceive tego oświadczenia.</span><span class="sxs-lookup"><span data-stu-id="babff-177">hello `profile` scope is required in order tooreceive this claim.</span></span> |
| <span data-ttu-id="babff-178">Kod skrótu</span><span class="sxs-lookup"><span data-stu-id="babff-178">code hash</span></span> |`c_hash` |`SGCPtt01wxwfgnYZy2VJtQ` |<span data-ttu-id="babff-179">Skrót kodu Hello wchodzi w tokeny Identyfikatora tylko wtedy, gdy token identyfikator hello jest wystawiony z kodu autoryzacji protokołu OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="babff-179">hello code hash is included in ID tokens only when hello ID token is issued with an OAuth 2.0 authorization code.</span></span> <span data-ttu-id="babff-180">Może być używane toovalidate hello autentyczności kod autoryzacji.</span><span class="sxs-lookup"><span data-stu-id="babff-180">It can be used toovalidate hello authenticity of an authorization code.</span></span> <span data-ttu-id="babff-181">Aby uzyskać szczegółowe informacje o wykonywaniu tej weryfikacji, zobacz hello [OpenID Connect specyfikacji](http://openid.net/specs/openid-connect-core-1_0.html).</span><span class="sxs-lookup"><span data-stu-id="babff-181">For details about performing this validation, see hello [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html).</span></span> |
| <span data-ttu-id="babff-182">Skrót token dostępu</span><span class="sxs-lookup"><span data-stu-id="babff-182">access token hash</span></span> |`at_hash` |`SGCPtt01wxwfgnYZy2VJtQ` |<span data-ttu-id="babff-183">Skrót tokenu dostępu Hello znajduje się w identyfikatorze tokenów tylko wtedy, gdy token Identyfikatora hello jest wydane token dostępu protokołu OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="babff-183">hello access token hash is included in ID tokens only when hello ID token is issued with an OAuth 2.0 access token.</span></span> <span data-ttu-id="babff-184">Może być używane toovalidate hello autentyczności tokenu dostępu.</span><span class="sxs-lookup"><span data-stu-id="babff-184">It can be used toovalidate hello authenticity of an access token.</span></span> <span data-ttu-id="babff-185">Aby uzyskać szczegółowe informacje o wykonywaniu tej weryfikacji, zobacz hello [OpenID Connect specyfikacji](http://openid.net/specs/openid-connect-core-1_0.html).</span><span class="sxs-lookup"><span data-stu-id="babff-185">For details about performing this validation, see hello [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html).</span></span> |
| <span data-ttu-id="babff-186">Identyfikator jednorazowy</span><span class="sxs-lookup"><span data-stu-id="babff-186">nonce</span></span> |`nonce` |`12345` |<span data-ttu-id="babff-187">Identyfikator jednorazowy Hello jest strategii łagodzenia ataków powtórzeń tokenów.</span><span class="sxs-lookup"><span data-stu-id="babff-187">hello nonce is a strategy for mitigating token replay attacks.</span></span> <span data-ttu-id="babff-188">Aplikację można określić identyfikatora jednorazowego w żądaniu autoryzacji przy użyciu hello `nonce` parametr zapytania.</span><span class="sxs-lookup"><span data-stu-id="babff-188">Your app can specify a nonce in an authorization request by using hello `nonce` query parameter.</span></span> <span data-ttu-id="babff-189">wartość Hello podane w żądaniu hello jest emitowany hello identyfikator tokenu `nonce` oświadczenia, nie mają być modyfikowane.</span><span class="sxs-lookup"><span data-stu-id="babff-189">hello value you provide in hello request is emitted in hello ID token's `nonce` claim, unmodified.</span></span> <span data-ttu-id="babff-190">Aplikację można zweryfikować wartości hello względem hello określone w żądaniu hello, co umożliwia skojarzenie aplikacji hello sesji z określonym tokenem identyfikator.</span><span class="sxs-lookup"><span data-stu-id="babff-190">Your app can verify hello value against hello value it specified on hello request, which associates hello app's session with a specific ID token.</span></span> <span data-ttu-id="babff-191">Aplikację należy wykonać tej weryfikacji podczas hello identyfikator sprawdzenia poprawności tokenu procesu.</span><span class="sxs-lookup"><span data-stu-id="babff-191">Your app should perform this validation during hello ID token validation process.</span></span> |
| <span data-ttu-id="babff-192">name</span><span class="sxs-lookup"><span data-stu-id="babff-192">name</span></span> |`name` |`Babe Ruth` |<span data-ttu-id="babff-193">oświadczenia nazwy Hello zawiera wartość zrozumiałą dla użytkownika, która identyfikuje podmiotu hello hello tokenu.</span><span class="sxs-lookup"><span data-stu-id="babff-193">hello name claim provides a human-readable value that identifies hello subject of hello token.</span></span> <span data-ttu-id="babff-194">wartość Hello nie jest gwarantowana toobe unikatowe, jest modyfikowalna, i jest zaprojektowany toobe używana tylko do wyświetlania.</span><span class="sxs-lookup"><span data-stu-id="babff-194">hello value is not guaranteed toobe unique, it is mutable, and it's designed toobe used only for display purposes.</span></span> <span data-ttu-id="babff-195">Witaj `profile` zakres jest wymagany w celu tooreceive tego oświadczenia.</span><span class="sxs-lookup"><span data-stu-id="babff-195">hello `profile` scope is required in order tooreceive this claim.</span></span> |
| <span data-ttu-id="babff-196">Adres e-mail</span><span class="sxs-lookup"><span data-stu-id="babff-196">email</span></span> |`email` |`thegreatbambino@nyy.onmicrosoft.com` |<span data-ttu-id="babff-197">Witaj podstawowego adresu e-mail skojarzonego z hello konta użytkownika, jeśli taka istnieje.</span><span class="sxs-lookup"><span data-stu-id="babff-197">hello primary email address associated with hello user account, if one exists.</span></span> <span data-ttu-id="babff-198">Jego wartość jest modyfikowalna i może ulec zmianie.</span><span class="sxs-lookup"><span data-stu-id="babff-198">Its value is mutable and might change over time.</span></span> <span data-ttu-id="babff-199">Witaj `email` zakres jest wymagany w celu tooreceive tego oświadczenia.</span><span class="sxs-lookup"><span data-stu-id="babff-199">hello `email` scope is required in order tooreceive this claim.</span></span> |
| <span data-ttu-id="babff-200">Preferowany nazwy użytkownika</span><span class="sxs-lookup"><span data-stu-id="babff-200">preferred username</span></span> |`preferred_username` |`thegreatbambino@nyy.onmicrosoft.com` |<span data-ttu-id="babff-201">Witaj głównej nazwy użytkownika, która reprezentuje użytkownika hello w hello punktu końcowego v2.0.</span><span class="sxs-lookup"><span data-stu-id="babff-201">hello primary username that represents hello user in hello v2.0 endpoint.</span></span> <span data-ttu-id="babff-202">Może to być adres e-mail, numer telefonu lub ogólny nazwy użytkownika bez określonego formatu.</span><span class="sxs-lookup"><span data-stu-id="babff-202">It could be an email address, phone number, or a generic username without a specified format.</span></span> <span data-ttu-id="babff-203">Jego wartość jest modyfikowalna i może ulec zmianie.</span><span class="sxs-lookup"><span data-stu-id="babff-203">Its value is mutable and might change over time.</span></span> <span data-ttu-id="babff-204">Witaj `profile` zakres jest wymagany w celu tooreceive tego oświadczenia.</span><span class="sxs-lookup"><span data-stu-id="babff-204">hello `profile` scope is required in order tooreceive this claim.</span></span> |
| <span data-ttu-id="babff-205">Temat</span><span class="sxs-lookup"><span data-stu-id="babff-205">subject</span></span> |`sub` |`MF4f-ggWMEji12KynJUNQZphaUTvLcQug5jdF2nl01Q` | <span data-ttu-id="babff-206">główna Hello, o którym hello token deklaracji rozkazujących informacje, takie jak hello użytkownika aplikacji.</span><span class="sxs-lookup"><span data-stu-id="babff-206">hello principal about which hello token asserts information, such as hello user of an app.</span></span> <span data-ttu-id="babff-207">Ta wartość jest niezmienne i nie można ponownie przypisać lub ponownie.</span><span class="sxs-lookup"><span data-stu-id="babff-207">This value is immutable and cannot be reassigned or reused.</span></span> <span data-ttu-id="babff-208">Sprawdzanie autoryzacji używany tooperform może być bezpiecznie, takie jak podczas hello token jest używany tooaccess zasobu i może być używany jako klucz w tabelach bazy danych.</span><span class="sxs-lookup"><span data-stu-id="babff-208">It can be used tooperform authorization checks safely, such as when hello token is used tooaccess a resource, and can be used as a key in database tables.</span></span> <span data-ttu-id="babff-209">Ponieważ podmiotu hello jest zawsze znajdujących się w tokeny hello problemów z usługą Azure AD, zaleca się korzystanie z tej wartości w systemie autoryzacji ogólnego przeznaczenia.</span><span class="sxs-lookup"><span data-stu-id="babff-209">Because hello subject is always present in hello tokens that Azure AD issues, we recommend using this value in a general-purpose authorization system.</span></span> <span data-ttu-id="babff-210">podmiot Hello jest jednak parowania identyfikator — to identyfikator unikatowy tooa określonej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="babff-210">hello subject is, however, a pairwise identifier - it is unique tooa particular application ID.</span></span>  <span data-ttu-id="babff-211">W związku z tym jeśli jeden użytkownik zaloguje się do dwóch różnych aplikacji przy użyciu dwóch identyfikatorów innego klienta, tych aplikacji zostanie wyświetlony dwóch różnych wartości oświadczenia podmiotu hello.</span><span class="sxs-lookup"><span data-stu-id="babff-211">Therefore, if a single user signs into two different apps using two different client IDs, those apps will receive two different values for hello subject claim.</span></span>  <span data-ttu-id="babff-212">To może lub nie może być wskazane w zależności od wymagań architektury i ochrony prywatności.</span><span class="sxs-lookup"><span data-stu-id="babff-212">This may or may not be desired depending on your architecture and privacy requirements.</span></span> |
| <span data-ttu-id="babff-213">Identyfikator obiektu:</span><span class="sxs-lookup"><span data-stu-id="babff-213">object ID</span></span> |`oid` |`a1dbdde8-e4f9-4571-ad93-3059e3750d23` | <span data-ttu-id="babff-214">Witaj niezmienne identyfikator obiektu w hello Microsoft tożsamości systemu, w tym przypadku konta użytkownika.</span><span class="sxs-lookup"><span data-stu-id="babff-214">hello immutable identifier for an object in hello Microsoft identity system, in this case, a user account.</span></span>  <span data-ttu-id="babff-215">Sprawdzanie autoryzacji używany tooperform może być również bezpiecznie i jako klucz w tabelach bazy danych.</span><span class="sxs-lookup"><span data-stu-id="babff-215">It can also be used tooperform authorization checks safely and as a key in database tables.</span></span> <span data-ttu-id="babff-216">Ten identyfikator unikatowo identyfikuje hello użytkownika w aplikacjach — Witaj dwóch różnych aplikacji logowanie hello otrzymają tego samego użytkownika, takie same wartości w hello `oid` oświadczeń.</span><span class="sxs-lookup"><span data-stu-id="babff-216">This ID uniquely identifies hello user across applications - two different applications signing in hello same user will receive hello same value in hello `oid` claim.</span></span>  <span data-ttu-id="babff-217">Oznacza to, że mogą być używane podczas wykonywania kwerend tooMicrosoft usług online services, takich jak hello Microsoft Graph.</span><span class="sxs-lookup"><span data-stu-id="babff-217">This means that it can be used when making queries tooMicrosoft online services, such as hello Microsoft Graph.</span></span>  <span data-ttu-id="babff-218">Witaj Microsoft Graph, którą będzie zwracać ten identyfikator jako hello `id` właściwości dla danego konta użytkownika.</span><span class="sxs-lookup"><span data-stu-id="babff-218">hello Microsoft Graph will return this ID as hello `id` property for a given user account.</span></span>  <span data-ttu-id="babff-219">Ponieważ hello `oid` zezwala na wiele aplikacji użytkowników toocorrelate hello `profile` zakres jest wymagany w celu tooreceive tego oświadczenia.</span><span class="sxs-lookup"><span data-stu-id="babff-219">Because hello `oid` allows multiple apps toocorrelate users, hello `profile` scope is required in order tooreceive this claim.</span></span> <span data-ttu-id="babff-220">Należy pamiętać, że jeden użytkownik istnieje w wielu dzierżawców, hello użytkownika będzie zawierać identyfikator inny obiekt, w każdej dzierżawy — są traktowane jako różne konta, mimo że hello zalogowaniu użytkownika do wszystkich kont z hello tych samych poświadczeń.</span><span class="sxs-lookup"><span data-stu-id="babff-220">Note that if a single user exists in multiple tenants, hello user will contain a different object ID in each tenant - they are considered different accounts, even though hello user logs into each account with hello same credentials.</span></span> |

### <a name="access-tokens"></a><span data-ttu-id="babff-221">Tokeny dostępu</span><span class="sxs-lookup"><span data-stu-id="babff-221">Access tokens</span></span>
<span data-ttu-id="babff-222">Obecnie wystawiony przez punktu końcowego v2.0 hello tokenów dostępu mogą być używane tylko przez program Microsoft Services.</span><span class="sxs-lookup"><span data-stu-id="babff-222">Currently, access tokens issued by hello v2.0 endpoint can be consumed only by Microsoft Services.</span></span> <span data-ttu-id="babff-223">Aplikacje nie powinny potrzebne tooperform weryfikacji ani kontroli tokenów dostępu hello obecnie obsługiwane scenariusze.</span><span class="sxs-lookup"><span data-stu-id="babff-223">Your apps shouldn't need tooperform any validation or inspection of access tokens for any of hello currently supported scenarios.</span></span> <span data-ttu-id="babff-224">Tokeny dostępu można traktować jako całkowicie przezroczystości.</span><span class="sxs-lookup"><span data-stu-id="babff-224">You can treat access tokens as completely opaque.</span></span> <span data-ttu-id="babff-225">Są one tylko ciągi, że aplikację można przekazać tooMicrosoft żądań HTTP.</span><span class="sxs-lookup"><span data-stu-id="babff-225">They are just strings that your app can pass tooMicrosoft in HTTP requests.</span></span>

<span data-ttu-id="babff-226">W hello niemal przyszłych, v2.0 hello punktu końcowego wprowadzi hello możliwości dla tokenów dostępu tooreceive aplikacji z innych klientów.</span><span class="sxs-lookup"><span data-stu-id="babff-226">In hello near future, hello v2.0 endpoint will introduce hello ability for your app tooreceive access tokens from other clients.</span></span> <span data-ttu-id="babff-227">W tym czasie program hello informacje w tym temacie zostaną zaktualizowane z hello informacje potrzebne do Twojej aplikacji tooperform dostępu tokenu weryfikacji i inne podobne zadania.</span><span class="sxs-lookup"><span data-stu-id="babff-227">At that time, hello information in this reference topic will be updated with hello information that you need for your app tooperform access token validation and other similar tasks.</span></span>

<span data-ttu-id="babff-228">W przypadku żądania tokenu dostępu z punktu końcowego v2.0 hello, punktu końcowego v2.0 hello również zwraca metadane dotyczące hello tokenu dostępu dla użytkownika toouse aplikacji.</span><span class="sxs-lookup"><span data-stu-id="babff-228">When you request an access token from hello v2.0 endpoint, hello v2.0 endpoint also returns metadata about hello access token for your app toouse.</span></span> <span data-ttu-id="babff-229">Informacje te obejmują hello czas wygaśnięcia tokenu dostępu hello i zakresy hello, dla których jest prawidłowy.</span><span class="sxs-lookup"><span data-stu-id="babff-229">This information includes hello expiry time of hello access token and hello scopes for which it is valid.</span></span> <span data-ttu-id="babff-230">Twoja aplikacja korzysta z tego tooperform inteligentne buforowanie metadanych tokenów dostępu bez tokenu dostępu Otwórz hello tooparse sam.</span><span class="sxs-lookup"><span data-stu-id="babff-230">Your app uses this metadata tooperform intelligent caching of access tokens without having tooparse open hello access token itself.</span></span>

### <a name="refresh-tokens"></a><span data-ttu-id="babff-231">Tokenów odświeżania</span><span class="sxs-lookup"><span data-stu-id="babff-231">Refresh tokens</span></span>
<span data-ttu-id="babff-232">Tokenów odświeżania są tokenów w przepływu OAuth 2.0 dostęp do aplikacji za pomocą tooget nowe tokeny zabezpieczające.</span><span class="sxs-lookup"><span data-stu-id="babff-232">Refresh tokens are security tokens that your app can use tooget new access tokens in an OAuth 2.0 flow.</span></span> <span data-ttu-id="babff-233">Aplikację można użyć odświeżania tokenów tooachieve długoterminowej dostępu tooresources w imieniu użytkownika bez konieczności interakcji z użytkownikiem hello.</span><span class="sxs-lookup"><span data-stu-id="babff-233">Your app can use refresh tokens tooachieve long-term access tooresources on behalf of a user without requiring interaction with hello user.</span></span>

<span data-ttu-id="babff-234">Tokeny odświeżania są wielu zasobów.</span><span class="sxs-lookup"><span data-stu-id="babff-234">Refresh tokens are multi-resource.</span></span> <span data-ttu-id="babff-235">Token odświeżania otrzymał podczas żądania tokenu dla jednego zasobu można wykorzystać dla zasobu dwóch zupełnie różnych tooa tokenów dostępu.</span><span class="sxs-lookup"><span data-stu-id="babff-235">A refresh token received during a token request for one resource can be redeemed for access tokens tooa completely different resource.</span></span>

<span data-ttu-id="babff-236">tooreceive odświeżania w odpowiedzi tokenu, należy zażądać aplikacji i otrzymać hello `offline_acesss` zakresu.</span><span class="sxs-lookup"><span data-stu-id="babff-236">tooreceive a refresh in a token response, your app must request and be granted hello `offline_acesss` scope.</span></span> <span data-ttu-id="babff-237">więcej informacji na temat hello toolearn `offline_access` zakres, zobacz hello [zgody i zakresy](active-directory-v2-scopes.md) artykułu.</span><span class="sxs-lookup"><span data-stu-id="babff-237">toolearn more about hello `offline_access` scope, see hello [consent and scopes](active-directory-v2-scopes.md) article.</span></span>

<span data-ttu-id="babff-238">Tokenów odświeżania są i zawsze będą, całkowicie nieprzezroczyste tooyour aplikacji.</span><span class="sxs-lookup"><span data-stu-id="babff-238">Refresh tokens are, and always will be, completely opaque tooyour app.</span></span> <span data-ttu-id="babff-239">One są wystawiane przez punktu końcowego v2.0 usługi Azure AD hello i można tylko inspekcji, a interpretowane przez hello punktu końcowego v2.0.</span><span class="sxs-lookup"><span data-stu-id="babff-239">They are issued by hello Azure AD v2.0 endpoint and can only be inspected and interpreted by hello v2.0 endpoint.</span></span> <span data-ttu-id="babff-240">Są one długotrwałe, ale nie powinien być zapisywany aplikacji tooexpect, który ka¿dy okres będzie trwać token odświeżania.</span><span class="sxs-lookup"><span data-stu-id="babff-240">They are long-lived, but your app should not be written tooexpect that a refresh token will last for any period of time.</span></span> <span data-ttu-id="babff-241">Tokeny odświeżania nieważne można w dowolnym momencie z różnych przyczyn.</span><span class="sxs-lookup"><span data-stu-id="babff-241">Refresh tokens can be invalidated at any moment for various reasons.</span></span> <span data-ttu-id="babff-242">Witaj tooattempt tooredeem jest sposób tooknow Twojej aplikacji, jeśli token odświeżania jest prawidłowy tylko jego dokonując punktu końcowego v2.0 toohello żądania tokenu.</span><span class="sxs-lookup"><span data-stu-id="babff-242">hello only way for your app tooknow if a refresh token is valid is tooattempt tooredeem it by making a token request toohello v2.0 endpoint.</span></span>

<span data-ttu-id="babff-243">Gdy zrealizować token odświeżania, aby uzyskać nowy token dostępu (i jeśli przyznano aplikacji hello `offline_access` zakresu), zostanie wyświetlony nowy token odświeżania w hello odpowiedzi tokenu.</span><span class="sxs-lookup"><span data-stu-id="babff-243">When you redeem a refresh token for a new access token (and if your app had been granted hello `offline_access` scope), you receive a new refresh token in hello token response.</span></span> <span data-ttu-id="babff-244">Zapisz hello nowo wystawiony odświeżanie tokenu, tooreplace hello jedną, którego użyto w żądaniu hello.</span><span class="sxs-lookup"><span data-stu-id="babff-244">Save hello newly issued refresh token, tooreplace hello one you used in hello request.</span></span> <span data-ttu-id="babff-245">Gwarantuje to, że tokenów odświeżania ważność tak długo, jak to możliwe.</span><span class="sxs-lookup"><span data-stu-id="babff-245">This guarantees that your refresh tokens remain valid for as long as possible.</span></span>

## <a name="validating-tokens"></a><span data-ttu-id="babff-246">Sprawdzanie poprawności tokenów</span><span class="sxs-lookup"><span data-stu-id="babff-246">Validating tokens</span></span>
<span data-ttu-id="babff-247">Obecnie hello tylko sprawdzenia poprawności tokenu aplikacji konieczne tooperform jest sprawdzanie poprawności tokenów identyfikator.</span><span class="sxs-lookup"><span data-stu-id="babff-247">Currently, hello only token validation your apps should need tooperform is validating ID tokens.</span></span> <span data-ttu-id="babff-248">toovalidate token Identyfikatora aplikacji należy zweryfikować zarówno hello token identyfikator podpisu i hello oświadczeń z hello identyfikator tokenu.</span><span class="sxs-lookup"><span data-stu-id="babff-248">toovalidate an ID token, your app should validate both hello ID token's signature and hello claims in hello ID token.</span></span>

<!-- TODO: Link -->
<span data-ttu-id="babff-249">Firma Microsoft udostępnia bibliotek i przykładów kodu, które pokazują, jak tooeasily obsługuje tokenu weryfikacji.</span><span class="sxs-lookup"><span data-stu-id="babff-249">Microsoft provides libraries and code samples that show you how tooeasily handle token validation.</span></span> <span data-ttu-id="babff-250">W kolejnych sekcjach hello przedstawione hello podstawowy proces.</span><span class="sxs-lookup"><span data-stu-id="babff-250">In hello next sections, we describe hello underlying process.</span></span> <span data-ttu-id="babff-251">Kilka bibliotek open source innych firm również są dostępne do weryfikacji tokenu JWT.</span><span class="sxs-lookup"><span data-stu-id="babff-251">Several third-party open-source libraries also are available for JWT validation.</span></span> <span data-ttu-id="babff-252">Ma co najmniej jedną bibliotekę opcji dla prawie wszystkich platform i języków.</span><span class="sxs-lookup"><span data-stu-id="babff-252">There's at least one library option for almost every platform and language.</span></span>

### <a name="validate-hello-signature"></a><span data-ttu-id="babff-253">Sprawdzanie poprawności podpisu hello</span><span class="sxs-lookup"><span data-stu-id="babff-253">Validate hello signature</span></span>
<span data-ttu-id="babff-254">Token JWT zawiera trzy segmentów, które są oddzielone hello `.` znaków.</span><span class="sxs-lookup"><span data-stu-id="babff-254">A JWT contains three segments, which are separated by hello `.` character.</span></span> <span data-ttu-id="babff-255">pierwszy segment Hello jest nazywany hello *nagłówka*, drugi segment hello jest hello *treści*, i segmentu trzeciego hello jest hello *podpisu*.</span><span class="sxs-lookup"><span data-stu-id="babff-255">hello first segment is known as hello *header*, hello second segment is hello *body*, and hello third segment is hello *signature*.</span></span> <span data-ttu-id="babff-256">segment podpisu Hello może być używane toovalidate hello autentyczności hello identyfikator tokenu, dzięki czemu mogą być zaufane przez aplikację.</span><span class="sxs-lookup"><span data-stu-id="babff-256">hello signature segment can be used toovalidate hello authenticity of hello ID token so that it can be trusted by your app.</span></span>

<span data-ttu-id="babff-257">Tokeny Identyfikatora zalogowano się za pomocą standardowych szyfrowanie asymetryczne algorytmy, takie jak RSA 256.</span><span class="sxs-lookup"><span data-stu-id="babff-257">ID tokens are signed by using industry-standard asymmetric encryption algorithms, such as RSA 256.</span></span> <span data-ttu-id="babff-258">Witaj nagłówka hello identyfikator tokenu ma informacji na temat klucza hello i toosign hello token używany metody szyfrowania.</span><span class="sxs-lookup"><span data-stu-id="babff-258">hello header of hello ID token has information about hello key and encryption method used toosign hello token.</span></span> <span data-ttu-id="babff-259">Na przykład:</span><span class="sxs-lookup"><span data-stu-id="babff-259">For example:</span></span>

```
{
  "typ": "JWT",
  "alg": "RS256",
  "kid": "MnC_VZcATfM5pOYiJHMba9goEKY"
}
```

<span data-ttu-id="babff-260">Witaj `alg` oświadczeń wskazuje hello algorytmu, który był używany toosign hello token.</span><span class="sxs-lookup"><span data-stu-id="babff-260">hello `alg` claim indicates hello algorithm that was used toosign hello token.</span></span> <span data-ttu-id="babff-261">Witaj `kid` oświadczeń wskazuje hello klucza publicznego, który był używany toosign hello token.</span><span class="sxs-lookup"><span data-stu-id="babff-261">hello `kid` claim indicates hello public key that was used toosign hello token.</span></span>

<span data-ttu-id="babff-262">W dowolnym momencie punktu końcowego v2.0 hello może podpisać identyfikator tokenu przy użyciu jednej z określonych par kluczy publicznych i prywatnych.</span><span class="sxs-lookup"><span data-stu-id="babff-262">At any time, hello v2.0 endpoint might sign an ID token by using any one of a specific set of public-private key pairs.</span></span> <span data-ttu-id="babff-263">punktu końcowego v2.0 Hello okresowo obraca hello możliwe zestawu kluczy, więc aplikacja powinna być zapisana toohandle powoduje automatyczną zmianę tych kluczy.</span><span class="sxs-lookup"><span data-stu-id="babff-263">hello v2.0 endpoint periodically rotates hello possible set of keys, so your app should be written toohandle those key changes automatically.</span></span> <span data-ttu-id="babff-264">Toocheck uzasadnione częstotliwości aktualizacji toohello kluczy publicznych używane przez punktu końcowego v2.0 hello jest co 24 godziny.</span><span class="sxs-lookup"><span data-stu-id="babff-264">A reasonable frequency toocheck for updates toohello public keys used by hello v2.0 endpoint is every 24 hours.</span></span>

<span data-ttu-id="babff-265">Można uzyskać hello podpisywania klucza danych toovalidate hello podpisu za pomocą hello OpenID Connect dokument metadanych w lokalizacji:</span><span class="sxs-lookup"><span data-stu-id="babff-265">You can acquire hello signing key data that you need toovalidate hello signature by using hello OpenID Connect metadata document located at:</span></span>

```
https://login.microsoftonline.com/common/v2.0/.well-known/openid-configuration
```

> [!TIP]
> <span data-ttu-id="babff-266">Spróbuj użyć adresu URL hello w przeglądarce!</span><span class="sxs-lookup"><span data-stu-id="babff-266">Try hello URL in a browser!</span></span>
>
>

<span data-ttu-id="babff-267">Ten dokument metadanych jest obiekt JSON, który ma kilka części przydatne informacje, takie jak lokalizacja hello hello różne punkty końcowe wymagane do uwierzytelniania OpenID Connect.</span><span class="sxs-lookup"><span data-stu-id="babff-267">This metadata document is a JSON object that has several useful pieces of information, such as hello location of hello various endpoints required for OpenID Connect authentication.</span></span>  <span data-ttu-id="babff-268">zawiera również dokumentu Hello *jwks_uri*, co daje hello lokalizacji hello zestawu kluczy publicznych używane toosign tokenów.</span><span class="sxs-lookup"><span data-stu-id="babff-268">hello document also includes a *jwks_uri*, which gives hello location of hello set of public keys used toosign tokens.</span></span> <span data-ttu-id="babff-269">dokument JSON Hello znajdujący się w hello jwks_uri ma wszystkie hello informacje o kluczu publicznym, który jest aktualnie używany.</span><span class="sxs-lookup"><span data-stu-id="babff-269">hello JSON document located at hello jwks_uri has all hello public key information that is currently in use.</span></span> <span data-ttu-id="babff-270">Aplikację można użyć hello `kid` oświadczeń w hello JWT nagłówka tooselect, którego klucz publiczny w tym dokumencie został użyty toosign tokenu.</span><span class="sxs-lookup"><span data-stu-id="babff-270">Your app can use hello `kid` claim in hello JWT header tooselect which public key in this document has been used toosign a token.</span></span> <span data-ttu-id="babff-271">Następnie wykonuje sprawdzanie poprawności podpisu za pomocą hello prawidłowy klucz publiczny i algorytm wskazanych hello.</span><span class="sxs-lookup"><span data-stu-id="babff-271">It then performs signature validation by using hello correct public key and hello indicated algorithm.</span></span>

<span data-ttu-id="babff-272">Sprawdzaniu poprawności podpisu jest poza zakresem hello tego dokumentu.</span><span class="sxs-lookup"><span data-stu-id="babff-272">Performing signature validation is outside hello scope of this document.</span></span> <span data-ttu-id="babff-273">Wiele open source biblioteki są dostępne toohelp zostanie o tym.</span><span class="sxs-lookup"><span data-stu-id="babff-273">Many open-source libraries are available toohelp you with this.</span></span>

### <a name="validate-hello-claims"></a><span data-ttu-id="babff-274">Sprawdź poprawność hello oświadczeń</span><span class="sxs-lookup"><span data-stu-id="babff-274">Validate hello claims</span></span>
<span data-ttu-id="babff-275">Gdy aplikacja odbiera token identyfikator podczas logowania użytkownika, jego również wykonywać kilka kontroli względem hello oświadczeń hello identyfikator tokenu.</span><span class="sxs-lookup"><span data-stu-id="babff-275">When your app receives an ID token upon user sign-in, it should also perform a few checks against hello claims in hello ID token.</span></span> <span data-ttu-id="babff-276">Te obejmują, ale nie są ograniczone do:</span><span class="sxs-lookup"><span data-stu-id="babff-276">These include but are not limited to:</span></span>

* <span data-ttu-id="babff-277">**grupy odbiorców** oświadczeń tooverify, który hello token Identyfikatora zostało przeznaczone toobe podane tooyour aplikacji</span><span class="sxs-lookup"><span data-stu-id="babff-277">**audience** claim, tooverify that hello ID token was intended toobe given tooyour app</span></span>
* <span data-ttu-id="babff-278">**nie wcześniej niż** i **czas wygaśnięcia** oświadczeń, tooverify, który hello identyfikator token nie wygasł.</span><span class="sxs-lookup"><span data-stu-id="babff-278">**not before** and **expiration time** claims, tooverify that hello ID token has not expired</span></span>
* <span data-ttu-id="babff-279">**Wystawca** oświadczeń tooverify, który hello token został wystawiony tooyour aplikacji przez hello punktu końcowego v2.0</span><span class="sxs-lookup"><span data-stu-id="babff-279">**issuer** claim, tooverify that hello token was issued tooyour app by hello v2.0 endpoint</span></span>
* <span data-ttu-id="babff-280">**Identyfikator jednorazowy**, jako token powtarzania ograniczenie ataków</span><span class="sxs-lookup"><span data-stu-id="babff-280">**nonce**, as a token replay attack mitigation</span></span>

<span data-ttu-id="babff-281">Aby uzyskać pełną listę operacji sprawdzania poprawności oświadczenia, które należy wykonać w aplikacji, zobacz hello [OpenID Connect specyfikacji](http://openid.net/specs/openid-connect-core-1_0.html#IDTokenValidation).</span><span class="sxs-lookup"><span data-stu-id="babff-281">For a full list of claim validations that your app should perform, see hello [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html#IDTokenValidation).</span></span>

<span data-ttu-id="babff-282">Szczegóły hello oczekiwanych wartości tych oświadczeń są objęte hello [tokeny Identyfikatora](# ID tokens) sekcji.</span><span class="sxs-lookup"><span data-stu-id="babff-282">Details of hello expected values for these claims are included in hello [ID tokens](# ID tokens) section.</span></span>

## <a name="token-lifetimes"></a><span data-ttu-id="babff-283">Okresy istnienia tokenu</span><span class="sxs-lookup"><span data-stu-id="babff-283">Token lifetimes</span></span>
<span data-ttu-id="babff-284">Udostępniamy hello następującego tokenu okresy istnienia tylko charakter informacyjny.</span><span class="sxs-lookup"><span data-stu-id="babff-284">We provide hello following token lifetimes for your information only.</span></span> <span data-ttu-id="babff-285">Hello informacje mogą pomóc podczas opracowywania i debugowania aplikacji.</span><span class="sxs-lookup"><span data-stu-id="babff-285">hello information might help you as you develop and debug apps.</span></span> <span data-ttu-id="babff-286">Aplikacje nie powinny być napisane tooexpect żadnego z tych stała tooremain okresy istnienia.</span><span class="sxs-lookup"><span data-stu-id="babff-286">Your apps should not be written tooexpect any of these lifetimes tooremain constant.</span></span> <span data-ttu-id="babff-287">Token może okresy istnienia i zmieni się w dowolnym momencie.</span><span class="sxs-lookup"><span data-stu-id="babff-287">Token lifetimes can and will change at any time.</span></span>

| <span data-ttu-id="babff-288">Token</span><span class="sxs-lookup"><span data-stu-id="babff-288">Token</span></span> | <span data-ttu-id="babff-289">Cykl życia</span><span class="sxs-lookup"><span data-stu-id="babff-289">Lifetime</span></span> | <span data-ttu-id="babff-290">Opis</span><span class="sxs-lookup"><span data-stu-id="babff-290">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="babff-291">Identyfikator tokeny (konta firmowego lub szkolnego)</span><span class="sxs-lookup"><span data-stu-id="babff-291">ID tokens (work or school accounts)</span></span> |<span data-ttu-id="babff-292">1 godzina</span><span class="sxs-lookup"><span data-stu-id="babff-292">1 hour</span></span> |<span data-ttu-id="babff-293">Tokeny Identyfikatora zwykle są prawidłowe dla 1 godzina.</span><span class="sxs-lookup"><span data-stu-id="babff-293">ID tokens typically are valid for 1 hour.</span></span> <span data-ttu-id="babff-294">Aplikacja sieci web można użyć tego samego toomaintain okres istnienia własnej sesji z hello użytkownika (zalecane), lub wybrać okres istnienia sesji innej.</span><span class="sxs-lookup"><span data-stu-id="babff-294">Your web app can use this same lifetime toomaintain its own session with hello user (recommended), or you can choose a completely different session lifetime.</span></span> <span data-ttu-id="babff-295">Jeśli Twoja aplikacja powinna tooget nowy token identyfikator, musi toomake nowe logowanie żądania punktu końcowego autoryzacji toohello w wersji 2.0.</span><span class="sxs-lookup"><span data-stu-id="babff-295">If your app needs tooget a new ID token, it needs toomake a new sign-in request toohello v2.0 authorize endpoint.</span></span> <span data-ttu-id="babff-296">Jeśli użytkownik hello ma prawidłową sesję z punktem końcowym v2.0 hello, hello użytkownika nie może być wymagane tooenter ponownie swoje poświadczenia.</span><span class="sxs-lookup"><span data-stu-id="babff-296">If hello user has a valid browser session with hello v2.0 endpoint, hello user might not be required tooenter their credentials again.</span></span> |
| <span data-ttu-id="babff-297">Identyfikator tokeny (konta osobiste)</span><span class="sxs-lookup"><span data-stu-id="babff-297">ID tokens (personal accounts)</span></span> |<span data-ttu-id="babff-298">24 godziny</span><span class="sxs-lookup"><span data-stu-id="babff-298">24 hours</span></span> |<span data-ttu-id="babff-299">Identyfikator tokeny dla kont osobistych zwykle są ważne przez 24 godziny.</span><span class="sxs-lookup"><span data-stu-id="babff-299">ID tokens for personal accounts typically are valid for 24 hours.</span></span> <span data-ttu-id="babff-300">Aplikacja sieci web można użyć tego samego toomaintain okres istnienia własnej sesji z hello użytkownika (zalecane), lub wybrać okres istnienia sesji innej.</span><span class="sxs-lookup"><span data-stu-id="babff-300">Your web app can use this same lifetime toomaintain its own session with hello user (recommended), or you can choose a completely different session lifetime.</span></span> <span data-ttu-id="babff-301">Jeśli Twoja aplikacja powinna tooget nowy token identyfikator, musi toomake nowe logowanie żądania punktu końcowego autoryzacji toohello w wersji 2.0.</span><span class="sxs-lookup"><span data-stu-id="babff-301">If your app needs tooget a new ID token, it needs toomake a new sign-in request toohello v2.0 authorize endpoint.</span></span> <span data-ttu-id="babff-302">Jeśli użytkownik hello ma prawidłową sesję z punktem końcowym v2.0 hello, hello użytkownika nie może być wymagane tooenter ponownie swoje poświadczenia.</span><span class="sxs-lookup"><span data-stu-id="babff-302">If hello user has a valid browser session with hello v2.0 endpoint, hello user might not be required tooenter their credentials again.</span></span> |
| <span data-ttu-id="babff-303">Tokeny dostępu (konta firmowego lub szkolnego)</span><span class="sxs-lookup"><span data-stu-id="babff-303">Access tokens (work or school accounts)</span></span> |<span data-ttu-id="babff-304">1 godzina</span><span class="sxs-lookup"><span data-stu-id="babff-304">1 hour</span></span> |<span data-ttu-id="babff-305">Wskazane jako część tokenu metadanych hello odpowiedzi tokenu.</span><span class="sxs-lookup"><span data-stu-id="babff-305">Indicated in token responses as part of hello token metadata.</span></span> |
| <span data-ttu-id="babff-306">Tokeny dostępu (konta osobiste)</span><span class="sxs-lookup"><span data-stu-id="babff-306">Access tokens (personal accounts)</span></span> |<span data-ttu-id="babff-307">1 godzina</span><span class="sxs-lookup"><span data-stu-id="babff-307">1 hour</span></span> |<span data-ttu-id="babff-308">Wskazane jako część tokenu metadanych hello odpowiedzi tokenu.</span><span class="sxs-lookup"><span data-stu-id="babff-308">Indicated in token responses as part of hello token metadata.</span></span> <span data-ttu-id="babff-309">Tokenów dostępu, które są wydawane w imieniu kont osobistych można skonfigurować dla różnych okres istnienia, ale jest typowy 1 godzina.</span><span class="sxs-lookup"><span data-stu-id="babff-309">Access tokens that are issued on behalf of personal accounts can be configured for a different lifetime, but 1 hour is typical.</span></span> |
| <span data-ttu-id="babff-310">Odśwież tokeny (konta firmowego lub szkolnego)</span><span class="sxs-lookup"><span data-stu-id="babff-310">Refresh tokens (work or school account)</span></span> |<span data-ttu-id="babff-311">Zapasowej too14 dni</span><span class="sxs-lookup"><span data-stu-id="babff-311">Up too14 days</span></span> |<span data-ttu-id="babff-312">Token odświeżania pojedynczego jest prawidłowa dla maksymalnie 14 dni.</span><span class="sxs-lookup"><span data-stu-id="babff-312">A single refresh token is valid for a maximum of 14 days.</span></span> <span data-ttu-id="babff-313">Jednak token odświeżania hello mogą być nieprawidłowe w dowolnym momencie z różnych powodów, dlatego aplikacji powinno być kontynuowane toouse tootry token odświeżania, dopóki nie jest on lub dopóki aplikacja zastępuje go nowy token odświeżania.</span><span class="sxs-lookup"><span data-stu-id="babff-313">However, hello refresh token might become invalid at any time for various reasons, so your app should continue tootry toouse a refresh token until it fails, or until your app replaces it with a new refresh token.</span></span> <span data-ttu-id="babff-314">Token odświeżania również staje się nieprawidłowy, jeśli został 90 dni od momentu hello użytkownik wprowadził swoje poświadczenia.</span><span class="sxs-lookup"><span data-stu-id="babff-314">A refresh token also becomes invalid if it has been 90 days since hello user has entered their credentials.</span></span> |
| <span data-ttu-id="babff-315">Odśwież tokeny (konta osobiste)</span><span class="sxs-lookup"><span data-stu-id="babff-315">Refresh tokens (personal accounts)</span></span> |<span data-ttu-id="babff-316">Zapasowej too1 roku</span><span class="sxs-lookup"><span data-stu-id="babff-316">Up too1 year</span></span> |<span data-ttu-id="babff-317">Token odświeżania pojedynczego jest prawidłowa dla maksymalnie 1 rok.</span><span class="sxs-lookup"><span data-stu-id="babff-317">A single refresh token is valid for a maximum of 1 year.</span></span> <span data-ttu-id="babff-318">Jednak w dowolnym momencie z różnych powodów token odświeżania hello mogą być nieprawidłowe, więc aplikacji powinno być kontynuowane tootry toouse token odświeżania, dopóki zakończy się niepowodzeniem.</span><span class="sxs-lookup"><span data-stu-id="babff-318">However, hello refresh token might become invalid at any time for various reasons, so your app should continue tootry toouse a refresh token until it fails.</span></span> |
| <span data-ttu-id="babff-319">Kodach autoryzacji (konta firmowego lub szkolnego)</span><span class="sxs-lookup"><span data-stu-id="babff-319">Authorization codes (work or school accounts)</span></span> |<span data-ttu-id="babff-320">10 minut</span><span class="sxs-lookup"><span data-stu-id="babff-320">10 minutes</span></span> |<span data-ttu-id="babff-321">Kodach autoryzacji są celowo krótkim okresie i powinny być natychmiast zrealizowane tokenów dostępu i tokenów odświeżania, po odebraniu hello tokenów.</span><span class="sxs-lookup"><span data-stu-id="babff-321">Authorization codes are purposely short-lived, and should be immediately redeemed for access tokens and refresh tokens when hello tokens are received.</span></span> |
| <span data-ttu-id="babff-322">Kodach autoryzacji (konta osobiste)</span><span class="sxs-lookup"><span data-stu-id="babff-322">Authorization codes (personal accounts)</span></span> |<span data-ttu-id="babff-323">5 minut</span><span class="sxs-lookup"><span data-stu-id="babff-323">5 minutes</span></span> |<span data-ttu-id="babff-324">Kodach autoryzacji są celowo krótkim okresie i powinny być natychmiast zrealizowane tokenów dostępu i tokenów odświeżania, po odebraniu hello tokenów.</span><span class="sxs-lookup"><span data-stu-id="babff-324">Authorization codes are purposely short-lived, and should be immediately redeemed for access tokens and refresh tokens when hello tokens are received.</span></span> <span data-ttu-id="babff-325">Kodach autoryzacji, które są wydawane w imieniu kont osobistych jest przeznaczony do jednorazowego użytku.</span><span class="sxs-lookup"><span data-stu-id="babff-325">Authorization codes that are issued on behalf of personal accounts are for one-time use.</span></span> |
