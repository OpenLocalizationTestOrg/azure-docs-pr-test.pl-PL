---
title: "Co to jest różna w punktu końcowego v2.0 usługi Azure AD? | Microsoft Docs"
description: "Porównanie oryginalnego usługi Azure AD i punkty końcowe w wersji 2.0."
services: active-directory
documentationcenter: 
author: dstrockis
manager: mbaldwin
editor: 
ms.assetid: 5060da46-b091-4e25-9fa8-af4ae4359b6c
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/01/2017
ms.author: dastrock
ms.custom: aaddev
ms.openlocfilehash: 81de65b0e825dec64383f52b02c5ee56c9434807
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 07/11/2017
---
# <a name="whats-different-about-the-v20-endpoint"></a><span data-ttu-id="4d428-104">Czym się różni punktu końcowego v2.0?</span><span class="sxs-lookup"><span data-stu-id="4d428-104">What's different about the v2.0 endpoint?</span></span>
<span data-ttu-id="4d428-105">Jeśli zaznajomieni z usługą Azure Active Directory lub mieć zintegrowanych aplikacji z usługą Azure AD w ciągu ostatnich, może być pewne różnice w punkcie końcowym v2.0, nie oczekuje.</span><span class="sxs-lookup"><span data-stu-id="4d428-105">If you're familiar with Azure Active Directory or have integrated apps with Azure AD in the past, there may be some differences in the v2.0 endpoint that you would not expect.</span></span>  <span data-ttu-id="4d428-106">Ten dokument uwidacznia różnic zrozumienie.</span><span class="sxs-lookup"><span data-stu-id="4d428-106">This document calls out those differences for your understanding.</span></span>

> [!NOTE]
> <span data-ttu-id="4d428-107">Nie wszystkie usługi Azure Active Directory scenariuszy i funkcji obsługiwanych przez punktu końcowego v2.0.</span><span class="sxs-lookup"><span data-stu-id="4d428-107">Not all Azure Active Directory scenarios & features are supported by the v2.0 endpoint.</span></span>  <span data-ttu-id="4d428-108">Aby ustalić, czy należy używać punktu końcowego v2.0, przeczytaj o [ograniczenia v2.0](active-directory-v2-limitations.md).</span><span class="sxs-lookup"><span data-stu-id="4d428-108">To determine if you should use the v2.0 endpoint, read about [v2.0 limitations](active-directory-v2-limitations.md).</span></span>
>

## <a name="microsoft-accounts-and-azure-ad-accounts"></a><span data-ttu-id="4d428-109">Konta Microsoft i konta usługi Azure AD</span><span class="sxs-lookup"><span data-stu-id="4d428-109">Microsoft accounts and Azure AD accounts</span></span>
<span data-ttu-id="4d428-110">Punktu końcowego v2.0 umożliwiają deweloperom pisanie aplikacji, które akceptują logowanie z konta Microsoft Accounts i usługi Azure AD przy użyciu punktu końcowego uwierzytelniania pojedynczego.</span><span class="sxs-lookup"><span data-stu-id="4d428-110">The v2.0 endpoint allow developers to write apps that accept sign-in from both Microsoft Accounts and Azure AD accounts, using a single auth endpoint.</span></span>  <span data-ttu-id="4d428-111">Daje to możliwość zapisywania aplikacji całkowicie konta niezwiązane z żadnym; może być ignorujących typu konta, które użytkownik loguje się przy użyciu.</span><span class="sxs-lookup"><span data-stu-id="4d428-111">This gives you the ability to write your app completely account-agnostic; it can be ignorant of the type of account that the user signs in with.</span></span>  <span data-ttu-id="4d428-112">Oczywiście możesz *można* uświadomić aplikacji typu konta używane w określonej sesji, ale nie masz.</span><span class="sxs-lookup"><span data-stu-id="4d428-112">Of course, you *can* make your app aware of the type of account being used in a particular session, but you don't have to.</span></span>

<span data-ttu-id="4d428-113">Na przykład jeśli aplikacja wymaga [Microsoft Graph](https://graph.microsoft.io), niektóre dodatkowe funkcje i dane będą dostępne dla użytkowników przedsiębiorstwa, takich jak witryny programu SharePoint lub dane katalogu.</span><span class="sxs-lookup"><span data-stu-id="4d428-113">For instance, if your app calls the [Microsoft Graph](https://graph.microsoft.io), some additional functionality and data will be available to enterprise users, such as their SharePoint sites or Directory data.</span></span>  <span data-ttu-id="4d428-114">Nawet w przypadku wielu akcji takich jak [odczytywanie poczty użytkownika](https://graph.microsoft.io/docs/api-reference/v1.0/resources/message), kodu mogą być zapisywane dokładnie takie same dla konta Microsoft Accounts i usługi Azure AD.</span><span class="sxs-lookup"><span data-stu-id="4d428-114">But for many actions, such as [Reading a user's mail](https://graph.microsoft.io/docs/api-reference/v1.0/resources/message), the code can be written exactly the same for both Microsoft Accounts and Azure AD accounts.</span></span>  

<span data-ttu-id="4d428-115">Integrowanie aplikacji z Accounts Microsoft i kontami usługi Azure AD jest teraz jeden prosty proces.</span><span class="sxs-lookup"><span data-stu-id="4d428-115">Integrating your app with Microsoft Accounts and Azure AD accounts is now one simple process.</span></span>  <span data-ttu-id="4d428-116">Można użyć jednego zestawu punktów końcowych, jednej biblioteki i rejestracji jednej aplikacji do uzyskiwania dostępu do względem zarówno konsumenta, jak i enterprise.</span><span class="sxs-lookup"><span data-stu-id="4d428-116">You can use a single set of endpoints, a single library, and a single app registration to gain access to both the consumer and enterprise worlds.</span></span>  <span data-ttu-id="4d428-117">Aby dowiedzieć się więcej na temat punktu końcowego v2.0, zapoznaj się [przeglądu](active-directory-appmodel-v2-overview.md).</span><span class="sxs-lookup"><span data-stu-id="4d428-117">To learn more about the v2.0 endpoint, check out [the overview](active-directory-appmodel-v2-overview.md).</span></span>

## <a name="new-app-registration-portal"></a><span data-ttu-id="4d428-118">Nowy portal rejestracji aplikacji</span><span class="sxs-lookup"><span data-stu-id="4d428-118">New app registration portal</span></span>
<span data-ttu-id="4d428-119">Aby zarejestrować aplikację, która współdziała z punktem końcowym v2.0, należy użyć nowego portalu rejestracji aplikacji: [apps.dev.microsoft.com](https://apps.dev.microsoft.com/?referrer=https://azure.microsoft.com/documentation/articles&deeplink=/appList).</span><span class="sxs-lookup"><span data-stu-id="4d428-119">To register an app that works with the v2.0 endpoint, you must use a new app registration portal: [apps.dev.microsoft.com](https://apps.dev.microsoft.com/?referrer=https://azure.microsoft.com/documentation/articles&deeplink=/appList).</span></span>  <span data-ttu-id="4d428-120">To jest portal, gdzie można uzyskać identyfikator aplikacji, dostosować wygląd strony logowania aplikacji i inne.</span><span class="sxs-lookup"><span data-stu-id="4d428-120">This is the portal where you can obtain an application ID, customize the appearance of your app's sign-in page, and more.</span></span>  <span data-ttu-id="4d428-121">Wszystkie informacje wymagane do dostępu do portalu to konto Microsoft, jej — osobistych lub pracy/służbowe konto.</span><span class="sxs-lookup"><span data-stu-id="4d428-121">All you need to access the portal is a Microsoft powered account - either personal or work/school account.</span></span>

## <a name="one-app-id-for-all-platforms"></a><span data-ttu-id="4d428-122">Identyfikator jedną aplikację dla wszystkich platform</span><span class="sxs-lookup"><span data-stu-id="4d428-122">One app ID for all platforms</span></span>
<span data-ttu-id="4d428-123">Jeśli używano usługi Azure Active Directory, prawdopodobnie została zarejestrowana kilka różnych aplikacji dla jednego projektu.</span><span class="sxs-lookup"><span data-stu-id="4d428-123">If you've used Azure Active Directory, you've probably registered several different apps for a single project.</span></span>  <span data-ttu-id="4d428-124">Na przykład jeśli utworzono zarówno witrynę sieci Web i aplikacji systemu iOS, trzeba było zarejestrować je oddzielnie, za pomocą dwóch różnych identyfikatorów aplikacji.</span><span class="sxs-lookup"><span data-stu-id="4d428-124">For example, if you built both a website and an iOS app, you had to register them separately, using two different Application Ids.</span></span> <span data-ttu-id="4d428-125">Portal rejestracji aplikacji usługi Azure AD wymuszone można utworzyć tej różnicy podczas rejestracji:</span><span class="sxs-lookup"><span data-stu-id="4d428-125">The Azure AD app registration portal forced you to make this distinction during registration:</span></span>

![Rejestracja aplikacji starego interfejsu użytkownika](../../media/active-directory-v2-flows/old_app_registration.PNG)

<span data-ttu-id="4d428-127">Podobnie jeśli masz witrynę sieci Web i zaplecza, interfejs api sieci web może zarejestrowano jako osobnych aplikacji w usłudze Azure AD.</span><span class="sxs-lookup"><span data-stu-id="4d428-127">Similarly, if you had a website and a backend web api, you might have registered each as a separate app in Azure AD.</span></span>  <span data-ttu-id="4d428-128">Lub jeśli masz aplikację systemu iOS i Android — aplikacja również może być zarejestrowany dwóch różnych aplikacji.</span><span class="sxs-lookup"><span data-stu-id="4d428-128">Or if you had an iOS app and an Android app, you also might have registered two different apps.</span></span>  <span data-ttu-id="4d428-129">Zarejestrowanie każdego składnika aplikacji doprowadziło do niektórych nieoczekiwane zachowania dla deweloperów i klientów:</span><span class="sxs-lookup"><span data-stu-id="4d428-129">Registering each component of an application led to some unexpected behaviors for developers and their customers:</span></span>

* <span data-ttu-id="4d428-130">Poszczególne składniki znajdowały się jako osobne aplikację w dzierżawie usługi Azure Active Directory każdego klienta.</span><span class="sxs-lookup"><span data-stu-id="4d428-130">Each component appeared as a separate app in the Azure Active Directory tenant of each customer.</span></span>
* <span data-ttu-id="4d428-131">Administrator dzierżawy próbowano zastosować zasady do zarządzania dostępem do lub usuwanie aplikacji, zostałyby zrobić dla każdego składnika aplikacji.</span><span class="sxs-lookup"><span data-stu-id="4d428-131">When a tenant administrator attempted to apply policy to, manage access to, or delete an app, they would have to do so for each component of the app.</span></span>
* <span data-ttu-id="4d428-132">Gdy klienci zgodę na aplikacji, każdy składnik zostanie wyświetlony na ekranie zgodę jako różnych aplikacji.</span><span class="sxs-lookup"><span data-stu-id="4d428-132">When customers consented to an application, each component would appear in the consent screen as a distinct application.</span></span>

<span data-ttu-id="4d428-133">Z punktem końcowym v2.0 może teraz rejestrować wszystkie składniki projektu jako rejestracja jednej aplikacji i użycie jednego identyfikatora aplikacji dla całego projektu.</span><span class="sxs-lookup"><span data-stu-id="4d428-133">With the v2.0 endpoint, you can now register all components of your project as a single app registration, and use a single Application Id for your entire project.</span></span>  <span data-ttu-id="4d428-134">Można dodać kilka "platformy" do każdego projektu i podaj odpowiednie dane dla każdej platformy, które można dodać.</span><span class="sxs-lookup"><span data-stu-id="4d428-134">You can add several "platforms" to a each project, and provide the appropriate data for each platform you add.</span></span>  <span data-ttu-id="4d428-135">Oczywiście można utworzyć dowolną liczbę aplikacji, w zależności od wymagań, ale w większości przypadków tylko jeden identyfikator aplikacji może być konieczne.</span><span class="sxs-lookup"><span data-stu-id="4d428-135">Of course, you can create as many apps as you like depending on your requirements, but for the majority of cases only one Application Id should be necessary.</span></span>

<span data-ttu-id="4d428-136">Naszym celem jest, że spowoduje to prowadzić do bardziej uproszczone zarządzanie aplikacjami i środowisko programistyczne i utworzyć więcej skonsolidowanego widoku pojedynczego projektu, który może działać na.</span><span class="sxs-lookup"><span data-stu-id="4d428-136">Our aim is that this will lead to a more simplified app management and development experience, and create a more consolidated view of a single project that you might be working on.</span></span>

## <a name="scopes-not-resources"></a><span data-ttu-id="4d428-137">Zakresy, nie zasobów</span><span class="sxs-lookup"><span data-stu-id="4d428-137">Scopes, not resources</span></span>
<span data-ttu-id="4d428-138">W usłudze Azure Active Directory, aplikacja może zachowywać się jak **zasobów**, lub odbiorcy tokenów.</span><span class="sxs-lookup"><span data-stu-id="4d428-138">In Azure Active Directory, an app can behave as a **resource**, or a recipient of tokens.</span></span>  <span data-ttu-id="4d428-139">Zasób można zdefiniować wiele **zakresy** lub **oAuth2Permissions** siebie, umożliwiając klienckim aplikacje do żądania tokenów do tego zasobu dla zestawu zakresów.</span><span class="sxs-lookup"><span data-stu-id="4d428-139">A resource can define a number of **scopes** or **oAuth2Permissions** that it understands, allowing client apps to request tokens to that resource for a certain set of scopes.</span></span>  <span data-ttu-id="4d428-140">Należy wziąć pod uwagę interfejsu API Azure AD Graph, na przykład zasobu:</span><span class="sxs-lookup"><span data-stu-id="4d428-140">Consider the Azure AD Graph API as an example of a resource:</span></span>

* <span data-ttu-id="4d428-141">Identyfikator zasobu lub `AppID URI`:`https://graph.windows.net/`</span><span class="sxs-lookup"><span data-stu-id="4d428-141">Resource Identifier, or `AppID URI`: `https://graph.windows.net/`</span></span>
* <span data-ttu-id="4d428-142">Zakresy, lub `OAuth2Permissions`: `Directory.Read`, `Directory.Write`itp.</span><span class="sxs-lookup"><span data-stu-id="4d428-142">Scopes, or `OAuth2Permissions`: `Directory.Read`, `Directory.Write`, etc.</span></span>  

<span data-ttu-id="4d428-143">Wszystko to jest spełniony dla punktu końcowego v2.0.</span><span class="sxs-lookup"><span data-stu-id="4d428-143">All of this holds true for the the v2.0 endpoint.</span></span>  <span data-ttu-id="4d428-144">Aplikacja nadal może działać jako zasób, Zdefiniuj zakresy oraz być identyfikowany przez identyfikator URI.</span><span class="sxs-lookup"><span data-stu-id="4d428-144">An app can still behave as resource, define scopes, and be identified by a URI.</span></span>  <span data-ttu-id="4d428-145">Aplikacje klienckie nadal może zażądać dostępu do tych zakresów.</span><span class="sxs-lookup"><span data-stu-id="4d428-145">Client apps can still request access to those scopes.</span></span>  <span data-ttu-id="4d428-146">Jednak sposób, w którym klient żąda uprawnienia została zmieniona.</span><span class="sxs-lookup"><span data-stu-id="4d428-146">However, the way in which a client requests those permissions has changed.</span></span>  <span data-ttu-id="4d428-147">W przeszłości autoryzacji OAuth 2.0 żądania do usługi Azure AD mogą sprawdzono, takich jak:</span><span class="sxs-lookup"><span data-stu-id="4d428-147">In the past, an OAuth 2.0 authorize request to Azure AD might have looked like:</span></span>

```
GET https://login.microsoftonline.com/common/oauth2/authorize?
client_id=2d4d11a2-f814-46a7-890a-274a72a7309e
&resource=https%3A%2F%2Fgraph.windows.net%2F
...
```

<span data-ttu-id="4d428-148">gdzie **zasobów** parametru wskazane, którego zasobu Aplikacja kliencka żąda autoryzacji dla.</span><span class="sxs-lookup"><span data-stu-id="4d428-148">where the **resource** parameter indicated which resource the client app is requesting authorization for.</span></span>  <span data-ttu-id="4d428-149">Usługi Azure AD obliczana uprawnień wymaganych przez aplikację na podstawie konfiguracji statycznej w portalu Azure i w związku z tym wystawionych tokenów.</span><span class="sxs-lookup"><span data-stu-id="4d428-149">Azure AD computed the permissions required by the app based on static configuration in the Azure Portal, and issued tokens accordingly.</span></span>  <span data-ttu-id="4d428-150">Teraz tym samym OAuth 2.0 autoryzować żądania prawdopodobnie:</span><span class="sxs-lookup"><span data-stu-id="4d428-150">Now, the same OAuth 2.0 authorize request looks like:</span></span>

```
GET https://login.microsoftonline.com/common/oauth2/v2.0/authorize?
client_id=2d4d11a2-f814-46a7-890a-274a72a7309e
&scope=https%3A%2F%2Fgraph.windows.net%2Fdirectory.read%20https%3A%2F%2Fgraph.windows.net%2Fdirectory.write
...
```

<span data-ttu-id="4d428-151">gdzie **zakres** parametr wskazuje zasobów i uprawnienia aplikacji żąda autoryzacji dla.</span><span class="sxs-lookup"><span data-stu-id="4d428-151">where the **scope** parameter indicates which resource and permissions the app is requesting authorization for.</span></span> <span data-ttu-id="4d428-152">Żądany zasób jest nadal bardzo znajduje się w żądaniu — po prostu ujęty w wartości parametru zakresu.</span><span class="sxs-lookup"><span data-stu-id="4d428-152">The desired resource is still very present in the request - it is simply encompassed in each of the values of the scope parameter.</span></span>  <span data-ttu-id="4d428-153">Za pomocą parametru zakresu w ten sposób umożliwia punktu końcowego v2.0 za więcej zgodny ze specyfikacją OAuth 2.0 i bardziej dokładnie wyrównana z typowe rozwiązania z branży.</span><span class="sxs-lookup"><span data-stu-id="4d428-153">Using the scope parameter in this manner allows the v2.0 endpoint to be more compliant with the OAuth 2.0 specification, and aligns more closely with common industry practices.</span></span>  <span data-ttu-id="4d428-154">Umożliwia również aplikacji do wykonywania [przyrostowe zgody](#incremental-and-dynamic-consent), który jest opisany w następnej sekcji.</span><span class="sxs-lookup"><span data-stu-id="4d428-154">It also enables apps to perform [incremental consent](#incremental-and-dynamic-consent), which is described in the next section.</span></span>

## <a name="incremental-and-dynamic-consent"></a><span data-ttu-id="4d428-155">Zgody przyrostowych i dynamicznych</span><span class="sxs-lookup"><span data-stu-id="4d428-155">Incremental and dynamic consent</span></span>
<span data-ttu-id="4d428-156">Aplikacje są zarejestrowane w usłudze Azure AD wcześniej konieczne jest określenie ich wymaganych uprawnień OAuth 2.0 w portalu Azure w czasie tworzenia aplikacji:</span><span class="sxs-lookup"><span data-stu-id="4d428-156">Apps registered in Azure AD previously needed to specify their required OAuth 2.0 permissions in the Azure Portal, at app creation time:</span></span>

![Uprawnienia rejestracji interfejsu użytkownika](../../media/active-directory-v2-flows/app_reg_permissions.PNG)

<span data-ttu-id="4d428-158">Uprawnienia aplikacji wymagane są skonfigurowane **statycznie**.</span><span class="sxs-lookup"><span data-stu-id="4d428-158">The permissions an app required were configured **statically**.</span></span>  <span data-ttu-id="4d428-159">Dozwolone konfiguracji aplikacji istnieje w portalu Azure, i przechowywane kod nieuprzywilejowany i proste, przedstawiono kilka problemów dla deweloperów:</span><span class="sxs-lookup"><span data-stu-id="4d428-159">While this allowed configuration of the app to exist in the Azure Portal and kept the code nice and simple, it presents a few issues for developers:</span></span>

* <span data-ttu-id="4d428-160">Aplikacja ma wiedzieć, wszystkie uprawnienia, które kiedykolwiek wymagałoby w czasie tworzenia aplikacji.</span><span class="sxs-lookup"><span data-stu-id="4d428-160">An app had to know all of the permissions it would ever need at app creation time.</span></span>  <span data-ttu-id="4d428-161">Dodanie uprawnień w czasie było trudne procesu.</span><span class="sxs-lookup"><span data-stu-id="4d428-161">Adding permissions over time was a difficult process.</span></span>
* <span data-ttu-id="4d428-162">Aplikacja ma wiedzieć, wszystkie zasoby, które kiedykolwiek dostęp do wcześniejsze.</span><span class="sxs-lookup"><span data-stu-id="4d428-162">An app had to know all of the resources it would ever access ahead of time.</span></span>  <span data-ttu-id="4d428-163">Był trudny do tworzenia aplikacji, które można uzyskać dostępu do dowolnej liczby zasobów.</span><span class="sxs-lookup"><span data-stu-id="4d428-163">It was difficult to create apps that could access an arbitrary number of resources.</span></span>
* <span data-ttu-id="4d428-164">Aplikację nastąpiło żądanie wszystkie uprawnienia, które kiedykolwiek wymagałoby od jego pierwszego logowania.</span><span class="sxs-lookup"><span data-stu-id="4d428-164">An app had to request all the permissions it would ever need upon the user's first sign-in.</span></span>  <span data-ttu-id="4d428-165">W niektórych przypadkach to doprowadziło do bardzo długą listę uprawnień, które nie zaleca się użytkowników końcowych z zatwierdzanie dostępu do aplikacji na początkowej logowania.</span><span class="sxs-lookup"><span data-stu-id="4d428-165">In some cases this led to a very long list of permissions, which discouraged end-users from approving the app's access on initial sign-in.</span></span>

<span data-ttu-id="4d428-166">Z punktem końcowym v2.0, można określić uprawnienia potrzeb aplikacji **dynamicznie**, w czasie wykonywania, podczas normalnego użytkowania aplikacji.</span><span class="sxs-lookup"><span data-stu-id="4d428-166">With the v2.0 endpoint, you can specify the permissions your app needs **dynamically**, at runtime, during regular usage of your app.</span></span>  <span data-ttu-id="4d428-167">Aby to zrobić, można określić zakresy Twoja aplikacja powinna na dowolnym etapie w czasie przez włączenie ich w `scope` parametr żądania autoryzacji:</span><span class="sxs-lookup"><span data-stu-id="4d428-167">To do so, you can specify the scopes your app needs at any given point in time by including them in the `scope` parameter of an authorization request:</span></span>

```
GET https://login.microsoftonline.com/common/oauth2/v2.0/authorize?
client_id=2d4d11a2-f814-46a7-890a-274a72a7309e
&scope=https%3A%2F%2Fgraph.windows.net%2Fdirectory.read%20https%3A%2F%2Fgraph.windows.net%2Fdirectory.write
...
```

<span data-ttu-id="4d428-168">Powyżej uprawnienia żądań aplikacji na odczytywanie danych katalogu użytkownika usługi Azure AD, a także zapisać danych do ich katalogu.</span><span class="sxs-lookup"><span data-stu-id="4d428-168">The above requests permission for the app to read an Azure AD user's directory data, as well as write data to their directory.</span></span>  <span data-ttu-id="4d428-169">Jeśli użytkownik zgodził się tych uprawnień w przeszłości dla tej konkretnej aplikacji, wystarczy wprowadzić swoje poświadczenia, a zalogować się do aplikacji.</span><span class="sxs-lookup"><span data-stu-id="4d428-169">If the user has consented to those permissions in the past for this particular app, they will simply enter their credentials and be signed into the app.</span></span>  <span data-ttu-id="4d428-170">Jeśli użytkownik zgodził się nie do dowolnego z tych uprawnień, punktu końcowego v2.0 będzie monitować użytkownika o zgodę na te uprawnienia.</span><span class="sxs-lookup"><span data-stu-id="4d428-170">If the user has not consented to any of these permissions, the v2.0 endpoint will ask the user for consent to those permissions.</span></span>  <span data-ttu-id="4d428-171">Aby dowiedzieć się więcej, można znaleźć na [uprawnień, zgody i zakresy](active-directory-v2-scopes.md).</span><span class="sxs-lookup"><span data-stu-id="4d428-171">To learn more, you can read up on [permissions, consent, and scopes](active-directory-v2-scopes.md).</span></span>

<span data-ttu-id="4d428-172">Dzięki czemu aplikacja może zażądać uprawnień dynamicznie za pośrednictwem `scope` parametru zapewnia pełną kontrolę nad środowiskiem użytkownika.</span><span class="sxs-lookup"><span data-stu-id="4d428-172">Allowing an app to request permissions dynamically via the `scope` parameter gives you full control over your user's experience.</span></span>  <span data-ttu-id="4d428-173">Jeśli chcesz, możesz frontload Twojej zgody środowisko i poproś o wszystkie uprawnienia w jednym żądaniu początkowej autoryzacji.</span><span class="sxs-lookup"><span data-stu-id="4d428-173">If you wish, you can choose to frontload your consent experience and ask for all permissions in one initial authorization request.</span></span>  <span data-ttu-id="4d428-174">Lub jeśli aplikacja wymaga dużej liczby uprawnień, można zebrać te uprawnienia od użytkownika przyrostowo, jak próbują określonych funkcji aplikacji w czasie.</span><span class="sxs-lookup"><span data-stu-id="4d428-174">Or if your app requires a large number of permissions, you can choose to gather those permissions from the user incrementally, as they attempt to use certain features of your app over time.</span></span>

## <a name="well-known-scopes"></a><span data-ttu-id="4d428-175">Dobrze znane zakresów</span><span class="sxs-lookup"><span data-stu-id="4d428-175">Well-known scopes</span></span>
#### <a name="offline-access"></a><span data-ttu-id="4d428-176">Dostęp w trybie offline</span><span class="sxs-lookup"><span data-stu-id="4d428-176">Offline access</span></span>
<span data-ttu-id="4d428-177">Aplikacje przy użyciu punktu końcowego v2.0 może wymagać użycia nowego uprawnienia dobrze znanego dla aplikacji - `offline_access` zakresu.</span><span class="sxs-lookup"><span data-stu-id="4d428-177">Apps using the v2.0 endpoint may require the use of a new well-known permission for apps - the `offline_access` scope.</span></span>  <span data-ttu-id="4d428-178">Wszystkie aplikacje, należy poprosić to uprawnienie, jeśli muszą uzyskać dostęp do zasobów w imieniu użytkownika przez dłuższy okres czasu, nawet jeśli użytkownik może nie być aktywnie używających aplikacji.</span><span class="sxs-lookup"><span data-stu-id="4d428-178">All apps will need to request this permission if they need to access resources on the behalf of a user for a prolonged period of time, even when the user may not be actively using the app.</span></span>  <span data-ttu-id="4d428-179">`offline_access` Zakres będzie widoczna dla użytkowników w oknach dialogowych zgodę jako "Dostęp do danych w trybie offline", który użytkownik musi wyrazić zgodę na.</span><span class="sxs-lookup"><span data-stu-id="4d428-179">The `offline_access` scope will appear to the user in consent dialogs as "Access your data offline", which the user must agree to.</span></span>  <span data-ttu-id="4d428-180">Żądanie `offline_access` uprawnień spowoduje włączenie aplikacji sieci web do odbierania refresh_tokens OAuth 2.0 z punktem końcowym v2.0.</span><span class="sxs-lookup"><span data-stu-id="4d428-180">Requesting the `offline_access` permission will enable your web app to receive OAuth 2.0 refresh_tokens from the v2.0 endpoint.</span></span>  <span data-ttu-id="4d428-181">Refresh_tokens są długotrwałe i może zostać wymienione na nowe access_tokens OAuth 2.0 przez dłuższy czas dostępu.</span><span class="sxs-lookup"><span data-stu-id="4d428-181">Refresh_tokens are long-lived, and can be exchanged for new OAuth 2.0 access_tokens for extended periods of access.</span></span>  

<span data-ttu-id="4d428-182">Jeśli aplikacja nie żąda `offline_access` zakresu, nie będą otrzymywali refresh_tokens.</span><span class="sxs-lookup"><span data-stu-id="4d428-182">If your app does not request the `offline_access` scope, it will not receive refresh_tokens.</span></span>  <span data-ttu-id="4d428-183">Oznacza to, że podczas zrealizować authorization_code przepływu kodu autoryzacji protokołu OAuth 2.0, otrzymasz tylko ponownie ' access_token ' z `/token` punktu końcowego.</span><span class="sxs-lookup"><span data-stu-id="4d428-183">This means that when you redeem an authorization_code in the OAuth 2.0 authorization code flow, you will only receive back an access_token from the `/token` endpoint.</span></span>  <span data-ttu-id="4d428-184">Tego ' access_token ' pozostanie ważny krótkim czasie (zazwyczaj jedna godzina), ale ostatecznie wygaśnie.</span><span class="sxs-lookup"><span data-stu-id="4d428-184">That access_token will remain valid for a short period of time (typically one hour), but will eventually expire.</span></span>  <span data-ttu-id="4d428-185">W tym punktu w czasie, aplikacja będzie musiał przekieruje użytkownika z powrotem do `/authorize` punkt końcowy do pobierania nowych authorization_code.</span><span class="sxs-lookup"><span data-stu-id="4d428-185">At that point in time, your app will need to redirect the user back to the `/authorize` endpoint to retrieve a new authorization_code.</span></span>  <span data-ttu-id="4d428-186">Podczas tego przekierowania, użytkownik może lub nie trzeba ponownie wprowadzić swoje poświadczenia lub ponownie wyrażenia zgody na uprawnienia, w zależności od typu aplikacji.</span><span class="sxs-lookup"><span data-stu-id="4d428-186">During this redirect, the user may or may not need to enter their credentials again or re-consent to permissions, depending on the the type of app.</span></span>

<span data-ttu-id="4d428-187">Aby dowiedzieć się więcej na temat protokołu OAuth 2.0, refresh_tokens i access_tokens, zapoznaj się [referencyjne protokołu v2.0](active-directory-v2-protocols.md).</span><span class="sxs-lookup"><span data-stu-id="4d428-187">To learn more about OAuth 2.0, refresh_tokens, and access_tokens, check out the [v2.0 protocol reference](active-directory-v2-protocols.md).</span></span>

#### <a name="openid-profile-and-email"></a><span data-ttu-id="4d428-188">OpenID, profil a poczty e-mail</span><span class="sxs-lookup"><span data-stu-id="4d428-188">OpenID, profile and email</span></span>
<span data-ttu-id="4d428-189">W przeszłości najprostsze przepływ protokołu OpenID Connect logowania w usłudze Azure Active Directory zapewni szereg informacji o użytkowniku w żądaniu wynikowy.</span><span class="sxs-lookup"><span data-stu-id="4d428-189">Historically, the most basic OpenID Connect sign-in flow with Azure Active Directory would provide a wealth of information about the user in the resulting id_token.</span></span>  <span data-ttu-id="4d428-190">Oświadczenia w żądaniu mogą obejmować użytkownika nazwę, username preferowany adres e-mail, identyfikator obiektu i więcej.</span><span class="sxs-lookup"><span data-stu-id="4d428-190">The claims in an id_token can include the user's name, preferred username, email address, object ID, and more.</span></span>

<span data-ttu-id="4d428-191">Firma Microsoft są teraz Ograniczanie informacji który `openid` zakresu zapewnia dostęp do aplikacji.</span><span class="sxs-lookup"><span data-stu-id="4d428-191">We are now restricting the information that the `openid` scope affords your app access to.</span></span>  <span data-ttu-id="4d428-192">Zakres "openid" będzie tylko umożliwić aplikacji logowania użytkownika w i wyświetlony identyfikator specyficzny dla aplikacji dla użytkownika.</span><span class="sxs-lookup"><span data-stu-id="4d428-192">The ‘openid’ scope will only allow your app to sign the user in, and receive an app-specific identifier for the user.</span></span>  <span data-ttu-id="4d428-193">Jeśli chcesz uzyskać dane osobowe lub informacje o użytkowniku w aplikacji, aplikacji należy zażądać dodatkowych uprawnień od użytkownika.</span><span class="sxs-lookup"><span data-stu-id="4d428-193">If you want to obtain personally identifiable information (PII) about the user in your app, your app will need to request additional permissions from the user.</span></span>  <span data-ttu-id="4d428-194">Wprowadzamy dwa nowe zakresy — `email` i `profile` zakresy — które umożliwiają zrobić.</span><span class="sxs-lookup"><span data-stu-id="4d428-194">We are introducing two new scopes – the `email` and `profile` scopes – which allow you to do so.</span></span>

<span data-ttu-id="4d428-195">`email` Zakres jest bardzo prosta — umożliwia dostęp aplikacji do użytkownika podstawowego adresu e-mail za pośrednictwem `email` oświadczeń w żądaniu.</span><span class="sxs-lookup"><span data-stu-id="4d428-195">The `email` scope is very straightforward – it allows your app access to the user’s primary email address via the `email` claim in the id_token.</span></span>  <span data-ttu-id="4d428-196">`profile` Zakresu daje aplikacji dostęp do wszystkich innych podstawowe informacje o użytkowniku — ich nazwy, preferowane username identyfikator obiektu i tak dalej.</span><span class="sxs-lookup"><span data-stu-id="4d428-196">The `profile` scope affords your app access to all other basic information about the user – their name, preferred username, object ID, and so on.</span></span>

<span data-ttu-id="4d428-197">Dzięki temu można kod aplikacji w sposób minimalnego ujawnienie — tylko poproś użytkownika dla zestawu danych, czy aplikacja wymaga, aby rozpocząć tworzenie.</span><span class="sxs-lookup"><span data-stu-id="4d428-197">This allows you to code your app in a minimal-disclosure fashion – you can only ask the user for the set of information that your app requires to do its job.</span></span>  <span data-ttu-id="4d428-198">Aby uzyskać więcej informacji o tych zakresów, zapoznaj się [dokumentacja zakresu v2.0](active-directory-v2-scopes.md).</span><span class="sxs-lookup"><span data-stu-id="4d428-198">For more information on these scopes, refer to [the v2.0 scope reference](active-directory-v2-scopes.md).</span></span>

## <a name="token-claims"></a><span data-ttu-id="4d428-199">Token oświadczeń</span><span class="sxs-lookup"><span data-stu-id="4d428-199">Token Claims</span></span>
<span data-ttu-id="4d428-200">Oświadczeń z tokenów wystawionych przez punkt końcowy w wersji 2.0 nie będą takie same jak tokeny wystawione przez ogólnie dostępna punkty końcowe usługi Azure AD — migracja do nowej usługi aplikacji nie należy zakładać danego oświadczenia będą istnieć w id_tokens lub access_tokens.</span><span class="sxs-lookup"><span data-stu-id="4d428-200">The claims in tokens issued by the v2.0 endpoint will not be identical to tokens issued by the generally available Azure AD endpoints - apps migrating to the new service should not assume a particular claim will exist in id_tokens or access_tokens.</span></span> <span data-ttu-id="4d428-201">Informacje na temat określonych emitowanych w wersji 2.0 tokeny oświadczeń, zobacz [odwołania do tokenu v2.0](active-directory-v2-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="4d428-201">To learn about the specific claims emitted in v2.0 tokens, see the [v2.0 token reference](active-directory-v2-tokens.md).</span></span>

## <a name="limitations"></a><span data-ttu-id="4d428-202">Ograniczenia</span><span class="sxs-lookup"><span data-stu-id="4d428-202">Limitations</span></span>
<span data-ttu-id="4d428-203">Istnieje kilka ograniczeń pod uwagę podczas korzystania z punktem w wersji 2.0.</span><span class="sxs-lookup"><span data-stu-id="4d428-203">There are a few restrictions to be aware of when using the v2.0 point.</span></span>  <span data-ttu-id="4d428-204">Zapoznaj się z [v2.0 ograniczenia doc](active-directory-v2-limitations.md) aby zobaczyć, jeśli dowolny z tych ograniczeń dotyczy Twojego scenariusza.</span><span class="sxs-lookup"><span data-stu-id="4d428-204">Please refer to the [v2.0 limitations doc](active-directory-v2-limitations.md) to see if any of these restrictions apply to your particular scenario.</span></span>
