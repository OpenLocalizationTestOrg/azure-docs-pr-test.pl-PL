---
title: "Synchronizacja programu Azure AD Connect: Zmiana domyślnej konfiguracji | Dokumentacja firmy Microsoft"
description: "Zawiera najlepsze rozwiązania do zmiany domyślnej konfiguracji synchronizacji usługi Azure AD Connect."
services: active-directory
documentationcenter: 
author: andkjell
manager: femila
editor: 
ms.assetid: 7638a031-1635-4942-94c3-fce8f09eed5e
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/12/2017
ms.author: billmath
ms.openlocfilehash: b723ad800ccc0f3040eb480bb72960943b1fdb16
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 08/03/2017
---
# <a name="azure-ad-connect-sync-best-practices-for-changing-the-default-configuration"></a><span data-ttu-id="98ef4-103">Synchronizacja programu Azure AD Connect: najlepsze rozwiązania dotyczące zmieniania konfiguracji domyślnej</span><span class="sxs-lookup"><span data-stu-id="98ef4-103">Azure AD Connect sync: Best practices for changing the default configuration</span></span>
<span data-ttu-id="98ef4-104">Celem tego tematu jest opisano obsługiwane i nieobsługiwane zmiany do synchronizacji Azure AD Connect.</span><span class="sxs-lookup"><span data-stu-id="98ef4-104">The purpose of this topic is to describe supported and unsupported changes to Azure AD Connect sync.</span></span>

<span data-ttu-id="98ef4-105">Utworzono przy użyciu usługi Azure AD Connect konfigurację działa "jest" dla większości środowisk, które synchronizują lokalnymi usługi Active Directory z usługą Azure AD.</span><span class="sxs-lookup"><span data-stu-id="98ef4-105">The configuration created by Azure AD Connect works “as is” for most environments that synchronize on-premises Active Directory with Azure AD.</span></span> <span data-ttu-id="98ef4-106">Jednak w niektórych przypadkach należy zastosować pewnych zmian do konfiguracji przez potrzebne lub wymagań.</span><span class="sxs-lookup"><span data-stu-id="98ef4-106">However, in some cases, it is necessary to apply some changes to a configuration to satisfy a particular need or requirement.</span></span>

## <a name="changes-to-the-service-account"></a><span data-ttu-id="98ef4-107">Zmiany konta usługi</span><span class="sxs-lookup"><span data-stu-id="98ef4-107">Changes to the service account</span></span>
<span data-ttu-id="98ef4-108">Synchronizacja programu Azure AD Connect jest uruchomiony na koncie usługi tworzone przez Kreatora instalacji.</span><span class="sxs-lookup"><span data-stu-id="98ef4-108">Azure AD Connect sync is running under a service account created by the installation wizard.</span></span> <span data-ttu-id="98ef4-109">To konto usługi przechowuje klucze szyfrowania do bazy danych używane przez synchronizacji.</span><span class="sxs-lookup"><span data-stu-id="98ef4-109">This service account holds the encryption keys to the database used by sync.</span></span> <span data-ttu-id="98ef4-110">Jest tworzony z 127 znaków długie hasło, a hasło nie wygasa.</span><span class="sxs-lookup"><span data-stu-id="98ef4-110">It is created with a 127 characters long password and the password is set to not expire.</span></span>

* <span data-ttu-id="98ef4-111">Jest **nieobsługiwany** zmienić lub zresetować hasło do konta usługi.</span><span class="sxs-lookup"><span data-stu-id="98ef4-111">It is **unsupported** to change or reset the password of the service account.</span></span> <span data-ttu-id="98ef4-112">W ten sposób niszczy kluczy szyfrowania i nie będzie mógł uzyskać dostępu do bazy danych i nie jest możliwe jej uruchomienie.</span><span class="sxs-lookup"><span data-stu-id="98ef4-112">Doing so destroys the encryption keys and the service is not able to access the database and is not able to start.</span></span>

## <a name="changes-to-the-scheduler"></a><span data-ttu-id="98ef4-113">Zmiany do harmonogramu</span><span class="sxs-lookup"><span data-stu-id="98ef4-113">Changes to the scheduler</span></span>
<span data-ttu-id="98ef4-114">Począwszy od wersji z kompilacji 1.1 (luty 2016) można skonfigurować [harmonogramu](active-directory-aadconnectsync-feature-scheduler.md) mają cykl synchronizacji inną niż domyślna 30 minut.</span><span class="sxs-lookup"><span data-stu-id="98ef4-114">Starting with the releases from build 1.1 (February 2016) you can configure the [scheduler](active-directory-aadconnectsync-feature-scheduler.md) to have a different sync cycle than the default 30 minutes.</span></span>

## <a name="changes-to-synchronization-rules"></a><span data-ttu-id="98ef4-115">Zmiany reguły synchronizacji</span><span class="sxs-lookup"><span data-stu-id="98ef4-115">Changes to Synchronization Rules</span></span>
<span data-ttu-id="98ef4-116">Kreator instalacji umożliwia konfigurację, w której ma działać w przypadku najbardziej typowych scenariuszy.</span><span class="sxs-lookup"><span data-stu-id="98ef4-116">The installation wizard provides a configuration that is supposed to work for the most common scenarios.</span></span> <span data-ttu-id="98ef4-117">W przypadku, gdy trzeba wprowadzić zmiany w konfiguracji, należy wykonać te reguły, aby nadal ma obsługiwanej konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="98ef4-117">In case you need to make changes to the configuration, then you must follow these rules to still have a supported configuration.</span></span>

* <span data-ttu-id="98ef4-118">Możesz [zmienić przepływów atrybutów](active-directory-aadconnectsync-change-the-configuration.md#other-common-attribute-flow-changes) Jeśli przepływy atrybutów bezpośredniego domyślne nie są odpowiednie dla Twojej organizacji.</span><span class="sxs-lookup"><span data-stu-id="98ef4-118">You can [change attribute flows](active-directory-aadconnectsync-change-the-configuration.md#other-common-attribute-flow-changes) if the default direct attribute flows are not suitable for your organization.</span></span>
* <span data-ttu-id="98ef4-119">Jeśli chcesz [nie przepływu atrybutu](active-directory-aadconnectsync-change-the-configuration.md#do-not-flow-an-attribute) i usuń wszelkie istniejący atrybut wartości w usłudze Azure AD, a następnie należy utworzyć regułę dla tego scenariusza.</span><span class="sxs-lookup"><span data-stu-id="98ef4-119">If you want to [not flow an attribute](active-directory-aadconnectsync-change-the-configuration.md#do-not-flow-an-attribute) and remove any existing attribute values in Azure AD, then you need to create a rule for this scenario.</span></span>
* <span data-ttu-id="98ef4-120">[Wyłącz niechciane regułę synchronizacji](#disable-an-unwanted-sync-rule) zamiast usuwania.</span><span class="sxs-lookup"><span data-stu-id="98ef4-120">[Disable an unwanted Sync Rule](#disable-an-unwanted-sync-rule) rather than deleting it.</span></span> <span data-ttu-id="98ef4-121">Usunięto regułę zostaje odtworzone podczas uaktualniania.</span><span class="sxs-lookup"><span data-stu-id="98ef4-121">A deleted rule is recreated during an upgrade.</span></span>
* <span data-ttu-id="98ef4-122">Aby [zmienić regułę out-of-box](#change-an-out-of-box-rule), należy utworzyć kopię oryginalnej reguły i wyłączyć regułę out-of-box.</span><span class="sxs-lookup"><span data-stu-id="98ef4-122">To [change an out-of-box rule](#change-an-out-of-box-rule), you should make a copy of the original rule and disable the out-of-box rule.</span></span> <span data-ttu-id="98ef4-123">Edytor reguł synchronizacji monity i pomaga.</span><span class="sxs-lookup"><span data-stu-id="98ef4-123">The Sync Rule Editor prompts and helps you.</span></span>
* <span data-ttu-id="98ef4-124">Eksportowanie reguł niestandardowych za pomocą edytora reguły synchronizacji.</span><span class="sxs-lookup"><span data-stu-id="98ef4-124">Export your custom synchronization rules using the Synchronization Rules Editor.</span></span> <span data-ttu-id="98ef4-125">Edytor dostarcza skrypt programu PowerShell, w którym można łatwo utworzyć je ponownie w przypadku odzyskiwania po awarii.</span><span class="sxs-lookup"><span data-stu-id="98ef4-125">The editor provides you with a PowerShell script you can use to easily recreate them in a disaster recovery scenario.</span></span>

> [!WARNING]
> <span data-ttu-id="98ef4-126">Reguły synchronizacji out-of-box mają odcisk palca.</span><span class="sxs-lookup"><span data-stu-id="98ef4-126">The out-of-box sync rules have a thumbprint.</span></span> <span data-ttu-id="98ef4-127">Jeśli wprowadzisz zmiany tych reguł odcisk palca nie jest zgodne.</span><span class="sxs-lookup"><span data-stu-id="98ef4-127">If you make a change to these rules, the thumbprint is no longer matching.</span></span> <span data-ttu-id="98ef4-128">Mogą wystąpić problemy w przyszłości podczas próby zastosowania nową wersję programu Azure AD Connect.</span><span class="sxs-lookup"><span data-stu-id="98ef4-128">You might have problems in the future when you try to apply a new release of Azure AD Connect.</span></span> <span data-ttu-id="98ef4-129">Tylko zmiany sposobu opisano w tym artykule.</span><span class="sxs-lookup"><span data-stu-id="98ef4-129">Only make changes the way it is described in this article.</span></span>

### <a name="disable-an-unwanted-sync-rule"></a><span data-ttu-id="98ef4-130">Wyłącz niechciane reguły synchronizacji</span><span class="sxs-lookup"><span data-stu-id="98ef4-130">Disable an unwanted Sync Rule</span></span>
<span data-ttu-id="98ef4-131">Nie należy usuwać regułę synchronizacji out-of-box.</span><span class="sxs-lookup"><span data-stu-id="98ef4-131">Do not delete an out-of-box sync rule.</span></span> <span data-ttu-id="98ef4-132">Zostanie utworzona ponownie podczas uaktualniania dalej.</span><span class="sxs-lookup"><span data-stu-id="98ef4-132">It is recreated during next upgrade.</span></span>

<span data-ttu-id="98ef4-133">W niektórych przypadkach konfiguracji, który nie działa dla topologii ma wygenerowane przez Kreatora instalacji.</span><span class="sxs-lookup"><span data-stu-id="98ef4-133">In some cases, the installation wizard has produced a configuration that is not working for your topology.</span></span> <span data-ttu-id="98ef4-134">Na przykład jeśli masz topologią lasu zasobów dla konta, ale rozszerzył schematu w lesie konta ze schematem programu Exchange, reguł dla programu Exchange są tworzone dla lasu kont i lasu zasobów.</span><span class="sxs-lookup"><span data-stu-id="98ef4-134">For example, if you have an account-resource forest topology but you have extended the schema in the account forest with the Exchange schema, then rules for Exchange are created for the account forest and the resource forest.</span></span> <span data-ttu-id="98ef4-135">W takim przypadku należy wyłączyć zasadę synchronizacji dla programu Exchange.</span><span class="sxs-lookup"><span data-stu-id="98ef4-135">In this case, you need to disable the Sync Rule for Exchange.</span></span>

![Reguła synchronizacji wyłączone](./media/active-directory-aadconnectsync-best-practices-changing-default-configuration/exchangedisabledrule.png)

<span data-ttu-id="98ef4-137">Na powyższym rysunku Kreator instalacji znalazł starego schematu Exchange 2003 w lesie konta.</span><span class="sxs-lookup"><span data-stu-id="98ef4-137">In the picture above, the installation wizard has found an old Exchange 2003 schema in the account forest.</span></span> <span data-ttu-id="98ef4-138">To rozszerzenie schematu został dodany przed wprowadzeniem w firmie Fabrikam środowisku lasu zasobów.</span><span class="sxs-lookup"><span data-stu-id="98ef4-138">This schema extension was added before the resource forest was introduced in Fabrikam's environment.</span></span> <span data-ttu-id="98ef4-139">Aby zapewnić, że żadne atrybuty od starego wdrożenia programu Exchange są synchronizowane, reguła synchronizacji powinno zostać wyłączone, jak pokazano.</span><span class="sxs-lookup"><span data-stu-id="98ef4-139">To ensure no attributes from the old Exchange implementation are synchronized, the sync rule should be disabled as shown.</span></span>

### <a name="change-an-out-of-box-rule"></a><span data-ttu-id="98ef4-140">Zmień reguły out-of-box</span><span class="sxs-lookup"><span data-stu-id="98ef4-140">Change an out-of-box rule</span></span>
<span data-ttu-id="98ef4-141">Tylko wtedy, należy zmienić regułę out-of-box jest, gdy trzeba będzie zmienić reguły sprzężenia.</span><span class="sxs-lookup"><span data-stu-id="98ef4-141">The only time you should change an out-of-box rule is when you need to change the join rule.</span></span> <span data-ttu-id="98ef4-142">Jeśli musisz zmienić przepływu atrybutów, należy utworzyć regułę synchronizacji z wyższy priorytet niż zasady out-of-box.</span><span class="sxs-lookup"><span data-stu-id="98ef4-142">If you need to change an attribute flow, then you should create a sync rule with higher precedence than the out-of-box rules.</span></span> <span data-ttu-id="98ef4-143">Tylko reguły musisz praktycznie klonowania jest reguła **w z usługi Active Directory — użytkownik przyłączyć**.</span><span class="sxs-lookup"><span data-stu-id="98ef4-143">The only rule you practically need to clone is the rule **In from AD - User Join**.</span></span> <span data-ttu-id="98ef4-144">Można zastąpić wszystkie reguły z regułą wyższy priorytet.</span><span class="sxs-lookup"><span data-stu-id="98ef4-144">You can override all other rules with a higher precedence rule.</span></span>

<span data-ttu-id="98ef4-145">Jeśli chcesz wprowadzić zmiany w regule out-of-box należy utworzyć kopię reguły out-of-box i wyłączyć oryginalnej reguły.</span><span class="sxs-lookup"><span data-stu-id="98ef4-145">If you need to make changes to an out-of-box rule, then you should make a copy of the out-of-box rule and disable the original rule.</span></span> <span data-ttu-id="98ef4-146">Następnie wprowadź zmiany do sklonowany reguły.</span><span class="sxs-lookup"><span data-stu-id="98ef4-146">Then make the changes to the cloned rule.</span></span> <span data-ttu-id="98ef4-147">Edytor reguł synchronizacji korzystającą z tych kroków.</span><span class="sxs-lookup"><span data-stu-id="98ef4-147">The Sync Rule Editor is helping you with those steps.</span></span> <span data-ttu-id="98ef4-148">Po otwarciu regułę out-of-box prezentowany to okno dialogowe:</span><span class="sxs-lookup"><span data-stu-id="98ef4-148">When you open an out-of-box rule, you are presented with this dialog box:</span></span>  
![Ostrzeżenie poza reguły pola](./media/active-directory-aadconnectsync-best-practices-changing-default-configuration/warningoutofboxrule.png)

<span data-ttu-id="98ef4-150">Wybierz **tak** można utworzyć kopii reguły.</span><span class="sxs-lookup"><span data-stu-id="98ef4-150">Select **Yes** to create a copy of the rule.</span></span> <span data-ttu-id="98ef4-151">Reguła sklonowany następnie jest otwarty.</span><span class="sxs-lookup"><span data-stu-id="98ef4-151">The cloned rule is then opened.</span></span>  
<span data-ttu-id="98ef4-152">![Sklonowany reguły](./media/active-directory-aadconnectsync-best-practices-changing-default-configuration/clonedrule.png)</span><span class="sxs-lookup"><span data-stu-id="98ef4-152">![Cloned rule](./media/active-directory-aadconnectsync-best-practices-changing-default-configuration/clonedrule.png)</span></span>

<span data-ttu-id="98ef4-153">W tej regule sklonowany wprowadź niezbędne zmiany w zakresie sprzężenia i przekształcenia.</span><span class="sxs-lookup"><span data-stu-id="98ef4-153">On this cloned rule, make any necessary changes to scope, join, and transformations.</span></span>

## <a name="next-steps"></a><span data-ttu-id="98ef4-154">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="98ef4-154">Next steps</span></span>
<span data-ttu-id="98ef4-155">**Tematy poglądowe**</span><span class="sxs-lookup"><span data-stu-id="98ef4-155">**Overview topics**</span></span>

* [<span data-ttu-id="98ef4-156">Synchronizacja programu Azure AD Connect: zrozumienie i dostosowywanie synchronizacji</span><span class="sxs-lookup"><span data-stu-id="98ef4-156">Azure AD Connect sync: Understand and customize synchronization</span></span>](active-directory-aadconnectsync-whatis.md)
* [<span data-ttu-id="98ef4-157">Integrowanie tożsamości lokalnych z usługą Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="98ef4-157">Integrating your on-premises identities with Azure Active Directory</span></span>](active-directory-aadconnect.md)
