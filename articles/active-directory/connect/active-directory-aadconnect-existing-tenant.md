---
title: "Azure AD Connect: Jeśli już masz usługi Azure AD | Dokumentacja firmy Microsoft"
description: "W tym temacie opisano sposób łączenia podczas toouse masz istniejącej dzierżawy usługi Azure AD."
services: active-directory
documentationcenter: 
author: andkjell
manager: femila
editor: 
ms.assetid: 
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/13/2017
ms.author: billmath
ms.openlocfilehash: f7b166e9e85c1f03330e8e0074d4afa4036738c2
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="azure-ad-connect-when-you-have-an-existent-tenant"></a><span data-ttu-id="73209-103">Azure AD Connect: Jeśli masz dzierżawę istniejących</span><span class="sxs-lookup"><span data-stu-id="73209-103">Azure AD Connect: When you have an existent tenant</span></span>
<span data-ttu-id="73209-104">Większość hello tematy dotyczące sposobu toouse Azure AD Connect przyjęto założenie, możesz zaczynać nowej usługi Azure AD dzierżawy i czy ma żadnych użytkowników lub istnieją inne obiekty.</span><span class="sxs-lookup"><span data-stu-id="73209-104">Most of hello topics for how toouse Azure AD Connect assumes you start with a new Azure AD tenant and that there are no users or other objects there.</span></span> <span data-ttu-id="73209-105">Ale jeśli została uruchomiona z dzierżawy usługi Azure AD wypełnić go użytkowników i innych obiektów, a teraz ma toouse Connect, a następnie w tym temacie jest dla Ciebie.</span><span class="sxs-lookup"><span data-stu-id="73209-105">But if you have started with an Azure AD tenant, populated it with users and other objects, and now want toouse Connect, then this topic is for you.</span></span>

## <a name="hello-basics"></a><span data-ttu-id="73209-106">podstawy Hello</span><span class="sxs-lookup"><span data-stu-id="73209-106">hello basics</span></span>
<span data-ttu-id="73209-107">Obiekt w usłudze Azure AD albo jest zarządzany w hello chmury (Azure AD) lub lokalnie.</span><span class="sxs-lookup"><span data-stu-id="73209-107">An object in Azure AD is either mastered in hello cloud (Azure AD) or on-premises.</span></span> <span data-ttu-id="73209-108">Dla jednego pojedynczego obiektu nie może zarządzać niektóre atrybuty lokalnymi i niektórych innych atrybutów w usłudze Azure AD.</span><span class="sxs-lookup"><span data-stu-id="73209-108">For one single object, you cannot manage some attributes on-premises and some other attributes in Azure AD.</span></span> <span data-ttu-id="73209-109">Każdy obiekt ma flagę wskazującą, w którym obiekt hello jest obsługiwany.</span><span class="sxs-lookup"><span data-stu-id="73209-109">Each object has a flag indicating where hello object is managed.</span></span>

<span data-ttu-id="73209-110">W chmurze hello można zarządzać niektórych użytkowników lokalnych i inne.</span><span class="sxs-lookup"><span data-stu-id="73209-110">You can manage some users on-premises and other in hello cloud.</span></span> <span data-ttu-id="73209-111">Typowy scenariusz dla tej konfiguracji jest organizacji z różnych kont pracowników i pracowników sprzedaży.</span><span class="sxs-lookup"><span data-stu-id="73209-111">A common scenario for this configuration is an organization with a mix of accounting workers and sales workers.</span></span> <span data-ttu-id="73209-112">Witaj kont pracowników ma lokalnego konta AD, ale pracownicy sprzedaży hello nie, użytkownicy mają konta w usłudze Azure AD.</span><span class="sxs-lookup"><span data-stu-id="73209-112">hello accounting workers have an on-premises AD account, but hello sales workers do not, they have an account in Azure AD.</span></span> <span data-ttu-id="73209-113">Czy zarządzanie niektórych użytkowników lokalnych, a niektóre w usłudze Azure AD.</span><span class="sxs-lookup"><span data-stu-id="73209-113">You would manage some users on-premises and some in Azure AD.</span></span>

<span data-ttu-id="73209-114">Jeśli rozpoczęto toomanage użytkowników w usłudze Azure AD, które są również w lokalnej usłudze AD i później mają toouse Connect, a następnie istnieją pewne dodatkowe problemy potrzebne tooconsider.</span><span class="sxs-lookup"><span data-stu-id="73209-114">If you started toomanage users in Azure AD that are also in on-premises AD and later want toouse Connect, then there are some additional concerns you need tooconsider.</span></span>

## <a name="sync-with-existing-users-in-azure-ad"></a><span data-ttu-id="73209-115">Synchronizacja istniejących użytkowników w usłudze Azure AD</span><span class="sxs-lookup"><span data-stu-id="73209-115">Sync with existing users in Azure AD</span></span>
<span data-ttu-id="73209-116">Po zainstalowaniu usługi Azure AD Connect i rozpoczęciem tej synchronizacji, hello usługi Azure AD sync (w usłudze Azure AD) sprawdza co nowego obiektu i spróbuj toofind istniejących toomatch obiektu.</span><span class="sxs-lookup"><span data-stu-id="73209-116">When you install Azure AD Connect and you start synchronizing, hello Azure AD sync service (in Azure AD) does a check on every new object and try toofind an existing object toomatch.</span></span> <span data-ttu-id="73209-117">Istnieją trzy atrybuty stosowane do tego procesu: **userPrincipalName**, **proxyAddresses**, i **sourceAnchor**/**nazwę immutableID** .</span><span class="sxs-lookup"><span data-stu-id="73209-117">There are three attributes used for this process: **userPrincipalName**, **proxyAddresses**, and **sourceAnchor**/**immutableID**.</span></span> <span data-ttu-id="73209-118">Dopasowanie w **userPrincipalName** i **proxyAddresses** nosi nazwę **nietrwałego dopasowania**.</span><span class="sxs-lookup"><span data-stu-id="73209-118">A match on **userPrincipalName** and **proxyAddresses** is known as a **soft match**.</span></span> <span data-ttu-id="73209-119">Dopasowanie w **sourceAnchor** nosi nazwę **twardych dopasowania**.</span><span class="sxs-lookup"><span data-stu-id="73209-119">A match on **sourceAnchor** is known as **hard match**.</span></span> <span data-ttu-id="73209-120">Dla hello **proxyAddresses** tylko hello wartość z atrybutu **SMTP:**, który będzie hello podstawowego adresu e-mail, zostanie użyta do oceny hello.</span><span class="sxs-lookup"><span data-stu-id="73209-120">For hello **proxyAddresses** attribute only hello value with **SMTP:**, that is hello primary email address, is used for hello evaluation.</span></span>

<span data-ttu-id="73209-121">dopasowanie Hello tylko jest sprawdzany pod kątem nowych obiektów pochodzących z Connect.</span><span class="sxs-lookup"><span data-stu-id="73209-121">hello match is only evaluated for new objects coming from Connect.</span></span> <span data-ttu-id="73209-122">W przypadku zmiany istniejących obiektu tak ją jest zgodne z żadnym z tych atrybutów, następnie zostanie wyświetlony błąd zamiast tego.</span><span class="sxs-lookup"><span data-stu-id="73209-122">If you change an exiting object so it is matching any of these attributes, then you see an error instead.</span></span>

<span data-ttu-id="73209-123">Jeśli usługi Azure AD znajdzie obiektu, gdy wartości atrybutów hello są hello tego samego obiektu pochodzących z Connect i który znajduje się już w usłudze Azure AD, a następnie hello obiektu w usłudze Azure AD zostanie przejęty Connect.</span><span class="sxs-lookup"><span data-stu-id="73209-123">If Azure AD finds an object where hello attribute values are hello same for an object coming from Connect and that it is already present in Azure AD, then hello object in Azure AD is taken over by Connect.</span></span> <span data-ttu-id="73209-124">Witaj wcześniej obiektu zarządzanymi w chmurze z flagą zarządzać lokalnymi.</span><span class="sxs-lookup"><span data-stu-id="73209-124">hello previously cloud-managed object is flagged as on-premises managed.</span></span> <span data-ttu-id="73209-125">Wszystkie atrybuty w usłudze Azure AD z wartością w lokalnym programie AD zostaną zastąpione wartość lokalne powitania.</span><span class="sxs-lookup"><span data-stu-id="73209-125">All attributes in Azure AD with a value in on-premises AD are overwritten with hello on-premises value.</span></span> <span data-ttu-id="73209-126">wyjątek Hello jest po atrybucie **NULL** wartości lokalnej.</span><span class="sxs-lookup"><span data-stu-id="73209-126">hello exception is when an attribute has a **NULL** value on-premises.</span></span> <span data-ttu-id="73209-127">W takim przypadku wartość hello pozostaje usługi Azure AD, ale można nadal zmienić tylko lokalnymi toosomething else.</span><span class="sxs-lookup"><span data-stu-id="73209-127">In this case, hello value in Azure AD remains, but you can still only change it on-premises toosomething else.</span></span>

> [!WARNING]
> <span data-ttu-id="73209-128">Ponieważ wszystkie atrybuty w usłudze Azure AD będą toobe zastąpione przez wartość lokalne powitania, upewnij się, że masz dobrej danych w sieci lokalnej.</span><span class="sxs-lookup"><span data-stu-id="73209-128">Since all attributes in Azure AD are going toobe overwritten by hello on-premises value, make sure you have good data on-premises.</span></span> <span data-ttu-id="73209-129">Na przykład jeśli tylko udało adres e-mail w usłudze Office 365, a nie przechowywane zaktualizowane w lokalnych usług AD DS, utracisz wszystkie wartości w usłudze Azure AD/usługi Office 365 nie znajduje się w usługach AD DS, a następnie.</span><span class="sxs-lookup"><span data-stu-id="73209-129">For example, if you only have managed email address in Office 365 and not kept it updated in on-premises AD DS, then you lose any values in Azure AD/Office 365 not present in AD DS.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="73209-130">Jeśli użyciu synchronizacji haseł, które jest używane przez ustawień ekspresowych, a następnie hello hasła w usłudze Azure AD jest zastępowany hello hasła w lokalnej usługi AD.</span><span class="sxs-lookup"><span data-stu-id="73209-130">If you use password sync, which is always used by express settings, then hello password in Azure AD is overwritten with hello password in on-premises AD.</span></span> <span data-ttu-id="73209-131">Jeśli użytkownicy są toomanage używane różne hasła, wówczas należy tooinform hello je, które powinny używać lokalnego hasła po zainstalowaniu Connect.</span><span class="sxs-lookup"><span data-stu-id="73209-131">If your users are used toomanage different passwords, then you need tooinform them that they should use hello on-premises password when you have installed Connect.</span></span>

<span data-ttu-id="73209-132">w procesie planowania należy rozważyć Hello w poprzedniej sekcji i ostrzeżenia.</span><span class="sxs-lookup"><span data-stu-id="73209-132">hello previous section and warning must be considered in your planning.</span></span> <span data-ttu-id="73209-133">Jeśli wprowadzono wiele zmian w usłudze Azure AD nie zostaną uwzględnione w lokalnych usług AD DS, a następnie należy tooplan jak toopopulate usług AD DS z hello aktualizacji wartości przed synchronizacją obiektów z programem Azure AD Connect.</span><span class="sxs-lookup"><span data-stu-id="73209-133">If you have made many changes in Azure AD not reflected in on-premises AD DS, then you need tooplan for how toopopulate AD DS with hello updated values before you sync your objects with Azure AD Connect.</span></span>

<span data-ttu-id="73209-134">Jeśli dopasowane obiektów z soft-match, następnie hello **sourceAnchor** są dodawane toohello obiektu w usłudze Azure AD, dzięki czemu można następnie używać twardych dopasowania.</span><span class="sxs-lookup"><span data-stu-id="73209-134">If you matched your objects with a soft-match, then hello **sourceAnchor** is added toohello object in Azure AD so a hard match can be used later.</span></span>

### <a name="hard-match-vs-soft-match"></a><span data-ttu-id="73209-135">Twarde dopasowania vs Soft-match</span><span class="sxs-lookup"><span data-stu-id="73209-135">Hard-match vs Soft-match</span></span>
<span data-ttu-id="73209-136">Nowa instalacja programu Connect należy nie ma różnic praktyczne między soft - i twardych dopasowania.</span><span class="sxs-lookup"><span data-stu-id="73209-136">For a new installation of Connect, there is no practical difference between a soft- and a hard-match.</span></span> <span data-ttu-id="73209-137">Różnica Hello jest w sytuacji odzyskiwania po awarii.</span><span class="sxs-lookup"><span data-stu-id="73209-137">hello difference is in a disaster recovery situation.</span></span> <span data-ttu-id="73209-138">Jeśli zgubisz serwera z usługą Azure AD Connect, można ponownie zainstalować nowego wystąpienia bez utraty danych.</span><span class="sxs-lookup"><span data-stu-id="73209-138">If you have lost your server with Azure AD Connect, you can reinstall a new instance without losing any data.</span></span> <span data-ttu-id="73209-139">Obiekt o sourceAnchor jest wysyłane tooConnect podczas początkowej instalacji.</span><span class="sxs-lookup"><span data-stu-id="73209-139">An object with a sourceAnchor is sent tooConnect during initial install.</span></span> <span data-ttu-id="73209-140">Hello dopasowania może następnie przyjąć przez klienta hello (Azure AD Connect), co jest znacznie szybsze niż to samo Witaj w usłudze Azure AD.</span><span class="sxs-lookup"><span data-stu-id="73209-140">hello match can then be evaluated by hello client (Azure AD Connect), which is a lot faster than doing hello same in Azure AD.</span></span> <span data-ttu-id="73209-141">Twarde dopasowanie jest oceniany zarówno połączenia, jak i przez usługę Azure AD.</span><span class="sxs-lookup"><span data-stu-id="73209-141">A hard match is evaluated both by Connect and by Azure AD.</span></span> <span data-ttu-id="73209-142">Elastyczne dopasowanie jest tylko obliczane przez usługę Azure AD.</span><span class="sxs-lookup"><span data-stu-id="73209-142">A soft match is only evaluated by Azure AD.</span></span>

### <a name="other-objects-than-users"></a><span data-ttu-id="73209-143">Innych obiektów niż użytkowników</span><span class="sxs-lookup"><span data-stu-id="73209-143">Other objects than users</span></span>
<span data-ttu-id="73209-144">Użytkownicy zwykle mają userPrincipalName jak proxyAddresses, dzięki łatwo hello dopasowania.</span><span class="sxs-lookup"><span data-stu-id="73209-144">Users usually have both userPrincipalName and proxyAddresses, making hello match easy.</span></span> <span data-ttu-id="73209-145">Jednak inne obiekty, takie jak grupy zabezpieczeń nie są one.</span><span class="sxs-lookup"><span data-stu-id="73209-145">But other objects, such as security groups, do not have those.</span></span> <span data-ttu-id="73209-146">W takim przypadku może wyłącznie odpowiadać na dopasowanie twardych przy użyciu hello sourceAnchor.</span><span class="sxs-lookup"><span data-stu-id="73209-146">In this case, you can only match on a hard match using hello sourceAnchor.</span></span> <span data-ttu-id="73209-147">Hello sourceAnchor jest zawsze hello przekonwertować Base64 **objectGUID** lokalnego, dlatego należy zaktualizować wartość hello w usłudze Azure AD, gdy są potrzebne dwa obiekty toomatch.</span><span class="sxs-lookup"><span data-stu-id="73209-147">hello sourceAnchor is always hello Base64 converted **objectGUID** on-premises, so you must update hello value in Azure AD when you need two objects toomatch.</span></span> <span data-ttu-id="73209-148">sourceAnchor Hello/nazwę immutableID mogą być aktualizowane tylko przy użyciu programu PowerShell, a nie za pośrednictwem hello portali.</span><span class="sxs-lookup"><span data-stu-id="73209-148">hello sourceAnchor/immutableID can only be updated with PowerShell and not through hello portals.</span></span>

## <a name="create-a-new-on-premises-active-directory-from-data-in-azure-ad"></a><span data-ttu-id="73209-149">Tworzenie nowej lokalnej usługi Active Directory na podstawie danych w usłudze Azure AD</span><span class="sxs-lookup"><span data-stu-id="73209-149">Create a new on-premises Active Directory from data in Azure AD</span></span>
<span data-ttu-id="73209-150">Niektórzy klienci rozpoczynać się tylko na chmurze rozwiązanie z usługą Azure AD i nie mają lokalnego AD.</span><span class="sxs-lookup"><span data-stu-id="73209-150">Some customers start with a cloud-only solution with Azure AD and they do not have an on-premises AD.</span></span> <span data-ttu-id="73209-151">Później mają tooconsume lokalnymi zasobami i mają toobuild lokalnej usługi AD w oparciu dane usługi Azure AD.</span><span class="sxs-lookup"><span data-stu-id="73209-151">Later they want tooconsume on-premises resources and want toobuild an on-premises AD based on Azure AD data.</span></span> <span data-ttu-id="73209-152">Azure AD Connect nie może pomóc w tym scenariuszu.</span><span class="sxs-lookup"><span data-stu-id="73209-152">Azure AD Connect cannot help you for this scenario.</span></span> <span data-ttu-id="73209-153">Nie tworzy użytkowników lokalnych i nie ma żadnych możliwości tooset hello hasło lokalne toohello sam jak w usłudze Azure AD.</span><span class="sxs-lookup"><span data-stu-id="73209-153">It does not create users on-premises and it does not have any ability tooset hello password on-premises toohello same as in Azure AD.</span></span>

<span data-ttu-id="73209-154">Jeśli przyczyna tylko hello Dlaczego planujesz tooadd lokalnej usługi AD jest toosupport obiektów LOB (aplikacji biznesowych z), a następnie może być należy rozważyć toouse [usługi domenowe Azure AD](../../active-directory-domain-services/index.md) zamiast tego.</span><span class="sxs-lookup"><span data-stu-id="73209-154">If hello only reason why you plan tooadd on-premises AD is toosupport LOBs (Line-of-Business apps), then maybe you should consider toouse [Azure AD domain services](../../active-directory-domain-services/index.md) instead.</span></span>

## <a name="next-steps"></a><span data-ttu-id="73209-155">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="73209-155">Next steps</span></span>
<span data-ttu-id="73209-156">Dowiedz się więcej na temat [integrowania tożsamości lokalnych z usługą Azure Active Directory](active-directory-aadconnect.md).</span><span class="sxs-lookup"><span data-stu-id="73209-156">Learn more about [Integrating your on-premises identities with Azure Active Directory](active-directory-aadconnect.md).</span></span>
