---
title: "zagadnienia dotyczące topologii aaaNetwork przy użyciu serwera Proxy usługi Azure Active Directory aplikacji | Dokumentacja firmy Microsoft"
description: "Obejmuje zagadnienia dotyczące topologii sieci, używając serwera Proxy aplikacji usługi Azure AD."
services: active-directory
documentationcenter: 
author: kgremban
manager: femila
ms.assetid: 
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/28/2017
ms.author: kgremban
ms.reviewer: harshja
ms.custom: it-pro
ms.openlocfilehash: 9b8cdd2196efeb92a74e44dde6511f7d3091a968
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="network-topology-considerations-when-using-azure-active-directory-application-proxy"></a><span data-ttu-id="7b2e0-103">Zagadnienia dotyczące topologii sieci przy użyciu serwera Proxy usługi Azure Active Directory aplikacji</span><span class="sxs-lookup"><span data-stu-id="7b2e0-103">Network topology considerations when using Azure Active Directory Application Proxy</span></span>

<span data-ttu-id="7b2e0-104">W tym artykule opisano zagadnienia dotyczące topologii sieci, podczas publikowania i zdalny dostęp do aplikacji przy użyciu serwera Proxy aplikacji usługi Azure Active Directory (Azure AD).</span><span class="sxs-lookup"><span data-stu-id="7b2e0-104">This article explains network topology considerations when using Azure Active Directory (Azure AD) Application Proxy for publishing and accessing your applications remotely.</span></span>

## <a name="traffic-flow"></a><span data-ttu-id="7b2e0-105">Przepływ ruchu</span><span class="sxs-lookup"><span data-stu-id="7b2e0-105">Traffic flow</span></span>

<span data-ttu-id="7b2e0-106">Gdy aplikacja zostanie opublikowana przy użyciu serwera Proxy aplikacji usługi Azure AD, ruch z poziomu aplikacji toohello użytkowników hello przechodzi przez trzy połączenia:</span><span class="sxs-lookup"><span data-stu-id="7b2e0-106">When an application is published through Azure AD Application Proxy, traffic from hello users toohello applications flows through three connections:</span></span>

1. <span data-ttu-id="7b2e0-107">Użytkownik Hello łączy toohello serwera Proxy aplikacji usługi Azure AD publiczny punkt końcowy usługi na platformie Azure</span><span class="sxs-lookup"><span data-stu-id="7b2e0-107">hello user connects toohello Azure AD Application Proxy service public endpoint on Azure</span></span>
2. <span data-ttu-id="7b2e0-108">Usługa serwera Proxy aplikacji Hello łączy toohello łącznika serwera Proxy aplikacji</span><span class="sxs-lookup"><span data-stu-id="7b2e0-108">hello Application Proxy service connects toohello Application Proxy connector</span></span>
3. <span data-ttu-id="7b2e0-109">Łącznik serwera Proxy aplikacji Hello łączy toohello aplikacji docelowej</span><span class="sxs-lookup"><span data-stu-id="7b2e0-109">hello Application Proxy connector connects toohello target application</span></span>

![Diagram przedstawiający przepływ ruchu z aplikacji tootarget użytkownika](./media/application-proxy-network-topologies/application-proxy-three-hops.png)

## <a name="tenant-location-and-application-proxy-service"></a><span data-ttu-id="7b2e0-111">Lokalizacja dzierżawy i usługę serwera Proxy aplikacji</span><span class="sxs-lookup"><span data-stu-id="7b2e0-111">Tenant location and Application Proxy service</span></span>

<span data-ttu-id="7b2e0-112">Po utworzeniu konta dla dzierżawy usługi Azure AD, region hello dzierżawy zależy od kraju hello, które określisz.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-112">When you sign up for an Azure AD tenant, hello region of your tenant is determined by hello country you specify.</span></span> <span data-ttu-id="7b2e0-113">Po włączeniu serwera Proxy aplikacji hello wystąpień usługi Serwer Proxy aplikacji dzierżawy są wybrane, albo utworzony w hello sam region dzierżawy usługi Azure AD lub hello najbliższy region tooit.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-113">When you enable Application Proxy, hello Application Proxy service instances for your tenant are chosen or created in hello same region as your Azure AD tenant, or hello closest region tooit.</span></span>

<span data-ttu-id="7b2e0-114">Na przykład jeśli region dzierżawy usługi Azure AD jest hello Unii Europejskiej (UE), wszystkich łączników serwera Proxy aplikacji użyj wystąpień usługi w centrach danych platformy Azure w hello UE.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-114">For example, if your Azure AD tenant’s region is hello European Union (EU), all your Application Proxy connectors use service instances in Azure datacenters in hello EU.</span></span> <span data-ttu-id="7b2e0-115">Jeśli dostęp użytkowników opublikowane aplikacje, ruch przechodzi przez wystąpień usługi Serwer Proxy aplikacji hello w tej lokalizacji.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-115">When your users access published applications, their traffic goes through hello Application Proxy service instances in this location.</span></span>

## <a name="considerations-for-reducing-latency"></a><span data-ttu-id="7b2e0-116">Zagadnienia dotyczące zmniejszenia opóźnienia</span><span class="sxs-lookup"><span data-stu-id="7b2e0-116">Considerations for reducing latency</span></span>

<span data-ttu-id="7b2e0-117">Wszystkie rozwiązania proxy wprowadzić czas oczekiwania na połączenie sieciowe.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-117">All proxy solutions introduce latency into your network connection.</span></span> <span data-ttu-id="7b2e0-118">Niezależnie od tego, który serwer proxy lub rozwiązanie sieci VPN wybierz jako rozwiązania dostępu zdalnego zawsze zawiera zestaw serwerów włączenie hello tooinside połączenia z siecią firmową.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-118">No matter which proxy or VPN solution you choose as your remote access solution, it always includes a set of servers enabling hello connection tooinside your corporate network.</span></span>

<span data-ttu-id="7b2e0-119">Organizacje zwykle zawierają punkty końcowe serwera w sieci obwodowej.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-119">Organizations typically include server endpoints in their perimeter network.</span></span> <span data-ttu-id="7b2e0-120">Z serwera Proxy aplikacji usługi Azure AD jednak ruch przechodzi przez hello usługi serwera proxy w chmurze hello podczas łączniki hello znajdują się w sieci firmowej.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-120">With Azure AD Application Proxy, however, traffic flows through hello proxy service in hello cloud while hello connectors reside on your corporate network.</span></span> <span data-ttu-id="7b2e0-121">Brak sieci obwodowej jest wymagana.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-121">No perimeter network is required.</span></span>

<span data-ttu-id="7b2e0-122">Hello następne sekcje zawierają dodatkowe sugestie toohelp zmniejszenia opóźnień w jeszcze bardziej.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-122">hello next sections contain additional suggestions toohelp you reduce latency even further.</span></span> 

### <a name="connector-placement"></a><span data-ttu-id="7b2e0-123">Umieszczanie łącznika</span><span class="sxs-lookup"><span data-stu-id="7b2e0-123">Connector placement</span></span>

<span data-ttu-id="7b2e0-124">Serwer Proxy aplikacji wybrał lokalizacji hello wystąpień, na podstawie lokalizacji użytkownika dzierżawcy.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-124">Application Proxy chooses hello location of instances for you, based on your tenant location.</span></span> <span data-ttu-id="7b2e0-125">Jednak uzyskać toodecide gdzie tooinstall hello łącznika, umożliwiając hello zasilania toodefine hello opóźnienia właściwości ruchu sieciowego.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-125">However, you get toodecide where tooinstall hello connector, giving you hello power toodefine hello latency characteristics of your network traffic.</span></span>

<span data-ttu-id="7b2e0-126">Podczas konfigurowania powitania serwera Proxy aplikacji usługi, poproś hello następujące pytania:</span><span class="sxs-lookup"><span data-stu-id="7b2e0-126">When setting up hello Application Proxy service, ask hello following questions:</span></span>

* <span data-ttu-id="7b2e0-127">Gdzie znajduje się aplikacja hello?</span><span class="sxs-lookup"><span data-stu-id="7b2e0-127">Where is hello app located?</span></span>
* <span data-ttu-id="7b2e0-128">Gdzie są większość użytkowników, którzy uzyskują dostęp do aplikacji hello znajduje się?</span><span class="sxs-lookup"><span data-stu-id="7b2e0-128">Where are most users who access hello app located?</span></span>
* <span data-ttu-id="7b2e0-129">Gdzie znajduje się wystąpienie serwera Proxy aplikacji hello?</span><span class="sxs-lookup"><span data-stu-id="7b2e0-129">Where is hello Application Proxy instance located?</span></span>
* <span data-ttu-id="7b2e0-130">Już masz dedykowanej sieci połączenia tooAzure centrów danych konfiguracji, takich jak usługa Azure ExpressRoute lub podobne sieci VPN?</span><span class="sxs-lookup"><span data-stu-id="7b2e0-130">Do you already have a dedicated network connection tooAzure datacenters set up, like Azure ExpressRoute or a similar VPN?</span></span>

<span data-ttu-id="7b2e0-131">Łącznik Hello ma toocommunicate z platformy Azure i aplikacji (kroki 2 i 3 w diagram przepływu ruchu hello), więc hello umieszczania hello łącznika wpływa na powitania opóźnienia te dwa połączenia.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-131">hello connector has toocommunicate with both Azure and your applications (steps 2 and 3 in hello Traffic flow diagram), so hello placement of hello connector affects hello latency of those two connections.</span></span> <span data-ttu-id="7b2e0-132">Podczas szacowania położenia hello hello łącznika, należy pamiętać hello następujące punkty:</span><span class="sxs-lookup"><span data-stu-id="7b2e0-132">When evaluating hello placement of hello connector, keep in mind hello following points:</span></span>

* <span data-ttu-id="7b2e0-133">Jeśli chcesz toouse ograniczone delegowanie protokołu Kerberos (KCD) dla logowania jednokrotnego, łącznik hello musi datacenter tooa procesów z wiersza.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-133">If you want toouse Kerberos constrained delegation (KCD) for single sign-on, then hello connector needs a line of sight tooa datacenter.</span></span> <span data-ttu-id="7b2e0-134">Ponadto serwer łącznika hello musi przyłączony do domeny toobe.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-134">Additionally, hello connector server needs toobe domain joined.</span></span>  
* <span data-ttu-id="7b2e0-135">W razie wątpliwości, zainstaluj hello łącznika bliżej toohello aplikacji.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-135">When in doubt, install hello connector closer toohello application.</span></span>

### <a name="general-approach-toominimize-latency"></a><span data-ttu-id="7b2e0-136">Ogólne podejście toominimize opóźnienia</span><span class="sxs-lookup"><span data-stu-id="7b2e0-136">General approach toominimize latency</span></span>

<span data-ttu-id="7b2e0-137">Aby zminimalizować opóźnienie hello hello end-to-end ruchu, optymalizacja każdego połączenia sieciowego.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-137">You can minimize hello latency of hello end-to-end traffic by optimizing each network connection.</span></span> <span data-ttu-id="7b2e0-138">Każde połączenie może zostać zoptymalizowana przez:</span><span class="sxs-lookup"><span data-stu-id="7b2e0-138">Each connection can be optimized by:</span></span>

* <span data-ttu-id="7b2e0-139">Zmniejszenie hello odległość między dwa końce hello hello przeskoku.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-139">Reducing hello distance between hello two ends of hello hop.</span></span>
* <span data-ttu-id="7b2e0-140">Wybieranie hello tootraverse prawo sieci.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-140">Choosing hello right network tootraverse.</span></span> <span data-ttu-id="7b2e0-141">Na przykład przechodzenie z sieci prywatnej zamiast hello publicznego Internetu może być szybsze, powodu toodedicated łącza.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-141">For example, traversing a private network rather than hello public Internet may be faster, due toodedicated links.</span></span>

<span data-ttu-id="7b2e0-142">Jeśli masz dedykowane łącza sieci VPN lub usługi platformy Azure i z siecią firmową, można toouse który.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-142">If you have a dedicated VPN or ExpressRoute link between Azure and your corporate network, you may want toouse that.</span></span>

## <a name="focus-your-optimization-strategy"></a><span data-ttu-id="7b2e0-143">Skoncentruj się strategii optymalizacji</span><span class="sxs-lookup"><span data-stu-id="7b2e0-143">Focus your optimization strategy</span></span>

<span data-ttu-id="7b2e0-144">Brak małego możliwość toocontrol hello połączenia między użytkownikami i powitania serwera Proxy aplikacji usługi.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-144">There's little that you can do toocontrol hello connection between your users and hello Application Proxy service.</span></span> <span data-ttu-id="7b2e0-145">Użytkownicy mogą uzyskiwać dostęp do aplikacji z siecią domową, kawiarni lub innego kraju.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-145">Users may access your apps from a home network, a coffee shop, or a different country.</span></span> <span data-ttu-id="7b2e0-146">Zamiast tego można zoptymalizować hello połączeń z usługi Serwer Proxy aplikacji hello toohello aplikacji toohello łączniki serwera Proxy aplikacji.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-146">Instead, you can optimize hello connections from hello Application Proxy service toohello Application Proxy connectors toohello apps.</span></span> <span data-ttu-id="7b2e0-147">Należy rozważyć zawierających powitania po wzorce w danym środowisku.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-147">Consider incorporating hello following patterns in your environment.</span></span>

### <a name="pattern-1-put-hello-connector-close-toohello-application"></a><span data-ttu-id="7b2e0-148">Wzorzec 1: Aplikacja toohello Zamknij łącznika hello Put</span><span class="sxs-lookup"><span data-stu-id="7b2e0-148">Pattern 1: Put hello connector close toohello application</span></span>

<span data-ttu-id="7b2e0-149">Miejsce hello łącznika Zamknij toohello aplikacji docelowej w powitania klienta sieci.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-149">Place hello connector close toohello target application in hello customer network.</span></span> <span data-ttu-id="7b2e0-150">Ta konfiguracja minimalizuje kroku 3 w diagramie topografii hello, ponieważ Zamknij hello łączników i aplikacji.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-150">This configuration minimizes step 3 in hello topography diagram, because hello connector and application are close.</span></span> 

<span data-ttu-id="7b2e0-151">Jeśli Twoje łącznika wymaga kontrolera domeny toohello procesów z wiersza, ten wzorzec jest korzystne.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-151">If your connector needs a line of sight toohello domain controller, then this pattern is advantageous.</span></span> <span data-ttu-id="7b2e0-152">Większość klientów użycia tego wzorca, ponieważ działa dobrze w przypadku większości scenariuszy.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-152">Most of our customers use this pattern, because it works well for most scenarios.</span></span> <span data-ttu-id="7b2e0-153">Ten wzorzec również można łączyć z wzorca 2 toooptimize ruchu między usługą hello i hello łącznika.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-153">This pattern can also be combined with pattern 2 toooptimize traffic between hello service and hello connector.</span></span>

### <a name="pattern-2-take-advantage-of-expressroute-with-public-peering"></a><span data-ttu-id="7b2e0-154">Wzorzec 2: Korzystanie z usługi ExpressRoute z publicznej komunikacji równorzędnej</span><span class="sxs-lookup"><span data-stu-id="7b2e0-154">Pattern 2: Take advantage of ExpressRoute with public peering</span></span>

<span data-ttu-id="7b2e0-155">Jeśli skonfigurowano publicznej komunikacji równorzędnej ExpressRoute, można użyć hello szybsze połączenia ExpressRoute ruch między serwera Proxy aplikacji i hello łącznika.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-155">If you have ExpressRoute set up with public peering, you can use hello faster ExpressRoute connection for traffic between Application Proxy and hello connector.</span></span> <span data-ttu-id="7b2e0-156">Łącznik Hello jest nadal w sieci, zamknij toohello aplikacji.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-156">hello connector is still on your network, close toohello app.</span></span>

### <a name="pattern-3-take-advantage-of-expressroute-with-private-peering"></a><span data-ttu-id="7b2e0-157">Wzorzec 3: Korzystać z usługi ExpressRoute z prywatnej komunikacji równorzędnej</span><span class="sxs-lookup"><span data-stu-id="7b2e0-157">Pattern 3: Take advantage of ExpressRoute with private peering</span></span>

<span data-ttu-id="7b2e0-158">Jeśli masz dedykowane sieci VPN lub ustawienie usługi ExpressRoute z prywatnej komunikacji równorzędnej platformy Azure i z siecią firmową, masz inną opcję.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-158">If you have a dedicated VPN or ExpressRoute set up with private peering between Azure and your corporate network, you have another option.</span></span> <span data-ttu-id="7b2e0-159">W tej konfiguracji hello sieci wirtualnej na platformie Azure zazwyczaj jest traktowana jako rozszerzenie hello sieci firmowej.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-159">In this configuration, hello virtual network in Azure is typically considered as an extension of hello corporate network.</span></span> <span data-ttu-id="7b2e0-160">Można więc zainstalować łącznik hello w hello centrum danych Azure i nadal spełniają wymagania małych opóźnieniach hello połączenia łącznika do aplikacji hello.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-160">So you can install hello connector in hello Azure datacenter, and still satisfy hello low latency requirements of hello connector-to-app connection.</span></span>

<span data-ttu-id="7b2e0-161">Czas oczekiwania nie zostanie naruszony, ponieważ ruch jest przepływających przez dedykowane połączenie.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-161">Latency is not compromised because traffic is flowing over a dedicated connection.</span></span> <span data-ttu-id="7b2e0-162">Ulepszone opóźnienia łącznika usługi Serwer Proxy aplikacji jest również pobrać, ponieważ łącznik hello jest zainstalowany w centrum danych Azure tooyour Zamknij lokalizacja dzierżawy usługi Azure AD.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-162">You also get improved Application Proxy service-to-connector latency because hello connector is installed in an Azure datacenter close tooyour Azure AD tenant location.</span></span>

![Diagram przedstawiający łącznika instalowane w ramach centrum danych Azure](./media/application-proxy-network-topologies/application-proxy-expressroute-private.png)

### <a name="other-approaches"></a><span data-ttu-id="7b2e0-164">Inne podejścia</span><span class="sxs-lookup"><span data-stu-id="7b2e0-164">Other approaches</span></span>

<span data-ttu-id="7b2e0-165">Chociaż hello ten artykuł koncentruje się umieszczanie łącznika, można również zmienić położenie hello hello tooget lepsze opóźnienia cechy aplikacji.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-165">Although hello focus of this article is connector placement, you can also change hello placement of hello application tooget better latency characteristics.</span></span>

<span data-ttu-id="7b2e0-166">Organizacje są coraz, przenoszenie ich sieci w środowiskach hostowanych.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-166">Increasingly, organizations are moving their networks into hosted environments.</span></span> <span data-ttu-id="7b2e0-167">Umożliwia tooplace swoje aplikacje w środowisku hostowanej, która jest również częścią sieci firmowej i nadal mieścić się w domenie hello.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-167">This enables them tooplace their apps in a hosted environment that is also part of their corporate network, and still be within hello domain.</span></span> <span data-ttu-id="7b2e0-168">W takim przypadku wzorców hello opisano w powyższej sekcji hello może być zastosowane toohello nowej lokalizacji aplikacji.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-168">In this case, hello patterns discussed in hello preceding sections can be applied toohello new application location.</span></span> <span data-ttu-id="7b2e0-169">Jeśli rozważasz tej opcji, zobacz [usług domenowych Azure AD](../active-directory-domain-services/active-directory-ds-overview.md).</span><span class="sxs-lookup"><span data-stu-id="7b2e0-169">If you're considering this option, see [Azure AD Domain Services](../active-directory-domain-services/active-directory-ds-overview.md).</span></span>

<span data-ttu-id="7b2e0-170">Ponadto należy wziąć pod uwagę organizowanie za pomocą łączników [grup łącznika](active-directory-application-proxy-connectors.md) tootarget aplikacje, które znajdują się w różnych lokalizacjach i sieci.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-170">Additionally, consider organizing your connectors using [connector groups](active-directory-application-proxy-connectors.md) tootarget apps that are in different locations and networks.</span></span> 

## <a name="common-use-cases"></a><span data-ttu-id="7b2e0-171">Typowe przypadki użycia</span><span class="sxs-lookup"><span data-stu-id="7b2e0-171">Common use cases</span></span>

<span data-ttu-id="7b2e0-172">W tej sekcji możemy przeprowadzenie kilka typowych scenariuszy.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-172">In this section, we walk through a few common scenarios.</span></span> <span data-ttu-id="7b2e0-173">Załóżmy, że hello dzierżawy usługi Azure AD (i w związku z tym serwer proxy usługi punktu końcowego) znajduje się w hello Stanów Zjednoczonych (USA).</span><span class="sxs-lookup"><span data-stu-id="7b2e0-173">Assume that hello Azure AD tenant (and therefore proxy service endpoint) is located in hello United States (US).</span></span> <span data-ttu-id="7b2e0-174">Witaj zagadnienia omówione w tym przypadki użycia mają zastosowanie również w regionach tooother na całym świecie hello.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-174">hello considerations discussed in these use cases also apply tooother regions around hello globe.</span></span>

<span data-ttu-id="7b2e0-175">W tych sytuacjach możemy wywołać każdego połączenia "przeskok" i numer je łatwiej omówienie:</span><span class="sxs-lookup"><span data-stu-id="7b2e0-175">For these scenarios, we call each connection a "hop" and number them for easier discussion:</span></span>

- <span data-ttu-id="7b2e0-176">**Przeskoku 1**: toohello użytkownika serwera Proxy aplikacji usługi</span><span class="sxs-lookup"><span data-stu-id="7b2e0-176">**Hop 1**: User toohello Application Proxy service</span></span>
- <span data-ttu-id="7b2e0-177">**Przeskoku 2**: łącznika serwera Proxy aplikacji toohello usługi Serwer Proxy aplikacji</span><span class="sxs-lookup"><span data-stu-id="7b2e0-177">**Hop 2**: Application Proxy service toohello Application Proxy connector</span></span>
- <span data-ttu-id="7b2e0-178">**Przeskoku 3**: aplikacja docelowa toohello łącznika serwera Proxy aplikacji</span><span class="sxs-lookup"><span data-stu-id="7b2e0-178">**Hop 3**: Application Proxy connector toohello target application</span></span> 

### <a name="use-case-1"></a><span data-ttu-id="7b2e0-179">Przypadek użycia 1</span><span class="sxs-lookup"><span data-stu-id="7b2e0-179">Use case 1</span></span>

<span data-ttu-id="7b2e0-180">**Scenariusz:** aplikacja hello jest w sieci organizacji w hello US, z użytkownikami w hello tego samego regionu.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-180">**Scenario:** hello app is in an organization's network in hello US, with users in hello same region.</span></span> <span data-ttu-id="7b2e0-181">Nie ExpressRoute VPN istnieje lub między hello centrum danych Azure i hello sieci firmowej.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-181">No ExpressRoute or VPN exists between hello Azure datacenter and hello corporate network.</span></span>

<span data-ttu-id="7b2e0-182">**Zalecenie:** wzorzec wykonaj 1, wyjaśniono w poprzedniej sekcji hello.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-182">**Recommendation:** Follow pattern 1, explained in hello previous section.</span></span> <span data-ttu-id="7b2e0-183">Dla opóźnienia lepsze Rozważ użycie usługi ExpressRoute, w razie potrzeby.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-183">For improved latency, consider using ExpressRoute, if needed.</span></span>

<span data-ttu-id="7b2e0-184">Jest to prosty wzorzec.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-184">This is a simple pattern.</span></span> <span data-ttu-id="7b2e0-185">Przez umieszczenie łącznika hello niemal aplikacji hello zoptymalizować przeskoku 3.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-185">You optimize hop 3 by placing hello connector near hello app.</span></span> <span data-ttu-id="7b2e0-186">To także wybór fizycznych, ponieważ łącznik hello jest zazwyczaj zainstalowany z procesów z wiersza toohello aplikacji i toohello operacji centrum danych tooperform KCD.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-186">This is also a natural choice, because hello connector typically is installed with line of sight toohello app and toohello datacenter tooperform KCD operations.</span></span>

![Diagram pokazujący, że użytkownicy, serwer proxy, łącznika i aplikacji są w hello nam](./media/application-proxy-network-topologies/application-proxy-pattern1.png)

### <a name="use-case-2"></a><span data-ttu-id="7b2e0-188">Przypadek użycia 2</span><span class="sxs-lookup"><span data-stu-id="7b2e0-188">Use case 2</span></span>

<span data-ttu-id="7b2e0-189">**Scenariusz:** aplikacja hello jest w sieci organizacji w hello US, użytkownikom rozłożenia globalnie.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-189">**Scenario:** hello app is in an organization's network in hello US, with users spread out globally.</span></span> <span data-ttu-id="7b2e0-190">Nie ExpressRoute VPN istnieje lub między hello centrum danych Azure i hello sieci firmowej.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-190">No ExpressRoute or VPN exists between hello Azure datacenter and hello corporate network.</span></span>

<span data-ttu-id="7b2e0-191">**Zalecenie:** wzorzec wykonaj 1, wyjaśniono w poprzedniej sekcji hello.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-191">**Recommendation:** Follow pattern 1, explained in hello previous section.</span></span> 

<span data-ttu-id="7b2e0-192">Ponownie wspólnego wzorca hello przeskoku toooptimize 3, umieszczane są hello łącznik aplikacji hello w pobliżu.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-192">Again, hello common pattern is toooptimize hop 3, where you place hello connector near hello app.</span></span> <span data-ttu-id="7b2e0-193">Przeskoku 3 nie jest zwykle kosztowne, jeśli wszystkie poziomu hello sam region.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-193">Hop 3 is not typically expensive, if it is all within hello same region.</span></span> <span data-ttu-id="7b2e0-194">Jednak przeskoku 1 może być droższe w zależności od tego, gdzie jest hello użytkownika, ponieważ użytkowników między Witaj świecie muszą uzyskać dostęp do wystąpienia serwera Proxy aplikacji hello w hello Stanów Zjednoczonych.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-194">However, hop 1 can be more expensive depending on where hello user is, because users across hello world must access hello Application Proxy instance in hello US.</span></span> <span data-ttu-id="7b2e0-195">Warto zauważyć, że żadne rozwiązanie do serwera proxy ma podobnej charakterystyce dotyczące użytkowników rozkłada się globalnie.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-195">It's worth noting that any proxy solution has similar characteristics regarding users being spread out globally.</span></span>

![Diagram pokazujący, że użytkownicy są rozkładane globalnie, ale powitania serwera proxy, łączników i aplikacji w hello nam](./media/application-proxy-network-topologies/application-proxy-pattern2.png)

### <a name="use-case-3"></a><span data-ttu-id="7b2e0-197">Przypadek użycia 3</span><span class="sxs-lookup"><span data-stu-id="7b2e0-197">Use case 3</span></span>

<span data-ttu-id="7b2e0-198">**Scenariusz:** aplikacji hello znajduje się w sieci organizacji w hello NAS.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-198">**Scenario:** hello app is in an organization's network in hello US.</span></span> <span data-ttu-id="7b2e0-199">Istnieje ExpressRoute z publicznej komunikacji równorzędnej między Azure i hello sieci firmowej.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-199">ExpressRoute with public peering exists between Azure and hello corporate network.</span></span>

<span data-ttu-id="7b2e0-200">**Zalecenie:** wykonaj wzorce 1 i 2 wyjaśniono w poprzedniej sekcji hello.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-200">**Recommendation:** Follow patterns 1 and 2, explained in hello previous section.</span></span>

<span data-ttu-id="7b2e0-201">Najpierw umieścić łącznika hello jak możliwe toohello aplikacji.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-201">First, place hello connector as close as possible toohello app.</span></span> <span data-ttu-id="7b2e0-202">Następnie hello system automatycznie używa ExpressRoute przeskoku 2.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-202">Then, hello system automatically uses ExpressRoute for hop 2.</span></span> 

<span data-ttu-id="7b2e0-203">Jeśli hello ExpressRoute link używa publicznej komunikacji równorzędnej, hello ruchu między powitania serwera proxy i łącznik hello przepływy za pośrednictwem tego łącza.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-203">If hello ExpressRoute link is using public peering, hello traffic between hello proxy and hello connector flows over that link.</span></span> <span data-ttu-id="7b2e0-204">Przeskok 2 optymalizacji opóźnień.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-204">Hop 2 has optimized latency.</span></span>

![Diagram przedstawiający między powitania serwera proxy i łącznik usługi ExpressRoute](./media/application-proxy-network-topologies/application-proxy-pattern3.png)

### <a name="use-case-4"></a><span data-ttu-id="7b2e0-206">Przypadek użycia 4</span><span class="sxs-lookup"><span data-stu-id="7b2e0-206">Use case 4</span></span>

<span data-ttu-id="7b2e0-207">**Scenariusz:** aplikacji hello znajduje się w sieci organizacji w hello NAS.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-207">**Scenario:** hello app is in an organization's network in hello US.</span></span> <span data-ttu-id="7b2e0-208">Istnieje ExpressRoute z prywatnej komunikacji równorzędnej między Azure i hello sieci firmowej.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-208">ExpressRoute with private peering exists between Azure and hello corporate network.</span></span>

<span data-ttu-id="7b2e0-209">**Zalecenie:** wzorzec wykonaj 3, wyjaśniono w poprzedniej sekcji hello.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-209">**Recommendation:** Follow pattern 3, explained in hello previous section.</span></span>

<span data-ttu-id="7b2e0-210">Umieść łącznika hello hello centrum danych Azure, który jest połączony toohello sieci firmowej za pośrednictwem prywatnej komunikacji równorzędnej ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-210">Place hello connector in hello Azure datacenter that is connected toohello corporate network through ExpressRoute private peering.</span></span> 

<span data-ttu-id="7b2e0-211">Witaj łącznika można umieścić w hello centrum danych Azure.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-211">hello connector can be placed in hello Azure datacenter.</span></span> <span data-ttu-id="7b2e0-212">Ponieważ hello łącznik nadal ma wiersza z procesów toohello aplikacji i centrum danych hello za pośrednictwem sieci prywatnej hello, przeskoku 3 pozostaje zoptymalizowane.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-212">Since hello connector still has a line of sight toohello application and hello datacenter through hello private network, hop 3 remains optimized.</span></span> <span data-ttu-id="7b2e0-213">Ponadto przeskoku 2 jest zoptymalizowany dalej.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-213">In addition, hop 2 is optimized further.</span></span>

![Diagram przedstawiający hello łącznika w centrum danych Azure i ExpressRoute hello łączników i aplikacji](./media/application-proxy-network-topologies/application-proxy-pattern4.png)

### <a name="use-case-5"></a><span data-ttu-id="7b2e0-215">Przypadek użycia 5</span><span class="sxs-lookup"><span data-stu-id="7b2e0-215">Use case 5</span></span>

<span data-ttu-id="7b2e0-216">**Scenariusz:** aplikacji hello znajduje się w sieci organizacji w hello UE, z wystąpienia serwera Proxy aplikacji hello i większość użytkowników w hello NAS.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-216">**Scenario:** hello app is in an organization's network in hello EU, with hello Application Proxy instance and most users in hello US.</span></span>

<span data-ttu-id="7b2e0-217">**Zalecenie:** łącznika hello miejsce w pobliżu aplikacji hello.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-217">**Recommendation:** Place hello connector near hello app.</span></span> <span data-ttu-id="7b2e0-218">Ponieważ USA użytkownicy uzyskują dostęp do wystąpienia serwera Proxy aplikacji wykonywanej toobe w hello tego samego regionu przeskoku 1 nie jest zbyt drogie.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-218">Because US users are accessing an Application Proxy instance that happens toobe in hello same region, hop 1 is not too expensive.</span></span> <span data-ttu-id="7b2e0-219">Przeskoku 3 jest zoptymalizowany.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-219">Hop 3 is optimized.</span></span> <span data-ttu-id="7b2e0-220">Należy rozważyć użycie usługi ExpressRoute toooptimize przeskoku 2.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-220">Consider using ExpressRoute toooptimize hop 2.</span></span> 

![Diagram przedstawiający użytkowników i serwera proxy w hello USA, przy użyciu łącznika hello i aplikacji w hello UE](./media/application-proxy-network-topologies/application-proxy-pattern5b.png)

<span data-ttu-id="7b2e0-222">Można także rozważyć użycie jednego innego elementu variant w takiej sytuacji.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-222">You can also consider using one other variant in this situation.</span></span> <span data-ttu-id="7b2e0-223">W przypadku większości użytkowników w organizacji hello w hello nam, istnieje prawdopodobieństwo są czy sieci rozszerza toohello nam również.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-223">If most users in hello organization are in hello US, then chances are that your network extends toohello US as well.</span></span> <span data-ttu-id="7b2e0-224">Umieścić hello łącznika w hello USA i użyć hello dedykowanego wewnętrzną siecią firmową wiersza toohello aplikacji w hello UE.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-224">Place hello connector in hello US, and use hello dedicated internal corporate network line toohello application in hello EU.</span></span> <span data-ttu-id="7b2e0-225">Są optymalizowane w ten sposób liczba przeskoków 2 i 3.</span><span class="sxs-lookup"><span data-stu-id="7b2e0-225">This way hops 2 and 3 are optimized.</span></span>

![Diagram przedstawiający użytkowników, proxy i łącznika w hello USA, aplikację w hello UE](./media/application-proxy-network-topologies/application-proxy-pattern5c.png)

## <a name="next-steps"></a><span data-ttu-id="7b2e0-227">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="7b2e0-227">Next steps</span></span>

- [<span data-ttu-id="7b2e0-228">Włączanie serwera Proxy aplikacji</span><span class="sxs-lookup"><span data-stu-id="7b2e0-228">Enable Application Proxy</span></span>](active-directory-application-proxy-enable.md)
- [<span data-ttu-id="7b2e0-229">Włączanie logowania jednokrotnego</span><span class="sxs-lookup"><span data-stu-id="7b2e0-229">Enable single-sign on</span></span>](active-directory-application-proxy-sso-using-kcd.md)
- [<span data-ttu-id="7b2e0-230">Włączanie dostępu warunkowego</span><span class="sxs-lookup"><span data-stu-id="7b2e0-230">Enable conditional access</span></span>](active-directory-application-proxy-conditional-access.md)
- [<span data-ttu-id="7b2e0-231">Rozwiązywanie problemów, które masz problem z serwerem Proxy aplikacji</span><span class="sxs-lookup"><span data-stu-id="7b2e0-231">Troubleshoot issues you're having with Application Proxy</span></span>](active-directory-application-proxy-troubleshoot.md)
