---
title: Zapora aplikacji tooweb aaaIntroduction (WAF) dla bramy aplikacji Azure | Dokumentacja firmy Microsoft
description: "Ta strona zawiera omówienie zapory aplikacji sieci Web (WAF) w usłudze Application Gateway"
documentationcenter: na
services: application-gateway
author: amsriva
manager: rossort
editor: amsriva
ms.assetid: 04b362bc-6653-4765-86f6-55ee8ec2a0ff
ms.service: application-gateway
ms.devlang: na
ms.topic: hero-article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 05/03/2017
ms.author: amsriva
ms.openlocfilehash: 5a42ce0fb2bd12a391844099e2de8fa2571195e6
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="web-application-firewall-waf"></a><span data-ttu-id="10a28-103">Zapora aplikacji sieci Web</span><span class="sxs-lookup"><span data-stu-id="10a28-103">Web application firewall (WAF)</span></span>

<span data-ttu-id="10a28-104">Zapora aplikacji sieci Web (WAF) to funkcja usługi Application Gateway, która zapewnia scentralizowaną ochronę aplikacji sieci Web przed typowymi programami wykorzystującymi luki i lukami w zabezpieczeniach.</span><span class="sxs-lookup"><span data-stu-id="10a28-104">Web application firewall (WAF) is a feature of Application Gateway that provides centralized protection of your web applications from common exploits and vulnerabilities.</span></span> 

<span data-ttu-id="10a28-105">Zapora aplikacji sieci Web jest na podstawie reguł z hello [zestawów reguł core OWASP](https://www.owasp.org/index.php/Category:OWASP_ModSecurity_Core_Rule_Set_Project) 3.0 lub 2.2.9.</span><span class="sxs-lookup"><span data-stu-id="10a28-105">Web application firewall is based on rules from hello [OWASP core rule sets](https://www.owasp.org/index.php/Category:OWASP_ModSecurity_Core_Rule_Set_Project) 3.0 or 2.2.9.</span></span> <span data-ttu-id="10a28-106">Aplikacje sieci Web coraz częściej stają się obiektami złośliwych ataków wykorzystujących znane luki w zabezpieczeniach.</span><span class="sxs-lookup"><span data-stu-id="10a28-106">Web applications are increasingly targets of malicious attacks that exploit common known vulnerabilities.</span></span> <span data-ttu-id="10a28-107">Typowe te luki w zabezpieczeniach ataki, skryptów krzyżowych ataków tooname kilka.</span><span class="sxs-lookup"><span data-stu-id="10a28-107">Common among these exploits are SQL injection attacks, cross site scripting attacks tooname a few.</span></span> <span data-ttu-id="10a28-108">Zapobieganie takich ataków w kodzie aplikacji może być trudne i może wymagać rygorystyczne konserwacji, monitorowanie w wielu warstw Topologia aplikacji hello i stosowanie poprawek.</span><span class="sxs-lookup"><span data-stu-id="10a28-108">Preventing such attacks in application code can be challenging and may require rigorous maintenance, patching and monitoring at multiple layers of hello application topology.</span></span> <span data-ttu-id="10a28-109">Zapora aplikacji sieci web scentralizowane ułatwia zarządzanie zabezpieczeniami znacznie prostsza i zapewnia lepsze zapewnienia administratorom tooapplication przed zagrożeniami lub wtargnięcia.</span><span class="sxs-lookup"><span data-stu-id="10a28-109">A centralized web application firewall helps make security management much simpler and gives better assurance tooapplication administrators against threats or intrusions.</span></span> <span data-ttu-id="10a28-110">Rozwiązanie zapory aplikacji sieci Web można reagować zagrożeniem bezpieczeństwa tooa szybsze przez stosowanie poprawek znane luki w zabezpieczeniach w centralnej lokalizacji i zabezpieczanie wszystkich aplikacji sieci web indywidualnych.</span><span class="sxs-lookup"><span data-stu-id="10a28-110">A WAF solution can also react tooa security threat faster by patching a known vulnerability at a central location versus securing each of individual web applications.</span></span> <span data-ttu-id="10a28-111">Brama aplikacji w włączona jest Zapora aplikacji sieci web przekonwertowanego tooa można łatwo istniejącej bramy aplikacji.</span><span class="sxs-lookup"><span data-stu-id="10a28-111">Existing application gateways can be converted tooa web application firewall enabled application gateway easily.</span></span>

![imageURLroute](./media/application-gateway-web-application-firewall-overview/WAF1.png)

<span data-ttu-id="10a28-113">Brama aplikacji w działa jako aplikacji dostarczania kontrolera i oferty kończenia żądań SSL, koligacji na podstawie pliku cookie sesji, rozkład obciążenia okrężnego, routing na podstawie zawartości, możliwość toohost wiele ulepszeń witryn sieci Web i zabezpieczeń.</span><span class="sxs-lookup"><span data-stu-id="10a28-113">Application Gateway operates as an application delivery controller and offers SSL termination, cookie-based session affinity, round-robin load distribution, content-based routing, ability toohost multiple websites and security enhancements.</span></span> <span data-ttu-id="10a28-114">Ulepszenia zabezpieczeń oferowanych przez bramę aplikacji obejmują zarządzanie zasadami protokołu SSL, tooend zakończenia obsługi protokołu SSL.</span><span class="sxs-lookup"><span data-stu-id="10a28-114">Security enhancements offered by Application Gateway include SSL policy management, end tooend SSL support.</span></span> <span data-ttu-id="10a28-115">Zabezpieczenia aplikacji jest teraz wzmocniona zapory aplikacji sieci Web (Zapora aplikacji sieci web) bezpośrednio zintegrowane hello ADC oferty.</span><span class="sxs-lookup"><span data-stu-id="10a28-115">Application security is now strengthened by WAF (web application firewall) being directly integrated into hello ADC offering.</span></span> <span data-ttu-id="10a28-116">To zapewnia łatwe tooconfigure toomanage centralnej lokalizacji i chronić aplikacje sieci web przed lukami w typowych sieci web.</span><span class="sxs-lookup"><span data-stu-id="10a28-116">This provides an easy tooconfigure central location toomanage and protect your web applications against common web vulnerabilities.</span></span>

## <a name="benefits"></a><span data-ttu-id="10a28-117">Korzyści</span><span class="sxs-lookup"><span data-stu-id="10a28-117">Benefits</span></span>

<span data-ttu-id="10a28-118">hello core korzyści, które zapewniają zapory aplikacji sieci web i aplikacji bramy są następujące Hello:</span><span class="sxs-lookup"><span data-stu-id="10a28-118">hello following are hello core benefits that Application Gateway and web application firewall provide:</span></span>

### <a name="protection"></a><span data-ttu-id="10a28-119">Ochrona</span><span class="sxs-lookup"><span data-stu-id="10a28-119">Protection</span></span>

* <span data-ttu-id="10a28-120">Ochrona aplikacji sieci web przed atakami bez modyfikacji kodu toobackend i luk w zabezpieczeniach sieci web.</span><span class="sxs-lookup"><span data-stu-id="10a28-120">Protect your web application from web vulnerabilities and attacks without modification toobackend code.</span></span>

* <span data-ttu-id="10a28-121">Ochrona wielu sieci web aplikacji hello sam czas za bramy aplikacji.</span><span class="sxs-lookup"><span data-stu-id="10a28-121">Protect multiple web applications at hello same time behind an application gateway.</span></span> <span data-ttu-id="10a28-122">Brama aplikacji w obsługuje hosting się too20 witryn sieci Web za jednym bramy, która może być wszystkie chronione przed atakami opartymi na sieci web z zapory aplikacji sieci Web.</span><span class="sxs-lookup"><span data-stu-id="10a28-122">Application gateway supports hosting up too20 websites behind a single gateway that could all be protected against web attacks with WAF.</span></span>

### <a name="monitoring"></a><span data-ttu-id="10a28-123">Monitorowanie</span><span class="sxs-lookup"><span data-stu-id="10a28-123">Monitoring</span></span>

* <span data-ttu-id="10a28-124">Monitoruj aplikacje sieci Web pod kątem ataków przy użyciu dziennika zapory aplikacji sieci Web w czasie rzeczywistym.</span><span class="sxs-lookup"><span data-stu-id="10a28-124">Monitor your web application against attacks using a real-time WAF log.</span></span> <span data-ttu-id="10a28-125">Ten dziennik jest zintegrowany z [Azure Monitor](../monitoring-and-diagnostics/monitoring-overview.md) tootrack zapory aplikacji sieci Web, alerty i dzienniki i ułatwia monitorowanie trendów.</span><span class="sxs-lookup"><span data-stu-id="10a28-125">This log is integrated with [Azure Monitor](../monitoring-and-diagnostics/monitoring-overview.md) tootrack WAF alerts and logs and easily monitor trends.</span></span>

* <span data-ttu-id="10a28-126">Zapora aplikacji sieci Web zostanie wkrótce zintegrowana z usługą Azure Security Center.</span><span class="sxs-lookup"><span data-stu-id="10a28-126">WAF will be integrated with Azure Security Center soon.</span></span> <span data-ttu-id="10a28-127">Centrum zabezpieczeń Azure umożliwia centralnej w widoku stanu zabezpieczeń hello wszystkich zasobów platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="10a28-127">Azure Security Center allows for a central view of hello security state of all your Azure resources.</span></span>

### <a name="customization"></a><span data-ttu-id="10a28-128">Dostosowywanie</span><span class="sxs-lookup"><span data-stu-id="10a28-128">Customization</span></span>

* <span data-ttu-id="10a28-129">reguły zapory aplikacji sieci Web toocustomize możliwości Hello reguły grupy toosuit wymagań aplikacji i wyeliminować fałszywych alarmów.</span><span class="sxs-lookup"><span data-stu-id="10a28-129">hello ability toocustomize WAF rules and rule groups toosuit your application requirements and eliminate false positives.</span></span>

## <a name="features"></a><span data-ttu-id="10a28-130">Funkcje</span><span class="sxs-lookup"><span data-stu-id="10a28-130">Features</span></span>

<span data-ttu-id="10a28-131">Zapora aplikacji sieci Web ma wstępnie skonfigurowane z CRS 3.0 domyślnie lub możesz wybrać toouse 2.2.9.</span><span class="sxs-lookup"><span data-stu-id="10a28-131">Web application firewall comes preconfigured with CRS 3.0 by default or you can choose toouse 2.2.9.</span></span> <span data-ttu-id="10a28-132">Zestaw CRS 3.0 oferuje mniejszą liczbę wyników fałszywie dodatnich niż wersja 2.2.9.</span><span class="sxs-lookup"><span data-stu-id="10a28-132">CRS 3.0 offers reduced false positives over 2.2.9.</span></span> <span data-ttu-id="10a28-133">Witaj możliwości zbyt[dostosować zasady toosuit potrzeb](application-gateway-customize-waf-rules-portal.md) jest dostępne.</span><span class="sxs-lookup"><span data-stu-id="10a28-133">hello ability too[customize rules toosuit your needs](application-gateway-customize-waf-rules-portal.md) is provided.</span></span> <span data-ttu-id="10a28-134">Niektóre hello zapory aplikacji sieci web, która chroni przed znanych luk w sieci web obejmuje:</span><span class="sxs-lookup"><span data-stu-id="10a28-134">Some of hello common web vulnerabilities which web application firewall protects against includes:</span></span>

* <span data-ttu-id="10a28-135">Ochrona przed atakami polegającymi na iniekcji SQL</span><span class="sxs-lookup"><span data-stu-id="10a28-135">SQL injection protection</span></span>
* <span data-ttu-id="10a28-136">Ochrona przed atakami z użyciem skryptów wykorzystywanych w obrębie wielu witryn</span><span class="sxs-lookup"><span data-stu-id="10a28-136">Cross site scripting protection</span></span>
* <span data-ttu-id="10a28-137">Częste ataki w ramach sieci Web polegające na iniekcji poleceń, przemycaniu żądań HTTP, rozdzielaniu odpowiedzi HTTP i zdalnym dołączaniu plików</span><span class="sxs-lookup"><span data-stu-id="10a28-137">Common Web Attacks Protection such as command injection, HTTP request smuggling, HTTP response splitting, and remote file inclusion attack</span></span>
* <span data-ttu-id="10a28-138">Ochrona przed naruszeniami protokołu HTTP</span><span class="sxs-lookup"><span data-stu-id="10a28-138">Protection against HTTP protocol violations</span></span>
* <span data-ttu-id="10a28-139">Ochrona przed nieprawidłowościami protokołu HTTP, takimi jak brakujące powiązania agenta i użytkownika hosta oraz akceptowanie nagłówków</span><span class="sxs-lookup"><span data-stu-id="10a28-139">Protection against HTTP protocol anomalies such as missing host user-agent and accept headers</span></span>
* <span data-ttu-id="10a28-140">Zapobieganie atakom z użyciem robotów, przeszukiwarek i skanerów</span><span class="sxs-lookup"><span data-stu-id="10a28-140">Prevention against bots, crawlers, and scanners</span></span>
* <span data-ttu-id="10a28-141">Wykrywanie typowych błędów konfiguracji aplikacji (np. Apache, usługi IIS itp.)</span><span class="sxs-lookup"><span data-stu-id="10a28-141">Detection of common application misconfigurations (i.e. Apache, IIS, etc.)</span></span>

<span data-ttu-id="10a28-142">Aby bardziej szczegółową listę reguł i ich ochrony, zobacz następujące hello [podstawowe zestawy reguł](#core-rule-sets).</span><span class="sxs-lookup"><span data-stu-id="10a28-142">For a more detailed list of rules and their protections see hello following [Core rule sets](#core-rule-sets).</span></span>

### <a name="core-rule-sets"></a><span data-ttu-id="10a28-143">Podstawowe zestawy reguł</span><span class="sxs-lookup"><span data-stu-id="10a28-143">Core rule sets</span></span>

<span data-ttu-id="10a28-144">Usługa Application Gateway obsługuje dwa zestawy reguł: CRS 3.0 i CRS 2.2.9.</span><span class="sxs-lookup"><span data-stu-id="10a28-144">Application Gateway supports two rule sets, CRS 3.0, and CRS 2.2.9.</span></span> <span data-ttu-id="10a28-145">Są to kolekcje reguł, które chronią aplikacje sieci Web przed złośliwymi działaniami.</span><span class="sxs-lookup"><span data-stu-id="10a28-145">These core rules sets are collections of rules that protect your web applications for malicious activity.</span></span>

#### <a name="owasp30"></a><span data-ttu-id="10a28-146">OWASP_3.0</span><span class="sxs-lookup"><span data-stu-id="10a28-146">OWASP_3.0</span></span>

<span data-ttu-id="10a28-147">zestaw reguł core Hello 3.0 podane ma 13 grupy reguł, jak pokazano w poniższej tabeli hello.</span><span class="sxs-lookup"><span data-stu-id="10a28-147">hello 3.0 core rule set provided has 13 rule groups as shown in hello following table.</span></span> <span data-ttu-id="10a28-148">Każda z tych grup reguł zawiera wiele reguł, które można wyłączyć.</span><span class="sxs-lookup"><span data-stu-id="10a28-148">Each of these rule groups contains multiple rules, which can be disabled.</span></span>

|<span data-ttu-id="10a28-149">Grupa reguł</span><span class="sxs-lookup"><span data-stu-id="10a28-149">RuleGroup</span></span>|<span data-ttu-id="10a28-150">Opis</span><span class="sxs-lookup"><span data-stu-id="10a28-150">Description</span></span>|
|---|---|
|<span data-ttu-id="10a28-151">**[REQUEST-910-IP-REPUTATION](application-gateway-crs-rulegroups-rules.md#crs910)**</span><span class="sxs-lookup"><span data-stu-id="10a28-151">**[REQUEST-910-IP-REPUTATION](application-gateway-crs-rulegroups-rules.md#crs910)**</span></span>|<span data-ttu-id="10a28-152">Zawiera reguły tooprotect względem znanych nadawcy wiadomości-śmieci lub złośliwych działań.</span><span class="sxs-lookup"><span data-stu-id="10a28-152">Contains rules tooprotect against known spammers or malicious activity.</span></span>|
|<span data-ttu-id="10a28-153">**[REQUEST-911-METHOD-ENFORCEMENT](application-gateway-crs-rulegroups-rules.md#crs911)**</span><span class="sxs-lookup"><span data-stu-id="10a28-153">**[REQUEST-911-METHOD-ENFORCEMENT](application-gateway-crs-rulegroups-rules.md#crs911)**</span></span>|<span data-ttu-id="10a28-154">Zawiera reguły toolock metody (PUT, PATCH <..)</span><span class="sxs-lookup"><span data-stu-id="10a28-154">Contains rules toolock down methods (PUT, PATCH< ..)</span></span>|
|<span data-ttu-id="10a28-155">**[REQUEST-912-DOS-PROTECTION](application-gateway-crs-rulegroups-rules.md#crs912)**</span><span class="sxs-lookup"><span data-stu-id="10a28-155">**[REQUEST-912-DOS-PROTECTION](application-gateway-crs-rulegroups-rules.md#crs912)**</span></span>| <span data-ttu-id="10a28-156">Zawiera reguły tooprotect przed atakami przeprowadzenie ataku typu "odmowa usługi" (DoS).</span><span class="sxs-lookup"><span data-stu-id="10a28-156">Contains rules tooprotect against Denial of Service (DoS) attacks.</span></span>|
|<span data-ttu-id="10a28-157">**[REQUEST-913-SCANNER-DETECTION](application-gateway-crs-rulegroups-rules.md#crs913)**</span><span class="sxs-lookup"><span data-stu-id="10a28-157">**[REQUEST-913-SCANNER-DETECTION](application-gateway-crs-rulegroups-rules.md#crs913)**</span></span>| <span data-ttu-id="10a28-158">Zawiera reguły tooprotect przed skanery portu i środowiska.</span><span class="sxs-lookup"><span data-stu-id="10a28-158">Contains rules tooprotect against port and environment scanners.</span></span>|
|<span data-ttu-id="10a28-159">**[REQUEST-920-PROTOCOL-ENFORCEMENT](application-gateway-crs-rulegroups-rules.md#crs920)**</span><span class="sxs-lookup"><span data-stu-id="10a28-159">**[REQUEST-920-PROTOCOL-ENFORCEMENT](application-gateway-crs-rulegroups-rules.md#crs920)**</span></span>|<span data-ttu-id="10a28-160">Zawiera reguły tooprotect przed protokołu i kodowanie problemy.</span><span class="sxs-lookup"><span data-stu-id="10a28-160">Contains rules tooprotect against protocol and encoding issues.</span></span>|
|<span data-ttu-id="10a28-161">**[REQUEST-921-PROTOCOL-ATTACK](application-gateway-crs-rulegroups-rules.md#crs921)**</span><span class="sxs-lookup"><span data-stu-id="10a28-161">**[REQUEST-921-PROTOCOL-ATTACK](application-gateway-crs-rulegroups-rules.md#crs921)**</span></span>|<span data-ttu-id="10a28-162">Zawiera reguły tooprotect przed iniekcji nagłówka, smuggling żądania i odpowiedzi dzielenia</span><span class="sxs-lookup"><span data-stu-id="10a28-162">Contains rules tooprotect against header injection, request smuggling, and response splitting</span></span>|
|<span data-ttu-id="10a28-163">**[REQUEST-930-APPLICATION-ATTACK-LFI](application-gateway-crs-rulegroups-rules.md#crs930)**</span><span class="sxs-lookup"><span data-stu-id="10a28-163">**[REQUEST-930-APPLICATION-ATTACK-LFI](application-gateway-crs-rulegroups-rules.md#crs930)**</span></span>|<span data-ttu-id="10a28-164">Zawiera reguły tooprotect przed atakami typu pliku i ścieżkę.</span><span class="sxs-lookup"><span data-stu-id="10a28-164">Contains rules tooprotect against file and path attacks.</span></span>|
|<span data-ttu-id="10a28-165">**[REQUEST-931-APPLICATION-ATTACK-RFI](application-gateway-crs-rulegroups-rules.md#crs931)**</span><span class="sxs-lookup"><span data-stu-id="10a28-165">**[REQUEST-931-APPLICATION-ATTACK-RFI](application-gateway-crs-rulegroups-rules.md#crs931)**</span></span>|<span data-ttu-id="10a28-166">Zawiera reguły tooprotect przed dołączenie pliku zdalnego (RFI)</span><span class="sxs-lookup"><span data-stu-id="10a28-166">Contains rules tooprotect against Remote File Inclusion (RFI)</span></span>|
|<span data-ttu-id="10a28-167">**[REQUEST-932-APPLICATION-ATTACK-RCE](application-gateway-crs-rulegroups-rules.md#crs932)**</span><span class="sxs-lookup"><span data-stu-id="10a28-167">**[REQUEST-932-APPLICATION-ATTACK-RCE](application-gateway-crs-rulegroups-rules.md#crs932)**</span></span>|<span data-ttu-id="10a28-168">Zawiera reguły tooprotect ponownie zdalne wykonywanie kodu.</span><span class="sxs-lookup"><span data-stu-id="10a28-168">Contains rules tooprotect again Remote Code Execution.</span></span>|
|<span data-ttu-id="10a28-169">**[REQUEST-933-APPLICATION-ATTACK-PHP](application-gateway-crs-rulegroups-rules.md#crs933)**</span><span class="sxs-lookup"><span data-stu-id="10a28-169">**[REQUEST-933-APPLICATION-ATTACK-PHP](application-gateway-crs-rulegroups-rules.md#crs933)**</span></span>|<span data-ttu-id="10a28-170">Zawiera reguły tooprotect przed atakami iniekcji PHP.</span><span class="sxs-lookup"><span data-stu-id="10a28-170">Contains rules tooprotect against PHP injection attacks.</span></span>|
|<span data-ttu-id="10a28-171">**[REQUEST-941-APPLICATION-ATTACK-XSS](application-gateway-crs-rulegroups-rules.md#crs941)**</span><span class="sxs-lookup"><span data-stu-id="10a28-171">**[REQUEST-941-APPLICATION-ATTACK-XSS](application-gateway-crs-rulegroups-rules.md#crs941)**</span></span>|<span data-ttu-id="10a28-172">Zawiera reguły ochrony przed atakami z użyciem skryptów w obrębie wielu witryn.</span><span class="sxs-lookup"><span data-stu-id="10a28-172">Contains rules for protecting against cross site scripting.</span></span>|
|<span data-ttu-id="10a28-173">**[REQUEST-942-APPLICATION-ATTACK-SQLI](application-gateway-crs-rulegroups-rules.md#crs942)**</span><span class="sxs-lookup"><span data-stu-id="10a28-173">**[REQUEST-942-APPLICATION-ATTACK-SQLI](application-gateway-crs-rulegroups-rules.md#crs942)**</span></span>|<span data-ttu-id="10a28-174">Zawiera reguły ochrony przed atakami polegającymi na iniekcji SQL.</span><span class="sxs-lookup"><span data-stu-id="10a28-174">Contains rules for protecting against SQL injection attacks.</span></span>|
|<span data-ttu-id="10a28-175">**[REQUEST-943-APPLICATION-ATTACK-SESSION-FIXATION](application-gateway-crs-rulegroups-rules.md#crs943)**</span><span class="sxs-lookup"><span data-stu-id="10a28-175">**[REQUEST-943-APPLICATION-ATTACK-SESSION-FIXATION](application-gateway-crs-rulegroups-rules.md#crs943)**</span></span>|<span data-ttu-id="10a28-176">Zawiera reguły tooprotect przed atakami opartymi na sesji utrwalania.</span><span class="sxs-lookup"><span data-stu-id="10a28-176">Contains rules tooprotect against Session Fixation Attacks.</span></span>|

#### <a name="owasp229"></a><span data-ttu-id="10a28-177">OWASP_2.2.9</span><span class="sxs-lookup"><span data-stu-id="10a28-177">OWASP_2.2.9</span></span>

<span data-ttu-id="10a28-178">zestaw reguł core Hello 2.2.9 podane ma 10 grupy reguł, jak pokazano w poniższej tabeli hello.</span><span class="sxs-lookup"><span data-stu-id="10a28-178">hello 2.2.9 core rule set provided has 10 rule groups as shown in hello following table.</span></span> <span data-ttu-id="10a28-179">Każda z tych grup reguł zawiera wiele reguł, które można wyłączyć.</span><span class="sxs-lookup"><span data-stu-id="10a28-179">Each of these rule groups contains multiple rules, which can be disabled.</span></span>

|<span data-ttu-id="10a28-180">Grupa reguł</span><span class="sxs-lookup"><span data-stu-id="10a28-180">RuleGroup</span></span>|<span data-ttu-id="10a28-181">Opis</span><span class="sxs-lookup"><span data-stu-id="10a28-181">Description</span></span>|
|---|---|
|<span data-ttu-id="10a28-182">**[crs_20_protocol_violations](application-gateway-crs-rulegroups-rules.md#crs20)**</span><span class="sxs-lookup"><span data-stu-id="10a28-182">**[crs_20_protocol_violations](application-gateway-crs-rulegroups-rules.md#crs20)**</span></span>|<span data-ttu-id="10a28-183">Zawiera reguły tooprotect przed naruszeń protokołu (nieprawidłowe znaki, GET z treści żądania, itd.)</span><span class="sxs-lookup"><span data-stu-id="10a28-183">Contains rules tooprotect against protocol violations (invalid characters, GET with a request body, etc.)</span></span>|
|<span data-ttu-id="10a28-184">**[crs_21_protocol_anomalies](application-gateway-crs-rulegroups-rules.md#crs21)**</span><span class="sxs-lookup"><span data-stu-id="10a28-184">**[crs_21_protocol_anomalies](application-gateway-crs-rulegroups-rules.md#crs21)**</span></span>|<span data-ttu-id="10a28-185">Zawiera reguły tooprotect przed informacje o nagłówku niepoprawne.</span><span class="sxs-lookup"><span data-stu-id="10a28-185">Contains rules tooprotect against incorrect header information.</span></span>|
|<span data-ttu-id="10a28-186">**[crs_23_request_limits](application-gateway-crs-rulegroups-rules.md#crs23)**</span><span class="sxs-lookup"><span data-stu-id="10a28-186">**[crs_23_request_limits](application-gateway-crs-rulegroups-rules.md#crs23)**</span></span>|<span data-ttu-id="10a28-187">Zawiera reguły tooprotect argumentów lub pliki, które wykraczają poza ograniczenia.</span><span class="sxs-lookup"><span data-stu-id="10a28-187">Contains rules tooprotect against arguments or files that exceed limitations.</span></span>|
|<span data-ttu-id="10a28-188">**[crs_30_http_policy](application-gateway-crs-rulegroups-rules.md#crs30)**</span><span class="sxs-lookup"><span data-stu-id="10a28-188">**[crs_30_http_policy](application-gateway-crs-rulegroups-rules.md#crs30)**</span></span>|<span data-ttu-id="10a28-189">Zawiera reguły tooprotect przed metody ograniczone, nagłówki i typy plików.</span><span class="sxs-lookup"><span data-stu-id="10a28-189">Contains rules tooprotect against restricted methods, headers, and file types.</span></span> |
|<span data-ttu-id="10a28-190">**[crs_35_bad_robots](application-gateway-crs-rulegroups-rules.md#crs35)**</span><span class="sxs-lookup"><span data-stu-id="10a28-190">**[crs_35_bad_robots](application-gateway-crs-rulegroups-rules.md#crs35)**</span></span>|<span data-ttu-id="10a28-191">Zawiera reguły tooprotect przed przeszukiwarki sieci web i skanery.</span><span class="sxs-lookup"><span data-stu-id="10a28-191">Contains rules tooprotect against web crawlers and scanners.</span></span>|
|<span data-ttu-id="10a28-192">**[crs_40_generic_attacks](application-gateway-crs-rulegroups-rules.md#crs40)**</span><span class="sxs-lookup"><span data-stu-id="10a28-192">**[crs_40_generic_attacks](application-gateway-crs-rulegroups-rules.md#crs40)**</span></span>|<span data-ttu-id="10a28-193">Zawiera reguły tooprotect przed atakami ogólnego (utrwalanie sesji dołączenie pliku zdalnego, iniekcji PHP, itp.)</span><span class="sxs-lookup"><span data-stu-id="10a28-193">Contains rules tooprotect against generic attacks (session fixation, remote file inclusion, PHP injection, etc.)</span></span>|
|<span data-ttu-id="10a28-194">**[crs_41_sql_injection_attacks](application-gateway-crs-rulegroups-rules.md#crs41sql)**</span><span class="sxs-lookup"><span data-stu-id="10a28-194">**[crs_41_sql_injection_attacks](application-gateway-crs-rulegroups-rules.md#crs41sql)**</span></span>|<span data-ttu-id="10a28-195">Zawiera reguły tooprotect przed atakami opartymi na wstrzyknięciu kodu SQL</span><span class="sxs-lookup"><span data-stu-id="10a28-195">Contains rules tooprotect against SQL injection attacks</span></span>|
|<span data-ttu-id="10a28-196">**[crs_41_xss_attacks](application-gateway-crs-rulegroups-rules.md#crs41xss)**</span><span class="sxs-lookup"><span data-stu-id="10a28-196">**[crs_41_xss_attacks](application-gateway-crs-rulegroups-rules.md#crs41xss)**</span></span>|<span data-ttu-id="10a28-197">Zawiera reguły tooprotect względem granic lokacji skryptów.</span><span class="sxs-lookup"><span data-stu-id="10a28-197">Contains rules tooprotect against cross site scripting.</span></span>|
|<span data-ttu-id="10a28-198">**[crs_42_tight_security](application-gateway-crs-rulegroups-rules.md#crs42)**</span><span class="sxs-lookup"><span data-stu-id="10a28-198">**[crs_42_tight_security](application-gateway-crs-rulegroups-rules.md#crs42)**</span></span>|<span data-ttu-id="10a28-199">Zawiera tooprotect reguły, przed atakami przechodzenie ścieżka</span><span class="sxs-lookup"><span data-stu-id="10a28-199">Contains a rule tooprotect against path traversal attacks</span></span>|
|<span data-ttu-id="10a28-200">**[crs_45_trojans](application-gateway-crs-rulegroups-rules.md#crs45)**</span><span class="sxs-lookup"><span data-stu-id="10a28-200">**[crs_45_trojans](application-gateway-crs-rulegroups-rules.md#crs45)**</span></span>|<span data-ttu-id="10a28-201">Zawiera reguły tooprotect przed to konie trojańskie.</span><span class="sxs-lookup"><span data-stu-id="10a28-201">Contains rules tooprotect against backdoor Trojans.</span></span>|

### <a name="waf-modes"></a><span data-ttu-id="10a28-202">Tryby zapory aplikacji sieci Web</span><span class="sxs-lookup"><span data-stu-id="10a28-202">WAF Modes</span></span>

<span data-ttu-id="10a28-203">Bramy aplikacji zapory aplikacji sieci Web może być skonfigurowany toorun w następujących dwóch trybów hello:</span><span class="sxs-lookup"><span data-stu-id="10a28-203">Application Gateway WAF can be configured toorun in hello following two modes:</span></span>

* <span data-ttu-id="10a28-204">**Tryb wykrywania** — po toorun skonfigurowany w trybie wykrywania aplikacji bramy zapory aplikacji sieci Web monitoruje i rejestruje wszystkie alerty zagrożenia w pliku dziennika tooa.</span><span class="sxs-lookup"><span data-stu-id="10a28-204">**Detection mode** – When configured toorun in detection mode, Application Gateway WAF monitors and logs all threat alerts in tooa log file.</span></span> <span data-ttu-id="10a28-205">Rejestrowania diagnostyki bramy aplikacji powinna być włączona przy użyciu hello **diagnostyki** sekcji.</span><span class="sxs-lookup"><span data-stu-id="10a28-205">Logging diagnostics for Application Gateway should be turned on using hello **Diagnostics** section.</span></span> <span data-ttu-id="10a28-206">Należy również tooensure, który hello zapory aplikacji sieci Web dziennika jest zaznaczone i włączona.</span><span class="sxs-lookup"><span data-stu-id="10a28-206">You also need tooensure that hello WAF log is selected and turned on.</span></span> <span data-ttu-id="10a28-207">Podczas pracy w trybie wykrywania zapora aplikacji sieci Web nie blokuje żądań przychodzących.</span><span class="sxs-lookup"><span data-stu-id="10a28-207">When running in detection mode web application firewall does not block incoming requests.</span></span>
* <span data-ttu-id="10a28-208">**Tryb zapobiegania** — blokowaniu toorun skonfigurowany w trybie zapobiegania bramy aplikacji aktywnie wtargnięcia i atakami wykryte przez jego reguły.</span><span class="sxs-lookup"><span data-stu-id="10a28-208">**Prevention mode** – When configured toorun in prevention mode, Application Gateway actively blocks intrusions and attacks detected by its rules.</span></span> <span data-ttu-id="10a28-209">Osoba atakująca Hello odbiera 403 wyjątek nieautoryzowanego dostępu i hello połączenie zostało zakończone.</span><span class="sxs-lookup"><span data-stu-id="10a28-209">hello attacker receives a 403 unauthorized access exception and hello connection is terminated.</span></span> <span data-ttu-id="10a28-210">Tryb zapobiegania nadal toolog takich ataków w dziennikach hello zapory aplikacji sieci Web.</span><span class="sxs-lookup"><span data-stu-id="10a28-210">Prevention mode continues toolog such attacks in hello WAF logs.</span></span>

### <span data-ttu-id="10a28-211"><a name="application-gateway-waf-reports"></a>Monitorowanie zapory aplikacji sieci Web</span><span class="sxs-lookup"><span data-stu-id="10a28-211"><a name="application-gateway-waf-reports"></a>WAF Monitoring</span></span>

<span data-ttu-id="10a28-212">Ważne jest monitorowanie kondycji hello bramy aplikacji.</span><span class="sxs-lookup"><span data-stu-id="10a28-212">Monitoring hello health of your application gateway is important.</span></span> <span data-ttu-id="10a28-213">Monitorowanie kondycji hello Twojej aplikacji sieci web aplikacji zapory i hello chroni są realizowane za pośrednictwem rejestrowania i integracja z usługą Azure monitora, Centrum zabezpieczeń Azure (wkrótce) i analizy dzienników.</span><span class="sxs-lookup"><span data-stu-id="10a28-213">Monitoring hello health of your web application firewall and hello applications that it protects are provided through logging and integration with Azure Monitor, Azure Security Center (coming soon), and Log Analytics.</span></span>

![Diagnostyka](./media/application-gateway-web-application-firewall-overview/diagnostics.png)

#### <a name="azure-monitor"></a><span data-ttu-id="10a28-215">Azure Monitor</span><span class="sxs-lookup"><span data-stu-id="10a28-215">Azure Monitor</span></span>

<span data-ttu-id="10a28-216">Każdy dziennik bramy Application Gateway jest zintegrowany z usługą [Azure Monitor](../monitoring-and-diagnostics/monitoring-overview.md).</span><span class="sxs-lookup"><span data-stu-id="10a28-216">Each application gateway log is integrated with [Azure Monitor](../monitoring-and-diagnostics/monitoring-overview.md).</span></span>  <span data-ttu-id="10a28-217">Dzięki temu tootrack informacje diagnostyczne, łącznie z alertami zapory aplikacji sieci Web i dzienniki.</span><span class="sxs-lookup"><span data-stu-id="10a28-217">This allows you tootrack diagnostic information including WAF alerts and logs.</span></span>  <span data-ttu-id="10a28-218">Ta funkcja jest dostępne w ramach hello zasobów brama aplikacji w portalu hello w obszarze hello **diagnostyki** karcie lub za pośrednictwem hello Azure monitora usługi bezpośrednio.</span><span class="sxs-lookup"><span data-stu-id="10a28-218">This capability is provided within hello Application Gateway resource in hello portal under hello **Diagnostics** tab or through hello Azure Monitor service directly.</span></span> <span data-ttu-id="10a28-219">toolearn więcej na temat włączania dzienników diagnostycznych dla bramy aplikacji można znaleźć [diagnostyki bramy aplikacji](application-gateway-diagnostics.md)</span><span class="sxs-lookup"><span data-stu-id="10a28-219">toolearn more about enabling diagnostic logs for application gateway visit [Application Gateway diagnostics](application-gateway-diagnostics.md)</span></span>

#### <a name="azure-security-center"></a><span data-ttu-id="10a28-220">Azure Security Center</span><span class="sxs-lookup"><span data-stu-id="10a28-220">Azure Security Center</span></span>

<span data-ttu-id="10a28-221">[Centrum zabezpieczeń Azure](../security-center/security-center-intro.md) pomaga zapobiegania, wykrywania i odpowie toothreats lepszy wgląd w i kontroli nad hello zabezpieczeń zasobów platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="10a28-221">[Azure Security Center](../security-center/security-center-intro.md) helps you prevent, detect, and respond toothreats with increased visibility into and control over hello security of your Azure resources.</span></span> <span data-ttu-id="10a28-222">Brama aplikacji jest teraz [zintegrowana z usługą Azure Security Center](application-gateway-integration-security-center.md).</span><span class="sxs-lookup"><span data-stu-id="10a28-222">Application gateway now [integrates into Azure Security Center](application-gateway-integration-security-center.md).</span></span> <span data-ttu-id="10a28-223">Centrum zabezpieczeń Azure skanuje aplikacji sieci web toodetect bez ochrony środowiska.</span><span class="sxs-lookup"><span data-stu-id="10a28-223">Azure Security Center scans your environment toodetect unprotected web applications.</span></span> <span data-ttu-id="10a28-224">Go teraz zaleca aplikacji bramy zapory aplikacji sieci Web tooprotect te zasoby narażone.</span><span class="sxs-lookup"><span data-stu-id="10a28-224">It can now recommend application gateway WAF tooprotect these vulnerable resources.</span></span> <span data-ttu-id="10a28-225">Bramy aplikacji zapory aplikacji sieci Web można tworzyć bezpośrednio z hello Centrum zabezpieczeń Azure.</span><span class="sxs-lookup"><span data-stu-id="10a28-225">You can directly create application gateway WAF from hello Azure Security Center.</span></span>  <span data-ttu-id="10a28-226">Te wystąpienia zapory aplikacji sieci Web są zintegrowane z Centrum zabezpieczeń Azure i będzie wysyłać alerty i informacje o kondycji ponownie tooAzure Centrum zabezpieczeń dla raportowania.</span><span class="sxs-lookup"><span data-stu-id="10a28-226">These WAF instances are integrated with Azure Security Center and will send alerts and health information back tooAzure Security Center for reporting.</span></span>

![rysunek 1](./media/application-gateway-web-application-firewall-overview/figure1.png)

#### <a name="logging"></a><span data-ttu-id="10a28-228">Rejestrowanie</span><span class="sxs-lookup"><span data-stu-id="10a28-228">Logging</span></span>

<span data-ttu-id="10a28-229">Zapora aplikacji sieci Web w usłudze Application Gateway dostarcza szczegółowe raporty w zakresie każdego wykrytego zagrożenia.</span><span class="sxs-lookup"><span data-stu-id="10a28-229">Application Gateway WAF provides detailed reporting on each threat it detects.</span></span> <span data-ttu-id="10a28-230">Rejestrowanie jest zintegrowane z dziennikami diagnostycznymi platformy Azure, a alerty są zapisywane w formacie json.</span><span class="sxs-lookup"><span data-stu-id="10a28-230">Logging is integrated with Azure Diagnostics logs and alerts are recorded in a json format.</span></span> <span data-ttu-id="10a28-231">Te dzienniki można zintegrować z usługą [Log Analytics](../log-analytics/log-analytics-azure-networking-analytics.md).</span><span class="sxs-lookup"><span data-stu-id="10a28-231">These logs can be integrated with [Log Analytics](../log-analytics/log-analytics-azure-networking-analytics.md).</span></span>

![imageURLroute](./media/application-gateway-web-application-firewall-overview/waf2.png)

```json
{
  "resourceId": "/SUBSCRIPTIONS/{subscriptionId}/RESOURCEGROUPS/{resourceGroupId}/PROVIDERS/MICROSOFT.NETWORK/APPLICATIONGATEWAYS/{appGatewayName}",
  "operationName": "ApplicationGatewayFirewall",
  "time": "2017-03-20T15:52:09.1494499Z",
  "category": "ApplicationGatewayFirewallLog",
  "properties": {
    "instanceId": "ApplicationGatewayRole_IN_0",
    "clientIp": "104.210.252.3",
    "clientPort": "4835",
    "requestUri": "/?a=%3Cscript%3Ealert(%22Hello%22);%3C/script%3E",
    "ruleSetType": "OWASP",
    "ruleSetVersion": "3.0",
    "ruleId": "941320",
    "message": "Possible XSS Attack Detected - HTML Tag Handler",
    "action": "Blocked",
    "site": "Global",
    "details": {
      "message": "Warning. Pattern match \"<(a|abbr|acronym|address|applet|area|audioscope|b|base|basefront|bdo|bgsound|big|blackface|blink|blockquote|body|bq|br|button|caption|center|cite|code|col|colgroup|comment|dd|del|dfn|dir|div|dl|dt|em|embed|fieldset|fn|font|form|frame|frameset|h1|head|h ...\" at ARGS:a.",
      "data": "Matched Data: <script> found within ARGS:a: <script>alert(\\x22hello\\x22);</script>",
      "file": "rules/REQUEST-941-APPLICATION-ATTACK-XSS.conf",
      "line": "865"
    }
  }
} 

```

## <a name="application-gateway-waf-sku-pricing"></a><span data-ttu-id="10a28-233">Cena jednostki SKU zapory aplikacji sieci Web w usłudze Application Gateway</span><span class="sxs-lookup"><span data-stu-id="10a28-233">Application Gateway WAF SKU pricing</span></span>

<span data-ttu-id="10a28-234">Zapora aplikacji sieci Web jest dostępna w ramach nowej jednostki SKU zapory aplikacji sieci Web.</span><span class="sxs-lookup"><span data-stu-id="10a28-234">Web application firewall is available under a new a WAF SKU.</span></span> <span data-ttu-id="10a28-235">Ta jednostka SKU jest dostępna tylko w modelu inicjowania obsługi usługi Azure Resource Manager i nie w obszarze hello klasycznego modelu wdrażania.</span><span class="sxs-lookup"><span data-stu-id="10a28-235">This SKU is available only in Azure Resource Manager provisioning model and not under hello classic deployment model.</span></span> <span data-ttu-id="10a28-236">Ponadto jednostka SKU zapory aplikacji sieci Web jest oferowana tylko w średnich i dużych rozmiarach wystąpień usługi Application Gateway.</span><span class="sxs-lookup"><span data-stu-id="10a28-236">Additionally WAF SKU comes only in medium and large application gateway instance sizes.</span></span> <span data-ttu-id="10a28-237">Wszystkie limity hello bramy aplikacji mają zastosowanie również toohello SKU zapory aplikacji sieci Web.</span><span class="sxs-lookup"><span data-stu-id="10a28-237">All hello limits for application gateway also apply toohello WAF SKU.</span></span> <span data-ttu-id="10a28-238">Ceny zależą od opłaty godzinnej za wystąpienie bramy i opłaty za przetwarzanie danych.</span><span class="sxs-lookup"><span data-stu-id="10a28-238">Pricing is based on per hour gateway instance charge and data processing charge.</span></span> <span data-ttu-id="10a28-239">Opłata godzinna za bramę w przypadku jednostki SKU zapory aplikacji sieci Web różni się od opłat za standardową jednostkę SKU. Ceny można znaleźć na stronie [szczegółowego cennika usługi Application Gateway](https://azure.microsoft.com/pricing/details/application-gateway/).</span><span class="sxs-lookup"><span data-stu-id="10a28-239">Per hour gateway pricing for WAF SKU is different from Standard SKU charges and can be found at [Application Gateway pricing details](https://azure.microsoft.com/pricing/details/application-gateway/).</span></span> <span data-ttu-id="10a28-240">Przetwarzanie danych, pozostaną opłat hello takie same.</span><span class="sxs-lookup"><span data-stu-id="10a28-240">Data processing charges remain hello same.</span></span> <span data-ttu-id="10a28-241">Nie ma opłat za regułę lub grupę reguł.</span><span class="sxs-lookup"><span data-stu-id="10a28-241">There is no per rule or rule group charges.</span></span> <span data-ttu-id="10a28-242">Wiele aplikacji sieci web można chronić za hello sama Zapora aplikacji sieci web i nie ma żadnych dodatkowych kosztów obsługi wielu aplikacji.</span><span class="sxs-lookup"><span data-stu-id="10a28-242">You can protect multiple web applications behind hello same web application firewall and there are no additional charges for supporting multiple applications.</span></span> 

<span data-ttu-id="10a28-243">Rozliczenia dotyczące zapory aplikacji sieci Web uruchamia skutecznie 5/5/2017 dopiero następnie hello bram SKU zapory aplikacji sieci Web kontynuuje toobe obciążona stawkami standardowymi.</span><span class="sxs-lookup"><span data-stu-id="10a28-243">Billing for WAF starts effectively 5/5/2017, until then hello WAF SKU gateways continues toobe charged at standard rates.</span></span>

## <a name="next-steps"></a><span data-ttu-id="10a28-244">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="10a28-244">Next steps</span></span>

<span data-ttu-id="10a28-245">Po więcej informacji na temat możliwości hello zapory aplikacji sieci Web, odwiedź stronę [jak Zapora aplikacji na bramie aplikacji sieci web na tooconfigure](application-gateway-web-application-firewall-portal.md).</span><span class="sxs-lookup"><span data-stu-id="10a28-245">After learning more about hello capabilities of WAF, visit [How tooconfigure web application firewall on Application Gateway](application-gateway-web-application-firewall-portal.md).</span></span>

