---
title: "aaaCreate niestandardowego sondowania — brama aplikacji w usłudze Azure - Portal Azure | Dokumentacja firmy Microsoft"
description: "Dowiedz się, jak toocreate niestandardowego sondowania bramy aplikacji przy użyciu portalu hello"
services: application-gateway
documentationcenter: na
author: georgewallace
manager: timlt
editor: 
tags: azure-resource-manager
ms.assetid: 33fd5564-43a7-4c54-a9ec-b1235f661f97
ms.service: application-gateway
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 04/26/2017
ms.author: gwallace
ms.openlocfilehash: 9e9309045ef33ba1010868783949b4fde31619ec
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/06/2017
---
# <a name="create-a-custom-probe-for-application-gateway-by-using-hello-portal"></a><span data-ttu-id="71d0f-103">Tworzenie niestandardowych sondowania bramy aplikacji przy użyciu portalu hello</span><span class="sxs-lookup"><span data-stu-id="71d0f-103">Create a custom probe for Application Gateway by using hello portal</span></span>

> [!div class="op_single_selector"]
> * [<span data-ttu-id="71d0f-104">Witryna Azure Portal</span><span class="sxs-lookup"><span data-stu-id="71d0f-104">Azure portal</span></span>](application-gateway-create-probe-portal.md)
> * [<span data-ttu-id="71d0f-105">Azure Resource Manager — program PowerShell</span><span class="sxs-lookup"><span data-stu-id="71d0f-105">Azure Resource Manager PowerShell</span></span>](application-gateway-create-probe-ps.md)
> * [<span data-ttu-id="71d0f-106">Klasyczny portal Azure — program PowerShell</span><span class="sxs-lookup"><span data-stu-id="71d0f-106">Azure Classic PowerShell</span></span>](application-gateway-create-probe-classic-ps.md)

<span data-ttu-id="71d0f-107">W tym artykule dodaniu niestandardowych sondowania tooan istniejących aplikacji bramy za pomocą hello portalu Azure.</span><span class="sxs-lookup"><span data-stu-id="71d0f-107">In this article, you add a custom probe tooan existing application gateway through hello Azure portal.</span></span> <span data-ttu-id="71d0f-108">Niestandardowe sond są przydatne dla aplikacji, które mają strona sprawdzania kondycji określonych lub aplikacji, które nie mają pomyślnej odpowiedzi na powitania domyślnej aplikacji sieci web.</span><span class="sxs-lookup"><span data-stu-id="71d0f-108">Custom probes are useful for applications that have a specific health check page or for applications that do not provide a successful response on hello default web application.</span></span>

## <a name="before-you-begin"></a><span data-ttu-id="71d0f-109">Przed rozpoczęciem</span><span class="sxs-lookup"><span data-stu-id="71d0f-109">Before you begin</span></span>

<span data-ttu-id="71d0f-110">Jeśli nie masz już istniejącą bramę aplikacji, odwiedź stronę [Utwórz bramę aplikacji](application-gateway-create-gateway-portal.md) toocreate toowork bramy aplikacji z.</span><span class="sxs-lookup"><span data-stu-id="71d0f-110">If you do not already have an application gateway, visit [Create an Application Gateway](application-gateway-create-gateway-portal.md) toocreate an application gateway toowork with.</span></span>

## <span data-ttu-id="71d0f-111"><a name="createprobe"></a>Utworzyć hello sondy</span><span class="sxs-lookup"><span data-stu-id="71d0f-111"><a name="createprobe"></a>Create hello probe</span></span>

<span data-ttu-id="71d0f-112">Sondy są skonfigurowane w dwóch etapach za pośrednictwem portalu hello.</span><span class="sxs-lookup"><span data-stu-id="71d0f-112">Probes are configured in a two-step process through hello portal.</span></span> <span data-ttu-id="71d0f-113">pierwszym krokiem Hello jest toocreate hello sondowania.</span><span class="sxs-lookup"><span data-stu-id="71d0f-113">hello first step is toocreate hello probe.</span></span> <span data-ttu-id="71d0f-114">W drugim kroku hello możesz dodać hello sondowania toohello ustawienia http zaplecza bramy aplikacji hello.</span><span class="sxs-lookup"><span data-stu-id="71d0f-114">In hello second step, you add hello probe toohello backend http settings of hello application gateway.</span></span>

1. <span data-ttu-id="71d0f-115">Zaloguj się za toohello [portalu Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="71d0f-115">Log in toohello [Azure portal](https://portal.azure.com).</span></span> <span data-ttu-id="71d0f-116">Jeśli nie masz już konto, możesz zarejestrować się w celu [bezpłatna miesięczna wersja próbna](https://azure.microsoft.com/free)</span><span class="sxs-lookup"><span data-stu-id="71d0f-116">If you don't already have an account, you can sign up for a [free one-month trial](https://azure.microsoft.com/free)</span></span>

1. <span data-ttu-id="71d0f-117">W portalu Azure okienko Ulubione hello kliknij pozycję wszystkie zasoby.</span><span class="sxs-lookup"><span data-stu-id="71d0f-117">In hello Azure portal Favorites pane, click All resources.</span></span> <span data-ttu-id="71d0f-118">Kliknij przycisk brama aplikacji hello w hello wszystkich bloku zasobów.</span><span class="sxs-lookup"><span data-stu-id="71d0f-118">Click hello application gateway in hello All resources blade.</span></span> <span data-ttu-id="71d0f-119">Jeśli subskrypcja hello, już ma kilka zasobów, można wprowadzić partners.contoso.net w hello filtru według nazwy...</span><span class="sxs-lookup"><span data-stu-id="71d0f-119">If hello subscription you selected already has several resources in it, you can enter partners.contoso.net in hello Filter by name…</span></span> <span data-ttu-id="71d0f-120">Brama aplikacji w polu tooeasily dostępu hello.</span><span class="sxs-lookup"><span data-stu-id="71d0f-120">box tooeasily access hello application gateway.</span></span>

1. <span data-ttu-id="71d0f-121">Kliknij przycisk **sondy** i kliknij przycisk hello **Dodaj** tooadd przycisk badanie.</span><span class="sxs-lookup"><span data-stu-id="71d0f-121">Click **Probes** and click hello **Add** button tooadd a probe.</span></span>

  ![Dodaj sondowania bloku z informacjami o wypełnione][1]

1. <span data-ttu-id="71d0f-123">Na powitania **sondy kondycji Dodaj** bloku wypełniania hello wymagane informacje dotyczące badania hello, a po zakończeniu kliknij przycisk **OK**.</span><span class="sxs-lookup"><span data-stu-id="71d0f-123">On hello **Add health probe** blade, fill out hello required information for hello probe, and when complete click **OK**.</span></span>

  |<span data-ttu-id="71d0f-124">**Ustawienie**</span><span class="sxs-lookup"><span data-stu-id="71d0f-124">**Setting**</span></span> | <span data-ttu-id="71d0f-125">**Wartość**</span><span class="sxs-lookup"><span data-stu-id="71d0f-125">**Value**</span></span> | <span data-ttu-id="71d0f-126">**Szczegóły**</span><span class="sxs-lookup"><span data-stu-id="71d0f-126">**Details**</span></span>|
  |---|---|---|
  |<span data-ttu-id="71d0f-127">**Nazwa**</span><span class="sxs-lookup"><span data-stu-id="71d0f-127">**Name**</span></span>|<span data-ttu-id="71d0f-128">customProbe</span><span class="sxs-lookup"><span data-stu-id="71d0f-128">customProbe</span></span>|<span data-ttu-id="71d0f-129">Ta wartość jest sondowania toohello przyjazną nazwę, która jest dostępna w portalu hello.</span><span class="sxs-lookup"><span data-stu-id="71d0f-129">This value is a friendly name toohello probe that is accessible in hello portal.</span></span>|
  |<span data-ttu-id="71d0f-130">**Protokół**</span><span class="sxs-lookup"><span data-stu-id="71d0f-130">**Protocol**</span></span>|<span data-ttu-id="71d0f-131">HTTP lub HTTPS</span><span class="sxs-lookup"><span data-stu-id="71d0f-131">HTTP or HTTPS</span></span> | <span data-ttu-id="71d0f-132">używa protokołu Hello hello sondy kondycji.</span><span class="sxs-lookup"><span data-stu-id="71d0f-132">hello protocol that hello health probe uses.</span></span>|
  |<span data-ttu-id="71d0f-133">**Host**</span><span class="sxs-lookup"><span data-stu-id="71d0f-133">**Host**</span></span>|<span data-ttu-id="71d0f-134">tj</span><span class="sxs-lookup"><span data-stu-id="71d0f-134">i.e</span></span> <span data-ttu-id="71d0f-135">contoso.com</span><span class="sxs-lookup"><span data-stu-id="71d0f-135">contoso.com</span></span>|<span data-ttu-id="71d0f-136">Ta wartość jest nazwa hosta hello jest używany do badania hello.</span><span class="sxs-lookup"><span data-stu-id="71d0f-136">This value is hello host name that is used for hello probe.</span></span> <span data-ttu-id="71d0f-137">Dotyczy tylko wtedy, gdy obejmujący wiele lokacji jest skonfigurowany dla bramy aplikacji, w przeciwnym razie użyj '127.0.0.1'.</span><span class="sxs-lookup"><span data-stu-id="71d0f-137">Applicable only when multi-site is configured on Application Gateway, otherwise use '127.0.0.1'.</span></span> <span data-ttu-id="71d0f-138">Ta wartość jest inna niż nazwa hosta maszyny Wirtualnej hello.</span><span class="sxs-lookup"><span data-stu-id="71d0f-138">This value is different from hello VM host name.</span></span>|
  |<span data-ttu-id="71d0f-139">**Ścieżka**</span><span class="sxs-lookup"><span data-stu-id="71d0f-139">**Path**</span></span>|<span data-ttu-id="71d0f-140">/ lub inną ścieżkę</span><span class="sxs-lookup"><span data-stu-id="71d0f-140">/ or another path</span></span>|<span data-ttu-id="71d0f-141">Witaj pozostałej części hello pełny adres url dla hello sondy niestandardowych.</span><span class="sxs-lookup"><span data-stu-id="71d0f-141">hello remainder of hello full url for hello custom probe.</span></span> <span data-ttu-id="71d0f-142">Nieprawidłowa ścieżka zaczyna się od '/'.</span><span class="sxs-lookup"><span data-stu-id="71d0f-142">A valid path starts with '/'.</span></span> <span data-ttu-id="71d0f-143">Hello domyślną ścieżkę http://contoso.com po prostu użyj "/"</span><span class="sxs-lookup"><span data-stu-id="71d0f-143">For hello default path of http://contoso.com just use '/'</span></span> |
  |<span data-ttu-id="71d0f-144">**Interwał (w sekundach)**</span><span class="sxs-lookup"><span data-stu-id="71d0f-144">**Interval (secs)**</span></span>|<span data-ttu-id="71d0f-145">30</span><span class="sxs-lookup"><span data-stu-id="71d0f-145">30</span></span>|<span data-ttu-id="71d0f-146">Jak często hello sondy jest uruchamiany toocheck kondycji.</span><span class="sxs-lookup"><span data-stu-id="71d0f-146">How often hello probe is run toocheck for health.</span></span> <span data-ttu-id="71d0f-147">Nie jest zalecane hello tooset mniejszą niż 30 sekund.</span><span class="sxs-lookup"><span data-stu-id="71d0f-147">It is not recommended tooset hello lower than 30 seconds.</span></span>|
  |<span data-ttu-id="71d0f-148">**Limit czasu (w sekundach)**</span><span class="sxs-lookup"><span data-stu-id="71d0f-148">**Timeout (secs)**</span></span>|<span data-ttu-id="71d0f-149">30</span><span class="sxs-lookup"><span data-stu-id="71d0f-149">30</span></span>|<span data-ttu-id="71d0f-150">Hello ilość czasu sondowania hello czeka przed przekroczeniem limitu czasu. wystarczająco wysoka, może być utworzona strona health zaplecza hello tooensure wywołanie http toobe potrzeb interwał limitu czasu Hello jest dostępna.</span><span class="sxs-lookup"><span data-stu-id="71d0f-150">hello amount of time hello probe waits before timing out. hello timeout interval needs toobe high enough that an http call can be made tooensure hello backend health page is available.</span></span>|
  |<span data-ttu-id="71d0f-151">**Próg złej kondycji**</span><span class="sxs-lookup"><span data-stu-id="71d0f-151">**Unhealthy threshold**</span></span>|<span data-ttu-id="71d0f-152">3</span><span class="sxs-lookup"><span data-stu-id="71d0f-152">3</span></span>|<span data-ttu-id="71d0f-153">Liczba nieudanych prób toobe określana jako zła.</span><span class="sxs-lookup"><span data-stu-id="71d0f-153">Number of failed attempts toobe considered unhealthy.</span></span> <span data-ttu-id="71d0f-154">Próg 0 oznacza, że jeśli zaplecza hello niepowodzenia sprawdzania kondycji jest określany złej kondycji od razu.</span><span class="sxs-lookup"><span data-stu-id="71d0f-154">A threshold of 0 means that if a health check fails hello back-end is determined unhealthy immediately.</span></span>|

  > [!IMPORTANT]
  > <span data-ttu-id="71d0f-155">Nazwa hosta Hello nie jest hello taka sama jak nazwa serwera.</span><span class="sxs-lookup"><span data-stu-id="71d0f-155">hello host name is not hello same as server name.</span></span> <span data-ttu-id="71d0f-156">Ta wartość jest hello nazwę hosta wirtualnego hello uruchomionych na serwerze aplikacji hello.</span><span class="sxs-lookup"><span data-stu-id="71d0f-156">This value is hello name of hello virtual host running on hello application server.</span></span> <span data-ttu-id="71d0f-157">Sonda Hello są wysyłane toohttp: / /(host name):(port from httpsetting)/urlPath</span><span class="sxs-lookup"><span data-stu-id="71d0f-157">hello probe is sent toohttp://(host name):(port from httpsetting)/urlPath</span></span>

## <a name="add-probe-toohello-gateway"></a><span data-ttu-id="71d0f-158">Dodaj bramę toohello sondy</span><span class="sxs-lookup"><span data-stu-id="71d0f-158">Add probe toohello gateway</span></span>

<span data-ttu-id="71d0f-159">Obecnie hello sondowania został utworzony, jest tooadd czas jego toohello bramy.</span><span class="sxs-lookup"><span data-stu-id="71d0f-159">Now that hello probe has been created, it is time tooadd it toohello gateway.</span></span> <span data-ttu-id="71d0f-160">Ustawienia http zaplecza hello bramy aplikacji hello są ustawienia sondy.</span><span class="sxs-lookup"><span data-stu-id="71d0f-160">Probe settings are set on hello backend http settings of hello application gateway.</span></span>

1. <span data-ttu-id="71d0f-161">Kliknij przycisk **ustawienia HTTP** na bramie aplikacji hello, toobring się blok konfiguracji powitania kliknij hello bieżące ustawienia http zaplecza na liście w oknie hello.</span><span class="sxs-lookup"><span data-stu-id="71d0f-161">Click **HTTP settings** on hello application gateway, toobring up hello configuration blade click hello current backend http settings listed in hello window.</span></span>

  ![Okno ustawień protokołu HTTPS][2]

1. <span data-ttu-id="71d0f-163">Na powitania **appGatewayBackEndHttpSettings** bloku ustawienia, hello wyboru **sondowania niestandardowych użyj** wyboru i wybierz utworzony w hello sondowania hello [sondowania hello Utwórz](#createprobe) sekcji na powitania **sondowania niestandardowe** listy rozwijanej.</span><span class="sxs-lookup"><span data-stu-id="71d0f-163">On hello **appGatewayBackEndHttpSettings** settings blade, check hello **Use custom probe** checkbox and choose hello probe created in hello [Create hello probe](#createprobe) section on hello **Custom probe** drop-down..</span></span>
<span data-ttu-id="71d0f-164">Po zakończeniu kliknij przycisk **zapisać** i hello ustawienia są stosowane.</span><span class="sxs-lookup"><span data-stu-id="71d0f-164">When complete, click **Save** and hello settings are applied.</span></span>

<span data-ttu-id="71d0f-165">Witaj domyślnego badania sprawdza hello domyślnej aplikacji sieci web toohello dostępu.</span><span class="sxs-lookup"><span data-stu-id="71d0f-165">hello default probe checks hello default access toohello web application.</span></span> <span data-ttu-id="71d0f-166">Teraz, gdy utworzono niestandardowe sondowania, bramy aplikacji hello używa hello niestandardowa ścieżka zdefiniowana toomonitor kondycji hello serwerów wewnętrznej bazy danych.</span><span class="sxs-lookup"><span data-stu-id="71d0f-166">Now that a custom probe has been created, hello application gateway uses hello custom path defined toomonitor health for hello backend servers.</span></span> <span data-ttu-id="71d0f-167">Oparte na kryteriach hello, które zostało zdefiniowane, bramy aplikacji hello sprawdza hello ścieżce określonej w hello sondowania.</span><span class="sxs-lookup"><span data-stu-id="71d0f-167">Based on hello criteria that was defined, hello application gateway checks hello path specified in hello probe.</span></span> <span data-ttu-id="71d0f-168">Jeśli hello wywołać toohost:Port / ścieżki nie może zwracać HTTP 200 399 stanu odpowiedzi, powitania serwera są wykonywane poza obrotu po osiągnięciu hello próg złej kondycji.</span><span class="sxs-lookup"><span data-stu-id="71d0f-168">If hello call toohost:Port/path does not return an HTTP 200-399 status response, hello server is taken out of rotation after hello unhealthy threshold is reached.</span></span> <span data-ttu-id="71d0f-169">Sondowanie jest kontynuowane od hello toodetermine wystąpienia w złej kondycji, kiedy dobrej kondycji się ponownie.</span><span class="sxs-lookup"><span data-stu-id="71d0f-169">Probing continues on hello unhealthy instance toodetermine when it becomes healthy again.</span></span> <span data-ttu-id="71d0f-170">Po dodaniu wystąpienia hello puli serwera zapasowego toohealthy ruchu rozpoczyna się ponownie przechodzenia tooit i toohello sondowania wystąpienia jest kontynuowane od użytkownika określonego interwału normalnie.</span><span class="sxs-lookup"><span data-stu-id="71d0f-170">Once hello instance is added back toohealthy server pool, traffic begins flowing tooit again and probing toohello instance continues at user specified interval as normal.</span></span>

## <a name="next-steps"></a><span data-ttu-id="71d0f-171">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="71d0f-171">Next steps</span></span>

<span data-ttu-id="71d0f-172">toolearn tooconfigure odciążanie protokołu SSL z bramy aplikacji Azure, zobacz temat [skonfigurować odciążanie protokołu SSL](application-gateway-ssl-portal.md)</span><span class="sxs-lookup"><span data-stu-id="71d0f-172">toolearn how tooconfigure SSL Offloading with Azure Application Gateway, see [Configure SSL Offload](application-gateway-ssl-portal.md)</span></span>

[1]: ./media/application-gateway-create-probe-portal/figure1.png
[2]: ./media/application-gateway-create-probe-portal/figure2.png

