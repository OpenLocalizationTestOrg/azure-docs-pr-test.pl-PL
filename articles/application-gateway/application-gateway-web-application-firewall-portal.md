---
title: "Utwórz lub zaktualizuj bramę aplikacji Azure z zapory aplikacji sieci web | Dokumentacja firmy Microsoft"
description: "Dowiedz się, jak utworzyć bramę aplikacji z zapory aplikacji sieci web przy użyciu portalu"
services: application-gateway
documentationcenter: na
author: georgewallace
manager: timlt
editor: tysonn
tags: azure-resource-manager
ms.assetid: b561a210-ed99-4ab4-be06-b49215e3255a
ms.service: application-gateway
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 05/03/2017
ms.author: gwallace
ms.openlocfilehash: 650f26d19615d27a94f3947aad7b7904b6c1fabc
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 08/18/2017
---
# <a name="create-an-application-gateway-with-web-application-firewall-by-using-the-portal"></a><span data-ttu-id="4ad26-103">Utwórz bramę aplikacji z zapory aplikacji sieci web przy użyciu portalu</span><span class="sxs-lookup"><span data-stu-id="4ad26-103">Create an application gateway with web application firewall by using the portal</span></span>

> [!div class="op_single_selector"]
> * [<span data-ttu-id="4ad26-104">Witryna Azure Portal</span><span class="sxs-lookup"><span data-stu-id="4ad26-104">Azure portal</span></span>](application-gateway-web-application-firewall-portal.md)
> * [<span data-ttu-id="4ad26-105">PowerShell</span><span class="sxs-lookup"><span data-stu-id="4ad26-105">PowerShell</span></span>](application-gateway-web-application-firewall-powershell.md)
> * [<span data-ttu-id="4ad26-106">Interfejs wiersza polecenia platformy Azure</span><span class="sxs-lookup"><span data-stu-id="4ad26-106">Azure CLI</span></span>](application-gateway-web-application-firewall-cli.md)

<span data-ttu-id="4ad26-107">Dowiedz się, jak utworzyć bramę aplikacji włączona jest Zapora aplikacji sieci web.</span><span class="sxs-lookup"><span data-stu-id="4ad26-107">Learn how to create a web application firewall enabled application gateway.</span></span>

<span data-ttu-id="4ad26-108">Zapora aplikacji sieci web (WAF) w brama aplikacji w usłudze Azure chroni aplikacje sieci web przed wspólnej ataków opartych na sieci web takich jak iniekcja kodu SQL, atakami skryptów między witrynami i hijacks sesji.</span><span class="sxs-lookup"><span data-stu-id="4ad26-108">The web application firewall (WAF) in Azure Application Gateway protects web applications from common web-based attacks like SQL injection, cross-site scripting attacks, and session hijacks.</span></span> <span data-ttu-id="4ad26-109">Aplikacja sieci Web chroni przed wiele OWASP top 10 wspólnej sieci web luk w zabezpieczeniach.</span><span class="sxs-lookup"><span data-stu-id="4ad26-109">Web application protects against many of the OWASP top 10 common web vulnerabilities.</span></span>

## <a name="scenarios"></a><span data-ttu-id="4ad26-110">Scenariusze</span><span class="sxs-lookup"><span data-stu-id="4ad26-110">Scenarios</span></span>

<span data-ttu-id="4ad26-111">W tym artykule istnieją dwa scenariusze:</span><span class="sxs-lookup"><span data-stu-id="4ad26-111">In this article there are two scenarios:</span></span>

<span data-ttu-id="4ad26-112">Z pierwszego scenariusza, dowiesz się [Utwórz bramę aplikacji z zapory aplikacji sieci web](#create-an-application-gateway-with-web-application-firewall)</span><span class="sxs-lookup"><span data-stu-id="4ad26-112">In the first scenario, you learn to [create an application gateway with web application firewall](#create-an-application-gateway-with-web-application-firewall)</span></span>

<span data-ttu-id="4ad26-113">W drugim scenariuszu dowiesz się, aby [Dodawanie zapory aplikacji sieci web do istniejącej bramy aplikacji](#add-web-application-firewall-to-an-existing-application-gateway).</span><span class="sxs-lookup"><span data-stu-id="4ad26-113">In the second scenario, you learn to [add web application firewall to an existing application gateway](#add-web-application-firewall-to-an-existing-application-gateway).</span></span>

![Przykładowy scenariusz][scenario]

> [!NOTE]
> <span data-ttu-id="4ad26-115">Dodatkowa konfiguracja bramy aplikacji, w tym kondycji niestandardowych sondy, adresy w puli zaplecza i dodatkowe reguły są konfigurowane po skonfigurowaniu bramy aplikacji i nie podczas pierwszego wdrożenia.</span><span class="sxs-lookup"><span data-stu-id="4ad26-115">Additional configuration of the application gateway, including custom health probes, backend pool addresses, and additional rules are configured after the application gateway is configured and not during initial deployment.</span></span>

## <a name="before-you-begin"></a><span data-ttu-id="4ad26-116">Przed rozpoczęciem</span><span class="sxs-lookup"><span data-stu-id="4ad26-116">Before you begin</span></span>

<span data-ttu-id="4ad26-117">Brama aplikacji w Azure wymaga jego własnej podsieci.</span><span class="sxs-lookup"><span data-stu-id="4ad26-117">Azure Application Gateway requires its own subnet.</span></span> <span data-ttu-id="4ad26-118">Podczas tworzenia sieci wirtualnej, upewnij się, że pozostanie wystarczająco dużo przestrzeni adresowej do mają wiele podsieci.</span><span class="sxs-lookup"><span data-stu-id="4ad26-118">When creating a virtual network, ensure that you leave enough address space to have multiple subnets.</span></span> <span data-ttu-id="4ad26-119">Po wdrożono bramę aplikacji do podsieci bramy aplikacji tylko dodatkowe mogą mają zostać dodane do tej podsieci.</span><span class="sxs-lookup"><span data-stu-id="4ad26-119">Once you deploy an application gateway to a subnet, only additional application gateways are able to be added to the subnet.</span></span>

##<span data-ttu-id="4ad26-120"><a name="add-web-application-firewall-to-an-existing-application-gateway"></a>Dodawanie zapory aplikacji sieci web do istniejącej bramy aplikacji</span><span class="sxs-lookup"><span data-stu-id="4ad26-120"><a name="add-web-application-firewall-to-an-existing-application-gateway"></a> Add web application firewall to an existing application gateway</span></span>

<span data-ttu-id="4ad26-121">W tym przykładzie aktualizuje istniejącą bramę aplikacji do obsługi w trybie zapobiegania zapory aplikacji sieci web.</span><span class="sxs-lookup"><span data-stu-id="4ad26-121">This example updates an existing application gateway to support web application firewall in prevention mode.</span></span>

1. <span data-ttu-id="4ad26-122">W okienku **Ulubione** witryny Azure Portal kliknij pozycję **Wszystkie zasoby**.</span><span class="sxs-lookup"><span data-stu-id="4ad26-122">In the Azure portal **Favorites** pane, click **All resources**.</span></span> <span data-ttu-id="4ad26-123">Kliknij istniejącą bramę aplikacji w **wszystkie zasoby** bloku.</span><span class="sxs-lookup"><span data-stu-id="4ad26-123">Click the existing Application Gateway in the **All resources** blade.</span></span> <span data-ttu-id="4ad26-124">Jeśli subskrypcja już ma kilka zasobów, można wprowadzić nazwę w **filtrować według nazwy...**</span><span class="sxs-lookup"><span data-stu-id="4ad26-124">If the subscription you selected already has several resources in it, you can enter the name in the **Filter by name…**</span></span> <span data-ttu-id="4ad26-125">aby łatwo uzyskać dostęp do strefy DNS.</span><span class="sxs-lookup"><span data-stu-id="4ad26-125">box to easily access the DNS zone.</span></span>

   ![Tworzenie bramy aplikacji][1]

1. <span data-ttu-id="4ad26-127">Kliknij przycisk **zapory aplikacji sieci Web** i zaktualizuj ustawienia bramy aplikacji.</span><span class="sxs-lookup"><span data-stu-id="4ad26-127">Click **Web application firewall** and update the application gateway settings.</span></span> <span data-ttu-id="4ad26-128">Po zakończeniu kliknij przycisk **Zapisz**</span><span class="sxs-lookup"><span data-stu-id="4ad26-128">When complete click **Save**</span></span>

    <span data-ttu-id="4ad26-129">Dostępne są następujące ustawienia Zaktualizuj istniejącą bramę aplikacji do obsługi zapory aplikacji sieci web:</span><span class="sxs-lookup"><span data-stu-id="4ad26-129">The settings to update an existing application gateway to support web application firewall are:</span></span>

   | <span data-ttu-id="4ad26-130">**Ustawienie**</span><span class="sxs-lookup"><span data-stu-id="4ad26-130">**Setting**</span></span> | <span data-ttu-id="4ad26-131">**Wartość**</span><span class="sxs-lookup"><span data-stu-id="4ad26-131">**Value**</span></span> | <span data-ttu-id="4ad26-132">**Szczegóły**</span><span class="sxs-lookup"><span data-stu-id="4ad26-132">**Details**</span></span>
   |---|---|---|
   |<span data-ttu-id="4ad26-133">**Uaktualnij do warstwy zapory aplikacji sieci Web**</span><span class="sxs-lookup"><span data-stu-id="4ad26-133">**Upgrade to WAF Tier**</span></span>| <span data-ttu-id="4ad26-134">Zaznaczone</span><span class="sxs-lookup"><span data-stu-id="4ad26-134">Checked</span></span> | <span data-ttu-id="4ad26-135">To ustawienie warstwy brama aplikacji w warstwie zapory aplikacji sieci Web.</span><span class="sxs-lookup"><span data-stu-id="4ad26-135">This sets the tier of the application gateway to the WAF tier.</span></span>|
   |<span data-ttu-id="4ad26-136">**Stan zapory**</span><span class="sxs-lookup"><span data-stu-id="4ad26-136">**Firewall status**</span></span>| <span data-ttu-id="4ad26-137">Enabled (Włączony)</span><span class="sxs-lookup"><span data-stu-id="4ad26-137">Enabled</span></span> | <span data-ttu-id="4ad26-138">To ustawienie umożliwia włączenie zapory na zapory aplikacji sieci Web.</span><span class="sxs-lookup"><span data-stu-id="4ad26-138">This setting enables the firewall on the WAF.</span></span>|
   |<span data-ttu-id="4ad26-139">**Trybie zapory**</span><span class="sxs-lookup"><span data-stu-id="4ad26-139">**Firewall mode**</span></span> | <span data-ttu-id="4ad26-140">Zapobieganie</span><span class="sxs-lookup"><span data-stu-id="4ad26-140">Prevention</span></span> | <span data-ttu-id="4ad26-141">To ustawienie jest sposób obsługi zapory aplikacji sieci web z szkodliwy ruch.</span><span class="sxs-lookup"><span data-stu-id="4ad26-141">This setting is how web application firewall deals with malicious traffic.</span></span> <span data-ttu-id="4ad26-142">**Wykrywanie** tryb tylko dzienniki zdarzeń, gdy **zapobiegania** tryb dzienniki zdarzeń i zatrzymuje szkodliwy ruch.</span><span class="sxs-lookup"><span data-stu-id="4ad26-142">**Detection** mode only logs the events, where **Prevention** mode logs the events and stops the malicious traffic.</span></span>|
   |<span data-ttu-id="4ad26-143">**Zestaw reguł**</span><span class="sxs-lookup"><span data-stu-id="4ad26-143">**Rule set**</span></span>|<span data-ttu-id="4ad26-144">3.0</span><span class="sxs-lookup"><span data-stu-id="4ad26-144">3.0</span></span>|<span data-ttu-id="4ad26-145">To ustawienie określa [podstawowego zestawu reguł](application-gateway-web-application-firewall-overview.md#core-rule-sets) używany do ochrony członków puli wewnętrznej bazy danych.</span><span class="sxs-lookup"><span data-stu-id="4ad26-145">This setting determines the [core rule set](application-gateway-web-application-firewall-overview.md#core-rule-sets) that is used to protect the backend pool members.</span></span>|
   |<span data-ttu-id="4ad26-146">**Konfigurowanie reguł wyłączone**</span><span class="sxs-lookup"><span data-stu-id="4ad26-146">**Configure disabled rules**</span></span>|<span data-ttu-id="4ad26-147">Zmienia się</span><span class="sxs-lookup"><span data-stu-id="4ad26-147">varies</span></span>|<span data-ttu-id="4ad26-148">Aby uniknąć możliwych fałszywych alarmów, to ustawienie umożliwia wyłączanie niektórych [reguł i grup reguł](application-gateway-crs-rulegroups-rules.md).</span><span class="sxs-lookup"><span data-stu-id="4ad26-148">To prevent possible false positives, this setting allows you to disable certain [rules and rule groups](application-gateway-crs-rulegroups-rules.md).</span></span>|

    >[!NOTE]
    > <span data-ttu-id="4ad26-149">Podczas uaktualniania istniejącą bramę aplikacji do jednostki SKU zapory aplikacji sieci Web, rozmiar jednostki SKU zmienia się na **średni**.</span><span class="sxs-lookup"><span data-stu-id="4ad26-149">When upgrading an existing application gateway to the WAF SKU, the SKU size changes to **medium**.</span></span> <span data-ttu-id="4ad26-150">Można go ponownie skonfigurować, po zakończeniu konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="4ad26-150">This can be reconfigured after configuration is complete.</span></span>

    ![Ustawienia podstawowe przedstawiający bloku][2-1]

    > [!NOTE]
    > <span data-ttu-id="4ad26-152">Aby wyświetlić dzienniki zapory aplikacji sieci web, można włączyć diagnostyki i wybrać ApplicationGatewayFirewallLog.</span><span class="sxs-lookup"><span data-stu-id="4ad26-152">To view web application firewall logs, diagnostics must be enabled and ApplicationGatewayFirewallLog selected.</span></span> <span data-ttu-id="4ad26-153">Liczba wystąpień 1 można wybrać do celów testowych.</span><span class="sxs-lookup"><span data-stu-id="4ad26-153">An instance count of 1 can be chosen for testing purposes.</span></span> <span data-ttu-id="4ad26-154">Jest ważne dowiedzieć się, że dowolnej liczby wystąpień w obszarze dwa wystąpienia nie pasuje do żadnego umowy SLA i dlatego nie zaleca się.</span><span class="sxs-lookup"><span data-stu-id="4ad26-154">It is important to know that any instance count under two instances is not covered by the SLA and are therefore not recommended.</span></span> <span data-ttu-id="4ad26-155">Małe bramy nie są dostępne, korzystając z zapory aplikacji sieci web.</span><span class="sxs-lookup"><span data-stu-id="4ad26-155">Small gateways are not available when using web application firewall.</span></span>

## <a name="create-an-application-gateway-with-web-application-firewall"></a><span data-ttu-id="4ad26-156">Utwórz bramę aplikacji z zapory aplikacji sieci web</span><span class="sxs-lookup"><span data-stu-id="4ad26-156">Create an application gateway with web application firewall</span></span>

<span data-ttu-id="4ad26-157">W tym scenariuszu obejmują:</span><span class="sxs-lookup"><span data-stu-id="4ad26-157">This scenario will:</span></span>

* <span data-ttu-id="4ad26-158">Utwórz bramę aplikacji zapory aplikacji sieci web średnie z dwoma wystąpieniami.</span><span class="sxs-lookup"><span data-stu-id="4ad26-158">Create a medium web application firewall application gateway with two instances.</span></span>
* <span data-ttu-id="4ad26-159">Tworzenie sieci wirtualnej o nazwie AdatumAppGatewayVNET z zarezerwowanym blokiem CIDR 10.0.0.0/16.</span><span class="sxs-lookup"><span data-stu-id="4ad26-159">Create a virtual network named AdatumAppGatewayVNET with a reserved CIDR block of 10.0.0.0/16.</span></span>
* <span data-ttu-id="4ad26-160">Tworzenie podsieci o nazwie Appgatewaysubnet używającej bloku 10.0.0.0/28 jako bloku CIDR.</span><span class="sxs-lookup"><span data-stu-id="4ad26-160">Create a subnet called Appgatewaysubnet that uses 10.0.0.0/28 as its CIDR block.</span></span>
* <span data-ttu-id="4ad26-161">Konfigurowanie certyfikatu dla odciążania protokołu SSL.</span><span class="sxs-lookup"><span data-stu-id="4ad26-161">Configure a certificate for SSL offload.</span></span>

1. <span data-ttu-id="4ad26-162">Zaloguj się do witryny [Azure Portal](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="4ad26-162">Log in to the [Azure portal](https://portal.azure.com).</span></span> <span data-ttu-id="4ad26-163">Jeśli nie masz już konto, możesz zarejestrować się w celu [bezpłatna miesięczna wersja próbna](https://azure.microsoft.com/free)</span><span class="sxs-lookup"><span data-stu-id="4ad26-163">If you don't already have an account, you can sign up for a [free one-month trial](https://azure.microsoft.com/free)</span></span>
1. <span data-ttu-id="4ad26-164">W okienku Ulubione w portalu kliknij **nowy**</span><span class="sxs-lookup"><span data-stu-id="4ad26-164">In the Favorites pane of the portal, click **New**</span></span>
1. <span data-ttu-id="4ad26-165">W bloku **Nowy** kliknij pozycję **Sieć**.</span><span class="sxs-lookup"><span data-stu-id="4ad26-165">In the **New** blade, click **Networking**.</span></span> <span data-ttu-id="4ad26-166">W **sieci** bloku, kliknij przycisk **brama aplikacji w**, jak pokazano na poniższej ilustracji:</span><span class="sxs-lookup"><span data-stu-id="4ad26-166">In the **Networking** blade, click **Application Gateway**, as shown in the following image:</span></span>
1. <span data-ttu-id="4ad26-167">Przejdź do portalu Azure, kliknij pozycję **nowy** > **sieci** > **bramy aplikacji**</span><span class="sxs-lookup"><span data-stu-id="4ad26-167">Navigate to the Azure portal, click **New** > **Networking** > **Application Gateway**</span></span>

    ![Tworzenie bramy aplikacji][1]

1. <span data-ttu-id="4ad26-169">W **podstawy** bloku, zostanie wyświetlone, wprowadź następujące wartości, a następnie kliknij przycisk **OK**:</span><span class="sxs-lookup"><span data-stu-id="4ad26-169">In the **Basics** blade that appears, enter the following values, then click **OK**:</span></span>

   | <span data-ttu-id="4ad26-170">**Ustawienie**</span><span class="sxs-lookup"><span data-stu-id="4ad26-170">**Setting**</span></span> | <span data-ttu-id="4ad26-171">**Wartość**</span><span class="sxs-lookup"><span data-stu-id="4ad26-171">**Value**</span></span> | <span data-ttu-id="4ad26-172">**Szczegóły**</span><span class="sxs-lookup"><span data-stu-id="4ad26-172">**Details**</span></span>
   |---|---|---|
   |<span data-ttu-id="4ad26-173">**Nazwa**</span><span class="sxs-lookup"><span data-stu-id="4ad26-173">**Name**</span></span>|<span data-ttu-id="4ad26-174">AdatumAppGateway</span><span class="sxs-lookup"><span data-stu-id="4ad26-174">AdatumAppGateway</span></span>|<span data-ttu-id="4ad26-175">Nazwa bramy aplikacji</span><span class="sxs-lookup"><span data-stu-id="4ad26-175">The name of the application gateway</span></span>|
   |<span data-ttu-id="4ad26-176">**Warstwy**</span><span class="sxs-lookup"><span data-stu-id="4ad26-176">**Tier**</span></span>|<span data-ttu-id="4ad26-177">ZAPORY APLIKACJI SIECI WEB</span><span class="sxs-lookup"><span data-stu-id="4ad26-177">WAF</span></span>|<span data-ttu-id="4ad26-178">Dostępne wartości to Standard i zapory aplikacji sieci Web.</span><span class="sxs-lookup"><span data-stu-id="4ad26-178">Available values are Standard and WAF.</span></span> <span data-ttu-id="4ad26-179">Odwiedź stronę [zapory aplikacji sieci web](application-gateway-web-application-firewall-overview.md) Aby dowiedzieć się więcej na temat zapory aplikacji sieci Web.</span><span class="sxs-lookup"><span data-stu-id="4ad26-179">Visit [web application firewall](application-gateway-web-application-firewall-overview.md) to learn more about WAF.</span></span>|
   |<span data-ttu-id="4ad26-180">**Rozmiar jednostki SKU**</span><span class="sxs-lookup"><span data-stu-id="4ad26-180">**SKU Size**</span></span>|<span data-ttu-id="4ad26-181">Medium</span><span class="sxs-lookup"><span data-stu-id="4ad26-181">Medium</span></span>|<span data-ttu-id="4ad26-182">Wybór, w przypadku wybrania warstwy standardowa jest mały, średni i duży.</span><span class="sxs-lookup"><span data-stu-id="4ad26-182">Choices when choosing Standard tier are Small, Medium, and Large.</span></span> <span data-ttu-id="4ad26-183">W przypadku wybrania warstwy zapory aplikacji sieci Web, opcje tylko są średni i duży.</span><span class="sxs-lookup"><span data-stu-id="4ad26-183">When choosing WAF tier, options are Medium and Large only.</span></span>|
   |<span data-ttu-id="4ad26-184">**Liczba wystąpień**</span><span class="sxs-lookup"><span data-stu-id="4ad26-184">**Instance count**</span></span>|<span data-ttu-id="4ad26-185">2</span><span class="sxs-lookup"><span data-stu-id="4ad26-185">2</span></span>|<span data-ttu-id="4ad26-186">Liczba wystąpień brama aplikacji w celu zapewnienia wysokiej dostępności.</span><span class="sxs-lookup"><span data-stu-id="4ad26-186">Number of instances of the application gateway for high availability.</span></span> <span data-ttu-id="4ad26-187">Liczby wystąpień 1 należy używać tylko do celów testowych.</span><span class="sxs-lookup"><span data-stu-id="4ad26-187">Instance counts of 1 should only be used for testing purposes.</span></span>|
   |<span data-ttu-id="4ad26-188">**Subskrypcja**</span><span class="sxs-lookup"><span data-stu-id="4ad26-188">**Subscription**</span></span>|<span data-ttu-id="4ad26-189">[Twoja subskrypcja]</span><span class="sxs-lookup"><span data-stu-id="4ad26-189">[Your subscription]</span></span>|<span data-ttu-id="4ad26-190">Wybierz subskrypcję, w której chcesz utworzyć bramę aplikacji.</span><span class="sxs-lookup"><span data-stu-id="4ad26-190">Select a subscription to create the application gateway in.</span></span>|
   |<span data-ttu-id="4ad26-191">**Grupa zasobów**</span><span class="sxs-lookup"><span data-stu-id="4ad26-191">**Resource group**</span></span>|<span data-ttu-id="4ad26-192">**Utwórz nowy:** AdatumAppGatewayRG</span><span class="sxs-lookup"><span data-stu-id="4ad26-192">**Create new:** AdatumAppGatewayRG</span></span>|<span data-ttu-id="4ad26-193">Utwórz grupę zasobów.</span><span class="sxs-lookup"><span data-stu-id="4ad26-193">Create a resource group.</span></span> <span data-ttu-id="4ad26-194">Nazwa grupy zasobów musi być unikatowa w obrębie wybranej subskrypcji.</span><span class="sxs-lookup"><span data-stu-id="4ad26-194">The resource group name must be unique within the subscription you selected.</span></span> <span data-ttu-id="4ad26-195">Aby dowiedzieć się więcej na temat grup zasobów, zapoznaj się z artykułem [Omówienie usługi Resource Manager](../azure-resource-manager/resource-group-overview.md?toc=%2fazure%2fapplication-gateway%2ftoc.json#resource-groups).</span><span class="sxs-lookup"><span data-stu-id="4ad26-195">To learn more about resource groups, read the [Resource Manager](../azure-resource-manager/resource-group-overview.md?toc=%2fazure%2fapplication-gateway%2ftoc.json#resource-groups) overview article.</span></span>|
   |<span data-ttu-id="4ad26-196">**Lokalizacja**</span><span class="sxs-lookup"><span data-stu-id="4ad26-196">**Location**</span></span>|<span data-ttu-id="4ad26-197">Zachodnie stany USA</span><span class="sxs-lookup"><span data-stu-id="4ad26-197">West US</span></span>||

   ![Ustawienia podstawowe przedstawiający bloku][2-2]

1. <span data-ttu-id="4ad26-199">W **ustawienia** bloku, który jest wyświetlany w obszarze **sieci wirtualnej**, kliknij przycisk **wybierz sieć wirtualną**.</span><span class="sxs-lookup"><span data-stu-id="4ad26-199">In the **Settings** blade that appears under **Virtual network**, click **Choose a virtual network**.</span></span> <span data-ttu-id="4ad26-200">W tym kroku zostanie otwarta wprowadź **sieci wirtualnej wybierz** bloku.</span><span class="sxs-lookup"><span data-stu-id="4ad26-200">This step opens enter the **Choose virtual network** blade.</span></span>  <span data-ttu-id="4ad26-201">Kliknij przycisk **Utwórz nowy** otworzyć **Utwórz sieć wirtualną** bloku.</span><span class="sxs-lookup"><span data-stu-id="4ad26-201">Click **Create new** to open the **Create virtual network** blade.</span></span>

   ![Wybierz sieć wirtualną][2]

1. <span data-ttu-id="4ad26-203">Na **bloku sieci wirtualnej Utwórz** wprowadź następujące wartości, a następnie kliknij przycisk **OK**.</span><span class="sxs-lookup"><span data-stu-id="4ad26-203">On the **Create virtual network blade** enter the following values, then click **OK**.</span></span> <span data-ttu-id="4ad26-204">Ten krok powoduje zamknięcie **Utwórz sieć wirtualną** i **sieci wirtualnej wybierz** bloków.</span><span class="sxs-lookup"><span data-stu-id="4ad26-204">This step closes the **Create virtual network** and **Choose virtual network** blades.</span></span> <span data-ttu-id="4ad26-205">Spowoduje to wypełnienie **podsieci** na **ustawienia** blok podsieci wybrany.</span><span class="sxs-lookup"><span data-stu-id="4ad26-205">This populates the **Subnet** field on the **Settings** blade with the subnet chosen.</span></span>

   |<span data-ttu-id="4ad26-206">**Ustawienie**</span><span class="sxs-lookup"><span data-stu-id="4ad26-206">**Setting**</span></span> | <span data-ttu-id="4ad26-207">**Wartość**</span><span class="sxs-lookup"><span data-stu-id="4ad26-207">**Value**</span></span> | <span data-ttu-id="4ad26-208">**Szczegóły**</span><span class="sxs-lookup"><span data-stu-id="4ad26-208">**Details**</span></span> |
   |---|---|---|
   |<span data-ttu-id="4ad26-209">**Nazwa**</span><span class="sxs-lookup"><span data-stu-id="4ad26-209">**Name**</span></span>|<span data-ttu-id="4ad26-210">AdatumAppGatewayVNET</span><span class="sxs-lookup"><span data-stu-id="4ad26-210">AdatumAppGatewayVNET</span></span>|<span data-ttu-id="4ad26-211">Nazwa bramy aplikacji</span><span class="sxs-lookup"><span data-stu-id="4ad26-211">Name of the application gateway</span></span>|
   |<span data-ttu-id="4ad26-212">**Przestrzeń adresów**</span><span class="sxs-lookup"><span data-stu-id="4ad26-212">**Address Space**</span></span>|<span data-ttu-id="4ad26-213">10.0.0.0/16</span><span class="sxs-lookup"><span data-stu-id="4ad26-213">10.0.0.0/16</span></span>| <span data-ttu-id="4ad26-214">Ta wartość jest przestrzeni adresowej dla sieci wirtualnej</span><span class="sxs-lookup"><span data-stu-id="4ad26-214">This value is the address space for the virtual network</span></span>|
   |<span data-ttu-id="4ad26-215">**Nazwa podsieci**</span><span class="sxs-lookup"><span data-stu-id="4ad26-215">**Subnet name**</span></span>|<span data-ttu-id="4ad26-216">AppGatewaySubnet</span><span class="sxs-lookup"><span data-stu-id="4ad26-216">AppGatewaySubnet</span></span>|<span data-ttu-id="4ad26-217">Nazwa podsieci bramy aplikacji</span><span class="sxs-lookup"><span data-stu-id="4ad26-217">Name of the subnet for the application gateway</span></span>|
   |<span data-ttu-id="4ad26-218">**Zakres adresów podsieci**</span><span class="sxs-lookup"><span data-stu-id="4ad26-218">**Subnet address range**</span></span>|<span data-ttu-id="4ad26-219">10.0.0.0/28</span><span class="sxs-lookup"><span data-stu-id="4ad26-219">10.0.0.0/28</span></span> | <span data-ttu-id="4ad26-220">Ta podsieć umożliwia więcej dodatkowe podsieci w sieci wirtualnej dla członków puli wewnętrznej bazy danych</span><span class="sxs-lookup"><span data-stu-id="4ad26-220">This subnet allows more additional subnets in the virtual network for backend pool members</span></span>|

1. <span data-ttu-id="4ad26-221">Na **ustawienia** bloku w obszarze **konfiguracji IP frontonu**, wybierz **publicznego** jako **typ adresu IP**</span><span class="sxs-lookup"><span data-stu-id="4ad26-221">On the **Settings** blade under **Frontend IP configuration**, choose **Public** as the **IP address type**</span></span>

1. <span data-ttu-id="4ad26-222">Na **ustawienia** bloku w obszarze **publicznego adresu IP**, kliknij przycisk **wybierz publiczny adres IP**, ten krok powoduje otwarcie **wybierz publiczny adres IP** blok, kliknij przycisk **Utwórz nowy**.</span><span class="sxs-lookup"><span data-stu-id="4ad26-222">On the **Settings** blade under **Public IP address**, click **Choose a public IP address**, this step opens the **Choose public IP address** blade, click **Create new**.</span></span>

   ![Wybierz publiczny adres ip][3]

1. <span data-ttu-id="4ad26-224">Na **tworzenie publicznego adresu IP** bloku, zaakceptuj wartość domyślną, a następnie kliknij przycisk **OK**.</span><span class="sxs-lookup"><span data-stu-id="4ad26-224">On the **Create public IP address** blade, accept the default value, and click **OK**.</span></span> <span data-ttu-id="4ad26-225">Ten krok powoduje zamknięcie **wybierz publiczny adres IP** bloku **tworzenie publicznego adresu IP** bloku i wypełnić **publicznego adresu IP** z wybranego publicznego adresu IP.</span><span class="sxs-lookup"><span data-stu-id="4ad26-225">This step closes the **Choose public IP address** blade, the **Create public IP address** blade, and populate **Public IP address** with the public IP address chosen.</span></span>

1. <span data-ttu-id="4ad26-226">Na **ustawienia** bloku w obszarze **konfiguracji odbiornika**, kliknij przycisk **HTTP** w obszarze **protokołu**.</span><span class="sxs-lookup"><span data-stu-id="4ad26-226">On the **Settings** blade under **Listener configuration**, click **HTTP** under **Protocol**.</span></span> <span data-ttu-id="4ad26-227">Aby użyć **https**, wymagany jest certyfikat.</span><span class="sxs-lookup"><span data-stu-id="4ad26-227">To use **https**, a certificate is required.</span></span> <span data-ttu-id="4ad26-228">Klucz prywatny certyfikatu jest wymagane, eksportowania pliku PFX certyfikatu trzeba podać i hasło dla pliku.</span><span class="sxs-lookup"><span data-stu-id="4ad26-228">The private key of the certificate is needed so a .pfx export of the certificate needs to be provided and the password for the file.</span></span>

1. <span data-ttu-id="4ad26-229">Skonfiguruj **WAF** określonych ustawień.</span><span class="sxs-lookup"><span data-stu-id="4ad26-229">Configure the **WAF** specific settings.</span></span>

   |<span data-ttu-id="4ad26-230">**Ustawienie**</span><span class="sxs-lookup"><span data-stu-id="4ad26-230">**Setting**</span></span> | <span data-ttu-id="4ad26-231">**Wartość**</span><span class="sxs-lookup"><span data-stu-id="4ad26-231">**Value**</span></span> | <span data-ttu-id="4ad26-232">**Szczegóły**</span><span class="sxs-lookup"><span data-stu-id="4ad26-232">**Details**</span></span> |
   |---|---|---|
   |<span data-ttu-id="4ad26-233">**Stan zapory**</span><span class="sxs-lookup"><span data-stu-id="4ad26-233">**Firewall status**</span></span>| <span data-ttu-id="4ad26-234">Enabled (Włączony)</span><span class="sxs-lookup"><span data-stu-id="4ad26-234">Enabled</span></span>| <span data-ttu-id="4ad26-235">To ustawienie włącza zapory aplikacji sieci Web lub wyłącz.</span><span class="sxs-lookup"><span data-stu-id="4ad26-235">This setting turns WAF on or off.</span></span>|
   |<span data-ttu-id="4ad26-236">**Trybie zapory**</span><span class="sxs-lookup"><span data-stu-id="4ad26-236">**Firewall mode**</span></span> | <span data-ttu-id="4ad26-237">Zapobieganie</span><span class="sxs-lookup"><span data-stu-id="4ad26-237">Prevention</span></span>| <span data-ttu-id="4ad26-238">To ustawienie określa, że WAF akcje przejmuje szkodliwy ruch.</span><span class="sxs-lookup"><span data-stu-id="4ad26-238">This setting determines the actions WAF takes on malicious traffic.</span></span> <span data-ttu-id="4ad26-239">Jeśli **wykrywania** wybrano ruchu tylko jest rejestrowane.</span><span class="sxs-lookup"><span data-stu-id="4ad26-239">If **Detection** is chosen, traffic is only logged.</span></span>  <span data-ttu-id="4ad26-240">Jeśli **zapobiegania** wybrano, ruch jest rejestrowane i została zatrzymana z nieautoryzowanego odpowiedź 403.</span><span class="sxs-lookup"><span data-stu-id="4ad26-240">If **Prevention** is chosen, traffic is logged and stopped with a 403 Unauthorized response.</span></span>|


1. <span data-ttu-id="4ad26-241">Znajdziesz na stronie podsumowania, a następnie kliknij przycisk **OK**.</span><span class="sxs-lookup"><span data-stu-id="4ad26-241">Review the Summary page and click **OK**.</span></span>  <span data-ttu-id="4ad26-242">Brama aplikacji jest teraz w kolejce, a utworzona.</span><span class="sxs-lookup"><span data-stu-id="4ad26-242">Now the application gateway is queued up and created.</span></span>

1. <span data-ttu-id="4ad26-243">Po utworzeniu bramy aplikacji, przejdź do niego w portalu, aby kontynuować konfigurację bramy aplikacji.</span><span class="sxs-lookup"><span data-stu-id="4ad26-243">Once the application gateway has been created, navigate to it in the portal to continue configuration of the application gateway.</span></span>

    ![Widok zasobów bramy aplikacji][10]

<span data-ttu-id="4ad26-245">Te kroki Utwórz bramę aplikacji w warstwie podstawowa z domyślnych ustawień odbiornika, puli zaplecza, ustawienia http zaplecza i zasady.</span><span class="sxs-lookup"><span data-stu-id="4ad26-245">These steps create a basic application gateway with default settings for the listener, backend pool, backend http settings, and rules.</span></span> <span data-ttu-id="4ad26-246">W przypadku zmodyfikowania ustawień do potrzeb wdrożenia po udostępnianie zakończy się pomyślnie</span><span class="sxs-lookup"><span data-stu-id="4ad26-246">You can modify these settings to suit your deployment once the provisioning is successful</span></span>

> [!NOTE]
> <span data-ttu-id="4ad26-247">Bramy aplikacji utworzonych za pomocą konfiguracji zapory aplikacji sieci web podstawowe są skonfigurowane z CRS 3.0 do ochrony.</span><span class="sxs-lookup"><span data-stu-id="4ad26-247">Application gateways created with the basic web application firewall configuration are configured with CRS 3.0 for protections.</span></span>

## <a name="next-steps"></a><span data-ttu-id="4ad26-248">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="4ad26-248">Next steps</span></span>

<span data-ttu-id="4ad26-249">Następnie zostanie przedstawiony sposób skonfigurować alias domeny niestandardowej dla [publicznego adresu IP](../dns/dns-custom-domain.md#public-ip-address) przy użyciu usługi Azure DNS lub innego dostawcy usługi DNS.</span><span class="sxs-lookup"><span data-stu-id="4ad26-249">Next, you can learn how to configure a custom domain alias for the [public IP address](../dns/dns-custom-domain.md#public-ip-address) using Azure DNS or another DNS provider.</span></span>

<span data-ttu-id="4ad26-250">Informacje o sposobie konfigurowania rejestrowania diagnostycznego do dziennika zdarzeń, które wykryte lub uniemożliwił z zapory aplikacji sieci web, odwiedzając [diagnostyki bramy aplikacji](application-gateway-diagnostics.md)</span><span class="sxs-lookup"><span data-stu-id="4ad26-250">Learn how to configure diagnostic logging, to log the events that are detected or prevented with web application firewall by visiting [Application Gateway Diagnostics](application-gateway-diagnostics.md)</span></span>

<span data-ttu-id="4ad26-251">Dowiedz się, jak utworzyć sondy kondycji niestandardowych odwiedzając [utworzyć sondy kondycji niestandardowych](application-gateway-create-probe-portal.md)</span><span class="sxs-lookup"><span data-stu-id="4ad26-251">Learn how to create custom health probes by visiting [Create a custom health probe](application-gateway-create-probe-portal.md)</span></span>

<span data-ttu-id="4ad26-252">Dowiedz się, jak skonfigurować odciążanie protokołu SSL i podejmij kosztowne odszyfrowywania SSL poza serwerów sieci web, odwiedzając [skonfigurować odciążanie protokołu SSL](application-gateway-ssl-portal.md)</span><span class="sxs-lookup"><span data-stu-id="4ad26-252">Learn how to configure SSL Offloading and take the costly SSL decryption off your web servers by visiting [Configure SSL Offload](application-gateway-ssl-portal.md)</span></span>

<!--Image references-->
[1]: ./media/application-gateway-web-application-firewall-portal/figure1.png
[2]: ./media/application-gateway-web-application-firewall-portal/figure2.png
[2-1]: ./media/application-gateway-web-application-firewall-portal/figure2-1.png
[2-2]: ./media/application-gateway-web-application-firewall-portal/figure2-2.png
[3]: ./media/application-gateway-web-application-firewall-portal/figure3.png
[10]: ./media/application-gateway-web-application-firewall-portal/figure10.png
[scenario]: ./media/application-gateway-web-application-firewall-portal/scenario.png
