<span data-ttu-id="2d876-101">Azure wykonuje okresowo aktualizacje do poprawy niezawodności, wydajności i zabezpieczeń infrastruktury hosta dla maszyny wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="2d876-101">Azure periodically performs updates to improve the reliability, performance, and security of the host infrastructure for virtual machines.</span></span> <span data-ttu-id="2d876-102">Zakres te aktualizacje z poprawki składników oprogramowania w środowisku macierzystym (na przykład systemu operacyjnego, funkcji hypervisor i różnych agentów wdrożonych na hoście), uaktualnienie składników sieciowych do likwidacji sprzętu.</span><span class="sxs-lookup"><span data-stu-id="2d876-102">These updates range from patching software components in the hosting environment (like operating system, hypervisor, and various agents deployed on the host), upgrading networking components, to hardware decommissioning.</span></span> <span data-ttu-id="2d876-103">Większość tych aktualizacji są wykonywane bez wpływu na maszyny wirtualne.</span><span class="sxs-lookup"><span data-stu-id="2d876-103">The majority of these updates are performed without any impact to the hosted virtual machines.</span></span> <span data-ttu-id="2d876-104">Istnieją jednak przypadki, w których aktualizacje mają wpływ:</span><span class="sxs-lookup"><span data-stu-id="2d876-104">However, there are cases where updates do have an impact:</span></span>

- <span data-ttu-id="2d876-105">Jeśli konserwacji nie wymaga ponownego uruchomienia systemu, platforma Azure korzysta migracji w miejscu wstrzymanie maszyny Wirtualnej, gdy host jest aktualizowany.</span><span class="sxs-lookup"><span data-stu-id="2d876-105">If the maintenance does not require a reboot, Azure uses in-place migration to pause the VM while the host is updated.</span></span>

- <span data-ttu-id="2d876-106">Jeśli konserwacji wymaga ponownego uruchomienia, możesz uzyskać zawiadomienia o podczas jest planowanych konserwacji.</span><span class="sxs-lookup"><span data-stu-id="2d876-106">If maintenance requires a reboot, you get a notice of when the maintenance is planned.</span></span> <span data-ttu-id="2d876-107">W takich przypadkach będziesz też mieć przedział czasu, w którym można uruchomić obsługi samodzielnie, w czasie, który należy.</span><span class="sxs-lookup"><span data-stu-id="2d876-107">In these cases, you'll also be given a time window where you can start the maintenance yourself, at a time that works for you.</span></span>

<span data-ttu-id="2d876-108">Na tej stronie opisano, jak Microsoft Azure wykonuje obu typów konserwacji.</span><span class="sxs-lookup"><span data-stu-id="2d876-108">This page describes how Microsoft Azure performs both types of maintenance.</span></span> <span data-ttu-id="2d876-109">Aby uzyskać więcej informacji o zdarzeniach nieplanowane (awarii), zobacz Zarządzanie dostępnością maszyn wirtualnych [systemu Windows] (.. / articles/virtual-machines/windows/manage-availability.md) lub [Linux](../articles/virtual-machines/linux/manage-availability.md).</span><span class="sxs-lookup"><span data-stu-id="2d876-109">For more information about unplanned events (outages), see Manage the availability of virtual machines for [Windows] (../articles/virtual-machines/windows/manage-availability.md) or [Linux](../articles/virtual-machines/linux/manage-availability.md).</span></span>

<span data-ttu-id="2d876-110">Aplikacje działające na maszynie wirtualnej umożliwia zebranie informacji o nadchodzących aktualizacji za pomocą usługi Azure metadanych dla [Windows](../articles/virtual-machines/windows/instance-metadata-service.md) lub [Linux] (.. / articles/virtual-machines/linux/instance-metadata-service.md).</span><span class="sxs-lookup"><span data-stu-id="2d876-110">Applications running in a virtual machine can gather information about upcoming updates by using the Azure Metadata Service for [Windows](../articles/virtual-machines/windows/instance-metadata-service.md) or [Linux] (../articles/virtual-machines/linux/instance-metadata-service.md).</span></span>

## <a name="in-place-vm-migration"></a><span data-ttu-id="2d876-111">Migracja maszyny Wirtualnej w miejscu</span><span class="sxs-lookup"><span data-stu-id="2d876-111">In-place VM migration</span></span>

<span data-ttu-id="2d876-112">Gdy aktualizacje nie wymagają ponownego uruchomienia pełnej, migracji na żywo w miejscu jest używany.</span><span class="sxs-lookup"><span data-stu-id="2d876-112">When updates don't require a full reboot, an in-place live migration is used.</span></span> <span data-ttu-id="2d876-113">Podczas aktualizacji maszyna wirtualna jest wstrzymana około 30 sekund, zachowując pamięci w pamięci RAM, środowisko macierzyste dotyczy niezbędne aktualizacje i poprawki.</span><span class="sxs-lookup"><span data-stu-id="2d876-113">During the update the virtual machine is paused for about 30 seconds, preserving the memory in RAM, while the hosting environment applies the necessary updates and patches.</span></span> <span data-ttu-id="2d876-114">Maszyna wirtualna jest następnie wznowiona i zegara maszyny wirtualnej jest synchronizowana automatycznie.</span><span class="sxs-lookup"><span data-stu-id="2d876-114">The virtual machine is then resumed and the clock of the virtual machine is automatically synchronized.</span></span>

<span data-ttu-id="2d876-115">Dla maszyn wirtualnych w zestawach dostępności aktualizacji domeny są zaktualizowane pojedynczo.</span><span class="sxs-lookup"><span data-stu-id="2d876-115">For VMs in availability sets, update domains are updated one at a time.</span></span> <span data-ttu-id="2d876-116">Wszystkie maszyny wirtualne w jednej domenie aktualizacji (UD) są wstrzymany, aktualizacji i następnie ponownie uruchomiony przed zaplanowanej konserwacji przechodzi do następnego UD.</span><span class="sxs-lookup"><span data-stu-id="2d876-116">All VMs in one update domain (UD) are paused, updated and then resumed before planned maintenance moves on to the next UD.</span></span>

<span data-ttu-id="2d876-117">Niektóre aplikacje może mieć wpływ na tego rodzaju aktualizacji.</span><span class="sxs-lookup"><span data-stu-id="2d876-117">Some applications may be impacted by these types of updates.</span></span> <span data-ttu-id="2d876-118">Aplikacje wykonujące przetwarzania, takich jak przesyłania strumieniowego multimediów lub transkodowanie lub uzyskać wysoką przepustowość sieci scenariuszy, w czasie rzeczywistym zdarzeń nie mogą być przeznaczone do tolerować 30 jednosekundową przerwę.</span><span class="sxs-lookup"><span data-stu-id="2d876-118">Applications that perform real-time event processing, like media streaming or transcoding, or high throughput networking scenarios, may not be designed to tolerate a 30 second pause.</span></span> <!-- sooooo, what should they do? --> 


## <a name="maintenance-requiring-a-reboot"></a><span data-ttu-id="2d876-119">Konserwacja konieczności ponownego uruchamiania</span><span class="sxs-lookup"><span data-stu-id="2d876-119">Maintenance requiring a reboot</span></span>

<span data-ttu-id="2d876-120">W przypadku maszyn wirtualnych wymagać ponownego dla zaplanowanych konserwacji, użytkownik jest powiadamiany wcześniej.</span><span class="sxs-lookup"><span data-stu-id="2d876-120">When VMs need to be rebooted for planned maintenance, you are notified in advance.</span></span> <span data-ttu-id="2d876-121">Planowana konserwacja ma dwie fazy: okno samoobsługi i okno zaplanowanej konserwacji.</span><span class="sxs-lookup"><span data-stu-id="2d876-121">Planned maintenance has two phases: the self-service window and a scheduled maintenance window.</span></span>

<span data-ttu-id="2d876-122">**Samoobsługi okna** umożliwia inicjowanie obsługi na maszyny wirtualne.</span><span class="sxs-lookup"><span data-stu-id="2d876-122">The **self-service window** lets you initiate the maintenance on your VMs.</span></span> <span data-ttu-id="2d876-123">W tym czasie można badać każdej maszyny Wirtualnej, aby wyświetlić ich stan i sprawdź wynik ostatniego żądania obsługi.</span><span class="sxs-lookup"><span data-stu-id="2d876-123">During this time, you can query each VM to see their status and check the result of your last maintenance request.</span></span>

<span data-ttu-id="2d876-124">Podczas uruchamiania obsługi samoobsługi maszyny Wirtualnej jest przenoszony do węzła, który został już zaktualizowany i uprawnień go ponownie.</span><span class="sxs-lookup"><span data-stu-id="2d876-124">When you start self-service maintenance, your VM is moved to a node that has already been updated and then powers it back on.</span></span> <span data-ttu-id="2d876-125">Ponieważ ponownego uruchamiania maszyny Wirtualnej, tymczasowego dysku zostaną utracone i dynamicznych adresów IP skojarzonych z interfejsu sieci wirtualnej zostały zaktualizowane.</span><span class="sxs-lookup"><span data-stu-id="2d876-125">Because the VM reboots, the temporary disk is lost and dynamic IP addresses associated with virtual network interface are updated.</span></span>

<span data-ttu-id="2d876-126">Występuje błąd podczas uruchamiania samoobsługi konserwacji, operacja nie zostanie zatrzymana, maszyna wirtualna nie zostanie zaktualizowana i powoduje również usunięcie z iteracji zaplanowanej konserwacji.</span><span class="sxs-lookup"><span data-stu-id="2d876-126">If you start self-service maintenance and there is an error during the process, the operation is stopped, the VM is not updated and it is also removed from the planned maintenance iteration.</span></span> <span data-ttu-id="2d876-127">Będzie można z Tobą kontaktu w późniejszym czasie z nowego harmonogramu i oferowane nową możliwość przeprowadzenia konserwacji samoobsługi.</span><span class="sxs-lookup"><span data-stu-id="2d876-127">You will be contacted in a later time with a new schedule and offered a new opportunity to do self-service maintenance.</span></span> 

<span data-ttu-id="2d876-128">Po upływie okna samoobsługi **zaplanowanego okna obsługi** rozpoczyna się.</span><span class="sxs-lookup"><span data-stu-id="2d876-128">When the self-service window has passed, the **scheduled maintenance window** begins.</span></span> <span data-ttu-id="2d876-129">W tym oknie można nadal zapytania dla okna obsługi, ale nie będzie można uruchomić obsługi samodzielnie.</span><span class="sxs-lookup"><span data-stu-id="2d876-129">During this time window, you can still query for the maintenance window, but no longer be able to start the maintenance yourself.</span></span>

## <a name="availability-considerations-during-planned-maintenance"></a><span data-ttu-id="2d876-130">Zagadnienia dotyczące dostępności podczas zaplanowanej konserwacji</span><span class="sxs-lookup"><span data-stu-id="2d876-130">Availability Considerations during Planned Maintenance</span></span> 

<span data-ttu-id="2d876-131">Jeśli zdecydujesz się po upływie okno zaplanowanej konserwacji, jest kilka rzeczy, wziąć pod uwagę obsługę najwyższy availabilty sieci maszyn wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="2d876-131">If you decide to wait until the planned maintenance window, there are a few things to consider for maintaining the highest availabilty of your VMs.</span></span> 

### <a name="paired-regions"></a><span data-ttu-id="2d876-132">Sparowanego regionów</span><span class="sxs-lookup"><span data-stu-id="2d876-132">Paired Regions</span></span>

<span data-ttu-id="2d876-133">Każdy region platformy Azure jest łączyć się z innego regionu w tej samej lokalizacji geograficznej, składają do regionalnych pary.</span><span class="sxs-lookup"><span data-stu-id="2d876-133">Each Azure region is paired with another region within the same geography, together they make a regional pair.</span></span> <span data-ttu-id="2d876-134">Podczas zaplanowanej konserwacji Azure zaktualizuje tylko maszyn wirtualnych w pojedynczym regionie pary regionu.</span><span class="sxs-lookup"><span data-stu-id="2d876-134">During planned maintenance, Azure will only update the VMs in a single region of a region pair.</span></span> <span data-ttu-id="2d876-135">Na przykład podczas aktualizowania maszyn wirtualnych w regionie Północno-środkowe stany USA platforma Azure nie będzie jednocześnie przeprowadzać aktualizacji żadnych maszyn wirtualnych w regionie Południowo-środkowe stany USA.</span><span class="sxs-lookup"><span data-stu-id="2d876-135">For example, when updating the Virtual Machines in North Central US, Azure will not update any Virtual Machines in South Central US at the same time.</span></span> <span data-ttu-id="2d876-136">Inne regiony, takie jak Europa Północna, mogą być jednak w trakcie konserwacji w tym samym czasie, co region Wschodnie stany USA.</span><span class="sxs-lookup"><span data-stu-id="2d876-136">However, other regions such as North Europe can be under maintenance at the same time as East US.</span></span> <span data-ttu-id="2d876-137">Zrozumienie, jak działają pary region może ułatwić lepsze dystrybucji maszyn wirtualnych w regionach.</span><span class="sxs-lookup"><span data-stu-id="2d876-137">Understanding how region pairs work can help you better distribute your VMs across regions.</span></span> <span data-ttu-id="2d876-138">Aby uzyskać więcej informacji, zobacz [pary regionu Azure](https://docs.microsoft.com/azure/best-practices-availability-paired-regions).</span><span class="sxs-lookup"><span data-stu-id="2d876-138">For more information, see [Azure region pairs](https://docs.microsoft.com/azure/best-practices-availability-paired-regions).</span></span>

### <a name="availability-sets-and-scale-sets"></a><span data-ttu-id="2d876-139">Zestawy skali i zestawów dostępności</span><span class="sxs-lookup"><span data-stu-id="2d876-139">Availability sets and scale sets</span></span>

<span data-ttu-id="2d876-140">W przypadku wdrażania obciążenia na maszynach wirtualnych Azure, można tworzyć maszyn wirtualnych w ramach dostępności skonfigurowany w celu zapewnienia wysokiej dostępności do aplikacji.</span><span class="sxs-lookup"><span data-stu-id="2d876-140">When deploying a workload on Azure VMs, you can create the VMs within an availability set to provide high availability to your application.</span></span> <span data-ttu-id="2d876-141">Dzięki temu, że podczas awarii albo obsługi zdarzeń, jest dostępny co najmniej jednej maszyny wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="2d876-141">This ensures that during either an outage or maintenance events, at least one virtual machine is available.</span></span>

<span data-ttu-id="2d876-142">W zestawie dostępności poszczególnych maszyn wirtualnych są rozkładane między domenami aktualizacji do 20 (UDs).</span><span class="sxs-lookup"><span data-stu-id="2d876-142">Within an availability set, individual VMs are spread across up to 20 update domains (UDs).</span></span> <span data-ttu-id="2d876-143">Podczas zaplanowanej konserwacji pogarsza tylko jedną aktualizację domeny w danym momencie.</span><span class="sxs-lookup"><span data-stu-id="2d876-143">During planned maintenance, only a single update domain is impacted at any given time.</span></span> <span data-ttu-id="2d876-144">Należy pamiętać, że kolejność domen aktualizacji jest w pełni funkcjonalne nie zawsze odbywa się po kolei.</span><span class="sxs-lookup"><span data-stu-id="2d876-144">Be aware that the order of update domains being impacted does not necessarily happen sequentially.</span></span> 

<span data-ttu-id="2d876-145">Zestawy skalowania maszyny wirtualnej są zasobów obliczeń platformy Azure, która umożliwia wdrażanie i zarządzanie nimi zestaw identycznych maszyn wirtualnych jako pojedynczy zasób.</span><span class="sxs-lookup"><span data-stu-id="2d876-145">Virtual machine scale sets are an Azure compute resource that enables you to deploy and manage a set of identical VMs as a single resource.</span></span> <span data-ttu-id="2d876-146">Zestaw skalowania jest automatycznie wdrażane między domenami aktualizacji, takich jak maszyn wirtualnych w zestawie dostępności.</span><span class="sxs-lookup"><span data-stu-id="2d876-146">The scale set is automatically deployed across update domains, like VMs in an availability set.</span></span> <span data-ttu-id="2d876-147">Podobnie jak z zestawami dostępności zestawów skalowania tylko jedną aktualizację domeny pogarsza w danym momencie.</span><span class="sxs-lookup"><span data-stu-id="2d876-147">Just like with availability sets, with scale sets only a single update domain is impacted at any given time.</span></span>

<span data-ttu-id="2d876-148">Aby uzyskać więcej informacji na temat konfigurowania maszyn wirtualnych wysokiej dostępności, zobacz Zarządzanie dostępność maszyn wirtualnych dla systemu Windows (.. / articles/virtual-machines/windows/manage-availability.md) lub [Linux](../articles/virtual-machines/linux/manage-availability.md).</span><span class="sxs-lookup"><span data-stu-id="2d876-148">For more information about configuring your virtual machines for high availability, see Manage the availability of your virtual machines for Windows (../articles/virtual-machines/windows/manage-availability.md) or [Linux](../articles/virtual-machines/linux/manage-availability.md).</span></span>