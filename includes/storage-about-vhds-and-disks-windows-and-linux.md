
## <a name="about-vhds"></a><span data-ttu-id="167dd-101">Informacje o wirtualnych dyskach twardych</span><span class="sxs-lookup"><span data-stu-id="167dd-101">About VHDs</span></span>

<span data-ttu-id="167dd-102">Witaj dysków VHD używana w usłudze Azure są pliki VHD przechowywany jako stronicowe obiekty BLOB na koncie magazynu standard lub premium na platformie Azure.</span><span class="sxs-lookup"><span data-stu-id="167dd-102">hello VHDs used in Azure are .vhd files stored as page blobs in a standard or premium storage account in Azure.</span></span> <span data-ttu-id="167dd-103">Aby uzyskać informacje na temat stronicowych obiektów blob, zobacz [Understanding block blobs and page blobs](/rest/api/storageservices/Understanding-Block-Blobs--Append-Blobs--and-Page-Blobs/) (Omówienie blokowych i stronicowych obiektów blob).</span><span class="sxs-lookup"><span data-stu-id="167dd-103">For details about page blobs, see [Understanding block blobs and page blobs](/rest/api/storageservices/Understanding-Block-Blobs--Append-Blobs--and-Page-Blobs/).</span></span> <span data-ttu-id="167dd-104">Aby uzyskać szczegółowe informacje na temat magazynu w warstwie Premium, zobacz [High-performance premium storage and Azure VMs](../articles/storage/common/storage-premium-storage.md) (Magazyn w warstwie Premium o wysokiej wydajności i maszyny wirtualne platformy Azure).</span><span class="sxs-lookup"><span data-stu-id="167dd-104">For details about premium storage, see [High-performance premium storage and Azure VMs](../articles/storage/common/storage-premium-storage.md).</span></span>

<span data-ttu-id="167dd-105">Azure obsługuje hello stały format dysku VHD.</span><span class="sxs-lookup"><span data-stu-id="167dd-105">Azure supports hello fixed disk VHD format.</span></span> <span data-ttu-id="167dd-106">Określa format Hello stałej hello dysku logicznego limit liniowo w pliku hello, więc ten dysk Przesunięcie X jest przechowywany przy przesunięciu obiektu blob X. Mała stopkę na końcu obiektu blob hello hello opisuje właściwości hello hello wirtualnego dysku twardego.</span><span class="sxs-lookup"><span data-stu-id="167dd-106">hello fixed format lays hello logical disk out linearly within hello file, so that disk offset X is stored at blob offset X. A small footer at hello end of hello blob describes hello properties of hello VHD.</span></span> <span data-ttu-id="167dd-107">Często hello ustalonym formacie marnuje miejsce, ponieważ większość dyski mają duże zakresy nieużywane w nich.</span><span class="sxs-lookup"><span data-stu-id="167dd-107">Often, hello fixed format wastes space because most disks have large unused ranges in them.</span></span> <span data-ttu-id="167dd-108">Jednak Azure przechowuje pliki VHD w formacie rozrzedzonych, co otrzymasz hello zalet obu hello stałej i dynamiczne dyski na powitania sam czas.</span><span class="sxs-lookup"><span data-stu-id="167dd-108">However, Azure stores .vhd files in a sparse format, so you receive hello benefits of both hello fixed and dynamic disks at hello same time.</span></span> <span data-ttu-id="167dd-109">Aby uzyskać więcej szczegółów, zobacz [Getting started with virtual hard disks](https://technet.microsoft.com/library/dd979539.aspx) (Pierwsze kroki z wirtualnymi dyskami twardymi).</span><span class="sxs-lookup"><span data-stu-id="167dd-109">For more details, see [Getting started with virtual hard disks](https://technet.microsoft.com/library/dd979539.aspx).</span></span>

<span data-ttu-id="167dd-110">Wszystkie pliki VHD na platformie Azure, czy ma być toouse dysków toocreate źródłowych lub obrazy są tylko do odczytu.</span><span class="sxs-lookup"><span data-stu-id="167dd-110">All .vhd files in Azure that you want toouse as a source toocreate disks or images are read-only.</span></span> <span data-ttu-id="167dd-111">Po utworzeniu dysku lub obrazie Azure tworzy kopie hello pliki VHD.</span><span class="sxs-lookup"><span data-stu-id="167dd-111">When you create a disk or image, Azure makes copies of hello .vhd files.</span></span> <span data-ttu-id="167dd-112">Te kopie mogą być tylko do odczytu lub odczytu i zapisu, w zależności od tego, jak używasz hello wirtualnego dysku twardego.</span><span class="sxs-lookup"><span data-stu-id="167dd-112">These copies can be read-only or read-and-write, depending on how you use hello VHD.</span></span>

<span data-ttu-id="167dd-113">Po utworzeniu maszyny wirtualnej z obrazu Azure tworzy dysku dla maszyny wirtualnej hello, który jest kopią hello źródłowego pliku VHD.</span><span class="sxs-lookup"><span data-stu-id="167dd-113">When you create a virtual machine from an image, Azure creates a disk for hello virtual machine that is a copy of hello source .vhd file.</span></span> <span data-ttu-id="167dd-114">tooprotect przed przypadkowym usunięciem, Azure umieszcza dzierżawę na każdego pliku VHD źródła, który został użyty toocreate obrazu, dysk systemu operacyjnego lub dysku danych.</span><span class="sxs-lookup"><span data-stu-id="167dd-114">tooprotect against accidental deletion, Azure places a lease on any source .vhd file that’s used toocreate an image, an operating system disk, or a data disk.</span></span>

<span data-ttu-id="167dd-115">Przed usunięciem pliku VHD źródła należy tooremove hello dzierżawy przez usunięcie dysku hello lub obrazu.</span><span class="sxs-lookup"><span data-stu-id="167dd-115">Before you can delete a source .vhd file, you’ll need tooremove hello lease by deleting hello disk or image.</span></span> <span data-ttu-id="167dd-116">toodelete pliku VHD, który jest używany przez maszynę wirtualną jako dysk systemu operacyjnego, można usunąć maszyny wirtualnej hello, dysk systemu operacyjnego hello i plik VHD źródłowy hello jednocześnie przez usunięcie hello maszyny wirtualnej i usunięcie wszystkich skojarzonych dysków.</span><span class="sxs-lookup"><span data-stu-id="167dd-116">toodelete a .vhd file that is being used by a virtual machine as an operating system disk, you can delete hello virtual machine, hello operating system disk, and hello source .vhd file all at once by deleting hello virtual machine and deleting all associated disks.</span></span> <span data-ttu-id="167dd-117">Usunięcie pliku vhd będącego źródłem dysku danych wymaga jednak wykonania kilku kroków w ustalonej kolejności.</span><span class="sxs-lookup"><span data-stu-id="167dd-117">However, deleting a .vhd file that’s a source for a data disk requires several steps in a set order.</span></span> <span data-ttu-id="167dd-118">Najpierw odłączyć dysku hello z hello maszyny wirtualnej, a następnie usuń hello dysku, a następnie usuń hello pliku VHD.</span><span class="sxs-lookup"><span data-stu-id="167dd-118">First you detach hello disk from hello virtual machine, then delete hello disk, and then delete hello .vhd file.</span></span>

> [!WARNING]
> <span data-ttu-id="167dd-119">Jeśli usuniesz źródłowy plik vhd z magazynu albo usuniesz swoje konto magazynu, firma Microsoft nie będzie mogła odzyskać usuniętych danych.</span><span class="sxs-lookup"><span data-stu-id="167dd-119">If you delete a source .vhd file from storage, or delete your storage account, Microsoft can't recover that data for you.</span></span>
> 

## <a name="types-of-disks"></a><span data-ttu-id="167dd-120">Typy dysków</span><span class="sxs-lookup"><span data-stu-id="167dd-120">Types of disks</span></span> 

<span data-ttu-id="167dd-121">Dyski platformy Azure zaprojektowano tak, aby zapewniały 99,999% dostępności.</span><span class="sxs-lookup"><span data-stu-id="167dd-121">Azure Disks are designed for 99.999% availability.</span></span> <span data-ttu-id="167dd-122">Dysku systemu Azure zostały spójnie dostarczone trwałości korporacyjnej, z branży, ZERO % Annualized częstość niepowodzeń.</span><span class="sxs-lookup"><span data-stu-id="167dd-122">Azure Disks have consistently delivered enterprise-grade durability, with an industry-leading ZERO% Annualized Failure Rate.</span></span>

<span data-ttu-id="167dd-123">Do wyboru podczas tworzenia dysków są dwie warstwy wydajności — magazyny Standard Storage i Premium Storage.</span><span class="sxs-lookup"><span data-stu-id="167dd-123">There are two performance tiers for storage that you can choose from when creating your disks -- Standard Storage and Premium Storage.</span></span> <span data-ttu-id="167dd-124">Ponadto istnieją dwa typy dysków — niezarządzane i zarządzane — mogące występować w obu warstwach wydajności.</span><span class="sxs-lookup"><span data-stu-id="167dd-124">Also, there are two types of disks -- unmanaged and managed -- and they can reside in either performance tier.</span></span>


### <a name="standard-storage"></a><span data-ttu-id="167dd-125">Standard Storage</span><span class="sxs-lookup"><span data-stu-id="167dd-125">Standard storage</span></span> 

<span data-ttu-id="167dd-126">Magazyn Standard Storage bazuje na dyskach twardych (HDD) i stanowi ekonomiczne, chociaż wciąż wydajne rozwiązanie.</span><span class="sxs-lookup"><span data-stu-id="167dd-126">Standard Storage is backed by HDDs, and delivers cost-effective storage while still being performant.</span></span> <span data-ttu-id="167dd-127">Magazyn Standard Storage może być replikowany lokalnie w jednym centrum danych albo być objęty nadmiarowością geograficzną z głównym i dodatkowym centrum danych.</span><span class="sxs-lookup"><span data-stu-id="167dd-127">Standard storage can be replicated locally in one datacenter, or be geo-redundant with primary and secondary data centers.</span></span> <span data-ttu-id="167dd-128">Aby uzyskać więcej informacji na temat replikowania magazynu, zobacz [Replikacja usługi Azure Storage](../articles/storage/common/storage-redundancy.md).</span><span class="sxs-lookup"><span data-stu-id="167dd-128">For more information about storage replication, please see [Azure Storage replication](../articles/storage/common/storage-redundancy.md).</span></span> 

<span data-ttu-id="167dd-129">Aby uzyskać więcej informacji na temat korzystania z magazynu Standard Storage z dyskami maszyn wirtualnych, zobacz [Standard Storage and Disks](../articles/storage/common/storage-standard-storage.md) (Magazyn Standard Storage i dyski).</span><span class="sxs-lookup"><span data-stu-id="167dd-129">For more information about using Standard Storage with VM disks, please see [Standard Storage and Disks](../articles/storage/common/storage-standard-storage.md).</span></span>

### <a name="premium-storage"></a><span data-ttu-id="167dd-130">Premium Storage</span><span class="sxs-lookup"><span data-stu-id="167dd-130">Premium storage</span></span> 

<span data-ttu-id="167dd-131">Magazyn Premium Storage bazuje na dyskach półprzewodnikowych (SSD) i oferuje dyski o wysokiej wydajności i małych opóźnieniach dla maszyn wirtualnych, na których działają obciążenia intensywnie korzystające z operacji wejścia/wyjścia.</span><span class="sxs-lookup"><span data-stu-id="167dd-131">Premium Storage is backed by SSDs, and delivers high-performance, low-latency disk support for VMs running I/O-intensive workloads.</span></span> <span data-ttu-id="167dd-132">Magazyn w warstwie Premium mogą używających DS, DSv2, GS, Ls lub maszynach wirtualnych platformy Azure serii FS.</span><span class="sxs-lookup"><span data-stu-id="167dd-132">You can use Premium Storage with DS, DSv2, GS, Ls, or FS series Azure VMs.</span></span> <span data-ttu-id="167dd-133">Aby uzyskać więcej informacji, zobacz [Premium Storage](../articles/storage/common/storage-premium-storage.md).</span><span class="sxs-lookup"><span data-stu-id="167dd-133">For more information, please see [Premium Storage](../articles/storage/common/storage-premium-storage.md).</span></span>

### <a name="unmanaged-disks"></a><span data-ttu-id="167dd-134">Dyski niezarządzane</span><span class="sxs-lookup"><span data-stu-id="167dd-134">Unmanaged disks</span></span>

<span data-ttu-id="167dd-135">Niezarządzane dyski są hello tradycyjnych typów dysków, które były używane przez maszyny wirtualne.</span><span class="sxs-lookup"><span data-stu-id="167dd-135">Unmanaged disks are hello traditional type of disks that have been used by VMs.</span></span> <span data-ttu-id="167dd-136">Z tych opcji Tworzenie konta magazynu i konto magazynu można określić podczas tworzenia dysku hello.</span><span class="sxs-lookup"><span data-stu-id="167dd-136">With these, you create your own storage account and specify that storage account when you create hello disk.</span></span> <span data-ttu-id="167dd-137">Masz toomake się, że zbyt wiele dysków nie umieszczaj hello tego samego konta magazynu, ponieważ mogła przekroczyć hello [wartości docelowe skalowalności](../articles/storage/common/storage-scalability-targets.md) hello konta magazynu (20 000 IOPS, na przykład), co powoduje hello ograniczane maszyn wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="167dd-137">You have toomake sure you don't put too many disks in hello same storage account, because you could exceed hello [scalability targets](../articles/storage/common/storage-scalability-targets.md) of hello storage account (20,000 IOPS, for example), resulting in hello VMs being throttled.</span></span> <span data-ttu-id="167dd-138">W przypadku niezarządzanych dysków masz toofigure się, jak używać toomaximize hello z co najmniej jeden magazyn kont tooget hello najlepszą wydajność poza maszyn wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="167dd-138">With unmanaged disks, you have toofigure out how toomaximize hello use of one or more storage accounts tooget hello best performance out of your VMs.</span></span>

### <a name="managed-disks"></a><span data-ttu-id="167dd-139">Dyski zarządzane</span><span class="sxs-lookup"><span data-stu-id="167dd-139">Managed disks</span></span> 

<span data-ttu-id="167dd-140">Zarządzane uchwytów dyski magazynu hello uwzględnić tworzenia i zarządzania nimi w tle hello i sprawia, że nie mogą tooworry dotyczących ograniczeń skalowalności hello hello konta magazynu.</span><span class="sxs-lookup"><span data-stu-id="167dd-140">Managed Disks handles hello storage account creation/management in hello background for you, and ensures that you do not have tooworry about hello scalability limits of hello storage account.</span></span> <span data-ttu-id="167dd-141">Po prostu określić rozmiar dysku hello i warstwę wydajności hello (Standard/Premium) i Azure tworzy i zarządza hello dysku.</span><span class="sxs-lookup"><span data-stu-id="167dd-141">You simply specify hello disk size and hello performance tier (Standard/Premium), and Azure creates and manages hello disk for you.</span></span> <span data-ttu-id="167dd-142">Również w przypadku dodawania dysków lub skalować hello maszyny Wirtualnej w górę i w dół, nie masz tooworry o magazyn hello jest używany.</span><span class="sxs-lookup"><span data-stu-id="167dd-142">Even as you add disks or scale hello VM up and down, you don't have tooworry about hello storage being used.</span></span> 

<span data-ttu-id="167dd-143">Można również zarządzać niestandardowych obrazów w jedno konto magazynu na region platformy Azure i używać ich toocreate setki maszyn wirtualnych w hello tej samej subskrypcji.</span><span class="sxs-lookup"><span data-stu-id="167dd-143">You can also manage your custom images in one storage account per Azure region, and use them toocreate hundreds of VMs in hello same subscription.</span></span> <span data-ttu-id="167dd-144">Aby uzyskać więcej informacji o dyskach zarządzanych, zobacz hello [omówienie dysków zarządzanych](../articles/virtual-machines/windows/managed-disks-overview.md).</span><span class="sxs-lookup"><span data-stu-id="167dd-144">For more information about Managed Disks, please see hello [Managed Disks Overview](../articles/virtual-machines/windows/managed-disks-overview.md).</span></span>

<span data-ttu-id="167dd-145">Firma Microsoft zaleca użycia dysków zarządzanych Azure dla nowych maszyn wirtualnych i przekonwertować poprzedniej dysków toomanaged niezarządzane dysków, tootake zaletą hello wiele funkcji dostępnych w przypadku dysków zarządzanych.</span><span class="sxs-lookup"><span data-stu-id="167dd-145">We recommend that you use Azure Managed Disks for new VMs, and that you convert your previous unmanaged disks toomanaged disks, tootake advantage of hello many features available in Managed Disks.</span></span>

### <a name="disk-comparison"></a><span data-ttu-id="167dd-146">Porównanie dysków</span><span class="sxs-lookup"><span data-stu-id="167dd-146">Disk comparison</span></span>

<span data-ttu-id="167dd-147">Witaj w poniższej tabeli zapewnia porównanie Premium vs Standard zarówno niezarządzane, a zarządzane zdecyduj, jakie toouse toohelp dysków.</span><span class="sxs-lookup"><span data-stu-id="167dd-147">hello following table provides a comparison of Premium vs Standard for both unmanaged and managed disks toohelp you decide what toouse.</span></span>

|    | <span data-ttu-id="167dd-148">Dysk platformy Azure w warstwie Premium</span><span class="sxs-lookup"><span data-stu-id="167dd-148">Azure Premium Disk</span></span> | <span data-ttu-id="167dd-149">Dysk platformy Azure w warstwie Standardowa</span><span class="sxs-lookup"><span data-stu-id="167dd-149">Azure Standard Disk</span></span> |
|--- | ------------------ | ------------------- |
| <span data-ttu-id="167dd-150">Typ dysku</span><span class="sxs-lookup"><span data-stu-id="167dd-150">Disk Type</span></span> | <span data-ttu-id="167dd-151">Dyski półprzewodnikowe (SSD)</span><span class="sxs-lookup"><span data-stu-id="167dd-151">Solid State Drives (SSD)</span></span> | <span data-ttu-id="167dd-152">Dyski twarde (HDD)</span><span class="sxs-lookup"><span data-stu-id="167dd-152">Hard Disk Drives (HDD)</span></span>  |
| <span data-ttu-id="167dd-153">Omówienie</span><span class="sxs-lookup"><span data-stu-id="167dd-153">Overview</span></span>  | <span data-ttu-id="167dd-154">Pamięć dyskowa o wysokiej wydajności i małych opóźnieniach, bazująca na dyskach SSD, przeznaczona dla maszyn wirtualnych uruchamiających obciążenia intensywnie korzystające z operacji wejścia/wyjścia lub hostujących środowisko produkcyjne o znaczeniu krytycznym</span><span class="sxs-lookup"><span data-stu-id="167dd-154">SSD-based high-performance, low-latency disk support for VMs running IO-intensive workloads or hosting mission critical production environment</span></span> | <span data-ttu-id="167dd-155">Ekonomiczna pamięć dyskowa oparta na dyskach HDD, przeznaczona dla scenariuszy z maszynami wirtualnymi do programowania i testowania</span><span class="sxs-lookup"><span data-stu-id="167dd-155">HDD-based cost effective disk support for Dev/Test VM scenarios</span></span> |
| <span data-ttu-id="167dd-156">Scenariusz</span><span class="sxs-lookup"><span data-stu-id="167dd-156">Scenario</span></span>  | <span data-ttu-id="167dd-157">Obciążenia produkcyjne i wrażliwe na wydajność</span><span class="sxs-lookup"><span data-stu-id="167dd-157">Production and performance sensitive workloads</span></span> | <span data-ttu-id="167dd-158">Programowanie i testowanie, zastosowania niekrytyczne</span><span class="sxs-lookup"><span data-stu-id="167dd-158">Dev/Test, non-critical,</span></span> <br><span data-ttu-id="167dd-159">Rzadki dostęp</span><span class="sxs-lookup"><span data-stu-id="167dd-159">Infrequent access</span></span> |
| <span data-ttu-id="167dd-160">Rozmiar dysku</span><span class="sxs-lookup"><span data-stu-id="167dd-160">Disk Size</span></span> | <span data-ttu-id="167dd-161">P4: 32 GB (tylko w przypadku dysków zarządzane)</span><span class="sxs-lookup"><span data-stu-id="167dd-161">P4: 32 GB (Managed Disks only)</span></span><br><span data-ttu-id="167dd-162">P6: 64 GB (tylko w przypadku dysków zarządzane)</span><span class="sxs-lookup"><span data-stu-id="167dd-162">P6: 64 GB (Managed Disks only)</span></span><br><span data-ttu-id="167dd-163">P10: 128 GB</span><span class="sxs-lookup"><span data-stu-id="167dd-163">P10: 128 GB</span></span><br><span data-ttu-id="167dd-164">P20: 512 GB</span><span class="sxs-lookup"><span data-stu-id="167dd-164">P20: 512 GB</span></span><br><span data-ttu-id="167dd-165">P30: 1024 GB</span><span class="sxs-lookup"><span data-stu-id="167dd-165">P30: 1024 GB</span></span><br><span data-ttu-id="167dd-166">P40: 2048 GB</span><span class="sxs-lookup"><span data-stu-id="167dd-166">P40: 2048 GB</span></span><br><span data-ttu-id="167dd-167">P50: GB 4095</span><span class="sxs-lookup"><span data-stu-id="167dd-167">P50: 4095 GB</span></span> | <span data-ttu-id="167dd-168">Niezarządzane dysków: 1 GB – 4 TB (4095 GB)</span><span class="sxs-lookup"><span data-stu-id="167dd-168">Unmanaged Disks: 1 GB – 4 TB (4095 GB)</span></span> <br><br><span data-ttu-id="167dd-169">Dyski zarządzane:</span><span class="sxs-lookup"><span data-stu-id="167dd-169">Managed Disks:</span></span><br> <span data-ttu-id="167dd-170">S4: 32 GB</span><span class="sxs-lookup"><span data-stu-id="167dd-170">S4: 32 GB</span></span> <br><span data-ttu-id="167dd-171">S6: 64 GB</span><span class="sxs-lookup"><span data-stu-id="167dd-171">S6: 64 GB</span></span> <br><span data-ttu-id="167dd-172">S10: 128 GB</span><span class="sxs-lookup"><span data-stu-id="167dd-172">S10: 128 GB</span></span> <br><span data-ttu-id="167dd-173">S20: 512 GB</span><span class="sxs-lookup"><span data-stu-id="167dd-173">S20: 512 GB</span></span> <br><span data-ttu-id="167dd-174">S30: 1024 GB</span><span class="sxs-lookup"><span data-stu-id="167dd-174">S30: 1024 GB</span></span> <br><span data-ttu-id="167dd-175">S40: 2048 GB</span><span class="sxs-lookup"><span data-stu-id="167dd-175">S40: 2048 GB</span></span><br><span data-ttu-id="167dd-176">S50: GB 4095</span><span class="sxs-lookup"><span data-stu-id="167dd-176">S50: 4095 GB</span></span>| 
| <span data-ttu-id="167dd-177">Maksymalna przepływność na dysk</span><span class="sxs-lookup"><span data-stu-id="167dd-177">Max Throughput per Disk</span></span> | <span data-ttu-id="167dd-178">250 MB/s</span><span class="sxs-lookup"><span data-stu-id="167dd-178">250 MB/s</span></span> | <span data-ttu-id="167dd-179">60 MB/s</span><span class="sxs-lookup"><span data-stu-id="167dd-179">60 MB/s</span></span> | 
| <span data-ttu-id="167dd-180">Maksymalna liczba operacji wejścia/wyjścia na dysk</span><span class="sxs-lookup"><span data-stu-id="167dd-180">Max IOPS per Disk</span></span> | <span data-ttu-id="167dd-181">7500 IOPS</span><span class="sxs-lookup"><span data-stu-id="167dd-181">7500 IOPS</span></span> | <span data-ttu-id="167dd-182">500 IOPS</span><span class="sxs-lookup"><span data-stu-id="167dd-182">500 IOPS</span></span> | 

