<span data-ttu-id="aa755-101">Jeśli maszyny wirtualnej (VM) na platformie Azure napotkał błąd podczas rozruchu lub dysk, może być konieczne tooperform kroki na powitania wirtualnego dysku twardego sam rozwiązywania problemów.</span><span class="sxs-lookup"><span data-stu-id="aa755-101">If your virtual machine (VM) in Azure encounters a boot or disk error, you may need tooperform troubleshooting steps on hello virtual hard disk itself.</span></span> <span data-ttu-id="aa755-102">Typowym przykładem jest aktualizację aplikacji, która uniemożliwia rozruch pomyślnie hello maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="aa755-102">A common example would be a failed application update that prevents hello VM from booting successfully.</span></span> <span data-ttu-id="aa755-103">W tym artykule opisano sposób toouse tooconnect portalu Azure toofix wirtualna tooanother Twojego wirtualnego dysku twardego wszelkie błędy i ponownie utwórz oryginalnego maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="aa755-103">This article describes how toouse Azure portal tooconnect your virtual hard disk tooanother VM toofix any errors and then re-create your original VM.</span></span>

## <a name="recovery-process-overview"></a><span data-ttu-id="aa755-104">Omówienie procesu odzyskiwania</span><span class="sxs-lookup"><span data-stu-id="aa755-104">Recovery process overview</span></span>
<span data-ttu-id="aa755-105">proces rozwiązywania problemów Hello jest następujący:</span><span class="sxs-lookup"><span data-stu-id="aa755-105">hello troubleshooting process is as follows:</span></span>

1. <span data-ttu-id="aa755-106">Usunąć hello maszynę Wirtualną, która napotyka problemy, ale zachować hello wirtualnych dysków twardych.</span><span class="sxs-lookup"><span data-stu-id="aa755-106">Delete hello VM that's encountering issues, but retain hello virtual hard disks.</span></span>
2. <span data-ttu-id="aa755-107">Dołączanie i instalacji hello tooanother wirtualnego dysku twardego maszyny Wirtualnej do rozwiązywania problemów.</span><span class="sxs-lookup"><span data-stu-id="aa755-107">Attach and mount hello virtual hard disk tooanother VM for troubleshooting.</span></span>
3. <span data-ttu-id="aa755-108">Połącz toohello Rozwiązywanie problemów z maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="aa755-108">Connect toohello troubleshooting VM.</span></span> <span data-ttu-id="aa755-109">Edytowanie plików lub uruchamianie narzędzi toofix błędy na oryginalny wirtualny dysk twardy hello.</span><span class="sxs-lookup"><span data-stu-id="aa755-109">Edit files or run tools toofix errors on hello original virtual hard disk.</span></span>
4. <span data-ttu-id="aa755-110">Odinstaluj obraz i odłączyć hello wirtualnego dysku twardego z hello Rozwiązywanie problemów z maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="aa755-110">Unmount and detach hello virtual hard disk from hello troubleshooting VM.</span></span>
5. <span data-ttu-id="aa755-111">Utwórz maszynę Wirtualną za pomocą oryginalny wirtualny dysk twardy hello.</span><span class="sxs-lookup"><span data-stu-id="aa755-111">Create a VM by using hello original virtual hard disk.</span></span>

## <a name="delete-hello-original-vm"></a><span data-ttu-id="aa755-112">Usuń hello oryginalna maszyna wirtualna</span><span class="sxs-lookup"><span data-stu-id="aa755-112">Delete hello original VM</span></span>
<span data-ttu-id="aa755-113">Wirtualne dyski twarde i maszyny wirtualne to dwa odrębne zasoby na platformie Azure.</span><span class="sxs-lookup"><span data-stu-id="aa755-113">Virtual hard disks and VMs are two distinct resources in Azure.</span></span> <span data-ttu-id="aa755-114">Wirtualny dysk twardy jest przechowywania hello systemu operacyjnego, aplikacje i konfiguracje.</span><span class="sxs-lookup"><span data-stu-id="aa755-114">A virtual hard disk is where hello operating system, applications, and configurations are stored.</span></span> <span data-ttu-id="aa755-115">Witaj maszyny Wirtualnej są tylko metadane definiujący rozmiar hello lub lokalizacji i który odwołuje się do zasobów, takich jak wirtualny dysk twardy lub sieć wirtualna karta sieciowa (NIC).</span><span class="sxs-lookup"><span data-stu-id="aa755-115">hello VM is just metadata that defines hello size or location and that references resources such as a virtual hard disk or virtual network interface card (NIC).</span></span> <span data-ttu-id="aa755-116">Każdy wirtualny dysk twardy pobiera dzierżawy, przypisać właściwości, gdy jest podłączone tooa maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="aa755-116">Each virtual hard disk gets a lease assigned when that disk is attached tooa VM.</span></span> <span data-ttu-id="aa755-117">Mimo że dysków z danymi można dołączone i odłączone nawet wtedy, gdy hello maszyna wirtualna jest uruchomiona, dysk systemu operacyjnego hello nie można odłączyć, chyba że hello zasobu maszyny Wirtualnej zostanie usunięta.</span><span class="sxs-lookup"><span data-stu-id="aa755-117">Although data disks can be attached and detached even while hello VM is running, hello OS disk cannot be detached unless hello VM resource is deleted.</span></span> <span data-ttu-id="aa755-118">dzierżawy Hello nadal tooa dysku systemu operacyjnego hello tooassociate maszyny Wirtualnej, nawet w przypadku tej maszyny Wirtualnej w stanie zatrzymania i deallocated.</span><span class="sxs-lookup"><span data-stu-id="aa755-118">hello lease continues tooassociate hello OS disk tooa VM even when that VM is in a stopped and deallocated state.</span></span>

<span data-ttu-id="aa755-119">pierwszy krok toorecovering Hello maszyny Wirtualnej jest zasobu maszyny Wirtualnej na powitania toodelete samej siebie.</span><span class="sxs-lookup"><span data-stu-id="aa755-119">hello first step toorecovering your VM is toodelete hello VM resource itself.</span></span> <span data-ttu-id="aa755-120">Usuwanie hello maszyny Wirtualnej pozostawia hello wirtualnych dysków twardych na koncie magazynu.</span><span class="sxs-lookup"><span data-stu-id="aa755-120">Deleting hello VM leaves hello virtual hard disks in your storage account.</span></span> <span data-ttu-id="aa755-121">Po hello usuwać maszyny Wirtualnej można dołączyć hello wirtualnego dysku twardego tooanother wirtualna tootroubleshoot i usuń błędy hello.</span><span class="sxs-lookup"><span data-stu-id="aa755-121">After hello VM is deleted, you can attach hello virtual hard disk tooanother VM tootroubleshoot and resolve hello errors.</span></span> 

1. <span data-ttu-id="aa755-122">Zaloguj się toohello [portalu Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="aa755-122">Sign in toohello [Azure portal](https://portal.azure.com).</span></span> 
2. <span data-ttu-id="aa755-123">Polecenie hello menu po lewej stronie powitania **maszyn wirtualnych (klasyczne)**.</span><span class="sxs-lookup"><span data-stu-id="aa755-123">On hello menu on hello left side, click **Virtual Machines (classic)**.</span></span>
3. <span data-ttu-id="aa755-124">Kliknij maszynę Wirtualną, która ma hello problem wybierz hello **dysków**, a następnie określ nazwę hello hello wirtualnego dysku twardego.</span><span class="sxs-lookup"><span data-stu-id="aa755-124">Select hello VM that has hello problem, click **Disks**, and then identify hello name of hello virtual hard disk.</span></span> 
4. <span data-ttu-id="aa755-125">Wybierz wirtualny dysk twardy hello systemu operacyjnego i sprawdzić hello **lokalizacji** konta magazynu hello tooidentify, który zawiera ten wirtualny dysk twardy.</span><span class="sxs-lookup"><span data-stu-id="aa755-125">Select hello OS virtual hard disk and check hello **Location** tooidentify hello storage account that contains that virtual hard disk.</span></span> <span data-ttu-id="aa755-126">W hello poniższy przykład, hello ciąg bezpośrednio przed wywołaniem ". blob.core.windows.net" jest nazwą konta magazynu hello.</span><span class="sxs-lookup"><span data-stu-id="aa755-126">In hello following example, hello string immediately before ".blob.core.windows.net" is hello storage account name.</span></span>

    ```
    https://portalvhds73fmhrw5xkp43.blob.core.windows.net/vhds/SCCM2012-2015-08-28.vhd
    ```

    ![Obraz powitania o lokalizację maszyny Wirtualnej](./media/virtual-machines-classic-recovery-disks-portal/vm-location.png)

5. <span data-ttu-id="aa755-128">Kliknij prawym przyciskiem myszy hello maszyny Wirtualnej, a następnie wybierz **usunąć**.</span><span class="sxs-lookup"><span data-stu-id="aa755-128">Right-click hello VM and then select **Delete**.</span></span> <span data-ttu-id="aa755-129">Upewnij się, hello dyski nie są wybrane po usunięciu hello maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="aa755-129">Make sure that hello disks are not selected when you delete hello VM.</span></span>
6. <span data-ttu-id="aa755-130">Utwórz nową maszynę wirtualną odzyskiwania.</span><span class="sxs-lookup"><span data-stu-id="aa755-130">Create a new recovery VM.</span></span> <span data-ttu-id="aa755-131">Ta maszyna wirtualna musi być w hello tego samego regionu i grupie zasobów (usługi w chmurze) jako problem hello maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="aa755-131">This VM must be in hello same region and resource group (Cloud Service) as hello problem VM.</span></span>
7. <span data-ttu-id="aa755-132">Wybierz hello odzyskiwania maszyny Wirtualnej, a następnie wybierz **dysków** > **dołączanie istniejącego**.</span><span class="sxs-lookup"><span data-stu-id="aa755-132">Select hello recovery VM, and then select **Disks** > **Attach Existing**.</span></span>
8. <span data-ttu-id="aa755-133">tooselect istniejącego wirtualnego dysku twardego, kliknij przycisk **pliku VHD**:</span><span class="sxs-lookup"><span data-stu-id="aa755-133">tooselect your existing virtual hard disk, click **VHD File**:</span></span>

    ![Przeglądnie w poszukiwaniu istniejącego dysku VHD](./media/virtual-machines-classic-recovery-disks-portal/select-vhd-location.png)

9. <span data-ttu-id="aa755-135">Wybierz konto magazynu hello > kontener wirtualnego dysku twardego > hello wirtualnego dysku twardego, kliknij przycisk hello **wybierz** przycisk tooconfirm wybór.</span><span class="sxs-lookup"><span data-stu-id="aa755-135">Select hello storage account > VHD container > hello virtual hard disk, click hello **Select** button tooconfirm your choice.</span></span>

    ![Wybieranie istniejącego wirtualnego dysku twardego](./media/virtual-machines-classic-recovery-disks-portal/select-vhd.png)

10. <span data-ttu-id="aa755-137">Teraz wybrać dysk VHD, wybierz polecenie **OK** tooattach hello istniejącego wirtualnego dysku twardego.</span><span class="sxs-lookup"><span data-stu-id="aa755-137">With your VHD now selected, select **OK** tooattach hello existing virtual hard disk.</span></span>
11. <span data-ttu-id="aa755-138">Po kilku sekundach hello **dysków** okienku dla maszyny Wirtualnej zostaną wyświetlone istniejącego wirtualnego dysku twardego połączenia jako dysk z danymi:</span><span class="sxs-lookup"><span data-stu-id="aa755-138">After a few seconds, hello **Disks** pane for your VM will display your existing virtual hard disk connected as a data disk:</span></span>

    ![Istniejący wirtualny dysk twardy dołączony jako dysk danych](./media/virtual-machines-classic-recovery-disks-portal/attached-disk.png)

## <a name="fix-issues-on-hello-original-virtual-hard-disk"></a><span data-ttu-id="aa755-140">Rozwiązywanie problemów na oryginalny wirtualny dysk twardy hello</span><span class="sxs-lookup"><span data-stu-id="aa755-140">Fix issues on hello original virtual hard disk</span></span>
<span data-ttu-id="aa755-141">W przypadku istniejącego wirtualnego dysku twardego hello jest zainstalowany, można teraz wykonywać żadnych konserwacji i kroki rozwiązywania problemów, zgodnie z potrzebami.</span><span class="sxs-lookup"><span data-stu-id="aa755-141">When hello existing virtual hard disk is mounted, you can now perform any maintenance and troubleshooting steps as needed.</span></span> <span data-ttu-id="aa755-142">Po ma problemu hello problemów, należy kontynuować hello następujące kroki.</span><span class="sxs-lookup"><span data-stu-id="aa755-142">Once you have addressed hello issues, continue with hello following steps.</span></span>

## <a name="unmount-and-detach-hello-original-virtual-hard-disk"></a><span data-ttu-id="aa755-143">Odinstaluj obraz i odłączyć oryginalny wirtualny dysk twardy hello</span><span class="sxs-lookup"><span data-stu-id="aa755-143">Unmount and detach hello original virtual hard disk</span></span>
<span data-ttu-id="aa755-144">Po rozwiązaniu wszelkie błędy, odinstaluj i odłączyć hello istniejącego wirtualnego dysku twardego z rozwiązywania problemów z maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="aa755-144">Once any errors are resolved, unmount and detach hello existing virtual hard disk from your troubleshooting VM.</span></span> <span data-ttu-id="aa755-145">Nie można użyć wirtualnego dysku twardego wraz z innych maszyn wirtualnych, do czasu zwolnienia dzierżawy hello, łączący toohello wirtualnego dysku twardego hello Rozwiązywanie problemów z maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="aa755-145">You cannot use your virtual hard disk together with any other VM until hello lease that attaches hello virtual hard disk toohello troubleshooting VM is released.</span></span>  

1. <span data-ttu-id="aa755-146">Zaloguj się toohello [portalu Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="aa755-146">Sign in toohello [Azure portal](https://portal.azure.com).</span></span> 
2. <span data-ttu-id="aa755-147">Witaj menu po lewej stronie powitania, wybierz **maszyn wirtualnych (klasyczne)**.</span><span class="sxs-lookup"><span data-stu-id="aa755-147">On hello menu on hello left side, select **Virtual Machines (classic)**.</span></span>
3. <span data-ttu-id="aa755-148">Zlokalizuj hello odzyskiwania maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="aa755-148">Locate hello recovery VM.</span></span> <span data-ttu-id="aa755-149">Wybierz dyski, dysku powitania kliknij prawym przyciskiem myszy, a następnie wybierz **Detach**.</span><span class="sxs-lookup"><span data-stu-id="aa755-149">Select Disks, right-click hello disk, and then select **Detach**.</span></span>

## <a name="create-a-vm-from-hello-original-hard-disk"></a><span data-ttu-id="aa755-150">Utwórz maszynę Wirtualną z hello oryginalny dysk twardy</span><span class="sxs-lookup"><span data-stu-id="aa755-150">Create a VM from hello original hard disk</span></span>

<span data-ttu-id="aa755-151">Użyj Maszynę wirtualną z oryginalnego wirtualnego dysku twardego, toocreate [klasycznego portalu Azure](https://manage.windowsazure.com).</span><span class="sxs-lookup"><span data-stu-id="aa755-151">toocreate a VM from your original virtual hard disk, use [Azure classic portal](https://manage.windowsazure.com).</span></span>

1. <span data-ttu-id="aa755-152">Zaloguj się do [klasycznej witryny Azure Portal](https://manage.windowsazure.com).</span><span class="sxs-lookup"><span data-stu-id="aa755-152">Sign into [Azure classic portal](https://manage.windowsazure.com).</span></span>
2. <span data-ttu-id="aa755-153">U dołu hello hello portalu, wybierz **nowy** > **obliczeniowe** > **maszyny wirtualnej** > **z galerii** .</span><span class="sxs-lookup"><span data-stu-id="aa755-153">At hello bottom of hello portal, select **New** > **Compute** > **Virtual Machine** > **From Gallery**.</span></span>
3. <span data-ttu-id="aa755-154">W hello **wybierz obraz** zaznacz **dysków**, a następnie wybierz hello oryginalny wirtualny dysk twardy.</span><span class="sxs-lookup"><span data-stu-id="aa755-154">In hello **Choose an Image** section, select **My disks**, and then select hello original virtual hard disk.</span></span> <span data-ttu-id="aa755-155">Sprawdź informacje o lokalizacji hello.</span><span class="sxs-lookup"><span data-stu-id="aa755-155">Check hello location information.</span></span> <span data-ttu-id="aa755-156">Jest to region hello musi wdrożonym hello maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="aa755-156">This is hello region where hello VM must be deployed.</span></span> <span data-ttu-id="aa755-157">Wybierz przycisk Dalej hello.</span><span class="sxs-lookup"><span data-stu-id="aa755-157">Select hello next button.</span></span>
4. <span data-ttu-id="aa755-158">W hello **konfiguracji maszyny wirtualnej** sekcji, wpisz nazwę maszyny Wirtualnej hello i wybierz rozmiar hello maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="aa755-158">In hello **Virtual machine configuration** section, type hello VM name and select a size for hello VM.</span></span>
