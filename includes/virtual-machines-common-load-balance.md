

<span data-ttu-id="5b9fd-101">Dostępne są dwa poziomy równoważenia obciążenia dla usług infrastruktury platformy Azure:</span><span class="sxs-lookup"><span data-stu-id="5b9fd-101">There are two levels of load balancing available for Azure infrastructure services:</span></span>

* <span data-ttu-id="5b9fd-102">**Poziom DNS**: równoważenia obciążenia dla usług w chmurze toodifferent ruchu znajduje się w różnych danych centrów, toodifferent witryn sieci Web Azure znajduje się w różnych centrach danych lub tooexternal punktów końcowych.</span><span class="sxs-lookup"><span data-stu-id="5b9fd-102">**DNS Level**:  Load balancing for traffic toodifferent cloud services located in different data centers, toodifferent Azure websites located in different data centers, or tooexternal endpoints.</span></span> <span data-ttu-id="5b9fd-103">Jest to realizowane z usługi Azure Traffic Manager i hello okrężnego metoda równoważenia obciążenia.</span><span class="sxs-lookup"><span data-stu-id="5b9fd-103">This is done with Azure Traffic Manager and hello Round Robin load balancing method.</span></span>
* <span data-ttu-id="5b9fd-104">**Sieci poziom**: równoważenie przychodzące Internet ruchu toodifferent maszyn wirtualnych usługi w chmurze, lub załadować równoważenie ruchu między maszynami wirtualnymi w sieci wirtualnej lub usługi w chmurze.</span><span class="sxs-lookup"><span data-stu-id="5b9fd-104">**Network Level**:  Load balancing of incoming Internet traffic toodifferent virtual machines of a cloud service, or load balancing of traffic between virtual machines in a cloud service or virtual network.</span></span> <span data-ttu-id="5b9fd-105">Można to zrobić z modułem równoważenia obciążenia Azure hello.</span><span class="sxs-lookup"><span data-stu-id="5b9fd-105">This is done with hello Azure load balancer.</span></span>

## <a name="traffic-manager-load-balancing-for-cloud-services-and-websites"></a><span data-ttu-id="5b9fd-106">Menedżer ruchu równoważenia obciążenia dla usług w chmurze i witryn sieci Web</span><span class="sxs-lookup"><span data-stu-id="5b9fd-106">Traffic Manager load balancing for cloud services and websites</span></span>
<span data-ttu-id="5b9fd-107">Menedżer ruchu umożliwia rozpowszechnianie hello toocontrol tooendpoints ruchu użytkownika, która może obejmować usługi w chmurze, witryn sieci Web, witryny zewnętrzne i innych profilów usługi Traffic Manager.</span><span class="sxs-lookup"><span data-stu-id="5b9fd-107">Traffic Manager allows you toocontrol hello distribution of user traffic tooendpoints, which can include cloud services, websites, external sites, and other Traffic Manager profiles.</span></span> <span data-ttu-id="5b9fd-108">Menedżer ruchu polega na stosowanie zasad inteligentnego aparatu tooDomain Name System (DNS) zapytania hello nazwy domen zasobów internetowych.</span><span class="sxs-lookup"><span data-stu-id="5b9fd-108">Traffic Manager works by applying an intelligent policy engine tooDomain Name System (DNS) queries for hello domain names of your Internet resources.</span></span> <span data-ttu-id="5b9fd-109">Z usługi w chmurze lub witryny sieci Web mogą być uruchomione w różnych centrach danych między hello world.</span><span class="sxs-lookup"><span data-stu-id="5b9fd-109">Your cloud services or websites can be running in different datacenters across hello world.</span></span>

<span data-ttu-id="5b9fd-110">Musisz użyć REST lub programu Windows PowerShell tooconfigure zewnętrzne punkty końcowe lub profilów usługi Traffic Manager jako punktów końcowych.</span><span class="sxs-lookup"><span data-stu-id="5b9fd-110">You must use either REST or Windows PowerShell tooconfigure external endpoints or Traffic Manager profiles as endpoints.</span></span>

<span data-ttu-id="5b9fd-111">Menedżer ruchu używa trzech równoważenia obciążenia ruchu toodistribute metod:</span><span class="sxs-lookup"><span data-stu-id="5b9fd-111">Traffic Manager uses three load-balancing methods toodistribute traffic:</span></span>

* <span data-ttu-id="5b9fd-112">**Tryb failover**: Użyj tej metody, gdy mają toouse podstawowy punkt końcowy dla całego ruchu, ale zawiera kopie zapasowe, w przypadku hello podstawowy jest niedostępny.</span><span class="sxs-lookup"><span data-stu-id="5b9fd-112">**Failover**:  Use this method when you want toouse a primary endpoint for all traffic, but provide backups in case hello primary becomes unavailable.</span></span>
* <span data-ttu-id="5b9fd-113">**Wydajność**: Użyj tej metody, gdy masz punktów końcowych w różnych lokalizacjach geograficznych i chcesz żądania klientów toouse hello "najbliższy" punktu końcowego pod względem hello można uzyskać najmniejsze opóźnienia.</span><span class="sxs-lookup"><span data-stu-id="5b9fd-113">**Performance**:  Use this method when you have endpoints in different geographic locations and you want requesting clients toouse hello "closest" endpoint in terms of hello lowest latency.</span></span>
* <span data-ttu-id="5b9fd-114">**Działanie okrężne:** tej metody należy użyć obciążenia toodistribute zestawu chmury usług w hello sam centrum danych lub usługi w chmurze lub witryny sieci Web w różnych centrach danych.</span><span class="sxs-lookup"><span data-stu-id="5b9fd-114">**Round Robin:**  Use this method when you want toodistribute load across a set of cloud services in hello same datacenter or across cloud services or websites in different datacenters.</span></span>

<span data-ttu-id="5b9fd-115">Aby uzyskać więcej informacji, zobacz [o ruchu Menedżera obciążenia równoważenia metody](../articles/traffic-manager/traffic-manager-routing-methods.md).</span><span class="sxs-lookup"><span data-stu-id="5b9fd-115">For more information, see [About Traffic Manager Load Balancing Methods](../articles/traffic-manager/traffic-manager-routing-methods.md).</span></span>

<span data-ttu-id="5b9fd-116">powitania po diagramie przedstawiono przykład hello okrężnego metoda równoważenia obciążenia dla Dystrybucja ruchu między usługami inną chmurę.</span><span class="sxs-lookup"><span data-stu-id="5b9fd-116">hello following diagram shows an example of hello Round Robin load balancing method for distributing traffic between different cloud services.</span></span>

![obciążenia](./media/virtual-machines-common-load-balance/TMSummary.png)

<span data-ttu-id="5b9fd-118">Witaj podstawowy proces przebiega hello następujące czynności:</span><span class="sxs-lookup"><span data-stu-id="5b9fd-118">hello basic process is hello following:</span></span>

1. <span data-ttu-id="5b9fd-119">Internet klient wysyła zapytanie do domeny nazwę odpowiedniego tooa usługi sieci web.</span><span class="sxs-lookup"><span data-stu-id="5b9fd-119">An Internet client queries a domain name corresponding tooa web service.</span></span>
2. <span data-ttu-id="5b9fd-120">DNS przekazuje hello nazwę zapytania żądania tooTraffic menedżera.</span><span class="sxs-lookup"><span data-stu-id="5b9fd-120">DNS forwards hello name query request tooTraffic Manager.</span></span>
3. <span data-ttu-id="5b9fd-121">Menedżera ruchu wybiera hello dalej usługi w chmurze w hello listy działanie okrężne i wysyła ponownie hello nazwy DNS.</span><span class="sxs-lookup"><span data-stu-id="5b9fd-121">Traffic Manager chooses hello next cloud service in hello Round Robin list and sends back hello DNS name.</span></span> <span data-ttu-id="5b9fd-122">Serwer DNS klienta internetowego Hello jest rozpoznawany jako adres IP tooan nazwa hello i wysyła je z klienta internetowego toohello.</span><span class="sxs-lookup"><span data-stu-id="5b9fd-122">hello Internet client's DNS server resolves hello name tooan IP address and sends it toohello Internet client.</span></span>
4. <span data-ttu-id="5b9fd-123">powitania klienta internetowego nawiązuje połączenie z usługą w chmurze hello wybierany przez Menedżera ruchu.</span><span class="sxs-lookup"><span data-stu-id="5b9fd-123">hello Internet client connects with hello cloud service chosen by Traffic Manager.</span></span>

<span data-ttu-id="5b9fd-124">Aby uzyskać więcej informacji, zobacz [Traffic Manager](../articles/traffic-manager/traffic-manager-overview.md).</span><span class="sxs-lookup"><span data-stu-id="5b9fd-124">For more information, see [Traffic Manager](../articles/traffic-manager/traffic-manager-overview.md).</span></span>

## <a name="azure-load-balancing-for-virtual-machines"></a><span data-ttu-id="5b9fd-125">Azure równoważenia obciążenia dla maszyn wirtualnych</span><span class="sxs-lookup"><span data-stu-id="5b9fd-125">Azure load balancing for virtual machines</span></span>
<span data-ttu-id="5b9fd-126">Maszyny wirtualne w hello tej samej usługi w chmurze lub sieci wirtualnej mogą komunikować się ze sobą bezpośrednio przy użyciu swoich prywatnych adresów IP.</span><span class="sxs-lookup"><span data-stu-id="5b9fd-126">Virtual machines in hello same cloud service or virtual network can communicate with each other directly using their private IP addresses.</span></span> <span data-ttu-id="5b9fd-127">Usługi w chmurze komputerom i usługom poza hello lub sieci wirtualnej mogą komunikować się tylko z maszynami wirtualnymi w sieci wirtualnej ze skonfigurowanego punktu końcowego lub usługi w chmurze.</span><span class="sxs-lookup"><span data-stu-id="5b9fd-127">Computers and services outside hello cloud service or virtual network can only communicate with virtual machines in a cloud service or virtual network with a configured endpoint.</span></span> <span data-ttu-id="5b9fd-128">Punkt końcowy jest mapowanie publicznego adresu IP i portu toothat prywatnego adresu IP i portu maszyny wirtualnej lub roli sieci web w ramach usługi w chmurze Azure.</span><span class="sxs-lookup"><span data-stu-id="5b9fd-128">An endpoint is a mapping of a public IP address and port toothat private IP address and port of a virtual machine or web role within an Azure cloud service.</span></span>

<span data-ttu-id="5b9fd-129">Hello Azure Load Balancer losowo dystrybuuje określonego typu ruchu przychodzącego wielu maszyn wirtualnych lub usług w konfiguracji, znany jako zestaw o zrównoważonym obciążeniu.</span><span class="sxs-lookup"><span data-stu-id="5b9fd-129">hello Azure Load Balancer randomly distributes a specific type of incoming traffic across multiple virtual machines or services in a configuration known as a load-balanced set.</span></span> <span data-ttu-id="5b9fd-130">Na przykład wielu serwerów sieci web lub role sieci web można rozmieścić hello obciążenia ruchu żądania sieci web.</span><span class="sxs-lookup"><span data-stu-id="5b9fd-130">For example, you can spread hello load of web request traffic across multiple web servers or web roles.</span></span>

<span data-ttu-id="5b9fd-131">Witaj Poniższy diagram przedstawia punktu końcowego równoważeniem obciążenia dla ruchu sieci web (niezaszyfrowany) standard, współużytkowany trzech maszyn wirtualnych do hello publiczne i prywatne port TCP 80.</span><span class="sxs-lookup"><span data-stu-id="5b9fd-131">hello following diagram shows a load-balanced endpoint for standard (unencrypted) web traffic that is shared among three virtual machines for hello public and private TCP port of 80.</span></span> <span data-ttu-id="5b9fd-132">Te trzy maszyny wirtualne są w zestawie o zrównoważonym obciążeniu.</span><span class="sxs-lookup"><span data-stu-id="5b9fd-132">These three virtual machines are in a load-balanced set.</span></span>

![obciążenia](./media/virtual-machines-common-load-balance/LoadBalancing.png)

<span data-ttu-id="5b9fd-134">Aby uzyskać więcej informacji, zobacz [modułu równoważenia obciążenia Azure](../articles/load-balancer/load-balancer-overview.md).</span><span class="sxs-lookup"><span data-stu-id="5b9fd-134">For more information, see [Azure Load Balancer](../articles/load-balancer/load-balancer-overview.md).</span></span> <span data-ttu-id="5b9fd-135">Aby hello kroki toocreate zestawu z równoważeniem obciążenia, zobacz [skonfigurować zestawu z równoważeniem obciążenia](../articles/load-balancer/load-balancer-get-started-internet-arm-ps.md).</span><span class="sxs-lookup"><span data-stu-id="5b9fd-135">For hello steps toocreate a load-balanced set, see [Configure a load-balanced set](../articles/load-balancer/load-balancer-get-started-internet-arm-ps.md).</span></span>

<span data-ttu-id="5b9fd-136">Azure można również zrównoważeniu nakładu w ramach usługi w chmurze lub sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="5b9fd-136">Azure can also load balance within a cloud service or virtual network.</span></span> <span data-ttu-id="5b9fd-137">Jest on znany jako równoważenia obciążenia wewnętrznego i mogą być używane w hello następujące sposoby:</span><span class="sxs-lookup"><span data-stu-id="5b9fd-137">This is known as internal load balancing and can be used in hello following ways:</span></span>

* <span data-ttu-id="5b9fd-138">tooload równowagi między serwerami w różnych warstwach wielowarstwową aplikację (na przykład między warstwami sieci web i bazy danych).</span><span class="sxs-lookup"><span data-stu-id="5b9fd-138">tooload balance between servers in different tiers of a multi-tier application (for example, between web and database tiers).</span></span>
* <span data-ttu-id="5b9fd-139">tooload saldo — biznesowych (LOB) aplikacje hostowane na platformie Azure, bez konieczności dodatkowego obciążenia równoważenia sprzętu lub oprogramowania.</span><span class="sxs-lookup"><span data-stu-id="5b9fd-139">tooload balance line-of-business (LOB) applications hosted in Azure without requiring additional load balancer hardware or software.</span></span>
* <span data-ttu-id="5b9fd-140">tooinclude serwery lokalne powitania zestawu komputerów, których ruch jest równoważone.</span><span class="sxs-lookup"><span data-stu-id="5b9fd-140">tooinclude on-premises servers in hello set of computers whose traffic is load balanced.</span></span>

<span data-ttu-id="5b9fd-141">Podobne tooAzure równoważenia obciążenia, wewnętrzny równoważenia obciążenia jest umożliwiają konfigurowanie wewnętrzny zestawu z równoważeniem obciążenia.</span><span class="sxs-lookup"><span data-stu-id="5b9fd-141">Similar tooAzure load balancing, internal load balancing is facilitated by configuring an internal load-balanced set.</span></span>

<span data-ttu-id="5b9fd-142">powitania po diagramie przedstawiono przykład wewnętrzny równoważeniem obciążenia punktu końcowego dla aplikacji biznesowych (LOB), współużytkowany trzech maszyn wirtualnych w sieci wirtualnej między lokalizacjami.</span><span class="sxs-lookup"><span data-stu-id="5b9fd-142">hello following diagram shows an example of an internal load-balanced endpoint for a line of business (LOB) application that is shared among three virtual machines in a cross-premises virtual network.</span></span>

![obciążenia](./media/virtual-machines-common-load-balance/LOBServers.png)

## <a name="load-balancer-considerations"></a><span data-ttu-id="5b9fd-144">Zagadnienia dotyczące usługi równoważenia obciążenia</span><span class="sxs-lookup"><span data-stu-id="5b9fd-144">Load balancer considerations</span></span>
<span data-ttu-id="5b9fd-145">Moduł równoważenia obciążenia jest domyślnie konfigurowana tootimeout jako 4 minut bezczynności sesji.</span><span class="sxs-lookup"><span data-stu-id="5b9fd-145">A load balancer is configured by default tootimeout an idle session in 4 minutes.</span></span> <span data-ttu-id="5b9fd-146">Jeśli nie ma konfiguracji Keep-Alive aplikacji za modułem równoważenia obciążenia pozostawia połączenie bezczynne przez więcej niż 4 minut, hello połączenia zostaną usunięte.</span><span class="sxs-lookup"><span data-stu-id="5b9fd-146">If your application behind a load balancer leaves a connection idle for more than 4 minutes and it doesn't have a Keep-Alive configuration, hello connection will be dropped.</span></span> <span data-ttu-id="5b9fd-147">Możesz zmienić tooallow zachowanie usługi równoważenia obciążenia hello [dłużej ustawienia limitu czasu dla usługi równoważenia obciążenia Azure](../articles/load-balancer/load-balancer-tcp-idle-timeout.md).</span><span class="sxs-lookup"><span data-stu-id="5b9fd-147">You can change hello load balancer behavior tooallow a [longer timeout setting for Azure load balancer](../articles/load-balancer/load-balancer-tcp-idle-timeout.md).</span></span>

<span data-ttu-id="5b9fd-148">Inne zagadnieniem jest typ hello trybu dystrybucji obsługiwanych przez usługi równoważenia obciążenia Azure.</span><span class="sxs-lookup"><span data-stu-id="5b9fd-148">Other consideration is hello type of distribution mode supported by Azure Load Balancer.</span></span> <span data-ttu-id="5b9fd-149">Można skonfigurować koligację IP źródła (źródłowy adres IP, docelowy adres IP) lub protokołu IP źródła (źródłowy adres IP, docelowy adres IP i protocol).</span><span class="sxs-lookup"><span data-stu-id="5b9fd-149">You can configure source IP affinity (source IP, destination IP) or source IP protocol (source IP , destination IP and protocol).</span></span> <span data-ttu-id="5b9fd-150">Zapoznaj się z [tryb dystrybucji modułu równoważenia obciążenia Azure (źródłowego adresu IP koligacja)](../articles/load-balancer/load-balancer-distribution-mode.md) Aby uzyskać więcej informacji.</span><span class="sxs-lookup"><span data-stu-id="5b9fd-150">Check out [Azure Load Balancer distribution mode (source IP affinity)](../articles/load-balancer/load-balancer-distribution-mode.md) for more information.</span></span>

## <a name="next-steps"></a><span data-ttu-id="5b9fd-151">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="5b9fd-151">Next steps</span></span>
<span data-ttu-id="5b9fd-152">Aby hello kroki toocreate zestawu z równoważeniem obciążenia, zobacz [skonfigurować wewnętrzny zestawu z równoważeniem obciążenia](../articles/load-balancer/load-balancer-get-started-ilb-arm-ps.md).</span><span class="sxs-lookup"><span data-stu-id="5b9fd-152">For hello steps toocreate a load-balanced set, see [Configure an internal load-balanced set](../articles/load-balancer/load-balancer-get-started-ilb-arm-ps.md).</span></span>

<span data-ttu-id="5b9fd-153">Aby uzyskać więcej informacji na temat usługi równoważenia obciążenia, zobacz [równoważenia obciążenia wewnętrznego](../articles/load-balancer/load-balancer-internal-overview.md).</span><span class="sxs-lookup"><span data-stu-id="5b9fd-153">For more information about load balancer, see [Internal load balancing](../articles/load-balancer/load-balancer-internal-overview.md).</span></span>

