
<span data-ttu-id="a463d-101">Jeśli problem Azure nie jest opisany w tym artykule, odwiedź [Azure fora MSDN i przepełnienie stosu](https://azure.microsoft.com/support/forums/).</span><span class="sxs-lookup"><span data-stu-id="a463d-101">If your Azure issue is not addressed in this article, visit the [Azure forums on MSDN and Stack Overflow](https://azure.microsoft.com/support/forums/).</span></span> <span data-ttu-id="a463d-102">Możesz zamieścić problemu na tych fora lub do @AzureSupport w serwisie Twitter.</span><span class="sxs-lookup"><span data-stu-id="a463d-102">You can post your issue on these forums or to @AzureSupport on Twitter.</span></span> <span data-ttu-id="a463d-103">Ponadto można pliku żądania pomocy technicznej platformy Azure, wybierając **uzyskać pomoc techniczną** na [pomocy technicznej platformy Azure](https://azure.microsoft.com/support/options/) lokacji.</span><span class="sxs-lookup"><span data-stu-id="a463d-103">Also, you can file an Azure support request by selecting **Get support** on the [Azure support](https://azure.microsoft.com/support/options/) site.</span></span>

## <a name="general-troubleshooting-steps"></a><span data-ttu-id="a463d-104">Ogólne kroki rozwiązywania problemów</span><span class="sxs-lookup"><span data-stu-id="a463d-104">General troubleshooting steps</span></span>
### <a name="troubleshoot-common-allocation-failures-in-the-classic-deployment-model"></a><span data-ttu-id="a463d-105">Rozwiązywanie problemów z typowych błędów alokacji w klasycznym modelu wdrażania</span><span class="sxs-lookup"><span data-stu-id="a463d-105">Troubleshoot common allocation failures in the classic deployment model</span></span>
<span data-ttu-id="a463d-106">Te czynności może pomóc rozwiązać wiele błędów alokacji w przypadku maszyn wirtualnych:</span><span class="sxs-lookup"><span data-stu-id="a463d-106">These steps can help resolve many allocation failures in virtual machines:</span></span>

* <span data-ttu-id="a463d-107">Zmień rozmiar maszyny Wirtualnej do innego rozmiaru maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="a463d-107">Resize the VM to a different VM size.</span></span><br>
    <span data-ttu-id="a463d-108">Kliknij przycisk **Przeglądaj wszystkie** > **maszyn wirtualnych (klasyczne)** > maszyny wirtualnej > **ustawienia** > **rozmiar**.</span><span class="sxs-lookup"><span data-stu-id="a463d-108">Click **Browse all** > **Virtual machines (classic)** > your virtual machine > **Settings** > **Size**.</span></span> <span data-ttu-id="a463d-109">Aby uzyskać szczegółowe instrukcje, zobacz [zmienić rozmiaru maszyny wirtualnej](https://msdn.microsoft.com/library/dn168976.aspx).</span><span class="sxs-lookup"><span data-stu-id="a463d-109">For detailed steps, see [Resize the virtual machine](https://msdn.microsoft.com/library/dn168976.aspx).</span></span>
* <span data-ttu-id="a463d-110">Usunięcie wszystkich maszyn wirtualnych z usługi w chmurze i ponowne utworzenie maszyn wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="a463d-110">Delete all VMs from the cloud service and re-create VMs.</span></span><br>
    <span data-ttu-id="a463d-111">Kliknij przycisk **Przeglądaj wszystkie** > **maszyn wirtualnych (klasyczne)** > maszyny wirtualnej > **usunąć**.</span><span class="sxs-lookup"><span data-stu-id="a463d-111">Click **Browse all** > **Virtual machines (classic)** > your virtual machine > **Delete**.</span></span> <span data-ttu-id="a463d-112">Następnie kliknij przycisk **nowy** > **obliczeniowe** > [Obraz maszyny wirtualnej].</span><span class="sxs-lookup"><span data-stu-id="a463d-112">Then, click **New** > **Compute** > [virtual machine image].</span></span>

### <a name="troubleshoot-common-allocation-failures-in-the-azure-resource-manager-deployment-model"></a><span data-ttu-id="a463d-113">Rozwiązywanie problemów z typowych błędów alokacji w modelu wdrażania usługi Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="a463d-113">Troubleshoot common allocation failures in the Azure Resource Manager deployment model</span></span>
<span data-ttu-id="a463d-114">Te czynności może pomóc rozwiązać wiele błędów alokacji w przypadku maszyn wirtualnych:</span><span class="sxs-lookup"><span data-stu-id="a463d-114">These steps can help resolve many allocation failures in virtual machines:</span></span>

* <span data-ttu-id="a463d-115">Zatrzymaj (deallocate) wszystkich maszyn wirtualnych w tym samym dostępności ustawiona, a następnie uruchom ponownie każdej z nich.</span><span class="sxs-lookup"><span data-stu-id="a463d-115">Stop (deallocate) all VMs in the same availability set, then restart each one.</span></span><br>
    <span data-ttu-id="a463d-116">Aby zatrzymać: kliknij **grup zasobów** > grupy zasobów > **zasobów** > zestawu dostępności > **maszyn wirtualnych** > maszyny wirtualnej >  **Zatrzymaj**.</span><span class="sxs-lookup"><span data-stu-id="a463d-116">To stop: Click **Resource groups** > your resource group > **Resources** > your availability set > **Virtual Machines** > your virtual machine > **Stop**.</span></span>
  
    <span data-ttu-id="a463d-117">Po wszystkich maszyn wirtualnych, Zatrzymaj, wybierz pierwsza maszyna wirtualna i kliknij przycisk **Start**.</span><span class="sxs-lookup"><span data-stu-id="a463d-117">After all VMs stop, select the first VM and click **Start**.</span></span>

## <a name="background-information"></a><span data-ttu-id="a463d-118">Informacje uzupełniające</span><span class="sxs-lookup"><span data-stu-id="a463d-118">Background information</span></span>
### <a name="how-allocation-works"></a><span data-ttu-id="a463d-119">Jak działa alokacji</span><span class="sxs-lookup"><span data-stu-id="a463d-119">How allocation works</span></span>
<span data-ttu-id="a463d-120">Serwery w centrach danych platformy Azure są dzielone w klastrach.</span><span class="sxs-lookup"><span data-stu-id="a463d-120">The servers in Azure datacenters are partitioned into clusters.</span></span> <span data-ttu-id="a463d-121">Zwykle żądanie alokacji nastąpiła w wielu klastrach, ale istnieje możliwość, że niektóre ograniczenia na podstawie żądań alokacji wymusić platformy Azure prób żądania w tylko jednym klastrze.</span><span class="sxs-lookup"><span data-stu-id="a463d-121">Normally, an allocation request is attempted in multiple clusters, but it's possible that certain constraints from the allocation request force the Azure platform to attempt the request in only one cluster.</span></span> <span data-ttu-id="a463d-122">W tym artykule firma Microsoft będzie odwoływać się do to jako "przypięty do klastra".</span><span class="sxs-lookup"><span data-stu-id="a463d-122">In this article, we'll refer to this as "pinned to a cluster."</span></span> <span data-ttu-id="a463d-123">Poniższy diagram 1 przedstawiono w przypadku normalnych alokacji, który zostanie użyty w wielu klastrach.</span><span class="sxs-lookup"><span data-stu-id="a463d-123">Diagram 1 below illustrates the case of a normal allocation that is attempted in multiple clusters.</span></span> <span data-ttu-id="a463d-124">Diagram 2 przedstawia to alokacji który zawiera przypięta do klastra 2, ponieważ jest to, gdzie jest hostowana istniejącego zestawu CS_1 usługi w chmurze lub dostępności.</span><span class="sxs-lookup"><span data-stu-id="a463d-124">Diagram 2 illustrates the case of an allocation that's pinned to Cluster 2 because that's where the existing Cloud Service CS_1 or availability set is hosted.</span></span>
<span data-ttu-id="a463d-125">![Diagram alokacji](./media/virtual-machines-common-allocation-failure/Allocation1.png)</span><span class="sxs-lookup"><span data-stu-id="a463d-125">![Allocation Diagram](./media/virtual-machines-common-allocation-failure/Allocation1.png)</span></span>

### <a name="why-allocation-failures-happen"></a><span data-ttu-id="a463d-126">Dlaczego stanie błędów alokacji</span><span class="sxs-lookup"><span data-stu-id="a463d-126">Why allocation failures happen</span></span>
<span data-ttu-id="a463d-127">Żądanie alokacji jest przypięta do klastra, ma wyższy stopień można znaleźć zwolnić zasoby, ponieważ pula zasobów dostępny jest mniejszy.</span><span class="sxs-lookup"><span data-stu-id="a463d-127">When an allocation request is pinned to a cluster, there's a higher chance of failing to find free resources since the available resource pool is smaller.</span></span> <span data-ttu-id="a463d-128">Ponadto jeśli żądanie alokacji jest przypięta do klastra, ale typ zasobu, która miała nie jest obsługiwany przez ten klaster, żądanie zakończy się niepowodzeniem nawet w przypadku klastra z bezpłatnych zasobów.</span><span class="sxs-lookup"><span data-stu-id="a463d-128">Furthermore, if your allocation request is pinned to a cluster but the type of resource you requested is not supported by that cluster, your request will fail even if the cluster has free resources.</span></span> <span data-ttu-id="a463d-129">Poniższy diagram 3 ilustruje przypadek, w których alokacji przypiętych nie powiedzie się, ponieważ klaster tylko kandydujące nie ma zwolnić zasoby.</span><span class="sxs-lookup"><span data-stu-id="a463d-129">Diagram 3 below illustrates the case where a pinned allocation fails because the only candidate cluster does not have free resources.</span></span> <span data-ttu-id="a463d-130">Diagram 4 przedstawia przypadek, w którym przypiętych alokacji nie działa, ponieważ klastra tylko kandydata nie obsługuje żądany rozmiar maszyny Wirtualnej, nawet jeśli klaster ma zwolnić zasoby.</span><span class="sxs-lookup"><span data-stu-id="a463d-130">Diagram 4 illustrates the case where a pinned allocation fails because the only candidate cluster does not support the requested VM size, even though the cluster has free resources.</span></span>

![Błąd alokacji przypiętych](./media/virtual-machines-common-allocation-failure/Allocation2.png)

## <a name="detailed-troubleshoot-steps-specific-allocation-failure-scenarios-in-the-classic-deployment-model"></a><span data-ttu-id="a463d-132">Szczegółowe Rozwiązywanie problemów z scenariuszy awarii alokacji określonych czynności w klasycznym modelu wdrażania</span><span class="sxs-lookup"><span data-stu-id="a463d-132">Detailed troubleshoot steps specific allocation failure scenarios in the classic deployment model</span></span>
<span data-ttu-id="a463d-133">Poniżej przedstawiono typowe scenariusze alokacji, które powodują żądanie alokacji przypięty.</span><span class="sxs-lookup"><span data-stu-id="a463d-133">Here are common allocation scenarios that cause an allocation request to be pinned.</span></span> <span data-ttu-id="a463d-134">Firma Microsoft będzie Poznaj każdego scenariusza w dalszej części tego artykułu.</span><span class="sxs-lookup"><span data-stu-id="a463d-134">We'll dive into each scenario later in this article.</span></span>

* <span data-ttu-id="a463d-135">Zmień rozmiar maszyny Wirtualnej lub Dodaj maszyny wirtualne lub wystąpień roli do istniejącej usługi w chmurze</span><span class="sxs-lookup"><span data-stu-id="a463d-135">Resize a VM or add VMs or role instances to an existing cloud service</span></span>
* <span data-ttu-id="a463d-136">Uruchom ponownie częściowo zatrzymania maszyny wirtualnej (cofnięciu przydziału)</span><span class="sxs-lookup"><span data-stu-id="a463d-136">Restart partially stopped (deallocated) VMs</span></span>
* <span data-ttu-id="a463d-137">Uruchom ponownie pełni zatrzymania maszyny wirtualnej (cofnięciu przydziału)</span><span class="sxs-lookup"><span data-stu-id="a463d-137">Restart fully stopped (deallocated) VMs</span></span>
* <span data-ttu-id="a463d-138">Wdrożeń przemieszczania/produkcyjnych (platforma jako usługa tylko)</span><span class="sxs-lookup"><span data-stu-id="a463d-138">Staging/production deployments (platform as a service only)</span></span>
* <span data-ttu-id="a463d-139">Grupa koligacji (zbliżeniowe maszyny Wirtualnej lub usługi)</span><span class="sxs-lookup"><span data-stu-id="a463d-139">Affinity group (VM/service proximity)</span></span>
* <span data-ttu-id="a463d-140">Oparte na grupach koligacji sieci wirtualnej</span><span class="sxs-lookup"><span data-stu-id="a463d-140">Affinity-group-based virtual network</span></span>

<span data-ttu-id="a463d-141">Gdy zostanie wyświetlony błąd alokacji, zobacz, jeśli dowolny z opisanych scenariuszy dotyczy ten błąd.</span><span class="sxs-lookup"><span data-stu-id="a463d-141">When you receive an allocation error, see if any of the scenarios described apply to your error.</span></span> <span data-ttu-id="a463d-142">Błąd alokacji zwrócony przez platformę Azure umożliwia zidentyfikowanie odpowiednim scenariuszem.</span><span class="sxs-lookup"><span data-stu-id="a463d-142">Use the allocation error returned by the Azure platform to identify the corresponding scenario.</span></span> <span data-ttu-id="a463d-143">Jeśli żądanie jest przypięty, usuń niektóre przypinania ograniczenia, aby otworzyć żądania do klastrów więcej, co zwiększa prawdopodobieństwo pomyślnego alokacji.</span><span class="sxs-lookup"><span data-stu-id="a463d-143">If your request is pinned, remove some of the pinning constraints to open your request to more clusters, thereby increasing the chance of allocation success.</span></span>

<span data-ttu-id="a463d-144">Ogólnie rzecz biorąc tak długo, jak błąd nie wskazuje "żądany rozmiar maszyny Wirtualnej nie jest obsługiwane", możesz zawsze ponowić w późniejszym czasie, jak mała liczba zasobów został zwolniony w klastrze, aby obsłużyć żądanie.</span><span class="sxs-lookup"><span data-stu-id="a463d-144">In general, as long as the error does not indicate "the requested VM size is not supported," you can always retry at a later time, as enough resources may have been freed in the cluster to accommodate your request.</span></span> <span data-ttu-id="a463d-145">Jeśli problem nie zostanie żądany rozmiar maszyny Wirtualnej nie jest obsługiwana, spróbuj inny rozmiar maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="a463d-145">If the problem is that the requested VM size is not supported, try a different VM size.</span></span> <span data-ttu-id="a463d-146">W przeciwnym razie jedyną opcją jest usunięcie przypinania ograniczenia.</span><span class="sxs-lookup"><span data-stu-id="a463d-146">Otherwise, the only option is to remove the pinning constraint.</span></span>

<span data-ttu-id="a463d-147">Dwie typowe scenariusze niepowodzenia są związane z grup koligacji.</span><span class="sxs-lookup"><span data-stu-id="a463d-147">Two common failure scenarios are related to affinity groups.</span></span> <span data-ttu-id="a463d-148">W przeszłości użyto grupy koligacji zapewnienie pobliżu wystąpień maszyn wirtualnych/usługi lub użyto w celu umożliwienia utworzenia sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="a463d-148">In the past, an affinity group was used to provide close proximity to VMs/service instances, or it was used to enable the creation of a virtual network.</span></span> <span data-ttu-id="a463d-149">Wraz z wprowadzeniem regionalnych sieci wirtualnych grup koligacji nie są wymagane do utworzenia sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="a463d-149">With the introduction of regional virtual networks, affinity groups are no longer required to create a virtual network.</span></span> <span data-ttu-id="a463d-150">Zmniejszeniu opóźnienia sieci w infrastrukturze Azure zalecenie, aby użyć grup koligacji dla maszyny Wirtualnej lub usługi zbliżeniowe została zmieniona.</span><span class="sxs-lookup"><span data-stu-id="a463d-150">With the reduction of network latency in Azure infrastructure, the recommendation to use affinity groups for VM/service proximity has changed.</span></span>

<span data-ttu-id="a463d-151">Rysunek 5 poniżej przedstawia taksonomii w scenariuszach alokacji (przypiętych).</span><span class="sxs-lookup"><span data-stu-id="a463d-151">Diagram 5 below presents the taxonomy of the (pinned) allocation scenarios.</span></span>
<span data-ttu-id="a463d-152">![Taksonomii przypiętych alokacji](./media/virtual-machines-common-allocation-failure/Allocation3.png)</span><span class="sxs-lookup"><span data-stu-id="a463d-152">![Pinned Allocation Taxonomy](./media/virtual-machines-common-allocation-failure/Allocation3.png)</span></span>

> [!NOTE]
> <span data-ttu-id="a463d-153">Błąd na liście każdego scenariusza alokacji jest krótkich fragmentów.</span><span class="sxs-lookup"><span data-stu-id="a463d-153">The error listed in each allocation scenario is a short form.</span></span> <span data-ttu-id="a463d-154">Zapoznaj się [błąd ciąg wyszukiwania](#Error string lookup) dla ciągów szczegółowe informacje o błędzie.</span><span class="sxs-lookup"><span data-stu-id="a463d-154">Refer to the [Error string lookup](#Error string lookup) for detailed error strings.</span></span>
> 
> 

## <a name="allocation-scenario-resize-a-vm-or-add-vms-or-role-instances-to-an-existing-cloud-service"></a><span data-ttu-id="a463d-155">Alokacja scenariusz: zmiana rozmiaru maszyny Wirtualnej lub Dodaj maszyny wirtualne lub wystąpień roli do istniejącej usługi w chmurze</span><span class="sxs-lookup"><span data-stu-id="a463d-155">Allocation scenario: Resize a VM or add VMs or role instances to an existing cloud service</span></span>
<span data-ttu-id="a463d-156">**Błąd**</span><span class="sxs-lookup"><span data-stu-id="a463d-156">**Error**</span></span>

<span data-ttu-id="a463d-157">Upgrade_VMSizeNotSupported lub GeneralError</span><span class="sxs-lookup"><span data-stu-id="a463d-157">Upgrade_VMSizeNotSupported or GeneralError</span></span>

<span data-ttu-id="a463d-158">**Przyczyną przypinanie klastra**</span><span class="sxs-lookup"><span data-stu-id="a463d-158">**Cause of cluster pinning**</span></span>

<span data-ttu-id="a463d-159">Żądanie, aby zmienić rozmiar maszyny Wirtualnej lub dodać do istniejącej usługi w chmurze maszyny Wirtualnej lub wystąpienia roli musi podjąć w oryginalnym klastrze obsługującego istniejącą usługę w chmurze.</span><span class="sxs-lookup"><span data-stu-id="a463d-159">A request to resize a VM or add a VM or a role instance to an existing cloud service has to be attempted at the original cluster that hosts the existing cloud service.</span></span> <span data-ttu-id="a463d-160">Tworzenie nowej usługi w chmurze pozwala platformy Azure znaleźć innego klastra lub obsługuje rozmiar maszyny Wirtualnej, którego zażądano zwolnić zasoby.</span><span class="sxs-lookup"><span data-stu-id="a463d-160">Creating a new cloud service allows the Azure platform to find another cluster that has free resources or supports the VM size that you requested.</span></span>

<span data-ttu-id="a463d-161">**Obejście problemu**</span><span class="sxs-lookup"><span data-stu-id="a463d-161">**Workaround**</span></span>

<span data-ttu-id="a463d-162">Jeśli błąd Upgrade_VMSizeNotSupported *, spróbuj zmienić rozmiar maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="a463d-162">If the error is Upgrade_VMSizeNotSupported*, try a different VM size.</span></span> <span data-ttu-id="a463d-163">Jeśli przy użyciu innego rozmiaru maszyny Wirtualnej nie ma możliwości użycia, ale można użyć różnych wirtualnego adresu IP (VIP), należy utworzyć nową usługę w chmurze do obsługi nowej maszyny Wirtualnej, a następnie dodaj nową usługę w chmurze do regionalną sieć wirtualną, której istniejące maszyny wirtualne są uruchomione.</span><span class="sxs-lookup"><span data-stu-id="a463d-163">If using a different VM size is not an option, but if it's acceptable to use a different virtual IP address (VIP), create a new cloud service to host the new VM and add the new cloud service to the regional virtual network where the existing VMs are running.</span></span> <span data-ttu-id="a463d-164">Użycie istniejącej usługi w chmurze nie regionalną sieć wirtualną, możesz utworzyć nową sieć wirtualną dla nowej usługi w chmurze, a następnie połącz z [istniejącej sieci wirtualnej do nowej sieci wirtualnej](https://azure.microsoft.com/blog/vnet-to-vnet-connecting-virtual-networks-in-azure-across-different-regions/).</span><span class="sxs-lookup"><span data-stu-id="a463d-164">If your existing cloud service does not use a regional virtual network, you can still create a new virtual network for the new cloud service, and then connect your [existing virtual network to the new virtual network](https://azure.microsoft.com/blog/vnet-to-vnet-connecting-virtual-networks-in-azure-across-different-regions/).</span></span> <span data-ttu-id="a463d-165">Zobacz więcej informacji [regionalnych sieci wirtualnych](https://azure.microsoft.com/blog/2014/05/14/regional-virtual-networks/).</span><span class="sxs-lookup"><span data-stu-id="a463d-165">See more about [regional virtual networks](https://azure.microsoft.com/blog/2014/05/14/regional-virtual-networks/).</span></span>

<span data-ttu-id="a463d-166">Jeśli błąd jest GeneralError *, jest prawdopodobne, że typ zasobu (np. dla określonego rozmiaru maszyny Wirtualnej) jest obsługiwana przez klaster, ale klaster nie ma wolnego zasobów w tej chwili.</span><span class="sxs-lookup"><span data-stu-id="a463d-166">If the error is GeneralError*, it's likely that the type of resource (such as a particular VM size) is supported by the cluster, but the cluster does not have free resources at the moment.</span></span> <span data-ttu-id="a463d-167">Podobny scenariusz powyżej, Dodaj zasób obliczeniowy żądany przez proces tworzenia nowej usługi w chmurze (Zauważ, że nowa usługa w chmurze ma używać innego adresu VIP) i połączenia usługi w chmurze przy użyciu regionalną sieć wirtualną.</span><span class="sxs-lookup"><span data-stu-id="a463d-167">Similar to the above scenario, add the desired compute resource through creating a new cloud service (note that the new cloud service has to use a different VIP) and use a regional virtual network to connect your cloud services.</span></span>

## <a name="allocation-scenario-restart-partially-stopped-deallocated-vms"></a><span data-ttu-id="a463d-168">Scenariusz alokacji: ponowne uruchomienie częściowo zatrzymano (cofnięciu przydziału) maszyn wirtualnych</span><span class="sxs-lookup"><span data-stu-id="a463d-168">Allocation scenario: Restart partially stopped (deallocated) VMs</span></span>
<span data-ttu-id="a463d-169">**Błąd**</span><span class="sxs-lookup"><span data-stu-id="a463d-169">**Error**</span></span>

<span data-ttu-id="a463d-170">GeneralError *</span><span class="sxs-lookup"><span data-stu-id="a463d-170">GeneralError*</span></span>

<span data-ttu-id="a463d-171">**Przyczyną przypinanie klastra**</span><span class="sxs-lookup"><span data-stu-id="a463d-171">**Cause of cluster pinning**</span></span>

<span data-ttu-id="a463d-172">Częściowe dezalokacji oznacza, że zatrzymane (cofnięciu przydziału) jeden lub więcej, ale nie wszystkich maszyn wirtualnych w usłudze w chmurze.</span><span class="sxs-lookup"><span data-stu-id="a463d-172">Partial deallocation means that you stopped (deallocated) one or more, but not all, VMs in a cloud service.</span></span> <span data-ttu-id="a463d-173">Po zatrzymaniu (deallocate) na maszynie Wirtualnej, są wydawane skojarzonych zasobów.</span><span class="sxs-lookup"><span data-stu-id="a463d-173">When you stop (deallocate) a VM, the associated resources are released.</span></span> <span data-ttu-id="a463d-174">Ponowne uruchomienie tego zatrzymanej maszyny Wirtualnej (cofnięciu przydziału) w związku z tym jest nowe żądanie alokacji.</span><span class="sxs-lookup"><span data-stu-id="a463d-174">Restarting that stopped (deallocated) VM is therefore a new allocation request.</span></span> <span data-ttu-id="a463d-175">Ponowne uruchamianie maszyn wirtualnych w usłudze w chmurze częściowo deallocated jest odpowiednikiem Dodawanie maszyn wirtualnych do istniejącej usługi w chmurze.</span><span class="sxs-lookup"><span data-stu-id="a463d-175">Restarting VMs in a partially deallocated cloud service is equivalent to adding VMs to an existing cloud service.</span></span> <span data-ttu-id="a463d-176">Żądanie alokacji musi podjąć w oryginalnym klastrze obsługującego istniejącą usługę w chmurze.</span><span class="sxs-lookup"><span data-stu-id="a463d-176">The allocation request has to be attempted at the original cluster that hosts the existing cloud service.</span></span> <span data-ttu-id="a463d-177">Trwa tworzenie innej usługi chmury umożliwia platformy Azure znaleźć innego klastra, który bezpłatnego zasobu lub obsługuje rozmiar maszyny Wirtualnej, którego zażądano.</span><span class="sxs-lookup"><span data-stu-id="a463d-177">Creating a different cloud service allows the Azure platform to find another cluster that has free resource or supports the VM size that you requested.</span></span>

<span data-ttu-id="a463d-178">**Obejście problemu**</span><span class="sxs-lookup"><span data-stu-id="a463d-178">**Workaround**</span></span>

<span data-ttu-id="a463d-179">Jeśli można użyć różnych adresów VIP, Usuń zatrzymania maszyny wirtualnej (cofnięciu przydziału) (ale zachować skojarzone dyski) i dodać ponownie za pomocą innej usługi chmury maszyn wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="a463d-179">If it's acceptable to use a different VIP, delete the stopped (deallocated) VMs (but keep the associated disks) and add the VMs back through a different cloud service.</span></span> <span data-ttu-id="a463d-180">Użyj regionalną sieć wirtualną do połączenia usługi w chmurze:</span><span class="sxs-lookup"><span data-stu-id="a463d-180">Use a regional virtual network to connect your cloud services:</span></span>

* <span data-ttu-id="a463d-181">Jeśli istniejącą usługę w chmurze używa regionalną sieć wirtualną, po prostu Dodaj nową usługę w chmurze do tej samej sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="a463d-181">If your existing cloud service uses a regional virtual network, simply add the new cloud service to the same virtual network.</span></span>
* <span data-ttu-id="a463d-182">Użycie istniejącej usługi w chmurze nie regionalną sieć wirtualną, Utwórz nową sieć wirtualną dla nowej usługi w chmurze, a następnie [połączyć istniejącej sieci wirtualnej do nowej sieci wirtualnej](https://azure.microsoft.com/blog/vnet-to-vnet-connecting-virtual-networks-in-azure-across-different-regions/).</span><span class="sxs-lookup"><span data-stu-id="a463d-182">If your existing cloud service does not use a regional virtual network, create a new virtual network for the new cloud service, and then [connect your existing virtual network to the new virtual network](https://azure.microsoft.com/blog/vnet-to-vnet-connecting-virtual-networks-in-azure-across-different-regions/).</span></span> <span data-ttu-id="a463d-183">Zobacz więcej informacji [regionalnych sieci wirtualnych](https://azure.microsoft.com/blog/2014/05/14/regional-virtual-networks/).</span><span class="sxs-lookup"><span data-stu-id="a463d-183">See more about [regional virtual networks](https://azure.microsoft.com/blog/2014/05/14/regional-virtual-networks/).</span></span>

## <a name="allocation-scenario-restart-fully-stopped-deallocated-vms"></a><span data-ttu-id="a463d-184">Scenariusz alokacji: ponowne uruchomienie całkowicie zatrzymana (cofnięciu przydziału) maszyn wirtualnych</span><span class="sxs-lookup"><span data-stu-id="a463d-184">Allocation scenario: Restart fully stopped (deallocated) VMs</span></span>
<span data-ttu-id="a463d-185">**Błąd**</span><span class="sxs-lookup"><span data-stu-id="a463d-185">**Error**</span></span>

<span data-ttu-id="a463d-186">GeneralError *</span><span class="sxs-lookup"><span data-stu-id="a463d-186">GeneralError*</span></span>

<span data-ttu-id="a463d-187">**Przyczyną przypinanie klastra**</span><span class="sxs-lookup"><span data-stu-id="a463d-187">**Cause of cluster pinning**</span></span>

<span data-ttu-id="a463d-188">Pełna dezalokacji oznacza, że został zatrzymany (cofnięciu przydziału) wszystkich maszyn wirtualnych z usługą w chmurze.</span><span class="sxs-lookup"><span data-stu-id="a463d-188">Full deallocation means that you stopped (deallocated) all VMs from a cloud service.</span></span> <span data-ttu-id="a463d-189">Żądań alokacji, aby ponownie uruchomić te maszyny wirtualne muszą podjąć na oryginalnego klastra, który jest hostem usługi w chmurze.</span><span class="sxs-lookup"><span data-stu-id="a463d-189">The allocation requests to restart these VMs have to be attempted at the original cluster that hosts the cloud service.</span></span> <span data-ttu-id="a463d-190">Tworzenie nowej usługi w chmurze pozwala platformy Azure znaleźć innego klastra lub obsługuje rozmiar maszyny Wirtualnej, którego zażądano zwolnić zasoby.</span><span class="sxs-lookup"><span data-stu-id="a463d-190">Creating a new cloud service allows the Azure platform to find another cluster that has free resources or supports the VM size that you requested.</span></span>

<span data-ttu-id="a463d-191">**Obejście problemu**</span><span class="sxs-lookup"><span data-stu-id="a463d-191">**Workaround**</span></span>

<span data-ttu-id="a463d-192">Jeśli można użyć różnych adresów VIP, usunąć oryginalny zatrzymania (cofnięciu przydziału) maszyn wirtualnych (ale zachować skojarzone dyski) i usuń odpowiednie usługi w chmurze (zasoby obliczeniowe skojarzone już zostały wydane, gdy zostanie zatrzymane (cofnięciu przydziału) maszyn wirtualnych).</span><span class="sxs-lookup"><span data-stu-id="a463d-192">If it's acceptable to use a different VIP, delete the original stopped (deallocated) VMs (but keep the associated disks) and delete the corresponding cloud service (the associated compute resources were already released when you stopped (deallocated) the VMs).</span></span> <span data-ttu-id="a463d-193">Utwórz nową usługę w chmurze można dodać z powrotem maszyn wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="a463d-193">Create a new cloud service to add the VMs back.</span></span>

## <a name="allocation-scenario-stagingproduction-deployments-platform-as-a-service-only"></a><span data-ttu-id="a463d-194">Scenariusz alokacji: wdrożeń przemieszczania/produkcyjnych (platforma jako usługa tylko)</span><span class="sxs-lookup"><span data-stu-id="a463d-194">Allocation scenario: Staging/production deployments (platform as a service only)</span></span>
<span data-ttu-id="a463d-195">**Błąd**</span><span class="sxs-lookup"><span data-stu-id="a463d-195">**Error**</span></span>

<span data-ttu-id="a463d-196">New_General * lub New_VMSizeNotSupported *</span><span class="sxs-lookup"><span data-stu-id="a463d-196">New_General* or New_VMSizeNotSupported*</span></span>

<span data-ttu-id="a463d-197">**Przyczyną przypinanie klastra**</span><span class="sxs-lookup"><span data-stu-id="a463d-197">**Cause of cluster pinning**</span></span>

<span data-ttu-id="a463d-198">Wdrażanie tymczasowej i wdrożenia produkcyjnego usługi w chmurze są obsługiwane w tym samym klastrze.</span><span class="sxs-lookup"><span data-stu-id="a463d-198">The staging deployment and the production deployment of a cloud service are hosted in the same cluster.</span></span> <span data-ttu-id="a463d-199">Po dodaniu drugiego wdrożenia odpowiednie żądanie alokacji będą podejmowane w tym samym klastrze obsługującego ich pierwszym wdrożeniu.</span><span class="sxs-lookup"><span data-stu-id="a463d-199">When you add the second deployment, the corresponding allocation request will be attempted in the same cluster that hosts the first deployment.</span></span>

<span data-ttu-id="a463d-200">**Obejście problemu**</span><span class="sxs-lookup"><span data-stu-id="a463d-200">**Workaround**</span></span>

<span data-ttu-id="a463d-201">Usuń ich pierwszym wdrożeniu i oryginalnego usługi w chmurze, a następnie ponownie wdrożyć usługę w chmurze.</span><span class="sxs-lookup"><span data-stu-id="a463d-201">Delete the first deployment and the original cloud service and redeploy the cloud service.</span></span> <span data-ttu-id="a463d-202">Ta akcja może grunt ich pierwszym wdrożeniu w klastrze, który ma wystarczającej ilości wolnych zasobów, aby dopasować oba wdrożenia lub w klastrze, który obsługuje rozmiarów maszyn wirtualnych, które zostały wybrane.</span><span class="sxs-lookup"><span data-stu-id="a463d-202">This action may land the first deployment in a cluster that has enough free resources to fit both deployments or in a cluster that supports the VM sizes that you requested.</span></span>

## <a name="allocation-scenario-affinity-group-vmservice-proximity"></a><span data-ttu-id="a463d-203">Scenariusz alokacji: Grupa koligacji (zbliżeniowe maszyny Wirtualnej lub usługi)</span><span class="sxs-lookup"><span data-stu-id="a463d-203">Allocation scenario: Affinity group (VM/service proximity)</span></span>
<span data-ttu-id="a463d-204">**Błąd**</span><span class="sxs-lookup"><span data-stu-id="a463d-204">**Error**</span></span>

<span data-ttu-id="a463d-205">New_General * lub New_VMSizeNotSupported *</span><span class="sxs-lookup"><span data-stu-id="a463d-205">New_General* or New_VMSizeNotSupported*</span></span>

<span data-ttu-id="a463d-206">**Przyczyną przypinanie klastra**</span><span class="sxs-lookup"><span data-stu-id="a463d-206">**Cause of cluster pinning**</span></span>

<span data-ttu-id="a463d-207">Wszelkie obliczeń zasobów przypisanych do grupy koligacji jest związany z jednego klastra.</span><span class="sxs-lookup"><span data-stu-id="a463d-207">Any compute resource assigned to an affinity group is tied to one cluster.</span></span> <span data-ttu-id="a463d-208">Nowy zasób obliczeniowy żądania w tej grupie koligacji są próby w tym samym klastrze, gdzie hostowane są istniejących zasobów.</span><span class="sxs-lookup"><span data-stu-id="a463d-208">New compute resource requests in that affinity group are attempted in the same cluster where the existing resources are hosted.</span></span> <span data-ttu-id="a463d-209">Jest to możliwe, czy nowe zasoby są tworzone przez nową usługę w chmurze albo przez istniejącą usługę w chmurze.</span><span class="sxs-lookup"><span data-stu-id="a463d-209">This is true whether the new resources are created through a new cloud service or through an existing cloud service.</span></span>

<span data-ttu-id="a463d-210">**Obejście problemu**</span><span class="sxs-lookup"><span data-stu-id="a463d-210">**Workaround**</span></span>

<span data-ttu-id="a463d-211">Grupy koligacji nie jest konieczne, nie używać grupy koligacji, czy grupa zasobów obliczeniowych do wielu grup koligacji.</span><span class="sxs-lookup"><span data-stu-id="a463d-211">If an affinity group is not necessary, do not use an affinity group, or group your compute resources into multiple affinity groups.</span></span>

## <a name="allocation-scenario-affinity-group-based-virtual-network"></a><span data-ttu-id="a463d-212">Scenariusz alokacji: oparte na grupach koligacji sieci wirtualnej</span><span class="sxs-lookup"><span data-stu-id="a463d-212">Allocation scenario: Affinity-group-based virtual network</span></span>
<span data-ttu-id="a463d-213">**Błąd**</span><span class="sxs-lookup"><span data-stu-id="a463d-213">**Error**</span></span>

<span data-ttu-id="a463d-214">New_General * lub New_VMSizeNotSupported *</span><span class="sxs-lookup"><span data-stu-id="a463d-214">New_General* or New_VMSizeNotSupported*</span></span>

<span data-ttu-id="a463d-215">**Przyczyną przypinanie klastra**</span><span class="sxs-lookup"><span data-stu-id="a463d-215">**Cause of cluster pinning**</span></span>

<span data-ttu-id="a463d-216">Przed wprowadzeniem regionalnych sieci wirtualnych, wymagane było skojarzyć sieć wirtualną z grupą koligacji.</span><span class="sxs-lookup"><span data-stu-id="a463d-216">Before regional virtual networks were introduced, you were required to associate a virtual network with an affinity group.</span></span> <span data-ttu-id="a463d-217">W związku z tym obliczeniowe zasobów umieszczone w grupie koligacji są powiązane przez takich samych ograniczeń, zgodnie z opisem w "alokacji scenariusz: Grupa koligacji (zbliżeniowe maszyny Wirtualnej lub usługi)" powyższej sekcji.</span><span class="sxs-lookup"><span data-stu-id="a463d-217">As a result, compute resources placed into an affinity group are bound by the same constraints as described in the "Allocation scenario: Affinity group (VM/service proximity)" section above.</span></span> <span data-ttu-id="a463d-218">Zasoby obliczeniowe są powiązane z jednego klastra.</span><span class="sxs-lookup"><span data-stu-id="a463d-218">The compute resources are tied to one cluster.</span></span>

<span data-ttu-id="a463d-219">**Obejście problemu**</span><span class="sxs-lookup"><span data-stu-id="a463d-219">**Workaround**</span></span>

<span data-ttu-id="a463d-220">Nie należy do grupy koligacji, Utwórz nowy regionalną sieć wirtualną dla nowych zasobów w przypadku dodawania, a następnie [połączyć istniejącej sieci wirtualnej do nowej sieci wirtualnej](https://azure.microsoft.com/blog/vnet-to-vnet-connecting-virtual-networks-in-azure-across-different-regions/).</span><span class="sxs-lookup"><span data-stu-id="a463d-220">If you do not need an affinity group, create a new regional virtual network for the new resources you're adding, and then [connect your existing virtual network to the new virtual network](https://azure.microsoft.com/blog/vnet-to-vnet-connecting-virtual-networks-in-azure-across-different-regions/).</span></span> <span data-ttu-id="a463d-221">Zobacz więcej informacji [regionalnych sieci wirtualnych](https://azure.microsoft.com/blog/2014/05/14/regional-virtual-networks/).</span><span class="sxs-lookup"><span data-stu-id="a463d-221">See more about [regional virtual networks](https://azure.microsoft.com/blog/2014/05/14/regional-virtual-networks/).</span></span>

<span data-ttu-id="a463d-222">Można też [migrację do regionalnej sieci wirtualnej sieci wirtualnej na podstawie grupy koligacji](https://azure.microsoft.com/blog/2014/11/26/migrating-existing-services-to-regional-scope/), a następnie ponownie dodaj żądanych zasobów.</span><span class="sxs-lookup"><span data-stu-id="a463d-222">Alternatively, you can [migrate your affinity-group-based virtual network to a regional virtual network](https://azure.microsoft.com/blog/2014/11/26/migrating-existing-services-to-regional-scope/), and then add the desired resources again.</span></span>

## <a name="detailed-troubleshooting-steps-specific-allocation-failure-scenarios-in-the-azure-resource-manager-deployment-model"></a><span data-ttu-id="a463d-223">Szczegółowe Rozwiązywanie problemów z scenariuszy awarii alokacji określonych kroków w modelu wdrażania usługi Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="a463d-223">Detailed troubleshooting steps specific allocation failure scenarios in the Azure Resource Manager deployment model</span></span>
<span data-ttu-id="a463d-224">Poniżej przedstawiono typowe scenariusze alokacji, które powodują żądanie alokacji przypięty.</span><span class="sxs-lookup"><span data-stu-id="a463d-224">Here are common allocation scenarios that cause an allocation request to be pinned.</span></span> <span data-ttu-id="a463d-225">Firma Microsoft będzie Poznaj każdego scenariusza w dalszej części tego artykułu.</span><span class="sxs-lookup"><span data-stu-id="a463d-225">We'll dive into each scenario later in this article.</span></span>

* <span data-ttu-id="a463d-226">Zmień rozmiar maszyny Wirtualnej lub Dodaj maszyny wirtualne lub wystąpień roli do istniejącej usługi w chmurze</span><span class="sxs-lookup"><span data-stu-id="a463d-226">Resize a VM or add VMs or role instances to an existing cloud service</span></span>
* <span data-ttu-id="a463d-227">Uruchom ponownie częściowo zatrzymania maszyny wirtualnej (cofnięciu przydziału)</span><span class="sxs-lookup"><span data-stu-id="a463d-227">Restart partially stopped (deallocated) VMs</span></span>
* <span data-ttu-id="a463d-228">Uruchom ponownie pełni zatrzymania maszyny wirtualnej (cofnięciu przydziału)</span><span class="sxs-lookup"><span data-stu-id="a463d-228">Restart fully stopped (deallocated) VMs</span></span>

<span data-ttu-id="a463d-229">Gdy zostanie wyświetlony błąd alokacji, zobacz, jeśli dowolny z opisanych scenariuszy dotyczy ten błąd.</span><span class="sxs-lookup"><span data-stu-id="a463d-229">When you receive an allocation error, see if any of the scenarios described apply to your error.</span></span> <span data-ttu-id="a463d-230">Błąd alokacji zwrócony przez platformę Azure umożliwia zidentyfikowanie odpowiednim scenariuszem.</span><span class="sxs-lookup"><span data-stu-id="a463d-230">Use the allocation error returned by the Azure platform to identify the corresponding scenario.</span></span> <span data-ttu-id="a463d-231">Jeśli żądanie jest przypięta do istniejącego klastra, usuń niektóre przypinania ograniczenia, aby otworzyć żądania do klastrów więcej, co zwiększa prawdopodobieństwo pomyślnego alokacji.</span><span class="sxs-lookup"><span data-stu-id="a463d-231">If your request is pinned to an existing cluster, remove some of the pinning constraints to open your request to more clusters, thereby increasing the chance of allocation success.</span></span>

<span data-ttu-id="a463d-232">Ogólnie rzecz biorąc tak długo, jak błąd nie wskazuje "żądany rozmiar maszyny Wirtualnej nie jest obsługiwane", możesz zawsze ponowić w późniejszym czasie, jak mała liczba zasobów został zwolniony w klastrze, aby obsłużyć żądanie.</span><span class="sxs-lookup"><span data-stu-id="a463d-232">In general, as long as the error does not indicate "the requested VM size is not supported," you can always retry at a later time, as enough resources may have been freed in the cluster to accommodate your request.</span></span> <span data-ttu-id="a463d-233">Jeśli problem nie zostanie żądany rozmiar maszyny Wirtualnej nie jest obsługiwana, wymienione poniżej obejścia.</span><span class="sxs-lookup"><span data-stu-id="a463d-233">If the problem is that the requested VM size is not supported, see below for workarounds.</span></span>

## <a name="allocation-scenario-resize-a-vm-or-add-vms-to-an-existing-availability-set"></a><span data-ttu-id="a463d-234">Alokacja scenariusz: zmiana rozmiaru maszyny Wirtualnej lub dodawanie maszyn wirtualnych do istniejącego zestawu dostępności</span><span class="sxs-lookup"><span data-stu-id="a463d-234">Allocation scenario: Resize a VM or add VMs to an existing availability set</span></span>
<span data-ttu-id="a463d-235">**Błąd**</span><span class="sxs-lookup"><span data-stu-id="a463d-235">**Error**</span></span>

<span data-ttu-id="a463d-236">Upgrade_VMSizeNotSupported * lub GeneralError *</span><span class="sxs-lookup"><span data-stu-id="a463d-236">Upgrade_VMSizeNotSupported* or GeneralError*</span></span>

<span data-ttu-id="a463d-237">**Przyczyną przypinanie klastra**</span><span class="sxs-lookup"><span data-stu-id="a463d-237">**Cause of cluster pinning**</span></span>

<span data-ttu-id="a463d-238">Żądanie, aby zmienić rozmiar maszyny Wirtualnej lub dodać do istniejącego zestawu dostępności maszyny Wirtualnej musi podjąć w oryginalnego klastra, który jest hostem istniejącego zestawu dostępności.</span><span class="sxs-lookup"><span data-stu-id="a463d-238">A request to resize a VM or add a VM to an existing availability set has to be attempted at the original cluster that hosts the existing availability set.</span></span> <span data-ttu-id="a463d-239">Tworzenie nowego zestawu dostępności umożliwia platformy Azure znaleźć innego klastra lub obsługuje rozmiar maszyny Wirtualnej, którego zażądano zwolnić zasoby.</span><span class="sxs-lookup"><span data-stu-id="a463d-239">Creating a new availability set allows the Azure platform to find another cluster that has free resources or supports the VM size that you requested.</span></span>

<span data-ttu-id="a463d-240">**Obejście problemu**</span><span class="sxs-lookup"><span data-stu-id="a463d-240">**Workaround**</span></span>

<span data-ttu-id="a463d-241">Jeśli błąd Upgrade_VMSizeNotSupported *, spróbuj zmienić rozmiar maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="a463d-241">If the error is Upgrade_VMSizeNotSupported*, try a different VM size.</span></span> <span data-ttu-id="a463d-242">Jeśli przy użyciu innego rozmiaru maszyny Wirtualnej nie jest opcją, zatrzymanie wszystkich maszyn wirtualnych w zestawie dostępności.</span><span class="sxs-lookup"><span data-stu-id="a463d-242">If using a different VM size is not an option, stop all VMs in the availability set.</span></span> <span data-ttu-id="a463d-243">Następnie można zmienić rozmiaru maszyny wirtualnej, który przyzna maszyny Wirtualnej do klastra, który obsługuje żądany rozmiar maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="a463d-243">You can then change the size of the virtual machine that will allocate the VM to a cluster that supports the desired VM size.</span></span>

<span data-ttu-id="a463d-244">Jeśli błąd jest GeneralError *, jest prawdopodobne, że typ zasobu (np. dla określonego rozmiaru maszyny Wirtualnej) jest obsługiwana przez klaster, ale klaster nie ma wolnego zasobów w tej chwili.</span><span class="sxs-lookup"><span data-stu-id="a463d-244">If the error is GeneralError*, it's likely that the type of resource (such as a particular VM size) is supported by the cluster, but the cluster does not have free resources at the moment.</span></span> <span data-ttu-id="a463d-245">Jeśli maszyna wirtualna może być częścią zestawu dostępności różnych, Utwórz nową maszynę Wirtualną w różnych dostępności, ustawić (w tym samym regionie).</span><span class="sxs-lookup"><span data-stu-id="a463d-245">If the VM can be part of a different availability set, create a new VM in a different availability set (in the same region).</span></span> <span data-ttu-id="a463d-246">Następnie można dodać tej nowej maszyny Wirtualnej do tej samej sieci wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="a463d-246">This new VM can then be added to the same virtual network.</span></span>  

## <a name="allocation-scenario-restart-partially-stopped-deallocated-vms"></a><span data-ttu-id="a463d-247">Scenariusz alokacji: ponowne uruchomienie częściowo zatrzymano (cofnięciu przydziału) maszyn wirtualnych</span><span class="sxs-lookup"><span data-stu-id="a463d-247">Allocation scenario: Restart partially stopped (deallocated) VMs</span></span>
<span data-ttu-id="a463d-248">**Błąd**</span><span class="sxs-lookup"><span data-stu-id="a463d-248">**Error**</span></span>

<span data-ttu-id="a463d-249">GeneralError *</span><span class="sxs-lookup"><span data-stu-id="a463d-249">GeneralError*</span></span>

<span data-ttu-id="a463d-250">**Przyczyną przypinanie klastra**</span><span class="sxs-lookup"><span data-stu-id="a463d-250">**Cause of cluster pinning**</span></span>

<span data-ttu-id="a463d-251">Częściowe dezalokacji oznacza, że zatrzymane (cofnięciu przydziału) co najmniej jeden, ale nie wszystkie, maszyn wirtualnych w dostępności ustawione.</span><span class="sxs-lookup"><span data-stu-id="a463d-251">Partial deallocation means that you stopped (deallocated) one or more, but not all, VMs in an availability set.</span></span> <span data-ttu-id="a463d-252">Po zatrzymaniu (deallocate) na maszynie Wirtualnej, są wydawane skojarzonych zasobów.</span><span class="sxs-lookup"><span data-stu-id="a463d-252">When you stop (deallocate) a VM, the associated resources are released.</span></span> <span data-ttu-id="a463d-253">Ponowne uruchomienie tego zatrzymanej maszyny Wirtualnej (cofnięciu przydziału) w związku z tym jest nowe żądanie alokacji.</span><span class="sxs-lookup"><span data-stu-id="a463d-253">Restarting that stopped (deallocated) VM is therefore a new allocation request.</span></span> <span data-ttu-id="a463d-254">Ponowne uruchamianie maszyn wirtualnych w zestawie dostępności częściowo deallocated jest odpowiednikiem Dodawanie maszyn wirtualnych do istniejącego zestawu dostępności.</span><span class="sxs-lookup"><span data-stu-id="a463d-254">Restarting VMs in a partially deallocated availability set is equivalent to adding VMs to an existing availability set.</span></span> <span data-ttu-id="a463d-255">Żądanie alokacji musi podjąć w oryginalnego klastra, który jest hostem istniejącego zestawu dostępności.</span><span class="sxs-lookup"><span data-stu-id="a463d-255">The allocation request has to be attempted at the original cluster that hosts the existing availability set.</span></span>

<span data-ttu-id="a463d-256">**Obejście problemu**</span><span class="sxs-lookup"><span data-stu-id="a463d-256">**Workaround**</span></span>

<span data-ttu-id="a463d-257">Zatrzymanie wszystkich maszyn wirtualnych w zestawie przed ponownym uruchomieniem pierwszego dostępności.</span><span class="sxs-lookup"><span data-stu-id="a463d-257">Stop all VMs in the availability set before restarting the first one.</span></span> <span data-ttu-id="a463d-258">Dzięki uruchomieniu nowego próba alokacji i że nowy klaster można wybrać z dostępnej pojemności.</span><span class="sxs-lookup"><span data-stu-id="a463d-258">This will ensure that a new allocation attempt is run and that a new cluster can be selected that has available capacity.</span></span>

## <a name="allocation-scenario-restart-fully-stopped-deallocated"></a><span data-ttu-id="a463d-259">Scenariusz alokacji: ponowne uruchomienie całkowicie zatrzymana (cofnięciu przydziału)</span><span class="sxs-lookup"><span data-stu-id="a463d-259">Allocation scenario: Restart fully stopped (deallocated)</span></span>
<span data-ttu-id="a463d-260">**Błąd**</span><span class="sxs-lookup"><span data-stu-id="a463d-260">**Error**</span></span>

<span data-ttu-id="a463d-261">GeneralError *</span><span class="sxs-lookup"><span data-stu-id="a463d-261">GeneralError*</span></span>

<span data-ttu-id="a463d-262">**Przyczyną przypinanie klastra**</span><span class="sxs-lookup"><span data-stu-id="a463d-262">**Cause of cluster pinning**</span></span>

<span data-ttu-id="a463d-263">Pełna dezalokacji oznacza, że został zatrzymany (cofnięciu przydziału) wszystkich maszyn wirtualnych w zestawie dostępności.</span><span class="sxs-lookup"><span data-stu-id="a463d-263">Full deallocation means that you stopped (deallocated) all VMs in an availability set.</span></span> <span data-ttu-id="a463d-264">Żądanie alokacji o ponowne uruchomienie tych maszyn wirtualnych będzie obowiązywać wszystkich klastrów, które obsługują wymagany rozmiar.</span><span class="sxs-lookup"><span data-stu-id="a463d-264">The allocation request to restart these VMs will target all clusters that support the desired size.</span></span>

<span data-ttu-id="a463d-265">**Obejście problemu**</span><span class="sxs-lookup"><span data-stu-id="a463d-265">**Workaround**</span></span>

<span data-ttu-id="a463d-266">Wybierz nowy rozmiar maszyny Wirtualnej do przydzielenia.</span><span class="sxs-lookup"><span data-stu-id="a463d-266">Select a new VM size to allocate.</span></span> <span data-ttu-id="a463d-267">Jeśli to nie zadziała, spróbuj ponownie później.</span><span class="sxs-lookup"><span data-stu-id="a463d-267">If this does not work, please try again later.</span></span>

## <a name="error-string-lookup"></a><span data-ttu-id="a463d-268">Błąd podczas wyszukiwania ciągu</span><span class="sxs-lookup"><span data-stu-id="a463d-268">Error string lookup</span></span>
<span data-ttu-id="a463d-269">**New_VMSizeNotSupported***</span><span class="sxs-lookup"><span data-stu-id="a463d-269">**New_VMSizeNotSupported***</span></span>

<span data-ttu-id="a463d-270">"Maszyny Wirtualnej rozmiaru (lub kombinacja rozmiarów maszyn wirtualnych) wymagany przez to wdrożenie jest niedostępna z powodu ograniczeń żądania wdrożenia.</span><span class="sxs-lookup"><span data-stu-id="a463d-270">"The VM size (or combination of VM sizes) required by this deployment cannot be provisioned due to deployment request constraints.</span></span> <span data-ttu-id="a463d-271">Jeśli to możliwe spróbuj złagodzić ograniczenia, np. powiązania sieci wirtualnej, wdrażając w usłudze hostowanej nie zawiera żadnych innych wdrożeń i w innej grupie koligacji lub bez takiej grupy lub wdrożenie w innym regionie."</span><span class="sxs-lookup"><span data-stu-id="a463d-271">If possible, try relaxing constraints such as virtual network bindings, deploying to a hosted service with no other deployment in it and to a different affinity group or with no affinity group, or try deploying to a different region."</span></span>

<span data-ttu-id="a463d-272">**New_General***</span><span class="sxs-lookup"><span data-stu-id="a463d-272">**New_General***</span></span>

<span data-ttu-id="a463d-273">"Nie można przydzielić; Nie można zrealizować ograniczenia w żądaniu.</span><span class="sxs-lookup"><span data-stu-id="a463d-273">"Allocation failed; unable to satisfy constraints in request.</span></span> <span data-ttu-id="a463d-274">Żądana nowego wdrożenia usługi jest powiązany z grupy koligacji, jego celem sieci wirtualnej lub Brak istniejącego wdrożenia w ramach tej usługi hostowanej.</span><span class="sxs-lookup"><span data-stu-id="a463d-274">The requested new service deployment is bound to an affinity group, or it targets a virtual network, or there is an existing deployment under this hosted service.</span></span> <span data-ttu-id="a463d-275">Jeden z następujących warunków ogranicza nowe wdrożenie do określonych zasobów platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="a463d-275">Any of these conditions constrains the new deployment to specific Azure resources.</span></span> <span data-ttu-id="a463d-276">Spróbuj ponownie później lub spróbuj zredukować rozmiar maszyny Wirtualnej lub liczbę wystąpień roli.</span><span class="sxs-lookup"><span data-stu-id="a463d-276">Please retry later or try reducing the VM size or number of role instances.</span></span> <span data-ttu-id="a463d-277">Alternatywnie Jeśli to możliwe, Usuń wyżej wymienione ograniczenia lub spróbuj przeprowadzić wdrożenie w innym regionie."</span><span class="sxs-lookup"><span data-stu-id="a463d-277">Alternatively, if possible, remove the aforementioned constraints or try deploying to a different region."</span></span>

<span data-ttu-id="a463d-278">**Upgrade_VMSizeNotSupported***</span><span class="sxs-lookup"><span data-stu-id="a463d-278">**Upgrade_VMSizeNotSupported***</span></span>

<span data-ttu-id="a463d-279">"Nie można uaktualnić wdrożenia.</span><span class="sxs-lookup"><span data-stu-id="a463d-279">"Unable to upgrade the deployment.</span></span> <span data-ttu-id="a463d-280">Żądany rozmiar maszyny Wirtualnej XXX nie może być dostępny w zasobach obsługujących istniejące wdrożenie.</span><span class="sxs-lookup"><span data-stu-id="a463d-280">The requested VM size XXX may not be available in the resources supporting the existing deployment.</span></span> <span data-ttu-id="a463d-281">Spróbuj ponownie później, spróbuj z mniejszym rozmiarem maszyny Wirtualnej lub mniejszą liczbą wystąpień roli lub Utwórz wdrożenie w ramach pustej usługi hostowanej z nową grupą koligacji lub bez powiązania z grupą koligacji."</span><span class="sxs-lookup"><span data-stu-id="a463d-281">Please try again later, try with a different VM size or smaller number of role instances, or create a deployment under an empty hosted service with a new affinity group or no affinity group binding."</span></span>

<span data-ttu-id="a463d-282">**GeneralError***</span><span class="sxs-lookup"><span data-stu-id="a463d-282">**GeneralError***</span></span>

<span data-ttu-id="a463d-283">"Serwer napotkał błąd wewnętrzny.</span><span class="sxs-lookup"><span data-stu-id="a463d-283">"The server encountered an internal error.</span></span> <span data-ttu-id="a463d-284">Ponów żądanie."</span><span class="sxs-lookup"><span data-stu-id="a463d-284">Please retry the request."</span></span> <span data-ttu-id="a463d-285">Lub "Nie można utworzyć przydział dla usługi".</span><span class="sxs-lookup"><span data-stu-id="a463d-285">Or "Failed to produce an allocation for the service."</span></span>

