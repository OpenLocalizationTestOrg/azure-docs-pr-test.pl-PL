<span data-ttu-id="14fa8-101">Na każdym komputerze klienckim nawiązującym połączenie z siecią wirtualną za pomocą połączenia typu punkt-lokacja musi być zainstalowany certyfikat klienta w celu uwierzytelniania.</span><span class="sxs-lookup"><span data-stu-id="14fa8-101">Each client computer that connects to a VNet using Point-to-Site must have a client certificate installed.</span></span> <span data-ttu-id="14fa8-102">Certyfikat klienta jest generowany na podstawie certyfikatu głównego i instalowany na każdym komputerze klienckim.</span><span class="sxs-lookup"><span data-stu-id="14fa8-102">The client certificate is generated from the root certificate and installed on each client computer.</span></span> <span data-ttu-id="14fa8-103">Jeśli prawidłowy certyfikat klienta nie jest zainstalowany, a klient próbuje nawiązać połączenie z siecią wirtualną, uwierzytelnianie nie powiedzie się.</span><span class="sxs-lookup"><span data-stu-id="14fa8-103">If a valid client certificate is not installed and the client tries to connect to the VNet, authentication fails.</span></span>

<span data-ttu-id="14fa8-104">Można wygenerować unikatowy certyfikat dla każdego klienta lub można użyć tego samego certyfikatu dla wielu klientów.</span><span class="sxs-lookup"><span data-stu-id="14fa8-104">You can either generate a unique certificate for each client, or you can use the same certificate for multiple clients.</span></span> <span data-ttu-id="14fa8-105">Zaletą generowania unikatowych certyfikatów klienta jest możliwość odwołania pojedynczego certyfikatu.</span><span class="sxs-lookup"><span data-stu-id="14fa8-105">The advantage to generating unique client certificates is the ability to revoke a single certificate.</span></span> <span data-ttu-id="14fa8-106">W przeciwnym razie, jeśli wielu klientów korzysta z tego samego certyfikatu klienta i zajdzie potrzeba jego odwołania, będzie konieczne wygenerowanie i zainstalowanie nowych certyfikatów dla wszystkich klientów, którzy używają tego certyfikatu do uwierzytelniania.</span><span class="sxs-lookup"><span data-stu-id="14fa8-106">Otherwise, if multiple clients are using the same client certificate and you need to revoke it, you have to generate and install new certificates for all the clients that use that certificate to authenticate.</span></span>

<span data-ttu-id="14fa8-107">Certyfikaty klienta można wygenerować, posługując się następującymi metodami:</span><span class="sxs-lookup"><span data-stu-id="14fa8-107">You can generate client certificates using the following methods:</span></span>

- <span data-ttu-id="14fa8-108">**Certyfikat przedsiębiorstwa:**</span><span class="sxs-lookup"><span data-stu-id="14fa8-108">**Enterprise certificate:**</span></span>

  - <span data-ttu-id="14fa8-109">Jeśli używasz rozwiązania z certyfikatem przedsiębiorstwa, wygeneruj certyfikat klienta przy użyciu formatu wartości nazwy pospolitej „name@yourdomain.com”, a nie formatu „nazwa_domeny\nazwa_użytkownika”.</span><span class="sxs-lookup"><span data-stu-id="14fa8-109">If you are using an enterprise certificate solution, generate a client certificate with the common name value format 'name@yourdomain.com', rather than the 'domain name\username' format.</span></span>
  - <span data-ttu-id="14fa8-110">Upewnij się, że certyfikat klienta jest oparty na szablonie certyfikatu „Użytkownik”, którego pierwszym elementem na liście użycia jest „Uwierzytelnienie klienta”, a nie Logowanie karty inteligentnej itp. Certyfikat można sprawdzić przez dwukrotne kliknięcie certyfikatu klienta i wyświetlenie pozycji **Szczegóły > Ulepszone użycie klucza**.</span><span class="sxs-lookup"><span data-stu-id="14fa8-110">Make sure the client certificate is based on the 'User' certificate template that has 'Client Authentication' as the first item in the use list, rather than Smart Card Logon, etc. You can check the certificate by double-clicking the client certificate and viewing **Details > Enhanced Key Usage**.</span></span>

- <span data-ttu-id="14fa8-111">**Certyfikat główny z podpisem własnym:** ważne jest, aby wykonać czynności opisane jednym z poniższych artykułów dotyczących certyfikatu punkt-lokacja.</span><span class="sxs-lookup"><span data-stu-id="14fa8-111">**Self-signed root certificate:** It's important that you follow the steps in one of the P2S certificate articles below.</span></span> <span data-ttu-id="14fa8-112">W przeciwnym razie utworzone przez Ciebie certyfikaty klienta nie będą zgodne z połączeniami typu punkt-lokacja i zostanie wyświetlony błąd klientów podczas nawiązywania połączenia.</span><span class="sxs-lookup"><span data-stu-id="14fa8-112">Otherwise, the client certificates you create won't be compatible with P2S connections and clients receive an error when trying to connect.</span></span> <span data-ttu-id="14fa8-113">Czynności opisane w następujących artykułach umożliwiają wygenerowanie zgodnego certyfikatu klienta:</span><span class="sxs-lookup"><span data-stu-id="14fa8-113">The steps in either of the following articles generate a compatible client certificate:</span></span> 

  * <span data-ttu-id="14fa8-114">[Instrukcje programu Windows 10 PowerShell](../articles/vpn-gateway/vpn-gateway-certificates-point-to-site.md#clientcert): w przypadku tych instrukcji do generowania certyfikatów wymagany jest system Windows 10 i program PowerShell.</span><span class="sxs-lookup"><span data-stu-id="14fa8-114">[Windows 10 PowerShell instructions](../articles/vpn-gateway/vpn-gateway-certificates-point-to-site.md#clientcert): These instructions require Windows 10 and PowerShell to generate certificates.</span></span> <span data-ttu-id="14fa8-115">Certyfikaty generowane na podstawie certyfikatu głównego można instalować na dowolnym kliencie typu punkt-lokacja.</span><span class="sxs-lookup"><span data-stu-id="14fa8-115">The certificates that are generated can be installed on any supported P2S client.</span></span>
  * <span data-ttu-id="14fa8-116">[Instrukcje MakeCert](../articles/vpn-gateway/vpn-gateway-certificates-point-to-site-makecert.md): użyj programu MakeCert, jeśli nie masz dostępu do komputera z systemem Windows 10 w celu wygenerowania certyfikatów.</span><span class="sxs-lookup"><span data-stu-id="14fa8-116">[MakeCert instructions](../articles/vpn-gateway/vpn-gateway-certificates-point-to-site-makecert.md): Use MakeCert if you don't have access to a Windows 10 computer to use to generate certificates.</span></span> <span data-ttu-id="14fa8-117">Rozwiązanie MakeCert jest przestarzałe, ale można nadal używać go do generowania certyfikatów.</span><span class="sxs-lookup"><span data-stu-id="14fa8-117">MakeCert deprecated, but you can still use MakeCert to generate certificates.</span></span> <span data-ttu-id="14fa8-118">Certyfikaty generowane na podstawie certyfikatu głównego można instalować na dowolnym kliencie typu punkt-lokacja.</span><span class="sxs-lookup"><span data-stu-id="14fa8-118">The certificates that are generated can be installed on any supported P2S client.</span></span>

  <span data-ttu-id="14fa8-119">Gdy certyfikat klienta jest generowany na podstawie certyfikatu głównego z podpisem własnym za pomocą poprzednich instrukcji, jest on automatycznie instalowany na komputerze użytym do jego wygenerowania.</span><span class="sxs-lookup"><span data-stu-id="14fa8-119">When you generate a client certificate from a self-signed root certificate using the preceding instructions, it's automatically installed on the computer that you used to generate it.</span></span> <span data-ttu-id="14fa8-120">Aby zainstalować certyfikat klienta na innym komputerze klienckim, należy go wyeksportować jako plik .pfx, razem z całym łańcuchem certyfikatów.</span><span class="sxs-lookup"><span data-stu-id="14fa8-120">If you want to install a client certificate on another client computer, you need to export it as a .pfx, along with the entire certificate chain.</span></span> <span data-ttu-id="14fa8-121">Spowoduje to utworzenie pliku PFX zawierającego informacje o certyfikacie głównym, który jest wymagany do pomyślnego uwierzytelnienia klienta.</span><span class="sxs-lookup"><span data-stu-id="14fa8-121">This creates a .pfx file that contains the root certificate information that is required for the client to successfully authenticate.</span></span> <span data-ttu-id="14fa8-122">Czynności wymagane do wyeksportowania certyfikatu zostały opisane w temacie [Certificates - export a client certificate (Certyfikaty — eksportowanie certyfikatu klienta)](../articles/vpn-gateway/vpn-gateway-certificates-point-to-site.md#clientexport).</span><span class="sxs-lookup"><span data-stu-id="14fa8-122">For steps to export a certificate, see [Certificates - export a client certificate](../articles/vpn-gateway/vpn-gateway-certificates-point-to-site.md#clientexport).</span></span>