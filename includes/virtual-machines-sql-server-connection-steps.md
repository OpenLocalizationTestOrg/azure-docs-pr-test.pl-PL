### <a name="open-tcp-ports-in-hello-windows-firewall-for-hello-default-instance-of-hello-database-engine"></a><span data-ttu-id="14277-101">Otwartych portów TCP w Zaporze systemu Windows hello dla domyślnego wystąpienia hello hello aparatu bazy danych</span><span class="sxs-lookup"><span data-stu-id="14277-101">Open TCP ports in hello Windows firewall for hello default instance of hello Database Engine</span></span>
1. <span data-ttu-id="14277-102">Maszyna wirtualna toohello Uzyskuj dostęp do usług pulpitu zdalnego.</span><span class="sxs-lookup"><span data-stu-id="14277-102">Connect toohello virtual machine with Remote Desktop.</span></span> <span data-ttu-id="14277-103">Aby uzyskać szczegółowe instrukcje dotyczące łączenia toohello maszyny Wirtualnej, zobacz [Otwórz maszyny Wirtualnej SQL przy użyciu pulpitu zdalnego](../articles/virtual-machines/windows/sql/virtual-machines-windows-portal-sql-server-provision.md#open-the-vm-with-remote-desktop).</span><span class="sxs-lookup"><span data-stu-id="14277-103">For detailed instructions on connecting toohello VM, see [Open a SQL VM with Remote Desktop](../articles/virtual-machines/windows/sql/virtual-machines-windows-portal-sql-server-provision.md#open-the-vm-with-remote-desktop).</span></span>
2. <span data-ttu-id="14277-104">Po zalogowaniu na ekranie startowym hello wpisz **WF.msc**, a następnie naciśnij ENTER.</span><span class="sxs-lookup"><span data-stu-id="14277-104">Once logged in, at hello Start screen, type **WF.msc**, and then hit ENTER.</span></span>
   
    ![Uruchom hello zapory](./media/virtual-machines-sql-server-connection-steps/12Open-WF.png)
3. <span data-ttu-id="14277-106">W hello **Zapora systemu Windows z zabezpieczeniami zaawansowanymi**, w lewym okienku hello, kliknij prawym przyciskiem myszy **reguły ruchu przychodzącego**, a następnie kliknij przycisk **nową regułę** w okienku akcji hello.</span><span class="sxs-lookup"><span data-stu-id="14277-106">In hello **Windows Firewall with Advanced Security**, in hello left pane, right-click **Inbound Rules**, and then click **New Rule** in hello action pane.</span></span>
   
    ![Nowa reguła](./media/virtual-machines-sql-server-connection-steps/13New-FW-Rule.png)
4. <span data-ttu-id="14277-108">W hello **Kreatora nowej reguły przychodzącej** okna dialogowego, w obszarze **typ reguły**, wybierz pozycję **portu**, a następnie kliknij przycisk **dalej**.</span><span class="sxs-lookup"><span data-stu-id="14277-108">In hello **New Inbound Rule Wizard** dialog box, under **Rule Type**, select **Port**, and then click **Next**.</span></span>
5. <span data-ttu-id="14277-109">W hello **protokoły i porty** okno dialogowe, użyj domyślnej hello **TCP**.</span><span class="sxs-lookup"><span data-stu-id="14277-109">In hello **Protocol and Ports** dialog, use hello default **TCP**.</span></span> <span data-ttu-id="14277-110">W hello **określone porty lokalne** pola, a następnie wpisz hello numer_portu hello wystąpienie hello aparatu bazy danych (**1433** hello domyślne wystąpienie lub wybrana dla hello port prywatny w kroku punktu końcowego hello).</span><span class="sxs-lookup"><span data-stu-id="14277-110">In hello **Specific local ports** box, then type hello port number of hello instance of hello Database Engine (**1433** for hello default instance or your choice for hello private port in hello endpoint step).</span></span>
   
    ![Port TCP 1433](./media/virtual-machines-sql-server-connection-steps/14Port-1433.png)
6. <span data-ttu-id="14277-112">Kliknij przycisk **Dalej**.</span><span class="sxs-lookup"><span data-stu-id="14277-112">Click **Next**.</span></span>
7. <span data-ttu-id="14277-113">W hello **akcji** okno dialogowe, wybierz opcję **przyłączenia hello**, a następnie kliknij przycisk **dalej**.</span><span class="sxs-lookup"><span data-stu-id="14277-113">In hello **Action** dialog box, select **Allow hello connection**, and then click **Next**.</span></span>
   
    <span data-ttu-id="14277-114">**Uwaga dotycząca zabezpieczeń:** Selecting **przyłączenia hello, jeśli jest bezpieczne** można zapewnić dodatkową ochronę.</span><span class="sxs-lookup"><span data-stu-id="14277-114">**Security Note:** Selecting **Allow hello connection if it is secure** can provide additional security.</span></span> <span data-ttu-id="14277-115">Wybierz tę opcję, jeśli chcesz tooconfigure dodatkowe opcje zabezpieczeń w środowisku.</span><span class="sxs-lookup"><span data-stu-id="14277-115">Select this option if you want tooconfigure additional security options in your environment.</span></span>
   
    ![Zezwalanie na połączenia](./media/virtual-machines-sql-server-connection-steps/15Allow-Connection.png)
8. <span data-ttu-id="14277-117">W hello **profilu** okno dialogowe, wybierz opcję **publicznego**, **prywatnej**, i **domeny**.</span><span class="sxs-lookup"><span data-stu-id="14277-117">In hello **Profile** dialog box, select **Public**, **Private**, and **Domain**.</span></span> <span data-ttu-id="14277-118">Następnie kliknij przycisk **Next** (Dalej).</span><span class="sxs-lookup"><span data-stu-id="14277-118">Then click **Next**.</span></span>
   
    <span data-ttu-id="14277-119">**Uwaga dotycząca zabezpieczeń:** Selecting **publicznego** umożliwia dostęp za pośrednictwem hello internet.</span><span class="sxs-lookup"><span data-stu-id="14277-119">**Security Note:**  Selecting **Public** allows access over hello internet.</span></span> <span data-ttu-id="14277-120">Jeśli to możliwe, wybierz bardzie restrykcyjny profil.</span><span class="sxs-lookup"><span data-stu-id="14277-120">Whenever possible, select a more restrictive profile.</span></span>
   
    ![Profil publiczny](./media/virtual-machines-sql-server-connection-steps/16Public-Private-Domain-Profile.png)
9. <span data-ttu-id="14277-122">W hello **nazwa** okno dialogowe, wpisz nazwę i opis dla tej reguły, a następnie kliknij przycisk **Zakończ**.</span><span class="sxs-lookup"><span data-stu-id="14277-122">In hello **Name** dialog box, type a name and description for this rule, and then click **Finish**.</span></span>
   
    ![Nazwa reguły](./media/virtual-machines-sql-server-connection-steps/17Rule-Name.png)

<span data-ttu-id="14277-124">Otwórz dodatkowe porty dla innych składników w zależności od potrzeb.</span><span class="sxs-lookup"><span data-stu-id="14277-124">Open additional ports for other components as needed.</span></span> <span data-ttu-id="14277-125">Aby uzyskać więcej informacji, zobacz [Konfigurowanie tooAllow zapory systemu Windows hello dostęp do programu SQL Server](http://msdn.microsoft.com/library/cc646023.aspx).</span><span class="sxs-lookup"><span data-stu-id="14277-125">For more information, see [Configuring hello Windows Firewall tooAllow SQL Server Access](http://msdn.microsoft.com/library/cc646023.aspx).</span></span>

### <a name="configure-sql-server-toolisten-on-hello-tcp-protocol"></a><span data-ttu-id="14277-126">Skonfiguruj toolisten programu SQL Server na powitania protokołu TCP</span><span class="sxs-lookup"><span data-stu-id="14277-126">Configure SQL Server toolisten on hello TCP protocol</span></span>

[!INCLUDE [Enable TCP](virtual-machines-sql-server-connection-tcp-protocol.md)]

### <a name="configure-sql-server-for-mixed-mode-authentication"></a><span data-ttu-id="14277-127">Konfigurowanie programu SQL Server do uwierzytelniania w trybie mieszanym</span><span class="sxs-lookup"><span data-stu-id="14277-127">Configure SQL Server for mixed mode authentication</span></span>
<span data-ttu-id="14277-128">Witaj aparatu bazy danych programu SQL Server nie można używać uwierzytelniania systemu Windows bez środowiska domeny.</span><span class="sxs-lookup"><span data-stu-id="14277-128">hello SQL Server Database Engine cannot use Windows Authentication without domain environment.</span></span> <span data-ttu-id="14277-129">tooconnect toohello aparatu bazy danych z innego komputera, skonfigurować serwer SQL dla uwierzytelniania w trybie mieszanym.</span><span class="sxs-lookup"><span data-stu-id="14277-129">tooconnect toohello Database Engine from another computer, configure SQL Server for mixed mode authentication.</span></span> <span data-ttu-id="14277-130">Uwierzytelnianie w trybie mieszanym umożliwia korzystanie z zarówno uwierzytelniania programu SQL Server, jak i uwierzytelniania systemu Windows.</span><span class="sxs-lookup"><span data-stu-id="14277-130">Mixed mode authentication allows both SQL Server Authentication and Windows Authentication.</span></span>

> [!NOTE]
> <span data-ttu-id="14277-131">Konfigurowanie uwierzytelniania w trybie mieszanym może nie być konieczne, jeśli skonfigurowano usługę Azure Virtual Network ze skonfigurowanym środowiskiem domenowym.</span><span class="sxs-lookup"><span data-stu-id="14277-131">Configuring mixed mode authentication might not be necessary if you have configured an Azure Virtual Network with a configured domain environment.</span></span>
> 
> 

1. <span data-ttu-id="14277-132">Podczas toohello połączonych w przypadku maszyny wirtualnej na powitania strony początkowej, wpisz **programu SQL Server Management Studio** i kliknij ikonę wybranego hello.</span><span class="sxs-lookup"><span data-stu-id="14277-132">While connected toohello virtual machine, on hello Start page, type **SQL Server Management Studio** and click hello selected icon.</span></span>
   
    <span data-ttu-id="14277-133">Witaj Otwórz Management Studio, należy utworzyć środowisko Management Studio użytkowników powitania po raz pierwszy.</span><span class="sxs-lookup"><span data-stu-id="14277-133">hello first time you open Management Studio it must create hello users Management Studio environment.</span></span> <span data-ttu-id="14277-134">Może to potrwać kilka chwil.</span><span class="sxs-lookup"><span data-stu-id="14277-134">This may take a few moments.</span></span>
2. <span data-ttu-id="14277-135">Przedstawia informacje o Management Studio hello **połączyć tooServer** okno dialogowe.</span><span class="sxs-lookup"><span data-stu-id="14277-135">Management Studio presents hello **Connect tooServer** dialog box.</span></span> <span data-ttu-id="14277-136">W hello **nazwy serwera** okno, nazwa typu hello hello maszyny wirtualnej tooconnect toohello aparatu bazy danych z hello Eksplorator obiektów (zamiast hello nazwę maszyny wirtualnej można również użyć **(local)** lub jedną kropkę jako hello **nazwy serwera**).</span><span class="sxs-lookup"><span data-stu-id="14277-136">In hello **Server name** box, type hello name of hello virtual machine tooconnect toohello Database Engine  with hello Object Explorer (Instead of hello virtual machine name you can also use **(local)** or a single period as hello **Server name**).</span></span> <span data-ttu-id="14277-137">Wybierz **uwierzytelniania systemu Windows**i pozostawić  ***nazwa_maszyny_wirtualnej*\your_local_administrator** w hello **nazwy użytkownika** pole.</span><span class="sxs-lookup"><span data-stu-id="14277-137">Select **Windows Authentication**, and leave ***your_VM_name*\your_local_administrator** in hello **User name** box.</span></span> <span data-ttu-id="14277-138">Kliknij przycisk **Połącz**.</span><span class="sxs-lookup"><span data-stu-id="14277-138">Click **Connect**.</span></span>
   
    ![Połącz tooServer](./media/virtual-machines-sql-server-connection-steps/19Connect-to-Server.png)
3. <span data-ttu-id="14277-140">W Eksploratorze obiektów SQL Server Management Studio, kliknij prawym przyciskiem myszy nazwę hello hello wystąpienia programu SQL Server (hello nazwę maszyny wirtualnej), a następnie kliknij przycisk **właściwości**.</span><span class="sxs-lookup"><span data-stu-id="14277-140">In SQL Server Management Studio Object Explorer, right-click hello name of hello instance of SQL Server (hello virtual machine name), and then click **Properties**.</span></span>
   
    ![Właściwości serwera](./media/virtual-machines-sql-server-connection-steps/20Server-Properties.png)
4. <span data-ttu-id="14277-142">Na powitania **zabezpieczeń** w obszarze **uwierzytelniania serwera**, wybierz pozycję **tryb programu SQL Server i uwierzytelniania systemu Windows**, a następnie kliknij przycisk **OK** .</span><span class="sxs-lookup"><span data-stu-id="14277-142">On hello **Security** page, under **Server authentication**, select **SQL Server and Windows Authentication mode**, and then click **OK**.</span></span>
   
    ![Wybieranie trybu uwierzytelniania](./media/virtual-machines-sql-server-connection-steps/21Mixed-Mode.png)
5. <span data-ttu-id="14277-144">W programie SQL Server Management Studio hello — okno dialogowe, kliknij przycisk **OK** tooacknowledge hello wymaganie toorestart programu SQL Server.</span><span class="sxs-lookup"><span data-stu-id="14277-144">In hello SQL Server Management Studio dialog box, click **OK** tooacknowledge hello requirement toorestart SQL Server.</span></span>
6. <span data-ttu-id="14277-145">W Eksploratorze obiektów kliknij prawym przyciskiem myszy swój serwer, a następnie kliknij pozycję **Uruchom ponownie**.</span><span class="sxs-lookup"><span data-stu-id="14277-145">In Object Explorer, right-click your server, and then click **Restart**.</span></span> <span data-ttu-id="14277-146">(Jeśli program SQL Server Agent jest uruchomiony, również należy go ponownie uruchomić).</span><span class="sxs-lookup"><span data-stu-id="14277-146">(If SQL Server Agent is running, it must also be restarted.)</span></span>
   
    ![Ponowne uruchamianie](./media/virtual-machines-sql-server-connection-steps/22Restart2.png)
7. <span data-ttu-id="14277-148">W programie SQL Server Management Studio hello — okno dialogowe, kliknij przycisk **tak** tooagree, które mają toorestart programu SQL Server.</span><span class="sxs-lookup"><span data-stu-id="14277-148">In hello SQL Server Management Studio dialog box, click **Yes** tooagree that you want toorestart SQL Server.</span></span>

### <a name="create-sql-server-authentication-logins"></a><span data-ttu-id="14277-149">Tworzenie identyfikatora logowania do uwierzytelniania w programie SQL Server</span><span class="sxs-lookup"><span data-stu-id="14277-149">Create SQL Server authentication logins</span></span>
<span data-ttu-id="14277-150">tooconnect toohello aparatu bazy danych z innego komputera, należy utworzyć co najmniej jeden identyfikator logowania uwierzytelniania programu SQL Server.</span><span class="sxs-lookup"><span data-stu-id="14277-150">tooconnect toohello Database Engine from another computer, you must create at least one SQL Server authentication login.</span></span>

1. <span data-ttu-id="14277-151">W Eksploratorze obiektów SQL Server Management Studio rozwiń folder hello wystąpienia serwera hello, w której ma zostać toocreate hello nowe dane logowania.</span><span class="sxs-lookup"><span data-stu-id="14277-151">In SQL Server Management Studio Object Explorer, expand hello folder of hello server instance in which you want toocreate hello new login.</span></span>
2. <span data-ttu-id="14277-152">Powitania kliknij prawym przyciskiem myszy **zabezpieczeń** folderu, wskaż zbyt**nowy**i wybierz **logowania...** .</span><span class="sxs-lookup"><span data-stu-id="14277-152">Right-click hello **Security** folder, point too**New**, and select **Login...**.</span></span>
   
    ![Nowy identyfikator logowania](./media/virtual-machines-sql-server-connection-steps/23New-Login.png)
3. <span data-ttu-id="14277-154">W hello **nowe dane logowania -** okno dialogowe na powitania **ogólne** strony, wprowadź nazwę hello hello nowego użytkownika w hello **nazwa logowania** pole.</span><span class="sxs-lookup"><span data-stu-id="14277-154">In hello **Login - New** dialog box, on hello **General** page, enter hello name of hello new user in hello **Login name** box.</span></span>
4. <span data-ttu-id="14277-155">Wybierz pozycję **Uwierzytelnianie programu SQL Server**.</span><span class="sxs-lookup"><span data-stu-id="14277-155">Select **SQL Server authentication**.</span></span>
5. <span data-ttu-id="14277-156">W hello **hasło** wprowadź hasło dla nowego użytkownika hello.</span><span class="sxs-lookup"><span data-stu-id="14277-156">In hello **Password** box, enter a password for hello new user.</span></span> <span data-ttu-id="14277-157">Wprowadź hasło ponownie w hello **Potwierdź hasło** pole.</span><span class="sxs-lookup"><span data-stu-id="14277-157">Enter that password again into hello **Confirm Password** box.</span></span>
6. <span data-ttu-id="14277-158">Wybierz opcje wymuszania hasła hello wymagane (**wymusić zasady haseł**, **wymusić wygaśnięcie hasła**, i **użytkownik musi zmienić hasło przy następnym logowaniu**).</span><span class="sxs-lookup"><span data-stu-id="14277-158">Select hello password enforcement options required (**Enforce password policy**, **Enforce password expiration**, and **User must change password at next login**).</span></span> <span data-ttu-id="14277-159">Jeśli używasz tych danych logowania dla siebie, nie trzeba zmienić hasło przy następnym logowaniu hello toorequire.</span><span class="sxs-lookup"><span data-stu-id="14277-159">If you are using this login for yourself, you do not need toorequire a password change at hello next login.</span></span>
7. <span data-ttu-id="14277-160">Z hello **domyślna baza danych** wybierz domyślna baza danych hello logowania.</span><span class="sxs-lookup"><span data-stu-id="14277-160">From hello **Default database** list, select a default database for hello login.</span></span> <span data-ttu-id="14277-161">**główny** hello domyślne dla tej opcji.</span><span class="sxs-lookup"><span data-stu-id="14277-161">**master** is hello default for this option.</span></span> <span data-ttu-id="14277-162">Jeśli jeszcze nie utworzono bazy danych użytkownika, to pole pozostanie ustawiona zbyt**wzorca**.</span><span class="sxs-lookup"><span data-stu-id="14277-162">If you have not yet created a user database, leave this set too**master**.</span></span>
   
    ![Właściwości identyfikatora logowania](./media/virtual-machines-sql-server-connection-steps/24Test-Login.png)
8. <span data-ttu-id="14277-164">To hello logowania pierwszy tworzysz, może być toodesignate tę nazwę logowania administratora programu SQL Server.</span><span class="sxs-lookup"><span data-stu-id="14277-164">If this is hello first login you are creating, you may want toodesignate this login as a SQL Server administrator.</span></span> <span data-ttu-id="14277-165">Jeśli tak, hello **ról serwera** strony, sprawdź **sysadmin**.</span><span class="sxs-lookup"><span data-stu-id="14277-165">If so, on hello **Server Roles** page, check **sysadmin**.</span></span>
   
   > [!NOTE]
   > <span data-ttu-id="14277-166">Członkowie stałej roli serwera sysadmin hello mają pełną kontrolę nad hello aparatu bazy danych.</span><span class="sxs-lookup"><span data-stu-id="14277-166">Members of hello sysadmin fixed server role have complete control of hello Database Engine.</span></span> <span data-ttu-id="14277-167">Należy dokładnie ograniczyć członkostwo w tej roli.</span><span class="sxs-lookup"><span data-stu-id="14277-167">You should carefully restrict membership in this role.</span></span>
   > 
   > 
   
   ![sysadmin](./media/virtual-machines-sql-server-connection-steps/25sysadmin.png)
9. <span data-ttu-id="14277-169">Kliknij przycisk OK.</span><span class="sxs-lookup"><span data-stu-id="14277-169">Click OK.</span></span>

<span data-ttu-id="14277-170">Aby uzyskać więcej informacji na temat identyfikatorów logowania programu SQL Server, zobacz [Tworzenie identyfikatora logowania](http://msdn.microsoft.com/library/aa337562.aspx).</span><span class="sxs-lookup"><span data-stu-id="14277-170">For more information about SQL Server logins, see [Create a Login](http://msdn.microsoft.com/library/aa337562.aspx).</span></span>

