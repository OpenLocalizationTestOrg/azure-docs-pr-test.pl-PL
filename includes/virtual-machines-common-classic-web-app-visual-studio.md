

<span data-ttu-id="b42a3-101">Po utworzeniu projektu aplikacji sieci web dla platformy Azure można udostępnić maszynę wirtualną na platformie Azure.</span><span class="sxs-lookup"><span data-stu-id="b42a3-101">When you create a web application project for Azure, you can provision a virtual machine in Azure.</span></span> <span data-ttu-id="b42a3-102">Następnie można skonfigurować maszynę wirtualną z dodatkowe oprogramowanie lub użyć maszyny wirtualnej do celów diagnostycznych lub debugowania.</span><span class="sxs-lookup"><span data-stu-id="b42a3-102">You can then configure the virtual machine with additional software, or use the virtual machine for diagnostic or debugging purposes.</span></span>

<span data-ttu-id="b42a3-103">Aby utworzyć maszynę wirtualną podczas tworzenia aplikacji sieci web, wykonaj następujące kroki:</span><span class="sxs-lookup"><span data-stu-id="b42a3-103">To create a virtual machine when you create a web application, follow these steps:</span></span>

1. <span data-ttu-id="b42a3-104">W programie Visual Studio, kliknij przycisk **pliku** > **nowy** > **projektu** > **Web**, a następnie wybierz pozycję **Aplikacji sieci Web ASP.NET** (w obszarze **Visual C#** lub **Visual Basic** węzłach).</span><span class="sxs-lookup"><span data-stu-id="b42a3-104">In Visual Studio, click **File** > **New** > **Project** > **Web**, and then choose **ASP.NET Web Application** (under the **Visual C#** or **Visual Basic** nodes).</span></span>
2. <span data-ttu-id="b42a3-105">W **nowy projekt ASP.NET** okno dialogowe, wybierz typ aplikacji sieci web ma i upewnij się, że w sekcji Azure okna dialogowego (w prawym dolnym rogu) **Hostuj w chmurze** jest pole wyboru wybrane (to pole wyboru jest oznaczony **Utwórz zasoby zdalne** w niektórych instalacji).</span><span class="sxs-lookup"><span data-stu-id="b42a3-105">In the **New ASP.NET Project** dialog box, select the type of web application you want, and in the Azure section of the dialog box (in the lower-right corner), make sure that the **Host in the cloud** check box is selected (this check box is labeled **Create remote resources** in some installations).</span></span>
   
    ![][0]
3. <span data-ttu-id="b42a3-106">Na przykład w obszarze Microsoft Azure, na liście rozwijanej wybierz **maszyny wirtualnej (wersja 1)**, a następnie kliknij przycisk **OK** przycisku.</span><span class="sxs-lookup"><span data-stu-id="b42a3-106">For this example, in the drop-down list under Microsoft Azure, choose **Virtual Machine (v1)**, and then click the **OK** button.</span></span>
4. <span data-ttu-id="b42a3-107">Zaloguj się do platformy Azure, jeśli zostanie wyświetlony monit.</span><span class="sxs-lookup"><span data-stu-id="b42a3-107">Sign in to Azure if you're prompted.</span></span> <span data-ttu-id="b42a3-108">**Utwórz maszynę wirtualną** zostanie wyświetlone okno dialogowe.</span><span class="sxs-lookup"><span data-stu-id="b42a3-108">The **Create Virtual Machine** dialog box appears.</span></span>
   
    ![][2]
5. <span data-ttu-id="b42a3-109">W **nazwy DNS** wprowadź nazwę maszyny wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="b42a3-109">In the **DNS name** box, enter a name for the virtual machine.</span></span> <span data-ttu-id="b42a3-110">Nazwa DNS musi być unikatowa na platformie Azure.</span><span class="sxs-lookup"><span data-stu-id="b42a3-110">The DNS name must be unique in Azure.</span></span> <span data-ttu-id="b42a3-111">Jeśli wprowadzona nazwa jest niedostępna, zostanie wyświetlony czerwony wykrzyknik.</span><span class="sxs-lookup"><span data-stu-id="b42a3-111">If the name you entered isn't available, a red exclamation point appears.</span></span>
6. <span data-ttu-id="b42a3-112">W **obrazu** wybierz obraz, którego chcesz utworzyć maszynę wirtualną na.</span><span class="sxs-lookup"><span data-stu-id="b42a3-112">In the **Image** list, choose the image you want to base the virtual machine on.</span></span> <span data-ttu-id="b42a3-113">Można wybrać obrazy standardowe maszyny wirtualnej platformy Azure lub obrazu przekazywanego do platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="b42a3-113">You can choose any of the standard Azure virtual machine images or your image that you've uploaded to Azure.</span></span>
7. <span data-ttu-id="b42a3-114">Pozostaw **Włącz usługi IIS i Web Deploy** pole wyboru jest zaznaczone, jeśli nie chcesz zainstalować serwer innej witryny sieci web.</span><span class="sxs-lookup"><span data-stu-id="b42a3-114">Leave the **Enable IIS and Web Deploy** check box selected unless you plan to install a different web server.</span></span> <span data-ttu-id="b42a3-115">Nie można opublikować w programie Visual Studio po wyłączeniu narzędzia Web Deploy.</span><span class="sxs-lookup"><span data-stu-id="b42a3-115">You won't be able to publish from Visual Studio if you disable Web Deploy.</span></span> <span data-ttu-id="b42a3-116">Usługi IIS i Web Deploy można dodać do żadnych pakietów obrazów systemu Windows Server, w tym obrazów niestandardowych.</span><span class="sxs-lookup"><span data-stu-id="b42a3-116">You can add IIS and Web Deploy to any of the packaged Windows Server images, including your own custom images.</span></span>
8. <span data-ttu-id="b42a3-117">W **rozmiar** wybierz rozmiar maszyny wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="b42a3-117">In the **Size** list, choose the size of the virtual machine.</span></span>
9. <span data-ttu-id="b42a3-118">Określ poświadczenia logowania dla tej maszyny wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="b42a3-118">Specify the sign-in credentials for this virtual machine.</span></span> <span data-ttu-id="b42a3-119">Zwróć uwagę, ponieważ konieczne będzie ich dostęp do komputera za pośrednictwem pulpitu zdalnego.</span><span class="sxs-lookup"><span data-stu-id="b42a3-119">Make a note of them, because you'll need them to access the machine through Remote Desktop.</span></span>
10. <span data-ttu-id="b42a3-120">W **lokalizacji** wybierz region do hosta maszyny wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="b42a3-120">In the **Location** list, choose the region to host the virtual machine.</span></span>
11. <span data-ttu-id="b42a3-121">Kliknij przycisk **OK** przycisk, aby rozpocząć tworzenie maszyny wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="b42a3-121">Click  the **OK** button to start creating the virtual machine.</span></span> <span data-ttu-id="b42a3-122">Możesz śledzić postęp operacji w **dane wyjściowe** okna.</span><span class="sxs-lookup"><span data-stu-id="b42a3-122">You can follow the progress of the operation in the **Output** window.</span></span>
    
    ![][3]
12. <span data-ttu-id="b42a3-123">Po zainicjowaniu obsługi maszyny wirtualnej, opublikowanych skrypty są tworzone w **PublishScripts** węzła w rozwiązaniu.</span><span class="sxs-lookup"><span data-stu-id="b42a3-123">When the virtual machine is provisioned, published scripts are created in a **PublishScripts** node in your solution.</span></span> <span data-ttu-id="b42a3-124">Opublikowane skrypt jest uruchamiany i przepisy maszynę wirtualną na platformie Azure.</span><span class="sxs-lookup"><span data-stu-id="b42a3-124">The published script runs and provisions a virtual machine in Azure.</span></span> <span data-ttu-id="b42a3-125">**Dane wyjściowe** okno wyświetla stan.</span><span class="sxs-lookup"><span data-stu-id="b42a3-125">The **Output** window shows the status.</span></span> <span data-ttu-id="b42a3-126">Skrypt wykonuje następujące czynności, aby skonfigurować maszynę wirtualną:</span><span class="sxs-lookup"><span data-stu-id="b42a3-126">The script performs the following actions to set up the virtual machine:</span></span>
    
    * <span data-ttu-id="b42a3-127">Tworzy maszynę wirtualną, jeśli jeszcze nie istnieje.</span><span class="sxs-lookup"><span data-stu-id="b42a3-127">Creates the virtual machine if it doesn't already exist.</span></span>
    * <span data-ttu-id="b42a3-128">Tworzy konto magazynu, którego nazwa zaczyna się od `devtest`, ale tylko wtedy, gdy nie ma już konto magazynu w wybranym regionie.</span><span class="sxs-lookup"><span data-stu-id="b42a3-128">Creates a storage account with a name that begins with `devtest`, but only if there isn't already such a storage account in the specified region.</span></span>
    * <span data-ttu-id="b42a3-129">Tworzy usługi w chmurze jako kontener dla maszyny wirtualnej i tworzy rolę sieci web dla aplikacji sieci web.</span><span class="sxs-lookup"><span data-stu-id="b42a3-129">Creates a cloud service as a container for the virtual machine, and creates a web role for the web application.</span></span>
    * <span data-ttu-id="b42a3-130">Konfiguruje narzędzie Web Deploy na maszynie wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="b42a3-130">Configures Web Deploy on the virtual machine.</span></span>
    * <span data-ttu-id="b42a3-131">Umożliwia skonfigurowanie usług IIS i platformy ASP.NET na maszynie wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="b42a3-131">Configures IIS and ASP.NET on the virtual machine.</span></span>
    
    ![][4]
13. <span data-ttu-id="b42a3-132">(Opcjonalnie) Można połączyć do nowej maszyny wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="b42a3-132">(Optional) You can connect to the new virtual machine.</span></span> <span data-ttu-id="b42a3-133">W **Eksploratora serwera**, rozwiń węzeł **maszyn wirtualnych** węzła, wybieranie węzła dla tworzenia maszyny wirtualnej, a jego menu skrótów, **Połącz przy użyciu pulpitu zdalnego**.</span><span class="sxs-lookup"><span data-stu-id="b42a3-133">In **Server Explorer**, expand the **Virtual Machines** node, choose the node for the virtual machine you created, and on its shortcut menu, choose **Connect with Remote Desktop**.</span></span> <span data-ttu-id="b42a3-134">Alternatywnie w **Eksplorator chmury** można **Otwórz w portalu** menu skrótów i nawiąż połączenie z maszyną wirtualną.</span><span class="sxs-lookup"><span data-stu-id="b42a3-134">Alternatively, in **Cloud Explorer** you can choose **Open in Portal** on the shortcut menu and connect to the virtual machine there.</span></span>
    
    ![][5]

## <a name="next-steps"></a><span data-ttu-id="b42a3-135">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="b42a3-135">Next steps</span></span>
<span data-ttu-id="b42a3-136">Jeśli chcesz dostosować opublikowanych skryptów tworzenia, odczytu bardziej szczegółowe informacje o [za pomocą skryptów programu PowerShell systemu Windows do opublikowania deweloperów i środowisk testowych](http://msdn.microsoft.com/library/dn642480.aspx).</span><span class="sxs-lookup"><span data-stu-id="b42a3-136">If you want to customize the published scripts you created, read more in-depth information at [Using Windows PowerShell Scripts to Publish to Dev and Test Environments](http://msdn.microsoft.com/library/dn642480.aspx).</span></span>

[0]: ./media/virtual-machines-common-classic-web-app-visual-studio/CreateVM_NewProject.PNG
[1]: ./media/dotnet-visual-studio-create-virtual-machine/CreateVM_SignIn.PNG
[2]: ./media/virtual-machines-common-classic-web-app-visual-studio/CreateVM_CreateVM.PNG
[3]: ./media/virtual-machines-common-classic-web-app-visual-studio/CreateVM_Provisioning.png
[4]: ./media/virtual-machines-common-classic-web-app-visual-studio/CreateVM_SolutionExplorer.png
[5]: ./media/virtual-machines-common-classic-web-app-visual-studio/VS_Create_VM_Connect.png
