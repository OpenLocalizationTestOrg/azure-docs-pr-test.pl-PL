

<span data-ttu-id="fda1c-101">Rozszerzenia maszyn wirtualnych umożliwiają:</span><span class="sxs-lookup"><span data-stu-id="fda1c-101">VM extensions can help you:</span></span>

* <span data-ttu-id="fda1c-102">Modyfikowanie funkcji zabezpieczeń i tożsamości, takich jak resetowanie wartości konta i korzystanie z oprogramowania chroniącego przed złośliwym kodem</span><span class="sxs-lookup"><span data-stu-id="fda1c-102">Modify security and identity features, such as resetting account values and using antimalware</span></span>
* <span data-ttu-id="fda1c-103">Uruchamianie, zatrzymywanie lub konfigurowanie monitorowania i diagnostyki</span><span class="sxs-lookup"><span data-stu-id="fda1c-103">Start, stop, or configure monitoring and diagnostics</span></span>
* <span data-ttu-id="fda1c-104">Resetowanie lub instalowanie funkcji łączności, takich jak protokoły RDP i SSH</span><span class="sxs-lookup"><span data-stu-id="fda1c-104">Reset or install connectivity features, such as RDP and SSH</span></span>
* <span data-ttu-id="fda1c-105">Diagnozowanie i monitorowanie maszyn wirtualnych oraz zarządzanie nimi</span><span class="sxs-lookup"><span data-stu-id="fda1c-105">Diagnose, monitor, and manage your VMs</span></span>

<span data-ttu-id="fda1c-106">Istnieje również wiele innych funkcji.</span><span class="sxs-lookup"><span data-stu-id="fda1c-106">There are many other features as well.</span></span> <span data-ttu-id="fda1c-107">Nowe funkcje rozszerzenia maszyny wirtualnej są regularnie wydawane.</span><span class="sxs-lookup"><span data-stu-id="fda1c-107">New VM Extension features are released regularly.</span></span> <span data-ttu-id="fda1c-108">W tym artykule opisano hello Azure VM agentów dla systemu Windows i Linux oraz sposobu ich obsługi funkcji rozszerzenia maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="fda1c-108">This article describes hello Azure VM Agents for Windows and Linux, and how they support VM Extension functionality.</span></span> <span data-ttu-id="fda1c-109">Aby uzyskać listę rozszerzeń maszyn wirtualnych według kategorii funkcji, zobacz [Azure VM Extensions and Features](../articles/virtual-machines/windows/extensions-features.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) (Rozszerzenia i funkcje maszyn wirtualnych platformy Azure).</span><span class="sxs-lookup"><span data-stu-id="fda1c-109">For a listing of VM Extensions by feature category, see [Azure VM Extensions and Features](../articles/virtual-machines/windows/extensions-features.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

## <a name="azure-vm-agents-for-windows-and-linux"></a><span data-ttu-id="fda1c-110">Agenci maszyn wirtualnych platformy Azure dla systemu Windows i Linux</span><span class="sxs-lookup"><span data-stu-id="fda1c-110">Azure VM Agents for Windows and Linux</span></span>
<span data-ttu-id="fda1c-111">Hello Azure maszyny wirtualne Agent (Agent maszyny Wirtualnej) jest procesem zabezpieczonych, lekki, który instaluje, konfiguruje i usuwa rozszerzeń maszyny Wirtualnej na wystąpień maszyn wirtualnych Azure.</span><span class="sxs-lookup"><span data-stu-id="fda1c-111">hello Azure Virtual Machines Agent (VM Agent) is a secured, light-weight process that installs, configures, and removes VM extensions on instances of Azure Virtual Machines.</span></span> <span data-ttu-id="fda1c-112">Hello agenta maszyny Wirtualnej działa jako usługa bezpiecznego kontroli lokalne powitania dla maszyny Wirtualnej Azure.</span><span class="sxs-lookup"><span data-stu-id="fda1c-112">hello VM Agent acts as hello secure local control service for your Azure VM.</span></span> <span data-ttu-id="fda1c-113">rozszerzenia Hello, które hello obciążenia agenta zapewniają tooincrease określonych funkcji wydajność pracy przy użyciu wystąpienia hello.</span><span class="sxs-lookup"><span data-stu-id="fda1c-113">hello extensions that hello agent loads provide specific features tooincrease your productivity using hello instance.</span></span>

<span data-ttu-id="fda1c-114">Istnieją dwaj agenci maszyn wirtualnych platformy Azure — jeden dla maszyn wirtualnych z systemem Windows i jeden dla maszyn wirtualnych z systemem Linux.</span><span class="sxs-lookup"><span data-stu-id="fda1c-114">Two Azure VM Agents exist, one for Windows VMs and one for Linux VMs.</span></span>

<span data-ttu-id="fda1c-115">Jeśli chcesz toouse wystąpienie maszyny wirtualnej, jeden lub więcej rozszerzeń maszyny Wirtualnej, hello wystąpienia muszą mieć zainstalowanego agenta maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="fda1c-115">If you want a virtual machine instance toouse one or more VM extensions, hello instance must have an installed VM Agent.</span></span> <span data-ttu-id="fda1c-116">Obraz maszyny wirtualnej, utworzony przy użyciu hello portalu Azure i obrazu z hello **Marketplace** automatycznie instaluje agenta maszyny Wirtualnej w procesie tworzenia hello.</span><span class="sxs-lookup"><span data-stu-id="fda1c-116">A virtual machine image created by using hello Azure portal and an image from hello **Marketplace** automatically installs a VM Agent in hello creation process.</span></span> <span data-ttu-id="fda1c-117">Jeśli wystąpienie maszyny wirtualnej nie ma agenta maszyny Wirtualnej, należy zainstalować hello agenta maszyny Wirtualnej po utworzeniu hello wystąpienie maszyny wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="fda1c-117">If a virtual machine instance lacks a VM Agent, you can install hello VM Agent after hello virtual machine instance is created.</span></span> <span data-ttu-id="fda1c-118">Można także zainstalować agenta hello w niestandardowego obrazu maszyny Wirtualnej, który można następnie przekazać.</span><span class="sxs-lookup"><span data-stu-id="fda1c-118">Or, you can install hello agent in a custom VM image that you then upload.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="fda1c-119">Agenci maszyn wirtualnych to bardzo lekkie usługi umożliwiające bezpieczne administrowanie wystąpieniami maszyn wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="fda1c-119">These VM Agents are very light-weight, services that enable secured administration of virtual machine instances.</span></span> <span data-ttu-id="fda1c-120">Może to być przypadki, w których nie chcesz hello agenta maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="fda1c-120">There might be cases in which you do not want hello VM Agent.</span></span> <span data-ttu-id="fda1c-121">Jeśli tak, można się, że maszyny wirtualne toocreate, które nie mają hello agenta maszyny Wirtualnej, zainstalować za pomocą hello wiersza polecenia platformy Azure lub programu PowerShell.</span><span class="sxs-lookup"><span data-stu-id="fda1c-121">If so, be sure toocreate VMs that do not have hello VM Agent installed using hello Azure CLI or PowerShell.</span></span> <span data-ttu-id="fda1c-122">Mimo że hello agenta maszyny Wirtualnej można usunąć fizycznie, zachowanie hello rozszerzeń maszyny Wirtualnej w wystąpieniu hello jest niezdefiniowana.</span><span class="sxs-lookup"><span data-stu-id="fda1c-122">Although hello VM Agent can be removed physically, hello behavior of VM Extensions on hello instance is undefined.</span></span> <span data-ttu-id="fda1c-123">W związku z tym usunięcie zainstalowanego agenta maszyny wirtualnej nie jest obsługiwane.</span><span class="sxs-lookup"><span data-stu-id="fda1c-123">As a result, removing an installed VM Agent is not supported.</span></span>
>

<span data-ttu-id="fda1c-124">Witaj agenta maszyny Wirtualnej jest włączona w hello następujące sytuacje:</span><span class="sxs-lookup"><span data-stu-id="fda1c-124">hello VM Agent is enabled in hello following situations:</span></span>

* <span data-ttu-id="fda1c-125">Podczas tworzenia wystąpienia maszyny wirtualnej za pomocą hello portalu Azure i wybierając obrazu z hello **Marketplace**,</span><span class="sxs-lookup"><span data-stu-id="fda1c-125">When you create an instance of a VM by using hello Azure portal and selecting an image from hello **Marketplace**,</span></span>
* <span data-ttu-id="fda1c-126">Podczas tworzenia wystąpienia maszyny wirtualnej za pomocą hello [AzureVM nowy](https://msdn.microsoft.com/library/azure/dn495254.aspx) lub hello [AzureQuickVM nowy](https://msdn.microsoft.com/library/azure/dn495183.aspx) polecenia cmdlet.</span><span class="sxs-lookup"><span data-stu-id="fda1c-126">When you create an instance of a VM by using hello [New-AzureVM](https://msdn.microsoft.com/library/azure/dn495254.aspx) or hello [New-AzureQuickVM](https://msdn.microsoft.com/library/azure/dn495183.aspx) cmdlet.</span></span> <span data-ttu-id="fda1c-127">Można utworzyć Maszynę wirtualną bez agenta maszyny Wirtualnej przez dodanie hello **— DisableGuestAgent** toohello parametru [AzureProvisioningConfig Dodaj](https://msdn.microsoft.com/library/azure/dn495299.aspx) polecenia cmdlet</span><span class="sxs-lookup"><span data-stu-id="fda1c-127">You can create a VM without a VM Agent by adding hello **–DisableGuestAgent** parameter toohello [Add-AzureProvisioningConfig](https://msdn.microsoft.com/library/azure/dn495299.aspx) cmdlet,</span></span>

* <span data-ttu-id="fda1c-128">Kiedy należy ręcznie pobranie i zainstalowanie hello agenta maszyny Wirtualnej na istniejące wystąpienie maszyny Wirtualnej i ustaw hello **ProvisionGuestAgent** wartość zbyt**true**.</span><span class="sxs-lookup"><span data-stu-id="fda1c-128">When you manually download and install hello VM Agent on an existing VM instance, and set hello **ProvisionGuestAgent** value too**true**.</span></span> <span data-ttu-id="fda1c-129">Tej metody można użyć w przypadku agentów systemu Windows i Linux za pomocą polecenia programu PowerShell lub wywołania REST.</span><span class="sxs-lookup"><span data-stu-id="fda1c-129">You can use this technique for Windows and Linux agents, by using a PowerShell command or a REST call.</span></span> <span data-ttu-id="fda1c-130">(Jeśli nie ustawisz hello **ProvisionGuestAgent** wartość po ręcznej instalacji agenta maszyny Wirtualnej, dodanie hello hello agenta maszyny Wirtualnej nie jest poprawnie wykrywane hello.) hello po kodu przykładzie pokazano sposób toodo to przy użyciu programu PowerShell, gdzie hello `$svc` i `$name` argumenty zostały już ustalone:</span><span class="sxs-lookup"><span data-stu-id="fda1c-130">(If you do not set hello **ProvisionGuestAgent** value after manually installing hello VM Agent, hello addition of hello VM Agent is not detected properly.) hello following code example shows how toodo this using PowerShell where hello `$svc` and `$name` arguments have already been determined:</span></span>

      $vm = Get-AzureVM –ServiceName $svc –Name $name
      $vm.VM.ProvisionGuestAgent = $TRUE
      Update-AzureVM –Name $name –VM $vm.VM –ServiceName $svc

* <span data-ttu-id="fda1c-131">Po utworzeniu obrazu maszyny wirtualnej zawierającego zainstalowanego agenta maszyny wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="fda1c-131">When you create a VM image that includes an installed VM Agent.</span></span> <span data-ttu-id="fda1c-132">Gdy obraz powitania z hello agenta maszyny Wirtualnej istnieje, możesz przekazać tooAzure tego obrazu.</span><span class="sxs-lookup"><span data-stu-id="fda1c-132">Once hello image with hello VM Agent exists, you can upload that image tooAzure.</span></span> <span data-ttu-id="fda1c-133">Dla maszyny Wirtualnej systemu Windows, Pobierz hello [pliku msi agenta maszyny Wirtualnej systemu Windows](http://go.microsoft.com/fwlink/?LinkID=394789) i zainstaluj hello agenta maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="fda1c-133">For a Windows VM, download hello [Windows VM Agent .msi file](http://go.microsoft.com/fwlink/?LinkID=394789) and install hello VM Agent.</span></span> <span data-ttu-id="fda1c-134">Dla maszyny Wirtualnej systemu Linux, zainstaluj hello agenta maszyny Wirtualnej z repozytorium GitHub hello znajdujący się w <https://github.com/Azure/WALinuxAgent>.</span><span class="sxs-lookup"><span data-stu-id="fda1c-134">For a Linux VM, install hello VM Agent from hello GitHub repository located at <https://github.com/Azure/WALinuxAgent>.</span></span> <span data-ttu-id="fda1c-135">Aby uzyskać więcej informacji dotyczących sposobu tooinstall hello agenta maszyny Wirtualnej w systemie Linux, zobacz hello [Podręcznik użytkownika agenta maszyny Wirtualnej systemu Linux Azure](../articles/virtual-machines/linux/agent-user-guide.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="fda1c-135">For more information on how tooinstall hello VM Agent on Linux, see hello [Azure Linux VM Agent User Guide](../articles/virtual-machines/linux/agent-user-guide.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span>

> [!NOTE]
> <span data-ttu-id="fda1c-136">W PaaS, hello agenta maszyny Wirtualnej jest nazywany **WindowsAzureGuestAgent**i jest zawsze dostępna w sieci Web i maszyn wirtualnych roli procesu roboczego.</span><span class="sxs-lookup"><span data-stu-id="fda1c-136">In PaaS, hello VM Agent is called **WindowsAzureGuestAgent**, and is always available on Web and Worker Role VMs.</span></span> <span data-ttu-id="fda1c-137">(Aby uzyskać więcej informacji, zobacz [Azure roli architektura](http://blogs.msdn.com/b/kwill/archive/2011/05/05/windows-azure-role-architecture.aspx).) hello agenta maszyny Wirtualnej dla maszyn wirtualnych roli można teraz dodawać usługi w chmurze toohello rozszerzenia maszyn wirtualnych hello tak samo, jak w przypadku trwałe maszyny wirtualne.</span><span class="sxs-lookup"><span data-stu-id="fda1c-137">(For more information, see [Azure Role Architecture](http://blogs.msdn.com/b/kwill/archive/2011/05/05/windows-azure-role-architecture.aspx).) hello VM Agent for Role VMs can now add extensions toohello cloud service VMs in hello same way that it does for persistent Virtual Machines.</span></span> <span data-ttu-id="fda1c-138">Różnica największych Hello rozszerzeń maszyny Wirtualnej w roli maszyn wirtualnych i trwałe maszyny wirtualne jest po dodaniu hello rozszerzeń maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="fda1c-138">hello biggest difference between VM Extensions on role VMs and persistent VMs is when hello VM extensions are added.</span></span> <span data-ttu-id="fda1c-139">Za pomocą roli maszyn wirtualnych rozszerzenia są dodawane pierwszego toohello usługi w chmurze, następnie toohello wdrożenia w ramach danej usługi w chmurze.</span><span class="sxs-lookup"><span data-stu-id="fda1c-139">With role VMs, extensions are added first toohello cloud service, then toohello deployments within that cloud service.</span></span>
>
> <span data-ttu-id="fda1c-140">Użyj [Get-AzureServiceAvailableExtension](https://msdn.microsoft.com/library/azure/dn722498.aspx) toolist polecenia cmdlet wszystkie rozszerzenia maszyny Wirtualnej dostępną rolę.</span><span class="sxs-lookup"><span data-stu-id="fda1c-140">Use the [Get-AzureServiceAvailableExtension](https://msdn.microsoft.com/library/azure/dn722498.aspx) cmdlet toolist all available role VM extensions.</span></span>
>
>

## <a name="find-add-update-and-remove-vm-extensions"></a><span data-ttu-id="fda1c-141">Znajdowanie, dodawanie, aktualizowanie i usuwanie rozszerzeń maszyn wirtualnych</span><span class="sxs-lookup"><span data-stu-id="fda1c-141">Find, Add, Update, and Remove VM Extensions</span></span>
<span data-ttu-id="fda1c-142">Aby uzyskać szczegółowe informacje na temat tych zadań, zobacz [Add, Find, Update, and Remove Azure VM Extensions](../articles/virtual-machines/windows/classic/manage-extensions.md?toc=%2fazure%2fvirtual-machines%2fwindows%2fclassic%2ftoc.json) (Dodawanie, znajdowanie, aktualizowanie i usuwanie rozszerzeń maszyn wirtualnych platformy Azure).</span><span class="sxs-lookup"><span data-stu-id="fda1c-142">For details on these tasks, see [Add, Find, Update, and Remove Azure VM Extensions](../articles/virtual-machines/windows/classic/manage-extensions.md?toc=%2fazure%2fvirtual-machines%2fwindows%2fclassic%2ftoc.json).</span></span>
