



<span data-ttu-id="5597f-101">W zależności od środowiska i dostępnych wyborów hello skryptu można utworzyć wszystkich infrastruktury klastra hello, w tym hello sieci wirtualnej platformy Azure, konta magazynu usługi w chmurze, kontrolera domeny, lokalnych lub zdalnych baz danych SQL, węzła głównego i dodatkowego klastra węzły.</span><span class="sxs-lookup"><span data-stu-id="5597f-101">Depending on your environment and choices, hello script can create all hello cluster infrastructure, including hello Azure virtual network, storage accounts, cloud services, domain controller, remote or local SQL databases, head node, and additional cluster nodes.</span></span> <span data-ttu-id="5597f-102">Alternatywnie hello skryptu można użyć istniejącej infrastruktury platformy Azure i utworzyć tylko hello węzłów klastra HPC.</span><span class="sxs-lookup"><span data-stu-id="5597f-102">Alternatively, hello script can use pre-existing Azure infrastructure and create only hello HPC cluster nodes.</span></span>

<span data-ttu-id="5597f-103">Informacje uzupełniające dotyczące Planowanie klastra HPC Pack, zobacz hello [wersja ewaluacyjna produktu i planowanie](https://technet.microsoft.com/library/jj899596.aspx) i [wprowadzenie](https://technet.microsoft.com/library/jj899590.aspx) zawartości w bibliotece TechNet HPC Pack 2012 R2 hello.</span><span class="sxs-lookup"><span data-stu-id="5597f-103">For background information about planning an HPC Pack cluster, see hello [Product Evaluation and Planning](https://technet.microsoft.com/library/jj899596.aspx) and [Getting Started](https://technet.microsoft.com/library/jj899590.aspx) content in hello HPC Pack 2012 R2 TechNet Library.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="5597f-104">Wymagania wstępne</span><span class="sxs-lookup"><span data-stu-id="5597f-104">Prerequisites</span></span>
* <span data-ttu-id="5597f-105">**Subskrypcja platformy Azure**: subskrypcji można używać w obu hello usługi Azure globalnym, ani w chińskiej wersji platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="5597f-105">**Azure subscription**: You can use a subscription in either hello Azure Global or Azure China service.</span></span> <span data-ttu-id="5597f-106">Swoje limity subskrypcji wpływa na powitania liczbę i rodzaj węzłach klastra, którą można wdrożyć.</span><span class="sxs-lookup"><span data-stu-id="5597f-106">Your subscription limits affect hello number and type of cluster nodes you can deploy.</span></span> <span data-ttu-id="5597f-107">Aby uzyskać informacje, zobacz [subskrypcji platformy Azure i usługi limity, przydziały i ograniczenia](../articles/azure-subscription-service-limits.md).</span><span class="sxs-lookup"><span data-stu-id="5597f-107">For information, see [Azure subscription and service limits, quotas, and constraints](../articles/azure-subscription-service-limits.md).</span></span>
* <span data-ttu-id="5597f-108">**Komputer kliencki z systemem Windows przy użyciu programu Azure PowerShell 0.8.10 lub nowszy zainstalowany i skonfigurowany**: zobacz [wprowadzenie do programu Azure PowerShell](/powershell/azureps-cmdlets-docs) dla instalacji instrukcje i kroki tooconnect tooyour subskrypcji platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="5597f-108">**Windows client computer with Azure PowerShell 0.8.10 or later installed and configured**: See [Get started with Azure PowerShell](/powershell/azureps-cmdlets-docs) for installation instructions and steps tooconnect tooyour Azure subscription.</span></span>
* <span data-ttu-id="5597f-109">**Skrypt wdrożenia HPC Pack IaaS**: Pobierz i Rozpakuj hello najnowszą wersję hello skryptu z hello [Microsoft Download Center](https://www.microsoft.com/download/details.aspx?id=44949).</span><span class="sxs-lookup"><span data-stu-id="5597f-109">**HPC Pack IaaS deployment script**: Download and unpack hello latest version of hello script from hello [Microsoft Download Center](https://www.microsoft.com/download/details.aspx?id=44949).</span></span> <span data-ttu-id="5597f-110">Sprawdź wersję hello skryptu hello uruchamiając `New-HPCIaaSCluster.ps1 –Version`.</span><span class="sxs-lookup"><span data-stu-id="5597f-110">Check hello version of hello script by running `New-HPCIaaSCluster.ps1 –Version`.</span></span> <span data-ttu-id="5597f-111">Ten artykuł jest oparty na wersji 4.5.2 hello skryptu.</span><span class="sxs-lookup"><span data-stu-id="5597f-111">This article is based on version 4.5.2 of hello script.</span></span>
* <span data-ttu-id="5597f-112">**Konfiguracja pliku**: Utwórz plik XML, że skrypt hello używa klastra HPC hello tooconfigure.</span><span class="sxs-lookup"><span data-stu-id="5597f-112">**Script configuration file**: Create an XML file that hello script uses tooconfigure hello HPC cluster.</span></span> <span data-ttu-id="5597f-113">Informacje i przykłady zobacz sekcje w dalszej części tego artykułu i hello plik Manual.rtf dołączony hello skrypt wdrożenia.</span><span class="sxs-lookup"><span data-stu-id="5597f-113">For information and examples, see sections later in this article and hello file Manual.rtf that accompanies hello deployment script.</span></span>

## <a name="syntax"></a><span data-ttu-id="5597f-114">Składnia</span><span class="sxs-lookup"><span data-stu-id="5597f-114">Syntax</span></span>
```PowerShell
New-HPCIaaSCluster.ps1 [-ConfigFile] <String> [-AdminUserName]<String> [[-AdminPassword] <String>] [[-HPCImageName] <String>] [[-LogFile] <String>] [-Force] [-NoCleanOnFailure] [-PSSessionSkipCACheck] [<CommonParameters>]
```
> [!NOTE]
> <span data-ttu-id="5597f-115">Uruchom skrypt hello jako administrator.</span><span class="sxs-lookup"><span data-stu-id="5597f-115">Run hello script as an administrator.</span></span>
> 
> 

### <a name="parameters"></a><span data-ttu-id="5597f-116">Parametry</span><span class="sxs-lookup"><span data-stu-id="5597f-116">Parameters</span></span>
* <span data-ttu-id="5597f-117">**ConfigFile**: Określa ścieżkę pliku hello klastra HPC hello toodescribe hello konfiguracji pliku.</span><span class="sxs-lookup"><span data-stu-id="5597f-117">**ConfigFile**: Specifies hello file path of hello configuration file toodescribe hello HPC cluster.</span></span> <span data-ttu-id="5597f-118">Zobacz więcej informacji na temat hello pliku konfiguracji, w tym temacie lub w pliku hello Manual.rtf w folderze hello zawierający skrypt hello.</span><span class="sxs-lookup"><span data-stu-id="5597f-118">See more about hello configuration file in this topic, or in hello file Manual.rtf in hello folder containing hello script.</span></span>
* <span data-ttu-id="5597f-119">**AdminUserName**: Określa nazwę użytkownika, powitalne.</span><span class="sxs-lookup"><span data-stu-id="5597f-119">**AdminUserName**: Specifies hello user name.</span></span> <span data-ttu-id="5597f-120">Jeśli hello domeny lasu został utworzony przez skrypt hello, staje się on hello nazwą użytkownika administratora lokalnego dla wszystkich maszyn wirtualnych i nazwę administratora domeny hello.</span><span class="sxs-lookup"><span data-stu-id="5597f-120">If hello domain forest is created by hello script, this becomes hello local administrator user name for all VMs and hello domain administrator name.</span></span> <span data-ttu-id="5597f-121">Jeśli hello lasu domeny już istnieje, to określa użytkownika domeny hello hello tooinstall nazwa użytkownika administratora lokalnego HPC Pack.</span><span class="sxs-lookup"><span data-stu-id="5597f-121">If hello domain forest already exists, this specifies hello domain user as hello local administrator user name tooinstall HPC Pack.</span></span>
* <span data-ttu-id="5597f-122">**AdminPassword**: Określa hasło administratora hello.</span><span class="sxs-lookup"><span data-stu-id="5597f-122">**AdminPassword**: Specifies hello administrator’s password.</span></span> <span data-ttu-id="5597f-123">Jeśli nie zostanie określony w wierszu polecenia hello, skrypt hello monituje tooinput hello hasła.</span><span class="sxs-lookup"><span data-stu-id="5597f-123">If not specified in hello command line, hello script prompts you tooinput hello password.</span></span>
* <span data-ttu-id="5597f-124">**HPCImageName** (opcjonalnie): Określa nazwę obrazu maszyny Wirtualnej pakietu HPC hello używany klaster HPC hello toodeploy.</span><span class="sxs-lookup"><span data-stu-id="5597f-124">**HPCImageName** (optional): Specifies hello HPC Pack VM image name used toodeploy hello HPC cluster.</span></span> <span data-ttu-id="5597f-125">Musi być obrazem udostępnionych przez firmę Microsoft HPC Pack z hello Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="5597f-125">It must be a Microsoft-provided HPC Pack image from hello Azure Marketplace.</span></span> <span data-ttu-id="5597f-126">Jeśli nie została określona (zalecane zwykle), hello skryptu wybiera hello Najnowsza opublikowana [obrazu HPC Pack 2012 R2](https://azure.microsoft.com/marketplace/partners/microsoft/hpcpack2012r2onwindowsserver2012r2/).</span><span class="sxs-lookup"><span data-stu-id="5597f-126">If not specified (recommended usually), hello script chooses hello latest published [HPC Pack 2012 R2 image](https://azure.microsoft.com/marketplace/partners/microsoft/hpcpack2012r2onwindowsserver2012r2/).</span></span> <span data-ttu-id="5597f-127">Obraz najnowsze Hello jest oparty na Windows Server 2012 R2 Datacenter z HPC Pack 2012 R2 Update 3.</span><span class="sxs-lookup"><span data-stu-id="5597f-127">hello latest image is based on Windows Server 2012 R2 Datacenter with HPC Pack 2012 R2 Update 3 installed.</span></span>
  
  > [!NOTE]
  > <span data-ttu-id="5597f-128">Wdrożenie zakończy się niepowodzeniem, jeśli nie określisz prawidłowym obrazem HPC Pack.</span><span class="sxs-lookup"><span data-stu-id="5597f-128">Deployment fails if you don't specify a valid HPC Pack image.</span></span>
  > 
  > 
* <span data-ttu-id="5597f-129">**Plik dziennika** (opcjonalnie): Określa ścieżkę pliku dziennika wdrażania hello.</span><span class="sxs-lookup"><span data-stu-id="5597f-129">**LogFile** (optional): Specifies hello deployment log file path.</span></span> <span data-ttu-id="5597f-130">Jeśli nie zostanie określony, hello skrypt tworzy plik dziennika w katalogu temp hello hello komputera z uruchomionym hello skryptu.</span><span class="sxs-lookup"><span data-stu-id="5597f-130">If not specified, hello script creates a log file in hello temp directory of hello computer running hello script.</span></span>
* <span data-ttu-id="5597f-131">**Wymuś** (opcjonalnie): pomija wszystkie monity potwierdzenie hello.</span><span class="sxs-lookup"><span data-stu-id="5597f-131">**Force** (optional): Suppresses all hello confirmation prompts.</span></span>
* <span data-ttu-id="5597f-132">**NoCleanOnFailure** (opcjonalnie): Określa, w tym hello maszynach wirtualnych platformy Azure, które nie zostały pomyślnie wdrożone nie zostaną usunięte.</span><span class="sxs-lookup"><span data-stu-id="5597f-132">**NoCleanOnFailure** (optional): Specifies that hello Azure VMs that are not successfully deployed are not removed.</span></span> <span data-ttu-id="5597f-133">Ręcznie usuń te maszyny wirtualne przed uruchomienie hello skryptu toocontinue hello wdrożenia lub hello wdrożenia może zakończyć się niepowodzeniem.</span><span class="sxs-lookup"><span data-stu-id="5597f-133">Remove these VMs manually before rerunning hello script toocontinue hello deployment, or hello deployment may fail.</span></span>
* <span data-ttu-id="5597f-134">**PSSessionSkipCACheck** (opcjonalnie): dla każdej usługi w chmurze z maszyn wirtualnych wdrożonych przez ten skrypt certyfikatu z podpisem własnym jest generowany automatycznie przez usługę Azure i hello wszystkich maszyn wirtualnych w usłudze w chmurze hello użycie tego certyfikatu jako hello domyślne systemu Windows Zdalne zarządzanie systemem Windows (WinRM) certyfikatu.</span><span class="sxs-lookup"><span data-stu-id="5597f-134">**PSSessionSkipCACheck** (optional): For every cloud service with VMs deployed by this script, a self-signed certificate is automatically generated by Azure, and all hello VMs in hello cloud service use this certificate as hello default Windows Remote Management (WinRM) certificate.</span></span> <span data-ttu-id="5597f-135">Funkcje HPC toodeploy na tych maszynach wirtualnych Azure, skrypt hello domyślnie tymczasowo zainstaluje te certyfikaty w hello komputera lokalnego\\magazynie Zaufane główne urzędy certyfikacji powitania klienta komputera toosuppress Witaj "nie jest zaufany urząd certyfikacji" zabezpieczeń Błąd podczas wykonywania skryptu.</span><span class="sxs-lookup"><span data-stu-id="5597f-135">toodeploy HPC features in these Azure VMs, hello script by default temporarily installs these certificates in hello Local Computer\\Trusted Root Certification Authorities store of hello client computer toosuppress hello “not trusted CA” security error during script execution.</span></span> <span data-ttu-id="5597f-136">Hello certyfikaty zostaną usunięte po zakończeniu hello skryptu.</span><span class="sxs-lookup"><span data-stu-id="5597f-136">hello certificates are removed when hello script finishes.</span></span> <span data-ttu-id="5597f-137">Jeśli ten parametr jest określony, hello certyfikaty nie są zainstalowane w komputerze klienckim hello i ostrzeżenie o zabezpieczeniach hello jest pomijane.</span><span class="sxs-lookup"><span data-stu-id="5597f-137">If this parameter is specified, hello certificates are not installed in hello client computer, and hello security warning is suppressed.</span></span>
  
  > [!IMPORTANT]
  > <span data-ttu-id="5597f-138">Ten parametr nie jest zalecane w przypadku wdrożeń produkcyjnych.</span><span class="sxs-lookup"><span data-stu-id="5597f-138">This parameter is not recommended for production deployments.</span></span>
  > 
  > 

### <a name="example"></a><span data-ttu-id="5597f-139">Przykład</span><span class="sxs-lookup"><span data-stu-id="5597f-139">Example</span></span>
<span data-ttu-id="5597f-140">Witaj poniższy przykład tworzy klastra HPC Pack przy użyciu pliku konfiguracji *MyConfigFile.xml*i określa poświadczenia administratora dla instalowanie hello klastra.</span><span class="sxs-lookup"><span data-stu-id="5597f-140">hello following example creates an HPC Pack cluster using the configuration file *MyConfigFile.xml*, and specifies administrator credentials for installing hello cluster.</span></span>

```PowerShell
.\New-HPCIaaSCluster.ps1 –ConfigFile MyConfigFile.xml -AdminUserName <username> –AdminPassword <password>
```

### <a name="additional-considerations"></a><span data-ttu-id="5597f-141">Dodatkowe zagadnienia</span><span class="sxs-lookup"><span data-stu-id="5597f-141">Additional considerations</span></span>
* <span data-ttu-id="5597f-142">skrypt Hello Opcjonalnie można udostępnić przesyłanie zadań za pomocą portalu internetowego HPC Pack hello lub hello HPC Pack REST API.</span><span class="sxs-lookup"><span data-stu-id="5597f-142">hello script can optionally enable job submission through hello HPC Pack web portal or hello HPC Pack REST API.</span></span>
* <span data-ttu-id="5597f-143">Witaj opcjonalnie skryptu niestandardowych skryptów przed i po konfiguracji w węźle głównym hello tooinstall dodatkowego oprogramowania lub skonfigurować inne ustawienia.</span><span class="sxs-lookup"><span data-stu-id="5597f-143">hello script can optionally run custom pre- and post-configuration scripts on hello head node if you want tooinstall additional software or configure other settings.</span></span>

## <a name="configuration-file"></a><span data-ttu-id="5597f-144">Plik konfiguracji</span><span class="sxs-lookup"><span data-stu-id="5597f-144">Configuration file</span></span>
<span data-ttu-id="5597f-145">plik konfiguracji Hello skrypt wdrożenia hello jest plik XML.</span><span class="sxs-lookup"><span data-stu-id="5597f-145">hello configuration file for hello deployment script is an XML file.</span></span> <span data-ttu-id="5597f-146">plik schematu Hello HPCIaaSClusterConfig.xsd znajduje się w folderze skryptów wdrażania HPC Pack IaaS hello.</span><span class="sxs-lookup"><span data-stu-id="5597f-146">hello schema file HPCIaaSClusterConfig.xsd is in hello HPC Pack IaaS deployment script folder.</span></span> <span data-ttu-id="5597f-147">**IaaSClusterConfig** jest elementem głównym hello hello pliku konfiguracji, który zawiera elementy podrzędne hello opisano szczegółowo w pliku hello Manual.rtf w folderze skryptów wdrażania hello.</span><span class="sxs-lookup"><span data-stu-id="5597f-147">**IaaSClusterConfig** is hello root element of hello configuration file, which contains hello child elements described in detail in hello file Manual.rtf in hello deployment script folder.</span></span>

