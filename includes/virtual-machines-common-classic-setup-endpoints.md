
<span data-ttu-id="9b8f2-101">Każdy punkt końcowy ma *port publiczny* i *port prywatny*:</span><span class="sxs-lookup"><span data-stu-id="9b8f2-101">Each endpoint has a *public port* and a *private port*:</span></span>

* <span data-ttu-id="9b8f2-102">port publiczny Hello jest używany przez toolisten usługi równoważenia obciążenia Azure hello maszyny wirtualnej toohello ruchu przychodzącego z hello Internet.</span><span class="sxs-lookup"><span data-stu-id="9b8f2-102">hello public port is used by hello Azure load balancer toolisten for incoming traffic toohello virtual machine from hello Internet.</span></span>
* <span data-ttu-id="9b8f2-103">port prywatny Hello jest używany przez hello toolisten maszyny wirtualnej dla przychodzącego ruchu, zwykle kierowana tooan aplikacji lub usługa jest uruchomiona na maszynie wirtualnej hello.</span><span class="sxs-lookup"><span data-stu-id="9b8f2-103">hello private port is used by hello virtual machine toolisten for incoming traffic, typically destined tooan application or service running on hello virtual machine.</span></span>

<span data-ttu-id="9b8f2-104">Wartości domyślne dla hello protokołu IP i portów TCP lub UDP dla dobrze znanych protokołów sieciowych są udostępniane po utworzeniu punktów końcowych z hello portalu Azure.</span><span class="sxs-lookup"><span data-stu-id="9b8f2-104">Default values for hello IP protocol and TCP or UDP ports for well-known network protocols are provided when you create endpoints with hello Azure portal.</span></span> <span data-ttu-id="9b8f2-105">Niestandardowe punkty końcowe konieczne będzie, toospecify hello poprawne protokołu IP (TCP lub UDP) i hello publicznych i prywatnych portów.</span><span class="sxs-lookup"><span data-stu-id="9b8f2-105">For custom endpoints, you'll need toospecify hello correct IP protocol (TCP or UDP) and hello public and private ports.</span></span> <span data-ttu-id="9b8f2-106">ruch przychodzący toodistribute losowo między wieloma maszynami wirtualnymi, będziesz potrzebować toocreate zestaw z równoważeniem obciążenia składające się z wielu punktów końcowych.</span><span class="sxs-lookup"><span data-stu-id="9b8f2-106">toodistribute incoming traffic randomly across multiple virtual machines, you'll need toocreate a load-balanced set consisting of multiple endpoints.</span></span>

<span data-ttu-id="9b8f2-107">Po utworzeniu punktu końcowego, można użyć zasad kontroli dostępu do listę kontroli dostępu (ACL) toodefine które akceptowanie lub odrzucanie hello ruch przychodzący port publiczny toohello hello punktu końcowego na podstawie jego adresu IP źródłowego.</span><span class="sxs-lookup"><span data-stu-id="9b8f2-107">After you create an endpoint, you can use an access control list (ACL) toodefine rules that permit or deny hello incoming traffic toohello public port of hello endpoint based on its source IP address.</span></span> <span data-ttu-id="9b8f2-108">Jednak jeśli hello maszyny wirtualnej znajduje się w sieci wirtualnej platformy Azure, należy zamiast tego użyć grup zabezpieczeń sieci.</span><span class="sxs-lookup"><span data-stu-id="9b8f2-108">However, if hello virtual machine is in an Azure virtual network, you should use network security groups instead.</span></span> <span data-ttu-id="9b8f2-109">Aby uzyskać więcej informacji, zobacz [dotyczące grup zabezpieczeń sieci](../articles/virtual-network/virtual-networks-nsg.md).</span><span class="sxs-lookup"><span data-stu-id="9b8f2-109">For details, see [About network security groups](../articles/virtual-network/virtual-networks-nsg.md).</span></span>

> [!NOTE]
> <span data-ttu-id="9b8f2-110">Konfiguracja zapory dla maszyn wirtualnych platformy Azure odbywa się automatycznie dla portów skojarzonych z punktami końcowymi połączenia zdalnego, które Azure konfiguruje się automatycznie.</span><span class="sxs-lookup"><span data-stu-id="9b8f2-110">Firewall configuration for Azure virtual machines is done automatically for ports associated with remote connectivity endpoints that Azure sets up automatically.</span></span> <span data-ttu-id="9b8f2-111">Porty określone dla innych punktów końcowych konfiguracja nie odbywa się automatycznie zapory toohello hello maszyny wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="9b8f2-111">For ports specified for all other endpoints, no configuration is done automatically toohello firewall of hello virtual machine.</span></span> <span data-ttu-id="9b8f2-112">Po utworzeniu punktu końcowego dla maszyny wirtualnej hello należy tooensure, który hello zapory hello maszyny wirtualnej umożliwia również hello ruchu protokołu hello i konfiguracji punktu końcowego toohello odpowiedni port prywatny.</span><span class="sxs-lookup"><span data-stu-id="9b8f2-112">When you create an endpoint for hello virtual machine, you'll need tooensure that hello firewall of hello virtual machine also allows hello traffic for hello protocol and private port corresponding toohello endpoint configuration.</span></span> <span data-ttu-id="9b8f2-113">tooconfigure hello zapory można znaleźć w dokumentacji hello lub Pomoc online dla hello systemu operacyjnego na maszynie wirtualnej hello.</span><span class="sxs-lookup"><span data-stu-id="9b8f2-113">tooconfigure hello firewall, see hello documentation or on-line help for hello operating system running on hello virtual machine.</span></span>
>
>

## <a name="create-an-endpoint"></a><span data-ttu-id="9b8f2-114">Tworzenie punktu końcowego</span><span class="sxs-lookup"><span data-stu-id="9b8f2-114">Create an endpoint</span></span>
1. <span data-ttu-id="9b8f2-115">Jeśli jeszcze tego nie zrobiono, zaloguj się w toohello [portalu Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="9b8f2-115">If you haven't already done so, sign in toohello [Azure portal](https://portal.azure.com).</span></span>
2. <span data-ttu-id="9b8f2-116">Kliknij przycisk **maszyn wirtualnych**, a następnie kliknij nazwę hello hello maszyny wirtualnej, które mają tooconfigure.</span><span class="sxs-lookup"><span data-stu-id="9b8f2-116">Click **Virtual Machines**, and then click hello name of hello virtual machine that you want tooconfigure.</span></span>
3. <span data-ttu-id="9b8f2-117">Kliknij przycisk **punkty końcowe** w hello **ustawienia** grupy.</span><span class="sxs-lookup"><span data-stu-id="9b8f2-117">Click **Endpoints** in hello **Settings** group.</span></span> <span data-ttu-id="9b8f2-118">Witaj **punkty końcowe** strona zawiera listę wszystkich hello bieżące punkty końcowe hello maszyny wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="9b8f2-118">hello **Endpoints** page lists all hello current endpoints for hello virtual machine.</span></span> <span data-ttu-id="9b8f2-119">(W tym przykładzie jest Maszynę wirtualną systemu Windows.</span><span class="sxs-lookup"><span data-stu-id="9b8f2-119">(This example is a Windows VM.</span></span> <span data-ttu-id="9b8f2-120">Linux VM domyślnie wyświetli punkt końcowy SSH.)</span><span class="sxs-lookup"><span data-stu-id="9b8f2-120">A Linux VM will by default show an endpoint for SSH.)</span></span>

   <!-- ![Endpoints](./media/virtual-machines-common-classic-setup-endpoints/endpointswindows.png) -->
   ![Punkty końcowe](./media/virtual-machines-common-classic-setup-endpoints/endpointsblade.png)

4. <span data-ttu-id="9b8f2-122">Na pasku poleceń hello powyżej hello wpisy punktów końcowych, kliknij przycisk **Dodaj**.</span><span class="sxs-lookup"><span data-stu-id="9b8f2-122">In hello command bar above hello endpoint entries, click **Add**.</span></span>
5. <span data-ttu-id="9b8f2-123">Na powitania **dodać punkt końcowy** wpisz nazwę dla punktu końcowego hello w **nazwa**.</span><span class="sxs-lookup"><span data-stu-id="9b8f2-123">On hello **Add endpoint** page, type a name for hello endpoint in **Name**.</span></span>
6. <span data-ttu-id="9b8f2-124">W **protokołu**, albo wybierz **TCP** lub **UDP**.</span><span class="sxs-lookup"><span data-stu-id="9b8f2-124">In **Protocol**, choose either **TCP** or **UDP**.</span></span>
7. <span data-ttu-id="9b8f2-125">W **Port publiczny**, wpisz numer portu hello hello ruch przychodzący z hello Internet.</span><span class="sxs-lookup"><span data-stu-id="9b8f2-125">In **Public Port**, type hello port number for hello incoming traffic from hello Internet.</span></span> <span data-ttu-id="9b8f2-126">W **Port prywatny**, wpisz numer portu hello, na które hello nasłuchuje maszyny wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="9b8f2-126">In **Private Port**, type hello port number on which hello virtual machine is listening.</span></span> <span data-ttu-id="9b8f2-127">Numery portów mogą być różne.</span><span class="sxs-lookup"><span data-stu-id="9b8f2-127">These port numbers can be different.</span></span> <span data-ttu-id="9b8f2-128">Upewnij się, że hello zapora na maszynie wirtualnej hello została skonfigurowana tooallow hello ruchu odpowiedniego toohello protokołu (w kroku 6) i port prywatny.</span><span class="sxs-lookup"><span data-stu-id="9b8f2-128">Ensure that hello firewall on hello virtual machine has been configured tooallow hello traffic corresponding toohello protocol (in step 6) and private port.</span></span>
10. <span data-ttu-id="9b8f2-129">Kliknij przycisk **OK**.</span><span class="sxs-lookup"><span data-stu-id="9b8f2-129">Click **Ok**.</span></span>

<span data-ttu-id="9b8f2-130">nowy punkt końcowy Hello zostaną wyświetlone na powitania **punkty końcowe** strony.</span><span class="sxs-lookup"><span data-stu-id="9b8f2-130">hello new endpoint will be listed on hello **Endpoints** page.</span></span>

![Pomyślne utworzenie punktu końcowego](./media/virtual-machines-common-classic-setup-endpoints/endpointcreated.png)

## <a name="manage-hello-acl-on-an-endpoint"></a><span data-ttu-id="9b8f2-132">Zarządzanie hello listy ACL punktu końcowego</span><span class="sxs-lookup"><span data-stu-id="9b8f2-132">Manage hello ACL on an endpoint</span></span>
<span data-ttu-id="9b8f2-133">toodefine hello zestaw komputerów, które mogą przesyłać, hello listy ACL punktu końcowego można ograniczyć ruch ustalane na podstawie źródłowego adresu IP.</span><span class="sxs-lookup"><span data-stu-id="9b8f2-133">toodefine hello set of computers that can send traffic, hello ACL on an endpoint can restrict traffic based upon source IP address.</span></span> <span data-ttu-id="9b8f2-134">Wykonaj te kroki tooadd, zmodyfikować lub usunąć listy ACL punktu końcowego.</span><span class="sxs-lookup"><span data-stu-id="9b8f2-134">Follow these steps tooadd, modify, or remove an ACL on an endpoint.</span></span>

> [!NOTE]
> <span data-ttu-id="9b8f2-135">Jeśli hello punkt końcowy jest częścią zestawu o zrównoważonym obciążeniu, wszystkie wprowadzone zmiany listy ACL punktu końcowego są toohello tooall zastosowanych punktów końcowych w zestawie hello.</span><span class="sxs-lookup"><span data-stu-id="9b8f2-135">If hello endpoint is part of a load-balanced set, any changes you make toohello ACL on an endpoint are applied tooall endpoints in hello set.</span></span>
>
>

<span data-ttu-id="9b8f2-136">Jeśli hello maszyny wirtualnej znajduje się w sieci wirtualnej platformy Azure, zalecamy sieciowe grupy zabezpieczeń zamiast listy kontroli dostępu.</span><span class="sxs-lookup"><span data-stu-id="9b8f2-136">If hello virtual machine is in an Azure virtual network, we recommend network security groups instead of ACLs.</span></span> <span data-ttu-id="9b8f2-137">Aby uzyskać więcej informacji, zobacz [dotyczące grup zabezpieczeń sieci](../articles/virtual-network/virtual-networks-nsg.md).</span><span class="sxs-lookup"><span data-stu-id="9b8f2-137">For details, see [About network security groups](../articles/virtual-network/virtual-networks-nsg.md).</span></span>

1. <span data-ttu-id="9b8f2-138">Jeśli jeszcze tego nie zrobiono, zaloguj się toohello portalu Azure.</span><span class="sxs-lookup"><span data-stu-id="9b8f2-138">If you haven't already done so, sign in toohello Azure portal.</span></span>
2. <span data-ttu-id="9b8f2-139">Kliknij przycisk **maszyn wirtualnych**, a następnie kliknij nazwę hello hello maszyny wirtualnej, które mają tooconfigure.</span><span class="sxs-lookup"><span data-stu-id="9b8f2-139">Click **Virtual Machines**, and then click hello name of hello virtual machine that you want tooconfigure.</span></span>
3. <span data-ttu-id="9b8f2-140">Kliknij przycisk **Punkty końcowe**.</span><span class="sxs-lookup"><span data-stu-id="9b8f2-140">Click **Endpoints**.</span></span> <span data-ttu-id="9b8f2-141">Z listy hello wybierz odpowiednie punktu końcowego hello.</span><span class="sxs-lookup"><span data-stu-id="9b8f2-141">From hello list, select hello appropriate endpoint.</span></span> <span data-ttu-id="9b8f2-142">listy ACL Hello jest u dołu hello hello strony.</span><span class="sxs-lookup"><span data-stu-id="9b8f2-142">hello ACL list is at hello bottom of hello page.</span></span>

   ![Określ szczegóły list kontroli dostępu](./media/virtual-machines-common-classic-setup-endpoints/aclpreentry.png)

4. <span data-ttu-id="9b8f2-144">Użyj wierszy w tooadd listy hello, usuń lub Edytuj reguły dla listy ACL i ich kolejność.</span><span class="sxs-lookup"><span data-stu-id="9b8f2-144">Use rows in hello list tooadd, delete, or edit rules for an ACL and change their order.</span></span> <span data-ttu-id="9b8f2-145">Witaj **podsieci zdalnej** wartość jest zakres adresów IP dla ruchu przychodzącego z hello Internet hello toopermit używa modułu równoważenia obciążenia Azure lub odrzucające hello ruchu na podstawie jego adresu IP źródłowego.</span><span class="sxs-lookup"><span data-stu-id="9b8f2-145">hello **Remote Subnet** value is an IP address range for incoming traffic from hello Internet that hello Azure load balancer uses toopermit or deny hello traffic based on its source IP address.</span></span> <span data-ttu-id="9b8f2-146">Należy się toospecify hello zakres adresów IP w formacie CIDR, znanej także jako formacie prefiksu adresu.</span><span class="sxs-lookup"><span data-stu-id="9b8f2-146">Be sure toospecify hello IP address range in CIDR format, also known as address prefix format.</span></span> <span data-ttu-id="9b8f2-147">Na przykład `10.1.0.0/8`.</span><span class="sxs-lookup"><span data-stu-id="9b8f2-147">An example is `10.1.0.0/8`.</span></span>

 ![Nowy wpis listy kontroli dostępu](./media/virtual-machines-common-classic-setup-endpoints/newaclentry.png)


<span data-ttu-id="9b8f2-149">Można użyć tylko ruch tooallow reguły z określonych komputerów odpowiadającego tooyour komputerów na ruch do Internetu lub toodeny hello z zakresów adresów określone, znane.</span><span class="sxs-lookup"><span data-stu-id="9b8f2-149">You can use rules tooallow only traffic from specific computers corresponding tooyour computers on hello Internet or toodeny traffic from specific, known address ranges.</span></span>

<span data-ttu-id="9b8f2-150">Witaj reguły są sprawdzane w kolejności, zaczynając od pierwszej reguły hello i kończąc hello ostatnia reguła.</span><span class="sxs-lookup"><span data-stu-id="9b8f2-150">hello rules are evaluated in order starting with hello first rule and ending with hello last rule.</span></span> <span data-ttu-id="9b8f2-151">Oznacza to, że reguły powinna być wyświetlana z najmniej restrykcyjny toomost restrykcyjne.</span><span class="sxs-lookup"><span data-stu-id="9b8f2-151">This means that rules should be ordered from least restrictive toomost restrictive.</span></span> <span data-ttu-id="9b8f2-152">Aby uzyskać więcej informacji, zobacz [co to jest lista kontroli dostępu do sieci](../articles/virtual-network/virtual-networks-acl.md).</span><span class="sxs-lookup"><span data-stu-id="9b8f2-152">For examples and more information, see [What is a Network Access Control List](../articles/virtual-network/virtual-networks-acl.md).</span></span>
