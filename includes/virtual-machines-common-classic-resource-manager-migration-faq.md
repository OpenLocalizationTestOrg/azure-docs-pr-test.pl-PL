# <a name="frequently-asked-questions-about-classic-to-azure-resource-manager-migration"></a><span data-ttu-id="f5b93-101">Często zadawane pytania dotyczące migracji z modelu klasycznego do modelu opartego na usłudze Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="f5b93-101">Frequently asked questions about classic to Azure Resource Manager migration</span></span>

## <a name="does-this-migration-plan-affect-any-of-my-existing-services-or-applications-that-run-on-azure-virtual-machines"></a><span data-ttu-id="f5b93-102">Czy ten plan migracji wpływa na moje istniejące usługi lub aplikacje uruchomione na maszynach wirtualnych platformy Azure?</span><span class="sxs-lookup"><span data-stu-id="f5b93-102">Does this migration plan affect any of my existing services or applications that run on Azure virtual machines?</span></span> 

<span data-ttu-id="f5b93-103">Nie.</span><span class="sxs-lookup"><span data-stu-id="f5b93-103">No.</span></span> <span data-ttu-id="f5b93-104">Maszyny wirtualne (klasyczne) to w pełni obsługiwane usługi w ramach ogólnej dostępności.</span><span class="sxs-lookup"><span data-stu-id="f5b93-104">The VMs (classic) are fully supported services in general availability.</span></span> <span data-ttu-id="f5b93-105">Możesz nadal używać tych zasobów do zwiększenia Twojej obecności na platformie Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="f5b93-105">You can continue to use these resources to expand your footprint on Microsoft Azure.</span></span>

## <a name="what-happens-to-my-vms-if-i-dont-plan-on-migrating-in-the-near-future"></a><span data-ttu-id="f5b93-106">Co stanie się z moimi maszynami wirtualnymi, jeśli nie planuję migracji w najbliższej przyszłości?</span><span class="sxs-lookup"><span data-stu-id="f5b93-106">What happens to my VMs if I don’t plan on migrating in the near future?</span></span> 

<span data-ttu-id="f5b93-107">Istniejące klasyczne interfejsy API i model zasobów nie są przestarzałe.</span><span class="sxs-lookup"><span data-stu-id="f5b93-107">We are not deprecating the existing classic APIs and resource model.</span></span> <span data-ttu-id="f5b93-108">Chcemy ułatwić migrację, biorąc pod uwagę zaawansowane funkcje, które są dostępne w modelu wdrażania usługi Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="f5b93-108">We want to make migration easy, considering the advanced features that are available in the Resource Manager deployment model.</span></span> <span data-ttu-id="f5b93-109">Zdecydowanie zalecamy przejrzenie [niektórych udoskonaleń](../articles/azure-resource-manager/resource-manager-deployment-model.md), które są częścią infrastruktury IaaS w ramach usługi Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="f5b93-109">We highly recommend that you review [some of the advancements](../articles/azure-resource-manager/resource-manager-deployment-model.md) that are part of IaaS under Resource Manager.</span></span>

## <a name="what-does-this-migration-plan-mean-for-my-existing-tooling"></a><span data-ttu-id="f5b93-110">Co oznacza ten plan migracji dla moich istniejących narzędzi?</span><span class="sxs-lookup"><span data-stu-id="f5b93-110">What does this migration plan mean for my existing tooling?</span></span> 

<span data-ttu-id="f5b93-111">Aktualizacja narzędzi do modelu wdrażania usługi Resource Manager to jedna z najważniejszych zmian, które należy uwzględnić w planach migracji.</span><span class="sxs-lookup"><span data-stu-id="f5b93-111">Updating your tooling to the Resource Manager deployment model is one of the most important changes that you have to account for in your migration plans.</span></span>

## <a name="how-long-will-the-management-plane-downtime-be"></a><span data-ttu-id="f5b93-112">Jak długo będzie trwał przestój płaszczyzny zarządzania?</span><span class="sxs-lookup"><span data-stu-id="f5b93-112">How long will the management-plane downtime be?</span></span> 

<span data-ttu-id="f5b93-113">To zależy od liczby migrowanych zasobów.</span><span class="sxs-lookup"><span data-stu-id="f5b93-113">It depends on the number of resources that are being migrated.</span></span> <span data-ttu-id="f5b93-114">W przypadku mniejszych wdrożeń (kilkadziesiąt maszyn wirtualnych) cała migracja powinna trwać krócej niż godzinę.</span><span class="sxs-lookup"><span data-stu-id="f5b93-114">For smaller deployments (a few tens of VMs), the whole migration should take less than an hour.</span></span> <span data-ttu-id="f5b93-115">W przypadku wdrożeń na dużą skalę (setki maszyn wirtualnych) migracja może zająć kilka godzin.</span><span class="sxs-lookup"><span data-stu-id="f5b93-115">For large-scale deployments (hundreds of VMs), the migration can take a few hours.</span></span>

## <a name="can-i-roll-back-after-my-migrating-resources-are-committed-in-resource-manager"></a><span data-ttu-id="f5b93-116">Czy mogę wykonać wycofanie po zatwierdzeniu migrowanych zasobów w usłudze Resource Manager?</span><span class="sxs-lookup"><span data-stu-id="f5b93-116">Can I roll back after my migrating resources are committed in Resource Manager?</span></span> 

<span data-ttu-id="f5b93-117">Możesz przerwać migrację, o ile zasoby są w stanie przygotowania.</span><span class="sxs-lookup"><span data-stu-id="f5b93-117">You can abort your migration as long as the resources are in the prepared state.</span></span> <span data-ttu-id="f5b93-118">Wycofanie nie jest obsługiwane po pomyślnym zmigrowaniu zasobów za pomocą operacji zatwierdzenia.</span><span class="sxs-lookup"><span data-stu-id="f5b93-118">Rollback is not supported after the resources have been successfully migrated through the commit operation.</span></span>

## <a name="can-i-roll-back-my-migration-if-the-commit-operation-fails"></a><span data-ttu-id="f5b93-119">Czy mogę wycofać migrację w przypadku niepowodzenia operacji zatwierdzenia?</span><span class="sxs-lookup"><span data-stu-id="f5b93-119">Can I roll back my migration if the commit operation fails?</span></span> 

<span data-ttu-id="f5b93-120">Nie można przerwać migracji, jeśli operacja zatwierdzenia nie powiedzie się.</span><span class="sxs-lookup"><span data-stu-id="f5b93-120">You cannot abort migration if the commit operation fails.</span></span> <span data-ttu-id="f5b93-121">Wszystkie operacje migracji, w tym operacja zatwierdzenia, są idempotentne.</span><span class="sxs-lookup"><span data-stu-id="f5b93-121">All migration operations, including the commit operation, are idempotent.</span></span> <span data-ttu-id="f5b93-122">Dlatego zalecamy podjęcie ponownej próby wykonania operacji po chwili.</span><span class="sxs-lookup"><span data-stu-id="f5b93-122">So we recommend that you retry the operation after a short time.</span></span> <span data-ttu-id="f5b93-123">Jeśli błąd będzie występować nadal, utwórz bilet pomocy technicznej lub wpis z tagiem ClassicIaaSMigration na naszym [forum maszyn wirtualnych](https://social.msdn.microsoft.com/Forums/azure/home?forum=WAVirtualMachinesforWindows).</span><span class="sxs-lookup"><span data-stu-id="f5b93-123">If you still face an error, create a support ticket or create a forum post with the ClassicIaaSMigration tag on our [VM forum](https://social.msdn.microsoft.com/Forums/azure/home?forum=WAVirtualMachinesforWindows).</span></span>

## <a name="do-i-have-to-buy-another-express-route-circuit-if-i-have-to-use-iaas-under-resource-manager"></a><span data-ttu-id="f5b93-124">Czy muszę kupić kolejny obwód usługi ExpressRoute, jeśli muszę używać infrastruktury IaaS w ramach usługi Resource Manager?</span><span class="sxs-lookup"><span data-stu-id="f5b93-124">Do I have to buy another express route circuit if I have to use IaaS under Resource Manager?</span></span> 

<span data-ttu-id="f5b93-125">Nie.</span><span class="sxs-lookup"><span data-stu-id="f5b93-125">No.</span></span> <span data-ttu-id="f5b93-126">Ostatnio umożliwiliśmy [przenoszenie obwodów usługi ExpressRoute z klasycznego modelu wdrażania do modelu wdrażania usługi Resource Manager](../articles/expressroute/expressroute-move.md).</span><span class="sxs-lookup"><span data-stu-id="f5b93-126">We recently enabled [moving ExpressRoute circuits from the classic to the Resource Manager deployment model](../articles/expressroute/expressroute-move.md).</span></span> <span data-ttu-id="f5b93-127">Nie musisz kupować nowego obwodu usługi ExpressRoute, jeśli masz już taki.</span><span class="sxs-lookup"><span data-stu-id="f5b93-127">You don’t have to buy a new ExpressRoute circuit if you already have one.</span></span>

## <a name="what-if-i-had-configured-role-based-access-control-policies-for-my-classic-iaas-resources"></a><span data-ttu-id="f5b93-128">Co stanie się, jeśli mam skonfigurowane zasady kontroli dostępu opartej na rolach dla moich klasycznych zasobów IaaS?</span><span class="sxs-lookup"><span data-stu-id="f5b93-128">What if I had configured Role-Based Access Control policies for my classic IaaS resources?</span></span> 

<span data-ttu-id="f5b93-129">Podczas migracji zasoby są przekształcane z klasycznych na zasoby usługi Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="f5b93-129">During migration, the resources transform from classic to Resource Manager.</span></span> <span data-ttu-id="f5b93-130">Dlatego zalecamy zaplanowanie aktualizacji zasad RBAC, które należy wykonać po migracji.</span><span class="sxs-lookup"><span data-stu-id="f5b93-130">So we recommend that you plan the RBAC policy updates that need to happen after migration.</span></span>

## <a name="i-backed-up-my-classic-vms-in-a-backup-vault-can-i-migrate-my-vms-from-classic-mode-to-resource-manager-mode-and-protect-them-in-a-recovery-services-vault"></a><span data-ttu-id="f5b93-131">Mam utworzone kopie zapasowe moich klasycznych maszyn wirtualnych w magazynie usługi Backup.</span><span class="sxs-lookup"><span data-stu-id="f5b93-131">I backed up my classic VMs in a Backup vault.</span></span> <span data-ttu-id="f5b93-132">Czy mogę migrować maszyny wirtualne z trybu klasycznego do trybu usługi Resource Manager i chronić je w magazynie usługi Recovery Services?</span><span class="sxs-lookup"><span data-stu-id="f5b93-132">Can I migrate my VMs from classic mode to Resource Manager mode and protect them in a Recovery Services vault?</span></span> 

<span data-ttu-id="f5b93-133">Punkty odzyskiwania klasycznych maszyn wirtualnych w magazynie usługi Backup nie są migrowane automatycznie do magazynu usługi Recovery Services podczas przenoszenia maszyn wirtualnych z trybu klasycznego do trybu usługi Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="f5b93-133">Classic VM recovery points in a backup vault don't automatically migrate to a Recovery Services vault when you move the VM from classic to Resource Manager mode.</span></span> <span data-ttu-id="f5b93-134">Wykonaj te kroki, aby przenieść kopie zapasowe maszyn wirtualnych:</span><span class="sxs-lookup"><span data-stu-id="f5b93-134">Follow these steps to transfer your VM backups:</span></span>

1. <span data-ttu-id="f5b93-135">W magazynie usługi Backup przejdź do karty **Elementy chronione** i wybierz maszynę wirtualną.</span><span class="sxs-lookup"><span data-stu-id="f5b93-135">In the Backup vault, go to the **Protected Items** tab and select the VM.</span></span> <span data-ttu-id="f5b93-136">Kliknij pozycję [Zatrzymaj ochronę](../articles/backup/backup-azure-manage-vms-classic.md#stop-protecting-virtual-machines).</span><span class="sxs-lookup"><span data-stu-id="f5b93-136">Click [Stop Protection](../articles/backup/backup-azure-manage-vms-classic.md#stop-protecting-virtual-machines).</span></span> <span data-ttu-id="f5b93-137">Pozostaw opcję *Usuń powiązane dane kopii zapasowych* **niezaznaczoną**.</span><span class="sxs-lookup"><span data-stu-id="f5b93-137">Leave *Delete associated backup data* option **unchecked**.</span></span>
2. <span data-ttu-id="f5b93-138">Usuń rozszerzenie kopii zapasowej/migawki z maszyny wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="f5b93-138">Delete the backup/snapshot extension from the VM.</span></span>
3. <span data-ttu-id="f5b93-139">Przeprowadź migrację maszyny wirtualnej z trybu klasycznego do trybu usługi Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="f5b93-139">Migrate the virtual machine from classic mode to Resource Manager mode.</span></span> <span data-ttu-id="f5b93-140">Upewnij się, że informacje o magazynie i sieci odpowiadające maszynie wirtualnej również zostały zmigrowane do trybu usługi Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="f5b93-140">Make sure the storage and network information corresponding to the virtual machine is also migrated to Resource Manager mode.</span></span>
4. <span data-ttu-id="f5b93-141">Utwórz magazyn usługi Recovery Services i skonfiguruj kopię zapasową w zmigrowanej maszynie wirtualnej przy użyciu akcji **Kopia zapasowa** w górnej części pulpitu nawigacyjnego magazynu.</span><span class="sxs-lookup"><span data-stu-id="f5b93-141">Create a Recovery Services vault and configure backup on the migrated virtual machine using **Backup** action on top of vault dashboard.</span></span> <span data-ttu-id="f5b93-142">Aby uzyskać szczegółowe informacje na temat tworzenia kopii zapasowych maszyn wirtualnych w magazynie usługi Recovery Services, zobacz artykuł [Ochrona maszyn wirtualnych przy użyciu magazynu usługi Recovery Services](../articles/backup/backup-azure-vms-first-look-arm.md).</span><span class="sxs-lookup"><span data-stu-id="f5b93-142">For detailed information on backing up a VM to a Recovery Services vault, see the article, [Protect Azure VMs with a Recovery Services vault](../articles/backup/backup-azure-vms-first-look-arm.md).</span></span>

## <a name="can-i-validate-my-subscription-or-resources-to-see-if-theyre-capable-of-migration"></a><span data-ttu-id="f5b93-143">Czy mogę zwalidować moją subskrypcję lub moje zasoby, aby sprawdzić, czy można je zmigrować?</span><span class="sxs-lookup"><span data-stu-id="f5b93-143">Can I validate my subscription or resources to see if they're capable of migration?</span></span> 

<span data-ttu-id="f5b93-144">Tak.</span><span class="sxs-lookup"><span data-stu-id="f5b93-144">Yes.</span></span> <span data-ttu-id="f5b93-145">W przypadku opcji migracji obsługiwanej przez platformę pierwszym krokiem przygotowania do migracji jest zwalidowanie zasobów pod kątem możliwości ich migracji.</span><span class="sxs-lookup"><span data-stu-id="f5b93-145">In the platform-supported migration option, the first step in preparing for migration is to validate that the resources are capable of migration.</span></span> <span data-ttu-id="f5b93-146">Jeśli operacja walidacji nie powiedzie się, zostaną zgłoszone komunikaty dla wszystkich przyczyn uniemożliwiających wykonanie migracji.</span><span class="sxs-lookup"><span data-stu-id="f5b93-146">In case the validate operation fails, you receive messages for all the reasons the migration cannot be completed.</span></span>

## <a name="what-happens-if-i-run-into-a-quota-error-while-preparing-the-iaas-resources-for-migration"></a><span data-ttu-id="f5b93-147">Co stanie się, jeśli wystąpi błąd limitu przydziału podczas przygotowywania zasobów IaaS do migracji?</span><span class="sxs-lookup"><span data-stu-id="f5b93-147">What happens if I run into a quota error while preparing the IaaS resources for migration?</span></span> 

<span data-ttu-id="f5b93-148">Zalecamy przerwanie migracji, a następnie zgłoszenie żądania pomocy technicznej w celu zwiększenia limitów przydziału w regionie, w którym są migrowane maszyny wirtualne.</span><span class="sxs-lookup"><span data-stu-id="f5b93-148">We recommend that you abort your migration and then log a support request to increase the quotas in the region where you are migrating the VMs.</span></span> <span data-ttu-id="f5b93-149">Po zatwierdzeniu żądania dotyczącego limitu przydziału możesz ponownie rozpocząć wykonywanie kroków migracji.</span><span class="sxs-lookup"><span data-stu-id="f5b93-149">After the quota request is approved, you can start executing the migration steps again.</span></span>

## <a name="how-do-i-report-an-issue"></a><span data-ttu-id="f5b93-150">Jak mogę zgłosić problem?</span><span class="sxs-lookup"><span data-stu-id="f5b93-150">How do I report an issue?</span></span> 

<span data-ttu-id="f5b93-151">Problemy i pytania dotyczące migracji można publikować na naszym [forum maszyn wirtualnych](https://social.msdn.microsoft.com/Forums/azure/home?forum=WAVirtualMachinesforWindows), używając słowa kluczowego ClassicIaaSMigration.</span><span class="sxs-lookup"><span data-stu-id="f5b93-151">Post your issues and questions about migration to our [VM forum](https://social.msdn.microsoft.com/Forums/azure/home?forum=WAVirtualMachinesforWindows), with the keyword ClassicIaaSMigration.</span></span> <span data-ttu-id="f5b93-152">Zalecamy publikowanie wszystkich pytań na tym forum.</span><span class="sxs-lookup"><span data-stu-id="f5b93-152">We recommend posting all your questions on this forum.</span></span> <span data-ttu-id="f5b93-153">Jeśli masz umowę pomocy technicznej, możesz także zgłosić bilet pomocy technicznej.</span><span class="sxs-lookup"><span data-stu-id="f5b93-153">If you have a support contract, you're welcome to log a support ticket as well.</span></span>

## <a name="what-if-i-dont-like-the-names-of-the-resources-that-the-platform-chose-during-migration"></a><span data-ttu-id="f5b93-154">Co zrobić, jeśli nie podobają mi się nazwy zasobów wybrane przez platformę podczas migracji?</span><span class="sxs-lookup"><span data-stu-id="f5b93-154">What if I don't like the names of the resources that the platform chose during migration?</span></span> 

<span data-ttu-id="f5b93-155">Wszystkie zasoby z nazwami jawnie podanymi w klasycznym modelu wdrażania zostaną zachowane podczas migracji.</span><span class="sxs-lookup"><span data-stu-id="f5b93-155">All the resources that you explicitly provide names for in the classic deployment model are retained during migration.</span></span> <span data-ttu-id="f5b93-156">W niektórych przypadkach zostaną utworzone nowe zasoby.</span><span class="sxs-lookup"><span data-stu-id="f5b93-156">In some cases, new resources are created.</span></span> <span data-ttu-id="f5b93-157">Na przykład dla każdej maszyny wirtualnej zostanie utworzony interfejs sieciowy.</span><span class="sxs-lookup"><span data-stu-id="f5b93-157">For example: a network interface is created for every VM.</span></span> <span data-ttu-id="f5b93-158">Obecnie nie obsługujemy możliwości kontrolowania nazw nowych zasobów tworzonych podczas migracji.</span><span class="sxs-lookup"><span data-stu-id="f5b93-158">We currently don't support the ability to control the names of these new resources created during migration.</span></span> <span data-ttu-id="f5b93-159">Zagłosuj na tę funkcję na [forum opinii platformy Azure](http://feedback.azure.com).</span><span class="sxs-lookup"><span data-stu-id="f5b93-159">Log your votes for this feature on the [Azure feedback forum](http://feedback.azure.com).</span></span>

## <a name="can-i-migrate-expressroute-circuits-used-across-subscriptions-with-authorization-links"></a><span data-ttu-id="f5b93-160">Czy mogę zmigrować obwody usługi ExpressRoute używane w subskrypcjach wraz z łączami autoryzacji?</span><span class="sxs-lookup"><span data-stu-id="f5b93-160">Can I migrate ExpressRoute circuits used across subscriptions with authorization links?</span></span> 

<span data-ttu-id="f5b93-161">Obwodów usługi ExpressRoute używających łącz autoryzacji między subskrypcjami nie można zmigrować automatycznie bez przestoju.</span><span class="sxs-lookup"><span data-stu-id="f5b93-161">ExpressRoute circuits which use cross-subscription authorization links cannot be migrated automatically without downtime.</span></span> <span data-ttu-id="f5b93-162">Udostępniamy przewodnik z opisem wykonywania takiej migracji ręcznie.</span><span class="sxs-lookup"><span data-stu-id="f5b93-162">We have guidance on how these can be migrated using manual steps.</span></span> <span data-ttu-id="f5b93-163">Kroki i więcej informacji zawiera temat [Migrate ExpressRoute circuits and associated virtual networks from the classic to the Resource Manager deployment model](../articles/expressroute/expressroute-migration-classic-resource-manager.md) (Migrowanie obwodów usługi ExpressRoute i skojarzonych sieci wirtualnych z modelu wdrażania klasycznego do modelu usługi Resource Manager).</span><span class="sxs-lookup"><span data-stu-id="f5b93-163">See [Migrate ExpressRoute circuits and associated virtual networks from the classic to the Resource Manager deployment model](../articles/expressroute/expressroute-migration-classic-resource-manager.md) for steps and more information.</span></span>

## <a name="i-got-a-message-vm-is-reporting-the-overall-agent-status-as-not-ready-hence-the-vm-cannot-be-migrated-ensure-that-the-vm-agent-is-reporting-overall-agent-status-as-ready-or-vm-contains-extension-whose-status-is-not-being-reported-from-the-vm-hence-this-vm-cannot-be-migrated-"></a><span data-ttu-id="f5b93-164">Został zgłoszony komunikat *„VM is reporting the overall agent status as Not Ready. Hence, the VM cannot be migrated. Ensure that the VM Agent is reporting overall agent status as Ready”* (Maszyna wirtualna zgłasza ogólny stan agenta jako Niegotowy. Dlatego nie można zmigrować maszyny wirtualnej. Upewnij się, że ogólny stan agenta maszyny wirtualnej raportowany przez niego to Gotowy) lub *„VM contains Extension whose Status is not being reported from the VM.</span><span class="sxs-lookup"><span data-stu-id="f5b93-164">I got a message *"VM is reporting the overall agent status as Not Ready. Hence, the VM cannot be migrated. Ensure that the VM Agent is reporting overall agent status as Ready"* or *"VM contains Extension whose Status is not being reported from the VM.</span></span> <span data-ttu-id="f5b93-165">Hence, the VM cannot be migrated”. (Maszyna wirtualna zawiera rozszerzenie, którego stan nie jest raportowany z maszyny wirtualnej. Dlatego nie można zmigrować tej maszyny wirtualnej).</span><span class="sxs-lookup"><span data-stu-id="f5b93-165">Hence, this VM cannot be migrated."</span></span> *

<span data-ttu-id="f5b93-166">Ten komunikat jest zgłaszany, jeśli maszyna wirtualna nie ma połączenia wychodzącego do Internetu.</span><span class="sxs-lookup"><span data-stu-id="f5b93-166">This message is received when the VM does not have outbound connectivity to the internet.</span></span> <span data-ttu-id="f5b93-167">Agent maszyny wirtualnej używa połączenia wychodzącego, aby uzyskać dostęp do konta usługi Azure Storage na potrzeby aktualizacji stanu agenta co pięć minut.</span><span class="sxs-lookup"><span data-stu-id="f5b93-167">The VM agent uses outbound connectivity to reach the Azure storage account for updating the agent status every five minutes.</span></span>
